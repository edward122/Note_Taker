var FB=Object.defineProperty;var BB=(t,e,n)=>e in t?FB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var VB=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Zd=(t,e,n)=>(BB(t,typeof e!="symbol"?e+"":e,n),n);var cRe=VB((Di,Li)=>{function UB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Aa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function op(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function jB(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var j2={exports:{}},lv={},z2={exports:{}},It={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp=Symbol.for("react.element"),zB=Symbol.for("react.portal"),WB=Symbol.for("react.fragment"),HB=Symbol.for("react.strict_mode"),GB=Symbol.for("react.profiler"),qB=Symbol.for("react.provider"),KB=Symbol.for("react.context"),YB=Symbol.for("react.forward_ref"),XB=Symbol.for("react.suspense"),QB=Symbol.for("react.memo"),JB=Symbol.for("react.lazy"),ZT=Symbol.iterator;function ZB(t){return t===null||typeof t!="object"?null:(t=ZT&&t[ZT]||t["@@iterator"],typeof t=="function"?t:null)}var W2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H2=Object.assign,G2={};function hd(t,e,n){this.props=t,this.context=e,this.refs=G2,this.updater=n||W2}hd.prototype.isReactComponent={};hd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function q2(){}q2.prototype=hd.prototype;function h1(t,e,n){this.props=t,this.context=e,this.refs=G2,this.updater=n||W2}var p1=h1.prototype=new q2;p1.constructor=h1;H2(p1,hd.prototype);p1.isPureReactComponent=!0;var eI=Array.isArray,K2=Object.prototype.hasOwnProperty,g1={current:null},Y2={key:!0,ref:!0,__self:!0,__source:!0};function X2(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)K2.call(e,r)&&!Y2.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:sp,type:t,key:o,ref:s,props:i,_owner:g1.current}}function eV(t,e){return{$$typeof:sp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function m1(t){return typeof t=="object"&&t!==null&&t.$$typeof===sp}function tV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var tI=/\/+/g;function E_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tV(""+t.key):e.toString(36)}function nm(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case sp:case zB:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+E_(s,0):r,eI(i)?(n="",t!=null&&(n=t.replace(tI,"$&/")+"/"),nm(i,e,n,"",function(c){return c})):i!=null&&(m1(i)&&(i=eV(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(tI,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",eI(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+E_(o,a);s+=nm(o,e,n,l,i)}else if(l=ZB(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+E_(o,a++),s+=nm(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function cg(t,e,n){if(t==null)return t;var r=[],i=0;return nm(t,r,"","",function(o){return e.call(n,o,i++)}),r}function nV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zr={current:null},rm={transition:null},rV={ReactCurrentDispatcher:Zr,ReactCurrentBatchConfig:rm,ReactCurrentOwner:g1};It.Children={map:cg,forEach:function(t,e,n){cg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cg(t,function(){e++}),e},toArray:function(t){return cg(t,function(e){return e})||[]},only:function(t){if(!m1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};It.Component=hd;It.Fragment=WB;It.Profiler=GB;It.PureComponent=h1;It.StrictMode=HB;It.Suspense=XB;It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rV;It.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=H2({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=g1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)K2.call(e,l)&&!Y2.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:sp,type:t.type,key:i,ref:o,props:r,_owner:s}};It.createContext=function(t){return t={$$typeof:KB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qB,_context:t},t.Consumer=t};It.createElement=X2;It.createFactory=function(t){var e=X2.bind(null,t);return e.type=t,e};It.createRef=function(){return{current:null}};It.forwardRef=function(t){return{$$typeof:YB,render:t}};It.isValidElement=m1;It.lazy=function(t){return{$$typeof:JB,_payload:{_status:-1,_result:t},_init:nV}};It.memo=function(t,e){return{$$typeof:QB,type:t,compare:e===void 0?null:e}};It.startTransition=function(t){var e=rm.transition;rm.transition={};try{t()}finally{rm.transition=e}};It.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};It.useCallback=function(t,e){return Zr.current.useCallback(t,e)};It.useContext=function(t){return Zr.current.useContext(t)};It.useDebugValue=function(){};It.useDeferredValue=function(t){return Zr.current.useDeferredValue(t)};It.useEffect=function(t,e){return Zr.current.useEffect(t,e)};It.useId=function(){return Zr.current.useId()};It.useImperativeHandle=function(t,e,n){return Zr.current.useImperativeHandle(t,e,n)};It.useInsertionEffect=function(t,e){return Zr.current.useInsertionEffect(t,e)};It.useLayoutEffect=function(t,e){return Zr.current.useLayoutEffect(t,e)};It.useMemo=function(t,e){return Zr.current.useMemo(t,e)};It.useReducer=function(t,e,n){return Zr.current.useReducer(t,e,n)};It.useRef=function(t){return Zr.current.useRef(t)};It.useState=function(t){return Zr.current.useState(t)};It.useSyncExternalStore=function(t,e,n){return Zr.current.useSyncExternalStore(t,e,n)};It.useTransition=function(){return Zr.current.useTransition()};It.version="18.2.0";z2.exports=It;var E=z2.exports;const D=op(E),zb=UB({__proto__:null,default:D},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iV=E,oV=Symbol.for("react.element"),sV=Symbol.for("react.fragment"),aV=Object.prototype.hasOwnProperty,lV=iV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cV={key:!0,ref:!0,__self:!0,__source:!0};function Q2(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)aV.call(e,r)&&!cV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:oV,type:t,key:o,ref:s,props:i,_owner:lV.current}}lv.Fragment=sV;lv.jsx=Q2;lv.jsxs=Q2;j2.exports=lv;var O=j2.exports,Wb={},J2={exports:{}},Hi={},Z2={exports:{}},eN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,B){var W=U.length;U.push(B);e:for(;0<W;){var re=W-1>>>1,he=U[re];if(0<i(he,B))U[re]=B,U[W]=he,W=re;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var B=U[0],W=U.pop();if(W!==B){U[0]=W;e:for(var re=0,he=U.length,me=he>>>1;re<me;){var be=2*(re+1)-1,le=U[be],Oe=be+1,Ne=U[Oe];if(0>i(le,W))Oe<he&&0>i(Ne,le)?(U[re]=Ne,U[Oe]=W,re=Oe):(U[re]=le,U[be]=W,re=be);else if(Oe<he&&0>i(Ne,W))U[re]=Ne,U[Oe]=W,re=Oe;else break e}}return B}function i(U,B){var W=U.sortIndex-B.sortIndex;return W!==0?W:U.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,f=null,h=3,p=!1,m=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(U){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=U)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function S(U){if(b=!1,v(U),!m)if(n(l)!==null)m=!0,j(k);else{var B=n(c);B!==null&&Y(S,B.startTime-U)}}function k(U,B){m=!1,b&&(b=!1,_(T),T=-1),p=!0;var W=h;try{for(v(B),f=n(l);f!==null&&(!(f.expirationTime>B)||U&&!P());){var re=f.callback;if(typeof re=="function"){f.callback=null,h=f.priorityLevel;var he=re(f.expirationTime<=B);B=t.unstable_now(),typeof he=="function"?f.callback=he:f===n(l)&&r(l),v(B)}else r(l);f=n(l)}if(f!==null)var me=!0;else{var be=n(c);be!==null&&Y(S,be.startTime-B),me=!1}return me}finally{f=null,h=W,p=!1}}var $=!1,I=null,T=-1,R=5,y=-1;function P(){return!(t.unstable_now()-y<R)}function M(){if(I!==null){var U=t.unstable_now();y=U;var B=!0;try{B=I(!0,U)}finally{B?A():($=!1,I=null)}}else $=!1}var A;if(typeof w=="function")A=function(){w(M)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,K=z.port2;z.port1.onmessage=M,A=function(){K.postMessage(null)}}else A=function(){x(M,0)};function j(U){I=U,$||($=!0,A())}function Y(U,B){T=x(function(){U(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,j(k))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var W=h;h=B;try{return U()}finally{h=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,B){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var W=h;h=U;try{return B()}finally{h=W}},t.unstable_scheduleCallback=function(U,B,W){var re=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?re+W:re):W=re,U){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=W+he,U={id:u++,callback:B,priorityLevel:U,startTime:W,expirationTime:he,sortIndex:-1},W>re?(U.sortIndex=W,e(c,U),n(l)===null&&U===n(c)&&(b?(_(T),T=-1):b=!0,Y(S,W-re))):(U.sortIndex=he,e(l,U),m||p||(m=!0,j(k))),U},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(U){var B=h;return function(){var W=h;h=B;try{return U.apply(this,arguments)}finally{h=W}}}})(eN);Z2.exports=eN;var uV=Z2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tN=E,ji=uV;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nN=new Set,mh={};function uc(t,e){Bu(t,e),Bu(t+"Capture",e)}function Bu(t,e){for(mh[t]=e,t=0;t<e.length;t++)nN.add(e[t])}var zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hb=Object.prototype.hasOwnProperty,dV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nI={},rI={};function fV(t){return Hb.call(rI,t)?!0:Hb.call(nI,t)?!1:dV.test(t)?rI[t]=!0:(nI[t]=!0,!1)}function hV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pV(t,e,n,r){if(e===null||typeof e>"u"||hV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ei(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Cr[t]=new ei(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Cr[e]=new ei(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Cr[t]=new ei(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Cr[t]=new ei(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Cr[t]=new ei(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Cr[t]=new ei(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Cr[t]=new ei(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Cr[t]=new ei(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Cr[t]=new ei(t,5,!1,t.toLowerCase(),null,!1,!1)});var y1=/[\-:]([a-z])/g;function v1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(y1,v1);Cr[e]=new ei(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(y1,v1);Cr[e]=new ei(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(y1,v1);Cr[e]=new ei(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Cr[t]=new ei(t,1,!1,t.toLowerCase(),null,!1,!1)});Cr.xlinkHref=new ei("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Cr[t]=new ei(t,1,!1,t.toLowerCase(),null,!0,!0)});function _1(t,e,n,r){var i=Cr.hasOwnProperty(e)?Cr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pV(e,n,i,r)&&(n=null),r||i===null?fV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var sa=tN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ug=Symbol.for("react.element"),lu=Symbol.for("react.portal"),cu=Symbol.for("react.fragment"),b1=Symbol.for("react.strict_mode"),Gb=Symbol.for("react.profiler"),rN=Symbol.for("react.provider"),iN=Symbol.for("react.context"),w1=Symbol.for("react.forward_ref"),qb=Symbol.for("react.suspense"),Kb=Symbol.for("react.suspense_list"),E1=Symbol.for("react.memo"),ba=Symbol.for("react.lazy"),oN=Symbol.for("react.offscreen"),iI=Symbol.iterator;function ef(t){return t===null||typeof t!="object"?null:(t=iI&&t[iI]||t["@@iterator"],typeof t=="function"?t:null)}var In=Object.assign,x_;function If(t){if(x_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);x_=e&&e[1]||""}return`
`+x_+t}var S_=!1;function C_(t,e){if(!t||S_)return"";S_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{S_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?If(t):""}function gV(t){switch(t.tag){case 5:return If(t.type);case 16:return If("Lazy");case 13:return If("Suspense");case 19:return If("SuspenseList");case 0:case 2:case 15:return t=C_(t.type,!1),t;case 11:return t=C_(t.type.render,!1),t;case 1:return t=C_(t.type,!0),t;default:return""}}function Yb(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cu:return"Fragment";case lu:return"Portal";case Gb:return"Profiler";case b1:return"StrictMode";case qb:return"Suspense";case Kb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case iN:return(t.displayName||"Context")+".Consumer";case rN:return(t._context.displayName||"Context")+".Provider";case w1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case E1:return e=t.displayName||null,e!==null?e:Yb(t.type)||"Memo";case ba:e=t._payload,t=t._init;try{return Yb(t(e))}catch{}}return null}function mV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yb(e);case 8:return e===b1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yV(t){var e=sN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dg(t){t._valueTracker||(t._valueTracker=yV(t))}function aN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $m(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xb(t,e){var n=e.checked;return In({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function oI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lN(t,e){e=e.checked,e!=null&&_1(t,"checked",e,!1)}function Qb(t,e){lN(t,e);var n=Xa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jb(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jb(t,e.type,Xa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jb(t,e,n){(e!=="number"||$m(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Rf=Array.isArray;function Eu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Zb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return In({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function aI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ie(92));if(Rf(n)){if(1<n.length)throw Error(ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xa(n)}}function cN(t,e){var n=Xa(e.value),r=Xa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function lI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ew(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fg,dN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fg=fg||document.createElement("div"),fg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vV=["Webkit","ms","Moz","O"];Object.keys(zf).forEach(function(t){vV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zf[e]=zf[t]})});function fN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zf.hasOwnProperty(t)&&zf[t]?(""+e).trim():e+"px"}function hN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var _V=In({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tw(t,e){if(e){if(_V[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function nw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rw=null;function x1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var iw=null,xu=null,Su=null;function cI(t){if(t=cp(t)){if(typeof iw!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=hv(e),iw(t.stateNode,t.type,e))}}function pN(t){xu?Su?Su.push(t):Su=[t]:xu=t}function gN(){if(xu){var t=xu,e=Su;if(Su=xu=null,cI(t),e)for(t=0;t<e.length;t++)cI(e[t])}}function mN(t,e){return t(e)}function yN(){}var T_=!1;function vN(t,e,n){if(T_)return t(e,n);T_=!0;try{return mN(t,e,n)}finally{T_=!1,(xu!==null||Su!==null)&&(yN(),gN())}}function vh(t,e){var n=t.stateNode;if(n===null)return null;var r=hv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ie(231,e,typeof n));return n}var ow=!1;if(zs)try{var tf={};Object.defineProperty(tf,"passive",{get:function(){ow=!0}}),window.addEventListener("test",tf,tf),window.removeEventListener("test",tf,tf)}catch{ow=!1}function bV(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Wf=!1,Mm=null,Dm=!1,sw=null,wV={onError:function(t){Wf=!0,Mm=t}};function EV(t,e,n,r,i,o,s,a,l){Wf=!1,Mm=null,bV.apply(wV,arguments)}function xV(t,e,n,r,i,o,s,a,l){if(EV.apply(this,arguments),Wf){if(Wf){var c=Mm;Wf=!1,Mm=null}else throw Error(ie(198));Dm||(Dm=!0,sw=c)}}function dc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _N(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uI(t){if(dc(t)!==t)throw Error(ie(188))}function SV(t){var e=t.alternate;if(!e){if(e=dc(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return uI(i),t;if(o===r)return uI(i),e;o=o.sibling}throw Error(ie(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?t:e}function bN(t){return t=SV(t),t!==null?wN(t):null}function wN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wN(t);if(e!==null)return e;t=t.sibling}return null}var EN=ji.unstable_scheduleCallback,dI=ji.unstable_cancelCallback,CV=ji.unstable_shouldYield,TV=ji.unstable_requestPaint,Un=ji.unstable_now,IV=ji.unstable_getCurrentPriorityLevel,S1=ji.unstable_ImmediatePriority,xN=ji.unstable_UserBlockingPriority,Lm=ji.unstable_NormalPriority,RV=ji.unstable_LowPriority,SN=ji.unstable_IdlePriority,cv=null,is=null;function PV(t){if(is&&typeof is.onCommitFiberRoot=="function")try{is.onCommitFiberRoot(cv,t,void 0,(t.current.flags&128)===128)}catch{}}var Do=Math.clz32?Math.clz32:OV,AV=Math.log,kV=Math.LN2;function OV(t){return t>>>=0,t===0?32:31-(AV(t)/kV|0)|0}var hg=64,pg=4194304;function Pf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Pf(a):(o&=s,o!==0&&(r=Pf(o)))}else s=n&~i,s!==0?r=Pf(s):o!==0&&(r=Pf(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Do(e),i=1<<n,r|=t[n],e&=~i;return r}function NV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $V(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Do(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=NV(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function aw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function CN(){var t=hg;return hg<<=1,!(hg&4194240)&&(hg=64),t}function I_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ap(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Do(e),t[e]=n}function MV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Do(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function C1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Do(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ht=0;function TN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var IN,T1,RN,PN,AN,lw=!1,gg=[],Ma=null,Da=null,La=null,_h=new Map,bh=new Map,Ea=[],DV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fI(t,e){switch(t){case"focusin":case"focusout":Ma=null;break;case"dragenter":case"dragleave":Da=null;break;case"mouseover":case"mouseout":La=null;break;case"pointerover":case"pointerout":_h.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bh.delete(e.pointerId)}}function nf(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=cp(e),e!==null&&T1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function LV(t,e,n,r,i){switch(e){case"focusin":return Ma=nf(Ma,t,e,n,r,i),!0;case"dragenter":return Da=nf(Da,t,e,n,r,i),!0;case"mouseover":return La=nf(La,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return _h.set(o,nf(_h.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,bh.set(o,nf(bh.get(o)||null,t,e,n,r,i)),!0}return!1}function kN(t){var e=Nl(t.target);if(e!==null){var n=dc(e);if(n!==null){if(e=n.tag,e===13){if(e=_N(n),e!==null){t.blockedOn=e,AN(t.priority,function(){RN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function im(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);rw=r,n.target.dispatchEvent(r),rw=null}else return e=cp(n),e!==null&&T1(e),t.blockedOn=n,!1;e.shift()}return!0}function hI(t,e,n){im(t)&&n.delete(e)}function FV(){lw=!1,Ma!==null&&im(Ma)&&(Ma=null),Da!==null&&im(Da)&&(Da=null),La!==null&&im(La)&&(La=null),_h.forEach(hI),bh.forEach(hI)}function rf(t,e){t.blockedOn===e&&(t.blockedOn=null,lw||(lw=!0,ji.unstable_scheduleCallback(ji.unstable_NormalPriority,FV)))}function wh(t){function e(i){return rf(i,t)}if(0<gg.length){rf(gg[0],t);for(var n=1;n<gg.length;n++){var r=gg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ma!==null&&rf(Ma,t),Da!==null&&rf(Da,t),La!==null&&rf(La,t),_h.forEach(e),bh.forEach(e),n=0;n<Ea.length;n++)r=Ea[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ea.length&&(n=Ea[0],n.blockedOn===null);)kN(n),n.blockedOn===null&&Ea.shift()}var Cu=sa.ReactCurrentBatchConfig,Bm=!0;function BV(t,e,n,r){var i=Ht,o=Cu.transition;Cu.transition=null;try{Ht=1,I1(t,e,n,r)}finally{Ht=i,Cu.transition=o}}function VV(t,e,n,r){var i=Ht,o=Cu.transition;Cu.transition=null;try{Ht=4,I1(t,e,n,r)}finally{Ht=i,Cu.transition=o}}function I1(t,e,n,r){if(Bm){var i=cw(t,e,n,r);if(i===null)L_(t,e,r,Vm,n),fI(t,r);else if(LV(i,t,e,n,r))r.stopPropagation();else if(fI(t,r),e&4&&-1<DV.indexOf(t)){for(;i!==null;){var o=cp(i);if(o!==null&&IN(o),o=cw(t,e,n,r),o===null&&L_(t,e,r,Vm,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else L_(t,e,r,null,n)}}var Vm=null;function cw(t,e,n,r){if(Vm=null,t=x1(r),t=Nl(t),t!==null)if(e=dc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_N(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vm=t,null}function ON(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IV()){case S1:return 1;case xN:return 4;case Lm:case RV:return 16;case SN:return 536870912;default:return 16}default:return 16}}var ka=null,R1=null,om=null;function NN(){if(om)return om;var t,e=R1,n=e.length,r,i="value"in ka?ka.value:ka.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return om=i.slice(t,1<r?1-r:void 0)}function sm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mg(){return!0}function pI(){return!1}function Gi(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?mg:pI,this.isPropagationStopped=pI,this}return In(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mg)},persist:function(){},isPersistent:mg}),e}var pd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},P1=Gi(pd),lp=In({},pd,{view:0,detail:0}),UV=Gi(lp),R_,P_,of,uv=In({},lp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:A1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==of&&(of&&t.type==="mousemove"?(R_=t.screenX-of.screenX,P_=t.screenY-of.screenY):P_=R_=0,of=t),R_)},movementY:function(t){return"movementY"in t?t.movementY:P_}}),gI=Gi(uv),jV=In({},uv,{dataTransfer:0}),zV=Gi(jV),WV=In({},lp,{relatedTarget:0}),A_=Gi(WV),HV=In({},pd,{animationName:0,elapsedTime:0,pseudoElement:0}),GV=Gi(HV),qV=In({},pd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KV=Gi(qV),YV=In({},pd,{data:0}),mI=Gi(YV),XV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JV[t])?!!e[t]:!1}function A1(){return ZV}var eU=In({},lp,{key:function(t){if(t.key){var e=XV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?QV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:A1,charCode:function(t){return t.type==="keypress"?sm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tU=Gi(eU),nU=In({},uv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yI=Gi(nU),rU=In({},lp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:A1}),iU=Gi(rU),oU=In({},pd,{propertyName:0,elapsedTime:0,pseudoElement:0}),sU=Gi(oU),aU=In({},uv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lU=Gi(aU),cU=[9,13,27,32],k1=zs&&"CompositionEvent"in window,Hf=null;zs&&"documentMode"in document&&(Hf=document.documentMode);var uU=zs&&"TextEvent"in window&&!Hf,$N=zs&&(!k1||Hf&&8<Hf&&11>=Hf),vI=String.fromCharCode(32),_I=!1;function MN(t,e){switch(t){case"keyup":return cU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var uu=!1;function dU(t,e){switch(t){case"compositionend":return DN(e);case"keypress":return e.which!==32?null:(_I=!0,vI);case"textInput":return t=e.data,t===vI&&_I?null:t;default:return null}}function fU(t,e){if(uu)return t==="compositionend"||!k1&&MN(t,e)?(t=NN(),om=R1=ka=null,uu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $N&&e.locale!=="ko"?null:e.data;default:return null}}var hU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hU[t.type]:e==="textarea"}function LN(t,e,n,r){pN(r),e=Um(e,"onChange"),0<e.length&&(n=new P1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gf=null,Eh=null;function pU(t){KN(t,0)}function dv(t){var e=hu(t);if(aN(e))return t}function gU(t,e){if(t==="change")return e}var FN=!1;if(zs){var k_;if(zs){var O_="oninput"in document;if(!O_){var wI=document.createElement("div");wI.setAttribute("oninput","return;"),O_=typeof wI.oninput=="function"}k_=O_}else k_=!1;FN=k_&&(!document.documentMode||9<document.documentMode)}function EI(){Gf&&(Gf.detachEvent("onpropertychange",BN),Eh=Gf=null)}function BN(t){if(t.propertyName==="value"&&dv(Eh)){var e=[];LN(e,Eh,t,x1(t)),vN(pU,e)}}function mU(t,e,n){t==="focusin"?(EI(),Gf=e,Eh=n,Gf.attachEvent("onpropertychange",BN)):t==="focusout"&&EI()}function yU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dv(Eh)}function vU(t,e){if(t==="click")return dv(e)}function _U(t,e){if(t==="input"||t==="change")return dv(e)}function bU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vo=typeof Object.is=="function"?Object.is:bU;function xh(t,e){if(Vo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Hb.call(e,i)||!Vo(t[i],e[i]))return!1}return!0}function xI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function SI(t,e){var n=xI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xI(n)}}function VN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function UN(){for(var t=window,e=$m();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$m(t.document)}return e}function O1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wU(t){var e=UN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&VN(n.ownerDocument.documentElement,n)){if(r!==null&&O1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=SI(n,o);var s=SI(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var EU=zs&&"documentMode"in document&&11>=document.documentMode,du=null,uw=null,qf=null,dw=!1;function CI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dw||du==null||du!==$m(r)||(r=du,"selectionStart"in r&&O1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qf&&xh(qf,r)||(qf=r,r=Um(uw,"onSelect"),0<r.length&&(e=new P1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=du)))}function yg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fu={animationend:yg("Animation","AnimationEnd"),animationiteration:yg("Animation","AnimationIteration"),animationstart:yg("Animation","AnimationStart"),transitionend:yg("Transition","TransitionEnd")},N_={},jN={};zs&&(jN=document.createElement("div").style,"AnimationEvent"in window||(delete fu.animationend.animation,delete fu.animationiteration.animation,delete fu.animationstart.animation),"TransitionEvent"in window||delete fu.transitionend.transition);function fv(t){if(N_[t])return N_[t];if(!fu[t])return t;var e=fu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jN)return N_[t]=e[n];return t}var zN=fv("animationend"),WN=fv("animationiteration"),HN=fv("animationstart"),GN=fv("transitionend"),qN=new Map,TI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dl(t,e){qN.set(t,e),uc(e,[t])}for(var $_=0;$_<TI.length;$_++){var M_=TI[$_],xU=M_.toLowerCase(),SU=M_[0].toUpperCase()+M_.slice(1);dl(xU,"on"+SU)}dl(zN,"onAnimationEnd");dl(WN,"onAnimationIteration");dl(HN,"onAnimationStart");dl("dblclick","onDoubleClick");dl("focusin","onFocus");dl("focusout","onBlur");dl(GN,"onTransitionEnd");Bu("onMouseEnter",["mouseout","mouseover"]);Bu("onMouseLeave",["mouseout","mouseover"]);Bu("onPointerEnter",["pointerout","pointerover"]);Bu("onPointerLeave",["pointerout","pointerover"]);uc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uc("onBeforeInput",["compositionend","keypress","textInput","paste"]);uc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Af="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Af));function II(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,xV(r,e,void 0,t),t.currentTarget=null}function KN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;II(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;II(i,a,c),o=l}}}if(Dm)throw t=sw,Dm=!1,sw=null,t}function un(t,e){var n=e[mw];n===void 0&&(n=e[mw]=new Set);var r=t+"__bubble";n.has(r)||(YN(e,t,2,!1),n.add(r))}function D_(t,e,n){var r=0;e&&(r|=4),YN(n,t,r,e)}var vg="_reactListening"+Math.random().toString(36).slice(2);function Sh(t){if(!t[vg]){t[vg]=!0,nN.forEach(function(n){n!=="selectionchange"&&(CU.has(n)||D_(n,!1,t),D_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vg]||(e[vg]=!0,D_("selectionchange",!1,e))}}function YN(t,e,n,r){switch(ON(e)){case 1:var i=BV;break;case 4:i=VV;break;default:i=I1}n=i.bind(null,e,n,t),i=void 0,!ow||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function L_(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Nl(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}vN(function(){var c=o,u=x1(n),f=[];e:{var h=qN.get(t);if(h!==void 0){var p=P1,m=t;switch(t){case"keypress":if(sm(n)===0)break e;case"keydown":case"keyup":p=tU;break;case"focusin":m="focus",p=A_;break;case"focusout":m="blur",p=A_;break;case"beforeblur":case"afterblur":p=A_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=gI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=zV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=iU;break;case zN:case WN:case HN:p=GV;break;case GN:p=sU;break;case"scroll":p=UV;break;case"wheel":p=lU;break;case"copy":case"cut":case"paste":p=KV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=yI}var b=(e&4)!==0,x=!b&&t==="scroll",_=b?h!==null?h+"Capture":null:h;b=[];for(var w=c,v;w!==null;){v=w;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,_!==null&&(S=vh(w,_),S!=null&&b.push(Ch(w,S,v)))),x)break;w=w.return}0<b.length&&(h=new p(h,m,null,n,u),f.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==rw&&(m=n.relatedTarget||n.fromElement)&&(Nl(m)||m[Ws]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Nl(m):null,m!==null&&(x=dc(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(b=gI,S="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(b=yI,S="onPointerLeave",_="onPointerEnter",w="pointer"),x=p==null?h:hu(p),v=m==null?h:hu(m),h=new b(S,w+"leave",p,n,u),h.target=x,h.relatedTarget=v,S=null,Nl(u)===c&&(b=new b(_,w+"enter",m,n,u),b.target=v,b.relatedTarget=x,S=b),x=S,p&&m)t:{for(b=p,_=m,w=0,v=b;v;v=Ac(v))w++;for(v=0,S=_;S;S=Ac(S))v++;for(;0<w-v;)b=Ac(b),w--;for(;0<v-w;)_=Ac(_),v--;for(;w--;){if(b===_||_!==null&&b===_.alternate)break t;b=Ac(b),_=Ac(_)}b=null}else b=null;p!==null&&RI(f,h,p,b,!1),m!==null&&x!==null&&RI(f,x,m,b,!0)}}e:{if(h=c?hu(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=gU;else if(bI(h))if(FN)k=_U;else{k=yU;var $=mU}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=vU);if(k&&(k=k(t,c))){LN(f,k,n,u);break e}$&&$(t,h,c),t==="focusout"&&($=h._wrapperState)&&$.controlled&&h.type==="number"&&Jb(h,"number",h.value)}switch($=c?hu(c):window,t){case"focusin":(bI($)||$.contentEditable==="true")&&(du=$,uw=c,qf=null);break;case"focusout":qf=uw=du=null;break;case"mousedown":dw=!0;break;case"contextmenu":case"mouseup":case"dragend":dw=!1,CI(f,n,u);break;case"selectionchange":if(EU)break;case"keydown":case"keyup":CI(f,n,u)}var I;if(k1)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else uu?MN(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&($N&&n.locale!=="ko"&&(uu||T!=="onCompositionStart"?T==="onCompositionEnd"&&uu&&(I=NN()):(ka=u,R1="value"in ka?ka.value:ka.textContent,uu=!0)),$=Um(c,T),0<$.length&&(T=new mI(T,t,null,n,u),f.push({event:T,listeners:$}),I?T.data=I:(I=DN(n),I!==null&&(T.data=I)))),(I=uU?dU(t,n):fU(t,n))&&(c=Um(c,"onBeforeInput"),0<c.length&&(u=new mI("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=I))}KN(f,e)})}function Ch(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Um(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=vh(t,n),o!=null&&r.unshift(Ch(t,o,i)),o=vh(t,e),o!=null&&r.push(Ch(t,o,i))),t=t.return}return r}function Ac(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function RI(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=vh(n,o),l!=null&&s.unshift(Ch(n,l,a))):i||(l=vh(n,o),l!=null&&s.push(Ch(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var TU=/\r\n?/g,IU=/\u0000|\uFFFD/g;function PI(t){return(typeof t=="string"?t:""+t).replace(TU,`
`).replace(IU,"")}function _g(t,e,n){if(e=PI(e),PI(t)!==e&&n)throw Error(ie(425))}function jm(){}var fw=null,hw=null;function pw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gw=typeof setTimeout=="function"?setTimeout:void 0,RU=typeof clearTimeout=="function"?clearTimeout:void 0,AI=typeof Promise=="function"?Promise:void 0,PU=typeof queueMicrotask=="function"?queueMicrotask:typeof AI<"u"?function(t){return AI.resolve(null).then(t).catch(AU)}:gw;function AU(t){setTimeout(function(){throw t})}function F_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),wh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wh(e)}function Fa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gd=Math.random().toString(36).slice(2),ts="__reactFiber$"+gd,Th="__reactProps$"+gd,Ws="__reactContainer$"+gd,mw="__reactEvents$"+gd,kU="__reactListeners$"+gd,OU="__reactHandles$"+gd;function Nl(t){var e=t[ts];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ws]||n[ts]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kI(t);t!==null;){if(n=t[ts])return n;t=kI(t)}return e}t=n,n=t.parentNode}return null}function cp(t){return t=t[ts]||t[Ws],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function hv(t){return t[Th]||null}var yw=[],pu=-1;function fl(t){return{current:t}}function gn(t){0>pu||(t.current=yw[pu],yw[pu]=null,pu--)}function on(t,e){pu++,yw[pu]=t.current,t.current=e}var Qa={},Ur=fl(Qa),pi=fl(!1),Kl=Qa;function Vu(t,e){var n=t.type.contextTypes;if(!n)return Qa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gi(t){return t=t.childContextTypes,t!=null}function zm(){gn(pi),gn(Ur)}function OI(t,e,n){if(Ur.current!==Qa)throw Error(ie(168));on(Ur,e),on(pi,n)}function XN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ie(108,mV(t)||"Unknown",i));return In({},n,r)}function Wm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qa,Kl=Ur.current,on(Ur,t),on(pi,pi.current),!0}function NI(t,e,n){var r=t.stateNode;if(!r)throw Error(ie(169));n?(t=XN(t,e,Kl),r.__reactInternalMemoizedMergedChildContext=t,gn(pi),gn(Ur),on(Ur,t)):gn(pi),on(pi,n)}var Os=null,pv=!1,B_=!1;function QN(t){Os===null?Os=[t]:Os.push(t)}function NU(t){pv=!0,QN(t)}function hl(){if(!B_&&Os!==null){B_=!0;var t=0,e=Ht;try{var n=Os;for(Ht=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Os=null,pv=!1}catch(i){throw Os!==null&&(Os=Os.slice(t+1)),EN(S1,hl),i}finally{Ht=e,B_=!1}}return null}var gu=[],mu=0,Hm=null,Gm=0,Zi=[],eo=0,Yl=null,$s=1,Ms="";function Cl(t,e){gu[mu++]=Gm,gu[mu++]=Hm,Hm=t,Gm=e}function JN(t,e,n){Zi[eo++]=$s,Zi[eo++]=Ms,Zi[eo++]=Yl,Yl=t;var r=$s;t=Ms;var i=32-Do(r)-1;r&=~(1<<i),n+=1;var o=32-Do(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,$s=1<<32-Do(e)+i|n<<i|r,Ms=o+t}else $s=1<<o|n<<i|r,Ms=t}function N1(t){t.return!==null&&(Cl(t,1),JN(t,1,0))}function $1(t){for(;t===Hm;)Hm=gu[--mu],gu[mu]=null,Gm=gu[--mu],gu[mu]=null;for(;t===Yl;)Yl=Zi[--eo],Zi[eo]=null,Ms=Zi[--eo],Zi[eo]=null,$s=Zi[--eo],Zi[eo]=null}var Fi=null,Ni=null,wn=!1,Ao=null;function ZN(t,e){var n=io(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $I(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fi=t,Ni=Fa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fi=t,Ni=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yl!==null?{id:$s,overflow:Ms}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=io(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fi=t,Ni=null,!0):!1;default:return!1}}function vw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _w(t){if(wn){var e=Ni;if(e){var n=e;if(!$I(t,e)){if(vw(t))throw Error(ie(418));e=Fa(n.nextSibling);var r=Fi;e&&$I(t,e)?ZN(r,n):(t.flags=t.flags&-4097|2,wn=!1,Fi=t)}}else{if(vw(t))throw Error(ie(418));t.flags=t.flags&-4097|2,wn=!1,Fi=t}}}function MI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fi=t}function bg(t){if(t!==Fi)return!1;if(!wn)return MI(t),wn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pw(t.type,t.memoizedProps)),e&&(e=Ni)){if(vw(t))throw e$(),Error(ie(418));for(;e;)ZN(t,e),e=Fa(e.nextSibling)}if(MI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ni=Fa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ni=null}}else Ni=Fi?Fa(t.stateNode.nextSibling):null;return!0}function e$(){for(var t=Ni;t;)t=Fa(t.nextSibling)}function Uu(){Ni=Fi=null,wn=!1}function M1(t){Ao===null?Ao=[t]:Ao.push(t)}var $U=sa.ReactCurrentBatchConfig;function Ro(t,e){if(t&&t.defaultProps){e=In({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var qm=fl(null),Km=null,yu=null,D1=null;function L1(){D1=yu=Km=null}function F1(t){var e=qm.current;gn(qm),t._currentValue=e}function bw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Tu(t,e){Km=t,D1=yu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ci=!0),t.firstContext=null)}function lo(t){var e=t._currentValue;if(D1!==t)if(t={context:t,memoizedValue:e,next:null},yu===null){if(Km===null)throw Error(ie(308));yu=t,Km.dependencies={lanes:0,firstContext:t}}else yu=yu.next=t;return e}var $l=null;function B1(t){$l===null?$l=[t]:$l.push(t)}function t$(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,B1(e)):(n.next=i.next,i.next=n),e.interleaved=n,Hs(t,r)}function Hs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wa=!1;function V1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n$(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ba(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Mt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Hs(t,n)}return i=r.interleaved,i===null?(e.next=e,B1(r)):(e.next=i.next,i.next=e),r.interleaved=e,Hs(t,n)}function am(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,C1(t,n)}}function DI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ym(t,e,n,r){var i=t.updateQueue;wa=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,b=a;switch(h=e,p=n,b.tag){case 1:if(m=b.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=b.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=In({},f,h);break e;case 2:wa=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ql|=s,t.lanes=s,t.memoizedState=f}}function LI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ie(191,i));i.call(r)}}}var r$=new tN.Component().refs;function ww(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:In({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gv={isMounted:function(t){return(t=t._reactInternals)?dc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Xr(),i=Ua(t),o=Bs(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ba(t,o,i),e!==null&&(Lo(e,t,i,r),am(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Xr(),i=Ua(t),o=Bs(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ba(t,o,i),e!==null&&(Lo(e,t,i,r),am(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xr(),r=Ua(t),i=Bs(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ba(t,i,r),e!==null&&(Lo(e,t,r,n),am(e,t,r))}};function FI(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!xh(n,r)||!xh(i,o):!0}function i$(t,e,n){var r=!1,i=Qa,o=e.contextType;return typeof o=="object"&&o!==null?o=lo(o):(i=gi(e)?Kl:Ur.current,r=e.contextTypes,o=(r=r!=null)?Vu(t,i):Qa),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function BI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gv.enqueueReplaceState(e,e.state,null)}function Ew(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=r$,V1(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=lo(o):(o=gi(e)?Kl:Ur.current,i.context=Vu(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ww(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gv.enqueueReplaceState(i,i.state,null),Ym(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function sf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var r=n.stateNode}if(!r)throw Error(ie(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===r$&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,t))}return t}function wg(t,e){throw t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function VI(t){var e=t._init;return e(t._payload)}function o$(t){function e(_,w){if(t){var v=_.deletions;v===null?(_.deletions=[w],_.flags|=16):v.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(_,w){return _=ja(_,w),_.index=0,_.sibling=null,_}function o(_,w,v){return _.index=v,t?(v=_.alternate,v!==null?(v=v.index,v<w?(_.flags|=2,w):v):(_.flags|=2,w)):(_.flags|=1048576,w)}function s(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,v,S){return w===null||w.tag!==6?(w=G_(v,_.mode,S),w.return=_,w):(w=i(w,v),w.return=_,w)}function l(_,w,v,S){var k=v.type;return k===cu?u(_,w,v.props.children,S,v.key):w!==null&&(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ba&&VI(k)===w.type)?(S=i(w,v.props),S.ref=sf(_,w,v),S.return=_,S):(S=hm(v.type,v.key,v.props,null,_.mode,S),S.ref=sf(_,w,v),S.return=_,S)}function c(_,w,v,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==v.containerInfo||w.stateNode.implementation!==v.implementation?(w=q_(v,_.mode,S),w.return=_,w):(w=i(w,v.children||[]),w.return=_,w)}function u(_,w,v,S,k){return w===null||w.tag!==7?(w=zl(v,_.mode,S,k),w.return=_,w):(w=i(w,v),w.return=_,w)}function f(_,w,v){if(typeof w=="string"&&w!==""||typeof w=="number")return w=G_(""+w,_.mode,v),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ug:return v=hm(w.type,w.key,w.props,null,_.mode,v),v.ref=sf(_,null,w),v.return=_,v;case lu:return w=q_(w,_.mode,v),w.return=_,w;case ba:var S=w._init;return f(_,S(w._payload),v)}if(Rf(w)||ef(w))return w=zl(w,_.mode,v,null),w.return=_,w;wg(_,w)}return null}function h(_,w,v,S){var k=w!==null?w.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(_,w,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ug:return v.key===k?l(_,w,v,S):null;case lu:return v.key===k?c(_,w,v,S):null;case ba:return k=v._init,h(_,w,k(v._payload),S)}if(Rf(v)||ef(v))return k!==null?null:u(_,w,v,S,null);wg(_,v)}return null}function p(_,w,v,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return _=_.get(v)||null,a(w,_,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ug:return _=_.get(S.key===null?v:S.key)||null,l(w,_,S,k);case lu:return _=_.get(S.key===null?v:S.key)||null,c(w,_,S,k);case ba:var $=S._init;return p(_,w,v,$(S._payload),k)}if(Rf(S)||ef(S))return _=_.get(v)||null,u(w,_,S,k,null);wg(w,S)}return null}function m(_,w,v,S){for(var k=null,$=null,I=w,T=w=0,R=null;I!==null&&T<v.length;T++){I.index>T?(R=I,I=null):R=I.sibling;var y=h(_,I,v[T],S);if(y===null){I===null&&(I=R);break}t&&I&&y.alternate===null&&e(_,I),w=o(y,w,T),$===null?k=y:$.sibling=y,$=y,I=R}if(T===v.length)return n(_,I),wn&&Cl(_,T),k;if(I===null){for(;T<v.length;T++)I=f(_,v[T],S),I!==null&&(w=o(I,w,T),$===null?k=I:$.sibling=I,$=I);return wn&&Cl(_,T),k}for(I=r(_,I);T<v.length;T++)R=p(I,_,T,v[T],S),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?T:R.key),w=o(R,w,T),$===null?k=R:$.sibling=R,$=R);return t&&I.forEach(function(P){return e(_,P)}),wn&&Cl(_,T),k}function b(_,w,v,S){var k=ef(v);if(typeof k!="function")throw Error(ie(150));if(v=k.call(v),v==null)throw Error(ie(151));for(var $=k=null,I=w,T=w=0,R=null,y=v.next();I!==null&&!y.done;T++,y=v.next()){I.index>T?(R=I,I=null):R=I.sibling;var P=h(_,I,y.value,S);if(P===null){I===null&&(I=R);break}t&&I&&P.alternate===null&&e(_,I),w=o(P,w,T),$===null?k=P:$.sibling=P,$=P,I=R}if(y.done)return n(_,I),wn&&Cl(_,T),k;if(I===null){for(;!y.done;T++,y=v.next())y=f(_,y.value,S),y!==null&&(w=o(y,w,T),$===null?k=y:$.sibling=y,$=y);return wn&&Cl(_,T),k}for(I=r(_,I);!y.done;T++,y=v.next())y=p(I,_,T,y.value,S),y!==null&&(t&&y.alternate!==null&&I.delete(y.key===null?T:y.key),w=o(y,w,T),$===null?k=y:$.sibling=y,$=y);return t&&I.forEach(function(M){return e(_,M)}),wn&&Cl(_,T),k}function x(_,w,v,S){if(typeof v=="object"&&v!==null&&v.type===cu&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ug:e:{for(var k=v.key,$=w;$!==null;){if($.key===k){if(k=v.type,k===cu){if($.tag===7){n(_,$.sibling),w=i($,v.props.children),w.return=_,_=w;break e}}else if($.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ba&&VI(k)===$.type){n(_,$.sibling),w=i($,v.props),w.ref=sf(_,$,v),w.return=_,_=w;break e}n(_,$);break}else e(_,$);$=$.sibling}v.type===cu?(w=zl(v.props.children,_.mode,S,v.key),w.return=_,_=w):(S=hm(v.type,v.key,v.props,null,_.mode,S),S.ref=sf(_,w,v),S.return=_,_=S)}return s(_);case lu:e:{for($=v.key;w!==null;){if(w.key===$)if(w.tag===4&&w.stateNode.containerInfo===v.containerInfo&&w.stateNode.implementation===v.implementation){n(_,w.sibling),w=i(w,v.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=q_(v,_.mode,S),w.return=_,_=w}return s(_);case ba:return $=v._init,x(_,w,$(v._payload),S)}if(Rf(v))return m(_,w,v,S);if(ef(v))return b(_,w,v,S);wg(_,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,w!==null&&w.tag===6?(n(_,w.sibling),w=i(w,v),w.return=_,_=w):(n(_,w),w=G_(v,_.mode,S),w.return=_,_=w),s(_)):n(_,w)}return x}var ju=o$(!0),s$=o$(!1),up={},os=fl(up),Ih=fl(up),Rh=fl(up);function Ml(t){if(t===up)throw Error(ie(174));return t}function U1(t,e){switch(on(Rh,e),on(Ih,t),on(os,up),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ew(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ew(e,t)}gn(os),on(os,e)}function zu(){gn(os),gn(Ih),gn(Rh)}function a$(t){Ml(Rh.current);var e=Ml(os.current),n=ew(e,t.type);e!==n&&(on(Ih,t),on(os,n))}function j1(t){Ih.current===t&&(gn(os),gn(Ih))}var Sn=fl(0);function Xm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var V_=[];function z1(){for(var t=0;t<V_.length;t++)V_[t]._workInProgressVersionPrimary=null;V_.length=0}var lm=sa.ReactCurrentDispatcher,U_=sa.ReactCurrentBatchConfig,Xl=0,Cn=null,Jn=null,ar=null,Qm=!1,Kf=!1,Ph=0,MU=0;function Ar(){throw Error(ie(321))}function W1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vo(t[n],e[n]))return!1;return!0}function H1(t,e,n,r,i,o){if(Xl=o,Cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lm.current=t===null||t.memoizedState===null?BU:VU,t=n(r,i),Kf){o=0;do{if(Kf=!1,Ph=0,25<=o)throw Error(ie(301));o+=1,ar=Jn=null,e.updateQueue=null,lm.current=UU,t=n(r,i)}while(Kf)}if(lm.current=Jm,e=Jn!==null&&Jn.next!==null,Xl=0,ar=Jn=Cn=null,Qm=!1,e)throw Error(ie(300));return t}function G1(){var t=Ph!==0;return Ph=0,t}function Qo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?Cn.memoizedState=ar=t:ar=ar.next=t,ar}function co(){if(Jn===null){var t=Cn.alternate;t=t!==null?t.memoizedState:null}else t=Jn.next;var e=ar===null?Cn.memoizedState:ar.next;if(e!==null)ar=e,Jn=t;else{if(t===null)throw Error(ie(310));Jn=t,t={memoizedState:Jn.memoizedState,baseState:Jn.baseState,baseQueue:Jn.baseQueue,queue:Jn.queue,next:null},ar===null?Cn.memoizedState=ar=t:ar=ar.next=t}return ar}function Ah(t,e){return typeof e=="function"?e(t):e}function j_(t){var e=co(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=Jn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Xl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Cn.lanes|=u,Ql|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Vo(r,e.memoizedState)||(ci=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Cn.lanes|=o,Ql|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function z_(t){var e=co(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Vo(o,e.memoizedState)||(ci=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function l$(){}function c$(t,e){var n=Cn,r=co(),i=e(),o=!Vo(r.memoizedState,i);if(o&&(r.memoizedState=i,ci=!0),r=r.queue,q1(f$.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ar!==null&&ar.memoizedState.tag&1){if(n.flags|=2048,kh(9,d$.bind(null,n,r,i,e),void 0,null),ur===null)throw Error(ie(349));Xl&30||u$(n,e,i)}return i}function u$(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Cn.updateQueue,e===null?(e={lastEffect:null,stores:null},Cn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function d$(t,e,n,r){e.value=n,e.getSnapshot=r,h$(e)&&p$(t)}function f$(t,e,n){return n(function(){h$(e)&&p$(t)})}function h$(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vo(t,n)}catch{return!0}}function p$(t){var e=Hs(t,1);e!==null&&Lo(e,t,1,-1)}function UI(t){var e=Qo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ah,lastRenderedState:t},e.queue=t,t=t.dispatch=FU.bind(null,Cn,t),[e.memoizedState,t]}function kh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Cn.updateQueue,e===null?(e={lastEffect:null,stores:null},Cn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function g$(){return co().memoizedState}function cm(t,e,n,r){var i=Qo();Cn.flags|=t,i.memoizedState=kh(1|e,n,void 0,r===void 0?null:r)}function mv(t,e,n,r){var i=co();r=r===void 0?null:r;var o=void 0;if(Jn!==null){var s=Jn.memoizedState;if(o=s.destroy,r!==null&&W1(r,s.deps)){i.memoizedState=kh(e,n,o,r);return}}Cn.flags|=t,i.memoizedState=kh(1|e,n,o,r)}function jI(t,e){return cm(8390656,8,t,e)}function q1(t,e){return mv(2048,8,t,e)}function m$(t,e){return mv(4,2,t,e)}function y$(t,e){return mv(4,4,t,e)}function v$(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _$(t,e,n){return n=n!=null?n.concat([t]):null,mv(4,4,v$.bind(null,e,t),n)}function K1(){}function b$(t,e){var n=co();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&W1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function w$(t,e){var n=co();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&W1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function E$(t,e,n){return Xl&21?(Vo(n,e)||(n=CN(),Cn.lanes|=n,Ql|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ci=!0),t.memoizedState=n)}function DU(t,e){var n=Ht;Ht=n!==0&&4>n?n:4,t(!0);var r=U_.transition;U_.transition={};try{t(!1),e()}finally{Ht=n,U_.transition=r}}function x$(){return co().memoizedState}function LU(t,e,n){var r=Ua(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},S$(t))C$(e,n);else if(n=t$(t,e,n,r),n!==null){var i=Xr();Lo(n,t,r,i),T$(n,e,r)}}function FU(t,e,n){var r=Ua(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(S$(t))C$(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Vo(a,s)){var l=e.interleaved;l===null?(i.next=i,B1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=t$(t,e,i,r),n!==null&&(i=Xr(),Lo(n,t,r,i),T$(n,e,r))}}function S$(t){var e=t.alternate;return t===Cn||e!==null&&e===Cn}function C$(t,e){Kf=Qm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function T$(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,C1(t,n)}}var Jm={readContext:lo,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},BU={readContext:lo,useCallback:function(t,e){return Qo().memoizedState=[t,e===void 0?null:e],t},useContext:lo,useEffect:jI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,cm(4194308,4,v$.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cm(4194308,4,t,e)},useInsertionEffect:function(t,e){return cm(4,2,t,e)},useMemo:function(t,e){var n=Qo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LU.bind(null,Cn,t),[r.memoizedState,t]},useRef:function(t){var e=Qo();return t={current:t},e.memoizedState=t},useState:UI,useDebugValue:K1,useDeferredValue:function(t){return Qo().memoizedState=t},useTransition:function(){var t=UI(!1),e=t[0];return t=DU.bind(null,t[1]),Qo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Cn,i=Qo();if(wn){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=e(),ur===null)throw Error(ie(349));Xl&30||u$(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,jI(f$.bind(null,r,o,t),[t]),r.flags|=2048,kh(9,d$.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Qo(),e=ur.identifierPrefix;if(wn){var n=Ms,r=$s;n=(r&~(1<<32-Do(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ph++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},VU={readContext:lo,useCallback:b$,useContext:lo,useEffect:q1,useImperativeHandle:_$,useInsertionEffect:m$,useLayoutEffect:y$,useMemo:w$,useReducer:j_,useRef:g$,useState:function(){return j_(Ah)},useDebugValue:K1,useDeferredValue:function(t){var e=co();return E$(e,Jn.memoizedState,t)},useTransition:function(){var t=j_(Ah)[0],e=co().memoizedState;return[t,e]},useMutableSource:l$,useSyncExternalStore:c$,useId:x$,unstable_isNewReconciler:!1},UU={readContext:lo,useCallback:b$,useContext:lo,useEffect:q1,useImperativeHandle:_$,useInsertionEffect:m$,useLayoutEffect:y$,useMemo:w$,useReducer:z_,useRef:g$,useState:function(){return z_(Ah)},useDebugValue:K1,useDeferredValue:function(t){var e=co();return Jn===null?e.memoizedState=t:E$(e,Jn.memoizedState,t)},useTransition:function(){var t=z_(Ah)[0],e=co().memoizedState;return[t,e]},useMutableSource:l$,useSyncExternalStore:c$,useId:x$,unstable_isNewReconciler:!1};function Wu(t,e){try{var n="",r=e;do n+=gV(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function W_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jU=typeof WeakMap=="function"?WeakMap:Map;function I$(t,e,n){n=Bs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ey||(ey=!0,Nw=r),xw(t,e)},n}function R$(t,e,n){n=Bs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){xw(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){xw(t,e),typeof r!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function zI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=n6.bind(null,t,e,n),e.then(t,t))}function WI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function HI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Bs(-1,1),e.tag=2,Ba(n,e,1))),n.lanes|=1),t)}var zU=sa.ReactCurrentOwner,ci=!1;function Kr(t,e,n,r){e.child=t===null?s$(e,null,n,r):ju(e,t.child,n,r)}function GI(t,e,n,r,i){n=n.render;var o=e.ref;return Tu(e,i),r=H1(t,e,n,r,o,i),n=G1(),t!==null&&!ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gs(t,e,i)):(wn&&n&&N1(e),e.flags|=1,Kr(t,e,r,i),e.child)}function qI(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!nx(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,P$(t,e,o,r,i)):(t=hm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:xh,n(s,r)&&t.ref===e.ref)return Gs(t,e,i)}return e.flags|=1,t=ja(o,r),t.ref=e.ref,t.return=e,e.child=t}function P$(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(xh(o,r)&&t.ref===e.ref)if(ci=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(ci=!0);else return e.lanes=t.lanes,Gs(t,e,i)}return Sw(t,e,n,r,i)}function A$(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},on(_u,Pi),Pi|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,on(_u,Pi),Pi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,on(_u,Pi),Pi|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,on(_u,Pi),Pi|=r;return Kr(t,e,i,n),e.child}function k$(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Sw(t,e,n,r,i){var o=gi(n)?Kl:Ur.current;return o=Vu(e,o),Tu(e,i),n=H1(t,e,n,r,o,i),r=G1(),t!==null&&!ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gs(t,e,i)):(wn&&r&&N1(e),e.flags|=1,Kr(t,e,n,i),e.child)}function KI(t,e,n,r,i){if(gi(n)){var o=!0;Wm(e)}else o=!1;if(Tu(e,i),e.stateNode===null)um(t,e),i$(e,n,r),Ew(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=lo(c):(c=gi(n)?Kl:Ur.current,c=Vu(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&BI(e,s,r,c),wa=!1;var h=e.memoizedState;s.state=h,Ym(e,r,s,i),l=e.memoizedState,a!==r||h!==l||pi.current||wa?(typeof u=="function"&&(ww(e,n,u,r),l=e.memoizedState),(a=wa||FI(e,n,a,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,n$(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ro(e.type,a),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=lo(l):(l=gi(n)?Kl:Ur.current,l=Vu(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&BI(e,s,r,l),wa=!1,h=e.memoizedState,s.state=h,Ym(e,r,s,i);var m=e.memoizedState;a!==f||h!==m||pi.current||wa?(typeof p=="function"&&(ww(e,n,p,r),m=e.memoizedState),(c=wa||FI(e,n,c,r,h,m,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Cw(t,e,n,r,o,i)}function Cw(t,e,n,r,i,o){k$(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&NI(e,n,!1),Gs(t,e,o);r=e.stateNode,zU.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ju(e,t.child,null,o),e.child=ju(e,null,a,o)):Kr(t,e,a,o),e.memoizedState=r.state,i&&NI(e,n,!0),e.child}function O$(t){var e=t.stateNode;e.pendingContext?OI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&OI(t,e.context,!1),U1(t,e.containerInfo)}function YI(t,e,n,r,i){return Uu(),M1(i),e.flags|=256,Kr(t,e,n,r),e.child}var Tw={dehydrated:null,treeContext:null,retryLane:0};function Iw(t){return{baseLanes:t,cachePool:null,transitions:null}}function N$(t,e,n){var r=e.pendingProps,i=Sn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),on(Sn,i&1),t===null)return _w(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=_v(s,r,0,null),t=zl(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Iw(n),e.memoizedState=Tw,t):Y1(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return WU(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ja(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ja(a,o):(o=zl(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Iw(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Tw,r}return o=t.child,t=o.sibling,r=ja(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Y1(t,e){return e=_v({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Eg(t,e,n,r){return r!==null&&M1(r),ju(e,t.child,null,n),t=Y1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WU(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=W_(Error(ie(422))),Eg(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=_v({mode:"visible",children:r.children},i,0,null),o=zl(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ju(e,t.child,null,s),e.child.memoizedState=Iw(s),e.memoizedState=Tw,o);if(!(e.mode&1))return Eg(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ie(419)),r=W_(o,r,void 0),Eg(t,e,s,r)}if(a=(s&t.childLanes)!==0,ci||a){if(r=ur,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Hs(t,i),Lo(r,t,i,-1))}return tx(),r=W_(Error(ie(421))),Eg(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=r6.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Ni=Fa(i.nextSibling),Fi=e,wn=!0,Ao=null,t!==null&&(Zi[eo++]=$s,Zi[eo++]=Ms,Zi[eo++]=Yl,$s=t.id,Ms=t.overflow,Yl=e),e=Y1(e,r.children),e.flags|=4096,e)}function XI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),bw(t.return,e,n)}function H_(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function $$(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Kr(t,e,r.children,n),r=Sn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&XI(t,n,e);else if(t.tag===19)XI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(on(Sn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),H_(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}H_(e,!0,n,null,o);break;case"together":H_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function um(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ql|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,n=ja(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ja(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function HU(t,e,n){switch(e.tag){case 3:O$(e),Uu();break;case 5:a$(e);break;case 1:gi(e.type)&&Wm(e);break;case 4:U1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;on(qm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(on(Sn,Sn.current&1),e.flags|=128,null):n&e.child.childLanes?N$(t,e,n):(on(Sn,Sn.current&1),t=Gs(t,e,n),t!==null?t.sibling:null);on(Sn,Sn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $$(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),on(Sn,Sn.current),r)break;return null;case 22:case 23:return e.lanes=0,A$(t,e,n)}return Gs(t,e,n)}var M$,Rw,D$,L$;M$=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rw=function(){};D$=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ml(os.current);var o=null;switch(n){case"input":i=Xb(t,i),r=Xb(t,r),o=[];break;case"select":i=In({},i,{value:void 0}),r=In({},r,{value:void 0}),o=[];break;case"textarea":i=Zb(t,i),r=Zb(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jm)}tw(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(mh.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(mh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&un("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};L$=function(t,e,n,r){n!==r&&(e.flags|=4)};function af(t,e){if(!wn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function GU(t,e,n){var r=e.pendingProps;switch($1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(e),null;case 1:return gi(e.type)&&zm(),kr(e),null;case 3:return r=e.stateNode,zu(),gn(pi),gn(Ur),z1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ao!==null&&(Dw(Ao),Ao=null))),Rw(t,e),kr(e),null;case 5:j1(e);var i=Ml(Rh.current);if(n=e.type,t!==null&&e.stateNode!=null)D$(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ie(166));return kr(e),null}if(t=Ml(os.current),bg(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ts]=e,r[Th]=o,t=(e.mode&1)!==0,n){case"dialog":un("cancel",r),un("close",r);break;case"iframe":case"object":case"embed":un("load",r);break;case"video":case"audio":for(i=0;i<Af.length;i++)un(Af[i],r);break;case"source":un("error",r);break;case"img":case"image":case"link":un("error",r),un("load",r);break;case"details":un("toggle",r);break;case"input":oI(r,o),un("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},un("invalid",r);break;case"textarea":aI(r,o),un("invalid",r)}tw(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&_g(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&_g(r.textContent,a,t),i=["children",""+a]):mh.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&un("scroll",r)}switch(n){case"input":dg(r),sI(r,o,!0);break;case"textarea":dg(r),lI(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=jm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ts]=e,t[Th]=r,M$(t,e,!1,!1),e.stateNode=t;e:{switch(s=nw(n,r),n){case"dialog":un("cancel",t),un("close",t),i=r;break;case"iframe":case"object":case"embed":un("load",t),i=r;break;case"video":case"audio":for(i=0;i<Af.length;i++)un(Af[i],t);i=r;break;case"source":un("error",t),i=r;break;case"img":case"image":case"link":un("error",t),un("load",t),i=r;break;case"details":un("toggle",t),i=r;break;case"input":oI(t,r),i=Xb(t,r),un("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=In({},r,{value:void 0}),un("invalid",t);break;case"textarea":aI(t,r),i=Zb(t,r),un("invalid",t);break;default:i=r}tw(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?hN(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dN(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&yh(t,l):typeof l=="number"&&yh(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(mh.hasOwnProperty(o)?l!=null&&o==="onScroll"&&un("scroll",t):l!=null&&_1(t,o,l,s))}switch(n){case"input":dg(t),sI(t,r,!1);break;case"textarea":dg(t),lI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xa(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Eu(t,!!r.multiple,o,!1):r.defaultValue!=null&&Eu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=jm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kr(e),null;case 6:if(t&&e.stateNode!=null)L$(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ie(166));if(n=Ml(Rh.current),Ml(os.current),bg(e)){if(r=e.stateNode,n=e.memoizedProps,r[ts]=e,(o=r.nodeValue!==n)&&(t=Fi,t!==null))switch(t.tag){case 3:_g(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_g(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ts]=e,e.stateNode=r}return kr(e),null;case 13:if(gn(Sn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wn&&Ni!==null&&e.mode&1&&!(e.flags&128))e$(),Uu(),e.flags|=98560,o=!1;else if(o=bg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ie(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ie(317));o[ts]=e}else Uu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kr(e),o=!1}else Ao!==null&&(Dw(Ao),Ao=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Sn.current&1?er===0&&(er=3):tx())),e.updateQueue!==null&&(e.flags|=4),kr(e),null);case 4:return zu(),Rw(t,e),t===null&&Sh(e.stateNode.containerInfo),kr(e),null;case 10:return F1(e.type._context),kr(e),null;case 17:return gi(e.type)&&zm(),kr(e),null;case 19:if(gn(Sn),o=e.memoizedState,o===null)return kr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)af(o,!1);else{if(er!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Xm(t),s!==null){for(e.flags|=128,af(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return on(Sn,Sn.current&1|2),e.child}t=t.sibling}o.tail!==null&&Un()>Hu&&(e.flags|=128,r=!0,af(o,!1),e.lanes=4194304)}else{if(!r)if(t=Xm(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),af(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!wn)return kr(e),null}else 2*Un()-o.renderingStartTime>Hu&&n!==1073741824&&(e.flags|=128,r=!0,af(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Un(),e.sibling=null,n=Sn.current,on(Sn,r?n&1|2:n&1),e):(kr(e),null);case 22:case 23:return ex(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pi&1073741824&&(kr(e),e.subtreeFlags&6&&(e.flags|=8192)):kr(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function qU(t,e){switch($1(e),e.tag){case 1:return gi(e.type)&&zm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zu(),gn(pi),gn(Ur),z1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return j1(e),null;case 13:if(gn(Sn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));Uu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return gn(Sn),null;case 4:return zu(),null;case 10:return F1(e.type._context),null;case 22:case 23:return ex(),null;case 24:return null;default:return null}}var xg=!1,Lr=!1,KU=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function vu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$n(t,e,r)}else n.current=null}function Pw(t,e,n){try{n()}catch(r){$n(t,e,r)}}var QI=!1;function YU(t,e){if(fw=Bm,t=UN(),O1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hw={focusedElem:t,selectionRange:n},Bm=!1,Ce=e;Ce!==null;)if(e=Ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ce=t;else for(;Ce!==null;){e=Ce;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var b=m.memoizedProps,x=m.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?b:Ro(e.type,b),x);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(S){$n(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Ce=t;break}Ce=e.return}return m=QI,QI=!1,m}function Yf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Pw(e,n,o)}i=i.next}while(i!==r)}}function yv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Aw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function F$(t){var e=t.alternate;e!==null&&(t.alternate=null,F$(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ts],delete e[Th],delete e[mw],delete e[kU],delete e[OU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function B$(t){return t.tag===5||t.tag===3||t.tag===4}function JI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||B$(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jm));else if(r!==4&&(t=t.child,t!==null))for(kw(t,e,n),t=t.sibling;t!==null;)kw(t,e,n),t=t.sibling}function Ow(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ow(t,e,n),t=t.sibling;t!==null;)Ow(t,e,n),t=t.sibling}var br=null,Po=!1;function ga(t,e,n){for(n=n.child;n!==null;)V$(t,e,n),n=n.sibling}function V$(t,e,n){if(is&&typeof is.onCommitFiberUnmount=="function")try{is.onCommitFiberUnmount(cv,n)}catch{}switch(n.tag){case 5:Lr||vu(n,e);case 6:var r=br,i=Po;br=null,ga(t,e,n),br=r,Po=i,br!==null&&(Po?(t=br,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):br.removeChild(n.stateNode));break;case 18:br!==null&&(Po?(t=br,n=n.stateNode,t.nodeType===8?F_(t.parentNode,n):t.nodeType===1&&F_(t,n),wh(t)):F_(br,n.stateNode));break;case 4:r=br,i=Po,br=n.stateNode.containerInfo,Po=!0,ga(t,e,n),br=r,Po=i;break;case 0:case 11:case 14:case 15:if(!Lr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Pw(n,e,s),i=i.next}while(i!==r)}ga(t,e,n);break;case 1:if(!Lr&&(vu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$n(n,e,a)}ga(t,e,n);break;case 21:ga(t,e,n);break;case 22:n.mode&1?(Lr=(r=Lr)||n.memoizedState!==null,ga(t,e,n),Lr=r):ga(t,e,n);break;default:ga(t,e,n)}}function ZI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KU),e.forEach(function(r){var i=i6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:br=a.stateNode,Po=!1;break e;case 3:br=a.stateNode.containerInfo,Po=!0;break e;case 4:br=a.stateNode.containerInfo,Po=!0;break e}a=a.return}if(br===null)throw Error(ie(160));V$(o,s,i),br=null,Po=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){$n(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)U$(e,t),e=e.sibling}function U$(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xo(e,t),Yo(t),r&4){try{Yf(3,t,t.return),yv(3,t)}catch(b){$n(t,t.return,b)}try{Yf(5,t,t.return)}catch(b){$n(t,t.return,b)}}break;case 1:xo(e,t),Yo(t),r&512&&n!==null&&vu(n,n.return);break;case 5:if(xo(e,t),Yo(t),r&512&&n!==null&&vu(n,n.return),t.flags&32){var i=t.stateNode;try{yh(i,"")}catch(b){$n(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&lN(i,o),nw(a,s);var c=nw(a,o);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?hN(i,f):u==="dangerouslySetInnerHTML"?dN(i,f):u==="children"?yh(i,f):_1(i,u,f,c)}switch(a){case"input":Qb(i,o);break;case"textarea":cN(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Eu(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Eu(i,!!o.multiple,o.defaultValue,!0):Eu(i,!!o.multiple,o.multiple?[]:"",!1))}i[Th]=o}catch(b){$n(t,t.return,b)}}break;case 6:if(xo(e,t),Yo(t),r&4){if(t.stateNode===null)throw Error(ie(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(b){$n(t,t.return,b)}}break;case 3:if(xo(e,t),Yo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wh(e.containerInfo)}catch(b){$n(t,t.return,b)}break;case 4:xo(e,t),Yo(t);break;case 13:xo(e,t),Yo(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(J1=Un())),r&4&&ZI(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Lr=(c=Lr)||u,xo(e,t),Lr=c):xo(e,t),Yo(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ce=t,u=t.child;u!==null;){for(f=Ce=u;Ce!==null;){switch(h=Ce,p=h.child,h.tag){case 0:case 11:case 14:case 15:Yf(4,h,h.return);break;case 1:vu(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(b){$n(r,n,b)}}break;case 5:vu(h,h.return);break;case 22:if(h.memoizedState!==null){tR(f);continue}}p!==null?(p.return=h,Ce=p):tR(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=fN("display",s))}catch(b){$n(t,t.return,b)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(b){$n(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xo(e,t),Yo(t),r&4&&ZI(t);break;case 21:break;default:xo(e,t),Yo(t)}}function Yo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(B$(n)){var r=n;break e}n=n.return}throw Error(ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(yh(i,""),r.flags&=-33);var o=JI(t);Ow(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=JI(t);kw(t,a,s);break;default:throw Error(ie(161))}}catch(l){$n(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XU(t,e,n){Ce=t,j$(t)}function j$(t,e,n){for(var r=(t.mode&1)!==0;Ce!==null;){var i=Ce,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||xg;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Lr;a=xg;var c=Lr;if(xg=s,(Lr=l)&&!c)for(Ce=i;Ce!==null;)s=Ce,l=s.child,s.tag===22&&s.memoizedState!==null?nR(i):l!==null?(l.return=s,Ce=l):nR(i);for(;o!==null;)Ce=o,j$(o),o=o.sibling;Ce=i,xg=a,Lr=c}eR(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ce=o):eR(t)}}function eR(t){for(;Ce!==null;){var e=Ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lr||yv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Lr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ro(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&LI(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}LI(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&wh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}Lr||e.flags&512&&Aw(e)}catch(h){$n(e,e.return,h)}}if(e===t){Ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ce=n;break}Ce=e.return}}function tR(t){for(;Ce!==null;){var e=Ce;if(e===t){Ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ce=n;break}Ce=e.return}}function nR(t){for(;Ce!==null;){var e=Ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yv(4,e)}catch(l){$n(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){$n(e,i,l)}}var o=e.return;try{Aw(e)}catch(l){$n(e,o,l)}break;case 5:var s=e.return;try{Aw(e)}catch(l){$n(e,s,l)}}}catch(l){$n(e,e.return,l)}if(e===t){Ce=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ce=a;break}Ce=e.return}}var QU=Math.ceil,Zm=sa.ReactCurrentDispatcher,X1=sa.ReactCurrentOwner,oo=sa.ReactCurrentBatchConfig,Mt=0,ur=null,qn=null,Sr=0,Pi=0,_u=fl(0),er=0,Oh=null,Ql=0,vv=0,Q1=0,Xf=null,ai=null,J1=0,Hu=1/0,As=null,ey=!1,Nw=null,Va=null,Sg=!1,Oa=null,ty=0,Qf=0,$w=null,dm=-1,fm=0;function Xr(){return Mt&6?Un():dm!==-1?dm:dm=Un()}function Ua(t){return t.mode&1?Mt&2&&Sr!==0?Sr&-Sr:$U.transition!==null?(fm===0&&(fm=CN()),fm):(t=Ht,t!==0||(t=window.event,t=t===void 0?16:ON(t.type)),t):1}function Lo(t,e,n,r){if(50<Qf)throw Qf=0,$w=null,Error(ie(185));ap(t,n,r),(!(Mt&2)||t!==ur)&&(t===ur&&(!(Mt&2)&&(vv|=n),er===4&&xa(t,Sr)),mi(t,r),n===1&&Mt===0&&!(e.mode&1)&&(Hu=Un()+500,pv&&hl()))}function mi(t,e){var n=t.callbackNode;$V(t,e);var r=Fm(t,t===ur?Sr:0);if(r===0)n!==null&&dI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&dI(n),e===1)t.tag===0?NU(rR.bind(null,t)):QN(rR.bind(null,t)),PU(function(){!(Mt&6)&&hl()}),n=null;else{switch(TN(r)){case 1:n=S1;break;case 4:n=xN;break;case 16:n=Lm;break;case 536870912:n=SN;break;default:n=Lm}n=X$(n,z$.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function z$(t,e){if(dm=-1,fm=0,Mt&6)throw Error(ie(327));var n=t.callbackNode;if(Iu()&&t.callbackNode!==n)return null;var r=Fm(t,t===ur?Sr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ny(t,r);else{e=r;var i=Mt;Mt|=2;var o=H$();(ur!==t||Sr!==e)&&(As=null,Hu=Un()+500,jl(t,e));do try{e6();break}catch(a){W$(t,a)}while(1);L1(),Zm.current=o,Mt=i,qn!==null?e=0:(ur=null,Sr=0,e=er)}if(e!==0){if(e===2&&(i=aw(t),i!==0&&(r=i,e=Mw(t,i))),e===1)throw n=Oh,jl(t,0),xa(t,r),mi(t,Un()),n;if(e===6)xa(t,r);else{if(i=t.current.alternate,!(r&30)&&!JU(i)&&(e=ny(t,r),e===2&&(o=aw(t),o!==0&&(r=o,e=Mw(t,o))),e===1))throw n=Oh,jl(t,0),xa(t,r),mi(t,Un()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ie(345));case 2:Tl(t,ai,As);break;case 3:if(xa(t,r),(r&130023424)===r&&(e=J1+500-Un(),10<e)){if(Fm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Xr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gw(Tl.bind(null,t,ai,As),e);break}Tl(t,ai,As);break;case 4:if(xa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Do(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Un()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*QU(r/1960))-r,10<r){t.timeoutHandle=gw(Tl.bind(null,t,ai,As),r);break}Tl(t,ai,As);break;case 5:Tl(t,ai,As);break;default:throw Error(ie(329))}}}return mi(t,Un()),t.callbackNode===n?z$.bind(null,t):null}function Mw(t,e){var n=Xf;return t.current.memoizedState.isDehydrated&&(jl(t,e).flags|=256),t=ny(t,e),t!==2&&(e=ai,ai=n,e!==null&&Dw(e)),t}function Dw(t){ai===null?ai=t:ai.push.apply(ai,t)}function JU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Vo(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xa(t,e){for(e&=~Q1,e&=~vv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Do(e),r=1<<n;t[n]=-1,e&=~r}}function rR(t){if(Mt&6)throw Error(ie(327));Iu();var e=Fm(t,0);if(!(e&1))return mi(t,Un()),null;var n=ny(t,e);if(t.tag!==0&&n===2){var r=aw(t);r!==0&&(e=r,n=Mw(t,r))}if(n===1)throw n=Oh,jl(t,0),xa(t,e),mi(t,Un()),n;if(n===6)throw Error(ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Tl(t,ai,As),mi(t,Un()),null}function Z1(t,e){var n=Mt;Mt|=1;try{return t(e)}finally{Mt=n,Mt===0&&(Hu=Un()+500,pv&&hl())}}function Jl(t){Oa!==null&&Oa.tag===0&&!(Mt&6)&&Iu();var e=Mt;Mt|=1;var n=oo.transition,r=Ht;try{if(oo.transition=null,Ht=1,t)return t()}finally{Ht=r,oo.transition=n,Mt=e,!(Mt&6)&&hl()}}function ex(){Pi=_u.current,gn(_u)}function jl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,RU(n)),qn!==null)for(n=qn.return;n!==null;){var r=n;switch($1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zm();break;case 3:zu(),gn(pi),gn(Ur),z1();break;case 5:j1(r);break;case 4:zu();break;case 13:gn(Sn);break;case 19:gn(Sn);break;case 10:F1(r.type._context);break;case 22:case 23:ex()}n=n.return}if(ur=t,qn=t=ja(t.current,null),Sr=Pi=e,er=0,Oh=null,Q1=vv=Ql=0,ai=Xf=null,$l!==null){for(e=0;e<$l.length;e++)if(n=$l[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}$l=null}return t}function W$(t,e){do{var n=qn;try{if(L1(),lm.current=Jm,Qm){for(var r=Cn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qm=!1}if(Xl=0,ar=Jn=Cn=null,Kf=!1,Ph=0,X1.current=null,n===null||n.return===null){er=1,Oh=e,qn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Sr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=WI(s);if(p!==null){p.flags&=-257,HI(p,s,a,o,e),p.mode&1&&zI(o,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var b=new Set;b.add(l),e.updateQueue=b}else m.add(l);break e}else{if(!(e&1)){zI(o,c,e),tx();break e}l=Error(ie(426))}}else if(wn&&a.mode&1){var x=WI(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),HI(x,s,a,o,e),M1(Wu(l,a));break e}}o=l=Wu(l,a),er!==4&&(er=2),Xf===null?Xf=[o]:Xf.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=I$(o,l,e);DI(o,_);break e;case 1:a=l;var w=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Va===null||!Va.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=R$(o,a,e);DI(o,S);break e}}o=o.return}while(o!==null)}q$(n)}catch(k){e=k,qn===n&&n!==null&&(qn=n=n.return);continue}break}while(1)}function H$(){var t=Zm.current;return Zm.current=Jm,t===null?Jm:t}function tx(){(er===0||er===3||er===2)&&(er=4),ur===null||!(Ql&268435455)&&!(vv&268435455)||xa(ur,Sr)}function ny(t,e){var n=Mt;Mt|=2;var r=H$();(ur!==t||Sr!==e)&&(As=null,jl(t,e));do try{ZU();break}catch(i){W$(t,i)}while(1);if(L1(),Mt=n,Zm.current=r,qn!==null)throw Error(ie(261));return ur=null,Sr=0,er}function ZU(){for(;qn!==null;)G$(qn)}function e6(){for(;qn!==null&&!CV();)G$(qn)}function G$(t){var e=Y$(t.alternate,t,Pi);t.memoizedProps=t.pendingProps,e===null?q$(t):qn=e,X1.current=null}function q$(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qU(n,e),n!==null){n.flags&=32767,qn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{er=6,qn=null;return}}else if(n=GU(n,e,Pi),n!==null){qn=n;return}if(e=e.sibling,e!==null){qn=e;return}qn=e=t}while(e!==null);er===0&&(er=5)}function Tl(t,e,n){var r=Ht,i=oo.transition;try{oo.transition=null,Ht=1,t6(t,e,n,r)}finally{oo.transition=i,Ht=r}return null}function t6(t,e,n,r){do Iu();while(Oa!==null);if(Mt&6)throw Error(ie(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ie(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(MV(t,o),t===ur&&(qn=ur=null,Sr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sg||(Sg=!0,X$(Lm,function(){return Iu(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=oo.transition,oo.transition=null;var s=Ht;Ht=1;var a=Mt;Mt|=4,X1.current=null,YU(t,n),U$(n,t),wU(hw),Bm=!!fw,hw=fw=null,t.current=n,XU(n),TV(),Mt=a,Ht=s,oo.transition=o}else t.current=n;if(Sg&&(Sg=!1,Oa=t,ty=i),o=t.pendingLanes,o===0&&(Va=null),PV(n.stateNode),mi(t,Un()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ey)throw ey=!1,t=Nw,Nw=null,t;return ty&1&&t.tag!==0&&Iu(),o=t.pendingLanes,o&1?t===$w?Qf++:(Qf=0,$w=t):Qf=0,hl(),null}function Iu(){if(Oa!==null){var t=TN(ty),e=oo.transition,n=Ht;try{if(oo.transition=null,Ht=16>t?16:t,Oa===null)var r=!1;else{if(t=Oa,Oa=null,ty=0,Mt&6)throw Error(ie(331));var i=Mt;for(Mt|=4,Ce=t.current;Ce!==null;){var o=Ce,s=o.child;if(Ce.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ce=c;Ce!==null;){var u=Ce;switch(u.tag){case 0:case 11:case 15:Yf(8,u,o)}var f=u.child;if(f!==null)f.return=u,Ce=f;else for(;Ce!==null;){u=Ce;var h=u.sibling,p=u.return;if(F$(u),u===c){Ce=null;break}if(h!==null){h.return=p,Ce=h;break}Ce=p}}}var m=o.alternate;if(m!==null){var b=m.child;if(b!==null){m.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}Ce=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Ce=s;else e:for(;Ce!==null;){if(o=Ce,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Yf(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,Ce=_;break e}Ce=o.return}}var w=t.current;for(Ce=w;Ce!==null;){s=Ce;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,Ce=v;else e:for(s=w;Ce!==null;){if(a=Ce,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yv(9,a)}}catch(k){$n(a,a.return,k)}if(a===s){Ce=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Ce=S;break e}Ce=a.return}}if(Mt=i,hl(),is&&typeof is.onPostCommitFiberRoot=="function")try{is.onPostCommitFiberRoot(cv,t)}catch{}r=!0}return r}finally{Ht=n,oo.transition=e}}return!1}function iR(t,e,n){e=Wu(n,e),e=I$(t,e,1),t=Ba(t,e,1),e=Xr(),t!==null&&(ap(t,1,e),mi(t,e))}function $n(t,e,n){if(t.tag===3)iR(t,t,n);else for(;e!==null;){if(e.tag===3){iR(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Va===null||!Va.has(r))){t=Wu(n,t),t=R$(e,t,1),e=Ba(e,t,1),t=Xr(),e!==null&&(ap(e,1,t),mi(e,t));break}}e=e.return}}function n6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Xr(),t.pingedLanes|=t.suspendedLanes&n,ur===t&&(Sr&n)===n&&(er===4||er===3&&(Sr&130023424)===Sr&&500>Un()-J1?jl(t,0):Q1|=n),mi(t,e)}function K$(t,e){e===0&&(t.mode&1?(e=pg,pg<<=1,!(pg&130023424)&&(pg=4194304)):e=1);var n=Xr();t=Hs(t,e),t!==null&&(ap(t,e,n),mi(t,n))}function r6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),K$(t,n)}function i6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(e),K$(t,n)}var Y$;Y$=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pi.current)ci=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ci=!1,HU(t,e,n);ci=!!(t.flags&131072)}else ci=!1,wn&&e.flags&1048576&&JN(e,Gm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;um(t,e),t=e.pendingProps;var i=Vu(e,Ur.current);Tu(e,n),i=H1(null,e,r,t,i,n);var o=G1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gi(r)?(o=!0,Wm(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,V1(e),i.updater=gv,e.stateNode=i,i._reactInternals=e,Ew(e,r,t,n),e=Cw(null,e,r,!0,o,n)):(e.tag=0,wn&&o&&N1(e),Kr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(um(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=s6(r),t=Ro(r,t),i){case 0:e=Sw(null,e,r,t,n);break e;case 1:e=KI(null,e,r,t,n);break e;case 11:e=GI(null,e,r,t,n);break e;case 14:e=qI(null,e,r,Ro(r.type,t),n);break e}throw Error(ie(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ro(r,i),Sw(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ro(r,i),KI(t,e,r,i,n);case 3:e:{if(O$(e),t===null)throw Error(ie(387));r=e.pendingProps,o=e.memoizedState,i=o.element,n$(t,e),Ym(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Wu(Error(ie(423)),e),e=YI(t,e,r,n,i);break e}else if(r!==i){i=Wu(Error(ie(424)),e),e=YI(t,e,r,n,i);break e}else for(Ni=Fa(e.stateNode.containerInfo.firstChild),Fi=e,wn=!0,Ao=null,n=s$(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Uu(),r===i){e=Gs(t,e,n);break e}Kr(t,e,r,n)}e=e.child}return e;case 5:return a$(e),t===null&&_w(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,pw(r,i)?s=null:o!==null&&pw(r,o)&&(e.flags|=32),k$(t,e),Kr(t,e,s,n),e.child;case 6:return t===null&&_w(e),null;case 13:return N$(t,e,n);case 4:return U1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ju(e,null,r,n):Kr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ro(r,i),GI(t,e,r,i,n);case 7:return Kr(t,e,e.pendingProps,n),e.child;case 8:return Kr(t,e,e.pendingProps.children,n),e.child;case 12:return Kr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,on(qm,r._currentValue),r._currentValue=s,o!==null)if(Vo(o.value,s)){if(o.children===i.children&&!pi.current){e=Gs(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Bs(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),bw(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ie(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),bw(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Kr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Tu(e,n),i=lo(i),r=r(i),e.flags|=1,Kr(t,e,r,n),e.child;case 14:return r=e.type,i=Ro(r,e.pendingProps),i=Ro(r.type,i),qI(t,e,r,i,n);case 15:return P$(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ro(r,i),um(t,e),e.tag=1,gi(r)?(t=!0,Wm(e)):t=!1,Tu(e,n),i$(e,r,i),Ew(e,r,i,n),Cw(null,e,r,!0,t,n);case 19:return $$(t,e,n);case 22:return A$(t,e,n)}throw Error(ie(156,e.tag))};function X$(t,e){return EN(t,e)}function o6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function io(t,e,n,r){return new o6(t,e,n,r)}function nx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function s6(t){if(typeof t=="function")return nx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===w1)return 11;if(t===E1)return 14}return 2}function ja(t,e){var n=t.alternate;return n===null?(n=io(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hm(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")nx(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case cu:return zl(n.children,i,o,e);case b1:s=8,i|=8;break;case Gb:return t=io(12,n,e,i|2),t.elementType=Gb,t.lanes=o,t;case qb:return t=io(13,n,e,i),t.elementType=qb,t.lanes=o,t;case Kb:return t=io(19,n,e,i),t.elementType=Kb,t.lanes=o,t;case oN:return _v(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rN:s=10;break e;case iN:s=9;break e;case w1:s=11;break e;case E1:s=14;break e;case ba:s=16,r=null;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=io(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function zl(t,e,n,r){return t=io(7,t,r,e),t.lanes=n,t}function _v(t,e,n,r){return t=io(22,t,r,e),t.elementType=oN,t.lanes=n,t.stateNode={isHidden:!1},t}function G_(t,e,n){return t=io(6,t,null,e),t.lanes=n,t}function q_(t,e,n){return e=io(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function a6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=I_(0),this.expirationTimes=I_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function rx(t,e,n,r,i,o,s,a,l){return t=new a6(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=io(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},V1(o),t}function l6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Q$(t){if(!t)return Qa;t=t._reactInternals;e:{if(dc(t)!==t||t.tag!==1)throw Error(ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(t.tag===1){var n=t.type;if(gi(n))return XN(t,n,e)}return e}function J$(t,e,n,r,i,o,s,a,l){return t=rx(n,r,!0,t,i,o,s,a,l),t.context=Q$(null),n=t.current,r=Xr(),i=Ua(n),o=Bs(r,i),o.callback=e??null,Ba(n,o,i),t.current.lanes=i,ap(t,i,r),mi(t,r),t}function bv(t,e,n,r){var i=e.current,o=Xr(),s=Ua(i);return n=Q$(n),e.context===null?e.context=n:e.pendingContext=n,e=Bs(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ba(i,e,s),t!==null&&(Lo(t,i,s,o),am(t,i,s)),s}function ry(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ix(t,e){oR(t,e),(t=t.alternate)&&oR(t,e)}function c6(){return null}var Z$=typeof reportError=="function"?reportError:function(t){console.error(t)};function ox(t){this._internalRoot=t}wv.prototype.render=ox.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));bv(t,e,null,null)};wv.prototype.unmount=ox.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Jl(function(){bv(null,t,null,null)}),e[Ws]=null}};function wv(t){this._internalRoot=t}wv.prototype.unstable_scheduleHydration=function(t){if(t){var e=PN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ea.length&&e!==0&&e<Ea[n].priority;n++);Ea.splice(n,0,t),n===0&&kN(t)}};function sx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ev(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sR(){}function u6(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=ry(s);o.call(c)}}var s=J$(e,r,t,0,null,!1,!1,"",sR);return t._reactRootContainer=s,t[Ws]=s.current,Sh(t.nodeType===8?t.parentNode:t),Jl(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=ry(l);a.call(c)}}var l=rx(t,0,!1,null,null,!1,!1,"",sR);return t._reactRootContainer=l,t[Ws]=l.current,Sh(t.nodeType===8?t.parentNode:t),Jl(function(){bv(e,l,n,r)}),l}function xv(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=ry(s);a.call(l)}}bv(e,s,t,i)}else s=u6(n,e,t,i,r);return ry(s)}IN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Pf(e.pendingLanes);n!==0&&(C1(e,n|1),mi(e,Un()),!(Mt&6)&&(Hu=Un()+500,hl()))}break;case 13:Jl(function(){var r=Hs(t,1);if(r!==null){var i=Xr();Lo(r,t,1,i)}}),ix(t,1)}};T1=function(t){if(t.tag===13){var e=Hs(t,134217728);if(e!==null){var n=Xr();Lo(e,t,134217728,n)}ix(t,134217728)}};RN=function(t){if(t.tag===13){var e=Ua(t),n=Hs(t,e);if(n!==null){var r=Xr();Lo(n,t,e,r)}ix(t,e)}};PN=function(){return Ht};AN=function(t,e){var n=Ht;try{return Ht=t,e()}finally{Ht=n}};iw=function(t,e,n){switch(e){case"input":if(Qb(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=hv(r);if(!i)throw Error(ie(90));aN(r),Qb(r,i)}}}break;case"textarea":cN(t,n);break;case"select":e=n.value,e!=null&&Eu(t,!!n.multiple,e,!1)}};mN=Z1;yN=Jl;var d6={usingClientEntryPoint:!1,Events:[cp,hu,hv,pN,gN,Z1]},lf={findFiberByHostInstance:Nl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},f6={bundleType:lf.bundleType,version:lf.version,rendererPackageName:lf.rendererPackageName,rendererConfig:lf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bN(t),t===null?null:t.stateNode},findFiberByHostInstance:lf.findFiberByHostInstance||c6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cg.isDisabled&&Cg.supportsFiber)try{cv=Cg.inject(f6),is=Cg}catch{}}Hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d6;Hi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sx(e))throw Error(ie(200));return l6(t,e,null,n)};Hi.createRoot=function(t,e){if(!sx(t))throw Error(ie(299));var n=!1,r="",i=Z$;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=rx(t,1,!1,null,null,n,!1,r,i),t[Ws]=e.current,Sh(t.nodeType===8?t.parentNode:t),new ox(e)};Hi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=bN(e),t=t===null?null:t.stateNode,t};Hi.flushSync=function(t){return Jl(t)};Hi.hydrate=function(t,e,n){if(!Ev(e))throw Error(ie(200));return xv(null,t,e,!0,n)};Hi.hydrateRoot=function(t,e,n){if(!sx(t))throw Error(ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Z$;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=J$(e,null,t,1,n??null,i,!1,o,s),t[Ws]=e.current,Sh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new wv(e)};Hi.render=function(t,e,n){if(!Ev(e))throw Error(ie(200));return xv(null,t,e,!1,n)};Hi.unmountComponentAtNode=function(t){if(!Ev(t))throw Error(ie(40));return t._reactRootContainer?(Jl(function(){xv(null,null,t,!1,function(){t._reactRootContainer=null,t[Ws]=null})}),!0):!1};Hi.unstable_batchedUpdates=Z1;Hi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ev(n))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return xv(t,e,n,!1,r)};Hi.version="18.2.0-next-9e3b772b8-20220608";function eM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eM)}catch(t){console.error(t)}}eM(),J2.exports=Hi;var dp=J2.exports;const Tg=op(dp);var aR=dp;Wb.createRoot=aR.createRoot,Wb.hydrateRoot=aR.hydrateRoot;const h6="modulepreload",p6=function(t){return"/"+t},lR={},g6=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=p6(o),o in lR)return;lR[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const f=i[u];if(f.href===o&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":h6,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((u,f)=>{c.addEventListener("load",u),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};var ax={};Object.defineProperty(ax,"__esModule",{value:!0});ax.parse=E6;ax.serialize=x6;const m6=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,y6=/^[\u0021-\u003A\u003C-\u007E]*$/,v6=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,_6=/^[\u0020-\u003A\u003D-\u007E]*$/,b6=Object.prototype.toString,w6=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function E6(t,e){const n=new w6,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||S6;let o=0;do{const s=t.indexOf("=",o);if(s===-1)break;const a=t.indexOf(";",o),l=a===-1?r:a;if(s>l){o=t.lastIndexOf(";",s-1)+1;continue}const c=cR(t,o,s),u=uR(t,s,c),f=t.slice(c,u);if(n[f]===void 0){let h=cR(t,s+1,l),p=uR(t,l,h);const m=i(t.slice(h,p));n[f]=m}o=l+1}while(o<r);return n}function cR(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function uR(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function x6(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!m6.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!y6.test(i))throw new TypeError(`argument val is invalid: ${e}`);let o=t+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!v6.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!_6.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!C6(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function S6(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function C6(t){return b6.call(t)==="[object Date]"}var dR="popstate";function T6(t={}){function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Lw("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Nh(i)}return R6(e,n,null,t)}function Tn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function I6(){return Math.random().toString(36).substring(2,10)}function fR(t,e){return{usr:t.state,key:t.key,idx:e}}function Lw(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?md(e):e,state:n,key:e&&e.key||r||I6()}}function Nh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function md(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function R6(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,c=u();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function u(){return(s.state||{idx:null}).idx}function f(){a="POP";let x=u(),_=x==null?null:x-c;c=x,l&&l({action:a,location:b.location,delta:_})}function h(x,_){a="PUSH";let w=Lw(b.location,x,_);n&&n(w,x),c=u()+1;let v=fR(w,c),S=b.createHref(w);try{s.pushState(v,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(S)}o&&l&&l({action:a,location:b.location,delta:1})}function p(x,_){a="REPLACE";let w=Lw(b.location,x,_);n&&n(w,x),c=u();let v=fR(w,c),S=b.createHref(w);s.replaceState(v,"",S),o&&l&&l({action:a,location:b.location,delta:0})}function m(x){let _=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:Nh(x);return w=w.replace(/ $/,"%20"),Tn(_,`No window.location.(origin|href) available to create URL for href: ${w}`),new URL(w,_)}let b={get action(){return a},get location(){return t(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(dR,f),l=x,()=>{i.removeEventListener(dR,f),l=null}},createHref(x){return e(i,x)},createURL:m,encodeLocation(x){let _=m(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:p,go(x){return s.go(x)}};return b}function tM(t,e,n="/"){return P6(t,e,n,!1)}function P6(t,e,n,r){let i=typeof e=="string"?md(e):e,o=qs(i.pathname||"/",n);if(o==null)return null;let s=nM(t);A6(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=U6(o);a=B6(s[l],c,r)}return a}function nM(t,e=[],n=[],r=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Tn(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=Vs([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(Tn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),nM(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:L6(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of rM(o.path))i(o,s,l)}),e}function rM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=rM(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function A6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:F6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var k6=/^:[\w-]+$/,O6=3,N6=2,$6=1,M6=10,D6=-2,hR=t=>t==="*";function L6(t,e){let n=t.split("/"),r=n.length;return n.some(hR)&&(r+=D6),e&&(r+=N6),n.filter(i=>!hR(i)).reduce((i,o)=>i+(k6.test(o)?O6:o===""?$6:M6),r)}function F6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function B6(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",f=iy({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=iy({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Vs([o,f.pathname]),pathnameBase:H6(Vs([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Vs([o,f.pathnameBase]))}return s}function iy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=V6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:f},h)=>{if(u==="*"){let m=a[h]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[h];return f&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function V6(t,e=!1,n=!0){fs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function U6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function qs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function j6(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?md(t):t;return{pathname:n?n.startsWith("/")?n:z6(n,e):e,search:G6(r),hash:q6(i)}}function z6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function K_(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function W6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iM(t){let e=W6(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function oM(t,e,n,r=!1){let i;typeof t=="string"?i=md(t):(i={...t},Tn(!i.pathname||!i.pathname.includes("?"),K_("?","pathname","search",i)),Tn(!i.pathname||!i.pathname.includes("#"),K_("#","pathname","hash",i)),Tn(!i.search||!i.search.includes("#"),K_("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=j6(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Vs=t=>t.join("/").replace(/\/\/+/g,"/"),H6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),G6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,q6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function K6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var sM=["POST","PUT","PATCH","DELETE"];new Set(sM);var Y6=["GET",...sM];new Set(Y6);var yd=E.createContext(null);yd.displayName="DataRouter";var Sv=E.createContext(null);Sv.displayName="DataRouterState";var aM=E.createContext({isTransitioning:!1});aM.displayName="ViewTransition";var X6=E.createContext(new Map);X6.displayName="Fetchers";var Q6=E.createContext(null);Q6.displayName="Await";var gs=E.createContext(null);gs.displayName="Navigation";var fp=E.createContext(null);fp.displayName="Location";var ms=E.createContext({outlet:null,matches:[],isDataRoute:!1});ms.displayName="Route";var lx=E.createContext(null);lx.displayName="RouteError";function J6(t,{relative:e}={}){Tn(hp(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(gs),{hash:i,pathname:o,search:s}=pp(t,{relative:e}),a=o;return n!=="/"&&(a=o==="/"?n:Vs([n,o])),r.createHref({pathname:a,search:s,hash:i})}function hp(){return E.useContext(fp)!=null}function fc(){return Tn(hp(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(fp).location}var lM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cM(t){E.useContext(gs).static||E.useLayoutEffect(t)}function Cv(){let{isDataRoute:t}=E.useContext(ms);return t?fj():Z6()}function Z6(){Tn(hp(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(yd),{basename:e,navigator:n}=E.useContext(gs),{matches:r}=E.useContext(ms),{pathname:i}=fc(),o=JSON.stringify(iM(r)),s=E.useRef(!1);return cM(()=>{s.current=!0}),E.useCallback((l,c={})=>{if(fs(s.current,lM),!s.current)return;if(typeof l=="number"){n.go(l);return}let u=oM(l,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Vs([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,o,i,t])}E.createContext(null);function ej(){let{matches:t}=E.useContext(ms),e=t[t.length-1];return e?e.params:{}}function pp(t,{relative:e}={}){let{matches:n}=E.useContext(ms),{pathname:r}=fc(),i=JSON.stringify(iM(n));return E.useMemo(()=>oM(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function tj(t,e){return uM(t,e)}function uM(t,e,n,r){var w;Tn(hp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=E.useContext(gs),{matches:s}=E.useContext(ms),a=s[s.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",f=a&&a.route;{let v=f&&f.path||"";dM(c,!f||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let h=fc(),p;if(e){let v=typeof e=="string"?md(e):e;Tn(u==="/"||((w=v.pathname)==null?void 0:w.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${v.pathname}" was given in the \`location\` prop.`),p=v}else p=h;let m=p.pathname||"/",b=m;if(u!=="/"){let v=u.replace(/^\//,"").split("/");b="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=!o&&n&&n.matches&&n.matches.length>0?n.matches:tM(t,{pathname:b});fs(f||x!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),fs(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=sj(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Vs([u,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:Vs([u,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&_?E.createElement(fp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},_):_}function nj(){let t=dj(),e=K6(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:o},"ErrorBoundary")," or"," ",E.createElement("code",{style:o},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,s)}var rj=E.createElement(nj,null),ij=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?E.createElement(ms.Provider,{value:this.props.routeContext},E.createElement(lx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oj({routeContext:t,match:e,children:n}){let r=E.useContext(yd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(ms.Provider,{value:t},n)}function sj(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let l=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);Tn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:f}=n,h=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||h){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let f,h=!1,p=null,m=null;n&&(f=o&&c.route.id?o[c.route.id]:void 0,p=c.route.errorElement||rj,s&&(a<0&&u===0?(dM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,m=null):a===u&&(h=!0,m=c.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,u+1)),x=()=>{let _;return f?_=p:h?_=m:c.route.Component?_=E.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=l,E.createElement(oj,{match:c,routeContext:{outlet:l,matches:b,isDataRoute:n!=null},children:_})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?E.createElement(ij,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}function cx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aj(t){let e=E.useContext(yd);return Tn(e,cx(t)),e}function lj(t){let e=E.useContext(Sv);return Tn(e,cx(t)),e}function cj(t){let e=E.useContext(ms);return Tn(e,cx(t)),e}function ux(t){let e=cj(t),n=e.matches[e.matches.length-1];return Tn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function uj(){return ux("useRouteId")}function dj(){var r;let t=E.useContext(lx),e=lj("useRouteError"),n=ux("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function fj(){let{router:t}=aj("useNavigate"),e=ux("useNavigate"),n=E.useRef(!1);return cM(()=>{n.current=!0}),E.useCallback(async(i,o={})=>{fs(n.current,lM),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var pR={};function dM(t,e,n){!e&&!pR[t]&&(pR[t]=!0,fs(!1,n))}E.memo(hj);function hj({routes:t,future:e,state:n}){return uM(t,void 0,n,e)}function pm(t){Tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pj({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Tn(!hp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),a=E.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=md(n));let{pathname:l="/",search:c="",hash:u="",state:f=null,key:h="default"}=n,p=E.useMemo(()=>{let m=qs(l,s);return m==null?null:{location:{pathname:m,search:c,hash:u,state:f,key:h},navigationType:r}},[s,l,c,u,f,h,r]);return fs(p!=null,`<Router basename="${s}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:E.createElement(gs.Provider,{value:a},E.createElement(fp.Provider,{children:e,value:p}))}function gj({children:t,location:e}){return tj(Fw(t),e)}function Fw(t,e=[]){let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let o=[...e,i];if(r.type===E.Fragment){n.push.apply(n,Fw(r.props.children,o));return}Tn(r.type===pm,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Fw(r.props.children,o)),n.push(s)}),n}var gm="get",mm="application/x-www-form-urlencoded";function Tv(t){return t!=null&&typeof t.tagName=="string"}function mj(t){return Tv(t)&&t.tagName.toLowerCase()==="button"}function yj(t){return Tv(t)&&t.tagName.toLowerCase()==="form"}function vj(t){return Tv(t)&&t.tagName.toLowerCase()==="input"}function _j(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bj(t,e){return t.button===0&&(!e||e==="_self")&&!_j(t)}var Ig=null;function wj(){if(Ig===null)try{new FormData(document.createElement("form"),0),Ig=!1}catch{Ig=!0}return Ig}var Ej=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Y_(t){return t!=null&&!Ej.has(t)?(fs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mm}"`),null):t}function xj(t,e){let n,r,i,o,s;if(yj(t)){let a=t.getAttribute("action");r=a?qs(a,e):null,n=t.getAttribute("method")||gm,i=Y_(t.getAttribute("enctype"))||mm,o=new FormData(t)}else if(mj(t)||vj(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?qs(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||gm,i=Y_(t.getAttribute("formenctype"))||Y_(a.getAttribute("enctype"))||mm,o=new FormData(a,t),!wj()){let{name:c,type:u,value:f}=t;if(u==="image"){let h=c?`${c}.`:"";o.append(`${h}x`,"0"),o.append(`${h}y`,"0")}else c&&o.append(c,f)}}else{if(Tv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gm,r=null,i=mm,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function dx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Sj(t,e){if(t.id in e)return e[t.id];try{let n=await g6(()=>import(t.module),__vite__mapDeps([]));return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cj(t){return t!=null&&typeof t.page=="string"}function Tj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Ij(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await Sj(o,n);return s.links?s.links():[]}return[]}));return kj(r.flat(1).filter(Tj).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function gR(t,e,n,r,i,o){let s=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return o==="assets"?e.filter((l,c)=>s(l,c)||a(l,c)):o==="data"?e.filter((l,c)=>{var f;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(s(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Rj(t,e,{includeHydrateFallback:n}={}){return Pj(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function Pj(t){return[...new Set(t)]}function Aj(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function kj(t,e){let n=new Set,r=new Set(e);return t.reduce((i,o)=>{if(e&&!Cj(o)&&o.as==="script"&&o.href&&r.has(o.href))return i;let a=JSON.stringify(Aj(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}function Oj(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&qs(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function fM(){let t=E.useContext(yd);return dx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Nj(){let t=E.useContext(Sv);return dx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var fx=E.createContext(void 0);fx.displayName="FrameworkContext";function hM(){let t=E.useContext(fx);return dx(t,"You must render this element inside a <HydratedRouter> element"),t}function $j(t,e){let n=E.useContext(fx),[r,i]=E.useState(!1),[o,s]=E.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=e,h=E.useRef(null);E.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let b=_=>{_.forEach(w=>{s(w.isIntersecting)})},x=new IntersectionObserver(b,{threshold:.5});return h.current&&x.observe(h.current),()=>{x.disconnect()}}},[t]),E.useEffect(()=>{if(r){let b=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(b)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,h,{}]:[o,h,{onFocus:cf(a,p),onBlur:cf(l,m),onMouseEnter:cf(c,p),onMouseLeave:cf(u,m),onTouchStart:cf(f,p)}]:[!1,h,{}]}function cf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Mj({page:t,...e}){let{router:n}=fM(),r=E.useMemo(()=>tM(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(Lj,{page:t,matches:r,...e}):null}function Dj(t){let{manifest:e,routeModules:n}=hM(),[r,i]=E.useState([]);return E.useEffect(()=>{let o=!1;return Ij(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function Lj({page:t,matches:e,...n}){let r=fc(),{manifest:i,routeModules:o}=hM(),{basename:s}=fM(),{loaderData:a,matches:l}=Nj(),c=E.useMemo(()=>gR(t,e,l,i,r,"data"),[t,e,l,i,r]),u=E.useMemo(()=>gR(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let m=new Set,b=!1;if(e.forEach(_=>{var v;let w=i.routes[_.route.id];!w||!w.hasLoader||(!c.some(S=>S.route.id===_.route.id)&&_.route.id in a&&((v=o[_.route.id])!=null&&v.shouldRevalidate)||w.hasClientLoader?b=!0:m.add(_.route.id))}),m.size===0)return[];let x=Oj(t,s);return b&&m.size>0&&x.searchParams.set("_routes",e.filter(_=>m.has(_.route.id)).map(_=>_.route.id).join(",")),[x.pathname+x.search]},[s,a,r,i,c,e,t,o]),h=E.useMemo(()=>Rj(u,i),[u,i]),p=Dj(u);return E.createElement(E.Fragment,null,f.map(m=>E.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),h.map(m=>E.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),p.map(({key:m,link:b})=>E.createElement("link",{key:m,...b})))}function Fj(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pM&&(window.__reactRouterVersion="7.4.1")}catch{}function Bj({basename:t,children:e,window:n}){let r=E.useRef();r.current==null&&(r.current=T6({window:n,v5Compat:!0}));let i=r.current,[o,s]=E.useState({action:i.action,location:i.location}),a=E.useCallback(l=>{E.startTransition(()=>s(l))},[s]);return E.useLayoutEffect(()=>i.listen(a),[i,a]),E.createElement(pj,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var gM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mM=E.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f,...h},p){let{basename:m}=E.useContext(gs),b=typeof c=="string"&&gM.test(c),x,_=!1;if(typeof c=="string"&&b&&(x=c,pM))try{let R=new URL(window.location.href),y=c.startsWith("//")?new URL(R.protocol+c):new URL(c),P=qs(y.pathname,m);y.origin===R.origin&&P!=null?c=P+y.search+y.hash:_=!0}catch{fs(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=J6(c,{relative:i}),[v,S,k]=$j(r,h),$=zj(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:f});function I(R){e&&e(R),R.defaultPrevented||$(R)}let T=E.createElement("a",{...h,...k,href:x||w,onClick:_||o?e:I,ref:Fj(p,S),target:l,"data-discover":!b&&n==="render"?"true":void 0});return v&&!b?E.createElement(E.Fragment,null,T,E.createElement(Mj,{page:w})):T});mM.displayName="Link";var Vj=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...c},u){let f=pp(s,{relative:c.relative}),h=fc(),p=E.useContext(Sv),{navigator:m,basename:b}=E.useContext(gs),x=p!=null&&Kj(f)&&a===!0,_=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,w=h.pathname,v=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(w=w.toLowerCase(),v=v?v.toLowerCase():null,_=_.toLowerCase()),v&&b&&(v=qs(v,b)||v);const S=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let k=w===_||!i&&w.startsWith(_)&&w.charAt(S)==="/",$=v!=null&&(v===_||!i&&v.startsWith(_)&&v.charAt(_.length)==="/"),I={isActive:k,isPending:$,isTransitioning:x},T=k?e:void 0,R;typeof r=="function"?R=r(I):R=[r,k?"active":null,$?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let y=typeof o=="function"?o(I):o;return E.createElement(mM,{...c,"aria-current":T,className:R,ref:u,style:y,to:s,viewTransition:a},typeof l=="function"?l(I):l)});Vj.displayName="NavLink";var Uj=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=gm,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:f,...h},p)=>{let m=Gj(),b=qj(a,{relative:c}),x=s.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&gM.test(a),w=v=>{if(l&&l(v),v.defaultPrevented)return;v.preventDefault();let S=v.nativeEvent.submitter,k=(S==null?void 0:S.getAttribute("formmethod"))||s;m(S||v.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:i,state:o,relative:c,preventScrollReset:u,viewTransition:f})};return E.createElement("form",{ref:p,method:x,action:b,onSubmit:r?l:w,...h,"data-discover":!_&&t==="render"?"true":void 0})});Uj.displayName="Form";function jj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yM(t){let e=E.useContext(yd);return Tn(e,jj(t)),e}function zj(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=Cv(),l=fc(),c=pp(t,{relative:o});return E.useCallback(u=>{if(bj(u,e)){u.preventDefault();let f=n!==void 0?n:Nh(l)===Nh(c);a(t,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,c,n,r,e,t,i,o,s])}var Wj=0,Hj=()=>`__${String(++Wj)}__`;function Gj(){let{router:t}=yM("useSubmit"),{basename:e}=E.useContext(gs),n=uj();return E.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:c}=xj(r,e);if(i.navigate===!1){let u=i.fetcherKey||Hj();await t.fetch(u,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function qj(t,{relative:e}={}){let{basename:n}=E.useContext(gs),r=E.useContext(ms);Tn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...pp(t||".",{relative:e})},s=fc();if(t==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let u=a.toString();o.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Vs([n,o.pathname])),Nh(o)}function Kj(t,e={}){let n=E.useContext(aM);Tn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=yM("useViewTransitionState"),i=pp(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=qs(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=qs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return iy(i.pathname,s)!=null||iy(i.pathname,o)!=null}new TextEncoder;const Yj=()=>{};var mR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae=function(t,e){if(!t)throw vd(e)},vd=function(t){return new Error("Firebase Database ("+vM.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Xj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},hx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_M(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Xj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new Qj;const h=o<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),f!==64){const m=c<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Qj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bM=function(t){const e=_M(t);return hx.encodeByteArray(e,!0)},oy=function(t){return bM(t).replace(/\./g,"")},sy=function(t){try{return hx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t){return wM(void 0,t)}function wM(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Zj(n)||(t[n]=wM(t[n],e[n]));return t}function Zj(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=()=>e9().__FIREBASE_DEFAULTS__,n9=()=>{if(typeof process>"u"||typeof mR>"u")return;const t=mR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},r9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sy(t[1]);return e&&JSON.parse(e)},Iv=()=>{try{return Yj()||t9()||n9()||r9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},EM=t=>{var e,n;return(n=(e=Iv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},px=t=>{const e=EM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xM=()=>{var t;return(t=Iv())===null||t===void 0?void 0:t.config},SM=t=>{var e;return(e=Iv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[oy(JSON.stringify(n)),oy(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jr())}function i9(){var t;const e=(t=Iv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function s9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a9(){const t=jr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TM(){return vM.NODE_ADMIN===!0}function l9(){return!i9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function c9(){try{return typeof indexedDB=="object"}catch{return!1}}function u9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9="FirebaseError";class ys extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=d9,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gp.prototype.create)}}class gp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?f9(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ys(i,a,r)}}function f9(t,e){return t.replace(h9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const h9=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t){return JSON.parse(t)}function cr(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=$h(sy(o[0])||""),n=$h(sy(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},p9=function(t){const e=IM(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},g9=function(t){const e=IM(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Gu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Bw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ay(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Ks(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(yR(o)&&yR(s)){if(!Ks(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function yR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Of(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let f=0;f<80;f++){f<40?f<20?(c=a^o&(s^a),u=1518500249):(c=o^s^a,u=1859775393):f<60?(c=o&s|a&(o|s),u=2400959708):(c=o^s^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[f]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function y9(t,e){const n=new v9(t,e);return n.subscribe.bind(n)}class v9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=X_),i.error===void 0&&(i.error=X_),i.complete===void 0&&(i.complete=X_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function X_(){}function yx(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,ae(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Pv=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t){return t&&t._delegate?t._delegate:t}class Ys{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Rv;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x9(e))try{this.getOrInitializeService({instanceIdentifier:Il})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Il){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Il){return this.instances.has(e)}getOptions(e=Il){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:E9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Il){return this.component?this.component.multipleInstances?e:Il:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E9(t){return t===Il?void 0:t}function x9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new w9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xt||(xt={}));const C9={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},T9=xt.INFO,I9={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},R9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=I9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Av{constructor(e){this.name=e,this._logLevel=T9,this._logHandler=R9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const P9=(t,e)=>e.some(n=>t instanceof n);let vR,_R;function A9(){return vR||(vR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k9(){return _R||(_R=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RM=new WeakMap,Vw=new WeakMap,PM=new WeakMap,Q_=new WeakMap,vx=new WeakMap;function O9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(za(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&RM.set(n,t)}).catch(()=>{}),vx.set(e,t),e}function N9(t){if(Vw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Vw.set(t,e)}let Uw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return za(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $9(t){Uw=t(Uw)}function M9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(J_(this),e,...n);return PM.set(r,e.sort?e.sort():[e]),za(r)}:k9().includes(t)?function(...e){return t.apply(J_(this),e),za(RM.get(this))}:function(...e){return za(t.apply(J_(this),e))}}function D9(t){return typeof t=="function"?M9(t):(t instanceof IDBTransaction&&N9(t),P9(t,A9())?new Proxy(t,Uw):t)}function za(t){if(t instanceof IDBRequest)return O9(t);if(Q_.has(t))return Q_.get(t);const e=D9(t);return e!==t&&(Q_.set(t,e),vx.set(e,t)),e}const J_=t=>vx.get(t);function L9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=za(s);return r&&s.addEventListener("upgradeneeded",l=>{r(za(s.result),l.oldVersion,l.newVersion,za(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const F9=["get","getKey","getAll","getAllKeys","count"],B9=["put","add","delete","clear"],Z_=new Map;function bR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Z_.get(e))return Z_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=B9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||F9.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Z_.set(e,o),o}$9(t=>({...t,get:(e,n,r)=>bR(e,n)||t.get(e,n,r),has:(e,n)=>!!bR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(U9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function U9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jw="@firebase/app",wR="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new Av("@firebase/app"),j9="@firebase/app-compat",z9="@firebase/analytics-compat",W9="@firebase/analytics",H9="@firebase/app-check-compat",G9="@firebase/app-check",q9="@firebase/auth",K9="@firebase/auth-compat",Y9="@firebase/database",X9="@firebase/data-connect",Q9="@firebase/database-compat",J9="@firebase/functions",Z9="@firebase/functions-compat",ez="@firebase/installations",tz="@firebase/installations-compat",nz="@firebase/messaging",rz="@firebase/messaging-compat",iz="@firebase/performance",oz="@firebase/performance-compat",sz="@firebase/remote-config",az="@firebase/remote-config-compat",lz="@firebase/storage",cz="@firebase/storage-compat",uz="@firebase/firestore",dz="@firebase/vertexai",fz="@firebase/firestore-compat",hz="firebase",pz="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="[DEFAULT]",gz={[jw]:"fire-core",[j9]:"fire-core-compat",[W9]:"fire-analytics",[z9]:"fire-analytics-compat",[G9]:"fire-app-check",[H9]:"fire-app-check-compat",[q9]:"fire-auth",[K9]:"fire-auth-compat",[Y9]:"fire-rtdb",[X9]:"fire-data-connect",[Q9]:"fire-rtdb-compat",[J9]:"fire-fn",[Z9]:"fire-fn-compat",[ez]:"fire-iid",[tz]:"fire-iid-compat",[nz]:"fire-fcm",[rz]:"fire-fcm-compat",[iz]:"fire-perf",[oz]:"fire-perf-compat",[sz]:"fire-rc",[az]:"fire-rc-compat",[lz]:"fire-gcs",[cz]:"fire-gcs-compat",[uz]:"fire-fst",[fz]:"fire-fst-compat",[dz]:"fire-vertex","fire-js":"fire-js",[hz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=new Map,mz=new Map,Ww=new Map;function ER(t,e){try{t.container.addComponent(e)}catch(n){Xs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ja(t){const e=t.name;if(Ww.has(e))return Xs.debug(`There were multiple attempts to register component ${e}.`),!1;Ww.set(e,t);for(const n of ly.values())ER(n,t);for(const n of mz.values())ER(n,t);return!0}function mp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wa=new gp("app","Firebase",yz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=pz;function AM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Wa.create("bad-app-name",{appName:String(i)});if(n||(n=xM()),!n)throw Wa.create("no-options");const o=ly.get(i);if(o){if(Ks(n,o.options)&&Ks(r,o.config))return o;throw Wa.create("duplicate-app",{appName:i})}const s=new S9(i);for(const l of Ww.values())s.addComponent(l);const a=new vz(n,r,s);return ly.set(i,a),a}function kv(t=zw){const e=ly.get(t);if(!e&&t===zw&&xM())return AM();if(!e)throw Wa.create("no-app",{appName:t});return e}function so(t,e,n){var r;let i=(r=gz[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xs.warn(a.join(" "));return}Ja(new Ys(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z="firebase-heartbeat-database",bz=1,Mh="firebase-heartbeat-store";let eb=null;function kM(){return eb||(eb=L9(_z,bz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wa.create("idb-open",{originalErrorMessage:t.message})})),eb}async function wz(t){try{const n=(await kM()).transaction(Mh),r=await n.objectStore(Mh).get(OM(t));return await n.done,r}catch(e){if(e instanceof ys)Xs.warn(e.message);else{const n=Wa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xs.warn(n.message)}}}async function xR(t,e){try{const r=(await kM()).transaction(Mh,"readwrite");await r.objectStore(Mh).put(e,OM(t)),await r.done}catch(n){if(n instanceof ys)Xs.warn(n.message);else{const r=Wa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xs.warn(r.message)}}}function OM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez=1024,xz=30;class Sz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Tz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=SR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>xz){const s=Iz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=SR(),{heartbeatsToSend:r,unsentEntries:i}=Cz(this._heartbeatsCache.heartbeats),o=oy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Xs.warn(n),""}}}function SR(){return new Date().toISOString().substring(0,10)}function Cz(t,e=Ez){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),CR(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Tz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return c9()?u9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wz(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function CR(t){return oy(JSON.stringify({version:2,heartbeats:t})).length}function Iz(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rz(t){Ja(new Ys("platform-logger",e=>new V9(e),"PRIVATE")),Ja(new Ys("heartbeat",e=>new Sz(e),"PRIVATE")),so(jw,wR,t),so(jw,wR,"esm2017"),so("fire-js","")}Rz("");var Pz="firebase",Az="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */so(Pz,Az,"app");function _x(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function NM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kz=NM,$M=new gp("auth","Firebase",NM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=new Av("@firebase/auth");function Oz(t,...e){cy.logLevel<=xt.WARN&&cy.warn(`Auth (${pl}): ${t}`,...e)}function ym(t,...e){cy.logLevel<=xt.ERROR&&cy.error(`Auth (${pl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(t,...e){throw wx(t,...e)}function Fo(t,...e){return wx(t,...e)}function bx(t,e,n){const r=Object.assign(Object.assign({},kz()),{[e]:n});return new gp("auth","Firebase",r).create(e,{appName:t.name})}function Us(t){return bx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nz(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&uo(t,"argument-error"),bx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $M.create(t,...e)}function ze(t,e,...n){if(!t)throw wx(e,...n)}function Ds(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ym(e),new Error(e)}function Qs(t,e){t||Ds(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $z(){return TR()==="http:"||TR()==="https:"}function TR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($z()||s9()||"connection"in navigator)?navigator.onLine:!0}function Dz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qs(n>e,"Short delay should be less than long delay!"),this.isMobile=mx()||CM()}get(){return Mz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t,e){Qs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Bz=new yp(3e4,6e4);function gl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ml(t,e,n,r,i={}){return DM(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=_d(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},o);return o9()||(c.referrerPolicy="no-referrer"),MM.fetch()(await LM(t,t.config.apiHost,n,a),c)})}async function DM(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Lz),e);try{const i=new Uz(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Rg(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rg(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Rg(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Rg(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw bx(t,u,c);uo(t,u)}}catch(i){if(i instanceof ys)throw i;uo(t,"network-request-failed",{message:String(i)})}}async function vp(t,e,n,r,i={}){const o=await ml(t,e,n,r,i);return"mfaPendingCredential"in o&&uo(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function LM(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?Ex(t.config,i):`${t.config.apiScheme}://${i}`;return Fz.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function Vz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Uz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fo(this.auth,"network-request-failed")),Bz.get())})}}function Rg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Fo(t,e,r);return i.customData._tokenResponse=n,i}function IR(t){return t!==void 0&&t.enterprise!==void 0}class jz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Vz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zz(t,e){return ml(t,"GET","/v2/recaptchaConfig",gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wz(t,e){return ml(t,"POST","/v1/accounts:delete",e)}async function uy(t,e){return ml(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Hz(t,e=!1){const n=Ut(t),r=await n.getIdToken(e),i=xx(r);ze(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Jf(tb(i.auth_time)),issuedAtTime:Jf(tb(i.iat)),expirationTime:Jf(tb(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function tb(t){return Number(t)*1e3}function xx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ym("JWT malformed, contained fewer than 3 sections"),null;try{const i=sy(n);return i?JSON.parse(i):(ym("Failed to decode base64 JWT payload"),null)}catch(i){return ym("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function RR(t){const e=xx(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ys&&Gz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Gz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jf(this.lastLoginAt),this.creationTime=Jf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dy(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Dh(t,uy(n,{idToken:r}));ze(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?FM(o.providerUserInfo):[],a=Yz(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Gw(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function Kz(t){const e=Ut(t);await dy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Yz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function FM(t){return t.map(e=>{var{providerId:n}=e,r=_x(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xz(t,e){const n=await DM(t,{},async()=>{const r=_d({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await LM(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",MM.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Qz(t,e){return ml(t,"POST","/v2/accounts:revokeToken",gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=RR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Xz(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Ru;return r&&(ze(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ze(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ze(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ru,this.toJSON())}_performRefresh(){return Ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Oo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=_x(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gw(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Dh(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Hz(this,e)}reload(){return Kz(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Oo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yr(this.auth.app))return Promise.reject(Us(this.auth));const e=await this.getIdToken();return await Dh(this,Wz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,c,u;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(s=n.photoURL)!==null&&s!==void 0?s:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:v,emailVerified:S,isAnonymous:k,providerData:$,stsTokenManager:I}=n;ze(v&&I,e,"internal-error");const T=Ru.fromJSON(this.name,I);ze(typeof v=="string",e,"internal-error"),ma(f,e.name),ma(h,e.name),ze(typeof S=="boolean",e,"internal-error"),ze(typeof k=="boolean",e,"internal-error"),ma(p,e.name),ma(m,e.name),ma(b,e.name),ma(x,e.name),ma(_,e.name),ma(w,e.name);const R=new Oo({uid:v,auth:e,email:h,emailVerified:S,displayName:f,isAnonymous:k,photoURL:m,phoneNumber:p,tenantId:b,stsTokenManager:T,createdAt:_,lastLoginAt:w});return $&&Array.isArray($)&&(R.providerData=$.map(y=>Object.assign({},y))),x&&(R._redirectEventId=x),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ru;i.updateFromServerResponse(n);const o=new Oo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await dy(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ze(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?FM(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Ru;a.updateFromIdToken(r);const l=new Oo({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Gw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=new Map;function Ls(t){Qs(t instanceof Function,"Expected a class definition");let e=PR.get(t);return e?(Qs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,PR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BM.type="NONE";const AR=BM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(t,e,n){return`firebase:${t}:${e}:${n}`}class Pu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=vm(this.userKey,i.apiKey,o),this.fullPersistenceKey=vm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await uy(this.auth,{idToken:e}).catch(()=>{});return n?Oo._fromGetAccountInfoResponse(this.auth,n,e):null}return Oo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pu(Ls(AR),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||Ls(AR);const s=vm(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){let f;if(typeof u=="string"){const h=await uy(e,{idToken:u}).catch(()=>{});if(!h)break;f=await Oo._fromGetAccountInfoResponse(e,h,u)}else f=Oo._fromJSON(e,u);c!==o&&(a=f),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Pu(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new Pu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HM(e))return"Blackberry";if(GM(e))return"Webos";if(UM(e))return"Safari";if((e.includes("chrome/")||jM(e))&&!e.includes("edge/"))return"Chrome";if(WM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function VM(t=jr()){return/firefox\//i.test(t)}function UM(t=jr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jM(t=jr()){return/crios\//i.test(t)}function zM(t=jr()){return/iemobile/i.test(t)}function WM(t=jr()){return/android/i.test(t)}function HM(t=jr()){return/blackberry/i.test(t)}function GM(t=jr()){return/webos/i.test(t)}function Sx(t=jr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Jz(t=jr()){var e;return Sx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Zz(){return a9()&&document.documentMode===10}function qM(t=jr()){return Sx(t)||WM(t)||GM(t)||HM(t)||/windows phone/i.test(t)||zM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(t,e=[]){let n;switch(t){case"Browser":n=kR(jr());break;case"Worker":n=`${kR(jr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tW(t,e={}){return ml(t,"GET","/v2/passwordPolicy",gl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW=6;class rW{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:nW,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OR(this),this.idTokenSubscription=new OR(this),this.beforeStateQueue=new eW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$M,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ls(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Pu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uy(this,{idToken:e}),r=await Oo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Yr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Dz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yr(this.app))return Promise.reject(Us(this));const n=e?Ut(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yr(this.app)?Promise.reject(Us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yr(this.app)?Promise.reject(Us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tW(this),n=new rW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Qz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ls(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await Pu.create(this,[Ls(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Oz(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function yl(t){return Ut(t)}class OR{constructor(e){this.auth=e,this.observer=null,this.addObserver=y9(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ov={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oW(t){Ov=t}function YM(t){return Ov.loadJS(t)}function sW(){return Ov.recaptchaEnterpriseScript}function aW(){return Ov.gapiScript}function lW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class cW{constructor(){this.enterprise=new uW}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class uW{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const dW="recaptcha-enterprise",XM="NO_RECAPTCHA";class fW{constructor(e){this.type=dW,this.auth=yl(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{zz(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new jz(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;IR(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(XM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cW().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&IR(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=sW();l.length!==0&&(l+=a),YM(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function uf(t,e,n,r=!1,i=!1){const o=new fW(t);let s;if(i)s=XM;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function qw(t,e,n,r,i){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await uf(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await uf(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){const a=await uf(t,e,n);return r(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await uf(t,e,n,!1,!0);return r(t,u)}return Promise.reject(l)})}else{const a=await uf(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(t,e){const n=mp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Ks(o,e??{}))return i;uo(i,"already-initialized")}return n.initialize({options:e})}function pW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ls);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function gW(t,e,n){const r=yl(t);ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=QM(e),{host:s,port:a}=mW(e),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ze(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ze(Ks(c,r.config.emulator)&&Ks(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,i||yW()}function QM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mW(t){const e=QM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:NR(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:NR(s)}}}function NR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ds("not implemented")}_getIdTokenResponse(e){return Ds("not implemented")}_linkToIdToken(e,n){return Ds("not implemented")}_getReauthenticationResolver(e){return Ds("not implemented")}}async function vW(t,e){return ml(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _W(t,e){return vp(t,"POST","/v1/accounts:signInWithPassword",gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bW(t,e){return vp(t,"POST","/v1/accounts:signInWithEmailLink",gl(t,e))}async function wW(t,e){return vp(t,"POST","/v1/accounts:signInWithEmailLink",gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends Cx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Lh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Lh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qw(e,n,"signInWithPassword",_W,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return bW(e,{email:this._email,oobCode:this._password});default:uo(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qw(e,r,"signUpPassword",vW,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return wW(e,{idToken:n,email:this._email,oobCode:this._password});default:uo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(t,e){return vp(t,"POST","/v1/accounts:signInWithIdp",gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW="http://localhost";class Zl extends Cx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):uo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=_x(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Zl(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Au(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Au(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Au(e,n)}buildRequest(){const e={requestUri:EW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_d(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SW(t){const e=kf(Of(t)).link,n=e?kf(Of(e)).deep_link_id:null,r=kf(Of(t)).deep_link_id;return(r?kf(Of(r)).link:null)||r||n||e||t}class Tx{constructor(e){var n,r,i,o,s,a;const l=kf(Of(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,f=xW((i=l.mode)!==null&&i!==void 0?i:null);ze(c&&u&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=SW(e);try{return new Tx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(){this.providerId=bd.PROVIDER_ID}static credential(e,n){return Lh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Tx.parseLink(n);return ze(r,"argument-error"),Lh._fromEmailAndCode(e,r.code,r.tenantId)}}bd.PROVIDER_ID="password";bd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p extends Ix{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends _p{constructor(){super("facebook.com")}static credential(e){return Zl._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sa.credential(e.oauthAccessToken)}catch{return null}}}Sa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends _p{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zl._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ns.credential(n,r)}catch{return null}}}Ns.GOOGLE_SIGN_IN_METHOD="google.com";Ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends _p{constructor(){super("github.com")}static credential(e){return Zl._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ca.credential(e.oauthAccessToken)}catch{return null}}}Ca.GITHUB_SIGN_IN_METHOD="github.com";Ca.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends _p{constructor(){super("twitter.com")}static credential(e,n){return Zl._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ta.credential(n,r)}catch{return null}}}Ta.TWITTER_SIGN_IN_METHOD="twitter.com";Ta.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CW(t,e){return vp(t,"POST","/v1/accounts:signUp",gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Oo._fromIdTokenResponse(e,r,i),s=$R(r);return new ec({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=$R(r);return new ec({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function $R(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy extends ys{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fy.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new fy(e,n,r,i)}}function JM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fy._fromErrorAndOperation(t,o,e,r):o})}async function TW(t,e,n=!1){const r=await Dh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ec._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IW(t,e,n=!1){const{auth:r}=t;if(Yr(r.app))return Promise.reject(Us(r));const i="reauthenticate";try{const o=await Dh(t,JM(r,i,e,t),n);ze(o.idToken,r,"internal-error");const s=xx(o.idToken);ze(s,r,"internal-error");const{sub:a}=s;return ze(t.uid===a,r,"user-mismatch"),ec._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&uo(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZM(t,e,n=!1){if(Yr(t.app))return Promise.reject(Us(t));const r="signIn",i=await JM(t,r,e),o=await ec._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function RW(t,e){return ZM(yl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(t){const e=yl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function PW(t,e,n){if(Yr(t.app))return Promise.reject(Us(t));const r=yl(t),s=await qw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CW,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&eD(t),l}),a=await ec._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function AW(t,e,n){return Yr(t.app)?Promise.reject(Us(t)):RW(Ut(t),bd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&eD(t),r})}function kW(t,e,n,r){return Ut(t).onIdTokenChanged(e,n,r)}function OW(t,e,n){return Ut(t).beforeAuthStateChanged(e,n)}function NW(t,e,n,r){return Ut(t).onAuthStateChanged(e,n,r)}const hy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hy,"1"),this.storage.removeItem(hy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W=1e3,MW=10;class nD extends tD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);Zz()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,MW):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},$W)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nD.type="LOCAL";const DW=nD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD extends tD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rD.type="SESSION";const iD=rD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Nv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await LW(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=Rx("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(){return window}function BW(t){ss().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(){return typeof ss().WorkerGlobalScope<"u"&&typeof ss().importScripts=="function"}async function VW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jW(){return oD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="firebaseLocalStorageDb",zW=1,py="firebaseLocalStorage",aD="fbase_key";class bp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $v(t,e){return t.transaction([py],e?"readwrite":"readonly").objectStore(py)}function WW(){const t=indexedDB.deleteDatabase(sD);return new bp(t).toPromise()}function Kw(){const t=indexedDB.open(sD,zW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(py,{keyPath:aD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(py)?e(r):(r.close(),await WW(),e(await Kw()))})})}async function MR(t,e,n){const r=$v(t,!0).put({[aD]:e,value:n});return new bp(r).toPromise()}async function HW(t,e){const n=$v(t,!1).get(e),r=await new bp(n).toPromise();return r===void 0?null:r.value}function DR(t,e){const n=$v(t,!0).delete(e);return new bp(n).toPromise()}const GW=800,qW=3;class lD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>qW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nv._getInstance(jW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await VW(),!this.activeServiceWorker)return;this.sender=new FW(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kw();return await MR(e,hy,"1"),await DR(e,hy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>MR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>HW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>DR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=$v(i,!1).getAll();return new bp(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lD.type="LOCAL";const KW=lD;new yp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t,e){return e?Ls(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px extends Cx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Au(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Au(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Au(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YW(t){return ZM(t.auth,new Px(t),t.bypassAuthState)}function XW(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),IW(n,new Px(t),t.bypassAuthState)}async function QW(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),TW(n,new Px(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YW;case"linkViaPopup":case"linkViaRedirect":return QW;case"reauthViaPopup":case"reauthViaRedirect":return XW;default:uo(this.auth,"internal-error")}}resolve(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JW=new yp(2e3,1e4);async function ZW(t,e,n){if(Yr(t.app))return Promise.reject(Fo(t,"operation-not-supported-in-this-environment"));const r=yl(t);Nz(t,e,Ix);const i=cD(r,n);return new Dl(r,"signInViaPopup",e,i).executeNotNull()}class Dl extends uD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Dl.currentPopupAction&&Dl.currentPopupAction.cancel(),Dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){Qs(this.filter.length===1,"Popup operations only handle one event");const e=Rx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JW.get())};e()}}Dl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8="pendingRedirect",_m=new Map;class t8 extends uD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_m.get(this.auth._key());if(!e){try{const r=await n8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_m.set(this.auth._key(),e)}return this.bypassAuthState||_m.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n8(t,e){const n=o8(e),r=i8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function r8(t,e){_m.set(t._key(),e)}function i8(t){return Ls(t._redirectPersistence)}function o8(t){return vm(e8,t.config.apiKey,t.name)}async function s8(t,e,n=!1){if(Yr(t.app))return Promise.reject(Us(t));const r=yl(t),i=cD(r,e),s=await new t8(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8=10*60*1e3;class l8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!c8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a8&&this.cachedEventUids.clear(),this.cachedEventUids.has(LR(e))}saveEventToCache(e){this.cachedEventUids.add(LR(e)),this.lastProcessedEventTime=Date.now()}}function LR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function c8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u8(t,e={}){return ml(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f8=/^https?/;async function h8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await u8(t);for(const n of e)try{if(p8(n))return}catch{}uo(t,"unauthorized-domain")}function p8(t){const e=Hw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!f8.test(n))return!1;if(d8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8=new yp(3e4,6e4);function FR(){const t=ss().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function m8(t){return new Promise((e,n)=>{var r,i,o;function s(){FR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{FR(),n(Fo(t,"network-request-failed"))},timeout:g8.get()})}if(!((i=(r=ss().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ss().gapi)===null||o===void 0)&&o.load)s();else{const a=lW("iframefcb");return ss()[a]=()=>{gapi.load?s():n(Fo(t,"network-request-failed"))},YM(`${aW()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw bm=null,e})}let bm=null;function y8(t){return bm=bm||m8(t),bm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8=new yp(5e3,15e3),_8="__/auth/iframe",b8="emulator/auth/iframe",w8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x8(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ex(e,b8):`https://${t.config.authDomain}/${_8}`,r={apiKey:e.apiKey,appName:t.name,v:pl},i=E8.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${_d(r).slice(1)}`}async function S8(t){const e=await y8(t),n=ss().gapi;return ze(n,t,"internal-error"),e.open({where:document.body,url:x8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w8,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Fo(t,"network-request-failed"),a=ss().setTimeout(()=>{o(s)},v8.get());function l(){ss().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T8=500,I8=600,R8="_blank",P8="http://localhost";class BR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A8(t,e,n,r=T8,i=I8){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},C8),{width:r.toString(),height:i.toString(),top:o,left:s}),c=jr().toLowerCase();n&&(a=jM(c)?R8:n),VM(c)&&(e=e||P8,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(Jz(c)&&a!=="_self")return k8(e||"",a),new BR(null);const f=window.open(e||"",a,u);ze(f,t,"popup-blocked");try{f.focus()}catch{}return new BR(f)}function k8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8="__/auth/handler",N8="emulator/auth/handler",$8=encodeURIComponent("fac");async function VR(t,e,n,r,i,o){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pl,eventId:i};if(e instanceof Ix){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Bw(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(o||{}))s[u]=f}if(e instanceof _p){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${$8}=${encodeURIComponent(l)}`:"";return`${M8(t)}?${_d(a).slice(1)}${c}`}function M8({config:t}){return t.emulator?Ex(t,N8):`https://${t.authDomain}/${O8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="webStorageSupport";class D8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iD,this._completeRedirectFn=s8,this._overrideRedirectResult=r8}async _openPopup(e,n,r,i){var o;Qs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await VR(e,n,r,Hw(),i);return A8(e,s,Rx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await VR(e,n,r,Hw(),i);return BW(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Qs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await S8(e),r=new l8(e);return n.register("authEvent",i=>(ze(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nb,{type:nb},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[nb];s!==void 0&&n(!!s),uo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=h8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qM()||UM()||Sx()}}const L8=D8;var UR="@firebase/auth",jR="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function V8(t){Ja(new Ys("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ze(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KM(t)},c=new iW(r,i,o,l);return pW(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ja(new Ys("auth-internal",e=>{const n=yl(e.getProvider("auth").getImmediate());return(r=>new F8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),so(UR,jR,B8(t)),so(UR,jR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8=5*60,j8=SM("authIdTokenMaxAge")||U8;let zR=null;const z8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>j8)return;const i=n==null?void 0:n.token;zR!==i&&(zR=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function W8(t=kv()){const e=mp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=hW(t,{popupRedirectResolver:L8,persistence:[KW,DW,iD]}),r=SM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=z8(o.toString());OW(n,s,()=>s(n.currentUser)),kW(n,a=>s(a))}}const i=EM("auth");return i&&gW(n,`http://${i}`),n}function H8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}oW({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Fo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",H8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});V8("Browser");var WR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ha,fD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,T){function R(){}R.prototype=T.prototype,I.D=T.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(y,P,M){for(var A=Array(arguments.length-2),z=2;z<arguments.length;z++)A[z-2]=arguments[z];return T.prototype[P].apply(y,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,T,R){R||(R=0);var y=Array(16);if(typeof T=="string")for(var P=0;16>P;++P)y[P]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(P=0;16>P;++P)y[P]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=I.g[0],R=I.g[1],P=I.g[2];var M=I.g[3],A=T+(M^R&(P^M))+y[0]+3614090360&4294967295;T=R+(A<<7&4294967295|A>>>25),A=M+(P^T&(R^P))+y[1]+3905402710&4294967295,M=T+(A<<12&4294967295|A>>>20),A=P+(R^M&(T^R))+y[2]+606105819&4294967295,P=M+(A<<17&4294967295|A>>>15),A=R+(T^P&(M^T))+y[3]+3250441966&4294967295,R=P+(A<<22&4294967295|A>>>10),A=T+(M^R&(P^M))+y[4]+4118548399&4294967295,T=R+(A<<7&4294967295|A>>>25),A=M+(P^T&(R^P))+y[5]+1200080426&4294967295,M=T+(A<<12&4294967295|A>>>20),A=P+(R^M&(T^R))+y[6]+2821735955&4294967295,P=M+(A<<17&4294967295|A>>>15),A=R+(T^P&(M^T))+y[7]+4249261313&4294967295,R=P+(A<<22&4294967295|A>>>10),A=T+(M^R&(P^M))+y[8]+1770035416&4294967295,T=R+(A<<7&4294967295|A>>>25),A=M+(P^T&(R^P))+y[9]+2336552879&4294967295,M=T+(A<<12&4294967295|A>>>20),A=P+(R^M&(T^R))+y[10]+4294925233&4294967295,P=M+(A<<17&4294967295|A>>>15),A=R+(T^P&(M^T))+y[11]+2304563134&4294967295,R=P+(A<<22&4294967295|A>>>10),A=T+(M^R&(P^M))+y[12]+1804603682&4294967295,T=R+(A<<7&4294967295|A>>>25),A=M+(P^T&(R^P))+y[13]+4254626195&4294967295,M=T+(A<<12&4294967295|A>>>20),A=P+(R^M&(T^R))+y[14]+2792965006&4294967295,P=M+(A<<17&4294967295|A>>>15),A=R+(T^P&(M^T))+y[15]+1236535329&4294967295,R=P+(A<<22&4294967295|A>>>10),A=T+(P^M&(R^P))+y[1]+4129170786&4294967295,T=R+(A<<5&4294967295|A>>>27),A=M+(R^P&(T^R))+y[6]+3225465664&4294967295,M=T+(A<<9&4294967295|A>>>23),A=P+(T^R&(M^T))+y[11]+643717713&4294967295,P=M+(A<<14&4294967295|A>>>18),A=R+(M^T&(P^M))+y[0]+3921069994&4294967295,R=P+(A<<20&4294967295|A>>>12),A=T+(P^M&(R^P))+y[5]+3593408605&4294967295,T=R+(A<<5&4294967295|A>>>27),A=M+(R^P&(T^R))+y[10]+38016083&4294967295,M=T+(A<<9&4294967295|A>>>23),A=P+(T^R&(M^T))+y[15]+3634488961&4294967295,P=M+(A<<14&4294967295|A>>>18),A=R+(M^T&(P^M))+y[4]+3889429448&4294967295,R=P+(A<<20&4294967295|A>>>12),A=T+(P^M&(R^P))+y[9]+568446438&4294967295,T=R+(A<<5&4294967295|A>>>27),A=M+(R^P&(T^R))+y[14]+3275163606&4294967295,M=T+(A<<9&4294967295|A>>>23),A=P+(T^R&(M^T))+y[3]+4107603335&4294967295,P=M+(A<<14&4294967295|A>>>18),A=R+(M^T&(P^M))+y[8]+1163531501&4294967295,R=P+(A<<20&4294967295|A>>>12),A=T+(P^M&(R^P))+y[13]+2850285829&4294967295,T=R+(A<<5&4294967295|A>>>27),A=M+(R^P&(T^R))+y[2]+4243563512&4294967295,M=T+(A<<9&4294967295|A>>>23),A=P+(T^R&(M^T))+y[7]+1735328473&4294967295,P=M+(A<<14&4294967295|A>>>18),A=R+(M^T&(P^M))+y[12]+2368359562&4294967295,R=P+(A<<20&4294967295|A>>>12),A=T+(R^P^M)+y[5]+4294588738&4294967295,T=R+(A<<4&4294967295|A>>>28),A=M+(T^R^P)+y[8]+2272392833&4294967295,M=T+(A<<11&4294967295|A>>>21),A=P+(M^T^R)+y[11]+1839030562&4294967295,P=M+(A<<16&4294967295|A>>>16),A=R+(P^M^T)+y[14]+4259657740&4294967295,R=P+(A<<23&4294967295|A>>>9),A=T+(R^P^M)+y[1]+2763975236&4294967295,T=R+(A<<4&4294967295|A>>>28),A=M+(T^R^P)+y[4]+1272893353&4294967295,M=T+(A<<11&4294967295|A>>>21),A=P+(M^T^R)+y[7]+4139469664&4294967295,P=M+(A<<16&4294967295|A>>>16),A=R+(P^M^T)+y[10]+3200236656&4294967295,R=P+(A<<23&4294967295|A>>>9),A=T+(R^P^M)+y[13]+681279174&4294967295,T=R+(A<<4&4294967295|A>>>28),A=M+(T^R^P)+y[0]+3936430074&4294967295,M=T+(A<<11&4294967295|A>>>21),A=P+(M^T^R)+y[3]+3572445317&4294967295,P=M+(A<<16&4294967295|A>>>16),A=R+(P^M^T)+y[6]+76029189&4294967295,R=P+(A<<23&4294967295|A>>>9),A=T+(R^P^M)+y[9]+3654602809&4294967295,T=R+(A<<4&4294967295|A>>>28),A=M+(T^R^P)+y[12]+3873151461&4294967295,M=T+(A<<11&4294967295|A>>>21),A=P+(M^T^R)+y[15]+530742520&4294967295,P=M+(A<<16&4294967295|A>>>16),A=R+(P^M^T)+y[2]+3299628645&4294967295,R=P+(A<<23&4294967295|A>>>9),A=T+(P^(R|~M))+y[0]+4096336452&4294967295,T=R+(A<<6&4294967295|A>>>26),A=M+(R^(T|~P))+y[7]+1126891415&4294967295,M=T+(A<<10&4294967295|A>>>22),A=P+(T^(M|~R))+y[14]+2878612391&4294967295,P=M+(A<<15&4294967295|A>>>17),A=R+(M^(P|~T))+y[5]+4237533241&4294967295,R=P+(A<<21&4294967295|A>>>11),A=T+(P^(R|~M))+y[12]+1700485571&4294967295,T=R+(A<<6&4294967295|A>>>26),A=M+(R^(T|~P))+y[3]+2399980690&4294967295,M=T+(A<<10&4294967295|A>>>22),A=P+(T^(M|~R))+y[10]+4293915773&4294967295,P=M+(A<<15&4294967295|A>>>17),A=R+(M^(P|~T))+y[1]+2240044497&4294967295,R=P+(A<<21&4294967295|A>>>11),A=T+(P^(R|~M))+y[8]+1873313359&4294967295,T=R+(A<<6&4294967295|A>>>26),A=M+(R^(T|~P))+y[15]+4264355552&4294967295,M=T+(A<<10&4294967295|A>>>22),A=P+(T^(M|~R))+y[6]+2734768916&4294967295,P=M+(A<<15&4294967295|A>>>17),A=R+(M^(P|~T))+y[13]+1309151649&4294967295,R=P+(A<<21&4294967295|A>>>11),A=T+(P^(R|~M))+y[4]+4149444226&4294967295,T=R+(A<<6&4294967295|A>>>26),A=M+(R^(T|~P))+y[11]+3174756917&4294967295,M=T+(A<<10&4294967295|A>>>22),A=P+(T^(M|~R))+y[2]+718787259&4294967295,P=M+(A<<15&4294967295|A>>>17),A=R+(M^(P|~T))+y[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(P+(A<<21&4294967295|A>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+M&4294967295}r.prototype.u=function(I,T){T===void 0&&(T=I.length);for(var R=T-this.blockSize,y=this.B,P=this.h,M=0;M<T;){if(P==0)for(;M<=R;)i(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<T;)if(y[P++]=I.charCodeAt(M++),P==this.blockSize){i(this,y),P=0;break}}else for(;M<T;)if(y[P++]=I[M++],P==this.blockSize){i(this,y),P=0;break}}this.h=P,this.o+=T},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;var R=8*this.o;for(T=I.length-8;T<I.length;++T)I[T]=R&255,R/=256;for(this.u(I),I=Array(16),T=R=0;4>T;++T)for(var y=0;32>y;y+=8)I[R++]=this.g[T]>>>y&255;return I};function o(I,T){var R=a;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=T(I)}function s(I,T){this.h=T;for(var R=[],y=!0,P=I.length-1;0<=P;P--){var M=I[P]|0;y&&M==T||(R[P]=M,y=!1)}this.g=R}var a={};function l(I){return-128<=I&&128>I?o(I,function(T){return new s([T|0],0>T?-1:0)}):new s([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return x(c(-I));for(var T=[],R=1,y=0;I>=R;y++)T[y]=I/R|0,R*=4294967296;return new s(T,0)}function u(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return x(u(I.substring(1),T));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(T,8)),y=f,P=0;P<I.length;P+=8){var M=Math.min(8,I.length-P),A=parseInt(I.substring(P,P+M),T);8>M?(M=c(Math.pow(T,M)),y=y.j(M).add(c(A))):(y=y.j(R),y=y.add(c(A)))}return y}var f=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(b(this))return-x(this).m();for(var I=0,T=1,R=0;R<this.g.length;R++){var y=this.i(R);I+=(0<=y?y:4294967296+y)*T,T*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(m(this))return"0";if(b(this))return"-"+x(this).toString(I);for(var T=c(Math.pow(I,6)),R=this,y="";;){var P=S(R,T).g;R=_(R,P.j(T));var M=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=P,m(R))return M+y;for(;6>M.length;)M="0"+M;y=M+y}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function m(I){if(I.h!=0)return!1;for(var T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function b(I){return I.h==-1}t.l=function(I){return I=_(this,I),b(I)?-1:m(I)?0:1};function x(I){for(var T=I.g.length,R=[],y=0;y<T;y++)R[y]=~I.g[y];return new s(R,~I.h).add(h)}t.abs=function(){return b(this)?x(this):this},t.add=function(I){for(var T=Math.max(this.g.length,I.g.length),R=[],y=0,P=0;P<=T;P++){var M=y+(this.i(P)&65535)+(I.i(P)&65535),A=(M>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);y=A>>>16,M&=65535,A&=65535,R[P]=A<<16|M}return new s(R,R[R.length-1]&-2147483648?-1:0)};function _(I,T){return I.add(x(T))}t.j=function(I){if(m(this)||m(I))return f;if(b(this))return b(I)?x(this).j(x(I)):x(x(this).j(I));if(b(I))return x(this.j(x(I)));if(0>this.l(p)&&0>I.l(p))return c(this.m()*I.m());for(var T=this.g.length+I.g.length,R=[],y=0;y<2*T;y++)R[y]=0;for(y=0;y<this.g.length;y++)for(var P=0;P<I.g.length;P++){var M=this.i(y)>>>16,A=this.i(y)&65535,z=I.i(P)>>>16,K=I.i(P)&65535;R[2*y+2*P]+=A*K,w(R,2*y+2*P),R[2*y+2*P+1]+=M*K,w(R,2*y+2*P+1),R[2*y+2*P+1]+=A*z,w(R,2*y+2*P+1),R[2*y+2*P+2]+=M*z,w(R,2*y+2*P+2)}for(y=0;y<T;y++)R[y]=R[2*y+1]<<16|R[2*y];for(y=T;y<2*T;y++)R[y]=0;return new s(R,0)};function w(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function v(I,T){this.g=I,this.h=T}function S(I,T){if(m(T))throw Error("division by zero");if(m(I))return new v(f,f);if(b(I))return T=S(x(I),T),new v(x(T.g),x(T.h));if(b(T))return T=S(I,x(T)),new v(x(T.g),T.h);if(30<I.g.length){if(b(I)||b(T))throw Error("slowDivide_ only works with positive integers.");for(var R=h,y=T;0>=y.l(I);)R=k(R),y=k(y);var P=$(R,1),M=$(y,1);for(y=$(y,2),R=$(R,2);!m(y);){var A=M.add(y);0>=A.l(I)&&(P=P.add(R),M=A),y=$(y,1),R=$(R,1)}return T=_(I,P.j(T)),new v(P,T)}for(P=f;0<=I.l(T);){for(R=Math.max(1,Math.floor(I.m()/T.m())),y=Math.ceil(Math.log(R)/Math.LN2),y=48>=y?1:Math.pow(2,y-48),M=c(R),A=M.j(T);b(A)||0<A.l(I);)R-=y,M=c(R),A=M.j(T);m(M)&&(M=h),P=P.add(M),I=_(I,A)}return new v(P,I)}t.A=function(I){return S(this,I).h},t.and=function(I){for(var T=Math.max(this.g.length,I.g.length),R=[],y=0;y<T;y++)R[y]=this.i(y)&I.i(y);return new s(R,this.h&I.h)},t.or=function(I){for(var T=Math.max(this.g.length,I.g.length),R=[],y=0;y<T;y++)R[y]=this.i(y)|I.i(y);return new s(R,this.h|I.h)},t.xor=function(I){for(var T=Math.max(this.g.length,I.g.length),R=[],y=0;y<T;y++)R[y]=this.i(y)^I.i(y);return new s(R,this.h^I.h)};function k(I){for(var T=I.g.length+1,R=[],y=0;y<T;y++)R[y]=I.i(y)<<1|I.i(y-1)>>>31;return new s(R,I.h)}function $(I,T){var R=T>>5;T%=32;for(var y=I.g.length-R,P=[],M=0;M<y;M++)P[M]=0<T?I.i(M+R)>>>T|I.i(M+R+1)<<32-T:I.i(M+R);return new s(P,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,fD=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Ha=s}).apply(typeof WR<"u"?WR:typeof self<"u"?self:typeof window<"u"?window:{});var Pg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hD,Nf,pD,wm,Yw,gD,mD,yD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,g,C){return d==Array.prototype||d==Object.prototype||(d[g]=C.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pg=="object"&&Pg];for(var g=0;g<d.length;++g){var C=d[g];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(d,g){if(g)e:{var C=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var V=d[N];if(!(V in C))break e;C=C[V]}d=d[d.length-1],N=C[d],g=g(N),g!=N&&g!=null&&e(C,d,{configurable:!0,writable:!0,value:g})}}function o(d,g){d instanceof String&&(d+="");var C=0,N=!1,V={next:function(){if(!N&&C<d.length){var G=C++;return{value:g(G,d[G]),done:!1}}return N=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(d){return d||function(){return o(this,function(g,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(d){var g=typeof d;return g=g!="object"?g:d?Array.isArray(d)?"array":g:"null",g=="array"||g=="object"&&typeof d.length=="number"}function c(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function u(d,g,C){return d.call.apply(d.bind,arguments)}function f(d,g,C){if(!d)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,N),d.apply(g,V)}}return function(){return d.apply(g,arguments)}}function h(d,g,C){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(d,g){var C=Array.prototype.slice.call(arguments,1);return function(){var N=C.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function m(d,g){function C(){}C.prototype=g.prototype,d.aa=g.prototype,d.prototype=new C,d.prototype.constructor=d,d.Qb=function(N,V,G){for(var ue=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)ue[Xt-2]=arguments[Xt];return g.prototype[V].apply(N,ue)}}function b(d){const g=d.length;if(0<g){const C=Array(g);for(let N=0;N<g;N++)C[N]=d[N];return C}return[]}function x(d,g){for(let C=1;C<arguments.length;C++){const N=arguments[C];if(l(N)){const V=d.length||0,G=N.length||0;d.length=V+G;for(let ue=0;ue<G;ue++)d[V+ue]=N[ue]}else d.push(N)}}class _{constructor(g,C){this.i=g,this.j=C,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function w(d){return/^[\s\xa0]*$/.test(d)}function v(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function S(d){return S[" "](d),d}S[" "]=function(){};var k=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function $(d,g,C){for(const N in d)g.call(C,d[N],N,d)}function I(d,g){for(const C in d)g.call(void 0,d[C],C,d)}function T(d){const g={};for(const C in d)g[C]=d[C];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function y(d,g){let C,N;for(let V=1;V<arguments.length;V++){N=arguments[V];for(C in N)d[C]=N[C];for(let G=0;G<R.length;G++)C=R[G],Object.prototype.hasOwnProperty.call(N,C)&&(d[C]=N[C])}}function P(d){var g=1;d=d.split(":");const C=[];for(;0<g&&d.length;)C.push(d.shift()),g--;return d.length&&C.push(d.join(":")),C}function M(d){a.setTimeout(()=>{throw d},0)}function A(){var d=B;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class z{constructor(){this.h=this.g=null}add(g,C){const N=K.get();N.set(g,C),this.h?this.h.next=N:this.g=N,this.h=N}}var K=new _(()=>new j,d=>d.reset());class j{constructor(){this.next=this.g=this.h=null}set(g,C){this.h=g,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,U=!1,B=new z,W=()=>{const d=a.Promise.resolve(void 0);Y=()=>{d.then(re)}};var re=()=>{for(var d;d=A();){try{d.h.call(d.g)}catch(C){M(C)}var g=K;g.j(d),100>g.h&&(g.h++,d.next=g.g,g.g=d)}U=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const C=()=>{};a.addEventListener("test",C,g),a.removeEventListener("test",C,g)}catch{}return d}();function le(d,g){if(me.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var C=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget){if(k){e:{try{S(g.nodeName);var V=!0;break e}catch{}V=!1}V||(g=null)}}else C=="mouseover"?g=d.fromElement:C=="mouseout"&&(g=d.toElement);this.relatedTarget=g,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Oe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&le.aa.h.call(this)}}m(le,me);var Oe={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),Re=0;function Ee(d,g,C,N,V){this.listener=d,this.proxy=null,this.src=g,this.type=C,this.capture=!!N,this.ha=V,this.key=++Re,this.da=this.fa=!1}function ye(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function De(d){this.src=d,this.g={},this.h=0}De.prototype.add=function(d,g,C,N,V){var G=d.toString();d=this.g[G],d||(d=this.g[G]=[],this.h++);var ue=ut(d,g,N,V);return-1<ue?(g=d[ue],C||(g.fa=!1)):(g=new Ee(g,this.src,G,!!N,V),g.fa=C,d.push(g)),g};function Pe(d,g){var C=g.type;if(C in d.g){var N=d.g[C],V=Array.prototype.indexOf.call(N,g,void 0),G;(G=0<=V)&&Array.prototype.splice.call(N,V,1),G&&(ye(g),d.g[C].length==0&&(delete d.g[C],d.h--))}}function ut(d,g,C,N){for(var V=0;V<d.length;++V){var G=d[V];if(!G.da&&G.listener==g&&G.capture==!!C&&G.ha==N)return V}return-1}var Be="closure_lm_"+(1e6*Math.random()|0),Ue={};function Nt(d,g,C,N,V){if(N&&N.once)return Me(d,g,C,N,V);if(Array.isArray(g)){for(var G=0;G<g.length;G++)Nt(d,g[G],C,N,V);return null}return C=st(C),d&&d[Ne]?d.K(g,C,c(N)?!!N.capture:!!N,V):de(d,g,C,!1,N,V)}function de(d,g,C,N,V,G){if(!g)throw Error("Invalid event type");var ue=c(V)?!!V.capture:!!V,Xt=ht(d);if(Xt||(d[Be]=Xt=new De(d)),C=Xt.add(g,C,N,ue,G),C.proxy)return C;if(N=Ke(),C.proxy=N,N.src=d,N.listener=C,d.addEventListener)be||(V=ue),V===void 0&&(V=!1),d.addEventListener(g.toString(),N,V);else if(d.attachEvent)d.attachEvent(xe(g.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Ke(){function d(C){return g.call(d.src,d.listener,C)}const g=sn;return d}function Me(d,g,C,N,V){if(Array.isArray(g)){for(var G=0;G<g.length;G++)Me(d,g[G],C,N,V);return null}return C=st(C),d&&d[Ne]?d.L(g,C,c(N)?!!N.capture:!!N,V):de(d,g,C,!0,N,V)}function ft(d,g,C,N,V){if(Array.isArray(g))for(var G=0;G<g.length;G++)ft(d,g[G],C,N,V);else N=c(N)?!!N.capture:!!N,C=st(C),d&&d[Ne]?(d=d.i,g=String(g).toString(),g in d.g&&(G=d.g[g],C=ut(G,C,N,V),-1<C&&(ye(G[C]),Array.prototype.splice.call(G,C,1),G.length==0&&(delete d.g[g],d.h--)))):d&&(d=ht(d))&&(g=d.g[g.toString()],d=-1,g&&(d=ut(g,C,N,V)),(C=-1<d?g[d]:null)&&Ye(C))}function Ye(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[Ne])Pe(g.i,d);else{var C=d.type,N=d.proxy;g.removeEventListener?g.removeEventListener(C,N,d.capture):g.detachEvent?g.detachEvent(xe(C),N):g.addListener&&g.removeListener&&g.removeListener(N),(C=ht(g))?(Pe(C,d),C.h==0&&(C.src=null,g[Be]=null)):ye(d)}}}function xe(d){return d in Ue?Ue[d]:Ue[d]="on"+d}function sn(d,g){if(d.da)d=!0;else{g=new le(g,this);var C=d.listener,N=d.ha||d.src;d.fa&&Ye(d),d=C.call(N,g)}return d}function ht(d){return d=d[Be],d instanceof De?d:null}var an="__closure_events_fn_"+(1e9*Math.random()>>>0);function st(d){return typeof d=="function"?d:(d[an]||(d[an]=function(g){return d.handleEvent(g)}),d[an])}function Ct(){he.call(this),this.i=new De(this),this.M=this,this.F=null}m(Ct,he),Ct.prototype[Ne]=!0,Ct.prototype.removeEventListener=function(d,g,C,N){ft(this,d,g,C,N)};function gt(d,g){var C,N=d.F;if(N)for(C=[];N;N=N.F)C.push(N);if(d=d.M,N=g.type||g,typeof g=="string")g=new me(g,d);else if(g instanceof me)g.target=g.target||d;else{var V=g;g=new me(N,d),y(g,V)}if(V=!0,C)for(var G=C.length-1;0<=G;G--){var ue=g.g=C[G];V=jt(ue,N,!0,g)&&V}if(ue=g.g=d,V=jt(ue,N,!0,g)&&V,V=jt(ue,N,!1,g)&&V,C)for(G=0;G<C.length;G++)ue=g.g=C[G],V=jt(ue,N,!1,g)&&V}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var d=this.i,g;for(g in d.g){for(var C=d.g[g],N=0;N<C.length;N++)ye(C[N]);delete d.g[g],d.h--}}this.F=null},Ct.prototype.K=function(d,g,C,N){return this.i.add(String(d),g,!1,C,N)},Ct.prototype.L=function(d,g,C,N){return this.i.add(String(d),g,!0,C,N)};function jt(d,g,C,N){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();for(var V=!0,G=0;G<g.length;++G){var ue=g[G];if(ue&&!ue.da&&ue.capture==C){var Xt=ue.listener,_r=ue.ha||ue.src;ue.fa&&Pe(d.i,ue),V=Xt.call(_r,N)!==!1&&V}}return V&&!N.defaultPrevented}function at(d,g,C){if(typeof d=="function")C&&(d=h(d,C));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(d,g||0)}function Je(d){d.g=at(()=>{d.g=null,d.i&&(d.i=!1,Je(d))},d.l);const g=d.h;d.h=null,d.m.apply(null,g)}class Rn extends he{constructor(g,C){super(),this.m=g,this.l=C,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Je(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mn(d){he.call(this),this.h=d,this.g={}}m(mn,he);var ti=[];function we(d){$(d.g,function(g,C){this.g.hasOwnProperty(C)&&Ye(g)},d),d.g={}}mn.prototype.N=function(){mn.aa.N.call(this),we(this)},mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var We=a.JSON.stringify,qt=a.JSON.parse,Xn=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function pr(){}pr.prototype.h=null;function yn(d){return d.h||(d.h=d.i())}function gr(){}var En={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ni(){me.call(this,"d")}m(ni,me);function rr(){me.call(this,"c")}m(rr,me);var Ir={},zn=null;function mr(){return zn=zn||new Ct}Ir.La="serverreachability";function Go(d){me.call(this,Ir.La,d)}m(Go,me);function ge(d){const g=mr();gt(g,new Go(g))}Ir.STAT_EVENT="statevent";function _e(d,g){me.call(this,Ir.STAT_EVENT,d),this.stat=g}m(_e,me);function $e(d){const g=mr();gt(g,new _e(g,d))}Ir.Ma="timingevent";function lt(d,g){me.call(this,Ir.Ma,d),this.size=g}m(lt,me);function Pt(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},g)}function xn(){this.g=!0}xn.prototype.xa=function(){this.g=!1};function zr(d,g,C,N,V,G){d.info(function(){if(d.g)if(G)for(var ue="",Xt=G.split("&"),_r=0;_r<Xt.length;_r++){var Dt=Xt[_r].split("=");if(1<Dt.length){var Rr=Dt[0];Dt=Dt[1];var Pr=Rr.split("_");ue=2<=Pr.length&&Pr[1]=="type"?ue+(Rr+"="+Dt+"&"):ue+(Rr+"=redacted&")}}else ue=null;else ue=G;return"XMLHTTP REQ ("+N+") [attempt "+V+"]: "+g+`
`+C+`
`+ue})}function Ci(d,g,C,N,V,G,ue){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+V+"]: "+g+`
`+C+`
`+G+" "+ue})}function yr(d,g,C,N){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+Pn(d,C)+(N?" "+N:"")})}function vn(d,g){d.info(function(){return"TIMEOUT: "+g})}xn.prototype.info=function(){};function Pn(d,g){if(!d.g)return g;if(!g)return null;try{var C=JSON.parse(g);if(C){for(d=0;d<C.length;d++)if(Array.isArray(C[d])){var N=C[d];if(!(2>N.length)){var V=N[1];if(Array.isArray(V)&&!(1>V.length)){var G=V[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ue=1;ue<V.length;ue++)V[ue]=""}}}}return We(C)}catch{return g}}var vr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ws={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Z;function X(){}m(X,pr),X.prototype.g=function(){return new XMLHttpRequest},X.prototype.i=function(){return{}},Z=new X;function pe(d,g,C,N){this.j=d,this.i=g,this.l=C,this.R=N||1,this.U=new mn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xe}function Xe(){this.i=null,this.g="",this.h=!1}var dt={},$t={};function tn(d,g,C){d.L=1,d.v=vo(nt(g)),d.m=C,d.P=!0,Qn(d,null)}function Qn(d,g){d.F=Date.now(),Es(d),d.A=nt(d.v);var C=d.A,N=d.R;Array.isArray(N)||(N=[String(N)]),ha(C.i,"t",N),d.C=0,C=d.j.J,d.h=new Xe,d.g=YT(d.j,C?g:null,!d.m),0<d.O&&(d.M=new Rn(h(d.Y,d,d.g),d.O)),g=d.U,C=d.g,N=d.ca;var V="readystatechange";Array.isArray(V)||(V&&(ti[0]=V.toString()),V=ti);for(var G=0;G<V.length;G++){var ue=Nt(C,V[G],N||g.handleEvent,!1,g.h||g);if(!ue)break;g.g[ue.key]=ue}g=d.H?T(d.H):{},d.m?(d.u||(d.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,g)):(d.u="GET",d.g.ea(d.A,d.u,null,g)),ge(),zr(d.i,d.u,d.A,d.l,d.R,d.m)}pe.prototype.ca=function(d){d=d.target;const g=this.M;g&&Cs(d)==3?g.j():this.Y(d)},pe.prototype.Y=function(d){try{if(d==this.g)e:{const Pr=Cs(this.g);var g=this.g.Ba();const Pc=this.g.Z();if(!(3>Pr)&&(Pr!=3||this.g&&(this.h.h||this.g.oa()||FT(this.g)))){this.J||Pr!=4||g==7||(g==8||0>=Pc?ge(3):ge(2)),Ko(this);var C=this.g.Z();this.X=C;t:if(qo(this)){var N=FT(this.g);d="";var V=N.length,G=Cs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bn(this),mt(this);var ue="";break t}this.h.i=new a.TextDecoder}for(g=0;g<V;g++)this.h.h=!0,d+=this.h.i.decode(N[g],{stream:!(G&&g==V-1)});N.length=0,this.h.g+=d,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=C==200,Ci(this.i,this.u,this.A,this.l,this.R,Pr,C),this.o){if(this.T&&!this.K){t:{if(this.g){var Xt,_r=this.g;if((Xt=_r.g?_r.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Xt)){var Dt=Xt;break t}}Dt=null}if(C=Dt)yr(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ri(this,C);else{this.o=!1,this.s=3,$e(12),Bn(this),mt(this);break e}}if(this.P){C=!0;let Eo;for(;!this.J&&this.C<ue.length;)if(Eo=Gd(this,ue),Eo==$t){Pr==4&&(this.s=4,$e(14),C=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(Eo==dt){this.s=4,$e(15),yr(this.i,this.l,ue,"[Invalid Chunk]"),C=!1;break}else yr(this.i,this.l,Eo,null),ri(this,Eo);if(qo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pr!=4||ue.length!=0||this.h.h||(this.s=1,$e(16),C=!1),this.o=this.o&&C,!C)yr(this.i,this.l,ue,"[Invalid Chunked Response]"),Bn(this),mt(this);else if(0<ue.length&&!this.W){this.W=!0;var Rr=this.j;Rr.g==this&&Rr.ba&&!Rr.M&&(Rr.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),b_(Rr),Rr.M=!0,$e(11))}}else yr(this.i,this.l,ue,null),ri(this,ue);Pr==4&&Bn(this),this.o&&!this.J&&(Pr==4?HT(this.j,this):(this.o=!1,Es(this)))}else DB(this.g),C==400&&0<ue.indexOf("Unknown SID")?(this.s=3,$e(12)):(this.s=0,$e(13)),Bn(this),mt(this)}}}catch{}finally{}};function qo(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Gd(d,g){var C=d.C,N=g.indexOf(`
`,C);return N==-1?$t:(C=Number(g.substring(C,N)),isNaN(C)?dt:(N+=1,N+C>g.length?$t:(g=g.slice(N,N+C),d.C=N+C,g)))}pe.prototype.cancel=function(){this.J=!0,Bn(this)};function Es(d){d.S=Date.now()+d.I,xs(d,d.I)}function xs(d,g){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Pt(h(d.ba,d),g)}function Ko(d){d.B&&(a.clearTimeout(d.B),d.B=null)}pe.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(vn(this.i,this.A),this.L!=2&&(ge(),$e(17)),Bn(this),this.s=2,mt(this)):xs(this,this.S-d)};function mt(d){d.j.G==0||d.J||HT(d.j,d)}function Bn(d){Ko(d);var g=d.M;g&&typeof g.ma=="function"&&g.ma(),d.M=null,we(d.U),d.g&&(g=d.g,d.g=null,g.abort(),g.ma())}function ri(d,g){try{var C=d.j;if(C.G!=0&&(C.g==d||H(C.h,d))){if(!d.K&&H(C.h,d)&&C.G==3){try{var N=C.Da.g.parse(g)}catch{N=null}if(Array.isArray(N)&&N.length==3){var V=N;if(V[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<d.F)sg(C),ig(C);else break e;__(C),$e(18)}}else C.za=V[1],0<C.za-C.T&&37500>V[2]&&C.F&&C.v==0&&!C.C&&(C.C=Pt(h(C.Za,C),6e3));if(1>=F(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else El(C,11)}else if((d.K||C.g==d)&&sg(C),!w(g))for(V=C.Da.g.parse(g),g=0;g<V.length;g++){let Dt=V[g];if(C.T=Dt[0],Dt=Dt[1],C.G==2)if(Dt[0]=="c"){C.K=Dt[1],C.ia=Dt[2];const Rr=Dt[3];Rr!=null&&(C.la=Rr,C.j.info("VER="+C.la));const Pr=Dt[4];Pr!=null&&(C.Aa=Pr,C.j.info("SVER="+C.Aa));const Pc=Dt[5];Pc!=null&&typeof Pc=="number"&&0<Pc&&(N=1.5*Pc,C.L=N,C.j.info("backChannelRequestTimeoutMs_="+N)),N=C;const Eo=d.g;if(Eo){const lg=Eo.g?Eo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lg){var G=N.h;G.g||lg.indexOf("spdy")==-1&&lg.indexOf("quic")==-1&&lg.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(q(G,G.h),G.h=null))}if(N.D){const w_=Eo.g?Eo.g.getResponseHeader("X-HTTP-Session-Id"):null;w_&&(N.ya=w_,wt(N.I,N.D,w_))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-d.F,C.j.info("Handshake RTT: "+C.R+"ms")),N=C;var ue=d;if(N.qa=KT(N,N.J?N.ia:null,N.W),ue.K){J(N.h,ue);var Xt=ue,_r=N.L;_r&&(Xt.I=_r),Xt.B&&(Ko(Xt),Es(Xt)),N.g=ue}else zT(N);0<C.i.length&&og(C)}else Dt[0]!="stop"&&Dt[0]!="close"||El(C,7);else C.G==3&&(Dt[0]=="stop"||Dt[0]=="close"?Dt[0]=="stop"?El(C,7):v_(C):Dt[0]!="noop"&&C.l&&C.l.ta(Dt),C.v=0)}}ge(4)}catch{}}var Ss=class{constructor(d,g){this.g=d,this.map=g}};function Cc(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function L(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function F(d){return d.h?1:d.g?d.g.size:0}function H(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function q(d,g){d.g?d.g.add(g):d.h=g}function J(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}Cc.prototype.cancel=function(){if(this.i=ne(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ne(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let g=d.i;for(const C of d.g.values())g=g.concat(C.D);return g}return b(d.i)}function ce(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var g=[],C=d.length,N=0;N<C;N++)g.push(d[N]);return g}g=[],C=0;for(N in d)g[C++]=d[N];return g}function Ie(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var g=[];d=d.length;for(var C=0;C<d;C++)g.push(C);return g}g=[],C=0;for(const N in d)g[C++]=N;return g}}}function He(d,g){if(d.forEach&&typeof d.forEach=="function")d.forEach(g,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,g,void 0);else for(var C=Ie(d),N=ce(d),V=N.length,G=0;G<V;G++)g.call(void 0,N[G],C&&C[G],d)}var Le=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function je(d,g){if(d){d=d.split("&");for(var C=0;C<d.length;C++){var N=d[C].indexOf("="),V=null;if(0<=N){var G=d[C].substring(0,N);V=d[C].substring(N+1)}else G=d[C];g(G,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ze(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ze){this.h=d.h,zt(this,d.j),this.o=d.o,this.g=d.g,Ve(this,d.s),this.l=d.l;var g=d.i,C=new wo;C.i=g.i,g.g&&(C.g=new Map(g.g),C.h=g.h),Kt(this,C),this.m=d.m}else d&&(g=String(d).match(Le))?(this.h=!1,zt(this,g[1]||"",!0),this.o=_o(g[2]||""),this.g=_o(g[3]||"",!0),Ve(this,g[4]),this.l=_o(g[5]||"",!0),Kt(this,g[6]||"",!0),this.m=_o(g[7]||"")):(this.h=!1,this.i=new wo(null,this.h))}Ze.prototype.toString=function(){var d=[],g=this.j;g&&d.push(Wr(g,ir,!0),":");var C=this.g;return(C||g=="file")&&(d.push("//"),(g=this.o)&&d.push(Wr(g,ir,!0),"@"),d.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&d.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&d.push("/"),d.push(Wr(C,C.charAt(0)=="/"?bo:ln,!0))),(C=this.i.toString())&&d.push("?",C),(C=this.m)&&d.push("#",Wr(C,Tc)),d.join("")};function nt(d){return new Ze(d)}function zt(d,g,C){d.j=C?_o(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function Ve(d,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);d.s=g}else d.s=null}function Kt(d,g,C){g instanceof wo?(d.i=g,PB(d.i,d.h)):(C||(g=Wr(g,Ki)),d.i=new wo(g,d.h))}function wt(d,g,C){d.i.set(g,C)}function vo(d){return wt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function _o(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Wr(d,g,C){return typeof d=="string"?(d=encodeURI(d).replace(g,Yt),C&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Yt(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ir=/[#\/\?@]/g,ln=/[#\?:]/g,bo=/[#\?]/g,Ki=/[#\?@]/g,Tc=/#/g;function wo(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function ii(d){d.g||(d.g=new Map,d.h=0,d.i&&je(d.i,function(g,C){d.add(decodeURIComponent(g.replace(/\+/g," ")),C)}))}t=wo.prototype,t.add=function(d,g){ii(this),this.i=null,d=Ic(this,d);var C=this.g.get(d);return C||this.g.set(d,C=[]),C.push(g),this.h+=1,this};function qd(d,g){ii(d),g=Ic(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function Kd(d,g){return ii(d),g=Ic(d,g),d.g.has(g)}t.forEach=function(d,g){ii(this),this.g.forEach(function(C,N){C.forEach(function(V){d.call(g,V,N,this)},this)},this)},t.na=function(){ii(this);const d=Array.from(this.g.values()),g=Array.from(this.g.keys()),C=[];for(let N=0;N<g.length;N++){const V=d[N];for(let G=0;G<V.length;G++)C.push(g[N])}return C},t.V=function(d){ii(this);let g=[];if(typeof d=="string")Kd(this,d)&&(g=g.concat(this.g.get(Ic(this,d))));else{d=Array.from(this.g.values());for(let C=0;C<d.length;C++)g=g.concat(d[C])}return g},t.set=function(d,g){return ii(this),this.i=null,d=Ic(this,d),Kd(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},t.get=function(d,g){return d?(d=this.V(d),0<d.length?String(d[0]):g):g};function ha(d,g,C){qd(d,g),0<C.length&&(d.i=null,d.g.set(Ic(d,g),b(C)),d.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],g=Array.from(this.g.keys());for(var C=0;C<g.length;C++){var N=g[C];const G=encodeURIComponent(String(N)),ue=this.V(N);for(N=0;N<ue.length;N++){var V=G;ue[N]!==""&&(V+="="+encodeURIComponent(String(ue[N]))),d.push(V)}}return this.i=d.join("&")};function Ic(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function PB(d,g){g&&!d.j&&(ii(d),d.i=null,d.g.forEach(function(C,N){var V=N.toLowerCase();N!=V&&(qd(this,N),ha(this,V,C))},d)),d.j=g}function AB(d,g){const C=new xn;if(a.Image){const N=new Image;N.onload=p(pa,C,"TestLoadImage: loaded",!0,g,N),N.onerror=p(pa,C,"TestLoadImage: error",!1,g,N),N.onabort=p(pa,C,"TestLoadImage: abort",!1,g,N),N.ontimeout=p(pa,C,"TestLoadImage: timeout",!1,g,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else g(!1)}function kB(d,g){const C=new xn,N=new AbortController,V=setTimeout(()=>{N.abort(),pa(C,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:N.signal}).then(G=>{clearTimeout(V),G.ok?pa(C,"TestPingServer: ok",!0,g):pa(C,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),pa(C,"TestPingServer: error",!1,g)})}function pa(d,g,C,N,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),N(C)}catch{}}function OB(){this.g=new Xn}function NB(d,g,C){const N=C||"";try{He(d,function(V,G){let ue=V;c(V)&&(ue=We(V)),g.push(N+G+"="+encodeURIComponent(ue))})}catch(V){throw g.push(N+"type="+encodeURIComponent("_badmap")),V}}function tg(d){this.l=d.Ub||null,this.j=d.eb||!1}m(tg,pr),tg.prototype.g=function(){return new ng(this.l,this.j)},tg.prototype.i=function(d){return function(){return d}}({});function ng(d,g){Ct.call(this),this.D=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(ng,Ct),t=ng.prototype,t.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=g,this.readyState=1,Xd(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(g.body=d),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yd(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Xd(this)),this.g&&(this.readyState=3,Xd(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;OT(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function OT(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?Yd(this):Xd(this),this.readyState==3&&OT(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Yd(this))},t.Qa=function(d){this.g&&(this.response=d,Yd(this))},t.ga=function(){this.g&&Yd(this)};function Yd(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Xd(d)}t.setRequestHeader=function(d,g){this.u.append(d,g)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],g=this.h.entries();for(var C=g.next();!C.done;)C=C.value,d.push(C[0]+": "+C[1]),C=g.next();return d.join(`\r
`)};function Xd(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ng.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function NT(d){let g="";return $(d,function(C,N){g+=N,g+=":",g+=C,g+=`\r
`}),g}function y_(d,g,C){e:{for(N in C){var N=!1;break e}N=!0}N||(C=NT(C),typeof d=="string"?C!=null&&encodeURIComponent(String(C)):wt(d,g,C))}function An(d){Ct.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(An,Ct);var $B=/^https?$/i,MB=["POST","PUT"];t=An.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,g,C,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Z.g(),this.v=this.o?yn(this.o):yn(Z),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(G){$T(this,G);return}if(d=C||"",C=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var V in N)C.set(V,N[V]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const G of N.keys())C.set(G,N.get(G));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(C.keys()).find(G=>G.toLowerCase()=="content-type"),V=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(MB,g,void 0))||N||V||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ue]of C)this.g.setRequestHeader(G,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{LT(this),this.u=!0,this.g.send(d),this.u=!1}catch(G){$T(this,G)}};function $T(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.m=5,MT(d),rg(d)}function MT(d){d.A||(d.A=!0,gt(d,"complete"),gt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,gt(this,"complete"),gt(this,"abort"),rg(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rg(this,!0)),An.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?DT(this):this.bb())},t.bb=function(){DT(this)};function DT(d){if(d.h&&typeof s<"u"&&(!d.v[1]||Cs(d)!=4||d.Z()!=2)){if(d.u&&Cs(d)==4)at(d.Ea,0,d);else if(gt(d,"readystatechange"),Cs(d)==4){d.h=!1;try{const ue=d.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var C;if(!(C=g)){var N;if(N=ue===0){var V=String(d.D).match(Le)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),N=!$B.test(V?V.toLowerCase():"")}C=N}if(C)gt(d,"complete"),gt(d,"success");else{d.m=6;try{var G=2<Cs(d)?d.g.statusText:""}catch{G=""}d.l=G+" ["+d.Z()+"]",MT(d)}}finally{rg(d)}}}}function rg(d,g){if(d.g){LT(d);const C=d.g,N=d.v[0]?()=>{}:null;d.g=null,d.v=null,g||gt(d,"ready");try{C.onreadystatechange=N}catch{}}}function LT(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Cs(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Cs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),qt(g)}};function FT(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function DB(d){const g={};d=(d.g&&2<=Cs(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(w(d[N]))continue;var C=P(d[N]);const V=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const G=g[V]||[];g[V]=G,G.push(C)}I(g,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qd(d,g,C){return C&&C.internalChannelParams&&C.internalChannelParams[d]||g}function BT(d){this.Aa=0,this.i=[],this.j=new xn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qd("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qd("baseRetryDelayMs",5e3,d),this.cb=Qd("retryDelaySeedMs",1e4,d),this.Wa=Qd("forwardChannelMaxRetries",2,d),this.wa=Qd("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Cc(d&&d.concurrentRequestLimit),this.Da=new OB,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=BT.prototype,t.la=8,t.G=1,t.connect=function(d,g,C,N){$e(0),this.W=d,this.H=g||{},C&&N!==void 0&&(this.H.OSID=C,this.H.OAID=N),this.F=this.X,this.I=KT(this,null,this.W),og(this)};function v_(d){if(VT(d),d.G==3){var g=d.U++,C=nt(d.I);if(wt(C,"SID",d.K),wt(C,"RID",g),wt(C,"TYPE","terminate"),Jd(d,C),g=new pe(d,d.j,g),g.L=2,g.v=vo(nt(C)),C=!1,a.navigator&&a.navigator.sendBeacon)try{C=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!C&&a.Image&&(new Image().src=g.v,C=!0),C||(g.g=YT(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Es(g)}qT(d)}function ig(d){d.g&&(b_(d),d.g.cancel(),d.g=null)}function VT(d){ig(d),d.u&&(a.clearTimeout(d.u),d.u=null),sg(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function og(d){if(!L(d.h)&&!d.s){d.s=!0;var g=d.Ga;Y||W(),U||(Y(),U=!0),B.add(g,d),d.B=0}}function LB(d,g){return F(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=g.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Pt(h(d.Ga,d,g),GT(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const V=new pe(this,this.j,d);let G=this.o;if(this.S&&(G?(G=T(G),y(G,this.S)):G=this.S),this.m!==null||this.O||(V.H=G,G=null),this.P)e:{for(var g=0,C=0;C<this.i.length;C++){t:{var N=this.i[C];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(g+=N,4096<g){g=C;break e}if(g===4096||C===this.i.length-1){g=C+1;break e}}g=1e3}else g=1e3;g=jT(this,V,g),C=nt(this.I),wt(C,"RID",d),wt(C,"CVER",22),this.D&&wt(C,"X-HTTP-Session-Id",this.D),Jd(this,C),G&&(this.O?g="headers="+encodeURIComponent(String(NT(G)))+"&"+g:this.m&&y_(C,this.m,G)),q(this.h,V),this.Ua&&wt(C,"TYPE","init"),this.P?(wt(C,"$req",g),wt(C,"SID","null"),V.T=!0,tn(V,C,null)):tn(V,C,g),this.G=2}}else this.G==3&&(d?UT(this,d):this.i.length==0||L(this.h)||UT(this))};function UT(d,g){var C;g?C=g.l:C=d.U++;const N=nt(d.I);wt(N,"SID",d.K),wt(N,"RID",C),wt(N,"AID",d.T),Jd(d,N),d.m&&d.o&&y_(N,d.m,d.o),C=new pe(d,d.j,C,d.B+1),d.m===null&&(C.H=d.o),g&&(d.i=g.D.concat(d.i)),g=jT(d,C,1e3),C.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),q(d.h,C),tn(C,N,g)}function Jd(d,g){d.H&&$(d.H,function(C,N){wt(g,N,C)}),d.l&&He({},function(C,N){wt(g,N,C)})}function jT(d,g,C){C=Math.min(d.i.length,C);var N=d.l?h(d.l.Na,d.l,d):null;e:{var V=d.i;let G=-1;for(;;){const ue=["count="+C];G==-1?0<C?(G=V[0].g,ue.push("ofs="+G)):G=0:ue.push("ofs="+G);let Xt=!0;for(let _r=0;_r<C;_r++){let Dt=V[_r].g;const Rr=V[_r].map;if(Dt-=G,0>Dt)G=Math.max(0,V[_r].g-100),Xt=!1;else try{NB(Rr,ue,"req"+Dt+"_")}catch{N&&N(Rr)}}if(Xt){N=ue.join("&");break e}}}return d=d.i.splice(0,C),g.D=d,N}function zT(d){if(!d.g&&!d.u){d.Y=1;var g=d.Fa;Y||W(),U||(Y(),U=!0),B.add(g,d),d.v=0}}function __(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Pt(h(d.Fa,d),GT(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,WT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Pt(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$e(10),ig(this),WT(this))};function b_(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function WT(d){d.g=new pe(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var g=nt(d.qa);wt(g,"RID","rpc"),wt(g,"SID",d.K),wt(g,"AID",d.T),wt(g,"CI",d.F?"0":"1"),!d.F&&d.ja&&wt(g,"TO",d.ja),wt(g,"TYPE","xmlhttp"),Jd(d,g),d.m&&d.o&&y_(g,d.m,d.o),d.L&&(d.g.I=d.L);var C=d.g;d=d.ia,C.L=1,C.v=vo(nt(g)),C.m=null,C.P=!0,Qn(C,d)}t.Za=function(){this.C!=null&&(this.C=null,ig(this),__(this),$e(19))};function sg(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function HT(d,g){var C=null;if(d.g==g){sg(d),b_(d),d.g=null;var N=2}else if(H(d.h,g))C=g.D,J(d.h,g),N=1;else return;if(d.G!=0){if(g.o)if(N==1){C=g.m?g.m.length:0,g=Date.now()-g.F;var V=d.B;N=mr(),gt(N,new lt(N,C)),og(d)}else zT(d);else if(V=g.s,V==3||V==0&&0<g.X||!(N==1&&LB(d,g)||N==2&&__(d)))switch(C&&0<C.length&&(g=d.h,g.i=g.i.concat(C)),V){case 1:El(d,5);break;case 4:El(d,10);break;case 3:El(d,6);break;default:El(d,2)}}}function GT(d,g){let C=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(C*=2),C*g}function El(d,g){if(d.j.info("Error code "+g),g==2){var C=h(d.fb,d),N=d.Xa;const V=!N;N=new Ze(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||zt(N,"https"),vo(N),V?AB(N.toString(),C):kB(N.toString(),C)}else $e(2);d.G=0,d.l&&d.l.sa(g),qT(d),VT(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),$e(2)):(this.j.info("Failed to ping google.com"),$e(1))};function qT(d){if(d.G=0,d.ka=[],d.l){const g=ne(d.h);(g.length!=0||d.i.length!=0)&&(x(d.ka,g),x(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function KT(d,g,C){var N=C instanceof Ze?nt(C):new Ze(C);if(N.g!="")g&&(N.g=g+"."+N.g),Ve(N,N.s);else{var V=a.location;N=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;var G=new Ze(null);N&&zt(G,N),g&&(G.g=g),V&&Ve(G,V),C&&(G.l=C),N=G}return C=d.D,g=d.ya,C&&g&&wt(N,C,g),wt(N,"VER",d.la),Jd(d,N),N}function YT(d,g,C){if(g&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Ca&&!d.pa?new An(new tg({eb:C})):new An(d.pa),g.Ha(d.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function XT(){}t=XT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ag(){}ag.prototype.g=function(d,g){return new Ti(d,g)};function Ti(d,g){Ct.call(this),this.g=new BT(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(d?d["X-WebChannel-Client-Profile"]=g.va:d={"X-WebChannel-Client-Profile":g.va}),this.g.S=d,(d=g&&g.Sb)&&!w(d)&&(this.g.m=d),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!w(g)&&(this.g.D=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new Rc(this)}m(Ti,Ct),Ti.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ti.prototype.close=function(){v_(this.g)},Ti.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var C={};C.__data__=d,d=C}else this.u&&(C={},C.__data__=We(d),d=C);g.i.push(new Ss(g.Ya++,d)),g.G==3&&og(g)},Ti.prototype.N=function(){this.g.l=null,delete this.j,v_(this.g),delete this.g,Ti.aa.N.call(this)};function QT(d){ni.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(const C in g){d=C;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}m(QT,ni);function JT(){rr.call(this),this.status=1}m(JT,rr);function Rc(d){this.g=d}m(Rc,XT),Rc.prototype.ua=function(){gt(this.g,"a")},Rc.prototype.ta=function(d){gt(this.g,new QT(d))},Rc.prototype.sa=function(d){gt(this.g,new JT)},Rc.prototype.ra=function(){gt(this.g,"b")},ag.prototype.createWebChannel=ag.prototype.g,Ti.prototype.send=Ti.prototype.o,Ti.prototype.open=Ti.prototype.m,Ti.prototype.close=Ti.prototype.close,yD=function(){return new ag},mD=function(){return mr()},gD=Ir,Yw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,wm=vr,ws.COMPLETE="complete",pD=ws,gr.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,Nf=gr,An.prototype.listenOnce=An.prototype.L,An.prototype.getLastError=An.prototype.Ka,An.prototype.getLastErrorCode=An.prototype.Ba,An.prototype.getStatus=An.prototype.Z,An.prototype.getResponseJson=An.prototype.Oa,An.prototype.getResponseText=An.prototype.oa,An.prototype.send=An.prototype.ea,An.prototype.setWithCredentials=An.prototype.Ha,hD=An}).apply(typeof Pg<"u"?Pg:typeof self<"u"?self:typeof window<"u"?window:{});const HR="@firebase/firestore",GR="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dr.UNAUTHENTICATED=new Dr(null),Dr.GOOGLE_CREDENTIALS=new Dr("google-credentials-uid"),Dr.FIRST_PARTY=new Dr("first-party-uid"),Dr.MOCK_USER=new Dr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=new Av("@firebase/firestore");function Bc(){return tc.logLevel}function Se(t,...e){if(tc.logLevel<=xt.DEBUG){const n=e.map(Ax);tc.debug(`Firestore (${wd}): ${t}`,...n)}}function Js(t,...e){if(tc.logLevel<=xt.ERROR){const n=e.map(Ax);tc.error(`Firestore (${wd}): ${t}`,...n)}}function qu(t,...e){if(tc.logLevel<=xt.WARN){const n=e.map(Ax);tc.warn(`Firestore (${wd}): ${t}`,...n)}}function Ax(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t="Unexpected state"){const e=`FIRESTORE (${wd}) INTERNAL ASSERTION FAILED: `+t;throw Js(e),new Error(e)}function Vt(t,e){t||qe()}function rt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends ys{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class G8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dr.UNAUTHENTICATED))}shutdown(){}}class q8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class K8{constructor(e){this.t=e,this.currentUser=Dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Vt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ga;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ga,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ga)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vt(typeof r.accessToken=="string"),new vD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Vt(e===null||typeof e=="string"),new Dr(e)}}class Y8{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Dr.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class X8{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Y8(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q8{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Yr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Vt(this.o===void 0);const r=o=>{o.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Se("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new qR(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Vt(typeof n.token=="string"),this.R=n.token,new qR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=J8(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function yt(t,e){return t<e?-1:t>e?1:0}function Xw(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return yt(r,i);{const o=_D(),s=Z8(o.encode(KR(t,n)),o.encode(KR(e,n)));return s!==0?s:yt(r,i)}}n+=r>65535?2:1}return yt(t.length,e.length)}function KR(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Z8(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return yt(t[n],e[n]);return yt(t.length,e.length)}function Ku(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=-62135596800,XR=1e6;class tr{static now(){return tr.fromMillis(Date.now())}static fromDate(e){return tr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*XR);return new tr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<YR)throw new Te(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/XR}_compareTo(e){return this.seconds===e.seconds?yt(this.nanoseconds,e.nanoseconds):yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-YR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{static fromTimestamp(e){return new et(e)}static min(){return new et(new tr(0,0))}static max(){return new et(new tr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="__name__";class Jo{constructor(e,n,r){n===void 0?n=0:n>e.length&&qe(),r===void 0?r=e.length-n:r>e.length-n&&qe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Jo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Jo.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return yt(e.length,n.length)}static compareSegments(e,n){const r=Jo.isNumericId(e),i=Jo.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Jo.extractNumericId(e).compare(Jo.extractNumericId(n)):Xw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ha.fromString(e.substring(4,e.length-2))}}class pn extends Jo{construct(e,n,r){return new pn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pn(n)}static emptyPath(){return new pn([])}}const eH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xr extends Jo{construct(e,n,r){return new xr(e,n,r)}static isValidIdentifier(e){return eH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===QR}static keyField(){return new xr([QR])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Te(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Te(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Te(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Te(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xr(n)}static emptyPath(){return new xr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(pn.fromString(e))}static fromName(e){return new Fe(pn.fromString(e).popFirst(5))}static empty(){return new Fe(pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new pn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=-1;function tH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=et.fromTimestamp(r===1e9?new tr(n+1,0):new tr(n,r));return new Za(i,Fe.empty(),e)}function nH(t){return new Za(t.readTime,t.key,Fh)}class Za{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Za(et.min(),Fe.empty(),Fh)}static max(){return new Za(et.max(),Fe.empty(),Fh)}}function rH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Fe.comparator(t.documentKey,e.documentKey),n!==0?n:yt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ed(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==iH)throw t;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new ee((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function sH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Mv.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=-1;function Dv(t){return t==null}function gy(t){return t===0&&1/t==-1/0}function aH(t){return typeof t=="number"&&Number.isInteger(t)&&!gy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="";function lH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=JR(e)),e=cH(t.get(n),e);return JR(e)}function cH(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case wD:n+="";break;default:n+=o}}return n}function JR(t){return t+wD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ED(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yn=class Qw{constructor(e,n){this.comparator=e,this.root=n||qa.EMPTY}insert(e,n){return new Qw(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qa.BLACK,null,null))}remove(e){return new Qw(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qa.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ag(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ag(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ag(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ag(this.root,e,this.comparator,!0)}},Ag=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},qa=class Ps{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ps.RED,this.left=i??Ps.EMPTY,this.right=o??Ps.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ps(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ps.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ps.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qe();const e=this.left.check();if(e!==this.right.check())throw qe();return e+(this.isRed()?0:1)}};qa.EMPTY=null,qa.RED=!0,qa.BLACK=!1;qa.EMPTY=new class{constructor(){this.size=0}get key(){throw qe()}get value(){throw qe()}get color(){throw qe()}get left(){throw qe()}get right(){throw qe()}copy(e,n,r,i,o){return this}insert(e,n,r){return new qa(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.comparator=e,this.data=new Yn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eP(this.data.getIterator())}getIteratorFrom(e){return new eP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nr(this.comparator);return n.data=e,n}}class eP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.fields=e,e.sort(xr.comparator)}static empty(){return new $i([])}unionWith(e){let n=new nr(xr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $i(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ku(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new xD("Invalid base64 string: "+o):o}}(e);return new Tr(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Tr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const uH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function el(t){if(Vt(!!t),typeof t=="string"){let e=0;const n=uH.exec(t);if(Vt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vn(t.seconds),nanos:Vn(t.nanos)}}function Vn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function tl(t){return typeof t=="string"?Tr.fromBase64String(t):Tr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="server_timestamp",CD="__type__",TD="__previous_value__",ID="__local_write_time__";function Ox(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[CD])===null||n===void 0?void 0:n.stringValue)===SD}function Lv(t){const e=t.mapValue.fields[TD];return Ox(e)?Lv(e):e}function Bh(t){const e=el(t.mapValue.fields[ID].timestampValue);return new tr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(e,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const my="(default)";class Vh{constructor(e,n){this.projectId=e,this.database=n||my}static empty(){return new Vh("","")}get isDefaultDatabase(){return this.database===my}isEqual(e){return e instanceof Vh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="__type__",PD="__max__",kg={mapValue:{fields:{__type__:{stringValue:PD}}}},AD="__vector__",yy="value";function nl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ox(t)?4:hH(t)?9007199254740991:fH(t)?10:11:qe()}function hs(t,e){if(t===e)return!0;const n=nl(t);if(n!==nl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bh(t).isEqual(Bh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=el(i.timestampValue),a=el(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return tl(i.bytesValue).isEqual(tl(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Vn(i.geoPointValue.latitude)===Vn(o.geoPointValue.latitude)&&Vn(i.geoPointValue.longitude)===Vn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Vn(i.integerValue)===Vn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Vn(i.doubleValue),a=Vn(o.doubleValue);return s===a?gy(s)===gy(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ku(t.arrayValue.values||[],e.arrayValue.values||[],hs);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(ZR(s)!==ZR(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!hs(s[l],a[l])))return!1;return!0}(t,e);default:return qe()}}function Uh(t,e){return(t.values||[]).find(n=>hs(n,e))!==void 0}function Yu(t,e){if(t===e)return 0;const n=nl(t),r=nl(e);if(n!==r)return yt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return yt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Vn(o.integerValue||o.doubleValue),l=Vn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return tP(t.timestampValue,e.timestampValue);case 4:return tP(Bh(t),Bh(e));case 5:return Xw(t.stringValue,e.stringValue);case 6:return function(o,s){const a=tl(o),l=tl(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=yt(a[c],l[c]);if(u!==0)return u}return yt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=yt(Vn(o.latitude),Vn(s.latitude));return a!==0?a:yt(Vn(o.longitude),Vn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return nP(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,c,u;const f=o.fields||{},h=s.fields||{},p=(a=f[yy])===null||a===void 0?void 0:a.arrayValue,m=(l=h[yy])===null||l===void 0?void 0:l.arrayValue,b=yt(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return b!==0?b:nP(p,m)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===kg.mapValue&&s===kg.mapValue)return 0;if(o===kg.mapValue)return 1;if(s===kg.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=Xw(l[f],u[f]);if(h!==0)return h;const p=Yu(a[l[f]],c[u[f]]);if(p!==0)return p}return yt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw qe()}}function tP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return yt(t,e);const n=el(t),r=el(e),i=yt(n.seconds,r.seconds);return i!==0?i:yt(n.nanos,r.nanos)}function nP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Yu(n[i],r[i]);if(o)return o}return yt(n.length,r.length)}function Xu(t){return Jw(t)}function Jw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=el(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return tl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Jw(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Jw(n.fields[s])}`;return i+"}"}(t.mapValue):qe()}function Em(t){switch(nl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lv(t);return e?16+Em(e):16;case 5:return 2*t.stringValue.length;case 6:return tl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Em(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return vl(r.fields,(o,s)=>{i+=o.length+Em(s)}),i}(t.mapValue);default:throw qe()}}function rP(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zw(t){return!!t&&"integerValue"in t}function Nx(t){return!!t&&"arrayValue"in t}function iP(t){return!!t&&"nullValue"in t}function oP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xm(t){return!!t&&"mapValue"in t}function fH(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[RD])===null||n===void 0?void 0:n.stringValue)===AD}function Zf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return vl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===PD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.value=e}static empty(){return new li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zf(n)}setAll(e){let n=xr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Zf(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());xm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];xm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vl(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new li(Zf(this.value))}}function kD(t){const e=[];return vl(t.fields,(n,r)=>{const i=new xr([n]);if(xm(r)){const o=kD(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new $i(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Fr(e,0,et.min(),et.min(),et.min(),li.empty(),0)}static newFoundDocument(e,n,r,i){return new Fr(e,1,n,et.min(),r,i,0)}static newNoDocument(e,n){return new Fr(e,2,n,et.min(),et.min(),li.empty(),0)}static newUnknownDocument(e,n){return new Fr(e,3,n,et.min(),et.min(),li.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n){this.position=e,this.inclusive=n}}function sP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Fe.comparator(Fe.fromName(s.referenceValue),n.key):r=Yu(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function aP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n="asc"){this.field=e,this.dir=n}}function pH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{}class Kn extends OD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mH(e,n,r):n==="array-contains"?new _H(e,r):n==="in"?new bH(e,r):n==="not-in"?new wH(e,r):n==="array-contains-any"?new EH(e,r):new Kn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yH(e,r):new vH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Yu(n,this.value)):n!==null&&nl(this.value)===nl(n)&&this.matchesComparison(Yu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Uo extends OD{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Uo(e,n)}matches(e){return ND(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ND(t){return t.op==="and"}function $D(t){return gH(t)&&ND(t)}function gH(t){for(const e of t.filters)if(e instanceof Uo)return!1;return!0}function eE(t){if(t instanceof Kn)return t.field.canonicalString()+t.op.toString()+Xu(t.value);if($D(t))return t.filters.map(e=>eE(e)).join(",");{const e=t.filters.map(n=>eE(n)).join(",");return`${t.op}(${e})`}}function MD(t,e){return t instanceof Kn?function(r,i){return i instanceof Kn&&r.op===i.op&&r.field.isEqual(i.field)&&hs(r.value,i.value)}(t,e):t instanceof Uo?function(r,i){return i instanceof Uo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&MD(s,i.filters[a]),!0):!1}(t,e):void qe()}function DD(t){return t instanceof Kn?function(n){return`${n.field.canonicalString()} ${n.op} ${Xu(n.value)}`}(t):t instanceof Uo?function(n){return n.op.toString()+" {"+n.getFilters().map(DD).join(" ,")+"}"}(t):"Filter"}class mH extends Kn{constructor(e,n,r){super(e,n,r),this.key=Fe.fromName(r.referenceValue)}matches(e){const n=Fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class yH extends Kn{constructor(e,n){super(e,"in",n),this.keys=LD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vH extends Kn{constructor(e,n){super(e,"not-in",n),this.keys=LD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Fe.fromName(r.referenceValue))}class _H extends Kn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Nx(n)&&Uh(n.arrayValue,this.value)}}class bH extends Kn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uh(this.value.arrayValue,n)}}class wH extends Kn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Uh(this.value.arrayValue,n)}}class EH extends Kn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Nx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Uh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.le=null}}function lP(t,e=null,n=[],r=[],i=null,o=null,s=null){return new xH(t,e,n,r,i,o,s)}function $x(t){const e=rt(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>eE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Dv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xu(r)).join(",")),e.le=n}return e.le}function Mx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aP(t.startAt,e.startAt)&&aP(t.endAt,e.endAt)}function tE(t){return Fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function SH(t,e,n,r,i,o,s,a){return new wp(t,e,n,r,i,o,s,a)}function Dx(t){return new wp(t)}function cP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function FD(t){return t.collectionGroup!==null}function eh(t){const e=rt(t);if(e.he===null){e.he=[];const n=new Set;for(const o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new nr(xr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new _y(o,r))}),n.has(xr.keyField().canonicalString())||e.he.push(new _y(xr.keyField(),r))}return e.he}function as(t){const e=rt(t);return e.Pe||(e.Pe=CH(e,eh(t))),e.Pe}function CH(t,e){if(t.limitType==="F")return lP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new _y(i.field,o)});const n=t.endAt?new vy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vy(t.startAt.position,t.startAt.inclusive):null;return lP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function nE(t,e){const n=t.filters.concat([e]);return new wp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rE(t,e,n){return new wp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fv(t,e){return Mx(as(t),as(e))&&t.limitType===e.limitType}function BD(t){return`${$x(as(t))}|lt:${t.limitType}`}function Vc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>DD(i)).join(", ")}]`),Dv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xu(i)).join(",")),`Target(${r})`}(as(t))}; limitType=${t.limitType})`}function Bv(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Fe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of eh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=sP(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,eh(r),i)||r.endAt&&!function(s,a,l){const c=sP(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,eh(r),i))}(t,e)}function TH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VD(t){return(e,n)=>{let r=!1;for(const i of eh(t)){const o=IH(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function IH(t,e,n){const r=t.field.isKeyField()?Fe.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?Yu(l,c):qe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vl(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return ED(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH=new Yn(Fe.comparator);function Zs(){return RH}const UD=new Yn(Fe.comparator);function $f(...t){let e=UD;for(const n of t)e=e.insert(n.key,n);return e}function jD(t){let e=UD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ll(){return th()}function zD(){return th()}function th(){return new hc(t=>t.toString(),(t,e)=>t.isEqual(e))}const PH=new Yn(Fe.comparator),AH=new nr(Fe.comparator);function Tt(...t){let e=AH;for(const n of t)e=e.add(n);return e}const kH=new nr(yt);function OH(){return kH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gy(e)?"-0":e}}function WD(t){return{integerValue:""+t}}function NH(t,e){return aH(e)?WD(e):Lx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(){this._=void 0}}function $H(t,e,n){return t instanceof jh?function(i,o){const s={fields:{[CD]:{stringValue:SD},[ID]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Ox(o)&&(o=Lv(o)),o&&(s.fields[TD]=o),{mapValue:s}}(n,e):t instanceof Qu?GD(t,e):t instanceof zh?qD(t,e):function(i,o){const s=HD(i,o),a=uP(s)+uP(i.Ie);return Zw(s)&&Zw(i.Ie)?WD(a):Lx(i.serializer,a)}(t,e)}function MH(t,e,n){return t instanceof Qu?GD(t,e):t instanceof zh?qD(t,e):n}function HD(t,e){return t instanceof by?function(r){return Zw(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class jh extends Vv{}class Qu extends Vv{constructor(e){super(),this.elements=e}}function GD(t,e){const n=KD(e);for(const r of t.elements)n.some(i=>hs(i,r))||n.push(r);return{arrayValue:{values:n}}}class zh extends Vv{constructor(e){super(),this.elements=e}}function qD(t,e){let n=KD(e);for(const r of t.elements)n=n.filter(i=>!hs(i,r));return{arrayValue:{values:n}}}class by extends Vv{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function uP(t){return Vn(t.integerValue||t.doubleValue)}function KD(t){return Nx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n){this.field=e,this.transform=n}}function DH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Qu&&i instanceof Qu||r instanceof zh&&i instanceof zh?Ku(r.elements,i.elements,hs):r instanceof by&&i instanceof by?hs(r.Ie,i.Ie):r instanceof jh&&i instanceof jh}(t.transform,e.transform)}class LH{constructor(e,n){this.version=e,this.transformResults=n}}class Qr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qr}static exists(e){return new Qr(void 0,e)}static updateTime(e){return new Qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Uv{}function XD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jv(t.key,Qr.none()):new Ep(t.key,t.data,Qr.none());{const n=t.data,r=li.empty();let i=new nr(xr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new _l(t.key,r,new $i(i.toArray()),Qr.none())}}function FH(t,e,n){t instanceof Ep?function(i,o,s){const a=i.value.clone(),l=fP(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof _l?function(i,o,s){if(!Sm(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=fP(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(QD(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function nh(t,e,n,r){return t instanceof Ep?function(o,s,a,l){if(!Sm(o.precondition,s))return a;const c=o.value.clone(),u=hP(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof _l?function(o,s,a,l){if(!Sm(o.precondition,s))return a;const c=hP(o.fieldTransforms,l,s),u=s.data;return u.setAll(QD(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Sm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function BH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=HD(r.transform,i||null);o!=null&&(n===null&&(n=li.empty()),n.set(r.field,o))}return n||null}function dP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ku(r,i,(o,s)=>DH(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ep extends Uv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _l extends Uv{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function QD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function fP(t,e,n){const r=new Map;Vt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,MH(s,a,n[i]))}return r}function hP(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,$H(o,s,e))}return r}class jv extends Uv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VH extends Uv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&FH(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zD();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=XD(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(et.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Tt())}isEqual(e){return this.batchId===e.batchId&&Ku(this.mutations,e.mutations,(n,r)=>dP(n,r))&&Ku(this.baseMutations,e.baseMutations,(n,r)=>dP(n,r))}}class Fx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Vt(e.mutations.length===r.length);let i=function(){return PH}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Fx(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wn,At;function WH(t){switch(t){case te.OK:return qe();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return qe()}}function JD(t){if(t===void 0)return Js("GRPC error has no .code"),te.UNKNOWN;switch(t){case Wn.OK:return te.OK;case Wn.CANCELLED:return te.CANCELLED;case Wn.UNKNOWN:return te.UNKNOWN;case Wn.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Wn.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Wn.INTERNAL:return te.INTERNAL;case Wn.UNAVAILABLE:return te.UNAVAILABLE;case Wn.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Wn.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Wn.NOT_FOUND:return te.NOT_FOUND;case Wn.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Wn.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Wn.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Wn.ABORTED:return te.ABORTED;case Wn.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Wn.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Wn.DATA_LOSS:return te.DATA_LOSS;default:return qe()}}(At=Wn||(Wn={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH=new Ha([4294967295,4294967295],0);function pP(t){const e=_D().encode(t),n=new fD;return n.update(e),new Uint8Array(n.digest())}function gP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ha([n,r],0),new Ha([i,o],0)]}class Bx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mf(`Invalid padding: ${n}`);if(r<0)throw new Mf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mf(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Ha.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(Ha.fromNumber(r)));return i.compare(HH)===1&&(i=new Ha([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=pP(e),[r,i]=gP(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Bx(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ee===0)return;const n=pP(e),[r,i]=gP(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);this.Ve(s)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Mf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zv(et.min(),i,new Yn(yt),Zs(),Tt())}}class xp{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xp(r,n,Tt(),Tt(),Tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class ZD{constructor(e,n){this.targetId=e,this.ge=n}}class eL{constructor(e,n,r=Tr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class mP{constructor(){this.pe=0,this.ye=yP(),this.we=Tr.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Tt(),n=Tt(),r=Tt();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:qe()}}),new xp(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=yP()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Vt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class GH{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Zs(),this.$e=Og(),this.Ue=Og(),this.Ke=new Yn(yt)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:qe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const o=i.target;if(tE(o))if(r===0){const s=new Fe(o.path);this.ze(n,s,Fr.newNoDocument(s,et.min()))}else Vt(r===1);else{const s=this.et(n);if(s!==r){const a=this.tt(e),l=a?this.nt(a,e,s):1;if(l!==0){this.Ye(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=tl(r).toUint8Array()}catch(l){if(l instanceof xD)return qu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Bx(s,i,o)}catch(l){return qu(l instanceof Mf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ke.it(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,o,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((o,s)=>{const a=this.Xe(s);if(a){if(o.current&&tE(a.target)){const l=new Fe(a.target.path);this._t(l).has(s)||this.ut(s,l)||this.ze(s,l,Fr.newNoDocument(l,e))}o.ve&&(n.set(s,o.Fe()),o.Me())}});let r=Tt();this.Ue.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(e));const i=new zv(e,n,this.Ke,this.Qe,r);return this.Qe=Zs(),this.$e=Og(),this.Ue=Og(),this.Ke=new Yn(yt),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new mP,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new nr(yt),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new nr(yt),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new mP),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Og(){return new Yn(Fe.comparator)}function yP(){return new Yn(Fe.comparator)}const qH=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),KH=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),YH=(()=>({and:"AND",or:"OR"}))();class XH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function iE(t,e){return t.useProto3Json||Dv(e)?e:{value:e}}function wy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QH(t,e){return wy(t,e.toTimestamp())}function ls(t){return Vt(!!t),et.fromTimestamp(function(n){const r=el(n);return new tr(r.seconds,r.nanos)}(t))}function Vx(t,e){return oE(t,e).canonicalString()}function oE(t,e){const n=function(i){return new pn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function nL(t){const e=pn.fromString(t);return Vt(aL(e)),e}function sE(t,e){return Vx(t.databaseId,e.path)}function rb(t,e){const n=nL(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Fe(iL(n))}function rL(t,e){return Vx(t.databaseId,e)}function JH(t){const e=nL(t);return e.length===4?pn.emptyPath():iL(e)}function aE(t){return new pn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iL(t){return Vt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function vP(t,e,n){return{name:sE(t,e),fields:n.value.mapValue.fields}}function ZH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:qe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(Vt(u===void 0||typeof u=="string"),Tr.fromBase64String(u||"")):(Vt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Tr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?te.UNKNOWN:JD(c.code);return new Te(u,c.message||"")}(s);n=new eL(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=rb(t,r.document.name),o=ls(r.document.updateTime),s=r.document.createTime?ls(r.document.createTime):et.min(),a=new li({mapValue:{fields:r.document.fields}}),l=Fr.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Cm(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=rb(t,r.document),o=r.readTime?ls(r.readTime):et.min(),s=Fr.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Cm([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=rb(t,r.document),o=r.removedTargetIds||[];n=new Cm([],o,i,null)}else{if(!("filter"in e))return qe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new zH(i,o),a=r.targetId;n=new ZD(a,s)}}return n}function e7(t,e){let n;if(e instanceof Ep)n={update:vP(t,e.key,e.value)};else if(e instanceof jv)n={delete:sE(t,e.key)};else if(e instanceof _l)n={update:vP(t,e.key,e.data),updateMask:c7(e.fieldMask)};else{if(!(e instanceof VH))return qe();n={verify:sE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof jh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof by)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw qe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:QH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:qe()}(t,e.precondition)),n}function t7(t,e){return t&&t.length>0?(Vt(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?ls(i.updateTime):ls(o);return s.isEqual(et.min())&&(s=ls(o)),new LH(s,i.transformResults||[])}(n,e))):[]}function n7(t,e){return{documents:[rL(t,e.path)]}}function r7(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rL(t,i);const o=function(c){if(c.length!==0)return sL(Uo.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Uc(h.field),direction:s7(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=iE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:i}}function i7(t){let e=JH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Vt(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(f){const h=oL(f);return h instanceof Uo&&$D(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(m){return new _y(jc(m.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Dv(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new vy(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new vy(p,h)}(n.endAt)),SH(e,i,s,o,a,"F",l,c)}function o7(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=jc(n.unaryFilter.field);return Kn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=jc(n.unaryFilter.field);return Kn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=jc(n.unaryFilter.field);return Kn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=jc(n.unaryFilter.field);return Kn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return qe()}}(t):t.fieldFilter!==void 0?function(n){return Kn.create(jc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Uo.create(n.compositeFilter.filters.map(r=>oL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe()}}(n.compositeFilter.op))}(t):qe()}function s7(t){return qH[t]}function a7(t){return KH[t]}function l7(t){return YH[t]}function Uc(t){return{fieldPath:t.canonicalString()}}function jc(t){return xr.fromServerFormat(t.fieldPath)}function sL(t){return t instanceof Kn?function(n){if(n.op==="=="){if(oP(n.value))return{unaryFilter:{field:Uc(n.field),op:"IS_NAN"}};if(iP(n.value))return{unaryFilter:{field:Uc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(oP(n.value))return{unaryFilter:{field:Uc(n.field),op:"IS_NOT_NAN"}};if(iP(n.value))return{unaryFilter:{field:Uc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uc(n.field),op:a7(n.op),value:n.value}}}(t):t instanceof Uo?function(n){const r=n.getFilters().map(i=>sL(i));return r.length===1?r[0]:{compositeFilter:{op:l7(n.op),filters:r}}}(t):qe()}function c7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n,r,i,o=et.min(),s=et.min(),a=Tr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e){this.Tt=e}}function d7(t){const e=i7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(){this.Tn=new h7}addToCollectionParentIndex(e,n){return this.Tn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Za.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Za.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class h7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nr(pn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nr(pn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lL=41943040;class si{static withCacheSize(e){return new si(e,si.DEFAULT_COLLECTION_PERCENTILE,si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si.DEFAULT_COLLECTION_PERCENTILE=10,si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,si.DEFAULT=new si(lL,si.DEFAULT_COLLECTION_PERCENTILE,si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),si.DISABLED=new si(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ju(0)}static Kn(){return new Ju(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP="LruGarbageCollector",p7=1048576;function wP([t,e],[n,r]){const i=yt(t,n);return i===0?yt(e,r):i}class g7{constructor(e){this.Hn=e,this.buffer=new nr(wP),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();wP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class m7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Se(bP,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xd(n)?Se(bP,"Ignoring IndexedDB error during garbage collection: ",n):await Ed(n)}await this.er(3e5)})}}class y7{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Mv.ae);const r=new g7(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(_P)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_P):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Bc()<=xt.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function v7(t,e){return new y7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(){this.changes=new hc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&nh(r.mutation,i,$i.empty(),tr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Tt()){const i=Ll();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=$f();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ll();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Tt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Zs();const s=th(),a=function(){return th()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof _l)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),nh(u.mutation,c,u.mutation.getFieldMask(),tr.now())):s.set(c.key,$i.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>{var f;return a.set(c,new b7(u,(f=s.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=th();let i=new Yn((s,a)=>s-a),o=Tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||$i.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(i.get(a.batchId)||Tt()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=zD();u.forEach(h=>{if(!o.has(h)){const p=XD(n.get(h),r.get(h));p!==null&&f.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return ee.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Fe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ee.resolve(Ll());let a=Fh,l=o;return s.next(c=>ee.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(u)?ee.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Tt())).next(u=>({batchId:a,changes:jD(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Fe(n)).next(r=>{let i=$f();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=$f();return this.indexManager.getCollectionParents(e,o).next(a=>ee.forEach(a,l=>{const c=function(f,h){return new wp(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Fr.newInvalidDocument(u)))});let a=$f();return s.forEach((l,c)=>{const u=o.get(l);u!==void 0&&nh(u.mutation,c,$i.empty(),tr.now()),Bv(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ee.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ls(i.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:d7(i.bundledQuery),readTime:ls(i.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(){this.overlays=new Yn(Fe.comparator),this.Rr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ll();return ee.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Et(e,n,o)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=Ll(),o=n.length+1,s=new Fe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Yn((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=Ll(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ll(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return ee.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new jH(n,r));let o=this.Rr.get(n);o===void 0&&(o=Tt(),this.Rr.set(n,o)),this.Rr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(){this.sessionToken=Tr.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.Vr=new nr(sr.mr),this.gr=new nr(sr.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new sr(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new sr(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new Fe(new pn([])),r=new sr(n,e),i=new sr(n,e+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Fe(new pn([])),r=new sr(n,e),i=new sr(n,e+1);let o=Tt();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new sr(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class sr{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Fe.comparator(e.key,n.key)||yt(e.Cr,n.Cr)}static pr(e,n){return yt(e.Cr,n.Cr)||Fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new nr(sr.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new UH(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Mr=this.Mr.add(new sr(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ee.resolve(s)}lookupMutationBatch(e,n){return ee.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),o=i<0?0:i;return ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?kx:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new sr(n,0),i=new sr(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{const a=this.Or(s.Cr);o.push(a)}),ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nr(yt);return n.forEach(i=>{const o=new sr(i,0),s=new sr(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],a=>{r=r.add(a.Cr)})}),ee.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Fe.isDocumentKey(o)||(o=o.child(""));const s=new sr(new Fe(o),0);let a=new nr(yt);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Cr)),!0)},s),ee.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Vt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ee.forEach(n.mutations,i=>{const o=new sr(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new sr(n,0),i=this.Mr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e){this.kr=e,this.docs=function(){return new Yn(Fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():Fr.newInvalidDocument(n))}getEntries(e,n){let r=Zs();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Fr.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Zs();const s=n.path,a=new Fe(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||rH(nH(u),r)<=0||(i.has(u.key)||Bv(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return ee.resolve(o)}getAllFromCollectionGroup(e,n,r,i){qe()}qr(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new I7(this)}getSize(e){return ee.resolve(this.size)}}class I7 extends _7{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e){this.persistence=e,this.Qr=new hc(n=>$x(n),Mx),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Ux,this.targetCount=0,this.Kr=Ju.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),ee.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Ju(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.zn(n),ee.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Qr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ee.waitFor(o).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ee.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Mv(0),this.zr=!1,this.zr=!0,this.jr=new S7,this.referenceDelegate=e(this),this.Hr=new R7(this),this.indexManager=new f7,this.remoteDocumentCache=function(i){return new T7(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new u7(n),this.Yr=new E7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new x7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new C7(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){Se("MemoryPersistence","Starting transaction:",e);const i=new P7(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,n){return ee.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class P7 extends oH{constructor(e){super(),this.currentSequenceNumber=e}}class jx{constructor(e){this.persistence=e,this.ti=new Ux,this.ni=null}static ri(e){return new jx(e)}get ii(){if(this.ni)return this.ni;throw qe()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ee.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,r=>{const i=Fe.fromPath(r);return this.si(e,i).next(o=>{o||n.removeEntry(i,et.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ee.or([()=>ee.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Ey{constructor(e,n){this.persistence=e,this.oi=new hc(r=>lH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=v7(this,n)}static ri(e,n){return new Ey(e,n)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return ee.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?ee.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,n).next(a=>{a||(r++,o.removeEntry(s,et.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Em(e.data.value)),n}ar(e,n,r){return ee.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=Tt(),i=Tt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new zx(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return l9()?8:sH(jr())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.rs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new A7;return this._s(e,n,s).next(a=>{if(o.result=a,this.Xi)return this.us(e,n,s,a.size)})}).next(()=>o.result)}us(e,n,r,i){return r.documentReadCount<this.es?(Bc()<=xt.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Vc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(Bc()<=xt.DEBUG&&Se("QueryEngine","Query:",Vc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Bc()<=xt.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Vc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,as(n))):ee.resolve())}rs(e,n){if(cP(n))return ee.resolve(null);let r=as(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=rE(n,null,"F"),r=as(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Tt(...o);return this.ns.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(n,a);return this.ls(n,c,s,l.readTime)?this.rs(e,rE(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,r,i){return cP(n)||i.isEqual(et.min())?ee.resolve(null):this.ns.getDocuments(e,r).next(o=>{const s=this.cs(n,o);return this.ls(n,s,r,i)?ee.resolve(null):(Bc()<=xt.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vc(n)),this.hs(e,s,n,tH(i,Fh)).next(a=>a))})}cs(e,n){let r=new nr(VD(e));return n.forEach((i,o)=>{Bv(e,o)&&(r=r.add(o))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,n,r){return Bc()<=xt.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Vc(n)),this.ns.getDocumentsMatchingQuery(e,n,Za.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="LocalStore",O7=3e8;class N7{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Yn(yt),this.Is=new hc(o=>$x(o),Mx),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w7(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function $7(t,e,n,r){return new N7(t,e,n,r)}async function uL(t,e){const n=rt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Tt();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:s,addedBatchIds:a}))})})}function M7(t,e){const n=rt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,h=f.keys();let p=ee.resolve();return h.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(b=>{const x=c.docVersions.get(m);Vt(x!==null),b.version.compareTo(x)<0&&(f.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),u.addEntry(b)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Tt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function dL(t){const e=rt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function D7(t,e){const n=rt(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;a.push(n.Hr.removeMatchingKeys(o,u.removedDocuments,f).next(()=>n.Hr.addMatchingKeys(o,u.addedDocuments,f)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Tr.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(f,p),function(b,x,_){return b.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=O7?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,p,u)&&a.push(n.Hr.updateTargetData(o,p))});let l=Zs(),c=Tt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(L7(o,s,e.documentUpdates).next(u=>{l=u.Vs,c=u.fs})),!r.isEqual(et.min())){const u=n.Hr.getLastRemoteSnapshotVersion(o).next(f=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return ee.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ts=i,o))}function L7(t,e,n){let r=Tt(),i=Tt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Zs();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(et.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Se(Wx,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:s,fs:i}})}function F7(t,e){const n=rt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=kx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function B7(t,e){const n=rt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(o=>o?(i=o,ee.resolve(i)):n.Hr.allocateTargetId(r).next(s=>(i=new Na(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function lE(t,e,n){const r=rt(t),i=r.Ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!xd(s))throw s;Se(Wx,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function EP(t,e,n){const r=rt(t);let i=et.min(),o=Tt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=rt(l),h=f.Is.get(u);return h!==void 0?ee.resolve(f.Ts.get(h)):f.Hr.getTargetData(c,u)}(r,s,as(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,e,n?i:et.min(),n?o:Tt())).next(a=>(V7(r,TH(e),a),{documents:a,gs:o})))}function V7(t,e,n){let r=t.Es.get(e)||et.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Es.set(e,r)}class xP{constructor(){this.activeTargetIds=OH()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U7{constructor(){this.ho=new xP,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new xP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="ConnectivityMonitor";class CP{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Se(SP,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Se(SP,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ng=null;function cE(){return Ng===null?Ng=function(){return 268435456+Math.round(2147483648*Math.random())}():Ng++,"0x"+Ng.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="RestConnection",z7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W7{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===my?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,o){const s=cE(),a=this.bo(e,n.toUriEncodedString());Se(ib,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,o),this.vo(e,a,l,r).then(c=>(Se(ib,`Received RPC '${e}' ${s}: `,c),c),c=>{throw qu(ib,`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,n,r,i,o,s){return this.So(e,n,r,i,o)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,n){const r=z7[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="WebChannelConnection";class G7 extends W7{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const o=cE();return new Promise((s,a)=>{const l=new hD;l.setWithCredentials(!0),l.listenOnce(pD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case wm.NO_ERROR:const u=l.getResponseJson();Se(Or,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case wm.TIMEOUT:Se(Or,`RPC '${e}' ${o} timed out`),a(new Te(te.DEADLINE_EXCEEDED,"Request time out"));break;case wm.HTTP_ERROR:const f=l.getStatus();if(Se(Or,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(x){const _=x.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(_)>=0?_:te.UNKNOWN}(p.status);a(new Te(m,p.message))}else a(new Te(te.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Te(te.UNAVAILABLE,"Connection failed."));break;default:qe()}}finally{Se(Or,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);Se(Or,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",c,r,15)})}Wo(e,n,r){const i=cE(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=yD(),a=mD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");Se(Or,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);let h=!1,p=!1;const m=new H7({Fo:x=>{p?Se(Or,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(Se(Or,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Se(Or,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},Mo:()=>f.close()}),b=(x,_,w)=>{x.listen(_,v=>{try{w(v)}catch(S){setTimeout(()=>{throw S},0)}})};return b(f,Nf.EventType.OPEN,()=>{p||(Se(Or,`RPC '${e}' stream ${i} transport opened.`),m.Qo())}),b(f,Nf.EventType.CLOSE,()=>{p||(p=!0,Se(Or,`RPC '${e}' stream ${i} transport closed`),m.Uo())}),b(f,Nf.EventType.ERROR,x=>{p||(p=!0,qu(Or,`RPC '${e}' stream ${i} transport errored:`,x),m.Uo(new Te(te.UNAVAILABLE,"The operation could not be completed")))}),b(f,Nf.EventType.MESSAGE,x=>{var _;if(!p){const w=x.data[0];Vt(!!w);const v=w,S=(v==null?void 0:v.error)||((_=v[0])===null||_===void 0?void 0:_.error);if(S){Se(Or,`RPC '${e}' stream ${i} received error:`,S);const k=S.status;let $=function(R){const y=Wn[R];if(y!==void 0)return JD(y)}(k),I=S.message;$===void 0&&($=te.INTERNAL,I="Unknown error status: "+k+" with message "+S.message),p=!0,m.Uo(new Te($,I)),f.close()}else Se(Or,`RPC '${e}' stream ${i} received:`,w),m.Ko(w)}}),b(a,gD.STAT_EVENT,x=>{x.stat===Yw.PROXY?Se(Or,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Yw.NOPROXY&&Se(Or,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.$o()},0),m}}function ob(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(t){return new XH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&Se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="PersistentStream";class hL{constructor(e,n,r,i,o,s,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new fL(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Js(n.toString()),Js("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new Te(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Se(TP,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Se(TP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q7 extends hL{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=ZH(this.serializer,e),r=function(o){if(!("targetChange"in o))return et.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?et.min():s.readTime?ls(s.readTime):et.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=aE(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=tE(l)?{documents:n7(o,l)}:{query:r7(o,l).ht},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=tL(o,s.resumeToken);const c=iE(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(et.min())>0){a.readTime=wy(o,s.snapshotVersion.toTimestamp());const c=iE(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=o7(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=aE(this.serializer),n.removeTarget=e,this.I_(n)}}class K7 extends hL{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,Vt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=t7(e.writeResults,e.commitTime),r=ls(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=aE(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>e7(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{}class X7 extends Y7{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Te(te.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,oE(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(te.UNKNOWN,o.toString())})}Co(e,n,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(e,oE(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Te(te.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Q7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Js(n),this.N_=!1):Se("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc="RemoteStore";class J7{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(async()=>{pc(this)&&(Se(nc,"Restarting streams for network reachability change."),await async function(l){const c=rt(l);c.W_.add(4),await Sp(c),c.j_.set("Unknown"),c.W_.delete(4),await Hv(c)}(this))})}),this.j_=new Q7(r,i)}}async function Hv(t){if(pc(t))for(const e of t.G_)await e(!0)}async function Sp(t){for(const e of t.G_)await e(!1)}function pL(t,e){const n=rt(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Kx(n)?qx(n):Sd(n).c_()&&Gx(n,e))}function Hx(t,e){const n=rt(t),r=Sd(n);n.K_.delete(e),r.c_()&&gL(n,e),n.K_.size===0&&(r.c_()?r.P_():pc(n)&&n.j_.set("Unknown"))}function Gx(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sd(t).y_(e)}function gL(t,e){t.H_.Ne(e),Sd(t).w_(e)}function qx(t){t.H_=new GH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Sd(t).start(),t.j_.B_()}function Kx(t){return pc(t)&&!Sd(t).u_()&&t.K_.size>0}function pc(t){return rt(t).W_.size===0}function mL(t){t.H_=void 0}async function Z7(t){t.j_.set("Online")}async function eG(t){t.K_.forEach((e,n)=>{Gx(t,e)})}async function tG(t,e){mL(t),Kx(t)?(t.j_.q_(e),qx(t)):t.j_.set("Unknown")}async function nG(t,e,n){if(t.j_.set("Online"),e instanceof eL&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.K_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.K_.delete(a),i.H_.removeTarget(a))}(t,e)}catch(r){Se(nc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xy(t,r)}else if(e instanceof Cm?t.H_.We(e):e instanceof ZD?t.H_.Ze(e):t.H_.je(e),!n.isEqual(et.min()))try{const r=await dL(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.H_.ot(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.K_.get(c);u&&o.K_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.K_.get(l);if(!u)return;o.K_.set(l,u.withResumeToken(Tr.EMPTY_BYTE_STRING,u.snapshotVersion)),gL(o,l);const f=new Na(u.target,l,c,u.sequenceNumber);Gx(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Se(nc,"Failed to raise snapshot:",r),await xy(t,r)}}async function xy(t,e,n){if(!xd(e))throw e;t.W_.add(1),await Sp(t),t.j_.set("Offline"),n||(n=()=>dL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Se(nc,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Hv(t)})}function yL(t,e){return e().catch(n=>xy(t,n,e))}async function Gv(t){const e=rt(t),n=rl(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:kx;for(;rG(e);)try{const i=await F7(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,iG(e,i)}catch(i){await xy(e,i)}vL(e)&&_L(e)}function rG(t){return pc(t)&&t.U_.length<10}function iG(t,e){t.U_.push(e);const n=rl(t);n.c_()&&n.S_&&n.b_(e.mutations)}function vL(t){return pc(t)&&!rl(t).u_()&&t.U_.length>0}function _L(t){rl(t).start()}async function oG(t){rl(t).C_()}async function sG(t){const e=rl(t);for(const n of t.U_)e.b_(n.mutations)}async function aG(t,e,n){const r=t.U_.shift(),i=Fx.from(r,e,n);await yL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Gv(t)}async function lG(t,e){e&&rl(t).S_&&await async function(r,i){if(function(s){return WH(s)&&s!==te.ABORTED}(i.code)){const o=r.U_.shift();rl(r).h_(),await yL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Gv(r)}}(t,e),vL(t)&&_L(t)}async function IP(t,e){const n=rt(t);n.asyncQueue.verifyOperationInProgress(),Se(nc,"RemoteStore received new credentials");const r=pc(n);n.W_.add(3),await Sp(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Hv(n)}async function cG(t,e){const n=rt(t);e?(n.W_.delete(2),await Hv(n)):e||(n.W_.add(2),await Sp(n),n.j_.set("Unknown"))}function Sd(t){return t.J_||(t.J_=function(n,r,i){const o=rt(n);return o.M_(),new q7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:Z7.bind(null,t),No:eG.bind(null,t),Lo:tG.bind(null,t),p_:nG.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Kx(t)?qx(t):t.j_.set("Unknown")):(await t.J_.stop(),mL(t))})),t.J_}function rl(t){return t.Y_||(t.Y_=function(n,r,i){const o=rt(n);return o.M_(),new K7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:oG.bind(null,t),Lo:lG.bind(null,t),D_:sG.bind(null,t),v_:aG.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Gv(t)):(await t.Y_.stop(),t.U_.length>0&&(Se(nc,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Yx(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xx(t,e){if(Js("AsyncQueue",`${e}: ${t}`),xd(t))return new Te(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{static emptySet(e){return new ku(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Fe.comparator(n.key,r.key):(n,r)=>Fe.comparator(n.key,r.key),this.keyedMap=$f(),this.sortedSet=new Yn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ku)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ku;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this.Z_=new Yn(Fe.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):qe():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Zu{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Zu(e,n,ku.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class dG{constructor(){this.queries=PP(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=rt(n),o=i.queries;i.queries=PP(),o.forEach((s,a)=>{for(const l of a.ta)l.onError(r)})})(this,new Te(te.ABORTED,"Firestore shutting down"))}}function PP(){return new hc(t=>BD(t),Fv)}async function bL(t,e){const n=rt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new uG,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Xx(s,`Initialization of query '${Vc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.ta.push(e),e.sa(n.onlineState),o.ea&&e.oa(o.ea)&&Qx(n)}async function wL(t,e){const n=rt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ta.indexOf(e);s>=0&&(o.ta.splice(s,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fG(t,e){const n=rt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.ta)a.oa(i)&&(r=!0);s.ea=i}}r&&Qx(n)}function hG(t,e,n){const r=rt(t),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(e)}function Qx(t){t.ia.forEach(e=>{e.next()})}var uE,AP;(AP=uE||(uE={}))._a="default",AP.Cache="cache";class EL{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Zu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Zu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==uE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.key=e}}class SL{constructor(e){this.key=e}}class pG{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Tt(),this.mutatedKeys=Tt(),this.ya=VD(e),this.wa=new ku(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new RP,i=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),p=Bv(this.query,f)?f:null,m=!!h&&this.mutatedKeys.has(h.key),b=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;h&&p?h.data.isEqual(p.data)?m!==b&&(r.track({type:3,doc:p}),x=!0):this.va(h,p)||(r.track({type:2,doc:p}),x=!0,(l&&this.ya(p,l)>0||c&&this.ya(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),x=!0):h&&!p&&(r.track({type:1,doc:h}),x=!0,(l||c)&&(a=!0)),x&&(p?(s=s.add(p),o=b?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{wa:s,Da:r,ls:a,mutatedKeys:o}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort((u,f)=>function(p,m){const b=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe()}};return b(p)-b(m)}(u.type,f.type)||this.ya(u.doc,f.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,c=l!==this.ga;return this.ga=l,s.length!==0||c?{snapshot:new Zu(this.query,e.wa,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new RP,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Tt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new SL(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new xL(r))}),n}Oa(e){this.fa=e.gs,this.pa=Tt();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Zu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Jx="SyncEngine";class gG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mG{constructor(e){this.key=e,this.Ba=!1}}class yG{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new hc(a=>BD(a),Fv),this.qa=new Map,this.Qa=new Set,this.$a=new Yn(Fe.comparator),this.Ua=new Map,this.Ka=new Ux,this.Wa={},this.Ga=new Map,this.za=Ju.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function vG(t,e,n=!0){const r=AL(t);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await CL(r,e,n,!0),i}async function _G(t,e){const n=AL(t);await CL(n,e,!0,!1)}async function CL(t,e,n,r){const i=await B7(t.localStore,as(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await bG(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&pL(t.remoteStore,i),a}async function bG(t,e,n,r,i){t.Ha=(f,h,p)=>async function(b,x,_,w){let v=x.view.ba(_);v.ls&&(v=await EP(b.localStore,x.query,!1).then(({documents:I})=>x.view.ba(I,v)));const S=w&&w.targetChanges.get(x.targetId),k=w&&w.targetMismatches.get(x.targetId)!=null,$=x.view.applyChanges(v,b.isPrimaryClient,S,k);return OP(b,x.targetId,$.Ma),$.snapshot}(t,f,h,p);const o=await EP(t.localStore,e,!0),s=new pG(e,o.gs),a=s.ba(o.documents),l=xp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);OP(t,n,c.Ma);const u=new gG(e,n,s);return t.ka.set(e,u),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function wG(t,e,n){const r=rt(t),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!Fv(s,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await lE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Hx(r.remoteStore,i.targetId),dE(r,i.targetId)}).catch(Ed)):(dE(r,i.targetId),await lE(r.localStore,i.targetId,!0))}async function EG(t,e){const n=rt(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Hx(n.remoteStore,r.targetId))}async function xG(t,e,n){const r=AG(t);try{const i=await function(s,a){const l=rt(s),c=tr.now(),u=a.reduce((p,m)=>p.add(m.key),Tt());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Zs(),b=Tt();return l.ds.getEntries(p,u).next(x=>{m=x,m.forEach((_,w)=>{w.isValidDocument()||(b=b.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(x=>{f=x;const _=[];for(const w of a){const v=BH(w,f.get(w.key).overlayedDocument);v!=null&&_.push(new _l(w.key,v,kD(v.value.mapValue),Qr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,_,a)}).next(x=>{h=x;const _=x.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(p,x.batchId,_)})}).then(()=>({batchId:h.batchId,changes:jD(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Wa[s.currentUser.toKey()];c||(c=new Yn(yt)),c=c.insert(a,l),s.Wa[s.currentUser.toKey()]=c}(r,i.batchId,n),await Cp(r,i.changes),await Gv(r.remoteStore)}catch(i){const o=Xx(i,"Failed to persist write");n.reject(o)}}async function TL(t,e){const n=rt(t);try{const r=await D7(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ua.get(o);s&&(Vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?Vt(s.Ba):i.removedDocuments.size>0&&(Vt(s.Ba),s.Ba=!1))}),await Cp(n,r,e)}catch(r){await Ed(r)}}function kP(t,e,n){const r=rt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((o,s)=>{const a=s.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=rt(s);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.ta)h.sa(a)&&(c=!0)}),c&&Qx(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function SG(t,e,n){const r=rt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),o=i&&i.key;if(o){let s=new Yn(Fe.comparator);s=s.insert(o,Fr.newNoDocument(o,et.min()));const a=Tt().add(o),l=new zv(et.min(),new Map,new Yn(yt),s,a);await TL(r,l),r.$a=r.$a.remove(o),r.Ua.delete(e),Zx(r)}else await lE(r.localStore,e,!1).then(()=>dE(r,e,n)).catch(Ed)}async function CG(t,e){const n=rt(t),r=e.batch.batchId;try{const i=await M7(n.localStore,e);RL(n,r,null),IL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cp(n,i)}catch(i){await Ed(i)}}async function TG(t,e,n){const r=rt(t);try{const i=await function(s,a){const l=rt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Vt(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);RL(r,e,n),IL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cp(r,i)}catch(i){await Ed(i)}}function IL(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function RL(t,e,n){const r=rt(t);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function dE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||PL(t,r)})}function PL(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Hx(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),Zx(t))}function OP(t,e,n){for(const r of n)r instanceof xL?(t.Ka.addReference(r.key,e),IG(t,r)):r instanceof SL?(Se(Jx,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||PL(t,r.key)):qe()}function IG(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(Se(Jx,"New document in limbo: "+n),t.Qa.add(r),Zx(t))}function Zx(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Fe(pn.fromString(e)),r=t.za.next();t.Ua.set(r,new mG(n)),t.$a=t.$a.insert(n,r),pL(t.remoteStore,new Na(as(Dx(n.path)),r,"TargetPurposeLimboResolution",Mv.ae))}}async function Cp(t,e,n){const r=rt(t),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{s.push(r.Ha(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=zx.Yi(l.targetId,c);o.push(f)}}))}),await Promise.all(s),r.La.p_(i),await async function(l,c){const u=rt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ee.forEach(c,h=>ee.forEach(h.Hi,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>ee.forEach(h.Ji,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!xd(f))throw f;Se(Wx,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.Ts.get(h),m=p.snapshotVersion,b=p.withLastLimboFreeSnapshotVersion(m);u.Ts=u.Ts.insert(h,b)}}}(r.localStore,o))}async function RG(t,e){const n=rt(t);if(!n.currentUser.isEqual(e)){Se(Jx,"User change. New user:",e.toKey());const r=await uL(n.localStore,e);n.currentUser=e,function(o,s){o.Ga.forEach(a=>{a.forEach(l=>{l.reject(new Te(te.CANCELLED,s))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cp(n,r.Rs)}}function PG(t,e){const n=rt(t),r=n.Ua.get(e);if(r&&r.Ba)return Tt().add(r.key);{let i=Tt();const o=n.qa.get(e);if(!o)return i;for(const s of o){const a=n.ka.get(s);i=i.unionWith(a.view.Sa)}return i}}function AL(t){const e=rt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SG.bind(null,e),e.La.p_=fG.bind(null,e.eventManager),e.La.Ja=hG.bind(null,e.eventManager),e}function AG(t){const e=rt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TG.bind(null,e),e}class Sy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wv(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return $7(this.persistence,new k7,e.initialUser,this.serializer)}Xa(e){return new cL(jx.ri,this.serializer)}Za(e){return new U7}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sy.provider={build:()=>new Sy};class kG extends Sy{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Vt(this.persistence.referenceDelegate instanceof Ey);const r=this.persistence.referenceDelegate.garbageCollector;return new m7(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?si.withCacheSize(this.cacheSizeBytes):si.DEFAULT;return new cL(r=>Ey.ri(r,n),this.serializer)}}class fE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=RG.bind(null,this.syncEngine),await cG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dG}()}createDatastore(e){const n=Wv(e.databaseInfo.databaseId),r=function(o){return new G7(o)}(e.databaseInfo);return function(o,s,a,l){return new X7(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new J7(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>kP(this.syncEngine,n,0),function(){return CP.D()?new CP:new j7}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,u){const f=new yG(i,o,s,a,l,c);return u&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=rt(i);Se(nc,"RemoteStore shutting down."),o.W_.add(5),await Sp(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}fE.provider={build:()=>new fE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Js("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il="FirestoreClient";class OG{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dr.UNAUTHENTICATED,this.clientId=bD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Se(il,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Se(il,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Xx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sb(t,e){t.asyncQueue.verifyOperationInProgress(),Se(il,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await uL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function NP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await NG(t);Se(il,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>IP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>IP(e.remoteStore,i)),t._onlineComponents=e}async function NG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se(il,"Using user provided OfflineComponentProvider");try{await sb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;qu("Error using user provided cache. Falling back to memory cache: "+n),await sb(t,new Sy)}}else Se(il,"Using default OfflineComponentProvider"),await sb(t,new kG(void 0));return t._offlineComponents}async function OL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se(il,"Using user provided OnlineComponentProvider"),await NP(t,t._uninitializedComponentsProvider._online)):(Se(il,"Using default OnlineComponentProvider"),await NP(t,new fE))),t._onlineComponents}function $G(t){return OL(t).then(e=>e.syncEngine)}async function hE(t){const e=await OL(t),n=e.eventManager;return n.onListen=vG.bind(null,e.syncEngine),n.onUnlisten=wG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_G.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EG.bind(null,e.syncEngine),n}function MG(t,e,n={}){const r=new Ga;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new kL({next:h=>{u.su(),s.enqueueAndForget(()=>wL(o,f)),h.fromCache&&l.source==="server"?c.reject(new Te(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new EL(a,u,{includeMetadataChanges:!0,Ta:!0});return bL(o,f)}(await hE(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t,e,n){if(!n)throw new Te(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DG(t,e,n,r){if(e===!0&&r===!0)throw new Te(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function MP(t){if(!Fe.isDocumentKey(t))throw new Te(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DP(t){if(Fe.isDocumentKey(t))throw new Te(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe()}function Bi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qv(t);throw new Te(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="firestore.googleapis.com",LP=!0;class FP{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ML,this.ssl=LP}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:LP;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<p7)throw new Te(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Te(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Te(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Te(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new G8;switch(r.type){case"firstParty":return new X8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=$P.get(n);r&&(Se("ComponentProvider","Removing Datastore"),$P.delete(n),r.terminate())}(this),Promise.resolve()}}function LG(t,e,n,r={}){var i;const o=(t=Bi(t,Kv))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;o.host!==ML&&o.host!==a&&qu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!Ks(l,s)&&(t._setSettings(l),r.mockUserToken)){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Dr.MOCK_USER;else{c=gx(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Te(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Dr(f)}t._authCredentials=new q8(new vD(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gc(this.firestore,e,this._query)}}class Jr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jr(this.firestore,e,this._key)}}class Ka extends gc{constructor(e,n,r){super(e,n,Dx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jr(this.firestore,null,new Fe(e))}withConverter(e){return new Ka(this.firestore,e,this._path)}}function kt(t,e,...n){if(t=Ut(t),$L("collection","path",e),t instanceof Kv){const r=pn.fromString(e,...n);return DP(r),new Ka(t,null,r)}{if(!(t instanceof Jr||t instanceof Ka))throw new Te(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pn.fromString(e,...n));return DP(r),new Ka(t.firestore,null,r)}}function Nn(t,e,...n){if(t=Ut(t),arguments.length===1&&(e=bD.newId()),$L("doc","path",e),t instanceof Kv){const r=pn.fromString(e,...n);return MP(r),new Jr(t,null,new Fe(r))}{if(!(t instanceof Jr||t instanceof Ka))throw new Te(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pn.fromString(e,...n));return MP(r),new Jr(t.firestore,t instanceof Ka?t.converter:null,new Fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="AsyncQueue";class VP{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new fL(this,"async_queue_retry"),this.Su=()=>{const r=ob();r&&Se(BP,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=ob();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=ob();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ga;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!xd(e))throw e;Se(BP,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Js("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=Yx.createAndSchedule(this,e,n,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&qe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function UP(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class ea extends Kv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new VP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VP(e),this._firestoreClient=void 0,await e}}}function FG(t,e){const n=typeof t=="object"?t:kv(),r=typeof t=="string"?t:e||my,i=mp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=px("firestore");o&&LG(i,...o)}return i}function Yv(t){if(t._terminated)throw new Te(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||BG(t),t._firestoreClient}function BG(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,c,u){return new dH(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,NL(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new OG(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ed(Tr.fromBase64String(e))}catch(n){throw new Te(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ed(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yt(this._lat,e._lat)||yt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG=/^__.*__$/;class UG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _l(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ep(e,this.data,n,this.fieldTransforms)}}class DL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _l(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe()}}class Xv{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Xv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Cy(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(LL(this.Lu)&&VG.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class jG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wv(e)}ju(e,n,r,i=!1){return new Xv({Lu:e,methodName:n,zu:r,path:xr.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rp(t){const e=t._freezeSettings(),n=Wv(t._databaseId);return new jG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nS(t,e,n,r,i,o={}){const s=t.ju(o.merge||o.mergeFields?2:0,e,n,i);oS("Data must be an object, but it was:",s,r);const a=VL(r,s);let l,c;if(o.merge)l=new $i(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const f of o.mergeFields){const h=pE(e,f,n);if(!s.contains(h))throw new Te(te.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);jL(u,h)||u.push(h)}l=new $i(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new UG(new li(a),l,c)}class Qv extends Ip{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qv}}function zG(t,e,n){return new Xv({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class rS extends Ip{_toFieldTransform(e){return new YD(e.path,new jh)}isEqual(e){return e instanceof rS}}class iS extends Ip{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=zG(this,e,!0),r=this.Hu.map(o=>Cd(o,n)),i=new Qu(r);return new YD(e.path,i)}isEqual(e){return e instanceof iS&&Ks(this.Hu,e.Hu)}}function FL(t,e,n,r){const i=t.ju(1,e,n);oS("Data must be an object, but it was:",i,r);const o=[],s=li.empty();vl(r,(l,c)=>{const u=sS(e,l,n);c=Ut(c);const f=i.Uu(u);if(c instanceof Qv)o.push(u);else{const h=Cd(c,f);h!=null&&(o.push(u),s.set(u,h))}});const a=new $i(o);return new DL(s,a,i.fieldTransforms)}function BL(t,e,n,r,i,o){const s=t.ju(1,e,n),a=[pE(e,r,n)],l=[i];if(o.length%2!=0)throw new Te(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(pE(e,o[h])),l.push(o[h+1]);const c=[],u=li.empty();for(let h=a.length-1;h>=0;--h)if(!jL(c,a[h])){const p=a[h];let m=l[h];m=Ut(m);const b=s.Uu(p);if(m instanceof Qv)c.push(p);else{const x=Cd(m,b);x!=null&&(c.push(p),u.set(p,x))}}const f=new $i(c);return new DL(u,f,s.fieldTransforms)}function WG(t,e,n,r=!1){return Cd(n,t.ju(r?4:3,e))}function Cd(t,e){if(UL(t=Ut(t)))return oS("Unsupported field value:",e,t),VL(t,e);if(t instanceof Ip)return function(r,i){if(!LL(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Cd(a,i.Ku(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=tr.fromDate(r);return{timestampValue:wy(i.serializer,o)}}if(r instanceof tr){const o=new tr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wy(i.serializer,o)}}if(r instanceof eS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ed)return{bytesValue:tL(i.serializer,r._byteString)};if(r instanceof Jr){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Vx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof tS)return function(s,a){return{mapValue:{fields:{[RD]:{stringValue:AD},[yy]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return Lx(a.serializer,c)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${qv(r)}`)}(t,e)}function VL(t,e){const n={};return ED(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vl(t,(r,i)=>{const o=Cd(i,e.qu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function UL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tr||t instanceof eS||t instanceof ed||t instanceof Jr||t instanceof Ip||t instanceof tS)}function oS(t,e,n){if(!UL(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=qv(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function pE(t,e,n){if((e=Ut(e))instanceof Tp)return e._internalPath;if(typeof e=="string")return sS(t,e);throw Cy("Field path arguments must be of type string or ",t,!1,void 0,n)}const HG=new RegExp("[~\\*/\\[\\]]");function sS(t,e,n){if(e.search(HG)>=0)throw Cy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tp(...e.split("."))._internalPath}catch{throw Cy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cy(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Te(te.INVALID_ARGUMENT,a+t+l)}function jL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Jr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(aS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GG extends zL{data(){return super.data()}}function aS(t,e){return typeof e=="string"?sS(t,e):e instanceof Tp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lS{}class qG extends lS{}function Xi(t,e,...n){let r=[];e instanceof lS&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof cS).length,a=o.filter(l=>l instanceof Jv).length;if(s>1||s>0&&a>0)throw new Te(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Jv extends qG{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jv(e,n,r)}_apply(e){const n=this._parse(e);return HL(e._query,n),new gc(e.firestore,e.converter,nE(e._query,n))}_parse(e){const n=Rp(e.firestore);return function(o,s,a,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Te(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){zP(f,u);const m=[];for(const b of f)m.push(jP(l,o,b));h={arrayValue:{values:m}}}else h=jP(l,o,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||zP(f,u),h=WG(a,s,f,u==="in"||u==="not-in");return Kn.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ks(t,e,n){const r=e,i=aS("where",t);return Jv._create(i,r,n)}class cS extends lS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Uo.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)HL(s,l),s=nE(s,l)}(e._query,n),new gc(e.firestore,e.converter,nE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function jP(t,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new Te(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FD(e)&&n.indexOf("/")!==-1)throw new Te(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pn.fromString(n));if(!Fe.isDocumentKey(r))throw new Te(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rP(t,new Fe(r))}if(n instanceof Jr)return rP(t,n._key);throw new Te(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qv(n)}.`)}function zP(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HL(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Te(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class KG{convertValue(e,n="none"){switch(nl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(tl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw qe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vl(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[yy].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Vn(s.doubleValue));return new tS(o)}convertGeoPoint(e){return new eS(Vn(e.latitude),Vn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Lv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bh(e));default:return null}}convertTimestamp(e){const n=el(e);return new tr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pn.fromString(e);Vt(aL(r));const i=new Vh(r.get(1),r.get(3)),o=new Fe(r.popFirst(5));return i.isEqual(n)||Js(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class GL extends zL{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(aS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Tm extends GL{data(e={}){return super.data(e)}}class qL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Df(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Tm(this._firestore,this._userDataWriter,r.key,r,new Df(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Tm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Df(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Tm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Df(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:YG(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function YG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe()}}class dS extends KG{constructor(e){super(),this.firestore=e}convertBytes(e){return new ed(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jr(this.firestore,null,n)}}function xl(t){t=Bi(t,gc);const e=Bi(t.firestore,ea),n=Yv(e),r=new dS(e);return WL(t._query),MG(n,t._query).then(i=>new qL(e,r,t,i))}function WP(t,e,n){t=Bi(t,Jr);const r=Bi(t.firestore,ea),i=uS(t.converter,e,n);return Pp(r,[nS(Rp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Qr.none())])}function zc(t,e,n,...r){t=Bi(t,Jr);const i=Bi(t.firestore,ea),o=Rp(i);let s;return s=typeof(e=Ut(e))=="string"||e instanceof Tp?BL(o,"updateDoc",t._key,e,n,r):FL(o,"updateDoc",t._key,e),Pp(i,[s.toMutation(t._key,Qr.exists(!0))])}function gE(t){return Pp(Bi(t.firestore,ea),[new jv(t._key,Qr.none())])}function Mr(t,e){const n=Bi(t.firestore,ea),r=Nn(t),i=uS(t.converter,e);return Pp(n,[nS(Rp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Qr.exists(!1))]).then(()=>r)}function rh(t,...e){var n,r,i;t=Ut(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||UP(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(UP(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,u;if(t instanceof Jr)c=Bi(t.firestore,ea),u=Dx(t._key.path),l={next:f=>{e[s]&&e[s](XG(c,t,f))},error:e[s+1],complete:e[s+2]};else{const f=Bi(t,gc);c=Bi(f.firestore,ea),u=f._query;const h=new dS(c);l={next:p=>{e[s]&&e[s](new qL(c,h,f,p))},error:e[s+1],complete:e[s+2]},WL(t._query)}return function(h,p,m,b){const x=new kL(b),_=new EL(p,x,m);return h.asyncQueue.enqueueAndForget(async()=>bL(await hE(h),_)),()=>{x.su(),h.asyncQueue.enqueueAndForget(async()=>wL(await hE(h),_))}}(Yv(c),u,a,l)}function Pp(t,e){return function(r,i){const o=new Ga;return r.asyncQueue.enqueueAndForget(async()=>xG(await $G(r),i,o)),o.promise}(Yv(t),e)}function XG(t,e,n){const r=n.docs.get(e._key),i=new dS(t);return new GL(t,i,e._key,r,new Df(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Rp(e)}set(e,n,r){this._verifyNotCommitted();const i=ab(e,this._firestore),o=uS(i.converter,n,r),s=nS(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Qr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=ab(e,this._firestore);let s;return s=typeof(n=Ut(n))=="string"||n instanceof Tp?BL(this._dataReader,"WriteBatch.update",o._key,n,r,i):FL(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Qr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ab(e,this._firestore);return this._mutations=this._mutations.concat(new jv(n._key,Qr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ab(t,e){if((t=Ut(t)).firestore!==e)throw new Te(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ty(){return new rS("serverTimestamp")}function JG(...t){return new iS("arrayUnion",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t){return Yv(t=Bi(t,ea)),new QG(t,e=>Pp(t,e))}(function(e,n=!0){(function(i){wd=i})(pl),Ja(new Ys("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ea(new K8(r.getProvider("auth-internal")),new Q8(s,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Te(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vh(c.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),so(HR,GR,e),so(HR,GR,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL="firebasestorage.googleapis.com",YL="storageBucket",ZG=2*60*1e3,eq=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln extends ys{constructor(e,n,r=0){super(lb(e),`Firebase Storage: ${n} (${lb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ln.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Dn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Dn||(Dn={}));function lb(t){return"storage/"+t}function fS(){const t="An unknown error occurred, please check the error payload for server response.";return new Ln(Dn.UNKNOWN,t)}function tq(t){return new Ln(Dn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function nq(t){return new Ln(Dn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function rq(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ln(Dn.UNAUTHENTICATED,t)}function iq(){return new Ln(Dn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function oq(t){return new Ln(Dn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function sq(){return new Ln(Dn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function aq(){return new Ln(Dn.CANCELED,"User canceled the upload/download.")}function lq(t){return new Ln(Dn.INVALID_URL,"Invalid URL '"+t+"'.")}function cq(t){return new Ln(Dn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function uq(){return new Ln(Dn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+YL+"' property when initializing the app?")}function dq(){return new Ln(Dn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function fq(){return new Ln(Dn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function hq(t){return new Ln(Dn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function mE(t){return new Ln(Dn.INVALID_ARGUMENT,t)}function XL(){return new Ln(Dn.APP_DELETED,"The Firebase app was deleted.")}function pq(t){return new Ln(Dn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ih(t,e){return new Ln(Dn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function df(t){throw new Ln(Dn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Mi.makeFromUrl(e,n)}catch{return new Mi(e,"")}if(r.path==="")return r;throw cq(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},b=n===KL?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",_=new RegExp(`^https?://${b}/${i}/${x}`,"i"),v=[{regex:a,indices:l,postModify:o},{regex:p,indices:m,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<v.length;S++){const k=v[S],$=k.regex.exec(e);if($){const I=$[k.indices.bucket];let T=$[k.indices.path];T||(T=""),r=new Mi(I,T),k.postModify(r);break}}if(r==null)throw lq(e);return r}}class gq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mq(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let c=!1;function u(...x){c||(c=!0,e.apply(null,x))}function f(x){i=setTimeout(()=>{i=null,t(p,l())},x)}function h(){o&&clearTimeout(o)}function p(x,..._){if(c){h();return}if(x){h(),u.call(null,x,..._);return}if(l()||s){h(),u.call(null,x,..._);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,f(v)}let m=!1;function b(x){m||(m=!0,h(),!c&&(i!==null?(x||(a=2),clearTimeout(i),f(0)):x||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,b(!0)},n),b}function yq(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vq(t){return t!==void 0}function _q(t){return typeof t=="object"&&!Array.isArray(t)}function hS(t){return typeof t=="string"||t instanceof String}function HP(t){return pS()&&t instanceof Blob}function pS(){return typeof Blob<"u"}function GP(t,e,n,r){if(r<e)throw mE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw mE(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function QL(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Wl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Wl||(Wl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bq(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(e,n,r,i,o,s,a,l,c,u,f,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new $g(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Wl.NO_ERROR,l=o.getStatus();if(!a||bq(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===Wl.ABORT;r(!1,new $g(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new $g(c,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());vq(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=fS();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?XL():aq();s(l)}else{const l=sq();s(l)}};this.canceled_?n(!1,new $g(!1,null,!0)):this.backoffId_=mq(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&yq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $g{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Eq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function xq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Sq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Cq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Tq(t,e,n,r,i,o,s=!0){const a=QL(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Sq(c,e),Eq(c,n),xq(c,o),Cq(c,r),new wq(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Rq(...t){const e=Iq();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(pS())return new Blob(t);throw new Ln(Dn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Pq(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aq(t){if(typeof atob>"u")throw hq("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cb{constructor(e,n){this.data=e,this.contentType=n||null}}function kq(t,e){switch(t){case rs.RAW:return new cb(JL(e));case rs.BASE64:case rs.BASE64URL:return new cb(ZL(t,e));case rs.DATA_URL:return new cb(Nq(e),$q(e))}throw fS()}function JL(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Oq(t){let e;try{e=decodeURIComponent(t)}catch{throw ih(rs.DATA_URL,"Malformed data URL.")}return JL(e)}function ZL(t,e){switch(t){case rs.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw ih(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case rs.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw ih(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Aq(e)}catch(i){throw i.message.includes("polyfill")?i:ih(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class eF{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ih(rs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Mq(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Nq(t){const e=new eF(t);return e.base64?ZL(rs.BASE64,e.rest):Oq(e.rest)}function $q(t){return new eF(t).contentType}function Mq(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){let r=0,i="";HP(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(HP(this.data_)){const r=this.data_,i=Pq(r,e,n);return i===null?null:new Ia(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ia(r,!0)}}static getBlob(...e){if(pS()){const n=e.map(r=>r instanceof Ia?r.data_:r);return new Ia(Rq.apply(null,n))}else{const n=e.map(s=>hS(s)?kq(rs.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Ia(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t){let e;try{e=JSON.parse(t)}catch{return null}return _q(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dq(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Lq(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function nF(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fq(t,e){return e}class Hr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Fq}}let Mg=null;function Bq(t){return!hS(t)||t.length<2?t:nF(t)}function rF(){if(Mg)return Mg;const t=[];t.push(new Hr("bucket")),t.push(new Hr("generation")),t.push(new Hr("metageneration")),t.push(new Hr("name","fullPath",!0));function e(o,s){return Bq(s)}const n=new Hr("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Hr("size");return i.xform=r,t.push(i),t.push(new Hr("timeCreated")),t.push(new Hr("updated")),t.push(new Hr("md5Hash",null,!0)),t.push(new Hr("cacheControl",null,!0)),t.push(new Hr("contentDisposition",null,!0)),t.push(new Hr("contentEncoding",null,!0)),t.push(new Hr("contentLanguage",null,!0)),t.push(new Hr("contentType",null,!0)),t.push(new Hr("metadata","customMetadata",!0)),Mg=t,Mg}function Vq(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Mi(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function Uq(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return Vq(r,t),r}function iF(t,e,n){const r=tF(e);return r===null?null:Uq(t,r,n)}function jq(t,e,n,r){const i=tF(e);if(i===null||!hS(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const u=t.bucket,f=t.fullPath,h="/b/"+s(u)+"/o/"+s(f),p=Zv(h,n,r),m=QL({alt:"media",token:c});return p+m})[0]}function zq(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class gS{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(t){if(!t)throw fS()}function Wq(t,e){function n(r,i){const o=iF(t,i,e);return oF(o!==null),o}return n}function Hq(t,e){function n(r,i){const o=iF(t,i,e);return oF(o!==null),jq(o,i,t.host,t._protocol)}return n}function sF(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=iq():i=rq():n.getStatus()===402?i=nq(t.bucket):n.getStatus()===403?i=oq(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function aF(t){const e=sF(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=tq(t.path)),o.serverResponse=i.serverResponse,o}return n}function Gq(t,e,n){const r=e.fullServerUrl(),i=Zv(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new gS(i,o,Hq(t,n),s);return a.errorHandler=aF(e),a}function qq(t,e){const n=e.fullServerUrl(),r=Zv(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function s(l,c){}const a=new gS(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=aF(e),a}function Kq(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Yq(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Kq(null,e)),r}function Xq(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let S=0;S<2;S++)v=v+Math.random().toString().slice(2);return v}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const c=Yq(e,r,i),u=zq(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Ia.getBlob(f,r,h);if(p===null)throw dq();const m={name:c.fullPath},b=Zv(o,t.host,t._protocol),x="POST",_=t.maxUploadRetryTime,w=new gS(b,x,Wq(t,n),_);return w.urlParams=m,w.headers=s,w.body=p.uploadData(),w.errorHandler=sF(e),w}class Qq{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Wl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Wl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Wl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw df("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw df("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw df("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw df("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw df("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Jq extends Qq{initXhr(){this.xhr_.responseType="text"}}function mS(){return new Jq}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n){this._service=e,n instanceof Mi?this._location=n:this._location=Mi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new rc(e,n)}get root(){const e=new Mi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nF(this._location.path)}get storage(){return this._service}get parent(){const e=Dq(this._location.path);if(e===null)return null;const n=new Mi(this._location.bucket,e);return new rc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw pq(e)}}function Zq(t,e,n){t._throwIfRoot("uploadBytes");const r=Xq(t.storage,t._location,rF(),new Ia(e,!0),n);return t.storage.makeRequestWithTokens(r,mS).then(i=>({metadata:i,ref:t}))}function eK(t){t._throwIfRoot("getDownloadURL");const e=Gq(t.storage,t._location,rF());return t.storage.makeRequestWithTokens(e,mS).then(n=>{if(n===null)throw fq();return n})}function tK(t){t._throwIfRoot("deleteObject");const e=qq(t.storage,t._location);return t.storage.makeRequestWithTokens(e,mS)}function nK(t,e){const n=Lq(t._location.path,e),r=new Mi(t._location.bucket,n);return new rc(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rK(t){return/^[A-Za-z]+:\/\//.test(t)}function iK(t,e){return new rc(t,e)}function lF(t,e){if(t instanceof yS){const n=t;if(n._bucket==null)throw uq();const r=new rc(n,n._bucket);return e!=null?lF(r,e):r}else return e!==void 0?nK(t,e):t}function oK(t,e){if(e&&rK(e)){if(t instanceof yS)return iK(t,e);throw mE("To use ref(service, url), the first argument must be a Storage instance.")}else return lF(t,e)}function qP(t,e){const n=e==null?void 0:e[YL];return n==null?null:Mi.makeFromBucketSpec(n,t)}function sK(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:gx(i,t.app.options.projectId))}class yS{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=KL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ZG,this._maxUploadRetryTime=eq,this._requests=new Set,i!=null?this._bucket=Mi.makeFromBucketSpec(i,this._host):this._bucket=qP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mi.makeFromBucketSpec(this._url,e):this._bucket=qP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){GP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){GP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rc(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new gq(XL());{const s=Tq(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const KP="@firebase/storage",YP="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF="storage";function XP(t,e,n){return t=Ut(t),Zq(t,e,n)}function QP(t){return t=Ut(t),eK(t)}function aK(t){return t=Ut(t),tK(t)}function ub(t,e){return t=Ut(t),oK(t,e)}function lK(t=kv(),e){t=Ut(t);const r=mp(t,cF).getImmediate({identifier:e}),i=px("storage");return i&&cK(r,...i),r}function cK(t,e,n,r={}){sK(t,e,n,r)}function uK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new yS(n,r,i,e,pl)}function dK(){Ja(new Ys(cF,uK,"PUBLIC").setMultipleInstances(!0)),so(KP,YP,""),so(KP,YP,"esm2017")}dK();const fK={apiKey:"AIzaSyBwhJVoZ2nKnGrl9VJ7D6GXpcUha2IRN08",authDomain:"notetaker-f71ae.firebaseapp.com",databaseURL:"https://notetaker-f71ae-default-rtdb.firebaseio.com",projectId:"notetaker-f71ae",storageBucket:"notetaker-f71ae.firebasestorage.app",messagingSenderId:"466022334149",appId:"1:466022334149:web:bb9e6830f35a4b94b73aac",measurementId:"G-ZH0WYZKWKN"},vS=AM(fK),Hl=W8(vS),Ae=FG(vS),db=lK(vS),hK={black:"#000",white:"#fff"},Wh=hK,pK={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},kc=pK,gK={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Oc=gK,mK={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Nc=mK,yK={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},$c=yK,vK={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Mc=vK,_K={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ff=_K,bK={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},wK=bK;function ta(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const e0="$$material";function Iy(){return Iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iy.apply(null,arguments)}var EK=!1;function xK(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function SK(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var CK=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!EK:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(SK(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=xK(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),$r="-ms-",Ry="-moz-",Lt="-webkit-",uF="comm",_S="rule",bS="decl",TK="@import",dF="@keyframes",IK="@layer",RK=Math.abs,t0=String.fromCharCode,PK=Object.assign;function AK(t,e){return wr(t,0)^45?(((e<<2^wr(t,0))<<2^wr(t,1))<<2^wr(t,2))<<2^wr(t,3):0}function fF(t){return t.trim()}function kK(t,e){return(t=e.exec(t))?t[0]:t}function Ft(t,e,n){return t.replace(e,n)}function yE(t,e){return t.indexOf(e)}function wr(t,e){return t.charCodeAt(e)|0}function Hh(t,e,n){return t.slice(e,n)}function Zo(t){return t.length}function wS(t){return t.length}function Dg(t,e){return e.push(t),t}function OK(t,e){return t.map(e).join("")}var n0=1,td=1,hF=0,bi=0,Gn=0,Td="";function r0(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:n0,column:td,length:s,return:""}}function hf(t,e){return PK(r0("",null,null,"",null,null,0),t,{length:-t.length},e)}function NK(){return Gn}function $K(){return Gn=bi>0?wr(Td,--bi):0,td--,Gn===10&&(td=1,n0--),Gn}function Vi(){return Gn=bi<hF?wr(Td,bi++):0,td++,Gn===10&&(td=1,n0++),Gn}function cs(){return wr(Td,bi)}function Im(){return bi}function Ap(t,e){return Hh(Td,t,e)}function Gh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function pF(t){return n0=td=1,hF=Zo(Td=t),bi=0,[]}function gF(t){return Td="",t}function Rm(t){return fF(Ap(bi-1,vE(t===91?t+2:t===40?t+1:t)))}function MK(t){for(;(Gn=cs())&&Gn<33;)Vi();return Gh(t)>2||Gh(Gn)>3?"":" "}function DK(t,e){for(;--e&&Vi()&&!(Gn<48||Gn>102||Gn>57&&Gn<65||Gn>70&&Gn<97););return Ap(t,Im()+(e<6&&cs()==32&&Vi()==32))}function vE(t){for(;Vi();)switch(Gn){case t:return bi;case 34:case 39:t!==34&&t!==39&&vE(Gn);break;case 40:t===41&&vE(t);break;case 92:Vi();break}return bi}function LK(t,e){for(;Vi()&&t+Gn!==47+10;)if(t+Gn===42+42&&cs()===47)break;return"/*"+Ap(e,bi-1)+"*"+t0(t===47?t:Vi())}function FK(t){for(;!Gh(cs());)Vi();return Ap(t,bi)}function BK(t){return gF(Pm("",null,null,null,[""],t=pF(t),0,[0],t))}function Pm(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,f=s,h=0,p=0,m=0,b=1,x=1,_=1,w=0,v="",S=i,k=o,$=r,I=v;x;)switch(m=w,w=Vi()){case 40:if(m!=108&&wr(I,f-1)==58){yE(I+=Ft(Rm(w),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:I+=Rm(w);break;case 9:case 10:case 13:case 32:I+=MK(m);break;case 92:I+=DK(Im()-1,7);continue;case 47:switch(cs()){case 42:case 47:Dg(VK(LK(Vi(),Im()),e,n),l);break;default:I+="/"}break;case 123*b:a[c++]=Zo(I)*_;case 125*b:case 59:case 0:switch(w){case 0:case 125:x=0;case 59+u:_==-1&&(I=Ft(I,/\f/g,"")),p>0&&Zo(I)-f&&Dg(p>32?ZP(I+";",r,n,f-1):ZP(Ft(I," ","")+";",r,n,f-2),l);break;case 59:I+=";";default:if(Dg($=JP(I,e,n,c,u,i,a,v,S=[],k=[],f),o),w===123)if(u===0)Pm(I,e,$,$,S,o,f,a,k);else switch(h===99&&wr(I,3)===110?100:h){case 100:case 108:case 109:case 115:Pm(t,$,$,r&&Dg(JP(t,$,$,0,0,i,a,v,i,S=[],f),k),i,k,f,a,r?S:k);break;default:Pm(I,$,$,$,[""],k,0,a,k)}}c=u=p=0,b=_=1,v=I="",f=s;break;case 58:f=1+Zo(I),p=m;default:if(b<1){if(w==123)--b;else if(w==125&&b++==0&&$K()==125)continue}switch(I+=t0(w),w*b){case 38:_=u>0?1:(I+="\f",-1);break;case 44:a[c++]=(Zo(I)-1)*_,_=1;break;case 64:cs()===45&&(I+=Rm(Vi())),h=cs(),u=f=Zo(v=I+=FK(Im())),w++;break;case 45:m===45&&Zo(I)==2&&(b=0)}}return o}function JP(t,e,n,r,i,o,s,a,l,c,u){for(var f=i-1,h=i===0?o:[""],p=wS(h),m=0,b=0,x=0;m<r;++m)for(var _=0,w=Hh(t,f+1,f=RK(b=s[m])),v=t;_<p;++_)(v=fF(b>0?h[_]+" "+w:Ft(w,/&\f/g,h[_])))&&(l[x++]=v);return r0(t,e,n,i===0?_S:a,l,c,u)}function VK(t,e,n){return r0(t,e,n,uF,t0(NK()),Hh(t,2,-2),0)}function ZP(t,e,n,r){return r0(t,e,n,bS,Hh(t,0,r),Hh(t,r+1,-1),r)}function Ou(t,e){for(var n="",r=wS(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function UK(t,e,n,r){switch(t.type){case IK:if(t.children.length)break;case TK:case bS:return t.return=t.return||t.value;case uF:return"";case dF:return t.return=t.value+"{"+Ou(t.children,r)+"}";case _S:t.value=t.props.join(",")}return Zo(n=Ou(t.children,r))?t.return=t.value+"{"+n+"}":""}function jK(t){var e=wS(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function zK(t){return function(e){e.root||(e=e.return)&&t(e)}}function mF(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var WK=function(e,n,r){for(var i=0,o=0;i=o,o=cs(),i===38&&o===12&&(n[r]=1),!Gh(o);)Vi();return Ap(e,bi)},HK=function(e,n){var r=-1,i=44;do switch(Gh(i)){case 0:i===38&&cs()===12&&(n[r]=1),e[r]+=WK(bi-1,n,r);break;case 2:e[r]+=Rm(i);break;case 4:if(i===44){e[++r]=cs()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=t0(i)}while(i=Vi());return e},GK=function(e,n){return gF(HK(pF(e),n))},eA=new WeakMap,qK=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!eA.get(r))&&!i){eA.set(e,!0);for(var o=[],s=GK(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},KK=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function yF(t,e){switch(AK(t,e)){case 5103:return Lt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Lt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Lt+t+Ry+t+$r+t+t;case 6828:case 4268:return Lt+t+$r+t+t;case 6165:return Lt+t+$r+"flex-"+t+t;case 5187:return Lt+t+Ft(t,/(\w+).+(:[^]+)/,Lt+"box-$1$2"+$r+"flex-$1$2")+t;case 5443:return Lt+t+$r+"flex-item-"+Ft(t,/flex-|-self/,"")+t;case 4675:return Lt+t+$r+"flex-line-pack"+Ft(t,/align-content|flex-|-self/,"")+t;case 5548:return Lt+t+$r+Ft(t,"shrink","negative")+t;case 5292:return Lt+t+$r+Ft(t,"basis","preferred-size")+t;case 6060:return Lt+"box-"+Ft(t,"-grow","")+Lt+t+$r+Ft(t,"grow","positive")+t;case 4554:return Lt+Ft(t,/([^-])(transform)/g,"$1"+Lt+"$2")+t;case 6187:return Ft(Ft(Ft(t,/(zoom-|grab)/,Lt+"$1"),/(image-set)/,Lt+"$1"),t,"")+t;case 5495:case 3959:return Ft(t,/(image-set\([^]*)/,Lt+"$1$`$1");case 4968:return Ft(Ft(t,/(.+:)(flex-)?(.*)/,Lt+"box-pack:$3"+$r+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Lt+t+t;case 4095:case 3583:case 4068:case 2532:return Ft(t,/(.+)-inline(.+)/,Lt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Zo(t)-1-e>6)switch(wr(t,e+1)){case 109:if(wr(t,e+4)!==45)break;case 102:return Ft(t,/(.+:)(.+)-([^]+)/,"$1"+Lt+"$2-$3$1"+Ry+(wr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~yE(t,"stretch")?yF(Ft(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(wr(t,e+1)!==115)break;case 6444:switch(wr(t,Zo(t)-3-(~yE(t,"!important")&&10))){case 107:return Ft(t,":",":"+Lt)+t;case 101:return Ft(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Lt+(wr(t,14)===45?"inline-":"")+"box$3$1"+Lt+"$2$3$1"+$r+"$2box$3")+t}break;case 5936:switch(wr(t,e+11)){case 114:return Lt+t+$r+Ft(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Lt+t+$r+Ft(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Lt+t+$r+Ft(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Lt+t+$r+t+t}return t}var YK=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case bS:e.return=yF(e.value,e.length);break;case dF:return Ou([hf(e,{value:Ft(e.value,"@","@"+Lt)})],i);case _S:if(e.length)return OK(e.props,function(o){switch(kK(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ou([hf(e,{props:[Ft(o,/:(read-\w+)/,":"+Ry+"$1")]})],i);case"::placeholder":return Ou([hf(e,{props:[Ft(o,/:(plac\w+)/,":"+Lt+"input-$1")]}),hf(e,{props:[Ft(o,/:(plac\w+)/,":"+Ry+"$1")]}),hf(e,{props:[Ft(o,/:(plac\w+)/,$r+"input-$1")]})],i)}return""})}},XK=[YK],QK=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var x=b.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var i=e.stylisPlugins||XK,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var x=b.getAttribute("data-emotion").split(" "),_=1;_<x.length;_++)o[x[_]]=!0;a.push(b)});var l,c=[qK,KK];{var u,f=[UK,zK(function(b){u.insert(b)})],h=jK(c.concat(i,f)),p=function(x){return Ou(BK(x),h)};l=function(x,_,w,v){u=w,p(x?x+"{"+_.styles+"}":_.styles),v&&(m.inserted[_.name]=!0)}}var m={key:n,sheet:new CK({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return m.sheet.hydrate(a),m},vF={exports:{}},Gt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fr=typeof Symbol=="function"&&Symbol.for,ES=fr?Symbol.for("react.element"):60103,xS=fr?Symbol.for("react.portal"):60106,i0=fr?Symbol.for("react.fragment"):60107,o0=fr?Symbol.for("react.strict_mode"):60108,s0=fr?Symbol.for("react.profiler"):60114,a0=fr?Symbol.for("react.provider"):60109,l0=fr?Symbol.for("react.context"):60110,SS=fr?Symbol.for("react.async_mode"):60111,c0=fr?Symbol.for("react.concurrent_mode"):60111,u0=fr?Symbol.for("react.forward_ref"):60112,d0=fr?Symbol.for("react.suspense"):60113,JK=fr?Symbol.for("react.suspense_list"):60120,f0=fr?Symbol.for("react.memo"):60115,h0=fr?Symbol.for("react.lazy"):60116,ZK=fr?Symbol.for("react.block"):60121,eY=fr?Symbol.for("react.fundamental"):60117,tY=fr?Symbol.for("react.responder"):60118,nY=fr?Symbol.for("react.scope"):60119;function qi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ES:switch(t=t.type,t){case SS:case c0:case i0:case s0:case o0:case d0:return t;default:switch(t=t&&t.$$typeof,t){case l0:case u0:case h0:case f0:case a0:return t;default:return e}}case xS:return e}}}function _F(t){return qi(t)===c0}Gt.AsyncMode=SS;Gt.ConcurrentMode=c0;Gt.ContextConsumer=l0;Gt.ContextProvider=a0;Gt.Element=ES;Gt.ForwardRef=u0;Gt.Fragment=i0;Gt.Lazy=h0;Gt.Memo=f0;Gt.Portal=xS;Gt.Profiler=s0;Gt.StrictMode=o0;Gt.Suspense=d0;Gt.isAsyncMode=function(t){return _F(t)||qi(t)===SS};Gt.isConcurrentMode=_F;Gt.isContextConsumer=function(t){return qi(t)===l0};Gt.isContextProvider=function(t){return qi(t)===a0};Gt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ES};Gt.isForwardRef=function(t){return qi(t)===u0};Gt.isFragment=function(t){return qi(t)===i0};Gt.isLazy=function(t){return qi(t)===h0};Gt.isMemo=function(t){return qi(t)===f0};Gt.isPortal=function(t){return qi(t)===xS};Gt.isProfiler=function(t){return qi(t)===s0};Gt.isStrictMode=function(t){return qi(t)===o0};Gt.isSuspense=function(t){return qi(t)===d0};Gt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===i0||t===c0||t===s0||t===o0||t===d0||t===JK||typeof t=="object"&&t!==null&&(t.$$typeof===h0||t.$$typeof===f0||t.$$typeof===a0||t.$$typeof===l0||t.$$typeof===u0||t.$$typeof===eY||t.$$typeof===tY||t.$$typeof===nY||t.$$typeof===ZK)};Gt.typeOf=qi;vF.exports=Gt;var rY=vF.exports,bF=rY,iY={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},oY={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wF={};wF[bF.ForwardRef]=iY;wF[bF.Memo]=oY;var sY=!0;function EF(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var CS=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||sY===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},TS=function(e,n,r){CS(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function aY(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var lY={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},cY=!1,uY=/[A-Z]|^ms/g,dY=/_EMO_([^_]+?)_([^]*?)_EMO_/g,xF=function(e){return e.charCodeAt(1)===45},tA=function(e){return e!=null&&typeof e!="boolean"},fb=mF(function(t){return xF(t)?t:t.replace(uY,"-$&").toLowerCase()}),nA=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(dY,function(r,i,o){return es={name:i,styles:o,next:es},i})}return lY[e]!==1&&!xF(e)&&typeof n=="number"&&n!==0?n+"px":n},fY="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function qh(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return es={name:i.name,styles:i.styles,next:es},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)es={name:s.name,styles:s.styles,next:es},s=s.next;var a=o.styles+";";return a}return hY(t,e,n)}case"function":{if(t!==void 0){var l=es,c=n(t);return es=l,qh(t,e,c)}break}}var u=n;if(e==null)return u;var f=e[u];return f!==void 0?f:u}function hY(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=qh(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":tA(a)&&(r+=fb(o)+":"+nA(o,a)+";")}else{if(o==="NO_COMPONENT_SELECTOR"&&cY)throw new Error(fY);if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)tA(s[l])&&(r+=fb(o)+":"+nA(o,s[l])+";");else{var c=qh(t,e,s);switch(o){case"animation":case"animationName":{r+=fb(o)+":"+c+";";break}default:r+=o+"{"+c+"}"}}}}return r}var rA=/label:\s*([^\s;{]+)\s*(;|$)/g,es;function kp(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";es=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=qh(n,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=qh(n,e,t[a]),r){var l=o;i+=l[a]}rA.lastIndex=0;for(var c="",u;(u=rA.exec(i))!==null;)c+="-"+u[1];var f=aY(i)+c;return{name:f,styles:i,next:es}}var pY=function(e){return e()},SF=zb["useInsertionEffect"]?zb["useInsertionEffect"]:!1,CF=SF||pY,iA=SF||E.useLayoutEffect,gY=!1,TF=E.createContext(typeof HTMLElement<"u"?QK({key:"css"}):null);TF.Provider;var IS=function(e){return E.forwardRef(function(n,r){var i=E.useContext(TF);return e(n,i,r)})},p0=E.createContext({}),RS={}.hasOwnProperty,_E="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",mY=function(e,n){var r={};for(var i in n)RS.call(n,i)&&(r[i]=n[i]);return r[_E]=e,r},yY=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return CS(n,r,i),CF(function(){return TS(n,r,i)}),null},vY=IS(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[_E],o=[r],s="";typeof t.className=="string"?s=EF(e.registered,o,t.className):t.className!=null&&(s=t.className+" ");var a=kp(o,void 0,E.useContext(p0));s+=e.key+"-"+a.name;var l={};for(var c in t)RS.call(t,c)&&c!=="css"&&c!==_E&&!gY&&(l[c]=t[c]);return l.className=s,n&&(l.ref=n),E.createElement(E.Fragment,null,E.createElement(yY,{cache:e,serialized:a,isStringTag:typeof i=="string"}),E.createElement(i,l))}),_Y=vY,oA=function(e,n){var r=arguments;if(n==null||!RS.call(n,"css"))return E.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=_Y,o[1]=mY(e,n);for(var s=2;s<i;s++)o[s]=r[s];return E.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(oA||(oA={}));var bY=IS(function(t,e){var n=t.styles,r=kp([n],void 0,E.useContext(p0)),i=E.useRef();return iA(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),iA(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&TS(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function PS(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return kp(e)}function Op(){var t=PS.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var wY=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,EY=mF(function(t){return wY.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),xY=!1,SY=EY,CY=function(e){return e!=="theme"},sA=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?SY:CY},aA=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},TY=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return CS(n,r,i),CF(function(){return TS(n,r,i)}),null},IY=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=aA(e,n,r),l=a||sA(i),c=!l("as");return function(){var u=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)f.push.apply(f,u);else{var h=u[0];f.push(h[0]);for(var p=u.length,m=1;m<p;m++)f.push(u[m],h[m])}var b=IS(function(x,_,w){var v=c&&x.as||i,S="",k=[],$=x;if(x.theme==null){$={};for(var I in x)$[I]=x[I];$.theme=E.useContext(p0)}typeof x.className=="string"?S=EF(_.registered,k,x.className):x.className!=null&&(S=x.className+" ");var T=kp(f.concat(k),_.registered,$);S+=_.key+"-"+T.name,s!==void 0&&(S+=" "+s);var R=c&&a===void 0?sA(v):l,y={};for(var P in x)c&&P==="as"||R(P)&&(y[P]=x[P]);return y.className=S,w&&(y.ref=w),E.createElement(E.Fragment,null,E.createElement(TY,{cache:_,serialized:T,isStringTag:typeof v=="string"}),E.createElement(v,y))});return b.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",b.defaultProps=e.defaultProps,b.__emotion_real=b,b.__emotion_base=i,b.__emotion_styles=f,b.__emotion_forwardProp=a,Object.defineProperty(b,"toString",{value:function(){return s===void 0&&xY?"NO_COMPONENT_SELECTOR":"."+s}}),b.withComponent=function(x,_){var w=t(x,Iy({},n,_,{shouldForwardProp:aA(b,_,!0)}));return w.apply(void 0,f)},b}},RY=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],bE=IY.bind(null);RY.forEach(function(t){bE[t]=bE(t)});var IF={exports:{}},PY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",AY=PY,kY=AY;function RF(){}function PF(){}PF.resetWarningCache=RF;var OY=function(){function t(r,i,o,s,a,l){if(l!==kY){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:PF,resetWarningCache:RF};return n.PropTypes=n,n};IF.exports=OY();var AS=IF.exports;const fe=op(AS);function NY(t){return t==null||Object.keys(t).length===0}function $Y(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(NY(i)?n:i):e;return O.jsx(bY,{styles:r})}function AF(t,e){return bE(t,e)}function MY(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const lA=[];function cA(t){return lA[0]=t,kp(lA)}var kF={exports:{}},en={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kS=Symbol.for("react.transitional.element"),OS=Symbol.for("react.portal"),g0=Symbol.for("react.fragment"),m0=Symbol.for("react.strict_mode"),y0=Symbol.for("react.profiler"),v0=Symbol.for("react.consumer"),_0=Symbol.for("react.context"),b0=Symbol.for("react.forward_ref"),w0=Symbol.for("react.suspense"),E0=Symbol.for("react.suspense_list"),x0=Symbol.for("react.memo"),S0=Symbol.for("react.lazy"),DY=Symbol.for("react.view_transition"),LY=Symbol.for("react.client.reference");function go(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case kS:switch(t=t.type,t){case g0:case y0:case m0:case w0:case E0:case DY:return t;default:switch(t=t&&t.$$typeof,t){case _0:case b0:case S0:case x0:return t;case v0:return t;default:return e}}case OS:return e}}}en.ContextConsumer=v0;en.ContextProvider=_0;en.Element=kS;en.ForwardRef=b0;en.Fragment=g0;en.Lazy=S0;en.Memo=x0;en.Portal=OS;en.Profiler=y0;en.StrictMode=m0;en.Suspense=w0;en.SuspenseList=E0;en.isContextConsumer=function(t){return go(t)===v0};en.isContextProvider=function(t){return go(t)===_0};en.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===kS};en.isForwardRef=function(t){return go(t)===b0};en.isFragment=function(t){return go(t)===g0};en.isLazy=function(t){return go(t)===S0};en.isMemo=function(t){return go(t)===x0};en.isPortal=function(t){return go(t)===OS};en.isProfiler=function(t){return go(t)===y0};en.isStrictMode=function(t){return go(t)===m0};en.isSuspense=function(t){return go(t)===w0};en.isSuspenseList=function(t){return go(t)===E0};en.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===g0||t===y0||t===m0||t===w0||t===E0||typeof t=="object"&&t!==null&&(t.$$typeof===S0||t.$$typeof===x0||t.$$typeof===_0||t.$$typeof===v0||t.$$typeof===b0||t.$$typeof===LY||t.getModuleId!==void 0)};en.typeOf=go;kF.exports=en;var OF=kF.exports;function ns(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function NF(t){if(E.isValidElement(t)||OF.isValidElementType(t)||!ns(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=NF(t[n])}),e}function Vr(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return ns(t)&&ns(e)&&Object.keys(e).forEach(i=>{E.isValidElement(e[i])||OF.isValidElementType(e[i])?r[i]=e[i]:ns(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&ns(t[i])?r[i]=Vr(t[i],e[i],n):n.clone?r[i]=ns(e[i])?NF(e[i]):e[i]:r[i]=e[i]}),r}const FY=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function BY(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,o=FY(e),s=Object.keys(o);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function c(h,p){const m=s.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(m!==-1&&typeof e[s[m]]=="number"?e[s[m]]:p)-r/100}${n})`}function u(h){return s.indexOf(h)+1<s.length?c(h,s[s.indexOf(h)+1]):a(h)}function f(h){const p=s.indexOf(h);return p===0?a(s[1]):p===s.length-1?l(s[p]):c(h,s[s.indexOf(h)+1]).replace("@media","@media not all and")}return{keys:s,values:o,up:a,down:l,between:c,only:u,not:f,unit:n,...i}}function VY(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var s,a;const o=/min-width:\s*([0-9.]+)/;return+(((s=r.match(o))==null?void 0:s[1])||0)-+(((a=i.match(o))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function UY(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function jY(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(o)}function zY(t){const e=(o,s)=>o.replace("@media",s?`@container ${s}`:"@container");function n(o,s){o.up=(...a)=>e(t.breakpoints.up(...a),s),o.down=(...a)=>e(t.breakpoints.down(...a),s),o.between=(...a)=>e(t.breakpoints.between(...a),s),o.only=(...a)=>e(t.breakpoints.only(...a),s),o.not=(...a)=>{const l=e(t.breakpoints.not(...a),s);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=o=>(n(r,o),r);return n(i),{...t,containerQueries:i}}const WY={borderRadius:4},HY=WY;function oh(t,e){return e?Vr(t,e,{clone:!1}):t}const C0={xs:0,sm:600,md:900,lg:1200,xl:1536},uA={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${C0[t]}px)`},GY={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:C0[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function na(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||uA;return e.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(e[l]),s),{})}if(typeof e=="object"){const o=r.breakpoints||uA;return Object.keys(e).reduce((s,a)=>{if(UY(o.keys,a)){const l=jY(r.containerQueries?r:GY,a);l&&(s[l]=n(e[a],a))}else if(Object.keys(o.values||C0).includes(a)){const l=o.up(a);s[l]=n(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return n(e)}function qY(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function KY(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function oe(t){if(typeof t!="string")throw new Error(ta(7));return t.charAt(0).toUpperCase()+t.slice(1)}function T0(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Py(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=T0(t,n)||r,e&&(i=e(i,r,t)),i}function jn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,c=T0(l,r)||{};return na(s,a,f=>{let h=Py(c,i,f);return f===h&&typeof f=="string"&&(h=Py(c,i,`${e}${f==="default"?"":oe(f)}`,f)),n===!1?h:{[n]:h}})};return o.propTypes={},o.filterProps=[e],o}function YY(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const XY={m:"margin",p:"padding"},QY={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},dA={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},JY=YY(t=>{if(t.length>2)if(dA[t])t=dA[t];else return[t];const[e,n]=t.split(""),r=XY[e],i=QY[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),NS=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],$S=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...NS,...$S];function Np(t,e,n,r){const i=T0(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const s=Math.abs(o),a=i[s];return o>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof i=="function"?i:()=>{}}function MS(t){return Np(t,"spacing",8)}function $p(t,e){return typeof e=="string"||e==null?e:t(e)}function ZY(t,e){return n=>t.reduce((r,i)=>(r[i]=$p(e,n),r),{})}function eX(t,e,n,r){if(!e.includes(n))return null;const i=JY(n),o=ZY(i,r),s=t[n];return na(t,s,o)}function $F(t,e){const n=MS(t.theme);return Object.keys(t).map(r=>eX(t,e,r,n)).reduce(oh,{})}function kn(t){return $F(t,NS)}kn.propTypes={};kn.filterProps=NS;function On(t){return $F(t,$S)}On.propTypes={};On.filterProps=$S;function MF(t=8,e=MS({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function I0(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?oh(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function to(t){return typeof t!="number"?t:`${t}px solid`}function mo(t,e){return jn({prop:t,themeKey:"borders",transform:e})}const tX=mo("border",to),nX=mo("borderTop",to),rX=mo("borderRight",to),iX=mo("borderBottom",to),oX=mo("borderLeft",to),sX=mo("borderColor"),aX=mo("borderTopColor"),lX=mo("borderRightColor"),cX=mo("borderBottomColor"),uX=mo("borderLeftColor"),dX=mo("outline",to),fX=mo("outlineColor"),R0=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Np(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:$p(e,r)});return na(t,t.borderRadius,n)}return null};R0.propTypes={};R0.filterProps=["borderRadius"];I0(tX,nX,rX,iX,oX,sX,aX,lX,cX,uX,R0,dX,fX);const P0=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Np(t.theme,"spacing",8),n=r=>({gap:$p(e,r)});return na(t,t.gap,n)}return null};P0.propTypes={};P0.filterProps=["gap"];const A0=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Np(t.theme,"spacing",8),n=r=>({columnGap:$p(e,r)});return na(t,t.columnGap,n)}return null};A0.propTypes={};A0.filterProps=["columnGap"];const k0=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Np(t.theme,"spacing",8),n=r=>({rowGap:$p(e,r)});return na(t,t.rowGap,n)}return null};k0.propTypes={};k0.filterProps=["rowGap"];const hX=jn({prop:"gridColumn"}),pX=jn({prop:"gridRow"}),gX=jn({prop:"gridAutoFlow"}),mX=jn({prop:"gridAutoColumns"}),yX=jn({prop:"gridAutoRows"}),vX=jn({prop:"gridTemplateColumns"}),_X=jn({prop:"gridTemplateRows"}),bX=jn({prop:"gridTemplateAreas"}),wX=jn({prop:"gridArea"});I0(P0,A0,k0,hX,pX,gX,mX,yX,vX,_X,bX,wX);function Nu(t,e){return e==="grey"?e:t}const EX=jn({prop:"color",themeKey:"palette",transform:Nu}),xX=jn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Nu}),SX=jn({prop:"backgroundColor",themeKey:"palette",transform:Nu});I0(EX,xX,SX);function Oi(t){return t<=1&&t!==0?`${t*100}%`:t}const CX=jn({prop:"width",transform:Oi}),DS=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,o,s,a,l;const r=((s=(o=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:s[n])||C0[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Oi(n)}};return na(t,t.maxWidth,e)}return null};DS.filterProps=["maxWidth"];const TX=jn({prop:"minWidth",transform:Oi}),IX=jn({prop:"height",transform:Oi}),RX=jn({prop:"maxHeight",transform:Oi}),PX=jn({prop:"minHeight",transform:Oi});jn({prop:"size",cssProperty:"width",transform:Oi});jn({prop:"size",cssProperty:"height",transform:Oi});const AX=jn({prop:"boxSizing"});I0(CX,DS,TX,IX,RX,PX,AX);const kX={border:{themeKey:"borders",transform:to},borderTop:{themeKey:"borders",transform:to},borderRight:{themeKey:"borders",transform:to},borderBottom:{themeKey:"borders",transform:to},borderLeft:{themeKey:"borders",transform:to},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:to},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:R0},color:{themeKey:"palette",transform:Nu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Nu},backgroundColor:{themeKey:"palette",transform:Nu},p:{style:On},pt:{style:On},pr:{style:On},pb:{style:On},pl:{style:On},px:{style:On},py:{style:On},padding:{style:On},paddingTop:{style:On},paddingRight:{style:On},paddingBottom:{style:On},paddingLeft:{style:On},paddingX:{style:On},paddingY:{style:On},paddingInline:{style:On},paddingInlineStart:{style:On},paddingInlineEnd:{style:On},paddingBlock:{style:On},paddingBlockStart:{style:On},paddingBlockEnd:{style:On},m:{style:kn},mt:{style:kn},mr:{style:kn},mb:{style:kn},ml:{style:kn},mx:{style:kn},my:{style:kn},margin:{style:kn},marginTop:{style:kn},marginRight:{style:kn},marginBottom:{style:kn},marginLeft:{style:kn},marginX:{style:kn},marginY:{style:kn},marginInline:{style:kn},marginInlineStart:{style:kn},marginInlineEnd:{style:kn},marginBlock:{style:kn},marginBlockStart:{style:kn},marginBlockEnd:{style:kn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:P0},rowGap:{style:k0},columnGap:{style:A0},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Oi},maxWidth:{style:DS},minWidth:{transform:Oi},height:{transform:Oi},maxHeight:{transform:Oi},minHeight:{transform:Oi},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Mp=kX;function OX(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function NX(t,e){return typeof t=="function"?t(e):t}function $X(){function t(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:f}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=T0(i,c)||{};return f?f(s):na(s,r,m=>{let b=Py(h,u,m);return m===b&&typeof m=="string"&&(b=Py(h,u,`${n}${m==="default"?"":oe(m)}`,m)),l===!1?b:{[l]:b}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const o=i.unstable_sxConfig??Mp;function s(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const c=qY(i.breakpoints),u=Object.keys(c);let f=c;return Object.keys(l).forEach(h=>{const p=NX(l[h],i);if(p!=null)if(typeof p=="object")if(o[h])f=oh(f,t(h,p,i,o));else{const m=na({theme:i},p,b=>({[h]:b}));OX(m,p)?f[h]=e({sx:p,theme:i}):f=oh(f,m)}else f=oh(f,t(h,p,i,o))}),VY(i,KY(u,f))}return Array.isArray(r)?r.map(s):s(r)}return e}const DF=$X();DF.filterProps=["sx"];const nd=DF;function MX(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function Dp(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={},...s}=t,a=BY(n),l=MF(i);let c=Vr({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...HY,...o}},s);return c=zY(c),c.applyStyles=MX,c=e.reduce((u,f)=>Vr(u,f),c),c.unstable_sxConfig={...Mp,...s==null?void 0:s.unstable_sxConfig},c.unstable_sx=function(f){return nd({sx:f,theme:this})},c}function DX(t){return Object.keys(t).length===0}function LX(t=null){const e=E.useContext(p0);return!e||DX(e)?t:e}const FX=Dp();function Lp(t=FX){return LX(t)}function BX({styles:t,themeId:e,defaultTheme:n={}}){const r=Lp(n),i=typeof t=="function"?t(e&&r[e]||r):t;return O.jsx($Y,{styles:i})}const VX=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??Mp;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function LS(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=VX(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return ns(a)?{...r,...a}:r}:o={...r,...e},{...i,sx:o}}const fA=t=>t,UX=()=>{let t=fA;return{configure(e){t=e},generate(e){return t(e)},reset(){t=fA}}},jX=UX(),LF=jX;function FF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=FF(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ve(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=FF(t))&&(r&&(r+=" "),r+=e);return r}function zX(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=AF("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(nd);return E.forwardRef(function(l,c){const u=Lp(n),{className:f,component:h="div",...p}=LS(l);return O.jsx(o,{as:h,ref:c,className:ve(f,i?i(r):r),theme:e&&u[e]||u,...p})})}const WX={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function it(t,e,n="Mui"){const r=WX[e];return r?`${n}-${r}`:`${LF.generate(t)}-${e}`}function tt(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=it(t,i,n)}),r}function BF(t){const{variants:e,...n}=t,r={variants:e,style:cA(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=cA(i.style))}),r}const HX=Dp();function hb(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function GX(t){return t?(e,n)=>n[t]:null}function qX(t,e,n){t.theme=YX(t.theme)?n:t.theme[e]||t.theme}function Am(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>Am(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...o}=n;r=o}return VF(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function VF(t,e,n=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const s=e[o];if(typeof s.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!s.props(r))continue}else for(const a in s.props)if(t[a]!==s.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==s.props[a])continue e;typeof s.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(s.style(r))):n.push(s.style)}return n}function UF(t={}){const{themeId:e,defaultTheme:n=HX,rootShouldForwardProp:r=hb,slotShouldForwardProp:i=hb}=t;function o(a){qX(a,e,n)}return(a,l={})=>{MY(a,k=>k.filter($=>$!==nd));const{name:c,slot:u,skipVariantsResolver:f,skipSx:h,overridesResolver:p=GX(QX(u)),...m}=l,b=f!==void 0?f:u&&u!=="Root"&&u!=="root"||!1,x=h||!1;let _=hb;u==="Root"||u==="root"?_=r:u?_=i:XX(a)&&(_=void 0);const w=AF(a,{shouldForwardProp:_,label:KX(),...m}),v=k=>{if(typeof k=="function"&&k.__emotion_real!==k)return function(I){return Am(I,k)};if(ns(k)){const $=BF(k);return $.variants?function(T){return Am(T,$)}:$.style}return k},S=(...k)=>{const $=[],I=k.map(v),T=[];if($.push(o),c&&p&&T.push(function(M){var j,Y;const z=(Y=(j=M.theme.components)==null?void 0:j[c])==null?void 0:Y.styleOverrides;if(!z)return null;const K={};for(const U in z)K[U]=Am(M,z[U]);return p(M,K)}),c&&!b&&T.push(function(M){var K,j;const A=M.theme,z=(j=(K=A==null?void 0:A.components)==null?void 0:K[c])==null?void 0:j.variants;return z?VF(M,z):null}),x||T.push(nd),Array.isArray(I[0])){const P=I.shift(),M=new Array($.length).fill(""),A=new Array(T.length).fill("");let z;z=[...M,...P,...A],z.raw=[...M,...P.raw,...A],$.unshift(z)}const R=[...$,...I,...T],y=w(...R);return a.muiName&&(y.muiName=a.muiName),y};return w.withConfig&&(S.withConfig=w.withConfig),S}}function KX(t,e){let n;return n}function YX(t){for(const e in t)return!1;return!0}function XX(t){return typeof t=="string"&&t.charCodeAt(0)>96}function QX(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const JX=UF(),jF=JX;function rd(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const o=t[i],s=e[i];if(!s)n[i]=o||{};else if(!o)n[i]=s;else{n[i]={...s};for(const a in o)if(Object.prototype.hasOwnProperty.call(o,a)){const l=a;n[i][l]=rd(o[l],s[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function ZX(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:rd(e.components[n].defaultProps,r)}function zF({props:t,name:e,defaultTheme:n,themeId:r}){let i=Lp(n);return r&&(i=i[r]||i),ZX({theme:i,name:e,props:t})}const eQ=typeof window<"u"?E.useLayoutEffect:E.useEffect,jo=eQ;function tQ(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function FS(t,e=0,n=1){return tQ(t,e,n)}function nQ(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ol(t){if(t.type)return t;if(t.charAt(0)==="#")return ol(nQ(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(ta(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(ta(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const rQ=t=>{const e=ol(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Lf=(t,e)=>{try{return rQ(t)}catch{return t}};function O0(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function WF(t){t=ol(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(c,u=(c+n/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),O0({type:a,values:l})}function wE(t){t=ol(t);let e=t.type==="hsl"||t.type==="hsla"?ol(WF(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function iQ(t,e){const n=wE(t),r=wE(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Ot(t,e){return t=ol(t),e=FS(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,O0(t)}function Lg(t,e,n){try{return Ot(t,e)}catch{return t}}function BS(t,e){if(t=ol(t),e=FS(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return O0(t)}function Qt(t,e,n){try{return BS(t,e)}catch{return t}}function VS(t,e){if(t=ol(t),e=FS(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return O0(t)}function Jt(t,e,n){try{return VS(t,e)}catch{return t}}function oQ(t,e=.15){return wE(t)>.5?BS(t,e):VS(t,e)}function Fg(t,e,n){try{return oQ(t,e)}catch{return t}}function hA(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function N0(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function km(t,e){var n,r,i;return E.isValidElement(t)&&e.indexOf(t.type.muiName??((i=(r=(n=t.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function wi(t){return t&&t.ownerDocument||document}function zo(t){return wi(t).defaultView||window}function Ay(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let pA=0;function sQ(t){const[e,n]=E.useState(t),r=t||e;return E.useEffect(()=>{e==null&&(pA+=1,n(`mui-${pA}`))},[e]),r}const aQ={...zb},gA=aQ.useId;function Id(t){if(gA!==void 0){const e=gA();return t??e}return sQ(t)}function sh({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=E.useRef(t!==void 0),[o,s]=E.useState(e),a=i?t:o,l=E.useCallback(c=>{i||s(c)},[]);return[a,l]}function ui(t){const e=E.useRef(t);return jo(()=>{e.current=t}),E.useRef((...n)=>(0,e.current)(...n)).current}function dr(...t){return E.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Ay(n,e)})},t)}const mA={};function HF(t,e){const n=E.useRef(mA);return n.current===mA&&(n.current=t(e)),n}const lQ=[];function cQ(t){E.useEffect(t,lQ)}class US{constructor(){Zd(this,"currentId",null);Zd(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Zd(this,"disposeEffect",()=>this.clear)}static create(){return new US}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function GF(){const t=HF(US.create).current;return cQ(t.disposeEffect),t}function yA(t){try{return t.matches(":focus-visible")}catch{}return!1}function qF(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}const uQ=t=>{const e=E.useRef({});return E.useEffect(()=>{e.current=t}),e.current},dQ=uQ;function fQ(t){return E.Children.toArray(t).filter(e=>E.isValidElement(e))}function ot(t,e,n=void 0){const r={};for(const i in t){const o=t[i];let s="",a=!0;for(let l=0;l<o.length;l+=1){const c=o[l];c&&(s+=(a===!0?"":" ")+e(c),a=!1,n&&n[c]&&(s+=" "+n[c]))}r[i]=s}return r}function hQ(t){return typeof t=="string"}function KF(t,e,n){return t===void 0||hQ(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function YF(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function vA(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function XF(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const p=ve(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),m={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},b={...n,...i,...r};return p.length>0&&(b.className=p),Object.keys(m).length>0&&(b.style=m),{props:b,internalRef:void 0}}const s=YF({...i,...r}),a=vA(r),l=vA(i),c=e(s),u=ve(c==null?void 0:c.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),f={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},h={...c,...n,...l,...a};return u.length>0&&(h.className=u),Object.keys(f).length>0&&(h.style=f),{props:h,internalRef:c.ref}}function QF(t,e,n){return typeof t=="function"?t(e,n):t}function id(t){var f;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=t,s=i?{}:QF(n,r),{props:a,internalRef:l}=XF({...o,externalSlotProps:s}),c=dr(l,s==null?void 0:s.ref,(f=t.additionalProps)==null?void 0:f.ref);return KF(e,{...a,ref:c},r)}function Fp(t){var e;return parseInt(E.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const pQ=E.createContext(),$0=()=>E.useContext(pQ)??!1,gQ=E.createContext(void 0);function mQ(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?rd(i.defaultProps,r):!i.styleOverrides&&!i.variants?rd(i,r):r}function yQ({props:t,name:e}){const n=E.useContext(gQ);return mQ({props:t,name:e,theme:{components:n}})}const _A={theme:void 0};function vQ(t){let e,n;return function(i){let o=e;return(o===void 0||i.theme!==n)&&(_A.theme=i.theme,o=BF(t(_A)),e=o,n=i.theme),o}}function _Q(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const bA=(t,e,n,r=[])=>{let i=t;e.forEach((o,s)=>{s===e.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},bQ=(t,e,n)=>{function r(i,o=[],s=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...o,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...o,a],Array.isArray(l)?[...s,a]:s):e([...o,a],l,s))})}r(t)},wQ=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function pb(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},o={},s={};return bQ(t,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const u=`--${n?`${n}-`:""}${a.join("-")}`,f=wQ(a,l);Object.assign(i,{[u]:f}),bA(o,a,`var(${u})`,c),bA(s,a,`var(${u}, ${f})`,c)}},a=>a[0]==="vars"),{css:i,vars:o,varsWithDefaults:s}}function EQ(t,e={}){const{getSelector:n=x,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:s,defaultColorScheme:a="light",...l}=t,{vars:c,css:u,varsWithDefaults:f}=pb(l,e);let h=f;const p={},{[a]:m,...b}=o;if(Object.entries(b||{}).forEach(([v,S])=>{const{vars:k,css:$,varsWithDefaults:I}=pb(S,e);h=Vr(h,I),p[v]={css:$,vars:k}}),m){const{css:v,vars:S,varsWithDefaults:k}=pb(m,e);h=Vr(h,k),p[a]={css:v,vars:S}}function x(v,S){var $,I;let k=i;if(i==="class"&&(k=".%s"),i==="data"&&(k="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(k=`[${i}="%s"]`),v){if(k==="media")return t.defaultColorScheme===v?":root":{[`@media (prefers-color-scheme: ${((I=($=o[v])==null?void 0:$.palette)==null?void 0:I.mode)||v})`]:{":root":S}};if(k)return t.defaultColorScheme===v?`:root, ${k.replace("%s",String(v))}`:k.replace("%s",String(v))}return":root"}return{vars:h,generateThemeVars:()=>{let v={...c};return Object.entries(p).forEach(([,{vars:S}])=>{v=Vr(v,S)}),v},generateStyleSheets:()=>{var T,R;const v=[],S=t.defaultColorScheme||"light";function k(y,P){Object.keys(P).length&&v.push(typeof y=="string"?{[y]:{...P}}:y)}k(n(void 0,{...u}),u);const{[S]:$,...I}=p;if($){const{css:y}=$,P=(R=(T=o[S])==null?void 0:T.palette)==null?void 0:R.mode,M=!r&&P?{colorScheme:P,...y}:{...y};k(n(S,{...M}),M)}return Object.entries(I).forEach(([y,{css:P}])=>{var z,K;const M=(K=(z=o[y])==null?void 0:z.palette)==null?void 0:K.mode,A=!r&&M?{colorScheme:M,...P}:{...P};k(n(y,{...A}),A)}),v}}}function xQ(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const SQ=Dp(),CQ=jF("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${oe(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),TQ=t=>zF({props:t,name:"MuiContainer",defaultTheme:SQ}),IQ=(t,e)=>{const n=l=>it(e,l),{classes:r,fixed:i,disableGutters:o,maxWidth:s}=t,a={root:["root",s&&`maxWidth${oe(String(s))}`,i&&"fixed",o&&"disableGutters"]};return ot(a,n,r)};function RQ(t={}){const{createStyledComponent:e=CQ,useThemeProps:n=TQ,componentName:r="MuiContainer"}=t,i=e(({theme:s,ownerState:a})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((l,c)=>{const u=c,f=s.breakpoints.values[u];return f!==0&&(l[s.breakpoints.up(u)]={maxWidth:`${f}${s.breakpoints.unit}`}),l},{}),({theme:s,ownerState:a})=>({...a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},...a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}}));return E.forwardRef(function(a,l){const c=n(a),{className:u,component:f="div",disableGutters:h=!1,fixed:p=!1,maxWidth:m="lg",classes:b,...x}=c,_={...c,component:f,disableGutters:h,fixed:p,maxWidth:m},w=IQ(_,r);return O.jsx(i,{as:f,ownerState:_,className:ve(w.root,u),ref:l,...x})})}const PQ=(t,e)=>t.filter(n=>e.includes(n)),Rd=(t,e,n)=>{const r=t.keys[0];Array.isArray(e)?e.forEach((i,o)=>{n((s,a)=>{o<=t.keys.length-1&&(o===0?Object.assign(s,a):s[t.up(t.keys[o])]=a)},i)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:PQ(t.keys,Object.keys(e))).forEach(o=>{if(t.keys.includes(o)){const s=e[o];s!==void 0&&n((a,l)=>{r===o?Object.assign(a,l):a[t.up(o)]=l},s)}}):(typeof e=="number"||typeof e=="string")&&n((i,o)=>{Object.assign(i,o)},e)};function ky(t){return`--Grid-${t}Spacing`}function M0(t){return`--Grid-parent-${t}Spacing`}const wA="--Grid-columns",$u="--Grid-parent-columns",AQ=({theme:t,ownerState:e})=>{const n={};return Rd(t.breakpoints,e.size,(r,i)=>{let o={};i==="grow"&&(o={flexBasis:0,flexGrow:1,maxWidth:"100%"}),i==="auto"&&(o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof i=="number"&&(o={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${i} / var(${$u}) - (var(${$u}) - ${i}) * (var(${M0("column")}) / var(${$u})))`}),r(n,o)}),n},kQ=({theme:t,ownerState:e})=>{const n={};return Rd(t.breakpoints,e.offset,(r,i)=>{let o={};i==="auto"&&(o={marginLeft:"auto"}),typeof i=="number"&&(o={marginLeft:i===0?"0px":`calc(100% * ${i} / var(${$u}) + var(${M0("column")}) * ${i} / var(${$u}))`}),r(n,o)}),n},OQ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={[wA]:12};return Rd(t.breakpoints,e.columns,(r,i)=>{const o=i??12;r(n,{[wA]:o,"> *":{[$u]:o}})}),n},NQ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return Rd(t.breakpoints,e.rowSpacing,(r,i)=>{var s;const o=typeof i=="string"?i:(s=t.spacing)==null?void 0:s.call(t,i);r(n,{[ky("row")]:o,"> *":{[M0("row")]:o}})}),n},$Q=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return Rd(t.breakpoints,e.columnSpacing,(r,i)=>{var s;const o=typeof i=="string"?i:(s=t.spacing)==null?void 0:s.call(t,i);r(n,{[ky("column")]:o,"> *":{[M0("column")]:o}})}),n},MQ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return Rd(t.breakpoints,e.direction,(r,i)=>{r(n,{flexDirection:i})}),n},DQ=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${ky("row")}) var(${ky("column")})`}}),LQ=t=>{const e=[];return Object.entries(t).forEach(([n,r])=>{r!==!1&&r!==void 0&&e.push(`grid-${n}-${String(r)}`)}),e},FQ=(t,e="xs")=>{function n(r){return r===void 0?!1:typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number"&&r>0}if(n(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const r=[];return Object.entries(t).forEach(([i,o])=>{n(o)&&r.push(`spacing-${i}-${String(o)}`)}),r}return[]},BQ=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,n])=>`direction-${e}-${n}`):[`direction-xs-${String(t)}`];function VQ(t,e){t.item!==void 0&&delete t.item,t.zeroMinWidth!==void 0&&delete t.zeroMinWidth,e.keys.forEach(n=>{t[n]!==void 0&&delete t[n]})}const UQ=Dp(),jQ=jF("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>e.root});function zQ(t){return zF({props:t,name:"MuiGrid",defaultTheme:UQ})}function WQ(t={}){const{createStyledComponent:e=jQ,useThemeProps:n=zQ,useTheme:r=Lp,componentName:i="MuiGrid"}=t,o=(c,u)=>{const{container:f,direction:h,spacing:p,wrap:m,size:b}=c,x={root:["root",f&&"container",m!=="wrap"&&`wrap-xs-${String(m)}`,...BQ(h),...LQ(b),...f?FQ(p,u.breakpoints.keys[0]):[]]};return ot(x,_=>it(i,_),{})};function s(c,u,f=()=>!0){const h={};return c===null||(Array.isArray(c)?c.forEach((p,m)=>{p!==null&&f(p)&&u.keys[m]&&(h[u.keys[m]]=p)}):typeof c=="object"?Object.keys(c).forEach(p=>{const m=c[p];m!=null&&f(m)&&(h[p]=m)}):h[u.keys[0]]=c),h}const a=e(OQ,$Q,NQ,AQ,MQ,DQ,kQ),l=E.forwardRef(function(u,f){const h=r(),p=n(u),m=LS(p);VQ(m,h.breakpoints);const{className:b,children:x,columns:_=12,container:w=!1,component:v="div",direction:S="row",wrap:k="wrap",size:$={},offset:I={},spacing:T=0,rowSpacing:R=T,columnSpacing:y=T,unstable_level:P=0,...M}=m,A=s($,h.breakpoints,re=>re!==!1),z=s(I,h.breakpoints),K=u.columns??(P?void 0:_),j=u.spacing??(P?void 0:T),Y=u.rowSpacing??u.spacing??(P?void 0:R),U=u.columnSpacing??u.spacing??(P?void 0:y),B={...m,level:P,columns:K,container:w,direction:S,wrap:k,spacing:j,rowSpacing:Y,columnSpacing:U,size:A,offset:z},W=o(B,h);return O.jsx(a,{ref:f,as:v,ownerState:B,className:ve(W.root,b),...M,children:E.Children.map(x,re=>{var he;return E.isValidElement(re)&&km(re,["Grid"])&&w&&re.props.container?E.cloneElement(re,{unstable_level:((he=re.props)==null?void 0:he.unstable_level)??P+1}):re})})});return l.muiName="Grid",l}function JF(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Wh.white,default:Wh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const HQ=JF();function ZF(){return{text:{primary:Wh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Wh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const EA=ZF();function xA(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=VS(t.main,i):e==="dark"&&(t.dark=BS(t.main,o)))}function GQ(t="light"){return t==="dark"?{main:Nc[200],light:Nc[50],dark:Nc[400]}:{main:Nc[700],light:Nc[400],dark:Nc[800]}}function qQ(t="light"){return t==="dark"?{main:Oc[200],light:Oc[50],dark:Oc[400]}:{main:Oc[500],light:Oc[300],dark:Oc[700]}}function KQ(t="light"){return t==="dark"?{main:kc[500],light:kc[300],dark:kc[700]}:{main:kc[700],light:kc[400],dark:kc[800]}}function YQ(t="light"){return t==="dark"?{main:$c[400],light:$c[300],dark:$c[700]}:{main:$c[700],light:$c[500],dark:$c[900]}}function XQ(t="light"){return t==="dark"?{main:Mc[400],light:Mc[300],dark:Mc[700]}:{main:Mc[800],light:Mc[500],dark:Mc[900]}}function QQ(t="light"){return t==="dark"?{main:ff[400],light:ff[300],dark:ff[700]}:{main:"#ed6c02",light:ff[500],dark:ff[900]}}function jS(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,o=t.primary||GQ(e),s=t.secondary||qQ(e),a=t.error||KQ(e),l=t.info||YQ(e),c=t.success||XQ(e),u=t.warning||QQ(e);function f(b){return iQ(b,EA.text.primary)>=n?EA.text.primary:HQ.text.primary}const h=({color:b,name:x,mainShade:_=500,lightShade:w=300,darkShade:v=700})=>{if(b={...b},!b.main&&b[_]&&(b.main=b[_]),!b.hasOwnProperty("main"))throw new Error(ta(11,x?` (${x})`:"",_));if(typeof b.main!="string")throw new Error(ta(12,x?` (${x})`:"",JSON.stringify(b.main)));return xA(b,"light",w,r),xA(b,"dark",v,r),b.contrastText||(b.contrastText=f(b.main)),b};let p;return e==="light"?p=JF():e==="dark"&&(p=ZF()),Vr({common:{...Wh},mode:e,primary:h({color:o,name:"primary"}),secondary:h({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:wK,contrastThreshold:n,getContrastText:f,augmentColor:h,tonalOffset:r,...p},i)}function JQ(t){const e={};return Object.entries(t).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function ZQ(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function eJ(t){return Math.round(t*1e5)/1e5}const SA={textTransform:"uppercase"},CA='"Roboto", "Helvetica", "Arial", sans-serif';function tJ(t,e){const{fontFamily:n=CA,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:u,...f}=typeof e=="function"?e(t):e,h=r/14,p=u||(x=>`${x/l*h}rem`),m=(x,_,w,v,S)=>({fontFamily:n,fontWeight:x,fontSize:p(_),lineHeight:w,...n===CA?{letterSpacing:`${eJ(v/_)}em`}:{},...S,...c}),b={h1:m(i,96,1.167,-1.5),h2:m(i,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(s,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(s,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(s,14,1.75,.4,SA),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,SA),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Vr({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:a,...b},f,{clone:!1})}const nJ=.2,rJ=.14,iJ=.12;function _n(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${nJ})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${rJ})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${iJ})`].join(",")}const oJ=["none",_n(0,2,1,-1,0,1,1,0,0,1,3,0),_n(0,3,1,-2,0,2,2,0,0,1,5,0),_n(0,3,3,-2,0,3,4,0,0,1,8,0),_n(0,2,4,-1,0,4,5,0,0,1,10,0),_n(0,3,5,-1,0,5,8,0,0,1,14,0),_n(0,3,5,-1,0,6,10,0,0,1,18,0),_n(0,4,5,-2,0,7,10,1,0,2,16,1),_n(0,5,5,-3,0,8,10,1,0,3,14,2),_n(0,5,6,-3,0,9,12,1,0,3,16,2),_n(0,6,6,-3,0,10,14,1,0,4,18,3),_n(0,6,7,-4,0,11,15,1,0,4,20,3),_n(0,7,8,-4,0,12,17,2,0,5,22,4),_n(0,7,8,-4,0,13,19,2,0,5,24,4),_n(0,7,9,-4,0,14,21,2,0,5,26,4),_n(0,8,9,-5,0,15,22,2,0,6,28,5),_n(0,8,10,-5,0,16,24,2,0,6,30,5),_n(0,8,11,-5,0,17,26,2,0,6,32,5),_n(0,9,11,-5,0,18,28,2,0,7,34,6),_n(0,9,12,-6,0,19,29,2,0,7,36,6),_n(0,10,13,-6,0,20,31,3,0,8,38,7),_n(0,10,13,-6,0,21,33,3,0,8,40,7),_n(0,10,14,-6,0,22,35,3,0,8,42,7),_n(0,11,14,-7,0,23,36,3,0,9,44,8),_n(0,11,15,-7,0,24,38,3,0,9,46,8)],sJ=oJ,aJ={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},lJ={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function TA(t){return`${Math.round(t)}ms`}function cJ(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function uJ(t){const e={...aJ,...t.easing},n={...lJ,...t.duration};return{getAutoHeightDuration:cJ,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=e.easeInOut,delay:l=0,...c}=o;return(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof s=="string"?s:TA(s)} ${a} ${typeof l=="string"?l:TA(l)}`).join(",")},...t,easing:e,duration:n}}const dJ={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},fJ=dJ;function hJ(t){return ns(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function e4(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[s,a]=i[o];!hJ(a)||s.startsWith("unstable_")?delete r[s]:ns(a)&&(r[s]={...a},n(r[s]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function EE(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:o={},transitions:s={},typography:a={},shape:l,...c}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(ta(20));const u=jS(o),f=Dp(t);let h=Vr(f,{mixins:ZQ(f.breakpoints,r),palette:u,shadows:sJ.slice(),typography:tJ(u,a),transitions:uJ(s),zIndex:{...fJ}});return h=Vr(h,c),h=e.reduce((p,m)=>Vr(p,m),h),h.unstable_sxConfig={...Mp,...c==null?void 0:c.unstable_sxConfig},h.unstable_sx=function(m){return nd({sx:m,theme:this})},h.toRuntimeSource=e4,h}function xE(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const pJ=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=xE(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function t4(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function n4(t){return t==="dark"?pJ:[]}function gJ(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,o=jS(e);return{palette:o,opacity:{...t4(o.mode),...n},overlays:r||n4(o.mode),...i}}function mJ(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const yJ=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],vJ=yJ,_J=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const s={};return vJ(t.cssVarPrefix).forEach(a=>{s[a]=n[a],delete n[a]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:o?{[o.replace("%s",e)]:s,[`${r}, ${o.replace("%s",e)}`]:n}:{[r]:{...n,...s}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(o)return o.replace("%s",String(e))}return r};function bJ(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function Q(t,e,n){!t[e]&&n&&(t[e]=n)}function Ff(t){return typeof t!="string"||!t.startsWith("hsl")?t:WF(t)}function Ts(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Lf(Ff(t[e]),`MUI: Can't create \`palette.${e}Channel\` because \`palette.${e}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${e}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function wJ(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Xo=t=>{try{return t()}catch{}},EJ=(t="mui")=>_Q(t);function gb(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=gJ({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...s}=EE({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:o,opacity:{...t4(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||n4(i)},s}function xJ(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:s=mJ,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...c}=t,u=Object.keys(n)[0],f=r||(n.light&&u!=="light"?"light":u),h=EJ(o),{[f]:p,light:m,dark:b,...x}=n,_={...x};let w=p;if((f==="dark"&&!("dark"in n)||f==="light"&&!("light"in n))&&(w=!0),!w)throw new Error(ta(21,f));const v=gb(_,w,c,f);m&&!_.light&&gb(_,m,void 0,"light"),b&&!_.dark&&gb(_,b,void 0,"dark");let S={defaultColorScheme:f,...v,cssVarPrefix:o,colorSchemeSelector:a,rootSelector:l,getCssVar:h,colorSchemes:_,font:{...JQ(v.typography),...v.font},spacing:wJ(c.spacing)};Object.keys(S.colorSchemes).forEach(R=>{const y=S.colorSchemes[R].palette,P=M=>{const A=M.split("-"),z=A[1],K=A[2];return h(M,y[z][K])};if(y.mode==="light"&&(Q(y.common,"background","#fff"),Q(y.common,"onBackground","#000")),y.mode==="dark"&&(Q(y.common,"background","#000"),Q(y.common,"onBackground","#fff")),bJ(y,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),y.mode==="light"){Q(y.Alert,"errorColor",Qt(y.error.light,.6)),Q(y.Alert,"infoColor",Qt(y.info.light,.6)),Q(y.Alert,"successColor",Qt(y.success.light,.6)),Q(y.Alert,"warningColor",Qt(y.warning.light,.6)),Q(y.Alert,"errorFilledBg",P("palette-error-main")),Q(y.Alert,"infoFilledBg",P("palette-info-main")),Q(y.Alert,"successFilledBg",P("palette-success-main")),Q(y.Alert,"warningFilledBg",P("palette-warning-main")),Q(y.Alert,"errorFilledColor",Xo(()=>y.getContrastText(y.error.main))),Q(y.Alert,"infoFilledColor",Xo(()=>y.getContrastText(y.info.main))),Q(y.Alert,"successFilledColor",Xo(()=>y.getContrastText(y.success.main))),Q(y.Alert,"warningFilledColor",Xo(()=>y.getContrastText(y.warning.main))),Q(y.Alert,"errorStandardBg",Jt(y.error.light,.9)),Q(y.Alert,"infoStandardBg",Jt(y.info.light,.9)),Q(y.Alert,"successStandardBg",Jt(y.success.light,.9)),Q(y.Alert,"warningStandardBg",Jt(y.warning.light,.9)),Q(y.Alert,"errorIconColor",P("palette-error-main")),Q(y.Alert,"infoIconColor",P("palette-info-main")),Q(y.Alert,"successIconColor",P("palette-success-main")),Q(y.Alert,"warningIconColor",P("palette-warning-main")),Q(y.AppBar,"defaultBg",P("palette-grey-100")),Q(y.Avatar,"defaultBg",P("palette-grey-400")),Q(y.Button,"inheritContainedBg",P("palette-grey-300")),Q(y.Button,"inheritContainedHoverBg",P("palette-grey-A100")),Q(y.Chip,"defaultBorder",P("palette-grey-400")),Q(y.Chip,"defaultAvatarColor",P("palette-grey-700")),Q(y.Chip,"defaultIconColor",P("palette-grey-700")),Q(y.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Q(y.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Q(y.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Q(y.LinearProgress,"primaryBg",Jt(y.primary.main,.62)),Q(y.LinearProgress,"secondaryBg",Jt(y.secondary.main,.62)),Q(y.LinearProgress,"errorBg",Jt(y.error.main,.62)),Q(y.LinearProgress,"infoBg",Jt(y.info.main,.62)),Q(y.LinearProgress,"successBg",Jt(y.success.main,.62)),Q(y.LinearProgress,"warningBg",Jt(y.warning.main,.62)),Q(y.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.11)`),Q(y.Slider,"primaryTrack",Jt(y.primary.main,.62)),Q(y.Slider,"secondaryTrack",Jt(y.secondary.main,.62)),Q(y.Slider,"errorTrack",Jt(y.error.main,.62)),Q(y.Slider,"infoTrack",Jt(y.info.main,.62)),Q(y.Slider,"successTrack",Jt(y.success.main,.62)),Q(y.Slider,"warningTrack",Jt(y.warning.main,.62));const M=Fg(y.background.default,.8);Q(y.SnackbarContent,"bg",M),Q(y.SnackbarContent,"color",Xo(()=>y.getContrastText(M))),Q(y.SpeedDialAction,"fabHoverBg",Fg(y.background.paper,.15)),Q(y.StepConnector,"border",P("palette-grey-400")),Q(y.StepContent,"border",P("palette-grey-400")),Q(y.Switch,"defaultColor",P("palette-common-white")),Q(y.Switch,"defaultDisabledColor",P("palette-grey-100")),Q(y.Switch,"primaryDisabledColor",Jt(y.primary.main,.62)),Q(y.Switch,"secondaryDisabledColor",Jt(y.secondary.main,.62)),Q(y.Switch,"errorDisabledColor",Jt(y.error.main,.62)),Q(y.Switch,"infoDisabledColor",Jt(y.info.main,.62)),Q(y.Switch,"successDisabledColor",Jt(y.success.main,.62)),Q(y.Switch,"warningDisabledColor",Jt(y.warning.main,.62)),Q(y.TableCell,"border",Jt(Lg(y.divider,1),.88)),Q(y.Tooltip,"bg",Lg(y.grey[700],.92))}if(y.mode==="dark"){Q(y.Alert,"errorColor",Jt(y.error.light,.6)),Q(y.Alert,"infoColor",Jt(y.info.light,.6)),Q(y.Alert,"successColor",Jt(y.success.light,.6)),Q(y.Alert,"warningColor",Jt(y.warning.light,.6)),Q(y.Alert,"errorFilledBg",P("palette-error-dark")),Q(y.Alert,"infoFilledBg",P("palette-info-dark")),Q(y.Alert,"successFilledBg",P("palette-success-dark")),Q(y.Alert,"warningFilledBg",P("palette-warning-dark")),Q(y.Alert,"errorFilledColor",Xo(()=>y.getContrastText(y.error.dark))),Q(y.Alert,"infoFilledColor",Xo(()=>y.getContrastText(y.info.dark))),Q(y.Alert,"successFilledColor",Xo(()=>y.getContrastText(y.success.dark))),Q(y.Alert,"warningFilledColor",Xo(()=>y.getContrastText(y.warning.dark))),Q(y.Alert,"errorStandardBg",Qt(y.error.light,.9)),Q(y.Alert,"infoStandardBg",Qt(y.info.light,.9)),Q(y.Alert,"successStandardBg",Qt(y.success.light,.9)),Q(y.Alert,"warningStandardBg",Qt(y.warning.light,.9)),Q(y.Alert,"errorIconColor",P("palette-error-main")),Q(y.Alert,"infoIconColor",P("palette-info-main")),Q(y.Alert,"successIconColor",P("palette-success-main")),Q(y.Alert,"warningIconColor",P("palette-warning-main")),Q(y.AppBar,"defaultBg",P("palette-grey-900")),Q(y.AppBar,"darkBg",P("palette-background-paper")),Q(y.AppBar,"darkColor",P("palette-text-primary")),Q(y.Avatar,"defaultBg",P("palette-grey-600")),Q(y.Button,"inheritContainedBg",P("palette-grey-800")),Q(y.Button,"inheritContainedHoverBg",P("palette-grey-700")),Q(y.Chip,"defaultBorder",P("palette-grey-700")),Q(y.Chip,"defaultAvatarColor",P("palette-grey-300")),Q(y.Chip,"defaultIconColor",P("palette-grey-300")),Q(y.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Q(y.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Q(y.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Q(y.LinearProgress,"primaryBg",Qt(y.primary.main,.5)),Q(y.LinearProgress,"secondaryBg",Qt(y.secondary.main,.5)),Q(y.LinearProgress,"errorBg",Qt(y.error.main,.5)),Q(y.LinearProgress,"infoBg",Qt(y.info.main,.5)),Q(y.LinearProgress,"successBg",Qt(y.success.main,.5)),Q(y.LinearProgress,"warningBg",Qt(y.warning.main,.5)),Q(y.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.13)`),Q(y.Slider,"primaryTrack",Qt(y.primary.main,.5)),Q(y.Slider,"secondaryTrack",Qt(y.secondary.main,.5)),Q(y.Slider,"errorTrack",Qt(y.error.main,.5)),Q(y.Slider,"infoTrack",Qt(y.info.main,.5)),Q(y.Slider,"successTrack",Qt(y.success.main,.5)),Q(y.Slider,"warningTrack",Qt(y.warning.main,.5));const M=Fg(y.background.default,.98);Q(y.SnackbarContent,"bg",M),Q(y.SnackbarContent,"color",Xo(()=>y.getContrastText(M))),Q(y.SpeedDialAction,"fabHoverBg",Fg(y.background.paper,.15)),Q(y.StepConnector,"border",P("palette-grey-600")),Q(y.StepContent,"border",P("palette-grey-600")),Q(y.Switch,"defaultColor",P("palette-grey-300")),Q(y.Switch,"defaultDisabledColor",P("palette-grey-600")),Q(y.Switch,"primaryDisabledColor",Qt(y.primary.main,.55)),Q(y.Switch,"secondaryDisabledColor",Qt(y.secondary.main,.55)),Q(y.Switch,"errorDisabledColor",Qt(y.error.main,.55)),Q(y.Switch,"infoDisabledColor",Qt(y.info.main,.55)),Q(y.Switch,"successDisabledColor",Qt(y.success.main,.55)),Q(y.Switch,"warningDisabledColor",Qt(y.warning.main,.55)),Q(y.TableCell,"border",Qt(Lg(y.divider,1),.68)),Q(y.Tooltip,"bg",Lg(y.grey[700],.92))}Ts(y.background,"default"),Ts(y.background,"paper"),Ts(y.common,"background"),Ts(y.common,"onBackground"),Ts(y,"divider"),Object.keys(y).forEach(M=>{const A=y[M];M!=="tonalOffset"&&A&&typeof A=="object"&&(A.main&&Q(y[M],"mainChannel",Lf(Ff(A.main))),A.light&&Q(y[M],"lightChannel",Lf(Ff(A.light))),A.dark&&Q(y[M],"darkChannel",Lf(Ff(A.dark))),A.contrastText&&Q(y[M],"contrastTextChannel",Lf(Ff(A.contrastText))),M==="text"&&(Ts(y[M],"primary"),Ts(y[M],"secondary")),M==="action"&&(A.active&&Ts(y[M],"active"),A.selected&&Ts(y[M],"selected")))})}),S=e.reduce((R,y)=>Vr(R,y),S);const k={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:s,getSelector:_J(S)},{vars:$,generateThemeVars:I,generateStyleSheets:T}=EQ(S,k);return S.vars=$,Object.entries(S.colorSchemes[S.defaultColorScheme]).forEach(([R,y])=>{S[R]=y}),S.generateThemeVars=I,S.generateStyleSheets=T,S.generateSpacing=function(){return MF(c.spacing,MS(this))},S.getColorSchemeSelector=xQ(a),S.spacing=S.generateSpacing(),S.shouldSkipGeneratingVar=s,S.unstable_sxConfig={...Mp,...c==null?void 0:c.unstable_sxConfig},S.unstable_sx=function(y){return nd({sx:y,theme:this})},S.toRuntimeSource=e4,S}function IA(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:jS({...n===!0?{}:n.palette,mode:e})})}function r4(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:o=n==null?void 0:n.mode,...s}=t,a=o||"light",l=i==null?void 0:i[a],c={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return EE(t,...e);let u=n;"palette"in t||c[a]&&(c[a]!==!0?u=c[a].palette:a==="dark"&&(u={mode:"dark"}));const f=EE({...t,palette:u},...e);return f.defaultColorScheme=a,f.colorSchemes=c,f.palette.mode==="light"&&(f.colorSchemes.light={...c.light!==!0&&c.light,palette:f.palette},IA(f,"dark",c.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:f.palette},IA(f,"light",c.light)),f}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),xJ({...s,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const SJ=r4(),zS=SJ;function Pd(){const t=Lp(zS);return t[e0]||t}function i4(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const CJ=t=>i4(t)&&t!=="classes",yo=CJ,TJ=UF({themeId:e0,defaultTheme:zS,rootShouldForwardProp:yo}),se=TJ;function IJ(t){return O.jsx(BX,{...t,defaultTheme:zS,themeId:e0})}function RJ(t){return function(n){return O.jsx(IJ,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function PJ(){return LS}const AJ=vQ,bt=AJ;function ct(t){return yQ(t)}function kJ(t){return it("MuiSvgIcon",t)}tt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const OJ=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${oe(e)}`,`fontSize${oe(n)}`]};return ot(i,kJ,r)},NJ=se("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${oe(n.color)}`],e[`fontSize${oe(n.fontSize)}`]]}})(bt(({theme:t})=>{var e,n,r,i,o,s,a,l,c,u,f,h,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:b=>!b.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((s=(o=t.typography)==null?void 0:o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((u=(c=t.typography)==null?void 0:c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,b])=>b&&b.main).map(([b])=>{var x,_;return{props:{color:b},style:{color:(_=(x=(t.vars??t).palette)==null?void 0:x[b])==null?void 0:_.main}}}),{props:{color:"action"},style:{color:(h=(f=(t.vars??t).palette)==null?void 0:f.action)==null?void 0:h.active}},{props:{color:"disabled"},style:{color:(m=(p=(t.vars??t).palette)==null?void 0:p.action)==null?void 0:m.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),o4=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:f,viewBox:h="0 0 24 24",...p}=r,m=E.isValidElement(i)&&i.type==="svg",b={...r,color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:m},x={};u||(x.viewBox=h);const _=OJ(b);return O.jsxs(NJ,{as:a,className:ve(_.root,o),focusable:"false",color:c,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n,...x,...p,...m&&i.props,ownerState:b,children:[m?i.props.children:i,f?O.jsx("title",{children:f}):null]})});o4.muiName="SvgIcon";const RA=o4;function hr(t,e){function n(r,i){return O.jsx(RA,{"data-testid":void 0,ref:i,...r,children:t})}return n.muiName=RA.muiName,E.memo(E.forwardRef(n))}function $J(t,e){const n=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&n>=65&&n<=90&&typeof e=="function"}function MJ(t,e){if(!t)return e;function n(s,a){const l={};return Object.keys(a).forEach(c=>{$J(c,a[c])&&typeof s[c]=="function"&&(l[c]=(...u)=>{s[c](...u),a[c](...u)})}),l}if(typeof t=="function"||typeof e=="function")return s=>{const a=typeof e=="function"?e(s):e,l=typeof t=="function"?t({...s,...a}):t,c=ve(s==null?void 0:s.className,a==null?void 0:a.className,l==null?void 0:l.className),u=n(l,a);return{...a,...l,...u,...!!c&&{className:c},...(a==null?void 0:a.style)&&(l==null?void 0:l.style)&&{style:{...a.style,...l.style}},...(a==null?void 0:a.sx)&&(l==null?void 0:l.sx)&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(l.sx)?l.sx:[l.sx]]}}};const r=e,i=n(t,r),o=ve(r==null?void 0:r.className,t==null?void 0:t.className);return{...e,...t,...i,...!!o&&{className:o},...(r==null?void 0:r.style)&&(t==null?void 0:t.style)&&{style:{...r.style,...t.style}},...(r==null?void 0:r.sx)&&(t==null?void 0:t.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function s4(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function SE(t,e){return SE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},SE(t,e)}function a4(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,SE(t,e)}const PA={disabled:!1},Oy=D.createContext(null);var DJ=function(e){return e.scrollTop},Bf="unmounted",Rl="exited",Pl="entering",Wc="entered",CE="exiting",la=function(t){a4(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=Rl,o.appearStatus=Pl):l=Wc:r.unmountOnExit||r.mountOnEnter?l=Bf:l=Rl,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Bf?{status:Rl}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Pl&&s!==Wc&&(o=Pl):(s===Pl||s===Wc)&&(o=CE)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Pl){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Tg.findDOMNode(this);s&&DJ(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Rl&&this.setState({status:Bf})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Tg.findDOMNode(this),a],c=l[0],u=l[1],f=this.getTimeouts(),h=a?f.appear:f.enter;if(!i&&!s||PA.disabled){this.safeSetState({status:Wc},function(){o.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Pl},function(){o.props.onEntering(c,u),o.onTransitionEnd(h,function(){o.safeSetState({status:Wc},function(){o.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Tg.findDOMNode(this);if(!o||PA.disabled){this.safeSetState({status:Rl},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:CE},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Rl},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Tg.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Bf)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=s4(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return D.createElement(Oy.Provider,{value:null},typeof s=="function"?s(i,a):D.cloneElement(D.Children.only(s),a))},e}(D.Component);la.contextType=Oy;la.propTypes={};function Dc(){}la.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Dc,onEntering:Dc,onEntered:Dc,onExit:Dc,onExiting:Dc,onExited:Dc};la.UNMOUNTED=Bf;la.EXITED=Rl;la.ENTERING=Pl;la.ENTERED=Wc;la.EXITING=CE;const l4=la;function LJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WS(t,e){var n=function(o){return e&&E.isValidElement(o)?e(o):o},r=Object.create(null);return t&&E.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function FJ(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var c=r[l][s];a[r[l][s]]=n(c)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function Fl(t,e,n){return n[e]!=null?n[e]:t.props[e]}function BJ(t,e){return WS(t.children,function(n){return E.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Fl(n,"appear",t),enter:Fl(n,"enter",t),exit:Fl(n,"exit",t)})})}function VJ(t,e,n){var r=WS(t.children),i=FJ(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(E.isValidElement(s)){var a=o in e,l=o in r,c=e[o],u=E.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[o]=E.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Fl(s,"exit",t),enter:Fl(s,"enter",t)}):!l&&a&&!u?i[o]=E.cloneElement(s,{in:!1}):l&&a&&E.isValidElement(c)&&(i[o]=E.cloneElement(s,{onExited:n.bind(null,s),in:c.props.in,exit:Fl(s,"exit",t),enter:Fl(s,"enter",t)}))}}),i}var UJ=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},jJ={component:"div",childFactory:function(e){return e}},HS=function(t){a4(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(LJ(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?BJ(i,a):VJ(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=WS(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=Iy({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=s4(i,["component","childFactory"]),l=this.state.contextValue,c=UJ(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?D.createElement(Oy.Provider,{value:l},c):D.createElement(Oy.Provider,{value:l},D.createElement(o,a,c))},e}(D.Component);HS.propTypes={};HS.defaultProps=jJ;const zJ=HS,c4=t=>t.scrollTop;function Ny(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function WJ(t){return it("MuiPaper",t)}tt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const HJ=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return ot(o,WJ,i)},GJ=se("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(bt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),qJ=E.forwardRef(function(e,n){var p;const r=ct({props:e,name:"MuiPaper"}),i=Pd(),{className:o,component:s="div",elevation:a=1,square:l=!1,variant:c="elevation",...u}=r,f={...r,component:s,elevation:a,square:l,variant:c},h=HJ(f);return O.jsx(GJ,{as:s,ownerState:f,className:ve(h.root,o),ref:n,...u,style:{...c==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(p=i.vars.overlays)==null?void 0:p[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Ot("#fff",xE(a))}, ${Ot("#fff",xE(a))})`}},...u.style}})}),Ad=qJ;function Wt(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...l}=e,{component:c,slots:u={[t]:void 0},slotProps:f={[t]:void 0},...h}=o,p=u[t]||r,m=QF(f[t],i),{props:{component:b,...x},internalRef:_}=XF({className:n,...l,externalForwardedProps:t==="root"?h:void 0,externalSlotProps:m}),w=dr(_,m==null?void 0:m.ref,e.ref),v=t==="root"?b||c:b,S=KF(p,{...t==="root"&&!c&&!u[t]&&s,...t!=="root"&&!u[t]&&s,...x,...v&&!a&&{as:v},...v&&a&&{component:v},ref:w},i);return[p,S]}class $y{constructor(){Zd(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new $y}static use(){const e=HF($y.create).current,[n,r]=E.useState(!1);return e.shouldMount=n,e.setShouldMount=r,E.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=YJ(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function KJ(){return $y.use()}function YJ(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function XJ(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:c}=t,[u,f]=E.useState(!1),h=ve(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},m=ve(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&f(!0),E.useEffect(()=>{if(!a&&l!=null){const b=setTimeout(l,c);return()=>{clearTimeout(b)}}},[l,a,c]),O.jsx("span",{className:h,style:p,children:O.jsx("span",{className:m})})}const QJ=tt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Ji=QJ,TE=550,JJ=80,ZJ=Op`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,eZ=Op`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,tZ=Op`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,nZ=se("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),rZ=se(XJ,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Ji.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${ZJ};
    animation-duration: ${TE}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${Ji.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${Ji.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Ji.childLeaving} {
    opacity: 0;
    animation-name: ${eZ};
    animation-duration: ${TE}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${Ji.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${tZ};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,iZ=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s,...a}=r,[l,c]=E.useState([]),u=E.useRef(0),f=E.useRef(null);E.useEffect(()=>{f.current&&(f.current(),f.current=null)},[l]);const h=E.useRef(!1),p=GF(),m=E.useRef(null),b=E.useRef(null),x=E.useCallback(S=>{const{pulsate:k,rippleX:$,rippleY:I,rippleSize:T,cb:R}=S;c(y=>[...y,O.jsx(rZ,{classes:{ripple:ve(o.ripple,Ji.ripple),rippleVisible:ve(o.rippleVisible,Ji.rippleVisible),ripplePulsate:ve(o.ripplePulsate,Ji.ripplePulsate),child:ve(o.child,Ji.child),childLeaving:ve(o.childLeaving,Ji.childLeaving),childPulsate:ve(o.childPulsate,Ji.childPulsate)},timeout:TE,pulsate:k,rippleX:$,rippleY:I,rippleSize:T},u.current)]),u.current+=1,f.current=R},[o]),_=E.useCallback((S={},k={},$=()=>{})=>{const{pulsate:I=!1,center:T=i||k.pulsate,fakeElement:R=!1}=k;if((S==null?void 0:S.type)==="mousedown"&&h.current){h.current=!1;return}(S==null?void 0:S.type)==="touchstart"&&(h.current=!0);const y=R?null:b.current,P=y?y.getBoundingClientRect():{width:0,height:0,left:0,top:0};let M,A,z;if(T||S===void 0||S.clientX===0&&S.clientY===0||!S.clientX&&!S.touches)M=Math.round(P.width/2),A=Math.round(P.height/2);else{const{clientX:K,clientY:j}=S.touches&&S.touches.length>0?S.touches[0]:S;M=Math.round(K-P.left),A=Math.round(j-P.top)}if(T)z=Math.sqrt((2*P.width**2+P.height**2)/3),z%2===0&&(z+=1);else{const K=Math.max(Math.abs((y?y.clientWidth:0)-M),M)*2+2,j=Math.max(Math.abs((y?y.clientHeight:0)-A),A)*2+2;z=Math.sqrt(K**2+j**2)}S!=null&&S.touches?m.current===null&&(m.current=()=>{x({pulsate:I,rippleX:M,rippleY:A,rippleSize:z,cb:$})},p.start(JJ,()=>{m.current&&(m.current(),m.current=null)})):x({pulsate:I,rippleX:M,rippleY:A,rippleSize:z,cb:$})},[i,x,p]),w=E.useCallback(()=>{_({},{pulsate:!0})},[_]),v=E.useCallback((S,k)=>{if(p.clear(),(S==null?void 0:S.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{v(S,k)});return}m.current=null,c($=>$.length>0?$.slice(1):$),f.current=k},[p]);return E.useImperativeHandle(n,()=>({pulsate:w,start:_,stop:v}),[w,_,v]),O.jsx(nZ,{className:ve(Ji.root,o.root,s),ref:b,...a,children:O.jsx(zJ,{component:null,exit:!0,children:l})})}),oZ=iZ;function sZ(t){return it("MuiButtonBase",t)}const aZ=tt("MuiButtonBase",["root","disabled","focusVisible"]),lZ=aZ,cZ=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=ot({root:["root",e&&"disabled",n&&"focusVisible"]},sZ,i);return n&&r&&(s.root+=` ${r}`),s},uZ=se("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${lZ.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),dZ=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:f=!1,focusRipple:h=!1,focusVisibleClassName:p,LinkComponent:m="a",onBlur:b,onClick:x,onContextMenu:_,onDragLeave:w,onFocus:v,onFocusVisible:S,onKeyDown:k,onKeyUp:$,onMouseDown:I,onMouseLeave:T,onMouseUp:R,onTouchEnd:y,onTouchMove:P,onTouchStart:M,tabIndex:A=0,TouchRippleProps:z,touchRippleRef:K,type:j,...Y}=r,U=E.useRef(null),B=KJ(),W=dr(B.ref,K),[re,he]=E.useState(!1);c&&re&&he(!1),E.useImperativeHandle(i,()=>({focusVisible:()=>{he(!0),U.current.focus()}}),[]);const me=B.shouldMount&&!u&&!c;E.useEffect(()=>{re&&h&&!u&&B.pulsate()},[u,h,re,B]);const be=Is(B,"start",I,f),le=Is(B,"stop",_,f),Oe=Is(B,"stop",w,f),Ne=Is(B,"stop",R,f),Re=Is(B,"stop",xe=>{re&&xe.preventDefault(),T&&T(xe)},f),Ee=Is(B,"start",M,f),ye=Is(B,"stop",y,f),De=Is(B,"stop",P,f),Pe=Is(B,"stop",xe=>{yA(xe.target)||he(!1),b&&b(xe)},!1),ut=ui(xe=>{U.current||(U.current=xe.currentTarget),yA(xe.target)&&(he(!0),S&&S(xe)),v&&v(xe)}),Be=()=>{const xe=U.current;return l&&l!=="button"&&!(xe.tagName==="A"&&xe.href)},Ue=ui(xe=>{h&&!xe.repeat&&re&&xe.key===" "&&B.stop(xe,()=>{B.start(xe)}),xe.target===xe.currentTarget&&Be()&&xe.key===" "&&xe.preventDefault(),k&&k(xe),xe.target===xe.currentTarget&&Be()&&xe.key==="Enter"&&!c&&(xe.preventDefault(),x&&x(xe))}),Nt=ui(xe=>{h&&xe.key===" "&&re&&!xe.defaultPrevented&&B.stop(xe,()=>{B.pulsate(xe)}),$&&$(xe),x&&xe.target===xe.currentTarget&&Be()&&xe.key===" "&&!xe.defaultPrevented&&x(xe)});let de=l;de==="button"&&(Y.href||Y.to)&&(de=m);const Ke={};de==="button"?(Ke.type=j===void 0?"button":j,Ke.disabled=c):(!Y.href&&!Y.to&&(Ke.role="button"),c&&(Ke["aria-disabled"]=c));const Me=dr(n,U),ft={...r,centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:f,focusRipple:h,tabIndex:A,focusVisible:re},Ye=cZ(ft);return O.jsxs(uZ,{as:de,className:ve(Ye.root,a),ownerState:ft,onBlur:Pe,onClick:x,onContextMenu:le,onFocus:ut,onKeyDown:Ue,onKeyUp:Nt,onMouseDown:be,onMouseLeave:Re,onMouseUp:Ne,onDragLeave:Oe,onTouchEnd:ye,onTouchMove:De,onTouchStart:Ee,ref:Me,tabIndex:c?-1:A,type:j,...Ke,...Y,children:[s,me?O.jsx(oZ,{ref:W,center:o,...z}):null]})});function Is(t,e,n,r=!1){return ui(i=>(n&&n(i),r||t[e](i),!0))}const sl=dZ;function fZ(t){return typeof t.main=="string"}function hZ(t,e=[]){if(!fZ(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function di(t=[]){return([,e])=>e&&hZ(e,t)}function pZ(t){return it("MuiCircularProgress",t)}tt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const ya=44,IE=Op`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,RE=Op`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,gZ=typeof IE!="string"?PS`
        animation: ${IE} 1.4s linear infinite;
      `:null,mZ=typeof RE!="string"?PS`
        animation: ${RE} 1.4s ease-in-out infinite;
      `:null,yZ=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,`color${oe(r)}`],svg:["svg"],circle:["circle",`circle${oe(n)}`,i&&"circleDisableShrink"]};return ot(o,pZ,e)},vZ=se("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${oe(n.color)}`]]}})(bt(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:gZ||{animation:`${IE} 1.4s linear infinite`}},...Object.entries(t.palette).filter(di()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),_Z=se("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),bZ=se("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${oe(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(bt(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:mZ||{animation:`${RE} 1.4s ease-in-out infinite`}}]}))),wZ=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:f="indeterminate",...h}=r,p={...r,color:o,disableShrink:s,size:a,thickness:c,value:u,variant:f},m=yZ(p),b={},x={},_={};if(f==="determinate"){const w=2*Math.PI*((ya-c)/2);b.strokeDasharray=w.toFixed(3),_["aria-valuenow"]=Math.round(u),b.strokeDashoffset=`${((100-u)/100*w).toFixed(3)}px`,x.transform="rotate(-90deg)"}return O.jsx(vZ,{className:ve(m.root,i),style:{width:a,height:a,...x,...l},ownerState:p,ref:n,role:"progressbar",..._,...h,children:O.jsx(_Z,{className:m.svg,ownerState:p,viewBox:`${ya/2} ${ya/2} ${ya} ${ya}`,children:O.jsx(bZ,{className:m.circle,style:b,ownerState:p,cx:ya,cy:ya,r:(ya-c)/2,fill:"none",strokeWidth:c})})})}),u4=wZ;function EZ(t){return it("MuiIconButton",t)}const xZ=tt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),AA=xZ,SZ=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o,loading:s}=t,a={root:["root",s&&"loading",n&&"disabled",r!=="default"&&`color${oe(r)}`,i&&`edge${oe(i)}`,`size${oe(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return ot(a,EZ,e)},CZ=se(sl,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${oe(n.color)}`],n.edge&&e[`edge${oe(n.edge)}`],e[`size${oe(n.size)}`]]}})(bt(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),bt(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(di()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(di()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${AA.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${AA.loading}`]:{color:"transparent"}}))),TZ=se("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),IZ=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium",id:f,loading:h=null,loadingIndicator:p,...m}=r,b=Id(f),x=p??O.jsx(u4,{"aria-labelledby":b,color:"inherit",size:16}),_={...r,edge:i,color:a,disabled:l,disableFocusRipple:c,loading:h,loadingIndicator:x,size:u},w=SZ(_);return O.jsxs(CZ,{id:h?b:f,className:ve(w.root,s),centerRipple:!0,focusRipple:!c,disabled:l||h,ref:n,...m,ownerState:_,children:[typeof h=="boolean"&&O.jsx("span",{className:w.loadingWrapper,style:{display:"contents"},children:O.jsx(TZ,{className:w.loadingIndicator,ownerState:_,children:h&&x})}),o]})}),My=IZ,RZ=hr(O.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function PZ(t){return it("MuiTypography",t)}tt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const AZ={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},kZ=PJ(),OZ=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=t,a={root:["root",o,t.align!=="inherit"&&`align${oe(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return ot(a,PZ,s)},NZ=se("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${oe(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(bt(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(di()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${oe(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),kA={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},$Z=E.forwardRef(function(e,n){const{color:r,...i}=ct({props:e,name:"MuiTypography"}),o=!AZ[r],s=kZ({...i,...o&&{color:r}}),{align:a="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:f=!1,paragraph:h=!1,variant:p="body1",variantMapping:m=kA,...b}=s,x={...s,align:a,color:r,className:l,component:c,gutterBottom:u,noWrap:f,paragraph:h,variant:p,variantMapping:m},_=c||(h?"p":m[p]||kA[p])||"span",w=OZ(x);return O.jsx(NZ,{as:_,ref:n,className:ve(w.root,l),...b,ownerState:x,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...b.style}})}),no=$Z;function OA(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function MZ(t={}){const{ignoreAccents:e=!0,ignoreCase:n=!0,limit:r,matchFrom:i="any",stringify:o,trim:s=!1}=t;return(a,{inputValue:l,getOptionLabel:c})=>{let u=s?l.trim():l;n&&(u=u.toLowerCase()),e&&(u=OA(u));const f=u?a.filter(h=>{let p=(o||c)(h);return n&&(p=p.toLowerCase()),e&&(p=OA(p)),i==="start"?p.startsWith(u):p.includes(u)}):a;return typeof r=="number"?f.slice(0,r):f}}const DZ=MZ(),NA=5,LZ=t=>{var e;return t.current!==null&&((e=t.current.parentElement)==null?void 0:e.contains(document.activeElement))},FZ=[];function $A(t,e,n){if(e||t==null)return"";const r=n(t);return typeof r=="string"?r:""}function BZ(t){const{unstable_isActiveElementInListbox:e=LZ,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:i=!1,autoSelect:o=!1,blurOnSelect:s=!1,clearOnBlur:a=!t.freeSolo,clearOnEscape:l=!1,componentName:c="useAutocomplete",defaultValue:u=t.multiple?FZ:null,disableClearable:f=!1,disableCloseOnSelect:h=!1,disabled:p,disabledItemsFocusable:m=!1,disableListWrap:b=!1,filterOptions:x=DZ,filterSelectedOptions:_=!1,freeSolo:w=!1,getOptionDisabled:v,getOptionKey:S,getOptionLabel:k=Z=>Z.label??Z,groupBy:$,handleHomeEndKeys:I=!t.freeSolo,id:T,includeInputInList:R=!1,inputValue:y,isOptionEqualToValue:P=(Z,X)=>Z===X,multiple:M=!1,onChange:A,onClose:z,onHighlightChange:K,onInputChange:j,onOpen:Y,open:U,openOnFocus:B=!1,options:W,readOnly:re=!1,selectOnFocus:he=!t.freeSolo,value:me}=t,be=Id(T);let le=k;le=Z=>{const X=k(Z);return typeof X!="string"?String(X):X};const Oe=E.useRef(!1),Ne=E.useRef(!0),Re=E.useRef(null),Ee=E.useRef(null),[ye,De]=E.useState(null),[Pe,ut]=E.useState(-1),Be=i?0:-1,Ue=E.useRef(Be),Nt=E.useRef($A(u,M,le)).current,[de,Ke]=sh({controlled:me,default:u,name:c}),[Me,ft]=sh({controlled:y,default:Nt,name:c,state:"inputValue"}),[Ye,xe]=E.useState(!1),sn=E.useCallback((Z,X,pe)=>{if(!(M?de.length<X.length:X!==null)&&!a)return;const dt=$A(X,M,le);Me!==dt&&(ft(dt),j&&j(Z,dt,pe))},[le,Me,M,j,ft,a,de]),[ht,an]=sh({controlled:U,default:!1,name:c,state:"open"}),[st,Ct]=E.useState(!0),gt=!M&&de!=null&&Me===le(de),jt=ht&&!re,at=jt?x(W.filter(Z=>!(_&&(M?de:[de]).some(X=>X!==null&&P(Z,X)))),{inputValue:gt&&st?"":Me,getOptionLabel:le}):[],Je=dQ({filteredOptions:at,value:de,inputValue:Me});E.useEffect(()=>{const Z=de!==Je.value;Ye&&!Z||w&&!Z||sn(null,de,"reset")},[de,sn,Ye,Je.value,w]);const Rn=ht&&at.length>0&&!re,mn=ui(Z=>{Z===-1?Re.current.focus():ye.querySelector(`[data-tag-index="${Z}"]`).focus()});E.useEffect(()=>{M&&Pe>de.length-1&&(ut(-1),mn(-1))},[de,M,Pe,mn]);function ti(Z,X){if(!Ee.current||Z<0||Z>=at.length)return-1;let pe=Z;for(;;){const Xe=Ee.current.querySelector(`[data-option-index="${pe}"]`),dt=m?!1:!Xe||Xe.disabled||Xe.getAttribute("aria-disabled")==="true";if(Xe&&Xe.hasAttribute("tabindex")&&!dt)return pe;if(X==="next"?pe=(pe+1)%at.length:pe=(pe-1+at.length)%at.length,pe===Z)return-1}}const we=ui(({event:Z,index:X,reason:pe})=>{if(Ue.current=X,X===-1?Re.current.removeAttribute("aria-activedescendant"):Re.current.setAttribute("aria-activedescendant",`${be}-option-${X}`),K&&["mouse","keyboard","touch"].includes(pe)&&K(Z,X===-1?null:at[X],pe),!Ee.current)return;const Xe=Ee.current.querySelector(`[role="option"].${n}-focused`);Xe&&(Xe.classList.remove(`${n}-focused`),Xe.classList.remove(`${n}-focusVisible`));let dt=Ee.current;if(Ee.current.getAttribute("role")!=="listbox"&&(dt=Ee.current.parentElement.querySelector('[role="listbox"]')),!dt)return;if(X===-1){dt.scrollTop=0;return}const $t=Ee.current.querySelector(`[data-option-index="${X}"]`);if($t&&($t.classList.add(`${n}-focused`),pe==="keyboard"&&$t.classList.add(`${n}-focusVisible`),dt.scrollHeight>dt.clientHeight&&pe!=="mouse"&&pe!=="touch")){const tn=$t,Qn=dt.clientHeight+dt.scrollTop,qo=tn.offsetTop+tn.offsetHeight;qo>Qn?dt.scrollTop=qo-dt.clientHeight:tn.offsetTop-tn.offsetHeight*($?1.3:0)<dt.scrollTop&&(dt.scrollTop=tn.offsetTop-tn.offsetHeight*($?1.3:0))}}),We=ui(({event:Z,diff:X,direction:pe="next",reason:Xe})=>{if(!jt)return;const $t=ti((()=>{const tn=at.length-1;if(X==="reset")return Be;if(X==="start")return 0;if(X==="end")return tn;const Qn=Ue.current+X;return Qn<0?Qn===-1&&R?-1:b&&Ue.current!==-1||Math.abs(X)>1?0:tn:Qn>tn?Qn===tn+1&&R?-1:b||Math.abs(X)>1?tn:0:Qn})(),pe);if(we({index:$t,reason:Xe,event:Z}),r&&X!=="reset")if($t===-1)Re.current.value=Me;else{const tn=le(at[$t]);Re.current.value=tn,tn.toLowerCase().indexOf(Me.toLowerCase())===0&&Me.length>0&&Re.current.setSelectionRange(Me.length,tn.length)}}),qt=()=>{const Z=(X,pe)=>{const Xe=X?le(X):"",dt=pe?le(pe):"";return Xe===dt};if(Ue.current!==-1&&Je.filteredOptions&&Je.filteredOptions.length!==at.length&&Je.inputValue===Me&&(M?de.length===Je.value.length&&Je.value.every((X,pe)=>le(de[pe])===le(X)):Z(Je.value,de))){const X=Je.filteredOptions[Ue.current];if(X)return at.findIndex(pe=>le(pe)===le(X))}return-1},Xn=E.useCallback(()=>{if(!jt)return;const Z=qt();if(Z!==-1){Ue.current=Z;return}const X=M?de[0]:de;if(at.length===0||X==null){We({diff:"reset"});return}if(Ee.current){if(X!=null){const pe=at[Ue.current];if(M&&pe&&de.findIndex(dt=>P(pe,dt))!==-1)return;const Xe=at.findIndex(dt=>P(dt,X));Xe===-1?We({diff:"reset"}):we({index:Xe});return}if(Ue.current>=at.length-1){we({index:at.length-1});return}we({index:Ue.current})}},[at.length,M?!1:de,_,We,we,jt,Me,M]),pr=ui(Z=>{Ay(Ee,Z),Z&&Xn()});E.useEffect(()=>{Xn()},[Xn]);const yn=Z=>{ht||(an(!0),Ct(!0),Y&&Y(Z))},gr=(Z,X)=>{ht&&(an(!1),z&&z(Z,X))},En=(Z,X,pe,Xe)=>{if(M){if(de.length===X.length&&de.every((dt,$t)=>dt===X[$t]))return}else if(de===X)return;A&&A(Z,X,pe,Xe),Ke(X)},ni=E.useRef(!1),rr=(Z,X,pe="selectOption",Xe="options")=>{let dt=pe,$t=X;if(M){$t=Array.isArray(de)?de.slice():[];const tn=$t.findIndex(Qn=>P(X,Qn));tn===-1?$t.push(X):Xe!=="freeSolo"&&($t.splice(tn,1),dt="removeOption")}sn(Z,$t,dt),En(Z,$t,dt,{option:X}),!h&&(!Z||!Z.ctrlKey&&!Z.metaKey)&&gr(Z,dt),(s===!0||s==="touch"&&ni.current||s==="mouse"&&!ni.current)&&Re.current.blur()};function Ir(Z,X){if(Z===-1)return-1;let pe=Z;for(;;){if(X==="next"&&pe===de.length||X==="previous"&&pe===-1)return-1;const Xe=ye.querySelector(`[data-tag-index="${pe}"]`);if(!Xe||!Xe.hasAttribute("tabindex")||Xe.disabled||Xe.getAttribute("aria-disabled")==="true")pe+=X==="next"?1:-1;else return pe}}const zn=(Z,X)=>{if(!M)return;Me===""&&gr(Z,"toggleInput");let pe=Pe;Pe===-1?Me===""&&X==="previous"&&(pe=de.length-1):(pe+=X==="next"?1:-1,pe<0&&(pe=0),pe===de.length&&(pe=-1)),pe=Ir(pe,X),ut(pe),mn(pe)},mr=Z=>{Oe.current=!0,ft(""),j&&j(Z,"","clear"),En(Z,M?[]:null,"clear")},Go=Z=>X=>{if(Z.onKeyDown&&Z.onKeyDown(X),!X.defaultMuiPrevented&&(Pe!==-1&&!["ArrowLeft","ArrowRight"].includes(X.key)&&(ut(-1),mn(-1)),X.which!==229))switch(X.key){case"Home":jt&&I&&(X.preventDefault(),We({diff:"start",direction:"next",reason:"keyboard",event:X}));break;case"End":jt&&I&&(X.preventDefault(),We({diff:"end",direction:"previous",reason:"keyboard",event:X}));break;case"PageUp":X.preventDefault(),We({diff:-NA,direction:"previous",reason:"keyboard",event:X}),yn(X);break;case"PageDown":X.preventDefault(),We({diff:NA,direction:"next",reason:"keyboard",event:X}),yn(X);break;case"ArrowDown":X.preventDefault(),We({diff:1,direction:"next",reason:"keyboard",event:X}),yn(X);break;case"ArrowUp":X.preventDefault(),We({diff:-1,direction:"previous",reason:"keyboard",event:X}),yn(X);break;case"ArrowLeft":zn(X,"previous");break;case"ArrowRight":zn(X,"next");break;case"Enter":if(Ue.current!==-1&&jt){const pe=at[Ue.current],Xe=v?v(pe):!1;if(X.preventDefault(),Xe)return;rr(X,pe,"selectOption"),r&&Re.current.setSelectionRange(Re.current.value.length,Re.current.value.length)}else w&&Me!==""&&gt===!1&&(M&&X.preventDefault(),rr(X,Me,"createOption","freeSolo"));break;case"Escape":jt?(X.preventDefault(),X.stopPropagation(),gr(X,"escape")):l&&(Me!==""||M&&de.length>0)&&(X.preventDefault(),X.stopPropagation(),mr(X));break;case"Backspace":if(M&&!re&&Me===""&&de.length>0){const pe=Pe===-1?de.length-1:Pe,Xe=de.slice();Xe.splice(pe,1),En(X,Xe,"removeOption",{option:de[pe]})}break;case"Delete":if(M&&!re&&Me===""&&de.length>0&&Pe!==-1){const pe=Pe,Xe=de.slice();Xe.splice(pe,1),En(X,Xe,"removeOption",{option:de[pe]})}break}},ge=Z=>{xe(!0),B&&!Oe.current&&yn(Z)},_e=Z=>{if(e(Ee)){Re.current.focus();return}xe(!1),Ne.current=!0,Oe.current=!1,o&&Ue.current!==-1&&jt?rr(Z,at[Ue.current],"blur"):o&&w&&Me!==""?rr(Z,Me,"blur","freeSolo"):a&&sn(Z,de,"blur"),gr(Z,"blur")},$e=Z=>{const X=Z.target.value;Me!==X&&(ft(X),Ct(!1),j&&j(Z,X,"input")),X===""?!f&&!M&&En(Z,null,"clear"):yn(Z)},lt=Z=>{const X=Number(Z.currentTarget.getAttribute("data-option-index"));Ue.current!==X&&we({event:Z,index:X,reason:"mouse"})},Pt=Z=>{we({event:Z,index:Number(Z.currentTarget.getAttribute("data-option-index")),reason:"touch"}),ni.current=!0},xn=Z=>{const X=Number(Z.currentTarget.getAttribute("data-option-index"));rr(Z,at[X],"selectOption"),ni.current=!1},zr=Z=>X=>{const pe=de.slice();pe.splice(Z,1),En(X,pe,"removeOption",{option:de[Z]})},Ci=Z=>{ht?gr(Z,"toggleInput"):yn(Z)},yr=Z=>{Z.currentTarget.contains(Z.target)&&Z.target.getAttribute("id")!==be&&Z.preventDefault()},vn=Z=>{Z.currentTarget.contains(Z.target)&&(Re.current.focus(),he&&Ne.current&&Re.current.selectionEnd-Re.current.selectionStart===0&&Re.current.select(),Ne.current=!1)},Pn=Z=>{!p&&(Me===""||!ht)&&Ci(Z)};let vr=w&&Me.length>0;vr=vr||(M?de.length>0:de!==null);let ws=at;return $&&(ws=at.reduce((Z,X,pe)=>{const Xe=$(X);return Z.length>0&&Z[Z.length-1].group===Xe?Z[Z.length-1].options.push(X):Z.push({key:pe,index:pe,group:Xe,options:[X]}),Z},[])),p&&Ye&&_e(),{getRootProps:(Z={})=>({...Z,onKeyDown:Go(Z),onMouseDown:yr,onClick:vn}),getInputLabelProps:()=>({id:`${be}-label`,htmlFor:be}),getInputProps:()=>({id:be,value:Me,onBlur:_e,onFocus:ge,onChange:$e,onMouseDown:Pn,"aria-activedescendant":jt?"":null,"aria-autocomplete":r?"both":"list","aria-controls":Rn?`${be}-listbox`:void 0,"aria-expanded":Rn,autoComplete:"off",ref:Re,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:p}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:mr}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Ci}),getTagProps:({index:Z})=>({key:Z,"data-tag-index":Z,tabIndex:-1,...!re&&{onDelete:zr(Z)}}),getListboxProps:()=>({role:"listbox",id:`${be}-listbox`,"aria-labelledby":`${be}-label`,ref:pr,onMouseDown:Z=>{Z.preventDefault()}}),getOptionProps:({index:Z,option:X})=>{const pe=(M?de:[de]).some(dt=>dt!=null&&P(X,dt)),Xe=v?v(X):!1;return{key:(S==null?void 0:S(X))??le(X),tabIndex:-1,role:"option",id:`${be}-option-${Z}`,onMouseMove:lt,onClick:xn,onTouchStart:Pt,"data-option-index":Z,"aria-disabled":Xe,"aria-selected":pe}},id:be,inputValue:Me,value:de,dirty:vr,expanded:jt&&ye,popupOpen:jt,focused:Ye||Pe!==-1,anchorEl:ye,setAnchorEl:De,focusedTag:Pe,groupedOptions:ws}}var yi="top",fo="bottom",ho="right",vi="left",GS="auto",Bp=[yi,fo,ho,vi],od="start",Kh="end",VZ="clippingParents",d4="viewport",pf="popper",UZ="reference",MA=Bp.reduce(function(t,e){return t.concat([e+"-"+od,e+"-"+Kh])},[]),f4=[].concat(Bp,[GS]).reduce(function(t,e){return t.concat([e,e+"-"+od,e+"-"+Kh])},[]),jZ="beforeRead",zZ="read",WZ="afterRead",HZ="beforeMain",GZ="main",qZ="afterMain",KZ="beforeWrite",YZ="write",XZ="afterWrite",QZ=[jZ,zZ,WZ,HZ,GZ,qZ,KZ,YZ,XZ];function ps(t){return t?(t.nodeName||"").toLowerCase():null}function zi(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ic(t){var e=zi(t).Element;return t instanceof e||t instanceof Element}function ao(t){var e=zi(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function qS(t){if(typeof ShadowRoot>"u")return!1;var e=zi(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function JZ(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!ao(o)||!ps(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function ZZ(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,c){return l[c]="",l},{});!ao(i)||!ps(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const eee={name:"applyStyles",enabled:!0,phase:"write",fn:JZ,effect:ZZ,requires:["computeStyles"]};function us(t){return t.split("-")[0]}var Gl=Math.max,Dy=Math.min,sd=Math.round;function PE(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function h4(){return!/^((?!chrome|android).)*safari/i.test(PE())}function ad(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&ao(t)&&(i=t.offsetWidth>0&&sd(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&sd(r.height)/t.offsetHeight||1);var s=ic(t)?zi(t):window,a=s.visualViewport,l=!h4()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/o,f=r.width/i,h=r.height/o;return{width:f,height:h,top:u,right:c+f,bottom:u+h,left:c,x:c,y:u}}function KS(t){var e=ad(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function p4(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&qS(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ra(t){return zi(t).getComputedStyle(t)}function tee(t){return["table","td","th"].indexOf(ps(t))>=0}function bl(t){return((ic(t)?t.ownerDocument:t.document)||window.document).documentElement}function D0(t){return ps(t)==="html"?t:t.assignedSlot||t.parentNode||(qS(t)?t.host:null)||bl(t)}function DA(t){return!ao(t)||ra(t).position==="fixed"?null:t.offsetParent}function nee(t){var e=/firefox/i.test(PE()),n=/Trident/i.test(PE());if(n&&ao(t)){var r=ra(t);if(r.position==="fixed")return null}var i=D0(t);for(qS(i)&&(i=i.host);ao(i)&&["html","body"].indexOf(ps(i))<0;){var o=ra(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Vp(t){for(var e=zi(t),n=DA(t);n&&tee(n)&&ra(n).position==="static";)n=DA(n);return n&&(ps(n)==="html"||ps(n)==="body"&&ra(n).position==="static")?e:n||nee(t)||e}function YS(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ah(t,e,n){return Gl(t,Dy(e,n))}function ree(t,e,n){var r=ah(t,e,n);return r>n?n:r}function g4(){return{top:0,right:0,bottom:0,left:0}}function m4(t){return Object.assign({},g4(),t)}function y4(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var iee=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,m4(typeof e!="number"?e:y4(e,Bp))};function oee(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=us(n.placement),l=YS(a),c=[vi,ho].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!s)){var f=iee(i.padding,n),h=KS(o),p=l==="y"?yi:vi,m=l==="y"?fo:ho,b=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],x=s[l]-n.rects.reference[l],_=Vp(o),w=_?l==="y"?_.clientHeight||0:_.clientWidth||0:0,v=b/2-x/2,S=f[p],k=w-h[u]-f[m],$=w/2-h[u]/2+v,I=ah(S,$,k),T=l;n.modifiersData[r]=(e={},e[T]=I,e.centerOffset=I-$,e)}}function see(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||p4(e.elements.popper,i)&&(e.elements.arrow=i))}const aee={name:"arrow",enabled:!0,phase:"main",fn:oee,effect:see,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ld(t){return t.split("-")[1]}var lee={top:"auto",right:"auto",bottom:"auto",left:"auto"};function cee(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:sd(n*i)/i||0,y:sd(r*i)/i||0}}function LA(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,f=t.isFixed,h=s.x,p=h===void 0?0:h,m=s.y,b=m===void 0?0:m,x=typeof u=="function"?u({x:p,y:b}):{x:p,y:b};p=x.x,b=x.y;var _=s.hasOwnProperty("x"),w=s.hasOwnProperty("y"),v=vi,S=yi,k=window;if(c){var $=Vp(n),I="clientHeight",T="clientWidth";if($===zi(n)&&($=bl(n),ra($).position!=="static"&&a==="absolute"&&(I="scrollHeight",T="scrollWidth")),$=$,i===yi||(i===vi||i===ho)&&o===Kh){S=fo;var R=f&&$===k&&k.visualViewport?k.visualViewport.height:$[I];b-=R-r.height,b*=l?1:-1}if(i===vi||(i===yi||i===fo)&&o===Kh){v=ho;var y=f&&$===k&&k.visualViewport?k.visualViewport.width:$[T];p-=y-r.width,p*=l?1:-1}}var P=Object.assign({position:a},c&&lee),M=u===!0?cee({x:p,y:b},zi(n)):{x:p,y:b};if(p=M.x,b=M.y,l){var A;return Object.assign({},P,(A={},A[S]=w?"0":"",A[v]=_?"0":"",A.transform=(k.devicePixelRatio||1)<=1?"translate("+p+"px, "+b+"px)":"translate3d("+p+"px, "+b+"px, 0)",A))}return Object.assign({},P,(e={},e[S]=w?b+"px":"",e[v]=_?p+"px":"",e.transform="",e))}function uee(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:us(e.placement),variation:ld(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,LA(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,LA(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const dee={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:uee,data:{}};var Bg={passive:!0};function fee(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=zi(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,Bg)}),a&&l.addEventListener("resize",n.update,Bg),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Bg)}),a&&l.removeEventListener("resize",n.update,Bg)}}const hee={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:fee,data:{}};var pee={left:"right",right:"left",bottom:"top",top:"bottom"};function Om(t){return t.replace(/left|right|bottom|top/g,function(e){return pee[e]})}var gee={start:"end",end:"start"};function FA(t){return t.replace(/start|end/g,function(e){return gee[e]})}function XS(t){var e=zi(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function QS(t){return ad(bl(t)).left+XS(t).scrollLeft}function mee(t,e){var n=zi(t),r=bl(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=h4();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+QS(t),y:l}}function yee(t){var e,n=bl(t),r=XS(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Gl(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Gl(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+QS(t),l=-r.scrollTop;return ra(i||n).direction==="rtl"&&(a+=Gl(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function JS(t){var e=ra(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function v4(t){return["html","body","#document"].indexOf(ps(t))>=0?t.ownerDocument.body:ao(t)&&JS(t)?t:v4(D0(t))}function lh(t,e){var n;e===void 0&&(e=[]);var r=v4(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=zi(r),s=i?[o].concat(o.visualViewport||[],JS(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(lh(D0(s)))}function AE(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function vee(t,e){var n=ad(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function BA(t,e,n){return e===d4?AE(mee(t,n)):ic(e)?vee(e,n):AE(yee(bl(t)))}function _ee(t){var e=lh(D0(t)),n=["absolute","fixed"].indexOf(ra(t).position)>=0,r=n&&ao(t)?Vp(t):t;return ic(r)?e.filter(function(i){return ic(i)&&p4(i,r)&&ps(i)!=="body"}):[]}function bee(t,e,n,r){var i=e==="clippingParents"?_ee(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,c){var u=BA(t,c,r);return l.top=Gl(u.top,l.top),l.right=Dy(u.right,l.right),l.bottom=Dy(u.bottom,l.bottom),l.left=Gl(u.left,l.left),l},BA(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function _4(t){var e=t.reference,n=t.element,r=t.placement,i=r?us(r):null,o=r?ld(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case yi:l={x:s,y:e.y-n.height};break;case fo:l={x:s,y:e.y+e.height};break;case ho:l={x:e.x+e.width,y:a};break;case vi:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?YS(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case od:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Kh:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Yh(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?VZ:a,c=n.rootBoundary,u=c===void 0?d4:c,f=n.elementContext,h=f===void 0?pf:f,p=n.altBoundary,m=p===void 0?!1:p,b=n.padding,x=b===void 0?0:b,_=m4(typeof x!="number"?x:y4(x,Bp)),w=h===pf?UZ:pf,v=t.rects.popper,S=t.elements[m?w:h],k=bee(ic(S)?S:S.contextElement||bl(t.elements.popper),l,u,s),$=ad(t.elements.reference),I=_4({reference:$,element:v,strategy:"absolute",placement:i}),T=AE(Object.assign({},v,I)),R=h===pf?T:$,y={top:k.top-R.top+_.top,bottom:R.bottom-k.bottom+_.bottom,left:k.left-R.left+_.left,right:R.right-k.right+_.right},P=t.modifiersData.offset;if(h===pf&&P){var M=P[i];Object.keys(y).forEach(function(A){var z=[ho,fo].indexOf(A)>=0?1:-1,K=[yi,fo].indexOf(A)>=0?"y":"x";y[A]+=M[K]*z})}return y}function wee(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?f4:l,u=ld(r),f=u?a?MA:MA.filter(function(m){return ld(m)===u}):Bp,h=f.filter(function(m){return c.indexOf(m)>=0});h.length===0&&(h=f);var p=h.reduce(function(m,b){return m[b]=Yh(t,{placement:b,boundary:i,rootBoundary:o,padding:s})[us(b)],m},{});return Object.keys(p).sort(function(m,b){return p[m]-p[b]})}function Eee(t){if(us(t)===GS)return[];var e=Om(t);return[FA(t),e,FA(e)]}function xee(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,f=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,b=n.allowedAutoPlacements,x=e.options.placement,_=us(x),w=_===x,v=l||(w||!m?[Om(x)]:Eee(x)),S=[x].concat(v).reduce(function(be,le){return be.concat(us(le)===GS?wee(e,{placement:le,boundary:u,rootBoundary:f,padding:c,flipVariations:m,allowedAutoPlacements:b}):le)},[]),k=e.rects.reference,$=e.rects.popper,I=new Map,T=!0,R=S[0],y=0;y<S.length;y++){var P=S[y],M=us(P),A=ld(P)===od,z=[yi,fo].indexOf(M)>=0,K=z?"width":"height",j=Yh(e,{placement:P,boundary:u,rootBoundary:f,altBoundary:h,padding:c}),Y=z?A?ho:vi:A?fo:yi;k[K]>$[K]&&(Y=Om(Y));var U=Om(Y),B=[];if(o&&B.push(j[M]<=0),a&&B.push(j[Y]<=0,j[U]<=0),B.every(function(be){return be})){R=P,T=!1;break}I.set(P,B)}if(T)for(var W=m?3:1,re=function(le){var Oe=S.find(function(Ne){var Re=I.get(Ne);if(Re)return Re.slice(0,le).every(function(Ee){return Ee})});if(Oe)return R=Oe,"break"},he=W;he>0;he--){var me=re(he);if(me==="break")break}e.placement!==R&&(e.modifiersData[r]._skip=!0,e.placement=R,e.reset=!0)}}const See={name:"flip",enabled:!0,phase:"main",fn:xee,requiresIfExists:["offset"],data:{_skip:!1}};function VA(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function UA(t){return[yi,ho,fo,vi].some(function(e){return t[e]>=0})}function Cee(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=Yh(e,{elementContext:"reference"}),a=Yh(e,{altBoundary:!0}),l=VA(s,r),c=VA(a,i,o),u=UA(l),f=UA(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const Tee={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Cee};function Iee(t,e,n){var r=us(t),i=[vi,yi].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[vi,ho].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function Ree(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=f4.reduce(function(u,f){return u[f]=Iee(f,e.rects,o),u},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}const Pee={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ree};function Aee(t){var e=t.state,n=t.name;e.modifiersData[n]=_4({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const kee={name:"popperOffsets",enabled:!0,phase:"read",fn:Aee,data:{}};function Oee(t){return t==="x"?"y":"x"}function Nee(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,f=n.padding,h=n.tether,p=h===void 0?!0:h,m=n.tetherOffset,b=m===void 0?0:m,x=Yh(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),_=us(e.placement),w=ld(e.placement),v=!w,S=YS(_),k=Oee(S),$=e.modifiersData.popperOffsets,I=e.rects.reference,T=e.rects.popper,R=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,y=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),P=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if($){if(o){var A,z=S==="y"?yi:vi,K=S==="y"?fo:ho,j=S==="y"?"height":"width",Y=$[S],U=Y+x[z],B=Y-x[K],W=p?-T[j]/2:0,re=w===od?I[j]:T[j],he=w===od?-T[j]:-I[j],me=e.elements.arrow,be=p&&me?KS(me):{width:0,height:0},le=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:g4(),Oe=le[z],Ne=le[K],Re=ah(0,I[j],be[j]),Ee=v?I[j]/2-W-Re-Oe-y.mainAxis:re-Re-Oe-y.mainAxis,ye=v?-I[j]/2+W+Re+Ne+y.mainAxis:he+Re+Ne+y.mainAxis,De=e.elements.arrow&&Vp(e.elements.arrow),Pe=De?S==="y"?De.clientTop||0:De.clientLeft||0:0,ut=(A=P==null?void 0:P[S])!=null?A:0,Be=Y+Ee-ut-Pe,Ue=Y+ye-ut,Nt=ah(p?Dy(U,Be):U,Y,p?Gl(B,Ue):B);$[S]=Nt,M[S]=Nt-Y}if(a){var de,Ke=S==="x"?yi:vi,Me=S==="x"?fo:ho,ft=$[k],Ye=k==="y"?"height":"width",xe=ft+x[Ke],sn=ft-x[Me],ht=[yi,vi].indexOf(_)!==-1,an=(de=P==null?void 0:P[k])!=null?de:0,st=ht?xe:ft-I[Ye]-T[Ye]-an+y.altAxis,Ct=ht?ft+I[Ye]+T[Ye]-an-y.altAxis:sn,gt=p&&ht?ree(st,ft,Ct):ah(p?st:xe,ft,p?Ct:sn);$[k]=gt,M[k]=gt-ft}e.modifiersData[r]=M}}const $ee={name:"preventOverflow",enabled:!0,phase:"main",fn:Nee,requiresIfExists:["offset"]};function Mee(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Dee(t){return t===zi(t)||!ao(t)?XS(t):Mee(t)}function Lee(t){var e=t.getBoundingClientRect(),n=sd(e.width)/t.offsetWidth||1,r=sd(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Fee(t,e,n){n===void 0&&(n=!1);var r=ao(e),i=ao(e)&&Lee(e),o=bl(e),s=ad(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((ps(e)!=="body"||JS(o))&&(a=Dee(e)),ao(e)?(l=ad(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=QS(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Bee(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function Vee(t){var e=Bee(t);return QZ.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Uee(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function jee(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var jA={placement:"bottom",modifiers:[],strategy:"absolute"};function zA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function zee(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?jA:i;return function(a,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},jA,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],h=!1,p={state:u,setOptions:function(_){var w=typeof _=="function"?_(u.options):_;b(),u.options=Object.assign({},o,u.options,w),u.scrollParents={reference:ic(a)?lh(a):a.contextElement?lh(a.contextElement):[],popper:lh(l)};var v=Vee(jee([].concat(r,u.options.modifiers)));return u.orderedModifiers=v.filter(function(S){return S.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var _=u.elements,w=_.reference,v=_.popper;if(zA(w,v)){u.rects={reference:Fee(w,Vp(v),u.options.strategy==="fixed"),popper:KS(v)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(y){return u.modifiersData[y.name]=Object.assign({},y.data)});for(var S=0;S<u.orderedModifiers.length;S++){if(u.reset===!0){u.reset=!1,S=-1;continue}var k=u.orderedModifiers[S],$=k.fn,I=k.options,T=I===void 0?{}:I,R=k.name;typeof $=="function"&&(u=$({state:u,options:T,name:R,instance:p})||u)}}}},update:Uee(function(){return new Promise(function(x){p.forceUpdate(),x(u)})}),destroy:function(){b(),h=!0}};if(!zA(a,l))return p;p.setOptions(c).then(function(x){!h&&c.onFirstUpdate&&c.onFirstUpdate(x)});function m(){u.orderedModifiers.forEach(function(x){var _=x.name,w=x.options,v=w===void 0?{}:w,S=x.effect;if(typeof S=="function"){var k=S({state:u,name:_,instance:p,options:v}),$=function(){};f.push(k||$)}})}function b(){f.forEach(function(x){return x()}),f=[]}return p}}var Wee=[hee,kee,dee,eee,Pee,See,$ee,aee,Tee],Hee=zee({defaultModifiers:Wee});function Gee(t){return typeof t=="function"?t():t}const qee=E.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=E.useState(null),l=dr(E.isValidElement(r)?Fp(r):null,n);if(jo(()=>{o||a(Gee(i)||document.body)},[i,o]),jo(()=>{if(s&&!o)return Ay(n,s),()=>{Ay(n,null)}},[n,s,o]),o){if(E.isValidElement(r)){const c={ref:l};return E.cloneElement(r,c)}return r}return s&&dp.createPortal(r,s)}),b4=qee;function Kee(t){return it("MuiPopper",t)}tt("MuiPopper",["root"]);function Yee(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function kE(t){return typeof t=="function"?t():t}function Xee(t){return t.nodeType!==void 0}const Qee=t=>{const{classes:e}=t;return ot({root:["root"]},Kee,e)},Jee={},Zee=E.forwardRef(function(e,n){const{anchorEl:r,children:i,direction:o,disablePortal:s,modifiers:a,open:l,placement:c,popperOptions:u,popperRef:f,slotProps:h={},slots:p={},TransitionProps:m,ownerState:b,...x}=e,_=E.useRef(null),w=dr(_,n),v=E.useRef(null),S=dr(v,f),k=E.useRef(S);jo(()=>{k.current=S},[S]),E.useImperativeHandle(f,()=>v.current,[]);const $=Yee(c,o),[I,T]=E.useState($),[R,y]=E.useState(kE(r));E.useEffect(()=>{v.current&&v.current.forceUpdate()}),E.useEffect(()=>{r&&y(kE(r))},[r]),jo(()=>{if(!R||!l)return;const K=U=>{T(U.placement)};let j=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:U})=>{K(U)}}];a!=null&&(j=j.concat(a)),u&&u.modifiers!=null&&(j=j.concat(u.modifiers));const Y=Hee(R,_.current,{placement:$,...u,modifiers:j});return k.current(Y),()=>{Y.destroy(),k.current(null)}},[R,s,a,l,u,$]);const P={placement:I};m!==null&&(P.TransitionProps=m);const M=Qee(e),A=p.root??"div",z=id({elementType:A,externalSlotProps:h.root,externalForwardedProps:x,additionalProps:{role:"tooltip",ref:w},ownerState:e,className:M.root});return O.jsx(A,{...z,children:typeof i=="function"?i(P):i})}),ete=E.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:f="bottom",popperOptions:h=Jee,popperRef:p,style:m,transition:b=!1,slotProps:x={},slots:_={},...w}=e,[v,S]=E.useState(!0),k=()=>{S(!1)},$=()=>{S(!0)};if(!l&&!u&&(!b||v))return null;let I;if(o)I=o;else if(r){const y=kE(r);I=y&&Xee(y)?wi(y).body:wi(null).body}const T=!u&&l&&(!b||v)?"none":void 0,R=b?{in:u,onEnter:k,onExited:$}:void 0;return O.jsx(b4,{disablePortal:a,container:I,children:O.jsx(Zee,{anchorEl:r,direction:s,disablePortal:a,modifiers:c,ref:n,open:b?!v:u,placement:f,popperOptions:h,popperRef:p,slotProps:x,slots:_,...w,style:{position:"fixed",top:0,left:0,display:T,...m},TransitionProps:R,children:i})})}),tte=ete,nte=se(tte,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),rte=E.forwardRef(function(e,n){const r=$0(),i=ct({props:e,name:"MuiPopper"}),{anchorEl:o,component:s,components:a,componentsProps:l,container:c,disablePortal:u,keepMounted:f,modifiers:h,open:p,placement:m,popperOptions:b,popperRef:x,transition:_,slots:w,slotProps:v,...S}=i,k=(w==null?void 0:w.root)??(a==null?void 0:a.Root),$={anchorEl:o,container:c,disablePortal:u,keepMounted:f,modifiers:h,open:p,placement:m,popperOptions:b,popperRef:x,transition:_,...S};return O.jsx(nte,{as:s,direction:r?"rtl":"ltr",slots:{root:k},slotProps:v??l,...$,ref:n})}),w4=rte;function ite(t){return it("MuiListSubheader",t)}tt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const ote=t=>{const{classes:e,color:n,disableGutters:r,inset:i,disableSticky:o}=t,s={root:["root",n!=="default"&&`color${oe(n)}`,!r&&"gutters",i&&"inset",!o&&"sticky"]};return ot(s,ite,e)},ste=se("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${oe(n.color)}`],!n.disableGutters&&e.gutters,n.inset&&e.inset,!n.disableSticky&&e.sticky]}})(bt(({theme:t})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(t.vars||t).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:72}},{props:({ownerState:e})=>!e.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper}}]}))),OE=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiListSubheader"}),{className:i,color:o="default",component:s="li",disableGutters:a=!1,disableSticky:l=!1,inset:c=!1,...u}=r,f={...r,color:o,component:s,disableGutters:a,disableSticky:l,inset:c},h=ote(f);return O.jsx(ste,{as:s,className:ve(h.root,i),ref:n,ownerState:f,...u})});OE&&(OE.muiSkipListHighlight=!0);const ate=OE,lte=hr(O.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function cte(t){return it("MuiChip",t)}const ute=tt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Et=ute,dte=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=t,c={root:["root",l,n&&"disabled",`size${oe(r)}`,`color${oe(i)}`,a&&"clickable",a&&`clickableColor${oe(i)}`,s&&"deletable",s&&`deletableColor${oe(i)}`,`${l}${oe(i)}`],label:["label",`label${oe(r)}`],avatar:["avatar",`avatar${oe(r)}`,`avatarColor${oe(i)}`],icon:["icon",`icon${oe(r)}`,`iconColor${oe(o)}`],deleteIcon:["deleteIcon",`deleteIcon${oe(r)}`,`deleteIconColor${oe(i)}`,`deleteIcon${oe(l)}Color${oe(i)}`]};return ot(c,cte,e)},fte=se("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{[`& .${Et.avatar}`]:e.avatar},{[`& .${Et.avatar}`]:e[`avatar${oe(a)}`]},{[`& .${Et.avatar}`]:e[`avatarColor${oe(r)}`]},{[`& .${Et.icon}`]:e.icon},{[`& .${Et.icon}`]:e[`icon${oe(a)}`]},{[`& .${Et.icon}`]:e[`iconColor${oe(i)}`]},{[`& .${Et.deleteIcon}`]:e.deleteIcon},{[`& .${Et.deleteIcon}`]:e[`deleteIcon${oe(a)}`]},{[`& .${Et.deleteIcon}`]:e[`deleteIconColor${oe(r)}`]},{[`& .${Et.deleteIcon}`]:e[`deleteIcon${oe(l)}Color${oe(r)}`]},e.root,e[`size${oe(a)}`],e[`color${oe(r)}`],o&&e.clickable,o&&r!=="default"&&e[`clickableColor${oe(r)})`],s&&e.deletable,s&&r!=="default"&&e[`deletableColor${oe(r)}`],e[l],e[`${l}${oe(r)}`]]}})(bt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Et.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Et.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${Et.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Et.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Et.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Et.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Et.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:Ot(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Ot(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Et.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Et.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(di(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${Et.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].contrastTextChannel} / 0.7)`:Ot(t.palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${Et.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${Et.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Et.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ot(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(di(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${Et.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ot(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${Et.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ot(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(di(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${Et.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Et.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Et.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Et.avatar}`]:{marginLeft:4},[`& .${Et.avatarSmall}`]:{marginLeft:2},[`& .${Et.icon}`]:{marginLeft:4},[`& .${Et.iconSmall}`]:{marginLeft:2},[`& .${Et.deleteIcon}`]:{marginRight:5},[`& .${Et.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(di()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:Ot(t.palette[n].main,.7)}`,[`&.${Et.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette[n].main,t.palette.action.hoverOpacity)},[`&.${Et.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.focusOpacity})`:Ot(t.palette[n].main,t.palette.action.focusOpacity)},[`& .${Et.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:Ot(t.palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}))]}})),hte=se("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${oe(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function WA(t){return t.key==="Backspace"||t.key==="Delete"}const pte=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:f,label:h,onClick:p,onDelete:m,onKeyDown:b,onKeyUp:x,size:_="medium",variant:w="filled",tabIndex:v,skipFocusWhenDisabled:S=!1,...k}=r,$=E.useRef(null),I=dr($,n),T=B=>{B.stopPropagation(),m&&m(B)},R=B=>{B.currentTarget===B.target&&WA(B)&&B.preventDefault(),b&&b(B)},y=B=>{B.currentTarget===B.target&&m&&WA(B)&&m(B),x&&x(B)},P=s!==!1&&p?!0:s,M=P||m?sl:l||"div",A={...r,component:M,disabled:u,size:_,color:a,iconColor:E.isValidElement(f)&&f.props.color||a,onDelete:!!m,clickable:P,variant:w},z=dte(A),K=M===sl?{component:l||"div",focusVisibleClassName:z.focusVisible,...m&&{disableRipple:!0}}:{};let j=null;m&&(j=c&&E.isValidElement(c)?E.cloneElement(c,{className:ve(c.props.className,z.deleteIcon),onClick:T}):O.jsx(lte,{className:ve(z.deleteIcon),onClick:T}));let Y=null;i&&E.isValidElement(i)&&(Y=E.cloneElement(i,{className:ve(z.avatar,i.props.className)}));let U=null;return f&&E.isValidElement(f)&&(U=E.cloneElement(f,{className:ve(z.icon,f.props.className)})),O.jsxs(fte,{as:M,className:ve(z.root,o),disabled:P&&u?!0:void 0,onClick:p,onKeyDown:R,onKeyUp:y,ref:I,tabIndex:S&&u?-1:v,ownerState:A,...K,...k,children:[Y||U,O.jsx(hte,{className:ve(z.label),ownerState:A,children:h}),j]})}),gte=pte;function Vg(t){return parseInt(t,10)||0}const mte={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function yte(t){for(const e in t)return!1;return!0}function HA(t){return yte(t)||t.outerHeightStyle===0&&!t.overflowing}const vte=E.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a,...l}=e,{current:c}=E.useRef(a!=null),u=E.useRef(null),f=dr(n,u),h=E.useRef(null),p=E.useRef(null),m=E.useCallback(()=>{const v=u.current,S=p.current;if(!v||!S)return;const $=zo(v).getComputedStyle(v);if($.width==="0px")return{outerHeightStyle:0,overflowing:!1};S.style.width=$.width,S.value=v.value||e.placeholder||"x",S.value.slice(-1)===`
`&&(S.value+=" ");const I=$.boxSizing,T=Vg($.paddingBottom)+Vg($.paddingTop),R=Vg($.borderBottomWidth)+Vg($.borderTopWidth),y=S.scrollHeight;S.value="x";const P=S.scrollHeight;let M=y;o&&(M=Math.max(Number(o)*P,M)),i&&(M=Math.min(Number(i)*P,M)),M=Math.max(M,P);const A=M+(I==="border-box"?T+R:0),z=Math.abs(M-y)<=1;return{outerHeightStyle:A,overflowing:z}},[i,o,e.placeholder]),b=ui(()=>{const v=u.current,S=m();if(!v||!S||HA(S))return!1;const k=S.outerHeightStyle;return h.current!=null&&h.current!==k}),x=E.useCallback(()=>{const v=u.current,S=m();if(!v||!S||HA(S))return;const k=S.outerHeightStyle;h.current!==k&&(h.current=k,v.style.height=`${k}px`),v.style.overflow=S.overflowing?"hidden":""},[m]),_=E.useRef(-1);jo(()=>{const v=N0(x),S=u==null?void 0:u.current;if(!S)return;const k=zo(S);k.addEventListener("resize",v);let $;return typeof ResizeObserver<"u"&&($=new ResizeObserver(()=>{b()&&($.unobserve(S),cancelAnimationFrame(_.current),x(),_.current=requestAnimationFrame(()=>{$.observe(S)}))}),$.observe(S)),()=>{v.clear(),cancelAnimationFrame(_.current),k.removeEventListener("resize",v),$&&$.disconnect()}},[m,x,b]),jo(()=>{x()});const w=v=>{c||x(),r&&r(v)};return O.jsxs(E.Fragment,{children:[O.jsx("textarea",{value:a,onChange:w,ref:f,rows:o,style:s,...l}),O.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:{...mte.shadow,...s,paddingTop:0,paddingBottom:0}})]})}),_te=vte;function NE(t){return typeof t=="string"}function kd({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const bte=E.createContext(void 0),ZS=bte;function Od(){return E.useContext(ZS)}function GA(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Ly(t,e=!1){return t&&(GA(t.value)&&t.value!==""||e&&GA(t.defaultValue)&&t.defaultValue!=="")}function wte(t){return t.startAdornment}function Ete(t){return it("MuiInputBase",t)}const xte=tt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Ai=xte;var qA;const L0=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${oe(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},F0=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},Ste=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:f,size:h,startAdornment:p,type:m}=t,b={root:["root",`color${oe(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&h!=="medium"&&`size${oe(h)}`,u&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",u&&"inputMultiline",h==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",f&&"readOnly"]};return ot(b,Ete,e)},B0=se("div",{name:"MuiInputBase",slot:"Root",overridesResolver:L0})(bt(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Ai.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),V0=se("input",{name:"MuiInputBase",slot:"Input",overridesResolver:F0})(bt(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Ai.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Ai.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),KA=RJ({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),Cte=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:s,className:a,color:l,components:c={},componentsProps:u={},defaultValue:f,disabled:h,disableInjectingGlobalStyles:p,endAdornment:m,error:b,fullWidth:x=!1,id:_,inputComponent:w="input",inputProps:v={},inputRef:S,margin:k,maxRows:$,minRows:I,multiline:T=!1,name:R,onBlur:y,onChange:P,onClick:M,onFocus:A,onKeyDown:z,onKeyUp:K,placeholder:j,readOnly:Y,renderSuffix:U,rows:B,size:W,slotProps:re={},slots:he={},startAdornment:me,type:be="text",value:le,...Oe}=r,Ne=v.value!=null?v.value:le,{current:Re}=E.useRef(Ne!=null),Ee=E.useRef(),ye=E.useCallback(Je=>{},[]),De=dr(Ee,S,v.ref,ye),[Pe,ut]=E.useState(!1),Be=Od(),Ue=kd({props:r,muiFormControl:Be,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ue.focused=Be?Be.focused:Pe,E.useEffect(()=>{!Be&&h&&Pe&&(ut(!1),y&&y())},[Be,h,Pe,y]);const Nt=Be&&Be.onFilled,de=Be&&Be.onEmpty,Ke=E.useCallback(Je=>{Ly(Je)?Nt&&Nt():de&&de()},[Nt,de]);jo(()=>{Re&&Ke({value:Ne})},[Ne,Ke,Re]);const Me=Je=>{A&&A(Je),v.onFocus&&v.onFocus(Je),Be&&Be.onFocus?Be.onFocus(Je):ut(!0)},ft=Je=>{y&&y(Je),v.onBlur&&v.onBlur(Je),Be&&Be.onBlur?Be.onBlur(Je):ut(!1)},Ye=(Je,...Rn)=>{if(!Re){const mn=Je.target||Ee.current;if(mn==null)throw new Error(ta(1));Ke({value:mn.value})}v.onChange&&v.onChange(Je,...Rn),P&&P(Je,...Rn)};E.useEffect(()=>{Ke(Ee.current)},[]);const xe=Je=>{Ee.current&&Je.currentTarget===Je.target&&Ee.current.focus(),M&&M(Je)};let sn=w,ht=v;T&&sn==="input"&&(B?ht={type:void 0,minRows:B,maxRows:B,...ht}:ht={type:void 0,maxRows:$,minRows:I,...ht},sn=_te);const an=Je=>{Ke(Je.animationName==="mui-auto-fill-cancel"?Ee.current:{value:"x"})};E.useEffect(()=>{Be&&Be.setAdornedStart(!!me)},[Be,me]);const st={...r,color:Ue.color||"primary",disabled:Ue.disabled,endAdornment:m,error:Ue.error,focused:Ue.focused,formControl:Be,fullWidth:x,hiddenLabel:Ue.hiddenLabel,multiline:T,size:Ue.size,startAdornment:me,type:be},Ct=Ste(st),gt=he.root||c.Root||B0,jt=re.root||u.root||{},at=he.input||c.Input||V0;return ht={...ht,...re.input??u.input},O.jsxs(E.Fragment,{children:[!p&&typeof KA=="function"&&(qA||(qA=O.jsx(KA,{}))),O.jsxs(gt,{...jt,ref:n,onClick:xe,...Oe,...!NE(gt)&&{ownerState:{...st,...jt.ownerState}},className:ve(Ct.root,jt.className,a,Y&&"MuiInputBase-readOnly"),children:[me,O.jsx(ZS.Provider,{value:null,children:O.jsx(at,{"aria-invalid":Ue.error,"aria-describedby":i,autoComplete:o,autoFocus:s,defaultValue:f,disabled:Ue.disabled,id:_,onAnimationStart:an,name:R,placeholder:j,readOnly:Y,required:Ue.required,rows:B,value:Ne,onKeyDown:z,onKeyUp:K,type:be,...ht,...!NE(at)&&{as:sn,ownerState:{...st,...ht.ownerState}},ref:De,className:ve(Ct.input,ht.className,Y&&"MuiInputBase-readOnly"),onBlur:ft,onChange:Ye,onFocus:Me})}),m,U?U({...Ue,startAdornment:me}):null]})]})}),eC=Cte;function Tte(t){return it("MuiInput",t)}const Ite={...Ai,...tt("MuiInput",["root","underline","input"])},Ra=Ite;function Rte(t){return it("MuiOutlinedInput",t)}const Pte={...Ai,...tt("MuiOutlinedInput",["root","notchedOutline","input"])},Qi=Pte;function Ate(t){return it("MuiFilledInput",t)}const kte={...Ai,...tt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},ki=kte,E4=hr(O.jsx("path",{d:"M7 10l5 5 5-5z"}));function Ote(t){return it("MuiAutocomplete",t)}const Nte=tt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),pt=Nte;var YA,XA;const $te=t=>{const{classes:e,disablePortal:n,expanded:r,focused:i,fullWidth:o,hasClearIcon:s,hasPopupIcon:a,inputFocused:l,popupOpen:c,size:u}=t,f={root:["root",r&&"expanded",i&&"focused",o&&"fullWidth",s&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${oe(u)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return ot(f,Ote,e)},Mte=se("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{fullWidth:r,hasClearIcon:i,hasPopupIcon:o,inputFocused:s,size:a}=n;return[{[`& .${pt.tag}`]:e.tag},{[`& .${pt.tag}`]:e[`tagSize${oe(a)}`]},{[`& .${pt.inputRoot}`]:e.inputRoot},{[`& .${pt.input}`]:e.input},{[`& .${pt.input}`]:s&&e.inputFocused},e.root,r&&e.fullWidth,o&&e.hasPopupIcon,i&&e.hasClearIcon]}})({[`&.${pt.focused} .${pt.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${pt.clearIndicator}`]:{visibility:"visible"}},[`& .${pt.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${pt.inputRoot}`]:{[`.${pt.hasPopupIcon}&, .${pt.hasClearIcon}&`]:{paddingRight:26+4},[`.${pt.hasPopupIcon}.${pt.hasClearIcon}&`]:{paddingRight:52+4},[`& .${pt.input}`]:{width:0,minWidth:30}},[`& .${Ra.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Ra.root}.${Ai.sizeSmall}`]:{[`& .${Ra.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Qi.root}`]:{padding:9,[`.${pt.hasPopupIcon}&, .${pt.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${pt.hasPopupIcon}.${pt.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${pt.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${pt.endAdornment}`]:{right:9}},[`& .${Qi.root}.${Ai.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${pt.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${ki.root}`]:{paddingTop:19,paddingLeft:8,[`.${pt.hasPopupIcon}&, .${pt.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${pt.hasPopupIcon}.${pt.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${ki.input}`]:{padding:"7px 4px"},[`& .${pt.endAdornment}`]:{right:9}},[`& .${ki.root}.${Ai.sizeSmall}`]:{paddingBottom:1,[`& .${ki.input}`]:{padding:"2.5px 4px"}},[`& .${Ai.hiddenLabel}`]:{paddingTop:8},[`& .${ki.root}.${Ai.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${pt.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${ki.root}.${Ai.hiddenLabel}.${Ai.sizeSmall}`]:{[`& .${pt.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${pt.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${pt.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${pt.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${pt.inputRoot}`]:{flexWrap:"wrap"}}}]}),Dte=se("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(t,e)=>e.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),Lte=se(My,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(t,e)=>e.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Fte=se(My,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popupIndicator,n.popupOpen&&e.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),Bte=se(w4,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${pt.option}`]:e.option},e.popper,n.disablePortal&&e.popperDisablePortal]}})(bt(({theme:t})=>({zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),Vte=se(Ad,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(t,e)=>e.paper})(bt(({theme:t})=>({...t.typography.body1,overflow:"auto"}))),Ute=se("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(t,e)=>e.loading})(bt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),jte=se("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(t,e)=>e.noOptions})(bt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),zte=se("ul",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(t,e)=>e.listbox})(bt(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${pt.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${pt.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${pt.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${pt.focused}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${pt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}}}))),Wte=se(ate,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(t,e)=>e.groupLabel})(bt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8}))),Hte=se("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(t,e)=>e.groupUl})({padding:0,[`& .${pt.option}`]:{paddingLeft:24}}),Gte=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:o=!1,autoSelect:s=!1,blurOnSelect:a=!1,ChipProps:l,className:c,clearIcon:u=YA||(YA=O.jsx(RZ,{fontSize:"small"})),clearOnBlur:f=!r.freeSolo,clearOnEscape:h=!1,clearText:p="Clear",closeText:m="Close",componentsProps:b,defaultValue:x=r.multiple?[]:null,disableClearable:_=!1,disableCloseOnSelect:w=!1,disabled:v=!1,disabledItemsFocusable:S=!1,disableListWrap:k=!1,disablePortal:$=!1,filterOptions:I,filterSelectedOptions:T=!1,forcePopupIcon:R="auto",freeSolo:y=!1,fullWidth:P=!1,getLimitTagsText:M=mt=>`+${mt}`,getOptionDisabled:A,getOptionKey:z,getOptionLabel:K,isOptionEqualToValue:j,groupBy:Y,handleHomeEndKeys:U=!r.freeSolo,id:B,includeInputInList:W=!1,inputValue:re,limitTags:he=-1,ListboxComponent:me,ListboxProps:be,loading:le=!1,loadingText:Oe="Loading",multiple:Ne=!1,noOptionsText:Re="No options",onChange:Ee,onClose:ye,onHighlightChange:De,onInputChange:Pe,onOpen:ut,open:Be,openOnFocus:Ue=!1,openText:Nt="Open",options:de,PaperComponent:Ke,PopperComponent:Me,popupIcon:ft=XA||(XA=O.jsx(E4,{})),readOnly:Ye=!1,renderGroup:xe,renderInput:sn,renderOption:ht,renderTags:an,selectOnFocus:st=!r.freeSolo,size:Ct="medium",slots:gt={},slotProps:jt={},value:at,...Je}=r,{getRootProps:Rn,getInputProps:mn,getInputLabelProps:ti,getPopupIndicatorProps:we,getClearProps:We,getTagProps:qt,getListboxProps:Xn,getOptionProps:pr,value:yn,dirty:gr,expanded:En,id:ni,popupOpen:rr,focused:Ir,focusedTag:zn,anchorEl:mr,setAnchorEl:Go,inputValue:ge,groupedOptions:_e}=BZ({...r,componentName:"Autocomplete"}),$e=!_&&!v&&gr&&!Ye,lt=(!y||R===!0)&&R!==!1,{onMouseDown:Pt}=mn(),{ref:xn,...zr}=Xn(),yr=K||(mt=>mt.label??mt),vn={...r,disablePortal:$,expanded:En,focused:Ir,fullWidth:P,getOptionLabel:yr,hasClearIcon:$e,hasPopupIcon:lt,inputFocused:zn===-1,popupOpen:rr,size:Ct},Pn=$te(vn),vr={slots:{paper:Ke,popper:Me,...gt},slotProps:{chip:l,listbox:be,...b,...jt}},[ws,Z]=Wt("listbox",{elementType:zte,externalForwardedProps:vr,ownerState:vn,className:Pn.listbox,additionalProps:zr,ref:xn}),[X,pe]=Wt("paper",{elementType:Ad,externalForwardedProps:vr,ownerState:vn,className:Pn.paper}),[Xe,dt]=Wt("popper",{elementType:w4,externalForwardedProps:vr,ownerState:vn,className:Pn.popper,additionalProps:{disablePortal:$,style:{width:mr?mr.clientWidth:null},role:"presentation",anchorEl:mr,open:rr}});let $t;if(Ne&&yn.length>0){const mt=Bn=>({className:Pn.tag,disabled:v,...qt(Bn)});an?$t=an(yn,mt,vn):$t=yn.map((Bn,ri)=>{const{key:Ss,...Cc}=mt({index:ri});return O.jsx(gte,{label:yr(Bn),size:Ct,...Cc,...vr.slotProps.chip},Ss)})}if(he>-1&&Array.isArray($t)){const mt=$t.length-he;!Ir&&mt>0&&($t=$t.splice(0,he),$t.push(O.jsx("span",{className:Pn.tag,children:M(mt)},$t.length)))}const Qn=xe||(mt=>O.jsxs("li",{children:[O.jsx(Wte,{className:Pn.groupLabel,ownerState:vn,component:"div",children:mt.group}),O.jsx(Hte,{className:Pn.groupUl,ownerState:vn,children:mt.children})]},mt.key)),Gd=ht||((mt,Bn)=>{const{key:ri,...Ss}=mt;return O.jsx("li",{...Ss,children:yr(Bn)},ri)}),Es=(mt,Bn)=>{const ri=pr({option:mt,index:Bn});return Gd({...ri,className:Pn.option},mt,{selected:ri["aria-selected"],index:Bn,inputValue:ge},vn)},xs=vr.slotProps.clearIndicator,Ko=vr.slotProps.popupIndicator;return O.jsxs(E.Fragment,{children:[O.jsx(Mte,{ref:n,className:ve(Pn.root,c),ownerState:vn,...Rn(Je),children:sn({id:ni,disabled:v,fullWidth:!0,size:Ct==="small"?"small":void 0,InputLabelProps:ti(),InputProps:{ref:Go,className:Pn.inputRoot,startAdornment:$t,onMouseDown:mt=>{mt.target===mt.currentTarget&&Pt(mt)},...($e||lt)&&{endAdornment:O.jsxs(Dte,{className:Pn.endAdornment,ownerState:vn,children:[$e?O.jsx(Lte,{...We(),"aria-label":p,title:p,ownerState:vn,...xs,className:ve(Pn.clearIndicator,xs==null?void 0:xs.className),children:u}):null,lt?O.jsx(Fte,{...we(),disabled:v,"aria-label":rr?m:Nt,title:rr?m:Nt,ownerState:vn,...Ko,className:ve(Pn.popupIndicator,Ko==null?void 0:Ko.className),children:ft}):null]})}},inputProps:{className:Pn.input,disabled:v,readOnly:Ye,...mn()}})}),mr?O.jsx(Bte,{as:Xe,...dt,children:O.jsxs(Vte,{as:X,...pe,children:[le&&_e.length===0?O.jsx(Ute,{className:Pn.loading,ownerState:vn,children:Oe}):null,_e.length===0&&!y&&!le?O.jsx(jte,{className:Pn.noOptions,ownerState:vn,role:"presentation",onMouseDown:mt=>{mt.preventDefault()},children:Re}):null,_e.length>0?O.jsx(ws,{as:me,...Z,children:_e.map((mt,Bn)=>Y?Qn({key:mt.key,group:mt.group,children:mt.options.map((ri,Ss)=>Es(ri,mt.index+Ss))}):Es(mt,Bn))}):null]})}):null]})}),qte=Gte,Kte={entering:{opacity:1},entered:{opacity:1}},Yte=E.forwardRef(function(e,n){const r=Pd(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:f,onEntering:h,onExit:p,onExited:m,onExiting:b,style:x,timeout:_=i,TransitionComponent:w=l4,...v}=e,S=E.useRef(null),k=dr(S,Fp(a),n),$=z=>K=>{if(z){const j=S.current;K===void 0?z(j):z(j,K)}},I=$(h),T=$((z,K)=>{c4(z);const j=Ny({style:x,timeout:_,easing:l},{mode:"enter"});z.style.webkitTransition=r.transitions.create("opacity",j),z.style.transition=r.transitions.create("opacity",j),u&&u(z,K)}),R=$(f),y=$(b),P=$(z=>{const K=Ny({style:x,timeout:_,easing:l},{mode:"exit"});z.style.webkitTransition=r.transitions.create("opacity",K),z.style.transition=r.transitions.create("opacity",K),p&&p(z)}),M=$(m),A=z=>{o&&o(S.current,z)};return O.jsx(w,{appear:s,in:c,nodeRef:S,onEnter:T,onEntered:R,onEntering:I,onExit:P,onExited:M,onExiting:y,addEndListener:A,timeout:_,...v,children:(z,{ownerState:K,...j})=>E.cloneElement(a,{style:{opacity:0,visibility:z==="exited"&&!c?"hidden":void 0,...Kte[z],...x,...a.props.style},ref:k,...j})})}),$E=Yte;function Xte(t){return it("MuiBackdrop",t)}tt("MuiBackdrop",["root","invisible"]);const Qte=t=>{const{classes:e,invisible:n}=t;return ot({root:["root",n&&"invisible"]},Xte,e)},Jte=se("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Zte=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiBackdrop"}),{children:i,className:o,component:s="div",invisible:a=!1,open:l,components:c={},componentsProps:u={},slotProps:f={},slots:h={},TransitionComponent:p,transitionDuration:m,...b}=r,x={...r,component:s,invisible:a},_=Qte(x),w={transition:p,root:c.Root,...h},v={...u,...f},S={slots:w,slotProps:v},[k,$]=Wt("root",{elementType:Jte,externalForwardedProps:S,className:ve(_.root,o),ownerState:x}),[I,T]=Wt("transition",{elementType:$E,externalForwardedProps:S,ownerState:x});return O.jsx(I,{in:l,timeout:m,...b,...T,children:O.jsx(k,{"aria-hidden":!0,...$,classes:_,ref:n,children:i})})}),x4=Zte,ene=tt("MuiBox",["root"]),tne=ene,nne=r4(),rne=zX({themeId:e0,defaultTheme:nne,defaultClassName:tne.root,generateClassName:LF.generate}),$a=rne;function ine(t){return it("MuiButton",t)}const one=tt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),Sl=one,sne=E.createContext({}),ane=sne,lne=E.createContext(void 0),cne=lne,une=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,loading:s,loadingPosition:a,classes:l}=t,c={root:["root",s&&"loading",o,`${o}${oe(e)}`,`size${oe(i)}`,`${o}Size${oe(i)}`,`color${oe(e)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${oe(a)}`],startIcon:["icon","startIcon",`iconSize${oe(i)}`],endIcon:["icon","endIcon",`iconSize${oe(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},u=ot(c,ine,l);return{...l,...u}},S4=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],dne=se(sl,{shouldForwardProp:t=>yo(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${oe(n.color)}`],e[`size${oe(n.size)}`],e[`${n.variant}Size${oe(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(bt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Sl.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Sl.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Sl.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Sl.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(di()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:Ot(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette[r].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Sl.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Sl.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Sl.loading}`]:{color:"transparent"}}}]}})),fne=se("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${oe(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...S4]})),hne=se("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${oe(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...S4]})),pne=se("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),QA=se("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),gne=E.forwardRef(function(e,n){const r=E.useContext(ane),i=E.useContext(cne),o=rd(r,e),s=ct({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:f=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:b,fullWidth:x=!1,id:_,loading:w=null,loadingIndicator:v,loadingPosition:S="center",size:k="medium",startIcon:$,type:I,variant:T="text",...R}=s,y=Id(_),P=v??O.jsx(u4,{"aria-labelledby":y,color:"inherit",size:16}),M={...s,color:l,component:c,disabled:f,disableElevation:h,disableFocusRipple:p,fullWidth:x,loading:w,loadingIndicator:P,loadingPosition:S,size:k,type:I,variant:T},A=une(M),z=($||w&&S==="start")&&O.jsx(fne,{className:A.startIcon,ownerState:M,children:$||O.jsx(QA,{className:A.loadingIconPlaceholder,ownerState:M})}),K=(m||w&&S==="end")&&O.jsx(hne,{className:A.endIcon,ownerState:M,children:m||O.jsx(QA,{className:A.loadingIconPlaceholder,ownerState:M})}),j=i||"",Y=typeof w=="boolean"?O.jsx("span",{className:A.loadingWrapper,style:{display:"contents"},children:w&&O.jsx(pne,{className:A.loadingIndicator,ownerState:M,children:P})}):null;return O.jsxs(dne,{ownerState:M,className:ve(r.className,A.root,u,j),component:c,disabled:f||w,focusRipple:!p,focusVisibleClassName:ve(A.focusVisible,b),ref:n,type:I,id:w?y:_,...R,classes:A,children:[z,S!=="end"&&Y,a,S==="end"&&Y,K]})}),Hn=gne;function mne(t){return it("MuiCard",t)}tt("MuiCard",["root"]);const yne=t=>{const{classes:e}=t;return ot({root:["root"]},mne,e)},vne=se(Ad,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})({overflow:"hidden"}),_ne=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiCard"}),{className:i,raised:o=!1,...s}=r,a={...r,raised:o},l=yne(a);return O.jsx(vne,{className:ve(l.root,i),elevation:o?8:void 0,ref:n,ownerState:a,...s})}),bne=_ne;function wne(t){return it("MuiCardActions",t)}tt("MuiCardActions",["root","spacing"]);const Ene=t=>{const{classes:e,disableSpacing:n}=t;return ot({root:["root",!n&&"spacing"]},wne,e)},xne=se("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Sne=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiCardActions"}),{disableSpacing:i=!1,className:o,...s}=r,a={...r,disableSpacing:i},l=Ene(a);return O.jsx(xne,{className:ve(l.root,o),ownerState:a,ref:n,...s})}),Cne=Sne;function Tne(t){return it("MuiCardContent",t)}tt("MuiCardContent",["root"]);const Ine=t=>{const{classes:e}=t;return ot({root:["root"]},Tne,e)},Rne=se("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:16,"&:last-child":{paddingBottom:24}}),Pne=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiCardContent"}),{className:i,component:o="div",...s}=r,a={...r,component:o},l=Ine(a);return O.jsx(Rne,{as:o,className:ve(l.root,i),ownerState:a,ref:n,...s})}),Ane=Pne,kne=RQ({createStyledComponent:se("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${oe(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>ct({props:t,name:"MuiContainer"})}),One=kne;function Nne(t){const e=wi(t);return e.body===t?zo(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function ch(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function JA(t){return parseInt(zo(t).getComputedStyle(t).paddingRight,10)||0}function $ne(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function ZA(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,s=>{const a=!o.includes(s),l=!$ne(s);a&&l&&ch(s,i)})}function mb(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function Mne(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(Nne(r)){const s=qF(zo(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${JA(r)+s}px`;const a=wi(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${JA(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=wi(r).body;else{const s=r.parentElement,a=zo(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function Dne(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class Lne{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&ch(e.modalRef,!1);const i=Dne(n);ZA(n,e.mount,e.modalRef,i,!0);const o=mb(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=mb(this.containers,o=>o.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=Mne(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=mb(this.containers,s=>s.modals.includes(e)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&ch(e.modalRef,n),ZA(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&ch(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const Fne=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Bne(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Vne(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Une(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Vne(t))}function jne(t){const e=[],n=[];return Array.from(t.querySelectorAll(Fne)).forEach((r,i)=>{const o=Bne(r);o===-1||!Une(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function zne(){return!0}function Wne(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=jne,isEnabled:s=zne,open:a}=t,l=E.useRef(!1),c=E.useRef(null),u=E.useRef(null),f=E.useRef(null),h=E.useRef(null),p=E.useRef(!1),m=E.useRef(null),b=dr(Fp(e),m),x=E.useRef(null);E.useEffect(()=>{!a||!m.current||(p.current=!n)},[n,a]),E.useEffect(()=>{if(!a||!m.current)return;const v=wi(m.current);return m.current.contains(v.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{i||(f.current&&f.current.focus&&(l.current=!0,f.current.focus()),f.current=null)}},[a]),E.useEffect(()=>{if(!a||!m.current)return;const v=wi(m.current),S=I=>{x.current=I,!(r||!s()||I.key!=="Tab")&&v.activeElement===m.current&&I.shiftKey&&(l.current=!0,u.current&&u.current.focus())},k=()=>{var R,y;const I=m.current;if(I===null)return;if(!v.hasFocus()||!s()||l.current){l.current=!1;return}if(I.contains(v.activeElement)||r&&v.activeElement!==c.current&&v.activeElement!==u.current)return;if(v.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let T=[];if((v.activeElement===c.current||v.activeElement===u.current)&&(T=o(m.current)),T.length>0){const P=!!((R=x.current)!=null&&R.shiftKey&&((y=x.current)==null?void 0:y.key)==="Tab"),M=T[0],A=T[T.length-1];typeof M!="string"&&typeof A!="string"&&(P?A.focus():M.focus())}else I.focus()};v.addEventListener("focusin",k),v.addEventListener("keydown",S,!0);const $=setInterval(()=>{v.activeElement&&v.activeElement.tagName==="BODY"&&k()},50);return()=>{clearInterval($),v.removeEventListener("focusin",k),v.removeEventListener("keydown",S,!0)}},[n,r,i,s,a,o]);const _=v=>{f.current===null&&(f.current=v.relatedTarget),p.current=!0,h.current=v.target;const S=e.props.onFocus;S&&S(v)},w=v=>{f.current===null&&(f.current=v.relatedTarget),p.current=!0};return O.jsxs(E.Fragment,{children:[O.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:c,"data-testid":"sentinelStart"}),E.cloneElement(e,{ref:b,onFocus:_}),O.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:u,"data-testid":"sentinelEnd"})]})}function Hne(t){return typeof t=="function"?t():t}function Gne(t){return t?t.props.hasOwnProperty("in"):!1}const ek=()=>{},Ug=new Lne;function qne(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:s,children:a,onClose:l,open:c,rootRef:u}=t,f=E.useRef({}),h=E.useRef(null),p=E.useRef(null),m=dr(p,u),[b,x]=E.useState(!c),_=Gne(a);let w=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(w=!1);const v=()=>wi(h.current),S=()=>(f.current.modalRef=p.current,f.current.mount=h.current,f.current),k=()=>{Ug.mount(S(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},$=ui(()=>{const K=Hne(e)||v().body;Ug.add(S(),K),p.current&&k()}),I=()=>Ug.isTopModal(S()),T=ui(K=>{h.current=K,K&&(c&&I()?k():p.current&&ch(p.current,w))}),R=E.useCallback(()=>{Ug.remove(S(),w)},[w]);E.useEffect(()=>()=>{R()},[R]),E.useEffect(()=>{c?$():(!_||!i)&&R()},[c,R,_,i,$]);const y=K=>j=>{var Y;(Y=K.onKeyDown)==null||Y.call(K,j),!(j.key!=="Escape"||j.which===229||!I())&&(n||(j.stopPropagation(),l&&l(j,"escapeKeyDown")))},P=K=>j=>{var Y;(Y=K.onClick)==null||Y.call(K,j),j.target===j.currentTarget&&l&&l(j,"backdropClick")};return{getRootProps:(K={})=>{const j=YF(t);delete j.onTransitionEnter,delete j.onTransitionExited;const Y={...j,...K};return{role:"presentation",...Y,onKeyDown:y(Y),ref:m}},getBackdropProps:(K={})=>{const j=K;return{"aria-hidden":!0,...j,onClick:P(j),open:c}},getTransitionProps:()=>{const K=()=>{x(!1),o&&o()},j=()=>{x(!0),s&&s(),i&&R()};return{onEnter:hA(K,(a==null?void 0:a.props.onEnter)??ek),onExited:hA(j,(a==null?void 0:a.props.onExited)??ek)}},rootRef:m,portalRef:T,isTopModal:I,exited:b,hasTransition:_}}function Kne(t){return it("MuiModal",t)}tt("MuiModal",["root","hidden","backdrop"]);const Yne=t=>{const{open:e,exited:n,classes:r}=t;return ot({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},Kne,r)},Xne=se("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(bt(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),Qne=se(x4,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),Jne=E.forwardRef(function(e,n){const r=ct({name:"MuiModal",props:e}),{BackdropComponent:i=Qne,BackdropProps:o,classes:s,className:a,closeAfterTransition:l=!1,children:c,container:u,component:f,components:h={},componentsProps:p={},disableAutoFocus:m=!1,disableEnforceFocus:b=!1,disableEscapeKeyDown:x=!1,disablePortal:_=!1,disableRestoreFocus:w=!1,disableScrollLock:v=!1,hideBackdrop:S=!1,keepMounted:k=!1,onClose:$,onTransitionEnter:I,onTransitionExited:T,open:R,slotProps:y={},slots:P={},theme:M,...A}=r,z={...r,closeAfterTransition:l,disableAutoFocus:m,disableEnforceFocus:b,disableEscapeKeyDown:x,disablePortal:_,disableRestoreFocus:w,disableScrollLock:v,hideBackdrop:S,keepMounted:k},{getRootProps:K,getBackdropProps:j,getTransitionProps:Y,portalRef:U,isTopModal:B,exited:W,hasTransition:re}=qne({...z,rootRef:n}),he={...z,exited:W},me=Yne(he),be={};if(c.props.tabIndex===void 0&&(be.tabIndex="-1"),re){const{onEnter:ye,onExited:De}=Y();be.onEnter=ye,be.onExited=De}const le={slots:{root:h.Root,backdrop:h.Backdrop,...P},slotProps:{...p,...y}},[Oe,Ne]=Wt("root",{ref:n,elementType:Xne,externalForwardedProps:{...le,...A,component:f},getSlotProps:K,ownerState:he,className:ve(a,me==null?void 0:me.root,!he.open&&he.exited&&(me==null?void 0:me.hidden))}),[Re,Ee]=Wt("backdrop",{ref:o==null?void 0:o.ref,elementType:i,externalForwardedProps:le,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:ye=>j({...ye,onClick:De=>{ye!=null&&ye.onClick&&ye.onClick(De)}}),className:ve(o==null?void 0:o.className,me==null?void 0:me.backdrop),ownerState:he});return!k&&!R&&(!re||W)?null:O.jsx(b4,{ref:U,container:u,disablePortal:_,children:O.jsxs(Oe,{...Ne,children:[!S&&i?O.jsx(Re,{...Ee}):null,O.jsx(Wne,{disableEnforceFocus:b,disableAutoFocus:m,disableRestoreFocus:w,isEnabled:B,open:R,children:E.cloneElement(c,be)})]})})}),C4=Jne;function Zne(t){return it("MuiDialog",t)}const ere=tt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),yb=ere,tre=E.createContext({}),T4=tre,nre=se(x4,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),rre=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=t,s={root:["root"],container:["container",`scroll${oe(n)}`],paper:["paper",`paperScroll${oe(n)}`,`paperWidth${oe(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return ot(s,Zne,e)},ire=se(C4,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),ore=se("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${oe(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),sre=se(Ad,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${oe(n.scroll)}`],e[`paperWidth${oe(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(bt(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${yb.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${yb.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${yb.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),are=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiDialog"}),i=Pd(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:c,BackdropProps:u,children:f,className:h,disableEscapeKeyDown:p=!1,fullScreen:m=!1,fullWidth:b=!1,maxWidth:x="sm",onClick:_,onClose:w,open:v,PaperComponent:S=Ad,PaperProps:k={},scroll:$="paper",slots:I={},slotProps:T={},TransitionComponent:R=$E,transitionDuration:y=o,TransitionProps:P,...M}=r,A={...r,disableEscapeKeyDown:p,fullScreen:m,fullWidth:b,maxWidth:x,scroll:$},z=rre(A),K=E.useRef(),j=ut=>{K.current=ut.target===ut.currentTarget},Y=ut=>{_&&_(ut),K.current&&(K.current=null,w&&w(ut,"backdropClick"))},U=Id(a),B=E.useMemo(()=>({titleId:U}),[U]),W={transition:R,...I},re={transition:P,paper:k,backdrop:u,...T},he={slots:W,slotProps:re},[me,be]=Wt("root",{elementType:ire,shouldForwardComponentProp:!0,externalForwardedProps:he,ownerState:A,className:ve(z.root,h),ref:n}),[le,Oe]=Wt("backdrop",{elementType:nre,shouldForwardComponentProp:!0,externalForwardedProps:he,ownerState:A}),[Ne,Re]=Wt("paper",{elementType:sre,shouldForwardComponentProp:!0,externalForwardedProps:he,ownerState:A,className:ve(z.paper,k.className)}),[Ee,ye]=Wt("container",{elementType:ore,externalForwardedProps:he,ownerState:A,className:ve(z.container)}),[De,Pe]=Wt("transition",{elementType:$E,externalForwardedProps:he,ownerState:A,additionalProps:{appear:!0,in:v,timeout:y,role:"presentation"}});return O.jsx(me,{closeAfterTransition:!0,slots:{backdrop:le},slotProps:{backdrop:{transitionDuration:y,as:c,...Oe}},disableEscapeKeyDown:p,onClose:w,open:v,onClick:Y,...be,...M,children:O.jsx(De,{...Pe,children:O.jsx(Ee,{onMouseDown:j,...ye,children:O.jsx(Ne,{as:S,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":U,"aria-modal":l,...Re,children:O.jsx(T4.Provider,{value:B,children:f})})})})})}),jg=are;function lre(t){return it("MuiDialogActions",t)}tt("MuiDialogActions",["root","spacing"]);const cre=t=>{const{classes:e,disableSpacing:n}=t;return ot({root:["root",!n&&"spacing"]},lre,e)},ure=se("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),dre=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1,...s}=r,a={...r,disableSpacing:o},l=cre(a);return O.jsx(ure,{className:ve(l.root,i),ownerState:a,ref:n,...s})}),zg=dre;function fre(t){return it("MuiDialogContent",t)}tt("MuiDialogContent",["root","dividers"]);function hre(t){return it("MuiDialogTitle",t)}const pre=tt("MuiDialogTitle",["root"]),gre=pre,mre=t=>{const{classes:e,dividers:n}=t;return ot({root:["root",n&&"dividers"]},fre,e)},yre=se("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(bt(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${gre.root} + &`]:{paddingTop:0}}}]}))),vre=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiDialogContent"}),{className:i,dividers:o=!1,...s}=r,a={...r,dividers:o},l=mre(a);return O.jsx(yre,{className:ve(l.root,i),ownerState:a,ref:n,...s})}),Wg=vre,_re=t=>{const{classes:e}=t;return ot({root:["root"]},hre,e)},bre=se(no,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),wre=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiDialogTitle"}),{className:i,id:o,...s}=r,a=r,l=_re(a),{titleId:c=o}=E.useContext(T4);return O.jsx(bre,{component:"h2",className:ve(l.root,i),ownerState:a,ref:n,variant:"h6",id:o??c,...s})}),Hg=wre,Ere=tt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),tk=Ere,xre=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:s,multiline:a}=t,l={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${oe(o)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},c=ot(l,Ate,e);return{...e,...c}},Sre=se(B0,{shouldForwardProp:t=>yo(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...L0(t,e),!n.disableUnderline&&e.underline]}})(bt(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${ki.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${ki.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ki.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ki.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ki.disabled}, .${ki.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${ki.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(di()).map(([s])=>{var a;return{props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[s])==null?void 0:a.main}`}}}}),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:a})=>s.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),Cre=se(V0,{name:"MuiFilledInput",slot:"Input",overridesResolver:F0})(bt(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),I4=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,hiddenLabel:l,inputComponent:c="input",multiline:u=!1,slotProps:f,slots:h={},type:p="text",...m}=r,b={...r,disableUnderline:i,fullWidth:a,inputComponent:c,multiline:u,type:p},x=xre(r),_={root:{ownerState:b},input:{ownerState:b}},w=f??s?Vr(_,f??s):_,v=h.root??o.Root??Sre,S=h.input??o.Input??Cre;return O.jsx(eC,{slots:{root:v,input:S},slotProps:w,fullWidth:a,inputComponent:c,multiline:u,ref:n,type:p,...m,classes:x})});I4.muiName="Input";const R4=I4;function Tre(t){return it("MuiFormControl",t)}tt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Ire=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${oe(n)}`,r&&"fullWidth"]};return ot(i,Tre,e)},Rre=se("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${oe(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),Pre=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:f=!1,hiddenLabel:h=!1,margin:p="none",required:m=!1,size:b="medium",variant:x="outlined",..._}=r,w={...r,color:s,component:a,disabled:l,error:c,fullWidth:f,hiddenLabel:h,margin:p,required:m,size:b,variant:x},v=Ire(w),[S,k]=E.useState(()=>{let K=!1;return i&&E.Children.forEach(i,j=>{if(!km(j,["Input","Select"]))return;const Y=km(j,["Select"])?j.props.input:j;Y&&wte(Y.props)&&(K=!0)}),K}),[$,I]=E.useState(()=>{let K=!1;return i&&E.Children.forEach(i,j=>{km(j,["Input","Select"])&&(Ly(j.props,!0)||Ly(j.props.inputProps,!0))&&(K=!0)}),K}),[T,R]=E.useState(!1);l&&T&&R(!1);const y=u!==void 0&&!l?u:T;let P;E.useRef(!1);const M=E.useCallback(()=>{I(!0)},[]),A=E.useCallback(()=>{I(!1)},[]),z=E.useMemo(()=>({adornedStart:S,setAdornedStart:k,color:s,disabled:l,error:c,filled:$,focused:y,fullWidth:f,hiddenLabel:h,size:b,onBlur:()=>{R(!1)},onFocus:()=>{R(!0)},onEmpty:A,onFilled:M,registerEffect:P,required:m,variant:x}),[S,s,l,c,$,y,f,h,P,A,M,m,b,x]);return O.jsx(ZS.Provider,{value:z,children:O.jsx(Rre,{as:a,ownerState:w,className:ve(v.root,o),ref:n,..._,children:i})})}),tC=Pre;function Are(t){return it("MuiFormHelperText",t)}const kre=tt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),nk=kre;var rk;const Ore=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=t,c={root:["root",i&&"disabled",o&&"error",r&&`size${oe(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return ot(c,Are,e)},Nre=se("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${oe(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(bt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${nk.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${nk.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),$re=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p",disabled:a,error:l,filled:c,focused:u,margin:f,required:h,variant:p,...m}=r,b=Od(),x=kd({props:r,muiFormControl:b,states:["variant","size","disabled","error","filled","focused","required"]}),_={...r,component:s,contained:x.variant==="filled"||x.variant==="outlined",variant:x.variant,size:x.size,disabled:x.disabled,error:x.error,filled:x.filled,focused:x.focused,required:x.required};delete _.ownerState;const w=Ore(_);return O.jsx(Nre,{as:s,className:ve(w.root,o),ref:n,...m,ownerState:_,children:i===" "?rk||(rk=O.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})}),Mre=$re;function Dre(t){return it("MuiFormLabel",t)}const Lre=tt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),uh=Lre,Fre=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=t,l={root:["root",`color${oe(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return ot(l,Dre,e)},Bre=se("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(bt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(di()).map(([e])=>({props:{color:e},style:{[`&.${uh.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${uh.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${uh.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),Vre=se("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(bt(({theme:t})=>({[`&.${uh.error}`]:{color:(t.vars||t).palette.error.main}}))),Ure=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiFormLabel"}),{children:i,className:o,color:s,component:a="label",disabled:l,error:c,filled:u,focused:f,required:h,...p}=r,m=Od(),b=kd({props:r,muiFormControl:m,states:["color","required","focused","disabled","error","filled"]}),x={...r,color:b.color||"primary",component:a,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required},_=Fre(x);return O.jsxs(Bre,{as:a,ownerState:x,className:ve(_.root,o),ref:n,...p,children:[i,b.required&&O.jsxs(Vre,{ownerState:x,"aria-hidden":!0,className:_.asterisk,children:["","*"]})]})}),jre=Ure,zre=WQ({createStyledComponent:se("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:t=>ct({props:t,name:"MuiGrid"}),useTheme:Pd}),ik=zre;function ME(t){return`scale(${t}, ${t**2})`}const Wre={entering:{opacity:1,transform:ME(1)},entered:{opacity:1,transform:"none"}},vb=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),DE=E.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:f,onExited:h,onExiting:p,style:m,timeout:b="auto",TransitionComponent:x=l4,..._}=e,w=GF(),v=E.useRef(),S=Pd(),k=E.useRef(null),$=dr(k,Fp(o),n),I=K=>j=>{if(K){const Y=k.current;j===void 0?K(Y):K(Y,j)}},T=I(u),R=I((K,j)=>{c4(K);const{duration:Y,delay:U,easing:B}=Ny({style:m,timeout:b,easing:s},{mode:"enter"});let W;b==="auto"?(W=S.transitions.getAutoHeightDuration(K.clientHeight),v.current=W):W=Y,K.style.transition=[S.transitions.create("opacity",{duration:W,delay:U}),S.transitions.create("transform",{duration:vb?W:W*.666,delay:U,easing:B})].join(","),l&&l(K,j)}),y=I(c),P=I(p),M=I(K=>{const{duration:j,delay:Y,easing:U}=Ny({style:m,timeout:b,easing:s},{mode:"exit"});let B;b==="auto"?(B=S.transitions.getAutoHeightDuration(K.clientHeight),v.current=B):B=j,K.style.transition=[S.transitions.create("opacity",{duration:B,delay:Y}),S.transitions.create("transform",{duration:vb?B:B*.666,delay:vb?Y:Y||B*.333,easing:U})].join(","),K.style.opacity=0,K.style.transform=ME(.75),f&&f(K)}),A=I(h),z=K=>{b==="auto"&&w.start(v.current||0,K),r&&r(k.current,K)};return O.jsx(x,{appear:i,in:a,nodeRef:k,onEnter:R,onEntered:y,onEntering:T,onExit:M,onExited:A,onExiting:P,addEndListener:z,timeout:b==="auto"?null:b,..._,children:(K,{ownerState:j,...Y})=>E.cloneElement(o,{style:{opacity:0,transform:ME(.75),visibility:K==="exited"&&!a?"hidden":void 0,...Wre[K],...m,...o.props.style},ref:$,...Y})})});DE&&(DE.muiSupportAuto=!0);const Hre=DE,Gre=t=>{const{classes:e,disableUnderline:n}=t,i=ot({root:["root",!n&&"underline"],input:["input"]},Tte,e);return{...e,...i}},qre=se(B0,{shouldForwardProp:t=>yo(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...L0(t,e),!n.disableUnderline&&e.underline]}})(bt(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ra.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ra.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ra.disabled}, .${Ra.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Ra.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(di()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),Kre=se(V0,{name:"MuiInput",slot:"Input",overridesResolver:F0})({}),P4=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,inputComponent:l="input",multiline:c=!1,slotProps:u,slots:f={},type:h="text",...p}=r,m=Gre(r),x={root:{ownerState:{disableUnderline:i}}},_=u??s?Vr(u??s,x):x,w=f.root??o.Root??qre,v=f.input??o.Input??Kre;return O.jsx(eC,{slots:{root:w,input:v},slotProps:_,fullWidth:a,inputComponent:l,multiline:c,ref:n,type:h,...p,classes:m})});P4.muiName="Input";const A4=P4;function Yre(t){return it("MuiInputLabel",t)}tt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Xre=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=t,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="medium"&&`size${oe(r)}`,s],asterisk:[a&&"asterisk"]},c=ot(l,Yre,e);return{...e,...c}},Qre=se(jre,{shouldForwardProp:t=>yo(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${uh.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(bt(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),Jre=E.forwardRef(function(e,n){const r=ct({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:o,shrink:s,variant:a,className:l,...c}=r,u=Od();let f=s;typeof f>"u"&&u&&(f=u.filled||u.focused||u.adornedStart);const h=kd({props:r,muiFormControl:u,states:["size","variant","required","focused"]}),p={...r,disableAnimation:i,formControl:u,shrink:f,size:h.size,variant:h.variant,required:h.required,focused:h.focused},m=Xre(p);return O.jsx(Qre,{"data-shrink":f,ref:n,className:ve(m.root,l),...c,ownerState:p,classes:m})}),nC=Jre,Zre=E.createContext({}),LE=Zre;function eie(t){return it("MuiList",t)}tt("MuiList",["root","padding","dense","subheader"]);const tie=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return ot({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},eie,e)},nie=se("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),rie=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c,...u}=r,f=E.useMemo(()=>({dense:a}),[a]),h={...r,component:s,dense:a,disablePadding:l},p=tie(h);return O.jsx(LE.Provider,{value:f,children:O.jsxs(nie,{as:s,className:ve(p.root,o),ref:n,ownerState:h,...u,children:[c,i]})})}),iie=rie,oie=tt("MuiListItemIcon",["root","alignItemsFlexStart"]),ok=oie,sie=tt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),sk=sie;function _b(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function ak(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function k4(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function gf(t,e,n,r,i,o){let s=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!k4(a,o)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const aie=E.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:f="selectedMenu",...h}=e,p=E.useRef(null),m=E.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});jo(()=>{i&&p.current.focus()},[i]),E.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(v,{direction:S})=>{const k=!p.current.style.width;if(v.clientHeight<p.current.clientHeight&&k){const $=`${qF(zo(v))}px`;p.current.style[S==="rtl"?"paddingLeft":"paddingRight"]=$,p.current.style.width=`calc(100% + ${$})`}return p.current}}),[]);const b=v=>{const S=p.current,k=v.key;if(v.ctrlKey||v.metaKey||v.altKey){u&&u(v);return}const I=wi(S).activeElement;if(k==="ArrowDown")v.preventDefault(),gf(S,I,c,l,_b);else if(k==="ArrowUp")v.preventDefault(),gf(S,I,c,l,ak);else if(k==="Home")v.preventDefault(),gf(S,null,c,l,_b);else if(k==="End")v.preventDefault(),gf(S,null,c,l,ak);else if(k.length===1){const T=m.current,R=k.toLowerCase(),y=performance.now();T.keys.length>0&&(y-T.lastTime>500?(T.keys=[],T.repeating=!0,T.previousKeyMatched=!0):T.repeating&&R!==T.keys[0]&&(T.repeating=!1)),T.lastTime=y,T.keys.push(R);const P=I&&!T.repeating&&k4(I,T);T.previousKeyMatched&&(P||gf(S,I,!1,l,_b,T))?v.preventDefault():T.previousKeyMatched=!1}u&&u(v)},x=dr(p,n);let _=-1;E.Children.forEach(s,(v,S)=>{if(!E.isValidElement(v)){_===S&&(_+=1,_>=s.length&&(_=-1));return}v.props.disabled||(f==="selectedMenu"&&v.props.selected||_===-1)&&(_=S),_===S&&(v.props.disabled||v.props.muiSkipListHighlight||v.type.muiSkipListHighlight)&&(_+=1,_>=s.length&&(_=-1))});const w=E.Children.map(s,(v,S)=>{if(S===_){const k={};return o&&(k.autoFocus=!0),v.props.tabIndex===void 0&&f==="selectedMenu"&&(k.tabIndex=0),E.cloneElement(v,k)}return v});return O.jsx(iie,{role:"menu",ref:x,className:a,onKeyDown:b,tabIndex:i?0:-1,...h,children:w})}),lie=aie;function cie(t){return it("MuiPopover",t)}tt("MuiPopover",["root","paper"]);function lk(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function ck(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function uk(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Gg(t){return typeof t=="function"?t():t}const uie=t=>{const{classes:e}=t;return ot({root:["root"],paper:["paper"]},cie,e)},die=se(C4,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),O4=se(Ad,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),fie=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:c,className:u,container:f,elevation:h=8,marginThreshold:p=16,open:m,PaperProps:b={},slots:x={},slotProps:_={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:v,transitionDuration:S="auto",TransitionProps:k={},disableScrollLock:$=!1,...I}=r,T=E.useRef(),R={...r,anchorOrigin:s,anchorReference:l,elevation:h,marginThreshold:p,transformOrigin:w,TransitionComponent:v,transitionDuration:S,TransitionProps:k},y=uie(R),P=E.useCallback(()=>{if(l==="anchorPosition")return a;const ye=Gg(o),Pe=(ye&&ye.nodeType===1?ye:wi(T.current).body).getBoundingClientRect();return{top:Pe.top+lk(Pe,s.vertical),left:Pe.left+ck(Pe,s.horizontal)}},[o,s.horizontal,s.vertical,a,l]),M=E.useCallback(ye=>({vertical:lk(ye,w.vertical),horizontal:ck(ye,w.horizontal)}),[w.horizontal,w.vertical]),A=E.useCallback(ye=>{const De={width:ye.offsetWidth,height:ye.offsetHeight},Pe=M(De);if(l==="none")return{top:null,left:null,transformOrigin:uk(Pe)};const ut=P();let Be=ut.top-Pe.vertical,Ue=ut.left-Pe.horizontal;const Nt=Be+De.height,de=Ue+De.width,Ke=zo(Gg(o)),Me=Ke.innerHeight-p,ft=Ke.innerWidth-p;if(p!==null&&Be<p){const Ye=Be-p;Be-=Ye,Pe.vertical+=Ye}else if(p!==null&&Nt>Me){const Ye=Nt-Me;Be-=Ye,Pe.vertical+=Ye}if(p!==null&&Ue<p){const Ye=Ue-p;Ue-=Ye,Pe.horizontal+=Ye}else if(de>ft){const Ye=de-ft;Ue-=Ye,Pe.horizontal+=Ye}return{top:`${Math.round(Be)}px`,left:`${Math.round(Ue)}px`,transformOrigin:uk(Pe)}},[o,l,P,M,p]),[z,K]=E.useState(m),j=E.useCallback(()=>{const ye=T.current;if(!ye)return;const De=A(ye);De.top!==null&&ye.style.setProperty("top",De.top),De.left!==null&&(ye.style.left=De.left),ye.style.transformOrigin=De.transformOrigin,K(!0)},[A]);E.useEffect(()=>($&&window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j)),[o,$,j]);const Y=()=>{j()},U=()=>{K(!1)};E.useEffect(()=>{m&&j()}),E.useImperativeHandle(i,()=>m?{updatePosition:()=>{j()}}:null,[m,j]),E.useEffect(()=>{if(!m)return;const ye=N0(()=>{j()}),De=zo(Gg(o));return De.addEventListener("resize",ye),()=>{ye.clear(),De.removeEventListener("resize",ye)}},[o,m,j]);let B=S;const W={slots:{transition:v,...x},slotProps:{transition:k,paper:b,..._}},[re,he]=Wt("transition",{elementType:Hre,externalForwardedProps:W,ownerState:R,getSlotProps:ye=>({...ye,onEntering:(De,Pe)=>{var ut;(ut=ye.onEntering)==null||ut.call(ye,De,Pe),Y()},onExited:De=>{var Pe;(Pe=ye.onExited)==null||Pe.call(ye,De),U()}}),additionalProps:{appear:!0,in:m}});S==="auto"&&!re.muiSupportAuto&&(B=void 0);const me=f||(o?wi(Gg(o)).body:void 0),[be,{slots:le,slotProps:Oe,...Ne}]=Wt("root",{ref:n,elementType:die,externalForwardedProps:{...W,...I},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:x.backdrop},slotProps:{backdrop:MJ(typeof _.backdrop=="function"?_.backdrop(R):_.backdrop,{invisible:!0})},container:me,open:m},ownerState:R,className:ve(y.root,u)}),[Re,Ee]=Wt("paper",{ref:T,className:y.paper,elementType:O4,externalForwardedProps:W,shouldForwardComponentProp:!0,additionalProps:{elevation:h,style:z?void 0:{opacity:0}},ownerState:R});return O.jsx(be,{...Ne,...!NE(be)&&{slots:le,slotProps:Oe,disableScrollLock:$},children:O.jsx(re,{...he,timeout:B,children:O.jsx(Re,{...Ee,children:c})})})}),hie=fie;function pie(t){return it("MuiMenu",t)}tt("MuiMenu",["root","paper","list"]);const gie={vertical:"top",horizontal:"right"},mie={vertical:"top",horizontal:"left"},yie=t=>{const{classes:e}=t;return ot({root:["root"],paper:["paper"],list:["list"]},pie,e)},vie=se(hie,{shouldForwardProp:t=>yo(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),_ie=se(O4,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),bie=se(lie,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),wie=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:s,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:c,open:u,PaperProps:f={},PopoverClasses:h,transitionDuration:p="auto",TransitionProps:{onEntering:m,...b}={},variant:x="selectedMenu",slots:_={},slotProps:w={},...v}=r,S=$0(),k={...r,autoFocus:i,disableAutoFocusItem:a,MenuListProps:l,onEntering:m,PaperProps:f,transitionDuration:p,TransitionProps:b,variant:x},$=yie(k),I=i&&!a&&u,T=E.useRef(null),R=(B,W)=>{T.current&&T.current.adjustStyleForScrollbar(B,{direction:S?"rtl":"ltr"}),m&&m(B,W)},y=B=>{B.key==="Tab"&&(B.preventDefault(),c&&c(B,"tabKeyDown"))};let P=-1;E.Children.map(o,(B,W)=>{E.isValidElement(B)&&(B.props.disabled||(x==="selectedMenu"&&B.props.selected||P===-1)&&(P=W))});const M={slots:_,slotProps:{list:l,transition:b,paper:f,...w}},A=id({elementType:_.root,externalSlotProps:w.root,ownerState:k,className:[$.root,s]}),[z,K]=Wt("paper",{className:$.paper,elementType:_ie,externalForwardedProps:M,shouldForwardComponentProp:!0,ownerState:k}),[j,Y]=Wt("list",{className:ve($.list,l.className),elementType:bie,shouldForwardComponentProp:!0,externalForwardedProps:M,getSlotProps:B=>({...B,onKeyDown:W=>{var re;y(W),(re=B.onKeyDown)==null||re.call(B,W)}}),ownerState:k}),U=typeof M.slotProps.transition=="function"?M.slotProps.transition(k):M.slotProps.transition;return O.jsx(vie,{onClose:c,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?gie:mie,slots:{root:_.root,paper:z,backdrop:_.backdrop,..._.transition&&{transition:_.transition}},slotProps:{root:A,paper:K,backdrop:typeof w.backdrop=="function"?w.backdrop(k):w.backdrop,transition:{...U,onEntering:(...B)=>{var W;R(...B),(W=U==null?void 0:U.onEntering)==null||W.call(U,...B)}}},open:u,ref:n,transitionDuration:p,ownerState:k,...v,classes:h,children:O.jsx(j,{actions:T,autoFocus:i&&(P===-1||a),autoFocusItem:I,variant:x,...Y,children:o})})}),Eie=wie;function xie(t){return it("MuiMenuItem",t)}const Sie=tt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),mf=Sie,Cie=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Tie=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=t,l=ot({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},xie,s);return{...s,...l}},Iie=se(sl,{shouldForwardProp:t=>yo(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Cie})(bt(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${mf.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${mf.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${mf.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${mf.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${mf.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${tk.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${tk.inset}`]:{marginLeft:52},[`& .${sk.root}`]:{marginTop:0,marginBottom:0},[`& .${sk.inset}`]:{paddingLeft:36},[`& .${ok.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${ok.root} svg`]:{fontSize:"1.25rem"}}}]}))),Rie=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:f,className:h,...p}=r,m=E.useContext(LE),b=E.useMemo(()=>({dense:s||m.dense||!1,disableGutters:l}),[m.dense,s,l]),x=E.useRef(null);jo(()=>{i&&x.current&&x.current.focus()},[i]);const _={...r,dense:b.dense,divider:a,disableGutters:l},w=Tie(r),v=dr(x,n);let S;return r.disabled||(S=f!==void 0?f:-1),O.jsx(LE.Provider,{value:b,children:O.jsx(Iie,{ref:v,role:u,tabIndex:S,component:o,focusVisibleClassName:ve(w.focusVisible,c),className:ve(w.root,h),...p,ownerState:_,classes:w})})}),Pa=Rie;function Pie(t){return it("MuiNativeSelect",t)}const Aie=tt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),rC=Aie,kie=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${oe(n)}`,o&&"iconOpen",r&&"disabled"]};return ot(a,Pie,e)},N4=se("select")(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${rC.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),Oie=se(N4,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:yo,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${rC.multiple}`]:e.multiple}]}})({}),$4=se("svg")(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${rC.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),Nie=se($4,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${oe(n.variant)}`],n.open&&e.iconOpen]}})({}),$ie=E.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard",...c}=e,u={...e,disabled:i,variant:l,error:o},f=kie(u);return O.jsxs(E.Fragment,{children:[O.jsx(Oie,{ownerState:u,className:ve(f.select,r),disabled:i,ref:a||n,...c}),e.multiple?null:O.jsx(Nie,{as:s,ownerState:u,className:f.icon})]})}),Mie=$ie;var dk;const Die=se("fieldset",{shouldForwardProp:yo})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Lie=se("legend",{shouldForwardProp:yo})(bt(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function Fie(t){const{children:e,classes:n,className:r,label:i,notched:o,...s}=t,a=i!=null&&i!=="",l={...t,notched:o,withLabel:a};return O.jsx(Die,{"aria-hidden":!0,className:r,ownerState:l,...s,children:O.jsx(Lie,{ownerState:l,children:a?O.jsx("span",{children:i}):dk||(dk=O.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const Bie=t=>{const{classes:e}=t,r=ot({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Rte,e);return{...e,...r}},Vie=se(B0,{shouldForwardProp:t=>yo(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:L0})(bt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Qi.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Qi.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Qi.focused} .${Qi.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(di()).map(([n])=>({props:{color:n},style:{[`&.${Qi.focused} .${Qi.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${Qi.error} .${Qi.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Qi.disabled} .${Qi.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),Uie=se(Fie,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(bt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),jie=se(V0,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:F0})(bt(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),M4=E.forwardRef(function(e,n){var r;const i=ct({props:e,name:"MuiOutlinedInput"}),{components:o={},fullWidth:s=!1,inputComponent:a="input",label:l,multiline:c=!1,notched:u,slots:f={},type:h="text",...p}=i,m=Bie(i),b=Od(),x=kd({props:i,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),_={...i,color:x.color||"primary",disabled:x.disabled,error:x.error,focused:x.focused,formControl:b,fullWidth:s,hiddenLabel:x.hiddenLabel,multiline:c,size:x.size,type:h},w=f.root??o.Root??Vie,v=f.input??o.Input??jie;return O.jsx(eC,{slots:{root:w,input:v},renderSuffix:S=>O.jsx(Uie,{ownerState:_,className:m.notchedOutline,label:l!=null&&l!==""&&x.required?r||(r=O.jsxs(E.Fragment,{children:[l,"","*"]})):l,notched:typeof u<"u"?u:!!(S.startAdornment||S.filled||S.focused)}),fullWidth:s,inputComponent:a,multiline:c,ref:n,type:h,...p,classes:{...m,notchedOutline:null}})});M4.muiName="Input";const D4=M4;function L4(t){return it("MuiSelect",t)}const yf=tt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var fk;const zie=se(N4,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${yf.select}`]:e.select},{[`&.${yf.select}`]:e[n.variant]},{[`&.${yf.error}`]:e.error},{[`&.${yf.multiple}`]:e.multiple}]}})({[`&.${yf.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Wie=se($4,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${oe(n.variant)}`],n.open&&e.iconOpen]}})({}),Hie=se("input",{shouldForwardProp:t=>i4(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function hk(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Gie(t){return t==null||typeof t=="string"&&!t.trim()}const qie=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${oe(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return ot(a,L4,e)},Kie=E.forwardRef(function(e,n){var ti;const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:s,children:a,className:l,defaultOpen:c,defaultValue:u,disabled:f,displayEmpty:h,error:p=!1,IconComponent:m,inputRef:b,labelId:x,MenuProps:_={},multiple:w,name:v,onBlur:S,onChange:k,onClose:$,onFocus:I,onOpen:T,open:R,readOnly:y,renderValue:P,required:M,SelectDisplayProps:A={},tabIndex:z,type:K,value:j,variant:Y="standard",...U}=e,[B,W]=sh({controlled:j,default:u,name:"Select"}),[re,he]=sh({controlled:R,default:c,name:"Select"}),me=E.useRef(null),be=E.useRef(null),[le,Oe]=E.useState(null),{current:Ne}=E.useRef(R!=null),[Re,Ee]=E.useState(),ye=dr(n,b),De=E.useCallback(we=>{be.current=we,we&&Oe(we)},[]),Pe=le==null?void 0:le.parentNode;E.useImperativeHandle(ye,()=>({focus:()=>{be.current.focus()},node:me.current,value:B}),[B]),E.useEffect(()=>{c&&re&&le&&!Ne&&(Ee(s?null:Pe.clientWidth),be.current.focus())},[le,s]),E.useEffect(()=>{o&&be.current.focus()},[o]),E.useEffect(()=>{if(!x)return;const we=wi(be.current).getElementById(x);if(we){const We=()=>{getSelection().isCollapsed&&be.current.focus()};return we.addEventListener("click",We),()=>{we.removeEventListener("click",We)}}},[x]);const ut=(we,We)=>{we?T&&T(We):$&&$(We),Ne||(Ee(s?null:Pe.clientWidth),he(we))},Be=we=>{we.button===0&&(we.preventDefault(),be.current.focus(),ut(!0,we))},Ue=we=>{ut(!1,we)},Nt=E.Children.toArray(a),de=we=>{const We=Nt.find(qt=>qt.props.value===we.target.value);We!==void 0&&(W(We.props.value),k&&k(we,We))},Ke=we=>We=>{let qt;if(We.currentTarget.hasAttribute("tabindex")){if(w){qt=Array.isArray(B)?B.slice():[];const Xn=B.indexOf(we.props.value);Xn===-1?qt.push(we.props.value):qt.splice(Xn,1)}else qt=we.props.value;if(we.props.onClick&&we.props.onClick(We),B!==qt&&(W(qt),k)){const Xn=We.nativeEvent||We,pr=new Xn.constructor(Xn.type,Xn);Object.defineProperty(pr,"target",{writable:!0,value:{value:qt,name:v}}),k(pr,we)}w||ut(!1,We)}},Me=we=>{y||[" ","ArrowUp","ArrowDown","Enter"].includes(we.key)&&(we.preventDefault(),ut(!0,we))},ft=le!==null&&re,Ye=we=>{!ft&&S&&(Object.defineProperty(we,"target",{writable:!0,value:{value:B,name:v}}),S(we))};delete U["aria-invalid"];let xe,sn;const ht=[];let an=!1;(Ly({value:B})||h)&&(P?xe=P(B):an=!0);const st=Nt.map(we=>{if(!E.isValidElement(we))return null;let We;if(w){if(!Array.isArray(B))throw new Error(ta(2));We=B.some(qt=>hk(qt,we.props.value)),We&&an&&ht.push(we.props.children)}else We=hk(B,we.props.value),We&&an&&(sn=we.props.children);return E.cloneElement(we,{"aria-selected":We?"true":"false",onClick:Ke(we),onKeyUp:qt=>{qt.key===" "&&qt.preventDefault(),we.props.onKeyUp&&we.props.onKeyUp(qt)},role:"option",selected:We,value:void 0,"data-value":we.props.value})});an&&(w?ht.length===0?xe=null:xe=ht.reduce((we,We,qt)=>(we.push(We),qt<ht.length-1&&we.push(", "),we),[]):xe=sn);let Ct=Re;!s&&Ne&&le&&(Ct=Pe.clientWidth);let gt;typeof z<"u"?gt=z:gt=f?null:0;const jt=A.id||(v?`mui-component-select-${v}`:void 0),at={...e,variant:Y,value:B,open:ft,error:p},Je=qie(at),Rn={..._.PaperProps,...(ti=_.slotProps)==null?void 0:ti.paper},mn=Id();return O.jsxs(E.Fragment,{children:[O.jsx(zie,{as:"div",ref:De,tabIndex:gt,role:"combobox","aria-controls":ft?mn:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":ft?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[x,jt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":M?"true":void 0,"aria-invalid":p?"true":void 0,onKeyDown:Me,onMouseDown:f||y?null:Be,onBlur:Ye,onFocus:I,...A,ownerState:at,className:ve(A.className,Je.select,l),id:jt,children:Gie(xe)?fk||(fk=O.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):xe}),O.jsx(Hie,{"aria-invalid":p,value:Array.isArray(B)?B.join(","):B,name:v,ref:me,"aria-hidden":!0,onChange:de,tabIndex:-1,disabled:f,className:Je.nativeInput,autoFocus:o,required:M,...U,ownerState:at}),O.jsx(Wie,{as:m,className:Je.icon,ownerState:at}),O.jsx(Eie,{id:`menu-${v||""}`,anchorEl:Pe,open:ft,onClose:Ue,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},..._,slotProps:{..._.slotProps,list:{"aria-labelledby":x,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:mn,..._.MenuListProps},paper:{...Rn,style:{minWidth:Ct,...Rn!=null?Rn.style:null}}},children:st})]})}),Yie=Kie,Xie=t=>{const{classes:e}=t,r=ot({root:["root"]},L4,e);return{...e,...r}},iC={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>yo(t)&&t!=="variant",slot:"Root"},Qie=se(A4,iC)(""),Jie=se(D4,iC)(""),Zie=se(R4,iC)(""),F4=E.forwardRef(function(e,n){const r=ct({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=E4,id:f,input:h,inputProps:p,label:m,labelId:b,MenuProps:x,multiple:_=!1,native:w=!1,onClose:v,onOpen:S,open:k,renderValue:$,SelectDisplayProps:I,variant:T="outlined",...R}=r,y=w?Mie:Yie,P=Od(),M=kd({props:r,muiFormControl:P,states:["variant","error"]}),A=M.variant||T,z={...r,variant:A,classes:s},K=Xie(z),{root:j,...Y}=K,U=h||{standard:O.jsx(Qie,{ownerState:z}),outlined:O.jsx(Jie,{label:m,ownerState:z}),filled:O.jsx(Zie,{ownerState:z})}[A],B=dr(n,Fp(U));return O.jsx(E.Fragment,{children:E.cloneElement(U,{inputComponent:y,inputProps:{children:o,error:M.error,IconComponent:u,variant:A,type:void 0,multiple:_,...w?{id:f}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:b,MenuProps:x,onClose:v,onOpen:S,open:k,renderValue:$,SelectDisplayProps:{id:f,...I}},...p,classes:p?Vr(Y,p.classes):Y,...h?h.props.inputProps:{}},...(_&&w||c)&&A==="outlined"?{notched:!0}:{},ref:B,className:ve(U.props.className,a,K.root),...!h&&{variant:A},...R})})});F4.muiName="Select";const oC=F4;function eoe(t){return it("MuiTab",t)}const toe=tt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),Yi=toe,noe=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:i,icon:o,label:s,selected:a,disabled:l}=t,c={root:["root",o&&s&&"labelIcon",`textColor${oe(n)}`,r&&"fullWidth",i&&"wrapped",a&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]};return ot(c,eoe,e)},roe=se(sl,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${oe(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped,{[`& .${Yi.iconWrapper}`]:e.iconWrapper},{[`& .${Yi.icon}`]:e.icon}]}})(bt(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="top",style:{[`& > .${Yi.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="bottom",style:{[`& > .${Yi.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="start",style:{[`& > .${Yi.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="end",style:{[`& > .${Yi.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Yi.selected}`]:{opacity:1},[`&.${Yi.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${Yi.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${Yi.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${Yi.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${Yi.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),ioe=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:s=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:u,label:f,onChange:h,onClick:p,onFocus:m,selected:b,selectionFollowsFocus:x,textColor:_="inherit",value:w,wrapped:v=!1,...S}=r,k={...r,disabled:o,disableFocusRipple:s,selected:b,icon:!!l,iconPosition:c,label:!!f,fullWidth:a,textColor:_,wrapped:v},$=noe(k),I=l&&f&&E.isValidElement(l)?E.cloneElement(l,{className:ve($.icon,l.props.className)}):l,T=y=>{!b&&h&&h(y,w),p&&p(y)},R=y=>{x&&!b&&h&&h(y,w),m&&m(y)};return O.jsxs(roe,{focusRipple:!s,className:ve($.root,i),ref:n,role:"tab","aria-selected":b,disabled:o,onClick:T,onFocus:R,ownerState:k,tabIndex:b?0:-1,...S,children:[c==="top"||c==="start"?O.jsxs(E.Fragment,{children:[I,f]}):O.jsxs(E.Fragment,{children:[f,I]}),u]})}),pk=ioe,ooe=hr(O.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),soe=hr(O.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function aoe(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function loe(t,e,n,r={},i=()=>{}){const{ease:o=aoe,duration:s=300}=r;let a=null;const l=e[t];let c=!1;const u=()=>{c=!0},f=h=>{if(c){i(new Error("Animation cancelled"));return}a===null&&(a=h);const p=Math.min(1,(h-a)/s);if(e[t]=o(p)*(n-l)+l,p>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(f)};return l===n?(i(new Error("Element already at target position")),u):(requestAnimationFrame(f),u)}const coe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function uoe(t){const{onChange:e,...n}=t,r=E.useRef(),i=E.useRef(null),o=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return jo(()=>{const s=N0(()=>{const l=r.current;o(),l!==r.current&&e(r.current)}),a=zo(i.current);return a.addEventListener("resize",s),()=>{s.clear(),a.removeEventListener("resize",s)}},[e]),E.useEffect(()=>{o(),e(r.current)},[e]),O.jsx("div",{style:coe,...n,ref:i})}function doe(t){return it("MuiTabScrollButton",t)}const foe=tt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),hoe=foe,poe=t=>{const{classes:e,orientation:n,disabled:r}=t;return ot({root:["root",n,r&&"disabled"]},doe,e)},goe=se(sl,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${hoe.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),moe=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiTabScrollButton"}),{className:i,slots:o={},slotProps:s={},direction:a,orientation:l,disabled:c,...u}=r,f=$0(),h={isRtl:f,...r},p=poe(h),m=o.StartScrollButtonIcon??ooe,b=o.EndScrollButtonIcon??soe,x=id({elementType:m,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h}),_=id({elementType:b,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h});return O.jsx(goe,{component:"div",className:ve(p.root,i),ref:n,role:null,ownerState:h,tabIndex:null,...u,style:{...u.style,...l==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${f?-90:90}deg)`}},children:a==="left"?O.jsx(m,{...x}):O.jsx(b,{..._})})}),yoe=moe;function voe(t){return it("MuiTabs",t)}const _oe=tt("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),bb=_oe,gk=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,mk=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,qg=(t,e,n)=>{let r=!1,i=n(t,e);for(;i;){if(i===t.firstChild){if(r)return;r=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=n(t,i);else{i.focus();return}}},boe=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:s,scrollButtonsHideMobile:a,classes:l}=t;return ot({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},voe,l)},woe=se("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${bb.scrollButtons}`]:e.scrollButtons},{[`& .${bb.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(bt(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${bb.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),Eoe=se("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),xoe=se("div",{name:"MuiTabs",slot:"List",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.list,e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),Soe=se("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(bt(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),Coe=se(uoe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),yk={},Toe=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiTabs"}),i=Pd(),o=$0(),{"aria-label":s,"aria-labelledby":a,action:l,centered:c=!1,children:u,className:f,component:h="div",allowScrollButtonsMobile:p=!1,indicatorColor:m="primary",onChange:b,orientation:x="horizontal",ScrollButtonComponent:_,scrollButtons:w="auto",selectionFollowsFocus:v,slots:S={},slotProps:k={},TabIndicatorProps:$={},TabScrollButtonProps:I={},textColor:T="primary",value:R,variant:y="standard",visibleScrollbar:P=!1,...M}=r,A=y==="scrollable",z=x==="vertical",K=z?"scrollTop":"scrollLeft",j=z?"top":"left",Y=z?"bottom":"right",U=z?"clientHeight":"clientWidth",B=z?"height":"width",W={...r,component:h,allowScrollButtonsMobile:p,indicatorColor:m,orientation:x,vertical:z,scrollButtons:w,textColor:T,variant:y,visibleScrollbar:P,fixed:!A,hideScrollbar:A&&!P,scrollableX:A&&!z,scrollableY:A&&z,centered:c&&!A,scrollButtonsHideMobile:!p},re=boe(W),he=id({elementType:S.StartScrollButtonIcon,externalSlotProps:k.startScrollButtonIcon,ownerState:W}),me=id({elementType:S.EndScrollButtonIcon,externalSlotProps:k.endScrollButtonIcon,ownerState:W}),[be,le]=E.useState(!1),[Oe,Ne]=E.useState(yk),[Re,Ee]=E.useState(!1),[ye,De]=E.useState(!1),[Pe,ut]=E.useState(!1),[Be,Ue]=E.useState({overflow:"hidden",scrollbarWidth:0}),Nt=new Map,de=E.useRef(null),Ke=E.useRef(null),Me={slots:S,slotProps:{indicator:$,scrollButton:I,...k}},ft=()=>{const ge=de.current;let _e;if(ge){const lt=ge.getBoundingClientRect();_e={clientWidth:ge.clientWidth,scrollLeft:ge.scrollLeft,scrollTop:ge.scrollTop,scrollWidth:ge.scrollWidth,top:lt.top,bottom:lt.bottom,left:lt.left,right:lt.right}}let $e;if(ge&&R!==!1){const lt=Ke.current.children;if(lt.length>0){const Pt=lt[Nt.get(R)];$e=Pt?Pt.getBoundingClientRect():null}}return{tabsMeta:_e,tabMeta:$e}},Ye=ui(()=>{const{tabsMeta:ge,tabMeta:_e}=ft();let $e=0,lt;z?(lt="top",_e&&ge&&($e=_e.top-ge.top+ge.scrollTop)):(lt=o?"right":"left",_e&&ge&&($e=(o?-1:1)*(_e[lt]-ge[lt]+ge.scrollLeft)));const Pt={[lt]:$e,[B]:_e?_e[B]:0};if(typeof Oe[lt]!="number"||typeof Oe[B]!="number")Ne(Pt);else{const xn=Math.abs(Oe[lt]-Pt[lt]),zr=Math.abs(Oe[B]-Pt[B]);(xn>=1||zr>=1)&&Ne(Pt)}}),xe=(ge,{animation:_e=!0}={})=>{_e?loe(K,de.current,ge,{duration:i.transitions.duration.standard}):de.current[K]=ge},sn=ge=>{let _e=de.current[K];z?_e+=ge:_e+=ge*(o?-1:1),xe(_e)},ht=()=>{const ge=de.current[U];let _e=0;const $e=Array.from(Ke.current.children);for(let lt=0;lt<$e.length;lt+=1){const Pt=$e[lt];if(_e+Pt[U]>ge){lt===0&&(_e=ge);break}_e+=Pt[U]}return _e},an=()=>{sn(-1*ht())},st=()=>{sn(ht())},[Ct,{onChange:gt,...jt}]=Wt("scrollbar",{className:ve(re.scrollableX,re.hideScrollbar),elementType:Coe,shouldForwardComponentProp:!0,externalForwardedProps:Me,ownerState:W}),at=E.useCallback(ge=>{gt==null||gt(ge),Ue({overflow:null,scrollbarWidth:ge})},[gt]),[Je,Rn]=Wt("scrollButtons",{className:ve(re.scrollButtons,I.className),elementType:yoe,externalForwardedProps:Me,ownerState:W,additionalProps:{orientation:x,slots:{StartScrollButtonIcon:S.startScrollButtonIcon||S.StartScrollButtonIcon,EndScrollButtonIcon:S.endScrollButtonIcon||S.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:he,endScrollButtonIcon:me}}}),mn=()=>{const ge={};ge.scrollbarSizeListener=A?O.jsx(Ct,{...jt,onChange:at}):null;const $e=A&&(w==="auto"&&(Re||ye)||w===!0);return ge.scrollButtonStart=$e?O.jsx(Je,{direction:o?"right":"left",onClick:an,disabled:!Re,...Rn}):null,ge.scrollButtonEnd=$e?O.jsx(Je,{direction:o?"left":"right",onClick:st,disabled:!ye,...Rn}):null,ge},ti=ui(ge=>{const{tabsMeta:_e,tabMeta:$e}=ft();if(!(!$e||!_e)){if($e[j]<_e[j]){const lt=_e[K]+($e[j]-_e[j]);xe(lt,{animation:ge})}else if($e[Y]>_e[Y]){const lt=_e[K]+($e[Y]-_e[Y]);xe(lt,{animation:ge})}}}),we=ui(()=>{A&&w!==!1&&ut(!Pe)});E.useEffect(()=>{const ge=N0(()=>{de.current&&Ye()});let _e;const $e=xn=>{xn.forEach(zr=>{zr.removedNodes.forEach(Ci=>{_e==null||_e.unobserve(Ci)}),zr.addedNodes.forEach(Ci=>{_e==null||_e.observe(Ci)})}),ge(),we()},lt=zo(de.current);lt.addEventListener("resize",ge);let Pt;return typeof ResizeObserver<"u"&&(_e=new ResizeObserver(ge),Array.from(Ke.current.children).forEach(xn=>{_e.observe(xn)})),typeof MutationObserver<"u"&&(Pt=new MutationObserver($e),Pt.observe(Ke.current,{childList:!0})),()=>{ge.clear(),lt.removeEventListener("resize",ge),Pt==null||Pt.disconnect(),_e==null||_e.disconnect()}},[Ye,we]),E.useEffect(()=>{const ge=Array.from(Ke.current.children),_e=ge.length;if(typeof IntersectionObserver<"u"&&_e>0&&A&&w!==!1){const $e=ge[0],lt=ge[_e-1],Pt={root:de.current,threshold:.99},xn=vn=>{Ee(!vn[0].isIntersecting)},zr=new IntersectionObserver(xn,Pt);zr.observe($e);const Ci=vn=>{De(!vn[0].isIntersecting)},yr=new IntersectionObserver(Ci,Pt);return yr.observe(lt),()=>{zr.disconnect(),yr.disconnect()}}},[A,w,Pe,u==null?void 0:u.length]),E.useEffect(()=>{le(!0)},[]),E.useEffect(()=>{Ye()}),E.useEffect(()=>{ti(yk!==Oe)},[ti,Oe]),E.useImperativeHandle(l,()=>({updateIndicator:Ye,updateScrollButtons:we}),[Ye,we]);const[We,qt]=Wt("indicator",{className:ve(re.indicator,$.className),elementType:Soe,externalForwardedProps:Me,ownerState:W,additionalProps:{style:Oe}}),Xn=O.jsx(We,{...qt});let pr=0;const yn=E.Children.map(u,ge=>{if(!E.isValidElement(ge))return null;const _e=ge.props.value===void 0?pr:ge.props.value;Nt.set(_e,pr);const $e=_e===R;return pr+=1,E.cloneElement(ge,{fullWidth:y==="fullWidth",indicator:$e&&!be&&Xn,selected:$e,selectionFollowsFocus:v,onChange:b,textColor:T,value:_e,...pr===1&&R===!1&&!ge.props.tabIndex?{tabIndex:0}:{}})}),gr=ge=>{if(ge.altKey||ge.shiftKey||ge.ctrlKey||ge.metaKey)return;const _e=Ke.current,$e=wi(_e).activeElement;if($e.getAttribute("role")!=="tab")return;let Pt=x==="horizontal"?"ArrowLeft":"ArrowUp",xn=x==="horizontal"?"ArrowRight":"ArrowDown";switch(x==="horizontal"&&o&&(Pt="ArrowRight",xn="ArrowLeft"),ge.key){case Pt:ge.preventDefault(),qg(_e,$e,mk);break;case xn:ge.preventDefault(),qg(_e,$e,gk);break;case"Home":ge.preventDefault(),qg(_e,null,gk);break;case"End":ge.preventDefault(),qg(_e,null,mk);break}},En=mn(),[ni,rr]=Wt("root",{ref:n,className:ve(re.root,f),elementType:woe,externalForwardedProps:{...Me,...M,component:h},ownerState:W}),[Ir,zn]=Wt("scroller",{ref:de,className:re.scroller,elementType:Eoe,externalForwardedProps:Me,ownerState:W,additionalProps:{style:{overflow:Be.overflow,[z?`margin${o?"Left":"Right"}`:"marginBottom"]:P?void 0:-Be.scrollbarWidth}}}),[mr,Go]=Wt("list",{ref:Ke,className:ve(re.list,re.flexContainer),elementType:xoe,externalForwardedProps:Me,ownerState:W,getSlotProps:ge=>({...ge,onKeyDown:_e=>{var $e;gr(_e),($e=ge.onKeyDown)==null||$e.call(ge,_e)}})});return O.jsxs(ni,{...rr,children:[En.scrollButtonStart,En.scrollbarSizeListener,O.jsxs(Ir,{...zn,children:[O.jsx(mr,{"aria-label":s,"aria-labelledby":a,"aria-orientation":x==="vertical"?"vertical":null,role:"tablist",...Go,children:yn}),be&&Xn]}),En.scrollButtonEnd]})}),Ioe=Toe;function Roe(t){return it("MuiTextField",t)}tt("MuiTextField",["root"]);const Poe={standard:A4,filled:R4,outlined:D4},Aoe=t=>{const{classes:e}=t;return ot({root:["root"]},Roe,e)},koe=se(tC,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Ooe=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:f=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:m,id:b,InputLabelProps:x,inputProps:_,InputProps:w,inputRef:v,label:S,maxRows:k,minRows:$,multiline:I=!1,name:T,onBlur:R,onChange:y,onFocus:P,placeholder:M,required:A=!1,rows:z,select:K=!1,SelectProps:j,slots:Y={},slotProps:U={},type:B,value:W,variant:re="outlined",...he}=r,me={...r,autoFocus:o,color:l,disabled:u,error:f,fullWidth:p,multiline:I,required:A,select:K,variant:re},be=Aoe(me),le=Id(b),Oe=m&&le?`${le}-helper-text`:void 0,Ne=S&&le?`${le}-label`:void 0,Re=Poe[re],Ee={slots:Y,slotProps:{input:w,inputLabel:x,htmlInput:_,formHelperText:h,select:j,...U}},ye={},De=Ee.slotProps.inputLabel;re==="outlined"&&(De&&typeof De.shrink<"u"&&(ye.notched=De.shrink),ye.label=S),K&&((!j||!j.native)&&(ye.id=void 0),ye["aria-describedby"]=void 0);const[Pe,ut]=Wt("root",{elementType:koe,shouldForwardComponentProp:!0,externalForwardedProps:{...Ee,...he},ownerState:me,className:ve(be.root,a),ref:n,additionalProps:{disabled:u,error:f,fullWidth:p,required:A,color:l,variant:re}}),[Be,Ue]=Wt("input",{elementType:Re,externalForwardedProps:Ee,additionalProps:ye,ownerState:me}),[Nt,de]=Wt("inputLabel",{elementType:nC,externalForwardedProps:Ee,ownerState:me}),[Ke,Me]=Wt("htmlInput",{elementType:"input",externalForwardedProps:Ee,ownerState:me}),[ft,Ye]=Wt("formHelperText",{elementType:Mre,externalForwardedProps:Ee,ownerState:me}),[xe,sn]=Wt("select",{elementType:oC,externalForwardedProps:Ee,ownerState:me}),ht=O.jsx(Be,{"aria-describedby":Oe,autoComplete:i,autoFocus:o,defaultValue:c,fullWidth:p,multiline:I,name:T,rows:z,maxRows:k,minRows:$,type:B,value:W,id:le,inputRef:v,onBlur:R,onChange:y,onFocus:P,placeholder:M,inputProps:Me,slots:{input:Y.htmlInput?Ke:void 0},...Ue});return O.jsxs(Pe,{...ut,children:[S!=null&&S!==""&&O.jsx(Nt,{htmlFor:le,id:Ne,...de,children:S}),K?O.jsx(xe,{"aria-describedby":Oe,id:le,labelId:Ne,value:W,input:ht,...sn,children:s}):ht,m&&O.jsx(ft,{id:Oe,...Ye,children:m})]})}),cd=Ooe;function Noe(t){return it("MuiToggleButton",t)}const $oe=tt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),Bl=$oe,Moe=E.createContext({}),B4=Moe,Doe=E.createContext(void 0),V4=Doe;function Loe(t,e){return e===void 0||t===void 0?!1:Array.isArray(e)?e.includes(t):t===e}const Foe=t=>{const{classes:e,fullWidth:n,selected:r,disabled:i,size:o,color:s}=t,a={root:["root",r&&"selected",i&&"disabled",n&&"fullWidth",`size${oe(o)}`,s]};return ot(a,Noe,e)},Boe=se(sl,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`size${oe(n.size)}`]]}})(bt(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${Bl.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${Bl.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette.text.primary,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ot(t.palette.text.primary,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette.text.primary,t.palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(di()).map(([e])=>({props:{color:e},style:{[`&.${Bl.selected}`]:{color:(t.vars||t).palette[e].main,backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette[e].main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ot(t.palette[e].main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette[e].main,t.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),Voe=E.forwardRef(function(e,n){const{value:r,...i}=E.useContext(B4),o=E.useContext(V4),s=rd({...i,selected:Loe(e.value,r)},e),a=ct({props:s,name:"MuiToggleButton"}),{children:l,className:c,color:u="standard",disabled:f=!1,disableFocusRipple:h=!1,fullWidth:p=!1,onChange:m,onClick:b,selected:x,size:_="medium",value:w,...v}=a,S={...a,color:u,disabled:f,disableFocusRipple:h,fullWidth:p,size:_},k=Foe(S),$=T=>{b&&(b(T,w),T.defaultPrevented)||m&&m(T,w)},I=o||"";return O.jsx(Boe,{className:ve(i.className,k.root,c,I),disabled:f,focusRipple:!h,ref:n,onClick:$,onChange:m,value:w,ownerState:S,"aria-pressed":x,...v,children:l})}),Lc=Voe;function Uoe(t){return it("MuiToggleButtonGroup",t)}const joe=tt("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),cn=joe,zoe=t=>{const{classes:e,orientation:n,fullWidth:r,disabled:i}=t,o={root:["root",n,r&&"fullWidth"],grouped:["grouped",`grouped${oe(n)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return ot(o,Uoe,e)},Woe=se("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${cn.grouped}`]:e.grouped},{[`& .${cn.grouped}`]:e[`grouped${oe(n.orientation)}`]},{[`& .${cn.firstButton}`]:e.firstButton},{[`& .${cn.lastButton}`]:e.lastButton},{[`& .${cn.middleButton}`]:e.middleButton},e.root,n.orientation==="vertical"&&e.vertical,n.fullWidth&&e.fullWidth]}})(bt(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${cn.grouped}`]:{[`&.${cn.selected} + .${cn.grouped}.${cn.selected}`]:{borderTop:0,marginTop:0}},[`& .${cn.firstButton},& .${cn.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${cn.lastButton},& .${cn.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${cn.lastButton}.${Bl.disabled},& .${cn.middleButton}.${Bl.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${cn.grouped}`]:{[`&.${cn.selected} + .${cn.grouped}.${cn.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${cn.firstButton},& .${cn.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${cn.lastButton},& .${cn.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${cn.lastButton}.${Bl.disabled},& .${cn.middleButton}.${Bl.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),Hoe=E.forwardRef(function(e,n){const r=ct({props:e,name:"MuiToggleButtonGroup"}),{children:i,className:o,color:s="standard",disabled:a=!1,exclusive:l=!1,fullWidth:c=!1,onChange:u,orientation:f="horizontal",size:h="medium",value:p,...m}=r,b={...r,disabled:a,fullWidth:c,orientation:f,size:h},x=zoe(b),_=E.useCallback((I,T)=>{if(!u)return;const R=p&&p.indexOf(T);let y;p&&R>=0?(y=p.slice(),y.splice(R,1)):y=p?p.concat(T):[T],u(I,y)},[u,p]),w=E.useCallback((I,T)=>{u&&u(I,p===T?null:T)},[u,p]),v=E.useMemo(()=>({className:x.grouped,onChange:l?w:_,value:p,size:h,fullWidth:c,color:s,disabled:a}),[x.grouped,l,w,_,p,h,c,s,a]),S=fQ(i),k=S.length,$=I=>{const T=I===0,R=I===k-1;return T&&R?"":T?x.firstButton:R?x.lastButton:x.middleButton};return O.jsx(Woe,{role:"group",className:ve(x.root,o),ref:n,ownerState:b,...m,children:O.jsx(B4.Provider,{value:v,children:S.map((I,T)=>O.jsx(V4.Provider,{value:$(T),children:I},T))})})}),vk=Hoe,Goe=()=>{const[t,e]=E.useState(0),[n,r]=E.useState(""),[i,o]=E.useState(""),[s,a]=E.useState(""),l=Cv(),c=(h,p)=>{e(p),a("")},u=async h=>{h.preventDefault(),a("");try{t===0?await AW(Hl,n,i):await PW(Hl,n,i),l("/dashboard")}catch(p){a(p.message)}},f=async()=>{const h=new Ns;try{await ZW(Hl,h),l("/dashboard")}catch(p){a(p.message)}};return O.jsx(One,{maxWidth:"sm",sx:{backgroundColor:"#121212",minHeight:"100vh",width:"100%",display:"flex",alignItems:"center"},children:O.jsxs($a,{sx:{mt:8,p:4,backgroundColor:"#424242",borderRadius:2,boxShadow:3,color:"#fff"},children:[O.jsxs(Ioe,{value:t,onChange:c,variant:"fullWidth",textColor:"inherit",indicatorColor:"primary",children:[O.jsx(pk,{label:"Login"}),O.jsx(pk,{label:"Signup"})]}),O.jsxs("form",{onSubmit:u,children:[O.jsx(cd,{margin:"normal",fullWidth:!0,label:"Email",type:"email",value:n,onChange:h=>r(h.target.value),required:!0,variant:"filled",InputLabelProps:{style:{color:"#fff"}},InputProps:{style:{backgroundColor:"#333",color:"#fff"}}}),O.jsx(cd,{margin:"normal",fullWidth:!0,label:"Password",type:"password",value:i,onChange:h=>o(h.target.value),required:!0,variant:"filled",InputLabelProps:{style:{color:"#fff"}},InputProps:{style:{backgroundColor:"#333",color:"#fff"}}}),s&&O.jsx(no,{color:"error",variant:"body2",children:s}),O.jsx(Hn,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:2,backgroundColor:"#1976d2"},children:t===0?"Login":"Signup"})]}),O.jsxs($a,{textAlign:"center",sx:{mt:2},children:[O.jsx(no,{variant:"body1",children:"or"}),O.jsx(Hn,{variant:"outlined",onClick:f,sx:{mt:1,color:"#fff",borderColor:"#fff"},children:"Sign in with Google"})]})]})})},qoe=hr(O.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),Koe=hr(O.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),Yoe=hr(O.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"})),Xoe={blank:[],brainstorm:[{text:"Idea 1",x:150,y:150},{text:"Idea 2",x:300,y:150},{text:"Idea 3",x:150,y:300}],project:[{text:"Goal",x:150,y:100},{text:"Task 1",x:100,y:200},{text:"Task 2",x:200,y:200}]},Qoe=()=>{const[t,e]=E.useState([]),[n,r]=E.useState(null),[i,o]=E.useState(!1),[s,a]=E.useState(!1),[l,c]=E.useState(!1),[u,f]=E.useState(""),[h,p]=E.useState("blank"),[m,b]=E.useState(!1),[x,_]=E.useState(null),[w,v]=E.useState(""),S=Cv(),k=E.useRef(null);E.useEffect(()=>{const Y=Hl.onAuthStateChanged(U=>{if(!U){S("/");return}const B=Xi(kt(Ae,"mindMaps"),ks("userId","==",U.uid)),W=Xi(kt(Ae,"mindMaps"),ks("collaborators","array-contains",U.email)),re=rh(B,me=>{const be=me.docs.map(le=>({id:le.id,...le.data()}));e(le=>[...be,...le.filter(Ne=>Ne.userId!==U.uid)])}),he=rh(W,me=>{const be=me.docs.map(le=>({id:le.id,...le.data()}));e(le=>[...le,...be].filter((Re,Ee,ye)=>Ee===ye.findIndex(De=>De.id===Re.id)))});return()=>{re(),he()}});return()=>Y()},[S]);const $=()=>{c(!0)},I=async()=>{const Y=Hl.currentUser;if(Y)try{const U=await Mr(kt(Ae,"mindMaps"),{title:u||"Untitled Mind Map",userId:Y.uid,createdAt:Ty()}),B=Xoe[h];for(const W of B)await Mr(kt(Ae,"mindMaps",U.id,"nodes"),W);c(!1),f(""),p("blank"),S(`/editor/${U.id}`)}catch(U){console.error("Error creating mind map:",U)}},T=Y=>{r(Y),o(!0)},R=()=>{o(!1),a(!0)},y=async()=>{try{await gE(Nn(Ae,"mindMaps",n)),a(!1),r(null)}catch(Y){console.error("Error deleting mind map:",Y)}},P=()=>{o(!1),a(!1),r(null)},M=Y=>{_(Y),b(!0)},A=async()=>{if(!(!w.trim()||!x))try{const Y=Nn(Ae,"mindMaps",x);await zc(Y,{collaborators:JG(w.trim())}),v(""),b(!1),_(null)}catch(Y){console.error("Error sharing mind map:",Y)}},z=Y=>{S(`/editor/${Y}`)},K=()=>{k.current&&k.current.click()},j=async Y=>{const U=Y.target.files[0];if(U)try{const B=await U.text(),W=JSON.parse(B);if(!W.nodes||!W.links)throw new Error("Invalid file format");const re=Hl.currentUser,he=await Mr(kt(Ae,"mindMaps"),{title:U.name,userId:re.uid,createdAt:Ty()}),me={},be=Io(Ae);W.nodes.forEach(Oe=>{const Ne=Oe.id,Re=Nn(kt(Ae,"mindMaps",he.id,"nodes")),Ee={...Oe,id:Re.id};be.set(Re,Ee),me[Ne]=Re.id}),await be.commit();const le=Io(Ae);W.links.forEach(Oe=>{const Ne=me[Oe.source],Re=me[Oe.target];if(!Ne||!Re){console.error("Skipping link: missing mapping for source or target");return}const{id:Ee,...ye}=Oe,De=Nn(kt(Ae,"mindMaps",he.id,"links"));le.set(De,{...ye,source:Ne,target:Re})}),await le.commit(),S(`/editor/${he.id}`)}catch(B){console.error("Error importing mind map:",B)}};return O.jsxs($a,{sx:{p:2,backgroundColor:"#121212",minHeight:"100vh",color:"#fff",border:"5px solid #262626"},children:[O.jsxs($a,{sx:{mb:2},children:[O.jsx(Hn,{variant:"contained",startIcon:O.jsx(Koe,{}),onClick:$,sx:{mr:2},children:"New Mind Map"}),O.jsx(Hn,{variant:"contained",onClick:K,sx:{mr:1},children:"Import Mind Map"})]}),O.jsx(ik,{container:!0,spacing:2,sx:{mt:2,margin:"100px 100px 100px 100px"},children:t.map(Y=>O.jsx(ik,{item:!0,xs:12,sm:6,md:4,children:O.jsxs(bne,{sx:{backgroundColor:"#262626",color:"#fff",padding:"20px 20px 20px 20px",borderRadius:"10px",border:"2px solid black",boxShadow:"0 1px 10px 2px rgba(360, 360,360, 0.5)"},children:[O.jsx(Ane,{onClick:()=>z(Y.id),sx:{cursor:"pointer"},children:O.jsx(no,{variant:"h6",sx:{fontWeight:"900"},children:Y.title})}),O.jsxs(Cne,{sx:{border:"0px solid white",background:"#262626",color:"#fff",borderRadius:"10%"},children:[O.jsx(My,{onClick:()=>M(Y.id),color:"primary",children:O.jsx(Yoe,{})}),O.jsx(My,{onClick:()=>T(Y.id),color:"error",children:O.jsx(qoe,{})})]})]})},Y.id))}),O.jsx("input",{type:"file",accept:"application/json",ref:k,style:{display:"none"},onChange:j}),O.jsxs(jg,{open:l,onClose:()=>c(!1),PaperProps:{sx:{backgroundColor:"#424242",color:"#fff"}},children:[O.jsx(Hg,{children:"Create New Mind Map"}),O.jsxs(Wg,{children:[O.jsx(cd,{autoFocus:!0,margin:"dense",label:"Mind Map Name",type:"text",fullWidth:!0,value:u,onChange:Y=>f(Y.target.value),variant:"filled",InputLabelProps:{style:{color:"#fff"}},sx:{backgroundColor:"#555"}}),O.jsxs(tC,{fullWidth:!0,margin:"dense",variant:"filled",children:[O.jsx(nC,{id:"template-select-label",sx:{color:"#fff"},children:"Template"}),O.jsxs(oC,{labelId:"template-select-label",value:h,label:"Template",onChange:Y=>p(Y.target.value),sx:{backgroundColor:"#555",color:"#fff"},children:[O.jsx(Pa,{value:"blank",children:"Blank"}),O.jsx(Pa,{value:"brainstorm",children:"Brainstorm"}),O.jsx(Pa,{value:"project",children:"Project"})]})]})]}),O.jsxs(zg,{children:[O.jsx(Hn,{onClick:()=>c(!1),sx:{color:"#fff"},children:"Cancel"}),O.jsx(Hn,{onClick:I,variant:"contained",children:"Create"})]})]}),O.jsxs(jg,{open:i,onClose:P,PaperProps:{sx:{backgroundColor:"#424242",color:"#fff"}},children:[O.jsx(Hg,{children:"Confirm Delete"}),O.jsx(Wg,{children:O.jsx(no,{children:"Are you sure you want to delete this mind map?"})}),O.jsxs(zg,{children:[O.jsx(Hn,{onClick:P,sx:{color:"#fff"},children:"Cancel"}),O.jsx(Hn,{onClick:R,color:"primary",children:"Yes"})]})]}),O.jsxs(jg,{open:s,onClose:P,PaperProps:{sx:{backgroundColor:"#424242",color:"#fff"}},children:[O.jsx(Hg,{children:"Confirm Delete Again"}),O.jsx(Wg,{children:O.jsx(no,{children:"This action cannot be undone. Are you really sure?"})}),O.jsxs(zg,{children:[O.jsx(Hn,{onClick:P,sx:{color:"#fff"},children:"Cancel"}),O.jsx(Hn,{onClick:y,color:"error",children:"Delete"})]})]}),O.jsxs(jg,{open:m,onClose:()=>b(!1),PaperProps:{sx:{backgroundColor:"#424242",color:"#fff"}},children:[O.jsx(Hg,{children:"Share Mind Map"}),O.jsx(Wg,{children:O.jsx(cd,{label:"Collaborator Email",fullWidth:!0,value:w,onChange:Y=>v(Y.target.value),variant:"filled",InputLabelProps:{style:{color:"#fff"}},sx:{backgroundColor:"#555"}})}),O.jsxs(zg,{children:[O.jsx(Hn,{onClick:()=>b(!1),sx:{color:"#fff"},children:"Cancel"}),O.jsx(Hn,{onClick:A,variant:"contained",children:"Share"})]})]})]})};var U4="Expected a function",_k=0/0,Joe="[object Symbol]",Zoe=/^\s+|\s+$/g,ese=/^[-+]0x[0-9a-f]+$/i,tse=/^0b[01]+$/i,nse=/^0o[0-7]+$/i,rse=parseInt,ise=typeof Aa=="object"&&Aa&&Aa.Object===Object&&Aa,ose=typeof self=="object"&&self&&self.Object===Object&&self,sse=ise||ose||Function("return this")(),ase=Object.prototype,lse=ase.toString,cse=Math.max,use=Math.min,wb=function(){return sse.Date.now()};function dse(t,e,n){var r,i,o,s,a,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(U4);e=bk(e)||0,Fy(n)&&(u=!!n.leading,f="maxWait"in n,o=f?cse(bk(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p($){var I=r,T=i;return r=i=void 0,c=$,s=t.apply(T,I),s}function m($){return c=$,a=setTimeout(_,e),u?p($):s}function b($){var I=$-l,T=$-c,R=e-I;return f?use(R,o-T):R}function x($){var I=$-l,T=$-c;return l===void 0||I>=e||I<0||f&&T>=o}function _(){var $=wb();if(x($))return w($);a=setTimeout(_,b($))}function w($){return a=void 0,h&&r?p($):(r=i=void 0,s)}function v(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function S(){return a===void 0?s:w(wb())}function k(){var $=wb(),I=x($);if(r=arguments,i=this,l=$,I){if(a===void 0)return m(l);if(f)return a=setTimeout(_,e),p(l)}return a===void 0&&(a=setTimeout(_,e)),s}return k.cancel=v,k.flush=S,k}function fse(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(U4);return Fy(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),dse(t,e,{leading:r,maxWait:e,trailing:i})}function Fy(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function hse(t){return!!t&&typeof t=="object"}function pse(t){return typeof t=="symbol"||hse(t)&&lse.call(t)==Joe}function bk(t){if(typeof t=="number")return t;if(pse(t))return _k;if(Fy(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Fy(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Zoe,"");var n=tse.test(t);return n||nse.test(t)?rse(t.slice(2),n?2:8):ese.test(t)?_k:+t}var gse=fse;const Kg=op(gse);var wk={};const Ek="@firebase/database",xk="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j4="";function mse(t){j4=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yse{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),cr(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:$h(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vse{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return aa(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new yse(e)}}catch{}return new vse},Vl=z4("localStorage"),FE=z4("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=new Av("@firebase/database"),_se=function(){let t=1;return function(){return t++}}(),W4=function(t){const e=b9(t),n=new m9;n.update(e);const r=n.digest();return hx.encodeByteArray(r)},Up=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Up.apply(null,r):typeof r=="object"?e+=cr(r):e+=r,e+=" "}return e};let ql=null,Sk=!0;const bse=function(t,e){ae(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Mu.logLevel=xt.VERBOSE,ql=Mu.log.bind(Mu),e&&FE.set("logging_enabled",!0)):typeof t=="function"?ql=t:(ql=null,FE.remove("logging_enabled"))},Br=function(...t){if(Sk===!0&&(Sk=!1,ql===null&&FE.get("logging_enabled")===!0&&bse(!0)),ql){const e=Up.apply(null,t);ql(e)}},jp=function(t){return function(...e){Br(t,...e)}},BE=function(...t){const e="FIREBASE INTERNAL ERROR: "+Up(...t);Mu.error(e)},ia=function(...t){const e=`FIREBASE FATAL ERROR: ${Up(...t)}`;throw Mu.error(e),new Error(e)},_i=function(...t){const e="FIREBASE WARNING: "+Up(...t);Mu.warn(e)},wse=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&_i("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},H4=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Ese=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ud="[MIN_NAME]",oc="[MAX_NAME]",Nd=function(t,e){if(t===e)return 0;if(t===ud||e===oc)return-1;if(e===ud||t===oc)return 1;{const n=Ck(t),r=Ck(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},xse=function(t,e){return t===e?0:t<e?-1:1},vf=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+cr(e))},sC=function(t){if(typeof t!="object"||t===null)return cr(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=cr(e[r]),n+=":",n+=sC(t[e[r]]);return n+="}",n},G4=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ei(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const q4=function(t){ae(!H4(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();const u=c.join("");let f="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},Sse=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Cse=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Tse(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Ise=new RegExp("^-?(0*)\\d{1,10}$"),Rse=-2147483648,Pse=2147483647,Ck=function(t){if(Ise.test(t)){const e=Number(t);if(e>=Rse&&e<=Pse)return e}return null},$d=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw _i("Exception was thrown by user callback.",n),e},Math.floor(0))}},Ase=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},dh=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kse{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Yr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){_i(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ose{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Br("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',_i(e)}}class Du{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Du.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="5",K4="v",Y4="s",X4="r",Q4="f",J4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Z4="ls",e5="p",VE="ac",t5="websocket",n5="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Vl.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Vl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Nse(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function i5(t,e,n){ae(typeof e=="string","typeof type must == string"),ae(typeof n=="object","typeof params must == object");let r;if(e===t5)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===n5)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Nse(t)&&(n.ns=t.namespace);const i=[];return Ei(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $se{constructor(){this.counters_={}}incrementCounter(e,n=1){aa(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Jj(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb={},xb={};function lC(t){const e=t.toString();return Eb[e]||(Eb[e]=new $se),Eb[e]}function Mse(t,e){const n=t.toString();return xb[n]||(xb[n]=e()),xb[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dse{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&$d(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="start",Lse="close",Fse="pLPCommand",Bse="pRTLPCB",o5="id",s5="pw",a5="ser",Vse="cb",Use="seg",jse="ts",zse="d",Wse="dframe",l5=1870,c5=30,Hse=l5-c5,Gse=25e3,qse=3e4;class bu{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jp(e),this.stats_=lC(n),this.urlFn=l=>(this.appCheckToken&&(l[VE]=this.appCheckToken),i5(n,n5,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Dse(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(qse)),Ese(()=>{if(this.isClosed_)return;this.scriptTagHolder=new cC((...o)=>{const[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Tk)this.id=a,this.password=l;else if(s===Lse)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Tk]="t",r[a5]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Vse]=this.scriptTagHolder.uniqueCallbackIdentifier),r[K4]=aC,this.transportSessionId&&(r[Y4]=this.transportSessionId),this.lastSessionId&&(r[Z4]=this.lastSessionId),this.applicationId&&(r[e5]=this.applicationId),this.appCheckToken&&(r[VE]=this.appCheckToken),typeof location<"u"&&location.hostname&&J4.test(location.hostname)&&(r[X4]=Q4);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){bu.forceAllow_=!0}static forceDisallow(){bu.forceDisallow_=!0}static isAvailable(){return bu.forceAllow_?!0:!bu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Sse()&&!Cse()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=cr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=bM(n),i=G4(r,Hse);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Wse]="t",r[o5]=e,r[s5]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=cr(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class cC{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=_se(),window[Fse+this.uniqueCallbackIdentifier]=e,window[Bse+this.uniqueCallbackIdentifier]=n,this.myIFrame=cC.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Br("frame writing exception"),a.stack&&Br(a.stack),Br(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Br("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[o5]=this.myID,e[s5]=this.myPW,e[a5]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+c5+r.length<=l5;){const s=this.pendingSegs.shift();r=r+"&"+Use+i+"="+s.seg+"&"+jse+i+"="+s.ts+"&"+zse+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Gse)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Br("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kse=16384,Yse=45e3;let By=null;typeof MozWebSocket<"u"?By=MozWebSocket:typeof WebSocket<"u"&&(By=WebSocket);class ko{constructor(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jp(this.connId),this.stats_=lC(n),this.connURL=ko.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[K4]=aC,typeof location<"u"&&location.hostname&&J4.test(location.hostname)&&(s[X4]=Q4),n&&(s[Y4]=n),r&&(s[Z4]=r),i&&(s[VE]=i),o&&(s[e5]=o),i5(e,t5,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Vl.set("previous_websocket_failure",!0);try{let r;TM(),this.mySock=new By(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ko.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&By!==null&&!ko.forceDisallow_}static previouslyFailed(){return Vl.isInMemoryStorage||Vl.get("previous_websocket_failure")===!0}markConnectionHealthy(){Vl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=$h(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ae(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=cr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=G4(n,Kse);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Yse))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ko.responsesRequiredToBeHealthy=2;ko.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{static get ALL_TRANSPORTS(){return[bu,ko]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=ko&&ko.isAvailable();let r=n&&!ko.previouslyFailed();if(e.webSocketOnly&&(n||_i("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ko];else{const i=this.transports_=[];for(const o of Xh.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);Xh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Xh.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xse=6e4,Qse=5e3,Jse=10*1024,Zse=100*1024,Sb="t",Ik="d",eae="s",Rk="r",tae="e",Pk="o",Ak="a",kk="n",Ok="p",nae="h";class rae{constructor(e,n,r,i,o,s,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jp("c:"+this.id+":"),this.transportManager_=new Xh(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=dh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Zse?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Jse?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Sb in e){const n=e[Sb];n===Ak?this.upgradeIfSecondaryHealthy_():n===Rk?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Pk&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=vf("t",e),r=vf("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ok,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ak,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:kk,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=vf("t",e),r=vf("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=vf(Sb,e);if(Ik in e){const r=e[Ik];if(n===nae){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===kk){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===eae?this.onConnectionShutdown_(r):n===Rk?this.onReset_(r):n===tae?BE("Server Error: "+r):n===Pk?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):BE("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),aC!==r&&_i("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),dh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Xse))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):dh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Qse))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ok,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Vl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e){this.allowedEvents_=e,this.listeners_={},ae(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){ae(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy extends d5{static getInstance(){return new Vy}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!mx()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ae(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=32,$k=768;class Zt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Bt(){return new Zt("")}function vt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function al(t){return t.pieces_.length-t.pieceNum_}function rn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Zt(t.pieces_,e)}function f5(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function iae(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function h5(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function p5(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Zt(e,0)}function Zn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Zt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Zt(n,0)}function St(t){return t.pieceNum_>=t.pieces_.length}function fi(t,e){const n=vt(t),r=vt(e);if(n===null)return e;if(n===r)return fi(rn(t),rn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function uC(t,e){if(al(t)!==al(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function No(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(al(t)>al(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class oae{constructor(e,n){this.errorPrefix_=n,this.parts_=h5(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Pv(this.parts_[r]);g5(this)}}function sae(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Pv(e),g5(t)}function aae(t){const e=t.parts_.pop();t.byteLength_-=Pv(e),t.parts_.length>0&&(t.byteLength_-=1)}function g5(t){if(t.byteLength_>$k)throw new Error(t.errorPrefix_+"has a key path longer than "+$k+" bytes ("+t.byteLength_+").");if(t.parts_.length>Nk)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Nk+") or object contains a cycle "+Al(t))}function Al(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC extends d5{static getInstance(){return new dC}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ae(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f=1e3,lae=60*5*1e3,Mk=30*1e3,cae=1.3,uae=3e4,dae="server_kill",Dk=3;class js extends u5{constructor(e,n,r,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=js.nextPersistentConnectionId_++,this.log_=jp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_f,this.maxReconnectDelay_=lae,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!TM())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");dC.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Vy.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(cr(o)),ae(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Rv,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),ae(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ae(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,c=a.s;js.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&aa(e,"w")){const r=Gu(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();_i(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||g9(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Mk)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=p9(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ae(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+cr(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):BE("Unrecognized action received from server: "+cr(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ae(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_f,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=_f,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>uae&&(this.reconnectDelay_=_f),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*cae)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+js.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},c=function(f){ae(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?Br("getToken() completed but was canceled"):(Br("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,a=new rae(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{_i(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(dae)},o))}catch(f){this.log_("Failed to get token: "+f),s||(this.repoInfo_.nodeAdmin&&_i(f),l())}}}interrupt(e){Br("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Br("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Bw(this.interruptReasons_)&&(this.reconnectDelay_=_f,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>sC(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Zt(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Br("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Dk&&(this.reconnectDelay_=Mk,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Br("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Dk&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+j4.replace(/\./g,"-")]=1,mx()?e["framework.cordova"]=1:CM()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Vy.getInstance().currentlyOnline();return Bw(this.interruptReasons_)&&e}}js.nextPersistentConnectionId_=0;js.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new _t(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new _t(ud,e),i=new _t(ud,n);return this.compare(r,i)!==0}minPost(){return _t.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yg;class m5 extends U0{static get __EMPTY_NODE(){return Yg}static set __EMPTY_NODE(e){Yg=e}compare(e,n){return Nd(e.name,n.name)}isDefinedOn(e){throw vd("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return _t.MIN}maxPost(){return new _t(oc,Yg)}makePost(e,n){return ae(typeof e=="string","KeyIndex indexValue must always be a string."),new _t(e,Yg)}toString(){return".key"}}const Lu=new m5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class lr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??lr.RED,this.left=i??hi.EMPTY_NODE,this.right=o??hi.EMPTY_NODE}copy(e,n,r,i,o){return new lr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return hi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return hi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}lr.RED=!0;lr.BLACK=!1;class fae{copy(e,n,r,i,o){return this}insert(e,n,r){return new lr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class hi{constructor(e,n=hi.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new hi(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,lr.BLACK,null,null))}remove(e){return new hi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,lr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Xg(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Xg(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Xg(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Xg(this.root_,null,this.comparator_,!0,e)}}hi.EMPTY_NODE=new fae;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hae(t,e){return Nd(t.name,e.name)}function fC(t,e){return Nd(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UE;function pae(t){UE=t}const y5=function(t){return typeof t=="number"?"number:"+q4(t):"string:"+t},v5=function(t){if(t.isLeafNode()){const e=t.val();ae(typeof e=="string"||typeof e=="number"||typeof e=="object"&&aa(e,".sv"),"Priority must be a string or number.")}else ae(t===UE||t.isEmpty(),"priority of unexpected type.");ae(t===UE||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lk;class or{static set __childrenNodeConstructor(e){Lk=e}static get __childrenNodeConstructor(){return Lk}constructor(e,n=or.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ae(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),v5(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new or(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:or.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return St(e)?this:vt(e)===".priority"?this.priorityNode_:or.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:or.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=vt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ae(r!==".priority"||al(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,or.__childrenNodeConstructor.EMPTY_NODE.updateChild(rn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+y5(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=q4(this.value_):e+=this.value_,this.lazyHash_=W4(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===or.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof or.__childrenNodeConstructor?-1:(ae(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=or.VALUE_TYPE_ORDER.indexOf(n),o=or.VALUE_TYPE_ORDER.indexOf(r);return ae(i>=0,"Unknown leaf type: "+n),ae(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}or.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _5,b5;function gae(t){_5=t}function mae(t){b5=t}class yae extends U0{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Nd(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return _t.MIN}maxPost(){return new _t(oc,new or("[PRIORITY-POST]",b5))}makePost(e,n){const r=_5(e);return new _t(n,new or("[PRIORITY-POST]",r))}toString(){return".priority"}}const Mn=new yae;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vae=Math.log(2);class _ae{constructor(e){const n=o=>parseInt(Math.log(o)/vae,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Uy=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let f,h;if(u===0)return null;if(u===1)return f=t[l],h=n?n(f):f,new lr(h,f.node,lr.BLACK,null,null);{const p=parseInt(u/2,10)+l,m=i(l,p),b=i(p+1,c);return f=t[p],h=n?n(f):f,new lr(h,f.node,lr.BLACK,m,b)}},o=function(l){let c=null,u=null,f=t.length;const h=function(m,b){const x=f-m,_=f;f-=m;const w=i(x+1,_),v=t[x],S=n?n(v):v;p(new lr(S,v.node,b,null,w))},p=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const b=l.nextBitIsOne(),x=Math.pow(2,l.count-(m+1));b?h(x,lr.BLACK):(h(x,lr.BLACK),h(x,lr.RED))}return u},s=new _ae(t.length),a=o(s);return new hi(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cb;const Fc={};class Fs{static get Default(){return ae(Fc&&Mn,"ChildrenNode.ts has not been loaded"),Cb=Cb||new Fs({".priority":Fc},{".priority":Mn}),Cb}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Gu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof hi?n:null}hasIndex(e){return aa(this.indexSet_,e.toString())}addIndex(e,n){ae(e!==Lu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(_t.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Uy(r,e.getCompare()):a=Fc;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Fs(u,c)}addToIndexes(e,n){const r=ay(this.indexes_,(i,o)=>{const s=Gu(this.indexSet_,o);if(ae(s,"Missing index implementation for "+o),i===Fc)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(_t.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Uy(a,s.getCompare())}else return Fc;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new _t(e.name,a))),l.insert(e,e.node)}});return new Fs(r,this.indexSet_)}removeFromIndexes(e,n){const r=ay(this.indexes_,i=>{if(i===Fc)return i;{const o=n.get(e.name);return o?i.remove(new _t(e.name,o)):i}});return new Fs(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf;class Ge{static get EMPTY_NODE(){return bf||(bf=new Ge(new hi(fC),null,Fs.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&v5(this.priorityNode_),this.children_.isEmpty()&&ae(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bf}updatePriority(e){return this.children_.isEmpty()?this:new Ge(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?bf:n}}getChild(e){const n=vt(e);return n===null?this:this.getImmediateChild(n).getChild(rn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ae(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new _t(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?bf:this.priorityNode_;return new Ge(i,s,o)}}updateChild(e,n){const r=vt(e);if(r===null)return n;{ae(vt(e)!==".priority"||al(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(rn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(Mn,(s,a)=>{n[s]=a.val(e),r++,o&&Ge.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+y5(this.getPriority().val())+":"),this.forEachChild(Mn,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":W4(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new _t(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new _t(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new _t(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,_t.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,_t.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===zp?-1:0}withIndex(e){if(e===Lu||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ge(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Lu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Mn),i=n.getIterator(Mn);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===Lu?null:this.indexMap_.get(e.toString())}}Ge.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class bae extends Ge{constructor(){super(new hi(fC),Ge.EMPTY_NODE,Fs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ge.EMPTY_NODE}isEmpty(){return!1}}const zp=new bae;Object.defineProperties(_t,{MIN:{value:new _t(ud,Ge.EMPTY_NODE)},MAX:{value:new _t(oc,zp)}});m5.__EMPTY_NODE=Ge.EMPTY_NODE;or.__childrenNodeConstructor=Ge;pae(zp);mae(zp);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wae=!0;function Er(t,e=null){if(t===null)return Ge.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ae(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new or(n,Er(e))}if(!(t instanceof Array)&&wae){const n=[];let r=!1;if(Ei(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=Er(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new _t(s,l)))}}),n.length===0)return Ge.EMPTY_NODE;const o=Uy(n,hae,s=>s.name,fC);if(r){const s=Uy(n,Mn.getCompare());return new Ge(o,Er(e),new Fs({".priority":s},{".priority":Mn}))}else return new Ge(o,Er(e),Fs.Default)}else{let n=Ge.EMPTY_NODE;return Ei(t,(r,i)=>{if(aa(t,r)&&r.substring(0,1)!=="."){const o=Er(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Er(e))}}gae(Er);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eae extends U0{constructor(e){super(),this.indexPath_=e,ae(!St(e)&&vt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Nd(e.name,n.name):o}makePost(e,n){const r=Er(e),i=Ge.EMPTY_NODE.updateChild(this.indexPath_,r);return new _t(n,i)}maxPost(){const e=Ge.EMPTY_NODE.updateChild(this.indexPath_,zp);return new _t(oc,e)}toString(){return h5(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xae extends U0{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Nd(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return _t.MIN}maxPost(){return _t.MAX}makePost(e,n){const r=Er(e);return new _t(n,r)}toString(){return".value"}}const Sae=new xae;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(t){return{type:"value",snapshotNode:t}}function dd(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Qh(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Jh(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Cae(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){ae(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Qh(n,a)):ae(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(dd(n,r)):s.trackChildChange(Jh(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Mn,(i,o)=>{n.hasChild(i)||r.trackChildChange(Qh(i,o))}),n.isLeafNode()||n.forEachChild(Mn,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Jh(i,o,s))}else r.trackChildChange(dd(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ge.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.indexedFilter_=new hC(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Zh.getStartPost_(e),this.endPost_=Zh.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new _t(n,r))||(r=Ge.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Ge.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Ge.EMPTY_NODE);const o=this;return n.forEachChild(Mn,(s,a)=>{o.matches(new _t(s,a))||(i=i.updateImmediateChild(s,Ge.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tae{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Zh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new _t(n,r))||(r=Ge.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Ge.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ge.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ge.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,Ge.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const f=this.index_.getCompare();s=(h,p)=>f(p,h)}else s=this.index_.getCompare();const a=e;ae(a.numChildren()===this.limit_,"");const l=new _t(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const f=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const p=h==null?1:s(h,l);if(u&&!r.isEmpty()&&p>=0)return o!=null&&o.trackChildChange(Jh(n,r,f)),a.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(Qh(n,f));const b=a.updateImmediateChild(n,Ge.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o!=null&&o.trackChildChange(dd(h.name,h.node)),b.updateImmediateChild(h.name,h.node)):b}}else return r.isEmpty()?e:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(Qh(c.name,c.node)),o.trackChildChange(dd(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,Ge.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Mn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ae(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ae(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ud}hasEnd(){return this.endSet_}getIndexEndValue(){return ae(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ae(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:oc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ae(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Mn}copy(){const e=new pC;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Iae(t){return t.loadsAllData()?new hC(t.getIndex()):t.hasLimit()?new Tae(t):new Zh(t)}function Fk(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Mn?n="$priority":t.index_===Sae?n="$value":t.index_===Lu?n="$key":(ae(t.index_ instanceof Eae,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=cr(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=cr(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+cr(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=cr(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+cr(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Bk(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Mn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy extends u5{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ae(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=jp("p:rest:"),this.listens_={}}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=jy.getListenId_(e,r),a={};this.listens_[s]=a;const l=Fk(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let f=u;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(o,f,!1,r),Gu(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const r=jy.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Fk(e._queryParams),r=e._path.toString(),i=new Rv;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+_d(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=$h(a.responseText)}catch{_i("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&_i("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rae{constructor(){this.rootNode_=Ge.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(){return{value:null,children:new Map}}function E5(t,e,n){if(St(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=vt(e);t.children.has(r)||t.children.set(r,zy());const i=t.children.get(r);e=rn(e),E5(i,e,n)}}function jE(t,e,n){t.value!==null?n(e,t.value):Pae(t,(r,i)=>{const o=new Zt(e.toString()+"/"+r);jE(i,o,n)})}function Pae(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aae{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ei(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=10*1e3,kae=30*1e3,Oae=5*60*1e3;class Nae{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Aae(e);const r=Vk+(kae-Vk)*Math.random();dh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ei(e,(i,o)=>{o>0&&aa(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),dh(this.reportStats_.bind(this),Math.floor(Math.random()*2*Oae))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $o;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})($o||($o={}));function x5(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function gC(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function mC(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=$o.ACK_USER_WRITE,this.source=x5()}operationForChild(e){if(St(this.path)){if(this.affectedTree.value!=null)return ae(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Zt(e));return new Wy(Bt(),n,this.revert)}}else return ae(vt(this.path)===e,"operationForChild called for unrelated child."),new Wy(rn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n){this.source=e,this.path=n,this.type=$o.LISTEN_COMPLETE}operationForChild(e){return St(this.path)?new ep(this.source,Bt()):new ep(this.source,rn(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=$o.OVERWRITE}operationForChild(e){return St(this.path)?new sc(this.source,Bt(),this.snap.getImmediateChild(e)):new sc(this.source,rn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=$o.MERGE}operationForChild(e){if(St(this.path)){const n=this.children.subtree(new Zt(e));return n.isEmpty()?null:n.value?new sc(this.source,Bt(),n.value):new tp(this.source,Bt(),n)}else return ae(vt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new tp(this.source,rn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(St(e))return this.isFullyInitialized()&&!this.filtered_;const n=vt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ae{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Mae(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(Cae(s.childName,s.snapshotNode))}),wf(t,i,"child_removed",e,r,n),wf(t,i,"child_added",e,r,n),wf(t,i,"child_moved",o,r,n),wf(t,i,"child_changed",e,r,n),wf(t,i,"value",e,r,n),i}function wf(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>Lae(t,a,l)),s.forEach(a=>{const l=Dae(t,a,o);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Dae(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Lae(t,e,n){if(e.childName==null||n.childName==null)throw vd("Should only compare child_ events.");const r=new _t(e.childName,e.snapshotNode),i=new _t(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t,e){return{eventCache:t,serverCache:e}}function fh(t,e,n,r){return j0(new ac(e,n,r),t.serverCache)}function S5(t,e,n,r){return j0(t.eventCache,new ac(e,n,r))}function zE(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function lc(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tb;const Fae=()=>(Tb||(Tb=new hi(xse)),Tb);class hn{static fromObject(e){let n=new hn(null);return Ei(e,(r,i)=>{n=n.set(new Zt(r),i)}),n}constructor(e,n=Fae()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Bt(),value:this.value};if(St(e))return null;{const r=vt(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(rn(e),n);return o!=null?{path:Zn(new Zt(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(St(e))return this;{const n=vt(e),r=this.children.get(n);return r!==null?r.subtree(rn(e)):new hn(null)}}set(e,n){if(St(e))return new hn(n,this.children);{const r=vt(e),o=(this.children.get(r)||new hn(null)).set(rn(e),n),s=this.children.insert(r,o);return new hn(this.value,s)}}remove(e){if(St(e))return this.children.isEmpty()?new hn(null):new hn(null,this.children);{const n=vt(e),r=this.children.get(n);if(r){const i=r.remove(rn(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new hn(null):new hn(this.value,o)}else return this}}get(e){if(St(e))return this.value;{const n=vt(e),r=this.children.get(n);return r?r.get(rn(e)):null}}setTree(e,n){if(St(e))return n;{const r=vt(e),o=(this.children.get(r)||new hn(null)).setTree(rn(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new hn(this.value,s)}}fold(e){return this.fold_(Bt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Zn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Bt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(St(e))return null;{const o=vt(e),s=this.children.get(o);return s?s.findOnPath_(rn(e),Zn(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Bt(),n)}foreachOnPath_(e,n,r){if(St(e))return this;{this.value&&r(n,this.value);const i=vt(e),o=this.children.get(i);return o?o.foreachOnPath_(rn(e),Zn(n,i),r):new hn(null)}}foreach(e){this.foreach_(Bt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Zn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.writeTree_=e}static empty(){return new Bo(new hn(null))}}function hh(t,e,n){if(St(e))return new Bo(new hn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=fi(i,e);return o=o.updateChild(s,n),new Bo(t.writeTree_.set(i,o))}else{const i=new hn(n),o=t.writeTree_.setTree(e,i);return new Bo(o)}}}function Uk(t,e,n){let r=t;return Ei(n,(i,o)=>{r=hh(r,Zn(e,i),o)}),r}function jk(t,e){if(St(e))return Bo.empty();{const n=t.writeTree_.setTree(e,new hn(null));return new Bo(n)}}function WE(t,e){return mc(t,e)!=null}function mc(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(fi(n.path,e)):null}function zk(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Mn,(r,i)=>{e.push(new _t(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new _t(r,i.value))}),e}function Ya(t,e){if(St(e))return t;{const n=mc(t,e);return n!=null?new Bo(new hn(n)):new Bo(t.writeTree_.subtree(e))}}function HE(t){return t.writeTree_.isEmpty()}function fd(t,e){return C5(Bt(),t.writeTree_,e)}function C5(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(ae(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=C5(Zn(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Zn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t,e){return P5(e,t)}function Bae(t,e,n,r,i){ae(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=hh(t.visibleWrites,e,n)),t.lastWriteId=r}function Vae(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Uae(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);ae(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&jae(a,r.path)?i=!1:No(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return zae(t),!0;if(r.snap)t.visibleWrites=jk(t.visibleWrites,r.path);else{const a=r.children;Ei(a,l=>{t.visibleWrites=jk(t.visibleWrites,Zn(r.path,l))})}return!0}else return!1}function jae(t,e){if(t.snap)return No(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&No(Zn(t.path,n),e))return!0;return!1}function zae(t){t.visibleWrites=T5(t.allWrites,Wae,Bt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Wae(t){return t.visible}function T5(t,e,n){let r=Bo.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)No(n,s)?(a=fi(n,s),r=hh(r,a,o.snap)):No(s,n)&&(a=fi(s,n),r=hh(r,Bt(),o.snap.getChild(a)));else if(o.children){if(No(n,s))a=fi(n,s),r=Uk(r,a,o.children);else if(No(s,n))if(a=fi(s,n),St(a))r=Uk(r,Bt(),o.children);else{const l=Gu(o.children,vt(a));if(l){const c=l.getChild(rn(a));r=hh(r,Bt(),c)}}}else throw vd("WriteRecord should have .snap or .children")}}return r}function I5(t,e,n,r,i){if(!r&&!i){const o=mc(t.visibleWrites,e);if(o!=null)return o;{const s=Ya(t.visibleWrites,e);if(HE(s))return n;if(n==null&&!WE(s,Bt()))return null;{const a=n||Ge.EMPTY_NODE;return fd(s,a)}}}else{const o=Ya(t.visibleWrites,e);if(!i&&HE(o))return n;if(!i&&n==null&&!WE(o,Bt()))return null;{const s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(No(c.path,e)||No(e,c.path))},a=T5(t.allWrites,s,e),l=n||Ge.EMPTY_NODE;return fd(a,l)}}}function Hae(t,e,n){let r=Ge.EMPTY_NODE;const i=mc(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Mn,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=Ya(t.visibleWrites,e);return n.forEachChild(Mn,(s,a)=>{const l=fd(Ya(o,new Zt(s)),a);r=r.updateImmediateChild(s,l)}),zk(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=Ya(t.visibleWrites,e);return zk(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function Gae(t,e,n,r,i){ae(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Zn(e,n);if(WE(t.visibleWrites,o))return null;{const s=Ya(t.visibleWrites,o);return HE(s)?i.getChild(n):fd(s,i.getChild(n))}}function qae(t,e,n,r){const i=Zn(e,n),o=mc(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=Ya(t.visibleWrites,i);return fd(s,r.getNode().getImmediateChild(n))}else return null}function Kae(t,e){return mc(t.visibleWrites,e)}function Yae(t,e,n,r,i,o,s){let a;const l=Ya(t.visibleWrites,e),c=mc(l,Bt());if(c!=null)a=c;else if(n!=null)a=fd(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const u=[],f=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let p=h.getNext();for(;p&&u.length<i;)f(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function Xae(){return{visibleWrites:Bo.empty(),allWrites:[],lastWriteId:-1}}function Hy(t,e,n,r){return I5(t.writeTree,t.treePath,e,n,r)}function vC(t,e){return Hae(t.writeTree,t.treePath,e)}function Wk(t,e,n,r){return Gae(t.writeTree,t.treePath,e,n,r)}function Gy(t,e){return Kae(t.writeTree,Zn(t.treePath,e))}function Qae(t,e,n,r,i,o){return Yae(t.writeTree,t.treePath,e,n,r,i,o)}function _C(t,e,n){return qae(t.writeTree,t.treePath,e,n)}function R5(t,e){return P5(Zn(t.treePath,e),t.writeTree)}function P5(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jae{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ae(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ae(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Jh(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Qh(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,dd(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Jh(r,e.snapshotNode,i.oldSnap));else throw vd("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zae{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const A5=new Zae;class bC{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ac(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _C(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:lc(this.viewCache_),o=Qae(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ele(t){return{filter:t}}function tle(t,e){ae(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ae(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function nle(t,e,n,r,i){const o=new Jae;let s,a;if(n.type===$o.OVERWRITE){const c=n;c.source.fromUser?s=GE(t,e,c.path,c.snap,r,i,o):(ae(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!St(c.path),s=qy(t,e,c.path,c.snap,r,i,a,o))}else if(n.type===$o.MERGE){const c=n;c.source.fromUser?s=ile(t,e,c.path,c.children,r,i,o):(ae(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=qE(t,e,c.path,c.children,r,i,a,o))}else if(n.type===$o.ACK_USER_WRITE){const c=n;c.revert?s=ale(t,e,c.path,r,i,o):s=ole(t,e,c.path,c.affectedTree,r,i,o)}else if(n.type===$o.LISTEN_COMPLETE)s=sle(t,e,n.path,r,o);else throw vd("Unknown operation type: "+n.type);const l=o.getChanges();return rle(e,s,l),{viewCache:s,changes:l}}function rle(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=zE(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(w5(zE(e)))}}function k5(t,e,n,r,i,o){const s=e.eventCache;if(Gy(r,n)!=null)return e;{let a,l;if(St(n))if(ae(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=lc(e),u=c instanceof Ge?c:Ge.EMPTY_NODE,f=vC(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const c=Hy(r,lc(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const c=vt(n);if(c===".priority"){ae(al(n)===1,"Can't have a priority with additional path components");const u=s.getNode();l=e.serverCache.getNode();const f=Wk(r,n,u,l);f!=null?a=t.filter.updatePriority(u,f):a=s.getNode()}else{const u=rn(n);let f;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();const h=Wk(r,n,s.getNode(),l);h!=null?f=s.getNode().getImmediateChild(c).updateChild(u,h):f=s.getNode().getImmediateChild(c)}else f=_C(r,c,e.serverCache);f!=null?a=t.filter.updateChild(s.getNode(),c,f,u,i,o):a=s.getNode()}}return fh(e,a,s.isFullyInitialized()||St(n),t.filter.filtersNodes())}}function qy(t,e,n,r,i,o,s,a){const l=e.serverCache;let c;const u=s?t.filter:t.filter.getIndexedFilter();if(St(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=vt(n);if(!l.isCompleteForPath(n)&&al(n)>1)return e;const m=rn(n),x=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=u.updatePriority(l.getNode(),x):c=u.updateChild(l.getNode(),p,x,m,A5,null)}const f=S5(e,c,l.isFullyInitialized()||St(n),u.filtersNodes()),h=new bC(i,f,o);return k5(t,f,n,i,h,a)}function GE(t,e,n,r,i,o,s){const a=e.eventCache;let l,c;const u=new bC(i,e,o);if(St(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=fh(e,c,!0,t.filter.filtersNodes());else{const f=vt(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=fh(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=rn(n),p=a.getNode().getImmediateChild(f);let m;if(St(h))m=r;else{const b=u.getCompleteChild(f);b!=null?f5(h)===".priority"&&b.getChild(p5(h)).isEmpty()?m=b:m=b.updateChild(h,r):m=Ge.EMPTY_NODE}if(p.equals(m))l=e;else{const b=t.filter.updateChild(a.getNode(),f,m,h,u,s);l=fh(e,b,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Hk(t,e){return t.eventCache.isCompleteForChild(e)}function ile(t,e,n,r,i,o,s){let a=e;return r.foreach((l,c)=>{const u=Zn(n,l);Hk(e,vt(u))&&(a=GE(t,a,u,c,i,o,s))}),r.foreach((l,c)=>{const u=Zn(n,l);Hk(e,vt(u))||(a=GE(t,a,u,c,i,o,s))}),a}function Gk(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function qE(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;St(n)?c=r:c=new hn(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((f,h)=>{if(u.hasChild(f)){const p=e.serverCache.getNode().getImmediateChild(f),m=Gk(t,p,h);l=qy(t,l,new Zt(f),m,i,o,s,a)}}),c.children.inorderTraversal((f,h)=>{const p=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!u.hasChild(f)&&!p){const m=e.serverCache.getNode().getImmediateChild(f),b=Gk(t,m,h);l=qy(t,l,new Zt(f),b,i,o,s,a)}}),l}function ole(t,e,n,r,i,o,s){if(Gy(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(St(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return qy(t,e,n,l.getNode().getChild(n),i,o,a,s);if(St(n)){let c=new hn(null);return l.getNode().forEachChild(Lu,(u,f)=>{c=c.set(new Zt(u),f)}),qE(t,e,n,c,i,o,a,s)}else return e}else{let c=new hn(null);return r.foreach((u,f)=>{const h=Zn(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),qE(t,e,n,c,i,o,a,s)}}function sle(t,e,n,r,i){const o=e.serverCache,s=S5(e,o.getNode(),o.isFullyInitialized()||St(n),o.isFiltered());return k5(t,s,n,r,A5,i)}function ale(t,e,n,r,i,o){let s;if(Gy(r,n)!=null)return e;{const a=new bC(r,e,i),l=e.eventCache.getNode();let c;if(St(n)||vt(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Hy(r,lc(e));else{const f=e.serverCache.getNode();ae(f instanceof Ge,"serverChildren would be complete if leaf node"),u=vC(r,f)}u=u,c=t.filter.updateFullNode(l,u,o)}else{const u=vt(n);let f=_C(r,u,e.serverCache);f==null&&e.serverCache.isCompleteForChild(u)&&(f=l.getImmediateChild(u)),f!=null?c=t.filter.updateChild(l,u,f,rn(n),a,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Ge.EMPTY_NODE,rn(n),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Hy(r,lc(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||Gy(r,Bt())!=null,fh(e,c,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lle{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new hC(r.getIndex()),o=Iae(r);this.processor_=ele(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(Ge.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(Ge.EMPTY_NODE,a.getNode(),null),u=new ac(l,s.isFullyInitialized(),i.filtersNodes()),f=new ac(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=j0(f,u),this.eventGenerator_=new $ae(this.query_)}get query(){return this.query_}}function cle(t){return t.viewCache_.serverCache.getNode()}function ule(t,e){const n=lc(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!St(e)&&!n.getImmediateChild(vt(e)).isEmpty())?n.getChild(e):null}function qk(t){return t.eventRegistrations_.length===0}function dle(t,e){t.eventRegistrations_.push(e)}function Kk(t,e,n){const r=[];if(n){ae(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Yk(t,e,n,r){e.type===$o.MERGE&&e.source.queryId!==null&&(ae(lc(t.viewCache_),"We should always have a full cache before handling merges"),ae(zE(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=nle(t.processor_,i,e,n,r);return tle(t.processor_,o.viewCache),ae(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,O5(t,o.changes,o.viewCache.eventCache.getNode(),null)}function fle(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Mn,(o,s)=>{r.push(dd(o,s))}),n.isFullyInitialized()&&r.push(w5(n.getNode())),O5(t,r,n.getNode(),e)}function O5(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Mae(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ky;class hle{constructor(){this.views=new Map}}function ple(t){ae(!Ky,"__referenceConstructor has already been defined"),Ky=t}function gle(){return ae(Ky,"Reference.ts has not been loaded"),Ky}function mle(t){return t.views.size===0}function wC(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return ae(o!=null,"SyncTree gave us an op for an invalid query."),Yk(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(Yk(s,e,n,r));return o}}function yle(t,e,n,r,i){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Hy(n,i?r:null),l=!1;a?l=!0:r instanceof Ge?(a=vC(n,r),l=!1):(a=Ge.EMPTY_NODE,l=!1);const c=j0(new ac(a,l,!1),new ac(r,i,!1));return new lle(e,c)}return s}function vle(t,e,n,r,i,o){const s=yle(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),dle(s,n),fle(s,n)}function _le(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=ll(t);if(i==="default")for(const[l,c]of t.views.entries())s=s.concat(Kk(c,n,r)),qk(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const l=t.views.get(i);l&&(s=s.concat(Kk(l,n,r)),qk(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!ll(t)&&o.push(new(gle())(e._repo,e._path)),{removed:o,events:s}}function N5(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Fu(t,e){let n=null;for(const r of t.views.values())n=n||ule(r,e);return n}function $5(t,e){if(e._queryParams.loadsAllData())return z0(t);{const r=e._queryIdentifier;return t.views.get(r)}}function M5(t,e){return $5(t,e)!=null}function ll(t){return z0(t)!=null}function z0(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yy;function ble(t){ae(!Yy,"__referenceConstructor has already been defined"),Yy=t}function wle(){return ae(Yy,"Reference.ts has not been loaded"),Yy}let Ele=1;class Xk{constructor(e){this.listenProvider_=e,this.syncPointTree_=new hn(null),this.pendingWriteTree_=Xae(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function D5(t,e,n,r,i){return Bae(t.pendingWriteTree_,e,n,r,i),i?Wp(t,new sc(x5(),e,n)):[]}function Ul(t,e,n=!1){const r=Vae(t.pendingWriteTree_,e);if(Uae(t.pendingWriteTree_,e)){let o=new hn(null);return r.snap!=null?o=o.set(Bt(),!0):Ei(r.children,s=>{o=o.set(new Zt(s),!0)}),Wp(t,new Wy(r.path,o,n))}else return[]}function W0(t,e,n){return Wp(t,new sc(gC(),e,n))}function xle(t,e,n){const r=hn.fromObject(n);return Wp(t,new tp(gC(),e,r))}function Sle(t,e){return Wp(t,new ep(gC(),e))}function Cle(t,e,n){const r=xC(t,n);if(r){const i=SC(r),o=i.path,s=i.queryId,a=fi(o,e),l=new ep(mC(s),a);return CC(t,o,l)}else return[]}function KE(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&(e._queryIdentifier==="default"||M5(s,e))){const l=_le(s,e,n,r);mle(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(o,(h,p)=>ll(p));if(u&&!f){const h=t.syncPointTree_.subtree(o);if(!h.isEmpty()){const p=Rle(h);for(let m=0;m<p.length;++m){const b=p[m],x=b.query,_=B5(t,b);t.listenProvider_.startListening(ph(x),Xy(t,x),_.hashFn,_.onComplete)}}}!f&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(ph(e),null):c.forEach(h=>{const p=t.queryToTagMap.get(H0(h));t.listenProvider_.stopListening(ph(h),p)}))}Ple(t,c)}return a}function Tle(t,e,n,r){const i=xC(t,r);if(i!=null){const o=SC(i),s=o.path,a=o.queryId,l=fi(s,e),c=new sc(mC(a),l,n);return CC(t,s,c)}else return[]}function Ile(t,e,n,r){const i=xC(t,r);if(i){const o=SC(i),s=o.path,a=o.queryId,l=fi(s,e),c=hn.fromObject(n),u=new tp(mC(a),l,c);return CC(t,s,u)}else return[]}function Qk(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(h,p)=>{const m=fi(h,i);o=o||Fu(p,m),s=s||ll(p)});let a=t.syncPointTree_.get(i);a?(s=s||ll(a),o=o||Fu(a,Bt())):(a=new hle,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=Ge.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,m)=>{const b=Fu(m,Bt());b&&(o=o.updateImmediateChild(p,b))}));const c=M5(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=H0(e);ae(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const p=Ale();t.queryToTagMap.set(h,p),t.tagToQueryMap.set(p,h)}const u=yC(t.pendingWriteTree_,i);let f=vle(a,e,n,u,o,l);if(!c&&!s&&!r){const h=$5(a,e);f=f.concat(kle(t,e,h))}return f}function EC(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=fi(s,e),c=Fu(a,l);if(c)return c});return I5(i,e,o,n,!0)}function Wp(t,e){return L5(e,t.syncPointTree_,null,yC(t.pendingWriteTree_,Bt()))}function L5(t,e,n,r){if(St(t.path))return F5(t,e,n,r);{const i=e.get(Bt());n==null&&i!=null&&(n=Fu(i,Bt()));let o=[];const s=vt(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const c=n?n.getImmediateChild(s):null,u=R5(r,s);o=o.concat(L5(a,l,c,u))}return i&&(o=o.concat(wC(i,t,r,n))),o}}function F5(t,e,n,r){const i=e.get(Bt());n==null&&i!=null&&(n=Fu(i,Bt()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,c=R5(r,s),u=t.operationForChild(s);u&&(o=o.concat(F5(u,a,l,c)))}),i&&(o=o.concat(wC(i,t,r,n))),o}function B5(t,e){const n=e.query,r=Xy(t,n);return{hashFn:()=>(cle(e)||Ge.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Cle(t,n._path,r):Sle(t,n._path);{const o=Tse(i,n);return KE(t,n,null,o)}}}}function Xy(t,e){const n=H0(e);return t.queryToTagMap.get(n)}function H0(t){return t._path.toString()+"$"+t._queryIdentifier}function xC(t,e){return t.tagToQueryMap.get(e)}function SC(t){const e=t.indexOf("$");return ae(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Zt(t.substr(0,e))}}function CC(t,e,n){const r=t.syncPointTree_.get(e);ae(r,"Missing sync point for query tag that we're tracking");const i=yC(t.pendingWriteTree_,e);return wC(r,n,i,null)}function Rle(t){return t.fold((e,n,r)=>{if(n&&ll(n))return[z0(n)];{let i=[];return n&&(i=N5(n)),Ei(r,(o,s)=>{i=i.concat(s)}),i}})}function ph(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(wle())(t._repo,t._path):t}function Ple(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=H0(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function Ale(){return Ele++}function kle(t,e,n){const r=e._path,i=Xy(t,e),o=B5(t,n),s=t.listenProvider_.startListening(ph(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)ae(!ll(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,f)=>{if(!St(c)&&u&&ll(u))return[z0(u).query];{let h=[];return u&&(h=h.concat(N5(u).map(p=>p.query))),Ei(f,(p,m)=>{h=h.concat(m)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(ph(u),Xy(t,u))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new TC(n)}node(){return this.node_}}class IC{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Zn(this.path_,e);return new IC(this.syncTree_,n)}node(){return EC(this.syncTree_,this.path_)}}const Ole=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Jk=function(t,e,n){if(!t||typeof t!="object")return t;if(ae(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Nle(t[".sv"],e,n);if(typeof t[".sv"]=="object")return $le(t[".sv"],e);ae(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Nle=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ae(!1,"Unexpected server value: "+t)}},$le=function(t,e,n){t.hasOwnProperty("increment")||ae(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ae(!1,"Unexpected increment value: "+r);const i=e.node();if(ae(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},Mle=function(t,e,n,r){return RC(e,new IC(n,t),r)},V5=function(t,e,n){return RC(t,new TC(e),n)};function RC(t,e,n){const r=t.getPriority().val(),i=Jk(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=Jk(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new or(a,Er(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new or(i))),s.forEachChild(Mn,(a,l)=>{const c=RC(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function AC(t,e){let n=e instanceof Zt?e:new Zt(e),r=t,i=vt(n);for(;i!==null;){const o=Gu(r.node.children,i)||{children:{},childCount:0};r=new PC(i,r,o),n=rn(n),i=vt(n)}return r}function Md(t){return t.node.value}function U5(t,e){t.node.value=e,YE(t)}function j5(t){return t.node.childCount>0}function Dle(t){return Md(t)===void 0&&!j5(t)}function G0(t,e){Ei(t.node.children,(n,r)=>{e(new PC(n,t,r))})}function z5(t,e,n,r){n&&!r&&e(t),G0(t,i=>{z5(i,e,!0,r)}),n&&r&&e(t)}function Lle(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Hp(t){return new Zt(t.parent===null?t.name:Hp(t.parent)+"/"+t.name)}function YE(t){t.parent!==null&&Fle(t.parent,t.name,t)}function Fle(t,e,n){const r=Dle(n),i=aa(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,YE(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,YE(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ble=/[\[\].#$\/\u0000-\u001F\u007F]/,Vle=/[\[\].#$\u0000-\u001F\u007F]/,Ib=10*1024*1024,W5=function(t){return typeof t=="string"&&t.length!==0&&!Ble.test(t)},H5=function(t){return typeof t=="string"&&t.length!==0&&!Vle.test(t)},Ule=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),H5(t)},jle=function(t,e,n,r){r&&e===void 0||kC(yx(t,"value"),e,n)},kC=function(t,e,n){const r=n instanceof Zt?new oae(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Al(r));if(typeof e=="function")throw new Error(t+"contains a function "+Al(r)+" with contents = "+e.toString());if(H4(e))throw new Error(t+"contains "+e.toString()+" "+Al(r));if(typeof e=="string"&&e.length>Ib/3&&Pv(e)>Ib)throw new Error(t+"contains a string greater than "+Ib+" utf8 bytes "+Al(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Ei(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!W5(s)))throw new Error(t+" contains an invalid key ("+s+") "+Al(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);sae(r,s),kC(t,a,r),aae(r)}),i&&o)throw new Error(t+' contains ".value" child '+Al(r)+" in addition to actual children.")}},G5=function(t,e,n,r){if(!(r&&n===void 0)&&!H5(n))throw new Error(yx(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},zle=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),G5(t,e,n,r)},q5=function(t,e){if(vt(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Wle=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!W5(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Ule(n))throw new Error(yx(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hle{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function OC(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!uC(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function K5(t,e,n){OC(t,n),Y5(t,r=>uC(r,e))}function oa(t,e,n){OC(t,n),Y5(t,r=>No(r,e)||No(e,r))}function Y5(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(Gle(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Gle(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ql&&Br("event: "+n.toString()),$d(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qle="repo_interrupt",Kle=25;class Yle{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Hle,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zy(),this.transactionQueueTree_=new PC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Xle(t,e,n){if(t.stats_=lC(t.repoInfo_),t.forceRestClient_||Ase())t.server_=new jy(t.repoInfo_,(r,i,o,s)=>{Zk(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>eO(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{cr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new js(t.repoInfo_,e,(r,i,o,s)=>{Zk(t,r,i,o,s)},r=>{eO(t,r)},r=>{Jle(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Mse(t.repoInfo_,()=>new Nae(t.stats_,t.server_)),t.infoData_=new Rae,t.infoSyncTree_=new Xk({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=W0(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),$C(t,"connected",!1),t.serverSyncTree_=new Xk({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const c=s(a,l);oa(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Qle(t){const n=t.infoData_.getNode(new Zt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function NC(t){return Ole({timestamp:Qle(t)})}function Zk(t,e,n,r,i){t.dataUpdateCount++;const o=new Zt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=ay(n,c=>Er(c));s=Ile(t.serverSyncTree_,o,l,i)}else{const l=Er(n);s=Tle(t.serverSyncTree_,o,l,i)}else if(r){const l=ay(n,c=>Er(c));s=xle(t.serverSyncTree_,o,l)}else{const l=Er(n);s=W0(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=q0(t,o)),oa(t.eventQueue_,a,s)}function eO(t,e){$C(t,"connected",e),e===!1&&ece(t)}function Jle(t,e){Ei(e,(n,r)=>{$C(t,n,r)})}function $C(t,e,n){const r=new Zt("/.info/"+e),i=Er(n);t.infoData_.updateSnapshot(r,i);const o=W0(t.infoSyncTree_,r,i);oa(t.eventQueue_,r,o)}function X5(t){return t.nextWriteId_++}function Zle(t,e,n,r,i){MC(t,"set",{path:e.toString(),value:n,priority:r});const o=NC(t),s=Er(n,r),a=EC(t.serverSyncTree_,e),l=V5(s,a,o),c=X5(t),u=D5(t.serverSyncTree_,e,l,c,!0);OC(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(h,p)=>{const m=h==="ok";m||_i("set at "+e+" failed: "+h);const b=Ul(t.serverSyncTree_,c,!m);oa(t.eventQueue_,e,b),rce(t,i,h,p)});const f=t3(t,e);q0(t,f),oa(t.eventQueue_,f,[])}function ece(t){MC(t,"onDisconnectEvents");const e=NC(t),n=zy();jE(t.onDisconnect_,Bt(),(i,o)=>{const s=Mle(i,o,t.serverSyncTree_,e);E5(n,i,s)});let r=[];jE(n,Bt(),(i,o)=>{r=r.concat(W0(t.serverSyncTree_,i,o));const s=t3(t,i);q0(t,s)}),t.onDisconnect_=zy(),oa(t.eventQueue_,Bt(),r)}function tce(t,e,n){let r;vt(e._path)===".info"?r=Qk(t.infoSyncTree_,e,n):r=Qk(t.serverSyncTree_,e,n),K5(t.eventQueue_,e._path,r)}function XE(t,e,n){let r;vt(e._path)===".info"?r=KE(t.infoSyncTree_,e,n):r=KE(t.serverSyncTree_,e,n),K5(t.eventQueue_,e._path,r)}function nce(t){t.persistentConnection_&&t.persistentConnection_.interrupt(qle)}function MC(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Br(n,...e)}function rce(t,e,n,r){e&&$d(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function Q5(t,e,n){return EC(t.serverSyncTree_,e,n)||Ge.EMPTY_NODE}function DC(t,e=t.transactionQueueTree_){if(e||K0(t,e),Md(e)){const n=Z5(t,e);ae(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&ice(t,Hp(e),n)}else j5(e)&&G0(e,n=>{DC(t,n)})}function ice(t,e,n){const r=n.map(c=>c.currentWriteId),i=Q5(t,e,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const u=n[c];ae(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=fi(e,u.path);o=o.updateChild(f,u.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{MC(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Ul(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();K0(t,AC(t.transactionQueueTree_,e)),DC(t,t.transactionQueueTree_),oa(t.eventQueue_,e,u);for(let h=0;h<f.length;h++)$d(f[h])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{_i("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}q0(t,e)}},s)}function q0(t,e){const n=J5(t,e),r=Hp(n),i=Z5(t,n);return oce(t,i,r),r}function oce(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=fi(n,l.path);let u=!1,f;if(ae(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,f=l.abortReason,i=i.concat(Ul(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Kle)u=!0,f="maxretry",i=i.concat(Ul(t.serverSyncTree_,l.currentWriteId,!0));else{const h=Q5(t,l.path,s);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){kC("transaction failed: Data returned ",p,l.path);let m=Er(p);typeof p=="object"&&p!=null&&aa(p,".priority")||(m=m.updatePriority(h.getPriority()));const x=l.currentWriteId,_=NC(t),w=V5(m,h,_);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=w,l.currentWriteId=X5(t),s.splice(s.indexOf(x),1),i=i.concat(D5(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(Ul(t.serverSyncTree_,x,!0))}else u=!0,f="nodata",i=i.concat(Ul(t.serverSyncTree_,l.currentWriteId,!0))}oa(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}K0(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)$d(r[a]);DC(t,t.transactionQueueTree_)}function J5(t,e){let n,r=t.transactionQueueTree_;for(n=vt(e);n!==null&&Md(r)===void 0;)r=AC(r,n),e=rn(e),n=vt(e);return r}function Z5(t,e){const n=[];return e3(t,e,n),n.sort((r,i)=>r.order-i.order),n}function e3(t,e,n){const r=Md(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);G0(e,i=>{e3(t,i,n)})}function K0(t,e){const n=Md(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,U5(e,n.length>0?n:void 0)}G0(e,r=>{K0(t,r)})}function t3(t,e){const n=Hp(J5(t,e)),r=AC(t.transactionQueueTree_,e);return Lle(r,i=>{Rb(t,i)}),Rb(t,r),z5(r,i=>{Rb(t,i)}),n}function Rb(t,e){const n=Md(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(ae(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(ae(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Ul(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?U5(e,void 0):n.length=o+1,oa(t.eventQueue_,Hp(e),i);for(let s=0;s<r.length;s++)$d(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sce(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function ace(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):_i(`Invalid query segment '${n}' in query '${t}'`)}return e}const tO=function(t,e){const n=lce(t),r=n.namespace;n.domain==="firebase.com"&&ia(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ia("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||wse();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new r5(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Zt(n.pathString)}},lce=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(u,f)),u<f&&(i=sce(t.substring(u,f)));const h=ace(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+cr(this.snapshot.exportVal())}}class r3{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ae(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return St(this._path)?null:f5(this._path)}get ref(){return new ca(this._repo,this._path)}get _queryIdentifier(){const e=Bk(this._queryParams),n=sC(e);return n==="{}"?"default":n}get _queryObject(){return Bk(this._queryParams)}isEqual(e){if(e=Ut(e),!(e instanceof LC))return!1;const n=this._repo===e._repo,r=uC(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+iae(this._path)}}class ca extends LC{constructor(e,n){super(e,n,new pC,!1)}get parent(){const e=p5(this._path);return e===null?null:new ca(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class np{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Zt(e),r=Qy(this.ref,e);return new np(this._node.getChild(n),r,Mn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new np(i,Qy(this.ref,r),Mn)))}hasChild(e){const n=new Zt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function QE(t,e){return t=Ut(t),t._checkNotDeleted("ref"),e!==void 0?Qy(t._root,e):t._root}function Qy(t,e){return t=Ut(t),vt(t._path)===null?zle("child","path",e,!1):G5("child","path",e,!1),new ca(t._repo,Zn(t._path,e))}function nO(t){return q5("remove",t._path),JE(t,null)}function JE(t,e){t=Ut(t),q5("set",t._path),jle("set",e,t._path,!1);const n=new Rv;return Zle(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class Y0{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new n3("value",this,new np(e.snapshotNode,new ca(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new r3(this,e,n):null}matches(e){return e instanceof Y0?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class X0{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new r3(this,e,n):null}createEvent(e,n){ae(e.childName!=null,"Child events should have a childName.");const r=Qy(new ca(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new n3(e.type,this,new np(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof X0?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function cce(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){const l=n,c=(u,f)=>{XE(t._repo,t,a),l(u,f)};c.userCallback=n.userCallback,c.context=n.context,n=c}const s=new i3(n,o||void 0),a=e==="value"?new Y0(s):new X0(e,s);return tce(t._repo,t,a),()=>XE(t._repo,t,a)}function uce(t,e,n,r){return cce(t,"value",e,n,r)}function dce(t,e,n){let r=null;const i=n?new i3(n):null;e==="value"?r=new Y0(i):e&&(r=new X0(e,i)),XE(t._repo,t,r)}ple(ca);ble(ca);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fce="FIREBASE_DATABASE_EMULATOR_HOST",ZE={};let hce=!1;function pce(t,e,n,r){t.repoInfo_=new r5(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function gce(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||ia("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Br("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=tO(o,i),a=s.repoInfo,l,c;typeof process<"u"&&wk&&(c=wk[fce]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=tO(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const u=i&&l?new Du(Du.OWNER):new Ose(t.name,t.options,e);Wle("Invalid Firebase Database URL",s),St(s.path)||ia("Database URL must point to the root of a Firebase Database (not including a child path).");const f=yce(a,t,u,new kse(t,n));return new vce(f,t)}function mce(t,e){const n=ZE[e];(!n||n[t.key]!==t)&&ia(`Database ${e}(${t.repoInfo_}) has already been deleted.`),nce(t),delete n[t.key]}function yce(t,e,n,r){let i=ZE[e.name];i||(i={},ZE[e.name]=i);let o=i[t.toURLString()];return o&&ia("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Yle(t,hce,n,r),i[t.toURLString()]=o,o}class vce{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Xle(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ca(this._repo,Bt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(mce(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ia("Cannot call "+e+" on a deleted database.")}}function e1(t=kv(),e){const n=mp(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=px("database");r&&_ce(n,...r)}return n}function _ce(t,e,n,r={}){t=Ut(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Ks(r,o.repoInfo_.emulatorOptions))return;ia("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&ia('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Du(Du.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:gx(r.mockUserToken,t.app.options.projectId);s=new Du(a)}pce(o,i,r,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bce(t){mse(pl),Ja(new Ys("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return gce(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),so(Ek,xk,t),so(Ek,xk,"esm2017")}js.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};js.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};bce();var Q0={exports:{}},o3={};function s3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=s3(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function rO(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=s3(t))&&(r&&(r+=" "),r+=e);return r}const wce=Object.freeze(Object.defineProperty({__proto__:null,clsx:rO,default:rO},Symbol.toStringTag,{value:"Module"})),Ece=jB(wce);var Fn={},vs={};Object.defineProperty(vs,"__esModule",{value:!0});vs.dontSetMe=Ice;vs.findInArray=xce;vs.int=Tce;vs.isFunction=Sce;vs.isNum=Cce;function xce(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function Sce(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function Cce(t){return typeof t=="number"&&!isNaN(t)}function Tce(t){return parseInt(t,10)}function Ice(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var yc={};Object.defineProperty(yc,"__esModule",{value:!0});yc.browserPrefixToKey=l3;yc.browserPrefixToStyle=Rce;yc.default=void 0;yc.getPrefix=a3;const Pb=["Moz","Webkit","O","ms"];function a3(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<Pb.length;r++)if(l3(e,Pb[r])in n)return Pb[r];return""}function l3(t,e){return e?"".concat(e).concat(Pce(t)):t}function Rce(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function Pce(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}yc.default=a3();Object.defineProperty(Fn,"__esModule",{value:!0});Fn.addClassName=d3;Fn.addEvent=Oce;Fn.addUserSelectStyles=zce;Fn.createCSSTransform=Bce;Fn.createSVGTransform=Vce;Fn.getTouch=Uce;Fn.getTouchIdentifier=jce;Fn.getTranslation=FC;Fn.innerHeight=Dce;Fn.innerWidth=Lce;Fn.matchesSelector=u3;Fn.matchesSelectorAndParentsTo=kce;Fn.offsetXYFromParent=Fce;Fn.outerHeight=$ce;Fn.outerWidth=Mce;Fn.removeClassName=f3;Fn.removeEvent=Nce;Fn.removeUserSelectStyles=Wce;var Ui=vs,iO=Ace(yc);function c3(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(c3=function(r){return r?n:e})(t)}function Ace(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=c3(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}let Qg="";function u3(t,e){return Qg||(Qg=(0,Ui.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Ui.isFunction)(t[n])})),(0,Ui.isFunction)(t[Qg])?t[Qg](e):!1}function kce(t,e,n){let r=t;do{if(u3(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function Oce(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,i):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function Nce(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function $ce(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Ui.int)(n.borderTopWidth),e+=(0,Ui.int)(n.borderBottomWidth),e}function Mce(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Ui.int)(n.borderLeftWidth),e+=(0,Ui.int)(n.borderRightWidth),e}function Dce(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Ui.int)(n.paddingTop),e-=(0,Ui.int)(n.paddingBottom),e}function Lce(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Ui.int)(n.paddingLeft),e-=(0,Ui.int)(n.paddingRight),e}function Fce(t,e,n){const i=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),o=(t.clientX+e.scrollLeft-i.left)/n,s=(t.clientY+e.scrollTop-i.top)/n;return{x:o,y:s}}function Bce(t,e){const n=FC(t,e,"px");return{[(0,iO.browserPrefixToKey)("transform",iO.default)]:n}}function Vce(t,e){return FC(t,e,"")}function FC(t,e,n){let{x:r,y:i}=t,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(e){const s="".concat(typeof e.x=="string"?e.x:e.x+n),a="".concat(typeof e.y=="string"?e.y:e.y+n);o="translate(".concat(s,", ").concat(a,")")+o}return o}function Uce(t,e){return t.targetTouches&&(0,Ui.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,Ui.findInArray)(t.changedTouches,n=>e===n.identifier)}function jce(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function zce(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&d3(t.body,"react-draggable-transparent-selection")}function Wce(t){if(t)try{if(t.body&&f3(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function d3(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function f3(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var _s={};Object.defineProperty(_s,"__esModule",{value:!0});_s.canDragX=qce;_s.canDragY=Kce;_s.createCoreData=Xce;_s.createDraggableData=Qce;_s.getBoundPosition=Hce;_s.getControlPosition=Yce;_s.snapToGrid=Gce;var Ii=vs,wu=Fn;function Hce(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:Jce(r);const i=BC(t);if(typeof r=="string"){const{ownerDocument:o}=i,s=o.defaultView;let a;if(r==="parent"?a=i.parentNode:a=o.querySelector(r),!(a instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const l=a,c=s.getComputedStyle(i),u=s.getComputedStyle(l);r={left:-i.offsetLeft+(0,Ii.int)(u.paddingLeft)+(0,Ii.int)(c.marginLeft),top:-i.offsetTop+(0,Ii.int)(u.paddingTop)+(0,Ii.int)(c.marginTop),right:(0,wu.innerWidth)(l)-(0,wu.outerWidth)(i)-i.offsetLeft+(0,Ii.int)(u.paddingRight)-(0,Ii.int)(c.marginRight),bottom:(0,wu.innerHeight)(l)-(0,wu.outerHeight)(i)-i.offsetTop+(0,Ii.int)(u.paddingBottom)-(0,Ii.int)(c.marginBottom)}}return(0,Ii.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,Ii.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Ii.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,Ii.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function Gce(t,e,n){const r=Math.round(e/t[0])*t[0],i=Math.round(n/t[1])*t[1];return[r,i]}function qce(t){return t.props.axis==="both"||t.props.axis==="x"}function Kce(t){return t.props.axis==="both"||t.props.axis==="y"}function Yce(t,e,n){const r=typeof e=="number"?(0,wu.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const i=BC(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,wu.offsetXYFromParent)(r||t,o,n.props.scale)}function Xce(t,e,n){const r=!(0,Ii.isNum)(t.lastX),i=BC(t);return r?{node:i,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:i,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function Qce(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function Jce(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function BC(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var J0={},Z0={};Object.defineProperty(Z0,"__esModule",{value:!0});Z0.default=Zce;function Zce(){}Object.defineProperty(J0,"__esModule",{value:!0});J0.default=void 0;var Ab=tue(E),oi=VC(AS),eue=VC(dp),Nr=Fn,va=_s,kb=vs,Ef=VC(Z0);function VC(t){return t&&t.__esModule?t:{default:t}}function h3(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(h3=function(r){return r?n:e})(t)}function tue(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=h3(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function qr(t,e,n){return e=nue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nue(t){var e=rue(t,"string");return typeof e=="symbol"?e:String(e)}function rue(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Co={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let _a=Co.mouse,e_=class extends Ab.Component{constructor(){super(...arguments),qr(this,"dragging",!1),qr(this,"lastX",NaN),qr(this,"lastY",NaN),qr(this,"touchIdentifier",null),qr(this,"mounted",!1),qr(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Nr.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,Nr.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const i=(0,Nr.getTouchIdentifier)(e);this.touchIdentifier=i;const o=(0,va.getControlPosition)(e,i,this);if(o==null)return;const{x:s,y:a}=o,l=(0,va.createCoreData)(this,s,a);(0,Ef.default)("DraggableCore: handleDragStart: %j",l),(0,Ef.default)("calling",this.props.onStart),!(this.props.onStart(e,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Nr.addUserSelectStyles)(r),this.dragging=!0,this.lastX=s,this.lastY=a,(0,Nr.addEvent)(r,_a.move,this.handleDrag),(0,Nr.addEvent)(r,_a.stop,this.handleDragStop))}),qr(this,"handleDrag",e=>{const n=(0,va.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,l=i-this.lastY;if([a,l]=(0,va.snapToGrid)(this.props.grid,a,l),!a&&!l)return;r=this.lastX+a,i=this.lastY+l}const o=(0,va.createCoreData)(this,r,i);if((0,Ef.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(e,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=r,this.lastY=i}),qr(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,va.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX||0,c=i-this.lastY||0;[l,c]=(0,va.snapToGrid)(this.props.grid,l,c),r=this.lastX+l,i=this.lastY+c}const o=(0,va.createCoreData)(this,r,i);if(this.props.onStop(e,o)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,Nr.removeUserSelectStyles)(a.ownerDocument),(0,Ef.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,Ef.default)("DraggableCore: Removing handlers"),(0,Nr.removeEvent)(a.ownerDocument,_a.move,this.handleDrag),(0,Nr.removeEvent)(a.ownerDocument,_a.stop,this.handleDragStop))}),qr(this,"onMouseDown",e=>(_a=Co.mouse,this.handleDragStart(e))),qr(this,"onMouseUp",e=>(_a=Co.mouse,this.handleDragStop(e))),qr(this,"onTouchStart",e=>(_a=Co.touch,this.handleDragStart(e))),qr(this,"onTouchEnd",e=>(_a=Co.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Nr.addEvent)(e,Co.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,Nr.removeEvent)(n,Co.mouse.move,this.handleDrag),(0,Nr.removeEvent)(n,Co.touch.move,this.handleDrag),(0,Nr.removeEvent)(n,Co.mouse.stop,this.handleDragStop),(0,Nr.removeEvent)(n,Co.touch.stop,this.handleDragStop),(0,Nr.removeEvent)(e,Co.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Nr.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:eue.default.findDOMNode(this)}render(){return Ab.cloneElement(Ab.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};J0.default=e_;qr(e_,"displayName","DraggableCore");qr(e_,"propTypes",{allowAnyClick:oi.default.bool,children:oi.default.node.isRequired,disabled:oi.default.bool,enableUserSelectHack:oi.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:oi.default.arrayOf(oi.default.number),handle:oi.default.string,cancel:oi.default.string,nodeRef:oi.default.object,onStart:oi.default.func,onDrag:oi.default.func,onStop:oi.default.func,onMouseDown:oi.default.func,scale:oi.default.number,className:kb.dontSetMe,style:kb.dontSetMe,transform:kb.dontSetMe});qr(e_,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var e=h(E),n=u(AS),r=u(dp),i=u(Ece),o=Fn,s=_s,a=vs,l=u(J0),c=u(Z0);function u(w){return w&&w.__esModule?w:{default:w}}function f(w){if(typeof WeakMap!="function")return null;var v=new WeakMap,S=new WeakMap;return(f=function(k){return k?S:v})(w)}function h(w,v){if(!v&&w&&w.__esModule)return w;if(w===null||typeof w!="object"&&typeof w!="function")return{default:w};var S=f(v);if(S&&S.has(w))return S.get(w);var k={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in w)if(I!=="default"&&Object.prototype.hasOwnProperty.call(w,I)){var T=$?Object.getOwnPropertyDescriptor(w,I):null;T&&(T.get||T.set)?Object.defineProperty(k,I,T):k[I]=w[I]}return k.default=w,S&&S.set(w,k),k}function p(){return p=Object.assign?Object.assign.bind():function(w){for(var v=1;v<arguments.length;v++){var S=arguments[v];for(var k in S)Object.prototype.hasOwnProperty.call(S,k)&&(w[k]=S[k])}return w},p.apply(this,arguments)}function m(w,v,S){return v=b(v),v in w?Object.defineProperty(w,v,{value:S,enumerable:!0,configurable:!0,writable:!0}):w[v]=S,w}function b(w){var v=x(w,"string");return typeof v=="symbol"?v:String(v)}function x(w,v){if(typeof w!="object"||w===null)return w;var S=w[Symbol.toPrimitive];if(S!==void 0){var k=S.call(w,v||"default");if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(w)}class _ extends e.Component{static getDerivedStateFromProps(v,S){let{position:k}=v,{prevPropsPosition:$}=S;return k&&(!$||k.x!==$.x||k.y!==$.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:k,prevPropsPosition:$}),{x:k.x,y:k.y,prevPropsPosition:{...k}}):null}constructor(v){super(v),m(this,"onDragStart",(S,k)=>{if((0,c.default)("Draggable: onDragStart: %j",k),this.props.onStart(S,(0,s.createDraggableData)(this,k))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),m(this,"onDrag",(S,k)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",k);const $=(0,s.createDraggableData)(this,k),I={x:$.x,y:$.y,slackX:0,slackY:0};if(this.props.bounds){const{x:R,y}=I;I.x+=this.state.slackX,I.y+=this.state.slackY;const[P,M]=(0,s.getBoundPosition)(this,I.x,I.y);I.x=P,I.y=M,I.slackX=this.state.slackX+(R-I.x),I.slackY=this.state.slackY+(y-I.y),$.x=I.x,$.y=I.y,$.deltaX=I.x-this.state.x,$.deltaY=I.y-this.state.y}if(this.props.onDrag(S,$)===!1)return!1;this.setState(I)}),m(this,"onDragStop",(S,k)=>{if(!this.state.dragging||this.props.onStop(S,(0,s.createDraggableData)(this,k))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",k);const I={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:R,y}=this.props.position;I.x=R,I.y=y}this.setState(I)}),this.state={dragging:!1,dragged:!1,x:v.position?v.position.x:v.defaultPosition.x,y:v.position?v.position.y:v.defaultPosition.y,prevPropsPosition:{...v.position},slackX:0,slackY:0,isElementSVG:!1},v.position&&!(v.onDrag||v.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var v,S;return(v=(S=this.props)===null||S===void 0||(S=S.nodeRef)===null||S===void 0?void 0:S.current)!==null&&v!==void 0?v:r.default.findDOMNode(this)}render(){const{axis:v,bounds:S,children:k,defaultPosition:$,defaultClassName:I,defaultClassNameDragging:T,defaultClassNameDragged:R,position:y,positionOffset:P,scale:M,...A}=this.props;let z={},K=null;const Y=!!!y||this.state.dragging,U=y||$,B={x:(0,s.canDragX)(this)&&Y?this.state.x:U.x,y:(0,s.canDragY)(this)&&Y?this.state.y:U.y};this.state.isElementSVG?K=(0,o.createSVGTransform)(B,P):z=(0,o.createCSSTransform)(B,P);const W=(0,i.default)(k.props.className||"",I,{[T]:this.state.dragging,[R]:this.state.dragged});return e.createElement(l.default,p({},A,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(k),{className:W,style:{...k.props.style,...z},transform:K}))}}t.default=_,m(_,"displayName","Draggable"),m(_,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),m(_,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(o3);const{default:p3,DraggableCore:iue}=o3;Q0.exports=p3;Q0.exports.default=p3;Q0.exports.DraggableCore=iue;var oue=Q0.exports;const sue=op(oue),aue=100,lue=40,cue=E.memo(({node:t,zoom:e,groupDelta:n,isHighlighted:r,currentUserEmail:i,selectedNodes:o,editingNodeId:s,editedText:a,handleResizeMouseDown:l,handleNodeClick:c,handleDoubleClick:u,handleTyping:f,handleTextBlur:h,setEditedText:p,setHoveredNodeId:m,linkingSource:b,onStart:x,onDrag:_,onStop:w,hoveredNodeId:v})=>{const S=o.includes(t.id),k=v===t.id,$=((t.width||100)+(t.height||40))/2,I=Math.max(1,$*.02),T=o.includes(t.id)?t.x+n.x:t.x,R=o.includes(t.id)?t.y+n.y:t.y;let y="none";return S?y=`${I}px solid #8896DD`:k&&(y=`${I}px solid white`),O.jsx(sue,{scale:e,position:{x:T,y:R},onStart:x,onDrag:_,onStop:w,children:O.jsxs("div",{onMouseEnter:()=>m(t.id),onMouseLeave:()=>m(null),onClick:P=>{P.stopPropagation(),c(t,P)},onDoubleClick:()=>u(t),style:{position:"absolute",transform:`translate3d(${t.x}px, ${t.y}px, 0)`,padding:"5px",backgroundColor:t.bgColor?t.bgColor:b===t.id?"#333":"#1e1e1e",color:t.textColor||"#fff",borderRadius:"5%",cursor:"move",minWidth:"100px",width:t.width?`${t.width}px`:`${aue}px`,height:t.height?`${t.height}px`:`${lue}px`,overflow:"hidden",boxSizing:"border-box",fontSize:t.fontSize?`${t.fontSize}px`:"14px",textAlign:t.textAlign||"left",fontStyle:t.textStyle&&t.textStyle.includes("italic")?"italic":"normal",textDecoration:t.textStyle&&t.textStyle.includes("underline")?"underline":"none",fontWeight:t.textStyle&&t.textStyle.includes("bold")?"bold":"normal",fontFamily:t.fontFamily||"cursive",outline:y,outlineOffset:y!=="none"?`${I}px`:"0px"},children:[s===t.id?O.jsx("textarea",{value:a,onChange:P=>{p(P.target.value),f(t.id)},onBlur:()=>h(t.id),autoFocus:!0,style:{backgroundColor:"inherit",width:"100%",height:"100%",fontSize:"inherit",color:"inherit",fontFamily:"inherit",fontWeight:"inherit",textDecoration:"inherit",textAlign:"inherit",border:"none",outline:"none"}}):t.type==="image"?O.jsx("img",{src:t.imageUrl,alt:"Node content",style:{width:"100%",height:"100%",objectFit:"contain",pointerEvents:"none"}}):O.jsx("span",{style:{whiteSpace:"pre-wrap"},children:t.text}),t.lockedBy&&t.lockedBy!==i&&O.jsxs("div",{style:{position:"absolute",bottom:0,left:0,backgroundColor:"rgba(255,0,0,0.7)",color:"#fff",fontSize:"10px",padding:"2px",borderRadius:"2px"},children:["Locked by ",t.lockedBy]}),t.typing&&t.lockedBy&&t.lockedBy!==i&&O.jsx("div",{style:{position:"absolute",bottom:0,right:0,backgroundColor:"rgba(0,0,255,0.7)",color:"#fff",fontSize:"10px",padding:"2px",borderRadius:"2px"},children:"Typing..."}),O.jsx("div",{onMouseDown:P=>l(t,P),style:{position:"absolute",bottom:0,right:0,width:"10%",height:"10%",opacity:.5,cursor:"nwse-resize",backgroundColor:"#ccc"}})]})})}),uue=(t,e,n=150,r=800,i=1.5)=>{const o={},s=c=>{if(c.parent){if(o[c.parent]===void 0){const u=t.find(f=>f.id===c.parent);u?s(u):o[c.parent]=0}o[c.id]=o[c.parent]+1}else o[c.id]=0};t.forEach(c=>{o[c.id]===void 0&&s(c)});const a={};t.forEach(c=>{const u=o[c.id];a[u]||(a[u]=[]),a[u].push(c.id)});const l={};return Object.keys(a).forEach(c=>{const u=parseInt(c,10),f=a[u],h=f.length,p=r*Math.pow(i,u);f.forEach((m,b)=>{const _=(b+1)/(h+1)*p-p/2+r/2,w=u*n;l[m]={x:_,y:w}})}),{layout:l,levelMap:o}};var ro={},Gp={},due=typeof Aa=="object"&&Aa&&Aa.Object===Object&&Aa,g3=due,fue=g3,hue=typeof self=="object"&&self&&self.Object===Object&&self,pue=fue||hue||Function("return this")(),bs=pue,gue=bs,mue=gue.Symbol,qp=mue,oO=qp,m3=Object.prototype,yue=m3.hasOwnProperty,vue=m3.toString,xf=oO?oO.toStringTag:void 0;function _ue(t){var e=yue.call(t,xf),n=t[xf];try{t[xf]=void 0;var r=!0}catch{}var i=vue.call(t);return r&&(e?t[xf]=n:delete t[xf]),i}var bue=_ue,wue=Object.prototype,Eue=wue.toString;function xue(t){return Eue.call(t)}var Sue=xue,sO=qp,Cue=bue,Tue=Sue,Iue="[object Null]",Rue="[object Undefined]",aO=sO?sO.toStringTag:void 0;function Pue(t){return t==null?t===void 0?Rue:Iue:aO&&aO in Object(t)?Cue(t):Tue(t)}var vc=Pue,Aue=Array.isArray,Wo=Aue;function kue(t){return t!=null&&typeof t=="object"}var ua=kue,Oue=vc,Nue=Wo,$ue=ua,Mue="[object String]";function Due(t){return typeof t=="string"||!Nue(t)&&$ue(t)&&Oue(t)==Mue}var Lue=Due;function Fue(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var Bue=Fue,Vue=Bue,Uue=Vue(),jue=Uue;function zue(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Wue=zue,Hue=vc,Gue=ua,que="[object Arguments]";function Kue(t){return Gue(t)&&Hue(t)==que}var Yue=Kue,lO=Yue,Xue=ua,y3=Object.prototype,Que=y3.hasOwnProperty,Jue=y3.propertyIsEnumerable,Zue=lO(function(){return arguments}())?lO:function(t){return Xue(t)&&Que.call(t,"callee")&&!Jue.call(t,"callee")},v3=Zue,Jy={exports:{}};function ede(){return!1}var tde=ede;Jy.exports;(function(t,e){var n=bs,r=tde,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(Jy,Jy.exports);var UC=Jy.exports,nde=9007199254740991,rde=/^(?:0|[1-9]\d*)$/;function ide(t,e){var n=typeof t;return e=e??nde,!!e&&(n=="number"||n!="symbol"&&rde.test(t))&&t>-1&&t%1==0&&t<e}var _3=ide,ode=9007199254740991;function sde(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ode}var jC=sde,ade=vc,lde=jC,cde=ua,ude="[object Arguments]",dde="[object Array]",fde="[object Boolean]",hde="[object Date]",pde="[object Error]",gde="[object Function]",mde="[object Map]",yde="[object Number]",vde="[object Object]",_de="[object RegExp]",bde="[object Set]",wde="[object String]",Ede="[object WeakMap]",xde="[object ArrayBuffer]",Sde="[object DataView]",Cde="[object Float32Array]",Tde="[object Float64Array]",Ide="[object Int8Array]",Rde="[object Int16Array]",Pde="[object Int32Array]",Ade="[object Uint8Array]",kde="[object Uint8ClampedArray]",Ode="[object Uint16Array]",Nde="[object Uint32Array]",dn={};dn[Cde]=dn[Tde]=dn[Ide]=dn[Rde]=dn[Pde]=dn[Ade]=dn[kde]=dn[Ode]=dn[Nde]=!0;dn[ude]=dn[dde]=dn[xde]=dn[fde]=dn[Sde]=dn[hde]=dn[pde]=dn[gde]=dn[mde]=dn[yde]=dn[vde]=dn[_de]=dn[bde]=dn[wde]=dn[Ede]=!1;function $de(t){return cde(t)&&lde(t.length)&&!!dn[ade(t)]}var Mde=$de;function Dde(t){return function(e){return t(e)}}var zC=Dde,Zy={exports:{}};Zy.exports;(function(t,e){var n=g3,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Zy,Zy.exports);var WC=Zy.exports,Lde=Mde,Fde=zC,cO=WC,uO=cO&&cO.isTypedArray,Bde=uO?Fde(uO):Lde,b3=Bde,Vde=Wue,Ude=v3,jde=Wo,zde=UC,Wde=_3,Hde=b3,Gde=Object.prototype,qde=Gde.hasOwnProperty;function Kde(t,e){var n=jde(t),r=!n&&Ude(t),i=!n&&!r&&zde(t),o=!n&&!r&&!i&&Hde(t),s=n||r||i||o,a=s?Vde(t.length,String):[],l=a.length;for(var c in t)(e||qde.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Wde(c,l)))&&a.push(c);return a}var w3=Kde,Yde=Object.prototype;function Xde(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Yde;return t===n}var HC=Xde;function Qde(t,e){return function(n){return t(e(n))}}var E3=Qde,Jde=E3,Zde=Jde(Object.keys,Object),efe=Zde,tfe=HC,nfe=efe,rfe=Object.prototype,ife=rfe.hasOwnProperty;function ofe(t){if(!tfe(t))return nfe(t);var e=[];for(var n in Object(t))ife.call(t,n)&&n!="constructor"&&e.push(n);return e}var sfe=ofe;function afe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Dd=afe,lfe=vc,cfe=Dd,ufe="[object AsyncFunction]",dfe="[object Function]",ffe="[object GeneratorFunction]",hfe="[object Proxy]";function pfe(t){if(!cfe(t))return!1;var e=lfe(t);return e==dfe||e==ffe||e==ufe||e==hfe}var x3=pfe,gfe=x3,mfe=jC;function yfe(t){return t!=null&&mfe(t.length)&&!gfe(t)}var t_=yfe,vfe=w3,_fe=sfe,bfe=t_;function wfe(t){return bfe(t)?vfe(t):_fe(t)}var Kp=wfe,Efe=jue,xfe=Kp;function Sfe(t,e){return t&&Efe(t,e,xfe)}var S3=Sfe;function Cfe(t){return t}var C3=Cfe,Tfe=C3;function Ife(t){return typeof t=="function"?t:Tfe}var Rfe=Ife,Pfe=S3,Afe=Rfe;function kfe(t,e){return t&&Pfe(t,Afe(e))}var GC=kfe,Ofe=E3,Nfe=Ofe(Object.getPrototypeOf,Object),qC=Nfe,$fe=vc,Mfe=qC,Dfe=ua,Lfe="[object Object]",Ffe=Function.prototype,Bfe=Object.prototype,T3=Ffe.toString,Vfe=Bfe.hasOwnProperty,Ufe=T3.call(Object);function jfe(t){if(!Dfe(t)||$fe(t)!=Lfe)return!1;var e=Mfe(t);if(e===null)return!0;var n=Vfe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&T3.call(n)==Ufe}var zfe=jfe;function Wfe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var I3=Wfe;function Hfe(){this.__data__=[],this.size=0}var Gfe=Hfe;function qfe(t,e){return t===e||t!==t&&e!==e}var KC=qfe,Kfe=KC;function Yfe(t,e){for(var n=t.length;n--;)if(Kfe(t[n][0],e))return n;return-1}var n_=Yfe,Xfe=n_,Qfe=Array.prototype,Jfe=Qfe.splice;function Zfe(t){var e=this.__data__,n=Xfe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Jfe.call(e,n,1),--this.size,!0}var ehe=Zfe,the=n_;function nhe(t){var e=this.__data__,n=the(e,t);return n<0?void 0:e[n][1]}var rhe=nhe,ihe=n_;function ohe(t){return ihe(this.__data__,t)>-1}var she=ohe,ahe=n_;function lhe(t,e){var n=this.__data__,r=ahe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var che=lhe,uhe=Gfe,dhe=ehe,fhe=rhe,hhe=she,phe=che;function Ld(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ld.prototype.clear=uhe;Ld.prototype.delete=dhe;Ld.prototype.get=fhe;Ld.prototype.has=hhe;Ld.prototype.set=phe;var r_=Ld,ghe=r_;function mhe(){this.__data__=new ghe,this.size=0}var yhe=mhe;function vhe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var _he=vhe;function bhe(t){return this.__data__.get(t)}var whe=bhe;function Ehe(t){return this.__data__.has(t)}var xhe=Ehe,She=bs,Che=She["__core-js_shared__"],The=Che,Ob=The,dO=function(){var t=/[^.]+$/.exec(Ob&&Ob.keys&&Ob.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Ihe(t){return!!dO&&dO in t}var Rhe=Ihe,Phe=Function.prototype,Ahe=Phe.toString;function khe(t){if(t!=null){try{return Ahe.call(t)}catch{}try{return t+""}catch{}}return""}var R3=khe,Ohe=x3,Nhe=Rhe,$he=Dd,Mhe=R3,Dhe=/[\\^$.*+?()[\]{}|]/g,Lhe=/^\[object .+?Constructor\]$/,Fhe=Function.prototype,Bhe=Object.prototype,Vhe=Fhe.toString,Uhe=Bhe.hasOwnProperty,jhe=RegExp("^"+Vhe.call(Uhe).replace(Dhe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zhe(t){if(!$he(t)||Nhe(t))return!1;var e=Ohe(t)?jhe:Lhe;return e.test(Mhe(t))}var Whe=zhe;function Hhe(t,e){return t==null?void 0:t[e]}var Ghe=Hhe,qhe=Whe,Khe=Ghe;function Yhe(t,e){var n=Khe(t,e);return qhe(n)?n:void 0}var _c=Yhe,Xhe=_c,Qhe=bs,Jhe=Xhe(Qhe,"Map"),YC=Jhe,Zhe=_c,epe=Zhe(Object,"create"),i_=epe,fO=i_;function tpe(){this.__data__=fO?fO(null):{},this.size=0}var npe=tpe;function rpe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ipe=rpe,ope=i_,spe="__lodash_hash_undefined__",ape=Object.prototype,lpe=ape.hasOwnProperty;function cpe(t){var e=this.__data__;if(ope){var n=e[t];return n===spe?void 0:n}return lpe.call(e,t)?e[t]:void 0}var upe=cpe,dpe=i_,fpe=Object.prototype,hpe=fpe.hasOwnProperty;function ppe(t){var e=this.__data__;return dpe?e[t]!==void 0:hpe.call(e,t)}var gpe=ppe,mpe=i_,ype="__lodash_hash_undefined__";function vpe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mpe&&e===void 0?ype:e,this}var _pe=vpe,bpe=npe,wpe=ipe,Epe=upe,xpe=gpe,Spe=_pe;function Fd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Fd.prototype.clear=bpe;Fd.prototype.delete=wpe;Fd.prototype.get=Epe;Fd.prototype.has=xpe;Fd.prototype.set=Spe;var Cpe=Fd,hO=Cpe,Tpe=r_,Ipe=YC;function Rpe(){this.size=0,this.__data__={hash:new hO,map:new(Ipe||Tpe),string:new hO}}var Ppe=Rpe;function Ape(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var kpe=Ape,Ope=kpe;function Npe(t,e){var n=t.__data__;return Ope(e)?n[typeof e=="string"?"string":"hash"]:n.map}var o_=Npe,$pe=o_;function Mpe(t){var e=$pe(this,t).delete(t);return this.size-=e?1:0,e}var Dpe=Mpe,Lpe=o_;function Fpe(t){return Lpe(this,t).get(t)}var Bpe=Fpe,Vpe=o_;function Upe(t){return Vpe(this,t).has(t)}var jpe=Upe,zpe=o_;function Wpe(t,e){var n=zpe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Hpe=Wpe,Gpe=Ppe,qpe=Dpe,Kpe=Bpe,Ype=jpe,Xpe=Hpe;function Bd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bd.prototype.clear=Gpe;Bd.prototype.delete=qpe;Bd.prototype.get=Kpe;Bd.prototype.has=Ype;Bd.prototype.set=Xpe;var XC=Bd,Qpe=r_,Jpe=YC,Zpe=XC,ege=200;function tge(t,e){var n=this.__data__;if(n instanceof Qpe){var r=n.__data__;if(!Jpe||r.length<ege-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Zpe(r)}return n.set(t,e),this.size=n.size,this}var nge=tge,rge=r_,ige=yhe,oge=_he,sge=whe,age=xhe,lge=nge;function Vd(t){var e=this.__data__=new rge(t);this.size=e.size}Vd.prototype.clear=ige;Vd.prototype.delete=oge;Vd.prototype.get=sge;Vd.prototype.has=age;Vd.prototype.set=lge;var QC=Vd,cge="__lodash_hash_undefined__";function uge(t){return this.__data__.set(t,cge),this}var dge=uge;function fge(t){return this.__data__.has(t)}var hge=fge,pge=XC,gge=dge,mge=hge;function ev(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new pge;++e<n;)this.add(t[e])}ev.prototype.add=ev.prototype.push=gge;ev.prototype.has=mge;var yge=ev;function vge(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var _ge=vge;function bge(t,e){return t.has(e)}var wge=bge,Ege=yge,xge=_ge,Sge=wge,Cge=1,Tge=2;function Ige(t,e,n,r,i,o){var s=n&Cge,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=n&Tge?new Ege:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var m=t[f],b=e[f];if(r)var x=s?r(b,m,f,e,t,o):r(m,b,f,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!xge(e,function(_,w){if(!Sge(p,w)&&(m===_||i(m,_,n,r,o)))return p.push(w)})){h=!1;break}}else if(!(m===b||i(m,b,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var P3=Ige,Rge=bs,Pge=Rge.Uint8Array,A3=Pge;function Age(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var kge=Age;function Oge(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Nge=Oge,pO=qp,gO=A3,$ge=KC,Mge=P3,Dge=kge,Lge=Nge,Fge=1,Bge=2,Vge="[object Boolean]",Uge="[object Date]",jge="[object Error]",zge="[object Map]",Wge="[object Number]",Hge="[object RegExp]",Gge="[object Set]",qge="[object String]",Kge="[object Symbol]",Yge="[object ArrayBuffer]",Xge="[object DataView]",mO=pO?pO.prototype:void 0,Nb=mO?mO.valueOf:void 0;function Qge(t,e,n,r,i,o,s){switch(n){case Xge:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Yge:return!(t.byteLength!=e.byteLength||!o(new gO(t),new gO(e)));case Vge:case Uge:case Wge:return $ge(+t,+e);case jge:return t.name==e.name&&t.message==e.message;case Hge:case qge:return t==e+"";case zge:var a=Dge;case Gge:var l=r&Fge;if(a||(a=Lge),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=Bge,s.set(t,e);var u=Mge(a(t),a(e),r,i,o,s);return s.delete(t),u;case Kge:if(Nb)return Nb.call(t)==Nb.call(e)}return!1}var Jge=Qge;function Zge(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var k3=Zge,eme=k3,tme=Wo;function nme(t,e,n){var r=e(t);return tme(t)?r:eme(r,n(t))}var O3=nme;function rme(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var ime=rme;function ome(){return[]}var N3=ome,sme=ime,ame=N3,lme=Object.prototype,cme=lme.propertyIsEnumerable,yO=Object.getOwnPropertySymbols,ume=yO?function(t){return t==null?[]:(t=Object(t),sme(yO(t),function(e){return cme.call(t,e)}))}:ame,JC=ume,dme=O3,fme=JC,hme=Kp;function pme(t){return dme(t,hme,fme)}var $3=pme,vO=$3,gme=1,mme=Object.prototype,yme=mme.hasOwnProperty;function vme(t,e,n,r,i,o){var s=n&gme,a=vO(t),l=a.length,c=vO(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:yme.call(e,h)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var b=!0;o.set(t,e),o.set(e,t);for(var x=s;++f<l;){h=a[f];var _=t[h],w=e[h];if(r)var v=s?r(w,_,h,e,t,o):r(_,w,h,t,e,o);if(!(v===void 0?_===w||i(_,w,n,r,o):v)){b=!1;break}x||(x=h=="constructor")}if(b&&!x){var S=t.constructor,k=e.constructor;S!=k&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof k=="function"&&k instanceof k)&&(b=!1)}return o.delete(t),o.delete(e),b}var _me=vme,bme=_c,wme=bs,Eme=bme(wme,"DataView"),xme=Eme,Sme=_c,Cme=bs,Tme=Sme(Cme,"Promise"),Ime=Tme,Rme=_c,Pme=bs,Ame=Rme(Pme,"Set"),kme=Ame,Ome=_c,Nme=bs,$me=Ome(Nme,"WeakMap"),Mme=$me,t1=xme,n1=YC,r1=Ime,i1=kme,o1=Mme,M3=vc,Ud=R3,_O="[object Map]",Dme="[object Object]",bO="[object Promise]",wO="[object Set]",EO="[object WeakMap]",xO="[object DataView]",Lme=Ud(t1),Fme=Ud(n1),Bme=Ud(r1),Vme=Ud(i1),Ume=Ud(o1),kl=M3;(t1&&kl(new t1(new ArrayBuffer(1)))!=xO||n1&&kl(new n1)!=_O||r1&&kl(r1.resolve())!=bO||i1&&kl(new i1)!=wO||o1&&kl(new o1)!=EO)&&(kl=function(t){var e=M3(t),n=e==Dme?t.constructor:void 0,r=n?Ud(n):"";if(r)switch(r){case Lme:return xO;case Fme:return _O;case Bme:return bO;case Vme:return wO;case Ume:return EO}return e});var s_=kl,$b=QC,jme=P3,zme=Jge,Wme=_me,SO=s_,CO=Wo,TO=UC,Hme=b3,Gme=1,IO="[object Arguments]",RO="[object Array]",Jg="[object Object]",qme=Object.prototype,PO=qme.hasOwnProperty;function Kme(t,e,n,r,i,o){var s=CO(t),a=CO(e),l=s?RO:SO(t),c=a?RO:SO(e);l=l==IO?Jg:l,c=c==IO?Jg:c;var u=l==Jg,f=c==Jg,h=l==c;if(h&&TO(t)){if(!TO(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new $b),s||Hme(t)?jme(t,e,n,r,i,o):zme(t,e,l,n,r,i,o);if(!(n&Gme)){var p=u&&PO.call(t,"__wrapped__"),m=f&&PO.call(e,"__wrapped__");if(p||m){var b=p?t.value():t,x=m?e.value():e;return o||(o=new $b),i(b,x,n,r,o)}}return h?(o||(o=new $b),Wme(t,e,n,r,i,o)):!1}var Yme=Kme,Xme=Yme,AO=ua;function D3(t,e,n,r,i){return t===e?!0:t==null||e==null||!AO(t)&&!AO(e)?t!==t&&e!==e:Xme(t,e,n,r,D3,i)}var L3=D3,Qme=QC,Jme=L3,Zme=1,eye=2;function tye(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],c=t[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new Qme;if(r)var h=r(c,u,l,t,e,f);if(!(h===void 0?Jme(u,c,Zme|eye,r,f):h))return!1}}return!0}var nye=tye,rye=Dd;function iye(t){return t===t&&!rye(t)}var F3=iye,oye=F3,sye=Kp;function aye(t){for(var e=sye(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,oye(i)]}return e}var lye=aye;function cye(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var B3=cye,uye=nye,dye=lye,fye=B3;function hye(t){var e=dye(t);return e.length==1&&e[0][2]?fye(e[0][0],e[0][1]):function(n){return n===t||uye(n,t,e)}}var pye=hye,gye=vc,mye=ua,yye="[object Symbol]";function vye(t){return typeof t=="symbol"||mye(t)&&gye(t)==yye}var ZC=vye,_ye=Wo,bye=ZC,wye=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Eye=/^\w*$/;function xye(t,e){if(_ye(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||bye(t)?!0:Eye.test(t)||!wye.test(t)||e!=null&&t in Object(e)}var eT=xye,V3=XC,Sye="Expected a function";function tT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Sye);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(tT.Cache||V3),n}tT.Cache=V3;var Cye=tT,Tye=Cye,Iye=500;function Rye(t){var e=Tye(t,function(r){return n.size===Iye&&n.clear(),r}),n=e.cache;return e}var Pye=Rye,Aye=Pye,kye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Oye=/\\(\\)?/g,Nye=Aye(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(kye,function(n,r,i,o){e.push(i?o.replace(Oye,"$1"):r||n)}),e}),$ye=Nye,kO=qp,Mye=I3,Dye=Wo,Lye=ZC,Fye=1/0,OO=kO?kO.prototype:void 0,NO=OO?OO.toString:void 0;function U3(t){if(typeof t=="string")return t;if(Dye(t))return Mye(t,U3)+"";if(Lye(t))return NO?NO.call(t):"";var e=t+"";return e=="0"&&1/t==-Fye?"-0":e}var Bye=U3,Vye=Bye;function Uye(t){return t==null?"":Vye(t)}var jye=Uye,zye=Wo,Wye=eT,Hye=$ye,Gye=jye;function qye(t,e){return zye(t)?t:Wye(t,e)?[t]:Hye(Gye(t))}var j3=qye,Kye=ZC,Yye=1/0;function Xye(t){if(typeof t=="string"||Kye(t))return t;var e=t+"";return e=="0"&&1/t==-Yye?"-0":e}var a_=Xye,Qye=j3,Jye=a_;function Zye(t,e){e=Qye(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Jye(e[n++])];return n&&n==r?t:void 0}var z3=Zye,eve=z3;function tve(t,e,n){var r=t==null?void 0:eve(t,e);return r===void 0?n:r}var nve=tve;function rve(t,e){return t!=null&&e in Object(t)}var ive=rve,ove=j3,sve=v3,ave=Wo,lve=_3,cve=jC,uve=a_;function dve(t,e,n){e=ove(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=uve(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&cve(i)&&lve(s,i)&&(ave(t)||sve(t)))}var fve=dve,hve=ive,pve=fve;function gve(t,e){return t!=null&&pve(t,e,hve)}var mve=gve,yve=L3,vve=nve,_ve=mve,bve=eT,wve=F3,Eve=B3,xve=a_,Sve=1,Cve=2;function Tve(t,e){return bve(t)&&wve(e)?Eve(xve(t),e):function(n){var r=vve(n,t);return r===void 0&&r===e?_ve(n,t):yve(e,r,Sve|Cve)}}var Ive=Tve;function Rve(t){return function(e){return e==null?void 0:e[t]}}var Pve=Rve,Ave=z3;function kve(t){return function(e){return Ave(e,t)}}var Ove=kve,Nve=Pve,$ve=Ove,Mve=eT,Dve=a_;function Lve(t){return Mve(t)?Nve(Dve(t)):$ve(t)}var Fve=Lve,Bve=pye,Vve=Ive,Uve=C3,jve=Wo,zve=Fve;function Wve(t){return typeof t=="function"?t:t==null?Uve:typeof t=="object"?jve(t)?Vve(t[0],t[1]):Bve(t):zve(t)}var Hve=Wve,Gve=t_;function qve(t,e){return function(n,r){if(n==null)return n;if(!Gve(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Kve=qve,Yve=S3,Xve=Kve,Qve=Xve(Yve),Jve=Qve,Zve=Jve,e0e=t_;function t0e(t,e){var n=-1,r=e0e(t)?Array(t.length):[];return Zve(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var n0e=t0e,r0e=I3,i0e=Hve,o0e=n0e,s0e=Wo;function a0e(t,e){var n=s0e(t)?r0e:o0e;return n(t,i0e(e))}var l0e=a0e;Object.defineProperty(Gp,"__esModule",{value:!0});Gp.flattenNames=void 0;var c0e=Lue,u0e=l_(c0e),d0e=GC,f0e=l_(d0e),h0e=zfe,p0e=l_(h0e),g0e=l0e,m0e=l_(g0e);function l_(t){return t&&t.__esModule?t:{default:t}}var y0e=Gp.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,m0e.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,p0e.default)(r)?(0,f0e.default)(r,function(i,o){i===!0&&n.push(o),n.push(o+"-"+i)}):(0,u0e.default)(r)&&n.push(r)}),n};Gp.default=y0e;var Yp={};function v0e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var _0e=v0e,b0e=_c,w0e=function(){try{var t=b0e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),E0e=w0e,$O=E0e;function x0e(t,e,n){e=="__proto__"&&$O?$O(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var W3=x0e,S0e=W3,C0e=KC,T0e=Object.prototype,I0e=T0e.hasOwnProperty;function R0e(t,e,n){var r=t[e];(!(I0e.call(t,e)&&C0e(r,n))||n===void 0&&!(e in t))&&S0e(t,e,n)}var H3=R0e,P0e=H3,A0e=W3;function k0e(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?A0e(n,a,l):P0e(n,a,l)}return n}var c_=k0e,O0e=c_,N0e=Kp;function $0e(t,e){return t&&O0e(e,N0e(e),t)}var M0e=$0e;function D0e(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var L0e=D0e,F0e=Dd,B0e=HC,V0e=L0e,U0e=Object.prototype,j0e=U0e.hasOwnProperty;function z0e(t){if(!F0e(t))return V0e(t);var e=B0e(t),n=[];for(var r in t)r=="constructor"&&(e||!j0e.call(t,r))||n.push(r);return n}var W0e=z0e,H0e=w3,G0e=W0e,q0e=t_;function K0e(t){return q0e(t)?H0e(t,!0):G0e(t)}var nT=K0e,Y0e=c_,X0e=nT;function Q0e(t,e){return t&&Y0e(e,X0e(e),t)}var J0e=Q0e,tv={exports:{}};tv.exports;(function(t,e){var n=bs,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var f=c.length,h=a?a(f):new c.constructor(f);return c.copy(h),h}t.exports=l})(tv,tv.exports);var Z0e=tv.exports;function e_e(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var t_e=e_e,n_e=c_,r_e=JC;function i_e(t,e){return n_e(t,r_e(t),e)}var o_e=i_e,s_e=k3,a_e=qC,l_e=JC,c_e=N3,u_e=Object.getOwnPropertySymbols,d_e=u_e?function(t){for(var e=[];t;)s_e(e,l_e(t)),t=a_e(t);return e}:c_e,G3=d_e,f_e=c_,h_e=G3;function p_e(t,e){return f_e(t,h_e(t),e)}var g_e=p_e,m_e=O3,y_e=G3,v_e=nT;function __e(t){return m_e(t,v_e,y_e)}var b_e=__e,w_e=Object.prototype,E_e=w_e.hasOwnProperty;function x_e(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&E_e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var S_e=x_e,MO=A3;function C_e(t){var e=new t.constructor(t.byteLength);return new MO(e).set(new MO(t)),e}var rT=C_e,T_e=rT;function I_e(t,e){var n=e?T_e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var R_e=I_e,P_e=/\w*$/;function A_e(t){var e=new t.constructor(t.source,P_e.exec(t));return e.lastIndex=t.lastIndex,e}var k_e=A_e,DO=qp,LO=DO?DO.prototype:void 0,FO=LO?LO.valueOf:void 0;function O_e(t){return FO?Object(FO.call(t)):{}}var N_e=O_e,$_e=rT;function M_e(t,e){var n=e?$_e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var D_e=M_e,L_e=rT,F_e=R_e,B_e=k_e,V_e=N_e,U_e=D_e,j_e="[object Boolean]",z_e="[object Date]",W_e="[object Map]",H_e="[object Number]",G_e="[object RegExp]",q_e="[object Set]",K_e="[object String]",Y_e="[object Symbol]",X_e="[object ArrayBuffer]",Q_e="[object DataView]",J_e="[object Float32Array]",Z_e="[object Float64Array]",ebe="[object Int8Array]",tbe="[object Int16Array]",nbe="[object Int32Array]",rbe="[object Uint8Array]",ibe="[object Uint8ClampedArray]",obe="[object Uint16Array]",sbe="[object Uint32Array]";function abe(t,e,n){var r=t.constructor;switch(e){case X_e:return L_e(t);case j_e:case z_e:return new r(+t);case Q_e:return F_e(t,n);case J_e:case Z_e:case ebe:case tbe:case nbe:case rbe:case ibe:case obe:case sbe:return U_e(t,n);case W_e:return new r;case H_e:case K_e:return new r(t);case G_e:return B_e(t);case q_e:return new r;case Y_e:return V_e(t)}}var lbe=abe,cbe=Dd,BO=Object.create,ube=function(){function t(){}return function(e){if(!cbe(e))return{};if(BO)return BO(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),dbe=ube,fbe=dbe,hbe=qC,pbe=HC;function gbe(t){return typeof t.constructor=="function"&&!pbe(t)?fbe(hbe(t)):{}}var mbe=gbe,ybe=s_,vbe=ua,_be="[object Map]";function bbe(t){return vbe(t)&&ybe(t)==_be}var wbe=bbe,Ebe=wbe,xbe=zC,VO=WC,UO=VO&&VO.isMap,Sbe=UO?xbe(UO):Ebe,Cbe=Sbe,Tbe=s_,Ibe=ua,Rbe="[object Set]";function Pbe(t){return Ibe(t)&&Tbe(t)==Rbe}var Abe=Pbe,kbe=Abe,Obe=zC,jO=WC,zO=jO&&jO.isSet,Nbe=zO?Obe(zO):kbe,$be=Nbe,Mbe=QC,Dbe=_0e,Lbe=H3,Fbe=M0e,Bbe=J0e,Vbe=Z0e,Ube=t_e,jbe=o_e,zbe=g_e,Wbe=$3,Hbe=b_e,Gbe=s_,qbe=S_e,Kbe=lbe,Ybe=mbe,Xbe=Wo,Qbe=UC,Jbe=Cbe,Zbe=Dd,ewe=$be,twe=Kp,nwe=nT,rwe=1,iwe=2,owe=4,q3="[object Arguments]",swe="[object Array]",awe="[object Boolean]",lwe="[object Date]",cwe="[object Error]",K3="[object Function]",uwe="[object GeneratorFunction]",dwe="[object Map]",fwe="[object Number]",Y3="[object Object]",hwe="[object RegExp]",pwe="[object Set]",gwe="[object String]",mwe="[object Symbol]",ywe="[object WeakMap]",vwe="[object ArrayBuffer]",_we="[object DataView]",bwe="[object Float32Array]",wwe="[object Float64Array]",Ewe="[object Int8Array]",xwe="[object Int16Array]",Swe="[object Int32Array]",Cwe="[object Uint8Array]",Twe="[object Uint8ClampedArray]",Iwe="[object Uint16Array]",Rwe="[object Uint32Array]",nn={};nn[q3]=nn[swe]=nn[vwe]=nn[_we]=nn[awe]=nn[lwe]=nn[bwe]=nn[wwe]=nn[Ewe]=nn[xwe]=nn[Swe]=nn[dwe]=nn[fwe]=nn[Y3]=nn[hwe]=nn[pwe]=nn[gwe]=nn[mwe]=nn[Cwe]=nn[Twe]=nn[Iwe]=nn[Rwe]=!0;nn[cwe]=nn[K3]=nn[ywe]=!1;function Nm(t,e,n,r,i,o){var s,a=e&rwe,l=e&iwe,c=e&owe;if(n&&(s=i?n(t,r,i,o):n(t)),s!==void 0)return s;if(!Zbe(t))return t;var u=Xbe(t);if(u){if(s=qbe(t),!a)return Ube(t,s)}else{var f=Gbe(t),h=f==K3||f==uwe;if(Qbe(t))return Vbe(t,a);if(f==Y3||f==q3||h&&!i){if(s=l||h?{}:Ybe(t),!a)return l?zbe(t,Bbe(s,t)):jbe(t,Fbe(s,t))}else{if(!nn[f])return i?t:{};s=Kbe(t,f,a)}}o||(o=new Mbe);var p=o.get(t);if(p)return p;o.set(t,s),ewe(t)?t.forEach(function(x){s.add(Nm(x,e,n,x,t,o))}):Jbe(t)&&t.forEach(function(x,_){s.set(_,Nm(x,e,n,_,t,o))});var m=c?l?Hbe:Wbe:l?nwe:twe,b=u?void 0:m(t);return Dbe(b||t,function(x,_){b&&(_=x,x=t[_]),Lbe(s,_,Nm(x,e,n,_,t,o))}),s}var Pwe=Nm,Awe=Pwe,kwe=1,Owe=4;function Nwe(t){return Awe(t,kwe|Owe)}var $we=Nwe;Object.defineProperty(Yp,"__esModule",{value:!0});Yp.mergeClasses=void 0;var Mwe=GC,Dwe=X3(Mwe),Lwe=$we,Fwe=X3(Lwe),Bwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function X3(t){return t&&t.__esModule?t:{default:t}}var Vwe=Yp.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,Fwe.default)(e.default)||{};return n.map(function(i){var o=e[i];return o&&(0,Dwe.default)(o,function(s,a){r[a]||(r[a]={}),r[a]=Bwe({},r[a],o[a])}),i}),r};Yp.default=Vwe;var Xp={};Object.defineProperty(Xp,"__esModule",{value:!0});Xp.autoprefix=void 0;var Uwe=GC,WO=zwe(Uwe),jwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function zwe(t){return t&&t.__esModule?t:{default:t}}var Wwe={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},Hwe=Xp.autoprefix=function(e){var n={};return(0,WO.default)(e,function(r,i){var o={};(0,WO.default)(r,function(s,a){var l=Wwe[a];l?o=jwe({},o,l(s)):o[a]=s}),n[i]=o}),n};Xp.default=Hwe;var Qp={};Object.defineProperty(Qp,"__esModule",{value:!0});Qp.hover=void 0;var Gwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qwe=E,Mb=Kwe(qwe);function Kwe(t){return t&&t.__esModule?t:{default:t}}function Ywe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Xwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Qwe=Qp.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Xwe(i,r);function i(){var o,s,a,l;Ywe(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(s=(a=HO(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(u))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return Mb.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},Mb.default.createElement(e,Gwe({},a.props,a.state)))},s),HO(a,l)}return i}(Mb.default.Component)};Qp.default=Qwe;var Jp={};Object.defineProperty(Jp,"__esModule",{value:!0});Jp.active=void 0;var Jwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zwe=E,Db=eEe(Zwe);function eEe(t){return t&&t.__esModule?t:{default:t}}function tEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function nEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var rEe=Jp.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){nEe(i,r);function i(){var o,s,a,l;tEe(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(s=(a=GO(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(u))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return Db.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},Db.default.createElement(e,Jwe({},a.props,a.state)))},s),GO(a,l)}return i}(Db.default.Component)};Jp.default=rEe;var iT={};Object.defineProperty(iT,"__esModule",{value:!0});var iEe=function(e,n){var r={},i=function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[s]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};iT.default=iEe;Object.defineProperty(ro,"__esModule",{value:!0});ro.ReactCSS=ro.loop=ro.handleActive=oT=ro.handleHover=ro.hover=void 0;var oEe=Gp,sEe=jd(oEe),aEe=Yp,lEe=jd(aEe),cEe=Xp,uEe=jd(cEe),dEe=Qp,Q3=jd(dEe),fEe=Jp,hEe=jd(fEe),pEe=iT,gEe=jd(pEe);function jd(t){return t&&t.__esModule?t:{default:t}}ro.hover=Q3.default;var oT=ro.handleHover=Q3.default;ro.handleActive=hEe.default;ro.loop=gEe.default;var mEe=ro.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=(0,sEe.default)(r),s=(0,lEe.default)(e,o);return(0,uEe.default)(s)},Qe=ro.default=mEe,yEe=function(e,n,r,i,o){var s=o.clientWidth,a=o.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=l-(o.getBoundingClientRect().left+window.pageXOffset),f=c-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var h=void 0;if(f<0?h=0:f>a?h=1:h=Math.round(f*100/a)/100,n.a!==h)return{h:n.h,s:n.s,l:n.l,a:h,source:"rgb"}}else{var p=void 0;if(u<0?p=0:u>s?p=1:p=Math.round(u*100/s)/100,i!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}return null},Lb={},vEe=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var s=o.getContext("2d");return s?(s.fillStyle=e,s.fillRect(0,0,o.width,o.height),s.fillStyle=n,s.fillRect(0,0,r,r),s.translate(r,r),s.fillRect(0,0,r,r),o.toDataURL()):null},_Ee=function(e,n,r,i){var o=e+"-"+n+"-"+r+(i?"-server":"");if(Lb[o])return Lb[o];var s=vEe(e,n,r,i);return Lb[o]=s,s},qO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zd=function(e){var n=e.white,r=e.grey,i=e.size,o=e.renderers,s=e.borderRadius,a=e.boxShadow,l=e.children,c=Qe({default:{grid:{borderRadius:s,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+_Ee(n,r,i,o.canvas)+") center left"}}});return E.isValidElement(l)?D.cloneElement(l,qO({},l.props,{style:qO({},l.props.style,c.grid)})):D.createElement("div",{style:c.grid})};zd.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var bEe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wEe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function EEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function xEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var sT=function(t){xEe(e,t);function e(){var n,r,i,o;EEe(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=KO(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var u=yEe(c,i.props.hsl,i.props.direction,i.props.a,i.container);u&&typeof i.props.onChange=="function"&&i.props.onChange(u,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),KO(i,o)}return wEe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=Qe({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:bEe({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return D.createElement("div",{style:o.alpha},D.createElement("div",{style:o.checkboard},D.createElement(zd,{renderers:this.props.renderers})),D.createElement("div",{style:o.gradient}),D.createElement("div",{style:o.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},D.createElement("div",{style:o.pointer},this.props.pointer?D.createElement(this.props.pointer,this.props):D.createElement("div",{style:o.slider}))))}}]),e}(E.PureComponent||E.Component),SEe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function CEe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IEe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function REe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var PEe=1,J3=38,AEe=40,kEe=[J3,AEe],OEe=function(e){return kEe.indexOf(e)>-1},NEe=function(e){return Number(String(e).replace(/%/g,""))},$Ee=1,Rt=function(t){REe(e,t);function e(n){TEe(this,e);var r=IEe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=NEe(i.target.value);if(!isNaN(o)&&OEe(i.keyCode)){var s=r.getArrowOffset(),a=i.keyCode===J3?o+s:o-s;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+$Ee++,r}return SEe(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return CEe({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||PEe}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=Qe({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return D.createElement("div",{style:i.wrap},D.createElement("input",{id:this.inputId,style:i.input,ref:function(s){return r.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?D.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(E.PureComponent||E.Component),MEe=function(e,n,r,i){var o=i.clientWidth,s=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(i.getBoundingClientRect().left+window.pageXOffset),u=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var f=void 0;if(u<0)f=359;else if(u>s)f=0;else{var h=-(u*100/s)+100;f=360*h/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var p=void 0;if(c<0)p=0;else if(c>o)p=359;else{var m=c*100/o;p=360*m/100}if(r.h!==p)return{h:p,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},DEe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function LEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function FEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Wd=function(t){FEe(e,t);function e(){var n,r,i,o;LEe(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=YO(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var u=MEe(c,i.props.direction,i.props.hsl,i.container);u&&typeof i.props.onChange=="function"&&i.props.onChange(u,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),YO(i,o)}return DEe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,s=Qe({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return D.createElement("div",{style:s.hue},D.createElement("div",{className:"hue-"+o,style:s.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},D.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),D.createElement("div",{style:s.pointer},this.props.pointer?D.createElement(this.props.pointer,this.props):D.createElement("div",{style:s.slider}))))}}]),e}(E.PureComponent||E.Component);function BEe(){this.__data__=[],this.size=0}function Zp(t,e){return t===e||t!==t&&e!==e}function u_(t,e){for(var n=t.length;n--;)if(Zp(t[n][0],e))return n;return-1}var VEe=Array.prototype,UEe=VEe.splice;function jEe(t){var e=this.__data__,n=u_(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():UEe.call(e,n,1),--this.size,!0}function zEe(t){var e=this.__data__,n=u_(e,t);return n<0?void 0:e[n][1]}function WEe(t){return u_(this.__data__,t)>-1}function HEe(t,e){var n=this.__data__,r=u_(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function da(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}da.prototype.clear=BEe;da.prototype.delete=jEe;da.prototype.get=zEe;da.prototype.has=WEe;da.prototype.set=HEe;function GEe(){this.__data__=new da,this.size=0}function qEe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function KEe(t){return this.__data__.get(t)}function YEe(t){return this.__data__.has(t)}var XEe=typeof global=="object"&&global&&global.Object===Object&&global;const Z3=XEe;var QEe=typeof self=="object"&&self&&self.Object===Object&&self,JEe=Z3||QEe||Function("return this")();const Ho=JEe;var ZEe=Ho.Symbol;const cl=ZEe;var eB=Object.prototype,e1e=eB.hasOwnProperty,t1e=eB.toString,Sf=cl?cl.toStringTag:void 0;function n1e(t){var e=e1e.call(t,Sf),n=t[Sf];try{t[Sf]=void 0;var r=!0}catch{}var i=t1e.call(t);return r&&(e?t[Sf]=n:delete t[Sf]),i}var r1e=Object.prototype,i1e=r1e.toString;function o1e(t){return i1e.call(t)}var s1e="[object Null]",a1e="[object Undefined]",XO=cl?cl.toStringTag:void 0;function bc(t){return t==null?t===void 0?a1e:s1e:XO&&XO in Object(t)?n1e(t):o1e(t)}function po(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var l1e="[object AsyncFunction]",c1e="[object Function]",u1e="[object GeneratorFunction]",d1e="[object Proxy]";function aT(t){if(!po(t))return!1;var e=bc(t);return e==c1e||e==u1e||e==l1e||e==d1e}var f1e=Ho["__core-js_shared__"];const Fb=f1e;var QO=function(){var t=/[^.]+$/.exec(Fb&&Fb.keys&&Fb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function h1e(t){return!!QO&&QO in t}var p1e=Function.prototype,g1e=p1e.toString;function wc(t){if(t!=null){try{return g1e.call(t)}catch{}try{return t+""}catch{}}return""}var m1e=/[\\^$.*+?()[\]{}|]/g,y1e=/^\[object .+?Constructor\]$/,v1e=Function.prototype,_1e=Object.prototype,b1e=v1e.toString,w1e=_1e.hasOwnProperty,E1e=RegExp("^"+b1e.call(w1e).replace(m1e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function x1e(t){if(!po(t)||h1e(t))return!1;var e=aT(t)?E1e:y1e;return e.test(wc(t))}function S1e(t,e){return t==null?void 0:t[e]}function Ec(t,e){var n=S1e(t,e);return x1e(n)?n:void 0}var C1e=Ec(Ho,"Map");const rp=C1e;var T1e=Ec(Object,"create");const ip=T1e;function I1e(){this.__data__=ip?ip(null):{},this.size=0}function R1e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var P1e="__lodash_hash_undefined__",A1e=Object.prototype,k1e=A1e.hasOwnProperty;function O1e(t){var e=this.__data__;if(ip){var n=e[t];return n===P1e?void 0:n}return k1e.call(e,t)?e[t]:void 0}var N1e=Object.prototype,$1e=N1e.hasOwnProperty;function M1e(t){var e=this.__data__;return ip?e[t]!==void 0:$1e.call(e,t)}var D1e="__lodash_hash_undefined__";function L1e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ip&&e===void 0?D1e:e,this}function cc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}cc.prototype.clear=I1e;cc.prototype.delete=R1e;cc.prototype.get=O1e;cc.prototype.has=M1e;cc.prototype.set=L1e;function F1e(){this.size=0,this.__data__={hash:new cc,map:new(rp||da),string:new cc}}function B1e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function d_(t,e){var n=t.__data__;return B1e(e)?n[typeof e=="string"?"string":"hash"]:n.map}function V1e(t){var e=d_(this,t).delete(t);return this.size-=e?1:0,e}function U1e(t){return d_(this,t).get(t)}function j1e(t){return d_(this,t).has(t)}function z1e(t,e){var n=d_(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function fa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fa.prototype.clear=F1e;fa.prototype.delete=V1e;fa.prototype.get=U1e;fa.prototype.has=j1e;fa.prototype.set=z1e;var W1e=200;function H1e(t,e){var n=this.__data__;if(n instanceof da){var r=n.__data__;if(!rp||r.length<W1e-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new fa(r)}return n.set(t,e),this.size=n.size,this}function ds(t){var e=this.__data__=new da(t);this.size=e.size}ds.prototype.clear=GEe;ds.prototype.delete=qEe;ds.prototype.get=KEe;ds.prototype.has=YEe;ds.prototype.set=H1e;var G1e=function(){try{var t=Ec(Object,"defineProperty");return t({},"",{}),t}catch{}}();const nv=G1e;function lT(t,e,n){e=="__proto__"&&nv?nv(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function s1(t,e,n){(n!==void 0&&!Zp(t[e],n)||n===void 0&&!(e in t))&&lT(t,e,n)}function q1e(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var K1e=q1e();const tB=K1e;var nB=typeof Di=="object"&&Di&&!Di.nodeType&&Di,JO=nB&&typeof Li=="object"&&Li&&!Li.nodeType&&Li,Y1e=JO&&JO.exports===nB,ZO=Y1e?Ho.Buffer:void 0,e2=ZO?ZO.allocUnsafe:void 0;function X1e(t,e){if(e)return t.slice();var n=t.length,r=e2?e2(n):new t.constructor(n);return t.copy(r),r}var Q1e=Ho.Uint8Array;const rv=Q1e;function J1e(t){var e=new t.constructor(t.byteLength);return new rv(e).set(new rv(t)),e}function Z1e(t,e){var n=e?J1e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function exe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var t2=Object.create,txe=function(){function t(){}return function(e){if(!po(e))return{};if(t2)return t2(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const nxe=txe;function rB(t,e){return function(n){return t(e(n))}}var rxe=rB(Object.getPrototypeOf,Object);const iB=rxe;var ixe=Object.prototype;function cT(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ixe;return t===n}function oxe(t){return typeof t.constructor=="function"&&!cT(t)?nxe(iB(t)):{}}function ul(t){return t!=null&&typeof t=="object"}var sxe="[object Arguments]";function n2(t){return ul(t)&&bc(t)==sxe}var oB=Object.prototype,axe=oB.hasOwnProperty,lxe=oB.propertyIsEnumerable,cxe=n2(function(){return arguments}())?n2:function(t){return ul(t)&&axe.call(t,"callee")&&!lxe.call(t,"callee")};const iv=cxe;var uxe=Array.isArray;const Wi=uxe;var dxe=9007199254740991;function uT(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=dxe}function Hd(t){return t!=null&&uT(t.length)&&!aT(t)}function fxe(t){return ul(t)&&Hd(t)}function hxe(){return!1}var sB=typeof Di=="object"&&Di&&!Di.nodeType&&Di,r2=sB&&typeof Li=="object"&&Li&&!Li.nodeType&&Li,pxe=r2&&r2.exports===sB,i2=pxe?Ho.Buffer:void 0,gxe=i2?i2.isBuffer:void 0,mxe=gxe||hxe;const ov=mxe;var yxe="[object Object]",vxe=Function.prototype,_xe=Object.prototype,aB=vxe.toString,bxe=_xe.hasOwnProperty,wxe=aB.call(Object);function Exe(t){if(!ul(t)||bc(t)!=yxe)return!1;var e=iB(t);if(e===null)return!0;var n=bxe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&aB.call(n)==wxe}var xxe="[object Arguments]",Sxe="[object Array]",Cxe="[object Boolean]",Txe="[object Date]",Ixe="[object Error]",Rxe="[object Function]",Pxe="[object Map]",Axe="[object Number]",kxe="[object Object]",Oxe="[object RegExp]",Nxe="[object Set]",$xe="[object String]",Mxe="[object WeakMap]",Dxe="[object ArrayBuffer]",Lxe="[object DataView]",Fxe="[object Float32Array]",Bxe="[object Float64Array]",Vxe="[object Int8Array]",Uxe="[object Int16Array]",jxe="[object Int32Array]",zxe="[object Uint8Array]",Wxe="[object Uint8ClampedArray]",Hxe="[object Uint16Array]",Gxe="[object Uint32Array]",fn={};fn[Fxe]=fn[Bxe]=fn[Vxe]=fn[Uxe]=fn[jxe]=fn[zxe]=fn[Wxe]=fn[Hxe]=fn[Gxe]=!0;fn[xxe]=fn[Sxe]=fn[Dxe]=fn[Cxe]=fn[Lxe]=fn[Txe]=fn[Ixe]=fn[Rxe]=fn[Pxe]=fn[Axe]=fn[kxe]=fn[Oxe]=fn[Nxe]=fn[$xe]=fn[Mxe]=!1;function qxe(t){return ul(t)&&uT(t.length)&&!!fn[bc(t)]}function Kxe(t){return function(e){return t(e)}}var lB=typeof Di=="object"&&Di&&!Di.nodeType&&Di,gh=lB&&typeof Li=="object"&&Li&&!Li.nodeType&&Li,Yxe=gh&&gh.exports===lB,Bb=Yxe&&Z3.process,Xxe=function(){try{var t=gh&&gh.require&&gh.require("util").types;return t||Bb&&Bb.binding&&Bb.binding("util")}catch{}}();const o2=Xxe;var s2=o2&&o2.isTypedArray,Qxe=s2?Kxe(s2):qxe;const dT=Qxe;function a1(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Jxe=Object.prototype,Zxe=Jxe.hasOwnProperty;function eSe(t,e,n){var r=t[e];(!(Zxe.call(t,e)&&Zp(r,n))||n===void 0&&!(e in t))&&lT(t,e,n)}function tSe(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?lT(n,a,l):eSe(n,a,l)}return n}function nSe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var rSe=9007199254740991,iSe=/^(?:0|[1-9]\d*)$/;function fT(t,e){var n=typeof t;return e=e??rSe,!!e&&(n=="number"||n!="symbol"&&iSe.test(t))&&t>-1&&t%1==0&&t<e}var oSe=Object.prototype,sSe=oSe.hasOwnProperty;function cB(t,e){var n=Wi(t),r=!n&&iv(t),i=!n&&!r&&ov(t),o=!n&&!r&&!i&&dT(t),s=n||r||i||o,a=s?nSe(t.length,String):[],l=a.length;for(var c in t)(e||sSe.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||fT(c,l)))&&a.push(c);return a}function aSe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var lSe=Object.prototype,cSe=lSe.hasOwnProperty;function uSe(t){if(!po(t))return aSe(t);var e=cT(t),n=[];for(var r in t)r=="constructor"&&(e||!cSe.call(t,r))||n.push(r);return n}function uB(t){return Hd(t)?cB(t,!0):uSe(t)}function dSe(t){return tSe(t,uB(t))}function fSe(t,e,n,r,i,o,s){var a=a1(t,n),l=a1(e,n),c=s.get(l);if(c){s1(t,n,c);return}var u=o?o(a,l,n+"",t,e,s):void 0,f=u===void 0;if(f){var h=Wi(l),p=!h&&ov(l),m=!h&&!p&&dT(l);u=l,h||p||m?Wi(a)?u=a:fxe(a)?u=exe(a):p?(f=!1,u=X1e(l,!0)):m?(f=!1,u=Z1e(l,!0)):u=[]:Exe(l)||iv(l)?(u=a,iv(a)?u=dSe(a):(!po(a)||aT(a))&&(u=oxe(l))):f=!1}f&&(s.set(l,u),i(u,l,r,o,s),s.delete(l)),s1(t,n,u)}function dB(t,e,n,r,i){t!==e&&tB(e,function(o,s){if(i||(i=new ds),po(o))fSe(t,e,s,n,dB,r,i);else{var a=r?r(a1(t,s),o,s+"",t,e,i):void 0;a===void 0&&(a=o),s1(t,s,a)}},uB)}function f_(t){return t}function hSe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var a2=Math.max;function pSe(t,e,n){return e=a2(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=a2(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),hSe(t,this,a)}}function gSe(t){return function(){return t}}var mSe=nv?function(t,e){return nv(t,"toString",{configurable:!0,enumerable:!1,value:gSe(e),writable:!0})}:f_;const ySe=mSe;var vSe=800,_Se=16,bSe=Date.now;function wSe(t){var e=0,n=0;return function(){var r=bSe(),i=_Se-(r-n);if(n=r,i>0){if(++e>=vSe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var ESe=wSe(ySe);const xSe=ESe;function SSe(t,e){return xSe(pSe(t,e,f_),t+"")}function CSe(t,e,n){if(!po(n))return!1;var r=typeof e;return(r=="number"?Hd(n)&&fT(e,n.length):r=="string"&&e in n)?Zp(n[e],t):!1}function TSe(t){return SSe(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&CSe(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}var ISe=TSe(function(t,e,n){dB(t,e,n)});const xi=ISe;var eg=function(e){var n=e.zDepth,r=e.radius,i=e.background,o=e.children,s=e.styles,a=s===void 0?{}:s,l=Qe(xi({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return D.createElement("div",{style:l.wrap},D.createElement("div",{style:l.bg}),D.createElement("div",{style:l.content},o))};eg.propTypes={background:fe.string,zDepth:fe.oneOf([0,1,2,3,4,5]),radius:fe.number,styles:fe.object};eg.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var RSe=function(){return Ho.Date.now()};const Vb=RSe;var PSe=/\s/;function ASe(t){for(var e=t.length;e--&&PSe.test(t.charAt(e)););return e}var kSe=/^\s+/;function OSe(t){return t&&t.slice(0,ASe(t)+1).replace(kSe,"")}var NSe="[object Symbol]";function h_(t){return typeof t=="symbol"||ul(t)&&bc(t)==NSe}var l2=0/0,$Se=/^[-+]0x[0-9a-f]+$/i,MSe=/^0b[01]+$/i,DSe=/^0o[0-7]+$/i,LSe=parseInt;function c2(t){if(typeof t=="number")return t;if(h_(t))return l2;if(po(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=po(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=OSe(t);var n=MSe.test(t);return n||DSe.test(t)?LSe(t.slice(2),n?2:8):$Se.test(t)?l2:+t}var FSe="Expected a function",BSe=Math.max,VSe=Math.min;function fB(t,e,n){var r,i,o,s,a,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(FSe);e=c2(e)||0,po(n)&&(u=!!n.leading,f="maxWait"in n,o=f?BSe(c2(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p($){var I=r,T=i;return r=i=void 0,c=$,s=t.apply(T,I),s}function m($){return c=$,a=setTimeout(_,e),u?p($):s}function b($){var I=$-l,T=$-c,R=e-I;return f?VSe(R,o-T):R}function x($){var I=$-l,T=$-c;return l===void 0||I>=e||I<0||f&&T>=o}function _(){var $=Vb();if(x($))return w($);a=setTimeout(_,b($))}function w($){return a=void 0,h&&r?p($):(r=i=void 0,s)}function v(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function S(){return a===void 0?s:w(Vb())}function k(){var $=Vb(),I=x($);if(r=arguments,i=this,l=$,I){if(a===void 0)return m(l);if(f)return clearTimeout(a),a=setTimeout(_,e),p(l)}return a===void 0&&(a=setTimeout(_,e)),s}return k.cancel=v,k.flush=S,k}var USe="Expected a function";function jSe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(USe);return po(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),fB(t,e,{leading:r,maxWait:e,trailing:i})}var zSe=function(e,n,r){var i=r.getBoundingClientRect(),o=i.width,s=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>o&&(c=o),u<0?u=0:u>s&&(u=s);var f=c/o,h=1-u/s;return{h:n.h,s:f,v:h,a:n.a,source:"hsv"}},WSe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function HSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GSe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p_=function(t){qSe(e,t);function e(n){HSe(this,e);var r=GSe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,zSe(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=jSe(function(i,o,s){i(o,s)},50),r}return WSe(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,s=i.white,a=i.black,l=i.pointer,c=i.circle,u=Qe({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:s,black:a,pointer:l,circle:c}},{custom:!!this.props.style});return D.createElement("div",{style:u.color,ref:function(h){return r.container=h},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},D.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),D.createElement("div",{style:u.white,className:"saturation-white"},D.createElement("div",{style:u.black,className:"saturation-black"}),D.createElement("div",{style:u.pointer},this.props.pointer?D.createElement(this.props.pointer,this.props):D.createElement("div",{style:u.circle}))))}}]),e}(E.PureComponent||E.Component);function KSe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var YSe=rB(Object.keys,Object);const XSe=YSe;var QSe=Object.prototype,JSe=QSe.hasOwnProperty;function ZSe(t){if(!cT(t))return XSe(t);var e=[];for(var n in Object(t))JSe.call(t,n)&&n!="constructor"&&e.push(n);return e}function hT(t){return Hd(t)?cB(t):ZSe(t)}function eCe(t,e){return t&&tB(t,e,hT)}function tCe(t,e){return function(n,r){if(n==null)return n;if(!Hd(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var nCe=tCe(eCe);const hB=nCe;function rCe(t){return typeof t=="function"?t:f_}function iCe(t,e){var n=Wi(t)?KSe:hB;return n(t,rCe(e))}function sv(t){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sv(t)}var oCe=/^\s+/,sCe=/\s+$/;function ke(t,e){if(t=t||"",e=e||{},t instanceof ke)return t;if(!(this instanceof ke))return new ke(t,e);var n=aCe(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}ke.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,o,s,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*s+.0722*a},setAlpha:function(e){return this._a=pB(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=d2(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=d2(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=u2(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=u2(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return f2(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return dCe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(bn(this._r,255)*100)+"%",g:Math.round(bn(this._g,255)*100)+"%",b:Math.round(bn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(bn(this._r,255)*100)+"%, "+Math.round(bn(this._g,255)*100)+"%, "+Math.round(bn(this._b,255)*100)+"%)":"rgba("+Math.round(bn(this._r,255)*100)+"%, "+Math.round(bn(this._g,255)*100)+"%, "+Math.round(bn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:xCe[f2(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+h2(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var o=ke(e);r="#"+h2(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return ke(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(gCe,arguments)},brighten:function(){return this._applyModification(mCe,arguments)},darken:function(){return this._applyModification(yCe,arguments)},desaturate:function(){return this._applyModification(fCe,arguments)},saturate:function(){return this._applyModification(hCe,arguments)},greyscale:function(){return this._applyModification(pCe,arguments)},spin:function(){return this._applyModification(vCe,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(wCe,arguments)},complement:function(){return this._applyCombination(_Ce,arguments)},monochromatic:function(){return this._applyCombination(ECe,arguments)},splitcomplement:function(){return this._applyCombination(bCe,arguments)},triad:function(){return this._applyCombination(p2,[3])},tetrad:function(){return this._applyCombination(p2,[4])}};ke.fromRatio=function(t,e){if(sv(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=Vf(t[r]));t=n}return ke(t,e)};function aCe(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=ICe(t)),sv(t)=="object"&&(Rs(t.r)&&Rs(t.g)&&Rs(t.b)?(e=lCe(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Rs(t.h)&&Rs(t.s)&&Rs(t.v)?(r=Vf(t.s),i=Vf(t.v),e=uCe(t.h,r,i),s=!0,a="hsv"):Rs(t.h)&&Rs(t.s)&&Rs(t.l)&&(r=Vf(t.s),o=Vf(t.l),e=cCe(t.h,r,o),s=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=pB(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function lCe(t,e,n){return{r:bn(t,255)*255,g:bn(e,255)*255,b:bn(n,255)*255}}function u2(t,e,n){t=bn(t,255),e=bn(e,255),n=bn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=(r+i)/2;if(r==i)o=s=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,l:a}}function cCe(t,e,n){var r,i,o;t=bn(t,360),e=bn(e,100),n=bn(n,100);function s(c,u,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?c+(u-c)*6*f:f<1/2?u:f<2/3?c+(u-c)*(2/3-f)*6:c}if(e===0)r=i=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=s(l,a,t+1/3),i=s(l,a,t),o=s(l,a,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function d2(t,e,n){t=bn(t,255),e=bn(e,255),n=bn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=r,l=r-i;if(s=r===0?0:l/r,r==i)o=0;else{switch(r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,v:a}}function uCe(t,e,n){t=bn(t,360)*6,e=bn(e,100),n=bn(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,c=[n,s,o,o,a,n][l],u=[a,n,n,s,o,o][l],f=[o,o,a,n,n,s][l];return{r:c*255,g:u*255,b:f*255}}function f2(t,e,n,r){var i=[Mo(Math.round(t).toString(16)),Mo(Math.round(e).toString(16)),Mo(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function dCe(t,e,n,r,i){var o=[Mo(Math.round(t).toString(16)),Mo(Math.round(e).toString(16)),Mo(Math.round(n).toString(16)),Mo(gB(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function h2(t,e,n,r){var i=[Mo(gB(r)),Mo(Math.round(t).toString(16)),Mo(Math.round(e).toString(16)),Mo(Math.round(n).toString(16))];return i.join("")}ke.equals=function(t,e){return!t||!e?!1:ke(t).toRgbString()==ke(e).toRgbString()};ke.random=function(){return ke.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function fCe(t,e){e=e===0?0:e||10;var n=ke(t).toHsl();return n.s-=e/100,n.s=g_(n.s),ke(n)}function hCe(t,e){e=e===0?0:e||10;var n=ke(t).toHsl();return n.s+=e/100,n.s=g_(n.s),ke(n)}function pCe(t){return ke(t).desaturate(100)}function gCe(t,e){e=e===0?0:e||10;var n=ke(t).toHsl();return n.l+=e/100,n.l=g_(n.l),ke(n)}function mCe(t,e){e=e===0?0:e||10;var n=ke(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),ke(n)}function yCe(t,e){e=e===0?0:e||10;var n=ke(t).toHsl();return n.l-=e/100,n.l=g_(n.l),ke(n)}function vCe(t,e){var n=ke(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,ke(n)}function _Ce(t){var e=ke(t).toHsl();return e.h=(e.h+180)%360,ke(e)}function p2(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=ke(t).toHsl(),r=[ke(t)],i=360/e,o=1;o<e;o++)r.push(ke({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function bCe(t){var e=ke(t).toHsl(),n=e.h;return[ke(t),ke({h:(n+72)%360,s:e.s,l:e.l}),ke({h:(n+216)%360,s:e.s,l:e.l})]}function wCe(t,e,n){e=e||6,n=n||30;var r=ke(t).toHsl(),i=360/n,o=[ke(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(ke(r));return o}function ECe(t,e){e=e||6;for(var n=ke(t).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;e--;)s.push(ke({h:r,s:i,v:o})),o=(o+a)%1;return s}ke.mix=function(t,e,n){n=n===0?0:n||50;var r=ke(t).toRgb(),i=ke(e).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return ke(s)};ke.readability=function(t,e){var n=ke(t),r=ke(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};ke.isReadable=function(t,e,n){var r=ke.readability(t,e),i,o;switch(o=!1,i=RCe(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};ke.mostReadable=function(t,e,n){var r=null,i=0,o,s,a,l;n=n||{},s=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<e.length;c++)o=ke.readability(t,e[c]),o>i&&(i=o,r=ke(e[c]));return ke.isReadable(t,r,{level:a,size:l})||!s?r:(n.includeFallbackColors=!1,ke.mostReadable(t,["#fff","#000"],n))};var l1=ke.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},xCe=ke.hexNames=SCe(l1);function SCe(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function pB(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function bn(t,e){CCe(t)&&(t="100%");var n=TCe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function g_(t){return Math.min(1,Math.max(0,t))}function Ri(t){return parseInt(t,16)}function CCe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function TCe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Mo(t){return t.length==1?"0"+t:""+t}function Vf(t){return t<=1&&(t=t*100+"%"),t}function gB(t){return Math.round(parseFloat(t)*255).toString(16)}function g2(t){return Ri(t)/255}var To=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Rs(t){return!!To.CSS_UNIT.exec(t)}function ICe(t){t=t.replace(oCe,"").replace(sCe,"").toLowerCase();var e=!1;if(l1[t])t=l1[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=To.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=To.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=To.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=To.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=To.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=To.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=To.hex8.exec(t))?{r:Ri(n[1]),g:Ri(n[2]),b:Ri(n[3]),a:g2(n[4]),format:e?"name":"hex8"}:(n=To.hex6.exec(t))?{r:Ri(n[1]),g:Ri(n[2]),b:Ri(n[3]),format:e?"name":"hex"}:(n=To.hex4.exec(t))?{r:Ri(n[1]+""+n[1]),g:Ri(n[2]+""+n[2]),b:Ri(n[3]+""+n[3]),a:g2(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=To.hex3.exec(t))?{r:Ri(n[1]+""+n[1]),g:Ri(n[2]+""+n[2]),b:Ri(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function RCe(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var m2=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return iCe(n,function(o){if(e[o]&&(r+=1,isNaN(e[o])||(i+=1),o==="s"||o==="l")){var s=/^\d+%$/;s.test(e[o])&&(i+=1)}}),r===i?e:!1},Uf=function(e,n){var r=e.hex?ke(e.hex):ke(e),i=r.toHsl(),o=r.toHsv(),s=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,o.h=n||0);var l=a==="000000"&&s.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:s,hsv:o,oldHue:e.h||n||i.h,source:e.source}},wl=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&ke(e).isValid()},pT=function(e){if(!e)return"#fff";var n=Uf(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},Ub=function(e,n){var r=e.replace("","");return ke(n+" ("+r+")")._ok},Cf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PCe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function ACe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kCe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function OCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Si=function(e){var n=function(r){OCe(i,r);function i(o){ACe(this,i);var s=kCe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return s.handleChange=function(a,l){var c=m2(a);if(c){var u=Uf(a,a.h||s.state.oldHue);s.setState(u),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,u,l),s.props.onChange&&s.props.onChange(u,l)}},s.handleSwatchHover=function(a,l){var c=m2(a);if(c){var u=Uf(a,a.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(u,l)}},s.state=Cf({},Uf(o.color,0)),s.debounce=fB(function(a,l,c){a(l,c)},100),s}return PCe(i,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),D.createElement(e,Cf({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return Cf({},Uf(s.color,a.oldHue))}}]),i}(E.PureComponent||E.Component);return n.propTypes=Cf({},e.propTypes),n.defaultProps=Cf({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},NCe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$Ce=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function MCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y2(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function DCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var LCe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){DCe(i,r);function i(){var o,s,a,l;MCe(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(s=(a=y2(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(u))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},s),y2(a,l)}return $Ce(i,[{key:"render",value:function(){return D.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},D.createElement(e,NCe({},this.props,this.state)))}}]),i}(D.Component)},v2=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FCe=13,BCe=function(e){var n=e.color,r=e.style,i=e.onClick,o=i===void 0?function(){}:i,s=e.onHover,a=e.title,l=a===void 0?n:a,c=e.children,u=e.focus,f=e.focusStyle,h=f===void 0?{}:f,p=n==="transparent",m=Qe({default:{swatch:v2({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,u?h:{})}}),b=function(S){return o(n,S)},x=function(S){return S.keyCode===FCe&&o(n,S)},_=function(S){return s(n,S)},w={};return s&&(w.onMouseOver=_),D.createElement("div",v2({style:m.swatch,onClick:b,title:l,tabIndex:0,onKeyDown:x},w),c,p&&D.createElement(zd,{borderRadius:m.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const xc=LCe(BCe);var VCe=function(e){var n=e.direction,r=Qe({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return D.createElement("div",{style:r.picker})},UCe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mB=function(e){var n=e.rgb,r=e.hsl,i=e.width,o=e.height,s=e.onChange,a=e.direction,l=e.style,c=e.renderers,u=e.pointer,f=e.className,h=f===void 0?"":f,p=Qe({default:{picker:{position:"relative",width:i,height:o},alpha:{radius:"2px",style:l}}});return D.createElement("div",{style:p.picker,className:"alpha-picker "+h},D.createElement(sT,UCe({},p.alpha,{rgb:n,hsl:r,pointer:u,renderers:c,onChange:s,direction:a})))};mB.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:VCe};Si(mB);function yB(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var jCe="__lodash_hash_undefined__";function zCe(t){return this.__data__.set(t,jCe),this}function WCe(t){return this.__data__.has(t)}function av(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new fa;++e<n;)this.add(t[e])}av.prototype.add=av.prototype.push=zCe;av.prototype.has=WCe;function HCe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function GCe(t,e){return t.has(e)}var qCe=1,KCe=2;function vB(t,e,n,r,i,o){var s=n&qCe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=n&KCe?new av:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var m=t[f],b=e[f];if(r)var x=s?r(b,m,f,e,t,o):r(m,b,f,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!HCe(e,function(_,w){if(!GCe(p,w)&&(m===_||i(m,_,n,r,o)))return p.push(w)})){h=!1;break}}else if(!(m===b||i(m,b,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}function YCe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function XCe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var QCe=1,JCe=2,ZCe="[object Boolean]",eTe="[object Date]",tTe="[object Error]",nTe="[object Map]",rTe="[object Number]",iTe="[object RegExp]",oTe="[object Set]",sTe="[object String]",aTe="[object Symbol]",lTe="[object ArrayBuffer]",cTe="[object DataView]",_2=cl?cl.prototype:void 0,jb=_2?_2.valueOf:void 0;function uTe(t,e,n,r,i,o,s){switch(n){case cTe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case lTe:return!(t.byteLength!=e.byteLength||!o(new rv(t),new rv(e)));case ZCe:case eTe:case rTe:return Zp(+t,+e);case tTe:return t.name==e.name&&t.message==e.message;case iTe:case sTe:return t==e+"";case nTe:var a=YCe;case oTe:var l=r&QCe;if(a||(a=XCe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=JCe,s.set(t,e);var u=vB(a(t),a(e),r,i,o,s);return s.delete(t),u;case aTe:if(jb)return jb.call(t)==jb.call(e)}return!1}function dTe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function fTe(t,e,n){var r=e(t);return Wi(t)?r:dTe(r,n(t))}function hTe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function pTe(){return[]}var gTe=Object.prototype,mTe=gTe.propertyIsEnumerable,b2=Object.getOwnPropertySymbols,yTe=b2?function(t){return t==null?[]:(t=Object(t),hTe(b2(t),function(e){return mTe.call(t,e)}))}:pTe;const vTe=yTe;function w2(t){return fTe(t,hT,vTe)}var _Te=1,bTe=Object.prototype,wTe=bTe.hasOwnProperty;function ETe(t,e,n,r,i,o){var s=n&_Te,a=w2(t),l=a.length,c=w2(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:wTe.call(e,h)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var b=!0;o.set(t,e),o.set(e,t);for(var x=s;++f<l;){h=a[f];var _=t[h],w=e[h];if(r)var v=s?r(w,_,h,e,t,o):r(_,w,h,t,e,o);if(!(v===void 0?_===w||i(_,w,n,r,o):v)){b=!1;break}x||(x=h=="constructor")}if(b&&!x){var S=t.constructor,k=e.constructor;S!=k&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof k=="function"&&k instanceof k)&&(b=!1)}return o.delete(t),o.delete(e),b}var xTe=Ec(Ho,"DataView");const c1=xTe;var STe=Ec(Ho,"Promise");const u1=STe;var CTe=Ec(Ho,"Set");const d1=CTe;var TTe=Ec(Ho,"WeakMap");const f1=TTe;var E2="[object Map]",ITe="[object Object]",x2="[object Promise]",S2="[object Set]",C2="[object WeakMap]",T2="[object DataView]",RTe=wc(c1),PTe=wc(rp),ATe=wc(u1),kTe=wc(d1),OTe=wc(f1),Ol=bc;(c1&&Ol(new c1(new ArrayBuffer(1)))!=T2||rp&&Ol(new rp)!=E2||u1&&Ol(u1.resolve())!=x2||d1&&Ol(new d1)!=S2||f1&&Ol(new f1)!=C2)&&(Ol=function(t){var e=bc(t),n=e==ITe?t.constructor:void 0,r=n?wc(n):"";if(r)switch(r){case RTe:return T2;case PTe:return E2;case ATe:return x2;case kTe:return S2;case OTe:return C2}return e});const I2=Ol;var NTe=1,R2="[object Arguments]",P2="[object Array]",Zg="[object Object]",$Te=Object.prototype,A2=$Te.hasOwnProperty;function MTe(t,e,n,r,i,o){var s=Wi(t),a=Wi(e),l=s?P2:I2(t),c=a?P2:I2(e);l=l==R2?Zg:l,c=c==R2?Zg:c;var u=l==Zg,f=c==Zg,h=l==c;if(h&&ov(t)){if(!ov(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new ds),s||dT(t)?vB(t,e,n,r,i,o):uTe(t,e,l,n,r,i,o);if(!(n&NTe)){var p=u&&A2.call(t,"__wrapped__"),m=f&&A2.call(e,"__wrapped__");if(p||m){var b=p?t.value():t,x=m?e.value():e;return o||(o=new ds),i(b,x,n,r,o)}}return h?(o||(o=new ds),ETe(t,e,n,r,i,o)):!1}function gT(t,e,n,r,i){return t===e?!0:t==null||e==null||!ul(t)&&!ul(e)?t!==t&&e!==e:MTe(t,e,n,r,gT,i)}var DTe=1,LTe=2;function FTe(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],c=t[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new ds;if(r)var h=r(c,u,l,t,e,f);if(!(h===void 0?gT(u,c,DTe|LTe,r,f):h))return!1}}return!0}function _B(t){return t===t&&!po(t)}function BTe(t){for(var e=hT(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,_B(i)]}return e}function bB(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function VTe(t){var e=BTe(t);return e.length==1&&e[0][2]?bB(e[0][0],e[0][1]):function(n){return n===t||FTe(n,t,e)}}var UTe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jTe=/^\w*$/;function mT(t,e){if(Wi(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||h_(t)?!0:jTe.test(t)||!UTe.test(t)||e!=null&&t in Object(e)}var zTe="Expected a function";function yT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(zTe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(yT.Cache||fa),n}yT.Cache=fa;var WTe=500;function HTe(t){var e=yT(t,function(r){return n.size===WTe&&n.clear(),r}),n=e.cache;return e}var GTe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qTe=/\\(\\)?/g,KTe=HTe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(GTe,function(n,r,i,o){e.push(i?o.replace(qTe,"$1"):r||n)}),e});const YTe=KTe;var XTe=1/0,k2=cl?cl.prototype:void 0,O2=k2?k2.toString:void 0;function wB(t){if(typeof t=="string")return t;if(Wi(t))return yB(t,wB)+"";if(h_(t))return O2?O2.call(t):"";var e=t+"";return e=="0"&&1/t==-XTe?"-0":e}function QTe(t){return t==null?"":wB(t)}function EB(t,e){return Wi(t)?t:mT(t,e)?[t]:YTe(QTe(t))}var JTe=1/0;function m_(t){if(typeof t=="string"||h_(t))return t;var e=t+"";return e=="0"&&1/t==-JTe?"-0":e}function xB(t,e){e=EB(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[m_(e[n++])];return n&&n==r?t:void 0}function ZTe(t,e,n){var r=t==null?void 0:xB(t,e);return r===void 0?n:r}function eIe(t,e){return t!=null&&e in Object(t)}function tIe(t,e,n){e=EB(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=m_(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&uT(i)&&fT(s,i)&&(Wi(t)||iv(t)))}function nIe(t,e){return t!=null&&tIe(t,e,eIe)}var rIe=1,iIe=2;function oIe(t,e){return mT(t)&&_B(e)?bB(m_(t),e):function(n){var r=ZTe(n,t);return r===void 0&&r===e?nIe(n,t):gT(e,r,rIe|iIe)}}function sIe(t){return function(e){return e==null?void 0:e[t]}}function aIe(t){return function(e){return xB(e,t)}}function lIe(t){return mT(t)?sIe(m_(t)):aIe(t)}function cIe(t){return typeof t=="function"?t:t==null?f_:typeof t=="object"?Wi(t)?oIe(t[0],t[1]):VTe(t):lIe(t)}function uIe(t,e){var n=-1,r=Hd(t)?Array(t.length):[];return hB(t,function(i,o,s){r[++n]=e(i,o,s)}),r}function Sc(t,e){var n=Wi(t)?yB:uIe;return n(t,cIe(e))}var dIe=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,o=Qe({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return D.createElement("div",{style:o.swatches},Sc(n,function(s){return D.createElement(xc,{key:s,color:s,style:o.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+s}})}),D.createElement("div",{style:o.clear}))},vT=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,h=i==="transparent",p=function(x,_){wl(x)&&n({hex:x,source:"hex"},_)},m=Qe(xi({default:{card:{width:s,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:pT(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":a==="hide"});return D.createElement("div",{style:m.card,className:"block-picker "+f},D.createElement("div",{style:m.triangle}),D.createElement("div",{style:m.head},h&&D.createElement(zd,{borderRadius:"6px 6px 0 0"}),D.createElement("div",{style:m.label},i)),D.createElement("div",{style:m.body},D.createElement(dIe,{colors:o,onClick:p,onSwatchHover:r}),D.createElement(Rt,{style:{input:m.input},value:i,onChange:p})))};vT.propTypes={width:fe.oneOfType([fe.string,fe.number]),colors:fe.arrayOf(fe.string),triangle:fe.oneOf(["top","hide"]),styles:fe.object};vT.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Si(vT);var Hc={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Gc={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},qc={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Kc={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Yc={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},Xc={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},Qc={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Jc={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},Zc={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},jf={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},eu={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},tu={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},nu={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},ru={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},iu={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},ou={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},su={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},au={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},SB=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,o=e.hover,s=e.active,a=e.circleSize,l=e.circleSpacing,c=Qe({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:o,active:s});return D.createElement("div",{style:c.swatch},D.createElement(xc,{style:c.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+n}}))};SB.defaultProps={circleSize:28,circleSpacing:14};const fIe=oT(SB);var _T=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,o=e.colors,s=e.hex,a=e.circleSize,l=e.styles,c=l===void 0?{}:l,u=e.circleSpacing,f=e.className,h=f===void 0?"":f,p=Qe(xi({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},c)),m=function(x,_){return r({hex:x,source:"hex"},_)};return D.createElement("div",{style:p.card,className:"circle-picker "+h},Sc(o,function(b){return D.createElement(fIe,{key:b,color:b,onClick:m,onSwatchHover:i,active:s===b.toLowerCase(),circleSize:a,circleSpacing:u})}))};_T.propTypes={width:fe.oneOfType([fe.string,fe.number]),circleSize:fe.number,circleSpacing:fe.number,styles:fe.object};_T.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Hc[500],Gc[500],qc[500],Kc[500],Yc[500],Xc[500],Qc[500],Jc[500],Zc[500],jf[500],eu[500],tu[500],nu[500],ru[500],iu[500],ou[500],su[500],au[500]],styles:{}};Si(_T);function N2(t){return t===void 0}var CB={};Object.defineProperty(CB,"__esModule",{value:!0});var $2=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hIe=E,M2=pIe(hIe);function pIe(t){return t&&t.__esModule?t:{default:t}}function gIe(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var em=24,mIe=CB.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?em:r,o=t.height,s=o===void 0?em:o,a=t.style,l=a===void 0?{}:a,c=gIe(t,["fill","width","height","style"]);return M2.default.createElement("svg",$2({viewBox:"0 0 "+em+" "+em,style:$2({fill:n,width:i,height:s},l)},c),M2.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},yIe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function vIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Ie(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var TB=function(t){bIe(e,t);function e(n){vIe(this,e);var r=_Ie(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?wl(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(N2(i.s)?r.props.hsl.s:i.s),l:Number(N2(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return yIe(e,[{key:"render",value:function(){var r=this,i=Qe({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=D.createElement("div",{style:i.fields,className:"flexbox-fix"},D.createElement("div",{style:i.field},D.createElement(Rt,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=D.createElement("div",{style:i.fields,className:"flexbox-fix"},D.createElement("div",{style:i.field},D.createElement(Rt,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),D.createElement("div",{style:i.field},D.createElement(Rt,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),D.createElement("div",{style:i.field},D.createElement(Rt,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),D.createElement("div",{style:i.alpha},D.createElement(Rt,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=D.createElement("div",{style:i.fields,className:"flexbox-fix"},D.createElement("div",{style:i.field},D.createElement(Rt,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),D.createElement("div",{style:i.field},D.createElement(Rt,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),D.createElement("div",{style:i.field},D.createElement(Rt,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),D.createElement("div",{style:i.alpha},D.createElement(Rt,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),D.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,D.createElement("div",{style:i.toggle},D.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},D.createElement(mIe,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(D.Component);TB.defaultProps={view:"hex"};var D2=function(){var e=Qe({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return D.createElement("div",{style:e.picker})},wIe=function(){var e=Qe({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return D.createElement("div",{style:e.picker})},bT=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,o=e.rgb,s=e.hsl,a=e.hsv,l=e.hex,c=e.renderers,u=e.styles,f=u===void 0?{}:u,h=e.className,p=h===void 0?"":h,m=e.defaultView,b=Qe(xi({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},f),{disableAlpha:i});return D.createElement("div",{style:b.picker,className:"chrome-picker "+p},D.createElement("div",{style:b.saturation},D.createElement(p_,{style:b.Saturation,hsl:s,hsv:a,pointer:wIe,onChange:r})),D.createElement("div",{style:b.body},D.createElement("div",{style:b.controls,className:"flexbox-fix"},D.createElement("div",{style:b.color},D.createElement("div",{style:b.swatch},D.createElement("div",{style:b.active}),D.createElement(zd,{renderers:c}))),D.createElement("div",{style:b.toggles},D.createElement("div",{style:b.hue},D.createElement(Wd,{style:b.Hue,hsl:s,pointer:D2,onChange:r})),D.createElement("div",{style:b.alpha},D.createElement(sT,{style:b.Alpha,rgb:o,hsl:s,pointer:D2,renderers:c,onChange:r})))),D.createElement(TB,{rgb:o,hsl:s,hex:l,view:m,onChange:r,disableAlpha:i})))};bT.propTypes={width:fe.oneOfType([fe.string,fe.number]),disableAlpha:fe.bool,styles:fe.object,defaultView:fe.oneOf(["hex","rgb","hsl"])};bT.defaultProps={width:225,disableAlpha:!1,styles:{}};Si(bT);var EIe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.active,a=Qe({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:pT(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:s,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return D.createElement(xc,{style:a.color,color:n,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},D.createElement("div",{style:a.dot}))},xIe=function(e){var n=e.hex,r=e.rgb,i=e.onChange,o=Qe({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),s=function(l,c){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},c):i({hex:l.hex,source:"hex"},c)};return D.createElement("div",{style:o.fields,className:"flexbox-fix"},D.createElement("div",{style:o.active}),D.createElement(Rt,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:n,onChange:s}),D.createElement(Rt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:s}),D.createElement(Rt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:s}),D.createElement(Rt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:s}))},wT=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,o=e.hex,s=e.rgb,a=e.styles,l=a===void 0?{}:a,c=e.className,u=c===void 0?"":c,f=Qe(xi({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),h=function(m,b){m.hex?wl(m.hex)&&n({hex:m.hex,source:"hex"},b):n(m,b)};return D.createElement(eg,{style:f.Compact,styles:l},D.createElement("div",{style:f.compact,className:"compact-picker "+u},D.createElement("div",null,Sc(i,function(p){return D.createElement(EIe,{key:p,color:p,active:p.toLowerCase()===o,onClick:h,onSwatchHover:r})}),D.createElement("div",{style:f.clear})),D.createElement(xIe,{hex:o,rgb:s,onChange:h})))};wT.propTypes={colors:fe.arrayOf(fe.string),styles:fe.object};wT.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Si(wT);var SIe=function(e){var n=e.hover,r=e.color,i=e.onClick,o=e.onSwatchHover,s={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=Qe({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:s}},{hover:n});return D.createElement("div",{style:a.swatch},D.createElement(xc,{color:r,onClick:i,onHover:o,focusStyle:s}))};const CIe=oT(SIe);var ET=function(e){var n=e.width,r=e.colors,i=e.onChange,o=e.onSwatchHover,s=e.triangle,a=e.styles,l=a===void 0?{}:a,c=e.className,u=c===void 0?"":c,f=Qe(xi({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right","bottom-left-triangle":s==="bottom-left","bottom-right-triangle":s==="bottom-right"}),h=function(m,b){return i({hex:m,source:"hex"},b)};return D.createElement("div",{style:f.card,className:"github-picker "+u},D.createElement("div",{style:f.triangleShadow}),D.createElement("div",{style:f.triangle}),Sc(r,function(p){return D.createElement(CIe,{color:p,key:p,onClick:h,onSwatchHover:o})}))};ET.propTypes={width:fe.oneOfType([fe.string,fe.number]),colors:fe.arrayOf(fe.string),triangle:fe.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:fe.object};ET.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Si(ET);var TIe=function(e){var n=e.direction,r=Qe({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return D.createElement("div",{style:r.picker})},IIe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xT=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.hsl,s=e.direction,a=e.pointer,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,h=Qe(xi({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},c)),p=function(b){return i({a:1,h:b.h,l:.5,s:1})};return D.createElement("div",{style:h.picker,className:"hue-picker "+f},D.createElement(Wd,IIe({},h.hue,{hsl:o,pointer:a,onChange:p,direction:s})))};xT.propTypes={styles:fe.object};xT.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:TIe,styles:{}};Si(xT);var RIe=function(e){var n=e.onChange,r=e.hex,i=e.rgb,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,c=Qe(xi({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},s)),u=function(h,p){h.hex?wl(h.hex)&&n({hex:h.hex,source:"hex"},p):(h.r||h.g||h.b)&&n({r:h.r||i.r,g:h.g||i.g,b:h.b||i.b,source:"rgb"},p)};return D.createElement(eg,{styles:s},D.createElement("div",{style:c.material,className:"material-picker "+l},D.createElement(Rt,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:r,onChange:u}),D.createElement("div",{style:c.split,className:"flexbox-fix"},D.createElement("div",{style:c.third},D.createElement(Rt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:i.r,onChange:u})),D.createElement("div",{style:c.third},D.createElement(Rt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:i.g,onChange:u})),D.createElement("div",{style:c.third},D.createElement(Rt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:i.b,onChange:u})))))};Si(RIe);var PIe=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,o=e.hex,s=Qe({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(c,u){c["#"]?wl(c["#"])&&n({hex:c["#"],source:"hex"},u):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},u):(c.h||c.s||c.v)&&n({h:c.h||i.h,s:c.s||i.s,v:c.v||i.v,source:"hsv"},u)};return D.createElement("div",{style:s.fields},D.createElement(Rt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),D.createElement(Rt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),D.createElement(Rt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),D.createElement("div",{style:s.divider}),D.createElement(Rt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:a}),D.createElement(Rt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:a}),D.createElement(Rt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:a}),D.createElement("div",{style:s.divider}),D.createElement(Rt,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"#",value:o.replace("#",""),onChange:a}),D.createElement("div",{style:s.fieldSymbols},D.createElement("div",{style:s.symbol},""),D.createElement("div",{style:s.symbol},"%"),D.createElement("div",{style:s.symbol},"%")))},AIe=function(e){var n=e.hsl,r=Qe({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return D.createElement("div",{style:r.picker})},kIe=function(){var e=Qe({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return D.createElement("div",{style:e.pointer},D.createElement("div",{style:e.left},D.createElement("div",{style:e.leftInside})),D.createElement("div",{style:e.right},D.createElement("div",{style:e.rightInside})))},L2=function(e){var n=e.onClick,r=e.label,i=e.children,o=e.active,s=Qe({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return D.createElement("div",{style:s.button,onClick:n},r||i)},OIe=function(e){var n=e.rgb,r=e.currentColor,i=Qe({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return D.createElement("div",null,D.createElement("div",{style:i.label},"new"),D.createElement("div",{style:i.swatches},D.createElement("div",{style:i.new}),D.createElement("div",{style:i.current})),D.createElement("div",{style:i.label},"current"))},NIe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function $Ie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MIe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function DIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ST=function(t){DIe(e,t);function e(n){$Ie(this,e);var r=MIe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return NIe(e,[{key:"render",value:function(){var r=this.props,i=r.styles,o=i===void 0?{}:i,s=r.className,a=s===void 0?"":s,l=Qe(xi({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},o));return D.createElement("div",{style:l.picker,className:"photoshop-picker "+a},D.createElement("div",{style:l.head},this.props.header),D.createElement("div",{style:l.body,className:"flexbox-fix"},D.createElement("div",{style:l.saturation},D.createElement(p_,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:AIe,onChange:this.props.onChange})),D.createElement("div",{style:l.hue},D.createElement(Wd,{direction:"vertical",hsl:this.props.hsl,pointer:kIe,onChange:this.props.onChange})),D.createElement("div",{style:l.controls},D.createElement("div",{style:l.top,className:"flexbox-fix"},D.createElement("div",{style:l.previews},D.createElement(OIe,{rgb:this.props.rgb,currentColor:this.state.currentColor})),D.createElement("div",{style:l.actions},D.createElement(L2,{label:"OK",onClick:this.props.onAccept,active:!0}),D.createElement(L2,{label:"Cancel",onClick:this.props.onCancel}),D.createElement(PIe,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(D.Component);ST.propTypes={header:fe.string,styles:fe.object};ST.defaultProps={header:"Color Picker",styles:{}};Si(ST);var LIe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.disableAlpha,a=Qe({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:s}),l=function(u,f){u.hex?wl(u.hex)&&n({hex:u.hex,source:"hex"},f):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,a:r.a,source:"rgb"},f):u.a&&(u.a<0?u.a=0:u.a>100&&(u.a=100),u.a/=100,n({h:i.h,s:i.s,l:i.l,a:u.a,source:"rgb"},f))};return D.createElement("div",{style:a.fields,className:"flexbox-fix"},D.createElement("div",{style:a.double},D.createElement(Rt,{style:{input:a.input,label:a.label},label:"hex",value:o.replace("#",""),onChange:l})),D.createElement("div",{style:a.single},D.createElement(Rt,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),D.createElement("div",{style:a.single},D.createElement(Rt,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),D.createElement("div",{style:a.single},D.createElement(Rt,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),D.createElement("div",{style:a.alpha},D.createElement(Rt,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},FIe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IB=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=Qe({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(c,u){i({hex:c,source:"hex"},u)};return D.createElement("div",{style:s.colors,className:"flexbox-fix"},n.map(function(l){var c=typeof l=="string"?{color:l}:l,u=""+c.color+(c.title||"");return D.createElement("div",{key:u,style:s.swatchWrap},D.createElement(xc,FIe({},c,{style:s.swatch,onClick:a,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+c.color}})))}))};IB.propTypes={colors:fe.arrayOf(fe.oneOfType([fe.string,fe.shape({color:fe.string,title:fe.string})])).isRequired};var BIe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CT=function(e){var n=e.width,r=e.rgb,i=e.hex,o=e.hsv,s=e.hsl,a=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,u=e.presetColors,f=e.renderers,h=e.styles,p=h===void 0?{}:h,m=e.className,b=m===void 0?"":m,x=Qe(xi({default:BIe({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:c});return D.createElement("div",{style:x.picker,className:"sketch-picker "+b},D.createElement("div",{style:x.saturation},D.createElement(p_,{style:x.Saturation,hsl:s,hsv:o,onChange:a})),D.createElement("div",{style:x.controls,className:"flexbox-fix"},D.createElement("div",{style:x.sliders},D.createElement("div",{style:x.hue},D.createElement(Wd,{style:x.Hue,hsl:s,onChange:a})),D.createElement("div",{style:x.alpha},D.createElement(sT,{style:x.Alpha,rgb:r,hsl:s,renderers:f,onChange:a}))),D.createElement("div",{style:x.color},D.createElement(zd,null),D.createElement("div",{style:x.activeColor}))),D.createElement(LIe,{rgb:r,hsl:s,hex:i,onChange:a,disableAlpha:c}),D.createElement(IB,{colors:u,onClick:a,onSwatchHover:l}))};CT.propTypes={disableAlpha:fe.bool,width:fe.oneOfType([fe.string,fe.number]),styles:fe.object};CT.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};Si(CT);var Tf=function(e){var n=e.hsl,r=e.offset,i=e.onClick,o=i===void 0?function(){}:i,s=e.active,a=e.first,l=e.last,c=Qe({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:a,last:l}),u=function(h){return o({h:n.h,s:.5,l:r,source:"hsl"},h)};return D.createElement("div",{style:c.swatch,onClick:u})},VIe=function(e){var n=e.onClick,r=e.hsl,i=Qe({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return D.createElement("div",{style:i.swatches},D.createElement("div",{style:i.swatch},D.createElement(Tf,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<o&&Math.abs(r.s-.5)<o,onClick:n,first:!0})),D.createElement("div",{style:i.swatch},D.createElement(Tf,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<o&&Math.abs(r.s-.5)<o,onClick:n})),D.createElement("div",{style:i.swatch},D.createElement(Tf,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<o&&Math.abs(r.s-.5)<o,onClick:n})),D.createElement("div",{style:i.swatch},D.createElement(Tf,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<o&&Math.abs(r.s-.5)<o,onClick:n})),D.createElement("div",{style:i.swatch},D.createElement(Tf,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<o&&Math.abs(r.s-.5)<o,onClick:n,last:!0})),D.createElement("div",{style:i.clear}))},UIe=function(){var e=Qe({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return D.createElement("div",{style:e.picker})},TT=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,c=Qe(xi({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},s));return D.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},D.createElement("div",{style:c.hue},D.createElement(Wd,{style:c.Hue,hsl:n,pointer:i,onChange:r})),D.createElement("div",{style:c.swatches},D.createElement(VIe,{hsl:n,onClick:r})))};TT.propTypes={styles:fe.object};TT.defaultProps={pointer:UIe,styles:{}};Si(TT);var RB={};Object.defineProperty(RB,"__esModule",{value:!0});var F2=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jIe=E,B2=zIe(jIe);function zIe(t){return t&&t.__esModule?t:{default:t}}function WIe(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var tm=24,HIe=RB.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?tm:r,o=t.height,s=o===void 0?tm:o,a=t.style,l=a===void 0?{}:a,c=WIe(t,["fill","width","height","style"]);return B2.default.createElement("svg",F2({viewBox:"0 0 "+tm+" "+tm,style:F2({fill:n,width:i,height:s},l)},c),B2.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},GIe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.first,a=e.last,l=e.active,c=Qe({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:pT(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:s,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return D.createElement(xc,{color:n,style:c.color,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},D.createElement("div",{style:c.check},D.createElement(HIe,null)))},qIe=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,o=e.active,s=Qe({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return D.createElement("div",{style:s.group},Sc(i,function(a,l){return D.createElement(GIe,{key:a,color:a,active:a.toLowerCase()===o,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},IT=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.onSwatchHover,s=e.colors,a=e.hex,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,h=Qe(xi({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),p=function(b,x){return i({hex:b,source:"hex"},x)};return D.createElement("div",{style:h.picker,className:"swatches-picker "+f},D.createElement(eg,null,D.createElement("div",{style:h.overflow},D.createElement("div",{style:h.body},Sc(s,function(m){return D.createElement(qIe,{key:m.toString(),group:m,active:a,onClick:p,onSwatchHover:o})}),D.createElement("div",{style:h.clear})))))};IT.propTypes={width:fe.oneOfType([fe.string,fe.number]),height:fe.oneOfType([fe.string,fe.number]),colors:fe.arrayOf(fe.arrayOf(fe.string)),styles:fe.object};IT.defaultProps={width:320,height:240,colors:[[Hc[900],Hc[700],Hc[500],Hc[300],Hc[100]],[Gc[900],Gc[700],Gc[500],Gc[300],Gc[100]],[qc[900],qc[700],qc[500],qc[300],qc[100]],[Kc[900],Kc[700],Kc[500],Kc[300],Kc[100]],[Yc[900],Yc[700],Yc[500],Yc[300],Yc[100]],[Xc[900],Xc[700],Xc[500],Xc[300],Xc[100]],[Qc[900],Qc[700],Qc[500],Qc[300],Qc[100]],[Jc[900],Jc[700],Jc[500],Jc[300],Jc[100]],[Zc[900],Zc[700],Zc[500],Zc[300],Zc[100]],["#194D33",jf[700],jf[500],jf[300],jf[100]],[eu[900],eu[700],eu[500],eu[300],eu[100]],[tu[900],tu[700],tu[500],tu[300],tu[100]],[nu[900],nu[700],nu[500],nu[300],nu[100]],[ru[900],ru[700],ru[500],ru[300],ru[100]],[iu[900],iu[700],iu[500],iu[300],iu[100]],[ou[900],ou[700],ou[500],ou[300],ou[100]],[su[900],su[700],su[500],su[300],su[100]],[au[900],au[700],au[500],au[300],au[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Si(IT);var RT=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,h=Qe(xi({default:{card:{width:s,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),p=function(b,x){wl(b)&&n({hex:b,source:"hex"},x)};return D.createElement("div",{style:h.card,className:"twitter-picker "+f},D.createElement("div",{style:h.triangleShadow}),D.createElement("div",{style:h.triangle}),D.createElement("div",{style:h.body},Sc(o,function(m,b){return D.createElement(xc,{key:b,color:m,hex:m,style:h.swatch,onClick:p,onHover:r,focusStyle:{boxShadow:"0 0 4px "+m}})}),D.createElement("div",{style:h.hash},"#"),D.createElement(Rt,{label:null,style:{input:h.input},value:i.replace("#",""),onChange:p}),D.createElement("div",{style:h.clear})))};RT.propTypes={width:fe.oneOfType([fe.string,fe.number]),triangle:fe.oneOf(["hide","top-left","top-right"]),colors:fe.arrayOf(fe.string),styles:fe.object};RT.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Si(RT);var PT=function(e){var n=Qe({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return D.createElement("div",{style:n.picker})};PT.propTypes={hsl:fe.shape({h:fe.number,s:fe.number,l:fe.number,a:fe.number})};PT.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var AT=function(e){var n=Qe({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return D.createElement("div",{style:n.picker})};AT.propTypes={hsl:fe.shape({h:fe.number,s:fe.number,l:fe.number,a:fe.number})};AT.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var KIe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.hsv,a=function(p,m){if(p.hex)wl(p.hex)&&n({hex:p.hex,source:"hex"},m);else if(p.rgb){var b=p.rgb.split(",");Ub(p.rgb,"rgb")&&n({r:b[0],g:b[1],b:b[2],a:1,source:"rgb"},m)}else if(p.hsv){var x=p.hsv.split(",");Ub(p.hsv,"hsv")&&(x[2]=x[2].replace("%",""),x[1]=x[1].replace("%",""),x[0]=x[0].replace("",""),x[1]==1?x[1]=.01:x[2]==1&&(x[2]=.01),n({h:Number(x[0]),s:Number(x[1]),v:Number(x[2]),source:"hsv"},m))}else if(p.hsl){var _=p.hsl.split(",");Ub(p.hsl,"hsl")&&(_[2]=_[2].replace("%",""),_[1]=_[1].replace("%",""),_[0]=_[0].replace("",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),n({h:Number(_[0]),s:Number(_[1]),v:Number(_[2]),source:"hsl"},m))}},l=Qe({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=r.r+", "+r.g+", "+r.b,u=Math.round(i.h)+", "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",f=Math.round(s.h)+", "+Math.round(s.s*100)+"%, "+Math.round(s.v*100)+"%";return D.createElement("div",{style:l.wrap,className:"flexbox-fix"},D.createElement("div",{style:l.fields},D.createElement("div",{style:l.double},D.createElement(Rt,{style:{input:l.input,label:l.label},label:"hex",value:o,onChange:a})),D.createElement("div",{style:l.column},D.createElement("div",{style:l.single},D.createElement(Rt,{style:{input:l.input2,label:l.label2},label:"rgb",value:c,onChange:a})),D.createElement("div",{style:l.single},D.createElement(Rt,{style:{input:l.input2,label:l.label2},label:"hsv",value:f,onChange:a})),D.createElement("div",{style:l.single},D.createElement(Rt,{style:{input:l.input2,label:l.label2},label:"hsl",value:u,onChange:a})))))},kT=function(e){var n=e.width,r=e.onChange,i=e.rgb,o=e.hsl,s=e.hsv,a=e.hex,l=e.header,c=e.styles,u=c===void 0?{}:c,f=e.className,h=f===void 0?"":f,p=Qe(xi({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},u));return D.createElement("div",{style:p.picker,className:"google-picker "+h},D.createElement("div",{style:p.head},l),D.createElement("div",{style:p.swatch}),D.createElement("div",{style:p.saturation},D.createElement(p_,{hsl:o,hsv:s,pointer:PT,onChange:r})),D.createElement("div",{style:p.body},D.createElement("div",{style:p.controls,className:"flexbox-fix"},D.createElement("div",{style:p.hue},D.createElement(Wd,{style:p.Hue,hsl:o,radius:"4px",pointer:AT,onChange:r}))),D.createElement(KIe,{rgb:i,hsl:o,hex:a,hsv:s,onChange:r})))};kT.propTypes={width:fe.oneOfType([fe.string,fe.number]),styles:fe.object,header:fe.string};kT.defaultProps={width:652,styles:{},header:"Color picker"};Si(kT);const YIe=hr(O.jsx("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"})),XIe=hr(O.jsx("path",{d:"m7 10 5 5 5-5z"})),QIe=hr(O.jsx("path",{d:"m7 14 5-5 5 5z"})),JIe=hr(O.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),ZIe=hr(O.jsx("path",{d:"M7 15v2h10v-2zm-4 6h18v-2H3zm0-8h18v-2H3zm4-6v2h10V7zM3 3v2h18V3z"})),eRe=hr(O.jsx("path",{d:"M15 15H3v2h12zm0-8H3v2h12zM3 13h18v-2H3zm0 8h18v-2H3zM3 3v2h18V3z"})),tRe=hr(O.jsx("path",{d:"M3 21h18v-2H3zm6-4h12v-2H9zm-6-4h18v-2H3zm6-4h12V7H9zM3 3v2h18V3z"})),nRe=hr(O.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"})),rRe=hr(O.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"})),iRe=hr(O.jsx("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6m-7 2v2h14v-2z"})),oRe=({localCursor:t,canvasCenter:e,mergeMindMapData:n,isChatOpen:r,setIsChatOpen:i})=>{const[o,s]=E.useState(""),[a,l]=E.useState(!1),[c,u]=E.useState([]),f=e1(),h=async x=>{const _=QE(f,"Settings/Key");if(!_)throw console.error("No API key found. Ensure VITE_OPENAI_API_KEY is set."),new Error("API key missing");const w=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are an expert mind map generator. When given a prompt, output complete valid JSON with two arrays: 'nodes' and 'links'. Each node should include at least an 'id' and a 'text' property. Each link should specify a parent-child relationship with 'source' and 'target'. Generate a deep, multilevel mind map structured as follows: 1. The root node represents the main topic. 2. Create at least four subtopics as direct children of the root node. 3. For each subtopic, create at least two additional child nodes: one that provides a brief explanation of what that subtopic is, and one that discusses its benefits, challenges, or examples. 4. If the subtopic is complex, add an extra level of child nodes that give even more detailed explanations. 5. Make sure that if you add any subtopic children then make sure the other subtopics have some as well. 6. Ensure that each node has a 'parent' field. For the root node, set parent to null, and for all other nodes, include the id of its parent.Output only valid JSON with no markdown or extra text."},{role:"user",content:x}],temperature:.7,max_tokens:4096})});if(!w.ok){const k=await w.text();throw console.error("API error details:",w.status,k),new Error(`OpenAI API error: ${w.statusText}`)}const S=(await w.json()).choices[0].message.content.trim();console.log("Raw content from AI:",S);try{return JSON.parse(S)}catch(k){throw console.error("Error parsing JSON:",k),console.log("Raw content:",S),k}},p=async x=>{if(o.trim()&&!a){l(!0),u(_=>[..._,{from:"user",text:o}]);try{const _=await h(o);u(v=>[...v,{from:"ai",text:"Generated mind map JSON",json:_}]),await n(_,x?t:e)}catch(_){console.error("Error calling OpenAI API:",_),u(w=>[...w,{from:"ai",text:"Error generating mind map"}])}finally{l(!1),s("")}}},m=x=>{x.key==="Enter"&&(x.preventDefault(),p(!0))},b=x=>{p(!1)};return O.jsxs("div",{style:{position:"fixed",bottom:r?"0":"-270px",left:"0",width:"300px",height:"300px",backgroundColor:"#222",color:"#fff",borderTopRightRadius:"8px",border:"1px solid #444",transition:"bottom 0.3s ease",display:"flex",flexDirection:"column",zIndex:1e3},children:[O.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px 8px",backgroundColor:"#333",borderTopRightRadius:"8px"},children:[O.jsxs("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>i(x=>!x),children:[r?O.jsx(XIe,{}):O.jsx(QIe,{}),O.jsx("span",{style:{marginLeft:"4px",fontWeight:"bold"},children:"MindMap Maker (Ai)"})]}),O.jsx(JIe,{style:{cursor:"pointer"},onClick:()=>i(!1)})]}),O.jsx("div",{style:{flex:1,padding:"8px",overflowY:"auto",fontSize:"0.9rem"},children:c.map((x,_)=>O.jsxs("div",{style:{marginBottom:"4px"},children:[O.jsx("strong",{children:x.from==="user"?"You:":"AI:"})," ",x.text]},_))}),O.jsxs("div",{style:{padding:"7px",display:"flex"},children:[O.jsx(cd,{value:o,onChange:x=>s(x.target.value),onKeyDown:m,variant:"filled",size:"small",placeholder:"Enter prompt...",InputProps:{style:{backgroundColor:"#333",color:"#fff"}},fullWidth:!0}),O.jsx(Hn,{variant:"contained",onClick:b,disabled:a,style:{marginLeft:"4px"},children:a?"...":"Send"})]})]})},So=100,Gr=40,sRe=.1,V2=5,U2=.1,aRe=()=>{const{id:t}=ej(),[e,n]=E.useState([]),[r,i]=E.useState([]),[o,s]=E.useState(null),[a,l]=E.useState(""),[c,u]=E.useState(!1),[f,h]=E.useState(null);E.useState([]),E.useState(null);const[p,m]=E.useState([]),[b,x]=E.useState(null),[_,w]=E.useState(!1),[v,S]=E.useState(null),[k,$]=E.useState(null),[I,T]=E.useState([]),[R,y]=E.useState({x:0,y:0}),[P,M]=E.useState([]),A=E.useRef({x:0,y:0}),[z,K]=E.useState(1),[j,Y]=E.useState({x:0,y:0}),U=E.useRef({x:0,y:0}),B=E.useRef({x:0,y:0}),W=E.useRef(z),re=E.useRef(j),[he,me]=E.useState(null),[be,le]=E.useState([]),[Oe,Ne]=E.useState([]),Re=E.useRef(null),Ee=E.useRef(null),[ye,De]=E.useState("#1e1e1e"),[Pe,ut]=E.useState("#fff");E.useState(""),E.useState(So),E.useState(Gr);const[Be,Ue]=E.useState("cursive"),[Nt,de]=E.useState(14),Ke=E.useRef({x:0,y:0}),Me=E.useRef({}),[ft,Ye]=E.useState(!1),xe=E.useRef({x:0,y:0}),[sn,ht]=E.useState({x:0,y:0}),an=E.useRef(!1),st=p.length?e.find(L=>L.id===p[0]):null,Ct=L=>{xe.current=L,an.current||(an.current=!0,requestAnimationFrame(()=>{ht({...xe.current}),an.current=!1}))};E.useState("cursive"),E.useState(14);const[gt,jt]=E.useState([]),[at,Je]=E.useState([]);E.useState("left");const[Rn,mn]=E.useState("left");E.useState("rectangle"),E.useState(0),E.useState("#ff0000"),E.useState(!1),E.useState(100),E.useState("#000000"),E.useState(1),E.useState(!1),E.useState("#ff0000"),E.useState(1),E.useState(!1),E.useState("none"),E.useState(1),E.useState("#ff0000"),gt.includes("bold"),gt.includes("italic"),gt.includes("underline");const ti=[8,10,12,14,16,18,20,24,28,32],we=E.useRef(null),[We,qt]=E.useState(!1),[Xn,pr]=E.useState(!1),[yn,gr]=E.useState({visible:!1,x:0,y:0,type:null}),En=()=>gr({visible:!1,x:0,y:0,type:null}),ni=L=>{if(We){L.preventDefault();return}if(p.length){gr({visible:!0,x:L.clientX,y:L.clientY,type:"node"});return}L.target.closest(".mindmap-node")?gr({visible:!0,x:L.clientX,y:L.clientY,type:"node"}):gr({visible:!0,x:L.clientX,y:L.clientY,type:"canvas"})},rr=()=>{Y({x:0,y:0}),re.current={x:0,y:0},K(1),W.current=1,console.log("Reset pan/zoom"),En()};E.useEffect(()=>{const L=NW(Hl,F=>{F&&(S(F.email),$(F.uid))});return()=>L()},[]),E.useEffect(()=>{if(!t)return;const L=Xi(kt(Ae,"mindMaps",t,"nodes")),F=rh(L,H=>{const q=H.docs.map(J=>({id:J.id,...J.data()}));n(q)});return()=>F()},[t]),E.useEffect(()=>{if(!t)return;const L=Xi(kt(Ae,"mindMaps",t,"links")),F=rh(L,H=>{const q=H.docs.map(J=>({id:J.id,...J.data()}));i(q)});return()=>F()},[t]),E.useEffect(()=>{if(!t||!k)return;const L=Nn(Ae,"mindMaps",t,"presence",k);WP(L,{email:v,lastActive:Ty()},{merge:!0}).catch(console.error);const F=setInterval(()=>{WP(L,{lastActive:Ty()},{merge:!0}).catch(console.error)},5e3);return()=>{clearInterval(F),gE(L).catch(console.error)}},[t,k,v]),E.useEffect(()=>{if(!t)return;const L=Xi(kt(Ae,"mindMaps",t,"presence")),F=rh(L,H=>{const q=H.docs.map(J=>J.data());T(q)});return()=>F()},[t]),E.useEffect(()=>{if(!t||!k)return;const L=e1(),F=QE(L,`mindMaps/${t}/cursors/${k}`),H=Re.current;if(!H)return;const q=Kg(ce=>{const Ie=H.getBoundingClientRect(),He=ce.clientX-Ie.left,Le=ce.clientY-Ie.top;A.current={x:He,y:Le},y({x:He,y:Le})},16);H.addEventListener("mousemove",q);const J=setInterval(()=>{document.hidden||JE(F,{...A.current,email:v,lastActive:Date.now(),uid:k}).catch(console.error)},200),ne=()=>{document.hidden?F&&nO(F).catch(console.error):JE(F,{...A.current,email:v,lastActive:Date.now(),uid:k}).catch(console.error)};return document.addEventListener("visibilitychange",ne),()=>{H.removeEventListener("mousemove",q),q.cancel(),clearInterval(J),document.removeEventListener("visibilitychange",ne),F&&nO(F).catch(console.error)}},[t,k,v]),E.useEffect(()=>{if(!t)return;const L=e1(),F=QE(L,`mindMaps/${t}/cursors`),H=q=>{const J=q.val()||{},ne=Object.entries(J).map(([ce,Ie])=>({uid:ce,...Ie}));M(ne)};return uce(F,H,q=>{console.error("Error receiving remote cursor data:",q)}),()=>{dce(F,"value",H)}},[t]),E.useEffect(()=>{if(!Ee.current)return;const L=Kg(F=>{const q=Ee.current.getBoundingClientRect(),J=(F.clientX-q.left-j.x)/z,ne=(F.clientY-q.top-j.y)/z;A.current={x:J,y:ne},y({x:J,y:ne})},16);return document.addEventListener("mousemove",L),()=>{document.removeEventListener("mousemove",L),L.cancel()}},[j,z]);const Ir=(L,F)=>{F.stopPropagation(),c?f?f===L.id?h(null):Mr(kt(Ae,"mindMaps",t,"links"),{source:f,target:L.id}).then(()=>{h(null)}).catch(H=>{console.error("Error creating link:",H)}):h(L.id):F.ctrlKey||F.metaKey?m(H=>H.includes(L.id)?H.filter(q=>q!==L.id):[...H,L.id]):m([L.id])},zn=L=>{let F={};L?F=L:p.forEach(q=>{const J=e.find(ne=>ne.id===q);J&&(F[q]={...J})});const H=JSON.parse(JSON.stringify(F));Object.keys(H).length>0&&(le(q=>[...q,H]),Ne([]))},mr=L=>{if(L){const F={[L.id]:{...L}};le(H=>[...H,F]),Ne([])}},Go=async()=>{if(be.length===0)return;const L=be[be.length-1];console.log("Undo snapshot:",L);const F=L.nodes?L.nodes:L,H={};Object.keys(F).forEach(J=>{const ne=e.find(ce=>ce.id===J);ne&&(H[J]={...ne})}),Ne(J=>[...J,H]);const q=Io(Ae);Object.keys(F).forEach(J=>{const ne=F[J],ce=Nn(Ae,"mindMaps",t,"nodes",J);ne&&ne.isNew?q.delete(ce):ne&&q.set(ce,ne,{merge:!0})});try{await q.commit(),console.log("Batch undo successful")}catch(J){console.error("Error during batch undo:",J)}n(J=>J.filter(ne=>!(F[ne.id]&&F[ne.id].isNew))),le(J=>J.slice(0,J.length-1))},ge=async()=>{if(Oe.length===0)return;const L=Oe[Oe.length-1];console.log("Redo snapshot:",L);const F={};Object.keys(L).forEach(q=>{const J=e.find(ne=>ne.id===q);J&&(F[q]={...J})}),le(q=>[...q,F]);const H=Io(Ae);Object.keys(L).forEach(q=>{const J=Nn(Ae,"mindMaps",t,"nodes",q);H.set(J,L[q],{merge:!0})});try{await H.commit(),console.log("Batch redo successful")}catch(q){console.error("Error during batch redo:",q)}n(q=>{const J=[...q];return Object.keys(L).forEach(ne=>{const ce=J.findIndex(Ie=>Ie.id===ne);ce===-1?J.push({id:ne,...L[ne]}):J[ce]={...J[ce],...L[ne]}}),J}),Ne(q=>q.slice(0,q.length-1))},_e=(L,F)=>{if(F.button!==0)return;mr(L),F.stopPropagation(),F.preventDefault();const H=F.clientX,q=F.clientY,J=L.width||So,ne=L.height||Gr;let ce=J,Ie=ne;const He=je=>{const Ze=je.clientX-H,nt=je.clientY-q;ce=Math.max(50,J+Ze/z),Ie=Math.max(20,ne+nt/z),n(zt=>zt.map(Ve=>Ve.id===L.id?{...Ve,width:ce,height:Ie}:Ve))},Le=async()=>{document.removeEventListener("mousemove",He),document.removeEventListener("mouseup",Le);try{const je=Nn(Ae,"mindMaps",t,"nodes",L.id);await zc(je,{width:ce,height:Ie})}catch(je){console.error("Error updating node size:",je)}};document.addEventListener("mousemove",He),document.addEventListener("mouseup",Le)},$e=()=>{K(L=>{const F=Math.min(V2,L+U2);return W.current=F,F})},lt=()=>{K(L=>{const F=Math.max(sRe,L-U2);return W.current=F,F})};E.useEffect(()=>{const L=Ee.current,F=Re.current;if(!L||!F)return;const H=Kg(q=>{let J=q.shiftKey?1.15:1.05;q.preventDefault();const ne=L.getBoundingClientRect(),ce=q.clientX-ne.left,Ie=q.clientY-ne.top,He=W.current;let Le;q.deltaY<0?Le=Math.min(V2,He*J):Le=He/J;const je={x:(ce-re.current.x)/He,y:(Ie-re.current.y)/He},Ze={x:ce-je.x*Le,y:Ie-je.y*Le};K(Le),Y(Ze),W.current=Le,re.current=Ze},8);return L.addEventListener("wheel",H,{passive:!1}),()=>{L.removeEventListener("wheel",H),H.cancel()}},[z,j]);const Pt=L=>{L.preventDefault()},xn=L=>{if(L.button!==2)return;L.preventDefault(),console.log("Right-click detected"),U.current={...j},we.current={x:L.clientX,y:L.clientY},B.current={x:L.clientX,y:L.clientY};const H=Kg(q=>{const J=q.clientX-B.current.x,ne=q.clientY-B.current.y;Math.sqrt(J*J+ne*ne)>15&&qt(!0),requestAnimationFrame(()=>{const Ie=q.clientX-B.current.x,He=q.clientY-B.current.y,Le=U.current.x+Ie,je=U.current.y+He;Y({x:Le,y:je}),re.current={x:Le,y:je}})},8);document.addEventListener("mousemove",H),document.addEventListener("mouseup",function q(){document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",q),H.cancel()})},zr=async()=>{if(t)try{const L=re.current,F=W.current,H=Ee.current.getBoundingClientRect(),q=250,J=50,ne=H.width-q,ce=H.height-J,Ie=ne/2,He=ce/2,Le=(Ie-L.x)/F,je=(He-L.y)/F;await Mr(kt(Ae,"mindMaps",t,"nodes"),{text:"New Node",x:Le,y:je,width:So,height:Gr,lockedBy:null,typing:!1})}catch(L){console.error("Error adding node:",L)}},Ci=async()=>{if(t)try{const L=R.x,F=R.y;await Mr(kt(Ae,"mindMaps",t,"nodes"),{text:"New Node",x:L-So/2,y:F-Gr/2,width:So,height:Gr,lockedBy:null,typing:!1})}catch(L){console.error("Error adding node:",L)}},yr=L=>{if(c||L.type==="image")return;if(L.lockedBy&&L.lockedBy!==v){alert(`Node is currently locked by ${L.lockedBy}`);return}const F=Nn(Ae,"mindMaps",t,"nodes",L.id);zc(F,{lockedBy:v,typing:!0}).catch(console.error),s(L.id),l(L.text)},vn=async L=>{try{p.includes(L),zn();const F=Nn(Ae,"mindMaps",t,"nodes",L);await zc(F,{text:a,lockedBy:null,typing:!1}),s(null),l("")}catch(F){console.error("Error updating node text:",F)}},Pn=L=>{const F=Nn(Ae,"mindMaps",t,"nodes",L);zc(F,{typing:!0}).catch(console.error)};E.useEffect(()=>{const L=F=>{if(!(document.activeElement.tagName==="INPUT"||document.activeElement.tagName==="TEXTAREA")){if(F.ctrlKey&&F.key.toLowerCase()==="d"&&(F.preventDefault(),(async()=>{if(p.length>0){const q={};await Promise.all(p.map(async J=>{const ne=e.find(ce=>ce.id===J);if(ne){const ce={x:ne.x+50,y:ne.y+50},Ie=await X(ne,ce);Ie&&(q[Ie]={id:Ie,isNew:!0})}})),console.log("Control-D group undo snapshot:",q),Object.keys(q).length>0&&zn(q)}})()),!o&&p.length>0&&(F.key==="Backspace"||F.key==="Delete")&&(F.preventDefault(),window.confirm("Are you sure you want to delete the selected nodes?"))){zn();for(const H of p){const q=Nn(Ae,"mindMaps",t,"nodes",H),J=e.find(ne=>ne.id===H);if((J==null?void 0:J.type)==="image"&&J.storagePath){const ne=ub(db,J.storagePath);try{aK(ne),console.log(`Deleted image from storage at ${J.storagePath}`)}catch(ce){console.error("Error deleting image from storage:",ce)}}gE(q).catch(console.error)}n(H=>H.filter(q=>!p.includes(q.id))),m([])}F.ctrlKey&&F.key.toLowerCase()==="z"&&(console.log("undo"),F.preventDefault(),Go()),F.ctrlKey&&F.key.toLowerCase()==="y"&&(F.preventDefault(),ge())}};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[e,p,be,Oe]);const vr=L=>{if(ft||L.button!==0)return;const F=Ee.current.getBoundingClientRect();w(L.ctrlKey||L.metaKey);const H=(L.clientX-F.left-j.x)/z,q=(L.clientY-F.top-j.y)/z;x({startX:H,startY:q,x:H,y:q,width:0,height:0})},ws=L=>{if(!b||ft)return;const F=Ee.current.getBoundingClientRect(),H=(L.clientX-F.left-j.x)/z,q=(L.clientY-F.top-j.y)/z,J=Math.min(b.startX,H),ne=Math.min(b.startY,q),ce=Math.abs(H-b.startX),Ie=Math.abs(q-b.startY);x({...b,x:J,y:ne,width:ce,height:Ie})},Z=L=>{if(!b)return;const F=e.filter(H=>{const q=H.width||So,J=H.height||Gr;return H.x>=b.x&&H.x+q<=b.x+b.width&&H.y>=b.y&&H.y+J<=b.y+b.height}).map(H=>H.id);m(_?H=>{const q=[...H];return F.forEach(J=>{q.includes(J)?q.splice(q.indexOf(J),1):q.push(J)}),q}:F),x(null)},X=async(L,F)=>{if(!t)return null;const{id:H,...q}=L;let J;try{J=(await Mr(kt(Ae,"mindMaps",t,"nodes"),{...q,x:F.x,y:F.y,lockedBy:null,typing:!1})).id,console.log("Duplicated node with new id:",J);const ce=Xi(kt(Ae,"mindMaps",t,"links"),ks("source","==",H)),Ie=await xl(ce);for(const je of Ie.docs){const Ze=je.data();await Mr(kt(Ae,"mindMaps",t,"links"),{...Ze,source:J})}const He=Xi(kt(Ae,"mindMaps",t,"links"),ks("target","==",H)),Le=await xl(He);for(const je of Le.docs){const Ze=je.data();await Mr(kt(Ae,"mindMaps",t,"links"),{...Ze,target:J})}}catch(ne){return console.error("Error duplicating node and links:",ne),null}return J},pe=async(L,F,H=null)=>{if(!t)return null;const{id:q,...J}=L;let ne;try{ne=(await Mr(kt(Ae,"mindMaps",t,"nodes"),{...J,x:F.x,y:F.y,lockedBy:null,typing:!1})).id,console.log("Duplicated node with new id:",ne);const Ie=Xi(kt(Ae,"mindMaps",t,"links"),ks("source","==",q)),He=await xl(Ie);for(const Ze of He.docs){const nt=Ze.data(),zt=H&&H[nt.target]?H[nt.target]:null;zt&&await Mr(kt(Ae,"mindMaps",t,"links"),{...nt,source:ne,target:zt})}const Le=Xi(kt(Ae,"mindMaps",t,"links"),ks("target","==",q)),je=await xl(Le);for(const Ze of je.docs){const nt=Ze.data(),zt=H&&H[nt.source]?H[nt.source]:null;zt&&await Mr(kt(Ae,"mindMaps",t,"links"),{...nt,source:zt,target:ne})}}catch(ce){return console.error("Error duplicating node and links:",ce),null}return ne},Xe=(L,F)=>{const H={};L.forEach(J=>{H[J.id]=J});let q=!1;return F.forEach(J=>{const ne=H[J.target];ne&&(ne.parent===void 0||ne.parent===null)&&(ne.parent=J.source,q=!0)}),L.forEach(J=>{J.parent===void 0&&(J.parent=null,q=!0)}),{nodes:L,modified:q}},dt=async(L,F)=>{if(!L.nodes||!L.links)return;const{nodes:H,modified:q}=Xe(L.nodes,L.links),{layout:J,levelMap:ne}=uue(H,L.links,150,800,1.5);console.log("Computed layout:",J,"Level map:",ne);let ce=1/0,Ie=1/0,He=-1/0,Le=-1/0;Object.values(J).forEach(({x:Yt,y:ir})=>{Yt<ce&&(ce=Yt),ir<Ie&&(Ie=ir),Yt>He&&(He=Yt),ir>Le&&(Le=ir)});const je=(ce+He)/2,Ze=(Ie+Le)/2,nt=F.x-je,zt=F.y-Ze,Ve=["#2C3E50","#1ABC9C","#3498DB","#9B59B6","#E74C3C"],Kt={},wt={},vo=Io(Ae);for(const Yt of H){const ir=Nn(kt(Ae,"mindMaps",t,"nodes")),ln=J[Yt.id]||{x:0,y:0},bo=ne[Yt.id]||0,Ki=bo%Ve.length,Tc=Ve[Ki];let wo=100,ii=40,qd=14;if(bo===0){const ha=Yt.text?Yt.text.length:0;wo=Math.max(180,ha*1.25),ii=Math.max(60,ha*1),qd=28}else{const ha=Yt.text?Yt.text.length:0;wo=Math.max(100,ha*1.1),ii=Math.max(45,ha*2)}const Kd={...Yt,x:ln.x+nt,y:ln.y+zt,id:ir.id,bgColor:Yt.bgColor||Tc,textColor:Yt.textColor||"#ECF0F1",width:wo,height:ii,fontSize:qd};Kt[Yt.id]=ir.id,wt[ir.id]={newNodeData:Kd,isNew:!0},vo.set(ir,Kd)}await vo.commit(),console.log("Undo snapshot (nodes):",Kt);const _o={nodes:{...wt}};zn(_o);const Wr=Io(Ae);for(const Yt of L.links){const ir=Kt[Yt.source],ln=Kt[Yt.target];if(!ir||!ln){console.error("Skipping link: missing mapping for source or target");continue}const bo=Nn(kt(Ae,"mindMaps",t,"links"));Wr.set(bo,{...Yt,source:ir,target:ln})}await Wr.commit(),console.log("Merged AI-generated mind map at drop position:",F)},$t=L=>{L.preventDefault()},tn=async L=>{L.preventDefault();const F=L.dataTransfer.files;if(!F||F.length===0)return;const H=F[0],q=Ee.current.getBoundingClientRect(),J=re.current,ne=W.current,ce=(L.clientX-q.left-J.x)/ne,Ie=(L.clientY-q.top-J.y)/ne,He={};if(H.type==="application/json"||H.name.endsWith(".json"))try{const Le=await H.text(),je=JSON.parse(Le);if(!je.nodes||!je.links)throw new Error("Invalid file format");let Ze=1/0,nt=1/0,zt=-1/0,Ve=-1/0;je.nodes.forEach(ln=>{ln.x<Ze&&(Ze=ln.x),ln.y<nt&&(nt=ln.y),ln.x>zt&&(zt=ln.x),ln.y>Ve&&(Ve=ln.y)});const Kt=(Ze+zt)/2,wt=(nt+Ve)/2,vo=ce-Kt,_o=Ie-wt,Wr={},Yt=Io(Ae);je.nodes.forEach(ln=>{const bo=ln.id,Ki=Nn(kt(Ae,"mindMaps",t,"nodes")),Tc={...ln,x:ln.x+vo,y:ln.y+_o,id:Ki.id};Yt.set(Ki,Tc),Wr[bo]=Ki.id,He[Ki.id]={id:Ki.id,isNew:!0}}),await Yt.commit();const ir=Io(Ae);je.links.forEach(ln=>{const bo=Wr[ln.source],Ki=Wr[ln.target];if(!bo||!Ki){console.error("Skipping link: missing mapping for source or target");return}const{id:Tc,...wo}=ln,ii=Nn(kt(Ae,"mindMaps",t,"links"));ir.set(ii,{...wo,source:bo,target:Ki})}),await ir.commit(),console.log("Imported mind map JSON file at cursor position using batch writes.")}catch(Le){console.error("Error importing mind map:",Le)}else if(H.type.startsWith("image/"))try{const Le=Date.now(),je=H.name||"pastedImage.png",Ze=`images/${Le}_${je}`,nt=ub(db,Ze);await XP(nt,H);const zt=await QP(nt);await Mr(kt(Ae,"mindMaps",t,"nodes"),{type:"image",imageUrl:zt,storagePath:Ze,x:ce-60/W.current*.5,y:Ie-Gr/W.current*.5,width:60/W.current,height:Gr/W.current,lockedBy:null,typing:!1}).then(Ve=>{Ve&&(He[Ve.id]={id:Ve.id,isNew:!0})})}catch(Le){console.error("Error uploading image:",Le)}Object.keys(He).length>0&&zn(He)},Qn=async L=>{if(!o&&p.length>0){const F=e.filter(q=>p.includes(q.id)),H=JSON.stringify(F);if(L.clipboardData)L.clipboardData.setData("application/json",H),L.clipboardData.setData("text/plain",H),L.preventDefault(),console.log("Copied nodes to clipboard:",F);else if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(H),console.log("Copied nodes to clipboard via navigator.clipboard:",F)}catch(q){console.error("Failed to copy nodes:",q)}else console.error("Clipboard API not available.")}};E.useEffect(()=>(document.addEventListener("copy",Qn),()=>document.removeEventListener("copy",Qn)),[p,e]);const qo=async()=>{if(!o)try{En();let L={},F=null,H=!1;if(navigator.clipboard.read){const q=await navigator.clipboard.read();for(const J of q)for(const ne of J.types)if(ne.startsWith("image/")){H=!0;const ce=await J.getType(ne);try{const Ie=Date.now(),He=ce.name||"pastedImage.png",Le=`images/${Ie}_${He}`,je=ub(db,Le);await XP(je,ce);const Ze=await QP(je),nt=R.x,zt=R.y,Ve=await Mr(kt(Ae,"mindMaps",t,"nodes"),{type:"image",imageUrl:Ze,storagePath:Le,x:nt-60/W.current*.5,y:zt-Gr/W.current*.5,width:60/W.current,height:Gr/W.current,lockedBy:null,typing:!1});Ve&&(L[Ve.id]={id:Ve.id,isNew:!0})}catch(Ie){console.error("Error uploading pasted image:",Ie)}break}if(!H){const ne=(await navigator.clipboard.readText()).trim();if(ne.startsWith("{")||ne.startsWith("["))try{F=JSON.parse(ne),Array.isArray(F)||(F=[F])}catch(ce){console.error("Error parsing JSON, falling back to plain text:",ce),F=null}}}else{const q=await navigator.clipboard.readText();try{F=JSON.parse(q),Array.isArray(F)||(F=[F])}catch{F=null}}if(F){const q=R.x,J=R.y;if(F.length===1){const ne=F[0],ce=ne.width||So,Ie=ne.height||Gr,He=ne.x+ce/2,Le=ne.y+Ie/2,je=q-He,Ze=J-Le,nt=await X(ne,{x:ne.x+je,y:ne.y+Ze});nt&&(L[nt]={id:nt,isNew:!0})}else{let ne=1/0,ce=1/0,Ie=-1/0,He=-1/0;F.forEach(Ve=>{Ve.x<ne&&(ne=Ve.x),Ve.y<ce&&(ce=Ve.y),Ve.x>Ie&&(Ie=Ve.x),Ve.y>He&&(He=Ve.y)});const Le=(ne+Ie)/2,je=(ce+He)/2,Ze=q-Le,nt=J-je,zt={};await Promise.all(F.map(async Ve=>{const Kt={x:Ve.x+Ze,y:Ve.y+nt},wt=await pe(Ve,Kt,{});wt&&(zt[Ve.id]=wt,L[wt]={id:wt,isNew:!0})})),await Promise.all(F.map(async Ve=>{const Kt=zt[Ve.id];if(!Kt)return;const wt=Xi(kt(Ae,"mindMaps",t,"links"),ks("source","==",Ve.id)),vo=await xl(wt);for(const _o of vo.docs){const Wr=_o.data(),Yt=zt[Wr.target];Yt&&await Mr(kt(Ae,"mindMaps",t,"links"),{...Wr,source:Kt,target:Yt})}}))}}else{const q=await navigator.clipboard.readText();if(q.trim()!==""){const J=R.x,ne=R.y;try{const ce=await Mr(kt(Ae,"mindMaps",t,"nodes"),{type:"text",text:q,x:J-So/W.current*.5,y:ne-Gr/W.current*.5,width:So/W.current,height:Gr/W.current,fontSize:Math.floor(14/W.current*.5),lockedBy:null,typing:!1});ce&&(L[ce.id]={id:ce.id,isNew:!0})}catch(ce){console.error("Error creating text node from pasted text:",ce)}}}Object.keys(L).length>0&&zn(L)}catch(L){console.error("Error handling paste via context menu:",L)}};E.useEffect(()=>(window.addEventListener("paste",qo),()=>window.removeEventListener("paste",qo)),[t,R,re,W,Ee,pe,zn]);const Gd=async()=>{if(!p.length)return;zn();const L={};if(st&&(st.bgColor!==ye&&(L.bgColor=ye),st.textColor!==Pe&&(L.textColor=Pe),st.fontSize!==Nt&&(L.fontSize=Nt),JSON.stringify(st.textStyle)!==JSON.stringify(at)&&(L.textStyle=at),st.textAlign!==Rn&&(L.textAlign=Rn),st.fontFamily!==Be&&(L.fontFamily=Be)),Object.keys(L).length===0)return;const F=Io(Ae);p.forEach(H=>{const q=Nn(Ae,"mindMaps",t,"nodes",H);F.update(q,L)});try{await F.commit(),n(H=>H.map(q=>p.includes(q.id)?{...q,...L}:q))}catch(H){console.error("Error updating nodes:",H)}},Es=async()=>{if(!(!p||p.length===0))try{const L=Io(Ae);for(const F of p){const H=Xi(kt(Ae,"mindMaps",t,"links"),ks("source","==",F));(await xl(H)).docs.forEach(ce=>{const Ie=Nn(Ae,"mindMaps",t,"links",ce.id);L.delete(Ie)});const J=Xi(kt(Ae,"mindMaps",t,"links"),ks("target","==",F));(await xl(J)).docs.forEach(ce=>{const Ie=Nn(Ae,"mindMaps",t,"links",ce.id);L.delete(Ie)})}await L.commit(),console.log("All links removed from the selected nodes.")}catch(L){console.error("Error removing links:",L)}};E.useEffect(()=>{st&&(De(st.bgColor||"#1e1e1e"),ut(st.textColor||"#fff"),de(st.fontSize||"14"),Je(st.textStyle||[]),mn(st.textAlign||"left"),Ue(st.fontFamily||"cursive"))},[st]);const xs=()=>{const F=JSON.stringify({nodes:e,links:r},null,2),H=new Blob([F],{type:"application/json"}),q=URL.createObjectURL(H),J=document.createElement("a");J.href=q,J.download=`mindmap_${t}.json`,J.click(),URL.revokeObjectURL(q)},Ko=L=>he===L.id||p.includes(L.id),mt=E.useMemo(()=>r.map(L=>{const F=e.find(Ze=>Ze.id===L.source),H=e.find(Ze=>Ze.id===L.target);if(!F||!H)return null;const q=F.width||So,J=F.height||Gr,ne=H.width||So,ce=H.height||Gr,Ie=F.x+q/2,He=F.y+J/2,Le=H.x+ne/2,je=H.y+ce/2;return O.jsx("line",{x1:Ie,y1:He,x2:Le,y2:je,stroke:"#fff",strokeWidth:"2"},L.id)}),[r,e]),Bn=()=>{const L=Date.now(),F=500;return P.filter(H=>H.uid!==k&&L-H.lastActive<F).map(H=>{const q=H.x*z+j.x,J=H.y*z+j.y;return O.jsx("div",{style:{position:"absolute",top:J,left:q,transform:"translate(-50%, -50%)",transition:"top 0.35s ease, left 0.35s ease",backgroundColor:"blue",color:"#fff",padding:"2px 4px",borderRadius:"4px",fontSize:"10px",pointerEvents:"none",zIndex:150},children:H.email},H.uid)})};E.useEffect(()=>{if(st&&(st.bgColor!==ye||st.textColor!==Pe||st.fontSize!==Nt||JSON.stringify(st.textStyle)!==JSON.stringify(at)||st.textAlign!==Rn||st.fontFamily!==Be)){const L=setTimeout(()=>{Gd()},300);return()=>clearTimeout(L)}},[ye,Pe,Nt,at,Rn,Be,st]);const ri=Cv(),Ss=()=>!yn.visible||We?null:O.jsxs("div",{style:{position:"fixed",top:yn.y,left:yn.x,backgroundColor:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px",padding:"5px",zIndex:1e3,minWidth:"120px"},onContextMenu:L=>L.preventDefault(),children:[yn.type==="canvas"&&O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"context-menu-item",style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:L=>{qo()},children:"Paste"}),O.jsx("div",{className:"context-menu-item",style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:rr,children:"Reset"})]}),yn.type==="node"&&O.jsx("div",{className:"context-menu-item",onMouseDown:L=>{Qn(L)},children:"Copy"})]}),Cc=()=>{if(!Ee.current)return{x:0,y:0};const L=Ee.current.getBoundingClientRect(),F=250,H=50,q=L.width-F,J=L.height-H,ne=F+q/2,ce=H+J/2,Ie=(ne-re.current.x)/W.current,He=(ce-re.current.y)/W.current;return{x:Ie,y:He}};return E.useEffect(()=>{const L=()=>{yn.visible&&En()};return document.addEventListener("click",L),()=>document.removeEventListener("click",L)},[yn.visible]),O.jsxs("div",{style:{position:"relative",height:"100vh",backgroundColor:"#121212",userSelect:"none",cursor:ft||We?"grabbing":"unset"},ref:Ee,onContextMenu:L=>L.preventDefault(),onMouseDown:L=>{if(L.target===Ee.current){if(vr(L),L.button!==2)return;xn(L)}},onDoubleClick:L=>{L.target===Ee.current&&Ci()},onMouseMove:L=>{ws(L)},onMouseUp:L=>{Z(),L.button===2&&(we.current=null,ni(L),We&&(setTimeout(()=>qt(!1),0),En()))},onDragOver:$t,onDrop:tn,children:[Bn(),O.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,height:"50px",backgroundColor:"#333",display:"flex",alignItems:"center",padding:"0 10px",zIndex:300},children:[O.jsx(Hn,{variant:"contained",onClick:()=>ri("/dashboard"),style:{marginRight:"10px"},children:O.jsx(YIe,{})}),O.jsx(Hn,{variant:"contained",onClick:zr,style:{marginRight:"10px"},children:"Add Node"}),O.jsx(Hn,{variant:"contained",onClick:()=>{u(L=>!L),h(null)},style:{marginRight:"10px"},children:c?"Exit Linking Mode":"Link Nodes"}),O.jsx(Hn,{variant:"contained",onClick:xs,style:{marginRight:"10px"},children:"Export"}),O.jsx(Hn,{variant:"contained",onClick:$e,style:{marginRight:"10px"},children:"Zoom In"}),O.jsx(Hn,{variant:"contained",onClick:lt,children:"Zoom Out"}),c&&O.jsx(no,{variant:"body2",style:{color:"#fff",marginLeft:"10px"},children:f?"Select target node...":"Select source node..."})]}),O.jsx("div",{style:{position:"fixed",top:50,right:0,width:"250px",height:"calc(100% - 50px)",backgroundColor:"#333",padding:"20px",boxSizing:"border-box",zIndex:300,overflowY:"auto"},onClick:L=>L.stopPropagation(),onMouseDown:L=>L.stopPropagation(),children:st?O.jsxs(O.Fragment,{children:[O.jsx(no,{variant:"h6",style:{marginBottom:"5px",color:"#fff",fontWeight:"bold"},children:"Font"}),O.jsxs($a,{display:"flex",alignItems:"center",gap:1,children:[O.jsxs(tC,{variant:"filled",size:"small",sx:{minWidth:120},style:{marginBottom:"10px"},children:[O.jsx(nC,{style:{color:"#fff"},children:"Font"}),O.jsxs(oC,{value:Be,onChange:L=>Ue(L.target.value),style:{color:"#fff",backgroundColor:"#444",width:"100%"},children:[O.jsx(Pa,{value:"cursive",children:"Cursive"}),O.jsx(Pa,{value:"Microsoft Yahei",children:"Microsoft Yahei"}),O.jsx(Pa,{value:"Arial",children:"Arial"}),O.jsx(Pa,{value:"Times New Roman",children:"Times New Roman"}),O.jsx(Pa,{value:"Courier New",children:"Courier New"})]})]}),O.jsx(qte,{freeSolo:!0,options:ti,getOptionLabel:L=>L.toString(),value:Nt,onChange:(L,F)=>{let H;typeof F=="number"?H=F:typeof F=="string"&&F.trim()!==""&&(H=parseInt(F,10)),isNaN(H)||de(H)},onInputChange:(L,F)=>{const H=parseInt(F,10);isNaN(H)||de(H)},sx:{width:10,"& .MuiInputBase-root":{backgroundColor:"#444",color:"#fff"},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiAutocomplete-popupIndicator":{color:"#fff"}},renderInput:L=>O.jsx(cd,{...L,label:"Font Size",variant:"filled",InputLabelProps:{style:{color:"#fff"}}}),style:{marginBottom:"10px",background:"#444",color:"white",width:"40%"}})]}),O.jsxs(vk,{value:at,onChange:(L,F)=>{Je(F)},"aria-label":"text style",size:"small",children:[O.jsx(Lc,{value:"bold","aria-label":"bold",children:O.jsx(nRe,{})}),O.jsx(Lc,{value:"italic","aria-label":"italic",children:O.jsx(rRe,{})}),O.jsx(Lc,{value:"underline","aria-label":"underline",children:O.jsx(iRe,{})})]}),O.jsxs(vk,{value:Rn,exclusive:!0,onChange:(L,F)=>{F!==null&&mn(F)},"aria-label":"text alignment",size:"small",children:[O.jsx(Lc,{value:"left","aria-label":"left",children:O.jsx(eRe,{})}),O.jsx(Lc,{value:"center","aria-label":"center",children:O.jsx(ZIe,{})}),O.jsx(Lc,{value:"right","aria-label":"right",children:O.jsx(tRe,{})})]}),O.jsx(no,{variant:"h6",style:{marginBottom:"5px",color:"#fff",fontWeight:"bold",borderTop:"1px solid #fff",paddingTop:"10px"},children:"Topic"}),O.jsxs($a,{display:"flex",alignItems:"center",gap:1,children:[O.jsxs($a,{component:"span",sx:{color:"#fff",fontSize:"0.9rem"},children:["Background:",O.jsx("input",{type:"color",value:ye,onChange:L=>De(L.target.value),style:{width:64,height:32,border:"none",background:"transparent",padding:0}})]}),O.jsxs($a,{component:"span",sx:{color:"#fff",fontSize:"0.9rem"},children:["Font Color:",O.jsx("input",{type:"color",value:Pe,onChange:L=>ut(L.target.value),style:{width:64,height:32,border:"none",background:"transparent",padding:0}})]})]}),O.jsx(Hn,{variant:"contained",onClick:Es,style:{marginRight:"10px",backgroundColor:"red",marginTop:"200%"},children:"Remove All Links"})]}):O.jsx(no,{variant:"caption",style:{color:"#fff"},children:"Select a node to customize..."})}),O.jsxs("div",{style:{position:"fixed",top:60,right:270,backgroundColor:"rgba(0,0,0,0.7)",color:"#fff",padding:"8px",borderRadius:"4px",zIndex:250},children:[O.jsx(no,{variant:"caption",children:"Active Users:"}),I.map((L,F)=>O.jsx("div",{children:O.jsx(no,{variant:"caption",children:L.email})},F))]}),Bn(),O.jsxs("div",{ref:Re,onContextMenu:Pt,onMouseDown:xn,onClick:L=>{L.target===Re.current&&m([])},style:{position:"absolute",top:0,left:0,width:".1px",height:".1px",overflow:"visible",transform:`translate(${j.x}px, ${j.y}px) scale(${z})`,transformOrigin:"top left"},children:[O.jsx("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",overflow:"visible"},children:mt}),e.map(L=>O.jsx(cue,{node:L,zoom:W.current,groupDelta:sn,isHighlighted:Ko(L),currentUserEmail:v,selectedNodes:p,editingNodeId:o,editedText:a,handleResizeMouseDown:_e,handleNodeClick:Ir,handleDoubleClick:yr,handleTyping:Pn,handleTextBlur:vn,setEditedText:l,setHoveredNodeId:me,linkingSource:f,hoveredNodeId:he,onStart:(F,H)=>{if(o===L.id)return!1;Ye(!0);const q=Ee.current.getBoundingClientRect(),J=(F.clientX-q.left-re.current.x)/W.current,ne=(F.clientY-q.top-re.current.y)/W.current,ce=J-L.x,Ie=ne-L.y;Ke.current={offsetX:ce,offsetY:Ie,initialX:L.x,initialY:L.y},p.length>1&&p.includes(L.id)&&Object.keys(Me.current).length===0&&p.forEach(He=>{const Le=e.find(je=>je.id===He);Le&&(Me.current[He]={x:Le.x,y:Le.y})})},onDrag:(F,H)=>{const q=Ee.current.getBoundingClientRect(),J=(F.clientX-q.left-re.current.x)/W.current,ne=(F.clientY-q.top-re.current.y)/W.current,ce=J-Ke.current.offsetX,Ie=ne-Ke.current.offsetY;p.length>1&&p.includes(L.id)?Ct({x:ce-Ke.current.initialX,y:Ie-Ke.current.initialY}):n(He=>He.map(Le=>Le.id===L.id?{...Le,x:ce,y:Ie}:Le))},onStop:async(F,H)=>{const q=Ee.current.getBoundingClientRect(),J=(F.clientX-q.left-re.current.x)/W.current,ne=(F.clientY-q.top-re.current.y)/W.current,ce=J-Ke.current.offsetX,Ie=ne-Ke.current.offsetY;if(Math.sqrt(Math.pow(ce-Ke.current.initialX,2)+Math.pow(Ie-Ke.current.initialY,2))<.01){Ye(!1);return}if(p.length>1&&p.includes(L.id)){const je=ce-Ke.current.initialX,Ze=Ie-Ke.current.initialY,nt={};p.forEach(Ve=>{const Kt=Me.current[Ve];Kt&&(nt[Ve]={x:Kt.x+je,y:Kt.y+Ze})}),n(Ve=>Ve.map(Kt=>p.includes(Kt.id)&&nt[Kt.id]?{...Kt,x:nt[Kt.id].x,y:nt[Kt.id].y}:Kt));const zt=Io(Ae);p.forEach(Ve=>{if(nt[Ve]){const Kt=Nn(Ae,"mindMaps",t,"nodes",Ve);zt.update(Kt,{x:nt[Ve].x,y:nt[Ve].y})}});try{await zt.commit(),console.log("Batch update successful")}catch(Ve){console.error("Error updating nodes in batch:",Ve)}Me.current={},ht({x:0,y:0})}else{n(je=>je.map(Ze=>Ze.id===L.id?{...Ze,x:ce,y:Ie}:Ze));try{const je=Nn(Ae,"mindMaps",t,"nodes",L.id);await zc(je,{x:ce,y:Ie}),console.log("Updated node:",L.id,ce,Ie)}catch(je){console.error("Error updating node position:",je)}}p.length>0?zn():mr(L),Ye(!1)}},L.id)),b&&(()=>{const L=(b.width+b.height)/2,F=Math.max(1,L*.02);return O.jsx("svg",{style:{position:"absolute",left:b.x,top:b.y,width:b.width,height:b.height,pointerEvents:"none",zIndex:500},children:O.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"rgba(128,128,128,0.1)",stroke:"white",strokeWidth:F})})})()]}),O.jsx(Ss,{}),O.jsx(oRe,{localCursor:R,canvasCenter:Cc(),mergeMindMapData:dt,isChatOpen:Xn,setIsChatOpen:pr})]})};function lRe(){return O.jsxs(gj,{children:[O.jsx(pm,{path:"/",element:O.jsx(Goe,{})}),O.jsx(pm,{path:"/dashboard",element:O.jsx(Qoe,{})}),O.jsx(pm,{path:"/editor/:id",element:O.jsx(aRe,{})})]})}Wb.createRoot(document.getElementById("root")).render(O.jsx(Bj,{children:O.jsx(lRe,{})}))});export default cRe();
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}