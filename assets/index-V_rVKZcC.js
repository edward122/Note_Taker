var PB=Object.defineProperty;var kB=(t,e,n)=>e in t?PB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var AB=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var _f=(t,e,n)=>kB(t,typeof e!="symbol"?e+"":e,n);var $1e=AB((zi,Wi)=>{function OB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Fa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function NB(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var J2={exports:{}},kv={},Z2={exports:{}},It={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp=Symbol.for("react.element"),MB=Symbol.for("react.portal"),$B=Symbol.for("react.fragment"),DB=Symbol.for("react.strict_mode"),LB=Symbol.for("react.profiler"),FB=Symbol.for("react.provider"),BB=Symbol.for("react.context"),VB=Symbol.for("react.forward_ref"),UB=Symbol.for("react.suspense"),jB=Symbol.for("react.memo"),zB=Symbol.for("react.lazy"),dI=Symbol.iterator;function WB(t){return t===null||typeof t!="object"?null:(t=dI&&t[dI]||t["@@iterator"],typeof t=="function"?t:null)}var eN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tN=Object.assign,nN={};function Od(t,e,n){this.props=t,this.context=e,this.refs=nN,this.updater=n||eN}Od.prototype.isReactComponent={};Od.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Od.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rN(){}rN.prototype=Od.prototype;function Wx(t,e,n){this.props=t,this.context=e,this.refs=nN,this.updater=n||eN}var Hx=Wx.prototype=new rN;Hx.constructor=Wx;tN(Hx,Od.prototype);Hx.isPureReactComponent=!0;var fI=Array.isArray,iN=Object.prototype.hasOwnProperty,Gx={current:null},oN={key:!0,ref:!0,__self:!0,__source:!0};function sN(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)iN.call(e,r)&&!oN.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Tp,type:t,key:o,ref:s,props:i,_owner:Gx.current}}function HB(t,e){return{$$typeof:Tp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tp}function GB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hI=/\/+/g;function Z_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?GB(""+t.key):e.toString(36)}function xm(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Tp:case MB:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Z_(s,0):r,fI(i)?(n="",t!=null&&(n=t.replace(hI,"$&/")+"/"),xm(i,e,n,"",function(c){return c})):i!=null&&(qx(i)&&(i=HB(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(hI,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",fI(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Z_(o,a);s+=xm(o,e,n,l,i)}else if(l=WB(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Z_(o,a++),s+=xm(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Pg(t,e,n){if(t==null)return t;var r=[],i=0;return xm(t,r,"","",function(o){return e.call(n,o,i++)}),r}function qB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ii={current:null},Sm={transition:null},KB={ReactCurrentDispatcher:ii,ReactCurrentBatchConfig:Sm,ReactCurrentOwner:Gx};It.Children={map:Pg,forEach:function(t,e,n){Pg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pg(t,function(){e++}),e},toArray:function(t){return Pg(t,function(e){return e})||[]},only:function(t){if(!qx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};It.Component=Od;It.Fragment=$B;It.Profiler=LB;It.PureComponent=Wx;It.StrictMode=DB;It.Suspense=UB;It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KB;It.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=tN({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Gx.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)iN.call(e,l)&&!oN.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Tp,type:t.type,key:i,ref:o,props:r,_owner:s}};It.createContext=function(t){return t={$$typeof:BB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FB,_context:t},t.Consumer=t};It.createElement=sN;It.createFactory=function(t){var e=sN.bind(null,t);return e.type=t,e};It.createRef=function(){return{current:null}};It.forwardRef=function(t){return{$$typeof:VB,render:t}};It.isValidElement=qx;It.lazy=function(t){return{$$typeof:zB,_payload:{_status:-1,_result:t},_init:qB}};It.memo=function(t,e){return{$$typeof:jB,type:t,compare:e===void 0?null:e}};It.startTransition=function(t){var e=Sm.transition;Sm.transition={};try{t()}finally{Sm.transition=e}};It.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};It.useCallback=function(t,e){return ii.current.useCallback(t,e)};It.useContext=function(t){return ii.current.useContext(t)};It.useDebugValue=function(){};It.useDeferredValue=function(t){return ii.current.useDeferredValue(t)};It.useEffect=function(t,e){return ii.current.useEffect(t,e)};It.useId=function(){return ii.current.useId()};It.useImperativeHandle=function(t,e,n){return ii.current.useImperativeHandle(t,e,n)};It.useInsertionEffect=function(t,e){return ii.current.useInsertionEffect(t,e)};It.useLayoutEffect=function(t,e){return ii.current.useLayoutEffect(t,e)};It.useMemo=function(t,e){return ii.current.useMemo(t,e)};It.useReducer=function(t,e,n){return ii.current.useReducer(t,e,n)};It.useRef=function(t){return ii.current.useRef(t)};It.useState=function(t){return ii.current.useState(t)};It.useSyncExternalStore=function(t,e,n){return ii.current.useSyncExternalStore(t,e,n)};It.useTransition=function(){return ii.current.useTransition()};It.version="18.2.0";Z2.exports=It;var w=Z2.exports;const L=Cp(w),bw=OB({__proto__:null,default:L},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YB=w,XB=Symbol.for("react.element"),QB=Symbol.for("react.fragment"),JB=Object.prototype.hasOwnProperty,ZB=YB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eV={key:!0,ref:!0,__self:!0,__source:!0};function aN(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)JB.call(e,r)&&!eV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:XB,type:t,key:o,ref:s,props:i,_owner:ZB.current}}kv.Fragment=QB;kv.jsx=aN;kv.jsxs=aN;J2.exports=kv;var A=J2.exports,ww={},lN={exports:{}},Ji={},cN={exports:{}},uN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,B){var Q=V.length;V.push(B);e:for(;0<Q;){var oe=Q-1>>>1,he=V[oe];if(0<i(he,B))V[oe]=B,V[Q]=he,Q=oe;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var B=V[0],Q=V.pop();if(Q!==B){V[0]=Q;e:for(var oe=0,he=V.length,ge=he>>>1;oe<ge;){var re=2*(oe+1)-1,ie=V[re],De=re+1,Ue=V[De];if(0>i(ie,Q))De<he&&0>i(Ue,ie)?(V[oe]=Ue,V[De]=Q,oe=De):(V[oe]=ie,V[re]=Q,oe=re);else if(De<he&&0>i(Ue,Q))V[oe]=Ue,V[De]=Q,oe=De;else break e}}return B}function i(V,B){var Q=V.sortIndex-B.sortIndex;return Q!==0?Q:V.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,f=null,h=3,p=!1,g=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(V){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=V)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function S(V){if(E=!1,_(V),!g)if(n(l)!==null)g=!0,W(O);else{var B=n(c);B!==null&&G(S,B.startTime-V)}}function O(V,B){g=!1,E&&(E=!1,y(I),I=-1),p=!0;var Q=h;try{for(_(B),f=n(l);f!==null&&(!(f.expirationTime>B)||V&&!k());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,h=f.priorityLevel;var he=oe(f.expirationTime<=B);B=t.unstable_now(),typeof he=="function"?f.callback=he:f===n(l)&&r(l),_(B)}else r(l);f=n(l)}if(f!==null)var ge=!0;else{var re=n(c);re!==null&&G(S,re.startTime-B),ge=!1}return ge}finally{f=null,h=Q,p=!1}}var N=!1,T=null,I=-1,R=5,v=-1;function k(){return!(t.unstable_now()-v<R)}function M(){if(T!==null){var V=t.unstable_now();v=V;var B=!0;try{B=T(!0,V)}finally{B?P():(N=!1,T=null)}}else N=!1}var P;if(typeof b=="function")P=function(){b(M)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,H=K.port2;K.port1.onmessage=M,P=function(){H.postMessage(null)}}else P=function(){x(M,0)};function W(V){T=V,N||(N=!0,P())}function G(V,B){I=x(function(){V(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,W(O))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var Q=h;h=B;try{return V()}finally{h=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,B){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=h;h=V;try{return B()}finally{h=Q}},t.unstable_scheduleCallback=function(V,B,Q){var oe=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?oe+Q:oe):Q=oe,V){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=Q+he,V={id:u++,callback:B,priorityLevel:V,startTime:Q,expirationTime:he,sortIndex:-1},Q>oe?(V.sortIndex=Q,e(c,V),n(l)===null&&V===n(c)&&(E?(y(I),I=-1):E=!0,G(S,Q-oe))):(V.sortIndex=he,e(l,V),g||p||(g=!0,W(O))),V},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(V){var B=h;return function(){var Q=h;h=B;try{return V.apply(this,arguments)}finally{h=Q}}}})(uN);cN.exports=uN;var tV=cN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dN=w,Yi=tV;function se(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fN=new Set,$h={};function xc(t,e){id(t,e),id(t+"Capture",e)}function id(t,e){for($h[t]=e,t=0;t<e.length;t++)fN.add(e[t])}var Xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ew=Object.prototype.hasOwnProperty,nV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pI={},gI={};function rV(t){return Ew.call(gI,t)?!0:Ew.call(pI,t)?!1:nV.test(t)?gI[t]=!0:(pI[t]=!0,!1)}function iV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oV(t,e,n,r){if(e===null||typeof e>"u"||iV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function oi(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var xr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xr[t]=new oi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xr[e]=new oi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xr[t]=new oi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xr[t]=new oi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xr[t]=new oi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xr[t]=new oi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xr[t]=new oi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xr[t]=new oi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xr[t]=new oi(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kx=/[\-:]([a-z])/g;function Yx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kx,Yx);xr[e]=new oi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kx,Yx);xr[e]=new oi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kx,Yx);xr[e]=new oi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xr[t]=new oi(t,1,!1,t.toLowerCase(),null,!1,!1)});xr.xlinkHref=new oi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xr[t]=new oi(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xx(t,e,n,r){var i=xr.hasOwnProperty(e)?xr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oV(e,n,i,r)&&(n=null),r||i===null?rV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var da=dN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kg=Symbol.for("react.element"),Pu=Symbol.for("react.portal"),ku=Symbol.for("react.fragment"),Qx=Symbol.for("react.strict_mode"),xw=Symbol.for("react.profiler"),hN=Symbol.for("react.provider"),pN=Symbol.for("react.context"),Jx=Symbol.for("react.forward_ref"),Sw=Symbol.for("react.suspense"),Cw=Symbol.for("react.suspense_list"),Zx=Symbol.for("react.memo"),Ia=Symbol.for("react.lazy"),gN=Symbol.for("react.offscreen"),mI=Symbol.iterator;function bf(t){return t===null||typeof t!="object"?null:(t=mI&&t[mI]||t["@@iterator"],typeof t=="function"?t:null)}var Rn=Object.assign,eb;function Hf(t){if(eb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);eb=e&&e[1]||""}return`
`+eb+t}var tb=!1;function nb(t,e){if(!t||tb)return"";tb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{tb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Hf(t):""}function sV(t){switch(t.tag){case 5:return Hf(t.type);case 16:return Hf("Lazy");case 13:return Hf("Suspense");case 19:return Hf("SuspenseList");case 0:case 2:case 15:return t=nb(t.type,!1),t;case 11:return t=nb(t.type.render,!1),t;case 1:return t=nb(t.type,!0),t;default:return""}}function Tw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ku:return"Fragment";case Pu:return"Portal";case xw:return"Profiler";case Qx:return"StrictMode";case Sw:return"Suspense";case Cw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pN:return(t.displayName||"Context")+".Consumer";case hN:return(t._context.displayName||"Context")+".Provider";case Jx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zx:return e=t.displayName||null,e!==null?e:Tw(t.type)||"Memo";case Ia:e=t._payload,t=t._init;try{return Tw(t(e))}catch{}}return null}function aV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tw(e);case 8:return e===Qx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function il(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lV(t){var e=mN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ag(t){t._valueTracker||(t._valueTracker=lV(t))}function yN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ny(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Iw(t,e){var n=e.checked;return Rn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function yI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=il(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vN(t,e){e=e.checked,e!=null&&Xx(t,"checked",e,!1)}function Rw(t,e){vN(t,e);var n=il(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pw(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pw(t,e.type,il(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pw(t,e,n){(e!=="number"||ny(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gf=Array.isArray;function zu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+il(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function kw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(se(91));return Rn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _I(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(se(92));if(Gf(n)){if(1<n.length)throw Error(se(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:il(n)}}function _N(t,e){var n=il(e.value),r=il(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Aw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Og,wN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Og=Og||document.createElement("div"),Og.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Og.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Dh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ah={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cV=["Webkit","ms","Moz","O"];Object.keys(ah).forEach(function(t){cV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ah[e]=ah[t]})});function EN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ah.hasOwnProperty(t)&&ah[t]?(""+e).trim():e+"px"}function xN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=EN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var uV=Rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ow(t,e){if(e){if(uV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(se(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(se(62))}}function Nw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mw=null;function eS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $w=null,Wu=null,Hu=null;function wI(t){if(t=Pp(t)){if(typeof $w!="function")throw Error(se(280));var e=t.stateNode;e&&(e=$v(e),$w(t.stateNode,t.type,e))}}function SN(t){Wu?Hu?Hu.push(t):Hu=[t]:Wu=t}function CN(){if(Wu){var t=Wu,e=Hu;if(Hu=Wu=null,wI(t),e)for(t=0;t<e.length;t++)wI(e[t])}}function TN(t,e){return t(e)}function IN(){}var rb=!1;function RN(t,e,n){if(rb)return t(e,n);rb=!0;try{return TN(t,e,n)}finally{rb=!1,(Wu!==null||Hu!==null)&&(IN(),CN())}}function Lh(t,e){var n=t.stateNode;if(n===null)return null;var r=$v(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(se(231,e,typeof n));return n}var Dw=!1;if(Xs)try{var wf={};Object.defineProperty(wf,"passive",{get:function(){Dw=!0}}),window.addEventListener("test",wf,wf),window.removeEventListener("test",wf,wf)}catch{Dw=!1}function dV(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var lh=!1,ry=null,iy=!1,Lw=null,fV={onError:function(t){lh=!0,ry=t}};function hV(t,e,n,r,i,o,s,a,l){lh=!1,ry=null,dV.apply(fV,arguments)}function pV(t,e,n,r,i,o,s,a,l){if(hV.apply(this,arguments),lh){if(lh){var c=ry;lh=!1,ry=null}else throw Error(se(198));iy||(iy=!0,Lw=c)}}function Sc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function PN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function EI(t){if(Sc(t)!==t)throw Error(se(188))}function gV(t){var e=t.alternate;if(!e){if(e=Sc(t),e===null)throw Error(se(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return EI(i),t;if(o===r)return EI(i),e;o=o.sibling}throw Error(se(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?t:e}function kN(t){return t=gV(t),t!==null?AN(t):null}function AN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=AN(t);if(e!==null)return e;t=t.sibling}return null}var ON=Yi.unstable_scheduleCallback,xI=Yi.unstable_cancelCallback,mV=Yi.unstable_shouldYield,yV=Yi.unstable_requestPaint,Fn=Yi.unstable_now,vV=Yi.unstable_getCurrentPriorityLevel,tS=Yi.unstable_ImmediatePriority,NN=Yi.unstable_UserBlockingPriority,oy=Yi.unstable_NormalPriority,_V=Yi.unstable_LowPriority,MN=Yi.unstable_IdlePriority,Av=null,fs=null;function bV(t){if(fs&&typeof fs.onCommitFiberRoot=="function")try{fs.onCommitFiberRoot(Av,t,void 0,(t.current.flags&128)===128)}catch{}}var zo=Math.clz32?Math.clz32:xV,wV=Math.log,EV=Math.LN2;function xV(t){return t>>>=0,t===0?32:31-(wV(t)/EV|0)|0}var Ng=64,Mg=4194304;function qf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=qf(a):(o&=s,o!==0&&(r=qf(o)))}else s=n&~i,s!==0?r=qf(s):o!==0&&(r=qf(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zo(e),i=1<<n,r|=t[n],e&=~i;return r}function SV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-zo(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=SV(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Fw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $N(){var t=Ng;return Ng<<=1,!(Ng&4194240)&&(Ng=64),t}function ib(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ip(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zo(e),t[e]=n}function TV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-zo(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function nS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Gt=0;function DN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var LN,rS,FN,BN,VN,Bw=!1,$g=[],ja=null,za=null,Wa=null,Fh=new Map,Bh=new Map,ka=[],IV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function SI(t,e){switch(t){case"focusin":case"focusout":ja=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":Fh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bh.delete(e.pointerId)}}function Ef(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Pp(e),e!==null&&rS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function RV(t,e,n,r,i){switch(e){case"focusin":return ja=Ef(ja,t,e,n,r,i),!0;case"dragenter":return za=Ef(za,t,e,n,r,i),!0;case"mouseover":return Wa=Ef(Wa,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Fh.set(o,Ef(Fh.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Bh.set(o,Ef(Bh.get(o)||null,t,e,n,r,i)),!0}return!1}function UN(t){var e=Gl(t.target);if(e!==null){var n=Sc(e);if(n!==null){if(e=n.tag,e===13){if(e=PN(n),e!==null){t.blockedOn=e,VN(t.priority,function(){FN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mw=r,n.target.dispatchEvent(r),Mw=null}else return e=Pp(n),e!==null&&rS(e),t.blockedOn=n,!1;e.shift()}return!0}function CI(t,e,n){Cm(t)&&n.delete(e)}function PV(){Bw=!1,ja!==null&&Cm(ja)&&(ja=null),za!==null&&Cm(za)&&(za=null),Wa!==null&&Cm(Wa)&&(Wa=null),Fh.forEach(CI),Bh.forEach(CI)}function xf(t,e){t.blockedOn===e&&(t.blockedOn=null,Bw||(Bw=!0,Yi.unstable_scheduleCallback(Yi.unstable_NormalPriority,PV)))}function Vh(t){function e(i){return xf(i,t)}if(0<$g.length){xf($g[0],t);for(var n=1;n<$g.length;n++){var r=$g[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ja!==null&&xf(ja,t),za!==null&&xf(za,t),Wa!==null&&xf(Wa,t),Fh.forEach(e),Bh.forEach(e),n=0;n<ka.length;n++)r=ka[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ka.length&&(n=ka[0],n.blockedOn===null);)UN(n),n.blockedOn===null&&ka.shift()}var Gu=da.ReactCurrentBatchConfig,ay=!0;function kV(t,e,n,r){var i=Gt,o=Gu.transition;Gu.transition=null;try{Gt=1,iS(t,e,n,r)}finally{Gt=i,Gu.transition=o}}function AV(t,e,n,r){var i=Gt,o=Gu.transition;Gu.transition=null;try{Gt=4,iS(t,e,n,r)}finally{Gt=i,Gu.transition=o}}function iS(t,e,n,r){if(ay){var i=Vw(t,e,n,r);if(i===null)pb(t,e,r,ly,n),SI(t,r);else if(RV(i,t,e,n,r))r.stopPropagation();else if(SI(t,r),e&4&&-1<IV.indexOf(t)){for(;i!==null;){var o=Pp(i);if(o!==null&&LN(o),o=Vw(t,e,n,r),o===null&&pb(t,e,r,ly,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else pb(t,e,r,null,n)}}var ly=null;function Vw(t,e,n,r){if(ly=null,t=eS(r),t=Gl(t),t!==null)if(e=Sc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=PN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ly=t,null}function jN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vV()){case tS:return 1;case NN:return 4;case oy:case _V:return 16;case MN:return 536870912;default:return 16}default:return 16}}var Ba=null,oS=null,Tm=null;function zN(){if(Tm)return Tm;var t,e=oS,n=e.length,r,i="value"in Ba?Ba.value:Ba.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Tm=i.slice(t,1<r?1-r:void 0)}function Im(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dg(){return!0}function TI(){return!1}function Zi(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Dg:TI,this.isPropagationStopped=TI,this}return Rn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dg)},persist:function(){},isPersistent:Dg}),e}var Nd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sS=Zi(Nd),Rp=Rn({},Nd,{view:0,detail:0}),OV=Zi(Rp),ob,sb,Sf,Ov=Rn({},Rp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sf&&(Sf&&t.type==="mousemove"?(ob=t.screenX-Sf.screenX,sb=t.screenY-Sf.screenY):sb=ob=0,Sf=t),ob)},movementY:function(t){return"movementY"in t?t.movementY:sb}}),II=Zi(Ov),NV=Rn({},Ov,{dataTransfer:0}),MV=Zi(NV),$V=Rn({},Rp,{relatedTarget:0}),ab=Zi($V),DV=Rn({},Nd,{animationName:0,elapsedTime:0,pseudoElement:0}),LV=Zi(DV),FV=Rn({},Nd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),BV=Zi(FV),VV=Rn({},Nd,{data:0}),RI=Zi(VV),UV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zV[t])?!!e[t]:!1}function aS(){return WV}var HV=Rn({},Rp,{key:function(t){if(t.key){var e=UV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Im(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aS,charCode:function(t){return t.type==="keypress"?Im(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Im(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GV=Zi(HV),qV=Rn({},Ov,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),PI=Zi(qV),KV=Rn({},Rp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aS}),YV=Zi(KV),XV=Rn({},Nd,{propertyName:0,elapsedTime:0,pseudoElement:0}),QV=Zi(XV),JV=Rn({},Ov,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZV=Zi(JV),eU=[9,13,27,32],lS=Xs&&"CompositionEvent"in window,ch=null;Xs&&"documentMode"in document&&(ch=document.documentMode);var tU=Xs&&"TextEvent"in window&&!ch,WN=Xs&&(!lS||ch&&8<ch&&11>=ch),kI=" ",AI=!1;function HN(t,e){switch(t){case"keyup":return eU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Au=!1;function nU(t,e){switch(t){case"compositionend":return GN(e);case"keypress":return e.which!==32?null:(AI=!0,kI);case"textInput":return t=e.data,t===kI&&AI?null:t;default:return null}}function rU(t,e){if(Au)return t==="compositionend"||!lS&&HN(t,e)?(t=zN(),Tm=oS=Ba=null,Au=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return WN&&e.locale!=="ko"?null:e.data;default:return null}}var iU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function OI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iU[t.type]:e==="textarea"}function qN(t,e,n,r){SN(r),e=cy(e,"onChange"),0<e.length&&(n=new sS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var uh=null,Uh=null;function oU(t){iM(t,0)}function Nv(t){var e=Mu(t);if(yN(e))return t}function sU(t,e){if(t==="change")return e}var KN=!1;if(Xs){var lb;if(Xs){var cb="oninput"in document;if(!cb){var NI=document.createElement("div");NI.setAttribute("oninput","return;"),cb=typeof NI.oninput=="function"}lb=cb}else lb=!1;KN=lb&&(!document.documentMode||9<document.documentMode)}function MI(){uh&&(uh.detachEvent("onpropertychange",YN),Uh=uh=null)}function YN(t){if(t.propertyName==="value"&&Nv(Uh)){var e=[];qN(e,Uh,t,eS(t)),RN(oU,e)}}function aU(t,e,n){t==="focusin"?(MI(),uh=e,Uh=n,uh.attachEvent("onpropertychange",YN)):t==="focusout"&&MI()}function lU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nv(Uh)}function cU(t,e){if(t==="click")return Nv(e)}function uU(t,e){if(t==="input"||t==="change")return Nv(e)}function dU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qo=typeof Object.is=="function"?Object.is:dU;function jh(t,e){if(qo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ew.call(e,i)||!qo(t[i],e[i]))return!1}return!0}function $I(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function DI(t,e){var n=$I(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$I(n)}}function XN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?XN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function QN(){for(var t=window,e=ny();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ny(t.document)}return e}function cS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fU(t){var e=QN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&XN(n.ownerDocument.documentElement,n)){if(r!==null&&cS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=DI(n,o);var s=DI(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hU=Xs&&"documentMode"in document&&11>=document.documentMode,Ou=null,Uw=null,dh=null,jw=!1;function LI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jw||Ou==null||Ou!==ny(r)||(r=Ou,"selectionStart"in r&&cS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dh&&jh(dh,r)||(dh=r,r=cy(Uw,"onSelect"),0<r.length&&(e=new sS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ou)))}function Lg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Nu={animationend:Lg("Animation","AnimationEnd"),animationiteration:Lg("Animation","AnimationIteration"),animationstart:Lg("Animation","AnimationStart"),transitionend:Lg("Transition","TransitionEnd")},ub={},JN={};Xs&&(JN=document.createElement("div").style,"AnimationEvent"in window||(delete Nu.animationend.animation,delete Nu.animationiteration.animation,delete Nu.animationstart.animation),"TransitionEvent"in window||delete Nu.transitionend.transition);function Mv(t){if(ub[t])return ub[t];if(!Nu[t])return t;var e=Nu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in JN)return ub[t]=e[n];return t}var ZN=Mv("animationend"),eM=Mv("animationiteration"),tM=Mv("animationstart"),nM=Mv("transitionend"),rM=new Map,FI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bl(t,e){rM.set(t,e),xc(e,[t])}for(var db=0;db<FI.length;db++){var fb=FI[db],pU=fb.toLowerCase(),gU=fb[0].toUpperCase()+fb.slice(1);bl(pU,"on"+gU)}bl(ZN,"onAnimationEnd");bl(eM,"onAnimationIteration");bl(tM,"onAnimationStart");bl("dblclick","onDoubleClick");bl("focusin","onFocus");bl("focusout","onBlur");bl(nM,"onTransitionEnd");id("onMouseEnter",["mouseout","mouseover"]);id("onMouseLeave",["mouseout","mouseover"]);id("onPointerEnter",["pointerout","pointerover"]);id("onPointerLeave",["pointerout","pointerover"]);xc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xc("onBeforeInput",["compositionend","keypress","textInput","paste"]);xc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kf));function BI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,pV(r,e,void 0,t),t.currentTarget=null}function iM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;BI(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;BI(i,a,c),o=l}}}if(iy)throw t=Lw,iy=!1,Lw=null,t}function un(t,e){var n=e[qw];n===void 0&&(n=e[qw]=new Set);var r=t+"__bubble";n.has(r)||(oM(e,t,2,!1),n.add(r))}function hb(t,e,n){var r=0;e&&(r|=4),oM(n,t,r,e)}var Fg="_reactListening"+Math.random().toString(36).slice(2);function zh(t){if(!t[Fg]){t[Fg]=!0,fN.forEach(function(n){n!=="selectionchange"&&(mU.has(n)||hb(n,!1,t),hb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fg]||(e[Fg]=!0,hb("selectionchange",!1,e))}}function oM(t,e,n,r){switch(jN(e)){case 1:var i=kV;break;case 4:i=AV;break;default:i=iS}n=i.bind(null,e,n,t),i=void 0,!Dw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function pb(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Gl(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}RN(function(){var c=o,u=eS(n),f=[];e:{var h=rM.get(t);if(h!==void 0){var p=sS,g=t;switch(t){case"keypress":if(Im(n)===0)break e;case"keydown":case"keyup":p=GV;break;case"focusin":g="focus",p=ab;break;case"focusout":g="blur",p=ab;break;case"beforeblur":case"afterblur":p=ab;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=II;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=MV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=YV;break;case ZN:case eM:case tM:p=LV;break;case nM:p=QV;break;case"scroll":p=OV;break;case"wheel":p=ZV;break;case"copy":case"cut":case"paste":p=BV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=PI}var E=(e&4)!==0,x=!E&&t==="scroll",y=E?h!==null?h+"Capture":null:h;E=[];for(var b=c,_;b!==null;){_=b;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,y!==null&&(S=Lh(b,y),S!=null&&E.push(Wh(b,S,_)))),x)break;b=b.return}0<E.length&&(h=new p(h,g,null,n,u),f.push({event:h,listeners:E}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Mw&&(g=n.relatedTarget||n.fromElement)&&(Gl(g)||g[Qs]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?Gl(g):null,g!==null&&(x=Sc(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(E=II,S="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(E=PI,S="onPointerLeave",y="onPointerEnter",b="pointer"),x=p==null?h:Mu(p),_=g==null?h:Mu(g),h=new E(S,b+"leave",p,n,u),h.target=x,h.relatedTarget=_,S=null,Gl(u)===c&&(E=new E(y,b+"enter",g,n,u),E.target=_,E.relatedTarget=x,S=E),x=S,p&&g)t:{for(E=p,y=g,b=0,_=E;_;_=Jc(_))b++;for(_=0,S=y;S;S=Jc(S))_++;for(;0<b-_;)E=Jc(E),b--;for(;0<_-b;)y=Jc(y),_--;for(;b--;){if(E===y||y!==null&&E===y.alternate)break t;E=Jc(E),y=Jc(y)}E=null}else E=null;p!==null&&VI(f,h,p,E,!1),g!==null&&x!==null&&VI(f,x,g,E,!0)}}e:{if(h=c?Mu(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var O=sU;else if(OI(h))if(KN)O=uU;else{O=lU;var N=aU}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=cU);if(O&&(O=O(t,c))){qN(f,O,n,u);break e}N&&N(t,h,c),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Pw(h,"number",h.value)}switch(N=c?Mu(c):window,t){case"focusin":(OI(N)||N.contentEditable==="true")&&(Ou=N,Uw=c,dh=null);break;case"focusout":dh=Uw=Ou=null;break;case"mousedown":jw=!0;break;case"contextmenu":case"mouseup":case"dragend":jw=!1,LI(f,n,u);break;case"selectionchange":if(hU)break;case"keydown":case"keyup":LI(f,n,u)}var T;if(lS)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Au?HN(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(WN&&n.locale!=="ko"&&(Au||I!=="onCompositionStart"?I==="onCompositionEnd"&&Au&&(T=zN()):(Ba=u,oS="value"in Ba?Ba.value:Ba.textContent,Au=!0)),N=cy(c,I),0<N.length&&(I=new RI(I,t,null,n,u),f.push({event:I,listeners:N}),T?I.data=T:(T=GN(n),T!==null&&(I.data=T)))),(T=tU?nU(t,n):rU(t,n))&&(c=cy(c,"onBeforeInput"),0<c.length&&(u=new RI("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=T))}iM(f,e)})}function Wh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function cy(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Lh(t,n),o!=null&&r.unshift(Wh(t,o,i)),o=Lh(t,e),o!=null&&r.push(Wh(t,o,i))),t=t.return}return r}function Jc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function VI(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Lh(n,o),l!=null&&s.unshift(Wh(n,l,a))):i||(l=Lh(n,o),l!=null&&s.push(Wh(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var yU=/\r\n?/g,vU=/\u0000|\uFFFD/g;function UI(t){return(typeof t=="string"?t:""+t).replace(yU,`
`).replace(vU,"")}function Bg(t,e,n){if(e=UI(e),UI(t)!==e&&n)throw Error(se(425))}function uy(){}var zw=null,Ww=null;function Hw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gw=typeof setTimeout=="function"?setTimeout:void 0,_U=typeof clearTimeout=="function"?clearTimeout:void 0,jI=typeof Promise=="function"?Promise:void 0,bU=typeof queueMicrotask=="function"?queueMicrotask:typeof jI<"u"?function(t){return jI.resolve(null).then(t).catch(wU)}:Gw;function wU(t){setTimeout(function(){throw t})}function gb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Vh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vh(e)}function Ha(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Md=Math.random().toString(36).slice(2),cs="__reactFiber$"+Md,Hh="__reactProps$"+Md,Qs="__reactContainer$"+Md,qw="__reactEvents$"+Md,EU="__reactListeners$"+Md,xU="__reactHandles$"+Md;function Gl(t){var e=t[cs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qs]||n[cs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=zI(t);t!==null;){if(n=t[cs])return n;t=zI(t)}return e}t=n,n=t.parentNode}return null}function Pp(t){return t=t[cs]||t[Qs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(se(33))}function $v(t){return t[Hh]||null}var Kw=[],$u=-1;function wl(t){return{current:t}}function gn(t){0>$u||(t.current=Kw[$u],Kw[$u]=null,$u--)}function ln(t,e){$u++,Kw[$u]=t.current,t.current=e}var ol={},jr=wl(ol),vi=wl(!1),sc=ol;function od(t,e){var n=t.type.contextTypes;if(!n)return ol;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _i(t){return t=t.childContextTypes,t!=null}function dy(){gn(vi),gn(jr)}function WI(t,e,n){if(jr.current!==ol)throw Error(se(168));ln(jr,e),ln(vi,n)}function sM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(se(108,aV(t)||"Unknown",i));return Rn({},n,r)}function fy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ol,sc=jr.current,ln(jr,t),ln(vi,vi.current),!0}function HI(t,e,n){var r=t.stateNode;if(!r)throw Error(se(169));n?(t=sM(t,e,sc),r.__reactInternalMemoizedMergedChildContext=t,gn(vi),gn(jr),ln(jr,t)):gn(vi),ln(vi,n)}var Fs=null,Dv=!1,mb=!1;function aM(t){Fs===null?Fs=[t]:Fs.push(t)}function SU(t){Dv=!0,aM(t)}function El(){if(!mb&&Fs!==null){mb=!0;var t=0,e=Gt;try{var n=Fs;for(Gt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fs=null,Dv=!1}catch(i){throw Fs!==null&&(Fs=Fs.slice(t+1)),ON(tS,El),i}finally{Gt=e,mb=!1}}return null}var Du=[],Lu=0,hy=null,py=0,co=[],uo=0,ac=null,Us=1,js="";function Bl(t,e){Du[Lu++]=py,Du[Lu++]=hy,hy=t,py=e}function lM(t,e,n){co[uo++]=Us,co[uo++]=js,co[uo++]=ac,ac=t;var r=Us;t=js;var i=32-zo(r)-1;r&=~(1<<i),n+=1;var o=32-zo(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Us=1<<32-zo(e)+i|n<<i|r,js=o+t}else Us=1<<o|n<<i|r,js=t}function uS(t){t.return!==null&&(Bl(t,1),lM(t,1,0))}function dS(t){for(;t===hy;)hy=Du[--Lu],Du[Lu]=null,py=Du[--Lu],Du[Lu]=null;for(;t===ac;)ac=co[--uo],co[uo]=null,js=co[--uo],co[uo]=null,Us=co[--uo],co[uo]=null}var Hi=null,Vi=null,wn=!1,Lo=null;function cM(t,e){var n=po(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function GI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Hi=t,Vi=Ha(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Hi=t,Vi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ac!==null?{id:Us,overflow:js}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=po(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Hi=t,Vi=null,!0):!1;default:return!1}}function Yw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xw(t){if(wn){var e=Vi;if(e){var n=e;if(!GI(t,e)){if(Yw(t))throw Error(se(418));e=Ha(n.nextSibling);var r=Hi;e&&GI(t,e)?cM(r,n):(t.flags=t.flags&-4097|2,wn=!1,Hi=t)}}else{if(Yw(t))throw Error(se(418));t.flags=t.flags&-4097|2,wn=!1,Hi=t}}}function qI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Hi=t}function Vg(t){if(t!==Hi)return!1;if(!wn)return qI(t),wn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hw(t.type,t.memoizedProps)),e&&(e=Vi)){if(Yw(t))throw uM(),Error(se(418));for(;e;)cM(t,e),e=Ha(e.nextSibling)}if(qI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vi=Ha(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vi=null}}else Vi=Hi?Ha(t.stateNode.nextSibling):null;return!0}function uM(){for(var t=Vi;t;)t=Ha(t.nextSibling)}function sd(){Vi=Hi=null,wn=!1}function fS(t){Lo===null?Lo=[t]:Lo.push(t)}var CU=da.ReactCurrentBatchConfig;function $o(t,e){if(t&&t.defaultProps){e=Rn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var gy=wl(null),my=null,Fu=null,hS=null;function pS(){hS=Fu=my=null}function gS(t){var e=gy.current;gn(gy),t._currentValue=e}function Qw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qu(t,e){my=t,hS=Fu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pi=!0),t.firstContext=null)}function vo(t){var e=t._currentValue;if(hS!==t)if(t={context:t,memoizedValue:e,next:null},Fu===null){if(my===null)throw Error(se(308));Fu=t,my.dependencies={lanes:0,firstContext:t}}else Fu=Fu.next=t;return e}var ql=null;function mS(t){ql===null?ql=[t]:ql.push(t)}function dM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,mS(e)):(n.next=i.next,i.next=n),e.interleaved=n,Js(t,r)}function Js(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ra=!1;function yS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ga(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$t&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Js(t,n)}return i=r.interleaved,i===null?(e.next=e,mS(r)):(e.next=i.next,i.next=e),r.interleaved=e,Js(t,n)}function Rm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nS(t,n)}}function KI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yy(t,e,n,r){var i=t.updateQueue;Ra=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,E=a;switch(h=e,p=n,E.tag){case 1:if(g=E.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=E.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=Rn({},f,h);break e;case 2:Ra=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);cc|=s,t.lanes=s,t.memoizedState=f}}function YI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(se(191,i));i.call(r)}}}var hM=new dN.Component().refs;function Jw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Rn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Lv={isMounted:function(t){return(t=t._reactInternals)?Sc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ti(),i=Ka(t),o=Gs(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ga(t,o,i),e!==null&&(Wo(e,t,i,r),Rm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ti(),i=Ka(t),o=Gs(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ga(t,o,i),e!==null&&(Wo(e,t,i,r),Rm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ti(),r=Ka(t),i=Gs(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ga(t,i,r),e!==null&&(Wo(e,t,r,n),Rm(e,t,r))}};function XI(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!jh(n,r)||!jh(i,o):!0}function pM(t,e,n){var r=!1,i=ol,o=e.contextType;return typeof o=="object"&&o!==null?o=vo(o):(i=_i(e)?sc:jr.current,r=e.contextTypes,o=(r=r!=null)?od(t,i):ol),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function QI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Lv.enqueueReplaceState(e,e.state,null)}function Zw(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=hM,yS(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=vo(o):(o=_i(e)?sc:jr.current,i.context=od(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Jw(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Lv.enqueueReplaceState(i,i.state,null),yy(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Cf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(se(309));var r=n.stateNode}if(!r)throw Error(se(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===hM&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(se(284));if(!n._owner)throw Error(se(290,t))}return t}function Ug(t,e){throw t=Object.prototype.toString.call(e),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function JI(t){var e=t._init;return e(t._payload)}function gM(t){function e(y,b){if(t){var _=y.deletions;_===null?(y.deletions=[b],y.flags|=16):_.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Ya(y,b),y.index=0,y.sibling=null,y}function o(y,b,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<b?(y.flags|=2,b):_):(y.flags|=2,b)):(y.flags|=1048576,b)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,b,_,S){return b===null||b.tag!==6?(b=xb(_,y.mode,S),b.return=y,b):(b=i(b,_),b.return=y,b)}function l(y,b,_,S){var O=_.type;return O===ku?u(y,b,_.props.children,S,_.key):b!==null&&(b.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Ia&&JI(O)===b.type)?(S=i(b,_.props),S.ref=Cf(y,b,_),S.return=y,S):(S=Mm(_.type,_.key,_.props,null,y.mode,S),S.ref=Cf(y,b,_),S.return=y,S)}function c(y,b,_,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=Sb(_,y.mode,S),b.return=y,b):(b=i(b,_.children||[]),b.return=y,b)}function u(y,b,_,S,O){return b===null||b.tag!==7?(b=nc(_,y.mode,S,O),b.return=y,b):(b=i(b,_),b.return=y,b)}function f(y,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=xb(""+b,y.mode,_),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case kg:return _=Mm(b.type,b.key,b.props,null,y.mode,_),_.ref=Cf(y,null,b),_.return=y,_;case Pu:return b=Sb(b,y.mode,_),b.return=y,b;case Ia:var S=b._init;return f(y,S(b._payload),_)}if(Gf(b)||bf(b))return b=nc(b,y.mode,_,null),b.return=y,b;Ug(y,b)}return null}function h(y,b,_,S){var O=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return O!==null?null:a(y,b,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case kg:return _.key===O?l(y,b,_,S):null;case Pu:return _.key===O?c(y,b,_,S):null;case Ia:return O=_._init,h(y,b,O(_._payload),S)}if(Gf(_)||bf(_))return O!==null?null:u(y,b,_,S,null);Ug(y,_)}return null}function p(y,b,_,S,O){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(_)||null,a(b,y,""+S,O);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case kg:return y=y.get(S.key===null?_:S.key)||null,l(b,y,S,O);case Pu:return y=y.get(S.key===null?_:S.key)||null,c(b,y,S,O);case Ia:var N=S._init;return p(y,b,_,N(S._payload),O)}if(Gf(S)||bf(S))return y=y.get(_)||null,u(b,y,S,O,null);Ug(b,S)}return null}function g(y,b,_,S){for(var O=null,N=null,T=b,I=b=0,R=null;T!==null&&I<_.length;I++){T.index>I?(R=T,T=null):R=T.sibling;var v=h(y,T,_[I],S);if(v===null){T===null&&(T=R);break}t&&T&&v.alternate===null&&e(y,T),b=o(v,b,I),N===null?O=v:N.sibling=v,N=v,T=R}if(I===_.length)return n(y,T),wn&&Bl(y,I),O;if(T===null){for(;I<_.length;I++)T=f(y,_[I],S),T!==null&&(b=o(T,b,I),N===null?O=T:N.sibling=T,N=T);return wn&&Bl(y,I),O}for(T=r(y,T);I<_.length;I++)R=p(T,y,I,_[I],S),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?I:R.key),b=o(R,b,I),N===null?O=R:N.sibling=R,N=R);return t&&T.forEach(function(k){return e(y,k)}),wn&&Bl(y,I),O}function E(y,b,_,S){var O=bf(_);if(typeof O!="function")throw Error(se(150));if(_=O.call(_),_==null)throw Error(se(151));for(var N=O=null,T=b,I=b=0,R=null,v=_.next();T!==null&&!v.done;I++,v=_.next()){T.index>I?(R=T,T=null):R=T.sibling;var k=h(y,T,v.value,S);if(k===null){T===null&&(T=R);break}t&&T&&k.alternate===null&&e(y,T),b=o(k,b,I),N===null?O=k:N.sibling=k,N=k,T=R}if(v.done)return n(y,T),wn&&Bl(y,I),O;if(T===null){for(;!v.done;I++,v=_.next())v=f(y,v.value,S),v!==null&&(b=o(v,b,I),N===null?O=v:N.sibling=v,N=v);return wn&&Bl(y,I),O}for(T=r(y,T);!v.done;I++,v=_.next())v=p(T,y,I,v.value,S),v!==null&&(t&&v.alternate!==null&&T.delete(v.key===null?I:v.key),b=o(v,b,I),N===null?O=v:N.sibling=v,N=v);return t&&T.forEach(function(M){return e(y,M)}),wn&&Bl(y,I),O}function x(y,b,_,S){if(typeof _=="object"&&_!==null&&_.type===ku&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case kg:e:{for(var O=_.key,N=b;N!==null;){if(N.key===O){if(O=_.type,O===ku){if(N.tag===7){n(y,N.sibling),b=i(N,_.props.children),b.return=y,y=b;break e}}else if(N.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Ia&&JI(O)===N.type){n(y,N.sibling),b=i(N,_.props),b.ref=Cf(y,N,_),b.return=y,y=b;break e}n(y,N);break}else e(y,N);N=N.sibling}_.type===ku?(b=nc(_.props.children,y.mode,S,_.key),b.return=y,y=b):(S=Mm(_.type,_.key,_.props,null,y.mode,S),S.ref=Cf(y,b,_),S.return=y,y=S)}return s(y);case Pu:e:{for(N=_.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(y,b.sibling),b=i(b,_.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else e(y,b);b=b.sibling}b=Sb(_,y.mode,S),b.return=y,y=b}return s(y);case Ia:return N=_._init,x(y,b,N(_._payload),S)}if(Gf(_))return g(y,b,_,S);if(bf(_))return E(y,b,_,S);Ug(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(n(y,b.sibling),b=i(b,_),b.return=y,y=b):(n(y,b),b=xb(_,y.mode,S),b.return=y,y=b),s(y)):n(y,b)}return x}var ad=gM(!0),mM=gM(!1),kp={},hs=wl(kp),Gh=wl(kp),qh=wl(kp);function Kl(t){if(t===kp)throw Error(se(174));return t}function vS(t,e){switch(ln(qh,e),ln(Gh,t),ln(hs,kp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Aw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Aw(e,t)}gn(hs),ln(hs,e)}function ld(){gn(hs),gn(Gh),gn(qh)}function yM(t){Kl(qh.current);var e=Kl(hs.current),n=Aw(e,t.type);e!==n&&(ln(Gh,t),ln(hs,n))}function _S(t){Gh.current===t&&(gn(hs),gn(Gh))}var Cn=wl(0);function vy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yb=[];function bS(){for(var t=0;t<yb.length;t++)yb[t]._workInProgressVersionPrimary=null;yb.length=0}var Pm=da.ReactCurrentDispatcher,vb=da.ReactCurrentBatchConfig,lc=0,Tn=null,Jn=null,ar=null,_y=!1,fh=!1,Kh=0,TU=0;function kr(){throw Error(se(321))}function wS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qo(t[n],e[n]))return!1;return!0}function ES(t,e,n,r,i,o){if(lc=o,Tn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pm.current=t===null||t.memoizedState===null?kU:AU,t=n(r,i),fh){o=0;do{if(fh=!1,Kh=0,25<=o)throw Error(se(301));o+=1,ar=Jn=null,e.updateQueue=null,Pm.current=OU,t=n(r,i)}while(fh)}if(Pm.current=by,e=Jn!==null&&Jn.next!==null,lc=0,ar=Jn=Tn=null,_y=!1,e)throw Error(se(300));return t}function xS(){var t=Kh!==0;return Kh=0,t}function os(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?Tn.memoizedState=ar=t:ar=ar.next=t,ar}function _o(){if(Jn===null){var t=Tn.alternate;t=t!==null?t.memoizedState:null}else t=Jn.next;var e=ar===null?Tn.memoizedState:ar.next;if(e!==null)ar=e,Jn=t;else{if(t===null)throw Error(se(310));Jn=t,t={memoizedState:Jn.memoizedState,baseState:Jn.baseState,baseQueue:Jn.baseQueue,queue:Jn.queue,next:null},ar===null?Tn.memoizedState=ar=t:ar=ar.next=t}return ar}function Yh(t,e){return typeof e=="function"?e(t):e}function _b(t){var e=_o(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=Jn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((lc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Tn.lanes|=u,cc|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,qo(r,e.memoizedState)||(pi=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Tn.lanes|=o,cc|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bb(t){var e=_o(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);qo(o,e.memoizedState)||(pi=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function vM(){}function _M(t,e){var n=Tn,r=_o(),i=e(),o=!qo(r.memoizedState,i);if(o&&(r.memoizedState=i,pi=!0),r=r.queue,SS(EM.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ar!==null&&ar.memoizedState.tag&1){if(n.flags|=2048,Xh(9,wM.bind(null,n,r,i,e),void 0,null),ur===null)throw Error(se(349));lc&30||bM(n,e,i)}return i}function bM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function wM(t,e,n,r){e.value=n,e.getSnapshot=r,xM(e)&&SM(t)}function EM(t,e,n){return n(function(){xM(e)&&SM(t)})}function xM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qo(t,n)}catch{return!0}}function SM(t){var e=Js(t,1);e!==null&&Wo(e,t,1,-1)}function ZI(t){var e=os();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yh,lastRenderedState:t},e.queue=t,t=t.dispatch=PU.bind(null,Tn,t),[e.memoizedState,t]}function Xh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function CM(){return _o().memoizedState}function km(t,e,n,r){var i=os();Tn.flags|=t,i.memoizedState=Xh(1|e,n,void 0,r===void 0?null:r)}function Fv(t,e,n,r){var i=_o();r=r===void 0?null:r;var o=void 0;if(Jn!==null){var s=Jn.memoizedState;if(o=s.destroy,r!==null&&wS(r,s.deps)){i.memoizedState=Xh(e,n,o,r);return}}Tn.flags|=t,i.memoizedState=Xh(1|e,n,o,r)}function eR(t,e){return km(8390656,8,t,e)}function SS(t,e){return Fv(2048,8,t,e)}function TM(t,e){return Fv(4,2,t,e)}function IM(t,e){return Fv(4,4,t,e)}function RM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function PM(t,e,n){return n=n!=null?n.concat([t]):null,Fv(4,4,RM.bind(null,e,t),n)}function CS(){}function kM(t,e){var n=_o();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wS(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function AM(t,e){var n=_o();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wS(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function OM(t,e,n){return lc&21?(qo(n,e)||(n=$N(),Tn.lanes|=n,cc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pi=!0),t.memoizedState=n)}function IU(t,e){var n=Gt;Gt=n!==0&&4>n?n:4,t(!0);var r=vb.transition;vb.transition={};try{t(!1),e()}finally{Gt=n,vb.transition=r}}function NM(){return _o().memoizedState}function RU(t,e,n){var r=Ka(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},MM(t))$M(e,n);else if(n=dM(t,e,n,r),n!==null){var i=ti();Wo(n,t,r,i),DM(n,e,r)}}function PU(t,e,n){var r=Ka(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(MM(t))$M(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,qo(a,s)){var l=e.interleaved;l===null?(i.next=i,mS(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=dM(t,e,i,r),n!==null&&(i=ti(),Wo(n,t,r,i),DM(n,e,r))}}function MM(t){var e=t.alternate;return t===Tn||e!==null&&e===Tn}function $M(t,e){fh=_y=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function DM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nS(t,n)}}var by={readContext:vo,useCallback:kr,useContext:kr,useEffect:kr,useImperativeHandle:kr,useInsertionEffect:kr,useLayoutEffect:kr,useMemo:kr,useReducer:kr,useRef:kr,useState:kr,useDebugValue:kr,useDeferredValue:kr,useTransition:kr,useMutableSource:kr,useSyncExternalStore:kr,useId:kr,unstable_isNewReconciler:!1},kU={readContext:vo,useCallback:function(t,e){return os().memoizedState=[t,e===void 0?null:e],t},useContext:vo,useEffect:eR,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,km(4194308,4,RM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return km(4194308,4,t,e)},useInsertionEffect:function(t,e){return km(4,2,t,e)},useMemo:function(t,e){var n=os();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=os();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=RU.bind(null,Tn,t),[r.memoizedState,t]},useRef:function(t){var e=os();return t={current:t},e.memoizedState=t},useState:ZI,useDebugValue:CS,useDeferredValue:function(t){return os().memoizedState=t},useTransition:function(){var t=ZI(!1),e=t[0];return t=IU.bind(null,t[1]),os().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Tn,i=os();if(wn){if(n===void 0)throw Error(se(407));n=n()}else{if(n=e(),ur===null)throw Error(se(349));lc&30||bM(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,eR(EM.bind(null,r,o,t),[t]),r.flags|=2048,Xh(9,wM.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=os(),e=ur.identifierPrefix;if(wn){var n=js,r=Us;n=(r&~(1<<32-zo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Kh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AU={readContext:vo,useCallback:kM,useContext:vo,useEffect:SS,useImperativeHandle:PM,useInsertionEffect:TM,useLayoutEffect:IM,useMemo:AM,useReducer:_b,useRef:CM,useState:function(){return _b(Yh)},useDebugValue:CS,useDeferredValue:function(t){var e=_o();return OM(e,Jn.memoizedState,t)},useTransition:function(){var t=_b(Yh)[0],e=_o().memoizedState;return[t,e]},useMutableSource:vM,useSyncExternalStore:_M,useId:NM,unstable_isNewReconciler:!1},OU={readContext:vo,useCallback:kM,useContext:vo,useEffect:SS,useImperativeHandle:PM,useInsertionEffect:TM,useLayoutEffect:IM,useMemo:AM,useReducer:bb,useRef:CM,useState:function(){return bb(Yh)},useDebugValue:CS,useDeferredValue:function(t){var e=_o();return Jn===null?e.memoizedState=t:OM(e,Jn.memoizedState,t)},useTransition:function(){var t=bb(Yh)[0],e=_o().memoizedState;return[t,e]},useMutableSource:vM,useSyncExternalStore:_M,useId:NM,unstable_isNewReconciler:!1};function cd(t,e){try{var n="",r=e;do n+=sV(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function wb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function eE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var NU=typeof WeakMap=="function"?WeakMap:Map;function LM(t,e,n){n=Gs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ey||(Ey=!0,uE=r),eE(t,e)},n}function FM(t,e,n){n=Gs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){eE(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){eE(t,e),typeof r!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function tR(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new NU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=qU.bind(null,t,e,n),e.then(t,t))}function nR(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rR(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gs(-1,1),e.tag=2,Ga(n,e,1))),n.lanes|=1),t)}var MU=da.ReactCurrentOwner,pi=!1;function Jr(t,e,n,r){e.child=t===null?mM(e,null,n,r):ad(e,t.child,n,r)}function iR(t,e,n,r,i){n=n.render;var o=e.ref;return qu(e,i),r=ES(t,e,n,r,o,i),n=xS(),t!==null&&!pi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zs(t,e,i)):(wn&&n&&uS(e),e.flags|=1,Jr(t,e,r,i),e.child)}function oR(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!NS(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,BM(t,e,o,r,i)):(t=Mm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:jh,n(s,r)&&t.ref===e.ref)return Zs(t,e,i)}return e.flags|=1,t=Ya(o,r),t.ref=e.ref,t.return=e,e.child=t}function BM(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(jh(o,r)&&t.ref===e.ref)if(pi=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(pi=!0);else return e.lanes=t.lanes,Zs(t,e,i)}return tE(t,e,n,r,i)}function VM(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ln(Vu,$i),$i|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ln(Vu,$i),$i|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ln(Vu,$i),$i|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ln(Vu,$i),$i|=r;return Jr(t,e,i,n),e.child}function UM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tE(t,e,n,r,i){var o=_i(n)?sc:jr.current;return o=od(e,o),qu(e,i),n=ES(t,e,n,r,o,i),r=xS(),t!==null&&!pi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zs(t,e,i)):(wn&&r&&uS(e),e.flags|=1,Jr(t,e,n,i),e.child)}function sR(t,e,n,r,i){if(_i(n)){var o=!0;fy(e)}else o=!1;if(qu(e,i),e.stateNode===null)Am(t,e),pM(e,n,r),Zw(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=vo(c):(c=_i(n)?sc:jr.current,c=od(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&QI(e,s,r,c),Ra=!1;var h=e.memoizedState;s.state=h,yy(e,r,s,i),l=e.memoizedState,a!==r||h!==l||vi.current||Ra?(typeof u=="function"&&(Jw(e,n,u,r),l=e.memoizedState),(a=Ra||XI(e,n,a,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,fM(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:$o(e.type,a),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=vo(l):(l=_i(n)?sc:jr.current,l=od(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&QI(e,s,r,l),Ra=!1,h=e.memoizedState,s.state=h,yy(e,r,s,i);var g=e.memoizedState;a!==f||h!==g||vi.current||Ra?(typeof p=="function"&&(Jw(e,n,p,r),g=e.memoizedState),(c=Ra||XI(e,n,c,r,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return nE(t,e,n,r,o,i)}function nE(t,e,n,r,i,o){UM(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&HI(e,n,!1),Zs(t,e,o);r=e.stateNode,MU.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ad(e,t.child,null,o),e.child=ad(e,null,a,o)):Jr(t,e,a,o),e.memoizedState=r.state,i&&HI(e,n,!0),e.child}function jM(t){var e=t.stateNode;e.pendingContext?WI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&WI(t,e.context,!1),vS(t,e.containerInfo)}function aR(t,e,n,r,i){return sd(),fS(i),e.flags|=256,Jr(t,e,n,r),e.child}var rE={dehydrated:null,treeContext:null,retryLane:0};function iE(t){return{baseLanes:t,cachePool:null,transitions:null}}function zM(t,e,n){var r=e.pendingProps,i=Cn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ln(Cn,i&1),t===null)return Xw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Uv(s,r,0,null),t=nc(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=iE(n),e.memoizedState=rE,t):TS(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return $U(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ya(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ya(a,o):(o=nc(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?iE(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=rE,r}return o=t.child,t=o.sibling,r=Ya(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function TS(t,e){return e=Uv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jg(t,e,n,r){return r!==null&&fS(r),ad(e,t.child,null,n),t=TS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $U(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=wb(Error(se(422))),jg(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Uv({mode:"visible",children:r.children},i,0,null),o=nc(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ad(e,t.child,null,s),e.child.memoizedState=iE(s),e.memoizedState=rE,o);if(!(e.mode&1))return jg(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(se(419)),r=wb(o,r,void 0),jg(t,e,s,r)}if(a=(s&t.childLanes)!==0,pi||a){if(r=ur,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Js(t,i),Wo(r,t,i,-1))}return OS(),r=wb(Error(se(421))),jg(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=KU.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Vi=Ha(i.nextSibling),Hi=e,wn=!0,Lo=null,t!==null&&(co[uo++]=Us,co[uo++]=js,co[uo++]=ac,Us=t.id,js=t.overflow,ac=e),e=TS(e,r.children),e.flags|=4096,e)}function lR(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qw(t.return,e,n)}function Eb(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function WM(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Jr(t,e,r.children,n),r=Cn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lR(t,n,e);else if(t.tag===19)lR(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ln(Cn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&vy(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Eb(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&vy(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Eb(e,!0,n,null,o);break;case"together":Eb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Am(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),cc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(se(153));if(e.child!==null){for(t=e.child,n=Ya(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ya(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function DU(t,e,n){switch(e.tag){case 3:jM(e),sd();break;case 5:yM(e);break;case 1:_i(e.type)&&fy(e);break;case 4:vS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ln(gy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ln(Cn,Cn.current&1),e.flags|=128,null):n&e.child.childLanes?zM(t,e,n):(ln(Cn,Cn.current&1),t=Zs(t,e,n),t!==null?t.sibling:null);ln(Cn,Cn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return WM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ln(Cn,Cn.current),r)break;return null;case 22:case 23:return e.lanes=0,VM(t,e,n)}return Zs(t,e,n)}var HM,oE,GM,qM;HM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oE=function(){};GM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Kl(hs.current);var o=null;switch(n){case"input":i=Iw(t,i),r=Iw(t,r),o=[];break;case"select":i=Rn({},i,{value:void 0}),r=Rn({},r,{value:void 0}),o=[];break;case"textarea":i=kw(t,i),r=kw(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=uy)}Ow(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&($h.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&($h.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&un("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};qM=function(t,e,n,r){n!==r&&(e.flags|=4)};function Tf(t,e){if(!wn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ar(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function LU(t,e,n){var r=e.pendingProps;switch(dS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(e),null;case 1:return _i(e.type)&&dy(),Ar(e),null;case 3:return r=e.stateNode,ld(),gn(vi),gn(jr),bS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Lo!==null&&(hE(Lo),Lo=null))),oE(t,e),Ar(e),null;case 5:_S(e);var i=Kl(qh.current);if(n=e.type,t!==null&&e.stateNode!=null)GM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(se(166));return Ar(e),null}if(t=Kl(hs.current),Vg(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[cs]=e,r[Hh]=o,t=(e.mode&1)!==0,n){case"dialog":un("cancel",r),un("close",r);break;case"iframe":case"object":case"embed":un("load",r);break;case"video":case"audio":for(i=0;i<Kf.length;i++)un(Kf[i],r);break;case"source":un("error",r);break;case"img":case"image":case"link":un("error",r),un("load",r);break;case"details":un("toggle",r);break;case"input":yI(r,o),un("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},un("invalid",r);break;case"textarea":_I(r,o),un("invalid",r)}Ow(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Bg(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Bg(r.textContent,a,t),i=["children",""+a]):$h.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&un("scroll",r)}switch(n){case"input":Ag(r),vI(r,o,!0);break;case"textarea":Ag(r),bI(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=uy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[cs]=e,t[Hh]=r,HM(t,e,!1,!1),e.stateNode=t;e:{switch(s=Nw(n,r),n){case"dialog":un("cancel",t),un("close",t),i=r;break;case"iframe":case"object":case"embed":un("load",t),i=r;break;case"video":case"audio":for(i=0;i<Kf.length;i++)un(Kf[i],t);i=r;break;case"source":un("error",t),i=r;break;case"img":case"image":case"link":un("error",t),un("load",t),i=r;break;case"details":un("toggle",t),i=r;break;case"input":yI(t,r),i=Iw(t,r),un("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Rn({},r,{value:void 0}),un("invalid",t);break;case"textarea":_I(t,r),i=kw(t,r),un("invalid",t);break;default:i=r}Ow(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?xN(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wN(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Dh(t,l):typeof l=="number"&&Dh(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&($h.hasOwnProperty(o)?l!=null&&o==="onScroll"&&un("scroll",t):l!=null&&Xx(t,o,l,s))}switch(n){case"input":Ag(t),vI(t,r,!1);break;case"textarea":Ag(t),bI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+il(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?zu(t,!!r.multiple,o,!1):r.defaultValue!=null&&zu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=uy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ar(e),null;case 6:if(t&&e.stateNode!=null)qM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(se(166));if(n=Kl(qh.current),Kl(hs.current),Vg(e)){if(r=e.stateNode,n=e.memoizedProps,r[cs]=e,(o=r.nodeValue!==n)&&(t=Hi,t!==null))switch(t.tag){case 3:Bg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bg(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cs]=e,e.stateNode=r}return Ar(e),null;case 13:if(gn(Cn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wn&&Vi!==null&&e.mode&1&&!(e.flags&128))uM(),sd(),e.flags|=98560,o=!1;else if(o=Vg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(se(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(se(317));o[cs]=e}else sd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ar(e),o=!1}else Lo!==null&&(hE(Lo),Lo=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Cn.current&1?tr===0&&(tr=3):OS())),e.updateQueue!==null&&(e.flags|=4),Ar(e),null);case 4:return ld(),oE(t,e),t===null&&zh(e.stateNode.containerInfo),Ar(e),null;case 10:return gS(e.type._context),Ar(e),null;case 17:return _i(e.type)&&dy(),Ar(e),null;case 19:if(gn(Cn),o=e.memoizedState,o===null)return Ar(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Tf(o,!1);else{if(tr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=vy(t),s!==null){for(e.flags|=128,Tf(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ln(Cn,Cn.current&1|2),e.child}t=t.sibling}o.tail!==null&&Fn()>ud&&(e.flags|=128,r=!0,Tf(o,!1),e.lanes=4194304)}else{if(!r)if(t=vy(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Tf(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!wn)return Ar(e),null}else 2*Fn()-o.renderingStartTime>ud&&n!==1073741824&&(e.flags|=128,r=!0,Tf(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Fn(),e.sibling=null,n=Cn.current,ln(Cn,r?n&1|2:n&1),e):(Ar(e),null);case 22:case 23:return AS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$i&1073741824&&(Ar(e),e.subtreeFlags&6&&(e.flags|=8192)):Ar(e),null;case 24:return null;case 25:return null}throw Error(se(156,e.tag))}function FU(t,e){switch(dS(e),e.tag){case 1:return _i(e.type)&&dy(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ld(),gn(vi),gn(jr),bS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _S(e),null;case 13:if(gn(Cn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(se(340));sd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return gn(Cn),null;case 4:return ld(),null;case 10:return gS(e.type._context),null;case 22:case 23:return AS(),null;case 24:return null;default:return null}}var zg=!1,Br=!1,BU=typeof WeakSet=="function"?WeakSet:Set,Re=null;function Bu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){An(t,e,r)}else n.current=null}function sE(t,e,n){try{n()}catch(r){An(t,e,r)}}var cR=!1;function VU(t,e){if(zw=ay,t=QN(),cS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ww={focusedElem:t,selectionRange:n},ay=!1,Re=e;Re!==null;)if(e=Re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Re=t;else for(;Re!==null;){e=Re;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var E=g.memoizedProps,x=g.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?E:$o(e.type,E),x);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(S){An(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Re=t;break}Re=e.return}return g=cR,cR=!1,g}function hh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&sE(e,n,o)}i=i.next}while(i!==r)}}function Bv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function aE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function KM(t){var e=t.alternate;e!==null&&(t.alternate=null,KM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cs],delete e[Hh],delete e[qw],delete e[EU],delete e[xU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function YM(t){return t.tag===5||t.tag===3||t.tag===4}function uR(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||YM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=uy));else if(r!==4&&(t=t.child,t!==null))for(lE(t,e,n),t=t.sibling;t!==null;)lE(t,e,n),t=t.sibling}function cE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cE(t,e,n),t=t.sibling;t!==null;)cE(t,e,n),t=t.sibling}var _r=null,Do=!1;function Ea(t,e,n){for(n=n.child;n!==null;)XM(t,e,n),n=n.sibling}function XM(t,e,n){if(fs&&typeof fs.onCommitFiberUnmount=="function")try{fs.onCommitFiberUnmount(Av,n)}catch{}switch(n.tag){case 5:Br||Bu(n,e);case 6:var r=_r,i=Do;_r=null,Ea(t,e,n),_r=r,Do=i,_r!==null&&(Do?(t=_r,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_r.removeChild(n.stateNode));break;case 18:_r!==null&&(Do?(t=_r,n=n.stateNode,t.nodeType===8?gb(t.parentNode,n):t.nodeType===1&&gb(t,n),Vh(t)):gb(_r,n.stateNode));break;case 4:r=_r,i=Do,_r=n.stateNode.containerInfo,Do=!0,Ea(t,e,n),_r=r,Do=i;break;case 0:case 11:case 14:case 15:if(!Br&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&sE(n,e,s),i=i.next}while(i!==r)}Ea(t,e,n);break;case 1:if(!Br&&(Bu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){An(n,e,a)}Ea(t,e,n);break;case 21:Ea(t,e,n);break;case 22:n.mode&1?(Br=(r=Br)||n.memoizedState!==null,Ea(t,e,n),Br=r):Ea(t,e,n);break;default:Ea(t,e,n)}}function dR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new BU),e.forEach(function(r){var i=YU.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Oo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:_r=a.stateNode,Do=!1;break e;case 3:_r=a.stateNode.containerInfo,Do=!0;break e;case 4:_r=a.stateNode.containerInfo,Do=!0;break e}a=a.return}if(_r===null)throw Error(se(160));XM(o,s,i),_r=null,Do=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){An(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QM(e,t),e=e.sibling}function QM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Oo(e,t),rs(t),r&4){try{hh(3,t,t.return),Bv(3,t)}catch(E){An(t,t.return,E)}try{hh(5,t,t.return)}catch(E){An(t,t.return,E)}}break;case 1:Oo(e,t),rs(t),r&512&&n!==null&&Bu(n,n.return);break;case 5:if(Oo(e,t),rs(t),r&512&&n!==null&&Bu(n,n.return),t.flags&32){var i=t.stateNode;try{Dh(i,"")}catch(E){An(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&vN(i,o),Nw(a,s);var c=Nw(a,o);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?xN(i,f):u==="dangerouslySetInnerHTML"?wN(i,f):u==="children"?Dh(i,f):Xx(i,u,f,c)}switch(a){case"input":Rw(i,o);break;case"textarea":_N(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?zu(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?zu(i,!!o.multiple,o.defaultValue,!0):zu(i,!!o.multiple,o.multiple?[]:"",!1))}i[Hh]=o}catch(E){An(t,t.return,E)}}break;case 6:if(Oo(e,t),rs(t),r&4){if(t.stateNode===null)throw Error(se(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(E){An(t,t.return,E)}}break;case 3:if(Oo(e,t),rs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vh(e.containerInfo)}catch(E){An(t,t.return,E)}break;case 4:Oo(e,t),rs(t);break;case 13:Oo(e,t),rs(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(PS=Fn())),r&4&&dR(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Br=(c=Br)||u,Oo(e,t),Br=c):Oo(e,t),rs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Re=t,u=t.child;u!==null;){for(f=Re=u;Re!==null;){switch(h=Re,p=h.child,h.tag){case 0:case 11:case 14:case 15:hh(4,h,h.return);break;case 1:Bu(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(E){An(r,n,E)}}break;case 5:Bu(h,h.return);break;case 22:if(h.memoizedState!==null){hR(f);continue}}p!==null?(p.return=h,Re=p):hR(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=EN("display",s))}catch(E){An(t,t.return,E)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(E){An(t,t.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Oo(e,t),rs(t),r&4&&dR(t);break;case 21:break;default:Oo(e,t),rs(t)}}function rs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(YM(n)){var r=n;break e}n=n.return}throw Error(se(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Dh(i,""),r.flags&=-33);var o=uR(t);cE(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=uR(t);lE(t,a,s);break;default:throw Error(se(161))}}catch(l){An(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function UU(t,e,n){Re=t,JM(t)}function JM(t,e,n){for(var r=(t.mode&1)!==0;Re!==null;){var i=Re,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||zg;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Br;a=zg;var c=Br;if(zg=s,(Br=l)&&!c)for(Re=i;Re!==null;)s=Re,l=s.child,s.tag===22&&s.memoizedState!==null?pR(i):l!==null?(l.return=s,Re=l):pR(i);for(;o!==null;)Re=o,JM(o),o=o.sibling;Re=i,zg=a,Br=c}fR(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Re=o):fR(t)}}function fR(t){for(;Re!==null;){var e=Re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Br||Bv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Br)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$o(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&YI(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}YI(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Vh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}Br||e.flags&512&&aE(e)}catch(h){An(e,e.return,h)}}if(e===t){Re=null;break}if(n=e.sibling,n!==null){n.return=e.return,Re=n;break}Re=e.return}}function hR(t){for(;Re!==null;){var e=Re;if(e===t){Re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Re=n;break}Re=e.return}}function pR(t){for(;Re!==null;){var e=Re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Bv(4,e)}catch(l){An(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){An(e,i,l)}}var o=e.return;try{aE(e)}catch(l){An(e,o,l)}break;case 5:var s=e.return;try{aE(e)}catch(l){An(e,s,l)}}}catch(l){An(e,e.return,l)}if(e===t){Re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Re=a;break}Re=e.return}}var jU=Math.ceil,wy=da.ReactCurrentDispatcher,IS=da.ReactCurrentOwner,go=da.ReactCurrentBatchConfig,$t=0,ur=null,qn=null,Er=0,$i=0,Vu=wl(0),tr=0,Qh=null,cc=0,Vv=0,RS=0,ph=null,fi=null,PS=0,ud=1/0,Ls=null,Ey=!1,uE=null,qa=null,Wg=!1,Va=null,xy=0,gh=0,dE=null,Om=-1,Nm=0;function ti(){return $t&6?Fn():Om!==-1?Om:Om=Fn()}function Ka(t){return t.mode&1?$t&2&&Er!==0?Er&-Er:CU.transition!==null?(Nm===0&&(Nm=$N()),Nm):(t=Gt,t!==0||(t=window.event,t=t===void 0?16:jN(t.type)),t):1}function Wo(t,e,n,r){if(50<gh)throw gh=0,dE=null,Error(se(185));Ip(t,n,r),(!($t&2)||t!==ur)&&(t===ur&&(!($t&2)&&(Vv|=n),tr===4&&Aa(t,Er)),bi(t,r),n===1&&$t===0&&!(e.mode&1)&&(ud=Fn()+500,Dv&&El()))}function bi(t,e){var n=t.callbackNode;CV(t,e);var r=sy(t,t===ur?Er:0);if(r===0)n!==null&&xI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&xI(n),e===1)t.tag===0?SU(gR.bind(null,t)):aM(gR.bind(null,t)),bU(function(){!($t&6)&&El()}),n=null;else{switch(DN(r)){case 1:n=tS;break;case 4:n=NN;break;case 16:n=oy;break;case 536870912:n=MN;break;default:n=oy}n=s$(n,ZM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ZM(t,e){if(Om=-1,Nm=0,$t&6)throw Error(se(327));var n=t.callbackNode;if(Ku()&&t.callbackNode!==n)return null;var r=sy(t,t===ur?Er:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Sy(t,r);else{e=r;var i=$t;$t|=2;var o=t$();(ur!==t||Er!==e)&&(Ls=null,ud=Fn()+500,tc(t,e));do try{HU();break}catch(a){e$(t,a)}while(!0);pS(),wy.current=o,$t=i,qn!==null?e=0:(ur=null,Er=0,e=tr)}if(e!==0){if(e===2&&(i=Fw(t),i!==0&&(r=i,e=fE(t,i))),e===1)throw n=Qh,tc(t,0),Aa(t,r),bi(t,Fn()),n;if(e===6)Aa(t,r);else{if(i=t.current.alternate,!(r&30)&&!zU(i)&&(e=Sy(t,r),e===2&&(o=Fw(t),o!==0&&(r=o,e=fE(t,o))),e===1))throw n=Qh,tc(t,0),Aa(t,r),bi(t,Fn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(se(345));case 2:Vl(t,fi,Ls);break;case 3:if(Aa(t,r),(r&130023424)===r&&(e=PS+500-Fn(),10<e)){if(sy(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ti(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Gw(Vl.bind(null,t,fi,Ls),e);break}Vl(t,fi,Ls);break;case 4:if(Aa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-zo(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Fn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jU(r/1960))-r,10<r){t.timeoutHandle=Gw(Vl.bind(null,t,fi,Ls),r);break}Vl(t,fi,Ls);break;case 5:Vl(t,fi,Ls);break;default:throw Error(se(329))}}}return bi(t,Fn()),t.callbackNode===n?ZM.bind(null,t):null}function fE(t,e){var n=ph;return t.current.memoizedState.isDehydrated&&(tc(t,e).flags|=256),t=Sy(t,e),t!==2&&(e=fi,fi=n,e!==null&&hE(e)),t}function hE(t){fi===null?fi=t:fi.push.apply(fi,t)}function zU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!qo(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Aa(t,e){for(e&=~RS,e&=~Vv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zo(e),r=1<<n;t[n]=-1,e&=~r}}function gR(t){if($t&6)throw Error(se(327));Ku();var e=sy(t,0);if(!(e&1))return bi(t,Fn()),null;var n=Sy(t,e);if(t.tag!==0&&n===2){var r=Fw(t);r!==0&&(e=r,n=fE(t,r))}if(n===1)throw n=Qh,tc(t,0),Aa(t,e),bi(t,Fn()),n;if(n===6)throw Error(se(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vl(t,fi,Ls),bi(t,Fn()),null}function kS(t,e){var n=$t;$t|=1;try{return t(e)}finally{$t=n,$t===0&&(ud=Fn()+500,Dv&&El())}}function uc(t){Va!==null&&Va.tag===0&&!($t&6)&&Ku();var e=$t;$t|=1;var n=go.transition,r=Gt;try{if(go.transition=null,Gt=1,t)return t()}finally{Gt=r,go.transition=n,$t=e,!($t&6)&&El()}}function AS(){$i=Vu.current,gn(Vu)}function tc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_U(n)),qn!==null)for(n=qn.return;n!==null;){var r=n;switch(dS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dy();break;case 3:ld(),gn(vi),gn(jr),bS();break;case 5:_S(r);break;case 4:ld();break;case 13:gn(Cn);break;case 19:gn(Cn);break;case 10:gS(r.type._context);break;case 22:case 23:AS()}n=n.return}if(ur=t,qn=t=Ya(t.current,null),Er=$i=e,tr=0,Qh=null,RS=Vv=cc=0,fi=ph=null,ql!==null){for(e=0;e<ql.length;e++)if(n=ql[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ql=null}return t}function e$(t,e){do{var n=qn;try{if(pS(),Pm.current=by,_y){for(var r=Tn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_y=!1}if(lc=0,ar=Jn=Tn=null,fh=!1,Kh=0,IS.current=null,n===null||n.return===null){tr=1,Qh=e,qn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Er,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=nR(s);if(p!==null){p.flags&=-257,rR(p,s,a,o,e),p.mode&1&&tR(o,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var E=new Set;E.add(l),e.updateQueue=E}else g.add(l);break e}else{if(!(e&1)){tR(o,c,e),OS();break e}l=Error(se(426))}}else if(wn&&a.mode&1){var x=nR(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),rR(x,s,a,o,e),fS(cd(l,a));break e}}o=l=cd(l,a),tr!==4&&(tr=2),ph===null?ph=[o]:ph.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=LM(o,l,e);KI(o,y);break e;case 1:a=l;var b=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(qa===null||!qa.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=FM(o,a,e);KI(o,S);break e}}o=o.return}while(o!==null)}r$(n)}catch(O){e=O,qn===n&&n!==null&&(qn=n=n.return);continue}break}while(!0)}function t$(){var t=wy.current;return wy.current=by,t===null?by:t}function OS(){(tr===0||tr===3||tr===2)&&(tr=4),ur===null||!(cc&268435455)&&!(Vv&268435455)||Aa(ur,Er)}function Sy(t,e){var n=$t;$t|=2;var r=t$();(ur!==t||Er!==e)&&(Ls=null,tc(t,e));do try{WU();break}catch(i){e$(t,i)}while(!0);if(pS(),$t=n,wy.current=r,qn!==null)throw Error(se(261));return ur=null,Er=0,tr}function WU(){for(;qn!==null;)n$(qn)}function HU(){for(;qn!==null&&!mV();)n$(qn)}function n$(t){var e=o$(t.alternate,t,$i);t.memoizedProps=t.pendingProps,e===null?r$(t):qn=e,IS.current=null}function r$(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=FU(n,e),n!==null){n.flags&=32767,qn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tr=6,qn=null;return}}else if(n=LU(n,e,$i),n!==null){qn=n;return}if(e=e.sibling,e!==null){qn=e;return}qn=e=t}while(e!==null);tr===0&&(tr=5)}function Vl(t,e,n){var r=Gt,i=go.transition;try{go.transition=null,Gt=1,GU(t,e,n,r)}finally{go.transition=i,Gt=r}return null}function GU(t,e,n,r){do Ku();while(Va!==null);if($t&6)throw Error(se(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(se(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(TV(t,o),t===ur&&(qn=ur=null,Er=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wg||(Wg=!0,s$(oy,function(){return Ku(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=go.transition,go.transition=null;var s=Gt;Gt=1;var a=$t;$t|=4,IS.current=null,VU(t,n),QM(n,t),fU(Ww),ay=!!zw,Ww=zw=null,t.current=n,UU(n),yV(),$t=a,Gt=s,go.transition=o}else t.current=n;if(Wg&&(Wg=!1,Va=t,xy=i),o=t.pendingLanes,o===0&&(qa=null),bV(n.stateNode),bi(t,Fn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ey)throw Ey=!1,t=uE,uE=null,t;return xy&1&&t.tag!==0&&Ku(),o=t.pendingLanes,o&1?t===dE?gh++:(gh=0,dE=t):gh=0,El(),null}function Ku(){if(Va!==null){var t=DN(xy),e=go.transition,n=Gt;try{if(go.transition=null,Gt=16>t?16:t,Va===null)var r=!1;else{if(t=Va,Va=null,xy=0,$t&6)throw Error(se(331));var i=$t;for($t|=4,Re=t.current;Re!==null;){var o=Re,s=o.child;if(Re.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Re=c;Re!==null;){var u=Re;switch(u.tag){case 0:case 11:case 15:hh(8,u,o)}var f=u.child;if(f!==null)f.return=u,Re=f;else for(;Re!==null;){u=Re;var h=u.sibling,p=u.return;if(KM(u),u===c){Re=null;break}if(h!==null){h.return=p,Re=h;break}Re=p}}}var g=o.alternate;if(g!==null){var E=g.child;if(E!==null){g.child=null;do{var x=E.sibling;E.sibling=null,E=x}while(E!==null)}}Re=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Re=s;else e:for(;Re!==null;){if(o=Re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:hh(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Re=y;break e}Re=o.return}}var b=t.current;for(Re=b;Re!==null;){s=Re;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,Re=_;else e:for(s=b;Re!==null;){if(a=Re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Bv(9,a)}}catch(O){An(a,a.return,O)}if(a===s){Re=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Re=S;break e}Re=a.return}}if($t=i,El(),fs&&typeof fs.onPostCommitFiberRoot=="function")try{fs.onPostCommitFiberRoot(Av,t)}catch{}r=!0}return r}finally{Gt=n,go.transition=e}}return!1}function mR(t,e,n){e=cd(n,e),e=LM(t,e,1),t=Ga(t,e,1),e=ti(),t!==null&&(Ip(t,1,e),bi(t,e))}function An(t,e,n){if(t.tag===3)mR(t,t,n);else for(;e!==null;){if(e.tag===3){mR(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qa===null||!qa.has(r))){t=cd(n,t),t=FM(e,t,1),e=Ga(e,t,1),t=ti(),e!==null&&(Ip(e,1,t),bi(e,t));break}}e=e.return}}function qU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ti(),t.pingedLanes|=t.suspendedLanes&n,ur===t&&(Er&n)===n&&(tr===4||tr===3&&(Er&130023424)===Er&&500>Fn()-PS?tc(t,0):RS|=n),bi(t,e)}function i$(t,e){e===0&&(t.mode&1?(e=Mg,Mg<<=1,!(Mg&130023424)&&(Mg=4194304)):e=1);var n=ti();t=Js(t,e),t!==null&&(Ip(t,e,n),bi(t,n))}function KU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),i$(t,n)}function YU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(se(314))}r!==null&&r.delete(e),i$(t,n)}var o$;o$=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vi.current)pi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pi=!1,DU(t,e,n);pi=!!(t.flags&131072)}else pi=!1,wn&&e.flags&1048576&&lM(e,py,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Am(t,e),t=e.pendingProps;var i=od(e,jr.current);qu(e,n),i=ES(null,e,r,t,i,n);var o=xS();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_i(r)?(o=!0,fy(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yS(e),i.updater=Lv,e.stateNode=i,i._reactInternals=e,Zw(e,r,t,n),e=nE(null,e,r,!0,o,n)):(e.tag=0,wn&&o&&uS(e),Jr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Am(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=QU(r),t=$o(r,t),i){case 0:e=tE(null,e,r,t,n);break e;case 1:e=sR(null,e,r,t,n);break e;case 11:e=iR(null,e,r,t,n);break e;case 14:e=oR(null,e,r,$o(r.type,t),n);break e}throw Error(se(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$o(r,i),tE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$o(r,i),sR(t,e,r,i,n);case 3:e:{if(jM(e),t===null)throw Error(se(387));r=e.pendingProps,o=e.memoizedState,i=o.element,fM(t,e),yy(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=cd(Error(se(423)),e),e=aR(t,e,r,n,i);break e}else if(r!==i){i=cd(Error(se(424)),e),e=aR(t,e,r,n,i);break e}else for(Vi=Ha(e.stateNode.containerInfo.firstChild),Hi=e,wn=!0,Lo=null,n=mM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sd(),r===i){e=Zs(t,e,n);break e}Jr(t,e,r,n)}e=e.child}return e;case 5:return yM(e),t===null&&Xw(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Hw(r,i)?s=null:o!==null&&Hw(r,o)&&(e.flags|=32),UM(t,e),Jr(t,e,s,n),e.child;case 6:return t===null&&Xw(e),null;case 13:return zM(t,e,n);case 4:return vS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ad(e,null,r,n):Jr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$o(r,i),iR(t,e,r,i,n);case 7:return Jr(t,e,e.pendingProps,n),e.child;case 8:return Jr(t,e,e.pendingProps.children,n),e.child;case 12:return Jr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ln(gy,r._currentValue),r._currentValue=s,o!==null)if(qo(o.value,s)){if(o.children===i.children&&!vi.current){e=Zs(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Gs(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Qw(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(se(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Qw(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Jr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,qu(e,n),i=vo(i),r=r(i),e.flags|=1,Jr(t,e,r,n),e.child;case 14:return r=e.type,i=$o(r,e.pendingProps),i=$o(r.type,i),oR(t,e,r,i,n);case 15:return BM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$o(r,i),Am(t,e),e.tag=1,_i(r)?(t=!0,fy(e)):t=!1,qu(e,n),pM(e,r,i),Zw(e,r,i,n),nE(null,e,r,!0,t,n);case 19:return WM(t,e,n);case 22:return VM(t,e,n)}throw Error(se(156,e.tag))};function s$(t,e){return ON(t,e)}function XU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function po(t,e,n,r){return new XU(t,e,n,r)}function NS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function QU(t){if(typeof t=="function")return NS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jx)return 11;if(t===Zx)return 14}return 2}function Ya(t,e){var n=t.alternate;return n===null?(n=po(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Mm(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")NS(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ku:return nc(n.children,i,o,e);case Qx:s=8,i|=8;break;case xw:return t=po(12,n,e,i|2),t.elementType=xw,t.lanes=o,t;case Sw:return t=po(13,n,e,i),t.elementType=Sw,t.lanes=o,t;case Cw:return t=po(19,n,e,i),t.elementType=Cw,t.lanes=o,t;case gN:return Uv(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hN:s=10;break e;case pN:s=9;break e;case Jx:s=11;break e;case Zx:s=14;break e;case Ia:s=16,r=null;break e}throw Error(se(130,t==null?t:typeof t,""))}return e=po(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function nc(t,e,n,r){return t=po(7,t,r,e),t.lanes=n,t}function Uv(t,e,n,r){return t=po(22,t,r,e),t.elementType=gN,t.lanes=n,t.stateNode={isHidden:!1},t}function xb(t,e,n){return t=po(6,t,null,e),t.lanes=n,t}function Sb(t,e,n){return e=po(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function JU(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ib(0),this.expirationTimes=ib(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ib(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function MS(t,e,n,r,i,o,s,a,l){return t=new JU(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=po(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yS(o),t}function ZU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function a$(t){if(!t)return ol;t=t._reactInternals;e:{if(Sc(t)!==t||t.tag!==1)throw Error(se(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_i(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(se(171))}if(t.tag===1){var n=t.type;if(_i(n))return sM(t,n,e)}return e}function l$(t,e,n,r,i,o,s,a,l){return t=MS(n,r,!0,t,i,o,s,a,l),t.context=a$(null),n=t.current,r=ti(),i=Ka(n),o=Gs(r,i),o.callback=e??null,Ga(n,o,i),t.current.lanes=i,Ip(t,i,r),bi(t,r),t}function jv(t,e,n,r){var i=e.current,o=ti(),s=Ka(i);return n=a$(n),e.context===null?e.context=n:e.pendingContext=n,e=Gs(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ga(i,e,s),t!==null&&(Wo(t,i,s,o),Rm(t,i,s)),s}function Cy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $S(t,e){yR(t,e),(t=t.alternate)&&yR(t,e)}function ej(){return null}var c$=typeof reportError=="function"?reportError:function(t){console.error(t)};function DS(t){this._internalRoot=t}zv.prototype.render=DS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(se(409));jv(t,e,null,null)};zv.prototype.unmount=DS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;uc(function(){jv(null,t,null,null)}),e[Qs]=null}};function zv(t){this._internalRoot=t}zv.prototype.unstable_scheduleHydration=function(t){if(t){var e=BN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ka.length&&e!==0&&e<ka[n].priority;n++);ka.splice(n,0,t),n===0&&UN(t)}};function LS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vR(){}function tj(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Cy(s);o.call(c)}}var s=l$(e,r,t,0,null,!1,!1,"",vR);return t._reactRootContainer=s,t[Qs]=s.current,zh(t.nodeType===8?t.parentNode:t),uc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Cy(l);a.call(c)}}var l=MS(t,0,!1,null,null,!1,!1,"",vR);return t._reactRootContainer=l,t[Qs]=l.current,zh(t.nodeType===8?t.parentNode:t),uc(function(){jv(e,l,n,r)}),l}function Hv(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Cy(s);a.call(l)}}jv(e,s,t,i)}else s=tj(n,e,t,i,r);return Cy(s)}LN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qf(e.pendingLanes);n!==0&&(nS(e,n|1),bi(e,Fn()),!($t&6)&&(ud=Fn()+500,El()))}break;case 13:uc(function(){var r=Js(t,1);if(r!==null){var i=ti();Wo(r,t,1,i)}}),$S(t,1)}};rS=function(t){if(t.tag===13){var e=Js(t,134217728);if(e!==null){var n=ti();Wo(e,t,134217728,n)}$S(t,134217728)}};FN=function(t){if(t.tag===13){var e=Ka(t),n=Js(t,e);if(n!==null){var r=ti();Wo(n,t,e,r)}$S(t,e)}};BN=function(){return Gt};VN=function(t,e){var n=Gt;try{return Gt=t,e()}finally{Gt=n}};$w=function(t,e,n){switch(e){case"input":if(Rw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=$v(r);if(!i)throw Error(se(90));yN(r),Rw(r,i)}}}break;case"textarea":_N(t,n);break;case"select":e=n.value,e!=null&&zu(t,!!n.multiple,e,!1)}};TN=kS;IN=uc;var nj={usingClientEntryPoint:!1,Events:[Pp,Mu,$v,SN,CN,kS]},If={findFiberByHostInstance:Gl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rj={bundleType:If.bundleType,version:If.version,rendererPackageName:If.rendererPackageName,rendererConfig:If.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:da.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kN(t),t===null?null:t.stateNode},findFiberByHostInstance:If.findFiberByHostInstance||ej,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hg.isDisabled&&Hg.supportsFiber)try{Av=Hg.inject(rj),fs=Hg}catch{}}Ji.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nj;Ji.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!LS(e))throw Error(se(200));return ZU(t,e,null,n)};Ji.createRoot=function(t,e){if(!LS(t))throw Error(se(299));var n=!1,r="",i=c$;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=MS(t,1,!1,null,null,n,!1,r,i),t[Qs]=e.current,zh(t.nodeType===8?t.parentNode:t),new DS(e)};Ji.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(se(188)):(t=Object.keys(t).join(","),Error(se(268,t)));return t=kN(e),t=t===null?null:t.stateNode,t};Ji.flushSync=function(t){return uc(t)};Ji.hydrate=function(t,e,n){if(!Wv(e))throw Error(se(200));return Hv(null,t,e,!0,n)};Ji.hydrateRoot=function(t,e,n){if(!LS(t))throw Error(se(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=c$;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=l$(e,null,t,1,n??null,i,!1,o,s),t[Qs]=e.current,zh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new zv(e)};Ji.render=function(t,e,n){if(!Wv(e))throw Error(se(200));return Hv(null,t,e,!1,n)};Ji.unmountComponentAtNode=function(t){if(!Wv(t))throw Error(se(40));return t._reactRootContainer?(uc(function(){Hv(null,null,t,!1,function(){t._reactRootContainer=null,t[Qs]=null})}),!0):!1};Ji.unstable_batchedUpdates=kS;Ji.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wv(n))throw Error(se(200));if(t==null||t._reactInternals===void 0)throw Error(se(38));return Hv(t,e,n,!1,r)};Ji.version="18.2.0-next-9e3b772b8-20220608";function u$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u$)}catch(t){console.error(t)}}u$(),lN.exports=Ji;var Ap=lN.exports;const Gg=Cp(Ap);var _R=Ap;ww.createRoot=_R.createRoot,ww.hydrateRoot=_R.hydrateRoot;var FS={};Object.defineProperty(FS,"__esModule",{value:!0});FS.parse=uj;FS.serialize=dj;const ij=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,oj=/^[\u0021-\u003A\u003C-\u007E]*$/,sj=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,aj=/^[\u0020-\u003A\u003D-\u007E]*$/,lj=Object.prototype.toString,cj=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function uj(t,e){const n=new cj,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||fj;let o=0;do{const s=t.indexOf("=",o);if(s===-1)break;const a=t.indexOf(";",o),l=a===-1?r:a;if(s>l){o=t.lastIndexOf(";",s-1)+1;continue}const c=bR(t,o,s),u=wR(t,s,c),f=t.slice(c,u);if(n[f]===void 0){let h=bR(t,s+1,l),p=wR(t,l,h);const g=i(t.slice(h,p));n[f]=g}o=l+1}while(o<r);return n}function bR(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function wR(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function dj(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!ij.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!oj.test(i))throw new TypeError(`argument val is invalid: ${e}`);let o=t+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!sj.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!aj.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!hj(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function fj(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function hj(t){return lj.call(t)==="[object Date]"}/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ER="popstate";function pj(t={}){function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return pE("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Jh(i)}return mj(e,n,null,t)}function In(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gj(){return Math.random().toString(36).substring(2,10)}function xR(t,e){return{usr:t.state,key:t.key,idx:e}}function pE(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?$d(e):e,state:n,key:e&&e.key||r||gj()}}function Jh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function $d(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function mj(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,c=u();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function u(){return(s.state||{idx:null}).idx}function f(){a="POP";let x=u(),y=x==null?null:x-c;c=x,l&&l({action:a,location:E.location,delta:y})}function h(x,y){a="PUSH";let b=pE(E.location,x,y);c=u()+1;let _=xR(b,c),S=E.createHref(b);try{s.pushState(_,"",S)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(S)}o&&l&&l({action:a,location:E.location,delta:1})}function p(x,y){a="REPLACE";let b=pE(E.location,x,y);c=u();let _=xR(b,c),S=E.createHref(b);s.replaceState(_,"",S),o&&l&&l({action:a,location:E.location,delta:0})}function g(x){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof x=="string"?x:Jh(x);return b=b.replace(/ $/,"%20"),In(y,`No window.location.(origin|href) available to create URL for href: ${b}`),new URL(b,y)}let E={get action(){return a},get location(){return t(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ER,f),l=x,()=>{i.removeEventListener(ER,f),l=null}},createHref(x){return e(i,x)},createURL:g,encodeLocation(x){let y=g(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(x){return s.go(x)}};return E}function d$(t,e,n="/"){return yj(t,e,n,!1)}function yj(t,e,n,r){let i=typeof e=="string"?$d(e):e,o=ea(i.pathname||"/",n);if(o==null)return null;let s=f$(t);vj(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=Pj(o);a=Ij(s[l],c,r)}return a}function f$(t,e=[],n=[],r=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(In(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=qs([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(In(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),f$(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:Cj(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of h$(o.path))i(o,s,l)}),e}function h$(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=h$(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function vj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Tj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var _j=/^:[\w-]+$/,bj=3,wj=2,Ej=1,xj=10,Sj=-2,SR=t=>t==="*";function Cj(t,e){let n=t.split("/"),r=n.length;return n.some(SR)&&(r+=Sj),e&&(r+=wj),n.filter(i=>!SR(i)).reduce((i,o)=>i+(_j.test(o)?bj:o===""?Ej:xj),r)}function Tj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Ij(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",f=Ty({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Ty({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:qs([o,f.pathname]),pathnameBase:Nj(qs([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=qs([o,f.pathnameBase]))}return s}function Ty(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Rj(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:f},h)=>{if(u==="*"){let g=a[h]||"";s=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[h];return f&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function Rj(t,e=!1,n=!0){bs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Pj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ea(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function kj(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?$d(t):t;return{pathname:n?n.startsWith("/")?n:Aj(n,e):e,search:Mj(r),hash:$j(i)}}function Aj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Cb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Oj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function p$(t){let e=Oj(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function g$(t,e,n,r=!1){let i;typeof t=="string"?i=$d(t):(i={...t},In(!i.pathname||!i.pathname.includes("?"),Cb("?","pathname","search",i)),In(!i.pathname||!i.pathname.includes("#"),Cb("#","pathname","hash",i)),In(!i.search||!i.search.includes("#"),Cb("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=kj(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var qs=t=>t.join("/").replace(/\/\/+/g,"/"),Nj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Mj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$j=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Dj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var m$=["POST","PUT","PATCH","DELETE"];new Set(m$);var Lj=["GET",...m$];new Set(Lj);var Dd=w.createContext(null);Dd.displayName="DataRouter";var Gv=w.createContext(null);Gv.displayName="DataRouterState";var y$=w.createContext({isTransitioning:!1});y$.displayName="ViewTransition";var Fj=w.createContext(new Map);Fj.displayName="Fetchers";var Bj=w.createContext(null);Bj.displayName="Await";var Ss=w.createContext(null);Ss.displayName="Navigation";var Op=w.createContext(null);Op.displayName="Location";var Cs=w.createContext({outlet:null,matches:[],isDataRoute:!1});Cs.displayName="Route";var BS=w.createContext(null);BS.displayName="RouteError";function Vj(t,{relative:e}={}){In(Np(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(Ss),{hash:i,pathname:o,search:s}=Mp(t,{relative:e}),a=o;return n!=="/"&&(a=o==="/"?n:qs([n,o])),r.createHref({pathname:a,search:s,hash:i})}function Np(){return w.useContext(Op)!=null}function Cc(){return In(Np(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Op).location}var v$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _$(t){w.useContext(Ss).static||w.useLayoutEffect(t)}function qv(){let{isDataRoute:t}=w.useContext(Cs);return t?e6():Uj()}function Uj(){In(Np(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Dd),{basename:e,navigator:n}=w.useContext(Ss),{matches:r}=w.useContext(Cs),{pathname:i}=Cc(),o=JSON.stringify(p$(r)),s=w.useRef(!1);return _$(()=>{s.current=!0}),w.useCallback((l,c={})=>{if(bs(s.current,v$),!s.current)return;if(typeof l=="number"){n.go(l);return}let u=g$(l,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:qs([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,o,i,t])}w.createContext(null);function jj(){let{matches:t}=w.useContext(Cs),e=t[t.length-1];return e?e.params:{}}function Mp(t,{relative:e}={}){let{matches:n}=w.useContext(Cs),{pathname:r}=Cc(),i=JSON.stringify(p$(n));return w.useMemo(()=>g$(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function zj(t,e){return b$(t,e)}function b$(t,e,n,r){var b;In(Np(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=w.useContext(Ss),{matches:s}=w.useContext(Cs),a=s[s.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",f=a&&a.route;{let _=f&&f.path||"";w$(c,!f||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let h=Cc(),p;if(e){let _=typeof e=="string"?$d(e):e;In(u==="/"||((b=_.pathname)==null?void 0:b.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${_.pathname}" was given in the \`location\` prop.`),p=_}else p=h;let g=p.pathname||"/",E=g;if(u!=="/"){let _=u.replace(/^\//,"").split("/");E="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=!o&&n&&n.matches&&n.matches.length>0?n.matches:d$(t,{pathname:E});bs(f||x!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),bs(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=Kj(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:qs([u,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:qs([u,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&y?w.createElement(Op.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},y):y}function Wj(){let t=Zj(),e=Dj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:o},"ErrorBoundary")," or"," ",w.createElement("code",{style:o},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,s)}var Hj=w.createElement(Wj,null),Gj=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?w.createElement(Cs.Provider,{value:this.props.routeContext},w.createElement(BS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qj({routeContext:t,match:e,children:n}){let r=w.useContext(Dd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Cs.Provider,{value:t},n)}function Kj(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let l=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);In(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:f}=n,h=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||h){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let f,h=!1,p=null,g=null;n&&(f=o&&c.route.id?o[c.route.id]:void 0,p=c.route.errorElement||Hj,s&&(a<0&&u===0?(w$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,g=null):a===u&&(h=!0,g=c.route.hydrateFallbackElement||null)));let E=e.concat(i.slice(0,u+1)),x=()=>{let y;return f?y=p:h?y=g:c.route.Component?y=w.createElement(c.route.Component,null):c.route.element?y=c.route.element:y=l,w.createElement(qj,{match:c,routeContext:{outlet:l,matches:E,isDataRoute:n!=null},children:y})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?w.createElement(Gj,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:x(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):x()},null)}function VS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yj(t){let e=w.useContext(Dd);return In(e,VS(t)),e}function Xj(t){let e=w.useContext(Gv);return In(e,VS(t)),e}function Qj(t){let e=w.useContext(Cs);return In(e,VS(t)),e}function US(t){let e=Qj(t),n=e.matches[e.matches.length-1];return In(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Jj(){return US("useRouteId")}function Zj(){var r;let t=w.useContext(BS),e=Xj("useRouteError"),n=US("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function e6(){let{router:t}=Yj("useNavigate"),e=US("useNavigate"),n=w.useRef(!1);return _$(()=>{n.current=!0}),w.useCallback(async(i,o={})=>{bs(n.current,v$),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var CR={};function w$(t,e,n){!e&&!CR[t]&&(CR[t]=!0,bs(!1,n))}w.memo(t6);function t6({routes:t,future:e,state:n}){return b$(t,void 0,n,e)}function $m(t){In(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function n6({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){In(!Np(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),a=w.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=$d(n));let{pathname:l="/",search:c="",hash:u="",state:f=null,key:h="default"}=n,p=w.useMemo(()=>{let g=ea(l,s);return g==null?null:{location:{pathname:g,search:c,hash:u,state:f,key:h},navigationType:r}},[s,l,c,u,f,h,r]);return bs(p!=null,`<Router basename="${s}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:w.createElement(Ss.Provider,{value:a},w.createElement(Op.Provider,{children:e,value:p}))}function r6({children:t,location:e}){return zj(gE(t),e)}function gE(t,e=[]){let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let o=[...e,i];if(r.type===w.Fragment){n.push.apply(n,gE(r.props.children,o));return}In(r.type===$m,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),In(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=gE(r.props.children,o)),n.push(s)}),n}var Dm="get",Lm="application/x-www-form-urlencoded";function Kv(t){return t!=null&&typeof t.tagName=="string"}function i6(t){return Kv(t)&&t.tagName.toLowerCase()==="button"}function o6(t){return Kv(t)&&t.tagName.toLowerCase()==="form"}function s6(t){return Kv(t)&&t.tagName.toLowerCase()==="input"}function a6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function l6(t,e){return t.button===0&&(!e||e==="_self")&&!a6(t)}var qg=null;function c6(){if(qg===null)try{new FormData(document.createElement("form"),0),qg=!1}catch{qg=!0}return qg}var u6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tb(t){return t!=null&&!u6.has(t)?(bs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lm}"`),null):t}function d6(t,e){let n,r,i,o,s;if(o6(t)){let a=t.getAttribute("action");r=a?ea(a,e):null,n=t.getAttribute("method")||Dm,i=Tb(t.getAttribute("enctype"))||Lm,o=new FormData(t)}else if(i6(t)||s6(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?ea(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Dm,i=Tb(t.getAttribute("formenctype"))||Tb(a.getAttribute("enctype"))||Lm,o=new FormData(a,t),!c6()){let{name:c,type:u,value:f}=t;if(u==="image"){let h=c?`${c}.`:"";o.append(`${h}x`,"0"),o.append(`${h}y`,"0")}else c&&o.append(c,f)}}else{if(Kv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Dm,r=null,i=Lm,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function jS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function f6(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function h6(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function p6(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await f6(o,n);return s.links?s.links():[]}return[]}));return v6(r.flat(1).filter(h6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function TR(t,e,n,r,i,o){let s=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return o==="assets"?e.filter((l,c)=>s(l,c)||a(l,c)):o==="data"?e.filter((l,c)=>{var f;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(s(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function g6(t,e,{includeHydrateFallback:n}={}){return m6(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function m6(t){return[...new Set(t)]}function y6(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function v6(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(y6(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function _6(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ea(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function E$(){let t=w.useContext(Dd);return jS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function b6(){let t=w.useContext(Gv);return jS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var zS=w.createContext(void 0);zS.displayName="FrameworkContext";function x$(){let t=w.useContext(zS);return jS(t,"You must render this element inside a <HydratedRouter> element"),t}function w6(t,e){let n=w.useContext(zS),[r,i]=w.useState(!1),[o,s]=w.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=e,h=w.useRef(null);w.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let E=y=>{y.forEach(b=>{s(b.isIntersecting)})},x=new IntersectionObserver(E,{threshold:.5});return h.current&&x.observe(h.current),()=>{x.disconnect()}}},[t]),w.useEffect(()=>{if(r){let E=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(E)}}},[r]);let p=()=>{i(!0)},g=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,h,{}]:[o,h,{onFocus:Rf(a,p),onBlur:Rf(l,g),onMouseEnter:Rf(c,p),onMouseLeave:Rf(u,g),onTouchStart:Rf(f,p)}]:[!1,h,{}]}function Rf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function E6({page:t,...e}){let{router:n}=E$(),r=w.useMemo(()=>d$(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(S6,{page:t,matches:r,...e}):null}function x6(t){let{manifest:e,routeModules:n}=x$(),[r,i]=w.useState([]);return w.useEffect(()=>{let o=!1;return p6(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function S6({page:t,matches:e,...n}){let r=Cc(),{manifest:i,routeModules:o}=x$(),{basename:s}=E$(),{loaderData:a,matches:l}=b6(),c=w.useMemo(()=>TR(t,e,l,i,r,"data"),[t,e,l,i,r]),u=w.useMemo(()=>TR(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let g=new Set,E=!1;if(e.forEach(y=>{var _;let b=i.routes[y.route.id];!b||!b.hasLoader||(!c.some(S=>S.route.id===y.route.id)&&y.route.id in a&&((_=o[y.route.id])!=null&&_.shouldRevalidate)||b.hasClientLoader?E=!0:g.add(y.route.id))}),g.size===0)return[];let x=_6(t,s);return E&&g.size>0&&x.searchParams.set("_routes",e.filter(y=>g.has(y.route.id)).map(y=>y.route.id).join(",")),[x.pathname+x.search]},[s,a,r,i,c,e,t,o]),h=w.useMemo(()=>g6(u,i),[u,i]),p=x6(u);return w.createElement(w.Fragment,null,f.map(g=>w.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),h.map(g=>w.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),p.map(({key:g,link:E})=>w.createElement("link",{key:g,...E})))}function C6(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var S$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{S$&&(window.__reactRouterVersion="7.4.1")}catch{}function T6({basename:t,children:e,window:n}){let r=w.useRef();r.current==null&&(r.current=pj({window:n,v5Compat:!0}));let i=r.current,[o,s]=w.useState({action:i.action,location:i.location}),a=w.useCallback(l=>{w.startTransition(()=>s(l))},[s]);return w.useLayoutEffect(()=>i.listen(a),[i,a]),w.createElement(n6,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var C$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T$=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f,...h},p){let{basename:g}=w.useContext(Ss),E=typeof c=="string"&&C$.test(c),x,y=!1;if(typeof c=="string"&&E&&(x=c,S$))try{let R=new URL(window.location.href),v=c.startsWith("//")?new URL(R.protocol+c):new URL(c),k=ea(v.pathname,g);v.origin===R.origin&&k!=null?c=k+v.search+v.hash:y=!0}catch{bs(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=Vj(c,{relative:i}),[_,S,O]=w6(r,h),N=k6(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:f});function T(R){e&&e(R),R.defaultPrevented||N(R)}let I=w.createElement("a",{...h,...O,href:x||b,onClick:y||o?e:T,ref:C6(p,S),target:l,"data-discover":!E&&n==="render"?"true":void 0});return _&&!E?w.createElement(w.Fragment,null,I,w.createElement(E6,{page:b})):I});T$.displayName="Link";var I6=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...c},u){let f=Mp(s,{relative:c.relative}),h=Cc(),p=w.useContext(Gv),{navigator:g,basename:E}=w.useContext(Ss),x=p!=null&&$6(f)&&a===!0,y=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=h.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(b=b.toLowerCase(),_=_?_.toLowerCase():null,y=y.toLowerCase()),_&&E&&(_=ea(_,E)||_);const S=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let O=b===y||!i&&b.startsWith(y)&&b.charAt(S)==="/",N=_!=null&&(_===y||!i&&_.startsWith(y)&&_.charAt(y.length)==="/"),T={isActive:O,isPending:N,isTransitioning:x},I=O?e:void 0,R;typeof r=="function"?R=r(T):R=[r,O?"active":null,N?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let v=typeof o=="function"?o(T):o;return w.createElement(T$,{...c,"aria-current":I,className:R,ref:u,style:v,to:s,viewTransition:a},typeof l=="function"?l(T):l)});I6.displayName="NavLink";var R6=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=Dm,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:f,...h},p)=>{let g=N6(),E=M6(a,{relative:c}),x=s.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&C$.test(a),b=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let S=_.nativeEvent.submitter,O=(S==null?void 0:S.getAttribute("formmethod"))||s;g(S||_.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:o,relative:c,preventScrollReset:u,viewTransition:f})};return w.createElement("form",{ref:p,method:x,action:E,onSubmit:r?l:b,...h,"data-discover":!y&&t==="render"?"true":void 0})});R6.displayName="Form";function P6(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I$(t){let e=w.useContext(Dd);return In(e,P6(t)),e}function k6(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=qv(),l=Cc(),c=Mp(t,{relative:o});return w.useCallback(u=>{if(l6(u,e)){u.preventDefault();let f=n!==void 0?n:Jh(l)===Jh(c);a(t,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,c,n,r,e,t,i,o,s])}var A6=0,O6=()=>`__${String(++A6)}__`;function N6(){let{router:t}=I$("useSubmit"),{basename:e}=w.useContext(Ss),n=Jj();return w.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:c}=d6(r,e);if(i.navigate===!1){let u=i.fetcherKey||O6();await t.fetch(u,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function M6(t,{relative:e}={}){let{basename:n}=w.useContext(Ss),r=w.useContext(Cs);In(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Mp(t||".",{relative:e})},s=Cc();if(t==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let u=a.toString();o.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:qs([n,o.pathname])),Jh(o)}function $6(t,e={}){let n=w.useContext(y$);In(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=I$("useViewTransitionState"),i=Mp(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=ea(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=ea(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ty(i.pathname,s)!=null||Ty(i.pathname,o)!=null}new TextEncoder;const D6=()=>{};var IR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue=function(t,e){if(!t)throw Ld(e)},Ld=function(t){return new Error("Firebase Database ("+R$.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},L6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},WS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(P$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):L6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new F6;const h=o<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),f!==64){const g=c<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class F6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k$=function(t){const e=P$(t);return WS.encodeByteArray(e,!0)},Iy=function(t){return k$(t).replace(/\./g,"")},Ry=function(t){try{return WS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(t){return A$(void 0,t)}function A$(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!V6(n)||(t[n]=A$(t[n],e[n]));return t}function V6(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=()=>U6().__FIREBASE_DEFAULTS__,z6=()=>{if(typeof process>"u"||typeof IR>"u")return;const t=IR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},W6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ry(t[1]);return e&&JSON.parse(e)},Yv=()=>{try{return D6()||j6()||z6()||W6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},O$=t=>{var e,n;return(n=(e=Yv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},HS=t=>{const e=O$(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},N$=()=>{var t;return(t=Yv())===null||t===void 0?void 0:t.config},M$=t=>{var e;return(e=Yv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Iy(JSON.stringify(n)),Iy(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zr())}function H6(){var t;const e=(t=Yv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function G6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function q6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function K6(){const t=zr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Y6(){return R$.NODE_ADMIN===!0}function X6(){return!H6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q6(){try{return typeof indexedDB=="object"}catch{return!1}}function J6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6="FirebaseError";class Ts extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Z6,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$p.prototype.create)}}class $p{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?e9(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ts(i,a,r)}}function e9(t,e){return t.replace(t9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const t9=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t){return JSON.parse(t)}function Zn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=Zh(Ry(o[0])||""),n=Zh(Ry(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},n9=function(t){const e=D$(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},r9=function(t){const e=D$(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function dd(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function mE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Py(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ta(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(RR(o)&&RR(s)){if(!ta(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function RR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Xf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let f=0;f<80;f++){f<40?f<20?(c=a^o&(s^a),u=1518500249):(c=o^s^a,u=1859775393):f<60?(c=o&s|a&(o|s),u=2400959708):(c=o^s^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[f]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function o9(t,e){const n=new s9(t,e);return n.subscribe.bind(n)}class s9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");a9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ib),i.error===void 0&&(i.error=Ib),i.complete===void 0&&(i.complete=Ib);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ib(){}function KS(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,ue(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Qv=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t){return t&&t._delegate?t._delegate:t}class na{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Xv;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(d9(e))try{this.getOrInitializeService({instanceIdentifier:Ul})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ul){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ul){return this.instances.has(e)}getOptions(e=Ul){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:u9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ul){return this.component?this.component.multipleInstances?e:Ul:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u9(t){return t===Ul?void 0:t}function d9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new c9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Et||(Et={}));const h9={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},p9=Et.INFO,g9={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},m9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=g9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jv{constructor(e){this.name=e,this._logLevel=p9,this._logHandler=m9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...e),this._logHandler(this,Et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...e),this._logHandler(this,Et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...e),this._logHandler(this,Et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...e),this._logHandler(this,Et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...e),this._logHandler(this,Et.ERROR,...e)}}const y9=(t,e)=>e.some(n=>t instanceof n);let PR,kR;function v9(){return PR||(PR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _9(){return kR||(kR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L$=new WeakMap,yE=new WeakMap,F$=new WeakMap,Rb=new WeakMap,YS=new WeakMap;function b9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Xa(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&L$.set(n,t)}).catch(()=>{}),YS.set(e,t),e}function w9(t){if(yE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});yE.set(t,e)}let vE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||F$.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function E9(t){vE=t(vE)}function x9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pb(this),e,...n);return F$.set(r,e.sort?e.sort():[e]),Xa(r)}:_9().includes(t)?function(...e){return t.apply(Pb(this),e),Xa(L$.get(this))}:function(...e){return Xa(t.apply(Pb(this),e))}}function S9(t){return typeof t=="function"?x9(t):(t instanceof IDBTransaction&&w9(t),y9(t,v9())?new Proxy(t,vE):t)}function Xa(t){if(t instanceof IDBRequest)return b9(t);if(Rb.has(t))return Rb.get(t);const e=S9(t);return e!==t&&(Rb.set(t,e),YS.set(e,t)),e}const Pb=t=>YS.get(t);function C9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Xa(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Xa(s.result),l.oldVersion,l.newVersion,Xa(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const T9=["get","getKey","getAll","getAllKeys","count"],I9=["put","add","delete","clear"],kb=new Map;function AR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kb.get(e))return kb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=I9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||T9.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return kb.set(e,o),o}E9(t=>({...t,get:(e,n,r)=>AR(e,n)||t.get(e,n,r),has:(e,n)=>!!AR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(P9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function P9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _E="@firebase/app",OR="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new Jv("@firebase/app"),k9="@firebase/app-compat",A9="@firebase/analytics-compat",O9="@firebase/analytics",N9="@firebase/app-check-compat",M9="@firebase/app-check",$9="@firebase/auth",D9="@firebase/auth-compat",L9="@firebase/database",F9="@firebase/data-connect",B9="@firebase/database-compat",V9="@firebase/functions",U9="@firebase/functions-compat",j9="@firebase/installations",z9="@firebase/installations-compat",W9="@firebase/messaging",H9="@firebase/messaging-compat",G9="@firebase/performance",q9="@firebase/performance-compat",K9="@firebase/remote-config",Y9="@firebase/remote-config-compat",X9="@firebase/storage",Q9="@firebase/storage-compat",J9="@firebase/firestore",Z9="@firebase/vertexai",ez="@firebase/firestore-compat",tz="firebase",nz="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="[DEFAULT]",rz={[_E]:"fire-core",[k9]:"fire-core-compat",[O9]:"fire-analytics",[A9]:"fire-analytics-compat",[M9]:"fire-app-check",[N9]:"fire-app-check-compat",[$9]:"fire-auth",[D9]:"fire-auth-compat",[L9]:"fire-rtdb",[F9]:"fire-data-connect",[B9]:"fire-rtdb-compat",[V9]:"fire-fn",[U9]:"fire-fn-compat",[j9]:"fire-iid",[z9]:"fire-iid-compat",[W9]:"fire-fcm",[H9]:"fire-fcm-compat",[G9]:"fire-perf",[q9]:"fire-perf-compat",[K9]:"fire-rc",[Y9]:"fire-rc-compat",[X9]:"fire-gcs",[Q9]:"fire-gcs-compat",[J9]:"fire-fst",[ez]:"fire-fst-compat",[Z9]:"fire-vertex","fire-js":"fire-js",[tz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=new Map,iz=new Map,wE=new Map;function NR(t,e){try{t.container.addComponent(e)}catch(n){ra.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sl(t){const e=t.name;if(wE.has(e))return ra.debug(`There were multiple attempts to register component ${e}.`),!1;wE.set(e,t);for(const n of ky.values())NR(n,t);for(const n of iz.values())NR(n,t);return!0}function Dp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qa=new $p("app","Firebase",oz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=nz;function B$(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:bE,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qa.create("bad-app-name",{appName:String(i)});if(n||(n=N$()),!n)throw Qa.create("no-options");const o=ky.get(i);if(o){if(ta(n,o.options)&&ta(r,o.config))return o;throw Qa.create("duplicate-app",{appName:i})}const s=new f9(i);for(const l of wE.values())s.addComponent(l);const a=new sz(n,r,s);return ky.set(i,a),a}function Zv(t=bE){const e=ky.get(t);if(!e&&t===bE&&N$())return B$();if(!e)throw Qa.create("no-app",{appName:t});return e}function mo(t,e,n){var r;let i=(r=rz[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ra.warn(a.join(" "));return}sl(new na(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az="firebase-heartbeat-database",lz=1,ep="firebase-heartbeat-store";let Ab=null;function V$(){return Ab||(Ab=C9(az,lz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ep)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qa.create("idb-open",{originalErrorMessage:t.message})})),Ab}async function cz(t){try{const n=(await V$()).transaction(ep),r=await n.objectStore(ep).get(U$(t));return await n.done,r}catch(e){if(e instanceof Ts)ra.warn(e.message);else{const n=Qa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ra.warn(n.message)}}}async function MR(t,e){try{const r=(await V$()).transaction(ep,"readwrite");await r.objectStore(ep).put(e,U$(t)),await r.done}catch(n){if(n instanceof Ts)ra.warn(n.message);else{const r=Qa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ra.warn(r.message)}}}function U$(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz=1024,dz=30;class fz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=$R();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>dz){const s=gz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ra.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$R(),{heartbeatsToSend:r,unsentEntries:i}=hz(this._heartbeatsCache.heartbeats),o=Iy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ra.warn(n),""}}}function $R(){return new Date().toISOString().substring(0,10)}function hz(t,e=uz){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),DR(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),DR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Q6()?J6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cz(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return MR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return MR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function DR(t){return Iy(JSON.stringify({version:2,heartbeats:t})).length}function gz(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(t){sl(new na("platform-logger",e=>new R9(e),"PRIVATE")),sl(new na("heartbeat",e=>new fz(e),"PRIVATE")),mo(_E,OR,t),mo(_E,OR,"esm2017"),mo("fire-js","")}mz("");var yz="firebase",vz="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mo(yz,vz,"app");function XS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function j$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _z=j$,z$=new $p("auth","Firebase",j$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=new Jv("@firebase/auth");function bz(t,...e){Ay.logLevel<=Et.WARN&&Ay.warn(`Auth (${xl}): ${t}`,...e)}function Fm(t,...e){Ay.logLevel<=Et.ERROR&&Ay.error(`Auth (${xl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t,...e){throw JS(t,...e)}function Ho(t,...e){return JS(t,...e)}function QS(t,e,n){const r=Object.assign(Object.assign({},_z()),{[e]:n});return new $p("auth","Firebase",r).create(e,{appName:t.name})}function Ks(t){return QS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wz(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&bo(t,"argument-error"),QS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function JS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return z$.create(t,...e)}function Ge(t,e,...n){if(!t)throw JS(e,...n)}function zs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fm(e),new Error(e)}function ia(t,e){t||zs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Ez(){return LR()==="http:"||LR()==="https:"}function LR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ez()||q6()||"connection"in navigator)?navigator.onLine:!0}function Sz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n){this.shortDelay=e,this.longDelay=n,ia(n>e,"Short delay should be less than long delay!"),this.isMobile=qS()||$$()}get(){return xz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(t,e){ia(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Iz=new Lp(3e4,6e4);function Sl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Cl(t,e,n,r,i={}){return H$(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Fd(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},o);return G6()||(c.referrerPolicy="no-referrer"),W$.fetch()(await G$(t,t.config.apiHost,n,a),c)})}async function H$(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Cz),e);try{const i=new Pz(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Kg(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kg(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Kg(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Kg(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw QS(t,u,c);bo(t,u)}}catch(i){if(i instanceof Ts)throw i;bo(t,"network-request-failed",{message:String(i)})}}async function Fp(t,e,n,r,i={}){const o=await Cl(t,e,n,r,i);return"mfaPendingCredential"in o&&bo(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function G$(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?ZS(t.config,i):`${t.config.apiScheme}://${i}`;return Tz.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function Rz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Pz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ho(this.auth,"network-request-failed")),Iz.get())})}}function Kg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ho(t,e,r);return i.customData._tokenResponse=n,i}function FR(t){return t!==void 0&&t.enterprise!==void 0}class kz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Rz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Az(t,e){return Cl(t,"GET","/v2/recaptchaConfig",Sl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oz(t,e){return Cl(t,"POST","/v1/accounts:delete",e)}async function Oy(t,e){return Cl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Nz(t,e=!1){const n=Wt(t),r=await n.getIdToken(e),i=eC(r);Ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:mh(Ob(i.auth_time)),issuedAtTime:mh(Ob(i.iat)),expirationTime:mh(Ob(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ob(t){return Number(t)*1e3}function eC(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ry(n);return i?JSON.parse(i):(Fm("Failed to decode base64 JWT payload"),null)}catch(i){return Fm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function BR(t){const e=eC(t);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tp(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ts&&Mz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Mz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mh(this.lastLoginAt),this.creationTime=mh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ny(t){var e;const n=t.auth,r=await t.getIdToken(),i=await tp(t,Oy(n,{idToken:r}));Ge(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?q$(o.providerUserInfo):[],a=Lz(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new xE(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function Dz(t){const e=Wt(t);await Ny(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Lz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function q$(t){return t.map(e=>{var{providerId:n}=e,r=XS(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fz(t,e){const n=await H$(t,{},async()=>{const r=Fd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await G$(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",W$.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Bz(t,e){return Cl(t,"POST","/v2/accounts:revokeToken",Sl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const n=BR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Fz(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Yu;return r&&(Ge(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ge(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ge(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yu,this.toJSON())}_performRefresh(){return zs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(t,e){Ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=XS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $z(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xE(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await tp(this,this.stsTokenManager.getToken(this.auth,e));return Ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Nz(this,e)}reload(){return Dz(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ny(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zr(this.auth.app))return Promise.reject(Ks(this.auth));const e=await this.getIdToken();return await tp(this,Oz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,c,u;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,b=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:S,isAnonymous:O,providerData:N,stsTokenManager:T}=n;Ge(_&&T,e,"internal-error");const I=Yu.fromJSON(this.name,T);Ge(typeof _=="string",e,"internal-error"),xa(f,e.name),xa(h,e.name),Ge(typeof S=="boolean",e,"internal-error"),Ge(typeof O=="boolean",e,"internal-error"),xa(p,e.name),xa(g,e.name),xa(E,e.name),xa(x,e.name),xa(y,e.name),xa(b,e.name);const R=new Bo({uid:_,auth:e,email:h,emailVerified:S,displayName:f,isAnonymous:O,photoURL:g,phoneNumber:p,tenantId:E,stsTokenManager:I,createdAt:y,lastLoginAt:b});return N&&Array.isArray(N)&&(R.providerData=N.map(v=>Object.assign({},v))),x&&(R._redirectEventId=x),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Yu;i.updateFromServerResponse(n);const o=new Bo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ny(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ge(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?q$(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Yu;a.updateFromIdToken(r);const l=new Bo({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new xE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=new Map;function Ws(t){ia(t instanceof Function,"Expected a class definition");let e=VR.get(t);return e?(ia(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}K$.type="NONE";const UR=K$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(t,e,n){return`firebase:${t}:${e}:${n}`}class Xu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Bm(this.userKey,i.apiKey,o),this.fullPersistenceKey=Bm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Oy(this.auth,{idToken:e}).catch(()=>{});return n?Bo._fromGetAccountInfoResponse(this.auth,n,e):null}return Bo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Xu(Ws(UR),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||Ws(UR);const s=Bm(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){let f;if(typeof u=="string"){const h=await Oy(e,{idToken:u}).catch(()=>{});if(!h)break;f=await Bo._fromGetAccountInfoResponse(e,h,u)}else f=Bo._fromJSON(e,u);c!==o&&(a=f),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Xu(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new Xu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(J$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Y$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eD(e))return"Blackberry";if(tD(e))return"Webos";if(X$(e))return"Safari";if((e.includes("chrome/")||Q$(e))&&!e.includes("edge/"))return"Chrome";if(Z$(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Y$(t=zr()){return/firefox\//i.test(t)}function X$(t=zr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Q$(t=zr()){return/crios\//i.test(t)}function J$(t=zr()){return/iemobile/i.test(t)}function Z$(t=zr()){return/android/i.test(t)}function eD(t=zr()){return/blackberry/i.test(t)}function tD(t=zr()){return/webos/i.test(t)}function tC(t=zr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Vz(t=zr()){var e;return tC(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Uz(){return K6()&&document.documentMode===10}function nD(t=zr()){return tC(t)||Z$(t)||tD(t)||eD(t)||/windows phone/i.test(t)||J$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t,e=[]){let n;switch(t){case"Browser":n=jR(zr());break;case"Worker":n=`${jR(zr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zz(t,e={}){return Cl(t,"GET","/v2/passwordPolicy",Sl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz=6;class Hz{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Wz,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zR(this),this.idTokenSubscription=new zR(this),this.beforeStateQueue=new jz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ws(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Xu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Oy(this,{idToken:e}),r=await Bo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Zr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ny(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Sz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zr(this.app))return Promise.reject(Ks(this));const n=e?Wt(e):null;return n&&Ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zr(this.app)?Promise.reject(Ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zr(this.app)?Promise.reject(Ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zz(this),n=new Hz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $p("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Bz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ws(e)||this._popupRedirectResolver;Ge(n,this,"argument-error"),this.redirectPersistenceManager=await Xu.create(this,[Ws(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&bz(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Tl(t){return Wt(t)}class zR{constructor(e){this.auth=e,this.observer=null,this.addObserver=o9(n=>this.observer=n)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qz(t){e0=t}function iD(t){return e0.loadJS(t)}function Kz(){return e0.recaptchaEnterpriseScript}function Yz(){return e0.gapiScript}function Xz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Qz{constructor(){this.enterprise=new Jz}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Jz{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Zz="recaptcha-enterprise",oD="NO_RECAPTCHA";class eW{constructor(e){this.type=Zz,this.auth=Tl(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{Az(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new kz(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;FR(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(oD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Qz().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&FR(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Kz();l.length!==0&&(l+=a),iD(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function WR(t,e,n,r=!1,i=!1){const o=new eW(t);let s;if(i)s=oD;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function SE(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await WR(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await WR(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tW(t,e){const n=Dp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ta(o,e??{}))return i;bo(i,"already-initialized")}return n.initialize({options:e})}function nW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ws);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rW(t,e,n){const r=Tl(t);Ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=sD(e),{host:s,port:a}=iW(e),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ge(ta(c,r.config.emulator)&&ta(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,oW()}function sD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iW(t){const e=sD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:HR(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:HR(s)}}}function HR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zs("not implemented")}_getIdTokenResponse(e){return zs("not implemented")}_linkToIdToken(e,n){return zs("not implemented")}_getReauthenticationResolver(e){return zs("not implemented")}}async function sW(t,e){return Cl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aW(t,e){return Fp(t,"POST","/v1/accounts:signInWithPassword",Sl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lW(t,e){return Fp(t,"POST","/v1/accounts:signInWithEmailLink",Sl(t,e))}async function cW(t,e){return Fp(t,"POST","/v1/accounts:signInWithEmailLink",Sl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np extends nC{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new np(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new np(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return SE(e,n,"signInWithPassword",aW);case"emailLink":return lW(e,{email:this._email,oobCode:this._password});default:bo(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return SE(e,r,"signUpPassword",sW);case"emailLink":return cW(e,{idToken:n,email:this._email,oobCode:this._password});default:bo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(t,e){return Fp(t,"POST","/v1/accounts:signInWithIdp",Sl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW="http://localhost";class dc extends nC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new dc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=XS(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new dc(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Qu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qu(e,n)}buildRequest(){const e={requestUri:uW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fW(t){const e=Yf(Xf(t)).link,n=e?Yf(Xf(e)).deep_link_id:null,r=Yf(Xf(t)).deep_link_id;return(r?Yf(Xf(r)).link:null)||r||n||e||t}class rC{constructor(e){var n,r,i,o,s,a;const l=Yf(Xf(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,f=dW((i=l.mode)!==null&&i!==void 0?i:null);Ge(c&&u&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=fW(e);try{return new rC(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this.providerId=Bd.PROVIDER_ID}static credential(e,n){return np._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=rC.parseLink(n);return Ge(r,"argument-error"),np._fromEmailAndCode(e,r.code,r.tenantId)}}Bd.PROVIDER_ID="password";Bd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends iC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends Bp{constructor(){super("facebook.com")}static credential(e){return dc._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oa.credential(e.oauthAccessToken)}catch{return null}}}Oa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Bp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return dc._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vs.credential(n,r)}catch{return null}}}Vs.GOOGLE_SIGN_IN_METHOD="google.com";Vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Bp{constructor(){super("github.com")}static credential(e){return dc._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Na.credential(e.oauthAccessToken)}catch{return null}}}Na.GITHUB_SIGN_IN_METHOD="github.com";Na.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends Bp{constructor(){super("twitter.com")}static credential(e,n){return dc._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ma.credential(n,r)}catch{return null}}}Ma.TWITTER_SIGN_IN_METHOD="twitter.com";Ma.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hW(t,e){return Fp(t,"POST","/v1/accounts:signUp",Sl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Bo._fromIdTokenResponse(e,r,i),s=GR(r);return new fc({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=GR(r);return new fc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function GR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My extends Ts{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,My.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new My(e,n,r,i)}}function aD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?My._fromErrorAndOperation(t,o,e,r):o})}async function pW(t,e,n=!1){const r=await tp(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gW(t,e,n=!1){const{auth:r}=t;if(Zr(r.app))return Promise.reject(Ks(r));const i="reauthenticate";try{const o=await tp(t,aD(r,i,e,t),n);Ge(o.idToken,r,"internal-error");const s=eC(o.idToken);Ge(s,r,"internal-error");const{sub:a}=s;return Ge(t.uid===a,r,"user-mismatch"),fc._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&bo(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(t,e,n=!1){if(Zr(t.app))return Promise.reject(Ks(t));const r="signIn",i=await aD(t,r,e),o=await fc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function mW(t,e){return lD(Tl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(t){const e=Tl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yW(t,e,n){if(Zr(t.app))return Promise.reject(Ks(t));const r=Tl(t),s=await SE(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hW).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&cD(t),l}),a=await fc._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function vW(t,e,n){return Zr(t.app)?Promise.reject(Ks(t)):mW(Wt(t),Bd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cD(t),r})}function _W(t,e,n,r){return Wt(t).onIdTokenChanged(e,n,r)}function bW(t,e,n){return Wt(t).beforeAuthStateChanged(e,n)}function wW(t,e,n,r){return Wt(t).onAuthStateChanged(e,n,r)}const $y="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($y,"1"),this.storage.removeItem($y),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW=1e3,xW=10;class dD extends uD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);Uz()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,xW):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},EW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dD.type="LOCAL";const SW=dD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD extends uD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fD.type="SESSION";const hD=fD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new t0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await CW(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=oC("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(){return window}function IW(t){ps().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(){return typeof ps().WorkerGlobalScope<"u"&&typeof ps().importScripts=="function"}async function RW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function kW(){return pD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="firebaseLocalStorageDb",AW=1,Dy="firebaseLocalStorage",mD="fbase_key";class Vp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function n0(t,e){return t.transaction([Dy],e?"readwrite":"readonly").objectStore(Dy)}function OW(){const t=indexedDB.deleteDatabase(gD);return new Vp(t).toPromise()}function CE(){const t=indexedDB.open(gD,AW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Dy,{keyPath:mD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Dy)?e(r):(r.close(),await OW(),e(await CE()))})})}async function qR(t,e,n){const r=n0(t,!0).put({[mD]:e,value:n});return new Vp(r).toPromise()}async function NW(t,e){const n=n0(t,!1).get(e),r=await new Vp(n).toPromise();return r===void 0?null:r.value}function KR(t,e){const n=n0(t,!0).delete(e);return new Vp(n).toPromise()}const MW=800,$W=3;class yD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await CE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$W)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=t0._getInstance(kW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await RW(),!this.activeServiceWorker)return;this.sender=new TW(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await CE();return await qR(e,$y,"1"),await KR(e,$y),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>NW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>KR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=n0(i,!1).getAll();return new Vp(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yD.type="LOCAL";const DW=yD;new Lp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t,e){return e?Ws(e):(Ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC extends nC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LW(t){return lD(t.auth,new sC(t),t.bypassAuthState)}function FW(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),gW(n,new sC(t),t.bypassAuthState)}async function BW(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),pW(n,new sC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LW;case"linkViaPopup":case"linkViaRedirect":return BW;case"reauthViaPopup":case"reauthViaRedirect":return FW;default:bo(this.auth,"internal-error")}}resolve(e){ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VW=new Lp(2e3,1e4);async function UW(t,e,n){if(Zr(t.app))return Promise.reject(Ho(t,"operation-not-supported-in-this-environment"));const r=Tl(t);wz(t,e,iC);const i=vD(r,n);return new Yl(r,"signInViaPopup",e,i).executeNotNull()}class Yl extends _D{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Yl.currentPopupAction&&Yl.currentPopupAction.cancel(),Yl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){ia(this.filter.length===1,"Popup operations only handle one event");const e=oC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ho(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ho(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ho(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VW.get())};e()}}Yl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jW="pendingRedirect",Vm=new Map;class zW extends _D{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vm.get(this.auth._key());if(!e){try{const r=await WW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vm.set(this.auth._key(),e)}return this.bypassAuthState||Vm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WW(t,e){const n=qW(e),r=GW(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function HW(t,e){Vm.set(t._key(),e)}function GW(t){return Ws(t._redirectPersistence)}function qW(t){return Bm(jW,t.config.apiKey,t.name)}async function KW(t,e,n=!1){if(Zr(t.app))return Promise.reject(Ks(t));const r=Tl(t),i=vD(r,e),s=await new zW(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW=10*60*1e3;class XW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ho(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YW&&this.cachedEventUids.clear(),this.cachedEventUids.has(YR(e))}saveEventToCache(e){this.cachedEventUids.add(YR(e)),this.lastProcessedEventTime=Date.now()}}function YR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function QW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JW(t,e={}){return Cl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eH=/^https?/;async function tH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await JW(t);for(const n of e)try{if(nH(n))return}catch{}bo(t,"unauthorized-domain")}function nH(t){const e=EE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!eH.test(n))return!1;if(ZW.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH=new Lp(3e4,6e4);function XR(){const t=ps().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function iH(t){return new Promise((e,n)=>{var r,i,o;function s(){XR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XR(),n(Ho(t,"network-request-failed"))},timeout:rH.get()})}if(!((i=(r=ps().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ps().gapi)===null||o===void 0)&&o.load)s();else{const a=Xz("iframefcb");return ps()[a]=()=>{gapi.load?s():n(Ho(t,"network-request-failed"))},iD(`${Yz()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Um=null,e})}let Um=null;function oH(t){return Um=Um||iH(t),Um}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sH=new Lp(5e3,15e3),aH="__/auth/iframe",lH="emulator/auth/iframe",cH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dH(t){const e=t.config;Ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ZS(e,lH):`https://${t.config.authDomain}/${aH}`,r={apiKey:e.apiKey,appName:t.name,v:xl},i=uH.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Fd(r).slice(1)}`}async function fH(t){const e=await oH(t),n=ps().gapi;return Ge(n,t,"internal-error"),e.open({where:document.body,url:dH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cH,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Ho(t,"network-request-failed"),a=ps().setTimeout(()=>{o(s)},sH.get());function l(){ps().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pH=500,gH=600,mH="_blank",yH="http://localhost";class QR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vH(t,e,n,r=pH,i=gH){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},hH),{width:r.toString(),height:i.toString(),top:o,left:s}),c=zr().toLowerCase();n&&(a=Q$(c)?mH:n),Y$(c)&&(e=e||yH,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(Vz(c)&&a!=="_self")return _H(e||"",a),new QR(null);const f=window.open(e||"",a,u);Ge(f,t,"popup-blocked");try{f.focus()}catch{}return new QR(f)}function _H(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH="__/auth/handler",wH="emulator/auth/handler",EH=encodeURIComponent("fac");async function JR(t,e,n,r,i,o){Ge(t.config.authDomain,t,"auth-domain-config-required"),Ge(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xl,eventId:i};if(e instanceof iC){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",mE(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))s[u]=f}if(e instanceof Bp){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${EH}=${encodeURIComponent(l)}`:"";return`${xH(t)}?${Fd(a).slice(1)}${c}`}function xH({config:t}){return t.emulator?ZS(t,wH):`https://${t.authDomain}/${bH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="webStorageSupport";class SH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hD,this._completeRedirectFn=KW,this._overrideRedirectResult=HW}async _openPopup(e,n,r,i){var o;ia((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await JR(e,n,r,EE(),i);return vH(e,s,oC())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await JR(e,n,r,EE(),i);return IW(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ia(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await fH(e),r=new XW(e);return n.register("authEvent",i=>(Ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nb,{type:Nb},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Nb];s!==void 0&&n(!!s),bo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nD()||X$()||tC()}}const CH=SH;var ZR="@firebase/auth",eP="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RH(t){sl(new na("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ge(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rD(t)},c=new Gz(r,i,o,l);return nW(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sl(new na("auth-internal",e=>{const n=Tl(e.getProvider("auth").getImmediate());return(r=>new TH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mo(ZR,eP,IH(t)),mo(ZR,eP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH=5*60,kH=M$("authIdTokenMaxAge")||PH;let tP=null;const AH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kH)return;const i=n==null?void 0:n.token;tP!==i&&(tP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function OH(t=Zv()){const e=Dp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tW(t,{popupRedirectResolver:CH,persistence:[DW,SW,hD]}),r=M$("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=AH(o.toString());bW(n,s,()=>s(n.currentUser)),_W(n,a=>s(a))}}const i=O$("auth");return i&&rW(n,`http://${i}`),n}function NH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}qz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Ho("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",NH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RH("Browser");var nP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ja,wD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,I){function R(){}R.prototype=I.prototype,T.D=I.prototype,T.prototype=new R,T.prototype.constructor=T,T.C=function(v,k,M){for(var P=Array(arguments.length-2),K=2;K<arguments.length;K++)P[K-2]=arguments[K];return I.prototype[k].apply(v,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,I,R){R||(R=0);var v=Array(16);if(typeof I=="string")for(var k=0;16>k;++k)v[k]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(k=0;16>k;++k)v[k]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=T.g[0],R=T.g[1],k=T.g[2];var M=T.g[3],P=I+(M^R&(k^M))+v[0]+3614090360&4294967295;I=R+(P<<7&4294967295|P>>>25),P=M+(k^I&(R^k))+v[1]+3905402710&4294967295,M=I+(P<<12&4294967295|P>>>20),P=k+(R^M&(I^R))+v[2]+606105819&4294967295,k=M+(P<<17&4294967295|P>>>15),P=R+(I^k&(M^I))+v[3]+3250441966&4294967295,R=k+(P<<22&4294967295|P>>>10),P=I+(M^R&(k^M))+v[4]+4118548399&4294967295,I=R+(P<<7&4294967295|P>>>25),P=M+(k^I&(R^k))+v[5]+1200080426&4294967295,M=I+(P<<12&4294967295|P>>>20),P=k+(R^M&(I^R))+v[6]+2821735955&4294967295,k=M+(P<<17&4294967295|P>>>15),P=R+(I^k&(M^I))+v[7]+4249261313&4294967295,R=k+(P<<22&4294967295|P>>>10),P=I+(M^R&(k^M))+v[8]+1770035416&4294967295,I=R+(P<<7&4294967295|P>>>25),P=M+(k^I&(R^k))+v[9]+2336552879&4294967295,M=I+(P<<12&4294967295|P>>>20),P=k+(R^M&(I^R))+v[10]+4294925233&4294967295,k=M+(P<<17&4294967295|P>>>15),P=R+(I^k&(M^I))+v[11]+2304563134&4294967295,R=k+(P<<22&4294967295|P>>>10),P=I+(M^R&(k^M))+v[12]+1804603682&4294967295,I=R+(P<<7&4294967295|P>>>25),P=M+(k^I&(R^k))+v[13]+4254626195&4294967295,M=I+(P<<12&4294967295|P>>>20),P=k+(R^M&(I^R))+v[14]+2792965006&4294967295,k=M+(P<<17&4294967295|P>>>15),P=R+(I^k&(M^I))+v[15]+1236535329&4294967295,R=k+(P<<22&4294967295|P>>>10),P=I+(k^M&(R^k))+v[1]+4129170786&4294967295,I=R+(P<<5&4294967295|P>>>27),P=M+(R^k&(I^R))+v[6]+3225465664&4294967295,M=I+(P<<9&4294967295|P>>>23),P=k+(I^R&(M^I))+v[11]+643717713&4294967295,k=M+(P<<14&4294967295|P>>>18),P=R+(M^I&(k^M))+v[0]+3921069994&4294967295,R=k+(P<<20&4294967295|P>>>12),P=I+(k^M&(R^k))+v[5]+3593408605&4294967295,I=R+(P<<5&4294967295|P>>>27),P=M+(R^k&(I^R))+v[10]+38016083&4294967295,M=I+(P<<9&4294967295|P>>>23),P=k+(I^R&(M^I))+v[15]+3634488961&4294967295,k=M+(P<<14&4294967295|P>>>18),P=R+(M^I&(k^M))+v[4]+3889429448&4294967295,R=k+(P<<20&4294967295|P>>>12),P=I+(k^M&(R^k))+v[9]+568446438&4294967295,I=R+(P<<5&4294967295|P>>>27),P=M+(R^k&(I^R))+v[14]+3275163606&4294967295,M=I+(P<<9&4294967295|P>>>23),P=k+(I^R&(M^I))+v[3]+4107603335&4294967295,k=M+(P<<14&4294967295|P>>>18),P=R+(M^I&(k^M))+v[8]+1163531501&4294967295,R=k+(P<<20&4294967295|P>>>12),P=I+(k^M&(R^k))+v[13]+2850285829&4294967295,I=R+(P<<5&4294967295|P>>>27),P=M+(R^k&(I^R))+v[2]+4243563512&4294967295,M=I+(P<<9&4294967295|P>>>23),P=k+(I^R&(M^I))+v[7]+1735328473&4294967295,k=M+(P<<14&4294967295|P>>>18),P=R+(M^I&(k^M))+v[12]+2368359562&4294967295,R=k+(P<<20&4294967295|P>>>12),P=I+(R^k^M)+v[5]+4294588738&4294967295,I=R+(P<<4&4294967295|P>>>28),P=M+(I^R^k)+v[8]+2272392833&4294967295,M=I+(P<<11&4294967295|P>>>21),P=k+(M^I^R)+v[11]+1839030562&4294967295,k=M+(P<<16&4294967295|P>>>16),P=R+(k^M^I)+v[14]+4259657740&4294967295,R=k+(P<<23&4294967295|P>>>9),P=I+(R^k^M)+v[1]+2763975236&4294967295,I=R+(P<<4&4294967295|P>>>28),P=M+(I^R^k)+v[4]+1272893353&4294967295,M=I+(P<<11&4294967295|P>>>21),P=k+(M^I^R)+v[7]+4139469664&4294967295,k=M+(P<<16&4294967295|P>>>16),P=R+(k^M^I)+v[10]+3200236656&4294967295,R=k+(P<<23&4294967295|P>>>9),P=I+(R^k^M)+v[13]+681279174&4294967295,I=R+(P<<4&4294967295|P>>>28),P=M+(I^R^k)+v[0]+3936430074&4294967295,M=I+(P<<11&4294967295|P>>>21),P=k+(M^I^R)+v[3]+3572445317&4294967295,k=M+(P<<16&4294967295|P>>>16),P=R+(k^M^I)+v[6]+76029189&4294967295,R=k+(P<<23&4294967295|P>>>9),P=I+(R^k^M)+v[9]+3654602809&4294967295,I=R+(P<<4&4294967295|P>>>28),P=M+(I^R^k)+v[12]+3873151461&4294967295,M=I+(P<<11&4294967295|P>>>21),P=k+(M^I^R)+v[15]+530742520&4294967295,k=M+(P<<16&4294967295|P>>>16),P=R+(k^M^I)+v[2]+3299628645&4294967295,R=k+(P<<23&4294967295|P>>>9),P=I+(k^(R|~M))+v[0]+4096336452&4294967295,I=R+(P<<6&4294967295|P>>>26),P=M+(R^(I|~k))+v[7]+1126891415&4294967295,M=I+(P<<10&4294967295|P>>>22),P=k+(I^(M|~R))+v[14]+2878612391&4294967295,k=M+(P<<15&4294967295|P>>>17),P=R+(M^(k|~I))+v[5]+4237533241&4294967295,R=k+(P<<21&4294967295|P>>>11),P=I+(k^(R|~M))+v[12]+1700485571&4294967295,I=R+(P<<6&4294967295|P>>>26),P=M+(R^(I|~k))+v[3]+2399980690&4294967295,M=I+(P<<10&4294967295|P>>>22),P=k+(I^(M|~R))+v[10]+4293915773&4294967295,k=M+(P<<15&4294967295|P>>>17),P=R+(M^(k|~I))+v[1]+2240044497&4294967295,R=k+(P<<21&4294967295|P>>>11),P=I+(k^(R|~M))+v[8]+1873313359&4294967295,I=R+(P<<6&4294967295|P>>>26),P=M+(R^(I|~k))+v[15]+4264355552&4294967295,M=I+(P<<10&4294967295|P>>>22),P=k+(I^(M|~R))+v[6]+2734768916&4294967295,k=M+(P<<15&4294967295|P>>>17),P=R+(M^(k|~I))+v[13]+1309151649&4294967295,R=k+(P<<21&4294967295|P>>>11),P=I+(k^(R|~M))+v[4]+4149444226&4294967295,I=R+(P<<6&4294967295|P>>>26),P=M+(R^(I|~k))+v[11]+3174756917&4294967295,M=I+(P<<10&4294967295|P>>>22),P=k+(I^(M|~R))+v[2]+718787259&4294967295,k=M+(P<<15&4294967295|P>>>17),P=R+(M^(k|~I))+v[9]+3951481745&4294967295,T.g[0]=T.g[0]+I&4294967295,T.g[1]=T.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,T.g[2]=T.g[2]+k&4294967295,T.g[3]=T.g[3]+M&4294967295}r.prototype.u=function(T,I){I===void 0&&(I=T.length);for(var R=I-this.blockSize,v=this.B,k=this.h,M=0;M<I;){if(k==0)for(;M<=R;)i(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<I;)if(v[k++]=T.charCodeAt(M++),k==this.blockSize){i(this,v),k=0;break}}else for(;M<I;)if(v[k++]=T[M++],k==this.blockSize){i(this,v),k=0;break}}this.h=k,this.o+=I},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var I=1;I<T.length-8;++I)T[I]=0;var R=8*this.o;for(I=T.length-8;I<T.length;++I)T[I]=R&255,R/=256;for(this.u(T),T=Array(16),I=R=0;4>I;++I)for(var v=0;32>v;v+=8)T[R++]=this.g[I]>>>v&255;return T};function o(T,I){var R=a;return Object.prototype.hasOwnProperty.call(R,T)?R[T]:R[T]=I(T)}function s(T,I){this.h=I;for(var R=[],v=!0,k=T.length-1;0<=k;k--){var M=T[k]|0;v&&M==I||(R[k]=M,v=!1)}this.g=R}var a={};function l(T){return-128<=T&&128>T?o(T,function(I){return new s([I|0],0>I?-1:0)}):new s([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return x(c(-T));for(var I=[],R=1,v=0;T>=R;v++)I[v]=T/R|0,R*=4294967296;return new s(I,0)}function u(T,I){if(T.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T.charAt(0)=="-")return x(u(T.substring(1),I));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(I,8)),v=f,k=0;k<T.length;k+=8){var M=Math.min(8,T.length-k),P=parseInt(T.substring(k,k+M),I);8>M?(M=c(Math.pow(I,M)),v=v.j(M).add(c(P))):(v=v.j(R),v=v.add(c(P)))}return v}var f=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(E(this))return-x(this).m();for(var T=0,I=1,R=0;R<this.g.length;R++){var v=this.i(R);T+=(0<=v?v:4294967296+v)*I,I*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(E(this))return"-"+x(this).toString(T);for(var I=c(Math.pow(T,6)),R=this,v="";;){var k=S(R,I).g;R=y(R,k.j(I));var M=((0<R.g.length?R.g[0]:R.h)>>>0).toString(T);if(R=k,g(R))return M+v;for(;6>M.length;)M="0"+M;v=M+v}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var I=0;I<T.g.length;I++)if(T.g[I]!=0)return!1;return!0}function E(T){return T.h==-1}t.l=function(T){return T=y(this,T),E(T)?-1:g(T)?0:1};function x(T){for(var I=T.g.length,R=[],v=0;v<I;v++)R[v]=~T.g[v];return new s(R,~T.h).add(h)}t.abs=function(){return E(this)?x(this):this},t.add=function(T){for(var I=Math.max(this.g.length,T.g.length),R=[],v=0,k=0;k<=I;k++){var M=v+(this.i(k)&65535)+(T.i(k)&65535),P=(M>>>16)+(this.i(k)>>>16)+(T.i(k)>>>16);v=P>>>16,M&=65535,P&=65535,R[k]=P<<16|M}return new s(R,R[R.length-1]&-2147483648?-1:0)};function y(T,I){return T.add(x(I))}t.j=function(T){if(g(this)||g(T))return f;if(E(this))return E(T)?x(this).j(x(T)):x(x(this).j(T));if(E(T))return x(this.j(x(T)));if(0>this.l(p)&&0>T.l(p))return c(this.m()*T.m());for(var I=this.g.length+T.g.length,R=[],v=0;v<2*I;v++)R[v]=0;for(v=0;v<this.g.length;v++)for(var k=0;k<T.g.length;k++){var M=this.i(v)>>>16,P=this.i(v)&65535,K=T.i(k)>>>16,H=T.i(k)&65535;R[2*v+2*k]+=P*H,b(R,2*v+2*k),R[2*v+2*k+1]+=M*H,b(R,2*v+2*k+1),R[2*v+2*k+1]+=P*K,b(R,2*v+2*k+1),R[2*v+2*k+2]+=M*K,b(R,2*v+2*k+2)}for(v=0;v<I;v++)R[v]=R[2*v+1]<<16|R[2*v];for(v=I;v<2*I;v++)R[v]=0;return new s(R,0)};function b(T,I){for(;(T[I]&65535)!=T[I];)T[I+1]+=T[I]>>>16,T[I]&=65535,I++}function _(T,I){this.g=T,this.h=I}function S(T,I){if(g(I))throw Error("division by zero");if(g(T))return new _(f,f);if(E(T))return I=S(x(T),I),new _(x(I.g),x(I.h));if(E(I))return I=S(T,x(I)),new _(x(I.g),I.h);if(30<T.g.length){if(E(T)||E(I))throw Error("slowDivide_ only works with positive integers.");for(var R=h,v=I;0>=v.l(T);)R=O(R),v=O(v);var k=N(R,1),M=N(v,1);for(v=N(v,2),R=N(R,2);!g(v);){var P=M.add(v);0>=P.l(T)&&(k=k.add(R),M=P),v=N(v,1),R=N(R,1)}return I=y(T,k.j(I)),new _(k,I)}for(k=f;0<=T.l(I);){for(R=Math.max(1,Math.floor(T.m()/I.m())),v=Math.ceil(Math.log(R)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),M=c(R),P=M.j(I);E(P)||0<P.l(T);)R-=v,M=c(R),P=M.j(I);g(M)&&(M=h),k=k.add(M),T=y(T,P)}return new _(k,T)}t.A=function(T){return S(this,T).h},t.and=function(T){for(var I=Math.max(this.g.length,T.g.length),R=[],v=0;v<I;v++)R[v]=this.i(v)&T.i(v);return new s(R,this.h&T.h)},t.or=function(T){for(var I=Math.max(this.g.length,T.g.length),R=[],v=0;v<I;v++)R[v]=this.i(v)|T.i(v);return new s(R,this.h|T.h)},t.xor=function(T){for(var I=Math.max(this.g.length,T.g.length),R=[],v=0;v<I;v++)R[v]=this.i(v)^T.i(v);return new s(R,this.h^T.h)};function O(T){for(var I=T.g.length+1,R=[],v=0;v<I;v++)R[v]=T.i(v)<<1|T.i(v-1)>>>31;return new s(R,T.h)}function N(T,I){var R=I>>5;I%=32;for(var v=T.g.length-R,k=[],M=0;M<v;M++)k[M]=0<I?T.i(M+R)>>>I|T.i(M+R+1)<<32-I:T.i(M+R);return new s(k,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wD=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Ja=s}).apply(typeof nP<"u"?nP:typeof self<"u"?self:typeof window<"u"?window:{});var Yg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ED,Qf,xD,jm,TE,SD,CD,TD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,m,C){return d==Array.prototype||d==Object.prototype||(d[m]=C.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yg=="object"&&Yg];for(var m=0;m<d.length;++m){var C=d[m];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(d,m){if(m)e:{var C=r;d=d.split(".");for(var $=0;$<d.length-1;$++){var U=d[$];if(!(U in C))break e;C=C[U]}d=d[d.length-1],$=C[d],m=m($),m!=$&&m!=null&&e(C,d,{configurable:!0,writable:!0,value:m})}}function o(d,m){d instanceof String&&(d+="");var C=0,$=!1,U={next:function(){if(!$&&C<d.length){var q=C++;return{value:m(q,d[q]),done:!1}}return $=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}i("Array.prototype.values",function(d){return d||function(){return o(this,function(m,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(d){var m=typeof d;return m=m!="object"?m:d?Array.isArray(d)?"array":m:"null",m=="array"||m=="object"&&typeof d.length=="number"}function c(d){var m=typeof d;return m=="object"&&d!=null||m=="function"}function u(d,m,C){return d.call.apply(d.bind,arguments)}function f(d,m,C){if(!d)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,$),d.apply(m,U)}}return function(){return d.apply(m,arguments)}}function h(d,m,C){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(d,m){var C=Array.prototype.slice.call(arguments,1);return function(){var $=C.slice();return $.push.apply($,arguments),d.apply(this,$)}}function g(d,m){function C(){}C.prototype=m.prototype,d.aa=m.prototype,d.prototype=new C,d.prototype.constructor=d,d.Qb=function($,U,q){for(var fe=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)fe[Qt-2]=arguments[Qt];return m.prototype[U].apply($,fe)}}function E(d){const m=d.length;if(0<m){const C=Array(m);for(let $=0;$<m;$++)C[$]=d[$];return C}return[]}function x(d,m){for(let C=1;C<arguments.length;C++){const $=arguments[C];if(l($)){const U=d.length||0,q=$.length||0;d.length=U+q;for(let fe=0;fe<q;fe++)d[U+fe]=$[fe]}else d.push($)}}class y{constructor(m,C){this.i=m,this.j=C,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function b(d){return/^[\s\xa0]*$/.test(d)}function _(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function S(d){return S[" "](d),d}S[" "]=function(){};var O=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function N(d,m,C){for(const $ in d)m.call(C,d[$],$,d)}function T(d,m){for(const C in d)m.call(void 0,d[C],C,d)}function I(d){const m={};for(const C in d)m[C]=d[C];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(d,m){let C,$;for(let U=1;U<arguments.length;U++){$=arguments[U];for(C in $)d[C]=$[C];for(let q=0;q<R.length;q++)C=R[q],Object.prototype.hasOwnProperty.call($,C)&&(d[C]=$[C])}}function k(d){var m=1;d=d.split(":");const C=[];for(;0<m&&d.length;)C.push(d.shift()),m--;return d.length&&C.push(d.join(":")),C}function M(d){a.setTimeout(()=>{throw d},0)}function P(){var d=B;let m=null;return d.g&&(m=d.g,d.g=d.g.next,d.g||(d.h=null),m.next=null),m}class K{constructor(){this.h=this.g=null}add(m,C){const $=H.get();$.set(m,C),this.h?this.h.next=$:this.g=$,this.h=$}}var H=new y(()=>new W,d=>d.reset());class W{constructor(){this.next=this.g=this.h=null}set(m,C){this.h=m,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let G,V=!1,B=new K,Q=()=>{const d=a.Promise.resolve(void 0);G=()=>{d.then(oe)}};var oe=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(C){M(C)}var m=H;m.j(d),100>m.h&&(m.h++,d.next=m.g,m.g=d)}V=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(d,m){this.type=d,this.g=this.target=m,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var re=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,m=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const C=()=>{};a.addEventListener("test",C,m),a.removeEventListener("test",C,m)}catch{}return d}();function ie(d,m){if(ge.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var C=this.type=d.type,$=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=m,m=d.relatedTarget){if(O){e:{try{S(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else C=="mouseover"?m=d.fromElement:C=="mouseout"&&(m=d.toElement);this.relatedTarget=m,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:De[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ie.aa.h.call(this)}}g(ie,ge);var De={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function Le(d,m,C,$,U){this.listener=d,this.proxy=null,this.src=m,this.type=C,this.capture=!!$,this.ha=U,this.key=++Ae,this.da=this.fa=!1}function _e(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Fe(d){this.src=d,this.g={},this.h=0}Fe.prototype.add=function(d,m,C,$,U){var q=d.toString();d=this.g[q],d||(d=this.g[q]=[],this.h++);var fe=$e(d,m,$,U);return-1<fe?(m=d[fe],C||(m.fa=!1)):(m=new Le(m,this.src,q,!!$,U),m.fa=C,d.push(m)),m};function Ne(d,m){var C=m.type;if(C in d.g){var $=d.g[C],U=Array.prototype.indexOf.call($,m,void 0),q;(q=0<=U)&&Array.prototype.splice.call($,U,1),q&&(_e(m),d.g[C].length==0&&(delete d.g[C],d.h--))}}function $e(d,m,C,$){for(var U=0;U<d.length;++U){var q=d[U];if(!q.da&&q.listener==m&&q.capture==!!C&&q.ha==$)return U}return-1}var je="closure_lm_"+(1e6*Math.random()|0),ze={};function Nt(d,m,C,$,U){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Nt(d,m[q],C,$,U);return null}return C=En(C),d&&d[Ue]?d.K(m,C,c($)?!!$.capture:!1,U):me(d,m,C,!1,$,U)}function me(d,m,C,$,U,q){if(!m)throw Error("Invalid event type");var fe=c(U)?!!U.capture:!!U,Qt=nn(d);if(Qt||(d[je]=Qt=new Fe(d)),C=Qt.add(m,C,$,fe,q),C.proxy)return C;if($=Rt(),C.proxy=$,$.src=d,$.listener=C,d.addEventListener)re||(U=fe),U===void 0&&(U=!1),d.addEventListener(m.toString(),$,U);else if(d.attachEvent)d.attachEvent(at(m.toString()),$);else if(d.addListener&&d.removeListener)d.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Rt(){function d(C){return m.call(d.src,d.listener,C)}const m=ke;return d}function We(d,m,C,$,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)We(d,m[q],C,$,U);else $=c($)?!!$.capture:!!$,C=En(C),d&&d[Ue]?(d=d.i,m=String(m).toString(),m in d.g&&(q=d.g[m],C=$e(q,C,$,U),-1<C&&(_e(q[C]),Array.prototype.splice.call(q,C,1),q.length==0&&(delete d.g[m],d.h--)))):d&&(d=nn(d))&&(m=d.g[m.toString()],d=-1,m&&(d=$e(m,C,$,U)),(C=-1<d?m[d]:null)&&gt(C))}function gt(d){if(typeof d!="number"&&d&&!d.da){var m=d.src;if(m&&m[Ue])Ne(m.i,d);else{var C=d.type,$=d.proxy;m.removeEventListener?m.removeEventListener(C,$,d.capture):m.detachEvent?m.detachEvent(at(C),$):m.addListener&&m.removeListener&&m.removeListener($),(C=nn(m))?(Ne(C,d),C.h==0&&(C.src=null,m[je]=null)):_e(d)}}}function at(d){return d in ze?ze[d]:ze[d]="on"+d}function ke(d,m){if(d.da)d=!0;else{m=new ie(m,this);var C=d.listener,$=d.ha||d.src;d.fa&&gt(d),d=C.call($,m)}return d}function nn(d){return d=d[je],d instanceof Fe?d:null}var ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(d){return typeof d=="function"?d:(d[ot]||(d[ot]=function(m){return d.handleEvent(m)}),d[ot])}function St(){he.call(this),this.i=new Fe(this),this.M=this,this.F=null}g(St,he),St.prototype[Ue]=!0,St.prototype.removeEventListener=function(d,m,C,$){We(this,d,m,C,$)};function _t(d,m){var C,$=d.F;if($)for(C=[];$;$=$.F)C.push($);if(d=d.M,$=m.type||m,typeof m=="string")m=new ge(m,d);else if(m instanceof ge)m.target=m.target||d;else{var U=m;m=new ge($,d),v(m,U)}if(U=!0,C)for(var q=C.length-1;0<=q;q--){var fe=m.g=C[q];U=Ct(fe,$,!0,m)&&U}if(fe=m.g=d,U=Ct(fe,$,!0,m)&&U,U=Ct(fe,$,!1,m)&&U,C)for(q=0;q<C.length;q++)fe=m.g=C[q],U=Ct(fe,$,!1,m)&&U}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var d=this.i,m;for(m in d.g){for(var C=d.g[m],$=0;$<C.length;$++)_e(C[$]);delete d.g[m],d.h--}}this.F=null},St.prototype.K=function(d,m,C,$){return this.i.add(String(d),m,!1,C,$)},St.prototype.L=function(d,m,C,$){return this.i.add(String(d),m,!0,C,$)};function Ct(d,m,C,$){if(m=d.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,q=0;q<m.length;++q){var fe=m[q];if(fe&&!fe.da&&fe.capture==C){var Qt=fe.listener,vr=fe.ha||fe.src;fe.fa&&Ne(d.i,fe),U=Qt.call(vr,$)!==!1&&U}}return U&&!$.defaultPrevented}function Vt(d,m,C){if(typeof d=="function")C&&(d=h(d,C));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(d,m||0)}function ut(d){d.g=Vt(()=>{d.g=null,d.i&&(d.i=!1,ut(d))},d.l);const m=d.h;d.h=null,d.m.apply(null,m)}class Xe extends he{constructor(m,C){super(),this.m=m,this.l=C,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ut(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xn(d){he.call(this),this.h=d,this.g={}}g(xn,he);var Vn=[];function Wr(d){N(d.g,function(m,C){this.g.hasOwnProperty(C)&&gt(m)},d),d.g={}}xn.prototype.N=function(){xn.aa.N.call(this),Wr(this)},xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xe=a.JSON.stringify,Ie=a.JSON.parse,Yt=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Un(){}Un.prototype.h=null;function Hr(d){return d.h||(d.h=d.i())}function pr(){}var Cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jn(){ge.call(this,"d")}g(jn,ge);function Pi(){ge.call(this,"c")}g(Pi,ge);var rn={},to=null;function no(){return to=to||new St}rn.La="serverreachability";function ki(d){ge.call(this,rn.La,d)}g(ki,ge);function gr(d){const m=no();_t(m,new ki(m))}rn.STAT_EVENT="statevent";function ye(d,m){ge.call(this,rn.STAT_EVENT,d),this.stat=m}g(ye,ge);function de(d){const m=no();_t(m,new ye(m,d))}rn.Ma="timingevent";function lt(d,m){ge.call(this,rn.Ma,d),this.size=m}g(lt,ge);function et(d,m){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},m)}function Mt(){this.g=!0}Mt.prototype.xa=function(){this.g=!1};function mr(d,m,C,$,U,q){d.info(function(){if(d.g)if(q)for(var fe="",Qt=q.split("&"),vr=0;vr<Qt.length;vr++){var Ft=Qt[vr].split("=");if(1<Ft.length){var Rr=Ft[0];Ft=Ft[1];var Pr=Rr.split("_");fe=2<=Pr.length&&Pr[1]=="type"?fe+(Rr+"="+Ft+"&"):fe+(Rr+"=redacted&")}}else fe=null;else fe=q;return"XMLHTTP REQ ("+$+") [attempt "+U+"]: "+m+`
`+C+`
`+fe})}function si(d,m,C,$,U,q,fe){d.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+U+"]: "+m+`
`+C+`
`+q+" "+fe})}function yr(d,m,C,$){d.info(function(){return"XMLHTTP TEXT ("+m+"): "+Sn(d,C)+($?" "+$:"")})}function Io(d,m){d.info(function(){return"TIMEOUT: "+m})}Mt.prototype.info=function(){};function Sn(d,m){if(!d.g)return m;if(!m)return null;try{var C=JSON.parse(m);if(C){for(d=0;d<C.length;d++)if(Array.isArray(C[d])){var $=C[d];if(!(2>$.length)){var U=$[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var fe=1;fe<U.length;fe++)U[fe]=""}}}}return xe(C)}catch{return m}}var mn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},As;function Z(){}g(Z,Un),Z.prototype.g=function(){return new XMLHttpRequest},Z.prototype.i=function(){return{}},As=new Z;function X(d,m,C,$){this.j=d,this.i=m,this.l=C,this.R=$||1,this.U=new xn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Se}function Se(){this.i=null,this.g="",this.h=!1}var Qe={},ct={};function Dt(d,m,C){d.L=1,d.v=Hc(ro(m)),d.m=C,d.P=!0,yn(d,null)}function yn(d,m){d.F=Date.now(),Al(d),d.A=ro(d.v);var C=d.A,$=d.R;Array.isArray($)||($=[String($)]),gf(C.i,"t",$),d.C=0,C=d.j.J,d.h=new Se,d.g=Yc(d.j,C?m:null,!d.m),0<d.O&&(d.M=new Xe(h(d.Y,d,d.g),d.O)),m=d.U,C=d.g,$=d.ca;var U="readystatechange";Array.isArray(U)||(U&&(Vn[0]=U.toString()),U=Vn);for(var q=0;q<U.length;q++){var fe=Nt(C,U[q],$||m.handleEvent,!1,m.h||m);if(!fe)break;m.g[fe.key]=fe}m=d.H?I(d.H):{},d.m?(d.u||(d.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,m)):(d.u="GET",d.g.ea(d.A,d.u,null,m)),gr(),mr(d.i,d.u,d.A,d.l,d.R,d.m)}X.prototype.ca=function(d){d=d.target;const m=this.M;m&&ee(d)==3?m.j():this.Y(d)},X.prototype.Y=function(d){try{if(d==this.g)e:{const Pr=ee(this.g);var m=this.g.Ba();const Qc=this.g.Z();if(!(3>Pr)&&(Pr!=3||this.g&&(this.h.h||this.g.oa()||ce(this.g)))){this.J||Pr!=4||m==7||(m==8||0>=Qc?gr(3):gr(2)),Os(this);var C=this.g.Z();this.X=C;t:if(Tr(this)){var $=ce(this.g);d="";var U=$.length,q=ee(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dt(this),Ro(this);var fe="";break t}this.h.i=new a.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,d+=this.h.i.decode($[m],{stream:!(q&&m==U-1)});$.length=0,this.h.g+=d,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=C==200,si(this.i,this.u,this.A,this.l,this.R,Pr,C),this.o){if(this.T&&!this.K){t:{if(this.g){var Qt,vr=this.g;if((Qt=vr.g?vr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Qt)){var Ft=Qt;break t}}Ft=null}if(C=Ft)yr(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gr(this,C);else{this.o=!1,this.s=3,de(12),dt(this),Ro(this);break e}}if(this.P){C=!0;let Ao;for(;!this.J&&this.C<fe.length;)if(Ao=Fc(this,fe),Ao==ct){Pr==4&&(this.s=4,de(14),C=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ao==Qe){this.s=4,de(15),yr(this.i,this.l,fe,"[Invalid Chunk]"),C=!1;break}else yr(this.i,this.l,Ao,null),Gr(this,Ao);if(Tr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pr!=4||fe.length!=0||this.h.h||(this.s=1,de(16),C=!1),this.o=this.o&&C,!C)yr(this.i,this.l,fe,"[Invalid Chunked Response]"),dt(this),Ro(this);else if(0<fe.length&&!this.W){this.W=!0;var Rr=this.j;Rr.g==this&&Rr.ba&&!Rr.M&&(Rr.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Kr(Rr),Rr.M=!0,de(11))}}else yr(this.i,this.l,fe,null),Gr(this,fe);Pr==4&&dt(this),this.o&&!this.J&&(Pr==4?Yr(this.j,this):(this.o=!1,Al(this)))}else ve(this.g),C==400&&0<fe.indexOf("Unknown SID")?(this.s=3,de(12)):(this.s=0,de(13)),dt(this),Ro(this)}}}catch{}finally{}};function Tr(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Fc(d,m){var C=d.C,$=m.indexOf(`
`,C);return $==-1?ct:(C=Number(m.substring(C,$)),isNaN(C)?Qe:($+=1,$+C>m.length?ct:(m=m.slice($,$+C),d.C=$+C,m)))}X.prototype.cancel=function(){this.J=!0,dt(this)};function Al(d){d.S=Date.now()+d.I,Bc(d,d.I)}function Bc(d,m){if(d.B!=null)throw Error("WatchDog timer not null");d.B=et(h(d.ba,d),m)}function Os(d){d.B&&(a.clearTimeout(d.B),d.B=null)}X.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Io(this.i,this.A),this.L!=2&&(gr(),de(17)),dt(this),this.s=2,Ro(this)):Bc(this,this.S-d)};function Ro(d){d.j.G==0||d.J||Yr(d.j,d)}function dt(d){Os(d);var m=d.M;m&&typeof m.ma=="function"&&m.ma(),d.M=null,Wr(d.U),d.g&&(m=d.g,d.g=null,m.abort(),m.ma())}function Gr(d,m){try{var C=d.j;if(C.G!=0&&(C.g==d||Vc(C.h,d))){if(!d.K&&Vc(C.h,d)&&C.G==3){try{var $=C.Da.g.parse(m)}catch{$=null}if(Array.isArray($)&&$.length==3){var U=$;if(U[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<d.F)bt(C),Be(C);else break e;qr(C),de(18)}}else C.za=U[1],0<C.za-C.T&&37500>U[2]&&C.F&&C.v==0&&!C.C&&(C.C=et(h(C.Za,C),6e3));if(1>=Nl(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else oo(C,11)}else if((d.K||C.g==d)&&bt(C),!b(m))for(U=C.Da.g.parse(m),m=0;m<U.length;m++){let Ft=U[m];if(C.T=Ft[0],Ft=Ft[1],C.G==2)if(Ft[0]=="c"){C.K=Ft[1],C.ia=Ft[2];const Rr=Ft[3];Rr!=null&&(C.la=Rr,C.j.info("VER="+C.la));const Pr=Ft[4];Pr!=null&&(C.Aa=Pr,C.j.info("SVER="+C.Aa));const Qc=Ft[5];Qc!=null&&typeof Qc=="number"&&0<Qc&&($=1.5*Qc,C.L=$,C.j.info("backChannelRequestTimeoutMs_="+$)),$=C;const Ao=d.g;if(Ao){const Rg=Ao.g?Ao.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rg){var q=$.h;q.g||Rg.indexOf("spdy")==-1&&Rg.indexOf("quic")==-1&&Rg.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(hf(q,q.h),q.h=null))}if($.D){const J_=Ao.g?Ao.g.getResponseHeader("X-HTTP-Session-Id"):null;J_&&($.ya=J_,Xt($.I,$.D,J_))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-d.F,C.j.info("Handshake RTT: "+C.R+"ms")),$=C;var fe=d;if($.qa=wa($,$.J?$.ia:null,$.W),fe.K){wg($.h,fe);var Qt=fe,vr=$.L;vr&&(Qt.I=vr),Qt.B&&(Os(Qt),Al(Qt)),$.g=fe}else li($);0<C.i.length&&Lt(C)}else Ft[0]!="stop"&&Ft[0]!="close"||oo(C,7);else C.G==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?oo(C,7):we(C):Ft[0]!="noop"&&C.l&&C.l.ta(Ft),C.v=0)}}gr(4)}catch{}}var Po=class{constructor(d,m){this.g=d,this.map=m}};function es(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ol(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Nl(d){return d.h?1:d.g?d.g.size:0}function Vc(d,m){return d.h?d.h==m:d.g?d.g.has(m):!1}function hf(d,m){d.g?d.g.add(m):d.h=m}function wg(d,m){d.h&&d.h==m?d.h=null:d.g&&d.g.has(m)&&d.g.delete(m)}es.prototype.cancel=function(){if(this.i=ts(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ts(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let m=d.i;for(const C of d.g.values())m=m.concat(C.D);return m}return E(d.i)}function Uc(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var m=[],C=d.length,$=0;$<C;$++)m.push(d[$]);return m}m=[],C=0;for($ in d)m[C++]=d[$];return m}function jc(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var m=[];d=d.length;for(var C=0;C<d;C++)m.push(C);return m}m=[],C=0;for(const $ in d)m[C++]=$;return m}}}function Eg(d,m){if(d.forEach&&typeof d.forEach=="function")d.forEach(m,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,m,void 0);else for(var C=jc(d),$=Uc(d),U=$.length,q=0;q<U;q++)m.call(void 0,$[q],C&&C[q],d)}var xg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function V_(d,m){if(d){d=d.split("&");for(var C=0;C<d.length;C++){var $=d[C].indexOf("="),U=null;if(0<=$){var q=d[C].substring(0,$);U=d[C].substring($+1)}else q=d[C];m(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ir(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ir){this.h=d.h,zc(this,d.j),this.o=d.o,this.g=d.g,Wc(this,d.s),this.l=d.l;var m=d.i,C=new $l;C.i=m.i,m.g&&(C.g=new Map(m.g),C.h=m.h),Sg(this,C),this.m=d.m}else d&&(m=String(d).match(xg))?(this.h=!1,zc(this,m[1]||"",!0),this.o=Ml(m[2]||""),this.g=Ml(m[3]||"",!0),Wc(this,m[4]),this.l=Ml(m[5]||"",!0),Sg(this,m[6]||"",!0),this.m=Ml(m[7]||"")):(this.h=!1,this.i=new $l(null,this.h))}ir.prototype.toString=function(){var d=[],m=this.j;m&&d.push(ya(m,Cg,!0),":");var C=this.g;return(C||m=="file")&&(d.push("//"),(m=this.o)&&d.push(ya(m,Cg,!0),"@"),d.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&d.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&d.push("/"),d.push(ya(C,C.charAt(0)=="/"?z_:j_,!0))),(C=this.i.toString())&&d.push("?",C),(C=this.m)&&d.push("#",ya(C,H_)),d.join("")};function ro(d){return new ir(d)}function zc(d,m,C){d.j=C?Ml(m,!0):m,d.j&&(d.j=d.j.replace(/:$/,""))}function Wc(d,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);d.s=m}else d.s=null}function Sg(d,m,C){m instanceof $l?(d.i=m,G_(d.i,d.h)):(C||(m=ya(m,W_)),d.i=new $l(m,d.h))}function Xt(d,m,C){d.i.set(m,C)}function Hc(d){return Xt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ml(d,m){return d?m?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ya(d,m,C){return typeof d=="string"?(d=encodeURI(d).replace(m,U_),C&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function U_(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Cg=/[#\/\?@]/g,j_=/[#\?:]/g,z_=/[#\?]/g,W_=/[#\?@]/g,H_=/#/g;function $l(d,m){this.h=this.g=null,this.i=d||null,this.j=!!m}function ns(d){d.g||(d.g=new Map,d.h=0,d.i&&V_(d.i,function(m,C){d.add(decodeURIComponent(m.replace(/\+/g," ")),C)}))}t=$l.prototype,t.add=function(d,m){ns(this),this.i=null,d=va(this,d);var C=this.g.get(d);return C||this.g.set(d,C=[]),C.push(m),this.h+=1,this};function Tg(d,m){ns(d),m=va(d,m),d.g.has(m)&&(d.i=null,d.h-=d.g.get(m).length,d.g.delete(m))}function pf(d,m){return ns(d),m=va(d,m),d.g.has(m)}t.forEach=function(d,m){ns(this),this.g.forEach(function(C,$){C.forEach(function(U){d.call(m,U,$,this)},this)},this)},t.na=function(){ns(this);const d=Array.from(this.g.values()),m=Array.from(this.g.keys()),C=[];for(let $=0;$<m.length;$++){const U=d[$];for(let q=0;q<U.length;q++)C.push(m[$])}return C},t.V=function(d){ns(this);let m=[];if(typeof d=="string")pf(this,d)&&(m=m.concat(this.g.get(va(this,d))));else{d=Array.from(this.g.values());for(let C=0;C<d.length;C++)m=m.concat(d[C])}return m},t.set=function(d,m){return ns(this),this.i=null,d=va(this,d),pf(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[m]),this.h+=1,this},t.get=function(d,m){return d?(d=this.V(d),0<d.length?String(d[0]):m):m};function gf(d,m,C){Tg(d,m),0<C.length&&(d.i=null,d.g.set(va(d,m),E(C)),d.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],m=Array.from(this.g.keys());for(var C=0;C<m.length;C++){var $=m[C];const q=encodeURIComponent(String($)),fe=this.V($);for($=0;$<fe.length;$++){var U=q;fe[$]!==""&&(U+="="+encodeURIComponent(String(fe[$]))),d.push(U)}}return this.i=d.join("&")};function va(d,m){return m=String(m),d.j&&(m=m.toLowerCase()),m}function G_(d,m){m&&!d.j&&(ns(d),d.i=null,d.g.forEach(function(C,$){var U=$.toLowerCase();$!=U&&(Tg(this,$),gf(this,U,C))},d)),d.j=m}function q_(d,m){const C=new Mt;if(a.Image){const $=new Image;$.onload=p(io,C,"TestLoadImage: loaded",!0,m,$),$.onerror=p(io,C,"TestLoadImage: error",!1,m,$),$.onabort=p(io,C,"TestLoadImage: abort",!1,m,$),$.ontimeout=p(io,C,"TestLoadImage: timeout",!1,m,$),a.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=d}else m(!1)}function K_(d,m){const C=new Mt,$=new AbortController,U=setTimeout(()=>{$.abort(),io(C,"TestPingServer: timeout",!1,m)},1e4);fetch(d,{signal:$.signal}).then(q=>{clearTimeout(U),q.ok?io(C,"TestPingServer: ok",!0,m):io(C,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),io(C,"TestPingServer: error",!1,m)})}function io(d,m,C,$,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),$(C)}catch{}}function mf(){this.g=new Yt}function Y_(d,m,C){const $=C||"";try{Eg(d,function(U,q){let fe=U;c(U)&&(fe=xe(U)),m.push($+q+"="+encodeURIComponent(fe))})}catch(U){throw m.push($+"type="+encodeURIComponent("_badmap")),U}}function Gc(d){this.l=d.Ub||null,this.j=d.eb||!1}g(Gc,Un),Gc.prototype.g=function(){return new qc(this.l,this.j)},Gc.prototype.i=function(d){return function(){return d}}({});function qc(d,m){St.call(this),this.D=d,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(qc,St),t=qc.prototype,t.open=function(d,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=m,this.readyState=1,Dl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(m.body=d),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_a(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Dl(this)),this.g&&(this.readyState=3,Dl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ig(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ig(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var m=d.value?d.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!d.done}))&&(this.response=this.responseText+=m)}d.done?_a(this):Dl(this),this.readyState==3&&Ig(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,_a(this))},t.Qa=function(d){this.g&&(this.response=d,_a(this))},t.ga=function(){this.g&&_a(this)};function _a(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Dl(d)}t.setRequestHeader=function(d,m){this.u.append(d,m)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],m=this.h.entries();for(var C=m.next();!C.done;)C=C.value,d.push(C[0]+": "+C[1]),C=m.next();return d.join(`\r
`)};function Dl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(qc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ba(d){let m="";return N(d,function(C,$){m+=$,m+=":",m+=C,m+=`\r
`}),m}function yf(d,m,C){e:{for($ in C){var $=!1;break e}$=!0}$||(C=ba(C),typeof d=="string"?C!=null&&encodeURIComponent(String(C)):Xt(d,m,C))}function vn(d){St.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(vn,St);var X_=/^https?$/i,Q_=["POST","PUT"];t=vn.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,m,C,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);m=m?m.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():As.g(),this.v=this.o?Hr(this.o):Hr(As),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(m,String(d),!0),this.B=!1}catch(q){D(this,q);return}if(d=C||"",C=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var U in $)C.set(U,$[U]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const q of $.keys())C.set(q,$.get(q));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(C.keys()).find(q=>q.toLowerCase()=="content-type"),U=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Q_,m,void 0))||$||U||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,fe]of C)this.g.setRequestHeader(q,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Y(this),this.u=!0,this.g.send(d),this.u=!1}catch(q){D(this,q)}};function D(d,m){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=m,d.m=5,F(d),j(d)}function F(d){d.A||(d.A=!0,_t(d,"complete"),_t(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,_t(this,"complete"),_t(this,"abort"),j(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),j(this,!0)),vn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?z(this):this.bb())},t.bb=function(){z(this)};function z(d){if(d.h&&typeof s<"u"&&(!d.v[1]||ee(d)!=4||d.Z()!=2)){if(d.u&&ee(d)==4)Vt(d.Ea,0,d);else if(_t(d,"readystatechange"),ee(d)==4){d.h=!1;try{const fe=d.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var C;if(!(C=m)){var $;if($=fe===0){var U=String(d.D).match(xg)[1]||null;!U&&a.self&&a.self.location&&(U=a.self.location.protocol.slice(0,-1)),$=!X_.test(U?U.toLowerCase():"")}C=$}if(C)_t(d,"complete"),_t(d,"success");else{d.m=6;try{var q=2<ee(d)?d.g.statusText:""}catch{q=""}d.l=q+" ["+d.Z()+"]",F(d)}}finally{j(d)}}}}function j(d,m){if(d.g){Y(d);const C=d.g,$=d.v[0]?()=>{}:null;d.g=null,d.v=null,m||_t(d,"ready");try{C.onreadystatechange=$}catch{}}}function Y(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ee(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ee(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var m=this.g.responseText;return d&&m.indexOf(d)==0&&(m=m.substring(d.length)),Ie(m)}};function ce(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ve(d){const m={};d=(d.g&&2<=ee(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<d.length;$++){if(b(d[$]))continue;var C=k(d[$]);const U=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const q=m[U]||[];m[U]=q,q.push(C)}T(m,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oe(d,m,C){return C&&C.internalChannelParams&&C.internalChannelParams[d]||m}function Ce(d){this.Aa=0,this.i=[],this.j=new Mt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oe("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oe("baseRetryDelayMs",5e3,d),this.cb=Oe("retryDelaySeedMs",1e4,d),this.Wa=Oe("forwardChannelMaxRetries",2,d),this.wa=Oe("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new es(d&&d.concurrentRequestLimit),this.Da=new mf,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ce.prototype,t.la=8,t.G=1,t.connect=function(d,m,C,$){de(0),this.W=d,this.H=m||{},C&&$!==void 0&&(this.H.OSID=C,this.H.OAID=$),this.F=this.X,this.I=wa(this,null,this.W),Lt(this)};function we(d){if(tt(d),d.G==3){var m=d.U++,C=ro(d.I);if(Xt(C,"SID",d.K),Xt(C,"RID",m),Xt(C,"TYPE","terminate"),Dn(d,C),m=new X(d,d.j,m),m.L=2,m.v=Hc(ro(C)),C=!1,a.navigator&&a.navigator.sendBeacon)try{C=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!C&&a.Image&&(new Image().src=m.v,C=!0),C||(m.g=Yc(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Al(m)}Kc(d)}function Be(d){d.g&&(Kr(d),d.g.cancel(),d.g=null)}function tt(d){Be(d),d.u&&(a.clearTimeout(d.u),d.u=null),bt(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Lt(d){if(!Ol(d.h)&&!d.s){d.s=!0;var m=d.Ga;G||Q(),V||(G(),V=!0),B.add(m,d),d.B=0}}function He(d,m){return Nl(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=m.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=et(h(d.Ga,d,m),Ir(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const U=new X(this,this.j,d);let q=this.o;if(this.S&&(q?(q=I(q),v(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)e:{for(var m=0,C=0;C<this.i.length;C++){t:{var $=this.i[C];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(m+=$,4096<m){m=C;break e}if(m===4096||C===this.i.length-1){m=C+1;break e}}m=1e3}else m=1e3;m=ko(this,U,m),C=ro(this.I),Xt(C,"RID",d),Xt(C,"CVER",22),this.D&&Xt(C,"X-HTTP-Session-Id",this.D),Dn(this,C),q&&(this.O?m="headers="+encodeURIComponent(String(ba(q)))+"&"+m:this.m&&yf(C,this.m,q)),hf(this.h,U),this.Ua&&Xt(C,"TYPE","init"),this.P?(Xt(C,"$req",m),Xt(C,"SID","null"),U.T=!0,Dt(U,C,null)):Dt(U,C,m),this.G=2}}else this.G==3&&(d?Kt(this,d):this.i.length==0||Ol(this.h)||Kt(this))};function Kt(d,m){var C;m?C=m.l:C=d.U++;const $=ro(d.I);Xt($,"SID",d.K),Xt($,"RID",C),Xt($,"AID",d.T),Dn(d,$),d.m&&d.o&&yf($,d.m,d.o),C=new X(d,d.j,C,d.B+1),d.m===null&&(C.H=d.o),m&&(d.i=m.D.concat(d.i)),m=ko(d,C,1e3),C.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),hf(d.h,C),Dt(C,$,m)}function Dn(d,m){d.H&&N(d.H,function(C,$){Xt(m,$,C)}),d.l&&Eg({},function(C,$){Xt(m,$,C)})}function ko(d,m,C){C=Math.min(d.i.length,C);var $=d.l?h(d.l.Na,d.l,d):null;e:{var U=d.i;let q=-1;for(;;){const fe=["count="+C];q==-1?0<C?(q=U[0].g,fe.push("ofs="+q)):q=0:fe.push("ofs="+q);let Qt=!0;for(let vr=0;vr<C;vr++){let Ft=U[vr].g;const Rr=U[vr].map;if(Ft-=q,0>Ft)q=Math.max(0,U[vr].g-100),Qt=!1;else try{Y_(Rr,fe,"req"+Ft+"_")}catch{$&&$(Rr)}}if(Qt){$=fe.join("&");break e}}}return d=d.i.splice(0,C),m.D=d,$}function li(d){if(!d.g&&!d.u){d.Y=1;var m=d.Fa;G||Q(),V||(G(),V=!0),B.add(m,d),d.v=0}}function qr(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=et(h(d.Fa,d),Ir(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,kt(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=et(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,de(10),Be(this),kt(this))};function Kr(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function kt(d){d.g=new X(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var m=ro(d.qa);Xt(m,"RID","rpc"),Xt(m,"SID",d.K),Xt(m,"AID",d.T),Xt(m,"CI",d.F?"0":"1"),!d.F&&d.ja&&Xt(m,"TO",d.ja),Xt(m,"TYPE","xmlhttp"),Dn(d,m),d.m&&d.o&&yf(m,d.m,d.o),d.L&&(d.g.I=d.L);var C=d.g;d=d.ia,C.L=1,C.v=Hc(ro(m)),C.m=null,C.P=!0,yn(C,d)}t.Za=function(){this.C!=null&&(this.C=null,Be(this),qr(this),de(19))};function bt(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Yr(d,m){var C=null;if(d.g==m){bt(d),Kr(d),d.g=null;var $=2}else if(Vc(d.h,m))C=m.D,wg(d.h,m),$=1;else return;if(d.G!=0){if(m.o)if($==1){C=m.m?m.m.length:0,m=Date.now()-m.F;var U=d.B;$=no(),_t($,new lt($,C)),Lt(d)}else li(d);else if(U=m.s,U==3||U==0&&0<m.X||!($==1&&He(d,m)||$==2&&qr(d)))switch(C&&0<C.length&&(m=d.h,m.i=m.i.concat(C)),U){case 1:oo(d,5);break;case 4:oo(d,10);break;case 3:oo(d,6);break;default:oo(d,2)}}}function Ir(d,m){let C=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(C*=2),C*m}function oo(d,m){if(d.j.info("Error code "+m),m==2){var C=h(d.fb,d),$=d.Xa;const U=!$;$=new ir($||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||zc($,"https"),Hc($),U?q_($.toString(),C):K_($.toString(),C)}else de(2);d.G=0,d.l&&d.l.sa(m),Kc(d),tt(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function Kc(d){if(d.G=0,d.ka=[],d.l){const m=ts(d.h);(m.length!=0||d.i.length!=0)&&(x(d.ka,m),x(d.ka,d.i),d.h.i.length=0,E(d.i),d.i.length=0),d.l.ra()}}function wa(d,m,C){var $=C instanceof ir?ro(C):new ir(C);if($.g!="")m&&($.g=m+"."+$.g),Wc($,$.s);else{var U=a.location;$=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var q=new ir(null);$&&zc(q,$),m&&(q.g=m),U&&Wc(q,U),C&&(q.l=C),$=q}return C=d.D,m=d.ya,C&&m&&Xt($,C,m),Xt($,"VER",d.la),Dn(d,$),$}function Yc(d,m,C){if(m&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=d.Ca&&!d.pa?new vn(new Gc({eb:C})):new vn(d.pa),m.Ha(d.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vf(){}t=vf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ll(){}Ll.prototype.g=function(d,m){return new Qn(d,m)};function Qn(d,m){St.call(this),this.g=new Ce(m),this.l=d,this.h=m&&m.messageUrlParams||null,d=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(d?d["X-WebChannel-Content-Type"]=m.messageContentType:d={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(d?d["X-WebChannel-Client-Profile"]=m.va:d={"X-WebChannel-Client-Profile":m.va}),this.g.S=d,(d=m&&m.Sb)&&!b(d)&&(this.g.m=d),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!b(m)&&(this.g.D=m,d=this.h,d!==null&&m in d&&(d=this.h,m in d&&delete d[m])),this.j=new Xc(this)}g(Qn,St),Qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qn.prototype.close=function(){we(this.g)},Qn.prototype.o=function(d){var m=this.g;if(typeof d=="string"){var C={};C.__data__=d,d=C}else this.u&&(C={},C.__data__=xe(d),d=C);m.i.push(new Po(m.Ya++,d)),m.G==3&&Lt(m)},Qn.prototype.N=function(){this.g.l=null,delete this.j,we(this.g),delete this.g,Qn.aa.N.call(this)};function cI(d){jn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var m=d.__sm__;if(m){e:{for(const C in m){d=C;break e}d=void 0}(this.i=d)&&(d=this.i,m=m!==null&&d in m?m[d]:void 0),this.data=m}else this.data=d}g(cI,jn);function uI(){Pi.call(this),this.status=1}g(uI,Pi);function Xc(d){this.g=d}g(Xc,vf),Xc.prototype.ua=function(){_t(this.g,"a")},Xc.prototype.ta=function(d){_t(this.g,new cI(d))},Xc.prototype.sa=function(d){_t(this.g,new uI)},Xc.prototype.ra=function(){_t(this.g,"b")},Ll.prototype.createWebChannel=Ll.prototype.g,Qn.prototype.send=Qn.prototype.o,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,TD=function(){return new Ll},CD=function(){return no()},SD=rn,TE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mn.NO_ERROR=0,mn.TIMEOUT=8,mn.HTTP_ERROR=6,jm=mn,ai.COMPLETE="complete",xD=ai,pr.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",St.prototype.listen=St.prototype.K,Qf=pr,vn.prototype.listenOnce=vn.prototype.L,vn.prototype.getLastError=vn.prototype.Ka,vn.prototype.getLastErrorCode=vn.prototype.Ba,vn.prototype.getStatus=vn.prototype.Z,vn.prototype.getResponseJson=vn.prototype.Oa,vn.prototype.getResponseText=vn.prototype.oa,vn.prototype.send=vn.prototype.ea,vn.prototype.setWithCredentials=vn.prototype.Ha,ED=vn}).apply(typeof Yg<"u"?Yg:typeof self<"u"?self:typeof window<"u"?window:{});const rP="@firebase/firestore",iP="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vd="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new Jv("@firebase/firestore");function su(){return hc.logLevel}function Te(t,...e){if(hc.logLevel<=Et.DEBUG){const n=e.map(aC);hc.debug(`Firestore (${Vd}): ${t}`,...n)}}function oa(t,...e){if(hc.logLevel<=Et.ERROR){const n=e.map(aC);hc.error(`Firestore (${Vd}): ${t}`,...n)}}function fd(t,...e){if(hc.logLevel<=Et.WARN){const n=e.map(aC);hc.warn(`Firestore (${Vd}): ${t}`,...n)}}function aC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t="Unexpected state"){const e=`FIRESTORE (${Vd}) INTERNAL ASSERTION FAILED: `+t;throw oa(e),new Error(e)}function zt(t,e){t||Ke()}function nt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends Ts{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fr.UNAUTHENTICATED))}shutdown(){}}class $H{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class DH{constructor(e){this.t=e,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){zt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Za;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Za,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Za)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(zt(typeof r.accessToken=="string"),new ID(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return zt(e===null||typeof e=="string"),new Fr(e)}}class LH{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Fr.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class FH{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new LH(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BH{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Zr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){zt(this.o===void 0);const r=o=>{o.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Te("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new oP(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(zt(typeof n.token=="string"),this.R=n.token,new oP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=VH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function pt(t,e){return t<e?-1:t>e?1:0}function IE(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return pt(r,i);{const o=RD(),s=UH(o.encode(sP(t,n)),o.encode(sP(e,n)));return s!==0?s:pt(r,i)}}n+=r>65535?2:1}return pt(t.length,e.length)}function sP(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function UH(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return pt(t[n],e[n]);return pt(t.length,e.length)}function hd(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=-62135596800,lP=1e6;class nr{static now(){return nr.fromMillis(Date.now())}static fromDate(e){return nr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*lP);return new nr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<aP)throw new Pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lP}_compareTo(e){return this.seconds===e.seconds?pt(this.nanoseconds,e.nanoseconds):pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-aP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{static fromTimestamp(e){return new Je(e)}static min(){return new Je(new nr(0,0))}static max(){return new Je(new nr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="__name__";class ss{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ke(),r===void 0?r=e.length-n:r>e.length-n&&Ke(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ss.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ss?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=ss.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return pt(e.length,n.length)}static compareSegments(e,n){const r=ss.isNumericId(e),i=ss.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ss.extractNumericId(e).compare(ss.extractNumericId(n)):IE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ja.fromString(e.substring(4,e.length-2))}}class pn extends ss{construct(e,n,r){return new pn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pn(n)}static emptyPath(){return new pn([])}}const jH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends ss{construct(e,n,r){return new wr(e,n,r)}static isValidIdentifier(e){return jH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cP}static keyField(){return new wr([cP])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Pe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Pe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Pe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Pe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(n)}static emptyPath(){return new wr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(pn.fromString(e))}static fromName(e){return new Ve(pn.fromString(e).popFirst(5))}static empty(){return new Ve(pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new pn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp=-1;function zH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Je.fromTimestamp(r===1e9?new nr(n+1,0):new nr(n,r));return new al(i,Ve.empty(),e)}function WH(t){return new al(t.readTime,t.key,rp)}class al{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new al(Je.min(),Ve.empty(),rp)}static max(){return new al(Je.max(),Ve.empty(),rp)}}function HH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ve.comparator(t.documentKey,e.documentKey),n!==0?n:pt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ud(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==GH)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new te((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function KH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}r0.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=-1;function i0(t){return t==null}function Ly(t){return t===0&&1/t==-1/0}function YH(t){return typeof t=="number"&&Number.isInteger(t)&&!Ly(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="";function XH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=uP(e)),e=QH(t.get(n),e);return uP(e)}function QH(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case kD:n+="";break;default:n+=o}}return n}function uP(t){return t+kD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Il(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yn=class RE{constructor(e,n){this.comparator=e,this.root=n||el.EMPTY}insert(e,n){return new RE(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,el.BLACK,null,null))}remove(e){return new RE(this.comparator,this.root.remove(e,this.comparator).copy(null,null,el.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xg(this.root,e,this.comparator,!0)}},Xg=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},el=class Ds{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ds.RED,this.left=i??Ds.EMPTY,this.right=o??Ds.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ds(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ds.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ds.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ds.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ds.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ke();const e=this.left.check();if(e!==this.right.check())throw Ke();return e+(this.isRed()?0:1)}};el.EMPTY=null,el.RED=!0,el.BLACK=!1;el.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(e,n,r,i,o){return this}insert(e,n,r){return new el(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.comparator=e,this.data=new Yn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fP(this.data.getIterator())}getIteratorFrom(e){return new fP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rr(this.comparator);return n.data=e,n}}class fP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this.fields=e,e.sort(wr.comparator)}static empty(){return new Ui([])}unionWith(e){let n=new rr(wr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ui(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hd(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new OD("Invalid base64 string: "+o):o}}(e);return new Sr(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sr.EMPTY_BYTE_STRING=new Sr("");const JH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ll(t){if(zt(!!t),typeof t=="string"){let e=0;const n=JH.exec(t);if(zt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ln(t.seconds),nanos:Ln(t.nanos)}}function Ln(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cl(t){return typeof t=="string"?Sr.fromBase64String(t):Sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="server_timestamp",MD="__type__",$D="__previous_value__",DD="__local_write_time__";function cC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[MD])===null||n===void 0?void 0:n.stringValue)===ND}function o0(t){const e=t.mapValue.fields[$D];return cC(e)?o0(e):e}function ip(t){const e=ll(t.mapValue.fields[DD].timestampValue);return new nr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(e,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const Fy="(default)";class op{constructor(e,n){this.projectId=e,this.database=n||Fy}static empty(){return new op("","")}get isDefaultDatabase(){return this.database===Fy}isEqual(e){return e instanceof op&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="__type__",e8="__max__",Qg={mapValue:{}},FD="__vector__",By="value";function ul(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cC(t)?4:n8(t)?9007199254740991:t8(t)?10:11:Ke()}function ws(t,e){if(t===e)return!0;const n=ul(t);if(n!==ul(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ip(t).isEqual(ip(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ll(i.timestampValue),a=ll(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return cl(i.bytesValue).isEqual(cl(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ln(i.geoPointValue.latitude)===Ln(o.geoPointValue.latitude)&&Ln(i.geoPointValue.longitude)===Ln(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ln(i.integerValue)===Ln(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ln(i.doubleValue),a=Ln(o.doubleValue);return s===a?Ly(s)===Ly(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return hd(t.arrayValue.values||[],e.arrayValue.values||[],ws);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(dP(s)!==dP(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ws(s[l],a[l])))return!1;return!0}(t,e);default:return Ke()}}function sp(t,e){return(t.values||[]).find(n=>ws(n,e))!==void 0}function pd(t,e){if(t===e)return 0;const n=ul(t),r=ul(e);if(n!==r)return pt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Ln(o.integerValue||o.doubleValue),l=Ln(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return hP(t.timestampValue,e.timestampValue);case 4:return hP(ip(t),ip(e));case 5:return IE(t.stringValue,e.stringValue);case 6:return function(o,s){const a=cl(o),l=cl(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=pt(a[c],l[c]);if(u!==0)return u}return pt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=pt(Ln(o.latitude),Ln(s.latitude));return a!==0?a:pt(Ln(o.longitude),Ln(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pP(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,c,u;const f=o.fields||{},h=s.fields||{},p=(a=f[By])===null||a===void 0?void 0:a.arrayValue,g=(l=h[By])===null||l===void 0?void 0:l.arrayValue,E=pt(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return E!==0?E:pP(p,g)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Qg.mapValue&&s===Qg.mapValue)return 0;if(o===Qg.mapValue)return 1;if(s===Qg.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=IE(l[f],u[f]);if(h!==0)return h;const p=pd(a[l[f]],c[u[f]]);if(p!==0)return p}return pt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ke()}}function hP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pt(t,e);const n=ll(t),r=ll(e),i=pt(n.seconds,r.seconds);return i!==0?i:pt(n.nanos,r.nanos)}function pP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=pd(n[i],r[i]);if(o)return o}return pt(n.length,r.length)}function gd(t){return PE(t)}function PE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ll(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return cl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ve.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=PE(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${PE(n.fields[s])}`;return i+"}"}(t.mapValue):Ke()}function zm(t){switch(ul(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=o0(t);return e?16+zm(e):16;case 5:return 2*t.stringValue.length;case 6:return cl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+zm(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Il(r.fields,(o,s)=>{i+=o.length+zm(s)}),i}(t.mapValue);default:throw Ke()}}function gP(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function kE(t){return!!t&&"integerValue"in t}function uC(t){return!!t&&"arrayValue"in t}function mP(t){return!!t&&"nullValue"in t}function yP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wm(t){return!!t&&"mapValue"in t}function t8(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[LD])===null||n===void 0?void 0:n.stringValue)===FD}function yh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Il(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function n8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===e8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.value=e}static empty(){return new hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yh(n)}setAll(e){let n=wr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=yh(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Wm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ws(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Il(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new hi(yh(this.value))}}function BD(t){const e=[];return Il(t.fields,(n,r)=>{const i=new wr([n]);if(Wm(r)){const o=BD(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Ui(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Vr(e,0,Je.min(),Je.min(),Je.min(),hi.empty(),0)}static newFoundDocument(e,n,r,i){return new Vr(e,1,n,Je.min(),r,i,0)}static newNoDocument(e,n){return new Vr(e,2,n,Je.min(),Je.min(),hi.empty(),0)}static newUnknownDocument(e,n){return new Vr(e,3,n,Je.min(),Je.min(),hi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n){this.position=e,this.inclusive=n}}function vP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Ve.comparator(Ve.fromName(s.referenceValue),n.key):r=pd(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function _P(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ws(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n="asc"){this.field=e,this.dir=n}}function r8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{}class Kn extends VD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new o8(e,n,r):n==="array-contains"?new l8(e,r):n==="in"?new c8(e,r):n==="not-in"?new u8(e,r):n==="array-contains-any"?new d8(e,r):new Kn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new s8(e,r):new a8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(pd(n,this.value)):n!==null&&ul(this.value)===ul(n)&&this.matchesComparison(pd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ko extends VD{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Ko(e,n)}matches(e){return UD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function UD(t){return t.op==="and"}function jD(t){return i8(t)&&UD(t)}function i8(t){for(const e of t.filters)if(e instanceof Ko)return!1;return!0}function AE(t){if(t instanceof Kn)return t.field.canonicalString()+t.op.toString()+gd(t.value);if(jD(t))return t.filters.map(e=>AE(e)).join(",");{const e=t.filters.map(n=>AE(n)).join(",");return`${t.op}(${e})`}}function zD(t,e){return t instanceof Kn?function(r,i){return i instanceof Kn&&r.op===i.op&&r.field.isEqual(i.field)&&ws(r.value,i.value)}(t,e):t instanceof Ko?function(r,i){return i instanceof Ko&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&zD(s,i.filters[a]),!0):!1}(t,e):void Ke()}function WD(t){return t instanceof Kn?function(n){return`${n.field.canonicalString()} ${n.op} ${gd(n.value)}`}(t):t instanceof Ko?function(n){return n.op.toString()+" {"+n.getFilters().map(WD).join(" ,")+"}"}(t):"Filter"}class o8 extends Kn{constructor(e,n,r){super(e,n,r),this.key=Ve.fromName(r.referenceValue)}matches(e){const n=Ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class s8 extends Kn{constructor(e,n){super(e,"in",n),this.keys=HD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class a8 extends Kn{constructor(e,n){super(e,"not-in",n),this.keys=HD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function HD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ve.fromName(r.referenceValue))}class l8 extends Kn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uC(n)&&sp(n.arrayValue,this.value)}}class c8 extends Kn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sp(this.value.arrayValue,n)}}class u8 extends Kn{constructor(e,n){super(e,"not-in",n)}matches(e){if(sp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!sp(this.value.arrayValue,n)}}class d8 extends Kn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uC(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>sp(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.le=null}}function bP(t,e=null,n=[],r=[],i=null,o=null,s=null){return new f8(t,e,n,r,i,o,s)}function dC(t){const e=nt(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>AE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),i0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>gd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>gd(r)).join(",")),e.le=n}return e.le}function fC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!r8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_P(t.startAt,e.startAt)&&_P(t.endAt,e.endAt)}function OE(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function h8(t,e,n,r,i,o,s,a){return new Up(t,e,n,r,i,o,s,a)}function hC(t){return new Up(t)}function wP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function GD(t){return t.collectionGroup!==null}function vh(t){const e=nt(t);if(e.he===null){e.he=[];const n=new Set;for(const o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new rr(wr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new Uy(o,r))}),n.has(wr.keyField().canonicalString())||e.he.push(new Uy(wr.keyField(),r))}return e.he}function gs(t){const e=nt(t);return e.Pe||(e.Pe=p8(e,vh(t))),e.Pe}function p8(t,e){if(t.limitType==="F")return bP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Uy(i.field,o)});const n=t.endAt?new Vy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vy(t.startAt.position,t.startAt.inclusive):null;return bP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function NE(t,e){const n=t.filters.concat([e]);return new Up(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ME(t,e,n){return new Up(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function s0(t,e){return fC(gs(t),gs(e))&&t.limitType===e.limitType}function qD(t){return`${dC(gs(t))}|lt:${t.limitType}`}function au(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>WD(i)).join(", ")}]`),i0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>gd(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>gd(i)).join(",")),`Target(${r})`}(gs(t))}; limitType=${t.limitType})`}function a0(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ve.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of vh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=vP(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,vh(r),i)||r.endAt&&!function(s,a,l){const c=vP(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,vh(r),i))}(t,e)}function g8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function KD(t){return(e,n)=>{let r=!1;for(const i of vh(t)){const o=m8(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function m8(t,e,n){const r=t.field.isKeyField()?Ve.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?pd(l,c):Ke()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Il(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return AD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=new Yn(Ve.comparator);function sa(){return y8}const YD=new Yn(Ve.comparator);function Jf(...t){let e=YD;for(const n of t)e=e.insert(n.key,n);return e}function XD(t){let e=YD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xl(){return _h()}function QD(){return _h()}function _h(){return new Tc(t=>t.toString(),(t,e)=>t.isEqual(e))}const v8=new Yn(Ve.comparator),_8=new rr(Ve.comparator);function Tt(...t){let e=_8;for(const n of t)e=e.add(n);return e}const b8=new rr(pt);function w8(){return b8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ly(e)?"-0":e}}function JD(t){return{integerValue:""+t}}function E8(t,e){return YH(e)?JD(e):pC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this._=void 0}}function x8(t,e,n){return t instanceof ap?function(i,o){const s={fields:{[MD]:{stringValue:ND},[DD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&cC(o)&&(o=o0(o)),o&&(s.fields[$D]=o),{mapValue:s}}(n,e):t instanceof md?eL(t,e):t instanceof lp?tL(t,e):function(i,o){const s=ZD(i,o),a=EP(s)+EP(i.Ie);return kE(s)&&kE(i.Ie)?JD(a):pC(i.serializer,a)}(t,e)}function S8(t,e,n){return t instanceof md?eL(t,e):t instanceof lp?tL(t,e):n}function ZD(t,e){return t instanceof jy?function(r){return kE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ap extends l0{}class md extends l0{constructor(e){super(),this.elements=e}}function eL(t,e){const n=nL(e);for(const r of t.elements)n.some(i=>ws(i,r))||n.push(r);return{arrayValue:{values:n}}}class lp extends l0{constructor(e){super(),this.elements=e}}function tL(t,e){let n=nL(e);for(const r of t.elements)n=n.filter(i=>!ws(i,r));return{arrayValue:{values:n}}}class jy extends l0{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function EP(t){return Ln(t.integerValue||t.doubleValue)}function nL(t){return uC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n){this.field=e,this.transform=n}}function C8(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof md&&i instanceof md||r instanceof lp&&i instanceof lp?hd(r.elements,i.elements,ws):r instanceof jy&&i instanceof jy?ws(r.Ie,i.Ie):r instanceof ap&&i instanceof ap}(t.transform,e.transform)}class T8{constructor(e,n){this.version=e,this.transformResults=n}}class ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class c0{}function iL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new u0(t.key,ni.none()):new jp(t.key,t.data,ni.none());{const n=t.data,r=hi.empty();let i=new rr(wr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Rl(t.key,r,new Ui(i.toArray()),ni.none())}}function I8(t,e,n){t instanceof jp?function(i,o,s){const a=i.value.clone(),l=SP(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Rl?function(i,o,s){if(!Hm(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=SP(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(oL(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function bh(t,e,n,r){return t instanceof jp?function(o,s,a,l){if(!Hm(o.precondition,s))return a;const c=o.value.clone(),u=CP(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Rl?function(o,s,a,l){if(!Hm(o.precondition,s))return a;const c=CP(o.fieldTransforms,l,s),u=s.data;return u.setAll(oL(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Hm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function R8(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=ZD(r.transform,i||null);o!=null&&(n===null&&(n=hi.empty()),n.set(r.field,o))}return n||null}function xP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&hd(r,i,(o,s)=>C8(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jp extends c0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Rl extends c0{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function oL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function SP(t,e,n){const r=new Map;zt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,S8(s,a,n[i]))}return r}function CP(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,x8(o,s,e))}return r}class u0 extends c0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P8 extends c0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&I8(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=QD();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=iL(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Je.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Tt())}isEqual(e){return this.batchId===e.batchId&&hd(this.mutations,e.mutations,(n,r)=>xP(n,r))&&hd(this.baseMutations,e.baseMutations,(n,r)=>xP(n,r))}}class gC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){zt(e.mutations.length===r.length);let i=function(){return v8}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new gC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wn,At;function N8(t){switch(t){case ne.OK:return Ke();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ke()}}function sL(t){if(t===void 0)return oa("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Wn.OK:return ne.OK;case Wn.CANCELLED:return ne.CANCELLED;case Wn.UNKNOWN:return ne.UNKNOWN;case Wn.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Wn.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Wn.INTERNAL:return ne.INTERNAL;case Wn.UNAVAILABLE:return ne.UNAVAILABLE;case Wn.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Wn.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Wn.NOT_FOUND:return ne.NOT_FOUND;case Wn.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Wn.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Wn.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Wn.ABORTED:return ne.ABORTED;case Wn.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Wn.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Wn.DATA_LOSS:return ne.DATA_LOSS;default:return Ke()}}(At=Wn||(Wn={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=new Ja([4294967295,4294967295],0);function TP(t){const e=RD().encode(t),n=new wD;return n.update(e),new Uint8Array(n.digest())}function IP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ja([n,r],0),new Ja([i,o],0)]}class mC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zf(`Invalid padding: ${n}`);if(r<0)throw new Zf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zf(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Ja.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(Ja.fromNumber(r)));return i.compare(M8)===1&&(i=new Ja([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=TP(e),[r,i]=IP(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new mC(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ee===0)return;const n=TP(e),[r,i]=IP(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);this.Ve(s)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new d0(Je.min(),i,new Yn(pt),sa(),Tt())}}class zp{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zp(r,n,Tt(),Tt(),Tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class aL{constructor(e,n){this.targetId=e,this.ge=n}}class lL{constructor(e,n,r=Sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class RP{constructor(){this.pe=0,this.ye=PP(),this.we=Sr.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Tt(),n=Tt(),r=Tt();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ke()}}),new zp(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=PP()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,zt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class $8{constructor(e){this.ke=e,this.qe=new Map,this.Qe=sa(),this.$e=Jg(),this.Ue=Jg(),this.Ke=new Yn(pt)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Ke()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const o=i.target;if(OE(o))if(r===0){const s=new Ve(o.path);this.ze(n,s,Vr.newNoDocument(s,Je.min()))}else zt(r===1);else{const s=this.et(n);if(s!==r){const a=this.tt(e),l=a?this.nt(a,e,s):1;if(l!==0){this.Ye(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=cl(r).toUint8Array()}catch(l){if(l instanceof OD)return fd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new mC(s,i,o)}catch(l){return fd(l instanceof Zf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ke.it(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,o,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((o,s)=>{const a=this.Xe(s);if(a){if(o.current&&OE(a.target)){const l=new Ve(a.target.path);this._t(l).has(s)||this.ut(s,l)||this.ze(s,l,Vr.newNoDocument(l,e))}o.ve&&(n.set(s,o.Fe()),o.Me())}});let r=Tt();this.Ue.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(e));const i=new d0(e,n,this.Ke,this.Qe,r);return this.Qe=sa(),this.$e=Jg(),this.Ue=Jg(),this.Ke=new Yn(pt),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new RP,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new rr(pt),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new rr(pt),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new RP),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Jg(){return new Yn(Ve.comparator)}function PP(){return new Yn(Ve.comparator)}const D8={asc:"ASCENDING",desc:"DESCENDING"},L8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F8={and:"AND",or:"OR"};class B8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $E(t,e){return t.useProto3Json||i0(e)?e:{value:e}}function zy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function V8(t,e){return zy(t,e.toTimestamp())}function ms(t){return zt(!!t),Je.fromTimestamp(function(n){const r=ll(n);return new nr(r.seconds,r.nanos)}(t))}function yC(t,e){return DE(t,e).canonicalString()}function DE(t,e){const n=function(i){return new pn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uL(t){const e=pn.fromString(t);return zt(gL(e)),e}function LE(t,e){return yC(t.databaseId,e.path)}function Mb(t,e){const n=uL(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ve(fL(n))}function dL(t,e){return yC(t.databaseId,e)}function U8(t){const e=uL(t);return e.length===4?pn.emptyPath():fL(e)}function FE(t){return new pn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fL(t){return zt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function kP(t,e,n){return{name:LE(t,e),fields:n.value.mapValue.fields}}function j8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(zt(u===void 0||typeof u=="string"),Sr.fromBase64String(u||"")):(zt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Sr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?ne.UNKNOWN:sL(c.code);return new Pe(u,c.message||"")}(s);n=new lL(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Mb(t,r.document.name),o=ms(r.document.updateTime),s=r.document.createTime?ms(r.document.createTime):Je.min(),a=new hi({mapValue:{fields:r.document.fields}}),l=Vr.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Gm(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Mb(t,r.document),o=r.readTime?ms(r.readTime):Je.min(),s=Vr.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Gm([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Mb(t,r.document),o=r.removedTargetIds||[];n=new Gm([],o,i,null)}else{if(!("filter"in e))return Ke();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new O8(i,o),a=r.targetId;n=new aL(a,s)}}return n}function z8(t,e){let n;if(e instanceof jp)n={update:kP(t,e.key,e.value)};else if(e instanceof u0)n={delete:LE(t,e.key)};else if(e instanceof Rl)n={update:kP(t,e.key,e.data),updateMask:J8(e.fieldMask)};else{if(!(e instanceof P8))return Ke();n={verify:LE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof ap)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof md)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof lp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof jy)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Ke()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:V8(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ke()}(t,e.precondition)),n}function W8(t,e){return t&&t.length>0?(zt(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?ms(i.updateTime):ms(o);return s.isEqual(Je.min())&&(s=ms(o)),new T8(s,i.transformResults||[])}(n,e))):[]}function H8(t,e){return{documents:[dL(t,e.path)]}}function G8(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=dL(t,i);const o=function(c){if(c.length!==0)return pL(Ko.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:lu(h.field),direction:Y8(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=$E(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:i}}function q8(t){let e=U8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){zt(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(f){const h=hL(f);return h instanceof Ko&&jD(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(g){return new Uy(cu(g.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,i0(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new Vy(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new Vy(p,h)}(n.endAt)),h8(e,i,s,o,a,"F",l,c)}function K8(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=cu(n.unaryFilter.field);return Kn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=cu(n.unaryFilter.field);return Kn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=cu(n.unaryFilter.field);return Kn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=cu(n.unaryFilter.field);return Kn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ke()}}(t):t.fieldFilter!==void 0?function(n){return Kn.create(cu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ke()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ko.create(n.compositeFilter.filters.map(r=>hL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ke()}}(n.compositeFilter.op))}(t):Ke()}function Y8(t){return D8[t]}function X8(t){return L8[t]}function Q8(t){return F8[t]}function lu(t){return{fieldPath:t.canonicalString()}}function cu(t){return wr.fromServerFormat(t.fieldPath)}function pL(t){return t instanceof Kn?function(n){if(n.op==="=="){if(yP(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NAN"}};if(mP(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yP(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NOT_NAN"}};if(mP(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lu(n.field),op:X8(n.op),value:n.value}}}(t):t instanceof Ko?function(n){const r=n.getFilters().map(i=>pL(i));return r.length===1?r[0]:{compositeFilter:{op:Q8(n.op),filters:r}}}(t):Ke()}function J8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n,r,i,o=Je.min(),s=Je.min(),a=Sr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ua(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e){this.Tt=e}}function e7(t){const e=q8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ME(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(){this.Tn=new n7}addToCollectionParentIndex(e,n){return this.Tn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(al.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(al.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class n7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rr(pn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rr(pn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mL=41943040;class di{static withCacheSize(e){return new di(e,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di.DEFAULT_COLLECTION_PERCENTILE=10,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,di.DEFAULT=new di(mL,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),di.DISABLED=new di(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new yd(0)}static Kn(){return new yd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP="LruGarbageCollector",r7=1048576;function NP([t,e],[n,r]){const i=pt(t,n);return i===0?pt(e,r):i}class i7{constructor(e){this.Hn=e,this.buffer=new rr(NP),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();NP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class o7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Te(OP,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jd(n)?Te(OP,"Ignoring IndexedDB error during garbage collection: ",n):await Ud(n)}await this.er(3e5)})}}class s7{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return te.resolve(r0.ae);const r=new i7(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(AP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AP):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),su()<=Et.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function a7(t,e){return new s7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(){this.changes=new Tc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&bh(r.mutation,i,Ui.empty(),nr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Tt()){const i=Xl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Jf();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Xl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Tt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=sa();const s=_h(),a=function(){return _h()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Rl)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),bh(u.mutation,c,u.mutation.getFieldMask(),nr.now())):s.set(c.key,Ui.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>{var f;return a.set(c,new c7(u,(f=s.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=_h();let i=new Yn((s,a)=>s-a),o=Tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Ui.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(i.get(a.batchId)||Tt()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=QD();u.forEach(h=>{if(!o.has(h)){const p=iL(n.get(h),r.get(h));p!==null&&f.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return te.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):te.resolve(Xl());let a=rp,l=o;return s.next(c=>te.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(u)?te.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Tt())).next(u=>({batchId:a,changes:XD(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ve(n)).next(r=>{let i=Jf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Jf();return this.indexManager.getCollectionParents(e,o).next(a=>te.forEach(a,l=>{const c=function(f,h){return new Up(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Vr.newInvalidDocument(u)))});let a=Jf();return s.forEach((l,c)=>{const u=o.get(l);u!==void 0&&bh(u.mutation,c,Ui.empty(),nr.now()),a0(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return te.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ms(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:e7(i.bundledQuery),readTime:ms(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(){this.overlays=new Yn(Ve.comparator),this.Rr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xl();return te.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Et(e,n,o)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=Xl(),o=n.length+1,s=new Ve(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Yn((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=Xl(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Xl(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return te.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new A8(n,r));let o=this.Rr.get(n);o===void 0&&(o=Tt(),this.Rr.set(n,o)),this.Rr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(){this.sessionToken=Sr.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.Vr=new rr(sr.mr),this.gr=new rr(sr.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new sr(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new sr(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new Ve(new pn([])),r=new sr(n,e),i=new sr(n,e+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ve(new pn([])),r=new sr(n,e),i=new sr(n,e+1);let o=Tt();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new sr(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class sr{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ve.comparator(e.key,n.key)||pt(e.Cr,n.Cr)}static pr(e,n){return pt(e.Cr,n.Cr)||Ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new rr(sr.mr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new k8(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Mr=this.Mr.add(new sr(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return te.resolve(s)}lookupMutationBatch(e,n){return te.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),o=i<0?0:i;return te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?lC:this.Fr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new sr(n,0),i=new sr(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{const a=this.Or(s.Cr);o.push(a)}),te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rr(pt);return n.forEach(i=>{const o=new sr(i,0),s=new sr(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],a=>{r=r.add(a.Cr)})}),te.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Ve.isDocumentKey(o)||(o=o.child(""));const s=new sr(new Ve(o),0);let a=new rr(pt);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Cr)),!0)},s),te.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){zt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return te.forEach(n.mutations,i=>{const o=new sr(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new sr(n,0),i=this.Mr.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e){this.kr=e,this.docs=function(){return new Yn(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():Vr.newInvalidDocument(n))}getEntries(e,n){let r=sa();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Vr.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=sa();const s=n.path,a=new Ve(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||HH(WH(u),r)<=0||(i.has(u.key)||a0(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return te.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ke()}qr(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new m7(this)}getSize(e){return te.resolve(this.size)}}class m7 extends l7{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e){this.persistence=e,this.Qr=new Tc(n=>dC(n),fC),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.$r=0,this.Ur=new vC,this.targetCount=0,this.Kr=yd.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),te.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new yd(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.zn(n),te.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Qr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),te.waitFor(o).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),te.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new r0(0),this.zr=!1,this.zr=!0,this.jr=new h7,this.referenceDelegate=e(this),this.Hr=new y7(this),this.indexManager=new t7,this.remoteDocumentCache=function(i){return new g7(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Z8(n),this.Yr=new d7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new f7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new p7(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const i=new v7(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,n){return te.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class v7 extends qH{constructor(e){super(),this.currentSequenceNumber=e}}class _C{constructor(e){this.persistence=e,this.ti=new vC,this.ni=null}static ri(e){return new _C(e)}get ii(){if(this.ni)return this.ni;throw Ke()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),te.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ii,r=>{const i=Ve.fromPath(r);return this.si(e,i).next(o=>{o||n.removeEntry(i,Je.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return te.or([()=>te.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Wy{constructor(e,n){this.persistence=e,this.oi=new Tc(r=>XH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=a7(this,n)}static ri(e,n){return new Wy(e,n)}Zr(){}Xr(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return te.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?te.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,n).next(a=>{a||(r++,o.removeEntry(s,Je.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),te.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zm(e.data.value)),n}ar(e,n,r){return te.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=Tt(),i=Tt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new bC(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return X6()?8:KH(zr())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.rs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new _7;return this._s(e,n,s).next(a=>{if(o.result=a,this.Xi)return this.us(e,n,s,a.size)})}).next(()=>o.result)}us(e,n,r,i){return r.documentReadCount<this.es?(su()<=Et.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",au(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),te.resolve()):(su()<=Et.DEBUG&&Te("QueryEngine","Query:",au(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(su()<=Et.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",au(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gs(n))):te.resolve())}rs(e,n){if(wP(n))return te.resolve(null);let r=gs(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ME(n,null,"F"),r=gs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Tt(...o);return this.ns.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(n,a);return this.ls(n,c,s,l.readTime)?this.rs(e,ME(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,r,i){return wP(n)||i.isEqual(Je.min())?te.resolve(null):this.ns.getDocuments(e,r).next(o=>{const s=this.cs(n,o);return this.ls(n,s,r,i)?te.resolve(null):(su()<=Et.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),au(n)),this.hs(e,s,n,zH(i,rp)).next(a=>a))})}cs(e,n){let r=new rr(KD(e));return n.forEach((i,o)=>{a0(e,o)&&(r=r.add(o))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,n,r){return su()<=Et.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",au(n)),this.ns.getDocumentsMatchingQuery(e,n,al.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="LocalStore",w7=3e8;class E7{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Yn(pt),this.Is=new Tc(o=>dC(o),fC),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u7(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function x7(t,e,n,r){return new E7(t,e,n,r)}async function vL(t,e){const n=nt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Tt();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:s,addedBatchIds:a}))})})}function S7(t,e){const n=nt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,h=f.keys();let p=te.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(E=>{const x=c.docVersions.get(g);zt(x!==null),E.version.compareTo(x)<0&&(f.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),u.addEntry(E)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Tt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function _L(t){const e=nt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function C7(t,e){const n=nt(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;a.push(n.Hr.removeMatchingKeys(o,u.removedDocuments,f).next(()=>n.Hr.addMatchingKeys(o,u.addedDocuments,f)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Sr.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(f,p),function(E,x,y){return E.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=w7?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,u)&&a.push(n.Hr.updateTargetData(o,p))});let l=sa(),c=Tt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(T7(o,s,e.documentUpdates).next(u=>{l=u.Vs,c=u.fs})),!r.isEqual(Je.min())){const u=n.Hr.getLastRemoteSnapshotVersion(o).next(f=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return te.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ts=i,o))}function T7(t,e,n){let r=Tt(),i=Tt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=sa();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Je.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Te(wC,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:s,fs:i}})}function I7(t,e){const n=nt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=lC),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function R7(t,e){const n=nt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(o=>o?(i=o,te.resolve(i)):n.Hr.allocateTargetId(r).next(s=>(i=new Ua(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function BE(t,e,n){const r=nt(t),i=r.Ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!jd(s))throw s;Te(wC,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function MP(t,e,n){const r=nt(t);let i=Je.min(),o=Tt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=nt(l),h=f.Is.get(u);return h!==void 0?te.resolve(f.Ts.get(h)):f.Hr.getTargetData(c,u)}(r,s,gs(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,e,n?i:Je.min(),n?o:Tt())).next(a=>(P7(r,g8(e),a),{documents:a,gs:o})))}function P7(t,e,n){let r=t.Es.get(e)||Je.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Es.set(e,r)}class $P{constructor(){this.activeTargetIds=w8()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class k7{constructor(){this.ho=new $P,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new $P,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="ConnectivityMonitor";class LP{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Te(DP,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Te(DP,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zg=null;function VE(){return Zg===null?Zg=function(){return 268435456+Math.round(2147483648*Math.random())}():Zg++,"0x"+Zg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="RestConnection",O7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class N7{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Fy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,o){const s=VE(),a=this.bo(e,n.toUriEncodedString());Te($b,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,o),this.vo(e,a,l,r).then(c=>(Te($b,`Received RPC '${e}' ${s}: `,c),c),c=>{throw fd($b,`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,n,r,i,o,s){return this.So(e,n,r,i,o)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,n){const r=O7[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="WebChannelConnection";class $7 extends N7{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const o=VE();return new Promise((s,a)=>{const l=new ED;l.setWithCredentials(!0),l.listenOnce(xD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case jm.NO_ERROR:const u=l.getResponseJson();Te(Or,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case jm.TIMEOUT:Te(Or,`RPC '${e}' ${o} timed out`),a(new Pe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case jm.HTTP_ERROR:const f=l.getStatus();if(Te(Or,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const g=function(x){const y=x.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(y)>=0?y:ne.UNKNOWN}(p.status);a(new Pe(g,p.message))}else a(new Pe(ne.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Pe(ne.UNAVAILABLE,"Connection failed."));break;default:Ke()}}finally{Te(Or,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);Te(Or,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",c,r,15)})}Wo(e,n,r){const i=VE(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=TD(),a=CD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");Te(Or,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);let h=!1,p=!1;const g=new M7({Fo:x=>{p?Te(Or,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(Te(Or,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Te(Or,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},Mo:()=>f.close()}),E=(x,y,b)=>{x.listen(y,_=>{try{b(_)}catch(S){setTimeout(()=>{throw S},0)}})};return E(f,Qf.EventType.OPEN,()=>{p||(Te(Or,`RPC '${e}' stream ${i} transport opened.`),g.Qo())}),E(f,Qf.EventType.CLOSE,()=>{p||(p=!0,Te(Or,`RPC '${e}' stream ${i} transport closed`),g.Uo())}),E(f,Qf.EventType.ERROR,x=>{p||(p=!0,fd(Or,`RPC '${e}' stream ${i} transport errored:`,x),g.Uo(new Pe(ne.UNAVAILABLE,"The operation could not be completed")))}),E(f,Qf.EventType.MESSAGE,x=>{var y;if(!p){const b=x.data[0];zt(!!b);const _=b,S=(_==null?void 0:_.error)||((y=_[0])===null||y===void 0?void 0:y.error);if(S){Te(Or,`RPC '${e}' stream ${i} received error:`,S);const O=S.status;let N=function(R){const v=Wn[R];if(v!==void 0)return sL(v)}(O),T=S.message;N===void 0&&(N=ne.INTERNAL,T="Unknown error status: "+O+" with message "+S.message),p=!0,g.Uo(new Pe(N,T)),f.close()}else Te(Or,`RPC '${e}' stream ${i} received:`,b),g.Ko(b)}}),E(a,SD.STAT_EVENT,x=>{x.stat===TE.PROXY?Te(Or,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===TE.NOPROXY&&Te(Or,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.$o()},0),g}}function Db(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(t){return new B8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP="PersistentStream";class wL{constructor(e,n,r,i,o,s,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new bL(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(oa(n.toString()),oa("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new Pe(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Te(FP,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Te(FP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class D7 extends wL{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=j8(this.serializer,e),r=function(o){if(!("targetChange"in o))return Je.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Je.min():s.readTime?ms(s.readTime):Je.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=FE(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=OE(l)?{documents:H8(o,l)}:{query:G8(o,l).ht},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=cL(o,s.resumeToken);const c=$E(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Je.min())>0){a.readTime=zy(o,s.snapshotVersion.toTimestamp());const c=$E(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=K8(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=FE(this.serializer),n.removeTarget=e,this.I_(n)}}class L7 extends wL{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return zt(!!e.streamToken),this.lastStreamToken=e.streamToken,zt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){zt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=W8(e.writeResults,e.commitTime),r=ms(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=FE(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>z8(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{}class B7 extends F7{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Pe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,DE(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(ne.UNKNOWN,o.toString())})}Co(e,n,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(e,DE(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pe(ne.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class V7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(oa(n),this.N_=!1):Te("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc="RemoteStore";class U7{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(async()=>{Ic(this)&&(Te(pc,"Restarting streams for network reachability change."),await async function(l){const c=nt(l);c.W_.add(4),await Wp(c),c.j_.set("Unknown"),c.W_.delete(4),await h0(c)}(this))})}),this.j_=new V7(r,i)}}async function h0(t){if(Ic(t))for(const e of t.G_)await e(!0)}async function Wp(t){for(const e of t.G_)await e(!1)}function EL(t,e){const n=nt(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),CC(n)?SC(n):zd(n).c_()&&xC(n,e))}function EC(t,e){const n=nt(t),r=zd(n);n.K_.delete(e),r.c_()&&xL(n,e),n.K_.size===0&&(r.c_()?r.P_():Ic(n)&&n.j_.set("Unknown"))}function xC(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zd(t).y_(e)}function xL(t,e){t.H_.Ne(e),zd(t).w_(e)}function SC(t){t.H_=new $8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),zd(t).start(),t.j_.B_()}function CC(t){return Ic(t)&&!zd(t).u_()&&t.K_.size>0}function Ic(t){return nt(t).W_.size===0}function SL(t){t.H_=void 0}async function j7(t){t.j_.set("Online")}async function z7(t){t.K_.forEach((e,n)=>{xC(t,e)})}async function W7(t,e){SL(t),CC(t)?(t.j_.q_(e),SC(t)):t.j_.set("Unknown")}async function H7(t,e,n){if(t.j_.set("Online"),e instanceof lL&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.K_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.K_.delete(a),i.H_.removeTarget(a))}(t,e)}catch(r){Te(pc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hy(t,r)}else if(e instanceof Gm?t.H_.We(e):e instanceof aL?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Je.min()))try{const r=await _L(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.H_.ot(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.K_.get(c);u&&o.K_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.K_.get(l);if(!u)return;o.K_.set(l,u.withResumeToken(Sr.EMPTY_BYTE_STRING,u.snapshotVersion)),xL(o,l);const f=new Ua(u.target,l,c,u.sequenceNumber);xC(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Te(pc,"Failed to raise snapshot:",r),await Hy(t,r)}}async function Hy(t,e,n){if(!jd(e))throw e;t.W_.add(1),await Wp(t),t.j_.set("Offline"),n||(n=()=>_L(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Te(pc,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await h0(t)})}function CL(t,e){return e().catch(n=>Hy(t,n,e))}async function p0(t){const e=nt(t),n=dl(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:lC;for(;G7(e);)try{const i=await I7(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,q7(e,i)}catch(i){await Hy(e,i)}TL(e)&&IL(e)}function G7(t){return Ic(t)&&t.U_.length<10}function q7(t,e){t.U_.push(e);const n=dl(t);n.c_()&&n.S_&&n.b_(e.mutations)}function TL(t){return Ic(t)&&!dl(t).u_()&&t.U_.length>0}function IL(t){dl(t).start()}async function K7(t){dl(t).C_()}async function Y7(t){const e=dl(t);for(const n of t.U_)e.b_(n.mutations)}async function X7(t,e,n){const r=t.U_.shift(),i=gC.from(r,e,n);await CL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await p0(t)}async function Q7(t,e){e&&dl(t).S_&&await async function(r,i){if(function(s){return N8(s)&&s!==ne.ABORTED}(i.code)){const o=r.U_.shift();dl(r).h_(),await CL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await p0(r)}}(t,e),TL(t)&&IL(t)}async function BP(t,e){const n=nt(t);n.asyncQueue.verifyOperationInProgress(),Te(pc,"RemoteStore received new credentials");const r=Ic(n);n.W_.add(3),await Wp(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await h0(n)}async function J7(t,e){const n=nt(t);e?(n.W_.delete(2),await h0(n)):e||(n.W_.add(2),await Wp(n),n.j_.set("Unknown"))}function zd(t){return t.J_||(t.J_=function(n,r,i){const o=nt(n);return o.M_(),new D7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:j7.bind(null,t),No:z7.bind(null,t),Lo:W7.bind(null,t),p_:H7.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),CC(t)?SC(t):t.j_.set("Unknown")):(await t.J_.stop(),SL(t))})),t.J_}function dl(t){return t.Y_||(t.Y_=function(n,r,i){const o=nt(n);return o.M_(),new L7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:K7.bind(null,t),Lo:Q7.bind(null,t),D_:Y7.bind(null,t),v_:X7.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await p0(t)):(await t.Y_.stop(),t.U_.length>0&&(Te(pc,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new TC(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function IC(t,e){if(oa("AsyncQueue",`${e}: ${t}`),jd(t))return new Pe(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{static emptySet(e){return new Ju(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ve.comparator(n.key,r.key):(n,r)=>Ve.comparator(n.key,r.key),this.keyedMap=Jf(),this.sortedSet=new Yn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ju)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ju;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(){this.Z_=new Yn(Ve.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ke():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class vd{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new vd(e,n,Ju.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&s0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class eG{constructor(){this.queries=UP(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=nt(n),o=i.queries;i.queries=UP(),o.forEach((s,a)=>{for(const l of a.ta)l.onError(r)})})(this,new Pe(ne.ABORTED,"Firestore shutting down"))}}function UP(){return new Tc(t=>qD(t),s0)}async function RL(t,e){const n=nt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new Z7,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=IC(s,`Initialization of query '${au(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.ta.push(e),e.sa(n.onlineState),o.ea&&e.oa(o.ea)&&RC(n)}async function PL(t,e){const n=nt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ta.indexOf(e);s>=0&&(o.ta.splice(s,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function tG(t,e){const n=nt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.ta)a.oa(i)&&(r=!0);s.ea=i}}r&&RC(n)}function nG(t,e,n){const r=nt(t),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(e)}function RC(t){t.ia.forEach(e=>{e.next()})}var UE,jP;(jP=UE||(UE={}))._a="default",jP.Cache="cache";class kL{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new vd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=vd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==UE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.key=e}}class OL{constructor(e){this.key=e}}class rG{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Tt(),this.mutatedKeys=Tt(),this.ya=KD(e),this.wa=new Ju(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new VP,i=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),p=a0(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;h&&p?h.data.isEqual(p.data)?g!==E&&(r.track({type:3,doc:p}),x=!0):this.va(h,p)||(r.track({type:2,doc:p}),x=!0,(l&&this.ya(p,l)>0||c&&this.ya(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),x=!0):h&&!p&&(r.track({type:1,doc:h}),x=!0,(l||c)&&(a=!0)),x&&(p?(s=s.add(p),o=E?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{wa:s,Da:r,ls:a,mutatedKeys:o}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort((u,f)=>function(p,g){const E=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke()}};return E(p)-E(g)}(u.type,f.type)||this.ya(u.doc,f.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,c=l!==this.ga;return this.ga=l,s.length!==0||c?{snapshot:new vd(this.query,e.wa,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new VP,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Tt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new OL(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new AL(r))}),n}Oa(e){this.fa=e.gs,this.pa=Tt();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return vd.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const PC="SyncEngine";class iG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class oG{constructor(e){this.key=e,this.Ba=!1}}class sG{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new Tc(a=>qD(a),s0),this.qa=new Map,this.Qa=new Set,this.$a=new Yn(Ve.comparator),this.Ua=new Map,this.Ka=new vC,this.Wa={},this.Ga=new Map,this.za=yd.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function aG(t,e,n=!0){const r=FL(t);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await NL(r,e,n,!0),i}async function lG(t,e){const n=FL(t);await NL(n,e,!0,!1)}async function NL(t,e,n,r){const i=await R7(t.localStore,gs(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await cG(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&EL(t.remoteStore,i),a}async function cG(t,e,n,r,i){t.Ha=(f,h,p)=>async function(E,x,y,b){let _=x.view.ba(y);_.ls&&(_=await MP(E.localStore,x.query,!1).then(({documents:T})=>x.view.ba(T,_)));const S=b&&b.targetChanges.get(x.targetId),O=b&&b.targetMismatches.get(x.targetId)!=null,N=x.view.applyChanges(_,E.isPrimaryClient,S,O);return WP(E,x.targetId,N.Ma),N.snapshot}(t,f,h,p);const o=await MP(t.localStore,e,!0),s=new rG(e,o.gs),a=s.ba(o.documents),l=zp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);WP(t,n,c.Ma);const u=new iG(e,n,s);return t.ka.set(e,u),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function uG(t,e,n){const r=nt(t),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!s0(s,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await BE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&EC(r.remoteStore,i.targetId),jE(r,i.targetId)}).catch(Ud)):(jE(r,i.targetId),await BE(r.localStore,i.targetId,!0))}async function dG(t,e){const n=nt(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),EC(n.remoteStore,r.targetId))}async function fG(t,e,n){const r=_G(t);try{const i=await function(s,a){const l=nt(s),c=nr.now(),u=a.reduce((p,g)=>p.add(g.key),Tt());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=sa(),E=Tt();return l.ds.getEntries(p,u).next(x=>{g=x,g.forEach((y,b)=>{b.isValidDocument()||(E=E.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(x=>{f=x;const y=[];for(const b of a){const _=R8(b,f.get(b.key).overlayedDocument);_!=null&&y.push(new Rl(b.key,_,BD(_.value.mapValue),ni.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,y,a)}).next(x=>{h=x;const y=x.applyToLocalDocumentSet(f,E);return l.documentOverlayCache.saveOverlays(p,x.batchId,y)})}).then(()=>({batchId:h.batchId,changes:XD(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Wa[s.currentUser.toKey()];c||(c=new Yn(pt)),c=c.insert(a,l),s.Wa[s.currentUser.toKey()]=c}(r,i.batchId,n),await Hp(r,i.changes),await p0(r.remoteStore)}catch(i){const o=IC(i,"Failed to persist write");n.reject(o)}}async function ML(t,e){const n=nt(t);try{const r=await C7(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ua.get(o);s&&(zt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?zt(s.Ba):i.removedDocuments.size>0&&(zt(s.Ba),s.Ba=!1))}),await Hp(n,r,e)}catch(r){await Ud(r)}}function zP(t,e,n){const r=nt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((o,s)=>{const a=s.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=nt(s);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.ta)h.sa(a)&&(c=!0)}),c&&RC(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hG(t,e,n){const r=nt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),o=i&&i.key;if(o){let s=new Yn(Ve.comparator);s=s.insert(o,Vr.newNoDocument(o,Je.min()));const a=Tt().add(o),l=new d0(Je.min(),new Map,new Yn(pt),s,a);await ML(r,l),r.$a=r.$a.remove(o),r.Ua.delete(e),kC(r)}else await BE(r.localStore,e,!1).then(()=>jE(r,e,n)).catch(Ud)}async function pG(t,e){const n=nt(t),r=e.batch.batchId;try{const i=await S7(n.localStore,e);DL(n,r,null),$L(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hp(n,i)}catch(i){await Ud(i)}}async function gG(t,e,n){const r=nt(t);try{const i=await function(s,a){const l=nt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(zt(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);DL(r,e,n),$L(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hp(r,i)}catch(i){await Ud(i)}}function $L(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function DL(t,e,n){const r=nt(t);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function jE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||LL(t,r)})}function LL(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(EC(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),kC(t))}function WP(t,e,n){for(const r of n)r instanceof AL?(t.Ka.addReference(r.key,e),mG(t,r)):r instanceof OL?(Te(PC,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||LL(t,r.key)):Ke()}function mG(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(Te(PC,"New document in limbo: "+n),t.Qa.add(r),kC(t))}function kC(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Ve(pn.fromString(e)),r=t.za.next();t.Ua.set(r,new oG(n)),t.$a=t.$a.insert(n,r),EL(t.remoteStore,new Ua(gs(hC(n.path)),r,"TargetPurposeLimboResolution",r0.ae))}}async function Hp(t,e,n){const r=nt(t),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{s.push(r.Ha(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=bC.Yi(l.targetId,c);o.push(f)}}))}),await Promise.all(s),r.La.p_(i),await async function(l,c){const u=nt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>te.forEach(c,h=>te.forEach(h.Hi,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>te.forEach(h.Ji,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!jd(f))throw f;Te(wC,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.Ts.get(h),g=p.snapshotVersion,E=p.withLastLimboFreeSnapshotVersion(g);u.Ts=u.Ts.insert(h,E)}}}(r.localStore,o))}async function yG(t,e){const n=nt(t);if(!n.currentUser.isEqual(e)){Te(PC,"User change. New user:",e.toKey());const r=await vL(n.localStore,e);n.currentUser=e,function(o,s){o.Ga.forEach(a=>{a.forEach(l=>{l.reject(new Pe(ne.CANCELLED,s))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hp(n,r.Rs)}}function vG(t,e){const n=nt(t),r=n.Ua.get(e);if(r&&r.Ba)return Tt().add(r.key);{let i=Tt();const o=n.qa.get(e);if(!o)return i;for(const s of o){const a=n.ka.get(s);i=i.unionWith(a.view.Sa)}return i}}function FL(t){const e=nt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ML.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hG.bind(null,e),e.La.p_=tG.bind(null,e.eventManager),e.La.Ja=nG.bind(null,e.eventManager),e}function _G(t){const e=nt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gG.bind(null,e),e}class Gy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=f0(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return x7(this.persistence,new b7,e.initialUser,this.serializer)}Xa(e){return new yL(_C.ri,this.serializer)}Za(e){return new k7}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gy.provider={build:()=>new Gy};class bG extends Gy{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){zt(this.persistence.referenceDelegate instanceof Wy);const r=this.persistence.referenceDelegate.garbageCollector;return new o7(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?di.withCacheSize(this.cacheSizeBytes):di.DEFAULT;return new yL(r=>Wy.ri(r,n),this.serializer)}}class zE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yG.bind(null,this.syncEngine),await J7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eG}()}createDatastore(e){const n=f0(e.databaseInfo.databaseId),r=function(o){return new $7(o)}(e.databaseInfo);return function(o,s,a,l){return new B7(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new U7(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>zP(this.syncEngine,n,0),function(){return LP.D()?new LP:new A7}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,u){const f=new sG(i,o,s,a,l,c);return u&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=nt(i);Te(pc,"RemoteStore shutting down."),o.W_.add(5),await Wp(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zE.provider={build:()=>new zE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):oa("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl="FirestoreClient";class wG{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fr.UNAUTHENTICATED,this.clientId=PD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Te(fl,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Te(fl,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=IC(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Lb(t,e){t.asyncQueue.verifyOperationInProgress(),Te(fl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await vL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function HP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await EG(t);Te(fl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>BP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>BP(e.remoteStore,i)),t._onlineComponents=e}async function EG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(fl,"Using user provided OfflineComponentProvider");try{await Lb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;fd("Error using user provided cache. Falling back to memory cache: "+n),await Lb(t,new Gy)}}else Te(fl,"Using default OfflineComponentProvider"),await Lb(t,new bG(void 0));return t._offlineComponents}async function VL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(fl,"Using user provided OnlineComponentProvider"),await HP(t,t._uninitializedComponentsProvider._online)):(Te(fl,"Using default OnlineComponentProvider"),await HP(t,new zE))),t._onlineComponents}function xG(t){return VL(t).then(e=>e.syncEngine)}async function WE(t){const e=await VL(t),n=e.eventManager;return n.onListen=aG.bind(null,e.syncEngine),n.onUnlisten=uG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dG.bind(null,e.syncEngine),n}function SG(t,e,n={}){const r=new Za;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new BL({next:h=>{u.su(),s.enqueueAndForget(()=>PL(o,f)),h.fromCache&&l.source==="server"?c.reject(new Pe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new kL(a,u,{includeMetadataChanges:!0,Ta:!0});return RL(o,f)}(await WE(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t,e,n){if(!n)throw new Pe(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function CG(t,e,n,r){if(e===!0&&r===!0)throw new Pe(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qP(t){if(!Ve.isDocumentKey(t))throw new Pe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function KP(t){if(Ve.isDocumentKey(t))throw new Pe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function g0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ke()}function Gi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=g0(t);throw new Pe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL="firestore.googleapis.com",YP=!0;class XP{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zL,this.ssl=YP}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:YP;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<r7)throw new Pe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class m0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new MH;switch(r.type){case"firstParty":return new FH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=GP.get(n);r&&(Te("ComponentProvider","Removing Datastore"),GP.delete(n),r.terminate())}(this),Promise.resolve()}}function TG(t,e,n,r={}){var i;const o=(t=Gi(t,m0))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;o.host!==zL&&o.host!==a&&fd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!ta(l,s)&&(t._setSettings(l),r.mockUserToken)){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Fr.MOCK_USER;else{c=GS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Pe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Fr(f)}t._authCredentials=new $H(new ID(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Rc(this.firestore,e,this._query)}}class ri{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ri(this.firestore,e,this._key)}}class tl extends Rc{constructor(e,n,r){super(e,n,hC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ri(this.firestore,null,new Ve(e))}withConverter(e){return new tl(this.firestore,e,this._path)}}function ht(t,e,...n){if(t=Wt(t),jL("collection","path",e),t instanceof m0){const r=pn.fromString(e,...n);return KP(r),new tl(t,null,r)}{if(!(t instanceof ri||t instanceof tl))throw new Pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pn.fromString(e,...n));return KP(r),new tl(t.firestore,null,r)}}function sn(t,e,...n){if(t=Wt(t),arguments.length===1&&(e=PD.newId()),jL("doc","path",e),t instanceof m0){const r=pn.fromString(e,...n);return qP(r),new ri(t,null,new Ve(r))}{if(!(t instanceof ri||t instanceof tl))throw new Pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pn.fromString(e,...n));return qP(r),new ri(t.firestore,t instanceof tl?t.converter:null,new Ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="AsyncQueue";class JP{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new bL(this,"async_queue_retry"),this.Su=()=>{const r=Db();r&&Te(QP,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=Db();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Db();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Za;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!jd(e))throw e;Te(QP,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw oa("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=TC.createAndSchedule(this,e,n,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&Ke()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function ZP(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class aa extends m0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new JP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JP(e),this._firestoreClient=void 0,await e}}}function IG(t,e){const n=typeof t=="object"?t:Zv(),r=typeof t=="string"?t:Fy,i=Dp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=HS("firestore");o&&TG(i,...o)}return i}function y0(t){if(t._terminated)throw new Pe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||RG(t),t._firestoreClient}function RG(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,c,u){return new ZH(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,UL(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new wG(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _d(Sr.fromBase64String(e))}catch(n){throw new Pe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _d(Sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pt(this._lat,e._lat)||pt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PG=/^__.*__$/;class kG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Rl(e,this.data,this.fieldMask,n,this.fieldTransforms):new jp(e,this.data,n,this.fieldTransforms)}}class WL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Rl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke()}}class v0{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new v0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return qy(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(HL(this.Lu)&&PG.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class AG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||f0(e)}ju(e,n,r,i=!1){return new v0({Lu:e,methodName:n,zu:r,path:wr.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kp(t){const e=t._freezeSettings(),n=f0(t._databaseId);return new AG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NC(t,e,n,r,i,o={}){const s=t.ju(o.merge||o.mergeFields?2:0,e,n,i);DC("Data must be an object, but it was:",s,r);const a=KL(r,s);let l,c;if(o.merge)l=new Ui(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const f of o.mergeFields){const h=HE(e,f,n);if(!s.contains(h))throw new Pe(ne.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);XL(u,h)||u.push(h)}l=new Ui(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new kG(new hi(a),l,c)}class _0 extends qp{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _0}}function OG(t,e,n){return new v0({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class MC extends qp{_toFieldTransform(e){return new rL(e.path,new ap)}isEqual(e){return e instanceof MC}}class $C extends qp{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=OG(this,e,!0),r=this.Hu.map(o=>Wd(o,n)),i=new md(r);return new rL(e.path,i)}isEqual(e){return e instanceof $C&&ta(this.Hu,e.Hu)}}function GL(t,e,n,r){const i=t.ju(1,e,n);DC("Data must be an object, but it was:",i,r);const o=[],s=hi.empty();Il(r,(l,c)=>{const u=LC(e,l,n);c=Wt(c);const f=i.Uu(u);if(c instanceof _0)o.push(u);else{const h=Wd(c,f);h!=null&&(o.push(u),s.set(u,h))}});const a=new Ui(o);return new WL(s,a,i.fieldTransforms)}function qL(t,e,n,r,i,o){const s=t.ju(1,e,n),a=[HE(e,r,n)],l=[i];if(o.length%2!=0)throw new Pe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(HE(e,o[h])),l.push(o[h+1]);const c=[],u=hi.empty();for(let h=a.length-1;h>=0;--h)if(!XL(c,a[h])){const p=a[h];let g=l[h];g=Wt(g);const E=s.Uu(p);if(g instanceof _0)c.push(p);else{const x=Wd(g,E);x!=null&&(c.push(p),u.set(p,x))}}const f=new Ui(c);return new WL(u,f,s.fieldTransforms)}function NG(t,e,n,r=!1){return Wd(n,t.ju(r?4:3,e))}function Wd(t,e){if(YL(t=Wt(t)))return DC("Unsupported field value:",e,t),KL(t,e);if(t instanceof qp)return function(r,i){if(!HL(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Wd(a,i.Ku(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return E8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=nr.fromDate(r);return{timestampValue:zy(i.serializer,o)}}if(r instanceof nr){const o=new nr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zy(i.serializer,o)}}if(r instanceof AC)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _d)return{bytesValue:cL(i.serializer,r._byteString)};if(r instanceof ri){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof OC)return function(s,a){return{mapValue:{fields:{[LD]:{stringValue:FD},[By]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return pC(a.serializer,c)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${g0(r)}`)}(t,e)}function KL(t,e){const n={};return AD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Il(t,(r,i)=>{const o=Wd(i,e.qu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function YL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nr||t instanceof AC||t instanceof _d||t instanceof ri||t instanceof qp||t instanceof OC)}function DC(t,e,n){if(!YL(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=g0(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function HE(t,e,n){if((e=Wt(e))instanceof Gp)return e._internalPath;if(typeof e=="string")return LC(t,e);throw qy("Field path arguments must be of type string or ",t,!1,void 0,n)}const MG=new RegExp("[~\\*/\\[\\]]");function LC(t,e,n){if(e.search(MG)>=0)throw qy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gp(...e.split("."))._internalPath}catch{throw qy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qy(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Pe(ne.INVALID_ARGUMENT,a+t+l)}function XL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ri(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $G(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(FC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $G extends QL{data(){return super.data()}}function FC(t,e){return typeof e=="string"?LC(t,e):e instanceof Gp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BC{}class DG extends BC{}function Dr(t,e,...n){let r=[];e instanceof BC&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof VC).length,a=o.filter(l=>l instanceof b0).length;if(s>1||s>0&&a>0)throw new Pe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class b0 extends DG{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new b0(e,n,r)}_apply(e){const n=this._parse(e);return ZL(e._query,n),new Rc(e.firestore,e.converter,NE(e._query,n))}_parse(e){const n=Kp(e.firestore);return function(o,s,a,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Pe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){tk(f,u);const g=[];for(const E of f)g.push(ek(l,o,E));h={arrayValue:{values:g}}}else h=ek(l,o,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||tk(f,u),h=NG(a,s,f,u==="in"||u==="not-in");return Kn.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ni(t,e,n){const r=e,i=FC("where",t);return b0._create(i,r,n)}class VC extends BC{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new VC(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ko.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)ZL(s,l),s=NE(s,l)}(e._query,n),new Rc(e.firestore,e.converter,NE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ek(t,e,n){if(typeof(n=Wt(n))=="string"){if(n==="")throw new Pe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GD(e)&&n.indexOf("/")!==-1)throw new Pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pn.fromString(n));if(!Ve.isDocumentKey(r))throw new Pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gP(t,new Ve(r))}if(n instanceof ri)return gP(t,n._key);throw new Pe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${g0(n)}.`)}function tk(t,e){if(!Array.isArray(t)||t.length===0)throw new Pe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZL(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class LG{convertValue(e,n="none"){switch(ul(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Il(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[By].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ln(s.doubleValue));return new OC(o)}convertGeoPoint(e){return new AC(Ln(e.latitude),Ln(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=o0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ip(e));default:return null}}convertTimestamp(e){const n=ll(e);return new nr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pn.fromString(e);zt(gL(r));const i=new op(r.get(1),r.get(3)),o=new Ve(r.popFirst(5));return i.isEqual(n)||oa(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eF extends QL{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(FC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class qm extends eF{data(e={}){return super.data(e)}}class tF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new eh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qm(this._firestore,this._userDataWriter,r.key,r,new eh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new qm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new eh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new qm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new eh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:FG(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function FG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke()}}class jC extends LG{constructor(e){super(),this.firestore=e}convertBytes(e){return new _d(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ri(this.firestore,null,n)}}function Mi(t){t=Gi(t,Rc);const e=Gi(t.firestore,aa),n=y0(e),r=new jC(e);return JL(t._query),SG(n,t._query).then(i=>new tF(e,r,t,i))}function nk(t,e,n){t=Gi(t,ri);const r=Gi(t.firestore,aa),i=UC(t.converter,e,n);return Yp(r,[NC(Kp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ni.none())])}function uu(t,e,n,...r){t=Gi(t,ri);const i=Gi(t.firestore,aa),o=Kp(i);let s;return s=typeof(e=Wt(e))=="string"||e instanceof Gp?qL(o,"updateDoc",t._key,e,n,r):GL(o,"updateDoc",t._key,e),Yp(i,[s.toMutation(t._key,ni.exists(!0))])}function nF(t){return Yp(Gi(t.firestore,aa),[new u0(t._key,ni.none())])}function Lr(t,e){const n=Gi(t.firestore,aa),r=sn(t),i=UC(t.converter,e);return Yp(n,[NC(Kp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ni.exists(!1))]).then(()=>r)}function wh(t,...e){var n,r,i;t=Wt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||ZP(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(ZP(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,u;if(t instanceof ri)c=Gi(t.firestore,aa),u=hC(t._key.path),l={next:f=>{e[s]&&e[s](BG(c,t,f))},error:e[s+1],complete:e[s+2]};else{const f=Gi(t,Rc);c=Gi(f.firestore,aa),u=f._query;const h=new jC(c);l={next:p=>{e[s]&&e[s](new tF(c,h,f,p))},error:e[s+1],complete:e[s+2]},JL(t._query)}return function(h,p,g,E){const x=new BL(E),y=new kL(p,x,g);return h.asyncQueue.enqueueAndForget(async()=>RL(await WE(h),y)),()=>{x.su(),h.asyncQueue.enqueueAndForget(async()=>PL(await WE(h),y))}}(y0(c),u,a,l)}function Yp(t,e){return function(r,i){const o=new Za;return r.asyncQueue.enqueueAndForget(async()=>fG(await xG(r),i,o)),o.promise}(y0(t),e)}function BG(t,e,n){const r=n.docs.get(e._key),i=new jC(t);return new eF(t,i,e._key,r,new eh(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Kp(e)}set(e,n,r){this._verifyNotCommitted();const i=Fb(e,this._firestore),o=UC(i.converter,n,r),s=NC(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,ni.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Fb(e,this._firestore);let s;return s=typeof(n=Wt(n))=="string"||n instanceof Gp?qL(this._dataReader,"WriteBatch.update",o._key,n,r,i):GL(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,ni.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Fb(e,this._firestore);return this._mutations=this._mutations.concat(new u0(n._key,ni.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Fb(t,e){if((t=Wt(t)).firestore!==e)throw new Pe(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ky(){return new MC("serverTimestamp")}function UG(...t){return new $C("arrayUnion",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t){return y0(t=Gi(t,aa)),new VG(t,e=>Yp(t,e))}(function(e,n=!0){(function(i){Vd=i})(xl),sl(new na("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new aa(new DH(r.getProvider("auth-internal")),new BH(s,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Pe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new op(c.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),mo(rP,iP,e),mo(rP,iP,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF="firebasestorage.googleapis.com",iF="storageBucket",jG=2*60*1e3,zG=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn extends Ts{constructor(e,n,r=0){super(Bb(e),`Firebase Storage: ${n} (${Bb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Nn||(Nn={}));function Bb(t){return"storage/"+t}function zC(){const t="An unknown error occurred, please check the error payload for server response.";return new Mn(Nn.UNKNOWN,t)}function WG(t){return new Mn(Nn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function HG(t){return new Mn(Nn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function GG(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mn(Nn.UNAUTHENTICATED,t)}function qG(){return new Mn(Nn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function KG(t){return new Mn(Nn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function YG(){return new Mn(Nn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function XG(){return new Mn(Nn.CANCELED,"User canceled the upload/download.")}function QG(t){return new Mn(Nn.INVALID_URL,"Invalid URL '"+t+"'.")}function JG(t){return new Mn(Nn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function ZG(){return new Mn(Nn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+iF+"' property when initializing the app?")}function eq(){return new Mn(Nn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tq(){return new Mn(Nn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function nq(t){return new Mn(Nn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function GE(t){return new Mn(Nn.INVALID_ARGUMENT,t)}function oF(){return new Mn(Nn.APP_DELETED,"The Firebase app was deleted.")}function rq(t){return new Mn(Nn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Eh(t,e){return new Mn(Nn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Pf(t){throw new Mn(Nn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ji.makeFromUrl(e,n)}catch{return new ji(e,"")}if(r.path==="")return r;throw JG(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},E=n===rF?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",y=new RegExp(`^https?://${E}/${i}/${x}`,"i"),_=[{regex:a,indices:l,postModify:o},{regex:p,indices:g,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<_.length;S++){const O=_[S],N=O.regex.exec(e);if(N){const T=N[O.indices.bucket];let I=N[O.indices.path];I||(I=""),r=new ji(T,I),O.postModify(r);break}}if(r==null)throw QG(e);return r}}class iq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oq(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let c=!1;function u(...x){c||(c=!0,e.apply(null,x))}function f(x){i=setTimeout(()=>{i=null,t(p,l())},x)}function h(){o&&clearTimeout(o)}function p(x,...y){if(c){h();return}if(x){h(),u.call(null,x,...y);return}if(l()||s){h(),u.call(null,x,...y);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,f(_)}let g=!1;function E(x){g||(g=!0,h(),!c&&(i!==null?(x||(a=2),clearTimeout(i),f(0)):x||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,E(!0)},n),E}function sq(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aq(t){return t!==void 0}function lq(t){return typeof t=="object"&&!Array.isArray(t)}function WC(t){return typeof t=="string"||t instanceof String}function rk(t){return HC()&&t instanceof Blob}function HC(){return typeof Blob<"u"}function ik(t,e,n,r){if(r<e)throw GE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw GE(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function sF(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var rc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(rc||(rc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e,n,r,i,o,s,a,l,c,u,f,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new em(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===rc.NO_ERROR,l=o.getStatus();if(!a||cq(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===rc.ABORT;r(!1,new em(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new em(c,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());aq(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=zC();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?oF():XG();s(l)}else{const l=YG();s(l)}};this.canceled_?n(!1,new em(!1,null,!0)):this.backoffId_=oq(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&sq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class em{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function dq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function fq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function hq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function pq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function gq(t,e,n,r,i,o,s=!0){const a=sF(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return hq(c,e),dq(c,n),fq(c,o),pq(c,r),new uq(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function yq(...t){const e=mq();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(HC())return new Blob(t);throw new Mn(Nn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function vq(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _q(t){if(typeof atob>"u")throw nq("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Vb{constructor(e,n){this.data=e,this.contentType=n||null}}function bq(t,e){switch(t){case ds.RAW:return new Vb(aF(e));case ds.BASE64:case ds.BASE64URL:return new Vb(lF(t,e));case ds.DATA_URL:return new Vb(Eq(e),xq(e))}throw zC()}function aF(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function wq(t){let e;try{e=decodeURIComponent(t)}catch{throw Eh(ds.DATA_URL,"Malformed data URL.")}return aF(e)}function lF(t,e){switch(t){case ds.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Eh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ds.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Eh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=_q(e)}catch(i){throw i.message.includes("polyfill")?i:Eh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class cF{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Eh(ds.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Sq(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Eq(t){const e=new cF(t);return e.base64?lF(ds.BASE64,e.rest):wq(e.rest)}function xq(t){return new cF(t).contentType}function Sq(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n){let r=0,i="";rk(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(rk(this.data_)){const r=this.data_,i=vq(r,e,n);return i===null?null:new $a(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new $a(r,!0)}}static getBlob(...e){if(HC()){const n=e.map(r=>r instanceof $a?r.data_:r);return new $a(yq.apply(null,n))}else{const n=e.map(s=>WC(s)?bq(ds.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new $a(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(t){let e;try{e=JSON.parse(t)}catch{return null}return lq(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cq(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Tq(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function dF(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(t,e){return e}class Xr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Iq}}let tm=null;function Rq(t){return!WC(t)||t.length<2?t:dF(t)}function fF(){if(tm)return tm;const t=[];t.push(new Xr("bucket")),t.push(new Xr("generation")),t.push(new Xr("metageneration")),t.push(new Xr("name","fullPath",!0));function e(o,s){return Rq(s)}const n=new Xr("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Xr("size");return i.xform=r,t.push(i),t.push(new Xr("timeCreated")),t.push(new Xr("updated")),t.push(new Xr("md5Hash",null,!0)),t.push(new Xr("cacheControl",null,!0)),t.push(new Xr("contentDisposition",null,!0)),t.push(new Xr("contentEncoding",null,!0)),t.push(new Xr("contentLanguage",null,!0)),t.push(new Xr("contentType",null,!0)),t.push(new Xr("metadata","customMetadata",!0)),tm=t,tm}function Pq(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new ji(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function kq(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return Pq(r,t),r}function hF(t,e,n){const r=uF(e);return r===null?null:kq(t,r,n)}function Aq(t,e,n,r){const i=uF(e);if(i===null||!WC(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const u=t.bucket,f=t.fullPath,h="/b/"+s(u)+"/o/"+s(f),p=GC(h,n,r),g=sF({alt:"media",token:c});return p+g})[0]}function Oq(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class pF{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(t){if(!t)throw zC()}function Nq(t,e){function n(r,i){const o=hF(t,i,e);return gF(o!==null),o}return n}function Mq(t,e){function n(r,i){const o=hF(t,i,e);return gF(o!==null),Aq(o,i,t.host,t._protocol)}return n}function mF(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=qG():i=GG():n.getStatus()===402?i=HG(t.bucket):n.getStatus()===403?i=KG(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function $q(t){const e=mF(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=WG(t.path)),o.serverResponse=i.serverResponse,o}return n}function Dq(t,e,n){const r=e.fullServerUrl(),i=GC(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new pF(i,o,Mq(t,n),s);return a.errorHandler=$q(e),a}function Lq(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Fq(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Lq(null,e)),r}function Bq(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let S=0;S<2;S++)_=_+Math.random().toString().slice(2);return _}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const c=Fq(e,r,i),u=Oq(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=$a.getBlob(f,r,h);if(p===null)throw eq();const g={name:c.fullPath},E=GC(o,t.host,t._protocol),x="POST",y=t.maxUploadRetryTime,b=new pF(E,x,Nq(t,n),y);return b.urlParams=g,b.headers=s,b.body=p.uploadData(),b.errorHandler=mF(e),b}class Vq{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=rc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=rc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=rc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Pf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Pf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Uq extends Vq{initXhr(){this.xhr_.responseType="text"}}function yF(){return new Uq}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this._service=e,n instanceof ji?this._location=n:this._location=ji.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new gc(e,n)}get root(){const e=new ji(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dF(this._location.path)}get storage(){return this._service}get parent(){const e=Cq(this._location.path);if(e===null)return null;const n=new ji(this._location.bucket,e);return new gc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw rq(e)}}function jq(t,e,n){t._throwIfRoot("uploadBytes");const r=Bq(t.storage,t._location,fF(),new $a(e,!0),n);return t.storage.makeRequestWithTokens(r,yF).then(i=>({metadata:i,ref:t}))}function zq(t){t._throwIfRoot("getDownloadURL");const e=Dq(t.storage,t._location,fF());return t.storage.makeRequestWithTokens(e,yF).then(n=>{if(n===null)throw tq();return n})}function Wq(t,e){const n=Tq(t._location.path,e),r=new ji(t._location.bucket,n);return new gc(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hq(t){return/^[A-Za-z]+:\/\//.test(t)}function Gq(t,e){return new gc(t,e)}function vF(t,e){if(t instanceof qC){const n=t;if(n._bucket==null)throw ZG();const r=new gc(n,n._bucket);return e!=null?vF(r,e):r}else return e!==void 0?Wq(t,e):t}function qq(t,e){if(e&&Hq(e)){if(t instanceof qC)return Gq(t,e);throw GE("To use ref(service, url), the first argument must be a Storage instance.")}else return vF(t,e)}function ok(t,e){const n=e==null?void 0:e[iF];return n==null?null:ji.makeFromBucketSpec(n,t)}function Kq(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:GS(i,t.app.options.projectId))}class qC{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=rF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jG,this._maxUploadRetryTime=zG,this._requests=new Set,i!=null?this._bucket=ji.makeFromBucketSpec(i,this._host):this._bucket=ok(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ji.makeFromBucketSpec(this._url,e):this._bucket=ok(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ik("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ik("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gc(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new iq(oF());{const s=gq(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const sk="@firebase/storage",ak="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F="storage";function lk(t,e,n){return t=Wt(t),jq(t,e,n)}function ck(t){return t=Wt(t),zq(t)}function uk(t,e){return t=Wt(t),qq(t,e)}function Yq(t=Zv(),e){t=Wt(t);const r=Dp(t,_F).getImmediate({identifier:e}),i=HS("storage");return i&&Xq(r,...i),r}function Xq(t,e,n,r={}){Kq(t,e,n,r)}function Qq(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new qC(n,r,i,e,xl)}function Jq(){sl(new na(_F,Qq,"PUBLIC").setMultipleInstances(!0)),mo(sk,ak,""),mo(sk,ak,"esm2017")}Jq();const Zq={apiKey:"AIzaSyBwhJVoZ2nKnGrl9VJ7D6GXpcUha2IRN08",authDomain:"notetaker-f71ae.firebaseapp.com",databaseURL:"https://notetaker-f71ae-default-rtdb.firebaseio.com",projectId:"notetaker-f71ae",storageBucket:"notetaker-f71ae.firebasestorage.app",messagingSenderId:"466022334149",appId:"1:466022334149:web:bb9e6830f35a4b94b73aac",measurementId:"G-ZH0WYZKWKN"},KC=B$(Zq),ic=OH(KC),be=IG(KC),dk=Yq(KC),cp={black:"#000",white:"#fff"},Zc={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},eu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},tu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},nu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},ru={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},kf={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},eK={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function la(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const w0="$$material";function Yy(){return Yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yy.apply(null,arguments)}function tK(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function nK(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var rK=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(nK(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=tK(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),$r="-ms-",Xy="-moz-",Ut="-webkit-",bF="comm",YC="rule",XC="decl",iK="@import",wF="@keyframes",oK="@layer",sK=Math.abs,E0=String.fromCharCode,aK=Object.assign;function lK(t,e){return br(t,0)^45?(((e<<2^br(t,0))<<2^br(t,1))<<2^br(t,2))<<2^br(t,3):0}function EF(t){return t.trim()}function cK(t,e){return(t=e.exec(t))?t[0]:t}function jt(t,e,n){return t.replace(e,n)}function qE(t,e){return t.indexOf(e)}function br(t,e){return t.charCodeAt(e)|0}function up(t,e,n){return t.slice(e,n)}function as(t){return t.length}function QC(t){return t.length}function nm(t,e){return e.push(t),t}function uK(t,e){return t.map(e).join("")}var x0=1,bd=1,xF=0,Si=0,Gn=0,Hd="";function S0(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:x0,column:bd,length:s,return:""}}function Af(t,e){return aK(S0("",null,null,"",null,null,0),t,{length:-t.length},e)}function dK(){return Gn}function fK(){return Gn=Si>0?br(Hd,--Si):0,bd--,Gn===10&&(bd=1,x0--),Gn}function qi(){return Gn=Si<xF?br(Hd,Si++):0,bd++,Gn===10&&(bd=1,x0++),Gn}function ys(){return br(Hd,Si)}function Km(){return Si}function Xp(t,e){return up(Hd,t,e)}function dp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function SF(t){return x0=bd=1,xF=as(Hd=t),Si=0,[]}function CF(t){return Hd="",t}function Ym(t){return EF(Xp(Si-1,KE(t===91?t+2:t===40?t+1:t)))}function hK(t){for(;(Gn=ys())&&Gn<33;)qi();return dp(t)>2||dp(Gn)>3?"":" "}function pK(t,e){for(;--e&&qi()&&!(Gn<48||Gn>102||Gn>57&&Gn<65||Gn>70&&Gn<97););return Xp(t,Km()+(e<6&&ys()==32&&qi()==32))}function KE(t){for(;qi();)switch(Gn){case t:return Si;case 34:case 39:t!==34&&t!==39&&KE(Gn);break;case 40:t===41&&KE(t);break;case 92:qi();break}return Si}function gK(t,e){for(;qi()&&t+Gn!==57;)if(t+Gn===84&&ys()===47)break;return"/*"+Xp(e,Si-1)+"*"+E0(t===47?t:qi())}function mK(t){for(;!dp(ys());)qi();return Xp(t,Si)}function yK(t){return CF(Xm("",null,null,null,[""],t=SF(t),0,[0],t))}function Xm(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,f=s,h=0,p=0,g=0,E=1,x=1,y=1,b=0,_="",S=i,O=o,N=r,T=_;x;)switch(g=b,b=qi()){case 40:if(g!=108&&br(T,f-1)==58){qE(T+=jt(Ym(b),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:T+=Ym(b);break;case 9:case 10:case 13:case 32:T+=hK(g);break;case 92:T+=pK(Km()-1,7);continue;case 47:switch(ys()){case 42:case 47:nm(vK(gK(qi(),Km()),e,n),l);break;default:T+="/"}break;case 123*E:a[c++]=as(T)*y;case 125*E:case 59:case 0:switch(b){case 0:case 125:x=0;case 59+u:y==-1&&(T=jt(T,/\f/g,"")),p>0&&as(T)-f&&nm(p>32?hk(T+";",r,n,f-1):hk(jt(T," ","")+";",r,n,f-2),l);break;case 59:T+=";";default:if(nm(N=fk(T,e,n,c,u,i,a,_,S=[],O=[],f),o),b===123)if(u===0)Xm(T,e,N,N,S,o,f,a,O);else switch(h===99&&br(T,3)===110?100:h){case 100:case 108:case 109:case 115:Xm(t,N,N,r&&nm(fk(t,N,N,0,0,i,a,_,i,S=[],f),O),i,O,f,a,r?S:O);break;default:Xm(T,N,N,N,[""],O,0,a,O)}}c=u=p=0,E=y=1,_=T="",f=s;break;case 58:f=1+as(T),p=g;default:if(E<1){if(b==123)--E;else if(b==125&&E++==0&&fK()==125)continue}switch(T+=E0(b),b*E){case 38:y=u>0?1:(T+="\f",-1);break;case 44:a[c++]=(as(T)-1)*y,y=1;break;case 64:ys()===45&&(T+=Ym(qi())),h=ys(),u=f=as(_=T+=mK(Km())),b++;break;case 45:g===45&&as(T)==2&&(E=0)}}return o}function fk(t,e,n,r,i,o,s,a,l,c,u){for(var f=i-1,h=i===0?o:[""],p=QC(h),g=0,E=0,x=0;g<r;++g)for(var y=0,b=up(t,f+1,f=sK(E=s[g])),_=t;y<p;++y)(_=EF(E>0?h[y]+" "+b:jt(b,/&\f/g,h[y])))&&(l[x++]=_);return S0(t,e,n,i===0?YC:a,l,c,u)}function vK(t,e,n){return S0(t,e,n,bF,E0(dK()),up(t,2,-2),0)}function hk(t,e,n,r){return S0(t,e,n,XC,up(t,0,r),up(t,r+1,-1),r)}function Zu(t,e){for(var n="",r=QC(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function _K(t,e,n,r){switch(t.type){case oK:if(t.children.length)break;case iK:case XC:return t.return=t.return||t.value;case bF:return"";case wF:return t.return=t.value+"{"+Zu(t.children,r)+"}";case YC:t.value=t.props.join(",")}return as(n=Zu(t.children,r))?t.return=t.value+"{"+n+"}":""}function bK(t){var e=QC(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function wK(t){return function(e){e.root||(e=e.return)&&t(e)}}function TF(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var EK=function(e,n,r){for(var i=0,o=0;i=o,o=ys(),i===38&&o===12&&(n[r]=1),!dp(o);)qi();return Xp(e,Si)},xK=function(e,n){var r=-1,i=44;do switch(dp(i)){case 0:i===38&&ys()===12&&(n[r]=1),e[r]+=EK(Si-1,n,r);break;case 2:e[r]+=Ym(i);break;case 4:if(i===44){e[++r]=ys()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=E0(i)}while(i=qi());return e},SK=function(e,n){return CF(xK(SF(e),n))},pk=new WeakMap,CK=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!pk.get(r))&&!i){pk.set(e,!0);for(var o=[],s=SK(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},TK=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function IF(t,e){switch(lK(t,e)){case 5103:return Ut+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ut+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ut+t+Xy+t+$r+t+t;case 6828:case 4268:return Ut+t+$r+t+t;case 6165:return Ut+t+$r+"flex-"+t+t;case 5187:return Ut+t+jt(t,/(\w+).+(:[^]+)/,Ut+"box-$1$2"+$r+"flex-$1$2")+t;case 5443:return Ut+t+$r+"flex-item-"+jt(t,/flex-|-self/,"")+t;case 4675:return Ut+t+$r+"flex-line-pack"+jt(t,/align-content|flex-|-self/,"")+t;case 5548:return Ut+t+$r+jt(t,"shrink","negative")+t;case 5292:return Ut+t+$r+jt(t,"basis","preferred-size")+t;case 6060:return Ut+"box-"+jt(t,"-grow","")+Ut+t+$r+jt(t,"grow","positive")+t;case 4554:return Ut+jt(t,/([^-])(transform)/g,"$1"+Ut+"$2")+t;case 6187:return jt(jt(jt(t,/(zoom-|grab)/,Ut+"$1"),/(image-set)/,Ut+"$1"),t,"")+t;case 5495:case 3959:return jt(t,/(image-set\([^]*)/,Ut+"$1$`$1");case 4968:return jt(jt(t,/(.+:)(flex-)?(.*)/,Ut+"box-pack:$3"+$r+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ut+t+t;case 4095:case 3583:case 4068:case 2532:return jt(t,/(.+)-inline(.+)/,Ut+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(as(t)-1-e>6)switch(br(t,e+1)){case 109:if(br(t,e+4)!==45)break;case 102:return jt(t,/(.+:)(.+)-([^]+)/,"$1"+Ut+"$2-$3$1"+Xy+(br(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~qE(t,"stretch")?IF(jt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(br(t,e+1)!==115)break;case 6444:switch(br(t,as(t)-3-(~qE(t,"!important")&&10))){case 107:return jt(t,":",":"+Ut)+t;case 101:return jt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ut+(br(t,14)===45?"inline-":"")+"box$3$1"+Ut+"$2$3$1"+$r+"$2box$3")+t}break;case 5936:switch(br(t,e+11)){case 114:return Ut+t+$r+jt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ut+t+$r+jt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ut+t+$r+jt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ut+t+$r+t+t}return t}var IK=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case XC:e.return=IF(e.value,e.length);break;case wF:return Zu([Af(e,{value:jt(e.value,"@","@"+Ut)})],i);case YC:if(e.length)return uK(e.props,function(o){switch(cK(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Zu([Af(e,{props:[jt(o,/:(read-\w+)/,":"+Xy+"$1")]})],i);case"::placeholder":return Zu([Af(e,{props:[jt(o,/:(plac\w+)/,":"+Ut+"input-$1")]}),Af(e,{props:[jt(o,/:(plac\w+)/,":"+Xy+"$1")]}),Af(e,{props:[jt(o,/:(plac\w+)/,$r+"input-$1")]})],i)}return""})}},RK=[IK],PK=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(E){var x=E.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(E),E.setAttribute("data-s",""))})}var i=e.stylisPlugins||RK,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(E){for(var x=E.getAttribute("data-emotion").split(" "),y=1;y<x.length;y++)o[x[y]]=!0;a.push(E)});var l,c=[CK,TK];{var u,f=[_K,wK(function(E){u.insert(E)})],h=bK(c.concat(i,f)),p=function(x){return Zu(yK(x),h)};l=function(x,y,b,_){u=b,p(x?x+"{"+y.styles+"}":y.styles),_&&(g.inserted[y.name]=!0)}}var g={key:n,sheet:new rK({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return g.sheet.hydrate(a),g},RF={exports:{}},qt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hr=typeof Symbol=="function"&&Symbol.for,JC=hr?Symbol.for("react.element"):60103,ZC=hr?Symbol.for("react.portal"):60106,C0=hr?Symbol.for("react.fragment"):60107,T0=hr?Symbol.for("react.strict_mode"):60108,I0=hr?Symbol.for("react.profiler"):60114,R0=hr?Symbol.for("react.provider"):60109,P0=hr?Symbol.for("react.context"):60110,e1=hr?Symbol.for("react.async_mode"):60111,k0=hr?Symbol.for("react.concurrent_mode"):60111,A0=hr?Symbol.for("react.forward_ref"):60112,O0=hr?Symbol.for("react.suspense"):60113,kK=hr?Symbol.for("react.suspense_list"):60120,N0=hr?Symbol.for("react.memo"):60115,M0=hr?Symbol.for("react.lazy"):60116,AK=hr?Symbol.for("react.block"):60121,OK=hr?Symbol.for("react.fundamental"):60117,NK=hr?Symbol.for("react.responder"):60118,MK=hr?Symbol.for("react.scope"):60119;function eo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case JC:switch(t=t.type,t){case e1:case k0:case C0:case I0:case T0:case O0:return t;default:switch(t=t&&t.$$typeof,t){case P0:case A0:case M0:case N0:case R0:return t;default:return e}}case ZC:return e}}}function PF(t){return eo(t)===k0}qt.AsyncMode=e1;qt.ConcurrentMode=k0;qt.ContextConsumer=P0;qt.ContextProvider=R0;qt.Element=JC;qt.ForwardRef=A0;qt.Fragment=C0;qt.Lazy=M0;qt.Memo=N0;qt.Portal=ZC;qt.Profiler=I0;qt.StrictMode=T0;qt.Suspense=O0;qt.isAsyncMode=function(t){return PF(t)||eo(t)===e1};qt.isConcurrentMode=PF;qt.isContextConsumer=function(t){return eo(t)===P0};qt.isContextProvider=function(t){return eo(t)===R0};qt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===JC};qt.isForwardRef=function(t){return eo(t)===A0};qt.isFragment=function(t){return eo(t)===C0};qt.isLazy=function(t){return eo(t)===M0};qt.isMemo=function(t){return eo(t)===N0};qt.isPortal=function(t){return eo(t)===ZC};qt.isProfiler=function(t){return eo(t)===I0};qt.isStrictMode=function(t){return eo(t)===T0};qt.isSuspense=function(t){return eo(t)===O0};qt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===C0||t===k0||t===I0||t===T0||t===O0||t===kK||typeof t=="object"&&t!==null&&(t.$$typeof===M0||t.$$typeof===N0||t.$$typeof===R0||t.$$typeof===P0||t.$$typeof===A0||t.$$typeof===OK||t.$$typeof===NK||t.$$typeof===MK||t.$$typeof===AK)};qt.typeOf=eo;RF.exports=qt;var $K=RF.exports,kF=$K,DK={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},LK={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},AF={};AF[kF.ForwardRef]=DK;AF[kF.Memo]=LK;var FK=!0;function OF(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var t1=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||FK===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},n1=function(e,n,r){t1(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function BK(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var VK={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},UK=/[A-Z]|^ms/g,jK=/_EMO_([^_]+?)_([^]*?)_EMO_/g,NF=function(e){return e.charCodeAt(1)===45},gk=function(e){return e!=null&&typeof e!="boolean"},Ub=TF(function(t){return NF(t)?t:t.replace(UK,"-$&").toLowerCase()}),mk=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(jK,function(r,i,o){return ls={name:i,styles:o,next:ls},i})}return VK[e]!==1&&!NF(e)&&typeof n=="number"&&n!==0?n+"px":n};function fp(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ls={name:i.name,styles:i.styles,next:ls},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)ls={name:s.name,styles:s.styles,next:ls},s=s.next;var a=o.styles+";";return a}return zK(t,e,n)}case"function":{if(t!==void 0){var l=ls,c=n(t);return ls=l,fp(t,e,c)}break}}var u=n;if(e==null)return u;var f=e[u];return f!==void 0?f:u}function zK(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=fp(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":gk(a)&&(r+=Ub(o)+":"+mk(o,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)gk(s[l])&&(r+=Ub(o)+":"+mk(o,s[l])+";");else{var c=fp(t,e,s);switch(o){case"animation":case"animationName":{r+=Ub(o)+":"+c+";";break}default:r+=o+"{"+c+"}"}}}return r}var yk=/label:\s*([^\s;{]+)\s*(;|$)/g,ls;function Qp(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";ls=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=fp(n,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=fp(n,e,t[a]),r){var l=o;i+=l[a]}yk.lastIndex=0;for(var c="",u;(u=yk.exec(i))!==null;)c+="-"+u[1];var f=BK(i)+c;return{name:f,styles:i,next:ls}}var WK=function(e){return e()},MF=bw.useInsertionEffect?bw.useInsertionEffect:!1,$F=MF||WK,vk=MF||w.useLayoutEffect,DF=w.createContext(typeof HTMLElement<"u"?PK({key:"css"}):null);DF.Provider;var r1=function(e){return w.forwardRef(function(n,r){var i=w.useContext(DF);return e(n,i,r)})},$0=w.createContext({}),i1={}.hasOwnProperty,YE="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",HK=function(e,n){var r={};for(var i in n)i1.call(n,i)&&(r[i]=n[i]);return r[YE]=e,r},GK=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return t1(n,r,i),$F(function(){return n1(n,r,i)}),null},qK=r1(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[YE],o=[r],s="";typeof t.className=="string"?s=OF(e.registered,o,t.className):t.className!=null&&(s=t.className+" ");var a=Qp(o,void 0,w.useContext($0));s+=e.key+"-"+a.name;var l={};for(var c in t)i1.call(t,c)&&c!=="css"&&c!==YE&&(l[c]=t[c]);return l.className=s,n&&(l.ref=n),w.createElement(w.Fragment,null,w.createElement(GK,{cache:e,serialized:a,isStringTag:typeof i=="string"}),w.createElement(i,l))}),KK=qK,_k=function(e,n){var r=arguments;if(n==null||!i1.call(n,"css"))return w.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=KK,o[1]=HK(e,n);for(var s=2;s<i;s++)o[s]=r[s];return w.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(_k||(_k={}));var YK=r1(function(t,e){var n=t.styles,r=Qp([n],void 0,w.useContext($0)),i=w.useRef();return vk(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),vk(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&n1(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function o1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Qp(e)}function Jp(){var t=o1.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var XK=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,QK=TF(function(t){return XK.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),JK=QK,ZK=function(e){return e!=="theme"},bk=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?JK:ZK},wk=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},eY=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return t1(n,r,i),$F(function(){return n1(n,r,i)}),null},tY=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=wk(e,n,r),l=a||bk(i),c=!l("as");return function(){var u=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)f.push.apply(f,u);else{var h=u[0];f.push(h[0]);for(var p=u.length,g=1;g<p;g++)f.push(u[g],h[g])}var E=r1(function(x,y,b){var _=c&&x.as||i,S="",O=[],N=x;if(x.theme==null){N={};for(var T in x)N[T]=x[T];N.theme=w.useContext($0)}typeof x.className=="string"?S=OF(y.registered,O,x.className):x.className!=null&&(S=x.className+" ");var I=Qp(f.concat(O),y.registered,N);S+=y.key+"-"+I.name,s!==void 0&&(S+=" "+s);var R=c&&a===void 0?bk(_):l,v={};for(var k in x)c&&k==="as"||R(k)&&(v[k]=x[k]);return v.className=S,b&&(v.ref=b),w.createElement(w.Fragment,null,w.createElement(eY,{cache:y,serialized:I,isStringTag:typeof _=="string"}),w.createElement(_,v))});return E.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",E.defaultProps=e.defaultProps,E.__emotion_real=E,E.__emotion_base=i,E.__emotion_styles=f,E.__emotion_forwardProp=a,Object.defineProperty(E,"toString",{value:function(){return"."+s}}),E.withComponent=function(x,y){var b=t(x,Yy({},n,y,{shouldForwardProp:wk(E,y,!0)}));return b.apply(void 0,f)},E}},nY=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],XE=tY.bind(null);nY.forEach(function(t){XE[t]=XE(t)});var LF={exports:{}},rY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",iY=rY,oY=iY;function FF(){}function BF(){}BF.resetWarningCache=FF;var sY=function(){function t(r,i,o,s,a,l){if(l!==oY){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:BF,resetWarningCache:FF};return n.PropTypes=n,n};LF.exports=sY();var s1=LF.exports;const pe=Cp(s1);function aY(t){return t==null||Object.keys(t).length===0}function lY(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(aY(i)?n:i):e;return A.jsx(YK,{styles:r})}function VF(t,e){return XE(t,e)}function cY(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const Ek=[];function xk(t){return Ek[0]=t,Qp(Ek)}var UF={exports:{}},tn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a1=Symbol.for("react.transitional.element"),l1=Symbol.for("react.portal"),D0=Symbol.for("react.fragment"),L0=Symbol.for("react.strict_mode"),F0=Symbol.for("react.profiler"),B0=Symbol.for("react.consumer"),V0=Symbol.for("react.context"),U0=Symbol.for("react.forward_ref"),j0=Symbol.for("react.suspense"),z0=Symbol.for("react.suspense_list"),W0=Symbol.for("react.memo"),H0=Symbol.for("react.lazy"),uY=Symbol.for("react.view_transition"),dY=Symbol.for("react.client.reference");function So(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case a1:switch(t=t.type,t){case D0:case F0:case L0:case j0:case z0:case uY:return t;default:switch(t=t&&t.$$typeof,t){case V0:case U0:case H0:case W0:return t;case B0:return t;default:return e}}case l1:return e}}}tn.ContextConsumer=B0;tn.ContextProvider=V0;tn.Element=a1;tn.ForwardRef=U0;tn.Fragment=D0;tn.Lazy=H0;tn.Memo=W0;tn.Portal=l1;tn.Profiler=F0;tn.StrictMode=L0;tn.Suspense=j0;tn.SuspenseList=z0;tn.isContextConsumer=function(t){return So(t)===B0};tn.isContextProvider=function(t){return So(t)===V0};tn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===a1};tn.isForwardRef=function(t){return So(t)===U0};tn.isFragment=function(t){return So(t)===D0};tn.isLazy=function(t){return So(t)===H0};tn.isMemo=function(t){return So(t)===W0};tn.isPortal=function(t){return So(t)===l1};tn.isProfiler=function(t){return So(t)===F0};tn.isStrictMode=function(t){return So(t)===L0};tn.isSuspense=function(t){return So(t)===j0};tn.isSuspenseList=function(t){return So(t)===z0};tn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===D0||t===F0||t===L0||t===j0||t===z0||typeof t=="object"&&t!==null&&(t.$$typeof===H0||t.$$typeof===W0||t.$$typeof===V0||t.$$typeof===B0||t.$$typeof===U0||t.$$typeof===dY||t.getModuleId!==void 0)};tn.typeOf=So;UF.exports=tn;var jF=UF.exports;function us(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function zF(t){if(w.isValidElement(t)||jF.isValidElementType(t)||!us(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=zF(t[n])}),e}function dr(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return us(t)&&us(e)&&Object.keys(e).forEach(i=>{w.isValidElement(e[i])||jF.isValidElementType(e[i])?r[i]=e[i]:us(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&us(t[i])?r[i]=dr(t[i],e[i],n):n.clone?r[i]=us(e[i])?zF(e[i]):e[i]:r[i]=e[i]}),r}const fY=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function hY(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,o=fY(e),s=Object.keys(o);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function c(h,p){const g=s.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(g!==-1&&typeof e[s[g]]=="number"?e[s[g]]:p)-r/100}${n})`}function u(h){return s.indexOf(h)+1<s.length?c(h,s[s.indexOf(h)+1]):a(h)}function f(h){const p=s.indexOf(h);return p===0?a(s[1]):p===s.length-1?l(s[p]):c(h,s[s.indexOf(h)+1]).replace("@media","@media not all and")}return{keys:s,values:o,up:a,down:l,between:c,only:u,not:f,unit:n,...i}}function pY(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var s,a;const o=/min-width:\s*([0-9.]+)/;return+(((s=r.match(o))==null?void 0:s[1])||0)-+(((a=i.match(o))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function gY(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function mY(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(o)}function yY(t){const e=(o,s)=>o.replace("@media",s?`@container ${s}`:"@container");function n(o,s){o.up=(...a)=>e(t.breakpoints.up(...a),s),o.down=(...a)=>e(t.breakpoints.down(...a),s),o.between=(...a)=>e(t.breakpoints.between(...a),s),o.only=(...a)=>e(t.breakpoints.only(...a),s),o.not=(...a)=>{const l=e(t.breakpoints.not(...a),s);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=o=>(n(r,o),r);return n(i),{...t,containerQueries:i}}const vY={borderRadius:4};function xh(t,e){return e?dr(t,e,{clone:!1}):t}const G0={xs:0,sm:600,md:900,lg:1200,xl:1536},Sk={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${G0[t]}px)`},_Y={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:G0[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Yo(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||Sk;return e.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(e[l]),s),{})}if(typeof e=="object"){const o=r.breakpoints||Sk;return Object.keys(e).reduce((s,a)=>{if(gY(o.keys,a)){const l=mY(r.containerQueries?r:_Y,a);l&&(s[l]=n(e[a],a))}else if(Object.keys(o.values||G0).includes(a)){const l=o.up(a);s[l]=n(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return n(e)}function WF(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function HF(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function bY(t,...e){const n=WF(t),r=[n,...e].reduce((i,o)=>dr(i,o),{});return HF(Object.keys(n),r)}function wY(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,o)=>{o<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function jb({values:t,breakpoints:e,base:n}){const r=n||wY(t,e),i=Object.keys(r);if(i.length===0)return t;let o;return i.reduce((s,a,l)=>(Array.isArray(t)?(s[a]=t[l]!=null?t[l]:t[o],o=l):typeof t=="object"?(s[a]=t[a]!=null?t[a]:t[o],o=a):s[a]=t,s),{})}function ae(t){if(typeof t!="string")throw new Error(la(7));return t.charAt(0).toUpperCase()+t.slice(1)}function q0(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Qy(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=q0(t,n)||r,e&&(i=e(i,r,t)),i}function Bn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,c=q0(l,r)||{};return Yo(s,a,f=>{let h=Qy(c,i,f);return f===h&&typeof f=="string"&&(h=Qy(c,i,`${e}${f==="default"?"":ae(f)}`,f)),n===!1?h:{[n]:h}})};return o.propTypes={},o.filterProps=[e],o}function EY(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const xY={m:"margin",p:"padding"},SY={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Ck={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},CY=EY(t=>{if(t.length>2)if(Ck[t])t=Ck[t];else return[t];const[e,n]=t.split(""),r=xY[e],i=SY[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),c1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],u1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...c1,...u1];function Zp(t,e,n,r){const i=q0(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const s=Math.abs(o),a=i[s];return o>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof i=="function"?i:()=>{}}function K0(t){return Zp(t,"spacing",8)}function mc(t,e){return typeof e=="string"||e==null?e:t(e)}function TY(t,e){return n=>t.reduce((r,i)=>(r[i]=mc(e,n),r),{})}function IY(t,e,n,r){if(!e.includes(n))return null;const i=CY(n),o=TY(i,r),s=t[n];return Yo(t,s,o)}function GF(t,e){const n=K0(t.theme);return Object.keys(t).map(r=>IY(t,e,r,n)).reduce(xh,{})}function Pn(t){return GF(t,c1)}Pn.propTypes={};Pn.filterProps=c1;function kn(t){return GF(t,u1)}kn.propTypes={};kn.filterProps=u1;function qF(t=8,e=K0({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function Y0(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?xh(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function fo(t){return typeof t!="number"?t:`${t}px solid`}function Co(t,e){return Bn({prop:t,themeKey:"borders",transform:e})}const RY=Co("border",fo),PY=Co("borderTop",fo),kY=Co("borderRight",fo),AY=Co("borderBottom",fo),OY=Co("borderLeft",fo),NY=Co("borderColor"),MY=Co("borderTopColor"),$Y=Co("borderRightColor"),DY=Co("borderBottomColor"),LY=Co("borderLeftColor"),FY=Co("outline",fo),BY=Co("outlineColor"),X0=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Zp(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:mc(e,r)});return Yo(t,t.borderRadius,n)}return null};X0.propTypes={};X0.filterProps=["borderRadius"];Y0(RY,PY,kY,AY,OY,NY,MY,$Y,DY,LY,X0,FY,BY);const Q0=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Zp(t.theme,"spacing",8),n=r=>({gap:mc(e,r)});return Yo(t,t.gap,n)}return null};Q0.propTypes={};Q0.filterProps=["gap"];const J0=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Zp(t.theme,"spacing",8),n=r=>({columnGap:mc(e,r)});return Yo(t,t.columnGap,n)}return null};J0.propTypes={};J0.filterProps=["columnGap"];const Z0=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Zp(t.theme,"spacing",8),n=r=>({rowGap:mc(e,r)});return Yo(t,t.rowGap,n)}return null};Z0.propTypes={};Z0.filterProps=["rowGap"];const VY=Bn({prop:"gridColumn"}),UY=Bn({prop:"gridRow"}),jY=Bn({prop:"gridAutoFlow"}),zY=Bn({prop:"gridAutoColumns"}),WY=Bn({prop:"gridAutoRows"}),HY=Bn({prop:"gridTemplateColumns"}),GY=Bn({prop:"gridTemplateRows"}),qY=Bn({prop:"gridTemplateAreas"}),KY=Bn({prop:"gridArea"});Y0(Q0,J0,Z0,VY,UY,jY,zY,WY,HY,GY,qY,KY);function ed(t,e){return e==="grey"?e:t}const YY=Bn({prop:"color",themeKey:"palette",transform:ed}),XY=Bn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ed}),QY=Bn({prop:"backgroundColor",themeKey:"palette",transform:ed});Y0(YY,XY,QY);function Bi(t){return t<=1&&t!==0?`${t*100}%`:t}const JY=Bn({prop:"width",transform:Bi}),d1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,o,s,a,l;const r=((s=(o=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:s[n])||G0[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Bi(n)}};return Yo(t,t.maxWidth,e)}return null};d1.filterProps=["maxWidth"];const ZY=Bn({prop:"minWidth",transform:Bi}),eX=Bn({prop:"height",transform:Bi}),tX=Bn({prop:"maxHeight",transform:Bi}),nX=Bn({prop:"minHeight",transform:Bi});Bn({prop:"size",cssProperty:"width",transform:Bi});Bn({prop:"size",cssProperty:"height",transform:Bi});const rX=Bn({prop:"boxSizing"});Y0(JY,d1,ZY,eX,tX,nX,rX);const eg={border:{themeKey:"borders",transform:fo},borderTop:{themeKey:"borders",transform:fo},borderRight:{themeKey:"borders",transform:fo},borderBottom:{themeKey:"borders",transform:fo},borderLeft:{themeKey:"borders",transform:fo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:fo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:X0},color:{themeKey:"palette",transform:ed},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ed},backgroundColor:{themeKey:"palette",transform:ed},p:{style:kn},pt:{style:kn},pr:{style:kn},pb:{style:kn},pl:{style:kn},px:{style:kn},py:{style:kn},padding:{style:kn},paddingTop:{style:kn},paddingRight:{style:kn},paddingBottom:{style:kn},paddingLeft:{style:kn},paddingX:{style:kn},paddingY:{style:kn},paddingInline:{style:kn},paddingInlineStart:{style:kn},paddingInlineEnd:{style:kn},paddingBlock:{style:kn},paddingBlockStart:{style:kn},paddingBlockEnd:{style:kn},m:{style:Pn},mt:{style:Pn},mr:{style:Pn},mb:{style:Pn},ml:{style:Pn},mx:{style:Pn},my:{style:Pn},margin:{style:Pn},marginTop:{style:Pn},marginRight:{style:Pn},marginBottom:{style:Pn},marginLeft:{style:Pn},marginX:{style:Pn},marginY:{style:Pn},marginInline:{style:Pn},marginInlineStart:{style:Pn},marginInlineEnd:{style:Pn},marginBlock:{style:Pn},marginBlockStart:{style:Pn},marginBlockEnd:{style:Pn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Q0},rowGap:{style:Z0},columnGap:{style:J0},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Bi},maxWidth:{style:d1},minWidth:{transform:Bi},height:{transform:Bi},maxHeight:{transform:Bi},minHeight:{transform:Bi},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function iX(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function oX(t,e){return typeof t=="function"?t(e):t}function sX(){function t(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:f}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=q0(i,c)||{};return f?f(s):Yo(s,r,g=>{let E=Qy(h,u,g);return g===E&&typeof g=="string"&&(E=Qy(h,u,`${n}${g==="default"?"":ae(g)}`,g)),l===!1?E:{[l]:E}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const o=i.unstable_sxConfig??eg;function s(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const c=WF(i.breakpoints),u=Object.keys(c);let f=c;return Object.keys(l).forEach(h=>{const p=oX(l[h],i);if(p!=null)if(typeof p=="object")if(o[h])f=xh(f,t(h,p,i,o));else{const g=Yo({theme:i},p,E=>({[h]:E}));iX(g,p)?f[h]=e({sx:p,theme:i}):f=xh(f,g)}else f=xh(f,t(h,p,i,o))}),pY(i,HF(u,f))}return Array.isArray(r)?r.map(s):s(r)}return e}const yc=sX();yc.filterProps=["sx"];function aX(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function Gd(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={},...s}=t,a=hY(n),l=qF(i);let c=dr({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...vY,...o}},s);return c=yY(c),c.applyStyles=aX,c=e.reduce((u,f)=>dr(u,f),c),c.unstable_sxConfig={...eg,...s==null?void 0:s.unstable_sxConfig},c.unstable_sx=function(f){return yc({sx:f,theme:this})},c}function lX(t){return Object.keys(t).length===0}function cX(t=null){const e=w.useContext($0);return!e||lX(e)?t:e}const uX=Gd();function tg(t=uX){return cX(t)}function dX({styles:t,themeId:e,defaultTheme:n={}}){const r=tg(n),i=typeof t=="function"?t(e&&r[e]||r):t;return A.jsx(lY,{styles:i})}const fX=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??eg;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function e_(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=fX(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return us(a)?{...r,...a}:r}:o={...r,...e},{...i,sx:o}}const Tk=t=>t,hX=()=>{let t=Tk;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Tk}}},KF=hX();function YF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=YF(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ee(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=YF(t))&&(r&&(r+=" "),r+=e);return r}function pX(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=VF("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(yc);return w.forwardRef(function(l,c){const u=tg(n),{className:f,component:h="div",...p}=e_(l);return A.jsx(o,{as:h,ref:c,className:Ee(f,i?i(r):r),theme:e&&u[e]||u,...p})})}const gX={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function rt(t,e,n="Mui"){const r=gX[e];return r?`${n}-${r}`:`${KF.generate(t)}-${e}`}function Ze(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=rt(t,i,n)}),r}function XF(t){const{variants:e,...n}=t,r={variants:e,style:xk(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=xk(i.style))}),r}const mX=Gd();function zb(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function yX(t){return t?(e,n)=>n[t]:null}function vX(t,e,n){t.theme=bX(t.theme)?n:t.theme[e]||t.theme}function Qm(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>Qm(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...o}=n;r=o}return QF(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function QF(t,e,n=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const s=e[o];if(typeof s.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!s.props(r))continue}else for(const a in s.props)if(t[a]!==s.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==s.props[a])continue e;typeof s.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(s.style(r))):n.push(s.style)}return n}function JF(t={}){const{themeId:e,defaultTheme:n=mX,rootShouldForwardProp:r=zb,slotShouldForwardProp:i=zb}=t;function o(a){vX(a,e,n)}return(a,l={})=>{cY(a,O=>O.filter(N=>N!==yc));const{name:c,slot:u,skipVariantsResolver:f,skipSx:h,overridesResolver:p=yX(EX(u)),...g}=l,E=f!==void 0?f:u&&u!=="Root"&&u!=="root"||!1,x=h||!1;let y=zb;u==="Root"||u==="root"?y=r:u?y=i:wX(a)&&(y=void 0);const b=VF(a,{shouldForwardProp:y,label:_X(),...g}),_=O=>{if(typeof O=="function"&&O.__emotion_real!==O)return function(T){return Qm(T,O)};if(us(O)){const N=XF(O);return N.variants?function(I){return Qm(I,N)}:N.style}return O},S=(...O)=>{const N=[],T=O.map(_),I=[];if(N.push(o),c&&p&&I.push(function(M){var W,G;const K=(G=(W=M.theme.components)==null?void 0:W[c])==null?void 0:G.styleOverrides;if(!K)return null;const H={};for(const V in K)H[V]=Qm(M,K[V]);return p(M,H)}),c&&!E&&I.push(function(M){var H,W;const P=M.theme,K=(W=(H=P==null?void 0:P.components)==null?void 0:H[c])==null?void 0:W.variants;return K?QF(M,K):null}),x||I.push(yc),Array.isArray(T[0])){const k=T.shift(),M=new Array(N.length).fill(""),P=new Array(I.length).fill("");let K;K=[...M,...k,...P],K.raw=[...M,...k.raw,...P],N.unshift(K)}const R=[...N,...T,...I],v=b(...R);return a.muiName&&(v.muiName=a.muiName),v};return b.withConfig&&(S.withConfig=b.withConfig),S}}function _X(t,e){return void 0}function bX(t){for(const e in t)return!1;return!0}function wX(t){return typeof t=="string"&&t.charCodeAt(0)>96}function EX(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const f1=JF();function wd(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const o=t[i],s=e[i];if(!s)n[i]=o||{};else if(!o)n[i]=s;else{n[i]={...s};for(const a in o)if(Object.prototype.hasOwnProperty.call(o,a)){const l=a;n[i][l]=wd(o[l],s[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function xX(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:wd(e.components[n].defaultProps,r)}function h1({props:t,name:e,defaultTheme:n,themeId:r}){let i=tg(n);return r&&(i=i[r]||i),xX({theme:i,name:e,props:t})}const Xo=typeof window<"u"?w.useLayoutEffect:w.useEffect;function SX(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function p1(t,e=0,n=1){return SX(t,e,n)}function CX(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function hl(t){if(t.type)return t;if(t.charAt(0)==="#")return hl(CX(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(la(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(la(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const TX=t=>{const e=hl(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},th=(t,e)=>{try{return TX(t)}catch{return t}};function t_(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function ZF(t){t=hl(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(c,u=(c+n/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),t_({type:a,values:l})}function QE(t){t=hl(t);let e=t.type==="hsl"||t.type==="hsla"?hl(ZF(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function IX(t,e){const n=QE(t),r=QE(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Ot(t,e){return t=hl(t),e=p1(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,t_(t)}function rm(t,e,n){try{return Ot(t,e)}catch{return t}}function g1(t,e){if(t=hl(t),e=p1(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return t_(t)}function Jt(t,e,n){try{return g1(t,e)}catch{return t}}function m1(t,e){if(t=hl(t),e=p1(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return t_(t)}function Zt(t,e,n){try{return m1(t,e)}catch{return t}}function RX(t,e=.15){return QE(t)>.5?g1(t,e):m1(t,e)}function im(t,e,n){try{return RX(t,e)}catch{return t}}function Ik(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function n_(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function Jm(t,e){var n,r,i;return w.isValidElement(t)&&e.indexOf(t.type.muiName??((i=(r=(n=t.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function Ci(t){return t&&t.ownerDocument||document}function Qo(t){return Ci(t).defaultView||window}function Jy(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let Rk=0;function PX(t){const[e,n]=w.useState(t),r=t||e;return w.useEffect(()=>{e==null&&(Rk+=1,n(`mui-${Rk}`))},[e]),r}const kX={...bw},Pk=kX.useId;function qd(t){if(Pk!==void 0){const e=Pk();return t??e}return PX(t)}function Sh({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=w.useRef(t!==void 0),[o,s]=w.useState(e),a=i?t:o,l=w.useCallback(c=>{i||s(c)},[]);return[a,l]}function gi(t){const e=w.useRef(t);return Xo(()=>{e.current=t}),w.useRef((...n)=>(0,e.current)(...n)).current}function fr(...t){return w.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Jy(n,e)})},t)}const kk={};function e5(t,e){const n=w.useRef(kk);return n.current===kk&&(n.current=t(e)),n}const AX=[];function OX(t){w.useEffect(t,AX)}class y1{constructor(){_f(this,"currentId",null);_f(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});_f(this,"disposeEffect",()=>this.clear)}static create(){return new y1}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function t5(){const t=e5(y1.create).current;return OX(t.disposeEffect),t}function Ak(t){try{return t.matches(":focus-visible")}catch{}return!1}function n5(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}const NX=t=>{const e=w.useRef({});return w.useEffect(()=>{e.current=t}),e.current};function MX(t){return w.Children.toArray(t).filter(e=>w.isValidElement(e))}function it(t,e,n=void 0){const r={};for(const i in t){const o=t[i];let s="",a=!0;for(let l=0;l<o.length;l+=1){const c=o[l];c&&(s+=(a===!0?"":" ")+e(c),a=!1,n&&n[c]&&(s+=" "+n[c]))}r[i]=s}return r}function $X(t){return typeof t=="string"}function r5(t,e,n){return t===void 0||$X(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function i5(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function Ok(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function o5(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const p=Ee(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),g={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},E={...n,...i,...r};return p.length>0&&(E.className=p),Object.keys(g).length>0&&(E.style=g),{props:E,internalRef:void 0}}const s=i5({...i,...r}),a=Ok(r),l=Ok(i),c=e(s),u=Ee(c==null?void 0:c.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),f={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},h={...c,...n,...l,...a};return u.length>0&&(h.className=u),Object.keys(f).length>0&&(h.style=f),{props:h,internalRef:c.ref}}function s5(t,e,n){return typeof t=="function"?t(e,n):t}function Ed(t){var f;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=t,s=i?{}:s5(n,r),{props:a,internalRef:l}=o5({...o,externalSlotProps:s}),c=fr(l,s==null?void 0:s.ref,(f=t.additionalProps)==null?void 0:f.ref);return r5(e,{...a,ref:c},r)}function ng(t){var e;return parseInt(w.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const DX=w.createContext(),r_=()=>w.useContext(DX)??!1,LX=w.createContext(void 0);function FX(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?wd(i.defaultProps,r):!i.styleOverrides&&!i.variants?wd(i,r):r}function BX({props:t,name:e}){const n=w.useContext(LX);return FX({props:t,name:e,theme:{components:n}})}const Nk={theme:void 0};function VX(t){let e,n;return function(i){let o=e;return(o===void 0||i.theme!==n)&&(Nk.theme=i.theme,o=XF(t(Nk)),e=o,n=i.theme),o}}function UX(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const Mk=(t,e,n,r=[])=>{let i=t;e.forEach((o,s)=>{s===e.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},jX=(t,e,n)=>{function r(i,o=[],s=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...o,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...o,a],Array.isArray(l)?[...s,a]:s):e([...o,a],l,s))})}r(t)},zX=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Wb(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},o={},s={};return jX(t,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const u=`--${n?`${n}-`:""}${a.join("-")}`,f=zX(a,l);Object.assign(i,{[u]:f}),Mk(o,a,`var(${u})`,c),Mk(s,a,`var(${u}, ${f})`,c)}},a=>a[0]==="vars"),{css:i,vars:o,varsWithDefaults:s}}function WX(t,e={}){const{getSelector:n=x,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:s,defaultColorScheme:a="light",...l}=t,{vars:c,css:u,varsWithDefaults:f}=Wb(l,e);let h=f;const p={},{[a]:g,...E}=o;if(Object.entries(E||{}).forEach(([_,S])=>{const{vars:O,css:N,varsWithDefaults:T}=Wb(S,e);h=dr(h,T),p[_]={css:N,vars:O}}),g){const{css:_,vars:S,varsWithDefaults:O}=Wb(g,e);h=dr(h,O),p[a]={css:_,vars:S}}function x(_,S){var N,T;let O=i;if(i==="class"&&(O=".%s"),i==="data"&&(O="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(O=`[${i}="%s"]`),_){if(O==="media")return t.defaultColorScheme===_?":root":{[`@media (prefers-color-scheme: ${((T=(N=o[_])==null?void 0:N.palette)==null?void 0:T.mode)||_})`]:{":root":S}};if(O)return t.defaultColorScheme===_?`:root, ${O.replace("%s",String(_))}`:O.replace("%s",String(_))}return":root"}return{vars:h,generateThemeVars:()=>{let _={...c};return Object.entries(p).forEach(([,{vars:S}])=>{_=dr(_,S)}),_},generateStyleSheets:()=>{var I,R;const _=[],S=t.defaultColorScheme||"light";function O(v,k){Object.keys(k).length&&_.push(typeof v=="string"?{[v]:{...k}}:v)}O(n(void 0,{...u}),u);const{[S]:N,...T}=p;if(N){const{css:v}=N,k=(R=(I=o[S])==null?void 0:I.palette)==null?void 0:R.mode,M=!r&&k?{colorScheme:k,...v}:{...v};O(n(S,{...M}),M)}return Object.entries(T).forEach(([v,{css:k}])=>{var K,H;const M=(H=(K=o[v])==null?void 0:K.palette)==null?void 0:H.mode,P=!r&&M?{colorScheme:M,...k}:{...k};O(n(v,{...P}),P)}),_}}}function HX(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const GX=Gd(),qX=f1("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${ae(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),KX=t=>h1({props:t,name:"MuiContainer",defaultTheme:GX}),YX=(t,e)=>{const n=l=>rt(e,l),{classes:r,fixed:i,disableGutters:o,maxWidth:s}=t,a={root:["root",s&&`maxWidth${ae(String(s))}`,i&&"fixed",o&&"disableGutters"]};return it(a,n,r)};function XX(t={}){const{createStyledComponent:e=qX,useThemeProps:n=KX,componentName:r="MuiContainer"}=t,i=e(({theme:s,ownerState:a})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((l,c)=>{const u=c,f=s.breakpoints.values[u];return f!==0&&(l[s.breakpoints.up(u)]={maxWidth:`${f}${s.breakpoints.unit}`}),l},{}),({theme:s,ownerState:a})=>({...a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},...a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}}));return w.forwardRef(function(a,l){const c=n(a),{className:u,component:f="div",disableGutters:h=!1,fixed:p=!1,maxWidth:g="lg",classes:E,...x}=c,y={...c,component:f,disableGutters:h,fixed:p,maxWidth:g},b=YX(y,r);return A.jsx(i,{as:f,ownerState:y,className:Ee(b.root,u),ref:l,...x})})}const QX=(t,e)=>t.filter(n=>e.includes(n)),Kd=(t,e,n)=>{const r=t.keys[0];Array.isArray(e)?e.forEach((i,o)=>{n((s,a)=>{o<=t.keys.length-1&&(o===0?Object.assign(s,a):s[t.up(t.keys[o])]=a)},i)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:QX(t.keys,Object.keys(e))).forEach(o=>{if(t.keys.includes(o)){const s=e[o];s!==void 0&&n((a,l)=>{r===o?Object.assign(a,l):a[t.up(o)]=l},s)}}):(typeof e=="number"||typeof e=="string")&&n((i,o)=>{Object.assign(i,o)},e)};function Zy(t){return`--Grid-${t}Spacing`}function i_(t){return`--Grid-parent-${t}Spacing`}const $k="--Grid-columns",td="--Grid-parent-columns",JX=({theme:t,ownerState:e})=>{const n={};return Kd(t.breakpoints,e.size,(r,i)=>{let o={};i==="grow"&&(o={flexBasis:0,flexGrow:1,maxWidth:"100%"}),i==="auto"&&(o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof i=="number"&&(o={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${i} / var(${td}) - (var(${td}) - ${i}) * (var(${i_("column")}) / var(${td})))`}),r(n,o)}),n},ZX=({theme:t,ownerState:e})=>{const n={};return Kd(t.breakpoints,e.offset,(r,i)=>{let o={};i==="auto"&&(o={marginLeft:"auto"}),typeof i=="number"&&(o={marginLeft:i===0?"0px":`calc(100% * ${i} / var(${td}) + var(${i_("column")}) * ${i} / var(${td}))`}),r(n,o)}),n},eQ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={[$k]:12};return Kd(t.breakpoints,e.columns,(r,i)=>{const o=i??12;r(n,{[$k]:o,"> *":{[td]:o}})}),n},tQ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return Kd(t.breakpoints,e.rowSpacing,(r,i)=>{var s;const o=typeof i=="string"?i:(s=t.spacing)==null?void 0:s.call(t,i);r(n,{[Zy("row")]:o,"> *":{[i_("row")]:o}})}),n},nQ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return Kd(t.breakpoints,e.columnSpacing,(r,i)=>{var s;const o=typeof i=="string"?i:(s=t.spacing)==null?void 0:s.call(t,i);r(n,{[Zy("column")]:o,"> *":{[i_("column")]:o}})}),n},rQ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return Kd(t.breakpoints,e.direction,(r,i)=>{r(n,{flexDirection:i})}),n},iQ=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${Zy("row")}) var(${Zy("column")})`}}),oQ=t=>{const e=[];return Object.entries(t).forEach(([n,r])=>{r!==!1&&r!==void 0&&e.push(`grid-${n}-${String(r)}`)}),e},sQ=(t,e="xs")=>{function n(r){return r===void 0?!1:typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number"&&r>0}if(n(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const r=[];return Object.entries(t).forEach(([i,o])=>{n(o)&&r.push(`spacing-${i}-${String(o)}`)}),r}return[]},aQ=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,n])=>`direction-${e}-${n}`):[`direction-xs-${String(t)}`];function lQ(t,e){t.item!==void 0&&delete t.item,t.zeroMinWidth!==void 0&&delete t.zeroMinWidth,e.keys.forEach(n=>{t[n]!==void 0&&delete t[n]})}const cQ=Gd(),uQ=f1("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>e.root});function dQ(t){return h1({props:t,name:"MuiGrid",defaultTheme:cQ})}function fQ(t={}){const{createStyledComponent:e=uQ,useThemeProps:n=dQ,useTheme:r=tg,componentName:i="MuiGrid"}=t,o=(c,u)=>{const{container:f,direction:h,spacing:p,wrap:g,size:E}=c,x={root:["root",f&&"container",g!=="wrap"&&`wrap-xs-${String(g)}`,...aQ(h),...oQ(E),...f?sQ(p,u.breakpoints.keys[0]):[]]};return it(x,y=>rt(i,y),{})};function s(c,u,f=()=>!0){const h={};return c===null||(Array.isArray(c)?c.forEach((p,g)=>{p!==null&&f(p)&&u.keys[g]&&(h[u.keys[g]]=p)}):typeof c=="object"?Object.keys(c).forEach(p=>{const g=c[p];g!=null&&f(g)&&(h[p]=g)}):h[u.keys[0]]=c),h}const a=e(eQ,nQ,tQ,JX,rQ,iQ,ZX),l=w.forwardRef(function(u,f){const h=r(),p=n(u),g=e_(p);lQ(g,h.breakpoints);const{className:E,children:x,columns:y=12,container:b=!1,component:_="div",direction:S="row",wrap:O="wrap",size:N={},offset:T={},spacing:I=0,rowSpacing:R=I,columnSpacing:v=I,unstable_level:k=0,...M}=g,P=s(N,h.breakpoints,oe=>oe!==!1),K=s(T,h.breakpoints),H=u.columns??(k?void 0:y),W=u.spacing??(k?void 0:I),G=u.rowSpacing??u.spacing??(k?void 0:R),V=u.columnSpacing??u.spacing??(k?void 0:v),B={...g,level:k,columns:H,container:b,direction:S,wrap:O,spacing:W,rowSpacing:G,columnSpacing:V,size:P,offset:K},Q=o(B,h);return A.jsx(a,{ref:f,as:_,ownerState:B,className:Ee(Q.root,E),...M,children:w.Children.map(x,oe=>{var he;return w.isValidElement(oe)&&Jm(oe,["Grid"])&&b&&oe.props.container?w.cloneElement(oe,{unstable_level:((he=oe.props)==null?void 0:he.unstable_level)??k+1}):oe})})});return l.muiName="Grid",l}const hQ=Gd(),pQ=f1("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function gQ(t){return h1({props:t,name:"MuiStack",defaultTheme:hQ})}function mQ(t,e){const n=w.Children.toArray(t).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(w.cloneElement(e,{key:`separator-${o}`})),r),[])}const yQ=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],vQ=({ownerState:t,theme:e})=>{let n={display:"flex",flexDirection:"column",...Yo({theme:e},jb({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(t.spacing){const r=K0(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),o=jb({values:t.direction,base:i}),s=jb({values:t.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((l,c,u)=>{if(!o[l]){const h=c>0?o[u[c-1]]:"column";o[l]=h}}),n=dr(n,Yo({theme:e},s,(l,c)=>t.useFlexGap?{gap:mc(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${yQ(c?o[c]:t.direction)}`]:mc(r,l)}}))}return n=bY(e.breakpoints,n),n};function _Q(t={}){const{createStyledComponent:e=pQ,useThemeProps:n=gQ,componentName:r="MuiStack"}=t,i=()=>it({root:["root"]},l=>rt(r,l),{}),o=e(vQ);return w.forwardRef(function(l,c){const u=n(l),f=e_(u),{component:h="div",direction:p="column",spacing:g=0,divider:E,children:x,className:y,useFlexGap:b=!1,..._}=f,S={direction:p,spacing:g,useFlexGap:b},O=i();return A.jsx(o,{as:h,ownerState:S,ref:c,className:Ee(O.root,y),..._,children:E?mQ(x,E):x})})}function a5(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:cp.white,default:cp.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const bQ=a5();function l5(){return{text:{primary:cp.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:cp.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Dk=l5();function Lk(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=m1(t.main,i):e==="dark"&&(t.dark=g1(t.main,o)))}function wQ(t="light"){return t==="dark"?{main:tu[200],light:tu[50],dark:tu[400]}:{main:tu[700],light:tu[400],dark:tu[800]}}function EQ(t="light"){return t==="dark"?{main:eu[200],light:eu[50],dark:eu[400]}:{main:eu[500],light:eu[300],dark:eu[700]}}function xQ(t="light"){return t==="dark"?{main:Zc[500],light:Zc[300],dark:Zc[700]}:{main:Zc[700],light:Zc[400],dark:Zc[800]}}function SQ(t="light"){return t==="dark"?{main:nu[400],light:nu[300],dark:nu[700]}:{main:nu[700],light:nu[500],dark:nu[900]}}function CQ(t="light"){return t==="dark"?{main:ru[400],light:ru[300],dark:ru[700]}:{main:ru[800],light:ru[500],dark:ru[900]}}function TQ(t="light"){return t==="dark"?{main:kf[400],light:kf[300],dark:kf[700]}:{main:"#ed6c02",light:kf[500],dark:kf[900]}}function v1(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,o=t.primary||wQ(e),s=t.secondary||EQ(e),a=t.error||xQ(e),l=t.info||SQ(e),c=t.success||CQ(e),u=t.warning||TQ(e);function f(E){return IX(E,Dk.text.primary)>=n?Dk.text.primary:bQ.text.primary}const h=({color:E,name:x,mainShade:y=500,lightShade:b=300,darkShade:_=700})=>{if(E={...E},!E.main&&E[y]&&(E.main=E[y]),!E.hasOwnProperty("main"))throw new Error(la(11,x?` (${x})`:"",y));if(typeof E.main!="string")throw new Error(la(12,x?` (${x})`:"",JSON.stringify(E.main)));return Lk(E,"light",b,r),Lk(E,"dark",_,r),E.contrastText||(E.contrastText=f(E.main)),E};let p;return e==="light"?p=a5():e==="dark"&&(p=l5()),dr({common:{...cp},mode:e,primary:h({color:o,name:"primary"}),secondary:h({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:eK,contrastThreshold:n,getContrastText:f,augmentColor:h,tonalOffset:r,...p},i)}function IQ(t){const e={};return Object.entries(t).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function RQ(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function PQ(t){return Math.round(t*1e5)/1e5}const Fk={textTransform:"uppercase"},Bk='"Roboto", "Helvetica", "Arial", sans-serif';function kQ(t,e){const{fontFamily:n=Bk,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:u,...f}=typeof e=="function"?e(t):e,h=r/14,p=u||(x=>`${x/l*h}rem`),g=(x,y,b,_,S)=>({fontFamily:n,fontWeight:x,fontSize:p(y),lineHeight:b,...n===Bk?{letterSpacing:`${PQ(_/y)}em`}:{},...S,...c}),E={h1:g(i,96,1.167,-1.5),h2:g(i,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(s,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(s,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(s,14,1.75,.4,Fk),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,Fk),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return dr({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:a,...E},f,{clone:!1})}const AQ=.2,OQ=.14,NQ=.12;function _n(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${AQ})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${OQ})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${NQ})`].join(",")}const MQ=["none",_n(0,2,1,-1,0,1,1,0,0,1,3,0),_n(0,3,1,-2,0,2,2,0,0,1,5,0),_n(0,3,3,-2,0,3,4,0,0,1,8,0),_n(0,2,4,-1,0,4,5,0,0,1,10,0),_n(0,3,5,-1,0,5,8,0,0,1,14,0),_n(0,3,5,-1,0,6,10,0,0,1,18,0),_n(0,4,5,-2,0,7,10,1,0,2,16,1),_n(0,5,5,-3,0,8,10,1,0,3,14,2),_n(0,5,6,-3,0,9,12,1,0,3,16,2),_n(0,6,6,-3,0,10,14,1,0,4,18,3),_n(0,6,7,-4,0,11,15,1,0,4,20,3),_n(0,7,8,-4,0,12,17,2,0,5,22,4),_n(0,7,8,-4,0,13,19,2,0,5,24,4),_n(0,7,9,-4,0,14,21,2,0,5,26,4),_n(0,8,9,-5,0,15,22,2,0,6,28,5),_n(0,8,10,-5,0,16,24,2,0,6,30,5),_n(0,8,11,-5,0,17,26,2,0,6,32,5),_n(0,9,11,-5,0,18,28,2,0,7,34,6),_n(0,9,12,-6,0,19,29,2,0,7,36,6),_n(0,10,13,-6,0,20,31,3,0,8,38,7),_n(0,10,13,-6,0,21,33,3,0,8,40,7),_n(0,10,14,-6,0,22,35,3,0,8,42,7),_n(0,11,14,-7,0,23,36,3,0,9,44,8),_n(0,11,15,-7,0,24,38,3,0,9,46,8)],$Q={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},DQ={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Vk(t){return`${Math.round(t)}ms`}function LQ(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function FQ(t){const e={...$Q,...t.easing},n={...DQ,...t.duration};return{getAutoHeightDuration:LQ,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=e.easeInOut,delay:l=0,...c}=o;return(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof s=="string"?s:Vk(s)} ${a} ${typeof l=="string"?l:Vk(l)}`).join(",")},...t,easing:e,duration:n}}const BQ={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function VQ(t){return us(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function c5(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[s,a]=i[o];!VQ(a)||s.startsWith("unstable_")?delete r[s]:us(a)&&(r[s]={...a},n(r[s]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function JE(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:o={},transitions:s={},typography:a={},shape:l,...c}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(la(20));const u=v1(o),f=Gd(t);let h=dr(f,{mixins:RQ(f.breakpoints,r),palette:u,shadows:MQ.slice(),typography:kQ(u,a),transitions:FQ(s),zIndex:{...BQ}});return h=dr(h,c),h=e.reduce((p,g)=>dr(p,g),h),h.unstable_sxConfig={...eg,...c==null?void 0:c.unstable_sxConfig},h.unstable_sx=function(g){return yc({sx:g,theme:this})},h.toRuntimeSource=c5,h}function ZE(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const UQ=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=ZE(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function u5(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function d5(t){return t==="dark"?UQ:[]}function jQ(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,o=v1(e);return{palette:o,opacity:{...u5(o.mode),...n},overlays:r||d5(o.mode),...i}}function zQ(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const WQ=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],HQ=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const s={};return WQ(t.cssVarPrefix).forEach(a=>{s[a]=n[a],delete n[a]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:o?{[o.replace("%s",e)]:s,[`${r}, ${o.replace("%s",e)}`]:n}:{[r]:{...n,...s}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(o)return o.replace("%s",String(e))}return r};function GQ(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function J(t,e,n){!t[e]&&n&&(t[e]=n)}function nh(t){return typeof t!="string"||!t.startsWith("hsl")?t:ZF(t)}function Ns(t,e){`${e}Channel`in t||(t[`${e}Channel`]=th(nh(t[e])))}function qQ(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const is=t=>{try{return t()}catch{}},KQ=(t="mui")=>UX(t);function Hb(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=jQ({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...s}=JE({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:o,opacity:{...u5(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||d5(i)},s}function YQ(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:s=zQ,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...c}=t,u=Object.keys(n)[0],f=r||(n.light&&u!=="light"?"light":u),h=KQ(o),{[f]:p,light:g,dark:E,...x}=n,y={...x};let b=p;if((f==="dark"&&!("dark"in n)||f==="light"&&!("light"in n))&&(b=!0),!b)throw new Error(la(21,f));const _=Hb(y,b,c,f);g&&!y.light&&Hb(y,g,void 0,"light"),E&&!y.dark&&Hb(y,E,void 0,"dark");let S={defaultColorScheme:f,..._,cssVarPrefix:o,colorSchemeSelector:a,rootSelector:l,getCssVar:h,colorSchemes:y,font:{...IQ(_.typography),..._.font},spacing:qQ(c.spacing)};Object.keys(S.colorSchemes).forEach(R=>{const v=S.colorSchemes[R].palette,k=M=>{const P=M.split("-"),K=P[1],H=P[2];return h(M,v[K][H])};if(v.mode==="light"&&(J(v.common,"background","#fff"),J(v.common,"onBackground","#000")),v.mode==="dark"&&(J(v.common,"background","#000"),J(v.common,"onBackground","#fff")),GQ(v,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),v.mode==="light"){J(v.Alert,"errorColor",Jt(v.error.light,.6)),J(v.Alert,"infoColor",Jt(v.info.light,.6)),J(v.Alert,"successColor",Jt(v.success.light,.6)),J(v.Alert,"warningColor",Jt(v.warning.light,.6)),J(v.Alert,"errorFilledBg",k("palette-error-main")),J(v.Alert,"infoFilledBg",k("palette-info-main")),J(v.Alert,"successFilledBg",k("palette-success-main")),J(v.Alert,"warningFilledBg",k("palette-warning-main")),J(v.Alert,"errorFilledColor",is(()=>v.getContrastText(v.error.main))),J(v.Alert,"infoFilledColor",is(()=>v.getContrastText(v.info.main))),J(v.Alert,"successFilledColor",is(()=>v.getContrastText(v.success.main))),J(v.Alert,"warningFilledColor",is(()=>v.getContrastText(v.warning.main))),J(v.Alert,"errorStandardBg",Zt(v.error.light,.9)),J(v.Alert,"infoStandardBg",Zt(v.info.light,.9)),J(v.Alert,"successStandardBg",Zt(v.success.light,.9)),J(v.Alert,"warningStandardBg",Zt(v.warning.light,.9)),J(v.Alert,"errorIconColor",k("palette-error-main")),J(v.Alert,"infoIconColor",k("palette-info-main")),J(v.Alert,"successIconColor",k("palette-success-main")),J(v.Alert,"warningIconColor",k("palette-warning-main")),J(v.AppBar,"defaultBg",k("palette-grey-100")),J(v.Avatar,"defaultBg",k("palette-grey-400")),J(v.Button,"inheritContainedBg",k("palette-grey-300")),J(v.Button,"inheritContainedHoverBg",k("palette-grey-A100")),J(v.Chip,"defaultBorder",k("palette-grey-400")),J(v.Chip,"defaultAvatarColor",k("palette-grey-700")),J(v.Chip,"defaultIconColor",k("palette-grey-700")),J(v.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),J(v.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),J(v.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),J(v.LinearProgress,"primaryBg",Zt(v.primary.main,.62)),J(v.LinearProgress,"secondaryBg",Zt(v.secondary.main,.62)),J(v.LinearProgress,"errorBg",Zt(v.error.main,.62)),J(v.LinearProgress,"infoBg",Zt(v.info.main,.62)),J(v.LinearProgress,"successBg",Zt(v.success.main,.62)),J(v.LinearProgress,"warningBg",Zt(v.warning.main,.62)),J(v.Skeleton,"bg",`rgba(${k("palette-text-primaryChannel")} / 0.11)`),J(v.Slider,"primaryTrack",Zt(v.primary.main,.62)),J(v.Slider,"secondaryTrack",Zt(v.secondary.main,.62)),J(v.Slider,"errorTrack",Zt(v.error.main,.62)),J(v.Slider,"infoTrack",Zt(v.info.main,.62)),J(v.Slider,"successTrack",Zt(v.success.main,.62)),J(v.Slider,"warningTrack",Zt(v.warning.main,.62));const M=im(v.background.default,.8);J(v.SnackbarContent,"bg",M),J(v.SnackbarContent,"color",is(()=>v.getContrastText(M))),J(v.SpeedDialAction,"fabHoverBg",im(v.background.paper,.15)),J(v.StepConnector,"border",k("palette-grey-400")),J(v.StepContent,"border",k("palette-grey-400")),J(v.Switch,"defaultColor",k("palette-common-white")),J(v.Switch,"defaultDisabledColor",k("palette-grey-100")),J(v.Switch,"primaryDisabledColor",Zt(v.primary.main,.62)),J(v.Switch,"secondaryDisabledColor",Zt(v.secondary.main,.62)),J(v.Switch,"errorDisabledColor",Zt(v.error.main,.62)),J(v.Switch,"infoDisabledColor",Zt(v.info.main,.62)),J(v.Switch,"successDisabledColor",Zt(v.success.main,.62)),J(v.Switch,"warningDisabledColor",Zt(v.warning.main,.62)),J(v.TableCell,"border",Zt(rm(v.divider,1),.88)),J(v.Tooltip,"bg",rm(v.grey[700],.92))}if(v.mode==="dark"){J(v.Alert,"errorColor",Zt(v.error.light,.6)),J(v.Alert,"infoColor",Zt(v.info.light,.6)),J(v.Alert,"successColor",Zt(v.success.light,.6)),J(v.Alert,"warningColor",Zt(v.warning.light,.6)),J(v.Alert,"errorFilledBg",k("palette-error-dark")),J(v.Alert,"infoFilledBg",k("palette-info-dark")),J(v.Alert,"successFilledBg",k("palette-success-dark")),J(v.Alert,"warningFilledBg",k("palette-warning-dark")),J(v.Alert,"errorFilledColor",is(()=>v.getContrastText(v.error.dark))),J(v.Alert,"infoFilledColor",is(()=>v.getContrastText(v.info.dark))),J(v.Alert,"successFilledColor",is(()=>v.getContrastText(v.success.dark))),J(v.Alert,"warningFilledColor",is(()=>v.getContrastText(v.warning.dark))),J(v.Alert,"errorStandardBg",Jt(v.error.light,.9)),J(v.Alert,"infoStandardBg",Jt(v.info.light,.9)),J(v.Alert,"successStandardBg",Jt(v.success.light,.9)),J(v.Alert,"warningStandardBg",Jt(v.warning.light,.9)),J(v.Alert,"errorIconColor",k("palette-error-main")),J(v.Alert,"infoIconColor",k("palette-info-main")),J(v.Alert,"successIconColor",k("palette-success-main")),J(v.Alert,"warningIconColor",k("palette-warning-main")),J(v.AppBar,"defaultBg",k("palette-grey-900")),J(v.AppBar,"darkBg",k("palette-background-paper")),J(v.AppBar,"darkColor",k("palette-text-primary")),J(v.Avatar,"defaultBg",k("palette-grey-600")),J(v.Button,"inheritContainedBg",k("palette-grey-800")),J(v.Button,"inheritContainedHoverBg",k("palette-grey-700")),J(v.Chip,"defaultBorder",k("palette-grey-700")),J(v.Chip,"defaultAvatarColor",k("palette-grey-300")),J(v.Chip,"defaultIconColor",k("palette-grey-300")),J(v.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),J(v.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),J(v.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),J(v.LinearProgress,"primaryBg",Jt(v.primary.main,.5)),J(v.LinearProgress,"secondaryBg",Jt(v.secondary.main,.5)),J(v.LinearProgress,"errorBg",Jt(v.error.main,.5)),J(v.LinearProgress,"infoBg",Jt(v.info.main,.5)),J(v.LinearProgress,"successBg",Jt(v.success.main,.5)),J(v.LinearProgress,"warningBg",Jt(v.warning.main,.5)),J(v.Skeleton,"bg",`rgba(${k("palette-text-primaryChannel")} / 0.13)`),J(v.Slider,"primaryTrack",Jt(v.primary.main,.5)),J(v.Slider,"secondaryTrack",Jt(v.secondary.main,.5)),J(v.Slider,"errorTrack",Jt(v.error.main,.5)),J(v.Slider,"infoTrack",Jt(v.info.main,.5)),J(v.Slider,"successTrack",Jt(v.success.main,.5)),J(v.Slider,"warningTrack",Jt(v.warning.main,.5));const M=im(v.background.default,.98);J(v.SnackbarContent,"bg",M),J(v.SnackbarContent,"color",is(()=>v.getContrastText(M))),J(v.SpeedDialAction,"fabHoverBg",im(v.background.paper,.15)),J(v.StepConnector,"border",k("palette-grey-600")),J(v.StepContent,"border",k("palette-grey-600")),J(v.Switch,"defaultColor",k("palette-grey-300")),J(v.Switch,"defaultDisabledColor",k("palette-grey-600")),J(v.Switch,"primaryDisabledColor",Jt(v.primary.main,.55)),J(v.Switch,"secondaryDisabledColor",Jt(v.secondary.main,.55)),J(v.Switch,"errorDisabledColor",Jt(v.error.main,.55)),J(v.Switch,"infoDisabledColor",Jt(v.info.main,.55)),J(v.Switch,"successDisabledColor",Jt(v.success.main,.55)),J(v.Switch,"warningDisabledColor",Jt(v.warning.main,.55)),J(v.TableCell,"border",Jt(rm(v.divider,1),.68)),J(v.Tooltip,"bg",rm(v.grey[700],.92))}Ns(v.background,"default"),Ns(v.background,"paper"),Ns(v.common,"background"),Ns(v.common,"onBackground"),Ns(v,"divider"),Object.keys(v).forEach(M=>{const P=v[M];M!=="tonalOffset"&&P&&typeof P=="object"&&(P.main&&J(v[M],"mainChannel",th(nh(P.main))),P.light&&J(v[M],"lightChannel",th(nh(P.light))),P.dark&&J(v[M],"darkChannel",th(nh(P.dark))),P.contrastText&&J(v[M],"contrastTextChannel",th(nh(P.contrastText))),M==="text"&&(Ns(v[M],"primary"),Ns(v[M],"secondary")),M==="action"&&(P.active&&Ns(v[M],"active"),P.selected&&Ns(v[M],"selected")))})}),S=e.reduce((R,v)=>dr(R,v),S);const O={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:s,getSelector:HQ(S)},{vars:N,generateThemeVars:T,generateStyleSheets:I}=WX(S,O);return S.vars=N,Object.entries(S.colorSchemes[S.defaultColorScheme]).forEach(([R,v])=>{S[R]=v}),S.generateThemeVars=T,S.generateStyleSheets=I,S.generateSpacing=function(){return qF(c.spacing,K0(this))},S.getColorSchemeSelector=HX(a),S.spacing=S.generateSpacing(),S.shouldSkipGeneratingVar=s,S.unstable_sxConfig={...eg,...c==null?void 0:c.unstable_sxConfig},S.unstable_sx=function(v){return yc({sx:v,theme:this})},S.toRuntimeSource=c5,S}function Uk(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:v1({...n===!0?{}:n.palette,mode:e})})}function f5(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:o=n==null?void 0:n.mode,...s}=t,a=o||"light",l=i==null?void 0:i[a],c={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return JE(t,...e);let u=n;"palette"in t||c[a]&&(c[a]!==!0?u=c[a].palette:a==="dark"&&(u={mode:"dark"}));const f=JE({...t,palette:u},...e);return f.defaultColorScheme=a,f.colorSchemes=c,f.palette.mode==="light"&&(f.colorSchemes.light={...c.light!==!0&&c.light,palette:f.palette},Uk(f,"dark",c.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:f.palette},Uk(f,"light",c.light)),f}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),YQ({...s,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const _1=f5();function Yd(){const t=tg(_1);return t[w0]||t}function h5(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const To=t=>h5(t)&&t!=="classes",le=JF({themeId:w0,defaultTheme:_1,rootShouldForwardProp:To});function XQ(t){return A.jsx(dX,{...t,defaultTheme:_1,themeId:w0})}function QQ(t){return function(n){return A.jsx(XQ,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function JQ(){return e_}const vt=VX;function st(t){return BX(t)}function ZQ(t){return rt("MuiSvgIcon",t)}Ze("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const eJ=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${ae(e)}`,`fontSize${ae(n)}`]};return it(i,ZQ,r)},tJ=le("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${ae(n.color)}`],e[`fontSize${ae(n.fontSize)}`]]}})(vt(({theme:t})=>{var e,n,r,i,o,s,a,l,c,u,f,h,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:E=>!E.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((s=(o=t.typography)==null?void 0:o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((u=(c=t.typography)==null?void 0:c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,E])=>E&&E.main).map(([E])=>{var x,y;return{props:{color:E},style:{color:(y=(x=(t.vars??t).palette)==null?void 0:x[E])==null?void 0:y.main}}}),{props:{color:"action"},style:{color:(h=(f=(t.vars??t).palette)==null?void 0:f.action)==null?void 0:h.active}},{props:{color:"disabled"},style:{color:(g=(p=(t.vars??t).palette)==null?void 0:p.action)==null?void 0:g.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),ex=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:f,viewBox:h="0 0 24 24",...p}=r,g=w.isValidElement(i)&&i.type==="svg",E={...r,color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:g},x={};u||(x.viewBox=h);const y=eJ(E);return A.jsxs(tJ,{as:a,className:Ee(y.root,o),focusable:"false",color:c,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n,...x,...p,...g&&i.props,ownerState:E,children:[g?i.props.children:i,f?A.jsx("title",{children:f}):null]})});ex.muiName="SvgIcon";function Xn(t,e){function n(r,i){return A.jsx(ex,{"data-testid":void 0,ref:i,...r,children:t})}return n.muiName=ex.muiName,w.memo(w.forwardRef(n))}function nJ(t,e){const n=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&n>=65&&n<=90&&typeof e=="function"}function rJ(t,e){if(!t)return e;function n(s,a){const l={};return Object.keys(a).forEach(c=>{nJ(c,a[c])&&typeof s[c]=="function"&&(l[c]=(...u)=>{s[c](...u),a[c](...u)})}),l}if(typeof t=="function"||typeof e=="function")return s=>{const a=typeof e=="function"?e(s):e,l=typeof t=="function"?t({...s,...a}):t,c=Ee(s==null?void 0:s.className,a==null?void 0:a.className,l==null?void 0:l.className),u=n(l,a);return{...a,...l,...u,...!!c&&{className:c},...(a==null?void 0:a.style)&&(l==null?void 0:l.style)&&{style:{...a.style,...l.style}},...(a==null?void 0:a.sx)&&(l==null?void 0:l.sx)&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(l.sx)?l.sx:[l.sx]]}}};const r=e,i=n(t,r),o=Ee(r==null?void 0:r.className,t==null?void 0:t.className);return{...e,...t,...i,...!!o&&{className:o},...(r==null?void 0:r.style)&&(t==null?void 0:t.style)&&{style:{...r.style,...t.style}},...(r==null?void 0:r.sx)&&(t==null?void 0:t.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function p5(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tx(t,e){return tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},tx(t,e)}function g5(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,tx(t,e)}const jk={disabled:!1},ev=L.createContext(null);var iJ=function(e){return e.scrollTop},rh="unmounted",jl="exited",zl="entering",du="entered",nx="exiting",Is=function(t){g5(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=jl,o.appearStatus=zl):l=du:r.unmountOnExit||r.mountOnEnter?l=rh:l=jl,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===rh?{status:jl}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==zl&&s!==du&&(o=zl):(s===zl||s===du)&&(o=nx)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===zl){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Gg.findDOMNode(this);s&&iJ(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===jl&&this.setState({status:rh})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Gg.findDOMNode(this),a],c=l[0],u=l[1],f=this.getTimeouts(),h=a?f.appear:f.enter;if(!i&&!s||jk.disabled){this.safeSetState({status:du},function(){o.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:zl},function(){o.props.onEntering(c,u),o.onTransitionEnd(h,function(){o.safeSetState({status:du},function(){o.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Gg.findDOMNode(this);if(!o||jk.disabled){this.safeSetState({status:jl},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:nx},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:jl},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Gg.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===rh)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=p5(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return L.createElement(ev.Provider,{value:null},typeof s=="function"?s(i,a):L.cloneElement(L.Children.only(s),a))},e}(L.Component);Is.contextType=ev;Is.propTypes={};function iu(){}Is.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:iu,onEntering:iu,onEntered:iu,onExit:iu,onExiting:iu,onExited:iu};Is.UNMOUNTED=rh;Is.EXITED=jl;Is.ENTERING=zl;Is.ENTERED=du;Is.EXITING=nx;function oJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b1(t,e){var n=function(o){return e&&w.isValidElement(o)?e(o):o},r=Object.create(null);return t&&w.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function sJ(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var c=r[l][s];a[r[l][s]]=n(c)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function Ql(t,e,n){return n[e]!=null?n[e]:t.props[e]}function aJ(t,e){return b1(t.children,function(n){return w.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Ql(n,"appear",t),enter:Ql(n,"enter",t),exit:Ql(n,"exit",t)})})}function lJ(t,e,n){var r=b1(t.children),i=sJ(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(w.isValidElement(s)){var a=o in e,l=o in r,c=e[o],u=w.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[o]=w.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Ql(s,"exit",t),enter:Ql(s,"enter",t)}):!l&&a&&!u?i[o]=w.cloneElement(s,{in:!1}):l&&a&&w.isValidElement(c)&&(i[o]=w.cloneElement(s,{onExited:n.bind(null,s),in:c.props.in,exit:Ql(s,"exit",t),enter:Ql(s,"enter",t)}))}}),i}var cJ=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},uJ={component:"div",childFactory:function(e){return e}},w1=function(t){g5(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(oJ(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?aJ(i,a):lJ(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=b1(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=Yy({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=p5(i,["component","childFactory"]),l=this.state.contextValue,c=cJ(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?L.createElement(ev.Provider,{value:l},c):L.createElement(ev.Provider,{value:l},L.createElement(o,a,c))},e}(L.Component);w1.propTypes={};w1.defaultProps=uJ;const m5=t=>t.scrollTop;function tv(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function dJ(t){return rt("MuiPaper",t)}Ze("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const fJ=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return it(o,dJ,i)},hJ=le("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(vt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Xd=w.forwardRef(function(e,n){var p;const r=st({props:e,name:"MuiPaper"}),i=Yd(),{className:o,component:s="div",elevation:a=1,square:l=!1,variant:c="elevation",...u}=r,f={...r,component:s,elevation:a,square:l,variant:c},h=fJ(f);return A.jsx(hJ,{as:s,ownerState:f,className:Ee(h.root,o),ref:n,...u,style:{...c==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(p=i.vars.overlays)==null?void 0:p[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Ot("#fff",ZE(a))}, ${Ot("#fff",ZE(a))})`}},...u.style}})});function Ht(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...l}=e,{component:c,slots:u={[t]:void 0},slotProps:f={[t]:void 0},...h}=o,p=u[t]||r,g=s5(f[t],i),{props:{component:E,...x},internalRef:y}=o5({className:n,...l,externalForwardedProps:t==="root"?h:void 0,externalSlotProps:g}),b=fr(y,g==null?void 0:g.ref,e.ref),_=t==="root"?E||c:E,S=r5(p,{...t==="root"&&!c&&!u[t]&&s,...t!=="root"&&!u[t]&&s,...x,..._&&!a&&{as:_},..._&&a&&{component:_},ref:b},i);return[p,S]}class nv{constructor(){_f(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new nv}static use(){const e=e5(nv.create).current,[n,r]=w.useState(!1);return e.shouldMount=n,e.setShouldMount=r,w.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=gJ(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function pJ(){return nv.use()}function gJ(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function mJ(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:c}=t,[u,f]=w.useState(!1),h=Ee(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},g=Ee(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&f(!0),w.useEffect(()=>{if(!a&&l!=null){const E=setTimeout(l,c);return()=>{clearTimeout(E)}}},[l,a,c]),A.jsx("span",{className:h,style:p,children:A.jsx("span",{className:g})})}const lo=Ze("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),rx=550,yJ=80,vJ=Jp`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,_J=Jp`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,bJ=Jp`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,wJ=le("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),EJ=le(mJ,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${lo.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${vJ};
    animation-duration: ${rx}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${lo.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${lo.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${lo.childLeaving} {
    opacity: 0;
    animation-name: ${_J};
    animation-duration: ${rx}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${lo.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${bJ};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,xJ=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s,...a}=r,[l,c]=w.useState([]),u=w.useRef(0),f=w.useRef(null);w.useEffect(()=>{f.current&&(f.current(),f.current=null)},[l]);const h=w.useRef(!1),p=t5(),g=w.useRef(null),E=w.useRef(null),x=w.useCallback(S=>{const{pulsate:O,rippleX:N,rippleY:T,rippleSize:I,cb:R}=S;c(v=>[...v,A.jsx(EJ,{classes:{ripple:Ee(o.ripple,lo.ripple),rippleVisible:Ee(o.rippleVisible,lo.rippleVisible),ripplePulsate:Ee(o.ripplePulsate,lo.ripplePulsate),child:Ee(o.child,lo.child),childLeaving:Ee(o.childLeaving,lo.childLeaving),childPulsate:Ee(o.childPulsate,lo.childPulsate)},timeout:rx,pulsate:O,rippleX:N,rippleY:T,rippleSize:I},u.current)]),u.current+=1,f.current=R},[o]),y=w.useCallback((S={},O={},N=()=>{})=>{const{pulsate:T=!1,center:I=i||O.pulsate,fakeElement:R=!1}=O;if((S==null?void 0:S.type)==="mousedown"&&h.current){h.current=!1;return}(S==null?void 0:S.type)==="touchstart"&&(h.current=!0);const v=R?null:E.current,k=v?v.getBoundingClientRect():{width:0,height:0,left:0,top:0};let M,P,K;if(I||S===void 0||S.clientX===0&&S.clientY===0||!S.clientX&&!S.touches)M=Math.round(k.width/2),P=Math.round(k.height/2);else{const{clientX:H,clientY:W}=S.touches&&S.touches.length>0?S.touches[0]:S;M=Math.round(H-k.left),P=Math.round(W-k.top)}if(I)K=Math.sqrt((2*k.width**2+k.height**2)/3),K%2===0&&(K+=1);else{const H=Math.max(Math.abs((v?v.clientWidth:0)-M),M)*2+2,W=Math.max(Math.abs((v?v.clientHeight:0)-P),P)*2+2;K=Math.sqrt(H**2+W**2)}S!=null&&S.touches?g.current===null&&(g.current=()=>{x({pulsate:T,rippleX:M,rippleY:P,rippleSize:K,cb:N})},p.start(yJ,()=>{g.current&&(g.current(),g.current=null)})):x({pulsate:T,rippleX:M,rippleY:P,rippleSize:K,cb:N})},[i,x,p]),b=w.useCallback(()=>{y({},{pulsate:!0})},[y]),_=w.useCallback((S,O)=>{if(p.clear(),(S==null?void 0:S.type)==="touchend"&&g.current){g.current(),g.current=null,p.start(0,()=>{_(S,O)});return}g.current=null,c(N=>N.length>0?N.slice(1):N),f.current=O},[p]);return w.useImperativeHandle(n,()=>({pulsate:b,start:y,stop:_}),[b,y,_]),A.jsx(wJ,{className:Ee(lo.root,o.root,s),ref:E,...a,children:A.jsx(w1,{component:null,exit:!0,children:l})})});function SJ(t){return rt("MuiButtonBase",t)}const CJ=Ze("MuiButtonBase",["root","disabled","focusVisible"]),TJ=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=it({root:["root",e&&"disabled",n&&"focusVisible"]},SJ,i);return n&&r&&(s.root+=` ${r}`),s},IJ=le("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${CJ.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),pl=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:f=!1,focusRipple:h=!1,focusVisibleClassName:p,LinkComponent:g="a",onBlur:E,onClick:x,onContextMenu:y,onDragLeave:b,onFocus:_,onFocusVisible:S,onKeyDown:O,onKeyUp:N,onMouseDown:T,onMouseLeave:I,onMouseUp:R,onTouchEnd:v,onTouchMove:k,onTouchStart:M,tabIndex:P=0,TouchRippleProps:K,touchRippleRef:H,type:W,...G}=r,V=w.useRef(null),B=pJ(),Q=fr(B.ref,H),[oe,he]=w.useState(!1);c&&oe&&he(!1),w.useImperativeHandle(i,()=>({focusVisible:()=>{he(!0),V.current.focus()}}),[]);const ge=B.shouldMount&&!u&&!c;w.useEffect(()=>{oe&&h&&!u&&B.pulsate()},[u,h,oe,B]);const re=Ms(B,"start",T,f),ie=Ms(B,"stop",y,f),De=Ms(B,"stop",b,f),Ue=Ms(B,"stop",R,f),Ae=Ms(B,"stop",ke=>{oe&&ke.preventDefault(),I&&I(ke)},f),Le=Ms(B,"start",M,f),_e=Ms(B,"stop",v,f),Fe=Ms(B,"stop",k,f),Ne=Ms(B,"stop",ke=>{Ak(ke.target)||he(!1),E&&E(ke)},!1),$e=gi(ke=>{V.current||(V.current=ke.currentTarget),Ak(ke.target)&&(he(!0),S&&S(ke)),_&&_(ke)}),je=()=>{const ke=V.current;return l&&l!=="button"&&!(ke.tagName==="A"&&ke.href)},ze=gi(ke=>{h&&!ke.repeat&&oe&&ke.key===" "&&B.stop(ke,()=>{B.start(ke)}),ke.target===ke.currentTarget&&je()&&ke.key===" "&&ke.preventDefault(),O&&O(ke),ke.target===ke.currentTarget&&je()&&ke.key==="Enter"&&!c&&(ke.preventDefault(),x&&x(ke))}),Nt=gi(ke=>{h&&ke.key===" "&&oe&&!ke.defaultPrevented&&B.stop(ke,()=>{B.pulsate(ke)}),N&&N(ke),x&&ke.target===ke.currentTarget&&je()&&ke.key===" "&&!ke.defaultPrevented&&x(ke)});let me=l;me==="button"&&(G.href||G.to)&&(me=g);const Rt={};me==="button"?(Rt.type=W===void 0?"button":W,Rt.disabled=c):(!G.href&&!G.to&&(Rt.role="button"),c&&(Rt["aria-disabled"]=c));const We=fr(n,V),gt={...r,centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:f,focusRipple:h,tabIndex:P,focusVisible:oe},at=TJ(gt);return A.jsxs(IJ,{as:me,className:Ee(at.root,a),ownerState:gt,onBlur:Ne,onClick:x,onContextMenu:ie,onFocus:$e,onKeyDown:ze,onKeyUp:Nt,onMouseDown:re,onMouseLeave:Ae,onMouseUp:Ue,onDragLeave:De,onTouchEnd:_e,onTouchMove:Fe,onTouchStart:Le,ref:We,tabIndex:c?-1:P,type:W,...Rt,...G,children:[s,ge?A.jsx(xJ,{ref:Q,center:o,...K}):null]})});function Ms(t,e,n,r=!1){return gi(i=>(n&&n(i),r||t[e](i),!0))}function RJ(t){return typeof t.main=="string"}function PJ(t,e=[]){if(!RJ(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function mi(t=[]){return([,e])=>e&&PJ(e,t)}function kJ(t){return rt("MuiCircularProgress",t)}Ze("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Sa=44,ix=Jp`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,ox=Jp`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,AJ=typeof ix!="string"?o1`
        animation: ${ix} 1.4s linear infinite;
      `:null,OJ=typeof ox!="string"?o1`
        animation: ${ox} 1.4s ease-in-out infinite;
      `:null,NJ=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,`color${ae(r)}`],svg:["svg"],circle:["circle",`circle${ae(n)}`,i&&"circleDisableShrink"]};return it(o,kJ,e)},MJ=le("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${ae(n.color)}`]]}})(vt(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:AJ||{animation:`${ix} 1.4s linear infinite`}},...Object.entries(t.palette).filter(mi()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),$J=le("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),DJ=le("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${ae(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(vt(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:OJ||{animation:`${ox} 1.4s ease-in-out infinite`}}]}))),y5=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:f="indeterminate",...h}=r,p={...r,color:o,disableShrink:s,size:a,thickness:c,value:u,variant:f},g=NJ(p),E={},x={},y={};if(f==="determinate"){const b=2*Math.PI*((Sa-c)/2);E.strokeDasharray=b.toFixed(3),y["aria-valuenow"]=Math.round(u),E.strokeDashoffset=`${((100-u)/100*b).toFixed(3)}px`,x.transform="rotate(-90deg)"}return A.jsx(MJ,{className:Ee(g.root,i),style:{width:a,height:a,...x,...l},ownerState:p,ref:n,role:"progressbar",...y,...h,children:A.jsx($J,{className:g.svg,ownerState:p,viewBox:`${Sa/2} ${Sa/2} ${Sa} ${Sa}`,children:A.jsx(DJ,{className:g.circle,style:E,ownerState:p,cx:Sa,cy:Sa,r:(Sa-c)/2,fill:"none",strokeWidth:c})})})});function LJ(t){return rt("MuiIconButton",t)}const zk=Ze("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),FJ=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o,loading:s}=t,a={root:["root",s&&"loading",n&&"disabled",r!=="default"&&`color${ae(r)}`,i&&`edge${ae(i)}`,`size${ae(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return it(a,LJ,e)},BJ=le(pl,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${ae(n.color)}`],n.edge&&e[`edge${ae(n.edge)}`],e[`size${ae(n.size)}`]]}})(vt(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),vt(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(mi()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(mi()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${zk.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${zk.loading}`]:{color:"transparent"}}))),VJ=le("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),rv=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium",id:f,loading:h=null,loadingIndicator:p,...g}=r,E=qd(f),x=p??A.jsx(y5,{"aria-labelledby":E,color:"inherit",size:16}),y={...r,edge:i,color:a,disabled:l,disableFocusRipple:c,loading:h,loadingIndicator:x,size:u},b=FJ(y);return A.jsxs(BJ,{id:h?E:f,className:Ee(b.root,s),centerRipple:!0,focusRipple:!c,disabled:l||h,ref:n,...g,ownerState:y,children:[typeof h=="boolean"&&A.jsx("span",{className:b.loadingWrapper,style:{display:"contents"},children:A.jsx(VJ,{className:b.loadingIndicator,ownerState:y,children:h&&x})}),o]})}),UJ=Xn(A.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function jJ(t){return rt("MuiTypography",t)}Ze("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const zJ={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},WJ=JQ(),HJ=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=t,a={root:["root",o,t.align!=="inherit"&&`align${ae(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return it(a,jJ,s)},GJ=le("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${ae(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(vt(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(mi()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${ae(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),Wk={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Di=w.forwardRef(function(e,n){const{color:r,...i}=st({props:e,name:"MuiTypography"}),o=!zJ[r],s=WJ({...i,...o&&{color:r}}),{align:a="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:f=!1,paragraph:h=!1,variant:p="body1",variantMapping:g=Wk,...E}=s,x={...s,align:a,color:r,className:l,component:c,gutterBottom:u,noWrap:f,paragraph:h,variant:p,variantMapping:g},y=c||(h?"p":g[p]||Wk[p])||"span",b=HJ(x);return A.jsx(GJ,{as:y,ref:n,className:Ee(b.root,l),...E,ownerState:x,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...E.style}})});function Hk(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function qJ(t={}){const{ignoreAccents:e=!0,ignoreCase:n=!0,limit:r,matchFrom:i="any",stringify:o,trim:s=!1}=t;return(a,{inputValue:l,getOptionLabel:c})=>{let u=s?l.trim():l;n&&(u=u.toLowerCase()),e&&(u=Hk(u));const f=u?a.filter(h=>{let p=(o||c)(h);return n&&(p=p.toLowerCase()),e&&(p=Hk(p)),i==="start"?p.startsWith(u):p.includes(u)}):a;return typeof r=="number"?f.slice(0,r):f}}const KJ=qJ(),YJ=5,XJ=t=>{var e;return t.current!==null&&((e=t.current.parentElement)==null?void 0:e.contains(document.activeElement))},QJ=[];function Gk(t,e,n){if(e||t==null)return"";const r=n(t);return typeof r=="string"?r:""}function JJ(t){const{unstable_isActiveElementInListbox:e=XJ,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:i=!1,autoSelect:o=!1,blurOnSelect:s=!1,clearOnBlur:a=!t.freeSolo,clearOnEscape:l=!1,componentName:c="useAutocomplete",defaultValue:u=t.multiple?QJ:null,disableClearable:f=!1,disableCloseOnSelect:h=!1,disabled:p,disabledItemsFocusable:g=!1,disableListWrap:E=!1,filterOptions:x=KJ,filterSelectedOptions:y=!1,freeSolo:b=!1,getOptionDisabled:_,getOptionKey:S,getOptionLabel:O=Z=>Z.label??Z,groupBy:N,handleHomeEndKeys:T=!t.freeSolo,id:I,includeInputInList:R=!1,inputValue:v,isOptionEqualToValue:k=(Z,X)=>Z===X,multiple:M=!1,onChange:P,onClose:K,onHighlightChange:H,onInputChange:W,onOpen:G,open:V,openOnFocus:B=!1,options:Q,readOnly:oe=!1,selectOnFocus:he=!t.freeSolo,value:ge}=t,re=qd(I);let ie=O;ie=Z=>{const X=O(Z);return typeof X!="string"?String(X):X};const De=w.useRef(!1),Ue=w.useRef(!0),Ae=w.useRef(null),Le=w.useRef(null),[_e,Fe]=w.useState(null),[Ne,$e]=w.useState(-1),je=i?0:-1,ze=w.useRef(je),Nt=w.useRef(Gk(u,M,ie)).current,[me,Rt]=Sh({controlled:ge,default:u,name:c}),[We,gt]=Sh({controlled:v,default:Nt,name:c,state:"inputValue"}),[at,ke]=w.useState(!1),nn=w.useCallback((Z,X,Se)=>{if(!(M?me.length<X.length:X!==null)&&!a)return;const ct=Gk(X,M,ie);We!==ct&&(gt(ct),W&&W(Z,ct,Se))},[ie,We,M,W,gt,a,me]),[ot,En]=Sh({controlled:V,default:!1,name:c,state:"open"}),[St,_t]=w.useState(!0),Ct=!M&&me!=null&&We===ie(me),Vt=ot&&!oe,ut=Vt?x(Q.filter(Z=>!(y&&(M?me:[me]).some(X=>X!==null&&k(Z,X)))),{inputValue:Ct&&St?"":We,getOptionLabel:ie}):[],Xe=NX({filteredOptions:ut,value:me,inputValue:We});w.useEffect(()=>{const Z=me!==Xe.value;at&&!Z||b&&!Z||nn(null,me,"reset")},[me,nn,at,Xe.value,b]);const xn=ot&&ut.length>0&&!oe,Vn=gi(Z=>{Z===-1?Ae.current.focus():_e.querySelector(`[data-tag-index="${Z}"]`).focus()});w.useEffect(()=>{M&&Ne>me.length-1&&($e(-1),Vn(-1))},[me,M,Ne,Vn]);function Wr(Z,X){if(!Le.current||Z<0||Z>=ut.length)return-1;let Se=Z;for(;;){const Qe=Le.current.querySelector(`[data-option-index="${Se}"]`),ct=g?!1:!Qe||Qe.disabled||Qe.getAttribute("aria-disabled")==="true";if(Qe&&Qe.hasAttribute("tabindex")&&!ct)return Se;if(X==="next"?Se=(Se+1)%ut.length:Se=(Se-1+ut.length)%ut.length,Se===Z)return-1}}const xe=gi(({event:Z,index:X,reason:Se})=>{if(ze.current=X,X===-1?Ae.current.removeAttribute("aria-activedescendant"):Ae.current.setAttribute("aria-activedescendant",`${re}-option-${X}`),H&&["mouse","keyboard","touch"].includes(Se)&&H(Z,X===-1?null:ut[X],Se),!Le.current)return;const Qe=Le.current.querySelector(`[role="option"].${n}-focused`);Qe&&(Qe.classList.remove(`${n}-focused`),Qe.classList.remove(`${n}-focusVisible`));let ct=Le.current;if(Le.current.getAttribute("role")!=="listbox"&&(ct=Le.current.parentElement.querySelector('[role="listbox"]')),!ct)return;if(X===-1){ct.scrollTop=0;return}const Dt=Le.current.querySelector(`[data-option-index="${X}"]`);if(Dt&&(Dt.classList.add(`${n}-focused`),Se==="keyboard"&&Dt.classList.add(`${n}-focusVisible`),ct.scrollHeight>ct.clientHeight&&Se!=="mouse"&&Se!=="touch")){const yn=Dt,Tr=ct.clientHeight+ct.scrollTop,Fc=yn.offsetTop+yn.offsetHeight;Fc>Tr?ct.scrollTop=Fc-ct.clientHeight:yn.offsetTop-yn.offsetHeight*(N?1.3:0)<ct.scrollTop&&(ct.scrollTop=yn.offsetTop-yn.offsetHeight*(N?1.3:0))}}),Ie=gi(({event:Z,diff:X,direction:Se="next",reason:Qe})=>{if(!Vt)return;const Dt=Wr((()=>{const yn=ut.length-1;if(X==="reset")return je;if(X==="start")return 0;if(X==="end")return yn;const Tr=ze.current+X;return Tr<0?Tr===-1&&R?-1:E&&ze.current!==-1||Math.abs(X)>1?0:yn:Tr>yn?Tr===yn+1&&R?-1:E||Math.abs(X)>1?yn:0:Tr})(),Se);if(xe({index:Dt,reason:Qe,event:Z}),r&&X!=="reset")if(Dt===-1)Ae.current.value=We;else{const yn=ie(ut[Dt]);Ae.current.value=yn,yn.toLowerCase().indexOf(We.toLowerCase())===0&&We.length>0&&Ae.current.setSelectionRange(We.length,yn.length)}}),Yt=()=>{const Z=(X,Se)=>{const Qe=X?ie(X):"",ct=Se?ie(Se):"";return Qe===ct};if(ze.current!==-1&&Xe.filteredOptions&&Xe.filteredOptions.length!==ut.length&&Xe.inputValue===We&&(M?me.length===Xe.value.length&&Xe.value.every((X,Se)=>ie(me[Se])===ie(X)):Z(Xe.value,me))){const X=Xe.filteredOptions[ze.current];if(X)return ut.findIndex(Se=>ie(Se)===ie(X))}return-1},Un=w.useCallback(()=>{if(!Vt)return;const Z=Yt();if(Z!==-1){ze.current=Z;return}const X=M?me[0]:me;if(ut.length===0||X==null){Ie({diff:"reset"});return}if(Le.current){if(X!=null){const Se=ut[ze.current];if(M&&Se&&me.findIndex(ct=>k(Se,ct))!==-1)return;const Qe=ut.findIndex(ct=>k(ct,X));Qe===-1?Ie({diff:"reset"}):xe({index:Qe});return}if(ze.current>=ut.length-1){xe({index:ut.length-1});return}xe({index:ze.current})}},[ut.length,M?!1:me,y,Ie,xe,Vt,We,M]),Hr=gi(Z=>{Jy(Le,Z),Z&&Un()});w.useEffect(()=>{Un()},[Un]);const pr=Z=>{ot||(En(!0),_t(!0),G&&G(Z))},Cr=(Z,X)=>{ot&&(En(!1),K&&K(Z,X))},jn=(Z,X,Se,Qe)=>{if(M){if(me.length===X.length&&me.every((ct,Dt)=>ct===X[Dt]))return}else if(me===X)return;P&&P(Z,X,Se,Qe),Rt(X)},Pi=w.useRef(!1),rn=(Z,X,Se="selectOption",Qe="options")=>{let ct=Se,Dt=X;if(M){Dt=Array.isArray(me)?me.slice():[];const yn=Dt.findIndex(Tr=>k(X,Tr));yn===-1?Dt.push(X):Qe!=="freeSolo"&&(Dt.splice(yn,1),ct="removeOption")}nn(Z,Dt,ct),jn(Z,Dt,ct,{option:X}),!h&&(!Z||!Z.ctrlKey&&!Z.metaKey)&&Cr(Z,ct),(s===!0||s==="touch"&&Pi.current||s==="mouse"&&!Pi.current)&&Ae.current.blur()};function to(Z,X){if(Z===-1)return-1;let Se=Z;for(;;){if(X==="next"&&Se===me.length||X==="previous"&&Se===-1)return-1;const Qe=_e.querySelector(`[data-tag-index="${Se}"]`);if(!Qe||!Qe.hasAttribute("tabindex")||Qe.disabled||Qe.getAttribute("aria-disabled")==="true")Se+=X==="next"?1:-1;else return Se}}const no=(Z,X)=>{if(!M)return;We===""&&Cr(Z,"toggleInput");let Se=Ne;Ne===-1?We===""&&X==="previous"&&(Se=me.length-1):(Se+=X==="next"?1:-1,Se<0&&(Se=0),Se===me.length&&(Se=-1)),Se=to(Se,X),$e(Se),Vn(Se)},ki=Z=>{De.current=!0,gt(""),W&&W(Z,"","clear"),jn(Z,M?[]:null,"clear")},gr=Z=>X=>{if(Z.onKeyDown&&Z.onKeyDown(X),!X.defaultMuiPrevented&&(Ne!==-1&&!["ArrowLeft","ArrowRight"].includes(X.key)&&($e(-1),Vn(-1)),X.which!==229))switch(X.key){case"Home":Vt&&T&&(X.preventDefault(),Ie({diff:"start",direction:"next",reason:"keyboard",event:X}));break;case"End":Vt&&T&&(X.preventDefault(),Ie({diff:"end",direction:"previous",reason:"keyboard",event:X}));break;case"PageUp":X.preventDefault(),Ie({diff:-5,direction:"previous",reason:"keyboard",event:X}),pr(X);break;case"PageDown":X.preventDefault(),Ie({diff:YJ,direction:"next",reason:"keyboard",event:X}),pr(X);break;case"ArrowDown":X.preventDefault(),Ie({diff:1,direction:"next",reason:"keyboard",event:X}),pr(X);break;case"ArrowUp":X.preventDefault(),Ie({diff:-1,direction:"previous",reason:"keyboard",event:X}),pr(X);break;case"ArrowLeft":no(X,"previous");break;case"ArrowRight":no(X,"next");break;case"Enter":if(ze.current!==-1&&Vt){const Se=ut[ze.current],Qe=_?_(Se):!1;if(X.preventDefault(),Qe)return;rn(X,Se,"selectOption"),r&&Ae.current.setSelectionRange(Ae.current.value.length,Ae.current.value.length)}else b&&We!==""&&Ct===!1&&(M&&X.preventDefault(),rn(X,We,"createOption","freeSolo"));break;case"Escape":Vt?(X.preventDefault(),X.stopPropagation(),Cr(X,"escape")):l&&(We!==""||M&&me.length>0)&&(X.preventDefault(),X.stopPropagation(),ki(X));break;case"Backspace":if(M&&!oe&&We===""&&me.length>0){const Se=Ne===-1?me.length-1:Ne,Qe=me.slice();Qe.splice(Se,1),jn(X,Qe,"removeOption",{option:me[Se]})}break;case"Delete":if(M&&!oe&&We===""&&me.length>0&&Ne!==-1){const Se=Ne,Qe=me.slice();Qe.splice(Se,1),jn(X,Qe,"removeOption",{option:me[Se]})}break}},ye=Z=>{ke(!0),B&&!De.current&&pr(Z)},de=Z=>{if(e(Le)){Ae.current.focus();return}ke(!1),Ue.current=!0,De.current=!1,o&&ze.current!==-1&&Vt?rn(Z,ut[ze.current],"blur"):o&&b&&We!==""?rn(Z,We,"blur","freeSolo"):a&&nn(Z,me,"blur"),Cr(Z,"blur")},lt=Z=>{const X=Z.target.value;We!==X&&(gt(X),_t(!1),W&&W(Z,X,"input")),X===""?!f&&!M&&jn(Z,null,"clear"):pr(Z)},et=Z=>{const X=Number(Z.currentTarget.getAttribute("data-option-index"));ze.current!==X&&xe({event:Z,index:X,reason:"mouse"})},Mt=Z=>{xe({event:Z,index:Number(Z.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Pi.current=!0},mr=Z=>{const X=Number(Z.currentTarget.getAttribute("data-option-index"));rn(Z,ut[X],"selectOption"),Pi.current=!1},si=Z=>X=>{const Se=me.slice();Se.splice(Z,1),jn(X,Se,"removeOption",{option:me[Z]})},yr=Z=>{ot?Cr(Z,"toggleInput"):pr(Z)},Io=Z=>{Z.currentTarget.contains(Z.target)&&Z.target.getAttribute("id")!==re&&Z.preventDefault()},Sn=Z=>{Z.currentTarget.contains(Z.target)&&(Ae.current.focus(),he&&Ue.current&&Ae.current.selectionEnd-Ae.current.selectionStart===0&&Ae.current.select(),Ue.current=!1)},mn=Z=>{!p&&(We===""||!ot)&&yr(Z)};let ai=b&&We.length>0;ai=ai||(M?me.length>0:me!==null);let As=ut;return N&&(As=ut.reduce((Z,X,Se)=>{const Qe=N(X);return Z.length>0&&Z[Z.length-1].group===Qe?Z[Z.length-1].options.push(X):Z.push({key:Se,index:Se,group:Qe,options:[X]}),Z},[])),p&&at&&de(),{getRootProps:(Z={})=>({...Z,onKeyDown:gr(Z),onMouseDown:Io,onClick:Sn}),getInputLabelProps:()=>({id:`${re}-label`,htmlFor:re}),getInputProps:()=>({id:re,value:We,onBlur:de,onFocus:ye,onChange:lt,onMouseDown:mn,"aria-activedescendant":Vt?"":null,"aria-autocomplete":r?"both":"list","aria-controls":xn?`${re}-listbox`:void 0,"aria-expanded":xn,autoComplete:"off",ref:Ae,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:p}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:ki}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:yr}),getTagProps:({index:Z})=>({key:Z,"data-tag-index":Z,tabIndex:-1,...!oe&&{onDelete:si(Z)}}),getListboxProps:()=>({role:"listbox",id:`${re}-listbox`,"aria-labelledby":`${re}-label`,ref:Hr,onMouseDown:Z=>{Z.preventDefault()}}),getOptionProps:({index:Z,option:X})=>{const Se=(M?me:[me]).some(ct=>ct!=null&&k(X,ct)),Qe=_?_(X):!1;return{key:(S==null?void 0:S(X))??ie(X),tabIndex:-1,role:"option",id:`${re}-option-${Z}`,onMouseMove:et,onClick:mr,onTouchStart:Mt,"data-option-index":Z,"aria-disabled":Qe,"aria-selected":Se}},id:re,inputValue:We,value:me,dirty:ai,expanded:Vt&&_e,popupOpen:Vt,focused:at||Ne!==-1,anchorEl:_e,setAnchorEl:Fe,focusedTag:Ne,groupedOptions:As}}var wi="top",wo="bottom",Eo="right",Ei="left",E1="auto",rg=[wi,wo,Eo,Ei],xd="start",hp="end",ZJ="clippingParents",v5="viewport",Of="popper",eZ="reference",qk=rg.reduce(function(t,e){return t.concat([e+"-"+xd,e+"-"+hp])},[]),_5=[].concat(rg,[E1]).reduce(function(t,e){return t.concat([e,e+"-"+xd,e+"-"+hp])},[]),tZ="beforeRead",nZ="read",rZ="afterRead",iZ="beforeMain",oZ="main",sZ="afterMain",aZ="beforeWrite",lZ="write",cZ="afterWrite",uZ=[tZ,nZ,rZ,iZ,oZ,sZ,aZ,lZ,cZ];function Es(t){return t?(t.nodeName||"").toLowerCase():null}function Xi(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function vc(t){var e=Xi(t).Element;return t instanceof e||t instanceof Element}function yo(t){var e=Xi(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function x1(t){if(typeof ShadowRoot>"u")return!1;var e=Xi(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function dZ(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!yo(o)||!Es(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function fZ(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,c){return l[c]="",l},{});!yo(i)||!Es(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const hZ={name:"applyStyles",enabled:!0,phase:"write",fn:dZ,effect:fZ,requires:["computeStyles"]};function vs(t){return t.split("-")[0]}var oc=Math.max,iv=Math.min,Sd=Math.round;function sx(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function b5(){return!/^((?!chrome|android).)*safari/i.test(sx())}function Cd(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&yo(t)&&(i=t.offsetWidth>0&&Sd(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Sd(r.height)/t.offsetHeight||1);var s=vc(t)?Xi(t):window,a=s.visualViewport,l=!b5()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/o,f=r.width/i,h=r.height/o;return{width:f,height:h,top:u,right:c+f,bottom:u+h,left:c,x:c,y:u}}function S1(t){var e=Cd(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function w5(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&x1(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ca(t){return Xi(t).getComputedStyle(t)}function pZ(t){return["table","td","th"].indexOf(Es(t))>=0}function Pl(t){return((vc(t)?t.ownerDocument:t.document)||window.document).documentElement}function o_(t){return Es(t)==="html"?t:t.assignedSlot||t.parentNode||(x1(t)?t.host:null)||Pl(t)}function Kk(t){return!yo(t)||ca(t).position==="fixed"?null:t.offsetParent}function gZ(t){var e=/firefox/i.test(sx()),n=/Trident/i.test(sx());if(n&&yo(t)){var r=ca(t);if(r.position==="fixed")return null}var i=o_(t);for(x1(i)&&(i=i.host);yo(i)&&["html","body"].indexOf(Es(i))<0;){var o=ca(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function ig(t){for(var e=Xi(t),n=Kk(t);n&&pZ(n)&&ca(n).position==="static";)n=Kk(n);return n&&(Es(n)==="html"||Es(n)==="body"&&ca(n).position==="static")?e:n||gZ(t)||e}function C1(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ch(t,e,n){return oc(t,iv(e,n))}function mZ(t,e,n){var r=Ch(t,e,n);return r>n?n:r}function E5(){return{top:0,right:0,bottom:0,left:0}}function x5(t){return Object.assign({},E5(),t)}function S5(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var yZ=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,x5(typeof e!="number"?e:S5(e,rg))};function vZ(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=vs(n.placement),l=C1(a),c=[Ei,Eo].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!s)){var f=yZ(i.padding,n),h=S1(o),p=l==="y"?wi:Ei,g=l==="y"?wo:Eo,E=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],x=s[l]-n.rects.reference[l],y=ig(o),b=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,_=E/2-x/2,S=f[p],O=b-h[u]-f[g],N=b/2-h[u]/2+_,T=Ch(S,N,O),I=l;n.modifiersData[r]=(e={},e[I]=T,e.centerOffset=T-N,e)}}function _Z(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||w5(e.elements.popper,i)&&(e.elements.arrow=i))}const bZ={name:"arrow",enabled:!0,phase:"main",fn:vZ,effect:_Z,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Td(t){return t.split("-")[1]}var wZ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function EZ(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Sd(n*i)/i||0,y:Sd(r*i)/i||0}}function Yk(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,f=t.isFixed,h=s.x,p=h===void 0?0:h,g=s.y,E=g===void 0?0:g,x=typeof u=="function"?u({x:p,y:E}):{x:p,y:E};p=x.x,E=x.y;var y=s.hasOwnProperty("x"),b=s.hasOwnProperty("y"),_=Ei,S=wi,O=window;if(c){var N=ig(n),T="clientHeight",I="clientWidth";if(N===Xi(n)&&(N=Pl(n),ca(N).position!=="static"&&a==="absolute"&&(T="scrollHeight",I="scrollWidth")),N=N,i===wi||(i===Ei||i===Eo)&&o===hp){S=wo;var R=f&&N===O&&O.visualViewport?O.visualViewport.height:N[T];E-=R-r.height,E*=l?1:-1}if(i===Ei||(i===wi||i===wo)&&o===hp){_=Eo;var v=f&&N===O&&O.visualViewport?O.visualViewport.width:N[I];p-=v-r.width,p*=l?1:-1}}var k=Object.assign({position:a},c&&wZ),M=u===!0?EZ({x:p,y:E},Xi(n)):{x:p,y:E};if(p=M.x,E=M.y,l){var P;return Object.assign({},k,(P={},P[S]=b?"0":"",P[_]=y?"0":"",P.transform=(O.devicePixelRatio||1)<=1?"translate("+p+"px, "+E+"px)":"translate3d("+p+"px, "+E+"px, 0)",P))}return Object.assign({},k,(e={},e[S]=b?E+"px":"",e[_]=y?p+"px":"",e.transform="",e))}function xZ(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:vs(e.placement),variation:Td(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Yk(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Yk(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const SZ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:xZ,data:{}};var om={passive:!0};function CZ(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=Xi(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,om)}),a&&l.addEventListener("resize",n.update,om),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,om)}),a&&l.removeEventListener("resize",n.update,om)}}const TZ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:CZ,data:{}};var IZ={left:"right",right:"left",bottom:"top",top:"bottom"};function Zm(t){return t.replace(/left|right|bottom|top/g,function(e){return IZ[e]})}var RZ={start:"end",end:"start"};function Xk(t){return t.replace(/start|end/g,function(e){return RZ[e]})}function T1(t){var e=Xi(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function I1(t){return Cd(Pl(t)).left+T1(t).scrollLeft}function PZ(t,e){var n=Xi(t),r=Pl(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=b5();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+I1(t),y:l}}function kZ(t){var e,n=Pl(t),r=T1(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=oc(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=oc(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+I1(t),l=-r.scrollTop;return ca(i||n).direction==="rtl"&&(a+=oc(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function R1(t){var e=ca(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function C5(t){return["html","body","#document"].indexOf(Es(t))>=0?t.ownerDocument.body:yo(t)&&R1(t)?t:C5(o_(t))}function Th(t,e){var n;e===void 0&&(e=[]);var r=C5(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Xi(r),s=i?[o].concat(o.visualViewport||[],R1(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(Th(o_(s)))}function ax(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function AZ(t,e){var n=Cd(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Qk(t,e,n){return e===v5?ax(PZ(t,n)):vc(e)?AZ(e,n):ax(kZ(Pl(t)))}function OZ(t){var e=Th(o_(t)),n=["absolute","fixed"].indexOf(ca(t).position)>=0,r=n&&yo(t)?ig(t):t;return vc(r)?e.filter(function(i){return vc(i)&&w5(i,r)&&Es(i)!=="body"}):[]}function NZ(t,e,n,r){var i=e==="clippingParents"?OZ(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,c){var u=Qk(t,c,r);return l.top=oc(u.top,l.top),l.right=iv(u.right,l.right),l.bottom=iv(u.bottom,l.bottom),l.left=oc(u.left,l.left),l},Qk(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function T5(t){var e=t.reference,n=t.element,r=t.placement,i=r?vs(r):null,o=r?Td(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case wi:l={x:s,y:e.y-n.height};break;case wo:l={x:s,y:e.y+e.height};break;case Eo:l={x:e.x+e.width,y:a};break;case Ei:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?C1(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case xd:l[c]=l[c]-(e[u]/2-n[u]/2);break;case hp:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function pp(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?ZJ:a,c=n.rootBoundary,u=c===void 0?v5:c,f=n.elementContext,h=f===void 0?Of:f,p=n.altBoundary,g=p===void 0?!1:p,E=n.padding,x=E===void 0?0:E,y=x5(typeof x!="number"?x:S5(x,rg)),b=h===Of?eZ:Of,_=t.rects.popper,S=t.elements[g?b:h],O=NZ(vc(S)?S:S.contextElement||Pl(t.elements.popper),l,u,s),N=Cd(t.elements.reference),T=T5({reference:N,element:_,placement:i}),I=ax(Object.assign({},_,T)),R=h===Of?I:N,v={top:O.top-R.top+y.top,bottom:R.bottom-O.bottom+y.bottom,left:O.left-R.left+y.left,right:R.right-O.right+y.right},k=t.modifiersData.offset;if(h===Of&&k){var M=k[i];Object.keys(v).forEach(function(P){var K=[Eo,wo].indexOf(P)>=0?1:-1,H=[wi,wo].indexOf(P)>=0?"y":"x";v[P]+=M[H]*K})}return v}function MZ(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?_5:l,u=Td(r),f=u?a?qk:qk.filter(function(g){return Td(g)===u}):rg,h=f.filter(function(g){return c.indexOf(g)>=0});h.length===0&&(h=f);var p=h.reduce(function(g,E){return g[E]=pp(t,{placement:E,boundary:i,rootBoundary:o,padding:s})[vs(E)],g},{});return Object.keys(p).sort(function(g,E){return p[g]-p[E]})}function $Z(t){if(vs(t)===E1)return[];var e=Zm(t);return[Xk(t),e,Xk(e)]}function DZ(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,f=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,g=p===void 0?!0:p,E=n.allowedAutoPlacements,x=e.options.placement,y=vs(x),b=y===x,_=l||(b||!g?[Zm(x)]:$Z(x)),S=[x].concat(_).reduce(function(re,ie){return re.concat(vs(ie)===E1?MZ(e,{placement:ie,boundary:u,rootBoundary:f,padding:c,flipVariations:g,allowedAutoPlacements:E}):ie)},[]),O=e.rects.reference,N=e.rects.popper,T=new Map,I=!0,R=S[0],v=0;v<S.length;v++){var k=S[v],M=vs(k),P=Td(k)===xd,K=[wi,wo].indexOf(M)>=0,H=K?"width":"height",W=pp(e,{placement:k,boundary:u,rootBoundary:f,altBoundary:h,padding:c}),G=K?P?Eo:Ei:P?wo:wi;O[H]>N[H]&&(G=Zm(G));var V=Zm(G),B=[];if(o&&B.push(W[M]<=0),a&&B.push(W[G]<=0,W[V]<=0),B.every(function(re){return re})){R=k,I=!1;break}T.set(k,B)}if(I)for(var Q=g?3:1,oe=function(ie){var De=S.find(function(Ue){var Ae=T.get(Ue);if(Ae)return Ae.slice(0,ie).every(function(Le){return Le})});if(De)return R=De,"break"},he=Q;he>0;he--){var ge=oe(he);if(ge==="break")break}e.placement!==R&&(e.modifiersData[r]._skip=!0,e.placement=R,e.reset=!0)}}const LZ={name:"flip",enabled:!0,phase:"main",fn:DZ,requiresIfExists:["offset"],data:{_skip:!1}};function Jk(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Zk(t){return[wi,Eo,wo,Ei].some(function(e){return t[e]>=0})}function FZ(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=pp(e,{elementContext:"reference"}),a=pp(e,{altBoundary:!0}),l=Jk(s,r),c=Jk(a,i,o),u=Zk(l),f=Zk(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const BZ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:FZ};function VZ(t,e,n){var r=vs(t),i=[Ei,wi].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Ei,Eo].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function UZ(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=_5.reduce(function(u,f){return u[f]=VZ(f,e.rects,o),u},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}const jZ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:UZ};function zZ(t){var e=t.state,n=t.name;e.modifiersData[n]=T5({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const WZ={name:"popperOffsets",enabled:!0,phase:"read",fn:zZ,data:{}};function HZ(t){return t==="x"?"y":"x"}function GZ(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,f=n.padding,h=n.tether,p=h===void 0?!0:h,g=n.tetherOffset,E=g===void 0?0:g,x=pp(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),y=vs(e.placement),b=Td(e.placement),_=!b,S=C1(y),O=HZ(S),N=e.modifiersData.popperOffsets,T=e.rects.reference,I=e.rects.popper,R=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,v=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),k=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(N){if(o){var P,K=S==="y"?wi:Ei,H=S==="y"?wo:Eo,W=S==="y"?"height":"width",G=N[S],V=G+x[K],B=G-x[H],Q=p?-I[W]/2:0,oe=b===xd?T[W]:I[W],he=b===xd?-I[W]:-T[W],ge=e.elements.arrow,re=p&&ge?S1(ge):{width:0,height:0},ie=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:E5(),De=ie[K],Ue=ie[H],Ae=Ch(0,T[W],re[W]),Le=_?T[W]/2-Q-Ae-De-v.mainAxis:oe-Ae-De-v.mainAxis,_e=_?-T[W]/2+Q+Ae+Ue+v.mainAxis:he+Ae+Ue+v.mainAxis,Fe=e.elements.arrow&&ig(e.elements.arrow),Ne=Fe?S==="y"?Fe.clientTop||0:Fe.clientLeft||0:0,$e=(P=k==null?void 0:k[S])!=null?P:0,je=G+Le-$e-Ne,ze=G+_e-$e,Nt=Ch(p?iv(V,je):V,G,p?oc(B,ze):B);N[S]=Nt,M[S]=Nt-G}if(a){var me,Rt=S==="x"?wi:Ei,We=S==="x"?wo:Eo,gt=N[O],at=O==="y"?"height":"width",ke=gt+x[Rt],nn=gt-x[We],ot=[wi,Ei].indexOf(y)!==-1,En=(me=k==null?void 0:k[O])!=null?me:0,St=ot?ke:gt-T[at]-I[at]-En+v.altAxis,_t=ot?gt+T[at]+I[at]-En-v.altAxis:nn,Ct=p&&ot?mZ(St,gt,_t):Ch(p?St:ke,gt,p?_t:nn);N[O]=Ct,M[O]=Ct-gt}e.modifiersData[r]=M}}const qZ={name:"preventOverflow",enabled:!0,phase:"main",fn:GZ,requiresIfExists:["offset"]};function KZ(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function YZ(t){return t===Xi(t)||!yo(t)?T1(t):KZ(t)}function XZ(t){var e=t.getBoundingClientRect(),n=Sd(e.width)/t.offsetWidth||1,r=Sd(e.height)/t.offsetHeight||1;return n!==1||r!==1}function QZ(t,e,n){n===void 0&&(n=!1);var r=yo(e),i=yo(e)&&XZ(e),o=Pl(e),s=Cd(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Es(e)!=="body"||R1(o))&&(a=YZ(e)),yo(e)?(l=Cd(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=I1(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function JZ(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function ZZ(t){var e=JZ(t);return uZ.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function eee(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function tee(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var eA={placement:"bottom",modifiers:[],strategy:"absolute"};function tA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function nee(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?eA:i;return function(a,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},eA,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],h=!1,p={state:u,setOptions:function(y){var b=typeof y=="function"?y(u.options):y;E(),u.options=Object.assign({},o,u.options,b),u.scrollParents={reference:vc(a)?Th(a):a.contextElement?Th(a.contextElement):[],popper:Th(l)};var _=ZZ(tee([].concat(r,u.options.modifiers)));return u.orderedModifiers=_.filter(function(S){return S.enabled}),g(),p.update()},forceUpdate:function(){if(!h){var y=u.elements,b=y.reference,_=y.popper;if(tA(b,_)){u.rects={reference:QZ(b,ig(_),u.options.strategy==="fixed"),popper:S1(_)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(v){return u.modifiersData[v.name]=Object.assign({},v.data)});for(var S=0;S<u.orderedModifiers.length;S++){if(u.reset===!0){u.reset=!1,S=-1;continue}var O=u.orderedModifiers[S],N=O.fn,T=O.options,I=T===void 0?{}:T,R=O.name;typeof N=="function"&&(u=N({state:u,options:I,name:R,instance:p})||u)}}}},update:eee(function(){return new Promise(function(x){p.forceUpdate(),x(u)})}),destroy:function(){E(),h=!0}};if(!tA(a,l))return p;p.setOptions(c).then(function(x){!h&&c.onFirstUpdate&&c.onFirstUpdate(x)});function g(){u.orderedModifiers.forEach(function(x){var y=x.name,b=x.options,_=b===void 0?{}:b,S=x.effect;if(typeof S=="function"){var O=S({state:u,name:y,instance:p,options:_}),N=function(){};f.push(O||N)}})}function E(){f.forEach(function(x){return x()}),f=[]}return p}}var ree=[TZ,WZ,SZ,hZ,jZ,LZ,qZ,bZ,BZ],iee=nee({defaultModifiers:ree});function oee(t){return typeof t=="function"?t():t}const I5=w.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=w.useState(null),l=fr(w.isValidElement(r)?ng(r):null,n);if(Xo(()=>{o||a(oee(i)||document.body)},[i,o]),Xo(()=>{if(s&&!o)return Jy(n,s),()=>{Jy(n,null)}},[n,s,o]),o){if(w.isValidElement(r)){const c={ref:l};return w.cloneElement(r,c)}return r}return s&&Ap.createPortal(r,s)});function see(t){return rt("MuiPopper",t)}Ze("MuiPopper",["root"]);function aee(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function lx(t){return typeof t=="function"?t():t}function lee(t){return t.nodeType!==void 0}const cee=t=>{const{classes:e}=t;return it({root:["root"]},see,e)},uee={},dee=w.forwardRef(function(e,n){const{anchorEl:r,children:i,direction:o,disablePortal:s,modifiers:a,open:l,placement:c,popperOptions:u,popperRef:f,slotProps:h={},slots:p={},TransitionProps:g,ownerState:E,...x}=e,y=w.useRef(null),b=fr(y,n),_=w.useRef(null),S=fr(_,f),O=w.useRef(S);Xo(()=>{O.current=S},[S]),w.useImperativeHandle(f,()=>_.current,[]);const N=aee(c,o),[T,I]=w.useState(N),[R,v]=w.useState(lx(r));w.useEffect(()=>{_.current&&_.current.forceUpdate()}),w.useEffect(()=>{r&&v(lx(r))},[r]),Xo(()=>{if(!R||!l)return;const H=V=>{I(V.placement)};let W=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:V})=>{H(V)}}];a!=null&&(W=W.concat(a)),u&&u.modifiers!=null&&(W=W.concat(u.modifiers));const G=iee(R,y.current,{placement:N,...u,modifiers:W});return O.current(G),()=>{G.destroy(),O.current(null)}},[R,s,a,l,u,N]);const k={placement:T};g!==null&&(k.TransitionProps=g);const M=cee(e),P=p.root??"div",K=Ed({elementType:P,externalSlotProps:h.root,externalForwardedProps:x,additionalProps:{role:"tooltip",ref:b},ownerState:e,className:M.root});return A.jsx(P,{...K,children:typeof i=="function"?i(k):i})}),fee=w.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:f="bottom",popperOptions:h=uee,popperRef:p,style:g,transition:E=!1,slotProps:x={},slots:y={},...b}=e,[_,S]=w.useState(!0),O=()=>{S(!1)},N=()=>{S(!0)};if(!l&&!u&&(!E||_))return null;let T;if(o)T=o;else if(r){const v=lx(r);T=v&&lee(v)?Ci(v).body:Ci(null).body}const I=!u&&l&&(!E||_)?"none":void 0,R=E?{in:u,onEnter:O,onExited:N}:void 0;return A.jsx(I5,{disablePortal:a,container:T,children:A.jsx(dee,{anchorEl:r,direction:s,disablePortal:a,modifiers:c,ref:n,open:E?!_:u,placement:f,popperOptions:h,popperRef:p,slotProps:x,slots:y,...b,style:{position:"fixed",top:0,left:0,display:I,...g},TransitionProps:R,children:i})})}),hee=le(fee,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),R5=w.forwardRef(function(e,n){const r=r_(),i=st({props:e,name:"MuiPopper"}),{anchorEl:o,component:s,components:a,componentsProps:l,container:c,disablePortal:u,keepMounted:f,modifiers:h,open:p,placement:g,popperOptions:E,popperRef:x,transition:y,slots:b,slotProps:_,...S}=i,O=(b==null?void 0:b.root)??(a==null?void 0:a.Root),N={anchorEl:o,container:c,disablePortal:u,keepMounted:f,modifiers:h,open:p,placement:g,popperOptions:E,popperRef:x,transition:y,...S};return A.jsx(hee,{as:s,direction:r?"rtl":"ltr",slots:{root:O},slotProps:_??l,...N,ref:n})});function pee(t){return rt("MuiListSubheader",t)}Ze("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const gee=t=>{const{classes:e,color:n,disableGutters:r,inset:i,disableSticky:o}=t,s={root:["root",n!=="default"&&`color${ae(n)}`,!r&&"gutters",i&&"inset",!o&&"sticky"]};return it(s,pee,e)},mee=le("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${ae(n.color)}`],!n.disableGutters&&e.gutters,n.inset&&e.inset,!n.disableSticky&&e.sticky]}})(vt(({theme:t})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(t.vars||t).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:72}},{props:({ownerState:e})=>!e.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper}}]}))),cx=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiListSubheader"}),{className:i,color:o="default",component:s="li",disableGutters:a=!1,disableSticky:l=!1,inset:c=!1,...u}=r,f={...r,color:o,component:s,disableGutters:a,disableSticky:l,inset:c},h=gee(f);return A.jsx(mee,{as:s,className:Ee(h.root,i),ref:n,ownerState:f,...u})});cx&&(cx.muiSkipListHighlight=!0);const yee=Xn(A.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function vee(t){return rt("MuiChip",t)}const wt=Ze("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),_ee=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=t,c={root:["root",l,n&&"disabled",`size${ae(r)}`,`color${ae(i)}`,a&&"clickable",a&&`clickableColor${ae(i)}`,s&&"deletable",s&&`deletableColor${ae(i)}`,`${l}${ae(i)}`],label:["label",`label${ae(r)}`],avatar:["avatar",`avatar${ae(r)}`,`avatarColor${ae(i)}`],icon:["icon",`icon${ae(r)}`,`iconColor${ae(o)}`],deleteIcon:["deleteIcon",`deleteIcon${ae(r)}`,`deleteIconColor${ae(i)}`,`deleteIcon${ae(l)}Color${ae(i)}`]};return it(c,vee,e)},bee=le("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{[`& .${wt.avatar}`]:e.avatar},{[`& .${wt.avatar}`]:e[`avatar${ae(a)}`]},{[`& .${wt.avatar}`]:e[`avatarColor${ae(r)}`]},{[`& .${wt.icon}`]:e.icon},{[`& .${wt.icon}`]:e[`icon${ae(a)}`]},{[`& .${wt.icon}`]:e[`iconColor${ae(i)}`]},{[`& .${wt.deleteIcon}`]:e.deleteIcon},{[`& .${wt.deleteIcon}`]:e[`deleteIcon${ae(a)}`]},{[`& .${wt.deleteIcon}`]:e[`deleteIconColor${ae(r)}`]},{[`& .${wt.deleteIcon}`]:e[`deleteIcon${ae(l)}Color${ae(r)}`]},e.root,e[`size${ae(a)}`],e[`color${ae(r)}`],o&&e.clickable,o&&r!=="default"&&e[`clickableColor${ae(r)})`],s&&e.deletable,s&&r!=="default"&&e[`deletableColor${ae(r)}`],e[l],e[`${l}${ae(r)}`]]}})(vt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${wt.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${wt.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${wt.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${wt.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${wt.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${wt.icon}`]:{marginLeft:5,marginRight:-6},[`& .${wt.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:Ot(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Ot(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${wt.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${wt.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(mi(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${wt.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].contrastTextChannel} / 0.7)`:Ot(t.palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${wt.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${wt.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${wt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ot(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(mi(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${wt.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ot(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${wt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ot(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(mi(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${wt.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${wt.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${wt.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${wt.avatar}`]:{marginLeft:4},[`& .${wt.avatarSmall}`]:{marginLeft:2},[`& .${wt.icon}`]:{marginLeft:4},[`& .${wt.iconSmall}`]:{marginLeft:2},[`& .${wt.deleteIcon}`]:{marginRight:5},[`& .${wt.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(mi()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:Ot(t.palette[n].main,.7)}`,[`&.${wt.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette[n].main,t.palette.action.hoverOpacity)},[`&.${wt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.focusOpacity})`:Ot(t.palette[n].main,t.palette.action.focusOpacity)},[`& .${wt.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:Ot(t.palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}))]}})),wee=le("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${ae(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function nA(t){return t.key==="Backspace"||t.key==="Delete"}const Eee=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:f,label:h,onClick:p,onDelete:g,onKeyDown:E,onKeyUp:x,size:y="medium",variant:b="filled",tabIndex:_,skipFocusWhenDisabled:S=!1,...O}=r,N=w.useRef(null),T=fr(N,n),I=B=>{B.stopPropagation(),g&&g(B)},R=B=>{B.currentTarget===B.target&&nA(B)&&B.preventDefault(),E&&E(B)},v=B=>{B.currentTarget===B.target&&g&&nA(B)&&g(B),x&&x(B)},k=s!==!1&&p?!0:s,M=k||g?pl:l||"div",P={...r,component:M,disabled:u,size:y,color:a,iconColor:w.isValidElement(f)&&f.props.color||a,onDelete:!!g,clickable:k,variant:b},K=_ee(P),H=M===pl?{component:l||"div",focusVisibleClassName:K.focusVisible,...g&&{disableRipple:!0}}:{};let W=null;g&&(W=c&&w.isValidElement(c)?w.cloneElement(c,{className:Ee(c.props.className,K.deleteIcon),onClick:I}):A.jsx(yee,{className:Ee(K.deleteIcon),onClick:I}));let G=null;i&&w.isValidElement(i)&&(G=w.cloneElement(i,{className:Ee(K.avatar,i.props.className)}));let V=null;return f&&w.isValidElement(f)&&(V=w.cloneElement(f,{className:Ee(K.icon,f.props.className)})),A.jsxs(bee,{as:M,className:Ee(K.root,o),disabled:k&&u?!0:void 0,onClick:p,onKeyDown:R,onKeyUp:v,ref:T,tabIndex:S&&u?-1:_,ownerState:P,...H,...O,children:[G||V,A.jsx(wee,{className:Ee(K.label),ownerState:P,children:h}),W]})});function sm(t){return parseInt(t,10)||0}const xee={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function See(t){for(const e in t)return!1;return!0}function rA(t){return See(t)||t.outerHeightStyle===0&&!t.overflowing}const Cee=w.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a,...l}=e,{current:c}=w.useRef(a!=null),u=w.useRef(null),f=fr(n,u),h=w.useRef(null),p=w.useRef(null),g=w.useCallback(()=>{const _=u.current,S=p.current;if(!_||!S)return;const N=Qo(_).getComputedStyle(_);if(N.width==="0px")return{outerHeightStyle:0,overflowing:!1};S.style.width=N.width,S.value=_.value||e.placeholder||"x",S.value.slice(-1)===`
`&&(S.value+=" ");const T=N.boxSizing,I=sm(N.paddingBottom)+sm(N.paddingTop),R=sm(N.borderBottomWidth)+sm(N.borderTopWidth),v=S.scrollHeight;S.value="x";const k=S.scrollHeight;let M=v;o&&(M=Math.max(Number(o)*k,M)),i&&(M=Math.min(Number(i)*k,M)),M=Math.max(M,k);const P=M+(T==="border-box"?I+R:0),K=Math.abs(M-v)<=1;return{outerHeightStyle:P,overflowing:K}},[i,o,e.placeholder]),E=gi(()=>{const _=u.current,S=g();if(!_||!S||rA(S))return!1;const O=S.outerHeightStyle;return h.current!=null&&h.current!==O}),x=w.useCallback(()=>{const _=u.current,S=g();if(!_||!S||rA(S))return;const O=S.outerHeightStyle;h.current!==O&&(h.current=O,_.style.height=`${O}px`),_.style.overflow=S.overflowing?"hidden":""},[g]),y=w.useRef(-1);Xo(()=>{const _=n_(x),S=u==null?void 0:u.current;if(!S)return;const O=Qo(S);O.addEventListener("resize",_);let N;return typeof ResizeObserver<"u"&&(N=new ResizeObserver(()=>{E()&&(N.unobserve(S),cancelAnimationFrame(y.current),x(),y.current=requestAnimationFrame(()=>{N.observe(S)}))}),N.observe(S)),()=>{_.clear(),cancelAnimationFrame(y.current),O.removeEventListener("resize",_),N&&N.disconnect()}},[g,x,E]),Xo(()=>{x()});const b=_=>{c||x(),r&&r(_)};return A.jsxs(w.Fragment,{children:[A.jsx("textarea",{value:a,onChange:b,ref:f,rows:o,style:s,...l}),A.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:{...xee.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function ux(t){return typeof t=="string"}function Qd({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const P1=w.createContext(void 0);function Jd(){return w.useContext(P1)}function iA(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function ov(t,e=!1){return t&&(iA(t.value)&&t.value!==""||e&&iA(t.defaultValue)&&t.defaultValue!=="")}function Tee(t){return t.startAdornment}function Iee(t){return rt("MuiInputBase",t)}const Li=Ze("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var oA;const s_=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${ae(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},a_=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},Ree=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:f,size:h,startAdornment:p,type:g}=t,E={root:["root",`color${ae(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&h!=="medium"&&`size${ae(h)}`,u&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled",g==="search"&&"inputTypeSearch",u&&"inputMultiline",h==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",f&&"readOnly"]};return it(E,Iee,e)},l_=le("div",{name:"MuiInputBase",slot:"Root",overridesResolver:s_})(vt(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Li.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),c_=le("input",{name:"MuiInputBase",slot:"Input",overridesResolver:a_})(vt(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Li.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Li.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),sA=QQ({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),k1=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:s,className:a,color:l,components:c={},componentsProps:u={},defaultValue:f,disabled:h,disableInjectingGlobalStyles:p,endAdornment:g,error:E,fullWidth:x=!1,id:y,inputComponent:b="input",inputProps:_={},inputRef:S,margin:O,maxRows:N,minRows:T,multiline:I=!1,name:R,onBlur:v,onChange:k,onClick:M,onFocus:P,onKeyDown:K,onKeyUp:H,placeholder:W,readOnly:G,renderSuffix:V,rows:B,size:Q,slotProps:oe={},slots:he={},startAdornment:ge,type:re="text",value:ie,...De}=r,Ue=_.value!=null?_.value:ie,{current:Ae}=w.useRef(Ue!=null),Le=w.useRef(),_e=w.useCallback(Xe=>{},[]),Fe=fr(Le,S,_.ref,_e),[Ne,$e]=w.useState(!1),je=Jd(),ze=Qd({props:r,muiFormControl:je,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ze.focused=je?je.focused:Ne,w.useEffect(()=>{!je&&h&&Ne&&($e(!1),v&&v())},[je,h,Ne,v]);const Nt=je&&je.onFilled,me=je&&je.onEmpty,Rt=w.useCallback(Xe=>{ov(Xe)?Nt&&Nt():me&&me()},[Nt,me]);Xo(()=>{Ae&&Rt({value:Ue})},[Ue,Rt,Ae]);const We=Xe=>{P&&P(Xe),_.onFocus&&_.onFocus(Xe),je&&je.onFocus?je.onFocus(Xe):$e(!0)},gt=Xe=>{v&&v(Xe),_.onBlur&&_.onBlur(Xe),je&&je.onBlur?je.onBlur(Xe):$e(!1)},at=(Xe,...xn)=>{if(!Ae){const Vn=Xe.target||Le.current;if(Vn==null)throw new Error(la(1));Rt({value:Vn.value})}_.onChange&&_.onChange(Xe,...xn),k&&k(Xe,...xn)};w.useEffect(()=>{Rt(Le.current)},[]);const ke=Xe=>{Le.current&&Xe.currentTarget===Xe.target&&Le.current.focus(),M&&M(Xe)};let nn=b,ot=_;I&&nn==="input"&&(B?ot={type:void 0,minRows:B,maxRows:B,...ot}:ot={type:void 0,maxRows:N,minRows:T,...ot},nn=Cee);const En=Xe=>{Rt(Xe.animationName==="mui-auto-fill-cancel"?Le.current:{value:"x"})};w.useEffect(()=>{je&&je.setAdornedStart(!!ge)},[je,ge]);const St={...r,color:ze.color||"primary",disabled:ze.disabled,endAdornment:g,error:ze.error,focused:ze.focused,formControl:je,fullWidth:x,hiddenLabel:ze.hiddenLabel,multiline:I,size:ze.size,startAdornment:ge,type:re},_t=Ree(St),Ct=he.root||c.Root||l_,Vt=oe.root||u.root||{},ut=he.input||c.Input||c_;return ot={...ot,...oe.input??u.input},A.jsxs(w.Fragment,{children:[!p&&typeof sA=="function"&&(oA||(oA=A.jsx(sA,{}))),A.jsxs(Ct,{...Vt,ref:n,onClick:ke,...De,...!ux(Ct)&&{ownerState:{...St,...Vt.ownerState}},className:Ee(_t.root,Vt.className,a,G&&"MuiInputBase-readOnly"),children:[ge,A.jsx(P1.Provider,{value:null,children:A.jsx(ut,{"aria-invalid":ze.error,"aria-describedby":i,autoComplete:o,autoFocus:s,defaultValue:f,disabled:ze.disabled,id:y,onAnimationStart:En,name:R,placeholder:W,readOnly:G,required:ze.required,rows:B,value:Ue,onKeyDown:K,onKeyUp:H,type:re,...ot,...!ux(ut)&&{as:nn,ownerState:{...St,...ot.ownerState}},ref:Fe,className:Ee(_t.input,ot.className,G&&"MuiInputBase-readOnly"),onBlur:gt,onChange:at,onFocus:We})}),g,V?V({...ze,startAdornment:ge}):null]})]})});function Pee(t){return rt("MuiInput",t)}const Da={...Li,...Ze("MuiInput",["root","underline","input"])};function kee(t){return rt("MuiOutlinedInput",t)}const ao={...Li,...Ze("MuiOutlinedInput",["root","notchedOutline","input"])};function Aee(t){return rt("MuiFilledInput",t)}const Fi={...Li,...Ze("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},P5=Xn(A.jsx("path",{d:"M7 10l5 5 5-5z"}));function Oee(t){return rt("MuiAutocomplete",t)}const ft=Ze("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var aA,lA;const Nee=t=>{const{classes:e,disablePortal:n,expanded:r,focused:i,fullWidth:o,hasClearIcon:s,hasPopupIcon:a,inputFocused:l,popupOpen:c,size:u}=t,f={root:["root",r&&"expanded",i&&"focused",o&&"fullWidth",s&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${ae(u)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return it(f,Oee,e)},Mee=le("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{fullWidth:r,hasClearIcon:i,hasPopupIcon:o,inputFocused:s,size:a}=n;return[{[`& .${ft.tag}`]:e.tag},{[`& .${ft.tag}`]:e[`tagSize${ae(a)}`]},{[`& .${ft.inputRoot}`]:e.inputRoot},{[`& .${ft.input}`]:e.input},{[`& .${ft.input}`]:s&&e.inputFocused},e.root,r&&e.fullWidth,o&&e.hasPopupIcon,i&&e.hasClearIcon]}})({[`&.${ft.focused} .${ft.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${ft.clearIndicator}`]:{visibility:"visible"}},[`& .${ft.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${ft.inputRoot}`]:{[`.${ft.hasPopupIcon}&, .${ft.hasClearIcon}&`]:{paddingRight:30},[`.${ft.hasPopupIcon}.${ft.hasClearIcon}&`]:{paddingRight:56},[`& .${ft.input}`]:{width:0,minWidth:30}},[`& .${Da.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Da.root}.${Li.sizeSmall}`]:{[`& .${Da.input}`]:{padding:"2px 4px 3px 0"}},[`& .${ao.root}`]:{padding:9,[`.${ft.hasPopupIcon}&, .${ft.hasClearIcon}&`]:{paddingRight:39},[`.${ft.hasPopupIcon}.${ft.hasClearIcon}&`]:{paddingRight:65},[`& .${ft.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${ft.endAdornment}`]:{right:9}},[`& .${ao.root}.${Li.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${ft.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Fi.root}`]:{paddingTop:19,paddingLeft:8,[`.${ft.hasPopupIcon}&, .${ft.hasClearIcon}&`]:{paddingRight:39},[`.${ft.hasPopupIcon}.${ft.hasClearIcon}&`]:{paddingRight:65},[`& .${Fi.input}`]:{padding:"7px 4px"},[`& .${ft.endAdornment}`]:{right:9}},[`& .${Fi.root}.${Li.sizeSmall}`]:{paddingBottom:1,[`& .${Fi.input}`]:{padding:"2.5px 4px"}},[`& .${Li.hiddenLabel}`]:{paddingTop:8},[`& .${Fi.root}.${Li.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${ft.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Fi.root}.${Li.hiddenLabel}.${Li.sizeSmall}`]:{[`& .${ft.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${ft.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${ft.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${ft.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${ft.inputRoot}`]:{flexWrap:"wrap"}}}]}),$ee=le("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(t,e)=>e.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),Dee=le(rv,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(t,e)=>e.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Lee=le(rv,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popupIndicator,n.popupOpen&&e.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),Fee=le(R5,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${ft.option}`]:e.option},e.popper,n.disablePortal&&e.popperDisablePortal]}})(vt(({theme:t})=>({zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),Bee=le(Xd,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(t,e)=>e.paper})(vt(({theme:t})=>({...t.typography.body1,overflow:"auto"}))),Vee=le("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(t,e)=>e.loading})(vt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),Uee=le("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(t,e)=>e.noOptions})(vt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),jee=le("ul",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(t,e)=>e.listbox})(vt(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${ft.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${ft.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${ft.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${ft.focused}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${ft.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}}}))),zee=le(cx,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(t,e)=>e.groupLabel})(vt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8}))),Wee=le("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(t,e)=>e.groupUl})({padding:0,[`& .${ft.option}`]:{paddingLeft:24}}),Hee=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:o=!1,autoSelect:s=!1,blurOnSelect:a=!1,ChipProps:l,className:c,clearIcon:u=aA||(aA=A.jsx(UJ,{fontSize:"small"})),clearOnBlur:f=!r.freeSolo,clearOnEscape:h=!1,clearText:p="Clear",closeText:g="Close",componentsProps:E,defaultValue:x=r.multiple?[]:null,disableClearable:y=!1,disableCloseOnSelect:b=!1,disabled:_=!1,disabledItemsFocusable:S=!1,disableListWrap:O=!1,disablePortal:N=!1,filterOptions:T,filterSelectedOptions:I=!1,forcePopupIcon:R="auto",freeSolo:v=!1,fullWidth:k=!1,getLimitTagsText:M=dt=>`+${dt}`,getOptionDisabled:P,getOptionKey:K,getOptionLabel:H,isOptionEqualToValue:W,groupBy:G,handleHomeEndKeys:V=!r.freeSolo,id:B,includeInputInList:Q=!1,inputValue:oe,limitTags:he=-1,ListboxComponent:ge,ListboxProps:re,loading:ie=!1,loadingText:De="Loading…",multiple:Ue=!1,noOptionsText:Ae="No options",onChange:Le,onClose:_e,onHighlightChange:Fe,onInputChange:Ne,onOpen:$e,open:je,openOnFocus:ze=!1,openText:Nt="Open",options:me,PaperComponent:Rt,PopperComponent:We,popupIcon:gt=lA||(lA=A.jsx(P5,{})),readOnly:at=!1,renderGroup:ke,renderInput:nn,renderOption:ot,renderTags:En,selectOnFocus:St=!r.freeSolo,size:_t="medium",slots:Ct={},slotProps:Vt={},value:ut,...Xe}=r,{getRootProps:xn,getInputProps:Vn,getInputLabelProps:Wr,getPopupIndicatorProps:xe,getClearProps:Ie,getTagProps:Yt,getListboxProps:Un,getOptionProps:Hr,value:pr,dirty:Cr,expanded:jn,id:Pi,popupOpen:rn,focused:to,focusedTag:no,anchorEl:ki,setAnchorEl:gr,inputValue:ye,groupedOptions:de}=JJ({...r,componentName:"Autocomplete"}),lt=!y&&!_&&Cr&&!at,et=(!v||R===!0)&&R!==!1,{onMouseDown:Mt}=Vn(),{ref:mr,...si}=Un(),Io=H||(dt=>dt.label??dt),Sn={...r,disablePortal:N,expanded:jn,focused:to,fullWidth:k,getOptionLabel:Io,hasClearIcon:lt,hasPopupIcon:et,inputFocused:no===-1,popupOpen:rn,size:_t},mn=Nee(Sn),ai={slots:{paper:Rt,popper:We,...Ct},slotProps:{chip:l,listbox:re,...E,...Vt}},[As,Z]=Ht("listbox",{elementType:jee,externalForwardedProps:ai,ownerState:Sn,className:mn.listbox,additionalProps:si,ref:mr}),[X,Se]=Ht("paper",{elementType:Xd,externalForwardedProps:ai,ownerState:Sn,className:mn.paper}),[Qe,ct]=Ht("popper",{elementType:R5,externalForwardedProps:ai,ownerState:Sn,className:mn.popper,additionalProps:{disablePortal:N,style:{width:ki?ki.clientWidth:null},role:"presentation",anchorEl:ki,open:rn}});let Dt;if(Ue&&pr.length>0){const dt=Gr=>({className:mn.tag,disabled:_,...Yt(Gr)});En?Dt=En(pr,dt,Sn):Dt=pr.map((Gr,Po)=>{const{key:es,...Ol}=dt({index:Po});return A.jsx(Eee,{label:Io(Gr),size:_t,...Ol,...ai.slotProps.chip},es)})}if(he>-1&&Array.isArray(Dt)){const dt=Dt.length-he;!to&&dt>0&&(Dt=Dt.splice(0,he),Dt.push(A.jsx("span",{className:mn.tag,children:M(dt)},Dt.length)))}const Tr=ke||(dt=>A.jsxs("li",{children:[A.jsx(zee,{className:mn.groupLabel,ownerState:Sn,component:"div",children:dt.group}),A.jsx(Wee,{className:mn.groupUl,ownerState:Sn,children:dt.children})]},dt.key)),Al=ot||((dt,Gr)=>{const{key:Po,...es}=dt;return A.jsx("li",{...es,children:Io(Gr)},Po)}),Bc=(dt,Gr)=>{const Po=Hr({option:dt,index:Gr});return Al({...Po,className:mn.option},dt,{selected:Po["aria-selected"],index:Gr,inputValue:ye},Sn)},Os=ai.slotProps.clearIndicator,Ro=ai.slotProps.popupIndicator;return A.jsxs(w.Fragment,{children:[A.jsx(Mee,{ref:n,className:Ee(mn.root,c),ownerState:Sn,...xn(Xe),children:nn({id:Pi,disabled:_,fullWidth:!0,size:_t==="small"?"small":void 0,InputLabelProps:Wr(),InputProps:{ref:gr,className:mn.inputRoot,startAdornment:Dt,onMouseDown:dt=>{dt.target===dt.currentTarget&&Mt(dt)},...(lt||et)&&{endAdornment:A.jsxs($ee,{className:mn.endAdornment,ownerState:Sn,children:[lt?A.jsx(Dee,{...Ie(),"aria-label":p,title:p,ownerState:Sn,...Os,className:Ee(mn.clearIndicator,Os==null?void 0:Os.className),children:u}):null,et?A.jsx(Lee,{...xe(),disabled:_,"aria-label":rn?g:Nt,title:rn?g:Nt,ownerState:Sn,...Ro,className:Ee(mn.popupIndicator,Ro==null?void 0:Ro.className),children:gt}):null]})}},inputProps:{className:mn.input,disabled:_,readOnly:at,...Vn()}})}),ki?A.jsx(Fee,{as:Qe,...ct,children:A.jsxs(Bee,{as:X,...Se,children:[ie&&de.length===0?A.jsx(Vee,{className:mn.loading,ownerState:Sn,children:De}):null,de.length===0&&!v&&!ie?A.jsx(Uee,{className:mn.noOptions,ownerState:Sn,role:"presentation",onMouseDown:dt=>{dt.preventDefault()},children:Ae}):null,de.length>0?A.jsx(As,{as:ge,...Z,children:de.map((dt,Gr)=>G?Tr({key:dt.key,group:dt.group,children:dt.options.map((Po,es)=>Bc(Po,dt.index+es))}):Bc(dt,Gr))}):null]})}):null]})}),Gee={entering:{opacity:1},entered:{opacity:1}},dx=w.forwardRef(function(e,n){const r=Yd(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:f,onEntering:h,onExit:p,onExited:g,onExiting:E,style:x,timeout:y=i,TransitionComponent:b=Is,..._}=e,S=w.useRef(null),O=fr(S,ng(a),n),N=K=>H=>{if(K){const W=S.current;H===void 0?K(W):K(W,H)}},T=N(h),I=N((K,H)=>{m5(K);const W=tv({style:x,timeout:y,easing:l},{mode:"enter"});K.style.webkitTransition=r.transitions.create("opacity",W),K.style.transition=r.transitions.create("opacity",W),u&&u(K,H)}),R=N(f),v=N(E),k=N(K=>{const H=tv({style:x,timeout:y,easing:l},{mode:"exit"});K.style.webkitTransition=r.transitions.create("opacity",H),K.style.transition=r.transitions.create("opacity",H),p&&p(K)}),M=N(g),P=K=>{o&&o(S.current,K)};return A.jsx(b,{appear:s,in:c,nodeRef:S,onEnter:I,onEntered:R,onEntering:T,onExit:k,onExited:M,onExiting:v,addEndListener:P,timeout:y,..._,children:(K,{ownerState:H,...W})=>w.cloneElement(a,{style:{opacity:0,visibility:K==="exited"&&!c?"hidden":void 0,...Gee[K],...x,...a.props.style},ref:O,...W})})});function qee(t){return rt("MuiBackdrop",t)}Ze("MuiBackdrop",["root","invisible"]);const Kee=t=>{const{classes:e,invisible:n}=t;return it({root:["root",n&&"invisible"]},qee,e)},Yee=le("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),k5=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiBackdrop"}),{children:i,className:o,component:s="div",invisible:a=!1,open:l,components:c={},componentsProps:u={},slotProps:f={},slots:h={},TransitionComponent:p,transitionDuration:g,...E}=r,x={...r,component:s,invisible:a},y=Kee(x),b={transition:p,root:c.Root,...h},_={...u,...f},S={slots:b,slotProps:_},[O,N]=Ht("root",{elementType:Yee,externalForwardedProps:S,className:Ee(y.root,o),ownerState:x}),[T,I]=Ht("transition",{elementType:dx,externalForwardedProps:S,ownerState:x});return A.jsx(T,{in:l,timeout:g,...E,...I,children:A.jsx(O,{"aria-hidden":!0,...N,classes:y,ref:n,children:i})})}),Xee=Ze("MuiBox",["root"]),Qee=f5(),Id=pX({themeId:w0,defaultTheme:Qee,defaultClassName:Xee.root,generateClassName:KF.generate});function Jee(t){return rt("MuiButton",t)}const Fl=Ze("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),Zee=w.createContext({}),ete=w.createContext(void 0),tte=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,loading:s,loadingPosition:a,classes:l}=t,c={root:["root",s&&"loading",o,`${o}${ae(e)}`,`size${ae(i)}`,`${o}Size${ae(i)}`,`color${ae(e)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${ae(a)}`],startIcon:["icon","startIcon",`iconSize${ae(i)}`],endIcon:["icon","endIcon",`iconSize${ae(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},u=it(c,Jee,l);return{...l,...u}},A5=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],nte=le(pl,{shouldForwardProp:t=>To(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${ae(n.color)}`],e[`size${ae(n.size)}`],e[`${n.variant}Size${ae(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(vt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Fl.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Fl.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Fl.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Fl.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(mi()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:Ot(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette[r].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Fl.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Fl.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Fl.loading}`]:{color:"transparent"}}}]}})),rte=le("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${ae(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...A5]})),ite=le("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${ae(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...A5]})),ote=le("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),cA=le("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),Hn=w.forwardRef(function(e,n){const r=w.useContext(Zee),i=w.useContext(ete),o=wd(r,e),s=st({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:f=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:g,focusVisibleClassName:E,fullWidth:x=!1,id:y,loading:b=null,loadingIndicator:_,loadingPosition:S="center",size:O="medium",startIcon:N,type:T,variant:I="text",...R}=s,v=qd(y),k=_??A.jsx(y5,{"aria-labelledby":v,color:"inherit",size:16}),M={...s,color:l,component:c,disabled:f,disableElevation:h,disableFocusRipple:p,fullWidth:x,loading:b,loadingIndicator:k,loadingPosition:S,size:O,type:T,variant:I},P=tte(M),K=(N||b&&S==="start")&&A.jsx(rte,{className:P.startIcon,ownerState:M,children:N||A.jsx(cA,{className:P.loadingIconPlaceholder,ownerState:M})}),H=(g||b&&S==="end")&&A.jsx(ite,{className:P.endIcon,ownerState:M,children:g||A.jsx(cA,{className:P.loadingIconPlaceholder,ownerState:M})}),W=i||"",G=typeof b=="boolean"?A.jsx("span",{className:P.loadingWrapper,style:{display:"contents"},children:b&&A.jsx(ote,{className:P.loadingIndicator,ownerState:M,children:k})}):null;return A.jsxs(nte,{ownerState:M,className:Ee(r.className,P.root,u,W),component:c,disabled:f||b,focusRipple:!p,focusVisibleClassName:Ee(P.focusVisible,E),ref:n,type:T,id:b?v:y,...R,classes:P,children:[K,S!=="end"&&G,a,S==="end"&&G,H]})});function ste(t){return rt("MuiCard",t)}Ze("MuiCard",["root"]);const ate=t=>{const{classes:e}=t;return it({root:["root"]},ste,e)},lte=le(Xd,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})({overflow:"hidden"}),cte=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiCard"}),{className:i,raised:o=!1,...s}=r,a={...r,raised:o},l=ate(a);return A.jsx(lte,{className:Ee(l.root,i),elevation:o?8:void 0,ref:n,ownerState:a,...s})});function ute(t){return rt("MuiCardActions",t)}Ze("MuiCardActions",["root","spacing"]);const dte=t=>{const{classes:e,disableSpacing:n}=t;return it({root:["root",!n&&"spacing"]},ute,e)},fte=le("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),hte=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiCardActions"}),{disableSpacing:i=!1,className:o,...s}=r,a={...r,disableSpacing:i},l=dte(a);return A.jsx(fte,{className:Ee(l.root,o),ownerState:a,ref:n,...s})});function pte(t){return rt("MuiCardContent",t)}Ze("MuiCardContent",["root"]);const gte=t=>{const{classes:e}=t;return it({root:["root"]},pte,e)},mte=le("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:16,"&:last-child":{paddingBottom:24}}),yte=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiCardContent"}),{className:i,component:o="div",...s}=r,a={...r,component:o},l=gte(a);return A.jsx(mte,{as:o,className:Ee(l.root,i),ownerState:a,ref:n,...s})}),vte=XX({createStyledComponent:le("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${ae(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>st({props:t,name:"MuiContainer"})});function _te(t){const e=Ci(t);return e.body===t?Qo(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Ih(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function uA(t){return parseInt(Qo(t).getComputedStyle(t).paddingRight,10)||0}function bte(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function dA(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,s=>{const a=!o.includes(s),l=!bte(s);a&&l&&Ih(s,i)})}function Gb(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function wte(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(_te(r)){const s=n5(Qo(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${uA(r)+s}px`;const a=Ci(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${uA(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Ci(r).body;else{const s=r.parentElement,a=Qo(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function Ete(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class xte{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Ih(e.modalRef,!1);const i=Ete(n);dA(n,e.mount,e.modalRef,i,!0);const o=Gb(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Gb(this.containers,o=>o.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=wte(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Gb(this.containers,s=>s.modals.includes(e)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&Ih(e.modalRef,n),dA(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&Ih(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const Ste=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Cte(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Tte(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Ite(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Tte(t))}function Rte(t){const e=[],n=[];return Array.from(t.querySelectorAll(Ste)).forEach((r,i)=>{const o=Cte(r);o===-1||!Ite(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function Pte(){return!0}function kte(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=Rte,isEnabled:s=Pte,open:a}=t,l=w.useRef(!1),c=w.useRef(null),u=w.useRef(null),f=w.useRef(null),h=w.useRef(null),p=w.useRef(!1),g=w.useRef(null),E=fr(ng(e),g),x=w.useRef(null);w.useEffect(()=>{!a||!g.current||(p.current=!n)},[n,a]),w.useEffect(()=>{if(!a||!g.current)return;const _=Ci(g.current);return g.current.contains(_.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),p.current&&g.current.focus()),()=>{i||(f.current&&f.current.focus&&(l.current=!0,f.current.focus()),f.current=null)}},[a]),w.useEffect(()=>{if(!a||!g.current)return;const _=Ci(g.current),S=T=>{x.current=T,!(r||!s()||T.key!=="Tab")&&_.activeElement===g.current&&T.shiftKey&&(l.current=!0,u.current&&u.current.focus())},O=()=>{var R,v;const T=g.current;if(T===null)return;if(!_.hasFocus()||!s()||l.current){l.current=!1;return}if(T.contains(_.activeElement)||r&&_.activeElement!==c.current&&_.activeElement!==u.current)return;if(_.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let I=[];if((_.activeElement===c.current||_.activeElement===u.current)&&(I=o(g.current)),I.length>0){const k=!!((R=x.current)!=null&&R.shiftKey&&((v=x.current)==null?void 0:v.key)==="Tab"),M=I[0],P=I[I.length-1];typeof M!="string"&&typeof P!="string"&&(k?P.focus():M.focus())}else T.focus()};_.addEventListener("focusin",O),_.addEventListener("keydown",S,!0);const N=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&O()},50);return()=>{clearInterval(N),_.removeEventListener("focusin",O),_.removeEventListener("keydown",S,!0)}},[n,r,i,s,a,o]);const y=_=>{f.current===null&&(f.current=_.relatedTarget),p.current=!0,h.current=_.target;const S=e.props.onFocus;S&&S(_)},b=_=>{f.current===null&&(f.current=_.relatedTarget),p.current=!0};return A.jsxs(w.Fragment,{children:[A.jsx("div",{tabIndex:a?0:-1,onFocus:b,ref:c,"data-testid":"sentinelStart"}),w.cloneElement(e,{ref:E,onFocus:y}),A.jsx("div",{tabIndex:a?0:-1,onFocus:b,ref:u,"data-testid":"sentinelEnd"})]})}function Ate(t){return typeof t=="function"?t():t}function Ote(t){return t?t.props.hasOwnProperty("in"):!1}const fA=()=>{},am=new xte;function Nte(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:s,children:a,onClose:l,open:c,rootRef:u}=t,f=w.useRef({}),h=w.useRef(null),p=w.useRef(null),g=fr(p,u),[E,x]=w.useState(!c),y=Ote(a);let b=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(b=!1);const _=()=>Ci(h.current),S=()=>(f.current.modalRef=p.current,f.current.mount=h.current,f.current),O=()=>{am.mount(S(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},N=gi(()=>{const H=Ate(e)||_().body;am.add(S(),H),p.current&&O()}),T=()=>am.isTopModal(S()),I=gi(H=>{h.current=H,H&&(c&&T()?O():p.current&&Ih(p.current,b))}),R=w.useCallback(()=>{am.remove(S(),b)},[b]);w.useEffect(()=>()=>{R()},[R]),w.useEffect(()=>{c?N():(!y||!i)&&R()},[c,R,y,i,N]);const v=H=>W=>{var G;(G=H.onKeyDown)==null||G.call(H,W),!(W.key!=="Escape"||W.which===229||!T())&&(n||(W.stopPropagation(),l&&l(W,"escapeKeyDown")))},k=H=>W=>{var G;(G=H.onClick)==null||G.call(H,W),W.target===W.currentTarget&&l&&l(W,"backdropClick")};return{getRootProps:(H={})=>{const W=i5(t);delete W.onTransitionEnter,delete W.onTransitionExited;const G={...W,...H};return{role:"presentation",...G,onKeyDown:v(G),ref:g}},getBackdropProps:(H={})=>{const W=H;return{"aria-hidden":!0,...W,onClick:k(W),open:c}},getTransitionProps:()=>{const H=()=>{x(!1),o&&o()},W=()=>{x(!0),s&&s(),i&&R()};return{onEnter:Ik(H,(a==null?void 0:a.props.onEnter)??fA),onExited:Ik(W,(a==null?void 0:a.props.onExited)??fA)}},rootRef:g,portalRef:I,isTopModal:T,exited:E,hasTransition:y}}function Mte(t){return rt("MuiModal",t)}Ze("MuiModal",["root","hidden","backdrop"]);const $te=t=>{const{open:e,exited:n,classes:r}=t;return it({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},Mte,r)},Dte=le("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(vt(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),Lte=le(k5,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),O5=w.forwardRef(function(e,n){const r=st({name:"MuiModal",props:e}),{BackdropComponent:i=Lte,BackdropProps:o,classes:s,className:a,closeAfterTransition:l=!1,children:c,container:u,component:f,components:h={},componentsProps:p={},disableAutoFocus:g=!1,disableEnforceFocus:E=!1,disableEscapeKeyDown:x=!1,disablePortal:y=!1,disableRestoreFocus:b=!1,disableScrollLock:_=!1,hideBackdrop:S=!1,keepMounted:O=!1,onClose:N,onTransitionEnter:T,onTransitionExited:I,open:R,slotProps:v={},slots:k={},theme:M,...P}=r,K={...r,closeAfterTransition:l,disableAutoFocus:g,disableEnforceFocus:E,disableEscapeKeyDown:x,disablePortal:y,disableRestoreFocus:b,disableScrollLock:_,hideBackdrop:S,keepMounted:O},{getRootProps:H,getBackdropProps:W,getTransitionProps:G,portalRef:V,isTopModal:B,exited:Q,hasTransition:oe}=Nte({...K,rootRef:n}),he={...K,exited:Q},ge=$te(he),re={};if(c.props.tabIndex===void 0&&(re.tabIndex="-1"),oe){const{onEnter:_e,onExited:Fe}=G();re.onEnter=_e,re.onExited=Fe}const ie={slots:{root:h.Root,backdrop:h.Backdrop,...k},slotProps:{...p,...v}},[De,Ue]=Ht("root",{ref:n,elementType:Dte,externalForwardedProps:{...ie,...P,component:f},getSlotProps:H,ownerState:he,className:Ee(a,ge==null?void 0:ge.root,!he.open&&he.exited&&(ge==null?void 0:ge.hidden))}),[Ae,Le]=Ht("backdrop",{ref:o==null?void 0:o.ref,elementType:i,externalForwardedProps:ie,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:_e=>W({..._e,onClick:Fe=>{_e!=null&&_e.onClick&&_e.onClick(Fe)}}),className:Ee(o==null?void 0:o.className,ge==null?void 0:ge.backdrop),ownerState:he});return!O&&!R&&(!oe||Q)?null:A.jsx(I5,{ref:V,container:u,disablePortal:y,children:A.jsxs(De,{...Ue,children:[!S&&i?A.jsx(Ae,{...Le}):null,A.jsx(kte,{disableEnforceFocus:E,disableAutoFocus:g,disableRestoreFocus:b,isEnabled:B,open:R,children:w.cloneElement(c,re)})]})})});function Fte(t){return rt("MuiDialog",t)}const qb=Ze("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),N5=w.createContext({}),Bte=le(k5,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),Vte=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=t,s={root:["root"],container:["container",`scroll${ae(n)}`],paper:["paper",`paperScroll${ae(n)}`,`paperWidth${ae(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return it(s,Fte,e)},Ute=le(O5,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),jte=le("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${ae(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),zte=le(Xd,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${ae(n.scroll)}`],e[`paperWidth${ae(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(vt(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${qb.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${qb.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${qb.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),lm=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiDialog"}),i=Yd(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:c,BackdropProps:u,children:f,className:h,disableEscapeKeyDown:p=!1,fullScreen:g=!1,fullWidth:E=!1,maxWidth:x="sm",onClick:y,onClose:b,open:_,PaperComponent:S=Xd,PaperProps:O={},scroll:N="paper",slots:T={},slotProps:I={},TransitionComponent:R=dx,transitionDuration:v=o,TransitionProps:k,...M}=r,P={...r,disableEscapeKeyDown:p,fullScreen:g,fullWidth:E,maxWidth:x,scroll:N},K=Vte(P),H=w.useRef(),W=$e=>{H.current=$e.target===$e.currentTarget},G=$e=>{y&&y($e),H.current&&(H.current=null,b&&b($e,"backdropClick"))},V=qd(a),B=w.useMemo(()=>({titleId:V}),[V]),Q={transition:R,...T},oe={transition:k,paper:O,backdrop:u,...I},he={slots:Q,slotProps:oe},[ge,re]=Ht("root",{elementType:Ute,shouldForwardComponentProp:!0,externalForwardedProps:he,ownerState:P,className:Ee(K.root,h),ref:n}),[ie,De]=Ht("backdrop",{elementType:Bte,shouldForwardComponentProp:!0,externalForwardedProps:he,ownerState:P}),[Ue,Ae]=Ht("paper",{elementType:zte,shouldForwardComponentProp:!0,externalForwardedProps:he,ownerState:P,className:Ee(K.paper,O.className)}),[Le,_e]=Ht("container",{elementType:jte,externalForwardedProps:he,ownerState:P,className:Ee(K.container)}),[Fe,Ne]=Ht("transition",{elementType:dx,externalForwardedProps:he,ownerState:P,additionalProps:{appear:!0,in:_,timeout:v,role:"presentation"}});return A.jsx(ge,{closeAfterTransition:!0,slots:{backdrop:ie},slotProps:{backdrop:{transitionDuration:v,as:c,...De}},disableEscapeKeyDown:p,onClose:b,open:_,onClick:G,...re,...M,children:A.jsx(Fe,{...Ne,children:A.jsx(Le,{onMouseDown:W,..._e,children:A.jsx(Ue,{as:S,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":V,"aria-modal":l,...Ae,children:A.jsx(N5.Provider,{value:B,children:f})})})})})});function Wte(t){return rt("MuiDialogActions",t)}Ze("MuiDialogActions",["root","spacing"]);const Hte=t=>{const{classes:e,disableSpacing:n}=t;return it({root:["root",!n&&"spacing"]},Wte,e)},Gte=le("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),cm=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1,...s}=r,a={...r,disableSpacing:o},l=Hte(a);return A.jsx(Gte,{className:Ee(l.root,i),ownerState:a,ref:n,...s})});function qte(t){return rt("MuiDialogContent",t)}Ze("MuiDialogContent",["root","dividers"]);function Kte(t){return rt("MuiDialogTitle",t)}const Yte=Ze("MuiDialogTitle",["root"]),Xte=t=>{const{classes:e,dividers:n}=t;return it({root:["root",n&&"dividers"]},qte,e)},Qte=le("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(vt(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${Yte.root} + &`]:{paddingTop:0}}}]}))),um=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiDialogContent"}),{className:i,dividers:o=!1,...s}=r,a={...r,dividers:o},l=Xte(a);return A.jsx(Qte,{className:Ee(l.root,i),ownerState:a,ref:n,...s})}),Jte=t=>{const{classes:e}=t;return it({root:["root"]},Kte,e)},Zte=le(Di,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),dm=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiDialogTitle"}),{className:i,id:o,...s}=r,a=r,l=Jte(a),{titleId:c=o}=w.useContext(N5);return A.jsx(Zte,{component:"h2",className:Ee(l.root,i),ownerState:a,ref:n,variant:"h6",id:o??c,...s})}),hA=Ze("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),ene=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:s,multiline:a}=t,l={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${ae(o)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},c=it(l,Aee,e);return{...e,...c}},tne=le(l_,{shouldForwardProp:t=>To(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...s_(t,e),!n.disableUnderline&&e.underline]}})(vt(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${Fi.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${Fi.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Fi.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Fi.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Fi.disabled}, .${Fi.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Fi.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(mi()).map(([s])=>{var a;return{props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[s])==null?void 0:a.main}`}}}}),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:a})=>s.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),nne=le(c_,{name:"MuiFilledInput",slot:"Input",overridesResolver:a_})(vt(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),A1=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,hiddenLabel:l,inputComponent:c="input",multiline:u=!1,slotProps:f,slots:h={},type:p="text",...g}=r,E={...r,disableUnderline:i,fullWidth:a,inputComponent:c,multiline:u,type:p},x=ene(r),y={root:{ownerState:E},input:{ownerState:E}},b=f??s?dr(y,f??s):y,_=h.root??o.Root??tne,S=h.input??o.Input??nne;return A.jsx(k1,{slots:{root:_,input:S},slotProps:b,fullWidth:a,inputComponent:c,multiline:u,ref:n,type:p,...g,classes:x})});A1.muiName="Input";function rne(t){return rt("MuiFormControl",t)}Ze("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const ine=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${ae(n)}`,r&&"fullWidth"]};return it(i,rne,e)},one=le("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${ae(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),O1=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:f=!1,hiddenLabel:h=!1,margin:p="none",required:g=!1,size:E="medium",variant:x="outlined",...y}=r,b={...r,color:s,component:a,disabled:l,error:c,fullWidth:f,hiddenLabel:h,margin:p,required:g,size:E,variant:x},_=ine(b),[S,O]=w.useState(()=>{let H=!1;return i&&w.Children.forEach(i,W=>{if(!Jm(W,["Input","Select"]))return;const G=Jm(W,["Select"])?W.props.input:W;G&&Tee(G.props)&&(H=!0)}),H}),[N,T]=w.useState(()=>{let H=!1;return i&&w.Children.forEach(i,W=>{Jm(W,["Input","Select"])&&(ov(W.props,!0)||ov(W.props.inputProps,!0))&&(H=!0)}),H}),[I,R]=w.useState(!1);l&&I&&R(!1);const v=u!==void 0&&!l?u:I;let k;w.useRef(!1);const M=w.useCallback(()=>{T(!0)},[]),P=w.useCallback(()=>{T(!1)},[]),K=w.useMemo(()=>({adornedStart:S,setAdornedStart:O,color:s,disabled:l,error:c,filled:N,focused:v,fullWidth:f,hiddenLabel:h,size:E,onBlur:()=>{R(!1)},onFocus:()=>{R(!0)},onEmpty:P,onFilled:M,registerEffect:k,required:g,variant:x}),[S,s,l,c,N,v,f,h,k,P,M,g,E,x]);return A.jsx(P1.Provider,{value:K,children:A.jsx(one,{as:a,ownerState:b,className:Ee(_.root,o),ref:n,...y,children:i})})});function sne(t){return rt("MuiFormHelperText",t)}const pA=Ze("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var gA;const ane=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=t,c={root:["root",i&&"disabled",o&&"error",r&&`size${ae(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return it(c,sne,e)},lne=le("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${ae(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(vt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${pA.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${pA.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),cne=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p",disabled:a,error:l,filled:c,focused:u,margin:f,required:h,variant:p,...g}=r,E=Jd(),x=Qd({props:r,muiFormControl:E,states:["variant","size","disabled","error","filled","focused","required"]}),y={...r,component:s,contained:x.variant==="filled"||x.variant==="outlined",variant:x.variant,size:x.size,disabled:x.disabled,error:x.error,filled:x.filled,focused:x.focused,required:x.required};delete y.ownerState;const b=ane(y);return A.jsx(lne,{as:s,className:Ee(b.root,o),ref:n,...g,ownerState:y,children:i===" "?gA||(gA=A.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):i})});function une(t){return rt("MuiFormLabel",t)}const Rh=Ze("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),dne=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=t,l={root:["root",`color${ae(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return it(l,une,e)},fne=le("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(vt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(mi()).map(([e])=>({props:{color:e},style:{[`&.${Rh.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${Rh.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Rh.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),hne=le("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(vt(({theme:t})=>({[`&.${Rh.error}`]:{color:(t.vars||t).palette.error.main}}))),pne=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiFormLabel"}),{children:i,className:o,color:s,component:a="label",disabled:l,error:c,filled:u,focused:f,required:h,...p}=r,g=Jd(),E=Qd({props:r,muiFormControl:g,states:["color","required","focused","disabled","error","filled"]}),x={...r,color:E.color||"primary",component:a,disabled:E.disabled,error:E.error,filled:E.filled,focused:E.focused,required:E.required},y=dne(x);return A.jsxs(fne,{as:a,ownerState:x,className:Ee(y.root,o),ref:n,...p,children:[i,E.required&&A.jsxs(hne,{ownerState:x,"aria-hidden":!0,className:y.asterisk,children:[" ","*"]})]})}),mA=fQ({createStyledComponent:le("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:t=>st({props:t,name:"MuiGrid"}),useTheme:Yd});function fx(t){return`scale(${t}, ${t**2})`}const gne={entering:{opacity:1,transform:fx(1)},entered:{opacity:1,transform:"none"}},Kb=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),hx=w.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:f,onExited:h,onExiting:p,style:g,timeout:E="auto",TransitionComponent:x=Is,...y}=e,b=t5(),_=w.useRef(),S=Yd(),O=w.useRef(null),N=fr(O,ng(o),n),T=H=>W=>{if(H){const G=O.current;W===void 0?H(G):H(G,W)}},I=T(u),R=T((H,W)=>{m5(H);const{duration:G,delay:V,easing:B}=tv({style:g,timeout:E,easing:s},{mode:"enter"});let Q;E==="auto"?(Q=S.transitions.getAutoHeightDuration(H.clientHeight),_.current=Q):Q=G,H.style.transition=[S.transitions.create("opacity",{duration:Q,delay:V}),S.transitions.create("transform",{duration:Kb?Q:Q*.666,delay:V,easing:B})].join(","),l&&l(H,W)}),v=T(c),k=T(p),M=T(H=>{const{duration:W,delay:G,easing:V}=tv({style:g,timeout:E,easing:s},{mode:"exit"});let B;E==="auto"?(B=S.transitions.getAutoHeightDuration(H.clientHeight),_.current=B):B=W,H.style.transition=[S.transitions.create("opacity",{duration:B,delay:G}),S.transitions.create("transform",{duration:Kb?B:B*.666,delay:Kb?G:G||B*.333,easing:V})].join(","),H.style.opacity=0,H.style.transform=fx(.75),f&&f(H)}),P=T(h),K=H=>{E==="auto"&&b.start(_.current||0,H),r&&r(O.current,H)};return A.jsx(x,{appear:i,in:a,nodeRef:O,onEnter:R,onEntered:v,onEntering:I,onExit:M,onExited:P,onExiting:k,addEndListener:K,timeout:E==="auto"?null:E,...y,children:(H,{ownerState:W,...G})=>w.cloneElement(o,{style:{opacity:0,transform:fx(.75),visibility:H==="exited"&&!a?"hidden":void 0,...gne[H],...g,...o.props.style},ref:N,...G})})});hx&&(hx.muiSupportAuto=!0);const mne=t=>{const{classes:e,disableUnderline:n}=t,i=it({root:["root",!n&&"underline"],input:["input"]},Pee,e);return{...e,...i}},yne=le(l_,{shouldForwardProp:t=>To(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...s_(t,e),!n.disableUnderline&&e.underline]}})(vt(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Da.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Da.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Da.disabled}, .${Da.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Da.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(mi()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),vne=le(c_,{name:"MuiInput",slot:"Input",overridesResolver:a_})({}),N1=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,inputComponent:l="input",multiline:c=!1,slotProps:u,slots:f={},type:h="text",...p}=r,g=mne(r),x={root:{ownerState:{disableUnderline:i}}},y=u??s?dr(u??s,x):x,b=f.root??o.Root??yne,_=f.input??o.Input??vne;return A.jsx(k1,{slots:{root:b,input:_},slotProps:y,fullWidth:a,inputComponent:l,multiline:c,ref:n,type:h,...p,classes:g})});N1.muiName="Input";function _ne(t){return rt("MuiInputLabel",t)}Ze("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const bne=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=t,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="medium"&&`size${ae(r)}`,s],asterisk:[a&&"asterisk"]},c=it(l,_ne,e);return{...e,...c}},wne=le(pne,{shouldForwardProp:t=>To(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Rh.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(vt(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),M1=w.forwardRef(function(e,n){const r=st({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:o,shrink:s,variant:a,className:l,...c}=r,u=Jd();let f=s;typeof f>"u"&&u&&(f=u.filled||u.focused||u.adornedStart);const h=Qd({props:r,muiFormControl:u,states:["size","variant","required","focused"]}),p={...r,disableAnimation:i,formControl:u,shrink:f,size:h.size,variant:h.variant,required:h.required,focused:h.focused},g=bne(p);return A.jsx(wne,{"data-shrink":f,ref:n,className:Ee(g.root,l),...c,ownerState:p,classes:g})}),px=w.createContext({});function Ene(t){return rt("MuiList",t)}Ze("MuiList",["root","padding","dense","subheader"]);const xne=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return it({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},Ene,e)},Sne=le("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),Cne=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c,...u}=r,f=w.useMemo(()=>({dense:a}),[a]),h={...r,component:s,dense:a,disablePadding:l},p=xne(h);return A.jsx(px.Provider,{value:f,children:A.jsxs(Sne,{as:s,className:Ee(p.root,o),ref:n,ownerState:h,...u,children:[c,i]})})}),yA=Ze("MuiListItemIcon",["root","alignItemsFlexStart"]),vA=Ze("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function Yb(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function _A(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function M5(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function Nf(t,e,n,r,i,o){let s=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!M5(a,o)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const Tne=w.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:f="selectedMenu",...h}=e,p=w.useRef(null),g=w.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Xo(()=>{i&&p.current.focus()},[i]),w.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(_,{direction:S})=>{const O=!p.current.style.width;if(_.clientHeight<p.current.clientHeight&&O){const N=`${n5(Qo(_))}px`;p.current.style[S==="rtl"?"paddingLeft":"paddingRight"]=N,p.current.style.width=`calc(100% + ${N})`}return p.current}}),[]);const E=_=>{const S=p.current,O=_.key;if(_.ctrlKey||_.metaKey||_.altKey){u&&u(_);return}const T=Ci(S).activeElement;if(O==="ArrowDown")_.preventDefault(),Nf(S,T,c,l,Yb);else if(O==="ArrowUp")_.preventDefault(),Nf(S,T,c,l,_A);else if(O==="Home")_.preventDefault(),Nf(S,null,c,l,Yb);else if(O==="End")_.preventDefault(),Nf(S,null,c,l,_A);else if(O.length===1){const I=g.current,R=O.toLowerCase(),v=performance.now();I.keys.length>0&&(v-I.lastTime>500?(I.keys=[],I.repeating=!0,I.previousKeyMatched=!0):I.repeating&&R!==I.keys[0]&&(I.repeating=!1)),I.lastTime=v,I.keys.push(R);const k=T&&!I.repeating&&M5(T,I);I.previousKeyMatched&&(k||Nf(S,T,!1,l,Yb,I))?_.preventDefault():I.previousKeyMatched=!1}u&&u(_)},x=fr(p,n);let y=-1;w.Children.forEach(s,(_,S)=>{if(!w.isValidElement(_)){y===S&&(y+=1,y>=s.length&&(y=-1));return}_.props.disabled||(f==="selectedMenu"&&_.props.selected||y===-1)&&(y=S),y===S&&(_.props.disabled||_.props.muiSkipListHighlight||_.type.muiSkipListHighlight)&&(y+=1,y>=s.length&&(y=-1))});const b=w.Children.map(s,(_,S)=>{if(S===y){const O={};return o&&(O.autoFocus=!0),_.props.tabIndex===void 0&&f==="selectedMenu"&&(O.tabIndex=0),w.cloneElement(_,O)}return _});return A.jsx(Cne,{role:"menu",ref:x,className:a,onKeyDown:E,tabIndex:i?0:-1,...h,children:b})});function Ine(t){return rt("MuiPopover",t)}Ze("MuiPopover",["root","paper"]);function bA(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function wA(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function EA(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function fm(t){return typeof t=="function"?t():t}const Rne=t=>{const{classes:e}=t;return it({root:["root"],paper:["paper"]},Ine,e)},Pne=le(O5,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),$5=le(Xd,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),kne=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:c,className:u,container:f,elevation:h=8,marginThreshold:p=16,open:g,PaperProps:E={},slots:x={},slotProps:y={},transformOrigin:b={vertical:"top",horizontal:"left"},TransitionComponent:_,transitionDuration:S="auto",TransitionProps:O={},disableScrollLock:N=!1,...T}=r,I=w.useRef(),R={...r,anchorOrigin:s,anchorReference:l,elevation:h,marginThreshold:p,transformOrigin:b,TransitionComponent:_,transitionDuration:S,TransitionProps:O},v=Rne(R),k=w.useCallback(()=>{if(l==="anchorPosition")return a;const _e=fm(o),Ne=(_e&&_e.nodeType===1?_e:Ci(I.current).body).getBoundingClientRect();return{top:Ne.top+bA(Ne,s.vertical),left:Ne.left+wA(Ne,s.horizontal)}},[o,s.horizontal,s.vertical,a,l]),M=w.useCallback(_e=>({vertical:bA(_e,b.vertical),horizontal:wA(_e,b.horizontal)}),[b.horizontal,b.vertical]),P=w.useCallback(_e=>{const Fe={width:_e.offsetWidth,height:_e.offsetHeight},Ne=M(Fe);if(l==="none")return{top:null,left:null,transformOrigin:EA(Ne)};const $e=k();let je=$e.top-Ne.vertical,ze=$e.left-Ne.horizontal;const Nt=je+Fe.height,me=ze+Fe.width,Rt=Qo(fm(o)),We=Rt.innerHeight-p,gt=Rt.innerWidth-p;if(p!==null&&je<p){const at=je-p;je-=at,Ne.vertical+=at}else if(p!==null&&Nt>We){const at=Nt-We;je-=at,Ne.vertical+=at}if(p!==null&&ze<p){const at=ze-p;ze-=at,Ne.horizontal+=at}else if(me>gt){const at=me-gt;ze-=at,Ne.horizontal+=at}return{top:`${Math.round(je)}px`,left:`${Math.round(ze)}px`,transformOrigin:EA(Ne)}},[o,l,k,M,p]),[K,H]=w.useState(g),W=w.useCallback(()=>{const _e=I.current;if(!_e)return;const Fe=P(_e);Fe.top!==null&&_e.style.setProperty("top",Fe.top),Fe.left!==null&&(_e.style.left=Fe.left),_e.style.transformOrigin=Fe.transformOrigin,H(!0)},[P]);w.useEffect(()=>(N&&window.addEventListener("scroll",W),()=>window.removeEventListener("scroll",W)),[o,N,W]);const G=()=>{W()},V=()=>{H(!1)};w.useEffect(()=>{g&&W()}),w.useImperativeHandle(i,()=>g?{updatePosition:()=>{W()}}:null,[g,W]),w.useEffect(()=>{if(!g)return;const _e=n_(()=>{W()}),Fe=Qo(fm(o));return Fe.addEventListener("resize",_e),()=>{_e.clear(),Fe.removeEventListener("resize",_e)}},[o,g,W]);let B=S;const Q={slots:{transition:_,...x},slotProps:{transition:O,paper:E,...y}},[oe,he]=Ht("transition",{elementType:hx,externalForwardedProps:Q,ownerState:R,getSlotProps:_e=>({..._e,onEntering:(Fe,Ne)=>{var $e;($e=_e.onEntering)==null||$e.call(_e,Fe,Ne),G()},onExited:Fe=>{var Ne;(Ne=_e.onExited)==null||Ne.call(_e,Fe),V()}}),additionalProps:{appear:!0,in:g}});S==="auto"&&!oe.muiSupportAuto&&(B=void 0);const ge=f||(o?Ci(fm(o)).body:void 0),[re,{slots:ie,slotProps:De,...Ue}]=Ht("root",{ref:n,elementType:Pne,externalForwardedProps:{...Q,...T},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:x.backdrop},slotProps:{backdrop:rJ(typeof y.backdrop=="function"?y.backdrop(R):y.backdrop,{invisible:!0})},container:ge,open:g},ownerState:R,className:Ee(v.root,u)}),[Ae,Le]=Ht("paper",{ref:I,className:v.paper,elementType:$5,externalForwardedProps:Q,shouldForwardComponentProp:!0,additionalProps:{elevation:h,style:K?void 0:{opacity:0}},ownerState:R});return A.jsx(re,{...Ue,...!ux(re)&&{slots:ie,slotProps:De,disableScrollLock:N},children:A.jsx(oe,{...he,timeout:B,children:A.jsx(Ae,{...Le,children:c})})})});function Ane(t){return rt("MuiMenu",t)}Ze("MuiMenu",["root","paper","list"]);const One={vertical:"top",horizontal:"right"},Nne={vertical:"top",horizontal:"left"},Mne=t=>{const{classes:e}=t;return it({root:["root"],paper:["paper"],list:["list"]},Ane,e)},$ne=le(kne,{shouldForwardProp:t=>To(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Dne=le($5,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Lne=le(Tne,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Fne=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:s,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:c,open:u,PaperProps:f={},PopoverClasses:h,transitionDuration:p="auto",TransitionProps:{onEntering:g,...E}={},variant:x="selectedMenu",slots:y={},slotProps:b={},..._}=r,S=r_(),O={...r,autoFocus:i,disableAutoFocusItem:a,MenuListProps:l,onEntering:g,PaperProps:f,transitionDuration:p,TransitionProps:E,variant:x},N=Mne(O),T=i&&!a&&u,I=w.useRef(null),R=(B,Q)=>{I.current&&I.current.adjustStyleForScrollbar(B,{direction:S?"rtl":"ltr"}),g&&g(B,Q)},v=B=>{B.key==="Tab"&&(B.preventDefault(),c&&c(B,"tabKeyDown"))};let k=-1;w.Children.map(o,(B,Q)=>{w.isValidElement(B)&&(B.props.disabled||(x==="selectedMenu"&&B.props.selected||k===-1)&&(k=Q))});const M={slots:y,slotProps:{list:l,transition:E,paper:f,...b}},P=Ed({elementType:y.root,externalSlotProps:b.root,ownerState:O,className:[N.root,s]}),[K,H]=Ht("paper",{className:N.paper,elementType:Dne,externalForwardedProps:M,shouldForwardComponentProp:!0,ownerState:O}),[W,G]=Ht("list",{className:Ee(N.list,l.className),elementType:Lne,shouldForwardComponentProp:!0,externalForwardedProps:M,getSlotProps:B=>({...B,onKeyDown:Q=>{var oe;v(Q),(oe=B.onKeyDown)==null||oe.call(B,Q)}}),ownerState:O}),V=typeof M.slotProps.transition=="function"?M.slotProps.transition(O):M.slotProps.transition;return A.jsx($ne,{onClose:c,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?One:Nne,slots:{root:y.root,paper:K,backdrop:y.backdrop,...y.transition&&{transition:y.transition}},slotProps:{root:P,paper:H,backdrop:typeof b.backdrop=="function"?b.backdrop(O):b.backdrop,transition:{...V,onEntering:(...B)=>{var Q;R(...B),(Q=V==null?void 0:V.onEntering)==null||Q.call(V,...B)}}},open:u,ref:n,transitionDuration:p,ownerState:O,..._,classes:h,children:A.jsx(W,{actions:I,autoFocus:i&&(k===-1||a),autoFocusItem:T,variant:x,...G,children:o})})});function Bne(t){return rt("MuiMenuItem",t)}const Mf=Ze("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Vne=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Une=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=t,l=it({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},Bne,s);return{...s,...l}},jne=le(pl,{shouldForwardProp:t=>To(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Vne})(vt(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Mf.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Mf.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Mf.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Mf.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Mf.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${hA.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${hA.inset}`]:{marginLeft:52},[`& .${vA.root}`]:{marginTop:0,marginBottom:0},[`& .${vA.inset}`]:{paddingLeft:36},[`& .${yA.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${yA.root} svg`]:{fontSize:"1.25rem"}}}]}))),La=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:f,className:h,...p}=r,g=w.useContext(px),E=w.useMemo(()=>({dense:s||g.dense||!1,disableGutters:l}),[g.dense,s,l]),x=w.useRef(null);Xo(()=>{i&&x.current&&x.current.focus()},[i]);const y={...r,dense:E.dense,divider:a,disableGutters:l},b=Une(r),_=fr(x,n);let S;return r.disabled||(S=f!==void 0?f:-1),A.jsx(px.Provider,{value:E,children:A.jsx(jne,{ref:_,role:u,tabIndex:S,component:o,focusVisibleClassName:Ee(b.focusVisible,c),className:Ee(b.root,h),...p,ownerState:y,classes:b})})});function zne(t){return rt("MuiNativeSelect",t)}const $1=Ze("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Wne=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${ae(n)}`,o&&"iconOpen",r&&"disabled"]};return it(a,zne,e)},D5=le("select")(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${$1.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),Hne=le(D5,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:To,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${$1.multiple}`]:e.multiple}]}})({}),L5=le("svg")(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${$1.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),Gne=le(L5,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ae(n.variant)}`],n.open&&e.iconOpen]}})({}),qne=w.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard",...c}=e,u={...e,disabled:i,variant:l,error:o},f=Wne(u);return A.jsxs(w.Fragment,{children:[A.jsx(Hne,{ownerState:u,className:Ee(f.select,r),disabled:i,ref:a||n,...c}),e.multiple?null:A.jsx(Gne,{as:s,ownerState:u,className:f.icon})]})});var xA;const Kne=le("fieldset",{shouldForwardProp:To})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Yne=le("legend",{shouldForwardProp:To})(vt(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function Xne(t){const{children:e,classes:n,className:r,label:i,notched:o,...s}=t,a=i!=null&&i!=="",l={...t,notched:o,withLabel:a};return A.jsx(Kne,{"aria-hidden":!0,className:r,ownerState:l,...s,children:A.jsx(Yne,{ownerState:l,children:a?A.jsx("span",{children:i}):xA||(xA=A.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const Qne=t=>{const{classes:e}=t,r=it({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},kee,e);return{...e,...r}},Jne=le(l_,{shouldForwardProp:t=>To(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:s_})(vt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${ao.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${ao.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${ao.focused} .${ao.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(mi()).map(([n])=>({props:{color:n},style:{[`&.${ao.focused} .${ao.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${ao.error} .${ao.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${ao.disabled} .${ao.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),Zne=le(Xne,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(vt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),ere=le(c_,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:a_})(vt(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),D1=w.forwardRef(function(e,n){var r;const i=st({props:e,name:"MuiOutlinedInput"}),{components:o={},fullWidth:s=!1,inputComponent:a="input",label:l,multiline:c=!1,notched:u,slots:f={},type:h="text",...p}=i,g=Qne(i),E=Jd(),x=Qd({props:i,muiFormControl:E,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),y={...i,color:x.color||"primary",disabled:x.disabled,error:x.error,focused:x.focused,formControl:E,fullWidth:s,hiddenLabel:x.hiddenLabel,multiline:c,size:x.size,type:h},b=f.root??o.Root??Jne,_=f.input??o.Input??ere;return A.jsx(k1,{slots:{root:b,input:_},renderSuffix:S=>A.jsx(Zne,{ownerState:y,className:g.notchedOutline,label:l!=null&&l!==""&&x.required?r||(r=A.jsxs(w.Fragment,{children:[l," ","*"]})):l,notched:typeof u<"u"?u:!!(S.startAdornment||S.filled||S.focused)}),fullWidth:s,inputComponent:a,multiline:c,ref:n,type:h,...p,classes:{...g,notchedOutline:null}})});D1.muiName="Input";function F5(t){return rt("MuiSelect",t)}const $f=Ze("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var SA;const tre=le(D5,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${$f.select}`]:e.select},{[`&.${$f.select}`]:e[n.variant]},{[`&.${$f.error}`]:e.error},{[`&.${$f.multiple}`]:e.multiple}]}})({[`&.${$f.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),nre=le(L5,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ae(n.variant)}`],n.open&&e.iconOpen]}})({}),rre=le("input",{shouldForwardProp:t=>h5(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function CA(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function ire(t){return t==null||typeof t=="string"&&!t.trim()}const ore=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${ae(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return it(a,F5,e)},sre=w.forwardRef(function(e,n){var Wr;const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:s,children:a,className:l,defaultOpen:c,defaultValue:u,disabled:f,displayEmpty:h,error:p=!1,IconComponent:g,inputRef:E,labelId:x,MenuProps:y={},multiple:b,name:_,onBlur:S,onChange:O,onClose:N,onFocus:T,onOpen:I,open:R,readOnly:v,renderValue:k,required:M,SelectDisplayProps:P={},tabIndex:K,type:H,value:W,variant:G="standard",...V}=e,[B,Q]=Sh({controlled:W,default:u,name:"Select"}),[oe,he]=Sh({controlled:R,default:c,name:"Select"}),ge=w.useRef(null),re=w.useRef(null),[ie,De]=w.useState(null),{current:Ue}=w.useRef(R!=null),[Ae,Le]=w.useState(),_e=fr(n,E),Fe=w.useCallback(xe=>{re.current=xe,xe&&De(xe)},[]),Ne=ie==null?void 0:ie.parentNode;w.useImperativeHandle(_e,()=>({focus:()=>{re.current.focus()},node:ge.current,value:B}),[B]),w.useEffect(()=>{c&&oe&&ie&&!Ue&&(Le(s?null:Ne.clientWidth),re.current.focus())},[ie,s]),w.useEffect(()=>{o&&re.current.focus()},[o]),w.useEffect(()=>{if(!x)return;const xe=Ci(re.current).getElementById(x);if(xe){const Ie=()=>{getSelection().isCollapsed&&re.current.focus()};return xe.addEventListener("click",Ie),()=>{xe.removeEventListener("click",Ie)}}},[x]);const $e=(xe,Ie)=>{xe?I&&I(Ie):N&&N(Ie),Ue||(Le(s?null:Ne.clientWidth),he(xe))},je=xe=>{xe.button===0&&(xe.preventDefault(),re.current.focus(),$e(!0,xe))},ze=xe=>{$e(!1,xe)},Nt=w.Children.toArray(a),me=xe=>{const Ie=Nt.find(Yt=>Yt.props.value===xe.target.value);Ie!==void 0&&(Q(Ie.props.value),O&&O(xe,Ie))},Rt=xe=>Ie=>{let Yt;if(Ie.currentTarget.hasAttribute("tabindex")){if(b){Yt=Array.isArray(B)?B.slice():[];const Un=B.indexOf(xe.props.value);Un===-1?Yt.push(xe.props.value):Yt.splice(Un,1)}else Yt=xe.props.value;if(xe.props.onClick&&xe.props.onClick(Ie),B!==Yt&&(Q(Yt),O)){const Un=Ie.nativeEvent||Ie,Hr=new Un.constructor(Un.type,Un);Object.defineProperty(Hr,"target",{writable:!0,value:{value:Yt,name:_}}),O(Hr,xe)}b||$e(!1,Ie)}},We=xe=>{v||[" ","ArrowUp","ArrowDown","Enter"].includes(xe.key)&&(xe.preventDefault(),$e(!0,xe))},gt=ie!==null&&oe,at=xe=>{!gt&&S&&(Object.defineProperty(xe,"target",{writable:!0,value:{value:B,name:_}}),S(xe))};delete V["aria-invalid"];let ke,nn;const ot=[];let En=!1;(ov({value:B})||h)&&(k?ke=k(B):En=!0);const St=Nt.map(xe=>{if(!w.isValidElement(xe))return null;let Ie;if(b){if(!Array.isArray(B))throw new Error(la(2));Ie=B.some(Yt=>CA(Yt,xe.props.value)),Ie&&En&&ot.push(xe.props.children)}else Ie=CA(B,xe.props.value),Ie&&En&&(nn=xe.props.children);return w.cloneElement(xe,{"aria-selected":Ie?"true":"false",onClick:Rt(xe),onKeyUp:Yt=>{Yt.key===" "&&Yt.preventDefault(),xe.props.onKeyUp&&xe.props.onKeyUp(Yt)},role:"option",selected:Ie,value:void 0,"data-value":xe.props.value})});En&&(b?ot.length===0?ke=null:ke=ot.reduce((xe,Ie,Yt)=>(xe.push(Ie),Yt<ot.length-1&&xe.push(", "),xe),[]):ke=nn);let _t=Ae;!s&&Ue&&ie&&(_t=Ne.clientWidth);let Ct;typeof K<"u"?Ct=K:Ct=f?null:0;const Vt=P.id||(_?`mui-component-select-${_}`:void 0),ut={...e,variant:G,value:B,open:gt,error:p},Xe=ore(ut),xn={...y.PaperProps,...(Wr=y.slotProps)==null?void 0:Wr.paper},Vn=qd();return A.jsxs(w.Fragment,{children:[A.jsx(tre,{as:"div",ref:Fe,tabIndex:Ct,role:"combobox","aria-controls":gt?Vn:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":gt?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[x,Vt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":M?"true":void 0,"aria-invalid":p?"true":void 0,onKeyDown:We,onMouseDown:f||v?null:je,onBlur:at,onFocus:T,...P,ownerState:ut,className:Ee(P.className,Xe.select,l),id:Vt,children:ire(ke)?SA||(SA=A.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):ke}),A.jsx(rre,{"aria-invalid":p,value:Array.isArray(B)?B.join(","):B,name:_,ref:ge,"aria-hidden":!0,onChange:me,tabIndex:-1,disabled:f,className:Xe.nativeInput,autoFocus:o,required:M,...V,ownerState:ut}),A.jsx(nre,{as:g,className:Xe.icon,ownerState:ut}),A.jsx(Fne,{id:`menu-${_||""}`,anchorEl:Ne,open:gt,onClose:ze,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...y,slotProps:{...y.slotProps,list:{"aria-labelledby":x,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:Vn,...y.MenuListProps},paper:{...xn,style:{minWidth:_t,...xn!=null?xn.style:null}}},children:St})]})}),are=t=>{const{classes:e}=t,r=it({root:["root"]},F5,e);return{...e,...r}},L1={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>To(t)&&t!=="variant",slot:"Root"},lre=le(N1,L1)(""),cre=le(D1,L1)(""),ure=le(A1,L1)(""),u_=w.forwardRef(function(e,n){const r=st({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=P5,id:f,input:h,inputProps:p,label:g,labelId:E,MenuProps:x,multiple:y=!1,native:b=!1,onClose:_,onOpen:S,open:O,renderValue:N,SelectDisplayProps:T,variant:I="outlined",...R}=r,v=b?qne:sre,k=Jd(),M=Qd({props:r,muiFormControl:k,states:["variant","error"]}),P=M.variant||I,K={...r,variant:P,classes:s},H=are(K),{root:W,...G}=H,V=h||{standard:A.jsx(lre,{ownerState:K}),outlined:A.jsx(cre,{label:g,ownerState:K}),filled:A.jsx(ure,{ownerState:K})}[P],B=fr(n,ng(V));return A.jsx(w.Fragment,{children:w.cloneElement(V,{inputComponent:v,inputProps:{children:o,error:M.error,IconComponent:u,variant:P,type:void 0,multiple:y,...b?{id:f}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:E,MenuProps:x,onClose:_,onOpen:S,open:O,renderValue:N,SelectDisplayProps:{id:f,...T}},...p,classes:p?dr(G,p.classes):G,...h?h.props.inputProps:{}},...(y&&b||c)&&P==="outlined"?{notched:!0}:{},ref:B,className:Ee(V.props.className,a,H.root),...!h&&{variant:P},...R})})});u_.muiName="Select";const dre=_Q({createStyledComponent:le("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>st({props:t,name:"MuiStack"})});function fre(t){return rt("MuiTab",t)}const so=Ze("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),hre=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:i,icon:o,label:s,selected:a,disabled:l}=t,c={root:["root",o&&s&&"labelIcon",`textColor${ae(n)}`,r&&"fullWidth",i&&"wrapped",a&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]};return it(c,fre,e)},pre=le(pl,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${ae(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped,{[`& .${so.iconWrapper}`]:e.iconWrapper},{[`& .${so.icon}`]:e.icon}]}})(vt(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="top",style:{[`& > .${so.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="bottom",style:{[`& > .${so.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="start",style:{[`& > .${so.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="end",style:{[`& > .${so.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${so.selected}`]:{opacity:1},[`&.${so.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${so.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${so.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${so.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${so.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),TA=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:s=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:u,label:f,onChange:h,onClick:p,onFocus:g,selected:E,selectionFollowsFocus:x,textColor:y="inherit",value:b,wrapped:_=!1,...S}=r,O={...r,disabled:o,disableFocusRipple:s,selected:E,icon:!!l,iconPosition:c,label:!!f,fullWidth:a,textColor:y,wrapped:_},N=hre(O),T=l&&f&&w.isValidElement(l)?w.cloneElement(l,{className:Ee(N.icon,l.props.className)}):l,I=v=>{!E&&h&&h(v,b),p&&p(v)},R=v=>{x&&!E&&h&&h(v,b),g&&g(v)};return A.jsxs(pre,{focusRipple:!s,className:Ee(N.root,i),ref:n,role:"tab","aria-selected":E,disabled:o,onClick:I,onFocus:R,ownerState:O,tabIndex:E?0:-1,...S,children:[c==="top"||c==="start"?A.jsxs(w.Fragment,{children:[T,f]}):A.jsxs(w.Fragment,{children:[f,T]}),u]})}),gre=Xn(A.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),mre=Xn(A.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function yre(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function vre(t,e,n,r={},i=()=>{}){const{ease:o=yre,duration:s=300}=r;let a=null;const l=e[t];let c=!1;const u=()=>{c=!0},f=h=>{if(c){i(new Error("Animation cancelled"));return}a===null&&(a=h);const p=Math.min(1,(h-a)/s);if(e[t]=o(p)*(n-l)+l,p>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(f)};return l===n?(i(new Error("Element already at target position")),u):(requestAnimationFrame(f),u)}const _re={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function bre(t){const{onChange:e,...n}=t,r=w.useRef(),i=w.useRef(null),o=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return Xo(()=>{const s=n_(()=>{const l=r.current;o(),l!==r.current&&e(r.current)}),a=Qo(i.current);return a.addEventListener("resize",s),()=>{s.clear(),a.removeEventListener("resize",s)}},[e]),w.useEffect(()=>{o(),e(r.current)},[e]),A.jsx("div",{style:_re,...n,ref:i})}function wre(t){return rt("MuiTabScrollButton",t)}const Ere=Ze("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),xre=t=>{const{classes:e,orientation:n,disabled:r}=t;return it({root:["root",n,r&&"disabled"]},wre,e)},Sre=le(pl,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${Ere.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),Cre=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiTabScrollButton"}),{className:i,slots:o={},slotProps:s={},direction:a,orientation:l,disabled:c,...u}=r,f=r_(),h={isRtl:f,...r},p=xre(h),g=o.StartScrollButtonIcon??gre,E=o.EndScrollButtonIcon??mre,x=Ed({elementType:g,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h}),y=Ed({elementType:E,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h});return A.jsx(Sre,{component:"div",className:Ee(p.root,i),ref:n,role:null,ownerState:h,tabIndex:null,...u,style:{...u.style,...l==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${f?-90:90}deg)`}},children:a==="left"?A.jsx(g,{...x}):A.jsx(E,{...y})})});function Tre(t){return rt("MuiTabs",t)}const Xb=Ze("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),IA=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,RA=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,hm=(t,e,n)=>{let r=!1,i=n(t,e);for(;i;){if(i===t.firstChild){if(r)return;r=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=n(t,i);else{i.focus();return}}},Ire=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:s,scrollButtonsHideMobile:a,classes:l}=t;return it({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},Tre,l)},Rre=le("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Xb.scrollButtons}`]:e.scrollButtons},{[`& .${Xb.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(vt(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${Xb.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),Pre=le("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),kre=le("div",{name:"MuiTabs",slot:"List",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.list,e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),Are=le("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(vt(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),Ore=le(bre)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),PA={},Nre=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiTabs"}),i=Yd(),o=r_(),{"aria-label":s,"aria-labelledby":a,action:l,centered:c=!1,children:u,className:f,component:h="div",allowScrollButtonsMobile:p=!1,indicatorColor:g="primary",onChange:E,orientation:x="horizontal",ScrollButtonComponent:y,scrollButtons:b="auto",selectionFollowsFocus:_,slots:S={},slotProps:O={},TabIndicatorProps:N={},TabScrollButtonProps:T={},textColor:I="primary",value:R,variant:v="standard",visibleScrollbar:k=!1,...M}=r,P=v==="scrollable",K=x==="vertical",H=K?"scrollTop":"scrollLeft",W=K?"top":"left",G=K?"bottom":"right",V=K?"clientHeight":"clientWidth",B=K?"height":"width",Q={...r,component:h,allowScrollButtonsMobile:p,indicatorColor:g,orientation:x,vertical:K,scrollButtons:b,textColor:I,variant:v,visibleScrollbar:k,fixed:!P,hideScrollbar:P&&!k,scrollableX:P&&!K,scrollableY:P&&K,centered:c&&!P,scrollButtonsHideMobile:!p},oe=Ire(Q),he=Ed({elementType:S.StartScrollButtonIcon,externalSlotProps:O.startScrollButtonIcon,ownerState:Q}),ge=Ed({elementType:S.EndScrollButtonIcon,externalSlotProps:O.endScrollButtonIcon,ownerState:Q}),[re,ie]=w.useState(!1),[De,Ue]=w.useState(PA),[Ae,Le]=w.useState(!1),[_e,Fe]=w.useState(!1),[Ne,$e]=w.useState(!1),[je,ze]=w.useState({overflow:"hidden",scrollbarWidth:0}),Nt=new Map,me=w.useRef(null),Rt=w.useRef(null),We={slots:S,slotProps:{indicator:N,scrollButton:T,...O}},gt=()=>{const ye=me.current;let de;if(ye){const et=ye.getBoundingClientRect();de={clientWidth:ye.clientWidth,scrollLeft:ye.scrollLeft,scrollTop:ye.scrollTop,scrollWidth:ye.scrollWidth,top:et.top,bottom:et.bottom,left:et.left,right:et.right}}let lt;if(ye&&R!==!1){const et=Rt.current.children;if(et.length>0){const Mt=et[Nt.get(R)];lt=Mt?Mt.getBoundingClientRect():null}}return{tabsMeta:de,tabMeta:lt}},at=gi(()=>{const{tabsMeta:ye,tabMeta:de}=gt();let lt=0,et;K?(et="top",de&&ye&&(lt=de.top-ye.top+ye.scrollTop)):(et=o?"right":"left",de&&ye&&(lt=(o?-1:1)*(de[et]-ye[et]+ye.scrollLeft)));const Mt={[et]:lt,[B]:de?de[B]:0};if(typeof De[et]!="number"||typeof De[B]!="number")Ue(Mt);else{const mr=Math.abs(De[et]-Mt[et]),si=Math.abs(De[B]-Mt[B]);(mr>=1||si>=1)&&Ue(Mt)}}),ke=(ye,{animation:de=!0}={})=>{de?vre(H,me.current,ye,{duration:i.transitions.duration.standard}):me.current[H]=ye},nn=ye=>{let de=me.current[H];K?de+=ye:de+=ye*(o?-1:1),ke(de)},ot=()=>{const ye=me.current[V];let de=0;const lt=Array.from(Rt.current.children);for(let et=0;et<lt.length;et+=1){const Mt=lt[et];if(de+Mt[V]>ye){et===0&&(de=ye);break}de+=Mt[V]}return de},En=()=>{nn(-1*ot())},St=()=>{nn(ot())},[_t,{onChange:Ct,...Vt}]=Ht("scrollbar",{className:Ee(oe.scrollableX,oe.hideScrollbar),elementType:Ore,shouldForwardComponentProp:!0,externalForwardedProps:We,ownerState:Q}),ut=w.useCallback(ye=>{Ct==null||Ct(ye),ze({overflow:null,scrollbarWidth:ye})},[Ct]),[Xe,xn]=Ht("scrollButtons",{className:Ee(oe.scrollButtons,T.className),elementType:Cre,externalForwardedProps:We,ownerState:Q,additionalProps:{orientation:x,slots:{StartScrollButtonIcon:S.startScrollButtonIcon||S.StartScrollButtonIcon,EndScrollButtonIcon:S.endScrollButtonIcon||S.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:he,endScrollButtonIcon:ge}}}),Vn=()=>{const ye={};ye.scrollbarSizeListener=P?A.jsx(_t,{...Vt,onChange:ut}):null;const lt=P&&(b==="auto"&&(Ae||_e)||b===!0);return ye.scrollButtonStart=lt?A.jsx(Xe,{direction:o?"right":"left",onClick:En,disabled:!Ae,...xn}):null,ye.scrollButtonEnd=lt?A.jsx(Xe,{direction:o?"left":"right",onClick:St,disabled:!_e,...xn}):null,ye},Wr=gi(ye=>{const{tabsMeta:de,tabMeta:lt}=gt();if(!(!lt||!de)){if(lt[W]<de[W]){const et=de[H]+(lt[W]-de[W]);ke(et,{animation:ye})}else if(lt[G]>de[G]){const et=de[H]+(lt[G]-de[G]);ke(et,{animation:ye})}}}),xe=gi(()=>{P&&b!==!1&&$e(!Ne)});w.useEffect(()=>{const ye=n_(()=>{me.current&&at()});let de;const lt=mr=>{mr.forEach(si=>{si.removedNodes.forEach(yr=>{de==null||de.unobserve(yr)}),si.addedNodes.forEach(yr=>{de==null||de.observe(yr)})}),ye(),xe()},et=Qo(me.current);et.addEventListener("resize",ye);let Mt;return typeof ResizeObserver<"u"&&(de=new ResizeObserver(ye),Array.from(Rt.current.children).forEach(mr=>{de.observe(mr)})),typeof MutationObserver<"u"&&(Mt=new MutationObserver(lt),Mt.observe(Rt.current,{childList:!0})),()=>{ye.clear(),et.removeEventListener("resize",ye),Mt==null||Mt.disconnect(),de==null||de.disconnect()}},[at,xe]),w.useEffect(()=>{const ye=Array.from(Rt.current.children),de=ye.length;if(typeof IntersectionObserver<"u"&&de>0&&P&&b!==!1){const lt=ye[0],et=ye[de-1],Mt={root:me.current,threshold:.99},mr=Sn=>{Le(!Sn[0].isIntersecting)},si=new IntersectionObserver(mr,Mt);si.observe(lt);const yr=Sn=>{Fe(!Sn[0].isIntersecting)},Io=new IntersectionObserver(yr,Mt);return Io.observe(et),()=>{si.disconnect(),Io.disconnect()}}},[P,b,Ne,u==null?void 0:u.length]),w.useEffect(()=>{ie(!0)},[]),w.useEffect(()=>{at()}),w.useEffect(()=>{Wr(PA!==De)},[Wr,De]),w.useImperativeHandle(l,()=>({updateIndicator:at,updateScrollButtons:xe}),[at,xe]);const[Ie,Yt]=Ht("indicator",{className:Ee(oe.indicator,N.className),elementType:Are,externalForwardedProps:We,ownerState:Q,additionalProps:{style:De}}),Un=A.jsx(Ie,{...Yt});let Hr=0;const pr=w.Children.map(u,ye=>{if(!w.isValidElement(ye))return null;const de=ye.props.value===void 0?Hr:ye.props.value;Nt.set(de,Hr);const lt=de===R;return Hr+=1,w.cloneElement(ye,{fullWidth:v==="fullWidth",indicator:lt&&!re&&Un,selected:lt,selectionFollowsFocus:_,onChange:E,textColor:I,value:de,...Hr===1&&R===!1&&!ye.props.tabIndex?{tabIndex:0}:{}})}),Cr=ye=>{if(ye.altKey||ye.shiftKey||ye.ctrlKey||ye.metaKey)return;const de=Rt.current,lt=Ci(de).activeElement;if(lt.getAttribute("role")!=="tab")return;let Mt=x==="horizontal"?"ArrowLeft":"ArrowUp",mr=x==="horizontal"?"ArrowRight":"ArrowDown";switch(x==="horizontal"&&o&&(Mt="ArrowRight",mr="ArrowLeft"),ye.key){case Mt:ye.preventDefault(),hm(de,lt,RA);break;case mr:ye.preventDefault(),hm(de,lt,IA);break;case"Home":ye.preventDefault(),hm(de,null,IA);break;case"End":ye.preventDefault(),hm(de,null,RA);break}},jn=Vn(),[Pi,rn]=Ht("root",{ref:n,className:Ee(oe.root,f),elementType:Rre,externalForwardedProps:{...We,...M,component:h},ownerState:Q}),[to,no]=Ht("scroller",{ref:me,className:oe.scroller,elementType:Pre,externalForwardedProps:We,ownerState:Q,additionalProps:{style:{overflow:je.overflow,[K?`margin${o?"Left":"Right"}`:"marginBottom"]:k?void 0:-je.scrollbarWidth}}}),[ki,gr]=Ht("list",{ref:Rt,className:Ee(oe.list,oe.flexContainer),elementType:kre,externalForwardedProps:We,ownerState:Q,getSlotProps:ye=>({...ye,onKeyDown:de=>{var lt;Cr(de),(lt=ye.onKeyDown)==null||lt.call(ye,de)}})});return A.jsxs(Pi,{...rn,children:[jn.scrollButtonStart,jn.scrollbarSizeListener,A.jsxs(to,{...no,children:[A.jsx(ki,{"aria-label":s,"aria-labelledby":a,"aria-orientation":x==="vertical"?"vertical":null,role:"tablist",...gr,children:pr}),re&&Un]}),jn.scrollButtonEnd]})});function Mre(t){return rt("MuiTextField",t)}Ze("MuiTextField",["root"]);const $re={standard:N1,filled:A1,outlined:D1},Dre=t=>{const{classes:e}=t;return it({root:["root"]},Mre,e)},Lre=le(O1,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Rd=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:f=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:g,id:E,InputLabelProps:x,inputProps:y,InputProps:b,inputRef:_,label:S,maxRows:O,minRows:N,multiline:T=!1,name:I,onBlur:R,onChange:v,onFocus:k,placeholder:M,required:P=!1,rows:K,select:H=!1,SelectProps:W,slots:G={},slotProps:V={},type:B,value:Q,variant:oe="outlined",...he}=r,ge={...r,autoFocus:o,color:l,disabled:u,error:f,fullWidth:p,multiline:T,required:P,select:H,variant:oe},re=Dre(ge),ie=qd(E),De=g&&ie?`${ie}-helper-text`:void 0,Ue=S&&ie?`${ie}-label`:void 0,Ae=$re[oe],Le={slots:G,slotProps:{input:b,inputLabel:x,htmlInput:y,formHelperText:h,select:W,...V}},_e={},Fe=Le.slotProps.inputLabel;oe==="outlined"&&(Fe&&typeof Fe.shrink<"u"&&(_e.notched=Fe.shrink),_e.label=S),H&&((!W||!W.native)&&(_e.id=void 0),_e["aria-describedby"]=void 0);const[Ne,$e]=Ht("root",{elementType:Lre,shouldForwardComponentProp:!0,externalForwardedProps:{...Le,...he},ownerState:ge,className:Ee(re.root,a),ref:n,additionalProps:{disabled:u,error:f,fullWidth:p,required:P,color:l,variant:oe}}),[je,ze]=Ht("input",{elementType:Ae,externalForwardedProps:Le,additionalProps:_e,ownerState:ge}),[Nt,me]=Ht("inputLabel",{elementType:M1,externalForwardedProps:Le,ownerState:ge}),[Rt,We]=Ht("htmlInput",{elementType:"input",externalForwardedProps:Le,ownerState:ge}),[gt,at]=Ht("formHelperText",{elementType:cne,externalForwardedProps:Le,ownerState:ge}),[ke,nn]=Ht("select",{elementType:u_,externalForwardedProps:Le,ownerState:ge}),ot=A.jsx(je,{"aria-describedby":De,autoComplete:i,autoFocus:o,defaultValue:c,fullWidth:p,multiline:T,name:I,rows:K,maxRows:O,minRows:N,type:B,value:Q,id:ie,inputRef:_,onBlur:R,onChange:v,onFocus:k,placeholder:M,inputProps:We,slots:{input:G.htmlInput?Rt:void 0},...ze});return A.jsxs(Ne,{...$e,children:[S!=null&&S!==""&&A.jsx(Nt,{htmlFor:ie,id:Ue,...me,children:S}),H?A.jsx(ke,{"aria-describedby":De,id:ie,labelId:Ue,value:Q,input:ot,...nn,children:s}):ot,g&&A.jsx(gt,{id:De,...at,children:g})]})});function Fre(t){return rt("MuiToggleButton",t)}const Jl=Ze("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),B5=w.createContext({}),V5=w.createContext(void 0);function Bre(t,e){return e===void 0||t===void 0?!1:Array.isArray(e)?e.includes(t):t===e}const Vre=t=>{const{classes:e,fullWidth:n,selected:r,disabled:i,size:o,color:s}=t,a={root:["root",r&&"selected",i&&"disabled",n&&"fullWidth",`size${ae(o)}`,s]};return it(a,Fre,e)},Ure=le(pl,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`size${ae(n.size)}`]]}})(vt(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${Jl.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${Jl.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette.text.primary,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ot(t.palette.text.primary,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette.text.primary,t.palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(mi()).map(([e])=>({props:{color:e},style:{[`&.${Jl.selected}`]:{color:(t.vars||t).palette[e].main,backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette[e].main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ot(t.palette[e].main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette[e].main,t.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),Bs=w.forwardRef(function(e,n){const{value:r,...i}=w.useContext(B5),o=w.useContext(V5),s=wd({...i,selected:Bre(e.value,r)},e),a=st({props:s,name:"MuiToggleButton"}),{children:l,className:c,color:u="standard",disabled:f=!1,disableFocusRipple:h=!1,fullWidth:p=!1,onChange:g,onClick:E,selected:x,size:y="medium",value:b,..._}=a,S={...a,color:u,disabled:f,disableFocusRipple:h,fullWidth:p,size:y},O=Vre(S),N=I=>{E&&(E(I,b),I.defaultPrevented)||g&&g(I,b)},T=o||"";return A.jsx(Ure,{className:Ee(i.className,O.root,c,T),disabled:f,focusRipple:!h,ref:n,onClick:N,onChange:g,value:b,ownerState:S,"aria-pressed":x,..._,children:l})});function jre(t){return rt("MuiToggleButtonGroup",t)}const cn=Ze("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),zre=t=>{const{classes:e,orientation:n,fullWidth:r,disabled:i}=t,o={root:["root",n,r&&"fullWidth"],grouped:["grouped",`grouped${ae(n)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return it(o,jre,e)},Wre=le("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${cn.grouped}`]:e.grouped},{[`& .${cn.grouped}`]:e[`grouped${ae(n.orientation)}`]},{[`& .${cn.firstButton}`]:e.firstButton},{[`& .${cn.lastButton}`]:e.lastButton},{[`& .${cn.middleButton}`]:e.middleButton},e.root,n.orientation==="vertical"&&e.vertical,n.fullWidth&&e.fullWidth]}})(vt(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${cn.grouped}`]:{[`&.${cn.selected} + .${cn.grouped}.${cn.selected}`]:{borderTop:0,marginTop:0}},[`& .${cn.firstButton},& .${cn.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${cn.lastButton},& .${cn.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${cn.lastButton}.${Jl.disabled},& .${cn.middleButton}.${Jl.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${cn.grouped}`]:{[`&.${cn.selected} + .${cn.grouped}.${cn.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${cn.firstButton},& .${cn.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${cn.lastButton},& .${cn.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${cn.lastButton}.${Jl.disabled},& .${cn.middleButton}.${Jl.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),gx=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiToggleButtonGroup"}),{children:i,className:o,color:s="standard",disabled:a=!1,exclusive:l=!1,fullWidth:c=!1,onChange:u,orientation:f="horizontal",size:h="medium",value:p,...g}=r,E={...r,disabled:a,fullWidth:c,orientation:f,size:h},x=zre(E),y=w.useCallback((T,I)=>{if(!u)return;const R=p&&p.indexOf(I);let v;p&&R>=0?(v=p.slice(),v.splice(R,1)):v=p?p.concat(I):[I],u(T,v)},[u,p]),b=w.useCallback((T,I)=>{u&&u(T,p===I?null:I)},[u,p]),_=w.useMemo(()=>({className:x.grouped,onChange:l?b:y,value:p,size:h,fullWidth:c,color:s,disabled:a}),[x.grouped,l,b,y,p,h,c,s,a]),S=MX(i),O=S.length,N=T=>{const I=T===0,R=T===O-1;return I&&R?"":I?x.firstButton:R?x.lastButton:x.middleButton};return A.jsx(Wre,{role:"group",className:Ee(x.root,o),ref:n,ownerState:E,...g,children:A.jsx(B5.Provider,{value:_,children:S.map((T,I)=>A.jsx(V5.Provider,{value:N(I),children:T},I))})})}),Hre=()=>{const[t,e]=w.useState(0),[n,r]=w.useState(""),[i,o]=w.useState(""),[s,a]=w.useState(""),l=qv(),c=(h,p)=>{e(p),a("")},u=async h=>{h.preventDefault(),a("");try{t===0?await vW(ic,n,i):await yW(ic,n,i),l("/dashboard")}catch(p){a(p.message)}},f=async()=>{const h=new Vs;try{await UW(ic,h),l("/dashboard")}catch(p){a(p.message)}};return A.jsx(vte,{maxWidth:"sm",sx:{backgroundColor:"#121212",minHeight:"100vh",width:"100%",display:"flex",alignItems:"center"},children:A.jsxs(Id,{sx:{mt:8,p:4,backgroundColor:"#424242",borderRadius:2,boxShadow:3,color:"#fff"},children:[A.jsxs(Nre,{value:t,onChange:c,variant:"fullWidth",textColor:"inherit",indicatorColor:"primary",children:[A.jsx(TA,{label:"Login"}),A.jsx(TA,{label:"Signup"})]}),A.jsxs("form",{onSubmit:u,children:[A.jsx(Rd,{margin:"normal",fullWidth:!0,label:"Email",type:"email",value:n,onChange:h=>r(h.target.value),required:!0,variant:"filled",InputLabelProps:{style:{color:"#fff"}},InputProps:{style:{backgroundColor:"#333",color:"#fff"}}}),A.jsx(Rd,{margin:"normal",fullWidth:!0,label:"Password",type:"password",value:i,onChange:h=>o(h.target.value),required:!0,variant:"filled",InputLabelProps:{style:{color:"#fff"}},InputProps:{style:{backgroundColor:"#333",color:"#fff"}}}),s&&A.jsx(Di,{color:"error",variant:"body2",children:s}),A.jsx(Hn,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:2,backgroundColor:"#1976d2"},children:t===0?"Login":"Signup"})]}),A.jsxs(Id,{textAlign:"center",sx:{mt:2},children:[A.jsx(Di,{variant:"body1",children:"or"}),A.jsx(Hn,{variant:"outlined",onClick:f,sx:{mt:1,color:"#fff",borderColor:"#fff"},children:"Sign in with Google"})]})]})})},Gre=Xn(A.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),qre=Xn(A.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),Kre=Xn(A.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"})),Yre={blank:[],brainstorm:[{text:"Idea 1",x:150,y:150},{text:"Idea 2",x:300,y:150},{text:"Idea 3",x:150,y:300}],project:[{text:"Goal",x:150,y:100},{text:"Task 1",x:100,y:200},{text:"Task 2",x:200,y:200}]},Xre=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(null),[i,o]=w.useState(!1),[s,a]=w.useState(!1),[l,c]=w.useState(!1),[u,f]=w.useState(""),[h,p]=w.useState("blank"),[g,E]=w.useState(!1),[x,y]=w.useState(null),[b,_]=w.useState(""),S=qv(),O=w.useRef(null);w.useEffect(()=>{const G=ic.onAuthStateChanged(V=>{if(!V){S("/");return}const B=Dr(ht(be,"mindMaps"),Ni("userId","==",V.uid)),Q=Dr(ht(be,"mindMaps"),Ni("collaborators","array-contains",V.email)),oe=wh(B,ge=>{const re=ge.docs.map(ie=>({id:ie.id,...ie.data()}));e(ie=>[...re,...ie.filter(Ue=>Ue.userId!==V.uid)])}),he=wh(Q,ge=>{const re=ge.docs.map(ie=>({id:ie.id,...ie.data()}));e(ie=>[...ie,...re].filter((Ae,Le,_e)=>Le===_e.findIndex(Fe=>Fe.id===Ae.id)))});return()=>{oe(),he()}});return()=>G()},[S]);const N=()=>{c(!0)},T=async()=>{const G=ic.currentUser;if(G)try{const V=await Lr(ht(be,"mindMaps"),{title:u||"Untitled Mind Map",userId:G.uid,createdAt:Ky()}),B=Yre[h];for(const Q of B)await Lr(ht(be,"mindMaps",V.id,"nodes"),Q);c(!1),f(""),p("blank"),S(`/editor/${V.id}`)}catch(V){console.error("Error creating mind map:",V)}},I=G=>{r(G),o(!0)},R=()=>{o(!1),a(!0)},v=async()=>{try{const G=await Mi(ht(be,"mindMaps",n,"nodes")),V=ui(be);G.forEach(oe=>{V.delete(oe.ref)}),await V.commit();const B=await Mi(ht(be,"mindMaps",n,"links")),Q=ui(be);B.forEach(oe=>{Q.delete(oe.ref)}),await Q.commit(),await nF(sn(be,"mindMaps",n)),a(!1),r(null)}catch(G){console.error("Error deleting mind map:",G)}},k=()=>{o(!1),a(!1),r(null)},M=G=>{y(G),E(!0)},P=async()=>{if(!(!b.trim()||!x))try{const G=sn(be,"mindMaps",x);await uu(G,{collaborators:UG(b.trim())}),_(""),E(!1),y(null)}catch(G){console.error("Error sharing mind map:",G)}},K=G=>{S(`/editor/${G}`)},H=()=>{O.current&&O.current.click()},W=async G=>{const V=G.target.files[0];if(V)try{const B=await V.text(),Q=JSON.parse(B);if(!Q.nodes||!Q.links)throw new Error("Invalid file format");const oe=ic.currentUser,he=await Lr(ht(be,"mindMaps"),{title:V.name,userId:oe.uid,createdAt:Ky()}),ge={},re=ui(be);Q.nodes.forEach(De=>{const Ue=De.id,Ae=sn(ht(be,"mindMaps",he.id,"nodes")),Le={...De,id:Ae.id};re.set(Ae,Le),ge[Ue]=Ae.id}),await re.commit();const ie=ui(be);Q.links.forEach(De=>{const Ue=ge[De.source],Ae=ge[De.target];if(!Ue||!Ae){console.error("Skipping link: missing mapping for source or target");return}const{id:Le,..._e}=De,Fe=sn(ht(be,"mindMaps",he.id,"links"));ie.set(Fe,{..._e,source:Ue,target:Ae})}),await ie.commit(),S(`/editor/${he.id}`)}catch(B){console.error("Error importing mind map:",B)}};return A.jsxs(Id,{sx:{p:2,background:"radial-gradient(circle at center, #1D2022 0%, #0f1011 100%)",minHeight:"100vh",color:"#fff",border:"5px solid #262626"},children:[A.jsxs(Id,{sx:{mb:2},children:[A.jsx(Hn,{variant:"contained",startIcon:A.jsx(qre,{}),onClick:N,sx:{mr:2,background:"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)"},children:"New Mind Map"}),A.jsx(Hn,{variant:"contained",onClick:H,sx:{mr:1,background:"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)"},children:"Import Mind Map"})]}),A.jsx(mA,{container:!0,spacing:2,sx:{mt:2,margin:"100px 50px 50px 100px",overflow:"visible"},children:t.map(G=>A.jsx(mA,{item:!0,xs:12,sm:6,md:4,children:A.jsxs(cte,{sx:{background:"radial-gradient(circle at center,rgba(47, 54, 61, 0.56) 0%,rgba(74, 81, 85, 0.43) 100%)",color:"#fff",padding:"20px 20px 20px 20px",borderRadius:"10px",border:"none",boxShadow:"0 1px 10px 2px rgba(0, 0,0, 0.5)",transition:"transform 0.3s, box-shadow 0.2s, border 0.3s",height:"120px",width:"505px","&:hover":{border:"1px solid #007bff",transform:"translateY(-5px)",boxShadow:"0 4px 12px 3px rgba(0, 0, 0, 0.8)"}},children:[A.jsx(yte,{onClick:()=>K(G.id),sx:{cursor:"pointer"},children:A.jsx(Di,{variant:"h6",sx:{fontWeight:"900"},children:G.title})}),A.jsxs(hte,{sx:{border:"0px solid white",color:"#fff",borderRadius:"10%"},children:[A.jsx(rv,{onClick:()=>M(G.id),color:"primary",children:A.jsx(Kre,{})}),A.jsx(rv,{onClick:()=>I(G.id),color:"error",children:A.jsx(Gre,{})})]})]})},G.id))}),A.jsx("input",{type:"file",accept:"application/json",ref:O,style:{display:"none"},onChange:W}),A.jsxs(lm,{open:l,onClose:()=>c(!1),PaperProps:{sx:{backgroundColor:"#424242",color:"#fff"}},children:[A.jsx(dm,{children:"Create New Mind Map"}),A.jsxs(um,{children:[A.jsx(Rd,{autoFocus:!0,margin:"dense",label:"Mind Map Name",type:"text",fullWidth:!0,value:u,onChange:G=>f(G.target.value),variant:"filled",InputLabelProps:{style:{color:"#fff"}},sx:{backgroundColor:"#555"}}),A.jsxs(O1,{fullWidth:!0,margin:"dense",variant:"filled",children:[A.jsx(M1,{id:"template-select-label",sx:{color:"#fff"},children:"Template"}),A.jsxs(u_,{labelId:"template-select-label",value:h,label:"Template",onChange:G=>p(G.target.value),sx:{backgroundColor:"#555",color:"#fff"},children:[A.jsx(La,{value:"blank",children:"Blank"}),A.jsx(La,{value:"brainstorm",children:"Brainstorm"}),A.jsx(La,{value:"project",children:"Project"})]})]})]}),A.jsxs(cm,{children:[A.jsx(Hn,{onClick:()=>c(!1),sx:{color:"#fff"},children:"Cancel"}),A.jsx(Hn,{onClick:T,variant:"contained",children:"Create"})]})]}),A.jsxs(lm,{open:i,onClose:k,PaperProps:{sx:{backgroundColor:"#424242",color:"#fff"}},children:[A.jsx(dm,{children:"Confirm Delete"}),A.jsx(um,{children:A.jsx(Di,{children:"Are you sure you want to delete this mind map?"})}),A.jsxs(cm,{children:[A.jsx(Hn,{onClick:k,sx:{color:"#fff"},children:"Cancel"}),A.jsx(Hn,{onClick:R,color:"primary",children:"Yes"})]})]}),A.jsxs(lm,{open:s,onClose:k,PaperProps:{sx:{backgroundColor:"#424242",color:"#fff"}},children:[A.jsx(dm,{children:"Confirm Delete Again"}),A.jsx(um,{children:A.jsx(Di,{children:"This action cannot be undone. Are you really sure?"})}),A.jsxs(cm,{children:[A.jsx(Hn,{onClick:k,sx:{color:"#fff"},children:"Cancel"}),A.jsx(Hn,{onClick:v,color:"error",children:"Delete"})]})]}),A.jsxs(lm,{open:g,onClose:()=>E(!1),PaperProps:{sx:{backgroundColor:"#424242",color:"#fff"}},children:[A.jsx(dm,{children:"Share Mind Map"}),A.jsx(um,{children:A.jsx(Rd,{label:"Collaborator Email",fullWidth:!0,value:b,onChange:G=>_(G.target.value),variant:"filled",InputLabelProps:{style:{color:"#fff"}},sx:{backgroundColor:"#555"}})}),A.jsxs(cm,{children:[A.jsx(Hn,{onClick:()=>E(!1),sx:{color:"#fff"},children:"Cancel"}),A.jsx(Hn,{onClick:P,variant:"contained",children:"Share"})]})]})]})};var U5="Expected a function",kA=NaN,Qre="[object Symbol]",Jre=/^\s+|\s+$/g,Zre=/^[-+]0x[0-9a-f]+$/i,eie=/^0b[01]+$/i,tie=/^0o[0-7]+$/i,nie=parseInt,rie=typeof Fa=="object"&&Fa&&Fa.Object===Object&&Fa,iie=typeof self=="object"&&self&&self.Object===Object&&self,oie=rie||iie||Function("return this")(),sie=Object.prototype,aie=sie.toString,lie=Math.max,cie=Math.min,Qb=function(){return oie.Date.now()};function uie(t,e,n){var r,i,o,s,a,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(U5);e=AA(e)||0,sv(n)&&(u=!!n.leading,f="maxWait"in n,o=f?lie(AA(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(N){var T=r,I=i;return r=i=void 0,c=N,s=t.apply(I,T),s}function g(N){return c=N,a=setTimeout(y,e),u?p(N):s}function E(N){var T=N-l,I=N-c,R=e-T;return f?cie(R,o-I):R}function x(N){var T=N-l,I=N-c;return l===void 0||T>=e||T<0||f&&I>=o}function y(){var N=Qb();if(x(N))return b(N);a=setTimeout(y,E(N))}function b(N){return a=void 0,h&&r?p(N):(r=i=void 0,s)}function _(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function S(){return a===void 0?s:b(Qb())}function O(){var N=Qb(),T=x(N);if(r=arguments,i=this,l=N,T){if(a===void 0)return g(l);if(f)return a=setTimeout(y,e),p(l)}return a===void 0&&(a=setTimeout(y,e)),s}return O.cancel=_,O.flush=S,O}function die(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(U5);return sv(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),uie(t,e,{leading:r,maxWait:e,trailing:i})}function sv(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function fie(t){return!!t&&typeof t=="object"}function hie(t){return typeof t=="symbol"||fie(t)&&aie.call(t)==Qre}function AA(t){if(typeof t=="number")return t;if(hie(t))return kA;if(sv(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=sv(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Jre,"");var n=eie.test(t);return n||tie.test(t)?nie(t.slice(2),n?2:8):Zre.test(t)?kA:+t}var pie=die;const pm=Cp(pie);var OA={};const NA="@firebase/database",MA="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j5="";function gie(t){j5=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mie{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Zn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Zh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yie{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return fa(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new mie(e)}}catch{}return new yie},Zl=z5("localStorage"),vie=z5("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new Jv("@firebase/database"),_ie=function(){let t=1;return function(){return t++}}(),W5=function(t){const e=l9(t),n=new i9;n.update(e);const r=n.digest();return WS.encodeByteArray(r)},og=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=og.apply(null,r):typeof r=="object"?e+=Zn(r):e+=r,e+=" "}return e};let Ph=null,$A=!0;const bie=function(t,e){ue(!0,"Can't turn on custom loggers persistently."),nd.logLevel=Et.VERBOSE,Ph=nd.log.bind(nd)},Ur=function(...t){if($A===!0&&($A=!1,Ph===null&&vie.get("logging_enabled")===!0&&bie()),Ph){const e=og.apply(null,t);Ph(e)}},sg=function(t){return function(...e){Ur(t,...e)}},mx=function(...t){const e="FIREBASE INTERNAL ERROR: "+og(...t);nd.error(e)},ua=function(...t){const e=`FIREBASE FATAL ERROR: ${og(...t)}`;throw nd.error(e),new Error(e)},xi=function(...t){const e="FIREBASE WARNING: "+og(...t);nd.warn(e)},wie=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&xi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},H5=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Eie=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Pd="[MIN_NAME]",_c="[MAX_NAME]",Zd=function(t,e){if(t===e)return 0;if(t===Pd||e===_c)return-1;if(e===Pd||t===_c)return 1;{const n=DA(t),r=DA(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},xie=function(t,e){return t===e?0:t<e?-1:1},Df=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Zn(e))},F1=function(t){if(typeof t!="object"||t===null)return Zn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Zn(e[r]),n+=":",n+=F1(t[e[r]]);return n+="}",n},G5=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ti(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const q5=function(t){ue(!H5(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();const u=c.join("");let f="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},Sie=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Cie=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Tie(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Iie=new RegExp("^-?(0*)\\d{1,10}$"),Rie=-2147483648,Pie=2147483647,DA=function(t){if(Iie.test(t)){const e=Number(t);if(e>=Rie&&e<=Pie)return e}return null},ef=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw xi("Exception was thrown by user callback.",n),e},Math.floor(0))}},kie=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},kh=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aie{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Zr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){xi(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oie{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ur("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xi(e)}}class ey{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ey.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="5",K5="v",Y5="s",X5="r",Q5="f",J5=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Z5="ls",e4="p",yx="ac",t4="websocket",n4="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Zl.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Zl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Nie(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function i4(t,e,n){ue(typeof e=="string","typeof type must == string"),ue(typeof n=="object","typeof params must == object");let r;if(e===t4)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===n4)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Nie(t)&&(n.ns=t.namespace);const i=[];return Ti(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mie{constructor(){this.counters_={}}incrementCounter(e,n=1){fa(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return B6(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb={},Zb={};function V1(t){const e=t.toString();return Jb[e]||(Jb[e]=new Mie),Jb[e]}function $ie(t,e){const n=t.toString();return Zb[n]||(Zb[n]=e()),Zb[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Die{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ef(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="start",Lie="close",Fie="pLPCommand",Bie="pRTLPCB",o4="id",s4="pw",a4="ser",Vie="cb",Uie="seg",jie="ts",zie="d",Wie="dframe",l4=1870,c4=30,Hie=l4-c4,Gie=25e3,qie=3e4;class Uu{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=sg(e),this.stats_=V1(n),this.urlFn=l=>(this.appCheckToken&&(l[yx]=this.appCheckToken),i4(n,n4,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Die(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(qie)),Eie(()=>{if(this.isClosed_)return;this.scriptTagHolder=new U1((...o)=>{const[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===LA)this.id=a,this.password=l;else if(s===Lie)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[LA]="t",r[a4]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Vie]=this.scriptTagHolder.uniqueCallbackIdentifier),r[K5]=B1,this.transportSessionId&&(r[Y5]=this.transportSessionId),this.lastSessionId&&(r[Z5]=this.lastSessionId),this.applicationId&&(r[e4]=this.applicationId),this.appCheckToken&&(r[yx]=this.appCheckToken),typeof location<"u"&&location.hostname&&J5.test(location.hostname)&&(r[X5]=Q5);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Uu.forceAllow_=!0}static forceDisallow(){Uu.forceDisallow_=!0}static isAvailable(){return Uu.forceAllow_?!0:!Uu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Sie()&&!Cie()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Zn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=k$(n),i=G5(r,Hie);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Wie]="t",r[o4]=e,r[s4]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Zn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class U1{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=_ie(),window[Fie+this.uniqueCallbackIdentifier]=e,window[Bie+this.uniqueCallbackIdentifier]=n,this.myIFrame=U1.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ur("frame writing exception"),a.stack&&Ur(a.stack),Ur(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ur("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[o4]=this.myID,e[s4]=this.myPW,e[a4]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+c4+r.length<=l4;){const s=this.pendingSegs.shift();r=r+"&"+Uie+i+"="+s.seg+"&"+jie+i+"="+s.ts+"&"+zie+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Gie)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ur("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kie=16384,Yie=45e3;let av=null;typeof MozWebSocket<"u"?av=MozWebSocket:typeof WebSocket<"u"&&(av=WebSocket);class Fo{constructor(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=sg(this.connId),this.stats_=V1(n),this.connURL=Fo.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[K5]=B1,typeof location<"u"&&location.hostname&&J5.test(location.hostname)&&(s[X5]=Q5),n&&(s[Y5]=n),r&&(s[Z5]=r),i&&(s[yx]=i),o&&(s[e4]=o),i4(e,t4,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Zl.set("previous_websocket_failure",!0);try{let r;Y6(),this.mySock=new av(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Fo.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&av!==null&&!Fo.forceDisallow_}static previouslyFailed(){return Zl.isInMemoryStorage||Zl.get("previous_websocket_failure")===!0}markConnectionHealthy(){Zl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Zh(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ue(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Zn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=G5(n,Kie);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Yie))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Fo.responsesRequiredToBeHealthy=2;Fo.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{static get ALL_TRANSPORTS(){return[Uu,Fo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Fo&&Fo.isAvailable();let r=n&&!Fo.previouslyFailed();if(e.webSocketOnly&&(n||xi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Fo];else{const i=this.transports_=[];for(const o of gp.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);gp.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}gp.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xie=6e4,Qie=5e3,Jie=10*1024,Zie=100*1024,ew="t",FA="d",eoe="s",BA="r",toe="e",VA="o",UA="a",jA="n",zA="p",noe="h";class roe{constructor(e,n,r,i,o,s,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=sg("c:"+this.id+":"),this.transportManager_=new gp(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=kh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Zie?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Jie?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ew in e){const n=e[ew];n===UA?this.upgradeIfSecondaryHealthy_():n===BA?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===VA&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Df("t",e),r=Df("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:zA,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:UA,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:jA,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Df("t",e),r=Df("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Df(ew,e);if(FA in e){const r=e[FA];if(n===noe){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===jA){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===eoe?this.onConnectionShutdown_(r):n===BA?this.onReset_(r):n===toe?mx("Server Error: "+r):n===VA?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mx("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),B1!==r&&xi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),kh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Xie))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):kh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Qie))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:zA,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Zl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.allowedEvents_=e,this.listeners_={},ue(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){ue(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv extends d4{static getInstance(){return new lv}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!qS()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ue(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=32,HA=768;class en{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Bt(){return new en("")}function mt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function gl(t){return t.pieces_.length-t.pieceNum_}function an(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new en(t.pieces_,e)}function f4(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ioe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function h4(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function p4(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new en(e,0)}function er(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof en)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new en(n,0)}function xt(t){return t.pieceNum_>=t.pieces_.length}function ei(t,e){const n=mt(t),r=mt(e);if(n===null)return e;if(n===r)return ei(an(t),an(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function j1(t,e){if(gl(t)!==gl(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Vo(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(gl(t)>gl(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class ooe{constructor(e,n){this.errorPrefix_=n,this.parts_=h4(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Qv(this.parts_[r]);g4(this)}}function soe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Qv(e),g4(t)}function aoe(t){const e=t.parts_.pop();t.byteLength_-=Qv(e),t.parts_.length>0&&(t.byteLength_-=1)}function g4(t){if(t.byteLength_>HA)throw new Error(t.errorPrefix_+"has a key path longer than "+HA+" bytes ("+t.byteLength_+").");if(t.parts_.length>WA)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+WA+") or object contains a cycle "+Wl(t))}function Wl(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1 extends d4{static getInstance(){return new z1}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ue(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf=1e3,loe=60*5*1e3,GA=30*1e3,coe=1.3,uoe=3e4,doe="server_kill",qA=3;class Ys extends u4{constructor(e,n,r,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ys.nextPersistentConnectionId_++,this.log_=sg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Lf,this.maxReconnectDelay_=loe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");z1.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&lv.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(Zn(o)),ue(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Xv,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),ue(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ue(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,c=a.s;Ys.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&fa(e,"w")){const r=dd(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();xi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||r9(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=GA)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=n9(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ue(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Zn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):mx("Unrecognized action received from server: "+Zn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ue(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Lf,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Lf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>uoe&&(this.reconnectDelay_=Lf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*coe)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ys.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},c=function(f){ue(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?Ur("getToken() completed but was canceled"):(Ur("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,a=new roe(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{xi(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(doe)},o))}catch(f){this.log_("Failed to get token: "+f),s||(this.repoInfo_.nodeAdmin&&xi(f),l())}}}interrupt(e){Ur("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ur("Resuming connection for reason: "+e),delete this.interruptReasons_[e],mE(this.interruptReasons_)&&(this.reconnectDelay_=Lf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>F1(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new en(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Ur("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=qA&&(this.reconnectDelay_=GA,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ur("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=qA&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+j5.replace(/\./g,"-")]=1,qS()?e["framework.cordova"]=1:$$()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=lv.getInstance().currentlyOnline();return mE(this.interruptReasons_)&&e}}Ys.nextPersistentConnectionId_=0;Ys.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new yt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new yt(Pd,e),i=new yt(Pd,n);return this.compare(r,i)!==0}minPost(){return yt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gm;class m4 extends d_{static get __EMPTY_NODE(){return gm}static set __EMPTY_NODE(e){gm=e}compare(e,n){return Zd(e.name,n.name)}isDefinedOn(e){throw Ld("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return yt.MIN}maxPost(){return new yt(_c,gm)}makePost(e,n){return ue(typeof e=="string","KeyIndex indexValue must always be a string."),new yt(e,gm)}toString(){return".key"}}const rd=new m4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class lr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??lr.RED,this.left=i??yi.EMPTY_NODE,this.right=o??yi.EMPTY_NODE}copy(e,n,r,i,o){return new lr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return yi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return yi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}lr.RED=!0;lr.BLACK=!1;class foe{copy(e,n,r,i,o){return this}insert(e,n,r){return new lr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class yi{constructor(e,n=yi.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new yi(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,lr.BLACK,null,null))}remove(e){return new yi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,lr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new mm(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new mm(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new mm(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new mm(this.root_,null,this.comparator_,!0,e)}}yi.EMPTY_NODE=new foe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hoe(t,e){return Zd(t.name,e.name)}function W1(t,e){return Zd(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vx;function poe(t){vx=t}const y4=function(t){return typeof t=="number"?"number:"+q5(t):"string:"+t},v4=function(t){if(t.isLeafNode()){const e=t.val();ue(typeof e=="string"||typeof e=="number"||typeof e=="object"&&fa(e,".sv"),"Priority must be a string or number.")}else ue(t===vx||t.isEmpty(),"priority of unexpected type.");ue(t===vx||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KA;class or{static set __childrenNodeConstructor(e){KA=e}static get __childrenNodeConstructor(){return KA}constructor(e,n=or.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ue(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),v4(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new or(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:or.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xt(e)?this:mt(e)===".priority"?this.priorityNode_:or.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:or.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=mt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ue(r!==".priority"||gl(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,or.__childrenNodeConstructor.EMPTY_NODE.updateChild(an(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+y4(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=q5(this.value_):e+=this.value_,this.lazyHash_=W5(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===or.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof or.__childrenNodeConstructor?-1:(ue(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=or.VALUE_TYPE_ORDER.indexOf(n),o=or.VALUE_TYPE_ORDER.indexOf(r);return ue(i>=0,"Unknown leaf type: "+n),ue(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}or.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _4,b4;function goe(t){_4=t}function moe(t){b4=t}class yoe extends d_{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Zd(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return yt.MIN}maxPost(){return new yt(_c,new or("[PRIORITY-POST]",b4))}makePost(e,n){const r=_4(e);return new yt(n,new or("[PRIORITY-POST]",r))}toString(){return".priority"}}const On=new yoe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const voe=Math.log(2);class _oe{constructor(e){const n=o=>parseInt(Math.log(o)/voe,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const cv=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let f,h;if(u===0)return null;if(u===1)return f=t[l],h=n?n(f):f,new lr(h,f.node,lr.BLACK,null,null);{const p=parseInt(u/2,10)+l,g=i(l,p),E=i(p+1,c);return f=t[p],h=n?n(f):f,new lr(h,f.node,lr.BLACK,g,E)}},o=function(l){let c=null,u=null,f=t.length;const h=function(g,E){const x=f-g,y=f;f-=g;const b=i(x+1,y),_=t[x],S=n?n(_):_;p(new lr(S,_.node,E,null,b))},p=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const E=l.nextBitIsOne(),x=Math.pow(2,l.count-(g+1));E?h(x,lr.BLACK):(h(x,lr.BLACK),h(x,lr.RED))}return u},s=new _oe(t.length),a=o(s);return new yi(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tw;const ou={};class Hs{static get Default(){return ue(ou&&On,"ChildrenNode.ts has not been loaded"),tw=tw||new Hs({".priority":ou},{".priority":On}),tw}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=dd(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof yi?n:null}hasIndex(e){return fa(this.indexSet_,e.toString())}addIndex(e,n){ue(e!==rd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(yt.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=cv(r,e.getCompare()):a=ou;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Hs(u,c)}addToIndexes(e,n){const r=Py(this.indexes_,(i,o)=>{const s=dd(this.indexSet_,o);if(ue(s,"Missing index implementation for "+o),i===ou)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(yt.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),cv(a,s.getCompare())}else return ou;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new yt(e.name,a))),l.insert(e,e.node)}});return new Hs(r,this.indexSet_)}removeFromIndexes(e,n){const r=Py(this.indexes_,i=>{if(i===ou)return i;{const o=n.get(e.name);return o?i.remove(new yt(e.name,o)):i}});return new Hs(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff;class qe{static get EMPTY_NODE(){return Ff||(Ff=new qe(new yi(W1),null,Hs.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&v4(this.priorityNode_),this.children_.isEmpty()&&ue(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ff}updatePriority(e){return this.children_.isEmpty()?this:new qe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ff:n}}getChild(e){const n=mt(e);return n===null?this:this.getImmediateChild(n).getChild(an(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ue(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new yt(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?Ff:this.priorityNode_;return new qe(i,s,o)}}updateChild(e,n){const r=mt(e);if(r===null)return n;{ue(mt(e)!==".priority"||gl(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(an(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(On,(s,a)=>{n[s]=a.val(e),r++,o&&qe.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+y4(this.getPriority().val())+":"),this.forEachChild(On,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":W5(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new yt(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new yt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new yt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,yt.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,yt.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ag?-1:0}withIndex(e){if(e===rd||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new qe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===rd||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(On),i=n.getIterator(On);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===rd?null:this.indexMap_.get(e.toString())}}qe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class boe extends qe{constructor(){super(new yi(W1),qe.EMPTY_NODE,Hs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return qe.EMPTY_NODE}isEmpty(){return!1}}const ag=new boe;Object.defineProperties(yt,{MIN:{value:new yt(Pd,qe.EMPTY_NODE)},MAX:{value:new yt(_c,ag)}});m4.__EMPTY_NODE=qe.EMPTY_NODE;or.__childrenNodeConstructor=qe;poe(ag);moe(ag);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const woe=!0;function cr(t,e=null){if(t===null)return qe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ue(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new or(n,cr(e))}if(!(t instanceof Array)&&woe){const n=[];let r=!1;if(Ti(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=cr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new yt(s,l)))}}),n.length===0)return qe.EMPTY_NODE;const o=cv(n,hoe,s=>s.name,W1);if(r){const s=cv(n,On.getCompare());return new qe(o,cr(e),new Hs({".priority":s},{".priority":On}))}else return new qe(o,cr(e),Hs.Default)}else{let n=qe.EMPTY_NODE;return Ti(t,(r,i)=>{if(fa(t,r)&&r.substring(0,1)!=="."){const o=cr(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(cr(e))}}goe(cr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eoe extends d_{constructor(e){super(),this.indexPath_=e,ue(!xt(e)&&mt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Zd(e.name,n.name):o}makePost(e,n){const r=cr(e),i=qe.EMPTY_NODE.updateChild(this.indexPath_,r);return new yt(n,i)}maxPost(){const e=qe.EMPTY_NODE.updateChild(this.indexPath_,ag);return new yt(_c,e)}toString(){return h4(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xoe extends d_{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Zd(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return yt.MIN}maxPost(){return yt.MAX}makePost(e,n){const r=cr(e);return new yt(n,r)}toString(){return".value"}}const Soe=new xoe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t){return{type:"value",snapshotNode:t}}function kd(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function mp(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function yp(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Coe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){ue(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(mp(n,a)):ue(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(kd(n,r)):s.trackChildChange(yp(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(On,(i,o)=>{n.hasChild(i)||r.trackChildChange(mp(i,o))}),n.isLeafNode()||n.forEachChild(On,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(yp(i,o,s))}else r.trackChildChange(kd(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?qe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e){this.indexedFilter_=new H1(e.getIndex()),this.index_=e.getIndex(),this.startPost_=vp.getStartPost_(e),this.endPost_=vp.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new yt(n,r))||(r=qe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=qe.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(qe.EMPTY_NODE);const o=this;return n.forEachChild(On,(s,a)=>{o.matches(new yt(s,a))||(i=i.updateImmediateChild(s,qe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Toe{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new vp(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new yt(n,r))||(r=qe.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=qe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=qe.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(qe.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,qe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const f=this.index_.getCompare();s=(h,p)=>f(p,h)}else s=this.index_.getCompare();const a=e;ue(a.numChildren()===this.limit_,"");const l=new yt(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const f=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const p=h==null?1:s(h,l);if(u&&!r.isEmpty()&&p>=0)return o!=null&&o.trackChildChange(yp(n,r,f)),a.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(mp(n,f));const E=a.updateImmediateChild(n,qe.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o!=null&&o.trackChildChange(kd(h.name,h.node)),E.updateImmediateChild(h.name,h.node)):E}}else return r.isEmpty()?e:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(mp(c.name,c.node)),o.trackChildChange(kd(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,qe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=On}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ue(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ue(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Pd}hasEnd(){return this.endSet_}getIndexEndValue(){return ue(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ue(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_c}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ue(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===On}copy(){const e=new G1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Ioe(t){return t.loadsAllData()?new H1(t.getIndex()):t.hasLimit()?new Toe(t):new vp(t)}function YA(t){const e={};if(t.isDefault())return e;let n;if(t.index_===On?n="$priority":t.index_===Soe?n="$value":t.index_===rd?n="$key":(ue(t.index_ instanceof Eoe,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Zn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Zn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Zn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Zn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Zn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function XA(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==On&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv extends u4{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ue(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=sg("p:rest:"),this.listens_={}}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=uv.getListenId_(e,r),a={};this.listens_[s]=a;const l=YA(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let f=u;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(o,f,!1,r),dd(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const r=uv.getListenId_(e,n);delete this.listens_[r]}get(e){const n=YA(e._queryParams),r=e._path.toString(),i=new Xv;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Fd(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Zh(a.responseText)}catch{xi("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&xi("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Roe{constructor(){this.rootNode_=qe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(){return{value:null,children:new Map}}function E4(t,e,n){if(xt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=mt(e);t.children.has(r)||t.children.set(r,dv());const i=t.children.get(r);e=an(e),E4(i,e,n)}}function _x(t,e,n){t.value!==null?n(e,t.value):Poe(t,(r,i)=>{const o=new en(e.toString()+"/"+r);_x(i,o,n)})}function Poe(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class koe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ti(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=10*1e3,Aoe=30*1e3,Ooe=5*60*1e3;class Noe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new koe(e);const r=QA+(Aoe-QA)*Math.random();kh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ti(e,(i,o)=>{o>0&&fa(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),kh(this.reportStats_.bind(this),Math.floor(Math.random()*2*Ooe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uo;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Uo||(Uo={}));function x4(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function q1(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function K1(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Uo.ACK_USER_WRITE,this.source=x4()}operationForChild(e){if(xt(this.path)){if(this.affectedTree.value!=null)return ue(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new en(e));return new fv(Bt(),n,this.revert)}}else return ue(mt(this.path)===e,"operationForChild called for unrelated child."),new fv(an(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n){this.source=e,this.path=n,this.type=Uo.LISTEN_COMPLETE}operationForChild(e){return xt(this.path)?new _p(this.source,Bt()):new _p(this.source,an(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Uo.OVERWRITE}operationForChild(e){return xt(this.path)?new bc(this.source,Bt(),this.snap.getImmediateChild(e)):new bc(this.source,an(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Uo.MERGE}operationForChild(e){if(xt(this.path)){const n=this.children.subtree(new en(e));return n.isEmpty()?null:n.value?new bc(this.source,Bt(),n.value):new bp(this.source,Bt(),n)}else return ue(mt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new bp(this.source,an(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(xt(e))return this.isFullyInitialized()&&!this.filtered_;const n=mt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Moe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function $oe(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(Coe(s.childName,s.snapshotNode))}),Bf(t,i,"child_removed",e,r,n),Bf(t,i,"child_added",e,r,n),Bf(t,i,"child_moved",o,r,n),Bf(t,i,"child_changed",e,r,n),Bf(t,i,"value",e,r,n),i}function Bf(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>Loe(t,a,l)),s.forEach(a=>{const l=Doe(t,a,o);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Doe(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Loe(t,e,n){if(e.childName==null||n.childName==null)throw Ld("Should only compare child_ events.");const r=new yt(e.childName,e.snapshotNode),i=new yt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(t,e){return{eventCache:t,serverCache:e}}function Ah(t,e,n,r){return f_(new ml(e,n,r),t.serverCache)}function S4(t,e,n,r){return f_(t.eventCache,new ml(e,n,r))}function hv(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function wc(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nw;const Foe=()=>(nw||(nw=new yi(xie)),nw);class hn{static fromObject(e){let n=new hn(null);return Ti(e,(r,i)=>{n=n.set(new en(r),i)}),n}constructor(e,n=Foe()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Bt(),value:this.value};if(xt(e))return null;{const r=mt(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(an(e),n);return o!=null?{path:er(new en(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(xt(e))return this;{const n=mt(e),r=this.children.get(n);return r!==null?r.subtree(an(e)):new hn(null)}}set(e,n){if(xt(e))return new hn(n,this.children);{const r=mt(e),o=(this.children.get(r)||new hn(null)).set(an(e),n),s=this.children.insert(r,o);return new hn(this.value,s)}}remove(e){if(xt(e))return this.children.isEmpty()?new hn(null):new hn(null,this.children);{const n=mt(e),r=this.children.get(n);if(r){const i=r.remove(an(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new hn(null):new hn(this.value,o)}else return this}}get(e){if(xt(e))return this.value;{const n=mt(e),r=this.children.get(n);return r?r.get(an(e)):null}}setTree(e,n){if(xt(e))return n;{const r=mt(e),o=(this.children.get(r)||new hn(null)).setTree(an(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new hn(this.value,s)}}fold(e){return this.fold_(Bt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(er(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Bt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(xt(e))return null;{const o=mt(e),s=this.children.get(o);return s?s.findOnPath_(an(e),er(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Bt(),n)}foreachOnPath_(e,n,r){if(xt(e))return this;{this.value&&r(n,this.value);const i=mt(e),o=this.children.get(i);return o?o.foreachOnPath_(an(e),er(n,i),r):new hn(null)}}foreach(e){this.foreach_(Bt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(er(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.writeTree_=e}static empty(){return new Go(new hn(null))}}function Oh(t,e,n){if(xt(e))return new Go(new hn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=ei(i,e);return o=o.updateChild(s,n),new Go(t.writeTree_.set(i,o))}else{const i=new hn(n),o=t.writeTree_.setTree(e,i);return new Go(o)}}}function JA(t,e,n){let r=t;return Ti(n,(i,o)=>{r=Oh(r,er(e,i),o)}),r}function ZA(t,e){if(xt(e))return Go.empty();{const n=t.writeTree_.setTree(e,new hn(null));return new Go(n)}}function bx(t,e){return Pc(t,e)!=null}function Pc(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ei(n.path,e)):null}function eO(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(On,(r,i)=>{e.push(new yt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new yt(r,i.value))}),e}function nl(t,e){if(xt(e))return t;{const n=Pc(t,e);return n!=null?new Go(new hn(n)):new Go(t.writeTree_.subtree(e))}}function wx(t){return t.writeTree_.isEmpty()}function Ad(t,e){return C4(Bt(),t.writeTree_,e)}function C4(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(ue(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=C4(er(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(er(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t,e){return P4(e,t)}function Boe(t,e,n,r,i){ue(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Oh(t.visibleWrites,e,n)),t.lastWriteId=r}function Voe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Uoe(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);ue(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&joe(a,r.path)?i=!1:Vo(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return zoe(t),!0;if(r.snap)t.visibleWrites=ZA(t.visibleWrites,r.path);else{const a=r.children;Ti(a,l=>{t.visibleWrites=ZA(t.visibleWrites,er(r.path,l))})}return!0}else return!1}function joe(t,e){if(t.snap)return Vo(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Vo(er(t.path,n),e))return!0;return!1}function zoe(t){t.visibleWrites=T4(t.allWrites,Woe,Bt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Woe(t){return t.visible}function T4(t,e,n){let r=Go.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)Vo(n,s)?(a=ei(n,s),r=Oh(r,a,o.snap)):Vo(s,n)&&(a=ei(s,n),r=Oh(r,Bt(),o.snap.getChild(a)));else if(o.children){if(Vo(n,s))a=ei(n,s),r=JA(r,a,o.children);else if(Vo(s,n))if(a=ei(s,n),xt(a))r=JA(r,Bt(),o.children);else{const l=dd(o.children,mt(a));if(l){const c=l.getChild(an(a));r=Oh(r,Bt(),c)}}}else throw Ld("WriteRecord should have .snap or .children")}}return r}function I4(t,e,n,r,i){if(!r&&!i){const o=Pc(t.visibleWrites,e);if(o!=null)return o;{const s=nl(t.visibleWrites,e);if(wx(s))return n;if(n==null&&!bx(s,Bt()))return null;{const a=n||qe.EMPTY_NODE;return Ad(s,a)}}}else{const o=nl(t.visibleWrites,e);if(!i&&wx(o))return n;if(!i&&n==null&&!bx(o,Bt()))return null;{const s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Vo(c.path,e)||Vo(e,c.path))},a=T4(t.allWrites,s,e),l=n||qe.EMPTY_NODE;return Ad(a,l)}}}function Hoe(t,e,n){let r=qe.EMPTY_NODE;const i=Pc(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(On,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=nl(t.visibleWrites,e);return n.forEachChild(On,(s,a)=>{const l=Ad(nl(o,new en(s)),a);r=r.updateImmediateChild(s,l)}),eO(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=nl(t.visibleWrites,e);return eO(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function Goe(t,e,n,r,i){ue(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=er(e,n);if(bx(t.visibleWrites,o))return null;{const s=nl(t.visibleWrites,o);return wx(s)?i.getChild(n):Ad(s,i.getChild(n))}}function qoe(t,e,n,r){const i=er(e,n),o=Pc(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=nl(t.visibleWrites,i);return Ad(s,r.getNode().getImmediateChild(n))}else return null}function Koe(t,e){return Pc(t.visibleWrites,e)}function Yoe(t,e,n,r,i,o,s){let a;const l=nl(t.visibleWrites,e),c=Pc(l,Bt());if(c!=null)a=c;else if(n!=null)a=Ad(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const u=[],f=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let p=h.getNext();for(;p&&u.length<i;)f(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function Xoe(){return{visibleWrites:Go.empty(),allWrites:[],lastWriteId:-1}}function pv(t,e,n,r){return I4(t.writeTree,t.treePath,e,n,r)}function Y1(t,e){return Hoe(t.writeTree,t.treePath,e)}function tO(t,e,n,r){return Goe(t.writeTree,t.treePath,e,n,r)}function gv(t,e){return Koe(t.writeTree,er(t.treePath,e))}function Qoe(t,e,n,r,i,o){return Yoe(t.writeTree,t.treePath,e,n,r,i,o)}function X1(t,e,n){return qoe(t.writeTree,t.treePath,e,n)}function R4(t,e){return P4(er(t.treePath,e),t.writeTree)}function P4(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Joe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ue(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ue(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,yp(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,mp(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,kd(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,yp(r,e.snapshotNode,i.oldSnap));else throw Ld("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zoe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const k4=new Zoe;class Q1{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ml(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return X1(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:wc(this.viewCache_),o=Qoe(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ese(t){return{filter:t}}function tse(t,e){ue(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ue(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function nse(t,e,n,r,i){const o=new Joe;let s,a;if(n.type===Uo.OVERWRITE){const c=n;c.source.fromUser?s=Ex(t,e,c.path,c.snap,r,i,o):(ue(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!xt(c.path),s=mv(t,e,c.path,c.snap,r,i,a,o))}else if(n.type===Uo.MERGE){const c=n;c.source.fromUser?s=ise(t,e,c.path,c.children,r,i,o):(ue(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=xx(t,e,c.path,c.children,r,i,a,o))}else if(n.type===Uo.ACK_USER_WRITE){const c=n;c.revert?s=ase(t,e,c.path,r,i,o):s=ose(t,e,c.path,c.affectedTree,r,i,o)}else if(n.type===Uo.LISTEN_COMPLETE)s=sse(t,e,n.path,r,o);else throw Ld("Unknown operation type: "+n.type);const l=o.getChanges();return rse(e,s,l),{viewCache:s,changes:l}}function rse(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=hv(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(w4(hv(e)))}}function A4(t,e,n,r,i,o){const s=e.eventCache;if(gv(r,n)!=null)return e;{let a,l;if(xt(n))if(ue(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=wc(e),u=c instanceof qe?c:qe.EMPTY_NODE,f=Y1(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const c=pv(r,wc(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const c=mt(n);if(c===".priority"){ue(gl(n)===1,"Can't have a priority with additional path components");const u=s.getNode();l=e.serverCache.getNode();const f=tO(r,n,u,l);f!=null?a=t.filter.updatePriority(u,f):a=s.getNode()}else{const u=an(n);let f;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();const h=tO(r,n,s.getNode(),l);h!=null?f=s.getNode().getImmediateChild(c).updateChild(u,h):f=s.getNode().getImmediateChild(c)}else f=X1(r,c,e.serverCache);f!=null?a=t.filter.updateChild(s.getNode(),c,f,u,i,o):a=s.getNode()}}return Ah(e,a,s.isFullyInitialized()||xt(n),t.filter.filtersNodes())}}function mv(t,e,n,r,i,o,s,a){const l=e.serverCache;let c;const u=s?t.filter:t.filter.getIndexedFilter();if(xt(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=mt(n);if(!l.isCompleteForPath(n)&&gl(n)>1)return e;const g=an(n),x=l.getNode().getImmediateChild(p).updateChild(g,r);p===".priority"?c=u.updatePriority(l.getNode(),x):c=u.updateChild(l.getNode(),p,x,g,k4,null)}const f=S4(e,c,l.isFullyInitialized()||xt(n),u.filtersNodes()),h=new Q1(i,f,o);return A4(t,f,n,i,h,a)}function Ex(t,e,n,r,i,o,s){const a=e.eventCache;let l,c;const u=new Q1(i,e,o);if(xt(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=Ah(e,c,!0,t.filter.filtersNodes());else{const f=mt(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Ah(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=an(n),p=a.getNode().getImmediateChild(f);let g;if(xt(h))g=r;else{const E=u.getCompleteChild(f);E!=null?f4(h)===".priority"&&E.getChild(p4(h)).isEmpty()?g=E:g=E.updateChild(h,r):g=qe.EMPTY_NODE}if(p.equals(g))l=e;else{const E=t.filter.updateChild(a.getNode(),f,g,h,u,s);l=Ah(e,E,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function nO(t,e){return t.eventCache.isCompleteForChild(e)}function ise(t,e,n,r,i,o,s){let a=e;return r.foreach((l,c)=>{const u=er(n,l);nO(e,mt(u))&&(a=Ex(t,a,u,c,i,o,s))}),r.foreach((l,c)=>{const u=er(n,l);nO(e,mt(u))||(a=Ex(t,a,u,c,i,o,s))}),a}function rO(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function xx(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;xt(n)?c=r:c=new hn(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((f,h)=>{if(u.hasChild(f)){const p=e.serverCache.getNode().getImmediateChild(f),g=rO(t,p,h);l=mv(t,l,new en(f),g,i,o,s,a)}}),c.children.inorderTraversal((f,h)=>{const p=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!u.hasChild(f)&&!p){const g=e.serverCache.getNode().getImmediateChild(f),E=rO(t,g,h);l=mv(t,l,new en(f),E,i,o,s,a)}}),l}function ose(t,e,n,r,i,o,s){if(gv(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(xt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return mv(t,e,n,l.getNode().getChild(n),i,o,a,s);if(xt(n)){let c=new hn(null);return l.getNode().forEachChild(rd,(u,f)=>{c=c.set(new en(u),f)}),xx(t,e,n,c,i,o,a,s)}else return e}else{let c=new hn(null);return r.foreach((u,f)=>{const h=er(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),xx(t,e,n,c,i,o,a,s)}}function sse(t,e,n,r,i){const o=e.serverCache,s=S4(e,o.getNode(),o.isFullyInitialized()||xt(n),o.isFiltered());return A4(t,s,n,r,k4,i)}function ase(t,e,n,r,i,o){let s;if(gv(r,n)!=null)return e;{const a=new Q1(r,e,i),l=e.eventCache.getNode();let c;if(xt(n)||mt(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=pv(r,wc(e));else{const f=e.serverCache.getNode();ue(f instanceof qe,"serverChildren would be complete if leaf node"),u=Y1(r,f)}u=u,c=t.filter.updateFullNode(l,u,o)}else{const u=mt(n);let f=X1(r,u,e.serverCache);f==null&&e.serverCache.isCompleteForChild(u)&&(f=l.getImmediateChild(u)),f!=null?c=t.filter.updateChild(l,u,f,an(n),a,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,qe.EMPTY_NODE,an(n),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=pv(r,wc(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||gv(r,Bt())!=null,Ah(e,c,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lse{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new H1(r.getIndex()),o=Ioe(r);this.processor_=ese(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(qe.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(qe.EMPTY_NODE,a.getNode(),null),u=new ml(l,s.isFullyInitialized(),i.filtersNodes()),f=new ml(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=f_(f,u),this.eventGenerator_=new Moe(this.query_)}get query(){return this.query_}}function cse(t){return t.viewCache_.serverCache.getNode()}function use(t){return hv(t.viewCache_)}function dse(t,e){const n=wc(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!xt(e)&&!n.getImmediateChild(mt(e)).isEmpty())?n.getChild(e):null}function iO(t){return t.eventRegistrations_.length===0}function fse(t,e){t.eventRegistrations_.push(e)}function oO(t,e,n){const r=[];if(n){ue(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function sO(t,e,n,r){e.type===Uo.MERGE&&e.source.queryId!==null&&(ue(wc(t.viewCache_),"We should always have a full cache before handling merges"),ue(hv(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=nse(t.processor_,i,e,n,r);return tse(t.processor_,o.viewCache),ue(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,O4(t,o.changes,o.viewCache.eventCache.getNode(),null)}function hse(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(On,(o,s)=>{r.push(kd(o,s))}),n.isFullyInitialized()&&r.push(w4(n.getNode())),O4(t,r,n.getNode(),e)}function O4(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return $oe(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yv;class N4{constructor(){this.views=new Map}}function pse(t){ue(!yv,"__referenceConstructor has already been defined"),yv=t}function gse(){return ue(yv,"Reference.ts has not been loaded"),yv}function mse(t){return t.views.size===0}function J1(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return ue(o!=null,"SyncTree gave us an op for an invalid query."),sO(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(sO(s,e,n,r));return o}}function M4(t,e,n,r,i){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=pv(n,i?r:null),l=!1;a?l=!0:r instanceof qe?(a=Y1(n,r),l=!1):(a=qe.EMPTY_NODE,l=!1);const c=f_(new ml(a,l,!1),new ml(r,i,!1));return new lse(e,c)}return s}function yse(t,e,n,r,i,o){const s=M4(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),fse(s,n),hse(s,n)}function vse(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=yl(t);if(i==="default")for(const[l,c]of t.views.entries())s=s.concat(oO(c,n,r)),iO(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const l=t.views.get(i);l&&(s=s.concat(oO(l,n,r)),iO(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!yl(t)&&o.push(new(gse())(e._repo,e._path)),{removed:o,events:s}}function $4(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function rl(t,e){let n=null;for(const r of t.views.values())n=n||dse(r,e);return n}function D4(t,e){if(e._queryParams.loadsAllData())return p_(t);{const r=e._queryIdentifier;return t.views.get(r)}}function L4(t,e){return D4(t,e)!=null}function yl(t){return p_(t)!=null}function p_(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vv;function _se(t){ue(!vv,"__referenceConstructor has already been defined"),vv=t}function bse(){return ue(vv,"Reference.ts has not been loaded"),vv}let wse=1;class aO{constructor(e){this.listenProvider_=e,this.syncPointTree_=new hn(null),this.pendingWriteTree_=Xoe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function F4(t,e,n,r,i){return Boe(t.pendingWriteTree_,e,n,r,i),i?cg(t,new bc(x4(),e,n)):[]}function ec(t,e,n=!1){const r=Voe(t.pendingWriteTree_,e);if(Uoe(t.pendingWriteTree_,e)){let o=new hn(null);return r.snap!=null?o=o.set(Bt(),!0):Ti(r.children,s=>{o=o.set(new en(s),!0)}),cg(t,new fv(r.path,o,n))}else return[]}function lg(t,e,n){return cg(t,new bc(q1(),e,n))}function Ese(t,e,n){const r=hn.fromObject(n);return cg(t,new bp(q1(),e,r))}function xse(t,e){return cg(t,new _p(q1(),e))}function Sse(t,e,n){const r=eT(t,n);if(r){const i=tT(r),o=i.path,s=i.queryId,a=ei(o,e),l=new _p(K1(s),a);return nT(t,o,l)}else return[]}function _v(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&(e._queryIdentifier==="default"||L4(s,e))){const l=vse(s,e,n,r);mse(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(o,(h,p)=>yl(p));if(u&&!f){const h=t.syncPointTree_.subtree(o);if(!h.isEmpty()){const p=Ise(h);for(let g=0;g<p.length;++g){const E=p[g],x=E.query,y=j4(t,E);t.listenProvider_.startListening(Nh(x),wp(t,x),y.hashFn,y.onComplete)}}}!f&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(Nh(e),null):c.forEach(h=>{const p=t.queryToTagMap.get(g_(h));t.listenProvider_.stopListening(Nh(h),p)}))}Rse(t,c)}return a}function B4(t,e,n,r){const i=eT(t,r);if(i!=null){const o=tT(i),s=o.path,a=o.queryId,l=ei(s,e),c=new bc(K1(a),l,n);return nT(t,s,c)}else return[]}function Cse(t,e,n,r){const i=eT(t,r);if(i){const o=tT(i),s=o.path,a=o.queryId,l=ei(s,e),c=hn.fromObject(n),u=new bp(K1(a),l,c);return nT(t,s,u)}else return[]}function Sx(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(h,p)=>{const g=ei(h,i);o=o||rl(p,g),s=s||yl(p)});let a=t.syncPointTree_.get(i);a?(s=s||yl(a),o=o||rl(a,Bt())):(a=new N4,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=qe.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,g)=>{const E=rl(g,Bt());E&&(o=o.updateImmediateChild(p,E))}));const c=L4(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=g_(e);ue(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const p=Pse();t.queryToTagMap.set(h,p),t.tagToQueryMap.set(p,h)}const u=h_(t.pendingWriteTree_,i);let f=yse(a,e,n,u,o,l);if(!c&&!s&&!r){const h=D4(a,e);f=f.concat(kse(t,e,h))}return f}function Z1(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=ei(s,e),c=rl(a,l);if(c)return c});return I4(i,e,o,n,!0)}function Tse(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const f=ei(c,n);r=r||rl(u,f)});let i=t.syncPointTree_.get(n);i?r=r||rl(i,Bt()):(i=new N4,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=r!=null,s=o?new ml(r,!0,!1):null,a=h_(t.pendingWriteTree_,e._path),l=M4(i,e,a,o?s.getNode():qe.EMPTY_NODE,o);return use(l)}function cg(t,e){return V4(e,t.syncPointTree_,null,h_(t.pendingWriteTree_,Bt()))}function V4(t,e,n,r){if(xt(t.path))return U4(t,e,n,r);{const i=e.get(Bt());n==null&&i!=null&&(n=rl(i,Bt()));let o=[];const s=mt(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const c=n?n.getImmediateChild(s):null,u=R4(r,s);o=o.concat(V4(a,l,c,u))}return i&&(o=o.concat(J1(i,t,r,n))),o}}function U4(t,e,n,r){const i=e.get(Bt());n==null&&i!=null&&(n=rl(i,Bt()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,c=R4(r,s),u=t.operationForChild(s);u&&(o=o.concat(U4(u,a,l,c)))}),i&&(o=o.concat(J1(i,t,r,n))),o}function j4(t,e){const n=e.query,r=wp(t,n);return{hashFn:()=>(cse(e)||qe.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Sse(t,n._path,r):xse(t,n._path);{const o=Tie(i,n);return _v(t,n,null,o)}}}}function wp(t,e){const n=g_(e);return t.queryToTagMap.get(n)}function g_(t){return t._path.toString()+"$"+t._queryIdentifier}function eT(t,e){return t.tagToQueryMap.get(e)}function tT(t){const e=t.indexOf("$");return ue(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new en(t.substr(0,e))}}function nT(t,e,n){const r=t.syncPointTree_.get(e);ue(r,"Missing sync point for query tag that we're tracking");const i=h_(t.pendingWriteTree_,e);return J1(r,n,i,null)}function Ise(t){return t.fold((e,n,r)=>{if(n&&yl(n))return[p_(n)];{let i=[];return n&&(i=$4(n)),Ti(r,(o,s)=>{i=i.concat(s)}),i}})}function Nh(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(bse())(t._repo,t._path):t}function Rse(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=g_(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function Pse(){return wse++}function kse(t,e,n){const r=e._path,i=wp(t,e),o=j4(t,n),s=t.listenProvider_.startListening(Nh(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)ue(!yl(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,f)=>{if(!xt(c)&&u&&yl(u))return[p_(u).query];{let h=[];return u&&(h=h.concat($4(u).map(p=>p.query))),Ti(f,(p,g)=>{h=h.concat(g)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Nh(u),wp(t,u))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new rT(n)}node(){return this.node_}}class iT{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=er(this.path_,e);return new iT(this.syncTree_,n)}node(){return Z1(this.syncTree_,this.path_)}}const Ase=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},lO=function(t,e,n){if(!t||typeof t!="object")return t;if(ue(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Ose(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Nse(t[".sv"],e);ue(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Ose=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ue(!1,"Unexpected server value: "+t)}},Nse=function(t,e,n){t.hasOwnProperty("increment")||ue(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ue(!1,"Unexpected increment value: "+r);const i=e.node();if(ue(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},Mse=function(t,e,n,r){return oT(e,new iT(n,t),r)},z4=function(t,e,n){return oT(t,new rT(e),n)};function oT(t,e,n){const r=t.getPriority().val(),i=lO(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=lO(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new or(a,cr(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new or(i))),s.forEachChild(On,(a,l)=>{const c=oT(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function aT(t,e){let n=e instanceof en?e:new en(e),r=t,i=mt(n);for(;i!==null;){const o=dd(r.node.children,i)||{children:{},childCount:0};r=new sT(i,r,o),n=an(n),i=mt(n)}return r}function tf(t){return t.node.value}function W4(t,e){t.node.value=e,Cx(t)}function H4(t){return t.node.childCount>0}function $se(t){return tf(t)===void 0&&!H4(t)}function m_(t,e){Ti(t.node.children,(n,r)=>{e(new sT(n,t,r))})}function G4(t,e,n,r){n&&e(t),m_(t,i=>{G4(i,e,!0)})}function Dse(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ug(t){return new en(t.parent===null?t.name:ug(t.parent)+"/"+t.name)}function Cx(t){t.parent!==null&&Lse(t.parent,t.name,t)}function Lse(t,e,n){const r=$se(n),i=fa(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Cx(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Cx(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fse=/[\[\].#$\/\u0000-\u001F\u007F]/,Bse=/[\[\].#$\u0000-\u001F\u007F]/,rw=10*1024*1024,q4=function(t){return typeof t=="string"&&t.length!==0&&!Fse.test(t)},K4=function(t){return typeof t=="string"&&t.length!==0&&!Bse.test(t)},Vse=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),K4(t)},Use=function(t,e,n,r){lT(KS(t,"value"),e,n)},lT=function(t,e,n){const r=n instanceof en?new ooe(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Wl(r));if(typeof e=="function")throw new Error(t+"contains a function "+Wl(r)+" with contents = "+e.toString());if(H5(e))throw new Error(t+"contains "+e.toString()+" "+Wl(r));if(typeof e=="string"&&e.length>rw/3&&Qv(e)>rw)throw new Error(t+"contains a string greater than "+rw+" utf8 bytes "+Wl(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Ti(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!q4(s)))throw new Error(t+" contains an invalid key ("+s+") "+Wl(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);soe(r,s),lT(t,a,r),aoe(r)}),i&&o)throw new Error(t+' contains ".value" child '+Wl(r)+" in addition to actual children.")}},Y4=function(t,e,n,r){if(!K4(n))throw new Error(KS(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},jse=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Y4(t,e,n)},X4=function(t,e){if(mt(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},zse=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!q4(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Vse(n))throw new Error(KS(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wse{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function cT(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!j1(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Q4(t,e,n){cT(t,n),J4(t,r=>j1(r,e))}function xs(t,e,n){cT(t,n),J4(t,r=>Vo(r,e)||Vo(e,r))}function J4(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(Hse(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Hse(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ph&&Ur("event: "+n.toString()),ef(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gse="repo_interrupt",qse=25;class Kse{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Wse,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=dv(),this.transactionQueueTree_=new sT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Yse(t,e,n){if(t.stats_=V1(t.repoInfo_),t.forceRestClient_||kie())t.server_=new uv(t.repoInfo_,(r,i,o,s)=>{cO(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>uO(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Zn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ys(t.repoInfo_,e,(r,i,o,s)=>{cO(t,r,i,o,s)},r=>{uO(t,r)},r=>{Qse(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=$ie(t.repoInfo_,()=>new Noe(t.stats_,t.server_)),t.infoData_=new Roe,t.infoSyncTree_=new aO({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=lg(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),dT(t,"connected",!1),t.serverSyncTree_=new aO({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const c=s(a,l);xs(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Xse(t){const n=t.infoData_.getNode(new en(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function uT(t){return Ase({timestamp:Xse(t)})}function cO(t,e,n,r,i){t.dataUpdateCount++;const o=new en(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=Py(n,c=>cr(c));s=Cse(t.serverSyncTree_,o,l,i)}else{const l=cr(n);s=B4(t.serverSyncTree_,o,l,i)}else if(r){const l=Py(n,c=>cr(c));s=Ese(t.serverSyncTree_,o,l)}else{const l=cr(n);s=lg(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=v_(t,o)),xs(t.eventQueue_,a,s)}function uO(t,e){dT(t,"connected",e),e===!1&&eae(t)}function Qse(t,e){Ti(e,(n,r)=>{dT(t,n,r)})}function dT(t,e,n){const r=new en("/.info/"+e),i=cr(n);t.infoData_.updateSnapshot(r,i);const o=lg(t.infoSyncTree_,r,i);xs(t.eventQueue_,r,o)}function Z4(t){return t.nextWriteId_++}function Jse(t,e,n){const r=Tse(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const o=cr(i).withIndex(e._queryParams.getIndex());Sx(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=lg(t.serverSyncTree_,e._path,o);else{const a=wp(t.serverSyncTree_,e);s=B4(t.serverSyncTree_,e._path,o,a)}return xs(t.eventQueue_,e._path,s),_v(t.serverSyncTree_,e,n,null,!0),o},i=>(y_(t,"get for query "+Zn(e)+" failed: "+i),Promise.reject(new Error(i))))}function Zse(t,e,n,r,i){y_(t,"set",{path:e.toString(),value:n,priority:r});const o=uT(t),s=cr(n,r),a=Z1(t.serverSyncTree_,e),l=z4(s,a,o),c=Z4(t),u=F4(t.serverSyncTree_,e,l,c,!0);cT(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(h,p)=>{const g=h==="ok";g||xi("set at "+e+" failed: "+h);const E=ec(t.serverSyncTree_,c,!g);xs(t.eventQueue_,e,E),rae(t,i,h,p)});const f=i3(t,e);v_(t,f),xs(t.eventQueue_,f,[])}function eae(t){y_(t,"onDisconnectEvents");const e=uT(t),n=dv();_x(t.onDisconnect_,Bt(),(i,o)=>{const s=Mse(i,o,t.serverSyncTree_,e);E4(n,i,s)});let r=[];_x(n,Bt(),(i,o)=>{r=r.concat(lg(t.serverSyncTree_,i,o));const s=i3(t,i);v_(t,s)}),t.onDisconnect_=dv(),xs(t.eventQueue_,Bt(),r)}function tae(t,e,n){let r;mt(e._path)===".info"?r=Sx(t.infoSyncTree_,e,n):r=Sx(t.serverSyncTree_,e,n),Q4(t.eventQueue_,e._path,r)}function Tx(t,e,n){let r;mt(e._path)===".info"?r=_v(t.infoSyncTree_,e,n):r=_v(t.serverSyncTree_,e,n),Q4(t.eventQueue_,e._path,r)}function nae(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Gse)}function y_(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ur(n,...e)}function rae(t,e,n,r){e&&ef(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function e3(t,e,n){return Z1(t.serverSyncTree_,e,n)||qe.EMPTY_NODE}function fT(t,e=t.transactionQueueTree_){if(e||__(t,e),tf(e)){const n=n3(t,e);ue(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&iae(t,ug(e),n)}else H4(e)&&m_(e,n=>{fT(t,n)})}function iae(t,e,n){const r=n.map(c=>c.currentWriteId),i=e3(t,e,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const u=n[c];ue(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=ei(e,u.path);o=o.updateChild(f,u.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{y_(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(ec(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();__(t,aT(t.transactionQueueTree_,e)),fT(t,t.transactionQueueTree_),xs(t.eventQueue_,e,u);for(let h=0;h<f.length;h++)ef(f[h])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{xi("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}v_(t,e)}},s)}function v_(t,e){const n=t3(t,e),r=ug(n),i=n3(t,n);return oae(t,i,r),r}function oae(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=ei(n,l.path);let u=!1,f;if(ue(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,f=l.abortReason,i=i.concat(ec(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=qse)u=!0,f="maxretry",i=i.concat(ec(t.serverSyncTree_,l.currentWriteId,!0));else{const h=e3(t,l.path,s);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){lT("transaction failed: Data returned ",p,l.path);let g=cr(p);typeof p=="object"&&p!=null&&fa(p,".priority")||(g=g.updatePriority(h.getPriority()));const x=l.currentWriteId,y=uT(t),b=z4(g,h,y);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=b,l.currentWriteId=Z4(t),s.splice(s.indexOf(x),1),i=i.concat(F4(t.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally)),i=i.concat(ec(t.serverSyncTree_,x,!0))}else u=!0,f="nodata",i=i.concat(ec(t.serverSyncTree_,l.currentWriteId,!0))}xs(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}__(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ef(r[a]);fT(t,t.transactionQueueTree_)}function t3(t,e){let n,r=t.transactionQueueTree_;for(n=mt(e);n!==null&&tf(r)===void 0;)r=aT(r,n),e=an(e),n=mt(e);return r}function n3(t,e){const n=[];return r3(t,e,n),n.sort((r,i)=>r.order-i.order),n}function r3(t,e,n){const r=tf(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);m_(e,i=>{r3(t,i,n)})}function __(t,e){const n=tf(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,W4(e,n.length>0?n:void 0)}m_(e,r=>{__(t,r)})}function i3(t,e){const n=ug(t3(t,e)),r=aT(t.transactionQueueTree_,e);return Dse(r,i=>{iw(t,i)}),iw(t,r),G4(r,i=>{iw(t,i)}),n}function iw(t,e){const n=tf(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(ue(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(ue(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ec(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?W4(e,void 0):n.length=o+1,xs(t.eventQueue_,ug(e),i);for(let s=0;s<r.length;s++)ef(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sae(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function aae(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):xi(`Invalid query segment '${n}' in query '${t}'`)}return e}const dO=function(t,e){const n=lae(t),r=n.namespace;n.domain==="firebase.com"&&ua(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ua("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||wie();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new r4(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new en(n.pathString)}},lae=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(u,f)),u<f&&(i=sae(t.substring(u,f)));const h=aae(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cae{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Zn(this.snapshot.exportVal())}}class uae{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ue(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return xt(this._path)?null:f4(this._path)}get ref(){return new ha(this._repo,this._path)}get _queryIdentifier(){const e=XA(this._queryParams),n=F1(e);return n==="{}"?"default":n}get _queryObject(){return XA(this._queryParams)}isEqual(e){if(e=Wt(e),!(e instanceof pT))return!1;const n=this._repo===e._repo,r=j1(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+ioe(this._path)}}class ha extends pT{constructor(e,n){super(e,n,new G1,!1)}get parent(){const e=p4(this._path);return e===null?null:new ha(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ep{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new en(e),r=Rx(this.ref,e);return new Ep(this._node.getChild(n),r,On)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Ep(i,Rx(this.ref,r),On)))}hasChild(e){const n=new en(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ix(t,e){return t=Wt(t),t._checkNotDeleted("ref"),e!==void 0?Rx(t._root,e):t._root}function Rx(t,e){return t=Wt(t),mt(t._path)===null?jse("child","path",e):Y4("child","path",e),new ha(t._repo,er(t._path,e))}function fO(t){return X4("remove",t._path),Px(t,null)}function Px(t,e){t=Wt(t),X4("set",t._path),Use("set",e,t._path);const n=new Xv;return Zse(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function dae(t){t=Wt(t);const e=new hT(()=>{}),n=new dg(e);return Jse(t._repo,t,n).then(r=>new Ep(r,new ha(t._repo,t._path),t._queryParams.getIndex()))}class dg{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new cae("value",this,new Ep(e.snapshotNode,new ha(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new uae(this,e,n):null}matches(e){return e instanceof dg?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function fae(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){const l=n,c=(u,f)=>{Tx(t._repo,t,a),l(u,f)};c.userCallback=n.userCallback,c.context=n.context,n=c}const s=new hT(n,o||void 0),a=new dg(s);return tae(t._repo,t,a),()=>Tx(t._repo,t,a)}function hae(t,e,n,r){return fae(t,"value",e,n,r)}function pae(t,e,n){let r=null;const i=n?new hT(n):null;r=new dg(i),Tx(t._repo,t,r)}pse(ha);_se(ha);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gae="FIREBASE_DATABASE_EMULATOR_HOST",kx={};let mae=!1;function yae(t,e,n,r){t.repoInfo_=new r4(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function vae(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||ua("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ur("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=dO(o,i),a=s.repoInfo,l;typeof process<"u"&&OA&&(l=OA[gae]),l?(o=`http://${l}?ns=${a.namespace}`,s=dO(o,i),a=s.repoInfo):s.repoInfo.secure;const c=new Oie(t.name,t.options,e);zse("Invalid Firebase Database URL",s),xt(s.path)||ua("Database URL must point to the root of a Firebase Database (not including a child path).");const u=bae(a,t,c,new Aie(t,n));return new wae(u,t)}function _ae(t,e){const n=kx[e];(!n||n[t.key]!==t)&&ua(`Database ${e}(${t.repoInfo_}) has already been deleted.`),nae(t),delete n[t.key]}function bae(t,e,n,r){let i=kx[e.name];i||(i={},kx[e.name]=i);let o=i[t.toURLString()];return o&&ua("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Kse(t,mae,n,r),i[t.toURLString()]=o,o}class wae{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Yse(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ha(this._repo,Bt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(_ae(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ua("Cannot call "+e+" on a deleted database.")}}function Ax(t=Zv(),e){const n=Dp(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=HS("database");r&&Eae(n,...r)}return n}function Eae(t,e,n,r={}){t=Wt(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&ta(r,o.repoInfo_.emulatorOptions))return;ua("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&ua('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ey(ey.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:GS(r.mockUserToken,t.app.options.projectId);s=new ey(a)}yae(o,i,r,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xae(t){gie(xl),sl(new na("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return vae(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),mo(NA,MA,t),mo(NA,MA,"esm2017")}Ys.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ys.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};xae();var b_={exports:{}},o3={};function s3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=s3(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function hO(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=s3(t))&&(r&&(r+=" "),r+=e);return r}const Sae=Object.freeze(Object.defineProperty({__proto__:null,clsx:hO,default:hO},Symbol.toStringTag,{value:"Module"})),Cae=NB(Sae);var $n={},Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});Rs.dontSetMe=kae;Rs.findInArray=Tae;Rs.int=Pae;Rs.isFunction=Iae;Rs.isNum=Rae;function Tae(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function Iae(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function Rae(t){return typeof t=="number"&&!isNaN(t)}function Pae(t){return parseInt(t,10)}function kae(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var kc={};Object.defineProperty(kc,"__esModule",{value:!0});kc.browserPrefixToKey=l3;kc.browserPrefixToStyle=Aae;kc.default=void 0;kc.getPrefix=a3;const ow=["Moz","Webkit","O","ms"];function a3(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<ow.length;r++)if(l3(e,ow[r])in n)return ow[r];return""}function l3(t,e){return e?"".concat(e).concat(Oae(t)):t}function Aae(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function Oae(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}kc.default=a3();Object.defineProperty($n,"__esModule",{value:!0});$n.addClassName=d3;$n.addEvent=$ae;$n.addUserSelectStyles=Gae;$n.createCSSTransform=jae;$n.createSVGTransform=zae;$n.getTouch=Wae;$n.getTouchIdentifier=Hae;$n.getTranslation=gT;$n.innerHeight=Bae;$n.innerWidth=Vae;$n.matchesSelector=u3;$n.matchesSelectorAndParentsTo=Mae;$n.offsetXYFromParent=Uae;$n.outerHeight=Lae;$n.outerWidth=Fae;$n.removeClassName=f3;$n.removeEvent=Dae;$n.removeUserSelectStyles=qae;var Ki=Rs,pO=Nae(kc);function c3(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(c3=function(r){return r?n:e})(t)}function Nae(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=c3(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}let ym="";function u3(t,e){return ym||(ym=(0,Ki.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Ki.isFunction)(t[n])})),(0,Ki.isFunction)(t[ym])?t[ym](e):!1}function Mae(t,e,n){let r=t;do{if(u3(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function $ae(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,i):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function Dae(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function Lae(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Ki.int)(n.borderTopWidth),e+=(0,Ki.int)(n.borderBottomWidth),e}function Fae(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Ki.int)(n.borderLeftWidth),e+=(0,Ki.int)(n.borderRightWidth),e}function Bae(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Ki.int)(n.paddingTop),e-=(0,Ki.int)(n.paddingBottom),e}function Vae(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Ki.int)(n.paddingLeft),e-=(0,Ki.int)(n.paddingRight),e}function Uae(t,e,n){const i=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),o=(t.clientX+e.scrollLeft-i.left)/n,s=(t.clientY+e.scrollTop-i.top)/n;return{x:o,y:s}}function jae(t,e){const n=gT(t,e,"px");return{[(0,pO.browserPrefixToKey)("transform",pO.default)]:n}}function zae(t,e){return gT(t,e,"")}function gT(t,e,n){let{x:r,y:i}=t,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(e){const s="".concat(typeof e.x=="string"?e.x:e.x+n),a="".concat(typeof e.y=="string"?e.y:e.y+n);o="translate(".concat(s,", ").concat(a,")")+o}return o}function Wae(t,e){return t.targetTouches&&(0,Ki.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,Ki.findInArray)(t.changedTouches,n=>e===n.identifier)}function Hae(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function Gae(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&d3(t.body,"react-draggable-transparent-selection")}function qae(t){if(t)try{if(t.body&&f3(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function d3(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function f3(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.canDragX=Xae;Ps.canDragY=Qae;Ps.createCoreData=Zae;Ps.createDraggableData=ele;Ps.getBoundPosition=Kae;Ps.getControlPosition=Jae;Ps.snapToGrid=Yae;var Ai=Rs,ju=$n;function Kae(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:tle(r);const i=mT(t);if(typeof r=="string"){const{ownerDocument:o}=i,s=o.defaultView;let a;if(r==="parent"?a=i.parentNode:a=o.querySelector(r),!(a instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const l=a,c=s.getComputedStyle(i),u=s.getComputedStyle(l);r={left:-i.offsetLeft+(0,Ai.int)(u.paddingLeft)+(0,Ai.int)(c.marginLeft),top:-i.offsetTop+(0,Ai.int)(u.paddingTop)+(0,Ai.int)(c.marginTop),right:(0,ju.innerWidth)(l)-(0,ju.outerWidth)(i)-i.offsetLeft+(0,Ai.int)(u.paddingRight)-(0,Ai.int)(c.marginRight),bottom:(0,ju.innerHeight)(l)-(0,ju.outerHeight)(i)-i.offsetTop+(0,Ai.int)(u.paddingBottom)-(0,Ai.int)(c.marginBottom)}}return(0,Ai.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,Ai.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Ai.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,Ai.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function Yae(t,e,n){const r=Math.round(e/t[0])*t[0],i=Math.round(n/t[1])*t[1];return[r,i]}function Xae(t){return t.props.axis==="both"||t.props.axis==="x"}function Qae(t){return t.props.axis==="both"||t.props.axis==="y"}function Jae(t,e,n){const r=typeof e=="number"?(0,ju.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const i=mT(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,ju.offsetXYFromParent)(r||t,o,n.props.scale)}function Zae(t,e,n){const r=!(0,Ai.isNum)(t.lastX),i=mT(t);return r?{node:i,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:i,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function ele(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function tle(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function mT(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var w_={},E_={};Object.defineProperty(E_,"__esModule",{value:!0});E_.default=nle;function nle(){}Object.defineProperty(w_,"__esModule",{value:!0});w_.default=void 0;var sw=ile(w),ci=yT(s1),rle=yT(Ap),Nr=$n,Ca=Ps,aw=Rs,Vf=yT(E_);function yT(t){return t&&t.__esModule?t:{default:t}}function h3(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(h3=function(r){return r?n:e})(t)}function ile(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=h3(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function Qr(t,e,n){return e=ole(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ole(t){var e=sle(t,"string");return typeof e=="symbol"?e:String(e)}function sle(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const No={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Ta=No.mouse,x_=class extends sw.Component{constructor(){super(...arguments),Qr(this,"dragging",!1),Qr(this,"lastX",NaN),Qr(this,"lastY",NaN),Qr(this,"touchIdentifier",null),Qr(this,"mounted",!1),Qr(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Nr.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,Nr.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const i=(0,Nr.getTouchIdentifier)(e);this.touchIdentifier=i;const o=(0,Ca.getControlPosition)(e,i,this);if(o==null)return;const{x:s,y:a}=o,l=(0,Ca.createCoreData)(this,s,a);(0,Vf.default)("DraggableCore: handleDragStart: %j",l),(0,Vf.default)("calling",this.props.onStart),!(this.props.onStart(e,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Nr.addUserSelectStyles)(r),this.dragging=!0,this.lastX=s,this.lastY=a,(0,Nr.addEvent)(r,Ta.move,this.handleDrag),(0,Nr.addEvent)(r,Ta.stop,this.handleDragStop))}),Qr(this,"handleDrag",e=>{const n=(0,Ca.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,l=i-this.lastY;if([a,l]=(0,Ca.snapToGrid)(this.props.grid,a,l),!a&&!l)return;r=this.lastX+a,i=this.lastY+l}const o=(0,Ca.createCoreData)(this,r,i);if((0,Vf.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(e,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=r,this.lastY=i}),Qr(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,Ca.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX||0,c=i-this.lastY||0;[l,c]=(0,Ca.snapToGrid)(this.props.grid,l,c),r=this.lastX+l,i=this.lastY+c}const o=(0,Ca.createCoreData)(this,r,i);if(this.props.onStop(e,o)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,Nr.removeUserSelectStyles)(a.ownerDocument),(0,Vf.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,Vf.default)("DraggableCore: Removing handlers"),(0,Nr.removeEvent)(a.ownerDocument,Ta.move,this.handleDrag),(0,Nr.removeEvent)(a.ownerDocument,Ta.stop,this.handleDragStop))}),Qr(this,"onMouseDown",e=>(Ta=No.mouse,this.handleDragStart(e))),Qr(this,"onMouseUp",e=>(Ta=No.mouse,this.handleDragStop(e))),Qr(this,"onTouchStart",e=>(Ta=No.touch,this.handleDragStart(e))),Qr(this,"onTouchEnd",e=>(Ta=No.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Nr.addEvent)(e,No.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,Nr.removeEvent)(n,No.mouse.move,this.handleDrag),(0,Nr.removeEvent)(n,No.touch.move,this.handleDrag),(0,Nr.removeEvent)(n,No.mouse.stop,this.handleDragStop),(0,Nr.removeEvent)(n,No.touch.stop,this.handleDragStop),(0,Nr.removeEvent)(e,No.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Nr.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:rle.default.findDOMNode(this)}render(){return sw.cloneElement(sw.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};w_.default=x_;Qr(x_,"displayName","DraggableCore");Qr(x_,"propTypes",{allowAnyClick:ci.default.bool,children:ci.default.node.isRequired,disabled:ci.default.bool,enableUserSelectHack:ci.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:ci.default.arrayOf(ci.default.number),handle:ci.default.string,cancel:ci.default.string,nodeRef:ci.default.object,onStart:ci.default.func,onDrag:ci.default.func,onStop:ci.default.func,onMouseDown:ci.default.func,scale:ci.default.number,className:aw.dontSetMe,style:aw.dontSetMe,transform:aw.dontSetMe});Qr(x_,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var e=h(w),n=u(s1),r=u(Ap),i=u(Cae),o=$n,s=Ps,a=Rs,l=u(w_),c=u(E_);function u(b){return b&&b.__esModule?b:{default:b}}function f(b){if(typeof WeakMap!="function")return null;var _=new WeakMap,S=new WeakMap;return(f=function(O){return O?S:_})(b)}function h(b,_){if(b&&b.__esModule)return b;if(b===null||typeof b!="object"&&typeof b!="function")return{default:b};var S=f(_);if(S&&S.has(b))return S.get(b);var O={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in b)if(T!=="default"&&Object.prototype.hasOwnProperty.call(b,T)){var I=N?Object.getOwnPropertyDescriptor(b,T):null;I&&(I.get||I.set)?Object.defineProperty(O,T,I):O[T]=b[T]}return O.default=b,S&&S.set(b,O),O}function p(){return p=Object.assign?Object.assign.bind():function(b){for(var _=1;_<arguments.length;_++){var S=arguments[_];for(var O in S)Object.prototype.hasOwnProperty.call(S,O)&&(b[O]=S[O])}return b},p.apply(this,arguments)}function g(b,_,S){return _=E(_),_ in b?Object.defineProperty(b,_,{value:S,enumerable:!0,configurable:!0,writable:!0}):b[_]=S,b}function E(b){var _=x(b,"string");return typeof _=="symbol"?_:String(_)}function x(b,_){if(typeof b!="object"||b===null)return b;var S=b[Symbol.toPrimitive];if(S!==void 0){var O=S.call(b,_);if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(b)}class y extends e.Component{static getDerivedStateFromProps(_,S){let{position:O}=_,{prevPropsPosition:N}=S;return O&&(!N||O.x!==N.x||O.y!==N.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:O,prevPropsPosition:N}),{x:O.x,y:O.y,prevPropsPosition:{...O}}):null}constructor(_){super(_),g(this,"onDragStart",(S,O)=>{if((0,c.default)("Draggable: onDragStart: %j",O),this.props.onStart(S,(0,s.createDraggableData)(this,O))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),g(this,"onDrag",(S,O)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",O);const N=(0,s.createDraggableData)(this,O),T={x:N.x,y:N.y,slackX:0,slackY:0};if(this.props.bounds){const{x:R,y:v}=T;T.x+=this.state.slackX,T.y+=this.state.slackY;const[k,M]=(0,s.getBoundPosition)(this,T.x,T.y);T.x=k,T.y=M,T.slackX=this.state.slackX+(R-T.x),T.slackY=this.state.slackY+(v-T.y),N.x=T.x,N.y=T.y,N.deltaX=T.x-this.state.x,N.deltaY=T.y-this.state.y}if(this.props.onDrag(S,N)===!1)return!1;this.setState(T)}),g(this,"onDragStop",(S,O)=>{if(!this.state.dragging||this.props.onStop(S,(0,s.createDraggableData)(this,O))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",O);const T={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:R,y:v}=this.props.position;T.x=R,T.y=v}this.setState(T)}),this.state={dragging:!1,dragged:!1,x:_.position?_.position.x:_.defaultPosition.x,y:_.position?_.position.y:_.defaultPosition.y,prevPropsPosition:{..._.position},slackX:0,slackY:0,isElementSVG:!1},_.position&&!(_.onDrag||_.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var _,S;return(_=(S=this.props)===null||S===void 0||(S=S.nodeRef)===null||S===void 0?void 0:S.current)!==null&&_!==void 0?_:r.default.findDOMNode(this)}render(){const{axis:_,bounds:S,children:O,defaultPosition:N,defaultClassName:T,defaultClassNameDragging:I,defaultClassNameDragged:R,position:v,positionOffset:k,scale:M,...P}=this.props;let K={},H=null;const G=!!!v||this.state.dragging,V=v||N,B={x:(0,s.canDragX)(this)&&G?this.state.x:V.x,y:(0,s.canDragY)(this)&&G?this.state.y:V.y};this.state.isElementSVG?H=(0,o.createSVGTransform)(B,k):K=(0,o.createCSSTransform)(B,k);const Q=(0,i.default)(O.props.className||"",T,{[I]:this.state.dragging,[R]:this.state.dragged});return e.createElement(l.default,p({},P,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(O),{className:Q,style:{...O.props.style,...K},transform:H}))}}t.default=y,g(y,"displayName","Draggable"),g(y,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),g(y,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(o3);const{default:p3,DraggableCore:ale}=o3;b_.exports=p3;b_.exports.default=p3;b_.exports.DraggableCore=ale;var lle=b_.exports;const cle=Cp(lle),gO=100,mO=40,ule=w.memo(({node:t,zoom:e,groupDelta:n,isHighlighted:r,currentUserEmail:i,selectedNodes:o,editingNodeId:s,editedText:a,handleResizeMouseDown:l,handleNodeClick:c,handleDoubleClick:u,handleTyping:f,handleTextBlur:h,setEditedText:p,setHoveredNodeId:g,linkingSource:E,onStart:x,onDrag:y,onStop:b,hoveredNodeId:_})=>{const S=o.includes(t.id),O=_===t.id,N=((t.width||gO)+(t.height||mO))/2,T=N*.02,R=Math.max(T,4),v=S?"#8896DD":O?"white":"transparent",k=o.includes(t.id)?t.x+n.x:t.x,M=o.includes(t.id)?t.y+n.y:t.y;t.bgColor||t.id,t.textColor;const P=N*.03,K=N*.1,H=t.fontSize?parseFloat(t.fontSize):14,W=H*.1,G=H*.2,V=`${W}px ${W}px ${G}px rgba(0, 0, 0, 0.7)`;return A.jsx(cle,{scale:e,position:{x:k,y:M},onStart:x,onDrag:y,onStop:b,children:A.jsxs("div",{onMouseEnter:()=>g(t.id),onMouseLeave:()=>g(null),onClick:B=>{B.stopPropagation(),c(t,B)},onDoubleClick:()=>u(t),style:{position:"absolute",transform:`translate3d(${t.x}px, ${t.y}px, 0)`,padding:"10px",backgroundColor:t.bgColor?t.bgColor:E===t.id?"#333":"#1e1e1e",color:t.textColor||"#fff",borderRadius:"8px",cursor:"grab",minWidth:"120px",width:t.width?`${t.width}px`:`${gO}px`,height:t.height?`${t.height}px`:`${mO}px`,overflow:"hidden",boxSizing:"border-box",fontSize:t.fontSize?`${t.fontSize}px`:"14px",textAlign:t.textAlign||"left",fontStyle:t.textStyle&&t.textStyle.includes("italic")?"italic":"normal",textDecoration:t.textStyle&&t.textStyle.includes("underline")?"underline":"none",fontWeight:t.textStyle&&t.textStyle.includes("bold")?"bold":"normal",fontFamily:t.fontFamily||"cursive",outlineWidth:`${R}px`,outlineStyle:"solid",outlineColor:v,outlineOffset:`${R}px`,transition:S?"outline-color 0.25s ease-in-out, box-shadow 0.2s ease-in-out, background-color 0.15s ease-in-out, color 0.15s ease-in-out":"none",boxShadow:`0 ${P}px ${K}px rgba(0, 0, 0, 0.5)`,textShadow:V},children:[s===t.id?A.jsx("textarea",{value:a,onChange:B=>{p(B.target.value),f(t.id)},onBlur:()=>h(t.id),autoFocus:!0,style:{backgroundColor:"inherit",width:"100%",height:"107%",fontSize:"inherit",color:"inherit",fontStyle:"inherit",fontFamily:"inherit",fontWeight:"inherit",textDecoration:"inherit",textAlign:"inherit",border:"none",outline:"none",resize:"none",textShadow:V,padding:0,margin:0,boxSizing:"border-box"}}):t.type==="image"?A.jsx("img",{src:t.imageUrl,alt:"Node content",style:{width:"100%",height:"100%",objectFit:"contain",pointerEvents:"none"}}):A.jsx("span",{style:{whiteSpace:"pre-wrap"},children:t.text}),t.lockedBy&&t.lockedBy!==i&&A.jsxs("div",{style:{position:"absolute",bottom:0,left:0,backgroundColor:"rgba(255,0,0,0.7)",color:"#fff",fontSize:"10px",padding:"2px",borderRadius:"2px"},children:["Locked by ",t.lockedBy]}),t.typing&&t.lockedBy&&t.lockedBy!==i&&A.jsx("div",{style:{position:"absolute",bottom:0,right:0,backgroundColor:"rgba(0,0,255,0.7)",color:"#fff",fontSize:"10px",padding:"2px",borderRadius:"2px"},children:"Typing..."}),A.jsx("div",{onMouseDown:B=>l(t,B),style:{position:"absolute",bottom:0,right:0,width:"10%",height:"10%",opacity:.5,cursor:"nwse-resize",backgroundColor:"#ccc"}})]})})}),dle=(t,e,n=150,r=800,i=1.5)=>{const o={},s=c=>{if(c.parent){if(o[c.parent]===void 0){const u=t.find(f=>f.id===c.parent);u?s(u):o[c.parent]=0}o[c.id]=o[c.parent]+1}else o[c.id]=0};t.forEach(c=>{o[c.id]===void 0&&s(c)});const a={};t.forEach(c=>{const u=o[c.id];a[u]||(a[u]=[]),a[u].push(c.id)});const l={};return Object.keys(a).forEach(c=>{const u=parseInt(c,10),f=a[u],h=f.length,p=r*Math.pow(i,u);f.forEach((g,E)=>{const y=(E+1)/(h+1)*p-p/2+r/2,b=u*n;l[g]={x:y,y:b}})}),{layout:l,levelMap:o}},fle=(t,e,n=100,r=400,i=300)=>{const o={},s=c=>{if(c.parent){if(o[c.parent]===void 0){const u=t.find(f=>f.id===c.parent);u?s(u):o[c.parent]=0}o[c.id]=o[c.parent]+1}else o[c.id]=0};t.forEach(c=>{o[c.id]===void 0&&s(c)});const a={};t.forEach(c=>{const u=o[c.id];a[u]||(a[u]=[]),a[u].push(c.id)});const l={};return Object.keys(a).forEach(c=>{const u=parseInt(c,10),f=a[u],h=f.length,p=u*n,g=2*Math.PI/h;let E=0;f.forEach(x=>{const y=r+p*Math.cos(E),b=i+p*Math.sin(E);l[x]={x:y,y:b},E+=g})}),{layout:l,levelMap:o}},hle=(t,e,n=150,r=600,i=1.5)=>{const o={},s=c=>{if(c.parent){if(o[c.parent]===void 0){const u=t.find(f=>f.id===c.parent);u?s(u):o[c.parent]=0}o[c.id]=o[c.parent]+1}else o[c.id]=0};t.forEach(c=>{o[c.id]===void 0&&s(c)});const a={};t.forEach(c=>{const u=o[c.id];a[u]||(a[u]=[]),a[u].push(c.id)});const l={};return Object.keys(a).forEach(c=>{const u=parseInt(c,10),f=a[u],h=f.length,p=r*Math.pow(i,u);f.forEach((g,E)=>{const y=(E+1)/(h+1)*p-p/2+r/2,b=u*n;l[g]={x:b,y}})}),{layout:l,levelMap:o}};var ho={},fg={},ple=typeof Fa=="object"&&Fa&&Fa.Object===Object&&Fa,g3=ple,gle=g3,mle=typeof self=="object"&&self&&self.Object===Object&&self,yle=gle||mle||Function("return this")(),ks=yle,vle=ks,_le=vle.Symbol,hg=_le,yO=hg,m3=Object.prototype,ble=m3.hasOwnProperty,wle=m3.toString,Uf=yO?yO.toStringTag:void 0;function Ele(t){var e=ble.call(t,Uf),n=t[Uf];try{t[Uf]=void 0;var r=!0}catch{}var i=wle.call(t);return r&&(e?t[Uf]=n:delete t[Uf]),i}var xle=Ele,Sle=Object.prototype,Cle=Sle.toString;function Tle(t){return Cle.call(t)}var Ile=Tle,vO=hg,Rle=xle,Ple=Ile,kle="[object Null]",Ale="[object Undefined]",_O=vO?vO.toStringTag:void 0;function Ole(t){return t==null?t===void 0?Ale:kle:_O&&_O in Object(t)?Rle(t):Ple(t)}var Ac=Ole,Nle=Array.isArray,Jo=Nle;function Mle(t){return t!=null&&typeof t=="object"}var pa=Mle,$le=Ac,Dle=Jo,Lle=pa,Fle="[object String]";function Ble(t){return typeof t=="string"||!Dle(t)&&Lle(t)&&$le(t)==Fle}var Vle=Ble;function Ule(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var jle=Ule,zle=jle,Wle=zle(),Hle=Wle;function Gle(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var qle=Gle,Kle=Ac,Yle=pa,Xle="[object Arguments]";function Qle(t){return Yle(t)&&Kle(t)==Xle}var Jle=Qle,bO=Jle,Zle=pa,y3=Object.prototype,ece=y3.hasOwnProperty,tce=y3.propertyIsEnumerable,nce=bO(function(){return arguments}())?bO:function(t){return Zle(t)&&ece.call(t,"callee")&&!tce.call(t,"callee")},v3=nce,bv={exports:{}};function rce(){return!1}var ice=rce;bv.exports;(function(t,e){var n=ks,r=ice,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(bv,bv.exports);var vT=bv.exports,oce=9007199254740991,sce=/^(?:0|[1-9]\d*)$/;function ace(t,e){var n=typeof t;return e=e??oce,!!e&&(n=="number"||n!="symbol"&&sce.test(t))&&t>-1&&t%1==0&&t<e}var _3=ace,lce=9007199254740991;function cce(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=lce}var _T=cce,uce=Ac,dce=_T,fce=pa,hce="[object Arguments]",pce="[object Array]",gce="[object Boolean]",mce="[object Date]",yce="[object Error]",vce="[object Function]",_ce="[object Map]",bce="[object Number]",wce="[object Object]",Ece="[object RegExp]",xce="[object Set]",Sce="[object String]",Cce="[object WeakMap]",Tce="[object ArrayBuffer]",Ice="[object DataView]",Rce="[object Float32Array]",Pce="[object Float64Array]",kce="[object Int8Array]",Ace="[object Int16Array]",Oce="[object Int32Array]",Nce="[object Uint8Array]",Mce="[object Uint8ClampedArray]",$ce="[object Uint16Array]",Dce="[object Uint32Array]",dn={};dn[Rce]=dn[Pce]=dn[kce]=dn[Ace]=dn[Oce]=dn[Nce]=dn[Mce]=dn[$ce]=dn[Dce]=!0;dn[hce]=dn[pce]=dn[Tce]=dn[gce]=dn[Ice]=dn[mce]=dn[yce]=dn[vce]=dn[_ce]=dn[bce]=dn[wce]=dn[Ece]=dn[xce]=dn[Sce]=dn[Cce]=!1;function Lce(t){return fce(t)&&dce(t.length)&&!!dn[uce(t)]}var Fce=Lce;function Bce(t){return function(e){return t(e)}}var bT=Bce,wv={exports:{}};wv.exports;(function(t,e){var n=g3,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(wv,wv.exports);var wT=wv.exports,Vce=Fce,Uce=bT,wO=wT,EO=wO&&wO.isTypedArray,jce=EO?Uce(EO):Vce,b3=jce,zce=qle,Wce=v3,Hce=Jo,Gce=vT,qce=_3,Kce=b3,Yce=Object.prototype,Xce=Yce.hasOwnProperty;function Qce(t,e){var n=Hce(t),r=!n&&Wce(t),i=!n&&!r&&Gce(t),o=!n&&!r&&!i&&Kce(t),s=n||r||i||o,a=s?zce(t.length,String):[],l=a.length;for(var c in t)(e||Xce.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||qce(c,l)))&&a.push(c);return a}var w3=Qce,Jce=Object.prototype;function Zce(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Jce;return t===n}var ET=Zce;function eue(t,e){return function(n){return t(e(n))}}var E3=eue,tue=E3,nue=tue(Object.keys,Object),rue=nue,iue=ET,oue=rue,sue=Object.prototype,aue=sue.hasOwnProperty;function lue(t){if(!iue(t))return oue(t);var e=[];for(var n in Object(t))aue.call(t,n)&&n!="constructor"&&e.push(n);return e}var cue=lue;function uue(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var nf=uue,due=Ac,fue=nf,hue="[object AsyncFunction]",pue="[object Function]",gue="[object GeneratorFunction]",mue="[object Proxy]";function yue(t){if(!fue(t))return!1;var e=due(t);return e==pue||e==gue||e==hue||e==mue}var x3=yue,vue=x3,_ue=_T;function bue(t){return t!=null&&_ue(t.length)&&!vue(t)}var S_=bue,wue=w3,Eue=cue,xue=S_;function Sue(t){return xue(t)?wue(t):Eue(t)}var pg=Sue,Cue=Hle,Tue=pg;function Iue(t,e){return t&&Cue(t,e,Tue)}var S3=Iue;function Rue(t){return t}var C3=Rue,Pue=C3;function kue(t){return typeof t=="function"?t:Pue}var Aue=kue,Oue=S3,Nue=Aue;function Mue(t,e){return t&&Oue(t,Nue(e))}var xT=Mue,$ue=E3,Due=$ue(Object.getPrototypeOf,Object),ST=Due,Lue=Ac,Fue=ST,Bue=pa,Vue="[object Object]",Uue=Function.prototype,jue=Object.prototype,T3=Uue.toString,zue=jue.hasOwnProperty,Wue=T3.call(Object);function Hue(t){if(!Bue(t)||Lue(t)!=Vue)return!1;var e=Fue(t);if(e===null)return!0;var n=zue.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&T3.call(n)==Wue}var Gue=Hue;function que(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var I3=que;function Kue(){this.__data__=[],this.size=0}var Yue=Kue;function Xue(t,e){return t===e||t!==t&&e!==e}var CT=Xue,Que=CT;function Jue(t,e){for(var n=t.length;n--;)if(Que(t[n][0],e))return n;return-1}var C_=Jue,Zue=C_,ede=Array.prototype,tde=ede.splice;function nde(t){var e=this.__data__,n=Zue(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():tde.call(e,n,1),--this.size,!0}var rde=nde,ide=C_;function ode(t){var e=this.__data__,n=ide(e,t);return n<0?void 0:e[n][1]}var sde=ode,ade=C_;function lde(t){return ade(this.__data__,t)>-1}var cde=lde,ude=C_;function dde(t,e){var n=this.__data__,r=ude(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var fde=dde,hde=Yue,pde=rde,gde=sde,mde=cde,yde=fde;function rf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}rf.prototype.clear=hde;rf.prototype.delete=pde;rf.prototype.get=gde;rf.prototype.has=mde;rf.prototype.set=yde;var T_=rf,vde=T_;function _de(){this.__data__=new vde,this.size=0}var bde=_de;function wde(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Ede=wde;function xde(t){return this.__data__.get(t)}var Sde=xde;function Cde(t){return this.__data__.has(t)}var Tde=Cde,Ide=ks,Rde=Ide["__core-js_shared__"],Pde=Rde,lw=Pde,xO=function(){var t=/[^.]+$/.exec(lw&&lw.keys&&lw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function kde(t){return!!xO&&xO in t}var Ade=kde,Ode=Function.prototype,Nde=Ode.toString;function Mde(t){if(t!=null){try{return Nde.call(t)}catch{}try{return t+""}catch{}}return""}var R3=Mde,$de=x3,Dde=Ade,Lde=nf,Fde=R3,Bde=/[\\^$.*+?()[\]{}|]/g,Vde=/^\[object .+?Constructor\]$/,Ude=Function.prototype,jde=Object.prototype,zde=Ude.toString,Wde=jde.hasOwnProperty,Hde=RegExp("^"+zde.call(Wde).replace(Bde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Gde(t){if(!Lde(t)||Dde(t))return!1;var e=$de(t)?Hde:Vde;return e.test(Fde(t))}var qde=Gde;function Kde(t,e){return t==null?void 0:t[e]}var Yde=Kde,Xde=qde,Qde=Yde;function Jde(t,e){var n=Qde(t,e);return Xde(n)?n:void 0}var Oc=Jde,Zde=Oc,efe=ks,tfe=Zde(efe,"Map"),TT=tfe,nfe=Oc,rfe=nfe(Object,"create"),I_=rfe,SO=I_;function ife(){this.__data__=SO?SO(null):{},this.size=0}var ofe=ife;function sfe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var afe=sfe,lfe=I_,cfe="__lodash_hash_undefined__",ufe=Object.prototype,dfe=ufe.hasOwnProperty;function ffe(t){var e=this.__data__;if(lfe){var n=e[t];return n===cfe?void 0:n}return dfe.call(e,t)?e[t]:void 0}var hfe=ffe,pfe=I_,gfe=Object.prototype,mfe=gfe.hasOwnProperty;function yfe(t){var e=this.__data__;return pfe?e[t]!==void 0:mfe.call(e,t)}var vfe=yfe,_fe=I_,bfe="__lodash_hash_undefined__";function wfe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_fe&&e===void 0?bfe:e,this}var Efe=wfe,xfe=ofe,Sfe=afe,Cfe=hfe,Tfe=vfe,Ife=Efe;function of(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}of.prototype.clear=xfe;of.prototype.delete=Sfe;of.prototype.get=Cfe;of.prototype.has=Tfe;of.prototype.set=Ife;var Rfe=of,CO=Rfe,Pfe=T_,kfe=TT;function Afe(){this.size=0,this.__data__={hash:new CO,map:new(kfe||Pfe),string:new CO}}var Ofe=Afe;function Nfe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Mfe=Nfe,$fe=Mfe;function Dfe(t,e){var n=t.__data__;return $fe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var R_=Dfe,Lfe=R_;function Ffe(t){var e=Lfe(this,t).delete(t);return this.size-=e?1:0,e}var Bfe=Ffe,Vfe=R_;function Ufe(t){return Vfe(this,t).get(t)}var jfe=Ufe,zfe=R_;function Wfe(t){return zfe(this,t).has(t)}var Hfe=Wfe,Gfe=R_;function qfe(t,e){var n=Gfe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Kfe=qfe,Yfe=Ofe,Xfe=Bfe,Qfe=jfe,Jfe=Hfe,Zfe=Kfe;function sf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}sf.prototype.clear=Yfe;sf.prototype.delete=Xfe;sf.prototype.get=Qfe;sf.prototype.has=Jfe;sf.prototype.set=Zfe;var IT=sf,ehe=T_,the=TT,nhe=IT,rhe=200;function ihe(t,e){var n=this.__data__;if(n instanceof ehe){var r=n.__data__;if(!the||r.length<rhe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new nhe(r)}return n.set(t,e),this.size=n.size,this}var ohe=ihe,she=T_,ahe=bde,lhe=Ede,che=Sde,uhe=Tde,dhe=ohe;function af(t){var e=this.__data__=new she(t);this.size=e.size}af.prototype.clear=ahe;af.prototype.delete=lhe;af.prototype.get=che;af.prototype.has=uhe;af.prototype.set=dhe;var RT=af,fhe="__lodash_hash_undefined__";function hhe(t){return this.__data__.set(t,fhe),this}var phe=hhe;function ghe(t){return this.__data__.has(t)}var mhe=ghe,yhe=IT,vhe=phe,_he=mhe;function Ev(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new yhe;++e<n;)this.add(t[e])}Ev.prototype.add=Ev.prototype.push=vhe;Ev.prototype.has=_he;var bhe=Ev;function whe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Ehe=whe;function xhe(t,e){return t.has(e)}var She=xhe,Che=bhe,The=Ehe,Ihe=She,Rhe=1,Phe=2;function khe(t,e,n,r,i,o){var s=n&Rhe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=n&Phe?new Che:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var g=t[f],E=e[f];if(r)var x=s?r(E,g,f,e,t,o):r(g,E,f,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!The(e,function(y,b){if(!Ihe(p,b)&&(g===y||i(g,y,n,r,o)))return p.push(b)})){h=!1;break}}else if(!(g===E||i(g,E,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var P3=khe,Ahe=ks,Ohe=Ahe.Uint8Array,k3=Ohe;function Nhe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Mhe=Nhe;function $he(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Dhe=$he,TO=hg,IO=k3,Lhe=CT,Fhe=P3,Bhe=Mhe,Vhe=Dhe,Uhe=1,jhe=2,zhe="[object Boolean]",Whe="[object Date]",Hhe="[object Error]",Ghe="[object Map]",qhe="[object Number]",Khe="[object RegExp]",Yhe="[object Set]",Xhe="[object String]",Qhe="[object Symbol]",Jhe="[object ArrayBuffer]",Zhe="[object DataView]",RO=TO?TO.prototype:void 0,cw=RO?RO.valueOf:void 0;function epe(t,e,n,r,i,o,s){switch(n){case Zhe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Jhe:return!(t.byteLength!=e.byteLength||!o(new IO(t),new IO(e)));case zhe:case Whe:case qhe:return Lhe(+t,+e);case Hhe:return t.name==e.name&&t.message==e.message;case Khe:case Xhe:return t==e+"";case Ghe:var a=Bhe;case Yhe:var l=r&Uhe;if(a||(a=Vhe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=jhe,s.set(t,e);var u=Fhe(a(t),a(e),r,i,o,s);return s.delete(t),u;case Qhe:if(cw)return cw.call(t)==cw.call(e)}return!1}var tpe=epe;function npe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var A3=npe,rpe=A3,ipe=Jo;function ope(t,e,n){var r=e(t);return ipe(t)?r:rpe(r,n(t))}var O3=ope;function spe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var ape=spe;function lpe(){return[]}var N3=lpe,cpe=ape,upe=N3,dpe=Object.prototype,fpe=dpe.propertyIsEnumerable,PO=Object.getOwnPropertySymbols,hpe=PO?function(t){return t==null?[]:(t=Object(t),cpe(PO(t),function(e){return fpe.call(t,e)}))}:upe,PT=hpe,ppe=O3,gpe=PT,mpe=pg;function ype(t){return ppe(t,mpe,gpe)}var M3=ype,kO=M3,vpe=1,_pe=Object.prototype,bpe=_pe.hasOwnProperty;function wpe(t,e,n,r,i,o){var s=n&vpe,a=kO(t),l=a.length,c=kO(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:bpe.call(e,h)))return!1}var p=o.get(t),g=o.get(e);if(p&&g)return p==e&&g==t;var E=!0;o.set(t,e),o.set(e,t);for(var x=s;++f<l;){h=a[f];var y=t[h],b=e[h];if(r)var _=s?r(b,y,h,e,t,o):r(y,b,h,t,e,o);if(!(_===void 0?y===b||i(y,b,n,r,o):_)){E=!1;break}x||(x=h=="constructor")}if(E&&!x){var S=t.constructor,O=e.constructor;S!=O&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof O=="function"&&O instanceof O)&&(E=!1)}return o.delete(t),o.delete(e),E}var Epe=wpe,xpe=Oc,Spe=ks,Cpe=xpe(Spe,"DataView"),Tpe=Cpe,Ipe=Oc,Rpe=ks,Ppe=Ipe(Rpe,"Promise"),kpe=Ppe,Ape=Oc,Ope=ks,Npe=Ape(Ope,"Set"),Mpe=Npe,$pe=Oc,Dpe=ks,Lpe=$pe(Dpe,"WeakMap"),Fpe=Lpe,Ox=Tpe,Nx=TT,Mx=kpe,$x=Mpe,Dx=Fpe,$3=Ac,lf=R3,AO="[object Map]",Bpe="[object Object]",OO="[object Promise]",NO="[object Set]",MO="[object WeakMap]",$O="[object DataView]",Vpe=lf(Ox),Upe=lf(Nx),jpe=lf(Mx),zpe=lf($x),Wpe=lf(Dx),Hl=$3;(Ox&&Hl(new Ox(new ArrayBuffer(1)))!=$O||Nx&&Hl(new Nx)!=AO||Mx&&Hl(Mx.resolve())!=OO||$x&&Hl(new $x)!=NO||Dx&&Hl(new Dx)!=MO)&&(Hl=function(t){var e=$3(t),n=e==Bpe?t.constructor:void 0,r=n?lf(n):"";if(r)switch(r){case Vpe:return $O;case Upe:return AO;case jpe:return OO;case zpe:return NO;case Wpe:return MO}return e});var P_=Hl,uw=RT,Hpe=P3,Gpe=tpe,qpe=Epe,DO=P_,LO=Jo,FO=vT,Kpe=b3,Ype=1,BO="[object Arguments]",VO="[object Array]",vm="[object Object]",Xpe=Object.prototype,UO=Xpe.hasOwnProperty;function Qpe(t,e,n,r,i,o){var s=LO(t),a=LO(e),l=s?VO:DO(t),c=a?VO:DO(e);l=l==BO?vm:l,c=c==BO?vm:c;var u=l==vm,f=c==vm,h=l==c;if(h&&FO(t)){if(!FO(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new uw),s||Kpe(t)?Hpe(t,e,n,r,i,o):Gpe(t,e,l,n,r,i,o);if(!(n&Ype)){var p=u&&UO.call(t,"__wrapped__"),g=f&&UO.call(e,"__wrapped__");if(p||g){var E=p?t.value():t,x=g?e.value():e;return o||(o=new uw),i(E,x,n,r,o)}}return h?(o||(o=new uw),qpe(t,e,n,r,i,o)):!1}var Jpe=Qpe,Zpe=Jpe,jO=pa;function D3(t,e,n,r,i){return t===e?!0:t==null||e==null||!jO(t)&&!jO(e)?t!==t&&e!==e:Zpe(t,e,n,r,D3,i)}var L3=D3,ege=RT,tge=L3,nge=1,rge=2;function ige(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],c=t[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new ege;if(r)var h=r(c,u,l,t,e,f);if(!(h===void 0?tge(u,c,nge|rge,r,f):h))return!1}}return!0}var oge=ige,sge=nf;function age(t){return t===t&&!sge(t)}var F3=age,lge=F3,cge=pg;function uge(t){for(var e=cge(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,lge(i)]}return e}var dge=uge;function fge(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var B3=fge,hge=oge,pge=dge,gge=B3;function mge(t){var e=pge(t);return e.length==1&&e[0][2]?gge(e[0][0],e[0][1]):function(n){return n===t||hge(n,t,e)}}var yge=mge,vge=Ac,_ge=pa,bge="[object Symbol]";function wge(t){return typeof t=="symbol"||_ge(t)&&vge(t)==bge}var kT=wge,Ege=Jo,xge=kT,Sge=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Cge=/^\w*$/;function Tge(t,e){if(Ege(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||xge(t)?!0:Cge.test(t)||!Sge.test(t)||e!=null&&t in Object(e)}var AT=Tge,V3=IT,Ige="Expected a function";function OT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Ige);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(OT.Cache||V3),n}OT.Cache=V3;var Rge=OT,Pge=Rge,kge=500;function Age(t){var e=Pge(t,function(r){return n.size===kge&&n.clear(),r}),n=e.cache;return e}var Oge=Age,Nge=Oge,Mge=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$ge=/\\(\\)?/g,Dge=Nge(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Mge,function(n,r,i,o){e.push(i?o.replace($ge,"$1"):r||n)}),e}),Lge=Dge,zO=hg,Fge=I3,Bge=Jo,Vge=kT,WO=zO?zO.prototype:void 0,HO=WO?WO.toString:void 0;function U3(t){if(typeof t=="string")return t;if(Bge(t))return Fge(t,U3)+"";if(Vge(t))return HO?HO.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Uge=U3,jge=Uge;function zge(t){return t==null?"":jge(t)}var Wge=zge,Hge=Jo,Gge=AT,qge=Lge,Kge=Wge;function Yge(t,e){return Hge(t)?t:Gge(t,e)?[t]:qge(Kge(t))}var j3=Yge,Xge=kT;function Qge(t){if(typeof t=="string"||Xge(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var k_=Qge,Jge=j3,Zge=k_;function eme(t,e){e=Jge(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Zge(e[n++])];return n&&n==r?t:void 0}var z3=eme,tme=z3;function nme(t,e,n){var r=t==null?void 0:tme(t,e);return r===void 0?n:r}var rme=nme;function ime(t,e){return t!=null&&e in Object(t)}var ome=ime,sme=j3,ame=v3,lme=Jo,cme=_3,ume=_T,dme=k_;function fme(t,e,n){e=sme(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=dme(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&ume(i)&&cme(s,i)&&(lme(t)||ame(t)))}var hme=fme,pme=ome,gme=hme;function mme(t,e){return t!=null&&gme(t,e,pme)}var yme=mme,vme=L3,_me=rme,bme=yme,wme=AT,Eme=F3,xme=B3,Sme=k_,Cme=1,Tme=2;function Ime(t,e){return wme(t)&&Eme(e)?xme(Sme(t),e):function(n){var r=_me(n,t);return r===void 0&&r===e?bme(n,t):vme(e,r,Cme|Tme)}}var Rme=Ime;function Pme(t){return function(e){return e==null?void 0:e[t]}}var kme=Pme,Ame=z3;function Ome(t){return function(e){return Ame(e,t)}}var Nme=Ome,Mme=kme,$me=Nme,Dme=AT,Lme=k_;function Fme(t){return Dme(t)?Mme(Lme(t)):$me(t)}var Bme=Fme,Vme=yge,Ume=Rme,jme=C3,zme=Jo,Wme=Bme;function Hme(t){return typeof t=="function"?t:t==null?jme:typeof t=="object"?zme(t)?Ume(t[0],t[1]):Vme(t):Wme(t)}var Gme=Hme,qme=S_;function Kme(t,e){return function(n,r){if(n==null)return n;if(!qme(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Yme=Kme,Xme=S3,Qme=Yme,Jme=Qme(Xme),Zme=Jme,eye=Zme,tye=S_;function nye(t,e){var n=-1,r=tye(t)?Array(t.length):[];return eye(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var rye=nye,iye=I3,oye=Gme,sye=rye,aye=Jo;function lye(t,e){var n=aye(t)?iye:sye;return n(t,oye(e))}var cye=lye;Object.defineProperty(fg,"__esModule",{value:!0});fg.flattenNames=void 0;var uye=Vle,dye=A_(uye),fye=xT,hye=A_(fye),pye=Gue,gye=A_(pye),mye=cye,yye=A_(mye);function A_(t){return t&&t.__esModule?t:{default:t}}var vye=fg.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,yye.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,gye.default)(r)?(0,hye.default)(r,function(i,o){i===!0&&n.push(o),n.push(o+"-"+i)}):(0,dye.default)(r)&&n.push(r)}),n};fg.default=vye;var gg={};function _ye(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var bye=_ye,wye=Oc,Eye=function(){try{var t=wye(Object,"defineProperty");return t({},"",{}),t}catch{}}(),xye=Eye,GO=xye;function Sye(t,e,n){e=="__proto__"&&GO?GO(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var W3=Sye,Cye=W3,Tye=CT,Iye=Object.prototype,Rye=Iye.hasOwnProperty;function Pye(t,e,n){var r=t[e];(!(Rye.call(t,e)&&Tye(r,n))||n===void 0&&!(e in t))&&Cye(t,e,n)}var H3=Pye,kye=H3,Aye=W3;function Oye(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?Aye(n,a,l):kye(n,a,l)}return n}var O_=Oye,Nye=O_,Mye=pg;function $ye(t,e){return t&&Nye(e,Mye(e),t)}var Dye=$ye;function Lye(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Fye=Lye,Bye=nf,Vye=ET,Uye=Fye,jye=Object.prototype,zye=jye.hasOwnProperty;function Wye(t){if(!Bye(t))return Uye(t);var e=Vye(t),n=[];for(var r in t)r=="constructor"&&(e||!zye.call(t,r))||n.push(r);return n}var Hye=Wye,Gye=w3,qye=Hye,Kye=S_;function Yye(t){return Kye(t)?Gye(t,!0):qye(t)}var NT=Yye,Xye=O_,Qye=NT;function Jye(t,e){return t&&Xye(e,Qye(e),t)}var Zye=Jye,xv={exports:{}};xv.exports;(function(t,e){var n=ks,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var f=c.length,h=a?a(f):new c.constructor(f);return c.copy(h),h}t.exports=l})(xv,xv.exports);var eve=xv.exports;function tve(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var nve=tve,rve=O_,ive=PT;function ove(t,e){return rve(t,ive(t),e)}var sve=ove,ave=A3,lve=ST,cve=PT,uve=N3,dve=Object.getOwnPropertySymbols,fve=dve?function(t){for(var e=[];t;)ave(e,cve(t)),t=lve(t);return e}:uve,G3=fve,hve=O_,pve=G3;function gve(t,e){return hve(t,pve(t),e)}var mve=gve,yve=O3,vve=G3,_ve=NT;function bve(t){return yve(t,_ve,vve)}var wve=bve,Eve=Object.prototype,xve=Eve.hasOwnProperty;function Sve(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&xve.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Cve=Sve,qO=k3;function Tve(t){var e=new t.constructor(t.byteLength);return new qO(e).set(new qO(t)),e}var MT=Tve,Ive=MT;function Rve(t,e){var n=e?Ive(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Pve=Rve,kve=/\w*$/;function Ave(t){var e=new t.constructor(t.source,kve.exec(t));return e.lastIndex=t.lastIndex,e}var Ove=Ave,KO=hg,YO=KO?KO.prototype:void 0,XO=YO?YO.valueOf:void 0;function Nve(t){return XO?Object(XO.call(t)):{}}var Mve=Nve,$ve=MT;function Dve(t,e){var n=e?$ve(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Lve=Dve,Fve=MT,Bve=Pve,Vve=Ove,Uve=Mve,jve=Lve,zve="[object Boolean]",Wve="[object Date]",Hve="[object Map]",Gve="[object Number]",qve="[object RegExp]",Kve="[object Set]",Yve="[object String]",Xve="[object Symbol]",Qve="[object ArrayBuffer]",Jve="[object DataView]",Zve="[object Float32Array]",e0e="[object Float64Array]",t0e="[object Int8Array]",n0e="[object Int16Array]",r0e="[object Int32Array]",i0e="[object Uint8Array]",o0e="[object Uint8ClampedArray]",s0e="[object Uint16Array]",a0e="[object Uint32Array]";function l0e(t,e,n){var r=t.constructor;switch(e){case Qve:return Fve(t);case zve:case Wve:return new r(+t);case Jve:return Bve(t,n);case Zve:case e0e:case t0e:case n0e:case r0e:case i0e:case o0e:case s0e:case a0e:return jve(t,n);case Hve:return new r;case Gve:case Yve:return new r(t);case qve:return Vve(t);case Kve:return new r;case Xve:return Uve(t)}}var c0e=l0e,u0e=nf,QO=Object.create,d0e=function(){function t(){}return function(e){if(!u0e(e))return{};if(QO)return QO(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),f0e=d0e,h0e=f0e,p0e=ST,g0e=ET;function m0e(t){return typeof t.constructor=="function"&&!g0e(t)?h0e(p0e(t)):{}}var y0e=m0e,v0e=P_,_0e=pa,b0e="[object Map]";function w0e(t){return _0e(t)&&v0e(t)==b0e}var E0e=w0e,x0e=E0e,S0e=bT,JO=wT,ZO=JO&&JO.isMap,C0e=ZO?S0e(ZO):x0e,T0e=C0e,I0e=P_,R0e=pa,P0e="[object Set]";function k0e(t){return R0e(t)&&I0e(t)==P0e}var A0e=k0e,O0e=A0e,N0e=bT,e2=wT,t2=e2&&e2.isSet,M0e=t2?N0e(t2):O0e,$0e=M0e,D0e=RT,L0e=bye,F0e=H3,B0e=Dye,V0e=Zye,U0e=eve,j0e=nve,z0e=sve,W0e=mve,H0e=M3,G0e=wve,q0e=P_,K0e=Cve,Y0e=c0e,X0e=y0e,Q0e=Jo,J0e=vT,Z0e=T0e,e_e=nf,t_e=$0e,n_e=pg,r_e=NT,i_e=1,o_e=2,s_e=4,q3="[object Arguments]",a_e="[object Array]",l_e="[object Boolean]",c_e="[object Date]",u_e="[object Error]",K3="[object Function]",d_e="[object GeneratorFunction]",f_e="[object Map]",h_e="[object Number]",Y3="[object Object]",p_e="[object RegExp]",g_e="[object Set]",m_e="[object String]",y_e="[object Symbol]",v_e="[object WeakMap]",__e="[object ArrayBuffer]",b_e="[object DataView]",w_e="[object Float32Array]",E_e="[object Float64Array]",x_e="[object Int8Array]",S_e="[object Int16Array]",C_e="[object Int32Array]",T_e="[object Uint8Array]",I_e="[object Uint8ClampedArray]",R_e="[object Uint16Array]",P_e="[object Uint32Array]",on={};on[q3]=on[a_e]=on[__e]=on[b_e]=on[l_e]=on[c_e]=on[w_e]=on[E_e]=on[x_e]=on[S_e]=on[C_e]=on[f_e]=on[h_e]=on[Y3]=on[p_e]=on[g_e]=on[m_e]=on[y_e]=on[T_e]=on[I_e]=on[R_e]=on[P_e]=!0;on[u_e]=on[K3]=on[v_e]=!1;function ty(t,e,n,r,i,o){var s,a=e&i_e,l=e&o_e,c=e&s_e;if(n&&(s=i?n(t,r,i,o):n(t)),s!==void 0)return s;if(!e_e(t))return t;var u=Q0e(t);if(u){if(s=K0e(t),!a)return j0e(t,s)}else{var f=q0e(t),h=f==K3||f==d_e;if(J0e(t))return U0e(t,a);if(f==Y3||f==q3||h&&!i){if(s=l||h?{}:X0e(t),!a)return l?W0e(t,V0e(s,t)):z0e(t,B0e(s,t))}else{if(!on[f])return i?t:{};s=Y0e(t,f,a)}}o||(o=new D0e);var p=o.get(t);if(p)return p;o.set(t,s),t_e(t)?t.forEach(function(x){s.add(ty(x,e,n,x,t,o))}):Z0e(t)&&t.forEach(function(x,y){s.set(y,ty(x,e,n,y,t,o))});var g=c?l?G0e:H0e:l?r_e:n_e,E=u?void 0:g(t);return L0e(E||t,function(x,y){E&&(y=x,x=t[y]),F0e(s,y,ty(x,e,n,y,t,o))}),s}var k_e=ty,A_e=k_e,O_e=1,N_e=4;function M_e(t){return A_e(t,O_e|N_e)}var $_e=M_e;Object.defineProperty(gg,"__esModule",{value:!0});gg.mergeClasses=void 0;var D_e=xT,L_e=X3(D_e),F_e=$_e,B_e=X3(F_e),V_e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function X3(t){return t&&t.__esModule?t:{default:t}}var U_e=gg.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,B_e.default)(e.default)||{};return n.map(function(i){var o=e[i];return o&&(0,L_e.default)(o,function(s,a){r[a]||(r[a]={}),r[a]=V_e({},r[a],o[a])}),i}),r};gg.default=U_e;var mg={};Object.defineProperty(mg,"__esModule",{value:!0});mg.autoprefix=void 0;var j_e=xT,n2=W_e(j_e),z_e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function W_e(t){return t&&t.__esModule?t:{default:t}}var H_e={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},G_e=mg.autoprefix=function(e){var n={};return(0,n2.default)(e,function(r,i){var o={};(0,n2.default)(r,function(s,a){var l=H_e[a];l?o=z_e({},o,l(s)):o[a]=s}),n[i]=o}),n};mg.default=G_e;var yg={};Object.defineProperty(yg,"__esModule",{value:!0});yg.hover=void 0;var q_e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K_e=w,dw=Y_e(K_e);function Y_e(t){return t&&t.__esModule?t:{default:t}}function X_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r2(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Q_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var J_e=yg.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Q_e(i,r);function i(){var o,s,a,l;X_e(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(s=(a=r2(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(u))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return dw.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},dw.default.createElement(e,q_e({},a.props,a.state)))},s),r2(a,l)}return i}(dw.default.Component)};yg.default=J_e;var vg={};Object.defineProperty(vg,"__esModule",{value:!0});vg.active=void 0;var Z_e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ebe=w,fw=tbe(ebe);function tbe(t){return t&&t.__esModule?t:{default:t}}function nbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i2(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function rbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ibe=vg.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){rbe(i,r);function i(){var o,s,a,l;nbe(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(s=(a=i2(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(u))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return fw.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},fw.default.createElement(e,Z_e({},a.props,a.state)))},s),i2(a,l)}return i}(fw.default.Component)};vg.default=ibe;var $T={};Object.defineProperty($T,"__esModule",{value:!0});var obe=function(e,n){var r={},i=function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[s]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};$T.default=obe;Object.defineProperty(ho,"__esModule",{value:!0});ho.ReactCSS=ho.loop=ho.handleActive=DT=ho.handleHover=ho.hover=void 0;var sbe=fg,abe=cf(sbe),lbe=gg,cbe=cf(lbe),ube=mg,dbe=cf(ube),fbe=yg,Q3=cf(fbe),hbe=vg,pbe=cf(hbe),gbe=$T,mbe=cf(gbe);function cf(t){return t&&t.__esModule?t:{default:t}}ho.hover=Q3.default;var DT=ho.handleHover=Q3.default;ho.handleActive=pbe.default;ho.loop=mbe.default;var ybe=ho.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=(0,abe.default)(r),s=(0,cbe.default)(e,o);return(0,dbe.default)(s)},Ye=ho.default=ybe,vbe=function(e,n,r,i,o){var s=o.clientWidth,a=o.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=l-(o.getBoundingClientRect().left+window.pageXOffset),f=c-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var h=void 0;if(f<0?h=0:f>a?h=1:h=Math.round(f*100/a)/100,n.a!==h)return{h:n.h,s:n.s,l:n.l,a:h,source:"rgb"}}else{var p=void 0;if(u<0?p=0:u>s?p=1:p=Math.round(u*100/s)/100,i!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}return null},hw={},_be=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var s=o.getContext("2d");return s?(s.fillStyle=e,s.fillRect(0,0,o.width,o.height),s.fillStyle=n,s.fillRect(0,0,r,r),s.translate(r,r),s.fillRect(0,0,r,r),o.toDataURL()):null},bbe=function(e,n,r,i){var o=e+"-"+n+"-"+r+(i?"-server":"");if(hw[o])return hw[o];var s=_be(e,n,r,i);return hw[o]=s,s},o2=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uf=function(e){var n=e.white,r=e.grey,i=e.size,o=e.renderers,s=e.borderRadius,a=e.boxShadow,l=e.children,c=Ye({default:{grid:{borderRadius:s,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+bbe(n,r,i,o.canvas)+") center left"}}});return w.isValidElement(l)?L.cloneElement(l,o2({},l.props,{style:o2({},l.props.style,c.grid)})):L.createElement("div",{style:c.grid})};uf.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var wbe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ebe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function xbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s2(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Sbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var LT=function(t){Sbe(e,t);function e(){var n,r,i,o;xbe(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=s2(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var u=vbe(c,i.props.hsl,i.props.direction,i.props.a,i.container);u&&typeof i.props.onChange=="function"&&i.props.onChange(u,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),s2(i,o)}return Ebe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=Ye({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:wbe({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return L.createElement("div",{style:o.alpha},L.createElement("div",{style:o.checkboard},L.createElement(uf,{renderers:this.props.renderers})),L.createElement("div",{style:o.gradient}),L.createElement("div",{style:o.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},L.createElement("div",{style:o.pointer},this.props.pointer?L.createElement(this.props.pointer,this.props):L.createElement("div",{style:o.slider}))))}}]),e}(w.PureComponent||w.Component),Cbe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Tbe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ibe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rbe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Pbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kbe=1,J3=38,Abe=40,Obe=[J3,Abe],Nbe=function(e){return Obe.indexOf(e)>-1},Mbe=function(e){return Number(String(e).replace(/%/g,""))},$be=1,Pt=function(t){Pbe(e,t);function e(n){Ibe(this,e);var r=Rbe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=Mbe(i.target.value);if(!isNaN(o)&&Nbe(i.keyCode)){var s=r.getArrowOffset(),a=i.keyCode===J3?o+s:o-s;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+$be++,r}return Cbe(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return Tbe({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||kbe}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=Ye({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return L.createElement("div",{style:i.wrap},L.createElement("input",{id:this.inputId,style:i.input,ref:function(s){return r.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?L.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(w.PureComponent||w.Component),Dbe=function(e,n,r,i){var o=i.clientWidth,s=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(i.getBoundingClientRect().left+window.pageXOffset),u=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var f=void 0;if(u<0)f=359;else if(u>s)f=0;else{var h=-(u*100/s)+100;f=360*h/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var p=void 0;if(c<0)p=0;else if(c>o)p=359;else{var g=c*100/o;p=360*g/100}if(r.h!==p)return{h:p,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},Lbe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Fbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a2(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Bbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var df=function(t){Bbe(e,t);function e(){var n,r,i,o;Fbe(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=a2(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var u=Dbe(c,i.props.direction,i.props.hsl,i.container);u&&typeof i.props.onChange=="function"&&i.props.onChange(u,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),a2(i,o)}return Lbe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,s=Ye({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return L.createElement("div",{style:s.hue},L.createElement("div",{className:"hue-"+o,style:s.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},L.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),L.createElement("div",{style:s.pointer},this.props.pointer?L.createElement(this.props.pointer,this.props):L.createElement("div",{style:s.slider}))))}}]),e}(w.PureComponent||w.Component);function Vbe(){this.__data__=[],this.size=0}function _g(t,e){return t===e||t!==t&&e!==e}function N_(t,e){for(var n=t.length;n--;)if(_g(t[n][0],e))return n;return-1}var Ube=Array.prototype,jbe=Ube.splice;function zbe(t){var e=this.__data__,n=N_(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():jbe.call(e,n,1),--this.size,!0}function Wbe(t){var e=this.__data__,n=N_(e,t);return n<0?void 0:e[n][1]}function Hbe(t){return N_(this.__data__,t)>-1}function Gbe(t,e){var n=this.__data__,r=N_(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function ga(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ga.prototype.clear=Vbe;ga.prototype.delete=zbe;ga.prototype.get=Wbe;ga.prototype.has=Hbe;ga.prototype.set=Gbe;function qbe(){this.__data__=new ga,this.size=0}function Kbe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Ybe(t){return this.__data__.get(t)}function Xbe(t){return this.__data__.has(t)}var Z3=typeof global=="object"&&global&&global.Object===Object&&global,Qbe=typeof self=="object"&&self&&self.Object===Object&&self,Zo=Z3||Qbe||Function("return this")(),vl=Zo.Symbol,eB=Object.prototype,Jbe=eB.hasOwnProperty,Zbe=eB.toString,jf=vl?vl.toStringTag:void 0;function ewe(t){var e=Jbe.call(t,jf),n=t[jf];try{t[jf]=void 0;var r=!0}catch{}var i=Zbe.call(t);return r&&(e?t[jf]=n:delete t[jf]),i}var twe=Object.prototype,nwe=twe.toString;function rwe(t){return nwe.call(t)}var iwe="[object Null]",owe="[object Undefined]",l2=vl?vl.toStringTag:void 0;function Nc(t){return t==null?t===void 0?owe:iwe:l2&&l2 in Object(t)?ewe(t):rwe(t)}function xo(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var swe="[object AsyncFunction]",awe="[object Function]",lwe="[object GeneratorFunction]",cwe="[object Proxy]";function FT(t){if(!xo(t))return!1;var e=Nc(t);return e==awe||e==lwe||e==swe||e==cwe}var pw=Zo["__core-js_shared__"],c2=function(){var t=/[^.]+$/.exec(pw&&pw.keys&&pw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function uwe(t){return!!c2&&c2 in t}var dwe=Function.prototype,fwe=dwe.toString;function Mc(t){if(t!=null){try{return fwe.call(t)}catch{}try{return t+""}catch{}}return""}var hwe=/[\\^$.*+?()[\]{}|]/g,pwe=/^\[object .+?Constructor\]$/,gwe=Function.prototype,mwe=Object.prototype,ywe=gwe.toString,vwe=mwe.hasOwnProperty,_we=RegExp("^"+ywe.call(vwe).replace(hwe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bwe(t){if(!xo(t)||uwe(t))return!1;var e=FT(t)?_we:pwe;return e.test(Mc(t))}function wwe(t,e){return t==null?void 0:t[e]}function $c(t,e){var n=wwe(t,e);return bwe(n)?n:void 0}var xp=$c(Zo,"Map"),Sp=$c(Object,"create");function Ewe(){this.__data__=Sp?Sp(null):{},this.size=0}function xwe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Swe="__lodash_hash_undefined__",Cwe=Object.prototype,Twe=Cwe.hasOwnProperty;function Iwe(t){var e=this.__data__;if(Sp){var n=e[t];return n===Swe?void 0:n}return Twe.call(e,t)?e[t]:void 0}var Rwe=Object.prototype,Pwe=Rwe.hasOwnProperty;function kwe(t){var e=this.__data__;return Sp?e[t]!==void 0:Pwe.call(e,t)}var Awe="__lodash_hash_undefined__";function Owe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Sp&&e===void 0?Awe:e,this}function Ec(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ec.prototype.clear=Ewe;Ec.prototype.delete=xwe;Ec.prototype.get=Iwe;Ec.prototype.has=kwe;Ec.prototype.set=Owe;function Nwe(){this.size=0,this.__data__={hash:new Ec,map:new(xp||ga),string:new Ec}}function Mwe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function M_(t,e){var n=t.__data__;return Mwe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function $we(t){var e=M_(this,t).delete(t);return this.size-=e?1:0,e}function Dwe(t){return M_(this,t).get(t)}function Lwe(t){return M_(this,t).has(t)}function Fwe(t,e){var n=M_(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ma(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ma.prototype.clear=Nwe;ma.prototype.delete=$we;ma.prototype.get=Dwe;ma.prototype.has=Lwe;ma.prototype.set=Fwe;var Bwe=200;function Vwe(t,e){var n=this.__data__;if(n instanceof ga){var r=n.__data__;if(!xp||r.length<Bwe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ma(r)}return n.set(t,e),this.size=n.size,this}function _s(t){var e=this.__data__=new ga(t);this.size=e.size}_s.prototype.clear=qbe;_s.prototype.delete=Kbe;_s.prototype.get=Ybe;_s.prototype.has=Xbe;_s.prototype.set=Vwe;var Sv=function(){try{var t=$c(Object,"defineProperty");return t({},"",{}),t}catch{}}();function BT(t,e,n){e=="__proto__"&&Sv?Sv(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Lx(t,e,n){(n!==void 0&&!_g(t[e],n)||n===void 0&&!(e in t))&&BT(t,e,n)}function Uwe(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[++i];if(n(o[l],l,o)===!1)break}return e}}var tB=Uwe(),nB=typeof zi=="object"&&zi&&!zi.nodeType&&zi,u2=nB&&typeof Wi=="object"&&Wi&&!Wi.nodeType&&Wi,jwe=u2&&u2.exports===nB,d2=jwe?Zo.Buffer:void 0;d2&&d2.allocUnsafe;function zwe(t,e){return t.slice()}var Cv=Zo.Uint8Array;function Wwe(t){var e=new t.constructor(t.byteLength);return new Cv(e).set(new Cv(t)),e}function Hwe(t,e){var n=Wwe(t.buffer);return new t.constructor(n,t.byteOffset,t.length)}function Gwe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var f2=Object.create,qwe=function(){function t(){}return function(e){if(!xo(e))return{};if(f2)return f2(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function rB(t,e){return function(n){return t(e(n))}}var iB=rB(Object.getPrototypeOf,Object),Kwe=Object.prototype;function VT(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Kwe;return t===n}function Ywe(t){return typeof t.constructor=="function"&&!VT(t)?qwe(iB(t)):{}}function _l(t){return t!=null&&typeof t=="object"}var Xwe="[object Arguments]";function h2(t){return _l(t)&&Nc(t)==Xwe}var oB=Object.prototype,Qwe=oB.hasOwnProperty,Jwe=oB.propertyIsEnumerable,Tv=h2(function(){return arguments}())?h2:function(t){return _l(t)&&Qwe.call(t,"callee")&&!Jwe.call(t,"callee")},Qi=Array.isArray,Zwe=9007199254740991;function UT(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Zwe}function ff(t){return t!=null&&UT(t.length)&&!FT(t)}function eEe(t){return _l(t)&&ff(t)}function tEe(){return!1}var sB=typeof zi=="object"&&zi&&!zi.nodeType&&zi,p2=sB&&typeof Wi=="object"&&Wi&&!Wi.nodeType&&Wi,nEe=p2&&p2.exports===sB,g2=nEe?Zo.Buffer:void 0,rEe=g2?g2.isBuffer:void 0,Iv=rEe||tEe,iEe="[object Object]",oEe=Function.prototype,sEe=Object.prototype,aB=oEe.toString,aEe=sEe.hasOwnProperty,lEe=aB.call(Object);function cEe(t){if(!_l(t)||Nc(t)!=iEe)return!1;var e=iB(t);if(e===null)return!0;var n=aEe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&aB.call(n)==lEe}var uEe="[object Arguments]",dEe="[object Array]",fEe="[object Boolean]",hEe="[object Date]",pEe="[object Error]",gEe="[object Function]",mEe="[object Map]",yEe="[object Number]",vEe="[object Object]",_Ee="[object RegExp]",bEe="[object Set]",wEe="[object String]",EEe="[object WeakMap]",xEe="[object ArrayBuffer]",SEe="[object DataView]",CEe="[object Float32Array]",TEe="[object Float64Array]",IEe="[object Int8Array]",REe="[object Int16Array]",PEe="[object Int32Array]",kEe="[object Uint8Array]",AEe="[object Uint8ClampedArray]",OEe="[object Uint16Array]",NEe="[object Uint32Array]",fn={};fn[CEe]=fn[TEe]=fn[IEe]=fn[REe]=fn[PEe]=fn[kEe]=fn[AEe]=fn[OEe]=fn[NEe]=!0;fn[uEe]=fn[dEe]=fn[xEe]=fn[fEe]=fn[SEe]=fn[hEe]=fn[pEe]=fn[gEe]=fn[mEe]=fn[yEe]=fn[vEe]=fn[_Ee]=fn[bEe]=fn[wEe]=fn[EEe]=!1;function MEe(t){return _l(t)&&UT(t.length)&&!!fn[Nc(t)]}function $Ee(t){return function(e){return t(e)}}var lB=typeof zi=="object"&&zi&&!zi.nodeType&&zi,Mh=lB&&typeof Wi=="object"&&Wi&&!Wi.nodeType&&Wi,DEe=Mh&&Mh.exports===lB,gw=DEe&&Z3.process,m2=function(){try{var t=Mh&&Mh.require&&Mh.require("util").types;return t||gw&&gw.binding&&gw.binding("util")}catch{}}(),y2=m2&&m2.isTypedArray,jT=y2?$Ee(y2):MEe;function Fx(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var LEe=Object.prototype,FEe=LEe.hasOwnProperty;function BEe(t,e,n){var r=t[e];(!(FEe.call(t,e)&&_g(r,n))||n===void 0&&!(e in t))&&BT(t,e,n)}function VEe(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=void 0;l===void 0&&(l=t[a]),i?BT(n,a,l):BEe(n,a,l)}return n}function UEe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var jEe=9007199254740991,zEe=/^(?:0|[1-9]\d*)$/;function zT(t,e){var n=typeof t;return e=e??jEe,!!e&&(n=="number"||n!="symbol"&&zEe.test(t))&&t>-1&&t%1==0&&t<e}var WEe=Object.prototype,HEe=WEe.hasOwnProperty;function cB(t,e){var n=Qi(t),r=!n&&Tv(t),i=!n&&!r&&Iv(t),o=!n&&!r&&!i&&jT(t),s=n||r||i||o,a=s?UEe(t.length,String):[],l=a.length;for(var c in t)(e||HEe.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||zT(c,l)))&&a.push(c);return a}function GEe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var qEe=Object.prototype,KEe=qEe.hasOwnProperty;function YEe(t){if(!xo(t))return GEe(t);var e=VT(t),n=[];for(var r in t)r=="constructor"&&(e||!KEe.call(t,r))||n.push(r);return n}function uB(t){return ff(t)?cB(t,!0):YEe(t)}function XEe(t){return VEe(t,uB(t))}function QEe(t,e,n,r,i,o,s){var a=Fx(t,n),l=Fx(e,n),c=s.get(l);if(c){Lx(t,n,c);return}var u=o?o(a,l,n+"",t,e,s):void 0,f=u===void 0;if(f){var h=Qi(l),p=!h&&Iv(l),g=!h&&!p&&jT(l);u=l,h||p||g?Qi(a)?u=a:eEe(a)?u=Gwe(a):p?(f=!1,u=zwe(l)):g?(f=!1,u=Hwe(l)):u=[]:cEe(l)||Tv(l)?(u=a,Tv(a)?u=XEe(a):(!xo(a)||FT(a))&&(u=Ywe(l))):f=!1}f&&(s.set(l,u),i(u,l,r,o,s),s.delete(l)),Lx(t,n,u)}function dB(t,e,n,r,i){t!==e&&tB(e,function(o,s){if(i||(i=new _s),xo(o))QEe(t,e,s,n,dB,r,i);else{var a=r?r(Fx(t,s),o,s+"",t,e,i):void 0;a===void 0&&(a=o),Lx(t,s,a)}},uB)}function $_(t){return t}function JEe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var v2=Math.max;function ZEe(t,e,n){return e=v2(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=v2(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),JEe(t,this,a)}}function exe(t){return function(){return t}}var txe=Sv?function(t,e){return Sv(t,"toString",{configurable:!0,enumerable:!1,value:exe(e),writable:!0})}:$_,nxe=800,rxe=16,ixe=Date.now;function oxe(t){var e=0,n=0;return function(){var r=ixe(),i=rxe-(r-n);if(n=r,i>0){if(++e>=nxe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var sxe=oxe(txe);function axe(t,e){return sxe(ZEe(t,e,$_),t+"")}function lxe(t,e,n){if(!xo(n))return!1;var r=typeof e;return(r=="number"?ff(n)&&zT(e,n.length):r=="string"&&e in n)?_g(n[e],t):!1}function cxe(t){return axe(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&lxe(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}var Ii=cxe(function(t,e,n){dB(t,e,n)}),bg=function(e){var n=e.zDepth,r=e.radius,i=e.background,o=e.children,s=e.styles,a=s===void 0?{}:s,l=Ye(Ii({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return L.createElement("div",{style:l.wrap},L.createElement("div",{style:l.bg}),L.createElement("div",{style:l.content},o))};bg.propTypes={background:pe.string,zDepth:pe.oneOf([0,1,2,3,4,5]),radius:pe.number,styles:pe.object};bg.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var mw=function(){return Zo.Date.now()},uxe=/\s/;function dxe(t){for(var e=t.length;e--&&uxe.test(t.charAt(e)););return e}var fxe=/^\s+/;function hxe(t){return t&&t.slice(0,dxe(t)+1).replace(fxe,"")}var pxe="[object Symbol]";function D_(t){return typeof t=="symbol"||_l(t)&&Nc(t)==pxe}var _2=NaN,gxe=/^[-+]0x[0-9a-f]+$/i,mxe=/^0b[01]+$/i,yxe=/^0o[0-7]+$/i,vxe=parseInt;function b2(t){if(typeof t=="number")return t;if(D_(t))return _2;if(xo(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=xo(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=hxe(t);var n=mxe.test(t);return n||yxe.test(t)?vxe(t.slice(2),n?2:8):gxe.test(t)?_2:+t}var _xe="Expected a function",bxe=Math.max,wxe=Math.min;function fB(t,e,n){var r,i,o,s,a,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(_xe);e=b2(e)||0,xo(n)&&(u=!!n.leading,f="maxWait"in n,o=f?bxe(b2(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(N){var T=r,I=i;return r=i=void 0,c=N,s=t.apply(I,T),s}function g(N){return c=N,a=setTimeout(y,e),u?p(N):s}function E(N){var T=N-l,I=N-c,R=e-T;return f?wxe(R,o-I):R}function x(N){var T=N-l,I=N-c;return l===void 0||T>=e||T<0||f&&I>=o}function y(){var N=mw();if(x(N))return b(N);a=setTimeout(y,E(N))}function b(N){return a=void 0,h&&r?p(N):(r=i=void 0,s)}function _(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function S(){return a===void 0?s:b(mw())}function O(){var N=mw(),T=x(N);if(r=arguments,i=this,l=N,T){if(a===void 0)return g(l);if(f)return clearTimeout(a),a=setTimeout(y,e),p(l)}return a===void 0&&(a=setTimeout(y,e)),s}return O.cancel=_,O.flush=S,O}var Exe="Expected a function";function xxe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Exe);return xo(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),fB(t,e,{leading:r,maxWait:e,trailing:i})}var Sxe=function(e,n,r){var i=r.getBoundingClientRect(),o=i.width,s=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>o&&(c=o),u<0?u=0:u>s&&(u=s);var f=c/o,h=1-u/s;return{h:n.h,s:f,v:h,a:n.a,source:"hsv"}},Cxe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Txe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ixe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Rxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var L_=function(t){Rxe(e,t);function e(n){Txe(this,e);var r=Ixe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,Sxe(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=xxe(function(i,o,s){i(o,s)},50),r}return Cxe(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,s=i.white,a=i.black,l=i.pointer,c=i.circle,u=Ye({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:s,black:a,pointer:l,circle:c}},{custom:!!this.props.style});return L.createElement("div",{style:u.color,ref:function(h){return r.container=h},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},L.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),L.createElement("div",{style:u.white,className:"saturation-white"},L.createElement("div",{style:u.black,className:"saturation-black"}),L.createElement("div",{style:u.pointer},this.props.pointer?L.createElement(this.props.pointer,this.props):L.createElement("div",{style:u.circle}))))}}]),e}(w.PureComponent||w.Component);function Pxe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var kxe=rB(Object.keys,Object),Axe=Object.prototype,Oxe=Axe.hasOwnProperty;function Nxe(t){if(!VT(t))return kxe(t);var e=[];for(var n in Object(t))Oxe.call(t,n)&&n!="constructor"&&e.push(n);return e}function WT(t){return ff(t)?cB(t):Nxe(t)}function Mxe(t,e){return t&&tB(t,e,WT)}function $xe(t,e){return function(n,r){if(n==null)return n;if(!ff(n))return t(n,r);for(var i=n.length,o=-1,s=Object(n);++o<i&&r(s[o],o,s)!==!1;);return n}}var hB=$xe(Mxe);function Dxe(t){return typeof t=="function"?t:$_}function Lxe(t,e){var n=Qi(t)?Pxe:hB;return n(t,Dxe(e))}function Rv(t){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rv(t)}var Fxe=/^\s+/,Bxe=/\s+$/;function Me(t,e){if(t=t||"",e=e||{},t instanceof Me)return t;if(!(this instanceof Me))return new Me(t,e);var n=Vxe(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Me.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,o,s,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*s+.0722*a},setAlpha:function(e){return this._a=pB(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=E2(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=E2(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=w2(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=w2(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return x2(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return Wxe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(bn(this._r,255)*100)+"%",g:Math.round(bn(this._g,255)*100)+"%",b:Math.round(bn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(bn(this._r,255)*100)+"%, "+Math.round(bn(this._g,255)*100)+"%, "+Math.round(bn(this._b,255)*100)+"%)":"rgba("+Math.round(bn(this._r,255)*100)+"%, "+Math.round(bn(this._g,255)*100)+"%, "+Math.round(bn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:nSe[x2(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+S2(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var o=Me(e);r="#"+S2(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Me(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(Kxe,arguments)},brighten:function(){return this._applyModification(Yxe,arguments)},darken:function(){return this._applyModification(Xxe,arguments)},desaturate:function(){return this._applyModification(Hxe,arguments)},saturate:function(){return this._applyModification(Gxe,arguments)},greyscale:function(){return this._applyModification(qxe,arguments)},spin:function(){return this._applyModification(Qxe,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(eSe,arguments)},complement:function(){return this._applyCombination(Jxe,arguments)},monochromatic:function(){return this._applyCombination(tSe,arguments)},splitcomplement:function(){return this._applyCombination(Zxe,arguments)},triad:function(){return this._applyCombination(C2,[3])},tetrad:function(){return this._applyCombination(C2,[4])}};Me.fromRatio=function(t,e){if(Rv(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=ih(t[r]));t=n}return Me(t,e)};function Vxe(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=sSe(t)),Rv(t)=="object"&&($s(t.r)&&$s(t.g)&&$s(t.b)?(e=Uxe(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):$s(t.h)&&$s(t.s)&&$s(t.v)?(r=ih(t.s),i=ih(t.v),e=zxe(t.h,r,i),s=!0,a="hsv"):$s(t.h)&&$s(t.s)&&$s(t.l)&&(r=ih(t.s),o=ih(t.l),e=jxe(t.h,r,o),s=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=pB(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function Uxe(t,e,n){return{r:bn(t,255)*255,g:bn(e,255)*255,b:bn(n,255)*255}}function w2(t,e,n){t=bn(t,255),e=bn(e,255),n=bn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=(r+i)/2;if(r==i)o=s=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,l:a}}function jxe(t,e,n){var r,i,o;t=bn(t,360),e=bn(e,100),n=bn(n,100);function s(c,u,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?c+(u-c)*6*f:f<1/2?u:f<2/3?c+(u-c)*(2/3-f)*6:c}if(e===0)r=i=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=s(l,a,t+1/3),i=s(l,a,t),o=s(l,a,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function E2(t,e,n){t=bn(t,255),e=bn(e,255),n=bn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=r,l=r-i;if(s=r===0?0:l/r,r==i)o=0;else{switch(r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,v:a}}function zxe(t,e,n){t=bn(t,360)*6,e=bn(e,100),n=bn(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,c=[n,s,o,o,a,n][l],u=[a,n,n,s,o,o][l],f=[o,o,a,n,n,s][l];return{r:c*255,g:u*255,b:f*255}}function x2(t,e,n,r){var i=[jo(Math.round(t).toString(16)),jo(Math.round(e).toString(16)),jo(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Wxe(t,e,n,r,i){var o=[jo(Math.round(t).toString(16)),jo(Math.round(e).toString(16)),jo(Math.round(n).toString(16)),jo(gB(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function S2(t,e,n,r){var i=[jo(gB(r)),jo(Math.round(t).toString(16)),jo(Math.round(e).toString(16)),jo(Math.round(n).toString(16))];return i.join("")}Me.equals=function(t,e){return!t||!e?!1:Me(t).toRgbString()==Me(e).toRgbString()};Me.random=function(){return Me.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Hxe(t,e){e=e===0?0:e||10;var n=Me(t).toHsl();return n.s-=e/100,n.s=F_(n.s),Me(n)}function Gxe(t,e){e=e===0?0:e||10;var n=Me(t).toHsl();return n.s+=e/100,n.s=F_(n.s),Me(n)}function qxe(t){return Me(t).desaturate(100)}function Kxe(t,e){e=e===0?0:e||10;var n=Me(t).toHsl();return n.l+=e/100,n.l=F_(n.l),Me(n)}function Yxe(t,e){e=e===0?0:e||10;var n=Me(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Me(n)}function Xxe(t,e){e=e===0?0:e||10;var n=Me(t).toHsl();return n.l-=e/100,n.l=F_(n.l),Me(n)}function Qxe(t,e){var n=Me(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Me(n)}function Jxe(t){var e=Me(t).toHsl();return e.h=(e.h+180)%360,Me(e)}function C2(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Me(t).toHsl(),r=[Me(t)],i=360/e,o=1;o<e;o++)r.push(Me({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function Zxe(t){var e=Me(t).toHsl(),n=e.h;return[Me(t),Me({h:(n+72)%360,s:e.s,l:e.l}),Me({h:(n+216)%360,s:e.s,l:e.l})]}function eSe(t,e,n){e=e||6,n=n||30;var r=Me(t).toHsl(),i=360/n,o=[Me(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(Me(r));return o}function tSe(t,e){e=e||6;for(var n=Me(t).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;e--;)s.push(Me({h:r,s:i,v:o})),o=(o+a)%1;return s}Me.mix=function(t,e,n){n=n===0?0:n||50;var r=Me(t).toRgb(),i=Me(e).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return Me(s)};Me.readability=function(t,e){var n=Me(t),r=Me(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Me.isReadable=function(t,e,n){var r=Me.readability(t,e),i,o;switch(o=!1,i=aSe(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};Me.mostReadable=function(t,e,n){var r=null,i=0,o,s,a,l;n=n||{},s=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<e.length;c++)o=Me.readability(t,e[c]),o>i&&(i=o,r=Me(e[c]));return Me.isReadable(t,r,{level:a,size:l})||!s?r:(n.includeFallbackColors=!1,Me.mostReadable(t,["#fff","#000"],n))};var Bx=Me.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},nSe=Me.hexNames=rSe(Bx);function rSe(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function pB(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function bn(t,e){iSe(t)&&(t="100%");var n=oSe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function F_(t){return Math.min(1,Math.max(0,t))}function Oi(t){return parseInt(t,16)}function iSe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function oSe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function jo(t){return t.length==1?"0"+t:""+t}function ih(t){return t<=1&&(t=t*100+"%"),t}function gB(t){return Math.round(parseFloat(t)*255).toString(16)}function T2(t){return Oi(t)/255}var Mo=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function $s(t){return!!Mo.CSS_UNIT.exec(t)}function sSe(t){t=t.replace(Fxe,"").replace(Bxe,"").toLowerCase();var e=!1;if(Bx[t])t=Bx[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Mo.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Mo.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Mo.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Mo.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Mo.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Mo.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Mo.hex8.exec(t))?{r:Oi(n[1]),g:Oi(n[2]),b:Oi(n[3]),a:T2(n[4]),format:e?"name":"hex8"}:(n=Mo.hex6.exec(t))?{r:Oi(n[1]),g:Oi(n[2]),b:Oi(n[3]),format:e?"name":"hex"}:(n=Mo.hex4.exec(t))?{r:Oi(n[1]+""+n[1]),g:Oi(n[2]+""+n[2]),b:Oi(n[3]+""+n[3]),a:T2(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Mo.hex3.exec(t))?{r:Oi(n[1]+""+n[1]),g:Oi(n[2]+""+n[2]),b:Oi(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function aSe(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var I2=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return Lxe(n,function(o){if(e[o]&&(r+=1,isNaN(e[o])||(i+=1),o==="s"||o==="l")){var s=/^\d+%$/;s.test(e[o])&&(i+=1)}}),r===i?e:!1},oh=function(e,n){var r=e.hex?Me(e.hex):Me(e),i=r.toHsl(),o=r.toHsv(),s=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,o.h=n||0);var l=a==="000000"&&s.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:s,hsv:o,oldHue:e.h||n||i.h,source:e.source}},kl=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&Me(e).isValid()},HT=function(e){if(!e)return"#fff";var n=oh(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},yw=function(e,n){var r=e.replace("°","");return Me(n+" ("+r+")")._ok},zf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lSe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function cSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uSe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function dSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ri=function(e){var n=function(r){dSe(i,r);function i(o){cSe(this,i);var s=uSe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return s.handleChange=function(a,l){var c=I2(a);if(c){var u=oh(a,a.h||s.state.oldHue);s.setState(u),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,u,l),s.props.onChange&&s.props.onChange(u,l)}},s.handleSwatchHover=function(a,l){var c=I2(a);if(c){var u=oh(a,a.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(u,l)}},s.state=zf({},oh(o.color,0)),s.debounce=fB(function(a,l,c){a(l,c)},100),s}return lSe(i,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),L.createElement(e,zf({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return zf({},oh(s.color,a.oldHue))}}]),i}(w.PureComponent||w.Component);return n.propTypes=zf({},e.propTypes),n.defaultProps=zf({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},fSe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hSe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function pSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R2(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function gSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var mSe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){gSe(i,r);function i(){var o,s,a,l;pSe(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(s=(a=R2(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(u))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},s),R2(a,l)}return hSe(i,[{key:"render",value:function(){return L.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},L.createElement(e,fSe({},this.props,this.state)))}}]),i}(L.Component)},P2=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ySe=13,vSe=function(e){var n=e.color,r=e.style,i=e.onClick,o=i===void 0?function(){}:i,s=e.onHover,a=e.title,l=a===void 0?n:a,c=e.children,u=e.focus,f=e.focusStyle,h=f===void 0?{}:f,p=n==="transparent",g=Ye({default:{swatch:P2({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,u?h:{})}}),E=function(S){return o(n,S)},x=function(S){return S.keyCode===ySe&&o(n,S)},y=function(S){return s(n,S)},b={};return s&&(b.onMouseOver=y),L.createElement("div",P2({style:g.swatch,onClick:E,title:l,tabIndex:0,onKeyDown:x},b),c,p&&L.createElement(uf,{borderRadius:g.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Dc=mSe(vSe);var _Se=function(e){var n=e.direction,r=Ye({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return L.createElement("div",{style:r.picker})},bSe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mB=function(e){var n=e.rgb,r=e.hsl,i=e.width,o=e.height,s=e.onChange,a=e.direction,l=e.style,c=e.renderers,u=e.pointer,f=e.className,h=f===void 0?"":f,p=Ye({default:{picker:{position:"relative",width:i,height:o},alpha:{radius:"2px",style:l}}});return L.createElement("div",{style:p.picker,className:"alpha-picker "+h},L.createElement(LT,bSe({},p.alpha,{rgb:n,hsl:r,pointer:u,renderers:c,onChange:s,direction:a})))};mB.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:_Se};Ri(mB);function yB(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var wSe="__lodash_hash_undefined__";function ESe(t){return this.__data__.set(t,wSe),this}function xSe(t){return this.__data__.has(t)}function Pv(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ma;++e<n;)this.add(t[e])}Pv.prototype.add=Pv.prototype.push=ESe;Pv.prototype.has=xSe;function SSe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function CSe(t,e){return t.has(e)}var TSe=1,ISe=2;function vB(t,e,n,r,i,o){var s=n&TSe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=n&ISe?new Pv:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var g=t[f],E=e[f];if(r)var x=s?r(E,g,f,e,t,o):r(g,E,f,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!SSe(e,function(y,b){if(!CSe(p,b)&&(g===y||i(g,y,n,r,o)))return p.push(b)})){h=!1;break}}else if(!(g===E||i(g,E,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}function RSe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function PSe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var kSe=1,ASe=2,OSe="[object Boolean]",NSe="[object Date]",MSe="[object Error]",$Se="[object Map]",DSe="[object Number]",LSe="[object RegExp]",FSe="[object Set]",BSe="[object String]",VSe="[object Symbol]",USe="[object ArrayBuffer]",jSe="[object DataView]",k2=vl?vl.prototype:void 0,vw=k2?k2.valueOf:void 0;function zSe(t,e,n,r,i,o,s){switch(n){case jSe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case USe:return!(t.byteLength!=e.byteLength||!o(new Cv(t),new Cv(e)));case OSe:case NSe:case DSe:return _g(+t,+e);case MSe:return t.name==e.name&&t.message==e.message;case LSe:case BSe:return t==e+"";case $Se:var a=RSe;case FSe:var l=r&kSe;if(a||(a=PSe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=ASe,s.set(t,e);var u=vB(a(t),a(e),r,i,o,s);return s.delete(t),u;case VSe:if(vw)return vw.call(t)==vw.call(e)}return!1}function WSe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function HSe(t,e,n){var r=e(t);return Qi(t)?r:WSe(r,n(t))}function GSe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function qSe(){return[]}var KSe=Object.prototype,YSe=KSe.propertyIsEnumerable,A2=Object.getOwnPropertySymbols,XSe=A2?function(t){return t==null?[]:(t=Object(t),GSe(A2(t),function(e){return YSe.call(t,e)}))}:qSe;function O2(t){return HSe(t,WT,XSe)}var QSe=1,JSe=Object.prototype,ZSe=JSe.hasOwnProperty;function eCe(t,e,n,r,i,o){var s=n&QSe,a=O2(t),l=a.length,c=O2(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:ZSe.call(e,h)))return!1}var p=o.get(t),g=o.get(e);if(p&&g)return p==e&&g==t;var E=!0;o.set(t,e),o.set(e,t);for(var x=s;++f<l;){h=a[f];var y=t[h],b=e[h];if(r)var _=s?r(b,y,h,e,t,o):r(y,b,h,t,e,o);if(!(_===void 0?y===b||i(y,b,n,r,o):_)){E=!1;break}x||(x=h=="constructor")}if(E&&!x){var S=t.constructor,O=e.constructor;S!=O&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof O=="function"&&O instanceof O)&&(E=!1)}return o.delete(t),o.delete(e),E}var Vx=$c(Zo,"DataView"),Ux=$c(Zo,"Promise"),jx=$c(Zo,"Set"),zx=$c(Zo,"WeakMap"),N2="[object Map]",tCe="[object Object]",M2="[object Promise]",$2="[object Set]",D2="[object WeakMap]",L2="[object DataView]",nCe=Mc(Vx),rCe=Mc(xp),iCe=Mc(Ux),oCe=Mc(jx),sCe=Mc(zx),Pa=Nc;(Vx&&Pa(new Vx(new ArrayBuffer(1)))!=L2||xp&&Pa(new xp)!=N2||Ux&&Pa(Ux.resolve())!=M2||jx&&Pa(new jx)!=$2||zx&&Pa(new zx)!=D2)&&(Pa=function(t){var e=Nc(t),n=e==tCe?t.constructor:void 0,r=n?Mc(n):"";if(r)switch(r){case nCe:return L2;case rCe:return N2;case iCe:return M2;case oCe:return $2;case sCe:return D2}return e});var aCe=1,F2="[object Arguments]",B2="[object Array]",_m="[object Object]",lCe=Object.prototype,V2=lCe.hasOwnProperty;function cCe(t,e,n,r,i,o){var s=Qi(t),a=Qi(e),l=s?B2:Pa(t),c=a?B2:Pa(e);l=l==F2?_m:l,c=c==F2?_m:c;var u=l==_m,f=c==_m,h=l==c;if(h&&Iv(t)){if(!Iv(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new _s),s||jT(t)?vB(t,e,n,r,i,o):zSe(t,e,l,n,r,i,o);if(!(n&aCe)){var p=u&&V2.call(t,"__wrapped__"),g=f&&V2.call(e,"__wrapped__");if(p||g){var E=p?t.value():t,x=g?e.value():e;return o||(o=new _s),i(E,x,n,r,o)}}return h?(o||(o=new _s),eCe(t,e,n,r,i,o)):!1}function GT(t,e,n,r,i){return t===e?!0:t==null||e==null||!_l(t)&&!_l(e)?t!==t&&e!==e:cCe(t,e,n,r,GT,i)}var uCe=1,dCe=2;function fCe(t,e,n,r){var i=n.length,o=i;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var a=s[0],l=t[a],c=s[1];if(s[2]){if(l===void 0&&!(a in t))return!1}else{var u=new _s,f;if(!(f===void 0?GT(c,l,uCe|dCe,r,u):f))return!1}}return!0}function _B(t){return t===t&&!xo(t)}function hCe(t){for(var e=WT(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,_B(i)]}return e}function bB(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function pCe(t){var e=hCe(t);return e.length==1&&e[0][2]?bB(e[0][0],e[0][1]):function(n){return n===t||fCe(n,t,e)}}var gCe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mCe=/^\w*$/;function qT(t,e){if(Qi(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||D_(t)?!0:mCe.test(t)||!gCe.test(t)||e!=null&&t in Object(e)}var yCe="Expected a function";function KT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(yCe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(KT.Cache||ma),n}KT.Cache=ma;var vCe=500;function _Ce(t){var e=KT(t,function(r){return n.size===vCe&&n.clear(),r}),n=e.cache;return e}var bCe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wCe=/\\(\\)?/g,ECe=_Ce(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(bCe,function(n,r,i,o){e.push(i?o.replace(wCe,"$1"):r||n)}),e}),U2=vl?vl.prototype:void 0,j2=U2?U2.toString:void 0;function wB(t){if(typeof t=="string")return t;if(Qi(t))return yB(t,wB)+"";if(D_(t))return j2?j2.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function xCe(t){return t==null?"":wB(t)}function EB(t,e){return Qi(t)?t:qT(t,e)?[t]:ECe(xCe(t))}function B_(t){if(typeof t=="string"||D_(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function xB(t,e){e=EB(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[B_(e[n++])];return n&&n==r?t:void 0}function SCe(t,e,n){var r=t==null?void 0:xB(t,e);return r===void 0?n:r}function CCe(t,e){return t!=null&&e in Object(t)}function TCe(t,e,n){e=EB(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=B_(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&UT(i)&&zT(s,i)&&(Qi(t)||Tv(t)))}function ICe(t,e){return t!=null&&TCe(t,e,CCe)}var RCe=1,PCe=2;function kCe(t,e){return qT(t)&&_B(e)?bB(B_(t),e):function(n){var r=SCe(n,t);return r===void 0&&r===e?ICe(n,t):GT(e,r,RCe|PCe)}}function ACe(t){return function(e){return e==null?void 0:e[t]}}function OCe(t){return function(e){return xB(e,t)}}function NCe(t){return qT(t)?ACe(B_(t)):OCe(t)}function MCe(t){return typeof t=="function"?t:t==null?$_:typeof t=="object"?Qi(t)?kCe(t[0],t[1]):pCe(t):NCe(t)}function $Ce(t,e){var n=-1,r=ff(t)?Array(t.length):[];return hB(t,function(i,o,s){r[++n]=e(i,o,s)}),r}function Lc(t,e){var n=Qi(t)?yB:$Ce;return n(t,MCe(e))}var DCe=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,o=Ye({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return L.createElement("div",{style:o.swatches},Lc(n,function(s){return L.createElement(Dc,{key:s,color:s,style:o.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+s}})}),L.createElement("div",{style:o.clear}))},YT=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,h=i==="transparent",p=function(x,y){kl(x)&&n({hex:x,source:"hex"},y)},g=Ye(Ii({default:{card:{width:s,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:HT(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":a==="hide"});return L.createElement("div",{style:g.card,className:"block-picker "+f},L.createElement("div",{style:g.triangle}),L.createElement("div",{style:g.head},h&&L.createElement(uf,{borderRadius:"6px 6px 0 0"}),L.createElement("div",{style:g.label},i)),L.createElement("div",{style:g.body},L.createElement(DCe,{colors:o,onClick:p,onSwatchHover:r}),L.createElement(Pt,{style:{input:g.input},value:i,onChange:p})))};YT.propTypes={width:pe.oneOfType([pe.string,pe.number]),colors:pe.arrayOf(pe.string),triangle:pe.oneOf(["top","hide"]),styles:pe.object};YT.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Ri(YT);var fu={100:"#ffcdd2",300:"#e57373",500:"#f44336",700:"#d32f2f",900:"#b71c1c"},hu={100:"#f8bbd0",300:"#f06292",500:"#e91e63",700:"#c2185b",900:"#880e4f"},pu={100:"#e1bee7",300:"#ba68c8",500:"#9c27b0",700:"#7b1fa2",900:"#4a148c"},gu={100:"#d1c4e9",300:"#9575cd",500:"#673ab7",700:"#512da8",900:"#311b92"},mu={100:"#c5cae9",300:"#7986cb",500:"#3f51b5",700:"#303f9f",900:"#1a237e"},yu={100:"#bbdefb",300:"#64b5f6",500:"#2196f3",700:"#1976d2",900:"#0d47a1"},vu={100:"#b3e5fc",300:"#4fc3f7",500:"#03a9f4",700:"#0288d1",900:"#01579b"},_u={100:"#b2ebf2",300:"#4dd0e1",500:"#00bcd4",700:"#0097a7",900:"#006064"},bu={100:"#b2dfdb",300:"#4db6ac",500:"#009688",700:"#00796b",900:"#004d40"},sh={100:"#c8e6c9",300:"#81c784",500:"#4caf50",700:"#388e3c"},wu={100:"#dcedc8",300:"#aed581",500:"#8bc34a",700:"#689f38",900:"#33691e"},Eu={100:"#f0f4c3",300:"#dce775",500:"#cddc39",700:"#afb42b",900:"#827717"},xu={100:"#fff9c4",300:"#fff176",500:"#ffeb3b",700:"#fbc02d",900:"#f57f17"},Su={100:"#ffecb3",300:"#ffd54f",500:"#ffc107",700:"#ffa000",900:"#ff6f00"},Cu={100:"#ffe0b2",300:"#ffb74d",500:"#ff9800",700:"#f57c00",900:"#e65100"},Tu={100:"#ffccbc",300:"#ff8a65",500:"#ff5722",700:"#e64a19",900:"#bf360c"},Iu={100:"#d7ccc8",300:"#a1887f",500:"#795548",700:"#5d4037",900:"#3e2723"},Ru={100:"#cfd8dc",300:"#90a4ae",500:"#607d8b",700:"#455a64",900:"#263238"},SB=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,o=e.hover,s=e.active,a=e.circleSize,l=e.circleSpacing,c=Ye({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:o,active:s});return L.createElement("div",{style:c.swatch},L.createElement(Dc,{style:c.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+n}}))};SB.defaultProps={circleSize:28,circleSpacing:14};const LCe=DT(SB);var XT=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,o=e.colors,s=e.hex,a=e.circleSize,l=e.styles,c=l===void 0?{}:l,u=e.circleSpacing,f=e.className,h=f===void 0?"":f,p=Ye(Ii({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},c)),g=function(x,y){return r({hex:x,source:"hex"},y)};return L.createElement("div",{style:p.card,className:"circle-picker "+h},Lc(o,function(E){return L.createElement(LCe,{key:E,color:E,onClick:g,onSwatchHover:i,active:s===E.toLowerCase(),circleSize:a,circleSpacing:u})}))};XT.propTypes={width:pe.oneOfType([pe.string,pe.number]),circleSize:pe.number,circleSpacing:pe.number,styles:pe.object};XT.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[fu[500],hu[500],pu[500],gu[500],mu[500],yu[500],vu[500],_u[500],bu[500],sh[500],wu[500],Eu[500],xu[500],Su[500],Cu[500],Tu[500],Iu[500],Ru[500]],styles:{}};Ri(XT);function z2(t){return t===void 0}var CB={};Object.defineProperty(CB,"__esModule",{value:!0});var W2=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FCe=w,H2=BCe(FCe);function BCe(t){return t&&t.__esModule?t:{default:t}}function VCe(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var bm=24,UCe=CB.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?bm:r,o=t.height,s=o===void 0?bm:o,a=t.style,l=a===void 0?{}:a,c=VCe(t,["fill","width","height","style"]);return H2.default.createElement("svg",W2({viewBox:"0 0 "+bm+" "+bm,style:W2({fill:n,width:i,height:s},l)},c),H2.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},jCe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function zCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WCe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function HCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var TB=function(t){HCe(e,t);function e(n){zCe(this,e);var r=WCe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?kl(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(z2(i.s)?r.props.hsl.s:i.s),l:Number(z2(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return jCe(e,[{key:"render",value:function(){var r=this,i=Ye({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=L.createElement("div",{style:i.fields,className:"flexbox-fix"},L.createElement("div",{style:i.field},L.createElement(Pt,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=L.createElement("div",{style:i.fields,className:"flexbox-fix"},L.createElement("div",{style:i.field},L.createElement(Pt,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),L.createElement("div",{style:i.field},L.createElement(Pt,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),L.createElement("div",{style:i.field},L.createElement(Pt,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),L.createElement("div",{style:i.alpha},L.createElement(Pt,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=L.createElement("div",{style:i.fields,className:"flexbox-fix"},L.createElement("div",{style:i.field},L.createElement(Pt,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),L.createElement("div",{style:i.field},L.createElement(Pt,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),L.createElement("div",{style:i.field},L.createElement(Pt,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),L.createElement("div",{style:i.alpha},L.createElement(Pt,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),L.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,L.createElement("div",{style:i.toggle},L.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},L.createElement(UCe,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(L.Component);TB.defaultProps={view:"hex"};var G2=function(){var e=Ye({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return L.createElement("div",{style:e.picker})},GCe=function(){var e=Ye({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return L.createElement("div",{style:e.picker})},QT=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,o=e.rgb,s=e.hsl,a=e.hsv,l=e.hex,c=e.renderers,u=e.styles,f=u===void 0?{}:u,h=e.className,p=h===void 0?"":h,g=e.defaultView,E=Ye(Ii({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},f),{disableAlpha:i});return L.createElement("div",{style:E.picker,className:"chrome-picker "+p},L.createElement("div",{style:E.saturation},L.createElement(L_,{style:E.Saturation,hsl:s,hsv:a,pointer:GCe,onChange:r})),L.createElement("div",{style:E.body},L.createElement("div",{style:E.controls,className:"flexbox-fix"},L.createElement("div",{style:E.color},L.createElement("div",{style:E.swatch},L.createElement("div",{style:E.active}),L.createElement(uf,{renderers:c}))),L.createElement("div",{style:E.toggles},L.createElement("div",{style:E.hue},L.createElement(df,{style:E.Hue,hsl:s,pointer:G2,onChange:r})),L.createElement("div",{style:E.alpha},L.createElement(LT,{style:E.Alpha,rgb:o,hsl:s,pointer:G2,renderers:c,onChange:r})))),L.createElement(TB,{rgb:o,hsl:s,hex:l,view:g,onChange:r,disableAlpha:i})))};QT.propTypes={width:pe.oneOfType([pe.string,pe.number]),disableAlpha:pe.bool,styles:pe.object,defaultView:pe.oneOf(["hex","rgb","hsl"])};QT.defaultProps={width:225,disableAlpha:!1,styles:{}};Ri(QT);var qCe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.active,a=Ye({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:HT(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:s,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return L.createElement(Dc,{style:a.color,color:n,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},L.createElement("div",{style:a.dot}))},KCe=function(e){var n=e.hex,r=e.rgb,i=e.onChange,o=Ye({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),s=function(l,c){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},c):i({hex:l.hex,source:"hex"},c)};return L.createElement("div",{style:o.fields,className:"flexbox-fix"},L.createElement("div",{style:o.active}),L.createElement(Pt,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:n,onChange:s}),L.createElement(Pt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:s}),L.createElement(Pt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:s}),L.createElement(Pt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:s}))},JT=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,o=e.hex,s=e.rgb,a=e.styles,l=a===void 0?{}:a,c=e.className,u=c===void 0?"":c,f=Ye(Ii({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),h=function(g,E){g.hex?kl(g.hex)&&n({hex:g.hex,source:"hex"},E):n(g,E)};return L.createElement(bg,{style:f.Compact,styles:l},L.createElement("div",{style:f.compact,className:"compact-picker "+u},L.createElement("div",null,Lc(i,function(p){return L.createElement(qCe,{key:p,color:p,active:p.toLowerCase()===o,onClick:h,onSwatchHover:r})}),L.createElement("div",{style:f.clear})),L.createElement(KCe,{hex:o,rgb:s,onChange:h})))};JT.propTypes={colors:pe.arrayOf(pe.string),styles:pe.object};JT.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Ri(JT);var YCe=function(e){var n=e.hover,r=e.color,i=e.onClick,o=e.onSwatchHover,s={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=Ye({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:s}},{hover:n});return L.createElement("div",{style:a.swatch},L.createElement(Dc,{color:r,onClick:i,onHover:o,focusStyle:s}))};const XCe=DT(YCe);var ZT=function(e){var n=e.width,r=e.colors,i=e.onChange,o=e.onSwatchHover,s=e.triangle,a=e.styles,l=a===void 0?{}:a,c=e.className,u=c===void 0?"":c,f=Ye(Ii({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right","bottom-left-triangle":s==="bottom-left","bottom-right-triangle":s==="bottom-right"}),h=function(g,E){return i({hex:g,source:"hex"},E)};return L.createElement("div",{style:f.card,className:"github-picker "+u},L.createElement("div",{style:f.triangleShadow}),L.createElement("div",{style:f.triangle}),Lc(r,function(p){return L.createElement(XCe,{color:p,key:p,onClick:h,onSwatchHover:o})}))};ZT.propTypes={width:pe.oneOfType([pe.string,pe.number]),colors:pe.arrayOf(pe.string),triangle:pe.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:pe.object};ZT.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Ri(ZT);var QCe=function(e){var n=e.direction,r=Ye({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return L.createElement("div",{style:r.picker})},JCe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eI=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.hsl,s=e.direction,a=e.pointer,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,h=Ye(Ii({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},c)),p=function(E){return i({a:1,h:E.h,l:.5,s:1})};return L.createElement("div",{style:h.picker,className:"hue-picker "+f},L.createElement(df,JCe({},h.hue,{hsl:o,pointer:a,onChange:p,direction:s})))};eI.propTypes={styles:pe.object};eI.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:QCe,styles:{}};Ri(eI);var ZCe=function(e){var n=e.onChange,r=e.hex,i=e.rgb,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,c=Ye(Ii({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},s)),u=function(h,p){h.hex?kl(h.hex)&&n({hex:h.hex,source:"hex"},p):(h.r||h.g||h.b)&&n({r:h.r||i.r,g:h.g||i.g,b:h.b||i.b,source:"rgb"},p)};return L.createElement(bg,{styles:s},L.createElement("div",{style:c.material,className:"material-picker "+l},L.createElement(Pt,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:r,onChange:u}),L.createElement("div",{style:c.split,className:"flexbox-fix"},L.createElement("div",{style:c.third},L.createElement(Pt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:i.r,onChange:u})),L.createElement("div",{style:c.third},L.createElement(Pt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:i.g,onChange:u})),L.createElement("div",{style:c.third},L.createElement(Pt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:i.b,onChange:u})))))};Ri(ZCe);var e1e=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,o=e.hex,s=Ye({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(c,u){c["#"]?kl(c["#"])&&n({hex:c["#"],source:"hex"},u):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},u):(c.h||c.s||c.v)&&n({h:c.h||i.h,s:c.s||i.s,v:c.v||i.v,source:"hsv"},u)};return L.createElement("div",{style:s.fields},L.createElement(Pt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),L.createElement(Pt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),L.createElement(Pt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),L.createElement("div",{style:s.divider}),L.createElement(Pt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:a}),L.createElement(Pt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:a}),L.createElement(Pt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:a}),L.createElement("div",{style:s.divider}),L.createElement(Pt,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"#",value:o.replace("#",""),onChange:a}),L.createElement("div",{style:s.fieldSymbols},L.createElement("div",{style:s.symbol},"°"),L.createElement("div",{style:s.symbol},"%"),L.createElement("div",{style:s.symbol},"%")))},t1e=function(e){var n=e.hsl,r=Ye({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return L.createElement("div",{style:r.picker})},n1e=function(){var e=Ye({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return L.createElement("div",{style:e.pointer},L.createElement("div",{style:e.left},L.createElement("div",{style:e.leftInside})),L.createElement("div",{style:e.right},L.createElement("div",{style:e.rightInside})))},q2=function(e){var n=e.onClick,r=e.label,i=e.children,o=e.active,s=Ye({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return L.createElement("div",{style:s.button,onClick:n},r||i)},r1e=function(e){var n=e.rgb,r=e.currentColor,i=Ye({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return L.createElement("div",null,L.createElement("div",{style:i.label},"new"),L.createElement("div",{style:i.swatches},L.createElement("div",{style:i.new}),L.createElement("div",{style:i.current})),L.createElement("div",{style:i.label},"current"))},i1e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function o1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s1e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function a1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var tI=function(t){a1e(e,t);function e(n){o1e(this,e);var r=s1e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return i1e(e,[{key:"render",value:function(){var r=this.props,i=r.styles,o=i===void 0?{}:i,s=r.className,a=s===void 0?"":s,l=Ye(Ii({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},o));return L.createElement("div",{style:l.picker,className:"photoshop-picker "+a},L.createElement("div",{style:l.head},this.props.header),L.createElement("div",{style:l.body,className:"flexbox-fix"},L.createElement("div",{style:l.saturation},L.createElement(L_,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:t1e,onChange:this.props.onChange})),L.createElement("div",{style:l.hue},L.createElement(df,{direction:"vertical",hsl:this.props.hsl,pointer:n1e,onChange:this.props.onChange})),L.createElement("div",{style:l.controls},L.createElement("div",{style:l.top,className:"flexbox-fix"},L.createElement("div",{style:l.previews},L.createElement(r1e,{rgb:this.props.rgb,currentColor:this.state.currentColor})),L.createElement("div",{style:l.actions},L.createElement(q2,{label:"OK",onClick:this.props.onAccept,active:!0}),L.createElement(q2,{label:"Cancel",onClick:this.props.onCancel}),L.createElement(e1e,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(L.Component);tI.propTypes={header:pe.string,styles:pe.object};tI.defaultProps={header:"Color Picker",styles:{}};Ri(tI);var l1e=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.disableAlpha,a=Ye({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:s}),l=function(u,f){u.hex?kl(u.hex)&&n({hex:u.hex,source:"hex"},f):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,a:r.a,source:"rgb"},f):u.a&&(u.a<0?u.a=0:u.a>100&&(u.a=100),u.a/=100,n({h:i.h,s:i.s,l:i.l,a:u.a,source:"rgb"},f))};return L.createElement("div",{style:a.fields,className:"flexbox-fix"},L.createElement("div",{style:a.double},L.createElement(Pt,{style:{input:a.input,label:a.label},label:"hex",value:o.replace("#",""),onChange:l})),L.createElement("div",{style:a.single},L.createElement(Pt,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),L.createElement("div",{style:a.single},L.createElement(Pt,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),L.createElement("div",{style:a.single},L.createElement(Pt,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),L.createElement("div",{style:a.alpha},L.createElement(Pt,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},c1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IB=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=Ye({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(c,u){i({hex:c,source:"hex"},u)};return L.createElement("div",{style:s.colors,className:"flexbox-fix"},n.map(function(l){var c=typeof l=="string"?{color:l}:l,u=""+c.color+(c.title||"");return L.createElement("div",{key:u,style:s.swatchWrap},L.createElement(Dc,c1e({},c,{style:s.swatch,onClick:a,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+c.color}})))}))};IB.propTypes={colors:pe.arrayOf(pe.oneOfType([pe.string,pe.shape({color:pe.string,title:pe.string})])).isRequired};var u1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nI=function(e){var n=e.width,r=e.rgb,i=e.hex,o=e.hsv,s=e.hsl,a=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,u=e.presetColors,f=e.renderers,h=e.styles,p=h===void 0?{}:h,g=e.className,E=g===void 0?"":g,x=Ye(Ii({default:u1e({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:c});return L.createElement("div",{style:x.picker,className:"sketch-picker "+E},L.createElement("div",{style:x.saturation},L.createElement(L_,{style:x.Saturation,hsl:s,hsv:o,onChange:a})),L.createElement("div",{style:x.controls,className:"flexbox-fix"},L.createElement("div",{style:x.sliders},L.createElement("div",{style:x.hue},L.createElement(df,{style:x.Hue,hsl:s,onChange:a})),L.createElement("div",{style:x.alpha},L.createElement(LT,{style:x.Alpha,rgb:r,hsl:s,renderers:f,onChange:a}))),L.createElement("div",{style:x.color},L.createElement(uf,null),L.createElement("div",{style:x.activeColor}))),L.createElement(l1e,{rgb:r,hsl:s,hex:i,onChange:a,disableAlpha:c}),L.createElement(IB,{colors:u,onClick:a,onSwatchHover:l}))};nI.propTypes={disableAlpha:pe.bool,width:pe.oneOfType([pe.string,pe.number]),styles:pe.object};nI.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};Ri(nI);var Wf=function(e){var n=e.hsl,r=e.offset,i=e.onClick,o=i===void 0?function(){}:i,s=e.active,a=e.first,l=e.last,c=Ye({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:a,last:l}),u=function(h){return o({h:n.h,s:.5,l:r,source:"hsl"},h)};return L.createElement("div",{style:c.swatch,onClick:u})},d1e=function(e){var n=e.onClick,r=e.hsl,i=Ye({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return L.createElement("div",{style:i.swatches},L.createElement("div",{style:i.swatch},L.createElement(Wf,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<o&&Math.abs(r.s-.5)<o,onClick:n,first:!0})),L.createElement("div",{style:i.swatch},L.createElement(Wf,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<o&&Math.abs(r.s-.5)<o,onClick:n})),L.createElement("div",{style:i.swatch},L.createElement(Wf,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<o&&Math.abs(r.s-.5)<o,onClick:n})),L.createElement("div",{style:i.swatch},L.createElement(Wf,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<o&&Math.abs(r.s-.5)<o,onClick:n})),L.createElement("div",{style:i.swatch},L.createElement(Wf,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<o&&Math.abs(r.s-.5)<o,onClick:n,last:!0})),L.createElement("div",{style:i.clear}))},f1e=function(){var e=Ye({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return L.createElement("div",{style:e.picker})},rI=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,c=Ye(Ii({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},s));return L.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},L.createElement("div",{style:c.hue},L.createElement(df,{style:c.Hue,hsl:n,pointer:i,onChange:r})),L.createElement("div",{style:c.swatches},L.createElement(d1e,{hsl:n,onClick:r})))};rI.propTypes={styles:pe.object};rI.defaultProps={pointer:f1e,styles:{}};Ri(rI);var RB={};Object.defineProperty(RB,"__esModule",{value:!0});var K2=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h1e=w,Y2=p1e(h1e);function p1e(t){return t&&t.__esModule?t:{default:t}}function g1e(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var wm=24,m1e=RB.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?wm:r,o=t.height,s=o===void 0?wm:o,a=t.style,l=a===void 0?{}:a,c=g1e(t,["fill","width","height","style"]);return Y2.default.createElement("svg",K2({viewBox:"0 0 "+wm+" "+wm,style:K2({fill:n,width:i,height:s},l)},c),Y2.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},y1e=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.first,a=e.last,l=e.active,c=Ye({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:HT(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:s,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return L.createElement(Dc,{color:n,style:c.color,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},L.createElement("div",{style:c.check},L.createElement(m1e,null)))},v1e=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,o=e.active,s=Ye({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return L.createElement("div",{style:s.group},Lc(i,function(a,l){return L.createElement(y1e,{key:a,color:a,active:a.toLowerCase()===o,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},iI=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.onSwatchHover,s=e.colors,a=e.hex,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,h=Ye(Ii({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),p=function(E,x){return i({hex:E,source:"hex"},x)};return L.createElement("div",{style:h.picker,className:"swatches-picker "+f},L.createElement(bg,null,L.createElement("div",{style:h.overflow},L.createElement("div",{style:h.body},Lc(s,function(g){return L.createElement(v1e,{key:g.toString(),group:g,active:a,onClick:p,onSwatchHover:o})}),L.createElement("div",{style:h.clear})))))};iI.propTypes={width:pe.oneOfType([pe.string,pe.number]),height:pe.oneOfType([pe.string,pe.number]),colors:pe.arrayOf(pe.arrayOf(pe.string)),styles:pe.object};iI.defaultProps={width:320,height:240,colors:[[fu[900],fu[700],fu[500],fu[300],fu[100]],[hu[900],hu[700],hu[500],hu[300],hu[100]],[pu[900],pu[700],pu[500],pu[300],pu[100]],[gu[900],gu[700],gu[500],gu[300],gu[100]],[mu[900],mu[700],mu[500],mu[300],mu[100]],[yu[900],yu[700],yu[500],yu[300],yu[100]],[vu[900],vu[700],vu[500],vu[300],vu[100]],[_u[900],_u[700],_u[500],_u[300],_u[100]],[bu[900],bu[700],bu[500],bu[300],bu[100]],["#194D33",sh[700],sh[500],sh[300],sh[100]],[wu[900],wu[700],wu[500],wu[300],wu[100]],[Eu[900],Eu[700],Eu[500],Eu[300],Eu[100]],[xu[900],xu[700],xu[500],xu[300],xu[100]],[Su[900],Su[700],Su[500],Su[300],Su[100]],[Cu[900],Cu[700],Cu[500],Cu[300],Cu[100]],[Tu[900],Tu[700],Tu[500],Tu[300],Tu[100]],[Iu[900],Iu[700],Iu[500],Iu[300],Iu[100]],[Ru[900],Ru[700],Ru[500],Ru[300],Ru[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Ri(iI);var oI=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,h=Ye(Ii({default:{card:{width:s,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),p=function(E,x){kl(E)&&n({hex:E,source:"hex"},x)};return L.createElement("div",{style:h.card,className:"twitter-picker "+f},L.createElement("div",{style:h.triangleShadow}),L.createElement("div",{style:h.triangle}),L.createElement("div",{style:h.body},Lc(o,function(g,E){return L.createElement(Dc,{key:E,color:g,hex:g,style:h.swatch,onClick:p,onHover:r,focusStyle:{boxShadow:"0 0 4px "+g}})}),L.createElement("div",{style:h.hash},"#"),L.createElement(Pt,{label:null,style:{input:h.input},value:i.replace("#",""),onChange:p}),L.createElement("div",{style:h.clear})))};oI.propTypes={width:pe.oneOfType([pe.string,pe.number]),triangle:pe.oneOf(["hide","top-left","top-right"]),colors:pe.arrayOf(pe.string),styles:pe.object};oI.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Ri(oI);var sI=function(e){var n=Ye({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return L.createElement("div",{style:n.picker})};sI.propTypes={hsl:pe.shape({h:pe.number,s:pe.number,l:pe.number,a:pe.number})};sI.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var aI=function(e){var n=Ye({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return L.createElement("div",{style:n.picker})};aI.propTypes={hsl:pe.shape({h:pe.number,s:pe.number,l:pe.number,a:pe.number})};aI.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var _1e=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.hsv,a=function(p,g){if(p.hex)kl(p.hex)&&n({hex:p.hex,source:"hex"},g);else if(p.rgb){var E=p.rgb.split(",");yw(p.rgb,"rgb")&&n({r:E[0],g:E[1],b:E[2],a:1,source:"rgb"},g)}else if(p.hsv){var x=p.hsv.split(",");yw(p.hsv,"hsv")&&(x[2]=x[2].replace("%",""),x[1]=x[1].replace("%",""),x[0]=x[0].replace("°",""),x[1]==1?x[1]=.01:x[2]==1&&(x[2]=.01),n({h:Number(x[0]),s:Number(x[1]),v:Number(x[2]),source:"hsv"},g))}else if(p.hsl){var y=p.hsl.split(",");yw(p.hsl,"hsl")&&(y[2]=y[2].replace("%",""),y[1]=y[1].replace("%",""),y[0]=y[0].replace("°",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),n({h:Number(y[0]),s:Number(y[1]),v:Number(y[2]),source:"hsl"},g))}},l=Ye({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=r.r+", "+r.g+", "+r.b,u=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",f=Math.round(s.h)+"°, "+Math.round(s.s*100)+"%, "+Math.round(s.v*100)+"%";return L.createElement("div",{style:l.wrap,className:"flexbox-fix"},L.createElement("div",{style:l.fields},L.createElement("div",{style:l.double},L.createElement(Pt,{style:{input:l.input,label:l.label},label:"hex",value:o,onChange:a})),L.createElement("div",{style:l.column},L.createElement("div",{style:l.single},L.createElement(Pt,{style:{input:l.input2,label:l.label2},label:"rgb",value:c,onChange:a})),L.createElement("div",{style:l.single},L.createElement(Pt,{style:{input:l.input2,label:l.label2},label:"hsv",value:f,onChange:a})),L.createElement("div",{style:l.single},L.createElement(Pt,{style:{input:l.input2,label:l.label2},label:"hsl",value:u,onChange:a})))))},lI=function(e){var n=e.width,r=e.onChange,i=e.rgb,o=e.hsl,s=e.hsv,a=e.hex,l=e.header,c=e.styles,u=c===void 0?{}:c,f=e.className,h=f===void 0?"":f,p=Ye(Ii({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},u));return L.createElement("div",{style:p.picker,className:"google-picker "+h},L.createElement("div",{style:p.head},l),L.createElement("div",{style:p.swatch}),L.createElement("div",{style:p.saturation},L.createElement(L_,{hsl:o,hsv:s,pointer:sI,onChange:r})),L.createElement("div",{style:p.body},L.createElement("div",{style:p.controls,className:"flexbox-fix"},L.createElement("div",{style:p.hue},L.createElement(df,{style:p.Hue,hsl:o,radius:"4px",pointer:aI,onChange:r}))),L.createElement(_1e,{rgb:i,hsl:o,hex:a,hsv:s,onChange:r})))};lI.propTypes={width:pe.oneOfType([pe.string,pe.number]),styles:pe.object,header:pe.string};lI.defaultProps={width:652,styles:{},header:"Color picker"};Ri(lI);const b1e=Xn(A.jsx("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"})),w1e=Xn(A.jsx("path",{d:"m7 10 5 5 5-5z"})),E1e=Xn(A.jsx("path",{d:"m7 14 5-5 5 5z"})),x1e=Xn(A.jsx("path",{d:"M7 5h2V3H7zm0 8h2v-2H7zm0 8h2v-2H7zm4-4h2v-2h-2zm0 4h2v-2h-2zm-8 0h2v-2H3zm0-4h2v-2H3zm0-4h2v-2H3zm0-4h2V7H3zm0-4h2V3H3zm8 8h2v-2h-2zm8 4h2v-2h-2zm0-4h2v-2h-2zm0 8h2v-2h-2zm0-12h2V7h-2zm-8 0h2V7h-2zm8-6v2h2V3zm-8 2h2V3h-2zm4 16h2v-2h-2zm0-8h2v-2h-2zm0-8h2V3h-2z"})),S1e=Xn(A.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),X2=Xn(A.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"})),C1e=Xn(A.jsx("path",{d:"M7 15v2h10v-2zm-4 6h18v-2H3zm0-8h18v-2H3zm4-6v2h10V7zM3 3v2h18V3z"})),T1e=Xn(A.jsx("path",{d:"M15 15H3v2h12zm0-8H3v2h12zM3 13h18v-2H3zm0 8h18v-2H3zM3 3v2h18V3z"})),I1e=Xn(A.jsx("path",{d:"M3 21h18v-2H3zm6-4h12v-2H9zm-6-4h18v-2H3zm6-4h12V7H9zM3 3v2h18V3z"})),R1e=Xn(A.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"})),P1e=Xn(A.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"})),k1e=Xn(A.jsx("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6m-7 2v2h14v-2z"})),Em=async t=>{const e=Ax(),n=Ix(e,`Settings/${t}`);try{const r=await dae(n);if(r.exists())return r.val();throw new Error("API key not found in database")}catch(r){throw console.error("Error fetching API key:",r),r}},A1e=({localCursor:t,canvasCenter:e,mergeMindMapData:n,isChatOpen:r,setIsChatOpen:i})=>{const[o,s]=w.useState(""),[a,l]=w.useState(!1),[c,u]=w.useState([]),f=async y=>{const b=await Em("Key"),_=await Em("prompt1"),S=await Em("model"),O=await Em("modelMax");if(!b)throw console.error("No API key found. Ensure VITE_OPENAI_API_KEY is set."),new Error("API key missing");const N=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({model:S,messages:[{role:"system",content:_},{role:"user",content:y}],temperature:.7,max_tokens:O})});if(!N.ok){const R=await N.text();throw console.error("API error details:",N.status,R),new Error(`OpenAI API error: ${N.statusText}`)}const I=(await N.json()).choices[0].message.content.trim();console.log("Raw content from AI:",I);try{return JSON.parse(I)}catch(R){throw console.error("Error parsing JSON:",R),console.log("Raw content:",I),R}},h=async y=>{if(o.trim()&&!a){l(!0),u(b=>[...b,{from:"user",text:o}]);try{const b=await f(o);u(S=>[...S,{from:"ai",text:"Generated mind map JSON",json:b}]),await n(b,y?t:e,E)}catch(b){console.error("Error calling OpenAI API:",b),u(_=>[..._,{from:"ai",text:"Error generating mind map"}])}finally{l(!1),s("")}}},p=y=>{y.key==="Enter"&&(y.preventDefault(),h(!0))},g=y=>{h(!1)},[E,x]=w.useState("bottomLay");return A.jsxs("div",{style:{position:"fixed",bottom:r?"0":"-270px",left:"0",width:"300px",height:"300px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0.66) 0%, #0f1011 100%)",color:"#fff",borderTopRightRadius:"8px",transition:"bottom 0.3s ease",display:"flex",flexDirection:"column",zIndex:1e3},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px 8px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0.66) 0%,rgb(27, 29, 31) 100%)",borderTopRightRadius:"8px"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>i(y=>!y),children:[r?A.jsx(w1e,{}):A.jsx(E1e,{}),A.jsx("span",{style:{marginLeft:"4px",fontWeight:"bold"},children:"MindMap Maker (Ai)"})]}),A.jsx(S1e,{style:{cursor:"pointer"},onClick:()=>i(!1)})]}),A.jsx("div",{style:{flex:1,padding:"8px",overflowY:"auto",fontSize:"0.9rem"},children:c.map((y,b)=>A.jsxs("div",{style:{marginBottom:"4px"},children:[A.jsx("strong",{children:y.from==="user"?"You:":"AI:"})," ",y.text]},b))}),A.jsx("div",{style:{width:"16%",marginLeft:"83%",marginTop:"22%",background:"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)",color:"white",borderRadius:"8px",position:"absolute"},children:A.jsx("paper",{children:A.jsxs(gx,{value:E,exclusive:!0,onChange:(y,b)=>{b!==null&&x(b)},orientation:"vertical","aria-label":"text alignment",color:"info",size:"small",sx:{mx:.5,my:.5,background:"radial-gradient(circle at center,rgba(36, 39, 43, 0.5) 0%,rgba(108, 115, 121, 0.73) 130%)"},children:[A.jsx(Bs,{value:"bottomLay","aria-label":"bottomLay",style:{transform:"rotate(180deg)"},children:A.jsx(X2,{})}),A.jsx(Bs,{value:"rightLay","aria-label":"rightLay",style:{transform:"rotate(90deg)"},children:A.jsx(X2,{})}),A.jsx(Bs,{value:"centerLay","aria-label":"centerLay",children:A.jsx(x1e,{})})]})})}),A.jsxs("div",{style:{padding:"7px",display:"flex"},children:[A.jsx(Rd,{value:o,onChange:y=>s(y.target.value),onKeyDown:p,variant:"filled",size:"small",placeholder:"Enter prompt...",InputProps:{style:{background:"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)",color:"#fff"}},fullWidth:!0}),A.jsx(Hn,{variant:"contained",onClick:g,disabled:a,style:{marginLeft:"4px",background:"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)"},children:a?"...":"Send"})]})]})},Mr=100,zn=40,O1e=.1,_w=5,Q2=.1,N1e=()=>{const{id:t}=jj(),[e,n]=w.useState([]),[r,i]=w.useState([]),[o,s]=w.useState(null),[a,l]=w.useState(""),[c,u]=w.useState(!1),[f,h]=w.useState(null),[p,g]=w.useState([]),[E,x]=w.useState(null),[y,b]=w.useState([]),[_,S]=w.useState(null),[O,N]=w.useState(!1),[T,I]=w.useState(null),[R,v]=w.useState(null),[k,M]=w.useState([]),[P,K]=w.useState({x:0,y:0}),[H,W]=w.useState([]),G=w.useRef({x:0,y:0}),[V,B]=w.useState(1),[Q,oe]=w.useState({x:0,y:0}),he=w.useRef({x:0,y:0}),ge=w.useRef({x:0,y:0}),re=w.useRef(V),ie=w.useRef(Q),[De,Ue]=w.useState(null),[Ae,Le]=w.useState([]),[_e,Fe]=w.useState([]),Ne=w.useRef(null),$e=w.useRef(null),[je,ze]=w.useState("#1e1e1e"),[Nt,me]=w.useState("#fff"),[Rt,We]=w.useState(""),[gt,at]=w.useState(Mr),[ke,nn]=w.useState(zn),[ot,En]=w.useState("cursive"),[St,_t]=w.useState(14),Ct=w.useRef({x:0,y:0}),Vt=w.useRef({}),[ut,Xe]=w.useState(!1),xn=w.useRef({x:0,y:0}),[Vn,Wr]=w.useState({x:0,y:0}),xe=w.useRef(!1),Ie=y.length?e.find(D=>D.id===y[0]):null,Yt=D=>{xn.current=D,xe.current||(xe.current=!0,requestAnimationFrame(()=>{Wr({...xn.current}),xe.current=!1}))},[Un,Hr]=w.useState("cursive"),[pr,Cr]=w.useState(14),[jn,Pi]=w.useState([]),[rn,to]=w.useState([]),[no,ki]=w.useState("left"),[gr,ye]=w.useState("left"),[de,lt]=w.useState("rectangle"),[et,Mt]=w.useState(0),[mr,si]=w.useState("#ff0000"),[yr,Io]=w.useState(!1),[Sn,mn]=w.useState(100),[ai,As]=w.useState("#000000"),[Z,X]=w.useState(1),[Se,Qe]=w.useState(!1),[ct,Dt]=w.useState("#ff0000"),[yn,Tr]=w.useState(1),[Fc,Al]=w.useState(!1),[Bc,Os]=w.useState("none"),[Ro,dt]=w.useState(1),[Gr,Po]=w.useState("#ff0000");jn.includes("bold"),jn.includes("italic"),jn.includes("underline");const es=[8,10,12,14,16,18,20,24,28,32],Ol=w.useRef(null),[Nl,Vc]=w.useState(!1),[hf,wg]=w.useState(!1),[ts,Uc]=w.useState({visible:!1,x:0,y:0,type:null}),jc=()=>Uc({visible:!1,x:0,y:0,type:null}),Eg=D=>{if(Nl){D.preventDefault();return}if(y.length){Uc({visible:!0,x:D.clientX,y:D.clientY,type:"node"});return}D.target.closest(".mindmap-node")?Uc({visible:!0,x:D.clientX,y:D.clientY,type:"node"}):Uc({visible:!0,x:D.clientX,y:D.clientY,type:"canvas"})},xg=()=>{oe({x:0,y:0}),ie.current={x:0,y:0},B(1),re.current=1,console.log("Reset pan/zoom"),jc()};w.useEffect(()=>{const D=wW(ic,F=>{F&&(I(F.email),v(F.uid))});return()=>D()},[]),w.useEffect(()=>{if(!t)return;const D=Dr(ht(be,"mindMaps",t,"nodes")),F=wh(D,z=>{const j=z.docs.map(Y=>({id:Y.id,...Y.data()}));n(j)});return()=>F()},[t]),w.useEffect(()=>{if(!t)return;const D=Dr(ht(be,"mindMaps",t,"links")),F=wh(D,z=>{const j=z.docs.map(Y=>({id:Y.id,...Y.data()}));i(j)});return()=>F()},[t]),w.useEffect(()=>{if(!t||!R)return;const D=sn(be,"mindMaps",t,"presence",R);nk(D,{email:T,lastActive:Ky()},{merge:!0}).catch(console.error);const F=setInterval(()=>{nk(D,{lastActive:Ky()},{merge:!0}).catch(console.error)},5e3);return()=>{clearInterval(F),nF(D).catch(console.error)}},[t,R,T]),w.useEffect(()=>{if(!t)return;const D=Dr(ht(be,"mindMaps",t,"presence")),F=wh(D,z=>{const j=z.docs.map(Y=>Y.data());M(j)});return()=>F()},[t]),w.useEffect(()=>{if(!t||!R)return;const D=Ax(),F=Ix(D,`mindMaps/${t}/cursors/${R}`),z=Ne.current;if(!z)return;const j=pm(ce=>{const ve=z.getBoundingClientRect(),Oe=ce.clientX-ve.left,Ce=ce.clientY-ve.top;G.current={x:Oe,y:Ce},K({x:Oe,y:Ce})},16);z.addEventListener("mousemove",j);const Y=setInterval(()=>{document.hidden||Px(F,{...G.current,email:T,lastActive:Date.now(),uid:R}).catch(console.error)},200),ee=()=>{document.hidden?F&&fO(F).catch(console.error):Px(F,{...G.current,email:T,lastActive:Date.now(),uid:R}).catch(console.error)};return document.addEventListener("visibilitychange",ee),()=>{z.removeEventListener("mousemove",j),j.cancel(),clearInterval(Y),document.removeEventListener("visibilitychange",ee),F&&fO(F).catch(console.error)}},[t,R,T]),w.useEffect(()=>{if(!t)return;const D=Ax(),F=Ix(D,`mindMaps/${t}/cursors`),z=j=>{const Y=j.val()||{},ee=Object.entries(Y).map(([ce,ve])=>({uid:ce,...ve}));W(ee)};return hae(F,z,j=>{console.error("Error receiving remote cursor data:",j)}),()=>{pae(F,"value",z)}},[t]),w.useEffect(()=>{if(!$e.current)return;const D=pm(F=>{const j=$e.current.getBoundingClientRect(),Y=(F.clientX-j.left-Q.x)/V,ee=(F.clientY-j.top-Q.y)/V;G.current={x:Y,y:ee},K({x:Y,y:ee})},16);return document.addEventListener("mousemove",D),()=>{document.removeEventListener("mousemove",D),D.cancel()}},[Q,V]);const V_=(D,F)=>{F.stopPropagation(),c?f?f===D.id?h(null):Lr(ht(be,"mindMaps",t,"links"),{source:f,target:D.id}).then(()=>{h(null)}).catch(z=>{console.error("Error creating link:",z)}):h(D.id):F.ctrlKey||F.metaKey?b(z=>z.includes(D.id)?z.filter(j=>j!==D.id):[...z,D.id]):b([D.id])},ir=D=>{let F={};D?F=D:y.forEach(j=>{const Y=e.find(ee=>ee.id===j);Y&&(F[j]={...Y})});const z=JSON.parse(JSON.stringify(F));Object.keys(z).length>0&&(Le(j=>[...j,z]),Fe([]))},ro=D=>{if(D){const F={[D.id]:{...D}};Le(z=>[...z,F]),Fe([])}},zc=async()=>{if(Ae.length===0)return;const D=Ae[Ae.length-1],F=D.nodes?D.nodes:D,z={};Object.keys(F).forEach(Y=>{const ee=e.find(ce=>ce.id===Y);ee&&(z[Y]={...ee})}),Fe(Y=>[...Y,z]);const j=ui(be);for(const Y of Object.keys(F)){const ee=F[Y],ce=sn(be,"mindMaps",t,"nodes",Y);if(ee&&ee.isNew){j.delete(ce);const ve=Dr(ht(be,"mindMaps",t,"links"),Ni("source","==",Y));(await Mi(ve)).docs.forEach(Be=>{const tt=sn(be,"mindMaps",t,"links",Be.id);j.delete(tt)});const Ce=Dr(ht(be,"mindMaps",t,"links"),Ni("target","==",Y));(await Mi(Ce)).docs.forEach(Be=>{const tt=sn(be,"mindMaps",t,"links",Be.id);j.delete(tt)})}else ee&&j.set(ce,ee,{merge:!0})}try{await j.commit(),console.log("Batch undo successful")}catch(Y){console.error("Error during batch undo:",Y)}n(Y=>Y.filter(ee=>!(F[ee.id]&&F[ee.id].isNew))),Le(Y=>Y.slice(0,Y.length-1))},Wc=async()=>{if(_e.length===0)return;const D=_e[_e.length-1];console.log("Redo snapshot:",D);const F={};Object.keys(D).forEach(j=>{const Y=e.find(ee=>ee.id===j);Y&&(F[j]={...Y})}),Le(j=>[...j,F]);const z=ui(be);Object.keys(D).forEach(j=>{const Y=sn(be,"mindMaps",t,"nodes",j);z.set(Y,D[j],{merge:!0})});try{await z.commit(),console.log("Batch redo successful")}catch(j){console.error("Error during batch redo:",j)}n(j=>{const Y=[...j];return Object.keys(D).forEach(ee=>{const ce=Y.findIndex(ve=>ve.id===ee);ce===-1?Y.push({id:ee,...D[ee]}):Y[ce]={...Y[ce],...D[ee]}}),Y}),Fe(j=>j.slice(0,j.length-1))},Sg=(D,F)=>{if(F.button!==0)return;ro(D),F.stopPropagation(),F.preventDefault();const z=F.clientX,j=F.clientY,Y=D.width||Mr,ee=D.height||zn;let ce=Y,ve=ee;const Oe=we=>{const Be=we.clientX-z,tt=we.clientY-j;ce=Math.max(50,Y+Be/V),ve=Math.max(20,ee+tt/V),n(Lt=>Lt.map(He=>He.id===D.id?{...He,width:ce,height:ve}:He))},Ce=async()=>{document.removeEventListener("mousemove",Oe),document.removeEventListener("mouseup",Ce);try{const we=sn(be,"mindMaps",t,"nodes",D.id);await uu(we,{width:ce,height:ve})}catch(we){console.error("Error updating node size:",we)}};document.addEventListener("mousemove",Oe),document.addEventListener("mouseup",Ce)},Xt=()=>{B(D=>{const F=Math.min(_w,D+Q2);return re.current=F,F})},Hc=()=>{B(D=>{const F=Math.max(O1e,D-Q2);return re.current=F,F})};w.useEffect(()=>{const D=$e.current,F=Ne.current;if(!D||!F)return;const z=pm(j=>{let Y=j.shiftKey?1.15:1.05;j.preventDefault();const ee=D.getBoundingClientRect(),ce=j.clientX-ee.left,ve=j.clientY-ee.top,Oe=re.current;let Ce;j.deltaY<0?Ce=Math.min(_w,Oe*Y):Ce=Oe/Y;const we={x:(ce-ie.current.x)/Oe,y:(ve-ie.current.y)/Oe},Be={x:ce-we.x*Ce,y:ve-we.y*Ce};B(Ce),oe(Be),re.current=Ce,ie.current=Be},8);return D.addEventListener("wheel",z,{passive:!1}),()=>{D.removeEventListener("wheel",z),z.cancel()}},[V,Q]);const Ml=D=>{D.preventDefault()},ya=D=>{if(D.button!==2)return;document.activeElement.tagName==="INPUT"||document.activeElement.tagName==="TEXTAREA"||D.preventDefault(),he.current={...Q},Ol.current={x:D.clientX,y:D.clientY},ge.current={x:D.clientX,y:D.clientY};const z=pm(j=>{const Y=j.clientX-ge.current.x,ee=j.clientY-ge.current.y;Math.sqrt(Y*Y+ee*ee)>15&&Vc(!0),requestAnimationFrame(()=>{const ve=j.clientX-ge.current.x,Oe=j.clientY-ge.current.y,Ce=he.current.x+ve,we=he.current.y+Oe;oe({x:Ce,y:we}),ie.current={x:Ce,y:we}})},16);document.addEventListener("mousemove",z),document.addEventListener("mouseup",function j(){document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",j),z.cancel()})},U_=async()=>{if(t)try{const D=ie.current,F=re.current,z=$e.current.getBoundingClientRect(),j=250,Y=50,ee=z.width-j,ce=z.height-Y,ve=ee/2,Oe=ce/2,Ce=(ve-D.x)/F,we=(Oe-D.y)/F;await Lr(ht(be,"mindMaps",t,"nodes"),{text:"New Node",x:Ce,y:we,width:Mr,height:zn,lockedBy:null,typing:!1})}catch(D){console.error("Error adding node:",D)}},Cg=async()=>{if(t)try{const D=P.x,F=P.y;await Lr(ht(be,"mindMaps",t,"nodes"),{text:"New Node",x:D-Mr/2,y:F-zn/2,width:Mr,height:zn,lockedBy:null,typing:!1})}catch(D){console.error("Error adding node:",D)}},j_=D=>{if(c||D.type==="image")return;if(D.lockedBy&&D.lockedBy!==T){alert(`Node is currently locked by ${D.lockedBy}`);return}const F=sn(be,"mindMaps",t,"nodes",D.id);uu(F,{lockedBy:T,typing:!0}).catch(console.error),s(D.id),l(D.text)},z_=async D=>{try{y.includes(D),ir();const F=sn(be,"mindMaps",t,"nodes",D);await uu(F,{text:a,lockedBy:null,typing:!1}),s(null),l("")}catch(F){console.error("Error updating node text:",F)}},W_=D=>{const F=sn(be,"mindMaps",t,"nodes",D);uu(F,{typing:!0}).catch(console.error)};w.useEffect(()=>{const D=F=>{if(!(document.activeElement.tagName==="INPUT"||document.activeElement.tagName==="TEXTAREA")){if(F.ctrlKey&&F.key.toLowerCase()==="d"&&(F.preventDefault(),(async()=>{if(y.length>0){const j={};await Promise.all(y.map(async Y=>{const ee=e.find(ce=>ce.id===Y);if(ee){const ce={x:ee.x+50,y:ee.y+50},ve=await pf(ee,ce);ve&&(j[ve]={id:ve,isNew:!0})}})),console.log("Control-D group undo snapshot:",j),Object.keys(j).length>0&&ir(j)}})()),F.key.toLowerCase()==="f"){if(y.length===0)return;const z=e.filter(kt=>y.includes(kt.id));if(!z.length)return;let j=1/0,Y=1/0,ee=-1/0,ce=-1/0;z.forEach(kt=>{const bt=kt.width||Mr,Yr=kt.height||zn;j=Math.min(j,kt.x),Y=Math.min(Y,kt.y),ee=Math.max(ee,kt.x+bt),ce=Math.max(ce,kt.y+Yr)});const ve={x:(j+ee)/2,y:(Y+ce)/2},Oe=$e.current.getBoundingClientRect(),Ce=-125,we=50,Be=Oe.width-Ce,tt=Oe.height-we,Lt=.6,He=ee-j,Kt=ce-Y,Dn=Be*Lt/He,ko=tt*Lt/Kt,li=Math.min(Dn,ko,_w),qr={x:Ce+Be/2,y:we+tt/2},Kr={x:qr.x-ve.x*li,y:qr.y-ve.y*li};B(li),re.current=li,oe(Kr),ie.current=Kr}!o&&y.length>0&&(F.key==="Backspace"||F.key==="Delete")&&(F.preventDefault(),window.confirm("Are you sure you want to delete the selected nodes?")&&(ir(),(async()=>{const z=ui(be);for(const j of y){const Y=sn(be,"mindMaps",t,"nodes",j);z.delete(Y);const ee=Dr(ht(be,"mindMaps",t,"links"),Ni("source","==",j));(await Mi(ee)).docs.forEach(Ce=>{const we=sn(be,"mindMaps",t,"links",Ce.id);z.delete(we)});const ve=Dr(ht(be,"mindMaps",t,"links"),Ni("target","==",j));(await Mi(ve)).docs.forEach(Ce=>{const we=sn(be,"mindMaps",t,"links",Ce.id);z.delete(we)})}try{await z.commit(),console.log("Batch deletion (nodes and links) successful")}catch(j){console.error("Error deleting nodes and links:",j)}n(j=>j.filter(Y=>!y.includes(Y.id))),b([])})())),F.ctrlKey&&F.key.toLowerCase()==="z"&&(console.log("undo"),F.preventDefault(),zc()),F.ctrlKey&&F.key.toLowerCase()==="y"&&(F.preventDefault(),Wc())}};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[e,y,Ae,_e]);const H_=(D,F)=>D.x<F.x+F.width&&D.x+D.width>F.x&&D.y<F.y+F.height&&D.y+D.height>F.y,$l=D=>{if(ut||D.button!==0)return;const F=$e.current.getBoundingClientRect();N(D.ctrlKey||D.metaKey);const z=(D.clientX-F.left-Q.x)/V,j=(D.clientY-F.top-Q.y)/V;S({startX:z,startY:j,x:z,y:j,width:0,height:0})},ns=D=>{if(!_||ut)return;const F=$e.current.getBoundingClientRect(),z=(D.clientX-F.left-Q.x)/V,j=(D.clientY-F.top-Q.y)/V,Y=Math.min(_.startX,z),ee=Math.min(_.startY,j),ce=Math.abs(z-_.startX),ve=Math.abs(j-_.startY),Oe={..._,x:Y,y:ee,width:ce,height:ve};S(Oe);const Ce=ba.filter(we=>{const Be={x:we.x,y:we.y,width:we.width||Mr,height:we.height||zn};return H_(Be,Oe)}).map(we=>we.id);y!=Ce&&b(Ce)},Tg=D=>{if(!_)return;const F=ba.filter(z=>(z.width,z.height,z.x<_.x+_.width&&z.x+z.width>_.x&&z.y<_.y+_.height&&z.y+z.height>_.y)).map(z=>z.id);b(O?z=>{const j=[...z];return F.forEach(Y=>{j.includes(Y)?j.splice(j.indexOf(Y),1):j.push(Y)}),j}:F),S(null)},pf=async(D,F)=>{if(!t)return null;const{id:z,...j}=D;let Y;try{Y=(await Lr(ht(be,"mindMaps",t,"nodes"),{...j,x:F.x,y:F.y,lockedBy:null,typing:!1})).id;const ce=Dr(ht(be,"mindMaps",t,"links"),Ni("source","==",z)),ve=await Mi(ce);for(const we of ve.docs){const Be=we.data();await Lr(ht(be,"mindMaps",t,"links"),{...Be,source:Y})}const Oe=Dr(ht(be,"mindMaps",t,"links"),Ni("target","==",z)),Ce=await Mi(Oe);for(const we of Ce.docs){const Be=we.data();await Lr(ht(be,"mindMaps",t,"links"),{...Be,target:Y})}}catch(ee){return console.error("Error duplicating node and links:",ee),null}return Y},gf=async(D,F,z=null)=>{if(!t)return null;const{id:j,...Y}=D;let ee;try{ee=(await Lr(ht(be,"mindMaps",t,"nodes"),{...Y,x:F.x,y:F.y,lockedBy:null,typing:!1})).id;const ve=Dr(ht(be,"mindMaps",t,"links"),Ni("source","==",j)),Oe=await Mi(ve);for(const Be of Oe.docs){const tt=Be.data(),Lt=z&&z[tt.target]?z[tt.target]:null;Lt&&await Lr(ht(be,"mindMaps",t,"links"),{...tt,source:ee,target:Lt})}const Ce=Dr(ht(be,"mindMaps",t,"links"),Ni("target","==",j)),we=await Mi(Ce);for(const Be of we.docs){const tt=Be.data(),Lt=z&&z[tt.source]?z[tt.source]:null;Lt&&await Lr(ht(be,"mindMaps",t,"links"),{...tt,source:Lt,target:ee})}}catch(ce){return console.error("Error duplicating node and links:",ce),null}return ee},va=(D,F)=>{const z={};D.forEach(Y=>{z[Y.id]=Y});let j=!1;return F.forEach(Y=>{const ee=z[Y.target];ee&&(ee.parent===void 0||ee.parent===null)&&(ee.parent=Y.source,j=!0)}),D.forEach(Y=>{Y.parent===void 0&&(Y.parent=null,j=!0)}),{nodes:D,modified:j}},G_=async(D,F,z)=>{if(!D.nodes||!D.links)return;const{nodes:j}=va(D.nodes,D.links),Y=z==="bottomLay"?dle(j,D.links,150,800,1.5):z==="rightLay"?hle(j,D.links,150,800,1.5):fle(j,D.links,150,800,1.5),{layout:ee,levelMap:ce}=Y;let ve=1/0,Oe=1/0,Ce=-1/0,we=-1/0;Object.values(ee).forEach(({x:kt,y:bt})=>{kt<ve&&(ve=kt),bt<Oe&&(Oe=bt),kt>Ce&&(Ce=kt),bt>we&&(we=bt)});const Be=(ve+Ce)/2,tt=(Oe+we)/2,Lt=F.x-Be,He=F.y-tt,Kt=["#2C3E50","#1ABC9C","#3498DB","#9B59B6","#E74C3C"],Dn={},ko={},li=ui(be);for(const kt of j){const bt=sn(ht(be,"mindMaps",t,"nodes")),Yr=ee[kt.id]||{x:0,y:0},Ir=ce[kt.id]||0,oo=Ir%Kt.length,Kc=Kt[oo];let wa=100,Yc=40,vf=14;if(Ir===0){const Qn=kt.text?kt.text.length:0;wa=Math.max(180,Qn*1.25),Yc=Math.max(60,Qn*1),vf=28}else{const Qn=kt.text?kt.text.length:0;wa=Math.max(100,Qn*1.1),Yc=Math.max(45,Qn*2)}const Ll={...kt,x:Yr.x+Lt,y:Yr.y+He,id:bt.id,bgColor:kt.bgColor||Kc,textColor:kt.textColor||"#ECF0F1",width:wa,height:Yc,fontSize:vf};Dn[kt.id]=bt.id,ko[bt.id]={newNodeData:Ll,isNew:!0},li.set(bt,Ll)}await li.commit(),console.log("Undo snapshot (nodes):",Dn);const qr={nodes:{...ko}};ir(qr);const Kr=ui(be);for(const kt of D.links){const bt=Dn[kt.source],Yr=Dn[kt.target];if(!bt||!Yr){console.error("Skipping link: missing mapping for source or target");continue}const Ir=sn(ht(be,"mindMaps",t,"links"));Kr.set(Ir,{...kt,source:bt,target:Yr})}await Kr.commit(),console.log("Merged AI-generated mind map at drop position:",F)},q_=D=>{D.preventDefault()},K_=async D=>{D.preventDefault();const F=D.dataTransfer.files;if(!F||F.length===0)return;const z=F[0],j=$e.current.getBoundingClientRect(),Y=ie.current,ee=re.current,ce=(D.clientX-j.left-Y.x)/ee,ve=(D.clientY-j.top-Y.y)/ee,Oe={};if(z.type==="application/json"||z.name.endsWith(".json"))try{const Ce=await z.text(),we=JSON.parse(Ce);if(!we.nodes||!we.links)throw new Error("Invalid file format");let Be=1/0,tt=1/0,Lt=-1/0,He=-1/0;we.nodes.forEach(bt=>{bt.x<Be&&(Be=bt.x),bt.y<tt&&(tt=bt.y),bt.x>Lt&&(Lt=bt.x),bt.y>He&&(He=bt.y)});const Kt=(Be+Lt)/2,Dn=(tt+He)/2,ko=ce-Kt,li=ve-Dn,qr={},Kr=ui(be);we.nodes.forEach(bt=>{const Yr=bt.id,Ir=sn(ht(be,"mindMaps",t,"nodes")),oo={...bt,x:bt.x+ko,y:bt.y+li,id:Ir.id};Kr.set(Ir,oo),qr[Yr]=Ir.id,Oe[Ir.id]={id:Ir.id,isNew:!0}}),await Kr.commit();const kt=ui(be);we.links.forEach(bt=>{const Yr=qr[bt.source],Ir=qr[bt.target];if(!Yr||!Ir){console.error("Skipping link: missing mapping for source or target");return}const{id:oo,...Kc}=bt,wa=sn(ht(be,"mindMaps",t,"links"));kt.set(wa,{...Kc,source:Yr,target:Ir})}),await kt.commit(),console.log("Imported mind map JSON file at cursor position using batch writes.")}catch(Ce){console.error("Error importing mind map:",Ce)}else if(z.type.startsWith("image/"))try{const Ce=Date.now(),we=z.name||"pastedImage.png",Be=`images/${Ce}_${we}`,tt=uk(dk,Be);await lk(tt,z);const Lt=await ck(tt);await Lr(ht(be,"mindMaps",t,"nodes"),{type:"image",imageUrl:Lt,storagePath:Be,x:ce-60/re.current*.5,y:ve-zn/re.current*.5,width:60/re.current,height:zn/re.current,lockedBy:null,typing:!1}).then(He=>{He&&(Oe[He.id]={id:He.id,isNew:!0})})}catch(Ce){console.error("Error uploading image:",Ce)}Object.keys(Oe).length>0&&ir(Oe)},io=async D=>{if(!o&&y.length>0){const F=e.filter(j=>y.includes(j.id)),z=JSON.stringify(F);if(D.clipboardData)D.clipboardData.setData("application/json",z),D.clipboardData.setData("text/plain",z),D.preventDefault(),console.log("Copied nodes to clipboard:",F);else if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(z),console.log("Copied nodes to clipboard via navigator.clipboard:",F)}catch(j){console.error("Failed to copy nodes:",j)}else console.error("Clipboard API not available.")}};w.useEffect(()=>(document.addEventListener("copy",io),()=>document.removeEventListener("copy",io)),[y,e]);const mf=async()=>{if(!o)try{jc();let D={},F=null,z=!1;if(navigator.clipboard.read){const j=await navigator.clipboard.read();for(const Y of j)for(const ee of Y.types)if(ee.startsWith("image/")){z=!0;const ce=await Y.getType(ee);try{const ve=Date.now(),Oe=ce.name||"pastedImage.png",Ce=`images/${ve}_${Oe}`,we=uk(dk,Ce);await lk(we,ce);const Be=await ck(we),tt=P.x,Lt=P.y,He=await Lr(ht(be,"mindMaps",t,"nodes"),{type:"image",imageUrl:Be,storagePath:Ce,x:tt-60/re.current*.5,y:Lt-zn/re.current*.5,width:60/re.current,height:zn/re.current,lockedBy:null,typing:!1});He&&(D[He.id]={id:He.id,isNew:!0})}catch(ve){console.error("Error uploading pasted image:",ve)}break}if(!z){const ee=(await navigator.clipboard.readText()).trim();if(ee.startsWith("{")||ee.startsWith("["))try{F=JSON.parse(ee),Array.isArray(F)||(F=[F])}catch(ce){console.error("Error parsing JSON, falling back to plain text:",ce),F=null}}}else{const j=await navigator.clipboard.readText();try{F=JSON.parse(j),Array.isArray(F)||(F=[F])}catch{F=null}}if(F){const j=P.x,Y=P.y;if(F.length===1){const ee=F[0],ce=ee.width||Mr,ve=ee.height||zn,Oe=ee.x+ce/2,Ce=ee.y+ve/2,we=j-Oe,Be=Y-Ce,tt=await pf(ee,{x:ee.x+we,y:ee.y+Be});tt&&(D[tt]={id:tt,isNew:!0})}else{let ee=1/0,ce=1/0,ve=-1/0,Oe=-1/0;F.forEach(He=>{He.x<ee&&(ee=He.x),He.y<ce&&(ce=He.y),He.x>ve&&(ve=He.x),He.y>Oe&&(Oe=He.y)});const Ce=(ee+ve)/2,we=(ce+Oe)/2,Be=j-Ce,tt=Y-we,Lt={};await Promise.all(F.map(async He=>{const Kt={x:He.x+Be,y:He.y+tt},Dn=await gf(He,Kt,{});Dn&&(Lt[He.id]=Dn,D[Dn]={id:Dn,isNew:!0})})),await Promise.all(F.map(async He=>{const Kt=Lt[He.id];if(!Kt)return;const Dn=Dr(ht(be,"mindMaps",t,"links"),Ni("source","==",He.id)),ko=await Mi(Dn);for(const li of ko.docs){const qr=li.data(),Kr=Lt[qr.target];Kr&&await Lr(ht(be,"mindMaps",t,"links"),{...qr,source:Kt,target:Kr})}}))}}else{const j=await navigator.clipboard.readText();if(j.trim()!==""){const Y=P.x,ee=P.y;try{const ce=await Lr(ht(be,"mindMaps",t,"nodes"),{type:"text",text:j,x:Y-Mr/re.current*.5,y:ee-zn/re.current*.5,width:Mr/re.current,height:zn/re.current,fontSize:Math.floor(14/re.current*.5),lockedBy:null,typing:!1});ce&&(D[ce.id]={id:ce.id,isNew:!0})}catch(ce){console.error("Error creating text node from pasted text:",ce)}}}Object.keys(D).length>0&&ir(D)}catch(D){console.error("Error handling paste via context menu:",D)}};w.useEffect(()=>(window.addEventListener("paste",mf),()=>window.removeEventListener("paste",mf)),[t,P,ie,re,$e,gf,ir]);const Y_=async()=>{if(!y.length)return;ir();const D={};if(Ie&&(Ie.bgColor!==je&&(D.bgColor=je),Ie.textColor!==Nt&&(D.textColor=Nt),Ie.fontSize!==St&&(D.fontSize=St),JSON.stringify(Ie.textStyle)!==JSON.stringify(rn)&&(D.textStyle=rn),Ie.textAlign!==gr&&(D.textAlign=gr),Ie.fontFamily!==ot&&(D.fontFamily=ot)),Object.keys(D).length===0)return;const F=ui(be);y.forEach(z=>{const j=sn(be,"mindMaps",t,"nodes",z);F.update(j,D)});try{await F.commit(),n(z=>z.map(j=>y.includes(j.id)?{...j,...D}:j))}catch(z){console.error("Error updating nodes:",z)}},Gc=async()=>{if(!(!y||y.length===0))try{const D=ui(be);for(const F of y){const z=Dr(ht(be,"mindMaps",t,"links"),Ni("source","==",F));(await Mi(z)).docs.forEach(ce=>{const ve=sn(be,"mindMaps",t,"links",ce.id);D.delete(ve)});const Y=Dr(ht(be,"mindMaps",t,"links"),Ni("target","==",F));(await Mi(Y)).docs.forEach(ce=>{const ve=sn(be,"mindMaps",t,"links",ce.id);D.delete(ve)})}await D.commit(),console.log("All links removed from the selected nodes.")}catch(D){console.error("Error removing links:",D)}};w.useEffect(()=>{Ie&&(ze(Ie.bgColor||"#1e1e1e"),me(Ie.textColor||"#fff"),_t(Ie.fontSize||"14"),to(Ie.textStyle||[]),ye(Ie.textAlign||"left"),En(Ie.fontFamily||"cursive"))},[Ie]);const qc=()=>{const F=JSON.stringify({nodes:e,links:r},null,2),z=new Blob([F],{type:"application/json"}),j=URL.createObjectURL(z),Y=document.createElement("a");Y.href=j,Y.download=`mindmap_${t}.json`,Y.click(),URL.revokeObjectURL(j)},Ig=D=>De===D.id||y.includes(D.id);w.useMemo(()=>r.map(D=>{const F=e.find(Be=>Be.id===D.source),z=e.find(Be=>Be.id===D.target);if(!F||!z)return null;const j=F.width||Mr,Y=F.height||zn,ee=z.width||Mr,ce=z.height||zn,ve=F.x+j/2,Oe=F.y+Y/2,Ce=z.x+ee/2,we=z.y+ce/2;return A.jsx("line",{x1:ve,y1:Oe,x2:Ce,y2:we,stroke:"#fff",strokeWidth:"2"},D.id)}),[r,e]);const _a=()=>{const D=Date.now(),F=500;return H.filter(z=>z.uid!==R&&D-z.lastActive<F).map(z=>{const j=z.x*V+Q.x,Y=z.y*V+Q.y;return A.jsx("div",{style:{position:"absolute",top:Y,left:j,transform:"translate(-50%, -50%)",transition:"top 0.35s ease, left 0.35s ease",backgroundColor:"blue",color:"#fff",padding:"2px 4px",borderRadius:"4px",fontSize:"10px",pointerEvents:"none",zIndex:150},children:z.email},z.uid)})},Dl=()=>{if(!$e.current)return{visibleLeft:0,visibleTop:0,visibleWidth:0,visibleHeight:0};const D=$e.current.getBoundingClientRect(),F=-Q.x/V,z=-Q.y/V,j=D.width/V,Y=D.height/V;return{visibleLeft:F,visibleTop:z,visibleWidth:j,visibleHeight:Y}},ba=w.useMemo(()=>{if(!$e.current)return e;const{visibleLeft:D,visibleTop:F,visibleWidth:z,visibleHeight:j}=Dl(),Y=100;return e.filter(ee=>{const ce=ee.width||Mr,ve=ee.height||zn;return ee.x+ce>=D-Y&&ee.x<=D+z+Y&&ee.y+ve>=F-Y&&ee.y<=F+j+Y})},[e,Q,V]),yf=w.useMemo(()=>{const D=new Set(ba.map(F=>F.id));return r.filter(F=>D.has(F.source)||D.has(F.target))},[r,ba]);w.useEffect(()=>{if(Ie&&(Ie.bgColor!==je||Ie.textColor!==Nt||Ie.fontSize!==St||JSON.stringify(Ie.textStyle)!==JSON.stringify(rn)||Ie.textAlign!==gr||Ie.fontFamily!==ot)){const D=setTimeout(()=>{Y_()},300);return()=>clearTimeout(D)}},[je,Nt,St,rn,gr,ot,Ie]);const vn=qv(),X_=()=>!ts.visible||Nl?null:A.jsxs("div",{style:{position:"fixed",top:ts.y,left:ts.x,backgroundColor:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px",padding:"5px",zIndex:1e3,minWidth:"120px"},onContextMenu:D=>D.preventDefault(),children:[ts.type==="canvas"&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"context-menu-item",style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:D=>{mf()},children:"Paste"}),A.jsx("div",{className:"context-menu-item",style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:xg,children:"Reset"})]}),ts.type==="node"&&A.jsx("div",{className:"context-menu-item",onMouseDown:D=>{io(D)},children:"Copy"})]}),Q_=()=>{if(!$e.current)return{x:0,y:0};const D=$e.current.getBoundingClientRect(),F=250,z=50,j=D.width-F,Y=D.height-z,ee=F+j/2,ce=z+Y/2,ve=(ee-ie.current.x)/re.current,Oe=(ce-ie.current.y)/re.current;return{x:ve,y:Oe}};return w.useEffect(()=>{const D=()=>{ts.visible&&jc()};return document.addEventListener("click",D),()=>document.removeEventListener("click",D)},[ts.visible]),A.jsxs("div",{style:{userSelect:"none",cursor:ut||Nl?"grabbing":"default",height:"100vh",position:"relative"},ref:$e,onContextMenu:D=>D.preventDefault(),onMouseDown:D=>{if(D.target===$e.current){if($l(D),D.button!==2)return;ya(D)}},onDoubleClick:D=>{D.target===$e.current&&Cg()},onMouseMove:D=>{ns(D)},onMouseUp:D=>{if(Tg(),D.button===2){if(Ol.current=null,document.activeElement.tagName==="INPUT"||document.activeElement.tagName==="TEXTAREA")return;Eg(D),Nl&&(setTimeout(()=>Vc(!1),0),jc())}},onDragOver:q_,onDrop:K_,children:[_a(),A.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,height:"50px",backgroundColor:"rgba(29,32,34,0.9)",background:"radial-gradient(circle at center, rgba(29,32,34,.4) 0%, rgba(15,16,17,.7) 100%)",display:"flex",alignItems:"center",padding:"0 20px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.4)",zIndex:300},children:[A.jsx(Hn,{variant:"contained",onClick:()=>vn("/dashboard"),style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:A.jsx(b1e,{})}),A.jsx(Hn,{variant:"contained",onClick:U_,style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:"Add Node"}),A.jsx(Hn,{variant:"contained",onClick:()=>{u(D=>!D),h(null)},style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:c?"Exit Linking Mode":"Link Nodes"}),A.jsx(Hn,{variant:"contained",onClick:qc,style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:"Export"}),A.jsx(Hn,{variant:"contained",onClick:Xt,style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:"Zoom In"}),A.jsx(Hn,{variant:"contained",onClick:Hc,style:{background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:"Zoom Out"}),c&&A.jsx(Di,{variant:"body2",style:{color:"#fff",marginLeft:"10px"},children:f?"Select target node...":"Select source node..."})]}),A.jsx("div",{style:{position:"fixed",top:60,right:10,width:"250px",height:"calc(100% - 60px)",boxShadow:"0 2px 10px rgba(39, 39, 39, 0.6)",background:"radial-gradient(circle at center, #1D2022 0%, #0f1011 110%)",padding:"20px",boxSizing:"border-box",zIndex:300,overflowY:"auto",borderRadius:"8px"},onClick:D=>D.stopPropagation(),onMouseDown:D=>D.stopPropagation(),children:Ie?A.jsxs(A.Fragment,{children:[A.jsx(Di,{variant:"h6",style:{marginBottom:"10px",color:"#fff",fontWeight:"bold",textAlign:"center"},children:"Customize Menu"}),A.jsx(Di,{variant:"subtitle1",style:{marginBottom:"4px",color:"#ccc",fontWeight:400,fontFamily:"Arial"},children:"Font"}),A.jsxs(O1,{variant:"filled",size:"small",sx:{minWidth:210},style:{marginBottom:"10px"},children:[A.jsx(M1,{style:{color:"#ccc"},children:"Font"}),A.jsxs(u_,{value:ot,onChange:D=>En(D.target.value),style:{color:"#fff",backgroundColor:"#2b2b2b",width:"100%"},children:[A.jsx(La,{value:"cursive",children:"Cursive"}),A.jsx(La,{value:"Microsoft Yahei",children:"Microsoft Yahei"}),A.jsx(La,{value:"Arial",children:"Arial"}),A.jsx(La,{value:"Times New Roman",children:"Times New Roman"}),A.jsx(La,{value:"Courier New",children:"Courier New"})]})]}),A.jsx(Di,{variant:"subtitle1",style:{marginBottom:"4px",color:"#ccc",fontWeight:400},children:"Font size"}),A.jsx(Hee,{freeSolo:!0,options:es,getOptionLabel:D=>D.toString(),value:St,onChange:(D,F)=>{let z;typeof F=="number"?z=F:typeof F=="string"&&F.trim()!==""&&(z=parseInt(F,10)),isNaN(z)||_t(z)},onInputChange:(D,F)=>{const z=parseInt(F,10);isNaN(z)||_t(z)},sx:{width:"100%","& .MuiInputBase-root":{color:"#fff"},"& .MuiFilledInput-root":{backgroundColor:"#2b2b2b"},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiAutocomplete-popupIndicator":{color:"#fff"}},renderInput:D=>A.jsx(Rd,{...D,label:"Font Size",variant:"filled",InputLabelProps:{style:{color:"#ccc"}}}),style:{marginBottom:"12px",boxShadow:"inset 0 0 4px rgba(0,0,0,0.6)",borderRadius:"6px",color:"white"}}),A.jsxs(dre,{direction:"column",spacing:1,sx:{alignItems:"center"},children:[A.jsxs(gx,{color:"primary",value:rn,onChange:(D,F)=>to(F),style:{backgroundColor:"#2b2b2b",marginBottom:"8px",borderRadius:"6px"},"aria-label":"text style",size:"small",children:[A.jsx(Bs,{value:"bold","aria-label":"bold",children:A.jsx(R1e,{})}),A.jsx(Bs,{value:"italic","aria-label":"italic",children:A.jsx(P1e,{})}),A.jsx(Bs,{value:"underline","aria-label":"underline",children:A.jsx(k1e,{})})]}),A.jsxs(gx,{value:gr,color:"primary",exclusive:!0,onChange:(D,F)=>{F!==null&&ye(F)},style:{backgroundColor:"#2b2b2b",borderRadius:"6px"},"aria-label":"text alignment",size:"small",children:[A.jsx(Bs,{value:"left","aria-label":"left",children:A.jsx(T1e,{})}),A.jsx(Bs,{value:"center","aria-label":"center",children:A.jsx(C1e,{})}),A.jsx(Bs,{value:"right","aria-label":"right",children:A.jsx(I1e,{})})]})]}),A.jsxs(Id,{component:"div",sx:{fontSize:"1rem",marginTop:"12px",color:"#ccc",fontWeight:400,fontFamily:"Arial"},variant:"subtitle1",children:["Background",A.jsx("input",{type:"color",value:je,onChange:D=>ze(D.target.value),style:{display:"block",width:"100%",height:"40px",marginTop:"5px",border:"none",backgroundColor:"transparent",padding:0,borderRadius:"6px",cursor:"pointer"}})]}),A.jsxs(Id,{component:"div",sx:{fontSize:"1rem",marginTop:"12px",color:"#ccc",fontWeight:400,fontFamily:"Arial"},variant:"subtitle1",children:["Font Color",A.jsx("input",{type:"color",value:Nt,onChange:D=>me(D.target.value),style:{display:"block",width:"100%",height:"40px",border:"none",background:"transparent",padding:0,marginTop:"5px",borderRadius:"6px",cursor:"pointer"}})]}),A.jsx(Hn,{variant:"contained",onClick:Gc,style:{marginTop:"30px",backgroundColor:"#a11",color:"#fff",width:"100%"},children:"Remove All Links"})]}):A.jsx(Di,{variant:"body2",style:{color:"#fff"},children:"Select a node to customize..."})}),A.jsxs("div",{style:{position:"fixed",top:60,right:290,background:"radial-gradient(circle at center,rgba(29, 32, 34, 0.63) 0%, #0f1011 100%)",color:"#fff",padding:"8px",borderRadius:"4px",zIndex:250},children:[A.jsx(Di,{variant:"caption",children:"Active Users:"}),k.map((D,F)=>A.jsx("div",{children:A.jsx(Di,{variant:"caption",children:D.email})},F))]}),_a(),A.jsxs("div",{ref:Ne,onContextMenu:Ml,onMouseDown:ya,onClick:D=>{D.target===Ne.current&&b([])},style:{position:"absolute",top:0,left:0,width:".1px",height:".1px",overflow:"visible",transform:`translate(${Q.x}px, ${Q.y}px) scale(${V})`,transformOrigin:"top left"},children:[A.jsx("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",overflow:"visible"},children:yf.map(D=>{const F=e.find(Be=>Be.id===D.source),z=e.find(Be=>Be.id===D.target);if(!F||!z)return null;const j=F.width||Mr,Y=F.height||zn,ee=z.width||Mr,ce=z.height||zn,ve=F.x+j/2,Oe=F.y+Y/2,Ce=z.x+ee/2,we=z.y+ce/2;return A.jsx("line",{x1:ve,y1:Oe,x2:Ce,y2:we,stroke:"rgba(255, 255, 255, 0.29)",strokeWidth:"5"},D.id)})}),ba.map(D=>A.jsx(ule,{node:D,zoom:re.current,groupDelta:Vn,isHighlighted:Ig(D),currentUserEmail:T,selectedNodes:y,editingNodeId:o,editedText:a,handleResizeMouseDown:Sg,handleNodeClick:V_,handleDoubleClick:j_,handleTyping:W_,handleTextBlur:z_,setEditedText:l,setHoveredNodeId:Ue,linkingSource:f,hoveredNodeId:De,onStart:(F,z)=>{if(o===D.id)return!1;Xe(!0);const j=$e.current.getBoundingClientRect(),Y=(F.clientX-j.left-ie.current.x)/re.current,ee=(F.clientY-j.top-ie.current.y)/re.current,ce=Y-D.x,ve=ee-D.y;Ct.current={offsetX:ce,offsetY:ve,initialX:D.x,initialY:D.y},(y.length<1||y.length<2)&&ro(D),y.length>1&&y.includes(D.id)&&Object.keys(Vt.current).length===0&&y.forEach(Oe=>{const Ce=e.find(we=>we.id===Oe);Ce&&(Vt.current[Oe]={x:Ce.x,y:Ce.y})})},onDrag:(F,z)=>{const j=$e.current.getBoundingClientRect(),Y=(F.clientX-j.left-ie.current.x)/re.current,ee=(F.clientY-j.top-ie.current.y)/re.current,ce=Y-Ct.current.offsetX,ve=ee-Ct.current.offsetY;y.length>1&&y.includes(D.id)?Yt({x:ce-Ct.current.initialX,y:ve-Ct.current.initialY}):n(Oe=>Oe.map(Ce=>Ce.id===D.id?{...Ce,x:ce,y:ve}:Ce))},onStop:async(F,z)=>{const j=$e.current.getBoundingClientRect(),Y=(F.clientX-j.left-ie.current.x)/re.current,ee=(F.clientY-j.top-ie.current.y)/re.current,ce=Y-Ct.current.offsetX,ve=ee-Ct.current.offsetY;if(Math.sqrt(Math.pow(ce-Ct.current.initialX,2)+Math.pow(ve-Ct.current.initialY,2))<.01){Xe(!1);return}if(y.length>1){ir();const we=ce-Ct.current.initialX,Be=ve-Ct.current.initialY,tt={};y.forEach(He=>{const Kt=Vt.current[He];Kt&&(tt[He]={x:Kt.x+we,y:Kt.y+Be})}),n(He=>He.map(Kt=>y.includes(Kt.id)&&tt[Kt.id]&&Kt.id!==D.id?{...Kt,x:tt[Kt.id].x,y:tt[Kt.id].y}:Kt));const Lt=ui(be);y.forEach(He=>{if(tt[He]){const Kt=sn(be,"mindMaps",t,"nodes",He);Lt.update(Kt,{x:tt[He].x,y:tt[He].y})}});try{await Lt.commit()}catch(He){console.error("Error updating nodes in batch:",He)}Vt.current={},Wr({x:0,y:0})}else{n(we=>we.map(Be=>Be.id===D.id?{...Be,x:ce,y:ve}:Be));try{const we=sn(be,"mindMaps",t,"nodes",D.id);await uu(we,{x:ce,y:ve})}catch(we){console.error("Error updating node position:",we)}}Xe(!1)}},D.id)),_&&(()=>{const D=(_.width+_.height)/2,F=Math.max(1,D*.02);return A.jsx("svg",{style:{position:"absolute",left:_.x,top:_.y,width:_.width,height:_.height,pointerEvents:"none",zIndex:500},children:A.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"rgba(128,128,128,0.1)",stroke:"white",strokeWidth:F})})})()]}),A.jsx(X_,{}),A.jsx(A1e,{localCursor:P,canvasCenter:Q_(),mergeMindMapData:G_,isChatOpen:hf,setIsChatOpen:wg})]})};function M1e(){return A.jsxs(r6,{children:[A.jsx($m,{path:"/",element:A.jsx(Hre,{})}),A.jsx($m,{path:"/dashboard",element:A.jsx(Xre,{})}),A.jsx($m,{path:"/editor/:id",element:A.jsx(N1e,{})})]})}ww.createRoot(document.getElementById("root")).render(A.jsx(T6,{children:A.jsx(M1e,{})}))});export default $1e();
