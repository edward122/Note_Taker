var pV=Object.defineProperty;var gV=(t,e,n)=>e in t?pV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var mV=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Cf=(t,e,n)=>gV(t,typeof e!="symbol"?e+"":e,n);var OIe=mV((Hi,Gi)=>{function yV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ja=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ap(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vV(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var RN={exports:{}},Gv={},PN={exports:{}},Tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op=Symbol.for("react.element"),_V=Symbol.for("react.portal"),bV=Symbol.for("react.fragment"),wV=Symbol.for("react.strict_mode"),EV=Symbol.for("react.profiler"),xV=Symbol.for("react.provider"),SV=Symbol.for("react.context"),CV=Symbol.for("react.forward_ref"),TV=Symbol.for("react.suspense"),IV=Symbol.for("react.memo"),RV=Symbol.for("react.lazy"),PI=Symbol.iterator;function PV(t){return t===null||typeof t!="object"?null:(t=PI&&t[PI]||t["@@iterator"],typeof t=="function"?t:null)}var kN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AN=Object.assign,ON={};function Fd(t,e,n){this.props=t,this.context=e,this.refs=ON,this.updater=n||kN}Fd.prototype.isReactComponent={};Fd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function NN(){}NN.prototype=Fd.prototype;function oS(t,e,n){this.props=t,this.context=e,this.refs=ON,this.updater=n||kN}var sS=oS.prototype=new NN;sS.constructor=oS;AN(sS,Fd.prototype);sS.isPureReactComponent=!0;var kI=Array.isArray,MN=Object.prototype.hasOwnProperty,aS={current:null},DN={key:!0,ref:!0,__self:!0,__source:!0};function $N(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)MN.call(e,r)&&!DN.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Op,type:t,key:o,ref:s,props:i,_owner:aS.current}}function kV(t,e){return{$$typeof:Op,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lS(t){return typeof t=="object"&&t!==null&&t.$$typeof===Op}function AV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var AI=/\/+/g;function fb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?AV(""+t.key):e.toString(36)}function Lm(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Op:case _V:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+fb(s,0):r,kI(i)?(n="",t!=null&&(n=t.replace(AI,"$&/")+"/"),Lm(i,e,n,"",function(c){return c})):i!=null&&(lS(i)&&(i=kV(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(AI,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",kI(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+fb(o,a);s+=Lm(o,e,n,l,i)}else if(l=PV(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+fb(o,a++),s+=Lm(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function jg(t,e,n){if(t==null)return t;var r=[],i=0;return Lm(t,r,"","",function(o){return e.call(n,o,i++)}),r}function OV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ni={current:null},Fm={transition:null},NV={ReactCurrentDispatcher:ni,ReactCurrentBatchConfig:Fm,ReactCurrentOwner:aS};Tt.Children={map:jg,forEach:function(t,e,n){jg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jg(t,function(){e++}),e},toArray:function(t){return jg(t,function(e){return e})||[]},only:function(t){if(!lS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Tt.Component=Fd;Tt.Fragment=bV;Tt.Profiler=EV;Tt.PureComponent=oS;Tt.StrictMode=wV;Tt.Suspense=TV;Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NV;Tt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=AN({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=aS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)MN.call(e,l)&&!DN.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Op,type:t.type,key:i,ref:o,props:r,_owner:s}};Tt.createContext=function(t){return t={$$typeof:SV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xV,_context:t},t.Consumer=t};Tt.createElement=$N;Tt.createFactory=function(t){var e=$N.bind(null,t);return e.type=t,e};Tt.createRef=function(){return{current:null}};Tt.forwardRef=function(t){return{$$typeof:CV,render:t}};Tt.isValidElement=lS;Tt.lazy=function(t){return{$$typeof:RV,_payload:{_status:-1,_result:t},_init:OV}};Tt.memo=function(t,e){return{$$typeof:IV,type:t,compare:e===void 0?null:e}};Tt.startTransition=function(t){var e=Fm.transition;Fm.transition={};try{t()}finally{Fm.transition=e}};Tt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Tt.useCallback=function(t,e){return ni.current.useCallback(t,e)};Tt.useContext=function(t){return ni.current.useContext(t)};Tt.useDebugValue=function(){};Tt.useDeferredValue=function(t){return ni.current.useDeferredValue(t)};Tt.useEffect=function(t,e){return ni.current.useEffect(t,e)};Tt.useId=function(){return ni.current.useId()};Tt.useImperativeHandle=function(t,e,n){return ni.current.useImperativeHandle(t,e,n)};Tt.useInsertionEffect=function(t,e){return ni.current.useInsertionEffect(t,e)};Tt.useLayoutEffect=function(t,e){return ni.current.useLayoutEffect(t,e)};Tt.useMemo=function(t,e){return ni.current.useMemo(t,e)};Tt.useReducer=function(t,e,n){return ni.current.useReducer(t,e,n)};Tt.useRef=function(t){return ni.current.useRef(t)};Tt.useState=function(t){return ni.current.useState(t)};Tt.useSyncExternalStore=function(t,e,n){return ni.current.useSyncExternalStore(t,e,n)};Tt.useTransition=function(){return ni.current.useTransition()};Tt.version="18.2.0";PN.exports=Tt;var w=PN.exports;const $=Ap(w),Nw=yV({__proto__:null,default:$},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MV=w,DV=Symbol.for("react.element"),$V=Symbol.for("react.fragment"),LV=Object.prototype.hasOwnProperty,FV=MV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BV={key:!0,ref:!0,__self:!0,__source:!0};function LN(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)LV.call(e,r)&&!BV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:DV,type:t,key:o,ref:s,props:i,_owner:FV.current}}Gv.Fragment=$V;Gv.jsx=LN;Gv.jsxs=LN;RN.exports=Gv;var A=RN.exports,Mw={},FN={exports:{}},eo={},BN={exports:{}},VN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,B){var Q=V.length;V.push(B);e:for(;0<Q;){var re=Q-1>>>1,he=V[re];if(0<i(he,B))V[re]=B,V[Q]=he,Q=re;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var B=V[0],Q=V.pop();if(Q!==B){V[0]=Q;e:for(var re=0,he=V.length,ge=he>>>1;re<ge;){var ie=2*(re+1)-1,oe=V[ie],Me=ie+1,Ve=V[Me];if(0>i(oe,Q))Me<he&&0>i(Ve,oe)?(V[re]=Ve,V[Me]=Q,re=Me):(V[re]=oe,V[ie]=Q,re=ie);else if(Me<he&&0>i(Ve,Q))V[re]=Ve,V[Me]=Q,re=Me;else break e}}return B}function i(V,B){var Q=V.sortIndex-B.sortIndex;return Q!==0?Q:V.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,f=null,h=3,p=!1,g=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(V){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=V)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function S(V){if(E=!1,_(V),!g)if(n(l)!==null)g=!0,W(O);else{var B=n(c);B!==null&&G(S,B.startTime-V)}}function O(V,B){g=!1,E&&(E=!1,y(I),I=-1),p=!0;var Q=h;try{for(_(B),f=n(l);f!==null&&(!(f.expirationTime>B)||V&&!k());){var re=f.callback;if(typeof re=="function"){f.callback=null,h=f.priorityLevel;var he=re(f.expirationTime<=B);B=t.unstable_now(),typeof he=="function"?f.callback=he:f===n(l)&&r(l),_(B)}else r(l);f=n(l)}if(f!==null)var ge=!0;else{var ie=n(c);ie!==null&&G(S,ie.startTime-B),ge=!1}return ge}finally{f=null,h=Q,p=!1}}var N=!1,T=null,I=-1,R=5,v=-1;function k(){return!(t.unstable_now()-v<R)}function M(){if(T!==null){var V=t.unstable_now();v=V;var B=!0;try{B=T(!0,V)}finally{B?P():(N=!1,T=null)}}else N=!1}var P;if(typeof b=="function")P=function(){b(M)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,H=q.port2;q.port1.onmessage=M,P=function(){H.postMessage(null)}}else P=function(){x(M,0)};function W(V){T=V,N||(N=!0,P())}function G(V,B){I=x(function(){V(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,W(O))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var Q=h;h=B;try{return V()}finally{h=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,B){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=h;h=V;try{return B()}finally{h=Q}},t.unstable_scheduleCallback=function(V,B,Q){var re=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?re+Q:re):Q=re,V){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=Q+he,V={id:u++,callback:B,priorityLevel:V,startTime:Q,expirationTime:he,sortIndex:-1},Q>re?(V.sortIndex=Q,e(c,V),n(l)===null&&V===n(c)&&(E?(y(I),I=-1):E=!0,G(S,Q-re))):(V.sortIndex=he,e(l,V),g||p||(g=!0,W(O))),V},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(V){var B=h;return function(){var Q=h;h=B;try{return V.apply(this,arguments)}finally{h=Q}}}})(VN);BN.exports=VN;var VV=BN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UN=w,Qi=VV;function se(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jN=new Set,Uh={};function Ic(t,e){cd(t,e),cd(t+"Capture",e)}function cd(t,e){for(Uh[t]=e,t=0;t<e.length;t++)jN.add(e[t])}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dw=Object.prototype.hasOwnProperty,UV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OI={},NI={};function jV(t){return Dw.call(NI,t)?!0:Dw.call(OI,t)?!1:UV.test(t)?NI[t]=!0:(OI[t]=!0,!1)}function zV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WV(t,e,n,r){if(e===null||typeof e>"u"||zV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ri(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Cr[t]=new ri(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Cr[e]=new ri(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Cr[t]=new ri(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Cr[t]=new ri(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Cr[t]=new ri(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Cr[t]=new ri(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Cr[t]=new ri(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Cr[t]=new ri(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Cr[t]=new ri(t,5,!1,t.toLowerCase(),null,!1,!1)});var cS=/[\-:]([a-z])/g;function uS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cS,uS);Cr[e]=new ri(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cS,uS);Cr[e]=new ri(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cS,uS);Cr[e]=new ri(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Cr[t]=new ri(t,1,!1,t.toLowerCase(),null,!1,!1)});Cr.xlinkHref=new ri("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Cr[t]=new ri(t,1,!1,t.toLowerCase(),null,!0,!0)});function dS(t,e,n,r){var i=Cr.hasOwnProperty(e)?Cr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WV(e,n,i,r)&&(n=null),r||i===null?jV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ma=UN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zg=Symbol.for("react.element"),Mu=Symbol.for("react.portal"),Du=Symbol.for("react.fragment"),fS=Symbol.for("react.strict_mode"),$w=Symbol.for("react.profiler"),zN=Symbol.for("react.provider"),WN=Symbol.for("react.context"),hS=Symbol.for("react.forward_ref"),Lw=Symbol.for("react.suspense"),Fw=Symbol.for("react.suspense_list"),pS=Symbol.for("react.memo"),Aa=Symbol.for("react.lazy"),HN=Symbol.for("react.offscreen"),MI=Symbol.iterator;function Tf(t){return t===null||typeof t!="object"?null:(t=MI&&t[MI]||t["@@iterator"],typeof t=="function"?t:null)}var Pn=Object.assign,hb;function Qf(t){if(hb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hb=e&&e[1]||""}return`
`+hb+t}var pb=!1;function gb(t,e){if(!t||pb)return"";pb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{pb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qf(t):""}function HV(t){switch(t.tag){case 5:return Qf(t.type);case 16:return Qf("Lazy");case 13:return Qf("Suspense");case 19:return Qf("SuspenseList");case 0:case 2:case 15:return t=gb(t.type,!1),t;case 11:return t=gb(t.type.render,!1),t;case 1:return t=gb(t.type,!0),t;default:return""}}function Bw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Du:return"Fragment";case Mu:return"Portal";case $w:return"Profiler";case fS:return"StrictMode";case Lw:return"Suspense";case Fw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case WN:return(t.displayName||"Context")+".Consumer";case zN:return(t._context.displayName||"Context")+".Provider";case hS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pS:return e=t.displayName||null,e!==null?e:Bw(t.type)||"Memo";case Aa:e=t._payload,t=t._init;try{return Bw(t(e))}catch{}}return null}function GV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bw(e);case 8:return e===fS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ll(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KV(t){var e=GN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wg(t){t._valueTracker||(t._valueTracker=KV(t))}function KN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=GN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yy(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vw(t,e){var n=e.checked;return Pn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function DI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ll(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qN(t,e){e=e.checked,e!=null&&dS(t,"checked",e,!1)}function Uw(t,e){qN(t,e);var n=ll(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jw(t,e.type,n):e.hasOwnProperty("defaultValue")&&jw(t,e.type,ll(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $I(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jw(t,e,n){(e!=="number"||yy(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jf=Array.isArray;function qu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ll(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(se(91));return Pn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function LI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(se(92));if(Jf(n)){if(1<n.length)throw Error(se(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ll(n)}}function YN(t,e){var n=ll(e.value),r=ll(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function FI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function XN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ww(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?XN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hg,QN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hg=Hg||document.createElement("div"),Hg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qV=["Webkit","ms","Moz","O"];Object.keys(hh).forEach(function(t){qV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hh[e]=hh[t]})});function JN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hh.hasOwnProperty(t)&&hh[t]?(""+e).trim():e+"px"}function ZN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=JN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var YV=Pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hw(t,e){if(e){if(YV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(se(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(se(62))}}function Gw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kw=null;function gS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qw=null,Yu=null,Xu=null;function BI(t){if(t=Dp(t)){if(typeof qw!="function")throw Error(se(280));var e=t.stateNode;e&&(e=Qv(e),qw(t.stateNode,t.type,e))}}function eM(t){Yu?Xu?Xu.push(t):Xu=[t]:Yu=t}function tM(){if(Yu){var t=Yu,e=Xu;if(Xu=Yu=null,BI(t),e)for(t=0;t<e.length;t++)BI(e[t])}}function nM(t,e){return t(e)}function rM(){}var mb=!1;function iM(t,e,n){if(mb)return t(e,n);mb=!0;try{return nM(t,e,n)}finally{mb=!1,(Yu!==null||Xu!==null)&&(rM(),tM())}}function zh(t,e){var n=t.stateNode;if(n===null)return null;var r=Qv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(se(231,e,typeof n));return n}var Yw=!1;if(ta)try{var If={};Object.defineProperty(If,"passive",{get:function(){Yw=!0}}),window.addEventListener("test",If,If),window.removeEventListener("test",If,If)}catch{Yw=!1}function XV(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var ph=!1,vy=null,_y=!1,Xw=null,QV={onError:function(t){ph=!0,vy=t}};function JV(t,e,n,r,i,o,s,a,l){ph=!1,vy=null,XV.apply(QV,arguments)}function ZV(t,e,n,r,i,o,s,a,l){if(JV.apply(this,arguments),ph){if(ph){var c=vy;ph=!1,vy=null}else throw Error(se(198));_y||(_y=!0,Xw=c)}}function Rc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function oM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function VI(t){if(Rc(t)!==t)throw Error(se(188))}function eU(t){var e=t.alternate;if(!e){if(e=Rc(t),e===null)throw Error(se(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return VI(i),t;if(o===r)return VI(i),e;o=o.sibling}throw Error(se(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?t:e}function sM(t){return t=eU(t),t!==null?aM(t):null}function aM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=aM(t);if(e!==null)return e;t=t.sibling}return null}var lM=Qi.unstable_scheduleCallback,UI=Qi.unstable_cancelCallback,tU=Qi.unstable_shouldYield,nU=Qi.unstable_requestPaint,Fn=Qi.unstable_now,rU=Qi.unstable_getCurrentPriorityLevel,mS=Qi.unstable_ImmediatePriority,cM=Qi.unstable_UserBlockingPriority,by=Qi.unstable_NormalPriority,iU=Qi.unstable_LowPriority,uM=Qi.unstable_IdlePriority,Kv=null,ys=null;function oU(t){if(ys&&typeof ys.onCommitFiberRoot=="function")try{ys.onCommitFiberRoot(Kv,t,void 0,(t.current.flags&128)===128)}catch{}}var Wo=Math.clz32?Math.clz32:lU,sU=Math.log,aU=Math.LN2;function lU(t){return t>>>=0,t===0?32:31-(sU(t)/aU|0)|0}var Gg=64,Kg=4194304;function Zf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Zf(a):(o&=s,o!==0&&(r=Zf(o)))}else s=n&~i,s!==0?r=Zf(s):o!==0&&(r=Zf(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wo(e),i=1<<n,r|=t[n],e&=~i;return r}function cU(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uU(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Wo(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=cU(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Qw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dM(){var t=Gg;return Gg<<=1,!(Gg&4194240)&&(Gg=64),t}function yb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Np(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wo(e),t[e]=n}function dU(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Wo(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function yS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Kt=0;function fM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hM,vS,pM,gM,mM,Jw=!1,qg=[],Ga=null,Ka=null,qa=null,Wh=new Map,Hh=new Map,Ma=[],fU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jI(t,e){switch(t){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":Wh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hh.delete(e.pointerId)}}function Rf(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Dp(e),e!==null&&vS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hU(t,e,n,r,i){switch(e){case"focusin":return Ga=Rf(Ga,t,e,n,r,i),!0;case"dragenter":return Ka=Rf(Ka,t,e,n,r,i),!0;case"mouseover":return qa=Rf(qa,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Wh.set(o,Rf(Wh.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Hh.set(o,Rf(Hh.get(o)||null,t,e,n,r,i)),!0}return!1}function yM(t){var e=Xl(t.target);if(e!==null){var n=Rc(e);if(n!==null){if(e=n.tag,e===13){if(e=oM(n),e!==null){t.blockedOn=e,mM(t.priority,function(){pM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Kw=r,n.target.dispatchEvent(r),Kw=null}else return e=Dp(n),e!==null&&vS(e),t.blockedOn=n,!1;e.shift()}return!0}function zI(t,e,n){Bm(t)&&n.delete(e)}function pU(){Jw=!1,Ga!==null&&Bm(Ga)&&(Ga=null),Ka!==null&&Bm(Ka)&&(Ka=null),qa!==null&&Bm(qa)&&(qa=null),Wh.forEach(zI),Hh.forEach(zI)}function Pf(t,e){t.blockedOn===e&&(t.blockedOn=null,Jw||(Jw=!0,Qi.unstable_scheduleCallback(Qi.unstable_NormalPriority,pU)))}function Gh(t){function e(i){return Pf(i,t)}if(0<qg.length){Pf(qg[0],t);for(var n=1;n<qg.length;n++){var r=qg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ga!==null&&Pf(Ga,t),Ka!==null&&Pf(Ka,t),qa!==null&&Pf(qa,t),Wh.forEach(e),Hh.forEach(e),n=0;n<Ma.length;n++)r=Ma[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ma.length&&(n=Ma[0],n.blockedOn===null);)yM(n),n.blockedOn===null&&Ma.shift()}var Qu=ma.ReactCurrentBatchConfig,Ey=!0;function gU(t,e,n,r){var i=Kt,o=Qu.transition;Qu.transition=null;try{Kt=1,_S(t,e,n,r)}finally{Kt=i,Qu.transition=o}}function mU(t,e,n,r){var i=Kt,o=Qu.transition;Qu.transition=null;try{Kt=4,_S(t,e,n,r)}finally{Kt=i,Qu.transition=o}}function _S(t,e,n,r){if(Ey){var i=Zw(t,e,n,r);if(i===null)Ib(t,e,r,xy,n),jI(t,r);else if(hU(i,t,e,n,r))r.stopPropagation();else if(jI(t,r),e&4&&-1<fU.indexOf(t)){for(;i!==null;){var o=Dp(i);if(o!==null&&hM(o),o=Zw(t,e,n,r),o===null&&Ib(t,e,r,xy,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ib(t,e,r,null,n)}}var xy=null;function Zw(t,e,n,r){if(xy=null,t=gS(r),t=Xl(t),t!==null)if(e=Rc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=oM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xy=t,null}function vM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rU()){case mS:return 1;case cM:return 4;case by:case iU:return 16;case uM:return 536870912;default:return 16}default:return 16}}var za=null,bS=null,Vm=null;function _M(){if(Vm)return Vm;var t,e=bS,n=e.length,r,i="value"in za?za.value:za.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Vm=i.slice(t,1<r?1-r:void 0)}function Um(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yg(){return!0}function WI(){return!1}function to(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Yg:WI,this.isPropagationStopped=WI,this}return Pn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yg)},persist:function(){},isPersistent:Yg}),e}var Bd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wS=to(Bd),Mp=Pn({},Bd,{view:0,detail:0}),yU=to(Mp),vb,_b,kf,qv=Pn({},Mp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ES,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kf&&(kf&&t.type==="mousemove"?(vb=t.screenX-kf.screenX,_b=t.screenY-kf.screenY):_b=vb=0,kf=t),vb)},movementY:function(t){return"movementY"in t?t.movementY:_b}}),HI=to(qv),vU=Pn({},qv,{dataTransfer:0}),_U=to(vU),bU=Pn({},Mp,{relatedTarget:0}),bb=to(bU),wU=Pn({},Bd,{animationName:0,elapsedTime:0,pseudoElement:0}),EU=to(wU),xU=Pn({},Bd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SU=to(xU),CU=Pn({},Bd,{data:0}),GI=to(CU),TU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=RU[t])?!!e[t]:!1}function ES(){return PU}var kU=Pn({},Mp,{key:function(t){if(t.key){var e=TU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Um(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?IU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ES,charCode:function(t){return t.type==="keypress"?Um(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Um(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AU=to(kU),OU=Pn({},qv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),KI=to(OU),NU=Pn({},Mp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ES}),MU=to(NU),DU=Pn({},Bd,{propertyName:0,elapsedTime:0,pseudoElement:0}),$U=to(DU),LU=Pn({},qv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FU=to(LU),BU=[9,13,27,32],xS=ta&&"CompositionEvent"in window,gh=null;ta&&"documentMode"in document&&(gh=document.documentMode);var VU=ta&&"TextEvent"in window&&!gh,bM=ta&&(!xS||gh&&8<gh&&11>=gh),qI=" ",YI=!1;function wM(t,e){switch(t){case"keyup":return BU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function EM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $u=!1;function UU(t,e){switch(t){case"compositionend":return EM(e);case"keypress":return e.which!==32?null:(YI=!0,qI);case"textInput":return t=e.data,t===qI&&YI?null:t;default:return null}}function jU(t,e){if($u)return t==="compositionend"||!xS&&wM(t,e)?(t=_M(),Vm=bS=za=null,$u=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bM&&e.locale!=="ko"?null:e.data;default:return null}}var zU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zU[t.type]:e==="textarea"}function xM(t,e,n,r){eM(r),e=Sy(e,"onChange"),0<e.length&&(n=new wS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var mh=null,Kh=null;function WU(t){MM(t,0)}function Yv(t){var e=Bu(t);if(KN(e))return t}function HU(t,e){if(t==="change")return e}var SM=!1;if(ta){var wb;if(ta){var Eb="oninput"in document;if(!Eb){var QI=document.createElement("div");QI.setAttribute("oninput","return;"),Eb=typeof QI.oninput=="function"}wb=Eb}else wb=!1;SM=wb&&(!document.documentMode||9<document.documentMode)}function JI(){mh&&(mh.detachEvent("onpropertychange",CM),Kh=mh=null)}function CM(t){if(t.propertyName==="value"&&Yv(Kh)){var e=[];xM(e,Kh,t,gS(t)),iM(WU,e)}}function GU(t,e,n){t==="focusin"?(JI(),mh=e,Kh=n,mh.attachEvent("onpropertychange",CM)):t==="focusout"&&JI()}function KU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yv(Kh)}function qU(t,e){if(t==="click")return Yv(e)}function YU(t,e){if(t==="input"||t==="change")return Yv(e)}function XU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qo=typeof Object.is=="function"?Object.is:XU;function qh(t,e){if(qo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Dw.call(e,i)||!qo(t[i],e[i]))return!1}return!0}function ZI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eR(t,e){var n=ZI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ZI(n)}}function TM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?TM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function IM(){for(var t=window,e=yy();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yy(t.document)}return e}function SS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function QU(t){var e=IM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&TM(n.ownerDocument.documentElement,n)){if(r!==null&&SS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=eR(n,o);var s=eR(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var JU=ta&&"documentMode"in document&&11>=document.documentMode,Lu=null,eE=null,yh=null,tE=!1;function tR(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tE||Lu==null||Lu!==yy(r)||(r=Lu,"selectionStart"in r&&SS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yh&&qh(yh,r)||(yh=r,r=Sy(eE,"onSelect"),0<r.length&&(e=new wS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Lu)))}function Xg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fu={animationend:Xg("Animation","AnimationEnd"),animationiteration:Xg("Animation","AnimationIteration"),animationstart:Xg("Animation","AnimationStart"),transitionend:Xg("Transition","TransitionEnd")},xb={},RM={};ta&&(RM=document.createElement("div").style,"AnimationEvent"in window||(delete Fu.animationend.animation,delete Fu.animationiteration.animation,delete Fu.animationstart.animation),"TransitionEvent"in window||delete Fu.transitionend.transition);function Xv(t){if(xb[t])return xb[t];if(!Fu[t])return t;var e=Fu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in RM)return xb[t]=e[n];return t}var PM=Xv("animationend"),kM=Xv("animationiteration"),AM=Xv("animationstart"),OM=Xv("transitionend"),NM=new Map,nR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sl(t,e){NM.set(t,e),Ic(e,[t])}for(var Sb=0;Sb<nR.length;Sb++){var Cb=nR[Sb],ZU=Cb.toLowerCase(),ej=Cb[0].toUpperCase()+Cb.slice(1);Sl(ZU,"on"+ej)}Sl(PM,"onAnimationEnd");Sl(kM,"onAnimationIteration");Sl(AM,"onAnimationStart");Sl("dblclick","onDoubleClick");Sl("focusin","onFocus");Sl("focusout","onBlur");Sl(OM,"onTransitionEnd");cd("onMouseEnter",["mouseout","mouseover"]);cd("onMouseLeave",["mouseout","mouseover"]);cd("onPointerEnter",["pointerout","pointerover"]);cd("onPointerLeave",["pointerout","pointerover"]);Ic("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ic("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ic("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ic("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ic("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ic("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tj=new Set("cancel close invalid load scroll toggle".split(" ").concat(eh));function rR(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ZV(r,e,void 0,t),t.currentTarget=null}function MM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;rR(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;rR(i,a,c),o=l}}}if(_y)throw t=Xw,_y=!1,Xw=null,t}function un(t,e){var n=e[sE];n===void 0&&(n=e[sE]=new Set);var r=t+"__bubble";n.has(r)||(DM(e,t,2,!1),n.add(r))}function Tb(t,e,n){var r=0;e&&(r|=4),DM(n,t,r,e)}var Qg="_reactListening"+Math.random().toString(36).slice(2);function Yh(t){if(!t[Qg]){t[Qg]=!0,jN.forEach(function(n){n!=="selectionchange"&&(tj.has(n)||Tb(n,!1,t),Tb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qg]||(e[Qg]=!0,Tb("selectionchange",!1,e))}}function DM(t,e,n,r){switch(vM(e)){case 1:var i=gU;break;case 4:i=mU;break;default:i=_S}n=i.bind(null,e,n,t),i=void 0,!Yw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ib(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Xl(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}iM(function(){var c=o,u=gS(n),f=[];e:{var h=NM.get(t);if(h!==void 0){var p=wS,g=t;switch(t){case"keypress":if(Um(n)===0)break e;case"keydown":case"keyup":p=AU;break;case"focusin":g="focus",p=bb;break;case"focusout":g="blur",p=bb;break;case"beforeblur":case"afterblur":p=bb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=HI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=_U;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=MU;break;case PM:case kM:case AM:p=EU;break;case OM:p=$U;break;case"scroll":p=yU;break;case"wheel":p=FU;break;case"copy":case"cut":case"paste":p=SU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=KI}var E=(e&4)!==0,x=!E&&t==="scroll",y=E?h!==null?h+"Capture":null:h;E=[];for(var b=c,_;b!==null;){_=b;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,y!==null&&(S=zh(b,y),S!=null&&E.push(Xh(b,S,_)))),x)break;b=b.return}0<E.length&&(h=new p(h,g,null,n,u),f.push({event:h,listeners:E}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Kw&&(g=n.relatedTarget||n.fromElement)&&(Xl(g)||g[na]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?Xl(g):null,g!==null&&(x=Rc(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(E=HI,S="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(E=KI,S="onPointerLeave",y="onPointerEnter",b="pointer"),x=p==null?h:Bu(p),_=g==null?h:Bu(g),h=new E(S,b+"leave",p,n,u),h.target=x,h.relatedTarget=_,S=null,Xl(u)===c&&(E=new E(y,b+"enter",g,n,u),E.target=_,E.relatedTarget=x,S=E),x=S,p&&g)t:{for(E=p,y=g,b=0,_=E;_;_=eu(_))b++;for(_=0,S=y;S;S=eu(S))_++;for(;0<b-_;)E=eu(E),b--;for(;0<_-b;)y=eu(y),_--;for(;b--;){if(E===y||y!==null&&E===y.alternate)break t;E=eu(E),y=eu(y)}E=null}else E=null;p!==null&&iR(f,h,p,E,!1),g!==null&&x!==null&&iR(f,x,g,E,!0)}}e:{if(h=c?Bu(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var O=HU;else if(XI(h))if(SM)O=YU;else{O=KU;var N=GU}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=qU);if(O&&(O=O(t,c))){xM(f,O,n,u);break e}N&&N(t,h,c),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&jw(h,"number",h.value)}switch(N=c?Bu(c):window,t){case"focusin":(XI(N)||N.contentEditable==="true")&&(Lu=N,eE=c,yh=null);break;case"focusout":yh=eE=Lu=null;break;case"mousedown":tE=!0;break;case"contextmenu":case"mouseup":case"dragend":tE=!1,tR(f,n,u);break;case"selectionchange":if(JU)break;case"keydown":case"keyup":tR(f,n,u)}var T;if(xS)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else $u?wM(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(bM&&n.locale!=="ko"&&($u||I!=="onCompositionStart"?I==="onCompositionEnd"&&$u&&(T=_M()):(za=u,bS="value"in za?za.value:za.textContent,$u=!0)),N=Sy(c,I),0<N.length&&(I=new GI(I,t,null,n,u),f.push({event:I,listeners:N}),T?I.data=T:(T=EM(n),T!==null&&(I.data=T)))),(T=VU?UU(t,n):jU(t,n))&&(c=Sy(c,"onBeforeInput"),0<c.length&&(u=new GI("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=T))}MM(f,e)})}function Xh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sy(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=zh(t,n),o!=null&&r.unshift(Xh(t,o,i)),o=zh(t,e),o!=null&&r.push(Xh(t,o,i))),t=t.return}return r}function eu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function iR(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=zh(n,o),l!=null&&s.unshift(Xh(n,l,a))):i||(l=zh(n,o),l!=null&&s.push(Xh(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var nj=/\r\n?/g,rj=/\u0000|\uFFFD/g;function oR(t){return(typeof t=="string"?t:""+t).replace(nj,`
`).replace(rj,"")}function Jg(t,e,n){if(e=oR(e),oR(t)!==e&&n)throw Error(se(425))}function Cy(){}var nE=null,rE=null;function iE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var oE=typeof setTimeout=="function"?setTimeout:void 0,ij=typeof clearTimeout=="function"?clearTimeout:void 0,sR=typeof Promise=="function"?Promise:void 0,oj=typeof queueMicrotask=="function"?queueMicrotask:typeof sR<"u"?function(t){return sR.resolve(null).then(t).catch(sj)}:oE;function sj(t){setTimeout(function(){throw t})}function Rb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Gh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gh(e)}function Ya(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function aR(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Vd=Math.random().toString(36).slice(2),ps="__reactFiber$"+Vd,Qh="__reactProps$"+Vd,na="__reactContainer$"+Vd,sE="__reactEvents$"+Vd,aj="__reactListeners$"+Vd,lj="__reactHandles$"+Vd;function Xl(t){var e=t[ps];if(e)return e;for(var n=t.parentNode;n;){if(e=n[na]||n[ps]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=aR(t);t!==null;){if(n=t[ps])return n;t=aR(t)}return e}t=n,n=t.parentNode}return null}function Dp(t){return t=t[ps]||t[na],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(se(33))}function Qv(t){return t[Qh]||null}var aE=[],Vu=-1;function Cl(t){return{current:t}}function gn(t){0>Vu||(t.current=aE[Vu],aE[Vu]=null,Vu--)}function ln(t,e){Vu++,aE[Vu]=t.current,t.current=e}var cl={},zr=Cl(cl),yi=Cl(!1),uc=cl;function ud(t,e){var n=t.type.contextTypes;if(!n)return cl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vi(t){return t=t.childContextTypes,t!=null}function Ty(){gn(yi),gn(zr)}function lR(t,e,n){if(zr.current!==cl)throw Error(se(168));ln(zr,e),ln(yi,n)}function $M(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(se(108,GV(t)||"Unknown",i));return Pn({},n,r)}function Iy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cl,uc=zr.current,ln(zr,t),ln(yi,yi.current),!0}function cR(t,e,n){var r=t.stateNode;if(!r)throw Error(se(169));n?(t=$M(t,e,uc),r.__reactInternalMemoizedMergedChildContext=t,gn(yi),gn(zr),ln(zr,t)):gn(yi),ln(yi,n)}var zs=null,Jv=!1,Pb=!1;function LM(t){zs===null?zs=[t]:zs.push(t)}function cj(t){Jv=!0,LM(t)}function Tl(){if(!Pb&&zs!==null){Pb=!0;var t=0,e=Kt;try{var n=zs;for(Kt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zs=null,Jv=!1}catch(i){throw zs!==null&&(zs=zs.slice(t+1)),lM(mS,Tl),i}finally{Kt=e,Pb=!1}}return null}var Uu=[],ju=0,Ry=null,Py=0,co=[],uo=0,dc=null,Gs=1,Ks="";function zl(t,e){Uu[ju++]=Py,Uu[ju++]=Ry,Ry=t,Py=e}function FM(t,e,n){co[uo++]=Gs,co[uo++]=Ks,co[uo++]=dc,dc=t;var r=Gs;t=Ks;var i=32-Wo(r)-1;r&=~(1<<i),n+=1;var o=32-Wo(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Gs=1<<32-Wo(e)+i|n<<i|r,Ks=o+t}else Gs=1<<o|n<<i|r,Ks=t}function CS(t){t.return!==null&&(zl(t,1),FM(t,1,0))}function TS(t){for(;t===Ry;)Ry=Uu[--ju],Uu[ju]=null,Py=Uu[--ju],Uu[ju]=null;for(;t===dc;)dc=co[--uo],co[uo]=null,Ks=co[--uo],co[uo]=null,Gs=co[--uo],co[uo]=null}var Ki=null,ji=null,wn=!1,Fo=null;function BM(t,e){var n=go(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function uR(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ki=t,ji=Ya(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ki=t,ji=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=dc!==null?{id:Gs,overflow:Ks}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=go(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ki=t,ji=null,!0):!1;default:return!1}}function lE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cE(t){if(wn){var e=ji;if(e){var n=e;if(!uR(t,e)){if(lE(t))throw Error(se(418));e=Ya(n.nextSibling);var r=Ki;e&&uR(t,e)?BM(r,n):(t.flags=t.flags&-4097|2,wn=!1,Ki=t)}}else{if(lE(t))throw Error(se(418));t.flags=t.flags&-4097|2,wn=!1,Ki=t}}}function dR(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ki=t}function Zg(t){if(t!==Ki)return!1;if(!wn)return dR(t),wn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!iE(t.type,t.memoizedProps)),e&&(e=ji)){if(lE(t))throw VM(),Error(se(418));for(;e;)BM(t,e),e=Ya(e.nextSibling)}if(dR(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ji=Ya(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ji=null}}else ji=Ki?Ya(t.stateNode.nextSibling):null;return!0}function VM(){for(var t=ji;t;)t=Ya(t.nextSibling)}function dd(){ji=Ki=null,wn=!1}function IS(t){Fo===null?Fo=[t]:Fo.push(t)}var uj=ma.ReactCurrentBatchConfig;function $o(t,e){if(t&&t.defaultProps){e=Pn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ky=Cl(null),Ay=null,zu=null,RS=null;function PS(){RS=zu=Ay=null}function kS(t){var e=ky.current;gn(ky),t._currentValue=e}function uE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ju(t,e){Ay=t,RS=zu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hi=!0),t.firstContext=null)}function _o(t){var e=t._currentValue;if(RS!==t)if(t={context:t,memoizedValue:e,next:null},zu===null){if(Ay===null)throw Error(se(308));zu=t,Ay.dependencies={lanes:0,firstContext:t}}else zu=zu.next=t;return e}var Ql=null;function AS(t){Ql===null?Ql=[t]:Ql.push(t)}function UM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,AS(e)):(n.next=i.next,i.next=n),e.interleaved=n,ra(t,r)}function ra(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Oa=!1;function OS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Dt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ra(t,n)}return i=r.interleaved,i===null?(e.next=e,AS(r)):(e.next=i.next,i.next=e),r.interleaved=e,ra(t,n)}function jm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yS(t,n)}}function fR(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Oy(t,e,n,r){var i=t.updateQueue;Oa=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,E=a;switch(h=e,p=n,E.tag){case 1:if(g=E.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=E.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=Pn({},f,h);break e;case 2:Oa=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);hc|=s,t.lanes=s,t.memoizedState=f}}function hR(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(se(191,i));i.call(r)}}}var zM=new UN.Component().refs;function dE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zv={isMounted:function(t){return(t=t._reactInternals)?Rc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zr(),i=Ja(t),o=Qs(r,i);o.payload=e,n!=null&&(o.callback=n),e=Xa(t,o,i),e!==null&&(Ho(e,t,i,r),jm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zr(),i=Ja(t),o=Qs(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Xa(t,o,i),e!==null&&(Ho(e,t,i,r),jm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zr(),r=Ja(t),i=Qs(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xa(t,i,r),e!==null&&(Ho(e,t,r,n),jm(e,t,r))}};function pR(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!qh(n,r)||!qh(i,o):!0}function WM(t,e,n){var r=!1,i=cl,o=e.contextType;return typeof o=="object"&&o!==null?o=_o(o):(i=vi(e)?uc:zr.current,r=e.contextTypes,o=(r=r!=null)?ud(t,i):cl),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function gR(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Zv.enqueueReplaceState(e,e.state,null)}function fE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=zM,OS(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=_o(o):(o=vi(e)?uc:zr.current,i.context=ud(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(dE(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zv.enqueueReplaceState(i,i.state,null),Oy(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Af(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(se(309));var r=n.stateNode}if(!r)throw Error(se(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===zM&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(se(284));if(!n._owner)throw Error(se(290,t))}return t}function em(t,e){throw t=Object.prototype.toString.call(e),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function mR(t){var e=t._init;return e(t._payload)}function HM(t){function e(y,b){if(t){var _=y.deletions;_===null?(y.deletions=[b],y.flags|=16):_.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Za(y,b),y.index=0,y.sibling=null,y}function o(y,b,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<b?(y.flags|=2,b):_):(y.flags|=2,b)):(y.flags|=1048576,b)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,b,_,S){return b===null||b.tag!==6?(b=$b(_,y.mode,S),b.return=y,b):(b=i(b,_),b.return=y,b)}function l(y,b,_,S){var O=_.type;return O===Du?u(y,b,_.props.children,S,_.key):b!==null&&(b.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Aa&&mR(O)===b.type)?(S=i(b,_.props),S.ref=Af(y,b,_),S.return=y,S):(S=qm(_.type,_.key,_.props,null,y.mode,S),S.ref=Af(y,b,_),S.return=y,S)}function c(y,b,_,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=Lb(_,y.mode,S),b.return=y,b):(b=i(b,_.children||[]),b.return=y,b)}function u(y,b,_,S,O){return b===null||b.tag!==7?(b=sc(_,y.mode,S,O),b.return=y,b):(b=i(b,_),b.return=y,b)}function f(y,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=$b(""+b,y.mode,_),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zg:return _=qm(b.type,b.key,b.props,null,y.mode,_),_.ref=Af(y,null,b),_.return=y,_;case Mu:return b=Lb(b,y.mode,_),b.return=y,b;case Aa:var S=b._init;return f(y,S(b._payload),_)}if(Jf(b)||Tf(b))return b=sc(b,y.mode,_,null),b.return=y,b;em(y,b)}return null}function h(y,b,_,S){var O=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return O!==null?null:a(y,b,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case zg:return _.key===O?l(y,b,_,S):null;case Mu:return _.key===O?c(y,b,_,S):null;case Aa:return O=_._init,h(y,b,O(_._payload),S)}if(Jf(_)||Tf(_))return O!==null?null:u(y,b,_,S,null);em(y,_)}return null}function p(y,b,_,S,O){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(_)||null,a(b,y,""+S,O);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case zg:return y=y.get(S.key===null?_:S.key)||null,l(b,y,S,O);case Mu:return y=y.get(S.key===null?_:S.key)||null,c(b,y,S,O);case Aa:var N=S._init;return p(y,b,_,N(S._payload),O)}if(Jf(S)||Tf(S))return y=y.get(_)||null,u(b,y,S,O,null);em(b,S)}return null}function g(y,b,_,S){for(var O=null,N=null,T=b,I=b=0,R=null;T!==null&&I<_.length;I++){T.index>I?(R=T,T=null):R=T.sibling;var v=h(y,T,_[I],S);if(v===null){T===null&&(T=R);break}t&&T&&v.alternate===null&&e(y,T),b=o(v,b,I),N===null?O=v:N.sibling=v,N=v,T=R}if(I===_.length)return n(y,T),wn&&zl(y,I),O;if(T===null){for(;I<_.length;I++)T=f(y,_[I],S),T!==null&&(b=o(T,b,I),N===null?O=T:N.sibling=T,N=T);return wn&&zl(y,I),O}for(T=r(y,T);I<_.length;I++)R=p(T,y,I,_[I],S),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?I:R.key),b=o(R,b,I),N===null?O=R:N.sibling=R,N=R);return t&&T.forEach(function(k){return e(y,k)}),wn&&zl(y,I),O}function E(y,b,_,S){var O=Tf(_);if(typeof O!="function")throw Error(se(150));if(_=O.call(_),_==null)throw Error(se(151));for(var N=O=null,T=b,I=b=0,R=null,v=_.next();T!==null&&!v.done;I++,v=_.next()){T.index>I?(R=T,T=null):R=T.sibling;var k=h(y,T,v.value,S);if(k===null){T===null&&(T=R);break}t&&T&&k.alternate===null&&e(y,T),b=o(k,b,I),N===null?O=k:N.sibling=k,N=k,T=R}if(v.done)return n(y,T),wn&&zl(y,I),O;if(T===null){for(;!v.done;I++,v=_.next())v=f(y,v.value,S),v!==null&&(b=o(v,b,I),N===null?O=v:N.sibling=v,N=v);return wn&&zl(y,I),O}for(T=r(y,T);!v.done;I++,v=_.next())v=p(T,y,I,v.value,S),v!==null&&(t&&v.alternate!==null&&T.delete(v.key===null?I:v.key),b=o(v,b,I),N===null?O=v:N.sibling=v,N=v);return t&&T.forEach(function(M){return e(y,M)}),wn&&zl(y,I),O}function x(y,b,_,S){if(typeof _=="object"&&_!==null&&_.type===Du&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case zg:e:{for(var O=_.key,N=b;N!==null;){if(N.key===O){if(O=_.type,O===Du){if(N.tag===7){n(y,N.sibling),b=i(N,_.props.children),b.return=y,y=b;break e}}else if(N.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Aa&&mR(O)===N.type){n(y,N.sibling),b=i(N,_.props),b.ref=Af(y,N,_),b.return=y,y=b;break e}n(y,N);break}else e(y,N);N=N.sibling}_.type===Du?(b=sc(_.props.children,y.mode,S,_.key),b.return=y,y=b):(S=qm(_.type,_.key,_.props,null,y.mode,S),S.ref=Af(y,b,_),S.return=y,y=S)}return s(y);case Mu:e:{for(N=_.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(y,b.sibling),b=i(b,_.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else e(y,b);b=b.sibling}b=Lb(_,y.mode,S),b.return=y,y=b}return s(y);case Aa:return N=_._init,x(y,b,N(_._payload),S)}if(Jf(_))return g(y,b,_,S);if(Tf(_))return E(y,b,_,S);em(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(n(y,b.sibling),b=i(b,_),b.return=y,y=b):(n(y,b),b=$b(_,y.mode,S),b.return=y,y=b),s(y)):n(y,b)}return x}var fd=HM(!0),GM=HM(!1),$p={},vs=Cl($p),Jh=Cl($p),Zh=Cl($p);function Jl(t){if(t===$p)throw Error(se(174));return t}function NS(t,e){switch(ln(Zh,e),ln(Jh,t),ln(vs,$p),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ww(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ww(e,t)}gn(vs),ln(vs,e)}function hd(){gn(vs),gn(Jh),gn(Zh)}function KM(t){Jl(Zh.current);var e=Jl(vs.current),n=Ww(e,t.type);e!==n&&(ln(Jh,t),ln(vs,n))}function MS(t){Jh.current===t&&(gn(vs),gn(Jh))}var Cn=Cl(0);function Ny(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kb=[];function DS(){for(var t=0;t<kb.length;t++)kb[t]._workInProgressVersionPrimary=null;kb.length=0}var zm=ma.ReactCurrentDispatcher,Ab=ma.ReactCurrentBatchConfig,fc=0,In=null,Qn=null,ar=null,My=!1,vh=!1,ep=0,dj=0;function Or(){throw Error(se(321))}function $S(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qo(t[n],e[n]))return!1;return!0}function LS(t,e,n,r,i,o){if(fc=o,In=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zm.current=t===null||t.memoizedState===null?gj:mj,t=n(r,i),vh){o=0;do{if(vh=!1,ep=0,25<=o)throw Error(se(301));o+=1,ar=Qn=null,e.updateQueue=null,zm.current=yj,t=n(r,i)}while(vh)}if(zm.current=Dy,e=Qn!==null&&Qn.next!==null,fc=0,ar=Qn=In=null,My=!1,e)throw Error(se(300));return t}function FS(){var t=ep!==0;return ep=0,t}function us(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?In.memoizedState=ar=t:ar=ar.next=t,ar}function bo(){if(Qn===null){var t=In.alternate;t=t!==null?t.memoizedState:null}else t=Qn.next;var e=ar===null?In.memoizedState:ar.next;if(e!==null)ar=e,Qn=t;else{if(t===null)throw Error(se(310));Qn=t,t={memoizedState:Qn.memoizedState,baseState:Qn.baseState,baseQueue:Qn.baseQueue,queue:Qn.queue,next:null},ar===null?In.memoizedState=ar=t:ar=ar.next=t}return ar}function tp(t,e){return typeof e=="function"?e(t):e}function Ob(t){var e=bo(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=Qn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((fc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,In.lanes|=u,hc|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,qo(r,e.memoizedState)||(hi=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,In.lanes|=o,hc|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Nb(t){var e=bo(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);qo(o,e.memoizedState)||(hi=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function qM(){}function YM(t,e){var n=In,r=bo(),i=e(),o=!qo(r.memoizedState,i);if(o&&(r.memoizedState=i,hi=!0),r=r.queue,BS(JM.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ar!==null&&ar.memoizedState.tag&1){if(n.flags|=2048,np(9,QM.bind(null,n,r,i,e),void 0,null),ur===null)throw Error(se(349));fc&30||XM(n,e,i)}return i}function XM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=In.updateQueue,e===null?(e={lastEffect:null,stores:null},In.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function QM(t,e,n,r){e.value=n,e.getSnapshot=r,ZM(e)&&eD(t)}function JM(t,e,n){return n(function(){ZM(e)&&eD(t)})}function ZM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qo(t,n)}catch{return!0}}function eD(t){var e=ra(t,1);e!==null&&Ho(e,t,1,-1)}function yR(t){var e=us();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tp,lastRenderedState:t},e.queue=t,t=t.dispatch=pj.bind(null,In,t),[e.memoizedState,t]}function np(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=In.updateQueue,e===null?(e={lastEffect:null,stores:null},In.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tD(){return bo().memoizedState}function Wm(t,e,n,r){var i=us();In.flags|=t,i.memoizedState=np(1|e,n,void 0,r===void 0?null:r)}function e0(t,e,n,r){var i=bo();r=r===void 0?null:r;var o=void 0;if(Qn!==null){var s=Qn.memoizedState;if(o=s.destroy,r!==null&&$S(r,s.deps)){i.memoizedState=np(e,n,o,r);return}}In.flags|=t,i.memoizedState=np(1|e,n,o,r)}function vR(t,e){return Wm(8390656,8,t,e)}function BS(t,e){return e0(2048,8,t,e)}function nD(t,e){return e0(4,2,t,e)}function rD(t,e){return e0(4,4,t,e)}function iD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oD(t,e,n){return n=n!=null?n.concat([t]):null,e0(4,4,iD.bind(null,e,t),n)}function VS(){}function sD(t,e){var n=bo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$S(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function aD(t,e){var n=bo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$S(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lD(t,e,n){return fc&21?(qo(n,e)||(n=dM(),In.lanes|=n,hc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hi=!0),t.memoizedState=n)}function fj(t,e){var n=Kt;Kt=n!==0&&4>n?n:4,t(!0);var r=Ab.transition;Ab.transition={};try{t(!1),e()}finally{Kt=n,Ab.transition=r}}function cD(){return bo().memoizedState}function hj(t,e,n){var r=Ja(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uD(t))dD(e,n);else if(n=UM(t,e,n,r),n!==null){var i=Zr();Ho(n,t,r,i),fD(n,e,r)}}function pj(t,e,n){var r=Ja(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uD(t))dD(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,qo(a,s)){var l=e.interleaved;l===null?(i.next=i,AS(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=UM(t,e,i,r),n!==null&&(i=Zr(),Ho(n,t,r,i),fD(n,e,r))}}function uD(t){var e=t.alternate;return t===In||e!==null&&e===In}function dD(t,e){vh=My=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yS(t,n)}}var Dy={readContext:_o,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useInsertionEffect:Or,useLayoutEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useMutableSource:Or,useSyncExternalStore:Or,useId:Or,unstable_isNewReconciler:!1},gj={readContext:_o,useCallback:function(t,e){return us().memoizedState=[t,e===void 0?null:e],t},useContext:_o,useEffect:vR,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wm(4194308,4,iD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wm(4,2,t,e)},useMemo:function(t,e){var n=us();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=us();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hj.bind(null,In,t),[r.memoizedState,t]},useRef:function(t){var e=us();return t={current:t},e.memoizedState=t},useState:yR,useDebugValue:VS,useDeferredValue:function(t){return us().memoizedState=t},useTransition:function(){var t=yR(!1),e=t[0];return t=fj.bind(null,t[1]),us().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=In,i=us();if(wn){if(n===void 0)throw Error(se(407));n=n()}else{if(n=e(),ur===null)throw Error(se(349));fc&30||XM(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,vR(JM.bind(null,r,o,t),[t]),r.flags|=2048,np(9,QM.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=us(),e=ur.identifierPrefix;if(wn){var n=Ks,r=Gs;n=(r&~(1<<32-Wo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ep++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=dj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mj={readContext:_o,useCallback:sD,useContext:_o,useEffect:BS,useImperativeHandle:oD,useInsertionEffect:nD,useLayoutEffect:rD,useMemo:aD,useReducer:Ob,useRef:tD,useState:function(){return Ob(tp)},useDebugValue:VS,useDeferredValue:function(t){var e=bo();return lD(e,Qn.memoizedState,t)},useTransition:function(){var t=Ob(tp)[0],e=bo().memoizedState;return[t,e]},useMutableSource:qM,useSyncExternalStore:YM,useId:cD,unstable_isNewReconciler:!1},yj={readContext:_o,useCallback:sD,useContext:_o,useEffect:BS,useImperativeHandle:oD,useInsertionEffect:nD,useLayoutEffect:rD,useMemo:aD,useReducer:Nb,useRef:tD,useState:function(){return Nb(tp)},useDebugValue:VS,useDeferredValue:function(t){var e=bo();return Qn===null?e.memoizedState=t:lD(e,Qn.memoizedState,t)},useTransition:function(){var t=Nb(tp)[0],e=bo().memoizedState;return[t,e]},useMutableSource:qM,useSyncExternalStore:YM,useId:cD,unstable_isNewReconciler:!1};function pd(t,e){try{var n="",r=e;do n+=HV(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Mb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vj=typeof WeakMap=="function"?WeakMap:Map;function hD(t,e,n){n=Qs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ly||(Ly=!0,xE=r),hE(t,e)},n}function pD(t,e,n){n=Qs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){hE(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){hE(t,e),typeof r!="function"&&(Qa===null?Qa=new Set([this]):Qa.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function _R(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new vj;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Oj.bind(null,t,e,n),e.then(t,t))}function bR(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wR(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qs(-1,1),e.tag=2,Xa(n,e,1))),n.lanes|=1),t)}var _j=ma.ReactCurrentOwner,hi=!1;function Xr(t,e,n,r){e.child=t===null?GM(e,null,n,r):fd(e,t.child,n,r)}function ER(t,e,n,r,i){n=n.render;var o=e.ref;return Ju(e,i),r=LS(t,e,n,r,o,i),n=FS(),t!==null&&!hi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ia(t,e,i)):(wn&&n&&CS(e),e.flags|=1,Xr(t,e,r,i),e.child)}function xR(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!qS(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,gD(t,e,o,r,i)):(t=qm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:qh,n(s,r)&&t.ref===e.ref)return ia(t,e,i)}return e.flags|=1,t=Za(o,r),t.ref=e.ref,t.return=e,e.child=t}function gD(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(qh(o,r)&&t.ref===e.ref)if(hi=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(hi=!0);else return e.lanes=t.lanes,ia(t,e,i)}return pE(t,e,n,r,i)}function mD(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ln(Hu,Li),Li|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ln(Hu,Li),Li|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ln(Hu,Li),Li|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ln(Hu,Li),Li|=r;return Xr(t,e,i,n),e.child}function yD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pE(t,e,n,r,i){var o=vi(n)?uc:zr.current;return o=ud(e,o),Ju(e,i),n=LS(t,e,n,r,o,i),r=FS(),t!==null&&!hi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ia(t,e,i)):(wn&&r&&CS(e),e.flags|=1,Xr(t,e,n,i),e.child)}function SR(t,e,n,r,i){if(vi(n)){var o=!0;Iy(e)}else o=!1;if(Ju(e,i),e.stateNode===null)Hm(t,e),WM(e,n,r),fE(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=_o(c):(c=vi(n)?uc:zr.current,c=ud(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&gR(e,s,r,c),Oa=!1;var h=e.memoizedState;s.state=h,Oy(e,r,s,i),l=e.memoizedState,a!==r||h!==l||yi.current||Oa?(typeof u=="function"&&(dE(e,n,u,r),l=e.memoizedState),(a=Oa||pR(e,n,a,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,jM(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:$o(e.type,a),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=_o(l):(l=vi(n)?uc:zr.current,l=ud(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&gR(e,s,r,l),Oa=!1,h=e.memoizedState,s.state=h,Oy(e,r,s,i);var g=e.memoizedState;a!==f||h!==g||yi.current||Oa?(typeof p=="function"&&(dE(e,n,p,r),g=e.memoizedState),(c=Oa||pR(e,n,c,r,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return gE(t,e,n,r,o,i)}function gE(t,e,n,r,i,o){yD(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&cR(e,n,!1),ia(t,e,o);r=e.stateNode,_j.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=fd(e,t.child,null,o),e.child=fd(e,null,a,o)):Xr(t,e,a,o),e.memoizedState=r.state,i&&cR(e,n,!0),e.child}function vD(t){var e=t.stateNode;e.pendingContext?lR(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lR(t,e.context,!1),NS(t,e.containerInfo)}function CR(t,e,n,r,i){return dd(),IS(i),e.flags|=256,Xr(t,e,n,r),e.child}var mE={dehydrated:null,treeContext:null,retryLane:0};function yE(t){return{baseLanes:t,cachePool:null,transitions:null}}function _D(t,e,n){var r=e.pendingProps,i=Cn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ln(Cn,i&1),t===null)return cE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=r0(s,r,0,null),t=sc(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=yE(n),e.memoizedState=mE,t):US(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return bj(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Za(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Za(a,o):(o=sc(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?yE(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=mE,r}return o=t.child,t=o.sibling,r=Za(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function US(t,e){return e=r0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function tm(t,e,n,r){return r!==null&&IS(r),fd(e,t.child,null,n),t=US(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bj(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Mb(Error(se(422))),tm(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=r0({mode:"visible",children:r.children},i,0,null),o=sc(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&fd(e,t.child,null,s),e.child.memoizedState=yE(s),e.memoizedState=mE,o);if(!(e.mode&1))return tm(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(se(419)),r=Mb(o,r,void 0),tm(t,e,s,r)}if(a=(s&t.childLanes)!==0,hi||a){if(r=ur,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ra(t,i),Ho(r,t,i,-1))}return KS(),r=Mb(Error(se(421))),tm(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Nj.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ji=Ya(i.nextSibling),Ki=e,wn=!0,Fo=null,t!==null&&(co[uo++]=Gs,co[uo++]=Ks,co[uo++]=dc,Gs=t.id,Ks=t.overflow,dc=e),e=US(e,r.children),e.flags|=4096,e)}function TR(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),uE(t.return,e,n)}function Db(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function bD(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Xr(t,e,r.children,n),r=Cn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&TR(t,n,e);else if(t.tag===19)TR(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ln(Cn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ny(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Db(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ny(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Db(e,!0,n,null,o);break;case"together":Db(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ia(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(se(153));if(e.child!==null){for(t=e.child,n=Za(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Za(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wj(t,e,n){switch(e.tag){case 3:vD(e),dd();break;case 5:KM(e);break;case 1:vi(e.type)&&Iy(e);break;case 4:NS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ln(ky,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ln(Cn,Cn.current&1),e.flags|=128,null):n&e.child.childLanes?_D(t,e,n):(ln(Cn,Cn.current&1),t=ia(t,e,n),t!==null?t.sibling:null);ln(Cn,Cn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return bD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ln(Cn,Cn.current),r)break;return null;case 22:case 23:return e.lanes=0,mD(t,e,n)}return ia(t,e,n)}var wD,vE,ED,xD;wD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vE=function(){};ED=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Jl(vs.current);var o=null;switch(n){case"input":i=Vw(t,i),r=Vw(t,r),o=[];break;case"select":i=Pn({},i,{value:void 0}),r=Pn({},r,{value:void 0}),o=[];break;case"textarea":i=zw(t,i),r=zw(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cy)}Hw(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Uh.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Uh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&un("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};xD=function(t,e,n,r){n!==r&&(e.flags|=4)};function Of(t,e){if(!wn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ej(t,e,n){var r=e.pendingProps;switch(TS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nr(e),null;case 1:return vi(e.type)&&Ty(),Nr(e),null;case 3:return r=e.stateNode,hd(),gn(yi),gn(zr),DS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fo!==null&&(TE(Fo),Fo=null))),vE(t,e),Nr(e),null;case 5:MS(e);var i=Jl(Zh.current);if(n=e.type,t!==null&&e.stateNode!=null)ED(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(se(166));return Nr(e),null}if(t=Jl(vs.current),Zg(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ps]=e,r[Qh]=o,t=(e.mode&1)!==0,n){case"dialog":un("cancel",r),un("close",r);break;case"iframe":case"object":case"embed":un("load",r);break;case"video":case"audio":for(i=0;i<eh.length;i++)un(eh[i],r);break;case"source":un("error",r);break;case"img":case"image":case"link":un("error",r),un("load",r);break;case"details":un("toggle",r);break;case"input":DI(r,o),un("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},un("invalid",r);break;case"textarea":LI(r,o),un("invalid",r)}Hw(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Jg(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Jg(r.textContent,a,t),i=["children",""+a]):Uh.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&un("scroll",r)}switch(n){case"input":Wg(r),$I(r,o,!0);break;case"textarea":Wg(r),FI(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Cy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=XN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ps]=e,t[Qh]=r,wD(t,e,!1,!1),e.stateNode=t;e:{switch(s=Gw(n,r),n){case"dialog":un("cancel",t),un("close",t),i=r;break;case"iframe":case"object":case"embed":un("load",t),i=r;break;case"video":case"audio":for(i=0;i<eh.length;i++)un(eh[i],t);i=r;break;case"source":un("error",t),i=r;break;case"img":case"image":case"link":un("error",t),un("load",t),i=r;break;case"details":un("toggle",t),i=r;break;case"input":DI(t,r),i=Vw(t,r),un("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Pn({},r,{value:void 0}),un("invalid",t);break;case"textarea":LI(t,r),i=zw(t,r),un("invalid",t);break;default:i=r}Hw(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?ZN(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&QN(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&jh(t,l):typeof l=="number"&&jh(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Uh.hasOwnProperty(o)?l!=null&&o==="onScroll"&&un("scroll",t):l!=null&&dS(t,o,l,s))}switch(n){case"input":Wg(t),$I(t,r,!1);break;case"textarea":Wg(t),FI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ll(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?qu(t,!!r.multiple,o,!1):r.defaultValue!=null&&qu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nr(e),null;case 6:if(t&&e.stateNode!=null)xD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(se(166));if(n=Jl(Zh.current),Jl(vs.current),Zg(e)){if(r=e.stateNode,n=e.memoizedProps,r[ps]=e,(o=r.nodeValue!==n)&&(t=Ki,t!==null))switch(t.tag){case 3:Jg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jg(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ps]=e,e.stateNode=r}return Nr(e),null;case 13:if(gn(Cn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wn&&ji!==null&&e.mode&1&&!(e.flags&128))VM(),dd(),e.flags|=98560,o=!1;else if(o=Zg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(se(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(se(317));o[ps]=e}else dd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nr(e),o=!1}else Fo!==null&&(TE(Fo),Fo=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Cn.current&1?er===0&&(er=3):KS())),e.updateQueue!==null&&(e.flags|=4),Nr(e),null);case 4:return hd(),vE(t,e),t===null&&Yh(e.stateNode.containerInfo),Nr(e),null;case 10:return kS(e.type._context),Nr(e),null;case 17:return vi(e.type)&&Ty(),Nr(e),null;case 19:if(gn(Cn),o=e.memoizedState,o===null)return Nr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Of(o,!1);else{if(er!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ny(t),s!==null){for(e.flags|=128,Of(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ln(Cn,Cn.current&1|2),e.child}t=t.sibling}o.tail!==null&&Fn()>gd&&(e.flags|=128,r=!0,Of(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ny(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Of(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!wn)return Nr(e),null}else 2*Fn()-o.renderingStartTime>gd&&n!==1073741824&&(e.flags|=128,r=!0,Of(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Fn(),e.sibling=null,n=Cn.current,ln(Cn,r?n&1|2:n&1),e):(Nr(e),null);case 22:case 23:return GS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Li&1073741824&&(Nr(e),e.subtreeFlags&6&&(e.flags|=8192)):Nr(e),null;case 24:return null;case 25:return null}throw Error(se(156,e.tag))}function xj(t,e){switch(TS(e),e.tag){case 1:return vi(e.type)&&Ty(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hd(),gn(yi),gn(zr),DS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return MS(e),null;case 13:if(gn(Cn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(se(340));dd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return gn(Cn),null;case 4:return hd(),null;case 10:return kS(e.type._context),null;case 22:case 23:return GS(),null;case 24:return null;default:return null}}var nm=!1,Vr=!1,Sj=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Wu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){On(t,e,r)}else n.current=null}function _E(t,e,n){try{n()}catch(r){On(t,e,r)}}var IR=!1;function Cj(t,e){if(nE=Ey,t=IM(),SS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(rE={focusedElem:t,selectionRange:n},Ey=!1,Ie=e;Ie!==null;)if(e=Ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ie=t;else for(;Ie!==null;){e=Ie;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var E=g.memoizedProps,x=g.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?E:$o(e.type,E),x);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(S){On(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Ie=t;break}Ie=e.return}return g=IR,IR=!1,g}function _h(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&_E(e,n,o)}i=i.next}while(i!==r)}}function t0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function SD(t){var e=t.alternate;e!==null&&(t.alternate=null,SD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ps],delete e[Qh],delete e[sE],delete e[aj],delete e[lj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function CD(t){return t.tag===5||t.tag===3||t.tag===4}function RR(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||CD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cy));else if(r!==4&&(t=t.child,t!==null))for(wE(t,e,n),t=t.sibling;t!==null;)wE(t,e,n),t=t.sibling}function EE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(EE(t,e,n),t=t.sibling;t!==null;)EE(t,e,n),t=t.sibling}var wr=null,Lo=!1;function Ta(t,e,n){for(n=n.child;n!==null;)TD(t,e,n),n=n.sibling}function TD(t,e,n){if(ys&&typeof ys.onCommitFiberUnmount=="function")try{ys.onCommitFiberUnmount(Kv,n)}catch{}switch(n.tag){case 5:Vr||Wu(n,e);case 6:var r=wr,i=Lo;wr=null,Ta(t,e,n),wr=r,Lo=i,wr!==null&&(Lo?(t=wr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wr.removeChild(n.stateNode));break;case 18:wr!==null&&(Lo?(t=wr,n=n.stateNode,t.nodeType===8?Rb(t.parentNode,n):t.nodeType===1&&Rb(t,n),Gh(t)):Rb(wr,n.stateNode));break;case 4:r=wr,i=Lo,wr=n.stateNode.containerInfo,Lo=!0,Ta(t,e,n),wr=r,Lo=i;break;case 0:case 11:case 14:case 15:if(!Vr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&_E(n,e,s),i=i.next}while(i!==r)}Ta(t,e,n);break;case 1:if(!Vr&&(Wu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){On(n,e,a)}Ta(t,e,n);break;case 21:Ta(t,e,n);break;case 22:n.mode&1?(Vr=(r=Vr)||n.memoizedState!==null,Ta(t,e,n),Vr=r):Ta(t,e,n);break;default:Ta(t,e,n)}}function PR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Sj),e.forEach(function(r){var i=Mj.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function No(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:wr=a.stateNode,Lo=!1;break e;case 3:wr=a.stateNode.containerInfo,Lo=!0;break e;case 4:wr=a.stateNode.containerInfo,Lo=!0;break e}a=a.return}if(wr===null)throw Error(se(160));TD(o,s,i),wr=null,Lo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){On(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ID(e,t),e=e.sibling}function ID(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(No(e,t),ls(t),r&4){try{_h(3,t,t.return),t0(3,t)}catch(E){On(t,t.return,E)}try{_h(5,t,t.return)}catch(E){On(t,t.return,E)}}break;case 1:No(e,t),ls(t),r&512&&n!==null&&Wu(n,n.return);break;case 5:if(No(e,t),ls(t),r&512&&n!==null&&Wu(n,n.return),t.flags&32){var i=t.stateNode;try{jh(i,"")}catch(E){On(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&qN(i,o),Gw(a,s);var c=Gw(a,o);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?ZN(i,f):u==="dangerouslySetInnerHTML"?QN(i,f):u==="children"?jh(i,f):dS(i,u,f,c)}switch(a){case"input":Uw(i,o);break;case"textarea":YN(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?qu(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?qu(i,!!o.multiple,o.defaultValue,!0):qu(i,!!o.multiple,o.multiple?[]:"",!1))}i[Qh]=o}catch(E){On(t,t.return,E)}}break;case 6:if(No(e,t),ls(t),r&4){if(t.stateNode===null)throw Error(se(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(E){On(t,t.return,E)}}break;case 3:if(No(e,t),ls(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gh(e.containerInfo)}catch(E){On(t,t.return,E)}break;case 4:No(e,t),ls(t);break;case 13:No(e,t),ls(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(WS=Fn())),r&4&&PR(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Vr=(c=Vr)||u,No(e,t),Vr=c):No(e,t),ls(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ie=t,u=t.child;u!==null;){for(f=Ie=u;Ie!==null;){switch(h=Ie,p=h.child,h.tag){case 0:case 11:case 14:case 15:_h(4,h,h.return);break;case 1:Wu(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(E){On(r,n,E)}}break;case 5:Wu(h,h.return);break;case 22:if(h.memoizedState!==null){AR(f);continue}}p!==null?(p.return=h,Ie=p):AR(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=JN("display",s))}catch(E){On(t,t.return,E)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(E){On(t,t.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:No(e,t),ls(t),r&4&&PR(t);break;case 21:break;default:No(e,t),ls(t)}}function ls(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(CD(n)){var r=n;break e}n=n.return}throw Error(se(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(jh(i,""),r.flags&=-33);var o=RR(t);EE(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=RR(t);wE(t,a,s);break;default:throw Error(se(161))}}catch(l){On(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Tj(t,e,n){Ie=t,RD(t)}function RD(t,e,n){for(var r=(t.mode&1)!==0;Ie!==null;){var i=Ie,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||nm;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Vr;a=nm;var c=Vr;if(nm=s,(Vr=l)&&!c)for(Ie=i;Ie!==null;)s=Ie,l=s.child,s.tag===22&&s.memoizedState!==null?OR(i):l!==null?(l.return=s,Ie=l):OR(i);for(;o!==null;)Ie=o,RD(o),o=o.sibling;Ie=i,nm=a,Vr=c}kR(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ie=o):kR(t)}}function kR(t){for(;Ie!==null;){var e=Ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vr||t0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$o(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&hR(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}hR(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Gh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}Vr||e.flags&512&&bE(e)}catch(h){On(e,e.return,h)}}if(e===t){Ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ie=n;break}Ie=e.return}}function AR(t){for(;Ie!==null;){var e=Ie;if(e===t){Ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ie=n;break}Ie=e.return}}function OR(t){for(;Ie!==null;){var e=Ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{t0(4,e)}catch(l){On(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){On(e,i,l)}}var o=e.return;try{bE(e)}catch(l){On(e,o,l)}break;case 5:var s=e.return;try{bE(e)}catch(l){On(e,s,l)}}}catch(l){On(e,e.return,l)}if(e===t){Ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ie=a;break}Ie=e.return}}var Ij=Math.ceil,$y=ma.ReactCurrentDispatcher,jS=ma.ReactCurrentOwner,mo=ma.ReactCurrentBatchConfig,Dt=0,ur=null,Kn=null,Sr=0,Li=0,Hu=Cl(0),er=0,rp=null,hc=0,n0=0,zS=0,bh=null,di=null,WS=0,gd=1/0,js=null,Ly=!1,xE=null,Qa=null,rm=!1,Wa=null,Fy=0,wh=0,SE=null,Gm=-1,Km=0;function Zr(){return Dt&6?Fn():Gm!==-1?Gm:Gm=Fn()}function Ja(t){return t.mode&1?Dt&2&&Sr!==0?Sr&-Sr:uj.transition!==null?(Km===0&&(Km=dM()),Km):(t=Kt,t!==0||(t=window.event,t=t===void 0?16:vM(t.type)),t):1}function Ho(t,e,n,r){if(50<wh)throw wh=0,SE=null,Error(se(185));Np(t,n,r),(!(Dt&2)||t!==ur)&&(t===ur&&(!(Dt&2)&&(n0|=n),er===4&&Da(t,Sr)),_i(t,r),n===1&&Dt===0&&!(e.mode&1)&&(gd=Fn()+500,Jv&&Tl()))}function _i(t,e){var n=t.callbackNode;uU(t,e);var r=wy(t,t===ur?Sr:0);if(r===0)n!==null&&UI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&UI(n),e===1)t.tag===0?cj(NR.bind(null,t)):LM(NR.bind(null,t)),oj(function(){!(Dt&6)&&Tl()}),n=null;else{switch(fM(r)){case 1:n=mS;break;case 4:n=cM;break;case 16:n=by;break;case 536870912:n=uM;break;default:n=by}n=$D(n,PD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function PD(t,e){if(Gm=-1,Km=0,Dt&6)throw Error(se(327));var n=t.callbackNode;if(Zu()&&t.callbackNode!==n)return null;var r=wy(t,t===ur?Sr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=By(t,r);else{e=r;var i=Dt;Dt|=2;var o=AD();(ur!==t||Sr!==e)&&(js=null,gd=Fn()+500,oc(t,e));do try{kj();break}catch(a){kD(t,a)}while(!0);PS(),$y.current=o,Dt=i,Kn!==null?e=0:(ur=null,Sr=0,e=er)}if(e!==0){if(e===2&&(i=Qw(t),i!==0&&(r=i,e=CE(t,i))),e===1)throw n=rp,oc(t,0),Da(t,r),_i(t,Fn()),n;if(e===6)Da(t,r);else{if(i=t.current.alternate,!(r&30)&&!Rj(i)&&(e=By(t,r),e===2&&(o=Qw(t),o!==0&&(r=o,e=CE(t,o))),e===1))throw n=rp,oc(t,0),Da(t,r),_i(t,Fn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(se(345));case 2:Wl(t,di,js);break;case 3:if(Da(t,r),(r&130023424)===r&&(e=WS+500-Fn(),10<e)){if(wy(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Zr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=oE(Wl.bind(null,t,di,js),e);break}Wl(t,di,js);break;case 4:if(Da(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Wo(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Fn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ij(r/1960))-r,10<r){t.timeoutHandle=oE(Wl.bind(null,t,di,js),r);break}Wl(t,di,js);break;case 5:Wl(t,di,js);break;default:throw Error(se(329))}}}return _i(t,Fn()),t.callbackNode===n?PD.bind(null,t):null}function CE(t,e){var n=bh;return t.current.memoizedState.isDehydrated&&(oc(t,e).flags|=256),t=By(t,e),t!==2&&(e=di,di=n,e!==null&&TE(e)),t}function TE(t){di===null?di=t:di.push.apply(di,t)}function Rj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!qo(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Da(t,e){for(e&=~zS,e&=~n0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wo(e),r=1<<n;t[n]=-1,e&=~r}}function NR(t){if(Dt&6)throw Error(se(327));Zu();var e=wy(t,0);if(!(e&1))return _i(t,Fn()),null;var n=By(t,e);if(t.tag!==0&&n===2){var r=Qw(t);r!==0&&(e=r,n=CE(t,r))}if(n===1)throw n=rp,oc(t,0),Da(t,e),_i(t,Fn()),n;if(n===6)throw Error(se(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wl(t,di,js),_i(t,Fn()),null}function HS(t,e){var n=Dt;Dt|=1;try{return t(e)}finally{Dt=n,Dt===0&&(gd=Fn()+500,Jv&&Tl())}}function pc(t){Wa!==null&&Wa.tag===0&&!(Dt&6)&&Zu();var e=Dt;Dt|=1;var n=mo.transition,r=Kt;try{if(mo.transition=null,Kt=1,t)return t()}finally{Kt=r,mo.transition=n,Dt=e,!(Dt&6)&&Tl()}}function GS(){Li=Hu.current,gn(Hu)}function oc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ij(n)),Kn!==null)for(n=Kn.return;n!==null;){var r=n;switch(TS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ty();break;case 3:hd(),gn(yi),gn(zr),DS();break;case 5:MS(r);break;case 4:hd();break;case 13:gn(Cn);break;case 19:gn(Cn);break;case 10:kS(r.type._context);break;case 22:case 23:GS()}n=n.return}if(ur=t,Kn=t=Za(t.current,null),Sr=Li=e,er=0,rp=null,zS=n0=hc=0,di=bh=null,Ql!==null){for(e=0;e<Ql.length;e++)if(n=Ql[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ql=null}return t}function kD(t,e){do{var n=Kn;try{if(PS(),zm.current=Dy,My){for(var r=In.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}My=!1}if(fc=0,ar=Qn=In=null,vh=!1,ep=0,jS.current=null,n===null||n.return===null){er=1,rp=e,Kn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Sr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=bR(s);if(p!==null){p.flags&=-257,wR(p,s,a,o,e),p.mode&1&&_R(o,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var E=new Set;E.add(l),e.updateQueue=E}else g.add(l);break e}else{if(!(e&1)){_R(o,c,e),KS();break e}l=Error(se(426))}}else if(wn&&a.mode&1){var x=bR(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),wR(x,s,a,o,e),IS(pd(l,a));break e}}o=l=pd(l,a),er!==4&&(er=2),bh===null?bh=[o]:bh.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=hD(o,l,e);fR(o,y);break e;case 1:a=l;var b=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Qa===null||!Qa.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=pD(o,a,e);fR(o,S);break e}}o=o.return}while(o!==null)}ND(n)}catch(O){e=O,Kn===n&&n!==null&&(Kn=n=n.return);continue}break}while(!0)}function AD(){var t=$y.current;return $y.current=Dy,t===null?Dy:t}function KS(){(er===0||er===3||er===2)&&(er=4),ur===null||!(hc&268435455)&&!(n0&268435455)||Da(ur,Sr)}function By(t,e){var n=Dt;Dt|=2;var r=AD();(ur!==t||Sr!==e)&&(js=null,oc(t,e));do try{Pj();break}catch(i){kD(t,i)}while(!0);if(PS(),Dt=n,$y.current=r,Kn!==null)throw Error(se(261));return ur=null,Sr=0,er}function Pj(){for(;Kn!==null;)OD(Kn)}function kj(){for(;Kn!==null&&!tU();)OD(Kn)}function OD(t){var e=DD(t.alternate,t,Li);t.memoizedProps=t.pendingProps,e===null?ND(t):Kn=e,jS.current=null}function ND(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xj(n,e),n!==null){n.flags&=32767,Kn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{er=6,Kn=null;return}}else if(n=Ej(n,e,Li),n!==null){Kn=n;return}if(e=e.sibling,e!==null){Kn=e;return}Kn=e=t}while(e!==null);er===0&&(er=5)}function Wl(t,e,n){var r=Kt,i=mo.transition;try{mo.transition=null,Kt=1,Aj(t,e,n,r)}finally{mo.transition=i,Kt=r}return null}function Aj(t,e,n,r){do Zu();while(Wa!==null);if(Dt&6)throw Error(se(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(se(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(dU(t,o),t===ur&&(Kn=ur=null,Sr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rm||(rm=!0,$D(by,function(){return Zu(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=mo.transition,mo.transition=null;var s=Kt;Kt=1;var a=Dt;Dt|=4,jS.current=null,Cj(t,n),ID(n,t),QU(rE),Ey=!!nE,rE=nE=null,t.current=n,Tj(n),nU(),Dt=a,Kt=s,mo.transition=o}else t.current=n;if(rm&&(rm=!1,Wa=t,Fy=i),o=t.pendingLanes,o===0&&(Qa=null),oU(n.stateNode),_i(t,Fn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ly)throw Ly=!1,t=xE,xE=null,t;return Fy&1&&t.tag!==0&&Zu(),o=t.pendingLanes,o&1?t===SE?wh++:(wh=0,SE=t):wh=0,Tl(),null}function Zu(){if(Wa!==null){var t=fM(Fy),e=mo.transition,n=Kt;try{if(mo.transition=null,Kt=16>t?16:t,Wa===null)var r=!1;else{if(t=Wa,Wa=null,Fy=0,Dt&6)throw Error(se(331));var i=Dt;for(Dt|=4,Ie=t.current;Ie!==null;){var o=Ie,s=o.child;if(Ie.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ie=c;Ie!==null;){var u=Ie;switch(u.tag){case 0:case 11:case 15:_h(8,u,o)}var f=u.child;if(f!==null)f.return=u,Ie=f;else for(;Ie!==null;){u=Ie;var h=u.sibling,p=u.return;if(SD(u),u===c){Ie=null;break}if(h!==null){h.return=p,Ie=h;break}Ie=p}}}var g=o.alternate;if(g!==null){var E=g.child;if(E!==null){g.child=null;do{var x=E.sibling;E.sibling=null,E=x}while(E!==null)}}Ie=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Ie=s;else e:for(;Ie!==null;){if(o=Ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:_h(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Ie=y;break e}Ie=o.return}}var b=t.current;for(Ie=b;Ie!==null;){s=Ie;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,Ie=_;else e:for(s=b;Ie!==null;){if(a=Ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:t0(9,a)}}catch(O){On(a,a.return,O)}if(a===s){Ie=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Ie=S;break e}Ie=a.return}}if(Dt=i,Tl(),ys&&typeof ys.onPostCommitFiberRoot=="function")try{ys.onPostCommitFiberRoot(Kv,t)}catch{}r=!0}return r}finally{Kt=n,mo.transition=e}}return!1}function MR(t,e,n){e=pd(n,e),e=hD(t,e,1),t=Xa(t,e,1),e=Zr(),t!==null&&(Np(t,1,e),_i(t,e))}function On(t,e,n){if(t.tag===3)MR(t,t,n);else for(;e!==null;){if(e.tag===3){MR(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qa===null||!Qa.has(r))){t=pd(n,t),t=pD(e,t,1),e=Xa(e,t,1),t=Zr(),e!==null&&(Np(e,1,t),_i(e,t));break}}e=e.return}}function Oj(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zr(),t.pingedLanes|=t.suspendedLanes&n,ur===t&&(Sr&n)===n&&(er===4||er===3&&(Sr&130023424)===Sr&&500>Fn()-WS?oc(t,0):zS|=n),_i(t,e)}function MD(t,e){e===0&&(t.mode&1?(e=Kg,Kg<<=1,!(Kg&130023424)&&(Kg=4194304)):e=1);var n=Zr();t=ra(t,e),t!==null&&(Np(t,e,n),_i(t,n))}function Nj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),MD(t,n)}function Mj(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(se(314))}r!==null&&r.delete(e),MD(t,n)}var DD;DD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yi.current)hi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hi=!1,wj(t,e,n);hi=!!(t.flags&131072)}else hi=!1,wn&&e.flags&1048576&&FM(e,Py,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Hm(t,e),t=e.pendingProps;var i=ud(e,zr.current);Ju(e,n),i=LS(null,e,r,t,i,n);var o=FS();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vi(r)?(o=!0,Iy(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,OS(e),i.updater=Zv,e.stateNode=i,i._reactInternals=e,fE(e,r,t,n),e=gE(null,e,r,!0,o,n)):(e.tag=0,wn&&o&&CS(e),Xr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Hm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$j(r),t=$o(r,t),i){case 0:e=pE(null,e,r,t,n);break e;case 1:e=SR(null,e,r,t,n);break e;case 11:e=ER(null,e,r,t,n);break e;case 14:e=xR(null,e,r,$o(r.type,t),n);break e}throw Error(se(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$o(r,i),pE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$o(r,i),SR(t,e,r,i,n);case 3:e:{if(vD(e),t===null)throw Error(se(387));r=e.pendingProps,o=e.memoizedState,i=o.element,jM(t,e),Oy(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=pd(Error(se(423)),e),e=CR(t,e,r,n,i);break e}else if(r!==i){i=pd(Error(se(424)),e),e=CR(t,e,r,n,i);break e}else for(ji=Ya(e.stateNode.containerInfo.firstChild),Ki=e,wn=!0,Fo=null,n=GM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(dd(),r===i){e=ia(t,e,n);break e}Xr(t,e,r,n)}e=e.child}return e;case 5:return KM(e),t===null&&cE(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,iE(r,i)?s=null:o!==null&&iE(r,o)&&(e.flags|=32),yD(t,e),Xr(t,e,s,n),e.child;case 6:return t===null&&cE(e),null;case 13:return _D(t,e,n);case 4:return NS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fd(e,null,r,n):Xr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$o(r,i),ER(t,e,r,i,n);case 7:return Xr(t,e,e.pendingProps,n),e.child;case 8:return Xr(t,e,e.pendingProps.children,n),e.child;case 12:return Xr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ln(ky,r._currentValue),r._currentValue=s,o!==null)if(qo(o.value,s)){if(o.children===i.children&&!yi.current){e=ia(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Qs(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),uE(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(se(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),uE(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Xr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ju(e,n),i=_o(i),r=r(i),e.flags|=1,Xr(t,e,r,n),e.child;case 14:return r=e.type,i=$o(r,e.pendingProps),i=$o(r.type,i),xR(t,e,r,i,n);case 15:return gD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$o(r,i),Hm(t,e),e.tag=1,vi(r)?(t=!0,Iy(e)):t=!1,Ju(e,n),WM(e,r,i),fE(e,r,i,n),gE(null,e,r,!0,t,n);case 19:return bD(t,e,n);case 22:return mD(t,e,n)}throw Error(se(156,e.tag))};function $D(t,e){return lM(t,e)}function Dj(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function go(t,e,n,r){return new Dj(t,e,n,r)}function qS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $j(t){if(typeof t=="function")return qS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hS)return 11;if(t===pS)return 14}return 2}function Za(t,e){var n=t.alternate;return n===null?(n=go(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qm(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")qS(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Du:return sc(n.children,i,o,e);case fS:s=8,i|=8;break;case $w:return t=go(12,n,e,i|2),t.elementType=$w,t.lanes=o,t;case Lw:return t=go(13,n,e,i),t.elementType=Lw,t.lanes=o,t;case Fw:return t=go(19,n,e,i),t.elementType=Fw,t.lanes=o,t;case HN:return r0(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zN:s=10;break e;case WN:s=9;break e;case hS:s=11;break e;case pS:s=14;break e;case Aa:s=16,r=null;break e}throw Error(se(130,t==null?t:typeof t,""))}return e=go(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function sc(t,e,n,r){return t=go(7,t,r,e),t.lanes=n,t}function r0(t,e,n,r){return t=go(22,t,r,e),t.elementType=HN,t.lanes=n,t.stateNode={isHidden:!1},t}function $b(t,e,n){return t=go(6,t,null,e),t.lanes=n,t}function Lb(t,e,n){return e=go(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Lj(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yb(0),this.expirationTimes=yb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function YS(t,e,n,r,i,o,s,a,l){return t=new Lj(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=go(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},OS(o),t}function Fj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function LD(t){if(!t)return cl;t=t._reactInternals;e:{if(Rc(t)!==t||t.tag!==1)throw Error(se(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(se(171))}if(t.tag===1){var n=t.type;if(vi(n))return $M(t,n,e)}return e}function FD(t,e,n,r,i,o,s,a,l){return t=YS(n,r,!0,t,i,o,s,a,l),t.context=LD(null),n=t.current,r=Zr(),i=Ja(n),o=Qs(r,i),o.callback=e??null,Xa(n,o,i),t.current.lanes=i,Np(t,i,r),_i(t,r),t}function i0(t,e,n,r){var i=e.current,o=Zr(),s=Ja(i);return n=LD(n),e.context===null?e.context=n:e.pendingContext=n,e=Qs(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xa(i,e,s),t!==null&&(Ho(t,i,s,o),jm(t,i,s)),s}function Vy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function DR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function XS(t,e){DR(t,e),(t=t.alternate)&&DR(t,e)}function Bj(){return null}var BD=typeof reportError=="function"?reportError:function(t){console.error(t)};function QS(t){this._internalRoot=t}o0.prototype.render=QS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(se(409));i0(t,e,null,null)};o0.prototype.unmount=QS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pc(function(){i0(null,t,null,null)}),e[na]=null}};function o0(t){this._internalRoot=t}o0.prototype.unstable_scheduleHydration=function(t){if(t){var e=gM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ma.length&&e!==0&&e<Ma[n].priority;n++);Ma.splice(n,0,t),n===0&&yM(t)}};function JS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function s0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $R(){}function Vj(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Vy(s);o.call(c)}}var s=FD(e,r,t,0,null,!1,!1,"",$R);return t._reactRootContainer=s,t[na]=s.current,Yh(t.nodeType===8?t.parentNode:t),pc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Vy(l);a.call(c)}}var l=YS(t,0,!1,null,null,!1,!1,"",$R);return t._reactRootContainer=l,t[na]=l.current,Yh(t.nodeType===8?t.parentNode:t),pc(function(){i0(e,l,n,r)}),l}function a0(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Vy(s);a.call(l)}}i0(e,s,t,i)}else s=Vj(n,e,t,i,r);return Vy(s)}hM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zf(e.pendingLanes);n!==0&&(yS(e,n|1),_i(e,Fn()),!(Dt&6)&&(gd=Fn()+500,Tl()))}break;case 13:pc(function(){var r=ra(t,1);if(r!==null){var i=Zr();Ho(r,t,1,i)}}),XS(t,1)}};vS=function(t){if(t.tag===13){var e=ra(t,134217728);if(e!==null){var n=Zr();Ho(e,t,134217728,n)}XS(t,134217728)}};pM=function(t){if(t.tag===13){var e=Ja(t),n=ra(t,e);if(n!==null){var r=Zr();Ho(n,t,e,r)}XS(t,e)}};gM=function(){return Kt};mM=function(t,e){var n=Kt;try{return Kt=t,e()}finally{Kt=n}};qw=function(t,e,n){switch(e){case"input":if(Uw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Qv(r);if(!i)throw Error(se(90));KN(r),Uw(r,i)}}}break;case"textarea":YN(t,n);break;case"select":e=n.value,e!=null&&qu(t,!!n.multiple,e,!1)}};nM=HS;rM=pc;var Uj={usingClientEntryPoint:!1,Events:[Dp,Bu,Qv,eM,tM,HS]},Nf={findFiberByHostInstance:Xl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},jj={bundleType:Nf.bundleType,version:Nf.version,rendererPackageName:Nf.rendererPackageName,rendererConfig:Nf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ma.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sM(t),t===null?null:t.stateNode},findFiberByHostInstance:Nf.findFiberByHostInstance||Bj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var im=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!im.isDisabled&&im.supportsFiber)try{Kv=im.inject(jj),ys=im}catch{}}eo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uj;eo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!JS(e))throw Error(se(200));return Fj(t,e,null,n)};eo.createRoot=function(t,e){if(!JS(t))throw Error(se(299));var n=!1,r="",i=BD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=YS(t,1,!1,null,null,n,!1,r,i),t[na]=e.current,Yh(t.nodeType===8?t.parentNode:t),new QS(e)};eo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(se(188)):(t=Object.keys(t).join(","),Error(se(268,t)));return t=sM(e),t=t===null?null:t.stateNode,t};eo.flushSync=function(t){return pc(t)};eo.hydrate=function(t,e,n){if(!s0(e))throw Error(se(200));return a0(null,t,e,!0,n)};eo.hydrateRoot=function(t,e,n){if(!JS(t))throw Error(se(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=BD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=FD(e,null,t,1,n??null,i,!1,o,s),t[na]=e.current,Yh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new o0(e)};eo.render=function(t,e,n){if(!s0(e))throw Error(se(200));return a0(null,t,e,!1,n)};eo.unmountComponentAtNode=function(t){if(!s0(t))throw Error(se(40));return t._reactRootContainer?(pc(function(){a0(null,null,t,!1,function(){t._reactRootContainer=null,t[na]=null})}),!0):!1};eo.unstable_batchedUpdates=HS;eo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!s0(n))throw Error(se(200));if(t==null||t._reactInternals===void 0)throw Error(se(38));return a0(t,e,n,!1,r)};eo.version="18.2.0-next-9e3b772b8-20220608";function VD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VD)}catch(t){console.error(t)}}VD(),FN.exports=eo;var Lp=FN.exports;const om=Ap(Lp);var LR=Lp;Mw.createRoot=LR.createRoot,Mw.hydrateRoot=LR.hydrateRoot;var ZS={};Object.defineProperty(ZS,"__esModule",{value:!0});ZS.parse=Yj;ZS.serialize=Xj;const zj=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Wj=/^[\u0021-\u003A\u003C-\u007E]*$/,Hj=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Gj=/^[\u0020-\u003A\u003D-\u007E]*$/,Kj=Object.prototype.toString,qj=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function Yj(t,e){const n=new qj,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||Qj;let o=0;do{const s=t.indexOf("=",o);if(s===-1)break;const a=t.indexOf(";",o),l=a===-1?r:a;if(s>l){o=t.lastIndexOf(";",s-1)+1;continue}const c=FR(t,o,s),u=BR(t,s,c),f=t.slice(c,u);if(n[f]===void 0){let h=FR(t,s+1,l),p=BR(t,l,h);const g=i(t.slice(h,p));n[f]=g}o=l+1}while(o<r);return n}function FR(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function BR(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function Xj(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!zj.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!Wj.test(i))throw new TypeError(`argument val is invalid: ${e}`);let o=t+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!Hj.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!Gj.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!Jj(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function Qj(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function Jj(t){return Kj.call(t)==="[object Date]"}/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var VR="popstate";function Zj(t={}){function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return IE("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ip(i)}return t6(e,n,null,t)}function Rn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function e6(){return Math.random().toString(36).substring(2,10)}function UR(t,e){return{usr:t.state,key:t.key,idx:e}}function IE(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ud(e):e,state:n,key:e&&e.key||r||e6()}}function ip({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ud(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function t6(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,c=u();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function u(){return(s.state||{idx:null}).idx}function f(){a="POP";let x=u(),y=x==null?null:x-c;c=x,l&&l({action:a,location:E.location,delta:y})}function h(x,y){a="PUSH";let b=IE(E.location,x,y);c=u()+1;let _=UR(b,c),S=E.createHref(b);try{s.pushState(_,"",S)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(S)}o&&l&&l({action:a,location:E.location,delta:1})}function p(x,y){a="REPLACE";let b=IE(E.location,x,y);c=u();let _=UR(b,c),S=E.createHref(b);s.replaceState(_,"",S),o&&l&&l({action:a,location:E.location,delta:0})}function g(x){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof x=="string"?x:ip(x);return b=b.replace(/ $/,"%20"),Rn(y,`No window.location.(origin|href) available to create URL for href: ${b}`),new URL(b,y)}let E={get action(){return a},get location(){return t(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(VR,f),l=x,()=>{i.removeEventListener(VR,f),l=null}},createHref(x){return e(i,x)},createURL:g,encodeLocation(x){let y=g(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(x){return s.go(x)}};return E}function UD(t,e,n="/"){return n6(t,e,n,!1)}function n6(t,e,n,r){let i=typeof e=="string"?Ud(e):e,o=oa(i.pathname||"/",n);if(o==null)return null;let s=jD(t);r6(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=p6(o);a=f6(s[l],c,r)}return a}function jD(t,e=[],n=[],r=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Rn(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=Js([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(Rn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),jD(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:u6(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of zD(o.path))i(o,s,l)}),e}function zD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=zD(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function r6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:d6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var i6=/^:[\w-]+$/,o6=3,s6=2,a6=1,l6=10,c6=-2,jR=t=>t==="*";function u6(t,e){let n=t.split("/"),r=n.length;return n.some(jR)&&(r+=c6),e&&(r+=s6),n.filter(i=>!jR(i)).reduce((i,o)=>i+(i6.test(o)?o6:o===""?a6:l6),r)}function d6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function f6(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",f=Uy({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Uy({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Js([o,f.pathname]),pathnameBase:v6(Js([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Js([o,f.pathnameBase]))}return s}function Uy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=h6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:f},h)=>{if(u==="*"){let g=a[h]||"";s=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[h];return f&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function h6(t,e=!1,n=!0){Cs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function p6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function oa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function g6(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ud(t):t;return{pathname:n?n.startsWith("/")?n:m6(n,e):e,search:_6(r),hash:b6(i)}}function m6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Fb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function y6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function WD(t){let e=y6(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function HD(t,e,n,r=!1){let i;typeof t=="string"?i=Ud(t):(i={...t},Rn(!i.pathname||!i.pathname.includes("?"),Fb("?","pathname","search",i)),Rn(!i.pathname||!i.pathname.includes("#"),Fb("#","pathname","hash",i)),Rn(!i.search||!i.search.includes("#"),Fb("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=g6(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Js=t=>t.join("/").replace(/\/\/+/g,"/"),v6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,b6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function w6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var GD=["POST","PUT","PATCH","DELETE"];new Set(GD);var E6=["GET",...GD];new Set(E6);var jd=w.createContext(null);jd.displayName="DataRouter";var l0=w.createContext(null);l0.displayName="DataRouterState";var KD=w.createContext({isTransitioning:!1});KD.displayName="ViewTransition";var x6=w.createContext(new Map);x6.displayName="Fetchers";var S6=w.createContext(null);S6.displayName="Await";var Ps=w.createContext(null);Ps.displayName="Navigation";var Fp=w.createContext(null);Fp.displayName="Location";var ks=w.createContext({outlet:null,matches:[],isDataRoute:!1});ks.displayName="Route";var eC=w.createContext(null);eC.displayName="RouteError";function C6(t,{relative:e}={}){Rn(Bp(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(Ps),{hash:i,pathname:o,search:s}=Vp(t,{relative:e}),a=o;return n!=="/"&&(a=o==="/"?n:Js([n,o])),r.createHref({pathname:a,search:s,hash:i})}function Bp(){return w.useContext(Fp)!=null}function Pc(){return Rn(Bp(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Fp).location}var qD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YD(t){w.useContext(Ps).static||w.useLayoutEffect(t)}function c0(){let{isDataRoute:t}=w.useContext(ks);return t?B6():T6()}function T6(){Rn(Bp(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(jd),{basename:e,navigator:n}=w.useContext(Ps),{matches:r}=w.useContext(ks),{pathname:i}=Pc(),o=JSON.stringify(WD(r)),s=w.useRef(!1);return YD(()=>{s.current=!0}),w.useCallback((l,c={})=>{if(Cs(s.current,qD),!s.current)return;if(typeof l=="number"){n.go(l);return}let u=HD(l,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Js([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,o,i,t])}w.createContext(null);function I6(){let{matches:t}=w.useContext(ks),e=t[t.length-1];return e?e.params:{}}function Vp(t,{relative:e}={}){let{matches:n}=w.useContext(ks),{pathname:r}=Pc(),i=JSON.stringify(WD(n));return w.useMemo(()=>HD(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function R6(t,e){return XD(t,e)}function XD(t,e,n,r){var b;Rn(Bp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=w.useContext(Ps),{matches:s}=w.useContext(ks),a=s[s.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",f=a&&a.route;{let _=f&&f.path||"";QD(c,!f||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let h=Pc(),p;if(e){let _=typeof e=="string"?Ud(e):e;Rn(u==="/"||((b=_.pathname)==null?void 0:b.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${_.pathname}" was given in the \`location\` prop.`),p=_}else p=h;let g=p.pathname||"/",E=g;if(u!=="/"){let _=u.replace(/^\//,"").split("/");E="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=!o&&n&&n.matches&&n.matches.length>0?n.matches:UD(t,{pathname:E});Cs(f||x!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Cs(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=N6(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Js([u,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:Js([u,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&y?w.createElement(Fp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},y):y}function P6(){let t=F6(),e=w6(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:o},"ErrorBoundary")," or"," ",w.createElement("code",{style:o},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,s)}var k6=w.createElement(P6,null),A6=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?w.createElement(ks.Provider,{value:this.props.routeContext},w.createElement(eC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function O6({routeContext:t,match:e,children:n}){let r=w.useContext(jd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(ks.Provider,{value:t},n)}function N6(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let l=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);Rn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:f}=n,h=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||h){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let f,h=!1,p=null,g=null;n&&(f=o&&c.route.id?o[c.route.id]:void 0,p=c.route.errorElement||k6,s&&(a<0&&u===0?(QD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,g=null):a===u&&(h=!0,g=c.route.hydrateFallbackElement||null)));let E=e.concat(i.slice(0,u+1)),x=()=>{let y;return f?y=p:h?y=g:c.route.Component?y=w.createElement(c.route.Component,null):c.route.element?y=c.route.element:y=l,w.createElement(O6,{match:c,routeContext:{outlet:l,matches:E,isDataRoute:n!=null},children:y})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?w.createElement(A6,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:x(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):x()},null)}function tC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M6(t){let e=w.useContext(jd);return Rn(e,tC(t)),e}function D6(t){let e=w.useContext(l0);return Rn(e,tC(t)),e}function $6(t){let e=w.useContext(ks);return Rn(e,tC(t)),e}function nC(t){let e=$6(t),n=e.matches[e.matches.length-1];return Rn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function L6(){return nC("useRouteId")}function F6(){var r;let t=w.useContext(eC),e=D6("useRouteError"),n=nC("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function B6(){let{router:t}=M6("useNavigate"),e=nC("useNavigate"),n=w.useRef(!1);return YD(()=>{n.current=!0}),w.useCallback(async(i,o={})=>{Cs(n.current,qD),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var zR={};function QD(t,e,n){!e&&!zR[t]&&(zR[t]=!0,Cs(!1,n))}w.memo(V6);function V6({routes:t,future:e,state:n}){return XD(t,void 0,n,e)}function Ym(t){Rn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function U6({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Rn(!Bp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),a=w.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=Ud(n));let{pathname:l="/",search:c="",hash:u="",state:f=null,key:h="default"}=n,p=w.useMemo(()=>{let g=oa(l,s);return g==null?null:{location:{pathname:g,search:c,hash:u,state:f,key:h},navigationType:r}},[s,l,c,u,f,h,r]);return Cs(p!=null,`<Router basename="${s}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:w.createElement(Ps.Provider,{value:a},w.createElement(Fp.Provider,{children:e,value:p}))}function j6({children:t,location:e}){return R6(RE(t),e)}function RE(t,e=[]){let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let o=[...e,i];if(r.type===w.Fragment){n.push.apply(n,RE(r.props.children,o));return}Rn(r.type===Ym,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=RE(r.props.children,o)),n.push(s)}),n}var Xm="get",Qm="application/x-www-form-urlencoded";function u0(t){return t!=null&&typeof t.tagName=="string"}function z6(t){return u0(t)&&t.tagName.toLowerCase()==="button"}function W6(t){return u0(t)&&t.tagName.toLowerCase()==="form"}function H6(t){return u0(t)&&t.tagName.toLowerCase()==="input"}function G6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function K6(t,e){return t.button===0&&(!e||e==="_self")&&!G6(t)}var sm=null;function q6(){if(sm===null)try{new FormData(document.createElement("form"),0),sm=!1}catch{sm=!0}return sm}var Y6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bb(t){return t!=null&&!Y6.has(t)?(Cs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qm}"`),null):t}function X6(t,e){let n,r,i,o,s;if(W6(t)){let a=t.getAttribute("action");r=a?oa(a,e):null,n=t.getAttribute("method")||Xm,i=Bb(t.getAttribute("enctype"))||Qm,o=new FormData(t)}else if(z6(t)||H6(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?oa(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Xm,i=Bb(t.getAttribute("formenctype"))||Bb(a.getAttribute("enctype"))||Qm,o=new FormData(a,t),!q6()){let{name:c,type:u,value:f}=t;if(u==="image"){let h=c?`${c}.`:"";o.append(`${h}x`,"0"),o.append(`${h}y`,"0")}else c&&o.append(c,f)}}else{if(u0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xm,r=null,i=Qm,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function rC(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Q6(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function J6(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Z6(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await Q6(o,n);return s.links?s.links():[]}return[]}));return r9(r.flat(1).filter(J6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function WR(t,e,n,r,i,o){let s=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return o==="assets"?e.filter((l,c)=>s(l,c)||a(l,c)):o==="data"?e.filter((l,c)=>{var f;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(s(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function e9(t,e,{includeHydrateFallback:n}={}){return t9(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function t9(t){return[...new Set(t)]}function n9(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function r9(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(n9(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function i9(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&oa(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function JD(){let t=w.useContext(jd);return rC(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function o9(){let t=w.useContext(l0);return rC(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var iC=w.createContext(void 0);iC.displayName="FrameworkContext";function ZD(){let t=w.useContext(iC);return rC(t,"You must render this element inside a <HydratedRouter> element"),t}function s9(t,e){let n=w.useContext(iC),[r,i]=w.useState(!1),[o,s]=w.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=e,h=w.useRef(null);w.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let E=y=>{y.forEach(b=>{s(b.isIntersecting)})},x=new IntersectionObserver(E,{threshold:.5});return h.current&&x.observe(h.current),()=>{x.disconnect()}}},[t]),w.useEffect(()=>{if(r){let E=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(E)}}},[r]);let p=()=>{i(!0)},g=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,h,{}]:[o,h,{onFocus:Mf(a,p),onBlur:Mf(l,g),onMouseEnter:Mf(c,p),onMouseLeave:Mf(u,g),onTouchStart:Mf(f,p)}]:[!1,h,{}]}function Mf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function a9({page:t,...e}){let{router:n}=JD(),r=w.useMemo(()=>UD(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(c9,{page:t,matches:r,...e}):null}function l9(t){let{manifest:e,routeModules:n}=ZD(),[r,i]=w.useState([]);return w.useEffect(()=>{let o=!1;return Z6(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function c9({page:t,matches:e,...n}){let r=Pc(),{manifest:i,routeModules:o}=ZD(),{basename:s}=JD(),{loaderData:a,matches:l}=o9(),c=w.useMemo(()=>WR(t,e,l,i,r,"data"),[t,e,l,i,r]),u=w.useMemo(()=>WR(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let g=new Set,E=!1;if(e.forEach(y=>{var _;let b=i.routes[y.route.id];!b||!b.hasLoader||(!c.some(S=>S.route.id===y.route.id)&&y.route.id in a&&((_=o[y.route.id])!=null&&_.shouldRevalidate)||b.hasClientLoader?E=!0:g.add(y.route.id))}),g.size===0)return[];let x=i9(t,s);return E&&g.size>0&&x.searchParams.set("_routes",e.filter(y=>g.has(y.route.id)).map(y=>y.route.id).join(",")),[x.pathname+x.search]},[s,a,r,i,c,e,t,o]),h=w.useMemo(()=>e9(u,i),[u,i]),p=l9(u);return w.createElement(w.Fragment,null,f.map(g=>w.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),h.map(g=>w.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),p.map(({key:g,link:E})=>w.createElement("link",{key:g,...E})))}function u9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var e$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{e$&&(window.__reactRouterVersion="7.4.1")}catch{}function d9({basename:t,children:e,window:n}){let r=w.useRef();r.current==null&&(r.current=Zj({window:n,v5Compat:!0}));let i=r.current,[o,s]=w.useState({action:i.action,location:i.location}),a=w.useCallback(l=>{w.startTransition(()=>s(l))},[s]);return w.useLayoutEffect(()=>i.listen(a),[i,a]),w.createElement(U6,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var t$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n$=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f,...h},p){let{basename:g}=w.useContext(Ps),E=typeof c=="string"&&t$.test(c),x,y=!1;if(typeof c=="string"&&E&&(x=c,e$))try{let R=new URL(window.location.href),v=c.startsWith("//")?new URL(R.protocol+c):new URL(c),k=oa(v.pathname,g);v.origin===R.origin&&k!=null?c=k+v.search+v.hash:y=!0}catch{Cs(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=C6(c,{relative:i}),[_,S,O]=s9(r,h),N=g9(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:f});function T(R){e&&e(R),R.defaultPrevented||N(R)}let I=w.createElement("a",{...h,...O,href:x||b,onClick:y||o?e:T,ref:u9(p,S),target:l,"data-discover":!E&&n==="render"?"true":void 0});return _&&!E?w.createElement(w.Fragment,null,I,w.createElement(a9,{page:b})):I});n$.displayName="Link";var f9=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...c},u){let f=Vp(s,{relative:c.relative}),h=Pc(),p=w.useContext(l0),{navigator:g,basename:E}=w.useContext(Ps),x=p!=null&&b9(f)&&a===!0,y=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=h.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(b=b.toLowerCase(),_=_?_.toLowerCase():null,y=y.toLowerCase()),_&&E&&(_=oa(_,E)||_);const S=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let O=b===y||!i&&b.startsWith(y)&&b.charAt(S)==="/",N=_!=null&&(_===y||!i&&_.startsWith(y)&&_.charAt(y.length)==="/"),T={isActive:O,isPending:N,isTransitioning:x},I=O?e:void 0,R;typeof r=="function"?R=r(T):R=[r,O?"active":null,N?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let v=typeof o=="function"?o(T):o;return w.createElement(n$,{...c,"aria-current":I,className:R,ref:u,style:v,to:s,viewTransition:a},typeof l=="function"?l(T):l)});f9.displayName="NavLink";var h9=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=Xm,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:f,...h},p)=>{let g=v9(),E=_9(a,{relative:c}),x=s.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&t$.test(a),b=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let S=_.nativeEvent.submitter,O=(S==null?void 0:S.getAttribute("formmethod"))||s;g(S||_.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:o,relative:c,preventScrollReset:u,viewTransition:f})};return w.createElement("form",{ref:p,method:x,action:E,onSubmit:r?l:b,...h,"data-discover":!y&&t==="render"?"true":void 0})});h9.displayName="Form";function p9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r$(t){let e=w.useContext(jd);return Rn(e,p9(t)),e}function g9(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=c0(),l=Pc(),c=Vp(t,{relative:o});return w.useCallback(u=>{if(K6(u,e)){u.preventDefault();let f=n!==void 0?n:ip(l)===ip(c);a(t,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,c,n,r,e,t,i,o,s])}var m9=0,y9=()=>`__${String(++m9)}__`;function v9(){let{router:t}=r$("useSubmit"),{basename:e}=w.useContext(Ps),n=L6();return w.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:c}=X6(r,e);if(i.navigate===!1){let u=i.fetcherKey||y9();await t.fetch(u,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function _9(t,{relative:e}={}){let{basename:n}=w.useContext(Ps),r=w.useContext(ks);Rn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Vp(t||".",{relative:e})},s=Pc();if(t==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let u=a.toString();o.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Js([n,o.pathname])),ip(o)}function b9(t,e={}){let n=w.useContext(KD);Rn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=r$("useViewTransitionState"),i=Vp(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=oa(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=oa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Uy(i.pathname,s)!=null||Uy(i.pathname,o)!=null}new TextEncoder;const w9=()=>{};var HR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue=function(t,e){if(!t)throw zd(e)},zd=function(t){return new Error("Firebase Database ("+i$.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},E9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},oC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):E9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new x9;const h=o<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),f!==64){const g=c<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class x9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s$=function(t){const e=o$(t);return oC.encodeByteArray(e,!0)},jy=function(t){return s$(t).replace(/\./g,"")},zy=function(t){try{return oC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(t){return a$(void 0,t)}function a$(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!C9(n)||(t[n]=a$(t[n],e[n]));return t}function C9(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=()=>T9().__FIREBASE_DEFAULTS__,R9=()=>{if(typeof process>"u"||typeof HR>"u")return;const t=HR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},P9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zy(t[1]);return e&&JSON.parse(e)},d0=()=>{try{return w9()||I9()||R9()||P9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},l$=t=>{var e,n;return(n=(e=d0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sC=t=>{const e=l$(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},c$=()=>{var t;return(t=d0())===null||t===void 0?void 0:t.config},u$=t=>{var e;return(e=d0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jy(JSON.stringify(n)),jy(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wr())}function k9(){var t;const e=(t=d0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function O9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function d$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function N9(){const t=Wr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function M9(){return i$.NODE_ADMIN===!0}function D9(){return!k9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $9(){try{return typeof indexedDB=="object"}catch{return!1}}function L9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9="FirebaseError";class As extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=F9,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Up.prototype.create)}}class Up{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?B9(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new As(i,a,r)}}function B9(t,e){return t.replace(V9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const V9=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t){return JSON.parse(t)}function Jn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=op(zy(o[0])||""),n=op(zy(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},U9=function(t){const e=f$(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},j9=function(t){const e=f$(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function md(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function PE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wy(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function sa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(GR(o)&&GR(s)){if(!sa(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function GR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function th(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function nh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let f=0;f<80;f++){f<40?f<20?(c=a^o&(s^a),u=1518500249):(c=o^s^a,u=1859775393):f<60?(c=o&s|a&(o|s),u=2400959708):(c=o^s^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[f]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function W9(t,e){const n=new H9(t,e);return n.subscribe.bind(n)}class H9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");G9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Vb),i.error===void 0&&(i.error=Vb),i.complete===void 0&&(i.complete=Vb);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function G9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vb(){}function cC(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,ue(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},h0=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t){return t&&t._delegate?t._delegate:t}class aa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new f0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(X9(e))try{this.getOrInitializeService({instanceIdentifier:Hl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Hl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hl){return this.instances.has(e)}getOptions(e=Hl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Y9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hl){return this.component?this.component.multipleInstances?e:Hl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Y9(t){return t===Hl?void 0:t}function X9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new q9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(wt||(wt={}));const J9={debug:wt.DEBUG,verbose:wt.VERBOSE,info:wt.INFO,warn:wt.WARN,error:wt.ERROR,silent:wt.SILENT},Z9=wt.INFO,ez={[wt.DEBUG]:"log",[wt.VERBOSE]:"log",[wt.INFO]:"info",[wt.WARN]:"warn",[wt.ERROR]:"error"},tz=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ez[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class p0{constructor(e){this.name=e,this._logLevel=Z9,this._logHandler=tz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wt.DEBUG,...e),this._logHandler(this,wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wt.VERBOSE,...e),this._logHandler(this,wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wt.INFO,...e),this._logHandler(this,wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wt.WARN,...e),this._logHandler(this,wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wt.ERROR,...e),this._logHandler(this,wt.ERROR,...e)}}const nz=(t,e)=>e.some(n=>t instanceof n);let KR,qR;function rz(){return KR||(KR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iz(){return qR||(qR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h$=new WeakMap,kE=new WeakMap,p$=new WeakMap,Ub=new WeakMap,uC=new WeakMap;function oz(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(el(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&h$.set(n,t)}).catch(()=>{}),uC.set(e,t),e}function sz(t){if(kE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});kE.set(t,e)}let AE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||p$.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return el(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function az(t){AE=t(AE)}function lz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(jb(this),e,...n);return p$.set(r,e.sort?e.sort():[e]),el(r)}:iz().includes(t)?function(...e){return t.apply(jb(this),e),el(h$.get(this))}:function(...e){return el(t.apply(jb(this),e))}}function cz(t){return typeof t=="function"?lz(t):(t instanceof IDBTransaction&&sz(t),nz(t,rz())?new Proxy(t,AE):t)}function el(t){if(t instanceof IDBRequest)return oz(t);if(Ub.has(t))return Ub.get(t);const e=cz(t);return e!==t&&(Ub.set(t,e),uC.set(e,t)),e}const jb=t=>uC.get(t);function uz(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=el(s);return r&&s.addEventListener("upgradeneeded",l=>{r(el(s.result),l.oldVersion,l.newVersion,el(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const dz=["get","getKey","getAll","getAllKeys","count"],fz=["put","add","delete","clear"],zb=new Map;function YR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zb.get(e))return zb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=fz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dz.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return zb.set(e,o),o}az(t=>({...t,get:(e,n,r)=>YR(e,n)||t.get(e,n,r),has:(e,n)=>!!YR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pz(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pz(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const OE="@firebase/app",XR="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new p0("@firebase/app"),gz="@firebase/app-compat",mz="@firebase/analytics-compat",yz="@firebase/analytics",vz="@firebase/app-check-compat",_z="@firebase/app-check",bz="@firebase/auth",wz="@firebase/auth-compat",Ez="@firebase/database",xz="@firebase/data-connect",Sz="@firebase/database-compat",Cz="@firebase/functions",Tz="@firebase/functions-compat",Iz="@firebase/installations",Rz="@firebase/installations-compat",Pz="@firebase/messaging",kz="@firebase/messaging-compat",Az="@firebase/performance",Oz="@firebase/performance-compat",Nz="@firebase/remote-config",Mz="@firebase/remote-config-compat",Dz="@firebase/storage",$z="@firebase/storage-compat",Lz="@firebase/firestore",Fz="@firebase/vertexai",Bz="@firebase/firestore-compat",Vz="firebase",Uz="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="[DEFAULT]",jz={[OE]:"fire-core",[gz]:"fire-core-compat",[yz]:"fire-analytics",[mz]:"fire-analytics-compat",[_z]:"fire-app-check",[vz]:"fire-app-check-compat",[bz]:"fire-auth",[wz]:"fire-auth-compat",[Ez]:"fire-rtdb",[xz]:"fire-data-connect",[Sz]:"fire-rtdb-compat",[Cz]:"fire-fn",[Tz]:"fire-fn-compat",[Iz]:"fire-iid",[Rz]:"fire-iid-compat",[Pz]:"fire-fcm",[kz]:"fire-fcm-compat",[Az]:"fire-perf",[Oz]:"fire-perf-compat",[Nz]:"fire-rc",[Mz]:"fire-rc-compat",[Dz]:"fire-gcs",[$z]:"fire-gcs-compat",[Lz]:"fire-fst",[Bz]:"fire-fst-compat",[Fz]:"fire-vertex","fire-js":"fire-js",[Vz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=new Map,zz=new Map,ME=new Map;function QR(t,e){try{t.container.addComponent(e)}catch(n){la.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ul(t){const e=t.name;if(ME.has(e))return la.debug(`There were multiple attempts to register component ${e}.`),!1;ME.set(e,t);for(const n of Hy.values())QR(n,t);for(const n of zz.values())QR(n,t);return!0}function jp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tl=new Up("app","Firebase",Wz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=Uz;function g$(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:NE,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw tl.create("bad-app-name",{appName:String(i)});if(n||(n=c$()),!n)throw tl.create("no-options");const o=Hy.get(i);if(o){if(sa(n,o.options)&&sa(r,o.config))return o;throw tl.create("duplicate-app",{appName:i})}const s=new Q9(i);for(const l of ME.values())s.addComponent(l);const a=new Hz(n,r,s);return Hy.set(i,a),a}function g0(t=NE){const e=Hy.get(t);if(!e&&t===NE&&c$())return g$();if(!e)throw tl.create("no-app",{appName:t});return e}function yo(t,e,n){var r;let i=(r=jz[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),la.warn(a.join(" "));return}ul(new aa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz="firebase-heartbeat-database",Kz=1,sp="firebase-heartbeat-store";let Wb=null;function m$(){return Wb||(Wb=uz(Gz,Kz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sp)}catch(n){console.warn(n)}}}}).catch(t=>{throw tl.create("idb-open",{originalErrorMessage:t.message})})),Wb}async function qz(t){try{const n=(await m$()).transaction(sp),r=await n.objectStore(sp).get(y$(t));return await n.done,r}catch(e){if(e instanceof As)la.warn(e.message);else{const n=tl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});la.warn(n.message)}}}async function JR(t,e){try{const r=(await m$()).transaction(sp,"readwrite");await r.objectStore(sp).put(e,y$(t)),await r.done}catch(n){if(n instanceof As)la.warn(n.message);else{const r=tl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});la.warn(r.message)}}}function y$(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz=1024,Xz=30;class Qz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Zz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ZR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Xz){const s=eW(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){la.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ZR(),{heartbeatsToSend:r,unsentEntries:i}=Jz(this._heartbeatsCache.heartbeats),o=jy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return la.warn(n),""}}}function ZR(){return new Date().toISOString().substring(0,10)}function Jz(t,e=Yz){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),eP(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),eP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Zz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $9()?L9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qz(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return JR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return JR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function eP(t){return jy(JSON.stringify({version:2,heartbeats:t})).length}function eW(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tW(t){ul(new aa("platform-logger",e=>new hz(e),"PRIVATE")),ul(new aa("heartbeat",e=>new Qz(e),"PRIVATE")),yo(OE,XR,t),yo(OE,XR,"esm2017"),yo("fire-js","")}tW("");var nW="firebase",rW="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yo(nW,rW,"app");function dC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function v$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iW=v$,_$=new Up("auth","Firebase",v$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=new p0("@firebase/auth");function oW(t,...e){Gy.logLevel<=wt.WARN&&Gy.warn(`Auth (${Il}): ${t}`,...e)}function Jm(t,...e){Gy.logLevel<=wt.ERROR&&Gy.error(`Auth (${Il}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t,...e){throw hC(t,...e)}function Go(t,...e){return hC(t,...e)}function fC(t,e,n){const r=Object.assign(Object.assign({},iW()),{[e]:n});return new Up("auth","Firebase",r).create(e,{appName:t.name})}function Zs(t){return fC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sW(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&wo(t,"argument-error"),fC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _$.create(t,...e)}function Ge(t,e,...n){if(!t)throw hC(e,...n)}function qs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jm(e),new Error(e)}function ca(t,e){t||qs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function aW(){return tP()==="http:"||tP()==="https:"}function tP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aW()||O9()||"connection"in navigator)?navigator.onLine:!0}function cW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n){this.shortDelay=e,this.longDelay=n,ca(n>e,"Short delay should be less than long delay!"),this.isMobile=lC()||d$()}get(){return lW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t,e){ca(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fW=new zp(3e4,6e4);function Rl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Pl(t,e,n,r,i={}){return w$(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Wd(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},o);return A9()||(c.referrerPolicy="no-referrer"),b$.fetch()(await E$(t,t.config.apiHost,n,a),c)})}async function w$(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},uW),e);try{const i=new pW(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw am(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw am(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw am(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw am(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw fC(t,u,c);wo(t,u)}}catch(i){if(i instanceof As)throw i;wo(t,"network-request-failed",{message:String(i)})}}async function Wp(t,e,n,r,i={}){const o=await Pl(t,e,n,r,i);return"mfaPendingCredential"in o&&wo(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function E$(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?pC(t.config,i):`${t.config.apiScheme}://${i}`;return dW.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function hW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pW{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Go(this.auth,"network-request-failed")),fW.get())})}}function am(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Go(t,e,r);return i.customData._tokenResponse=n,i}function nP(t){return t!==void 0&&t.enterprise!==void 0}class gW{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return hW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mW(t,e){return Pl(t,"GET","/v2/recaptchaConfig",Rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yW(t,e){return Pl(t,"POST","/v1/accounts:delete",e)}async function Ky(t,e){return Pl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vW(t,e=!1){const n=Ht(t),r=await n.getIdToken(e),i=gC(r);Ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Eh(Hb(i.auth_time)),issuedAtTime:Eh(Hb(i.iat)),expirationTime:Eh(Hb(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Hb(t){return Number(t)*1e3}function gC(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jm("JWT malformed, contained fewer than 3 sections"),null;try{const i=zy(n);return i?JSON.parse(i):(Jm("Failed to decode base64 JWT payload"),null)}catch(i){return Jm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function rP(t){const e=gC(t);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ap(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof As&&_W(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _W({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eh(this.lastLoginAt),this.creationTime=Eh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qy(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ap(t,Ky(n,{idToken:r}));Ge(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?x$(o.providerUserInfo):[],a=EW(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new $E(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function wW(t){const e=Ht(t);await qy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EW(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function x$(t){return t.map(e=>{var{providerId:n}=e,r=dC(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xW(t,e){const n=await w$(t,{},async()=>{const r=Wd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await E$(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",b$.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SW(t,e){return Pl(t,"POST","/v2/accounts:revokeToken",Rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const n=rP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await xW(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new ed;return r&&(Ge(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ge(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ge(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ed,this.toJSON())}_performRefresh(){return qs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(t,e){Ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=dC(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $E(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ap(this,this.stsTokenManager.getToken(this.auth,e));return Ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return vW(this,e)}reload(){return wW(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qr(this.auth.app))return Promise.reject(Zs(this.auth));const e=await this.getIdToken();return await ap(this,yW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,c,u;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,b=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:S,isAnonymous:O,providerData:N,stsTokenManager:T}=n;Ge(_&&T,e,"internal-error");const I=ed.fromJSON(this.name,T);Ge(typeof _=="string",e,"internal-error"),Ia(f,e.name),Ia(h,e.name),Ge(typeof S=="boolean",e,"internal-error"),Ge(typeof O=="boolean",e,"internal-error"),Ia(p,e.name),Ia(g,e.name),Ia(E,e.name),Ia(x,e.name),Ia(y,e.name),Ia(b,e.name);const R=new Vo({uid:_,auth:e,email:h,emailVerified:S,displayName:f,isAnonymous:O,photoURL:g,phoneNumber:p,tenantId:E,stsTokenManager:I,createdAt:y,lastLoginAt:b});return N&&Array.isArray(N)&&(R.providerData=N.map(v=>Object.assign({},v))),x&&(R._redirectEventId=x),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new ed;i.updateFromServerResponse(n);const o=new Vo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qy(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ge(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?x$(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new ed;a.updateFromIdToken(r);const l=new Vo({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new $E(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=new Map;function Ys(t){ca(t instanceof Function,"Expected a class definition");let e=iP.get(t);return e?(ca(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}S$.type="NONE";const oP=S$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t,e,n){return`firebase:${t}:${e}:${n}`}class td{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Zm(this.userKey,i.apiKey,o),this.fullPersistenceKey=Zm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ky(this.auth,{idToken:e}).catch(()=>{});return n?Vo._fromGetAccountInfoResponse(this.auth,n,e):null}return Vo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new td(Ys(oP),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||Ys(oP);const s=Zm(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){let f;if(typeof u=="string"){const h=await Ky(e,{idToken:u}).catch(()=>{});if(!h)break;f=await Vo._fromGetAccountInfoResponse(e,h,u)}else f=Vo._fromJSON(e,u);c!==o&&(a=f),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new td(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new td(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(R$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k$(e))return"Blackberry";if(A$(e))return"Webos";if(T$(e))return"Safari";if((e.includes("chrome/")||I$(e))&&!e.includes("edge/"))return"Chrome";if(P$(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function C$(t=Wr()){return/firefox\//i.test(t)}function T$(t=Wr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function I$(t=Wr()){return/crios\//i.test(t)}function R$(t=Wr()){return/iemobile/i.test(t)}function P$(t=Wr()){return/android/i.test(t)}function k$(t=Wr()){return/blackberry/i.test(t)}function A$(t=Wr()){return/webos/i.test(t)}function mC(t=Wr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function CW(t=Wr()){var e;return mC(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TW(){return N9()&&document.documentMode===10}function O$(t=Wr()){return mC(t)||P$(t)||A$(t)||k$(t)||/windows phone/i.test(t)||R$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N$(t,e=[]){let n;switch(t){case"Browser":n=sP(Wr());break;case"Worker":n=`${sP(Wr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Il}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RW(t,e={}){return Pl(t,"GET","/v2/passwordPolicy",Rl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PW=6;class kW{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:PW,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aP(this),this.idTokenSubscription=new aP(this),this.beforeStateQueue=new IW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ys(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await td.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ky(this,{idToken:e}),r=await Vo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Qr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qr(this.app))return Promise.reject(Zs(this));const n=e?Ht(e):null;return n&&Ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qr(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qr(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RW(this),n=new kW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Up("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await SW(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ys(e)||this._popupRedirectResolver;Ge(n,this,"argument-error"),this.redirectPersistenceManager=await td.create(this,[Ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=N$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&oW(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function kl(t){return Ht(t)}class aP{constructor(e){this.auth=e,this.observer=null,this.addObserver=W9(n=>this.observer=n)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OW(t){m0=t}function M$(t){return m0.loadJS(t)}function NW(){return m0.recaptchaEnterpriseScript}function MW(){return m0.gapiScript}function DW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class $W{constructor(){this.enterprise=new LW}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class LW{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const FW="recaptcha-enterprise",D$="NO_RECAPTCHA";class BW{constructor(e){this.type=FW,this.auth=kl(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{mW(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new gW(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;nP(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(D$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $W().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&nP(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=NW();l.length!==0&&(l+=a),M$(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function lP(t,e,n,r=!1,i=!1){const o=new BW(t);let s;if(i)s=D$;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function LE(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await lP(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await lP(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VW(t,e){const n=jp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(sa(o,e??{}))return i;wo(i,"already-initialized")}return n.initialize({options:e})}function UW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ys);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function jW(t,e,n){const r=kl(t);Ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=$$(e),{host:s,port:a}=zW(e),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ge(sa(c,r.config.emulator)&&sa(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,WW()}function $$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zW(t){const e=$$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:cP(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:cP(s)}}}function cP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function WW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qs("not implemented")}_getIdTokenResponse(e){return qs("not implemented")}_linkToIdToken(e,n){return qs("not implemented")}_getReauthenticationResolver(e){return qs("not implemented")}}async function HW(t,e){return Pl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GW(t,e){return Wp(t,"POST","/v1/accounts:signInWithPassword",Rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KW(t,e){return Wp(t,"POST","/v1/accounts:signInWithEmailLink",Rl(t,e))}async function qW(t,e){return Wp(t,"POST","/v1/accounts:signInWithEmailLink",Rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp extends yC{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new lp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new lp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return LE(e,n,"signInWithPassword",GW);case"emailLink":return KW(e,{email:this._email,oobCode:this._password});default:wo(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return LE(e,r,"signUpPassword",HW);case"emailLink":return qW(e,{idToken:n,email:this._email,oobCode:this._password});default:wo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nd(t,e){return Wp(t,"POST","/v1/accounts:signInWithIdp",Rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW="http://localhost";class gc extends yC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=dC(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new gc(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return nd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,nd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,nd(e,n)}buildRequest(){const e={requestUri:YW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QW(t){const e=th(nh(t)).link,n=e?th(nh(e)).deep_link_id:null,r=th(nh(t)).deep_link_id;return(r?th(nh(r)).link:null)||r||n||e||t}class vC{constructor(e){var n,r,i,o,s,a;const l=th(nh(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,f=XW((i=l.mode)!==null&&i!==void 0?i:null);Ge(c&&u&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=QW(e);try{return new vC(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this.providerId=Hd.PROVIDER_ID}static credential(e,n){return lp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=vC.parseLink(n);return Ge(r,"argument-error"),lp._fromEmailAndCode(e,r.code,r.tenantId)}}Hd.PROVIDER_ID="password";Hd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp extends _C{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends Hp{constructor(){super("facebook.com")}static credential(e){return gc._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $a.credentialFromTaggedObject(e)}static credentialFromError(e){return $a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $a.credential(e.oauthAccessToken)}catch{return null}}}$a.FACEBOOK_SIGN_IN_METHOD="facebook.com";$a.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Hp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gc._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Hs.credential(n,r)}catch{return null}}}Hs.GOOGLE_SIGN_IN_METHOD="google.com";Hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends Hp{constructor(){super("github.com")}static credential(e){return gc._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return La.credentialFromTaggedObject(e)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return La.credential(e.oauthAccessToken)}catch{return null}}}La.GITHUB_SIGN_IN_METHOD="github.com";La.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends Hp{constructor(){super("twitter.com")}static credential(e,n){return gc._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fa.credentialFromTaggedObject(e)}static credentialFromError(e){return Fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fa.credential(n,r)}catch{return null}}}Fa.TWITTER_SIGN_IN_METHOD="twitter.com";Fa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JW(t,e){return Wp(t,"POST","/v1/accounts:signUp",Rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Vo._fromIdTokenResponse(e,r,i),s=uP(r);return new mc({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=uP(r);return new mc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function uP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy extends As{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Yy.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Yy(e,n,r,i)}}function L$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Yy._fromErrorAndOperation(t,o,e,r):o})}async function ZW(t,e,n=!1){const r=await ap(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return mc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eH(t,e,n=!1){const{auth:r}=t;if(Qr(r.app))return Promise.reject(Zs(r));const i="reauthenticate";try{const o=await ap(t,L$(r,i,e,t),n);Ge(o.idToken,r,"internal-error");const s=gC(o.idToken);Ge(s,r,"internal-error");const{sub:a}=s;return Ge(t.uid===a,r,"user-mismatch"),mc._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&wo(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F$(t,e,n=!1){if(Qr(t.app))return Promise.reject(Zs(t));const r="signIn",i=await L$(t,r,e),o=await mc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function tH(t,e){return F$(kl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B$(t){const e=kl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function nH(t,e,n){if(Qr(t.app))return Promise.reject(Zs(t));const r=kl(t),s=await LE(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JW).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&B$(t),l}),a=await mc._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function rH(t,e,n){return Qr(t.app)?Promise.reject(Zs(t)):tH(Ht(t),Hd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&B$(t),r})}function iH(t,e,n,r){return Ht(t).onIdTokenChanged(e,n,r)}function oH(t,e,n){return Ht(t).beforeAuthStateChanged(e,n)}function sH(t,e,n,r){return Ht(t).onAuthStateChanged(e,n,r)}const Xy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xy,"1"),this.storage.removeItem(Xy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=1e3,lH=10;class U$ extends V${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=O$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);TW()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,lH):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},aH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}U$.type="LOCAL";const cH=U$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j$ extends V${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}j$.type="SESSION";const z$=j$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new y0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await uH(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}y0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=bC("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(){return window}function fH(t){_s().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W$(){return typeof _s().WorkerGlobalScope<"u"&&typeof _s().importScripts=="function"}async function hH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gH(){return W$()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$="firebaseLocalStorageDb",mH=1,Qy="firebaseLocalStorage",G$="fbase_key";class Gp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function v0(t,e){return t.transaction([Qy],e?"readwrite":"readonly").objectStore(Qy)}function yH(){const t=indexedDB.deleteDatabase(H$);return new Gp(t).toPromise()}function FE(){const t=indexedDB.open(H$,mH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qy,{keyPath:G$})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qy)?e(r):(r.close(),await yH(),e(await FE()))})})}async function dP(t,e,n){const r=v0(t,!0).put({[G$]:e,value:n});return new Gp(r).toPromise()}async function vH(t,e){const n=v0(t,!1).get(e),r=await new Gp(n).toPromise();return r===void 0?null:r.value}function fP(t,e){const n=v0(t,!0).delete(e);return new Gp(n).toPromise()}const _H=800,bH=3;class K${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await FE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return W$()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=y0._getInstance(gH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await hH(),!this.activeServiceWorker)return;this.sender=new dH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await FE();return await dP(e,Xy,"1"),await fP(e,Xy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>dP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=v0(i,!1).getAll();return new Gp(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_H)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}K$.type="LOCAL";const wH=K$;new zp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q$(t,e){return e?Ys(e):(Ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC extends yC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return nd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return nd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EH(t){return F$(t.auth,new wC(t),t.bypassAuthState)}function xH(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),eH(n,new wC(t),t.bypassAuthState)}async function SH(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),ZW(n,new wC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EH;case"linkViaPopup":case"linkViaRedirect":return SH;case"reauthViaPopup":case"reauthViaRedirect":return xH;default:wo(this.auth,"internal-error")}}resolve(e){ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CH=new zp(2e3,1e4);async function TH(t,e,n){if(Qr(t.app))return Promise.reject(Go(t,"operation-not-supported-in-this-environment"));const r=kl(t);sW(t,e,_C);const i=q$(r,n);return new Zl(r,"signInViaPopup",e,i).executeNotNull()}class Zl extends Y${constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Zl.currentPopupAction&&Zl.currentPopupAction.cancel(),Zl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){ca(this.filter.length===1,"Popup operations only handle one event");const e=bC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Go(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Go(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Go(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CH.get())};e()}}Zl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH="pendingRedirect",ey=new Map;class RH extends Y${constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ey.get(this.auth._key());if(!e){try{const r=await PH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ey.set(this.auth._key(),e)}return this.bypassAuthState||ey.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PH(t,e){const n=OH(e),r=AH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function kH(t,e){ey.set(t._key(),e)}function AH(t){return Ys(t._redirectPersistence)}function OH(t){return Zm(IH,t.config.apiKey,t.name)}async function NH(t,e,n=!1){if(Qr(t.app))return Promise.reject(Zs(t));const r=kl(t),i=q$(r,e),s=await new RH(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MH=10*60*1e3;class DH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$H(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!X$(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Go(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MH&&this.cachedEventUids.clear(),this.cachedEventUids.has(hP(e))}saveEventToCache(e){this.cachedEventUids.add(hP(e)),this.lastProcessedEventTime=Date.now()}}function hP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function X$({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $H(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LH(t,e={}){return Pl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BH=/^https?/;async function VH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LH(t);for(const n of e)try{if(UH(n))return}catch{}wo(t,"unauthorized-domain")}function UH(t){const e=DE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!BH.test(n))return!1;if(FH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH=new zp(3e4,6e4);function pP(){const t=_s().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zH(t){return new Promise((e,n)=>{var r,i,o;function s(){pP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pP(),n(Go(t,"network-request-failed"))},timeout:jH.get()})}if(!((i=(r=_s().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=_s().gapi)===null||o===void 0)&&o.load)s();else{const a=DW("iframefcb");return _s()[a]=()=>{gapi.load?s():n(Go(t,"network-request-failed"))},M$(`${MW()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ty=null,e})}let ty=null;function WH(t){return ty=ty||zH(t),ty}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH=new zp(5e3,15e3),GH="__/auth/iframe",KH="emulator/auth/iframe",qH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XH(t){const e=t.config;Ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pC(e,KH):`https://${t.config.authDomain}/${GH}`,r={apiKey:e.apiKey,appName:t.name,v:Il},i=YH.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Wd(r).slice(1)}`}async function QH(t){const e=await WH(t),n=_s().gapi;return Ge(n,t,"internal-error"),e.open({where:document.body,url:XH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qH,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Go(t,"network-request-failed"),a=_s().setTimeout(()=>{o(s)},HH.get());function l(){_s().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZH=500,e8=600,t8="_blank",n8="http://localhost";class gP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function r8(t,e,n,r=ZH,i=e8){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},JH),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Wr().toLowerCase();n&&(a=I$(c)?t8:n),C$(c)&&(e=e||n8,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(CW(c)&&a!=="_self")return i8(e||"",a),new gP(null);const f=window.open(e||"",a,u);Ge(f,t,"popup-blocked");try{f.focus()}catch{}return new gP(f)}function i8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8="__/auth/handler",s8="emulator/auth/handler",a8=encodeURIComponent("fac");async function mP(t,e,n,r,i,o){Ge(t.config.authDomain,t,"auth-domain-config-required"),Ge(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Il,eventId:i};if(e instanceof _C){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",PE(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))s[u]=f}if(e instanceof Hp){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${a8}=${encodeURIComponent(l)}`:"";return`${l8(t)}?${Wd(a).slice(1)}${c}`}function l8({config:t}){return t.emulator?pC(t,s8):`https://${t.authDomain}/${o8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="webStorageSupport";class c8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z$,this._completeRedirectFn=NH,this._overrideRedirectResult=kH}async _openPopup(e,n,r,i){var o;ca((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await mP(e,n,r,DE(),i);return r8(e,s,bC())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await mP(e,n,r,DE(),i);return fH(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ca(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await QH(e),r=new DH(e);return n.register("authEvent",i=>(Ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gb,{type:Gb},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Gb];s!==void 0&&n(!!s),wo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return O$()||T$()||mC()}}const u8=c8;var yP="@firebase/auth",vP="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function h8(t){ul(new aa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ge(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:N$(t)},c=new AW(r,i,o,l);return UW(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ul(new aa("auth-internal",e=>{const n=kl(e.getProvider("auth").getImmediate());return(r=>new d8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yo(yP,vP,f8(t)),yo(yP,vP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=5*60,g8=u$("authIdTokenMaxAge")||p8;let _P=null;const m8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>g8)return;const i=n==null?void 0:n.token;_P!==i&&(_P=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function y8(t=g0()){const e=jp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=VW(t,{popupRedirectResolver:u8,persistence:[wH,cH,z$]}),r=u$("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=m8(o.toString());oH(n,s,()=>s(n.currentUser)),iH(n,a=>s(a))}}const i=l$("auth");return i&&jW(n,`http://${i}`),n}function v8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}OW({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Go("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",v8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});h8("Browser");var bP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nl,Q$;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,I){function R(){}R.prototype=I.prototype,T.D=I.prototype,T.prototype=new R,T.prototype.constructor=T,T.C=function(v,k,M){for(var P=Array(arguments.length-2),q=2;q<arguments.length;q++)P[q-2]=arguments[q];return I.prototype[k].apply(v,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,I,R){R||(R=0);var v=Array(16);if(typeof I=="string")for(var k=0;16>k;++k)v[k]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(k=0;16>k;++k)v[k]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=T.g[0],R=T.g[1],k=T.g[2];var M=T.g[3],P=I+(M^R&(k^M))+v[0]+3614090360&4294967295;I=R+(P<<7&4294967295|P>>>25),P=M+(k^I&(R^k))+v[1]+3905402710&4294967295,M=I+(P<<12&4294967295|P>>>20),P=k+(R^M&(I^R))+v[2]+606105819&4294967295,k=M+(P<<17&4294967295|P>>>15),P=R+(I^k&(M^I))+v[3]+3250441966&4294967295,R=k+(P<<22&4294967295|P>>>10),P=I+(M^R&(k^M))+v[4]+4118548399&4294967295,I=R+(P<<7&4294967295|P>>>25),P=M+(k^I&(R^k))+v[5]+1200080426&4294967295,M=I+(P<<12&4294967295|P>>>20),P=k+(R^M&(I^R))+v[6]+2821735955&4294967295,k=M+(P<<17&4294967295|P>>>15),P=R+(I^k&(M^I))+v[7]+4249261313&4294967295,R=k+(P<<22&4294967295|P>>>10),P=I+(M^R&(k^M))+v[8]+1770035416&4294967295,I=R+(P<<7&4294967295|P>>>25),P=M+(k^I&(R^k))+v[9]+2336552879&4294967295,M=I+(P<<12&4294967295|P>>>20),P=k+(R^M&(I^R))+v[10]+4294925233&4294967295,k=M+(P<<17&4294967295|P>>>15),P=R+(I^k&(M^I))+v[11]+2304563134&4294967295,R=k+(P<<22&4294967295|P>>>10),P=I+(M^R&(k^M))+v[12]+1804603682&4294967295,I=R+(P<<7&4294967295|P>>>25),P=M+(k^I&(R^k))+v[13]+4254626195&4294967295,M=I+(P<<12&4294967295|P>>>20),P=k+(R^M&(I^R))+v[14]+2792965006&4294967295,k=M+(P<<17&4294967295|P>>>15),P=R+(I^k&(M^I))+v[15]+1236535329&4294967295,R=k+(P<<22&4294967295|P>>>10),P=I+(k^M&(R^k))+v[1]+4129170786&4294967295,I=R+(P<<5&4294967295|P>>>27),P=M+(R^k&(I^R))+v[6]+3225465664&4294967295,M=I+(P<<9&4294967295|P>>>23),P=k+(I^R&(M^I))+v[11]+643717713&4294967295,k=M+(P<<14&4294967295|P>>>18),P=R+(M^I&(k^M))+v[0]+3921069994&4294967295,R=k+(P<<20&4294967295|P>>>12),P=I+(k^M&(R^k))+v[5]+3593408605&4294967295,I=R+(P<<5&4294967295|P>>>27),P=M+(R^k&(I^R))+v[10]+38016083&4294967295,M=I+(P<<9&4294967295|P>>>23),P=k+(I^R&(M^I))+v[15]+3634488961&4294967295,k=M+(P<<14&4294967295|P>>>18),P=R+(M^I&(k^M))+v[4]+3889429448&4294967295,R=k+(P<<20&4294967295|P>>>12),P=I+(k^M&(R^k))+v[9]+568446438&4294967295,I=R+(P<<5&4294967295|P>>>27),P=M+(R^k&(I^R))+v[14]+3275163606&4294967295,M=I+(P<<9&4294967295|P>>>23),P=k+(I^R&(M^I))+v[3]+4107603335&4294967295,k=M+(P<<14&4294967295|P>>>18),P=R+(M^I&(k^M))+v[8]+1163531501&4294967295,R=k+(P<<20&4294967295|P>>>12),P=I+(k^M&(R^k))+v[13]+2850285829&4294967295,I=R+(P<<5&4294967295|P>>>27),P=M+(R^k&(I^R))+v[2]+4243563512&4294967295,M=I+(P<<9&4294967295|P>>>23),P=k+(I^R&(M^I))+v[7]+1735328473&4294967295,k=M+(P<<14&4294967295|P>>>18),P=R+(M^I&(k^M))+v[12]+2368359562&4294967295,R=k+(P<<20&4294967295|P>>>12),P=I+(R^k^M)+v[5]+4294588738&4294967295,I=R+(P<<4&4294967295|P>>>28),P=M+(I^R^k)+v[8]+2272392833&4294967295,M=I+(P<<11&4294967295|P>>>21),P=k+(M^I^R)+v[11]+1839030562&4294967295,k=M+(P<<16&4294967295|P>>>16),P=R+(k^M^I)+v[14]+4259657740&4294967295,R=k+(P<<23&4294967295|P>>>9),P=I+(R^k^M)+v[1]+2763975236&4294967295,I=R+(P<<4&4294967295|P>>>28),P=M+(I^R^k)+v[4]+1272893353&4294967295,M=I+(P<<11&4294967295|P>>>21),P=k+(M^I^R)+v[7]+4139469664&4294967295,k=M+(P<<16&4294967295|P>>>16),P=R+(k^M^I)+v[10]+3200236656&4294967295,R=k+(P<<23&4294967295|P>>>9),P=I+(R^k^M)+v[13]+681279174&4294967295,I=R+(P<<4&4294967295|P>>>28),P=M+(I^R^k)+v[0]+3936430074&4294967295,M=I+(P<<11&4294967295|P>>>21),P=k+(M^I^R)+v[3]+3572445317&4294967295,k=M+(P<<16&4294967295|P>>>16),P=R+(k^M^I)+v[6]+76029189&4294967295,R=k+(P<<23&4294967295|P>>>9),P=I+(R^k^M)+v[9]+3654602809&4294967295,I=R+(P<<4&4294967295|P>>>28),P=M+(I^R^k)+v[12]+3873151461&4294967295,M=I+(P<<11&4294967295|P>>>21),P=k+(M^I^R)+v[15]+530742520&4294967295,k=M+(P<<16&4294967295|P>>>16),P=R+(k^M^I)+v[2]+3299628645&4294967295,R=k+(P<<23&4294967295|P>>>9),P=I+(k^(R|~M))+v[0]+4096336452&4294967295,I=R+(P<<6&4294967295|P>>>26),P=M+(R^(I|~k))+v[7]+1126891415&4294967295,M=I+(P<<10&4294967295|P>>>22),P=k+(I^(M|~R))+v[14]+2878612391&4294967295,k=M+(P<<15&4294967295|P>>>17),P=R+(M^(k|~I))+v[5]+4237533241&4294967295,R=k+(P<<21&4294967295|P>>>11),P=I+(k^(R|~M))+v[12]+1700485571&4294967295,I=R+(P<<6&4294967295|P>>>26),P=M+(R^(I|~k))+v[3]+2399980690&4294967295,M=I+(P<<10&4294967295|P>>>22),P=k+(I^(M|~R))+v[10]+4293915773&4294967295,k=M+(P<<15&4294967295|P>>>17),P=R+(M^(k|~I))+v[1]+2240044497&4294967295,R=k+(P<<21&4294967295|P>>>11),P=I+(k^(R|~M))+v[8]+1873313359&4294967295,I=R+(P<<6&4294967295|P>>>26),P=M+(R^(I|~k))+v[15]+4264355552&4294967295,M=I+(P<<10&4294967295|P>>>22),P=k+(I^(M|~R))+v[6]+2734768916&4294967295,k=M+(P<<15&4294967295|P>>>17),P=R+(M^(k|~I))+v[13]+1309151649&4294967295,R=k+(P<<21&4294967295|P>>>11),P=I+(k^(R|~M))+v[4]+4149444226&4294967295,I=R+(P<<6&4294967295|P>>>26),P=M+(R^(I|~k))+v[11]+3174756917&4294967295,M=I+(P<<10&4294967295|P>>>22),P=k+(I^(M|~R))+v[2]+718787259&4294967295,k=M+(P<<15&4294967295|P>>>17),P=R+(M^(k|~I))+v[9]+3951481745&4294967295,T.g[0]=T.g[0]+I&4294967295,T.g[1]=T.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,T.g[2]=T.g[2]+k&4294967295,T.g[3]=T.g[3]+M&4294967295}r.prototype.u=function(T,I){I===void 0&&(I=T.length);for(var R=I-this.blockSize,v=this.B,k=this.h,M=0;M<I;){if(k==0)for(;M<=R;)i(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<I;)if(v[k++]=T.charCodeAt(M++),k==this.blockSize){i(this,v),k=0;break}}else for(;M<I;)if(v[k++]=T[M++],k==this.blockSize){i(this,v),k=0;break}}this.h=k,this.o+=I},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var I=1;I<T.length-8;++I)T[I]=0;var R=8*this.o;for(I=T.length-8;I<T.length;++I)T[I]=R&255,R/=256;for(this.u(T),T=Array(16),I=R=0;4>I;++I)for(var v=0;32>v;v+=8)T[R++]=this.g[I]>>>v&255;return T};function o(T,I){var R=a;return Object.prototype.hasOwnProperty.call(R,T)?R[T]:R[T]=I(T)}function s(T,I){this.h=I;for(var R=[],v=!0,k=T.length-1;0<=k;k--){var M=T[k]|0;v&&M==I||(R[k]=M,v=!1)}this.g=R}var a={};function l(T){return-128<=T&&128>T?o(T,function(I){return new s([I|0],0>I?-1:0)}):new s([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return x(c(-T));for(var I=[],R=1,v=0;T>=R;v++)I[v]=T/R|0,R*=4294967296;return new s(I,0)}function u(T,I){if(T.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T.charAt(0)=="-")return x(u(T.substring(1),I));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(I,8)),v=f,k=0;k<T.length;k+=8){var M=Math.min(8,T.length-k),P=parseInt(T.substring(k,k+M),I);8>M?(M=c(Math.pow(I,M)),v=v.j(M).add(c(P))):(v=v.j(R),v=v.add(c(P)))}return v}var f=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(E(this))return-x(this).m();for(var T=0,I=1,R=0;R<this.g.length;R++){var v=this.i(R);T+=(0<=v?v:4294967296+v)*I,I*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(E(this))return"-"+x(this).toString(T);for(var I=c(Math.pow(T,6)),R=this,v="";;){var k=S(R,I).g;R=y(R,k.j(I));var M=((0<R.g.length?R.g[0]:R.h)>>>0).toString(T);if(R=k,g(R))return M+v;for(;6>M.length;)M="0"+M;v=M+v}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var I=0;I<T.g.length;I++)if(T.g[I]!=0)return!1;return!0}function E(T){return T.h==-1}t.l=function(T){return T=y(this,T),E(T)?-1:g(T)?0:1};function x(T){for(var I=T.g.length,R=[],v=0;v<I;v++)R[v]=~T.g[v];return new s(R,~T.h).add(h)}t.abs=function(){return E(this)?x(this):this},t.add=function(T){for(var I=Math.max(this.g.length,T.g.length),R=[],v=0,k=0;k<=I;k++){var M=v+(this.i(k)&65535)+(T.i(k)&65535),P=(M>>>16)+(this.i(k)>>>16)+(T.i(k)>>>16);v=P>>>16,M&=65535,P&=65535,R[k]=P<<16|M}return new s(R,R[R.length-1]&-2147483648?-1:0)};function y(T,I){return T.add(x(I))}t.j=function(T){if(g(this)||g(T))return f;if(E(this))return E(T)?x(this).j(x(T)):x(x(this).j(T));if(E(T))return x(this.j(x(T)));if(0>this.l(p)&&0>T.l(p))return c(this.m()*T.m());for(var I=this.g.length+T.g.length,R=[],v=0;v<2*I;v++)R[v]=0;for(v=0;v<this.g.length;v++)for(var k=0;k<T.g.length;k++){var M=this.i(v)>>>16,P=this.i(v)&65535,q=T.i(k)>>>16,H=T.i(k)&65535;R[2*v+2*k]+=P*H,b(R,2*v+2*k),R[2*v+2*k+1]+=M*H,b(R,2*v+2*k+1),R[2*v+2*k+1]+=P*q,b(R,2*v+2*k+1),R[2*v+2*k+2]+=M*q,b(R,2*v+2*k+2)}for(v=0;v<I;v++)R[v]=R[2*v+1]<<16|R[2*v];for(v=I;v<2*I;v++)R[v]=0;return new s(R,0)};function b(T,I){for(;(T[I]&65535)!=T[I];)T[I+1]+=T[I]>>>16,T[I]&=65535,I++}function _(T,I){this.g=T,this.h=I}function S(T,I){if(g(I))throw Error("division by zero");if(g(T))return new _(f,f);if(E(T))return I=S(x(T),I),new _(x(I.g),x(I.h));if(E(I))return I=S(T,x(I)),new _(x(I.g),I.h);if(30<T.g.length){if(E(T)||E(I))throw Error("slowDivide_ only works with positive integers.");for(var R=h,v=I;0>=v.l(T);)R=O(R),v=O(v);var k=N(R,1),M=N(v,1);for(v=N(v,2),R=N(R,2);!g(v);){var P=M.add(v);0>=P.l(T)&&(k=k.add(R),M=P),v=N(v,1),R=N(R,1)}return I=y(T,k.j(I)),new _(k,I)}for(k=f;0<=T.l(I);){for(R=Math.max(1,Math.floor(T.m()/I.m())),v=Math.ceil(Math.log(R)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),M=c(R),P=M.j(I);E(P)||0<P.l(T);)R-=v,M=c(R),P=M.j(I);g(M)&&(M=h),k=k.add(M),T=y(T,P)}return new _(k,T)}t.A=function(T){return S(this,T).h},t.and=function(T){for(var I=Math.max(this.g.length,T.g.length),R=[],v=0;v<I;v++)R[v]=this.i(v)&T.i(v);return new s(R,this.h&T.h)},t.or=function(T){for(var I=Math.max(this.g.length,T.g.length),R=[],v=0;v<I;v++)R[v]=this.i(v)|T.i(v);return new s(R,this.h|T.h)},t.xor=function(T){for(var I=Math.max(this.g.length,T.g.length),R=[],v=0;v<I;v++)R[v]=this.i(v)^T.i(v);return new s(R,this.h^T.h)};function O(T){for(var I=T.g.length+1,R=[],v=0;v<I;v++)R[v]=T.i(v)<<1|T.i(v-1)>>>31;return new s(R,T.h)}function N(T,I){var R=I>>5;I%=32;for(var v=T.g.length-R,k=[],M=0;M<v;M++)k[M]=0<I?T.i(M+R)>>>I|T.i(M+R+1)<<32-I:T.i(M+R);return new s(k,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Q$=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,nl=s}).apply(typeof bP<"u"?bP:typeof self<"u"?self:typeof window<"u"?window:{});var lm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var J$,rh,Z$,ny,BE,eL,tL,nL;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,m,C){return d==Array.prototype||d==Object.prototype||(d[m]=C.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof lm=="object"&&lm];for(var m=0;m<d.length;++m){var C=d[m];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(d,m){if(m)e:{var C=r;d=d.split(".");for(var D=0;D<d.length-1;D++){var U=d[D];if(!(U in C))break e;C=C[U]}d=d[d.length-1],D=C[d],m=m(D),m!=D&&m!=null&&e(C,d,{configurable:!0,writable:!0,value:m})}}function o(d,m){d instanceof String&&(d+="");var C=0,D=!1,U={next:function(){if(!D&&C<d.length){var K=C++;return{value:m(K,d[K]),done:!1}}return D=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}i("Array.prototype.values",function(d){return d||function(){return o(this,function(m,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(d){var m=typeof d;return m=m!="object"?m:d?Array.isArray(d)?"array":m:"null",m=="array"||m=="object"&&typeof d.length=="number"}function c(d){var m=typeof d;return m=="object"&&d!=null||m=="function"}function u(d,m,C){return d.call.apply(d.bind,arguments)}function f(d,m,C){if(!d)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,D),d.apply(m,U)}}return function(){return d.apply(m,arguments)}}function h(d,m,C){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(d,m){var C=Array.prototype.slice.call(arguments,1);return function(){var D=C.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function g(d,m){function C(){}C.prototype=m.prototype,d.aa=m.prototype,d.prototype=new C,d.prototype.constructor=d,d.Qb=function(D,U,K){for(var fe=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)fe[Qt-2]=arguments[Qt];return m.prototype[U].apply(D,fe)}}function E(d){const m=d.length;if(0<m){const C=Array(m);for(let D=0;D<m;D++)C[D]=d[D];return C}return[]}function x(d,m){for(let C=1;C<arguments.length;C++){const D=arguments[C];if(l(D)){const U=d.length||0,K=D.length||0;d.length=U+K;for(let fe=0;fe<K;fe++)d[U+fe]=D[fe]}else d.push(D)}}class y{constructor(m,C){this.i=m,this.j=C,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function b(d){return/^[\s\xa0]*$/.test(d)}function _(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function S(d){return S[" "](d),d}S[" "]=function(){};var O=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function N(d,m,C){for(const D in d)m.call(C,d[D],D,d)}function T(d,m){for(const C in d)m.call(void 0,d[C],C,d)}function I(d){const m={};for(const C in d)m[C]=d[C];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(d,m){let C,D;for(let U=1;U<arguments.length;U++){D=arguments[U];for(C in D)d[C]=D[C];for(let K=0;K<R.length;K++)C=R[K],Object.prototype.hasOwnProperty.call(D,C)&&(d[C]=D[C])}}function k(d){var m=1;d=d.split(":");const C=[];for(;0<m&&d.length;)C.push(d.shift()),m--;return d.length&&C.push(d.join(":")),C}function M(d){a.setTimeout(()=>{throw d},0)}function P(){var d=B;let m=null;return d.g&&(m=d.g,d.g=d.g.next,d.g||(d.h=null),m.next=null),m}class q{constructor(){this.h=this.g=null}add(m,C){const D=H.get();D.set(m,C),this.h?this.h.next=D:this.g=D,this.h=D}}var H=new y(()=>new W,d=>d.reset());class W{constructor(){this.next=this.g=this.h=null}set(m,C){this.h=m,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let G,V=!1,B=new q,Q=()=>{const d=a.Promise.resolve(void 0);G=()=>{d.then(re)}};var re=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(C){M(C)}var m=H;m.j(d),100>m.h&&(m.h++,d.next=m.g,m.g=d)}V=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(d,m){this.type=d,this.g=this.target=m,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,m=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const C=()=>{};a.addEventListener("test",C,m),a.removeEventListener("test",C,m)}catch{}return d}();function oe(d,m){if(ge.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var C=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=m,m=d.relatedTarget){if(O){e:{try{S(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else C=="mouseover"?m=d.fromElement:C=="mouseout"&&(m=d.toElement);this.relatedTarget=m,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Me[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&oe.aa.h.call(this)}}g(oe,ge);var Me={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function De(d,m,C,D,U){this.listener=d,this.proxy=null,this.src=m,this.type=C,this.capture=!!D,this.ha=U,this.key=++Ae,this.da=this.fa=!1}function _e(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function $e(d){this.src=d,this.g={},this.h=0}$e.prototype.add=function(d,m,C,D,U){var K=d.toString();d=this.g[K],d||(d=this.g[K]=[],this.h++);var fe=Le(d,m,D,U);return-1<fe?(m=d[fe],C||(m.fa=!1)):(m=new De(m,this.src,K,!!D,U),m.fa=C,d.push(m)),m};function Oe(d,m){var C=m.type;if(C in d.g){var D=d.g[C],U=Array.prototype.indexOf.call(D,m,void 0),K;(K=0<=U)&&Array.prototype.splice.call(D,U,1),K&&(_e(m),d.g[C].length==0&&(delete d.g[C],d.h--))}}function Le(d,m,C,D){for(var U=0;U<d.length;++U){var K=d[U];if(!K.da&&K.listener==m&&K.capture==!!C&&K.ha==D)return U}return-1}var Ue="closure_lm_"+(1e6*Math.random()|0),ze={};function Nt(d,m,C,D,U){if(Array.isArray(m)){for(var K=0;K<m.length;K++)Nt(d,m[K],C,D,U);return null}return C=En(C),d&&d[Ve]?d.K(m,C,c(D)?!!D.capture:!1,U):me(d,m,C,!1,D,U)}function me(d,m,C,D,U,K){if(!m)throw Error("Invalid event type");var fe=c(U)?!!U.capture:!!U,Qt=nn(d);if(Qt||(d[Ue]=Qt=new $e(d)),C=Qt.add(m,C,D,fe,K),C.proxy)return C;if(D=It(),C.proxy=D,D.src=d,D.listener=C,d.addEventListener)ie||(U=fe),U===void 0&&(U=!1),d.addEventListener(m.toString(),D,U);else if(d.attachEvent)d.attachEvent(at(m.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return C}function It(){function d(C){return m.call(d.src,d.listener,C)}const m=Pe;return d}function We(d,m,C,D,U){if(Array.isArray(m))for(var K=0;K<m.length;K++)We(d,m[K],C,D,U);else D=c(D)?!!D.capture:!!D,C=En(C),d&&d[Ve]?(d=d.i,m=String(m).toString(),m in d.g&&(K=d.g[m],C=Le(K,C,D,U),-1<C&&(_e(K[C]),Array.prototype.splice.call(K,C,1),K.length==0&&(delete d.g[m],d.h--)))):d&&(d=nn(d))&&(m=d.g[m.toString()],d=-1,m&&(d=Le(m,C,D,U)),(C=-1<d?m[d]:null)&&pt(C))}function pt(d){if(typeof d!="number"&&d&&!d.da){var m=d.src;if(m&&m[Ve])Oe(m.i,d);else{var C=d.type,D=d.proxy;m.removeEventListener?m.removeEventListener(C,D,d.capture):m.detachEvent?m.detachEvent(at(C),D):m.addListener&&m.removeListener&&m.removeListener(D),(C=nn(m))?(Oe(C,d),C.h==0&&(C.src=null,m[Ue]=null)):_e(d)}}}function at(d){return d in ze?ze[d]:ze[d]="on"+d}function Pe(d,m){if(d.da)d=!0;else{m=new oe(m,this);var C=d.listener,D=d.ha||d.src;d.fa&&pt(d),d=C.call(D,m)}return d}function nn(d){return d=d[Ue],d instanceof $e?d:null}var ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(d){return typeof d=="function"?d:(d[ot]||(d[ot]=function(m){return d.handleEvent(m)}),d[ot])}function xt(){he.call(this),this.i=new $e(this),this.M=this,this.F=null}g(xt,he),xt.prototype[Ve]=!0,xt.prototype.removeEventListener=function(d,m,C,D){We(this,d,m,C,D)};function _t(d,m){var C,D=d.F;if(D)for(C=[];D;D=D.F)C.push(D);if(d=d.M,D=m.type||m,typeof m=="string")m=new ge(m,d);else if(m instanceof ge)m.target=m.target||d;else{var U=m;m=new ge(D,d),v(m,U)}if(U=!0,C)for(var K=C.length-1;0<=K;K--){var fe=m.g=C[K];U=St(fe,D,!0,m)&&U}if(fe=m.g=d,U=St(fe,D,!0,m)&&U,U=St(fe,D,!1,m)&&U,C)for(K=0;K<C.length;K++)fe=m.g=C[K],U=St(fe,D,!1,m)&&U}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var d=this.i,m;for(m in d.g){for(var C=d.g[m],D=0;D<C.length;D++)_e(C[D]);delete d.g[m],d.h--}}this.F=null},xt.prototype.K=function(d,m,C,D){return this.i.add(String(d),m,!1,C,D)},xt.prototype.L=function(d,m,C,D){return this.i.add(String(d),m,!0,C,D)};function St(d,m,C,D){if(m=d.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,K=0;K<m.length;++K){var fe=m[K];if(fe&&!fe.da&&fe.capture==C){var Qt=fe.listener,br=fe.ha||fe.src;fe.fa&&Oe(d.i,fe),U=Qt.call(br,D)!==!1&&U}}return U&&!D.defaultPrevented}function Bt(d,m,C){if(typeof d=="function")C&&(d=h(d,C));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(d,m||0)}function gt(d){d.g=Bt(()=>{d.g=null,d.i&&(d.i=!1,gt(d))},d.l);const m=d.h;d.h=null,d.m.apply(null,m)}class Qe extends he{constructor(m,C){super(),this.m=m,this.l=C,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:gt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xn(d){he.call(this),this.h=d,this.g={}}g(xn,he);var Vn=[];function Hr(d){N(d.g,function(m,C){this.g.hasOwnProperty(C)&&pt(m)},d),d.g={}}xn.prototype.N=function(){xn.aa.N.call(this),Hr(this)},xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xe=a.JSON.stringify,Te=a.JSON.parse,Yt=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Un(){}Un.prototype.h=null;function Gr(d){return d.h||(d.h=d.i())}function pr(){}var Ir={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jn(){ge.call(this,"d")}g(jn,ge);function Ri(){ge.call(this,"c")}g(Ri,ge);var rn={},ro=null;function io(){return ro=ro||new xt}rn.La="serverreachability";function Pi(d){ge.call(this,rn.La,d)}g(Pi,ge);function gr(d){const m=io();_t(m,new Pi(m))}rn.STAT_EVENT="statevent";function ve(d,m){ge.call(this,rn.STAT_EVENT,d),this.stat=m}g(ve,ge);function de(d){const m=io();_t(m,new ve(m,d))}rn.Ma="timingevent";function lt(d,m){ge.call(this,rn.Ma,d),this.size=m}g(lt,ge);function tt(d,m){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},m)}function Mt(){this.g=!0}Mt.prototype.xa=function(){this.g=!1};function mr(d,m,C,D,U,K){d.info(function(){if(d.g)if(K)for(var fe="",Qt=K.split("&"),br=0;br<Qt.length;br++){var Lt=Qt[br].split("=");if(1<Lt.length){var kr=Lt[0];Lt=Lt[1];var Ar=kr.split("_");fe=2<=Ar.length&&Ar[1]=="type"?fe+(kr+"="+Lt+"&"):fe+(kr+"=redacted&")}}else fe=null;else fe=K;return"XMLHTTP REQ ("+D+") [attempt "+U+"]: "+m+`
`+C+`
`+fe})}function ii(d,m,C,D,U,K,fe){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+U+"]: "+m+`
`+C+`
`+K+" "+fe})}function yr(d,m,C,D){d.info(function(){return"XMLHTTP TEXT ("+m+"): "+Sn(d,C)+(D?" "+D:"")})}function Ro(d,m){d.info(function(){return"TIMEOUT: "+m})}Mt.prototype.info=function(){};function Sn(d,m){if(!d.g)return m;if(!m)return null;try{var C=JSON.parse(m);if(C){for(d=0;d<C.length;d++)if(Array.isArray(C[d])){var D=C[d];if(!(2>D.length)){var U=D[1];if(Array.isArray(U)&&!(1>U.length)){var K=U[0];if(K!="noop"&&K!="stop"&&K!="close")for(var fe=1;fe<U.length;fe++)U[fe]=""}}}}return xe(C)}catch{return m}}var yn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$s;function Z(){}g(Z,Un),Z.prototype.g=function(){return new XMLHttpRequest},Z.prototype.i=function(){return{}},$s=new Z;function Y(d,m,C,D){this.j=d,this.i=m,this.l=C,this.R=D||1,this.U=new xn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Se}function Se(){this.i=null,this.g="",this.h=!1}var Je={},ct={};function $t(d,m,C){d.L=1,d.v=qc(Ao(m)),d.m=C,d.P=!0,vn(d,null)}function vn(d,m){d.F=Date.now(),Dl(d),d.A=Ao(d.v);var C=d.A,D=d.R;Array.isArray(D)||(D=[String(D)]),Yc(C.i,"t",D),d.C=0,C=d.j.J,d.h=new Se,d.g=CI(d.j,C?m:null,!d.m),0<d.O&&(d.M=new Qe(h(d.Y,d,d.g),d.O)),m=d.U,C=d.g,D=d.ca;var U="readystatechange";Array.isArray(U)||(U&&(Vn[0]=U.toString()),U=Vn);for(var K=0;K<U.length;K++){var fe=Nt(C,U[K],D||m.handleEvent,!1,m.h||m);if(!fe)break;m.g[fe.key]=fe}m=d.H?I(d.H):{},d.m?(d.u||(d.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,m)):(d.u="GET",d.g.ea(d.A,d.u,null,m)),gr(),mr(d.i,d.u,d.A,d.l,d.R,d.m)}Y.prototype.ca=function(d){d=d.target;const m=this.M;m&&we(d)==3?m.j():this.Y(d)},Y.prototype.Y=function(d){try{if(d==this.g)e:{const Ar=we(this.g);var m=this.g.Ba();const Zc=this.g.Z();if(!(3>Ar)&&(Ar!=3||this.g&&(this.h.h||this.g.oa()||ke(this.g)))){this.J||Ar!=4||m==7||(m==8||0>=Zc?gr(3):gr(2)),Ls(this);var C=this.g.Z();this.X=C;t:if(Rr(this)){var D=ke(this.g);d="";var U=D.length,K=we(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ut(this),Po(this);var fe="";break t}this.h.i=new a.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,d+=this.h.i.decode(D[m],{stream:!(K&&m==U-1)});D.length=0,this.h.g+=d,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=C==200,ii(this.i,this.u,this.A,this.l,this.R,Ar,C),this.o){if(this.T&&!this.K){t:{if(this.g){var Qt,br=this.g;if((Qt=br.g?br.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Qt)){var Lt=Qt;break t}}Lt=null}if(C=Lt)yr(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kr(this,C);else{this.o=!1,this.s=3,de(12),ut(this),Po(this);break e}}if(this.P){C=!0;let Oo;for(;!this.J&&this.C<fe.length;)if(Oo=zc(this,fe),Oo==ct){Ar==4&&(this.s=4,de(14),C=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(Oo==Je){this.s=4,de(15),yr(this.i,this.l,fe,"[Invalid Chunk]"),C=!1;break}else yr(this.i,this.l,Oo,null),Kr(this,Oo);if(Rr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ar!=4||fe.length!=0||this.h.h||(this.s=1,de(16),C=!1),this.o=this.o&&C,!C)yr(this.i,this.l,fe,"[Invalid Chunked Response]"),ut(this),Po(this);else if(0<fe.length&&!this.W){this.W=!0;var kr=this.j;kr.g==this&&kr.ba&&!kr.M&&(kr.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),_r(kr),kr.M=!0,de(11))}}else yr(this.i,this.l,fe,null),Kr(this,fe);Ar==4&&ut(this),this.o&&!this.J&&(Ar==4?Sa(this.j,this):(this.o=!1,Dl(this)))}else He(this.g),C==400&&0<fe.indexOf("Unknown SID")?(this.s=3,de(12)):(this.s=0,de(13)),ut(this),Po(this)}}}catch{}finally{}};function Rr(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function zc(d,m){var C=d.C,D=m.indexOf(`
`,C);return D==-1?ct:(C=Number(m.substring(C,D)),isNaN(C)?Je:(D+=1,D+C>m.length?ct:(m=m.slice(D,D+C),d.C=D+C,m)))}Y.prototype.cancel=function(){this.J=!0,ut(this)};function Dl(d){d.S=Date.now()+d.I,Wc(d,d.I)}function Wc(d,m){if(d.B!=null)throw Error("WatchDog timer not null");d.B=tt(h(d.ba,d),m)}function Ls(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Y.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ro(this.i,this.A),this.L!=2&&(gr(),de(17)),ut(this),this.s=2,Po(this)):Wc(this,this.S-d)};function Po(d){d.j.G==0||d.J||Sa(d.j,d)}function ut(d){Ls(d);var m=d.M;m&&typeof m.ma=="function"&&m.ma(),d.M=null,Hr(d.U),d.g&&(m=d.g,d.g=null,m.abort(),m.ma())}function Kr(d,m){try{var C=d.j;if(C.G!=0&&(C.g==d||bf(C.h,d))){if(!d.K&&bf(C.h,d)&&C.G==3){try{var D=C.Da.g.parse(m)}catch{D=null}if(Array.isArray(D)&&D.length==3){var U=D;if(U[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<d.F)xa(C),zt(C);else break e;Pr(C),de(18)}}else C.za=U[1],0<C.za-C.T&&37500>U[2]&&C.F&&C.v==0&&!C.C&&(C.C=tt(h(C.Za,C),6e3));if(1>=_f(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else as(C,11)}else if((d.K||C.g==d)&&xa(C),!b(m))for(U=C.Da.g.parse(m),m=0;m<U.length;m++){let Lt=U[m];if(C.T=Lt[0],Lt=Lt[1],C.G==2)if(Lt[0]=="c"){C.K=Lt[1],C.ia=Lt[2];const kr=Lt[3];kr!=null&&(C.la=kr,C.j.info("VER="+C.la));const Ar=Lt[4];Ar!=null&&(C.Aa=Ar,C.j.info("SVER="+C.Aa));const Zc=Lt[5];Zc!=null&&typeof Zc=="number"&&0<Zc&&(D=1.5*Zc,C.L=D,C.j.info("backChannelRequestTimeoutMs_="+D)),D=C;const Oo=d.g;if(Oo){const Ug=Oo.g?Oo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ug){var K=D.h;K.g||Ug.indexOf("spdy")==-1&&Ug.indexOf("quic")==-1&&Ug.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(wf(K,K.h),K.h=null))}if(D.D){const db=Oo.g?Oo.g.getResponseHeader("X-HTTP-Session-Id"):null;db&&(D.ya=db,Xt(D.I,D.D,db))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-d.F,C.j.info("Handshake RTT: "+C.R+"ms")),D=C;var fe=d;if(D.qa=Ca(D,D.J?D.ia:null,D.W),fe.K){Pg(D.h,fe);var Qt=fe,br=D.L;br&&(Qt.I=br),Qt.B&&(Ls(Qt),Dl(Qt)),D.g=fe}else Rt(D);0<C.i.length&&ki(C)}else Lt[0]!="stop"&&Lt[0]!="close"||as(C,7);else C.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?as(C,7):je(C):Lt[0]!="noop"&&C.l&&C.l.ta(Lt),C.v=0)}}gr(4)}catch{}}var ko=class{constructor(d,m){this.g=d,this.map=m}};function ts(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hc(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function _f(d){return d.h?1:d.g?d.g.size:0}function bf(d,m){return d.h?d.h==m:d.g?d.g.has(m):!1}function wf(d,m){d.g?d.g.add(m):d.h=m}function Pg(d,m){d.h&&d.h==m?d.h=null:d.g&&d.g.has(m)&&d.g.delete(m)}ts.prototype.cancel=function(){if(this.i=ns(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ns(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let m=d.i;for(const C of d.g.values())m=m.concat(C.D);return m}return E(d.i)}function rb(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var m=[],C=d.length,D=0;D<C;D++)m.push(d[D]);return m}m=[],C=0;for(D in d)m[C++]=d[D];return m}function Ef(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var m=[];d=d.length;for(var C=0;C<d;C++)m.push(C);return m}m=[],C=0;for(const D in d)m[C++]=D;return m}}}function kg(d,m){if(d.forEach&&typeof d.forEach=="function")d.forEach(m,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,m,void 0);else for(var C=Ef(d),D=rb(d),U=D.length,K=0;K<U;K++)m.call(void 0,D[K],C&&C[K],d)}var Ag=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oo(d,m){if(d){d=d.split("&");for(var C=0;C<d.length;C++){var D=d[C].indexOf("="),U=null;if(0<=D){var K=d[C].substring(0,D);U=d[C].substring(D+1)}else K=d[C];m(K,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function rs(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof rs){this.h=d.h,Gc(this,d.j),this.o=d.o,this.g=d.g,Kc(this,d.s),this.l=d.l;var m=d.i,C=new Fl;C.i=m.i,m.g&&(C.g=new Map(m.g),C.h=m.h),Og(this,C),this.m=d.m}else d&&(m=String(d).match(Ag))?(this.h=!1,Gc(this,m[1]||"",!0),this.o=$l(m[2]||""),this.g=$l(m[3]||"",!0),Kc(this,m[4]),this.l=$l(m[5]||"",!0),Og(this,m[6]||"",!0),this.m=$l(m[7]||"")):(this.h=!1,this.i=new Fl(null,this.h))}rs.prototype.toString=function(){var d=[],m=this.j;m&&d.push(Ll(m,Ng,!0),":");var C=this.g;return(C||m=="file")&&(d.push("//"),(m=this.o)&&d.push(Ll(m,Ng,!0),"@"),d.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&d.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&d.push("/"),d.push(Ll(C,C.charAt(0)=="/"?sb:ob,!0))),(C=this.i.toString())&&d.push("?",C),(C=this.m)&&d.push("#",Ll(C,Dg)),d.join("")};function Ao(d){return new rs(d)}function Gc(d,m,C){d.j=C?$l(m,!0):m,d.j&&(d.j=d.j.replace(/:$/,""))}function Kc(d,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);d.s=m}else d.s=null}function Og(d,m,C){m instanceof Fl?(d.i=m,ab(d.i,d.h)):(C||(m=Ll(m,Mg)),d.i=new Fl(m,d.h))}function Xt(d,m,C){d.i.set(m,C)}function qc(d){return Xt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function $l(d,m){return d?m?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ll(d,m,C){return typeof d=="string"?(d=encodeURI(d).replace(m,ib),C&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function ib(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ng=/[#\/\?@]/g,ob=/[#\?:]/g,sb=/[#\?]/g,Mg=/[#\?@]/g,Dg=/#/g;function Fl(d,m){this.h=this.g=null,this.i=d||null,this.j=!!m}function is(d){d.g||(d.g=new Map,d.h=0,d.i&&oo(d.i,function(m,C){d.add(decodeURIComponent(m.replace(/\+/g," ")),C)}))}t=Fl.prototype,t.add=function(d,m){is(this),this.i=null,d=os(this,d);var C=this.g.get(d);return C||this.g.set(d,C=[]),C.push(m),this.h+=1,this};function $g(d,m){is(d),m=os(d,m),d.g.has(m)&&(d.i=null,d.h-=d.g.get(m).length,d.g.delete(m))}function Lg(d,m){return is(d),m=os(d,m),d.g.has(m)}t.forEach=function(d,m){is(this),this.g.forEach(function(C,D){C.forEach(function(U){d.call(m,U,D,this)},this)},this)},t.na=function(){is(this);const d=Array.from(this.g.values()),m=Array.from(this.g.keys()),C=[];for(let D=0;D<m.length;D++){const U=d[D];for(let K=0;K<U.length;K++)C.push(m[D])}return C},t.V=function(d){is(this);let m=[];if(typeof d=="string")Lg(this,d)&&(m=m.concat(this.g.get(os(this,d))));else{d=Array.from(this.g.values());for(let C=0;C<d.length;C++)m=m.concat(d[C])}return m},t.set=function(d,m){return is(this),this.i=null,d=os(this,d),Lg(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[m]),this.h+=1,this},t.get=function(d,m){return d?(d=this.V(d),0<d.length?String(d[0]):m):m};function Yc(d,m,C){$g(d,m),0<C.length&&(d.i=null,d.g.set(os(d,m),E(C)),d.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],m=Array.from(this.g.keys());for(var C=0;C<m.length;C++){var D=m[C];const K=encodeURIComponent(String(D)),fe=this.V(D);for(D=0;D<fe.length;D++){var U=K;fe[D]!==""&&(U+="="+encodeURIComponent(String(fe[D]))),d.push(U)}}return this.i=d.join("&")};function os(d,m){return m=String(m),d.j&&(m=m.toLowerCase()),m}function ab(d,m){m&&!d.j&&(is(d),d.i=null,d.g.forEach(function(C,D){var U=D.toLowerCase();D!=U&&($g(this,D),Yc(this,U,C))},d)),d.j=m}function lb(d,m){const C=new Mt;if(a.Image){const D=new Image;D.onload=p(ss,C,"TestLoadImage: loaded",!0,m,D),D.onerror=p(ss,C,"TestLoadImage: error",!1,m,D),D.onabort=p(ss,C,"TestLoadImage: abort",!1,m,D),D.ontimeout=p(ss,C,"TestLoadImage: timeout",!1,m,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else m(!1)}function cb(d,m){const C=new Mt,D=new AbortController,U=setTimeout(()=>{D.abort(),ss(C,"TestPingServer: timeout",!1,m)},1e4);fetch(d,{signal:D.signal}).then(K=>{clearTimeout(U),K.ok?ss(C,"TestPingServer: ok",!0,m):ss(C,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),ss(C,"TestPingServer: error",!1,m)})}function ss(d,m,C,D,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),D(C)}catch{}}function Fg(){this.g=new Yt}function ub(d,m,C){const D=C||"";try{kg(d,function(U,K){let fe=U;c(U)&&(fe=xe(U)),m.push(D+K+"="+encodeURIComponent(fe))})}catch(U){throw m.push(D+"type="+encodeURIComponent("_badmap")),U}}function Ea(d){this.l=d.Ub||null,this.j=d.eb||!1}g(Ea,Un),Ea.prototype.g=function(){return new Xc(this.l,this.j)},Ea.prototype.i=function(d){return function(){return d}}({});function Xc(d,m){xt.call(this),this.D=d,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Xc,xt),t=Xc.prototype,t.open=function(d,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=m,this.readyState=1,Vl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(m.body=d),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bl(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Vl(this)),this.g&&(this.readyState=3,Vl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bg(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bg(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var m=d.value?d.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!d.done}))&&(this.response=this.responseText+=m)}d.done?Bl(this):Vl(this),this.readyState==3&&Bg(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Bl(this))},t.Qa=function(d){this.g&&(this.response=d,Bl(this))},t.ga=function(){this.g&&Bl(this)};function Bl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Vl(d)}t.setRequestHeader=function(d,m){this.u.append(d,m)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],m=this.h.entries();for(var C=m.next();!C.done;)C=C.value,d.push(C[0]+": "+C[1]),C=m.next();return d.join(`\r
`)};function Vl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Xc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function xf(d){let m="";return N(d,function(C,D){m+=D,m+=":",m+=C,m+=`\r
`}),m}function L(d,m,C){e:{for(D in C){var D=!1;break e}D=!0}D||(C=xf(C),typeof d=="string"?C!=null&&encodeURIComponent(String(C)):Xt(d,m,C))}function F(d){xt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(F,xt);var z=/^https?$/i,j=["POST","PUT"];t=F.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,m,C,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);m=m?m.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$s.g(),this.v=this.o?Gr(this.o):Gr($s),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(m,String(d),!0),this.B=!1}catch(K){X(this,K);return}if(d=C||"",C=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var U in D)C.set(U,D[U]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const K of D.keys())C.set(K,D.get(K));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(C.keys()).find(K=>K.toLowerCase()=="content-type"),U=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(j,m,void 0))||D||U||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,fe]of C)this.g.setRequestHeader(K,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fe(this),this.u=!0,this.g.send(d),this.u=!1}catch(K){X(this,K)}};function X(d,m){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=m,d.m=5,ee(d),ye(d)}function ee(d){d.A||(d.A=!0,_t(d,"complete"),_t(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,_t(this,"complete"),_t(this,"abort"),ye(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ye(this,!0)),F.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ce(this):this.bb())},t.bb=function(){ce(this)};function ce(d){if(d.h&&typeof s<"u"&&(!d.v[1]||we(d)!=4||d.Z()!=2)){if(d.u&&we(d)==4)Bt(d.Ea,0,d);else if(_t(d,"readystatechange"),we(d)==4){d.h=!1;try{const fe=d.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var C;if(!(C=m)){var D;if(D=fe===0){var U=String(d.D).match(Ag)[1]||null;!U&&a.self&&a.self.location&&(U=a.self.location.protocol.slice(0,-1)),D=!z.test(U?U.toLowerCase():"")}C=D}if(C)_t(d,"complete"),_t(d,"success");else{d.m=6;try{var K=2<we(d)?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.Z()+"]",ee(d)}}finally{ye(d)}}}}function ye(d,m){if(d.g){Fe(d);const C=d.g,D=d.v[0]?()=>{}:null;d.g=null,d.v=null,m||_t(d,"ready");try{C.onreadystatechange=D}catch{}}}function Fe(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function we(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<we(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var m=this.g.responseText;return d&&m.indexOf(d)==0&&(m=m.substring(d.length)),Te(m)}};function ke(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function He(d){const m={};d=(d.g&&2<=we(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(b(d[D]))continue;var C=k(d[D]);const U=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const K=m[U]||[];m[U]=K,K.push(C)}T(m,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ye(d,m,C){return C&&C.internalChannelParams&&C.internalChannelParams[d]||m}function jt(d){this.Aa=0,this.i=[],this.j=new Mt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ye("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ye("baseRetryDelayMs",5e3,d),this.cb=Ye("retryDelaySeedMs",1e4,d),this.Wa=Ye("forwardChannelMaxRetries",2,d),this.wa=Ye("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ts(d&&d.concurrentRequestLimit),this.Da=new Fg,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=jt.prototype,t.la=8,t.G=1,t.connect=function(d,m,C,D){de(0),this.W=d,this.H=m||{},C&&D!==void 0&&(this.H.OSID=C,this.H.OAID=D),this.F=this.X,this.I=Ca(this,null,this.W),ki(this)};function je(d){if(rr(d),d.G==3){var m=d.U++,C=Ao(d.I);if(Xt(C,"SID",d.K),Xt(C,"RID",m),Xt(C,"TYPE","terminate"),vr(d,C),m=new Y(d,d.j,m),m.L=2,m.v=qc(Ao(C)),C=!1,a.navigator&&a.navigator.sendBeacon)try{C=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!C&&a.Image&&(new Image().src=m.v,C=!0),C||(m.g=CI(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Dl(m)}Sf(d)}function zt(d){d.g&&(_r(d),d.g.cancel(),d.g=null)}function rr(d){zt(d),d.u&&(a.clearTimeout(d.u),d.u=null),xa(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function ki(d){if(!Hc(d.h)&&!d.s){d.s=!0;var m=d.Ga;G||Q(),V||(G(),V=!0),B.add(m,d),d.B=0}}function Ai(d,m){return _f(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=m.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=tt(h(d.Ga,d,m),Qc(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const U=new Y(this,this.j,d);let K=this.o;if(this.S&&(K?(K=I(K),v(K,this.S)):K=this.S),this.m!==null||this.O||(U.H=K,K=null),this.P)e:{for(var m=0,C=0;C<this.i.length;C++){t:{var D=this.i[C];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(m+=D,4096<m){m=C;break e}if(m===4096||C===this.i.length-1){m=C+1;break e}}m=1e3}else m=1e3;m=kt(this,U,m),C=Ao(this.I),Xt(C,"RID",d),Xt(C,"CVER",22),this.D&&Xt(C,"X-HTTP-Session-Id",this.D),vr(this,C),K&&(this.O?m="headers="+encodeURIComponent(String(xf(K)))+"&"+m:this.m&&L(C,this.m,K)),wf(this.h,U),this.Ua&&Xt(C,"TYPE","init"),this.P?(Xt(C,"$req",m),Xt(C,"SID","null"),U.T=!0,$t(U,C,null)):$t(U,C,m),this.G=2}}else this.G==3&&(d?si(this,d):this.i.length==0||Hc(this.h)||si(this))};function si(d,m){var C;m?C=m.l:C=d.U++;const D=Ao(d.I);Xt(D,"SID",d.K),Xt(D,"RID",C),Xt(D,"AID",d.T),vr(d,D),d.m&&d.o&&L(D,d.m,d.o),C=new Y(d,d.j,C,d.B+1),d.m===null&&(C.H=d.o),m&&(d.i=m.D.concat(d.i)),m=kt(d,C,1e3),C.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),wf(d.h,C),$t(C,D,m)}function vr(d,m){d.H&&N(d.H,function(C,D){Xt(m,D,C)}),d.l&&kg({},function(C,D){Xt(m,D,C)})}function kt(d,m,C){C=Math.min(d.i.length,C);var D=d.l?h(d.l.Na,d.l,d):null;e:{var U=d.i;let K=-1;for(;;){const fe=["count="+C];K==-1?0<C?(K=U[0].g,fe.push("ofs="+K)):K=0:fe.push("ofs="+K);let Qt=!0;for(let br=0;br<C;br++){let Lt=U[br].g;const kr=U[br].map;if(Lt-=K,0>Lt)K=Math.max(0,U[br].g-100),Qt=!1;else try{ub(kr,fe,"req"+Lt+"_")}catch{D&&D(kr)}}if(Qt){D=fe.join("&");break e}}}return d=d.i.splice(0,C),m.D=d,D}function Rt(d){if(!d.g&&!d.u){d.Y=1;var m=d.Fa;G||Q(),V||(G(),V=!0),B.add(m,d),d.v=0}}function Pr(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=tt(h(d.Fa,d),Qc(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Ul(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=tt(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,de(10),zt(this),Ul(this))};function _r(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Ul(d){d.g=new Y(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var m=Ao(d.qa);Xt(m,"RID","rpc"),Xt(m,"SID",d.K),Xt(m,"AID",d.T),Xt(m,"CI",d.F?"0":"1"),!d.F&&d.ja&&Xt(m,"TO",d.ja),Xt(m,"TYPE","xmlhttp"),vr(d,m),d.m&&d.o&&L(m,d.m,d.o),d.L&&(d.g.I=d.L);var C=d.g;d=d.ia,C.L=1,C.v=qc(Ao(m)),C.m=null,C.P=!0,vn(C,d)}t.Za=function(){this.C!=null&&(this.C=null,zt(this),Pr(this),de(19))};function xa(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Sa(d,m){var C=null;if(d.g==m){xa(d),_r(d),d.g=null;var D=2}else if(bf(d.h,m))C=m.D,Pg(d.h,m),D=1;else return;if(d.G!=0){if(m.o)if(D==1){C=m.m?m.m.length:0,m=Date.now()-m.F;var U=d.B;D=io(),_t(D,new lt(D,C)),ki(d)}else Rt(d);else if(U=m.s,U==3||U==0&&0<m.X||!(D==1&&Ai(d,m)||D==2&&Pr(d)))switch(C&&0<C.length&&(m=d.h,m.i=m.i.concat(C)),U){case 1:as(d,5);break;case 4:as(d,10);break;case 3:as(d,6);break;default:as(d,2)}}}function Qc(d,m){let C=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(C*=2),C*m}function as(d,m){if(d.j.info("Error code "+m),m==2){var C=h(d.fb,d),D=d.Xa;const U=!D;D=new rs(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Gc(D,"https"),qc(D),U?lb(D.toString(),C):cb(D.toString(),C)}else de(2);d.G=0,d.l&&d.l.sa(m),Sf(d),rr(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function Sf(d){if(d.G=0,d.ka=[],d.l){const m=ns(d.h);(m.length!=0||d.i.length!=0)&&(x(d.ka,m),x(d.ka,d.i),d.h.i.length=0,E(d.i),d.i.length=0),d.l.ra()}}function Ca(d,m,C){var D=C instanceof rs?Ao(C):new rs(C);if(D.g!="")m&&(D.g=m+"."+D.g),Kc(D,D.s);else{var U=a.location;D=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var K=new rs(null);D&&Gc(K,D),m&&(K.g=m),U&&Kc(K,U),C&&(K.l=C),D=K}return C=d.D,m=d.ya,C&&m&&Xt(D,C,m),Xt(D,"VER",d.la),vr(d,D),D}function CI(d,m,C){if(m&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=d.Ca&&!d.pa?new F(new Ea({eb:C})):new F(d.pa),m.Ha(d.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function TI(){}t=TI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Vg(){}Vg.prototype.g=function(d,m){return new Oi(d,m)};function Oi(d,m){xt.call(this),this.g=new jt(m),this.l=d,this.h=m&&m.messageUrlParams||null,d=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(d?d["X-WebChannel-Content-Type"]=m.messageContentType:d={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(d?d["X-WebChannel-Client-Profile"]=m.va:d={"X-WebChannel-Client-Profile":m.va}),this.g.S=d,(d=m&&m.Sb)&&!b(d)&&(this.g.m=d),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!b(m)&&(this.g.D=m,d=this.h,d!==null&&m in d&&(d=this.h,m in d&&delete d[m])),this.j=new Jc(this)}g(Oi,xt),Oi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Oi.prototype.close=function(){je(this.g)},Oi.prototype.o=function(d){var m=this.g;if(typeof d=="string"){var C={};C.__data__=d,d=C}else this.u&&(C={},C.__data__=xe(d),d=C);m.i.push(new ko(m.Ya++,d)),m.G==3&&ki(m)},Oi.prototype.N=function(){this.g.l=null,delete this.j,je(this.g),delete this.g,Oi.aa.N.call(this)};function II(d){jn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var m=d.__sm__;if(m){e:{for(const C in m){d=C;break e}d=void 0}(this.i=d)&&(d=this.i,m=m!==null&&d in m?m[d]:void 0),this.data=m}else this.data=d}g(II,jn);function RI(){Ri.call(this),this.status=1}g(RI,Ri);function Jc(d){this.g=d}g(Jc,TI),Jc.prototype.ua=function(){_t(this.g,"a")},Jc.prototype.ta=function(d){_t(this.g,new II(d))},Jc.prototype.sa=function(d){_t(this.g,new RI)},Jc.prototype.ra=function(){_t(this.g,"b")},Vg.prototype.createWebChannel=Vg.prototype.g,Oi.prototype.send=Oi.prototype.o,Oi.prototype.open=Oi.prototype.m,Oi.prototype.close=Oi.prototype.close,nL=function(){return new Vg},tL=function(){return io()},eL=rn,BE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yn.NO_ERROR=0,yn.TIMEOUT=8,yn.HTTP_ERROR=6,ny=yn,oi.COMPLETE="complete",Z$=oi,pr.EventType=Ir,Ir.OPEN="a",Ir.CLOSE="b",Ir.ERROR="c",Ir.MESSAGE="d",xt.prototype.listen=xt.prototype.K,rh=pr,F.prototype.listenOnce=F.prototype.L,F.prototype.getLastError=F.prototype.Ka,F.prototype.getLastErrorCode=F.prototype.Ba,F.prototype.getStatus=F.prototype.Z,F.prototype.getResponseJson=F.prototype.Oa,F.prototype.getResponseText=F.prototype.oa,F.prototype.send=F.prototype.ea,F.prototype.setWithCredentials=F.prototype.Ha,J$=F}).apply(typeof lm<"u"?lm:typeof self<"u"?self:typeof window<"u"?window:{});const wP="@firebase/firestore",EP="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Br.UNAUTHENTICATED=new Br(null),Br.GOOGLE_CREDENTIALS=new Br("google-credentials-uid"),Br.FIRST_PARTY=new Br("first-party-uid"),Br.MOCK_USER=new Br("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gd="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new p0("@firebase/firestore");function du(){return yc.logLevel}function Ce(t,...e){if(yc.logLevel<=wt.DEBUG){const n=e.map(EC);yc.debug(`Firestore (${Gd}): ${t}`,...n)}}function ua(t,...e){if(yc.logLevel<=wt.ERROR){const n=e.map(EC);yc.error(`Firestore (${Gd}): ${t}`,...n)}}function yd(t,...e){if(yc.logLevel<=wt.WARN){const n=e.map(EC);yc.warn(`Firestore (${Gd}): ${t}`,...n)}}function EC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t="Unexpected state"){const e=`FIRESTORE (${Gd}) INTERNAL ASSERTION FAILED: `+t;throw ua(e),new Error(e)}function Wt(t,e){t||qe()}function nt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends As{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Br.UNAUTHENTICATED))}shutdown(){}}class b8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class w8{constructor(e){this.t=e,this.currentUser=Br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Wt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new rl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new rl,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new rl)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Wt(typeof r.accessToken=="string"),new rL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Wt(e===null||typeof e=="string"),new Br(e)}}class E8{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Br.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class x8{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new E8(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Br.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S8{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Qr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Wt(this.o===void 0);const r=o=>{o.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Ce("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new xP(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Wt(typeof n.token=="string"),this.R=n.token,new xP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=C8(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function ht(t,e){return t<e?-1:t>e?1:0}function VE(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ht(r,i);{const o=iL(),s=T8(o.encode(SP(t,n)),o.encode(SP(e,n)));return s!==0?s:ht(r,i)}}n+=r>65535?2:1}return ht(t.length,e.length)}function SP(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function T8(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ht(t[n],e[n]);return ht(t.length,e.length)}function vd(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=-62135596800,TP=1e6;class tr{static now(){return tr.fromMillis(Date.now())}static fromDate(e){return tr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*TP);return new tr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Re(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Re(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<CP)throw new Re(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/TP}_compareTo(e){return this.seconds===e.seconds?ht(this.nanoseconds,e.nanoseconds):ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-CP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new tr(0,0))}static max(){return new Ze(new tr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP="__name__";class ds{constructor(e,n,r){n===void 0?n=0:n>e.length&&qe(),r===void 0?r=e.length-n:r>e.length-n&&qe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ds.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ds?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=ds.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ht(e.length,n.length)}static compareSegments(e,n){const r=ds.isNumericId(e),i=ds.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ds.extractNumericId(e).compare(ds.extractNumericId(n)):VE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return nl.fromString(e.substring(4,e.length-2))}}class pn extends ds{construct(e,n,r){return new pn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pn(n)}static emptyPath(){return new pn([])}}const I8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xr extends ds{construct(e,n,r){return new xr(e,n,r)}static isValidIdentifier(e){return I8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IP}static keyField(){return new xr([IP])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Re(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Re(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Re(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Re(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xr(n)}static emptyPath(){return new xr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(pn.fromString(e))}static fromName(e){return new Be(pn.fromString(e).popFirst(5))}static empty(){return new Be(pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new pn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=-1;function R8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ze.fromTimestamp(r===1e9?new tr(n+1,0):new tr(n,r));return new dl(i,Be.empty(),e)}function P8(t){return new dl(t.readTime,t.key,cp)}class dl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new dl(Ze.min(),Be.empty(),cp)}static max(){return new dl(Ze.max(),Be.empty(),cp)}}function k8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:ht(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kd(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==A8)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new te((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function N8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}_0.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=-1;function b0(t){return t==null}function Jy(t){return t===0&&1/t==-1/0}function M8(t){return typeof t=="number"&&Number.isInteger(t)&&!Jy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL="";function D8(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=RP(e)),e=$8(t.get(n),e);return RP(e)}function $8(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case sL:n+="";break;default:n+=o}}return n}function RP(t){return t+sL+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Al(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yn=class UE{constructor(e,n){this.comparator=e,this.root=n||il.EMPTY}insert(e,n){return new UE(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,il.BLACK,null,null))}remove(e){return new UE(this.comparator,this.root.remove(e,this.comparator).copy(null,null,il.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cm(this.root,e,this.comparator,!1)}getReverseIterator(){return new cm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cm(this.root,e,this.comparator,!0)}},cm=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},il=class Us{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Us.RED,this.left=i??Us.EMPTY,this.right=o??Us.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Us(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Us.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Us.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Us.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Us.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qe();const e=this.left.check();if(e!==this.right.check())throw qe();return e+(this.isRed()?0:1)}};il.EMPTY=null,il.RED=!0,il.BLACK=!1;il.EMPTY=new class{constructor(){this.size=0}get key(){throw qe()}get value(){throw qe()}get color(){throw qe()}get left(){throw qe()}get right(){throw qe()}copy(e,n,r,i,o){return this}insert(e,n,r){return new il(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.comparator=e,this.data=new Yn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kP(this.data.getIterator())}getIteratorFrom(e){return new kP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nr(this.comparator);return n.data=e,n}}class kP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.fields=e,e.sort(xr.comparator)}static empty(){return new zi([])}unionWith(e){let n=new nr(xr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vd(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new lL("Invalid base64 string: "+o):o}}(e);return new Tr(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Tr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const L8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fl(t){if(Wt(!!t),typeof t=="string"){let e=0;const n=L8.exec(t);if(Wt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ln(t.seconds),nanos:Ln(t.nanos)}}function Ln(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hl(t){return typeof t=="string"?Tr.fromBase64String(t):Tr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL="server_timestamp",uL="__type__",dL="__previous_value__",fL="__local_write_time__";function SC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[uL])===null||n===void 0?void 0:n.stringValue)===cL}function w0(t){const e=t.mapValue.fields[dL];return SC(e)?w0(e):e}function up(t){const e=fl(t.mapValue.fields[fL].timestampValue);return new tr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const Zy="(default)";class dp{constructor(e,n){this.projectId=e,this.database=n||Zy}static empty(){return new dp("","")}get isDefaultDatabase(){return this.database===Zy}isEqual(e){return e instanceof dp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL="__type__",B8="__max__",um={mapValue:{}},pL="__vector__",ev="value";function pl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?SC(t)?4:U8(t)?9007199254740991:V8(t)?10:11:qe()}function Ts(t,e){if(t===e)return!0;const n=pl(t);if(n!==pl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return up(t).isEqual(up(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=fl(i.timestampValue),a=fl(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return hl(i.bytesValue).isEqual(hl(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ln(i.geoPointValue.latitude)===Ln(o.geoPointValue.latitude)&&Ln(i.geoPointValue.longitude)===Ln(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ln(i.integerValue)===Ln(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ln(i.doubleValue),a=Ln(o.doubleValue);return s===a?Jy(s)===Jy(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return vd(t.arrayValue.values||[],e.arrayValue.values||[],Ts);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(PP(s)!==PP(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Ts(s[l],a[l])))return!1;return!0}(t,e);default:return qe()}}function fp(t,e){return(t.values||[]).find(n=>Ts(n,e))!==void 0}function _d(t,e){if(t===e)return 0;const n=pl(t),r=pl(e);if(n!==r)return ht(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ht(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Ln(o.integerValue||o.doubleValue),l=Ln(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return AP(t.timestampValue,e.timestampValue);case 4:return AP(up(t),up(e));case 5:return VE(t.stringValue,e.stringValue);case 6:return function(o,s){const a=hl(o),l=hl(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ht(a[c],l[c]);if(u!==0)return u}return ht(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ht(Ln(o.latitude),Ln(s.latitude));return a!==0?a:ht(Ln(o.longitude),Ln(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return OP(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,c,u;const f=o.fields||{},h=s.fields||{},p=(a=f[ev])===null||a===void 0?void 0:a.arrayValue,g=(l=h[ev])===null||l===void 0?void 0:l.arrayValue,E=ht(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return E!==0?E:OP(p,g)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===um.mapValue&&s===um.mapValue)return 0;if(o===um.mapValue)return 1;if(s===um.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=VE(l[f],u[f]);if(h!==0)return h;const p=_d(a[l[f]],c[u[f]]);if(p!==0)return p}return ht(l.length,u.length)}(t.mapValue,e.mapValue);default:throw qe()}}function AP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ht(t,e);const n=fl(t),r=fl(e),i=ht(n.seconds,r.seconds);return i!==0?i:ht(n.nanos,r.nanos)}function OP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=_d(n[i],r[i]);if(o)return o}return ht(n.length,r.length)}function bd(t){return jE(t)}function jE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=fl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return hl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=jE(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${jE(n.fields[s])}`;return i+"}"}(t.mapValue):qe()}function ry(t){switch(pl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=w0(t);return e?16+ry(e):16;case 5:return 2*t.stringValue.length;case 6:return hl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+ry(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Al(r.fields,(o,s)=>{i+=o.length+ry(s)}),i}(t.mapValue);default:throw qe()}}function NP(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zE(t){return!!t&&"integerValue"in t}function CC(t){return!!t&&"arrayValue"in t}function MP(t){return!!t&&"nullValue"in t}function DP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function iy(t){return!!t&&"mapValue"in t}function V8(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[hL])===null||n===void 0?void 0:n.stringValue)===pL}function xh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Al(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function U8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===B8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.value=e}static empty(){return new fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!iy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xh(n)}setAll(e){let n=xr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=xh(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());iy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ts(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];iy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Al(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new fi(xh(this.value))}}function gL(t){const e=[];return Al(t.fields,(n,r)=>{const i=new xr([n]);if(iy(r)){const o=gL(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new zi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ur(e,0,Ze.min(),Ze.min(),Ze.min(),fi.empty(),0)}static newFoundDocument(e,n,r,i){return new Ur(e,1,n,Ze.min(),r,i,0)}static newNoDocument(e,n){return new Ur(e,2,n,Ze.min(),Ze.min(),fi.empty(),0)}static newUnknownDocument(e,n){return new Ur(e,3,n,Ze.min(),Ze.min(),fi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n){this.position=e,this.inclusive=n}}function $P(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Be.comparator(Be.fromName(s.referenceValue),n.key):r=_d(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function LP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ts(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,n="asc"){this.field=e,this.dir=n}}function j8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{}class qn extends mL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new W8(e,n,r):n==="array-contains"?new K8(e,r):n==="in"?new q8(e,r):n==="not-in"?new Y8(e,r):n==="array-contains-any"?new X8(e,r):new qn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new H8(e,r):new G8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_d(n,this.value)):n!==null&&pl(this.value)===pl(n)&&this.matchesComparison(_d(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yo extends mL{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Yo(e,n)}matches(e){return yL(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function yL(t){return t.op==="and"}function vL(t){return z8(t)&&yL(t)}function z8(t){for(const e of t.filters)if(e instanceof Yo)return!1;return!0}function WE(t){if(t instanceof qn)return t.field.canonicalString()+t.op.toString()+bd(t.value);if(vL(t))return t.filters.map(e=>WE(e)).join(",");{const e=t.filters.map(n=>WE(n)).join(",");return`${t.op}(${e})`}}function _L(t,e){return t instanceof qn?function(r,i){return i instanceof qn&&r.op===i.op&&r.field.isEqual(i.field)&&Ts(r.value,i.value)}(t,e):t instanceof Yo?function(r,i){return i instanceof Yo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&_L(s,i.filters[a]),!0):!1}(t,e):void qe()}function bL(t){return t instanceof qn?function(n){return`${n.field.canonicalString()} ${n.op} ${bd(n.value)}`}(t):t instanceof Yo?function(n){return n.op.toString()+" {"+n.getFilters().map(bL).join(" ,")+"}"}(t):"Filter"}class W8 extends qn{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class H8 extends qn{constructor(e,n){super(e,"in",n),this.keys=wL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class G8 extends qn{constructor(e,n){super(e,"not-in",n),this.keys=wL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Be.fromName(r.referenceValue))}class K8 extends qn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return CC(n)&&fp(n.arrayValue,this.value)}}class q8 extends qn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fp(this.value.arrayValue,n)}}class Y8 extends qn{constructor(e,n){super(e,"not-in",n)}matches(e){if(fp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!fp(this.value.arrayValue,n)}}class X8 extends qn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!CC(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fp(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.le=null}}function FP(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Q8(t,e,n,r,i,o,s)}function TC(t){const e=nt(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>WE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),b0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bd(r)).join(",")),e.le=n}return e.le}function IC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!j8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_L(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!LP(t.startAt,e.startAt)&&LP(t.endAt,e.endAt)}function HE(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function J8(t,e,n,r,i,o,s,a){return new Kp(t,e,n,r,i,o,s,a)}function RC(t){return new Kp(t)}function BP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function EL(t){return t.collectionGroup!==null}function Sh(t){const e=nt(t);if(e.he===null){e.he=[];const n=new Set;for(const o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new nr(xr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new nv(o,r))}),n.has(xr.keyField().canonicalString())||e.he.push(new nv(xr.keyField(),r))}return e.he}function bs(t){const e=nt(t);return e.Pe||(e.Pe=Z8(e,Sh(t))),e.Pe}function Z8(t,e){if(t.limitType==="F")return FP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new nv(i.field,o)});const n=t.endAt?new tv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new tv(t.startAt.position,t.startAt.inclusive):null;return FP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function GE(t,e){const n=t.filters.concat([e]);return new Kp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function KE(t,e,n){return new Kp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function E0(t,e){return IC(bs(t),bs(e))&&t.limitType===e.limitType}function xL(t){return`${TC(bs(t))}|lt:${t.limitType}`}function fu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>bL(i)).join(", ")}]`),b0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>bd(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>bd(i)).join(",")),`Target(${r})`}(bs(t))}; limitType=${t.limitType})`}function x0(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Be.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Sh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=$P(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,Sh(r),i)||r.endAt&&!function(s,a,l){const c=$P(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,Sh(r),i))}(t,e)}function e7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SL(t){return(e,n)=>{let r=!1;for(const i of Sh(t)){const o=t7(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function t7(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?_d(l,c):qe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Al(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return aL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7=new Yn(Be.comparator);function da(){return n7}const CL=new Yn(Be.comparator);function ih(...t){let e=CL;for(const n of t)e=e.insert(n.key,n);return e}function TL(t){let e=CL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ec(){return Ch()}function IL(){return Ch()}function Ch(){return new kc(t=>t.toString(),(t,e)=>t.isEqual(e))}const r7=new Yn(Be.comparator),i7=new nr(Be.comparator);function Ct(...t){let e=i7;for(const n of t)e=e.add(n);return e}const o7=new nr(ht);function s7(){return o7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jy(e)?"-0":e}}function RL(t){return{integerValue:""+t}}function a7(t,e){return M8(e)?RL(e):PC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this._=void 0}}function l7(t,e,n){return t instanceof hp?function(i,o){const s={fields:{[uL]:{stringValue:cL},[fL]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&SC(o)&&(o=w0(o)),o&&(s.fields[dL]=o),{mapValue:s}}(n,e):t instanceof wd?kL(t,e):t instanceof pp?AL(t,e):function(i,o){const s=PL(i,o),a=VP(s)+VP(i.Ie);return zE(s)&&zE(i.Ie)?RL(a):PC(i.serializer,a)}(t,e)}function c7(t,e,n){return t instanceof wd?kL(t,e):t instanceof pp?AL(t,e):n}function PL(t,e){return t instanceof rv?function(r){return zE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class hp extends S0{}class wd extends S0{constructor(e){super(),this.elements=e}}function kL(t,e){const n=OL(e);for(const r of t.elements)n.some(i=>Ts(i,r))||n.push(r);return{arrayValue:{values:n}}}class pp extends S0{constructor(e){super(),this.elements=e}}function AL(t,e){let n=OL(e);for(const r of t.elements)n=n.filter(i=>!Ts(i,r));return{arrayValue:{values:n}}}class rv extends S0{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function VP(t){return Ln(t.integerValue||t.doubleValue)}function OL(t){return CC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n){this.field=e,this.transform=n}}function u7(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof wd&&i instanceof wd||r instanceof pp&&i instanceof pp?vd(r.elements,i.elements,Ts):r instanceof rv&&i instanceof rv?Ts(r.Ie,i.Ie):r instanceof hp&&i instanceof hp}(t.transform,e.transform)}class d7{constructor(e,n){this.version=e,this.transformResults=n}}class ei{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class C0{}function ML(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new T0(t.key,ei.none()):new qp(t.key,t.data,ei.none());{const n=t.data,r=fi.empty();let i=new nr(xr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ol(t.key,r,new zi(i.toArray()),ei.none())}}function f7(t,e,n){t instanceof qp?function(i,o,s){const a=i.value.clone(),l=jP(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ol?function(i,o,s){if(!oy(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=jP(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(DL(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Th(t,e,n,r){return t instanceof qp?function(o,s,a,l){if(!oy(o.precondition,s))return a;const c=o.value.clone(),u=zP(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ol?function(o,s,a,l){if(!oy(o.precondition,s))return a;const c=zP(o.fieldTransforms,l,s),u=s.data;return u.setAll(DL(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return oy(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function h7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=PL(r.transform,i||null);o!=null&&(n===null&&(n=fi.empty()),n.set(r.field,o))}return n||null}function UP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vd(r,i,(o,s)=>u7(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qp extends C0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ol extends C0{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function DL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function jP(t,e,n){const r=new Map;Wt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,c7(s,a,n[i]))}return r}function zP(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,l7(o,s,e))}return r}class T0 extends C0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class p7 extends C0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&f7(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Th(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Th(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=IL();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=ML(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ze.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ct())}isEqual(e){return this.batchId===e.batchId&&vd(this.mutations,e.mutations,(n,r)=>UP(n,r))&&vd(this.baseMutations,e.baseMutations,(n,r)=>UP(n,r))}}class kC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Wt(e.mutations.length===r.length);let i=function(){return r7}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new kC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn,At;function v7(t){switch(t){case ne.OK:return qe();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return qe()}}function $L(t){if(t===void 0)return ua("GRPC error has no .code"),ne.UNKNOWN;switch(t){case zn.OK:return ne.OK;case zn.CANCELLED:return ne.CANCELLED;case zn.UNKNOWN:return ne.UNKNOWN;case zn.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case zn.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case zn.INTERNAL:return ne.INTERNAL;case zn.UNAVAILABLE:return ne.UNAVAILABLE;case zn.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case zn.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case zn.NOT_FOUND:return ne.NOT_FOUND;case zn.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case zn.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case zn.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case zn.ABORTED:return ne.ABORTED;case zn.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case zn.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case zn.DATA_LOSS:return ne.DATA_LOSS;default:return qe()}}(At=zn||(zn={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7=new nl([4294967295,4294967295],0);function WP(t){const e=iL().encode(t),n=new Q$;return n.update(e),new Uint8Array(n.digest())}function HP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new nl([n,r],0),new nl([i,o],0)]}class AC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oh(`Invalid padding: ${n}`);if(r<0)throw new oh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oh(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=nl.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(nl.fromNumber(r)));return i.compare(_7)===1&&(i=new nl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=WP(e),[r,i]=HP(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new AC(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ee===0)return;const n=WP(e),[r,i]=HP(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);this.Ve(s)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class oh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Yp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new I0(Ze.min(),i,new Yn(ht),da(),Ct())}}class Yp{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yp(r,n,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class LL{constructor(e,n){this.targetId=e,this.ge=n}}class FL{constructor(e,n,r=Tr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class GP{constructor(){this.pe=0,this.ye=KP(),this.we=Tr.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ct(),n=Ct(),r=Ct();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:qe()}}),new Yp(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=KP()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Wt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class b7{constructor(e){this.ke=e,this.qe=new Map,this.Qe=da(),this.$e=dm(),this.Ue=dm(),this.Ke=new Yn(ht)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:qe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const o=i.target;if(HE(o))if(r===0){const s=new Be(o.path);this.ze(n,s,Ur.newNoDocument(s,Ze.min()))}else Wt(r===1);else{const s=this.et(n);if(s!==r){const a=this.tt(e),l=a?this.nt(a,e,s):1;if(l!==0){this.Ye(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=hl(r).toUint8Array()}catch(l){if(l instanceof lL)return yd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new AC(s,i,o)}catch(l){return yd(l instanceof oh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ke.it(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,o,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((o,s)=>{const a=this.Xe(s);if(a){if(o.current&&HE(a.target)){const l=new Be(a.target.path);this._t(l).has(s)||this.ut(s,l)||this.ze(s,l,Ur.newNoDocument(l,e))}o.ve&&(n.set(s,o.Fe()),o.Me())}});let r=Ct();this.Ue.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(e));const i=new I0(e,n,this.Ke,this.Qe,r);return this.Qe=da(),this.$e=dm(),this.Ue=dm(),this.Ke=new Yn(ht),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new GP,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new nr(ht),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new nr(ht),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new GP),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function dm(){return new Yn(Be.comparator)}function KP(){return new Yn(Be.comparator)}const w7={asc:"ASCENDING",desc:"DESCENDING"},E7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},x7={and:"AND",or:"OR"};class S7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qE(t,e){return t.useProto3Json||b0(e)?e:{value:e}}function iv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function C7(t,e){return iv(t,e.toTimestamp())}function ws(t){return Wt(!!t),Ze.fromTimestamp(function(n){const r=fl(n);return new tr(r.seconds,r.nanos)}(t))}function OC(t,e){return YE(t,e).canonicalString()}function YE(t,e){const n=function(i){return new pn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function VL(t){const e=pn.fromString(t);return Wt(HL(e)),e}function XE(t,e){return OC(t.databaseId,e.path)}function Kb(t,e){const n=VL(e);if(n.get(1)!==t.databaseId.projectId)throw new Re(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Re(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(jL(n))}function UL(t,e){return OC(t.databaseId,e)}function T7(t){const e=VL(t);return e.length===4?pn.emptyPath():jL(e)}function QE(t){return new pn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jL(t){return Wt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function qP(t,e,n){return{name:XE(t,e),fields:n.value.mapValue.fields}}function I7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:qe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(Wt(u===void 0||typeof u=="string"),Tr.fromBase64String(u||"")):(Wt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Tr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?ne.UNKNOWN:$L(c.code);return new Re(u,c.message||"")}(s);n=new FL(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Kb(t,r.document.name),o=ws(r.document.updateTime),s=r.document.createTime?ws(r.document.createTime):Ze.min(),a=new fi({mapValue:{fields:r.document.fields}}),l=Ur.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new sy(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Kb(t,r.document),o=r.readTime?ws(r.readTime):Ze.min(),s=Ur.newNoDocument(i,o),a=r.removedTargetIds||[];n=new sy([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Kb(t,r.document),o=r.removedTargetIds||[];n=new sy([],o,i,null)}else{if(!("filter"in e))return qe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new y7(i,o),a=r.targetId;n=new LL(a,s)}}return n}function R7(t,e){let n;if(e instanceof qp)n={update:qP(t,e.key,e.value)};else if(e instanceof T0)n={delete:XE(t,e.key)};else if(e instanceof Ol)n={update:qP(t,e.key,e.data),updateMask:L7(e.fieldMask)};else{if(!(e instanceof p7))return qe();n={verify:XE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof hp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof pp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof rv)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw qe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:C7(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:qe()}(t,e.precondition)),n}function P7(t,e){return t&&t.length>0?(Wt(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?ws(i.updateTime):ws(o);return s.isEqual(Ze.min())&&(s=ws(o)),new d7(s,i.transformResults||[])}(n,e))):[]}function k7(t,e){return{documents:[UL(t,e.path)]}}function A7(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UL(t,i);const o=function(c){if(c.length!==0)return WL(Yo.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:hu(h.field),direction:M7(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=qE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:i}}function O7(t){let e=T7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Wt(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(f){const h=zL(f);return h instanceof Yo&&vL(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(g){return new nv(pu(g.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,b0(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new tv(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new tv(p,h)}(n.endAt)),J8(e,i,s,o,a,"F",l,c)}function N7(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=pu(n.unaryFilter.field);return qn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=pu(n.unaryFilter.field);return qn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=pu(n.unaryFilter.field);return qn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=pu(n.unaryFilter.field);return qn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return qe()}}(t):t.fieldFilter!==void 0?function(n){return qn.create(pu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yo.create(n.compositeFilter.filters.map(r=>zL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe()}}(n.compositeFilter.op))}(t):qe()}function M7(t){return w7[t]}function D7(t){return E7[t]}function $7(t){return x7[t]}function hu(t){return{fieldPath:t.canonicalString()}}function pu(t){return xr.fromServerFormat(t.fieldPath)}function WL(t){return t instanceof qn?function(n){if(n.op==="=="){if(DP(n.value))return{unaryFilter:{field:hu(n.field),op:"IS_NAN"}};if(MP(n.value))return{unaryFilter:{field:hu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(DP(n.value))return{unaryFilter:{field:hu(n.field),op:"IS_NOT_NAN"}};if(MP(n.value))return{unaryFilter:{field:hu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hu(n.field),op:D7(n.op),value:n.value}}}(t):t instanceof Yo?function(n){const r=n.getFilters().map(i=>WL(i));return r.length===1?r[0]:{compositeFilter:{op:$7(n.op),filters:r}}}(t):qe()}function L7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n,r,i,o=Ze.min(),s=Ze.min(),a=Tr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ha(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e){this.Tt=e}}function B7(t){const e=O7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?KE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(){this.Tn=new U7}addToCollectionParentIndex(e,n){return this.Tn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(dl.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(dl.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class U7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nr(pn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nr(pn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GL=41943040;class ui{static withCacheSize(e){return new ui(e,ui.DEFAULT_COLLECTION_PERCENTILE,ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ui.DEFAULT_COLLECTION_PERCENTILE=10,ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ui.DEFAULT=new ui(GL,ui.DEFAULT_COLLECTION_PERCENTILE,ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ui.DISABLED=new ui(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ed(0)}static Kn(){return new Ed(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP="LruGarbageCollector",j7=1048576;function QP([t,e],[n,r]){const i=ht(t,n);return i===0?ht(e,r):i}class z7{constructor(e){this.Hn=e,this.buffer=new nr(QP),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();QP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class W7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ce(XP,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qd(n)?Ce(XP,"Ignoring IndexedDB error during garbage collection: ",n):await Kd(n)}await this.er(3e5)})}}class H7{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return te.resolve(_0.ae);const r=new z7(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(YP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YP):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),du()<=wt.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function G7(t,e){return new H7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(){this.changes=new kc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ur.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Th(r.mutation,i,zi.empty(),tr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ct()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ct()){const i=ec();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ih();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ec();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ct()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=da();const s=Ch(),a=function(){return Ch()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Ol)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Th(u.mutation,c,u.mutation.getFieldMask(),tr.now())):s.set(c.key,zi.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>{var f;return a.set(c,new q7(u,(f=s.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ch();let i=new Yn((s,a)=>s-a),o=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||zi.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(i.get(a.batchId)||Ct()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=IL();u.forEach(h=>{if(!o.has(h)){const p=ML(n.get(h),r.get(h));p!==null&&f.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return te.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):te.resolve(ec());let a=cp,l=o;return s.next(c=>te.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(u)?te.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Ct())).next(u=>({batchId:a,changes:TL(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next(r=>{let i=ih();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=ih();return this.indexManager.getCollectionParents(e,o).next(a=>te.forEach(a,l=>{const c=function(f,h){return new Kp(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Ur.newInvalidDocument(u)))});let a=ih();return s.forEach((l,c)=>{const u=o.get(l);u!==void 0&&Th(u.mutation,c,zi.empty(),tr.now()),x0(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return te.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ws(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:B7(i.bundledQuery),readTime:ws(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(){this.overlays=new Yn(Be.comparator),this.Rr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ec();return te.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Et(e,n,o)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=ec(),o=n.length+1,s=new Be(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Yn((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=ec(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ec(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return te.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new m7(n,r));let o=this.Rr.get(n);o===void 0&&(o=Ct(),this.Rr.set(n,o)),this.Rr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(){this.sessionToken=Tr.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this.Vr=new nr(sr.mr),this.gr=new nr(sr.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new sr(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new sr(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new Be(new pn([])),r=new sr(n,e),i=new sr(n,e+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Be(new pn([])),r=new sr(n,e),i=new sr(n,e+1);let o=Ct();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new sr(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class sr{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Be.comparator(e.key,n.key)||ht(e.Cr,n.Cr)}static pr(e,n){return ht(e.Cr,n.Cr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new nr(sr.mr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new g7(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Mr=this.Mr.add(new sr(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return te.resolve(s)}lookupMutationBatch(e,n){return te.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),o=i<0?0:i;return te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?xC:this.Fr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new sr(n,0),i=new sr(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{const a=this.Or(s.Cr);o.push(a)}),te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nr(ht);return n.forEach(i=>{const o=new sr(i,0),s=new sr(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],a=>{r=r.add(a.Cr)})}),te.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Be.isDocumentKey(o)||(o=o.child(""));const s=new sr(new Be(o),0);let a=new nr(ht);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Cr)),!0)},s),te.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Wt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return te.forEach(n.mutations,i=>{const o=new sr(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new sr(n,0),i=this.Mr.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(e){this.kr=e,this.docs=function(){return new Yn(Be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():Ur.newInvalidDocument(n))}getEntries(e,n){let r=da();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ur.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=da();const s=n.path,a=new Be(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||k8(P8(u),r)<=0||(i.has(u.key)||x0(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return te.resolve(o)}getAllFromCollectionGroup(e,n,r,i){qe()}qr(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tG(this)}getSize(e){return te.resolve(this.size)}}class tG extends K7{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(e){this.persistence=e,this.Qr=new kc(n=>TC(n),IC),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.$r=0,this.Ur=new NC,this.targetCount=0,this.Kr=Ed.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),te.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Ed(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.zn(n),te.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Qr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),te.waitFor(o).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),te.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new _0(0),this.zr=!1,this.zr=!0,this.jr=new J7,this.referenceDelegate=e(this),this.Hr=new nG(this),this.indexManager=new V7,this.remoteDocumentCache=function(i){return new eG(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new F7(n),this.Yr=new X7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Q7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new Z7(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){Ce("MemoryPersistence","Starting transaction:",e);const i=new rG(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,n){return te.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class rG extends O8{constructor(e){super(),this.currentSequenceNumber=e}}class MC{constructor(e){this.persistence=e,this.ti=new NC,this.ni=null}static ri(e){return new MC(e)}get ii(){if(this.ni)return this.ni;throw qe()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),te.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ii,r=>{const i=Be.fromPath(r);return this.si(e,i).next(o=>{o||n.removeEntry(i,Ze.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return te.or([()=>te.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class ov{constructor(e,n){this.persistence=e,this.oi=new kc(r=>D8(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=G7(this,n)}static ri(e,n){return new ov(e,n)}Zr(){}Xr(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return te.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?te.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,n).next(a=>{a||(r++,o.removeEntry(s,Ze.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),te.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ry(e.data.value)),n}ar(e,n,r){return te.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=Ct(),i=Ct();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new DC(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return D9()?8:N8(Wr())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.rs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new iG;return this._s(e,n,s).next(a=>{if(o.result=a,this.Xi)return this.us(e,n,s,a.size)})}).next(()=>o.result)}us(e,n,r,i){return r.documentReadCount<this.es?(du()<=wt.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",fu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),te.resolve()):(du()<=wt.DEBUG&&Ce("QueryEngine","Query:",fu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(du()<=wt.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",fu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bs(n))):te.resolve())}rs(e,n){if(BP(n))return te.resolve(null);let r=bs(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=KE(n,null,"F"),r=bs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ct(...o);return this.ns.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(n,a);return this.ls(n,c,s,l.readTime)?this.rs(e,KE(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,r,i){return BP(n)||i.isEqual(Ze.min())?te.resolve(null):this.ns.getDocuments(e,r).next(o=>{const s=this.cs(n,o);return this.ls(n,s,r,i)?te.resolve(null):(du()<=wt.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fu(n)),this.hs(e,s,n,R8(i,cp)).next(a=>a))})}cs(e,n){let r=new nr(SL(e));return n.forEach((i,o)=>{x0(e,o)&&(r=r.add(o))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,n,r){return du()<=wt.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",fu(n)),this.ns.getDocumentsMatchingQuery(e,n,dl.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="LocalStore",sG=3e8;class aG{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Yn(ht),this.Is=new kc(o=>TC(o),IC),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Y7(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function lG(t,e,n,r){return new aG(t,e,n,r)}async function qL(t,e){const n=nt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ct();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:s,addedBatchIds:a}))})})}function cG(t,e){const n=nt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,h=f.keys();let p=te.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(E=>{const x=c.docVersions.get(g);Wt(x!==null),E.version.compareTo(x)<0&&(f.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),u.addEntry(E)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ct();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function YL(t){const e=nt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function uG(t,e){const n=nt(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;a.push(n.Hr.removeMatchingKeys(o,u.removedDocuments,f).next(()=>n.Hr.addMatchingKeys(o,u.addedDocuments,f)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Tr.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(f,p),function(E,x,y){return E.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=sG?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,u)&&a.push(n.Hr.updateTargetData(o,p))});let l=da(),c=Ct();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(dG(o,s,e.documentUpdates).next(u=>{l=u.Vs,c=u.fs})),!r.isEqual(Ze.min())){const u=n.Hr.getLastRemoteSnapshotVersion(o).next(f=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return te.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ts=i,o))}function dG(t,e,n){let r=Ct(),i=Ct();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=da();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ze.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Ce($C,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:s,fs:i}})}function fG(t,e){const n=nt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=xC),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function hG(t,e){const n=nt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(o=>o?(i=o,te.resolve(i)):n.Hr.allocateTargetId(r).next(s=>(i=new Ha(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function JE(t,e,n){const r=nt(t),i=r.Ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!qd(s))throw s;Ce($C,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function JP(t,e,n){const r=nt(t);let i=Ze.min(),o=Ct();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=nt(l),h=f.Is.get(u);return h!==void 0?te.resolve(f.Ts.get(h)):f.Hr.getTargetData(c,u)}(r,s,bs(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,e,n?i:Ze.min(),n?o:Ct())).next(a=>(pG(r,e7(e),a),{documents:a,gs:o})))}function pG(t,e,n){let r=t.Es.get(e)||Ze.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Es.set(e,r)}class ZP{constructor(){this.activeTargetIds=s7()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gG{constructor(){this.ho=new ZP,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new ZP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mG{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek="ConnectivityMonitor";class tk{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ce(ek,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ce(ek,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fm=null;function ZE(){return fm===null?fm=function(){return 268435456+Math.round(2147483648*Math.random())}():fm++,"0x"+fm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="RestConnection",yG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vG{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Zy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,o){const s=ZE(),a=this.bo(e,n.toUriEncodedString());Ce(qb,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,o),this.vo(e,a,l,r).then(c=>(Ce(qb,`Received RPC '${e}' ${s}: `,c),c),c=>{throw yd(qb,`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,n,r,i,o,s){return this.So(e,n,r,i,o)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,n){const r=yG[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="WebChannelConnection";class bG extends vG{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const o=ZE();return new Promise((s,a)=>{const l=new J$;l.setWithCredentials(!0),l.listenOnce(Z$.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ny.NO_ERROR:const u=l.getResponseJson();Ce(Mr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case ny.TIMEOUT:Ce(Mr,`RPC '${e}' ${o} timed out`),a(new Re(ne.DEADLINE_EXCEEDED,"Request time out"));break;case ny.HTTP_ERROR:const f=l.getStatus();if(Ce(Mr,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const g=function(x){const y=x.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(y)>=0?y:ne.UNKNOWN}(p.status);a(new Re(g,p.message))}else a(new Re(ne.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Re(ne.UNAVAILABLE,"Connection failed."));break;default:qe()}}finally{Ce(Mr,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);Ce(Mr,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",c,r,15)})}Wo(e,n,r){const i=ZE(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=nL(),a=tL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");Ce(Mr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);let h=!1,p=!1;const g=new _G({Fo:x=>{p?Ce(Mr,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(Ce(Mr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Ce(Mr,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},Mo:()=>f.close()}),E=(x,y,b)=>{x.listen(y,_=>{try{b(_)}catch(S){setTimeout(()=>{throw S},0)}})};return E(f,rh.EventType.OPEN,()=>{p||(Ce(Mr,`RPC '${e}' stream ${i} transport opened.`),g.Qo())}),E(f,rh.EventType.CLOSE,()=>{p||(p=!0,Ce(Mr,`RPC '${e}' stream ${i} transport closed`),g.Uo())}),E(f,rh.EventType.ERROR,x=>{p||(p=!0,yd(Mr,`RPC '${e}' stream ${i} transport errored:`,x),g.Uo(new Re(ne.UNAVAILABLE,"The operation could not be completed")))}),E(f,rh.EventType.MESSAGE,x=>{var y;if(!p){const b=x.data[0];Wt(!!b);const _=b,S=(_==null?void 0:_.error)||((y=_[0])===null||y===void 0?void 0:y.error);if(S){Ce(Mr,`RPC '${e}' stream ${i} received error:`,S);const O=S.status;let N=function(R){const v=zn[R];if(v!==void 0)return $L(v)}(O),T=S.message;N===void 0&&(N=ne.INTERNAL,T="Unknown error status: "+O+" with message "+S.message),p=!0,g.Uo(new Re(N,T)),f.close()}else Ce(Mr,`RPC '${e}' stream ${i} received:`,b),g.Ko(b)}}),E(a,eL.STAT_EVENT,x=>{x.stat===BE.PROXY?Ce(Mr,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===BE.NOPROXY&&Ce(Mr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.$o()},0),g}}function Yb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t){return new S7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="PersistentStream";class QL{constructor(e,n,r,i,o,s,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new XL(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(ua(n.toString()),ua("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new Re(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ce(nk,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Ce(nk,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wG extends QL{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=I7(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ze.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ze.min():s.readTime?ws(s.readTime):Ze.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=QE(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=HE(l)?{documents:k7(o,l)}:{query:A7(o,l).ht},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=BL(o,s.resumeToken);const c=qE(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Ze.min())>0){a.readTime=iv(o,s.snapshotVersion.toTimestamp());const c=qE(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=N7(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=QE(this.serializer),n.removeTarget=e,this.I_(n)}}class EG extends QL{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Wt(!!e.streamToken),this.lastStreamToken=e.streamToken,Wt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=P7(e.writeResults,e.commitTime),r=ws(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=QE(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>R7(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{}class SG extends xG{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Re(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,YE(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(ne.UNKNOWN,o.toString())})}Co(e,n,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(e,YE(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Re(ne.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class CG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ua(n),this.N_=!1):Ce("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc="RemoteStore";class TG{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(async()=>{Ac(this)&&(Ce(vc,"Restarting streams for network reachability change."),await async function(l){const c=nt(l);c.W_.add(4),await Xp(c),c.j_.set("Unknown"),c.W_.delete(4),await P0(c)}(this))})}),this.j_=new CG(r,i)}}async function P0(t){if(Ac(t))for(const e of t.G_)await e(!0)}async function Xp(t){for(const e of t.G_)await e(!1)}function JL(t,e){const n=nt(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),VC(n)?BC(n):Yd(n).c_()&&FC(n,e))}function LC(t,e){const n=nt(t),r=Yd(n);n.K_.delete(e),r.c_()&&ZL(n,e),n.K_.size===0&&(r.c_()?r.P_():Ac(n)&&n.j_.set("Unknown"))}function FC(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yd(t).y_(e)}function ZL(t,e){t.H_.Ne(e),Yd(t).w_(e)}function BC(t){t.H_=new b7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Yd(t).start(),t.j_.B_()}function VC(t){return Ac(t)&&!Yd(t).u_()&&t.K_.size>0}function Ac(t){return nt(t).W_.size===0}function eF(t){t.H_=void 0}async function IG(t){t.j_.set("Online")}async function RG(t){t.K_.forEach((e,n)=>{FC(t,e)})}async function PG(t,e){eF(t),VC(t)?(t.j_.q_(e),BC(t)):t.j_.set("Unknown")}async function kG(t,e,n){if(t.j_.set("Online"),e instanceof FL&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.K_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.K_.delete(a),i.H_.removeTarget(a))}(t,e)}catch(r){Ce(vc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sv(t,r)}else if(e instanceof sy?t.H_.We(e):e instanceof LL?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Ze.min()))try{const r=await YL(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.H_.ot(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.K_.get(c);u&&o.K_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.K_.get(l);if(!u)return;o.K_.set(l,u.withResumeToken(Tr.EMPTY_BYTE_STRING,u.snapshotVersion)),ZL(o,l);const f=new Ha(u.target,l,c,u.sequenceNumber);FC(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ce(vc,"Failed to raise snapshot:",r),await sv(t,r)}}async function sv(t,e,n){if(!qd(e))throw e;t.W_.add(1),await Xp(t),t.j_.set("Offline"),n||(n=()=>YL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ce(vc,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await P0(t)})}function tF(t,e){return e().catch(n=>sv(t,n,e))}async function k0(t){const e=nt(t),n=gl(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:xC;for(;AG(e);)try{const i=await fG(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,OG(e,i)}catch(i){await sv(e,i)}nF(e)&&rF(e)}function AG(t){return Ac(t)&&t.U_.length<10}function OG(t,e){t.U_.push(e);const n=gl(t);n.c_()&&n.S_&&n.b_(e.mutations)}function nF(t){return Ac(t)&&!gl(t).u_()&&t.U_.length>0}function rF(t){gl(t).start()}async function NG(t){gl(t).C_()}async function MG(t){const e=gl(t);for(const n of t.U_)e.b_(n.mutations)}async function DG(t,e,n){const r=t.U_.shift(),i=kC.from(r,e,n);await tF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await k0(t)}async function $G(t,e){e&&gl(t).S_&&await async function(r,i){if(function(s){return v7(s)&&s!==ne.ABORTED}(i.code)){const o=r.U_.shift();gl(r).h_(),await tF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await k0(r)}}(t,e),nF(t)&&rF(t)}async function rk(t,e){const n=nt(t);n.asyncQueue.verifyOperationInProgress(),Ce(vc,"RemoteStore received new credentials");const r=Ac(n);n.W_.add(3),await Xp(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await P0(n)}async function LG(t,e){const n=nt(t);e?(n.W_.delete(2),await P0(n)):e||(n.W_.add(2),await Xp(n),n.j_.set("Unknown"))}function Yd(t){return t.J_||(t.J_=function(n,r,i){const o=nt(n);return o.M_(),new wG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:IG.bind(null,t),No:RG.bind(null,t),Lo:PG.bind(null,t),p_:kG.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),VC(t)?BC(t):t.j_.set("Unknown")):(await t.J_.stop(),eF(t))})),t.J_}function gl(t){return t.Y_||(t.Y_=function(n,r,i){const o=nt(n);return o.M_(),new EG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:NG.bind(null,t),Lo:$G.bind(null,t),D_:MG.bind(null,t),v_:DG.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await k0(t)):(await t.Y_.stop(),t.U_.length>0&&(Ce(vc,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new rl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new UC(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jC(t,e){if(ua("AsyncQueue",`${e}: ${t}`),qd(t))return new Re(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{static emptySet(e){return new rd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=ih(),this.sortedSet=new Yn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof rd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new rd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(){this.Z_=new Yn(Be.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):qe():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class xd{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new xd(e,n,rd.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&E0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class BG{constructor(){this.queries=ok(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=nt(n),o=i.queries;i.queries=ok(),o.forEach((s,a)=>{for(const l of a.ta)l.onError(r)})})(this,new Re(ne.ABORTED,"Firestore shutting down"))}}function ok(){return new kc(t=>xL(t),E0)}async function iF(t,e){const n=nt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new FG,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=jC(s,`Initialization of query '${fu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.ta.push(e),e.sa(n.onlineState),o.ea&&e.oa(o.ea)&&zC(n)}async function oF(t,e){const n=nt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ta.indexOf(e);s>=0&&(o.ta.splice(s,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function VG(t,e){const n=nt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.ta)a.oa(i)&&(r=!0);s.ea=i}}r&&zC(n)}function UG(t,e,n){const r=nt(t),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(e)}function zC(t){t.ia.forEach(e=>{e.next()})}var ex,sk;(sk=ex||(ex={}))._a="default",sk.Cache="cache";class sF{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new xd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=xd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ex.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e){this.key=e}}class lF{constructor(e){this.key=e}}class jG{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ct(),this.mutatedKeys=Ct(),this.ya=SL(e),this.wa=new rd(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new ik,i=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),p=x0(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;h&&p?h.data.isEqual(p.data)?g!==E&&(r.track({type:3,doc:p}),x=!0):this.va(h,p)||(r.track({type:2,doc:p}),x=!0,(l&&this.ya(p,l)>0||c&&this.ya(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),x=!0):h&&!p&&(r.track({type:1,doc:h}),x=!0,(l||c)&&(a=!0)),x&&(p?(s=s.add(p),o=E?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{wa:s,Da:r,ls:a,mutatedKeys:o}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort((u,f)=>function(p,g){const E=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe()}};return E(p)-E(g)}(u.type,f.type)||this.ya(u.doc,f.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,c=l!==this.ga;return this.ga=l,s.length!==0||c?{snapshot:new xd(this.query,e.wa,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new ik,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ct(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new lF(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new aF(r))}),n}Oa(e){this.fa=e.gs,this.pa=Ct();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return xd.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const WC="SyncEngine";class zG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class WG{constructor(e){this.key=e,this.Ba=!1}}class HG{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new kc(a=>xL(a),E0),this.qa=new Map,this.Qa=new Set,this.$a=new Yn(Be.comparator),this.Ua=new Map,this.Ka=new NC,this.Wa={},this.Ga=new Map,this.za=Ed.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function GG(t,e,n=!0){const r=pF(t);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await cF(r,e,n,!0),i}async function KG(t,e){const n=pF(t);await cF(n,e,!0,!1)}async function cF(t,e,n,r){const i=await hG(t.localStore,bs(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await qG(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&JL(t.remoteStore,i),a}async function qG(t,e,n,r,i){t.Ha=(f,h,p)=>async function(E,x,y,b){let _=x.view.ba(y);_.ls&&(_=await JP(E.localStore,x.query,!1).then(({documents:T})=>x.view.ba(T,_)));const S=b&&b.targetChanges.get(x.targetId),O=b&&b.targetMismatches.get(x.targetId)!=null,N=x.view.applyChanges(_,E.isPrimaryClient,S,O);return lk(E,x.targetId,N.Ma),N.snapshot}(t,f,h,p);const o=await JP(t.localStore,e,!0),s=new jG(e,o.gs),a=s.ba(o.documents),l=Yp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);lk(t,n,c.Ma);const u=new zG(e,n,s);return t.ka.set(e,u),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function YG(t,e,n){const r=nt(t),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!E0(s,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await JE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&LC(r.remoteStore,i.targetId),tx(r,i.targetId)}).catch(Kd)):(tx(r,i.targetId),await JE(r.localStore,i.targetId,!0))}async function XG(t,e){const n=nt(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),LC(n.remoteStore,r.targetId))}async function QG(t,e,n){const r=iK(t);try{const i=await function(s,a){const l=nt(s),c=tr.now(),u=a.reduce((p,g)=>p.add(g.key),Ct());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=da(),E=Ct();return l.ds.getEntries(p,u).next(x=>{g=x,g.forEach((y,b)=>{b.isValidDocument()||(E=E.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(x=>{f=x;const y=[];for(const b of a){const _=h7(b,f.get(b.key).overlayedDocument);_!=null&&y.push(new Ol(b.key,_,gL(_.value.mapValue),ei.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,y,a)}).next(x=>{h=x;const y=x.applyToLocalDocumentSet(f,E);return l.documentOverlayCache.saveOverlays(p,x.batchId,y)})}).then(()=>({batchId:h.batchId,changes:TL(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Wa[s.currentUser.toKey()];c||(c=new Yn(ht)),c=c.insert(a,l),s.Wa[s.currentUser.toKey()]=c}(r,i.batchId,n),await Qp(r,i.changes),await k0(r.remoteStore)}catch(i){const o=jC(i,"Failed to persist write");n.reject(o)}}async function uF(t,e){const n=nt(t);try{const r=await uG(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ua.get(o);s&&(Wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?Wt(s.Ba):i.removedDocuments.size>0&&(Wt(s.Ba),s.Ba=!1))}),await Qp(n,r,e)}catch(r){await Kd(r)}}function ak(t,e,n){const r=nt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((o,s)=>{const a=s.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=nt(s);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.ta)h.sa(a)&&(c=!0)}),c&&zC(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JG(t,e,n){const r=nt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),o=i&&i.key;if(o){let s=new Yn(Be.comparator);s=s.insert(o,Ur.newNoDocument(o,Ze.min()));const a=Ct().add(o),l=new I0(Ze.min(),new Map,new Yn(ht),s,a);await uF(r,l),r.$a=r.$a.remove(o),r.Ua.delete(e),HC(r)}else await JE(r.localStore,e,!1).then(()=>tx(r,e,n)).catch(Kd)}async function ZG(t,e){const n=nt(t),r=e.batch.batchId;try{const i=await cG(n.localStore,e);fF(n,r,null),dF(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qp(n,i)}catch(i){await Kd(i)}}async function eK(t,e,n){const r=nt(t);try{const i=await function(s,a){const l=nt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Wt(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);fF(r,e,n),dF(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qp(r,i)}catch(i){await Kd(i)}}function dF(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function fF(t,e,n){const r=nt(t);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function tx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||hF(t,r)})}function hF(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(LC(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),HC(t))}function lk(t,e,n){for(const r of n)r instanceof aF?(t.Ka.addReference(r.key,e),tK(t,r)):r instanceof lF?(Ce(WC,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||hF(t,r.key)):qe()}function tK(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(Ce(WC,"New document in limbo: "+n),t.Qa.add(r),HC(t))}function HC(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Be(pn.fromString(e)),r=t.za.next();t.Ua.set(r,new WG(n)),t.$a=t.$a.insert(n,r),JL(t.remoteStore,new Ha(bs(RC(n.path)),r,"TargetPurposeLimboResolution",_0.ae))}}async function Qp(t,e,n){const r=nt(t),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{s.push(r.Ha(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=DC.Yi(l.targetId,c);o.push(f)}}))}),await Promise.all(s),r.La.p_(i),await async function(l,c){const u=nt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>te.forEach(c,h=>te.forEach(h.Hi,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>te.forEach(h.Ji,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!qd(f))throw f;Ce($C,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.Ts.get(h),g=p.snapshotVersion,E=p.withLastLimboFreeSnapshotVersion(g);u.Ts=u.Ts.insert(h,E)}}}(r.localStore,o))}async function nK(t,e){const n=nt(t);if(!n.currentUser.isEqual(e)){Ce(WC,"User change. New user:",e.toKey());const r=await qL(n.localStore,e);n.currentUser=e,function(o,s){o.Ga.forEach(a=>{a.forEach(l=>{l.reject(new Re(ne.CANCELLED,s))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qp(n,r.Rs)}}function rK(t,e){const n=nt(t),r=n.Ua.get(e);if(r&&r.Ba)return Ct().add(r.key);{let i=Ct();const o=n.qa.get(e);if(!o)return i;for(const s of o){const a=n.ka.get(s);i=i.unionWith(a.view.Sa)}return i}}function pF(t){const e=nt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JG.bind(null,e),e.La.p_=VG.bind(null,e.eventManager),e.La.Ja=UG.bind(null,e.eventManager),e}function iK(t){const e=nt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eK.bind(null,e),e}class av{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=R0(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return lG(this.persistence,new oG,e.initialUser,this.serializer)}Xa(e){return new KL(MC.ri,this.serializer)}Za(e){return new gG}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}av.provider={build:()=>new av};class oK extends av{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Wt(this.persistence.referenceDelegate instanceof ov);const r=this.persistence.referenceDelegate.garbageCollector;return new W7(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?ui.withCacheSize(this.cacheSizeBytes):ui.DEFAULT;return new KL(r=>ov.ri(r,n),this.serializer)}}class nx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ak(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nK.bind(null,this.syncEngine),await LG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new BG}()}createDatastore(e){const n=R0(e.databaseInfo.databaseId),r=function(o){return new bG(o)}(e.databaseInfo);return function(o,s,a,l){return new SG(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new TG(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ak(this.syncEngine,n,0),function(){return tk.D()?new tk:new mG}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,u){const f=new HG(i,o,s,a,l,c);return u&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=nt(i);Ce(vc,"RemoteStore shutting down."),o.W_.add(5),await Xp(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}nx.provider={build:()=>new nx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ua("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml="FirestoreClient";class sK{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Br.UNAUTHENTICATED,this.clientId=oL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Ce(ml,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ce(ml,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jC(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Xb(t,e){t.asyncQueue.verifyOperationInProgress(),Ce(ml,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await qL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ck(t,e){t.asyncQueue.verifyOperationInProgress();const n=await aK(t);Ce(ml,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>rk(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>rk(e.remoteStore,i)),t._onlineComponents=e}async function aK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce(ml,"Using user provided OfflineComponentProvider");try{await Xb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;yd("Error using user provided cache. Falling back to memory cache: "+n),await Xb(t,new av)}}else Ce(ml,"Using default OfflineComponentProvider"),await Xb(t,new oK(void 0));return t._offlineComponents}async function mF(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce(ml,"Using user provided OnlineComponentProvider"),await ck(t,t._uninitializedComponentsProvider._online)):(Ce(ml,"Using default OnlineComponentProvider"),await ck(t,new nx))),t._onlineComponents}function lK(t){return mF(t).then(e=>e.syncEngine)}async function rx(t){const e=await mF(t),n=e.eventManager;return n.onListen=GG.bind(null,e.syncEngine),n.onUnlisten=YG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XG.bind(null,e.syncEngine),n}function cK(t,e,n={}){const r=new rl;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new gF({next:h=>{u.su(),s.enqueueAndForget(()=>oF(o,f)),h.fromCache&&l.source==="server"?c.reject(new Re(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new sF(a,u,{includeMetadataChanges:!0,Ta:!0});return iF(o,f)}(await rx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(t,e,n){if(!n)throw new Re(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uK(t,e,n,r){if(e===!0&&r===!0)throw new Re(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dk(t){if(!Be.isDocumentKey(t))throw new Re(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fk(t){if(Be.isDocumentKey(t))throw new Re(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function A0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe()}function qi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Re(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=A0(t);throw new Re(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F="firestore.googleapis.com",hk=!0;class pk{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Re(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_F,this.ssl=hk}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:hk;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<j7)throw new Re(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Re(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Re(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Re(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class O0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pk(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _8;switch(r.type){case"firstParty":return new x8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Re(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=uk.get(n);r&&(Ce("ComponentProvider","Removing Datastore"),uk.delete(n),r.terminate())}(this),Promise.resolve()}}function dK(t,e,n,r={}){var i;const o=(t=qi(t,O0))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;o.host!==_F&&o.host!==a&&yd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!sa(l,s)&&(t._setSettings(l),r.mockUserToken)){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Br.MOCK_USER;else{c=aC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Re(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Br(f)}t._authCredentials=new b8(new rL(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Oc(this.firestore,e,this._query)}}class ti{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ol(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ti(this.firestore,e,this._key)}}class ol extends Oc{constructor(e,n,r){super(e,n,RC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ti(this.firestore,null,new Be(e))}withConverter(e){return new ol(this.firestore,e,this._path)}}function ft(t,e,...n){if(t=Ht(t),vF("collection","path",e),t instanceof O0){const r=pn.fromString(e,...n);return fk(r),new ol(t,null,r)}{if(!(t instanceof ti||t instanceof ol))throw new Re(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pn.fromString(e,...n));return fk(r),new ol(t.firestore,null,r)}}function sn(t,e,...n){if(t=Ht(t),arguments.length===1&&(e=oL.newId()),vF("doc","path",e),t instanceof O0){const r=pn.fromString(e,...n);return dk(r),new ti(t,null,new Be(r))}{if(!(t instanceof ti||t instanceof ol))throw new Re(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pn.fromString(e,...n));return dk(r),new ti(t.firestore,t instanceof ol?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk="AsyncQueue";class mk{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new XL(this,"async_queue_retry"),this.Su=()=>{const r=Yb();r&&Ce(gk,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=Yb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Yb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new rl;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!qd(e))throw e;Ce(gk,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw ua("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=UC.createAndSchedule(this,e,n,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&qe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function yk(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class fa extends O0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new mk,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mk(e),this._firestoreClient=void 0,await e}}}function fK(t,e){const n=typeof t=="object"?t:g0(),r=typeof t=="string"?t:Zy,i=jp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=sC("firestore");o&&dK(i,...o)}return i}function N0(t){if(t._terminated)throw new Re(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||hK(t),t._firestoreClient}function hK(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,c,u){return new F8(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,yF(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new sK(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sd(Tr.fromBase64String(e))}catch(n){throw new Re(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sd(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Re(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Re(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Re(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ht(this._lat,e._lat)||ht(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK=/^__.*__$/;class gK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ol(e,this.data,this.fieldMask,n,this.fieldTransforms):new qp(e,this.data,n,this.fieldTransforms)}}class bF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ol(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe()}}class M0{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new M0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return lv(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(wF(this.Lu)&&pK.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class mK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||R0(e)}ju(e,n,r,i=!1){return new M0({Lu:e,methodName:n,zu:r,path:xr.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eg(t){const e=t._freezeSettings(),n=R0(t._databaseId);return new mK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qC(t,e,n,r,i,o={}){const s=t.ju(o.merge||o.mergeFields?2:0,e,n,i);QC("Data must be an object, but it was:",s,r);const a=SF(r,s);let l,c;if(o.merge)l=new zi(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const f of o.mergeFields){const h=ix(e,f,n);if(!s.contains(h))throw new Re(ne.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);TF(u,h)||u.push(h)}l=new zi(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new gK(new fi(a),l,c)}class D0 extends Zp{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof D0}}function yK(t,e,n){return new M0({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class YC extends Zp{_toFieldTransform(e){return new NL(e.path,new hp)}isEqual(e){return e instanceof YC}}class XC extends Zp{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=yK(this,e,!0),r=this.Hu.map(o=>Xd(o,n)),i=new wd(r);return new NL(e.path,i)}isEqual(e){return e instanceof XC&&sa(this.Hu,e.Hu)}}function EF(t,e,n,r){const i=t.ju(1,e,n);QC("Data must be an object, but it was:",i,r);const o=[],s=fi.empty();Al(r,(l,c)=>{const u=JC(e,l,n);c=Ht(c);const f=i.Uu(u);if(c instanceof D0)o.push(u);else{const h=Xd(c,f);h!=null&&(o.push(u),s.set(u,h))}});const a=new zi(o);return new bF(s,a,i.fieldTransforms)}function xF(t,e,n,r,i,o){const s=t.ju(1,e,n),a=[ix(e,r,n)],l=[i];if(o.length%2!=0)throw new Re(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(ix(e,o[h])),l.push(o[h+1]);const c=[],u=fi.empty();for(let h=a.length-1;h>=0;--h)if(!TF(c,a[h])){const p=a[h];let g=l[h];g=Ht(g);const E=s.Uu(p);if(g instanceof D0)c.push(p);else{const x=Xd(g,E);x!=null&&(c.push(p),u.set(p,x))}}const f=new zi(c);return new bF(u,f,s.fieldTransforms)}function vK(t,e,n,r=!1){return Xd(n,t.ju(r?4:3,e))}function Xd(t,e){if(CF(t=Ht(t)))return QC("Unsupported field value:",e,t),SF(t,e);if(t instanceof Zp)return function(r,i){if(!wF(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Xd(a,i.Ku(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return a7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=tr.fromDate(r);return{timestampValue:iv(i.serializer,o)}}if(r instanceof tr){const o=new tr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:iv(i.serializer,o)}}if(r instanceof GC)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sd)return{bytesValue:BL(i.serializer,r._byteString)};if(r instanceof ti){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:OC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof KC)return function(s,a){return{mapValue:{fields:{[hL]:{stringValue:pL},[ev]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return PC(a.serializer,c)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${A0(r)}`)}(t,e)}function SF(t,e){const n={};return aL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Al(t,(r,i)=>{const o=Xd(i,e.qu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function CF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tr||t instanceof GC||t instanceof Sd||t instanceof ti||t instanceof Zp||t instanceof KC)}function QC(t,e,n){if(!CF(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=A0(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function ix(t,e,n){if((e=Ht(e))instanceof Jp)return e._internalPath;if(typeof e=="string")return JC(t,e);throw lv("Field path arguments must be of type string or ",t,!1,void 0,n)}const _K=new RegExp("[~\\*/\\[\\]]");function JC(t,e,n){if(e.search(_K)>=0)throw lv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jp(...e.split("."))._internalPath}catch{throw lv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lv(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Re(ne.INVALID_ARGUMENT,a+t+l)}function TF(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ti(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ZC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bK extends IF{data(){return super.data()}}function ZC(t,e){return typeof e=="string"?JC(t,e):e instanceof Jp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Re(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eT{}class wK extends eT{}function Lr(t,e,...n){let r=[];e instanceof eT&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof tT).length,a=o.filter(l=>l instanceof $0).length;if(s>1||s>0&&a>0)throw new Re(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class $0 extends wK{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $0(e,n,r)}_apply(e){const n=this._parse(e);return PF(e._query,n),new Oc(e.firestore,e.converter,GE(e._query,n))}_parse(e){const n=eg(e.firestore);return function(o,s,a,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Re(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){_k(f,u);const g=[];for(const E of f)g.push(vk(l,o,E));h={arrayValue:{values:g}}}else h=vk(l,o,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||_k(f,u),h=vK(a,s,f,u==="in"||u==="not-in");return qn.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Di(t,e,n){const r=e,i=ZC("where",t);return $0._create(i,r,n)}class tT extends eT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tT(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Yo.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)PF(s,l),s=GE(s,l)}(e._query,n),new Oc(e.firestore,e.converter,GE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function vk(t,e,n){if(typeof(n=Ht(n))=="string"){if(n==="")throw new Re(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EL(e)&&n.indexOf("/")!==-1)throw new Re(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pn.fromString(n));if(!Be.isDocumentKey(r))throw new Re(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return NP(t,new Be(r))}if(n instanceof ti)return NP(t,n._key);throw new Re(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${A0(n)}.`)}function _k(t,e){if(!Array.isArray(t)||t.length===0)throw new Re(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PF(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Re(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class EK{convertValue(e,n="none"){switch(pl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw qe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Al(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[ev].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ln(s.doubleValue));return new KC(o)}convertGeoPoint(e){return new GC(Ln(e.latitude),Ln(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=w0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(up(e));default:return null}}convertTimestamp(e){const n=fl(e);return new tr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pn.fromString(e);Wt(HL(r));const i=new dp(r.get(1),r.get(3)),o=new Be(r.popFirst(5));return i.isEqual(n)||ua(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kF extends IF{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ay(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ZC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ay extends kF{data(e={}){return super.data(e)}}class AF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new sh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ay(this._firestore,this._userDataWriter,r.key,r,new sh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Re(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new ay(i._firestore,i._userDataWriter,a.doc.key,a.doc,new sh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new ay(i._firestore,i._userDataWriter,a.doc.key,a.doc,new sh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:xK(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe()}}class rT extends EK{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ti(this.firestore,null,n)}}function $i(t){t=qi(t,Oc);const e=qi(t.firestore,fa),n=N0(e),r=new rT(e);return RF(t._query),cK(n,t._query).then(i=>new AF(e,r,t,i))}function bk(t,e,n){t=qi(t,ti);const r=qi(t.firestore,fa),i=nT(t.converter,e,n);return tg(r,[qC(eg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ei.none())])}function gu(t,e,n,...r){t=qi(t,ti);const i=qi(t.firestore,fa),o=eg(i);let s;return s=typeof(e=Ht(e))=="string"||e instanceof Jp?xF(o,"updateDoc",t._key,e,n,r):EF(o,"updateDoc",t._key,e),tg(i,[s.toMutation(t._key,ei.exists(!0))])}function OF(t){return tg(qi(t.firestore,fa),[new T0(t._key,ei.none())])}function Fr(t,e){const n=qi(t.firestore,fa),r=sn(t),i=nT(t.converter,e);return tg(n,[qC(eg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ei.exists(!1))]).then(()=>r)}function Ih(t,...e){var n,r,i;t=Ht(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||yk(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(yk(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,u;if(t instanceof ti)c=qi(t.firestore,fa),u=RC(t._key.path),l={next:f=>{e[s]&&e[s](SK(c,t,f))},error:e[s+1],complete:e[s+2]};else{const f=qi(t,Oc);c=qi(f.firestore,fa),u=f._query;const h=new rT(c);l={next:p=>{e[s]&&e[s](new AF(c,h,f,p))},error:e[s+1],complete:e[s+2]},RF(t._query)}return function(h,p,g,E){const x=new gF(E),y=new sF(p,x,g);return h.asyncQueue.enqueueAndForget(async()=>iF(await rx(h),y)),()=>{x.su(),h.asyncQueue.enqueueAndForget(async()=>oF(await rx(h),y))}}(N0(c),u,a,l)}function tg(t,e){return function(r,i){const o=new rl;return r.asyncQueue.enqueueAndForget(async()=>QG(await lK(r),i,o)),o.promise}(N0(t),e)}function SK(t,e,n){const r=n.docs.get(e._key),i=new rT(t);return new kF(t,i,e._key,r,new sh(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CK{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=eg(e)}set(e,n,r){this._verifyNotCommitted();const i=Qb(e,this._firestore),o=nT(i.converter,n,r),s=qC(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,ei.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Qb(e,this._firestore);let s;return s=typeof(n=Ht(n))=="string"||n instanceof Jp?xF(this._dataReader,"WriteBatch.update",o._key,n,r,i):EF(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,ei.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Qb(e,this._firestore);return this._mutations=this._mutations.concat(new T0(n._key,ei.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qb(t,e){if((t=Ht(t)).firestore!==e)throw new Re(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function cv(){return new YC("serverTimestamp")}function TK(...t){return new XC("arrayUnion",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t){return N0(t=qi(t,fa)),new CK(t,e=>tg(t,e))}(function(e,n=!0){(function(i){Gd=i})(Il),ul(new aa("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new fa(new w8(r.getProvider("auth-internal")),new S8(s,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Re(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dp(c.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),yo(wP,EP,e),yo(wP,EP,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF="firebasestorage.googleapis.com",MF="storageBucket",IK=2*60*1e3,RK=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn extends As{constructor(e,n,r=0){super(Jb(e),`Firebase Storage: ${n} (${Jb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Dn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Jb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Mn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Mn||(Mn={}));function Jb(t){return"storage/"+t}function iT(){const t="An unknown error occurred, please check the error payload for server response.";return new Dn(Mn.UNKNOWN,t)}function PK(t){return new Dn(Mn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function kK(t){return new Dn(Mn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function AK(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Dn(Mn.UNAUTHENTICATED,t)}function OK(){return new Dn(Mn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function NK(t){return new Dn(Mn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function MK(){return new Dn(Mn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DK(){return new Dn(Mn.CANCELED,"User canceled the upload/download.")}function $K(t){return new Dn(Mn.INVALID_URL,"Invalid URL '"+t+"'.")}function LK(t){return new Dn(Mn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function FK(){return new Dn(Mn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+MF+"' property when initializing the app?")}function BK(){return new Dn(Mn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function VK(){return new Dn(Mn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function UK(t){return new Dn(Mn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ox(t){return new Dn(Mn.INVALID_ARGUMENT,t)}function DF(){return new Dn(Mn.APP_DELETED,"The Firebase app was deleted.")}function jK(t){return new Dn(Mn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rh(t,e){return new Dn(Mn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Df(t){throw new Dn(Mn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Wi.makeFromUrl(e,n)}catch{return new Wi(e,"")}if(r.path==="")return r;throw LK(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},E=n===NF?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",y=new RegExp(`^https?://${E}/${i}/${x}`,"i"),_=[{regex:a,indices:l,postModify:o},{regex:p,indices:g,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<_.length;S++){const O=_[S],N=O.regex.exec(e);if(N){const T=N[O.indices.bucket];let I=N[O.indices.path];I||(I=""),r=new Wi(T,I),O.postModify(r);break}}if(r==null)throw $K(e);return r}}class zK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WK(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let c=!1;function u(...x){c||(c=!0,e.apply(null,x))}function f(x){i=setTimeout(()=>{i=null,t(p,l())},x)}function h(){o&&clearTimeout(o)}function p(x,...y){if(c){h();return}if(x){h(),u.call(null,x,...y);return}if(l()||s){h(),u.call(null,x,...y);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,f(_)}let g=!1;function E(x){g||(g=!0,h(),!c&&(i!==null?(x||(a=2),clearTimeout(i),f(0)):x||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,E(!0)},n),E}function HK(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GK(t){return t!==void 0}function KK(t){return typeof t=="object"&&!Array.isArray(t)}function oT(t){return typeof t=="string"||t instanceof String}function wk(t){return sT()&&t instanceof Blob}function sT(){return typeof Blob<"u"}function Ek(t,e,n,r){if(r<e)throw ox(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ox(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function $F(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ac;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ac||(ac={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qK(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YK{constructor(e,n,r,i,o,s,a,l,c,u,f,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new hm(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===ac.NO_ERROR,l=o.getStatus();if(!a||qK(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===ac.ABORT;r(!1,new hm(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new hm(c,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());GK(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=iT();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?DF():DK();s(l)}else{const l=MK();s(l)}};this.canceled_?n(!1,new hm(!1,null,!0)):this.backoffId_=WK(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&HK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function XK(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function QK(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JK(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ZK(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function eq(t,e,n,r,i,o,s=!0){const a=$F(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return JK(c,e),XK(c,n),QK(c,o),ZK(c,r),new YK(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function nq(...t){const e=tq();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(sT())return new Blob(t);throw new Dn(Mn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function rq(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iq(t){if(typeof atob>"u")throw UK("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Zb{constructor(e,n){this.data=e,this.contentType=n||null}}function oq(t,e){switch(t){case ms.RAW:return new Zb(LF(e));case ms.BASE64:case ms.BASE64URL:return new Zb(FF(t,e));case ms.DATA_URL:return new Zb(aq(e),lq(e))}throw iT()}function LF(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function sq(t){let e;try{e=decodeURIComponent(t)}catch{throw Rh(ms.DATA_URL,"Malformed data URL.")}return LF(e)}function FF(t,e){switch(t){case ms.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Rh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ms.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Rh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=iq(e)}catch(i){throw i.message.includes("polyfill")?i:Rh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class BF{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Rh(ms.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=cq(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function aq(t){const e=new BF(t);return e.base64?FF(ms.BASE64,e.rest):sq(e.rest)}function lq(t){return new BF(t).contentType}function cq(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n){let r=0,i="";wk(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(wk(this.data_)){const r=this.data_,i=rq(r,e,n);return i===null?null:new Ba(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ba(r,!0)}}static getBlob(...e){if(sT()){const n=e.map(r=>r instanceof Ba?r.data_:r);return new Ba(nq.apply(null,n))}else{const n=e.map(s=>oT(s)?oq(ms.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Ba(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(t){let e;try{e=JSON.parse(t)}catch{return null}return KK(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uq(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function dq(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function UF(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(t,e){return e}class qr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||fq}}let pm=null;function hq(t){return!oT(t)||t.length<2?t:UF(t)}function jF(){if(pm)return pm;const t=[];t.push(new qr("bucket")),t.push(new qr("generation")),t.push(new qr("metageneration")),t.push(new qr("name","fullPath",!0));function e(o,s){return hq(s)}const n=new qr("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new qr("size");return i.xform=r,t.push(i),t.push(new qr("timeCreated")),t.push(new qr("updated")),t.push(new qr("md5Hash",null,!0)),t.push(new qr("cacheControl",null,!0)),t.push(new qr("contentDisposition",null,!0)),t.push(new qr("contentEncoding",null,!0)),t.push(new qr("contentLanguage",null,!0)),t.push(new qr("contentType",null,!0)),t.push(new qr("metadata","customMetadata",!0)),pm=t,pm}function pq(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Wi(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function gq(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return pq(r,t),r}function zF(t,e,n){const r=VF(e);return r===null?null:gq(t,r,n)}function mq(t,e,n,r){const i=VF(e);if(i===null||!oT(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const u=t.bucket,f=t.fullPath,h="/b/"+s(u)+"/o/"+s(f),p=aT(h,n,r),g=$F({alt:"media",token:c});return p+g})[0]}function yq(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class WF{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(t){if(!t)throw iT()}function vq(t,e){function n(r,i){const o=zF(t,i,e);return HF(o!==null),o}return n}function _q(t,e){function n(r,i){const o=zF(t,i,e);return HF(o!==null),mq(o,i,t.host,t._protocol)}return n}function GF(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=OK():i=AK():n.getStatus()===402?i=kK(t.bucket):n.getStatus()===403?i=NK(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function bq(t){const e=GF(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=PK(t.path)),o.serverResponse=i.serverResponse,o}return n}function wq(t,e,n){const r=e.fullServerUrl(),i=aT(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new WF(i,o,_q(t,n),s);return a.errorHandler=bq(e),a}function Eq(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function xq(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Eq(null,e)),r}function Sq(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let S=0;S<2;S++)_=_+Math.random().toString().slice(2);return _}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const c=xq(e,r,i),u=yq(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Ba.getBlob(f,r,h);if(p===null)throw BK();const g={name:c.fullPath},E=aT(o,t.host,t._protocol),x="POST",y=t.maxUploadRetryTime,b=new WF(E,x,vq(t,n),y);return b.urlParams=g,b.headers=s,b.body=p.uploadData(),b.errorHandler=GF(e),b}class Cq{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ac.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ac.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ac.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Df("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Df("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Df("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Df("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Df("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Tq extends Cq{initXhr(){this.xhr_.responseType="text"}}function KF(){return new Tq}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this._service=e,n instanceof Wi?this._location=n:this._location=Wi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _c(e,n)}get root(){const e=new Wi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return UF(this._location.path)}get storage(){return this._service}get parent(){const e=uq(this._location.path);if(e===null)return null;const n=new Wi(this._location.bucket,e);return new _c(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw jK(e)}}function Iq(t,e,n){t._throwIfRoot("uploadBytes");const r=Sq(t.storage,t._location,jF(),new Ba(e,!0),n);return t.storage.makeRequestWithTokens(r,KF).then(i=>({metadata:i,ref:t}))}function Rq(t){t._throwIfRoot("getDownloadURL");const e=wq(t.storage,t._location,jF());return t.storage.makeRequestWithTokens(e,KF).then(n=>{if(n===null)throw VK();return n})}function Pq(t,e){const n=dq(t._location.path,e),r=new Wi(t._location.bucket,n);return new _c(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kq(t){return/^[A-Za-z]+:\/\//.test(t)}function Aq(t,e){return new _c(t,e)}function qF(t,e){if(t instanceof lT){const n=t;if(n._bucket==null)throw FK();const r=new _c(n,n._bucket);return e!=null?qF(r,e):r}else return e!==void 0?Pq(t,e):t}function Oq(t,e){if(e&&kq(e)){if(t instanceof lT)return Aq(t,e);throw ox("To use ref(service, url), the first argument must be a Storage instance.")}else return qF(t,e)}function xk(t,e){const n=e==null?void 0:e[MF];return n==null?null:Wi.makeFromBucketSpec(n,t)}function Nq(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:aC(i,t.app.options.projectId))}class lT{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=NF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=IK,this._maxUploadRetryTime=RK,this._requests=new Set,i!=null?this._bucket=Wi.makeFromBucketSpec(i,this._host):this._bucket=xk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wi.makeFromBucketSpec(this._url,e):this._bucket=xk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ek("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ek("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _c(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new zK(DF());{const s=eq(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Sk="@firebase/storage",Ck="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF="storage";function Tk(t,e,n){return t=Ht(t),Iq(t,e,n)}function Ik(t){return t=Ht(t),Rq(t)}function Rk(t,e){return t=Ht(t),Oq(t,e)}function Mq(t=g0(),e){t=Ht(t);const r=jp(t,YF).getImmediate({identifier:e}),i=sC("storage");return i&&Dq(r,...i),r}function Dq(t,e,n,r={}){Nq(t,e,n,r)}function $q(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new lT(n,r,i,e,Il)}function Lq(){ul(new aa(YF,$q,"PUBLIC").setMultipleInstances(!0)),yo(Sk,Ck,""),yo(Sk,Ck,"esm2017")}Lq();const Fq={apiKey:"AIzaSyBwhJVoZ2nKnGrl9VJ7D6GXpcUha2IRN08",authDomain:"notetaker-f71ae.firebaseapp.com",databaseURL:"https://notetaker-f71ae-default-rtdb.firebaseio.com",projectId:"notetaker-f71ae",storageBucket:"notetaker-f71ae.firebasestorage.app",messagingSenderId:"466022334149",appId:"1:466022334149:web:bb9e6830f35a4b94b73aac",measurementId:"G-ZH0WYZKWKN"},cT=g$(Fq),lc=y8(cT),be=fK(cT),Pk=Mq(cT),gp={black:"#000",white:"#fff"},tu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},nu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},ru={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},iu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},ou={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},$f={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Bq={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function ha(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const L0="$$material";function uv(){return uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uv.apply(null,arguments)}function Vq(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Uq(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var jq=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Uq(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Vq(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),$r="-ms-",dv="-moz-",Vt="-webkit-",XF="comm",uT="rule",dT="decl",zq="@import",QF="@keyframes",Wq="@layer",Hq=Math.abs,F0=String.fromCharCode,Gq=Object.assign;function Kq(t,e){return Er(t,0)^45?(((e<<2^Er(t,0))<<2^Er(t,1))<<2^Er(t,2))<<2^Er(t,3):0}function JF(t){return t.trim()}function qq(t,e){return(t=e.exec(t))?t[0]:t}function Ut(t,e,n){return t.replace(e,n)}function sx(t,e){return t.indexOf(e)}function Er(t,e){return t.charCodeAt(e)|0}function mp(t,e,n){return t.slice(e,n)}function fs(t){return t.length}function fT(t){return t.length}function gm(t,e){return e.push(t),t}function Yq(t,e){return t.map(e).join("")}var B0=1,Cd=1,ZF=0,xi=0,Gn=0,Qd="";function V0(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:B0,column:Cd,length:s,return:""}}function Lf(t,e){return Gq(V0("",null,null,"",null,null,0),t,{length:-t.length},e)}function Xq(){return Gn}function Qq(){return Gn=xi>0?Er(Qd,--xi):0,Cd--,Gn===10&&(Cd=1,B0--),Gn}function Yi(){return Gn=xi<ZF?Er(Qd,xi++):0,Cd++,Gn===10&&(Cd=1,B0++),Gn}function Es(){return Er(Qd,xi)}function ly(){return xi}function ng(t,e){return mp(Qd,t,e)}function yp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function e5(t){return B0=Cd=1,ZF=fs(Qd=t),xi=0,[]}function t5(t){return Qd="",t}function cy(t){return JF(ng(xi-1,ax(t===91?t+2:t===40?t+1:t)))}function Jq(t){for(;(Gn=Es())&&Gn<33;)Yi();return yp(t)>2||yp(Gn)>3?"":" "}function Zq(t,e){for(;--e&&Yi()&&!(Gn<48||Gn>102||Gn>57&&Gn<65||Gn>70&&Gn<97););return ng(t,ly()+(e<6&&Es()==32&&Yi()==32))}function ax(t){for(;Yi();)switch(Gn){case t:return xi;case 34:case 39:t!==34&&t!==39&&ax(Gn);break;case 40:t===41&&ax(t);break;case 92:Yi();break}return xi}function eY(t,e){for(;Yi()&&t+Gn!==57;)if(t+Gn===84&&Es()===47)break;return"/*"+ng(e,xi-1)+"*"+F0(t===47?t:Yi())}function tY(t){for(;!yp(Es());)Yi();return ng(t,xi)}function nY(t){return t5(uy("",null,null,null,[""],t=e5(t),0,[0],t))}function uy(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,f=s,h=0,p=0,g=0,E=1,x=1,y=1,b=0,_="",S=i,O=o,N=r,T=_;x;)switch(g=b,b=Yi()){case 40:if(g!=108&&Er(T,f-1)==58){sx(T+=Ut(cy(b),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:T+=cy(b);break;case 9:case 10:case 13:case 32:T+=Jq(g);break;case 92:T+=Zq(ly()-1,7);continue;case 47:switch(Es()){case 42:case 47:gm(rY(eY(Yi(),ly()),e,n),l);break;default:T+="/"}break;case 123*E:a[c++]=fs(T)*y;case 125*E:case 59:case 0:switch(b){case 0:case 125:x=0;case 59+u:y==-1&&(T=Ut(T,/\f/g,"")),p>0&&fs(T)-f&&gm(p>32?Ak(T+";",r,n,f-1):Ak(Ut(T," ","")+";",r,n,f-2),l);break;case 59:T+=";";default:if(gm(N=kk(T,e,n,c,u,i,a,_,S=[],O=[],f),o),b===123)if(u===0)uy(T,e,N,N,S,o,f,a,O);else switch(h===99&&Er(T,3)===110?100:h){case 100:case 108:case 109:case 115:uy(t,N,N,r&&gm(kk(t,N,N,0,0,i,a,_,i,S=[],f),O),i,O,f,a,r?S:O);break;default:uy(T,N,N,N,[""],O,0,a,O)}}c=u=p=0,E=y=1,_=T="",f=s;break;case 58:f=1+fs(T),p=g;default:if(E<1){if(b==123)--E;else if(b==125&&E++==0&&Qq()==125)continue}switch(T+=F0(b),b*E){case 38:y=u>0?1:(T+="\f",-1);break;case 44:a[c++]=(fs(T)-1)*y,y=1;break;case 64:Es()===45&&(T+=cy(Yi())),h=Es(),u=f=fs(_=T+=tY(ly())),b++;break;case 45:g===45&&fs(T)==2&&(E=0)}}return o}function kk(t,e,n,r,i,o,s,a,l,c,u){for(var f=i-1,h=i===0?o:[""],p=fT(h),g=0,E=0,x=0;g<r;++g)for(var y=0,b=mp(t,f+1,f=Hq(E=s[g])),_=t;y<p;++y)(_=JF(E>0?h[y]+" "+b:Ut(b,/&\f/g,h[y])))&&(l[x++]=_);return V0(t,e,n,i===0?uT:a,l,c,u)}function rY(t,e,n){return V0(t,e,n,XF,F0(Xq()),mp(t,2,-2),0)}function Ak(t,e,n,r){return V0(t,e,n,dT,mp(t,0,r),mp(t,r+1,-1),r)}function id(t,e){for(var n="",r=fT(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function iY(t,e,n,r){switch(t.type){case Wq:if(t.children.length)break;case zq:case dT:return t.return=t.return||t.value;case XF:return"";case QF:return t.return=t.value+"{"+id(t.children,r)+"}";case uT:t.value=t.props.join(",")}return fs(n=id(t.children,r))?t.return=t.value+"{"+n+"}":""}function oY(t){var e=fT(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function sY(t){return function(e){e.root||(e=e.return)&&t(e)}}function n5(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var aY=function(e,n,r){for(var i=0,o=0;i=o,o=Es(),i===38&&o===12&&(n[r]=1),!yp(o);)Yi();return ng(e,xi)},lY=function(e,n){var r=-1,i=44;do switch(yp(i)){case 0:i===38&&Es()===12&&(n[r]=1),e[r]+=aY(xi-1,n,r);break;case 2:e[r]+=cy(i);break;case 4:if(i===44){e[++r]=Es()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=F0(i)}while(i=Yi());return e},cY=function(e,n){return t5(lY(e5(e),n))},Ok=new WeakMap,uY=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Ok.get(r))&&!i){Ok.set(e,!0);for(var o=[],s=cY(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},dY=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function r5(t,e){switch(Kq(t,e)){case 5103:return Vt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Vt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Vt+t+dv+t+$r+t+t;case 6828:case 4268:return Vt+t+$r+t+t;case 6165:return Vt+t+$r+"flex-"+t+t;case 5187:return Vt+t+Ut(t,/(\w+).+(:[^]+)/,Vt+"box-$1$2"+$r+"flex-$1$2")+t;case 5443:return Vt+t+$r+"flex-item-"+Ut(t,/flex-|-self/,"")+t;case 4675:return Vt+t+$r+"flex-line-pack"+Ut(t,/align-content|flex-|-self/,"")+t;case 5548:return Vt+t+$r+Ut(t,"shrink","negative")+t;case 5292:return Vt+t+$r+Ut(t,"basis","preferred-size")+t;case 6060:return Vt+"box-"+Ut(t,"-grow","")+Vt+t+$r+Ut(t,"grow","positive")+t;case 4554:return Vt+Ut(t,/([^-])(transform)/g,"$1"+Vt+"$2")+t;case 6187:return Ut(Ut(Ut(t,/(zoom-|grab)/,Vt+"$1"),/(image-set)/,Vt+"$1"),t,"")+t;case 5495:case 3959:return Ut(t,/(image-set\([^]*)/,Vt+"$1$`$1");case 4968:return Ut(Ut(t,/(.+:)(flex-)?(.*)/,Vt+"box-pack:$3"+$r+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Vt+t+t;case 4095:case 3583:case 4068:case 2532:return Ut(t,/(.+)-inline(.+)/,Vt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(fs(t)-1-e>6)switch(Er(t,e+1)){case 109:if(Er(t,e+4)!==45)break;case 102:return Ut(t,/(.+:)(.+)-([^]+)/,"$1"+Vt+"$2-$3$1"+dv+(Er(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~sx(t,"stretch")?r5(Ut(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Er(t,e+1)!==115)break;case 6444:switch(Er(t,fs(t)-3-(~sx(t,"!important")&&10))){case 107:return Ut(t,":",":"+Vt)+t;case 101:return Ut(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Vt+(Er(t,14)===45?"inline-":"")+"box$3$1"+Vt+"$2$3$1"+$r+"$2box$3")+t}break;case 5936:switch(Er(t,e+11)){case 114:return Vt+t+$r+Ut(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Vt+t+$r+Ut(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Vt+t+$r+Ut(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Vt+t+$r+t+t}return t}var fY=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case dT:e.return=r5(e.value,e.length);break;case QF:return id([Lf(e,{value:Ut(e.value,"@","@"+Vt)})],i);case uT:if(e.length)return Yq(e.props,function(o){switch(qq(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return id([Lf(e,{props:[Ut(o,/:(read-\w+)/,":"+dv+"$1")]})],i);case"::placeholder":return id([Lf(e,{props:[Ut(o,/:(plac\w+)/,":"+Vt+"input-$1")]}),Lf(e,{props:[Ut(o,/:(plac\w+)/,":"+dv+"$1")]}),Lf(e,{props:[Ut(o,/:(plac\w+)/,$r+"input-$1")]})],i)}return""})}},hY=[fY],pY=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(E){var x=E.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(E),E.setAttribute("data-s",""))})}var i=e.stylisPlugins||hY,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(E){for(var x=E.getAttribute("data-emotion").split(" "),y=1;y<x.length;y++)o[x[y]]=!0;a.push(E)});var l,c=[uY,dY];{var u,f=[iY,sY(function(E){u.insert(E)})],h=oY(c.concat(i,f)),p=function(x){return id(nY(x),h)};l=function(x,y,b,_){u=b,p(x?x+"{"+y.styles+"}":y.styles),_&&(g.inserted[y.name]=!0)}}var g={key:n,sheet:new jq({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return g.sheet.hydrate(a),g},i5={exports:{}},qt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hr=typeof Symbol=="function"&&Symbol.for,hT=hr?Symbol.for("react.element"):60103,pT=hr?Symbol.for("react.portal"):60106,U0=hr?Symbol.for("react.fragment"):60107,j0=hr?Symbol.for("react.strict_mode"):60108,z0=hr?Symbol.for("react.profiler"):60114,W0=hr?Symbol.for("react.provider"):60109,H0=hr?Symbol.for("react.context"):60110,gT=hr?Symbol.for("react.async_mode"):60111,G0=hr?Symbol.for("react.concurrent_mode"):60111,K0=hr?Symbol.for("react.forward_ref"):60112,q0=hr?Symbol.for("react.suspense"):60113,gY=hr?Symbol.for("react.suspense_list"):60120,Y0=hr?Symbol.for("react.memo"):60115,X0=hr?Symbol.for("react.lazy"):60116,mY=hr?Symbol.for("react.block"):60121,yY=hr?Symbol.for("react.fundamental"):60117,vY=hr?Symbol.for("react.responder"):60118,_Y=hr?Symbol.for("react.scope"):60119;function no(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case hT:switch(t=t.type,t){case gT:case G0:case U0:case z0:case j0:case q0:return t;default:switch(t=t&&t.$$typeof,t){case H0:case K0:case X0:case Y0:case W0:return t;default:return e}}case pT:return e}}}function o5(t){return no(t)===G0}qt.AsyncMode=gT;qt.ConcurrentMode=G0;qt.ContextConsumer=H0;qt.ContextProvider=W0;qt.Element=hT;qt.ForwardRef=K0;qt.Fragment=U0;qt.Lazy=X0;qt.Memo=Y0;qt.Portal=pT;qt.Profiler=z0;qt.StrictMode=j0;qt.Suspense=q0;qt.isAsyncMode=function(t){return o5(t)||no(t)===gT};qt.isConcurrentMode=o5;qt.isContextConsumer=function(t){return no(t)===H0};qt.isContextProvider=function(t){return no(t)===W0};qt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===hT};qt.isForwardRef=function(t){return no(t)===K0};qt.isFragment=function(t){return no(t)===U0};qt.isLazy=function(t){return no(t)===X0};qt.isMemo=function(t){return no(t)===Y0};qt.isPortal=function(t){return no(t)===pT};qt.isProfiler=function(t){return no(t)===z0};qt.isStrictMode=function(t){return no(t)===j0};qt.isSuspense=function(t){return no(t)===q0};qt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===U0||t===G0||t===z0||t===j0||t===q0||t===gY||typeof t=="object"&&t!==null&&(t.$$typeof===X0||t.$$typeof===Y0||t.$$typeof===W0||t.$$typeof===H0||t.$$typeof===K0||t.$$typeof===yY||t.$$typeof===vY||t.$$typeof===_Y||t.$$typeof===mY)};qt.typeOf=no;i5.exports=qt;var bY=i5.exports,s5=bY,wY={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},EY={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a5={};a5[s5.ForwardRef]=wY;a5[s5.Memo]=EY;var xY=!0;function l5(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var mT=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||xY===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},yT=function(e,n,r){mT(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function SY(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var CY={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},TY=/[A-Z]|^ms/g,IY=/_EMO_([^_]+?)_([^]*?)_EMO_/g,c5=function(e){return e.charCodeAt(1)===45},Nk=function(e){return e!=null&&typeof e!="boolean"},ew=n5(function(t){return c5(t)?t:t.replace(TY,"-$&").toLowerCase()}),Mk=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(IY,function(r,i,o){return hs={name:i,styles:o,next:hs},i})}return CY[e]!==1&&!c5(e)&&typeof n=="number"&&n!==0?n+"px":n};function vp(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return hs={name:i.name,styles:i.styles,next:hs},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)hs={name:s.name,styles:s.styles,next:hs},s=s.next;var a=o.styles+";";return a}return RY(t,e,n)}case"function":{if(t!==void 0){var l=hs,c=n(t);return hs=l,vp(t,e,c)}break}}var u=n;if(e==null)return u;var f=e[u];return f!==void 0?f:u}function RY(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=vp(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":Nk(a)&&(r+=ew(o)+":"+Mk(o,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)Nk(s[l])&&(r+=ew(o)+":"+Mk(o,s[l])+";");else{var c=vp(t,e,s);switch(o){case"animation":case"animationName":{r+=ew(o)+":"+c+";";break}default:r+=o+"{"+c+"}"}}}return r}var Dk=/label:\s*([^\s;{]+)\s*(;|$)/g,hs;function rg(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";hs=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=vp(n,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=vp(n,e,t[a]),r){var l=o;i+=l[a]}Dk.lastIndex=0;for(var c="",u;(u=Dk.exec(i))!==null;)c+="-"+u[1];var f=SY(i)+c;return{name:f,styles:i,next:hs}}var PY=function(e){return e()},u5=Nw.useInsertionEffect?Nw.useInsertionEffect:!1,d5=u5||PY,$k=u5||w.useLayoutEffect,f5=w.createContext(typeof HTMLElement<"u"?pY({key:"css"}):null);f5.Provider;var vT=function(e){return w.forwardRef(function(n,r){var i=w.useContext(f5);return e(n,i,r)})},Q0=w.createContext({}),_T={}.hasOwnProperty,lx="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",kY=function(e,n){var r={};for(var i in n)_T.call(n,i)&&(r[i]=n[i]);return r[lx]=e,r},AY=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return mT(n,r,i),d5(function(){return yT(n,r,i)}),null},OY=vT(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[lx],o=[r],s="";typeof t.className=="string"?s=l5(e.registered,o,t.className):t.className!=null&&(s=t.className+" ");var a=rg(o,void 0,w.useContext(Q0));s+=e.key+"-"+a.name;var l={};for(var c in t)_T.call(t,c)&&c!=="css"&&c!==lx&&(l[c]=t[c]);return l.className=s,n&&(l.ref=n),w.createElement(w.Fragment,null,w.createElement(AY,{cache:e,serialized:a,isStringTag:typeof i=="string"}),w.createElement(i,l))}),NY=OY,Lk=function(e,n){var r=arguments;if(n==null||!_T.call(n,"css"))return w.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=NY,o[1]=kY(e,n);for(var s=2;s<i;s++)o[s]=r[s];return w.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Lk||(Lk={}));var MY=vT(function(t,e){var n=t.styles,r=rg([n],void 0,w.useContext(Q0)),i=w.useRef();return $k(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),$k(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&yT(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function bT(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return rg(e)}function ig(){var t=bT.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var DY=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,$Y=n5(function(t){return DY.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),LY=$Y,FY=function(e){return e!=="theme"},Fk=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?LY:FY},Bk=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},BY=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return mT(n,r,i),d5(function(){return yT(n,r,i)}),null},VY=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=Bk(e,n,r),l=a||Fk(i),c=!l("as");return function(){var u=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)f.push.apply(f,u);else{var h=u[0];f.push(h[0]);for(var p=u.length,g=1;g<p;g++)f.push(u[g],h[g])}var E=vT(function(x,y,b){var _=c&&x.as||i,S="",O=[],N=x;if(x.theme==null){N={};for(var T in x)N[T]=x[T];N.theme=w.useContext(Q0)}typeof x.className=="string"?S=l5(y.registered,O,x.className):x.className!=null&&(S=x.className+" ");var I=rg(f.concat(O),y.registered,N);S+=y.key+"-"+I.name,s!==void 0&&(S+=" "+s);var R=c&&a===void 0?Fk(_):l,v={};for(var k in x)c&&k==="as"||R(k)&&(v[k]=x[k]);return v.className=S,b&&(v.ref=b),w.createElement(w.Fragment,null,w.createElement(BY,{cache:y,serialized:I,isStringTag:typeof _=="string"}),w.createElement(_,v))});return E.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",E.defaultProps=e.defaultProps,E.__emotion_real=E,E.__emotion_base=i,E.__emotion_styles=f,E.__emotion_forwardProp=a,Object.defineProperty(E,"toString",{value:function(){return"."+s}}),E.withComponent=function(x,y){var b=t(x,uv({},n,y,{shouldForwardProp:Bk(E,y,!0)}));return b.apply(void 0,f)},E}},UY=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],cx=VY.bind(null);UY.forEach(function(t){cx[t]=cx(t)});var h5={exports:{}},jY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zY=jY,WY=zY;function p5(){}function g5(){}g5.resetWarningCache=p5;var HY=function(){function t(r,i,o,s,a,l){if(l!==WY){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:g5,resetWarningCache:p5};return n.PropTypes=n,n};h5.exports=HY();var wT=h5.exports;const pe=Ap(wT);function GY(t){return t==null||Object.keys(t).length===0}function KY(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(GY(i)?n:i):e;return A.jsx(MY,{styles:r})}function m5(t,e){return cx(t,e)}function qY(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const Vk=[];function Uk(t){return Vk[0]=t,rg(Vk)}var y5={exports:{}},tn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET=Symbol.for("react.transitional.element"),xT=Symbol.for("react.portal"),J0=Symbol.for("react.fragment"),Z0=Symbol.for("react.strict_mode"),e_=Symbol.for("react.profiler"),t_=Symbol.for("react.consumer"),n_=Symbol.for("react.context"),r_=Symbol.for("react.forward_ref"),i_=Symbol.for("react.suspense"),o_=Symbol.for("react.suspense_list"),s_=Symbol.for("react.memo"),a_=Symbol.for("react.lazy"),YY=Symbol.for("react.view_transition"),XY=Symbol.for("react.client.reference");function Co(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ET:switch(t=t.type,t){case J0:case e_:case Z0:case i_:case o_:case YY:return t;default:switch(t=t&&t.$$typeof,t){case n_:case r_:case a_:case s_:return t;case t_:return t;default:return e}}case xT:return e}}}tn.ContextConsumer=t_;tn.ContextProvider=n_;tn.Element=ET;tn.ForwardRef=r_;tn.Fragment=J0;tn.Lazy=a_;tn.Memo=s_;tn.Portal=xT;tn.Profiler=e_;tn.StrictMode=Z0;tn.Suspense=i_;tn.SuspenseList=o_;tn.isContextConsumer=function(t){return Co(t)===t_};tn.isContextProvider=function(t){return Co(t)===n_};tn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ET};tn.isForwardRef=function(t){return Co(t)===r_};tn.isFragment=function(t){return Co(t)===J0};tn.isLazy=function(t){return Co(t)===a_};tn.isMemo=function(t){return Co(t)===s_};tn.isPortal=function(t){return Co(t)===xT};tn.isProfiler=function(t){return Co(t)===e_};tn.isStrictMode=function(t){return Co(t)===Z0};tn.isSuspense=function(t){return Co(t)===i_};tn.isSuspenseList=function(t){return Co(t)===o_};tn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===J0||t===e_||t===Z0||t===i_||t===o_||typeof t=="object"&&t!==null&&(t.$$typeof===a_||t.$$typeof===s_||t.$$typeof===n_||t.$$typeof===t_||t.$$typeof===r_||t.$$typeof===XY||t.getModuleId!==void 0)};tn.typeOf=Co;y5.exports=tn;var v5=y5.exports;function gs(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function _5(t){if(w.isValidElement(t)||v5.isValidElementType(t)||!gs(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=_5(t[n])}),e}function dr(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return gs(t)&&gs(e)&&Object.keys(e).forEach(i=>{w.isValidElement(e[i])||v5.isValidElementType(e[i])?r[i]=e[i]:gs(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&gs(t[i])?r[i]=dr(t[i],e[i],n):n.clone?r[i]=gs(e[i])?_5(e[i]):e[i]:r[i]=e[i]}),r}const QY=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function JY(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,o=QY(e),s=Object.keys(o);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function c(h,p){const g=s.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(g!==-1&&typeof e[s[g]]=="number"?e[s[g]]:p)-r/100}${n})`}function u(h){return s.indexOf(h)+1<s.length?c(h,s[s.indexOf(h)+1]):a(h)}function f(h){const p=s.indexOf(h);return p===0?a(s[1]):p===s.length-1?l(s[p]):c(h,s[s.indexOf(h)+1]).replace("@media","@media not all and")}return{keys:s,values:o,up:a,down:l,between:c,only:u,not:f,unit:n,...i}}function ZY(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var s,a;const o=/min-width:\s*([0-9.]+)/;return+(((s=r.match(o))==null?void 0:s[1])||0)-+(((a=i.match(o))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function eX(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function tX(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(o)}function nX(t){const e=(o,s)=>o.replace("@media",s?`@container ${s}`:"@container");function n(o,s){o.up=(...a)=>e(t.breakpoints.up(...a),s),o.down=(...a)=>e(t.breakpoints.down(...a),s),o.between=(...a)=>e(t.breakpoints.between(...a),s),o.only=(...a)=>e(t.breakpoints.only(...a),s),o.not=(...a)=>{const l=e(t.breakpoints.not(...a),s);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=o=>(n(r,o),r);return n(i),{...t,containerQueries:i}}const rX={borderRadius:4};function Ph(t,e){return e?dr(t,e,{clone:!1}):t}const l_={xs:0,sm:600,md:900,lg:1200,xl:1536},jk={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${l_[t]}px)`},iX={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:l_[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Xo(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||jk;return e.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(e[l]),s),{})}if(typeof e=="object"){const o=r.breakpoints||jk;return Object.keys(e).reduce((s,a)=>{if(eX(o.keys,a)){const l=tX(r.containerQueries?r:iX,a);l&&(s[l]=n(e[a],a))}else if(Object.keys(o.values||l_).includes(a)){const l=o.up(a);s[l]=n(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return n(e)}function b5(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function w5(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function oX(t,...e){const n=b5(t),r=[n,...e].reduce((i,o)=>dr(i,o),{});return w5(Object.keys(n),r)}function sX(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,o)=>{o<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function tw({values:t,breakpoints:e,base:n}){const r=n||sX(t,e),i=Object.keys(r);if(i.length===0)return t;let o;return i.reduce((s,a,l)=>(Array.isArray(t)?(s[a]=t[l]!=null?t[l]:t[o],o=l):typeof t=="object"?(s[a]=t[a]!=null?t[a]:t[o],o=a):s[a]=t,s),{})}function ae(t){if(typeof t!="string")throw new Error(ha(7));return t.charAt(0).toUpperCase()+t.slice(1)}function c_(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function fv(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=c_(t,n)||r,e&&(i=e(i,r,t)),i}function Bn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,c=c_(l,r)||{};return Xo(s,a,f=>{let h=fv(c,i,f);return f===h&&typeof f=="string"&&(h=fv(c,i,`${e}${f==="default"?"":ae(f)}`,f)),n===!1?h:{[n]:h}})};return o.propTypes={},o.filterProps=[e],o}function aX(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const lX={m:"margin",p:"padding"},cX={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},zk={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},uX=aX(t=>{if(t.length>2)if(zk[t])t=zk[t];else return[t];const[e,n]=t.split(""),r=lX[e],i=cX[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),ST=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],CT=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...ST,...CT];function og(t,e,n,r){const i=c_(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const s=Math.abs(o),a=i[s];return o>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof i=="function"?i:()=>{}}function u_(t){return og(t,"spacing",8)}function bc(t,e){return typeof e=="string"||e==null?e:t(e)}function dX(t,e){return n=>t.reduce((r,i)=>(r[i]=bc(e,n),r),{})}function fX(t,e,n,r){if(!e.includes(n))return null;const i=uX(n),o=dX(i,r),s=t[n];return Xo(t,s,o)}function E5(t,e){const n=u_(t.theme);return Object.keys(t).map(r=>fX(t,e,r,n)).reduce(Ph,{})}function kn(t){return E5(t,ST)}kn.propTypes={};kn.filterProps=ST;function An(t){return E5(t,CT)}An.propTypes={};An.filterProps=CT;function x5(t=8,e=u_({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function d_(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?Ph(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function fo(t){return typeof t!="number"?t:`${t}px solid`}function To(t,e){return Bn({prop:t,themeKey:"borders",transform:e})}const hX=To("border",fo),pX=To("borderTop",fo),gX=To("borderRight",fo),mX=To("borderBottom",fo),yX=To("borderLeft",fo),vX=To("borderColor"),_X=To("borderTopColor"),bX=To("borderRightColor"),wX=To("borderBottomColor"),EX=To("borderLeftColor"),xX=To("outline",fo),SX=To("outlineColor"),f_=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=og(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:bc(e,r)});return Xo(t,t.borderRadius,n)}return null};f_.propTypes={};f_.filterProps=["borderRadius"];d_(hX,pX,gX,mX,yX,vX,_X,bX,wX,EX,f_,xX,SX);const h_=t=>{if(t.gap!==void 0&&t.gap!==null){const e=og(t.theme,"spacing",8),n=r=>({gap:bc(e,r)});return Xo(t,t.gap,n)}return null};h_.propTypes={};h_.filterProps=["gap"];const p_=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=og(t.theme,"spacing",8),n=r=>({columnGap:bc(e,r)});return Xo(t,t.columnGap,n)}return null};p_.propTypes={};p_.filterProps=["columnGap"];const g_=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=og(t.theme,"spacing",8),n=r=>({rowGap:bc(e,r)});return Xo(t,t.rowGap,n)}return null};g_.propTypes={};g_.filterProps=["rowGap"];const CX=Bn({prop:"gridColumn"}),TX=Bn({prop:"gridRow"}),IX=Bn({prop:"gridAutoFlow"}),RX=Bn({prop:"gridAutoColumns"}),PX=Bn({prop:"gridAutoRows"}),kX=Bn({prop:"gridTemplateColumns"}),AX=Bn({prop:"gridTemplateRows"}),OX=Bn({prop:"gridTemplateAreas"}),NX=Bn({prop:"gridArea"});d_(h_,p_,g_,CX,TX,IX,RX,PX,kX,AX,OX,NX);function od(t,e){return e==="grey"?e:t}const MX=Bn({prop:"color",themeKey:"palette",transform:od}),DX=Bn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:od}),$X=Bn({prop:"backgroundColor",themeKey:"palette",transform:od});d_(MX,DX,$X);function Ui(t){return t<=1&&t!==0?`${t*100}%`:t}const LX=Bn({prop:"width",transform:Ui}),TT=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,o,s,a,l;const r=((s=(o=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:s[n])||l_[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ui(n)}};return Xo(t,t.maxWidth,e)}return null};TT.filterProps=["maxWidth"];const FX=Bn({prop:"minWidth",transform:Ui}),BX=Bn({prop:"height",transform:Ui}),VX=Bn({prop:"maxHeight",transform:Ui}),UX=Bn({prop:"minHeight",transform:Ui});Bn({prop:"size",cssProperty:"width",transform:Ui});Bn({prop:"size",cssProperty:"height",transform:Ui});const jX=Bn({prop:"boxSizing"});d_(LX,TT,FX,BX,VX,UX,jX);const sg={border:{themeKey:"borders",transform:fo},borderTop:{themeKey:"borders",transform:fo},borderRight:{themeKey:"borders",transform:fo},borderBottom:{themeKey:"borders",transform:fo},borderLeft:{themeKey:"borders",transform:fo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:fo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:f_},color:{themeKey:"palette",transform:od},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:od},backgroundColor:{themeKey:"palette",transform:od},p:{style:An},pt:{style:An},pr:{style:An},pb:{style:An},pl:{style:An},px:{style:An},py:{style:An},padding:{style:An},paddingTop:{style:An},paddingRight:{style:An},paddingBottom:{style:An},paddingLeft:{style:An},paddingX:{style:An},paddingY:{style:An},paddingInline:{style:An},paddingInlineStart:{style:An},paddingInlineEnd:{style:An},paddingBlock:{style:An},paddingBlockStart:{style:An},paddingBlockEnd:{style:An},m:{style:kn},mt:{style:kn},mr:{style:kn},mb:{style:kn},ml:{style:kn},mx:{style:kn},my:{style:kn},margin:{style:kn},marginTop:{style:kn},marginRight:{style:kn},marginBottom:{style:kn},marginLeft:{style:kn},marginX:{style:kn},marginY:{style:kn},marginInline:{style:kn},marginInlineStart:{style:kn},marginInlineEnd:{style:kn},marginBlock:{style:kn},marginBlockStart:{style:kn},marginBlockEnd:{style:kn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:h_},rowGap:{style:g_},columnGap:{style:p_},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ui},maxWidth:{style:TT},minWidth:{transform:Ui},height:{transform:Ui},maxHeight:{transform:Ui},minHeight:{transform:Ui},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function zX(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function WX(t,e){return typeof t=="function"?t(e):t}function HX(){function t(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:f}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=c_(i,c)||{};return f?f(s):Xo(s,r,g=>{let E=fv(h,u,g);return g===E&&typeof g=="string"&&(E=fv(h,u,`${n}${g==="default"?"":ae(g)}`,g)),l===!1?E:{[l]:E}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const o=i.unstable_sxConfig??sg;function s(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const c=b5(i.breakpoints),u=Object.keys(c);let f=c;return Object.keys(l).forEach(h=>{const p=WX(l[h],i);if(p!=null)if(typeof p=="object")if(o[h])f=Ph(f,t(h,p,i,o));else{const g=Xo({theme:i},p,E=>({[h]:E}));zX(g,p)?f[h]=e({sx:p,theme:i}):f=Ph(f,g)}else f=Ph(f,t(h,p,i,o))}),ZY(i,w5(u,f))}return Array.isArray(r)?r.map(s):s(r)}return e}const wc=HX();wc.filterProps=["sx"];function GX(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function Jd(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={},...s}=t,a=JY(n),l=x5(i);let c=dr({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...rX,...o}},s);return c=nX(c),c.applyStyles=GX,c=e.reduce((u,f)=>dr(u,f),c),c.unstable_sxConfig={...sg,...s==null?void 0:s.unstable_sxConfig},c.unstable_sx=function(f){return wc({sx:f,theme:this})},c}function KX(t){return Object.keys(t).length===0}function qX(t=null){const e=w.useContext(Q0);return!e||KX(e)?t:e}const YX=Jd();function ag(t=YX){return qX(t)}function XX({styles:t,themeId:e,defaultTheme:n={}}){const r=ag(n),i=typeof t=="function"?t(e&&r[e]||r):t;return A.jsx(KY,{styles:i})}const QX=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??sg;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function m_(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=QX(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return gs(a)?{...r,...a}:r}:o={...r,...e},{...i,sx:o}}const Wk=t=>t,JX=()=>{let t=Wk;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Wk}}},S5=JX();function C5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=C5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ee(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=C5(t))&&(r&&(r+=" "),r+=e);return r}function ZX(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=m5("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(wc);return w.forwardRef(function(l,c){const u=ag(n),{className:f,component:h="div",...p}=m_(l);return A.jsx(o,{as:h,ref:c,className:Ee(f,i?i(r):r),theme:e&&u[e]||u,...p})})}const eQ={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function rt(t,e,n="Mui"){const r=eQ[e];return r?`${n}-${r}`:`${S5.generate(t)}-${e}`}function et(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=rt(t,i,n)}),r}function T5(t){const{variants:e,...n}=t,r={variants:e,style:Uk(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=Uk(i.style))}),r}const tQ=Jd();function nw(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function nQ(t){return t?(e,n)=>n[t]:null}function rQ(t,e,n){t.theme=oQ(t.theme)?n:t.theme[e]||t.theme}function dy(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>dy(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...o}=n;r=o}return I5(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function I5(t,e,n=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const s=e[o];if(typeof s.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!s.props(r))continue}else for(const a in s.props)if(t[a]!==s.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==s.props[a])continue e;typeof s.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(s.style(r))):n.push(s.style)}return n}function R5(t={}){const{themeId:e,defaultTheme:n=tQ,rootShouldForwardProp:r=nw,slotShouldForwardProp:i=nw}=t;function o(a){rQ(a,e,n)}return(a,l={})=>{qY(a,O=>O.filter(N=>N!==wc));const{name:c,slot:u,skipVariantsResolver:f,skipSx:h,overridesResolver:p=nQ(aQ(u)),...g}=l,E=f!==void 0?f:u&&u!=="Root"&&u!=="root"||!1,x=h||!1;let y=nw;u==="Root"||u==="root"?y=r:u?y=i:sQ(a)&&(y=void 0);const b=m5(a,{shouldForwardProp:y,label:iQ(),...g}),_=O=>{if(typeof O=="function"&&O.__emotion_real!==O)return function(T){return dy(T,O)};if(gs(O)){const N=T5(O);return N.variants?function(I){return dy(I,N)}:N.style}return O},S=(...O)=>{const N=[],T=O.map(_),I=[];if(N.push(o),c&&p&&I.push(function(M){var W,G;const q=(G=(W=M.theme.components)==null?void 0:W[c])==null?void 0:G.styleOverrides;if(!q)return null;const H={};for(const V in q)H[V]=dy(M,q[V]);return p(M,H)}),c&&!E&&I.push(function(M){var H,W;const P=M.theme,q=(W=(H=P==null?void 0:P.components)==null?void 0:H[c])==null?void 0:W.variants;return q?I5(M,q):null}),x||I.push(wc),Array.isArray(T[0])){const k=T.shift(),M=new Array(N.length).fill(""),P=new Array(I.length).fill("");let q;q=[...M,...k,...P],q.raw=[...M,...k.raw,...P],N.unshift(q)}const R=[...N,...T,...I],v=b(...R);return a.muiName&&(v.muiName=a.muiName),v};return b.withConfig&&(S.withConfig=b.withConfig),S}}function iQ(t,e){return void 0}function oQ(t){for(const e in t)return!1;return!0}function sQ(t){return typeof t=="string"&&t.charCodeAt(0)>96}function aQ(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const IT=R5();function Td(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const o=t[i],s=e[i];if(!s)n[i]=o||{};else if(!o)n[i]=s;else{n[i]={...s};for(const a in o)if(Object.prototype.hasOwnProperty.call(o,a)){const l=a;n[i][l]=Td(o[l],s[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function lQ(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Td(e.components[n].defaultProps,r)}function RT({props:t,name:e,defaultTheme:n,themeId:r}){let i=ag(n);return r&&(i=i[r]||i),lQ({theme:i,name:e,props:t})}const Qo=typeof window<"u"?w.useLayoutEffect:w.useEffect;function cQ(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function PT(t,e=0,n=1){return cQ(t,e,n)}function uQ(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function yl(t){if(t.type)return t;if(t.charAt(0)==="#")return yl(uQ(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(ha(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(ha(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const dQ=t=>{const e=yl(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},ah=(t,e)=>{try{return dQ(t)}catch{return t}};function y_(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function P5(t){t=yl(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(c,u=(c+n/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),y_({type:a,values:l})}function ux(t){t=yl(t);let e=t.type==="hsl"||t.type==="hsla"?yl(P5(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function fQ(t,e){const n=ux(t),r=ux(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Ot(t,e){return t=yl(t),e=PT(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,y_(t)}function mm(t,e,n){try{return Ot(t,e)}catch{return t}}function kT(t,e){if(t=yl(t),e=PT(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return y_(t)}function Jt(t,e,n){try{return kT(t,e)}catch{return t}}function AT(t,e){if(t=yl(t),e=PT(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return y_(t)}function Zt(t,e,n){try{return AT(t,e)}catch{return t}}function hQ(t,e=.15){return ux(t)>.5?kT(t,e):AT(t,e)}function ym(t,e,n){try{return hQ(t,e)}catch{return t}}function Hk(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function v_(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function fy(t,e){var n,r,i;return w.isValidElement(t)&&e.indexOf(t.type.muiName??((i=(r=(n=t.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function Si(t){return t&&t.ownerDocument||document}function Jo(t){return Si(t).defaultView||window}function hv(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let Gk=0;function pQ(t){const[e,n]=w.useState(t),r=t||e;return w.useEffect(()=>{e==null&&(Gk+=1,n(`mui-${Gk}`))},[e]),r}const gQ={...Nw},Kk=gQ.useId;function Zd(t){if(Kk!==void 0){const e=Kk();return t??e}return pQ(t)}function kh({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=w.useRef(t!==void 0),[o,s]=w.useState(e),a=i?t:o,l=w.useCallback(c=>{i||s(c)},[]);return[a,l]}function pi(t){const e=w.useRef(t);return Qo(()=>{e.current=t}),w.useRef((...n)=>(0,e.current)(...n)).current}function fr(...t){return w.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{hv(n,e)})},t)}const qk={};function k5(t,e){const n=w.useRef(qk);return n.current===qk&&(n.current=t(e)),n}const mQ=[];function yQ(t){w.useEffect(t,mQ)}class OT{constructor(){Cf(this,"currentId",null);Cf(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Cf(this,"disposeEffect",()=>this.clear)}static create(){return new OT}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function A5(){const t=k5(OT.create).current;return yQ(t.disposeEffect),t}function Yk(t){try{return t.matches(":focus-visible")}catch{}return!1}function O5(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}const vQ=t=>{const e=w.useRef({});return w.useEffect(()=>{e.current=t}),e.current};function _Q(t){return w.Children.toArray(t).filter(e=>w.isValidElement(e))}function it(t,e,n=void 0){const r={};for(const i in t){const o=t[i];let s="",a=!0;for(let l=0;l<o.length;l+=1){const c=o[l];c&&(s+=(a===!0?"":" ")+e(c),a=!1,n&&n[c]&&(s+=" "+n[c]))}r[i]=s}return r}function bQ(t){return typeof t=="string"}function N5(t,e,n){return t===void 0||bQ(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function M5(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function Xk(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function D5(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const p=Ee(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),g={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},E={...n,...i,...r};return p.length>0&&(E.className=p),Object.keys(g).length>0&&(E.style=g),{props:E,internalRef:void 0}}const s=M5({...i,...r}),a=Xk(r),l=Xk(i),c=e(s),u=Ee(c==null?void 0:c.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),f={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},h={...c,...n,...l,...a};return u.length>0&&(h.className=u),Object.keys(f).length>0&&(h.style=f),{props:h,internalRef:c.ref}}function $5(t,e,n){return typeof t=="function"?t(e,n):t}function Id(t){var f;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=t,s=i?{}:$5(n,r),{props:a,internalRef:l}=D5({...o,externalSlotProps:s}),c=fr(l,s==null?void 0:s.ref,(f=t.additionalProps)==null?void 0:f.ref);return N5(e,{...a,ref:c},r)}function lg(t){var e;return parseInt(w.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const wQ=w.createContext(),__=()=>w.useContext(wQ)??!1,EQ=w.createContext(void 0);function xQ(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Td(i.defaultProps,r):!i.styleOverrides&&!i.variants?Td(i,r):r}function SQ({props:t,name:e}){const n=w.useContext(EQ);return xQ({props:t,name:e,theme:{components:n}})}const Qk={theme:void 0};function CQ(t){let e,n;return function(i){let o=e;return(o===void 0||i.theme!==n)&&(Qk.theme=i.theme,o=T5(t(Qk)),e=o,n=i.theme),o}}function TQ(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const Jk=(t,e,n,r=[])=>{let i=t;e.forEach((o,s)=>{s===e.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},IQ=(t,e,n)=>{function r(i,o=[],s=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...o,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...o,a],Array.isArray(l)?[...s,a]:s):e([...o,a],l,s))})}r(t)},RQ=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function rw(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},o={},s={};return IQ(t,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const u=`--${n?`${n}-`:""}${a.join("-")}`,f=RQ(a,l);Object.assign(i,{[u]:f}),Jk(o,a,`var(${u})`,c),Jk(s,a,`var(${u}, ${f})`,c)}},a=>a[0]==="vars"),{css:i,vars:o,varsWithDefaults:s}}function PQ(t,e={}){const{getSelector:n=x,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:s,defaultColorScheme:a="light",...l}=t,{vars:c,css:u,varsWithDefaults:f}=rw(l,e);let h=f;const p={},{[a]:g,...E}=o;if(Object.entries(E||{}).forEach(([_,S])=>{const{vars:O,css:N,varsWithDefaults:T}=rw(S,e);h=dr(h,T),p[_]={css:N,vars:O}}),g){const{css:_,vars:S,varsWithDefaults:O}=rw(g,e);h=dr(h,O),p[a]={css:_,vars:S}}function x(_,S){var N,T;let O=i;if(i==="class"&&(O=".%s"),i==="data"&&(O="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(O=`[${i}="%s"]`),_){if(O==="media")return t.defaultColorScheme===_?":root":{[`@media (prefers-color-scheme: ${((T=(N=o[_])==null?void 0:N.palette)==null?void 0:T.mode)||_})`]:{":root":S}};if(O)return t.defaultColorScheme===_?`:root, ${O.replace("%s",String(_))}`:O.replace("%s",String(_))}return":root"}return{vars:h,generateThemeVars:()=>{let _={...c};return Object.entries(p).forEach(([,{vars:S}])=>{_=dr(_,S)}),_},generateStyleSheets:()=>{var I,R;const _=[],S=t.defaultColorScheme||"light";function O(v,k){Object.keys(k).length&&_.push(typeof v=="string"?{[v]:{...k}}:v)}O(n(void 0,{...u}),u);const{[S]:N,...T}=p;if(N){const{css:v}=N,k=(R=(I=o[S])==null?void 0:I.palette)==null?void 0:R.mode,M=!r&&k?{colorScheme:k,...v}:{...v};O(n(S,{...M}),M)}return Object.entries(T).forEach(([v,{css:k}])=>{var q,H;const M=(H=(q=o[v])==null?void 0:q.palette)==null?void 0:H.mode,P=!r&&M?{colorScheme:M,...k}:{...k};O(n(v,{...P}),P)}),_}}}function kQ(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const AQ=Jd(),OQ=IT("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${ae(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),NQ=t=>RT({props:t,name:"MuiContainer",defaultTheme:AQ}),MQ=(t,e)=>{const n=l=>rt(e,l),{classes:r,fixed:i,disableGutters:o,maxWidth:s}=t,a={root:["root",s&&`maxWidth${ae(String(s))}`,i&&"fixed",o&&"disableGutters"]};return it(a,n,r)};function DQ(t={}){const{createStyledComponent:e=OQ,useThemeProps:n=NQ,componentName:r="MuiContainer"}=t,i=e(({theme:s,ownerState:a})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((l,c)=>{const u=c,f=s.breakpoints.values[u];return f!==0&&(l[s.breakpoints.up(u)]={maxWidth:`${f}${s.breakpoints.unit}`}),l},{}),({theme:s,ownerState:a})=>({...a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},...a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}}));return w.forwardRef(function(a,l){const c=n(a),{className:u,component:f="div",disableGutters:h=!1,fixed:p=!1,maxWidth:g="lg",classes:E,...x}=c,y={...c,component:f,disableGutters:h,fixed:p,maxWidth:g},b=MQ(y,r);return A.jsx(i,{as:f,ownerState:y,className:Ee(b.root,u),ref:l,...x})})}const $Q=(t,e)=>t.filter(n=>e.includes(n)),ef=(t,e,n)=>{const r=t.keys[0];Array.isArray(e)?e.forEach((i,o)=>{n((s,a)=>{o<=t.keys.length-1&&(o===0?Object.assign(s,a):s[t.up(t.keys[o])]=a)},i)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:$Q(t.keys,Object.keys(e))).forEach(o=>{if(t.keys.includes(o)){const s=e[o];s!==void 0&&n((a,l)=>{r===o?Object.assign(a,l):a[t.up(o)]=l},s)}}):(typeof e=="number"||typeof e=="string")&&n((i,o)=>{Object.assign(i,o)},e)};function pv(t){return`--Grid-${t}Spacing`}function b_(t){return`--Grid-parent-${t}Spacing`}const Zk="--Grid-columns",sd="--Grid-parent-columns",LQ=({theme:t,ownerState:e})=>{const n={};return ef(t.breakpoints,e.size,(r,i)=>{let o={};i==="grow"&&(o={flexBasis:0,flexGrow:1,maxWidth:"100%"}),i==="auto"&&(o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof i=="number"&&(o={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${i} / var(${sd}) - (var(${sd}) - ${i}) * (var(${b_("column")}) / var(${sd})))`}),r(n,o)}),n},FQ=({theme:t,ownerState:e})=>{const n={};return ef(t.breakpoints,e.offset,(r,i)=>{let o={};i==="auto"&&(o={marginLeft:"auto"}),typeof i=="number"&&(o={marginLeft:i===0?"0px":`calc(100% * ${i} / var(${sd}) + var(${b_("column")}) * ${i} / var(${sd}))`}),r(n,o)}),n},BQ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={[Zk]:12};return ef(t.breakpoints,e.columns,(r,i)=>{const o=i??12;r(n,{[Zk]:o,"> *":{[sd]:o}})}),n},VQ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return ef(t.breakpoints,e.rowSpacing,(r,i)=>{var s;const o=typeof i=="string"?i:(s=t.spacing)==null?void 0:s.call(t,i);r(n,{[pv("row")]:o,"> *":{[b_("row")]:o}})}),n},UQ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return ef(t.breakpoints,e.columnSpacing,(r,i)=>{var s;const o=typeof i=="string"?i:(s=t.spacing)==null?void 0:s.call(t,i);r(n,{[pv("column")]:o,"> *":{[b_("column")]:o}})}),n},jQ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return ef(t.breakpoints,e.direction,(r,i)=>{r(n,{flexDirection:i})}),n},zQ=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${pv("row")}) var(${pv("column")})`}}),WQ=t=>{const e=[];return Object.entries(t).forEach(([n,r])=>{r!==!1&&r!==void 0&&e.push(`grid-${n}-${String(r)}`)}),e},HQ=(t,e="xs")=>{function n(r){return r===void 0?!1:typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number"&&r>0}if(n(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const r=[];return Object.entries(t).forEach(([i,o])=>{n(o)&&r.push(`spacing-${i}-${String(o)}`)}),r}return[]},GQ=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,n])=>`direction-${e}-${n}`):[`direction-xs-${String(t)}`];function KQ(t,e){t.item!==void 0&&delete t.item,t.zeroMinWidth!==void 0&&delete t.zeroMinWidth,e.keys.forEach(n=>{t[n]!==void 0&&delete t[n]})}const qQ=Jd(),YQ=IT("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>e.root});function XQ(t){return RT({props:t,name:"MuiGrid",defaultTheme:qQ})}function QQ(t={}){const{createStyledComponent:e=YQ,useThemeProps:n=XQ,useTheme:r=ag,componentName:i="MuiGrid"}=t,o=(c,u)=>{const{container:f,direction:h,spacing:p,wrap:g,size:E}=c,x={root:["root",f&&"container",g!=="wrap"&&`wrap-xs-${String(g)}`,...GQ(h),...WQ(E),...f?HQ(p,u.breakpoints.keys[0]):[]]};return it(x,y=>rt(i,y),{})};function s(c,u,f=()=>!0){const h={};return c===null||(Array.isArray(c)?c.forEach((p,g)=>{p!==null&&f(p)&&u.keys[g]&&(h[u.keys[g]]=p)}):typeof c=="object"?Object.keys(c).forEach(p=>{const g=c[p];g!=null&&f(g)&&(h[p]=g)}):h[u.keys[0]]=c),h}const a=e(BQ,UQ,VQ,LQ,jQ,zQ,FQ),l=w.forwardRef(function(u,f){const h=r(),p=n(u),g=m_(p);KQ(g,h.breakpoints);const{className:E,children:x,columns:y=12,container:b=!1,component:_="div",direction:S="row",wrap:O="wrap",size:N={},offset:T={},spacing:I=0,rowSpacing:R=I,columnSpacing:v=I,unstable_level:k=0,...M}=g,P=s(N,h.breakpoints,re=>re!==!1),q=s(T,h.breakpoints),H=u.columns??(k?void 0:y),W=u.spacing??(k?void 0:I),G=u.rowSpacing??u.spacing??(k?void 0:R),V=u.columnSpacing??u.spacing??(k?void 0:v),B={...g,level:k,columns:H,container:b,direction:S,wrap:O,spacing:W,rowSpacing:G,columnSpacing:V,size:P,offset:q},Q=o(B,h);return A.jsx(a,{ref:f,as:_,ownerState:B,className:Ee(Q.root,E),...M,children:w.Children.map(x,re=>{var he;return w.isValidElement(re)&&fy(re,["Grid"])&&b&&re.props.container?w.cloneElement(re,{unstable_level:((he=re.props)==null?void 0:he.unstable_level)??k+1}):re})})});return l.muiName="Grid",l}const JQ=Jd(),ZQ=IT("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function eJ(t){return RT({props:t,name:"MuiStack",defaultTheme:JQ})}function tJ(t,e){const n=w.Children.toArray(t).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(w.cloneElement(e,{key:`separator-${o}`})),r),[])}const nJ=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],rJ=({ownerState:t,theme:e})=>{let n={display:"flex",flexDirection:"column",...Xo({theme:e},tw({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(t.spacing){const r=u_(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),o=tw({values:t.direction,base:i}),s=tw({values:t.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((l,c,u)=>{if(!o[l]){const h=c>0?o[u[c-1]]:"column";o[l]=h}}),n=dr(n,Xo({theme:e},s,(l,c)=>t.useFlexGap?{gap:bc(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${nJ(c?o[c]:t.direction)}`]:bc(r,l)}}))}return n=oX(e.breakpoints,n),n};function iJ(t={}){const{createStyledComponent:e=ZQ,useThemeProps:n=eJ,componentName:r="MuiStack"}=t,i=()=>it({root:["root"]},l=>rt(r,l),{}),o=e(rJ);return w.forwardRef(function(l,c){const u=n(l),f=m_(u),{component:h="div",direction:p="column",spacing:g=0,divider:E,children:x,className:y,useFlexGap:b=!1,..._}=f,S={direction:p,spacing:g,useFlexGap:b},O=i();return A.jsx(o,{as:h,ownerState:S,ref:c,className:Ee(O.root,y),..._,children:E?tJ(x,E):x})})}function L5(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:gp.white,default:gp.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const oJ=L5();function F5(){return{text:{primary:gp.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:gp.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const eA=F5();function tA(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=AT(t.main,i):e==="dark"&&(t.dark=kT(t.main,o)))}function sJ(t="light"){return t==="dark"?{main:ru[200],light:ru[50],dark:ru[400]}:{main:ru[700],light:ru[400],dark:ru[800]}}function aJ(t="light"){return t==="dark"?{main:nu[200],light:nu[50],dark:nu[400]}:{main:nu[500],light:nu[300],dark:nu[700]}}function lJ(t="light"){return t==="dark"?{main:tu[500],light:tu[300],dark:tu[700]}:{main:tu[700],light:tu[400],dark:tu[800]}}function cJ(t="light"){return t==="dark"?{main:iu[400],light:iu[300],dark:iu[700]}:{main:iu[700],light:iu[500],dark:iu[900]}}function uJ(t="light"){return t==="dark"?{main:ou[400],light:ou[300],dark:ou[700]}:{main:ou[800],light:ou[500],dark:ou[900]}}function dJ(t="light"){return t==="dark"?{main:$f[400],light:$f[300],dark:$f[700]}:{main:"#ed6c02",light:$f[500],dark:$f[900]}}function NT(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,o=t.primary||sJ(e),s=t.secondary||aJ(e),a=t.error||lJ(e),l=t.info||cJ(e),c=t.success||uJ(e),u=t.warning||dJ(e);function f(E){return fQ(E,eA.text.primary)>=n?eA.text.primary:oJ.text.primary}const h=({color:E,name:x,mainShade:y=500,lightShade:b=300,darkShade:_=700})=>{if(E={...E},!E.main&&E[y]&&(E.main=E[y]),!E.hasOwnProperty("main"))throw new Error(ha(11,x?` (${x})`:"",y));if(typeof E.main!="string")throw new Error(ha(12,x?` (${x})`:"",JSON.stringify(E.main)));return tA(E,"light",b,r),tA(E,"dark",_,r),E.contrastText||(E.contrastText=f(E.main)),E};let p;return e==="light"?p=L5():e==="dark"&&(p=F5()),dr({common:{...gp},mode:e,primary:h({color:o,name:"primary"}),secondary:h({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:Bq,contrastThreshold:n,getContrastText:f,augmentColor:h,tonalOffset:r,...p},i)}function fJ(t){const e={};return Object.entries(t).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function hJ(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function pJ(t){return Math.round(t*1e5)/1e5}const nA={textTransform:"uppercase"},rA='"Roboto", "Helvetica", "Arial", sans-serif';function gJ(t,e){const{fontFamily:n=rA,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:u,...f}=typeof e=="function"?e(t):e,h=r/14,p=u||(x=>`${x/l*h}rem`),g=(x,y,b,_,S)=>({fontFamily:n,fontWeight:x,fontSize:p(y),lineHeight:b,...n===rA?{letterSpacing:`${pJ(_/y)}em`}:{},...S,...c}),E={h1:g(i,96,1.167,-1.5),h2:g(i,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(s,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(s,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(s,14,1.75,.4,nA),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,nA),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return dr({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:a,...E},f,{clone:!1})}const mJ=.2,yJ=.14,vJ=.12;function _n(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${mJ})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${yJ})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${vJ})`].join(",")}const _J=["none",_n(0,2,1,-1,0,1,1,0,0,1,3,0),_n(0,3,1,-2,0,2,2,0,0,1,5,0),_n(0,3,3,-2,0,3,4,0,0,1,8,0),_n(0,2,4,-1,0,4,5,0,0,1,10,0),_n(0,3,5,-1,0,5,8,0,0,1,14,0),_n(0,3,5,-1,0,6,10,0,0,1,18,0),_n(0,4,5,-2,0,7,10,1,0,2,16,1),_n(0,5,5,-3,0,8,10,1,0,3,14,2),_n(0,5,6,-3,0,9,12,1,0,3,16,2),_n(0,6,6,-3,0,10,14,1,0,4,18,3),_n(0,6,7,-4,0,11,15,1,0,4,20,3),_n(0,7,8,-4,0,12,17,2,0,5,22,4),_n(0,7,8,-4,0,13,19,2,0,5,24,4),_n(0,7,9,-4,0,14,21,2,0,5,26,4),_n(0,8,9,-5,0,15,22,2,0,6,28,5),_n(0,8,10,-5,0,16,24,2,0,6,30,5),_n(0,8,11,-5,0,17,26,2,0,6,32,5),_n(0,9,11,-5,0,18,28,2,0,7,34,6),_n(0,9,12,-6,0,19,29,2,0,7,36,6),_n(0,10,13,-6,0,20,31,3,0,8,38,7),_n(0,10,13,-6,0,21,33,3,0,8,40,7),_n(0,10,14,-6,0,22,35,3,0,8,42,7),_n(0,11,14,-7,0,23,36,3,0,9,44,8),_n(0,11,15,-7,0,24,38,3,0,9,46,8)],bJ={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},wJ={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function iA(t){return`${Math.round(t)}ms`}function EJ(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function xJ(t){const e={...bJ,...t.easing},n={...wJ,...t.duration};return{getAutoHeightDuration:EJ,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=e.easeInOut,delay:l=0,...c}=o;return(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof s=="string"?s:iA(s)} ${a} ${typeof l=="string"?l:iA(l)}`).join(",")},...t,easing:e,duration:n}}const SJ={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function CJ(t){return gs(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function B5(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[s,a]=i[o];!CJ(a)||s.startsWith("unstable_")?delete r[s]:gs(a)&&(r[s]={...a},n(r[s]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function dx(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:o={},transitions:s={},typography:a={},shape:l,...c}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(ha(20));const u=NT(o),f=Jd(t);let h=dr(f,{mixins:hJ(f.breakpoints,r),palette:u,shadows:_J.slice(),typography:gJ(u,a),transitions:xJ(s),zIndex:{...SJ}});return h=dr(h,c),h=e.reduce((p,g)=>dr(p,g),h),h.unstable_sxConfig={...sg,...c==null?void 0:c.unstable_sxConfig},h.unstable_sx=function(g){return wc({sx:g,theme:this})},h.toRuntimeSource=B5,h}function fx(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const TJ=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=fx(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function V5(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function U5(t){return t==="dark"?TJ:[]}function IJ(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,o=NT(e);return{palette:o,opacity:{...V5(o.mode),...n},overlays:r||U5(o.mode),...i}}function RJ(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const PJ=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],kJ=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const s={};return PJ(t.cssVarPrefix).forEach(a=>{s[a]=n[a],delete n[a]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:o?{[o.replace("%s",e)]:s,[`${r}, ${o.replace("%s",e)}`]:n}:{[r]:{...n,...s}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(o)return o.replace("%s",String(e))}return r};function AJ(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function J(t,e,n){!t[e]&&n&&(t[e]=n)}function lh(t){return typeof t!="string"||!t.startsWith("hsl")?t:P5(t)}function Fs(t,e){`${e}Channel`in t||(t[`${e}Channel`]=ah(lh(t[e])))}function OJ(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const cs=t=>{try{return t()}catch{}},NJ=(t="mui")=>TQ(t);function iw(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=IJ({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...s}=dx({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:o,opacity:{...V5(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||U5(i)},s}function MJ(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:s=RJ,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...c}=t,u=Object.keys(n)[0],f=r||(n.light&&u!=="light"?"light":u),h=NJ(o),{[f]:p,light:g,dark:E,...x}=n,y={...x};let b=p;if((f==="dark"&&!("dark"in n)||f==="light"&&!("light"in n))&&(b=!0),!b)throw new Error(ha(21,f));const _=iw(y,b,c,f);g&&!y.light&&iw(y,g,void 0,"light"),E&&!y.dark&&iw(y,E,void 0,"dark");let S={defaultColorScheme:f,..._,cssVarPrefix:o,colorSchemeSelector:a,rootSelector:l,getCssVar:h,colorSchemes:y,font:{...fJ(_.typography),..._.font},spacing:OJ(c.spacing)};Object.keys(S.colorSchemes).forEach(R=>{const v=S.colorSchemes[R].palette,k=M=>{const P=M.split("-"),q=P[1],H=P[2];return h(M,v[q][H])};if(v.mode==="light"&&(J(v.common,"background","#fff"),J(v.common,"onBackground","#000")),v.mode==="dark"&&(J(v.common,"background","#000"),J(v.common,"onBackground","#fff")),AJ(v,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),v.mode==="light"){J(v.Alert,"errorColor",Jt(v.error.light,.6)),J(v.Alert,"infoColor",Jt(v.info.light,.6)),J(v.Alert,"successColor",Jt(v.success.light,.6)),J(v.Alert,"warningColor",Jt(v.warning.light,.6)),J(v.Alert,"errorFilledBg",k("palette-error-main")),J(v.Alert,"infoFilledBg",k("palette-info-main")),J(v.Alert,"successFilledBg",k("palette-success-main")),J(v.Alert,"warningFilledBg",k("palette-warning-main")),J(v.Alert,"errorFilledColor",cs(()=>v.getContrastText(v.error.main))),J(v.Alert,"infoFilledColor",cs(()=>v.getContrastText(v.info.main))),J(v.Alert,"successFilledColor",cs(()=>v.getContrastText(v.success.main))),J(v.Alert,"warningFilledColor",cs(()=>v.getContrastText(v.warning.main))),J(v.Alert,"errorStandardBg",Zt(v.error.light,.9)),J(v.Alert,"infoStandardBg",Zt(v.info.light,.9)),J(v.Alert,"successStandardBg",Zt(v.success.light,.9)),J(v.Alert,"warningStandardBg",Zt(v.warning.light,.9)),J(v.Alert,"errorIconColor",k("palette-error-main")),J(v.Alert,"infoIconColor",k("palette-info-main")),J(v.Alert,"successIconColor",k("palette-success-main")),J(v.Alert,"warningIconColor",k("palette-warning-main")),J(v.AppBar,"defaultBg",k("palette-grey-100")),J(v.Avatar,"defaultBg",k("palette-grey-400")),J(v.Button,"inheritContainedBg",k("palette-grey-300")),J(v.Button,"inheritContainedHoverBg",k("palette-grey-A100")),J(v.Chip,"defaultBorder",k("palette-grey-400")),J(v.Chip,"defaultAvatarColor",k("palette-grey-700")),J(v.Chip,"defaultIconColor",k("palette-grey-700")),J(v.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),J(v.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),J(v.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),J(v.LinearProgress,"primaryBg",Zt(v.primary.main,.62)),J(v.LinearProgress,"secondaryBg",Zt(v.secondary.main,.62)),J(v.LinearProgress,"errorBg",Zt(v.error.main,.62)),J(v.LinearProgress,"infoBg",Zt(v.info.main,.62)),J(v.LinearProgress,"successBg",Zt(v.success.main,.62)),J(v.LinearProgress,"warningBg",Zt(v.warning.main,.62)),J(v.Skeleton,"bg",`rgba(${k("palette-text-primaryChannel")} / 0.11)`),J(v.Slider,"primaryTrack",Zt(v.primary.main,.62)),J(v.Slider,"secondaryTrack",Zt(v.secondary.main,.62)),J(v.Slider,"errorTrack",Zt(v.error.main,.62)),J(v.Slider,"infoTrack",Zt(v.info.main,.62)),J(v.Slider,"successTrack",Zt(v.success.main,.62)),J(v.Slider,"warningTrack",Zt(v.warning.main,.62));const M=ym(v.background.default,.8);J(v.SnackbarContent,"bg",M),J(v.SnackbarContent,"color",cs(()=>v.getContrastText(M))),J(v.SpeedDialAction,"fabHoverBg",ym(v.background.paper,.15)),J(v.StepConnector,"border",k("palette-grey-400")),J(v.StepContent,"border",k("palette-grey-400")),J(v.Switch,"defaultColor",k("palette-common-white")),J(v.Switch,"defaultDisabledColor",k("palette-grey-100")),J(v.Switch,"primaryDisabledColor",Zt(v.primary.main,.62)),J(v.Switch,"secondaryDisabledColor",Zt(v.secondary.main,.62)),J(v.Switch,"errorDisabledColor",Zt(v.error.main,.62)),J(v.Switch,"infoDisabledColor",Zt(v.info.main,.62)),J(v.Switch,"successDisabledColor",Zt(v.success.main,.62)),J(v.Switch,"warningDisabledColor",Zt(v.warning.main,.62)),J(v.TableCell,"border",Zt(mm(v.divider,1),.88)),J(v.Tooltip,"bg",mm(v.grey[700],.92))}if(v.mode==="dark"){J(v.Alert,"errorColor",Zt(v.error.light,.6)),J(v.Alert,"infoColor",Zt(v.info.light,.6)),J(v.Alert,"successColor",Zt(v.success.light,.6)),J(v.Alert,"warningColor",Zt(v.warning.light,.6)),J(v.Alert,"errorFilledBg",k("palette-error-dark")),J(v.Alert,"infoFilledBg",k("palette-info-dark")),J(v.Alert,"successFilledBg",k("palette-success-dark")),J(v.Alert,"warningFilledBg",k("palette-warning-dark")),J(v.Alert,"errorFilledColor",cs(()=>v.getContrastText(v.error.dark))),J(v.Alert,"infoFilledColor",cs(()=>v.getContrastText(v.info.dark))),J(v.Alert,"successFilledColor",cs(()=>v.getContrastText(v.success.dark))),J(v.Alert,"warningFilledColor",cs(()=>v.getContrastText(v.warning.dark))),J(v.Alert,"errorStandardBg",Jt(v.error.light,.9)),J(v.Alert,"infoStandardBg",Jt(v.info.light,.9)),J(v.Alert,"successStandardBg",Jt(v.success.light,.9)),J(v.Alert,"warningStandardBg",Jt(v.warning.light,.9)),J(v.Alert,"errorIconColor",k("palette-error-main")),J(v.Alert,"infoIconColor",k("palette-info-main")),J(v.Alert,"successIconColor",k("palette-success-main")),J(v.Alert,"warningIconColor",k("palette-warning-main")),J(v.AppBar,"defaultBg",k("palette-grey-900")),J(v.AppBar,"darkBg",k("palette-background-paper")),J(v.AppBar,"darkColor",k("palette-text-primary")),J(v.Avatar,"defaultBg",k("palette-grey-600")),J(v.Button,"inheritContainedBg",k("palette-grey-800")),J(v.Button,"inheritContainedHoverBg",k("palette-grey-700")),J(v.Chip,"defaultBorder",k("palette-grey-700")),J(v.Chip,"defaultAvatarColor",k("palette-grey-300")),J(v.Chip,"defaultIconColor",k("palette-grey-300")),J(v.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),J(v.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),J(v.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),J(v.LinearProgress,"primaryBg",Jt(v.primary.main,.5)),J(v.LinearProgress,"secondaryBg",Jt(v.secondary.main,.5)),J(v.LinearProgress,"errorBg",Jt(v.error.main,.5)),J(v.LinearProgress,"infoBg",Jt(v.info.main,.5)),J(v.LinearProgress,"successBg",Jt(v.success.main,.5)),J(v.LinearProgress,"warningBg",Jt(v.warning.main,.5)),J(v.Skeleton,"bg",`rgba(${k("palette-text-primaryChannel")} / 0.13)`),J(v.Slider,"primaryTrack",Jt(v.primary.main,.5)),J(v.Slider,"secondaryTrack",Jt(v.secondary.main,.5)),J(v.Slider,"errorTrack",Jt(v.error.main,.5)),J(v.Slider,"infoTrack",Jt(v.info.main,.5)),J(v.Slider,"successTrack",Jt(v.success.main,.5)),J(v.Slider,"warningTrack",Jt(v.warning.main,.5));const M=ym(v.background.default,.98);J(v.SnackbarContent,"bg",M),J(v.SnackbarContent,"color",cs(()=>v.getContrastText(M))),J(v.SpeedDialAction,"fabHoverBg",ym(v.background.paper,.15)),J(v.StepConnector,"border",k("palette-grey-600")),J(v.StepContent,"border",k("palette-grey-600")),J(v.Switch,"defaultColor",k("palette-grey-300")),J(v.Switch,"defaultDisabledColor",k("palette-grey-600")),J(v.Switch,"primaryDisabledColor",Jt(v.primary.main,.55)),J(v.Switch,"secondaryDisabledColor",Jt(v.secondary.main,.55)),J(v.Switch,"errorDisabledColor",Jt(v.error.main,.55)),J(v.Switch,"infoDisabledColor",Jt(v.info.main,.55)),J(v.Switch,"successDisabledColor",Jt(v.success.main,.55)),J(v.Switch,"warningDisabledColor",Jt(v.warning.main,.55)),J(v.TableCell,"border",Jt(mm(v.divider,1),.68)),J(v.Tooltip,"bg",mm(v.grey[700],.92))}Fs(v.background,"default"),Fs(v.background,"paper"),Fs(v.common,"background"),Fs(v.common,"onBackground"),Fs(v,"divider"),Object.keys(v).forEach(M=>{const P=v[M];M!=="tonalOffset"&&P&&typeof P=="object"&&(P.main&&J(v[M],"mainChannel",ah(lh(P.main))),P.light&&J(v[M],"lightChannel",ah(lh(P.light))),P.dark&&J(v[M],"darkChannel",ah(lh(P.dark))),P.contrastText&&J(v[M],"contrastTextChannel",ah(lh(P.contrastText))),M==="text"&&(Fs(v[M],"primary"),Fs(v[M],"secondary")),M==="action"&&(P.active&&Fs(v[M],"active"),P.selected&&Fs(v[M],"selected")))})}),S=e.reduce((R,v)=>dr(R,v),S);const O={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:s,getSelector:kJ(S)},{vars:N,generateThemeVars:T,generateStyleSheets:I}=PQ(S,O);return S.vars=N,Object.entries(S.colorSchemes[S.defaultColorScheme]).forEach(([R,v])=>{S[R]=v}),S.generateThemeVars=T,S.generateStyleSheets=I,S.generateSpacing=function(){return x5(c.spacing,u_(this))},S.getColorSchemeSelector=kQ(a),S.spacing=S.generateSpacing(),S.shouldSkipGeneratingVar=s,S.unstable_sxConfig={...sg,...c==null?void 0:c.unstable_sxConfig},S.unstable_sx=function(v){return wc({sx:v,theme:this})},S.toRuntimeSource=B5,S}function oA(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:NT({...n===!0?{}:n.palette,mode:e})})}function j5(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:o=n==null?void 0:n.mode,...s}=t,a=o||"light",l=i==null?void 0:i[a],c={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return dx(t,...e);let u=n;"palette"in t||c[a]&&(c[a]!==!0?u=c[a].palette:a==="dark"&&(u={mode:"dark"}));const f=dx({...t,palette:u},...e);return f.defaultColorScheme=a,f.colorSchemes=c,f.palette.mode==="light"&&(f.colorSchemes.light={...c.light!==!0&&c.light,palette:f.palette},oA(f,"dark",c.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:f.palette},oA(f,"light",c.light)),f}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),MJ({...s,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const MT=j5();function tf(){const t=ag(MT);return t[L0]||t}function z5(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Io=t=>z5(t)&&t!=="classes",le=R5({themeId:L0,defaultTheme:MT,rootShouldForwardProp:Io});function DJ(t){return A.jsx(XX,{...t,defaultTheme:MT,themeId:L0})}function $J(t){return function(n){return A.jsx(DJ,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function LJ(){return m_}const vt=CQ;function st(t){return SQ(t)}function FJ(t){return rt("MuiSvgIcon",t)}et("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const BJ=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${ae(e)}`,`fontSize${ae(n)}`]};return it(i,FJ,r)},VJ=le("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${ae(n.color)}`],e[`fontSize${ae(n.fontSize)}`]]}})(vt(({theme:t})=>{var e,n,r,i,o,s,a,l,c,u,f,h,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:E=>!E.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((s=(o=t.typography)==null?void 0:o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((u=(c=t.typography)==null?void 0:c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,E])=>E&&E.main).map(([E])=>{var x,y;return{props:{color:E},style:{color:(y=(x=(t.vars??t).palette)==null?void 0:x[E])==null?void 0:y.main}}}),{props:{color:"action"},style:{color:(h=(f=(t.vars??t).palette)==null?void 0:f.action)==null?void 0:h.active}},{props:{color:"disabled"},style:{color:(g=(p=(t.vars??t).palette)==null?void 0:p.action)==null?void 0:g.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),hx=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:f,viewBox:h="0 0 24 24",...p}=r,g=w.isValidElement(i)&&i.type==="svg",E={...r,color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:g},x={};u||(x.viewBox=h);const y=BJ(E);return A.jsxs(VJ,{as:a,className:Ee(y.root,o),focusable:"false",color:c,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n,...x,...p,...g&&i.props,ownerState:E,children:[g?i.props.children:i,f?A.jsx("title",{children:f}):null]})});hx.muiName="SvgIcon";function Xn(t,e){function n(r,i){return A.jsx(hx,{"data-testid":void 0,ref:i,...r,children:t})}return n.muiName=hx.muiName,w.memo(w.forwardRef(n))}function UJ(t,e){const n=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&n>=65&&n<=90&&typeof e=="function"}function jJ(t,e){if(!t)return e;function n(s,a){const l={};return Object.keys(a).forEach(c=>{UJ(c,a[c])&&typeof s[c]=="function"&&(l[c]=(...u)=>{s[c](...u),a[c](...u)})}),l}if(typeof t=="function"||typeof e=="function")return s=>{const a=typeof e=="function"?e(s):e,l=typeof t=="function"?t({...s,...a}):t,c=Ee(s==null?void 0:s.className,a==null?void 0:a.className,l==null?void 0:l.className),u=n(l,a);return{...a,...l,...u,...!!c&&{className:c},...(a==null?void 0:a.style)&&(l==null?void 0:l.style)&&{style:{...a.style,...l.style}},...(a==null?void 0:a.sx)&&(l==null?void 0:l.sx)&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(l.sx)?l.sx:[l.sx]]}}};const r=e,i=n(t,r),o=Ee(r==null?void 0:r.className,t==null?void 0:t.className);return{...e,...t,...i,...!!o&&{className:o},...(r==null?void 0:r.style)&&(t==null?void 0:t.style)&&{style:{...r.style,...t.style}},...(r==null?void 0:r.sx)&&(t==null?void 0:t.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function W5(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function px(t,e){return px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},px(t,e)}function H5(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,px(t,e)}const sA={disabled:!1},gv=$.createContext(null);var zJ=function(e){return e.scrollTop},ch="unmounted",Gl="exited",Kl="entering",mu="entered",gx="exiting",Os=function(t){H5(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=Gl,o.appearStatus=Kl):l=mu:r.unmountOnExit||r.mountOnEnter?l=ch:l=Gl,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===ch?{status:Gl}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Kl&&s!==mu&&(o=Kl):(s===Kl||s===mu)&&(o=gx)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Kl){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:om.findDOMNode(this);s&&zJ(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Gl&&this.setState({status:ch})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[om.findDOMNode(this),a],c=l[0],u=l[1],f=this.getTimeouts(),h=a?f.appear:f.enter;if(!i&&!s||sA.disabled){this.safeSetState({status:mu},function(){o.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Kl},function(){o.props.onEntering(c,u),o.onTransitionEnd(h,function(){o.safeSetState({status:mu},function(){o.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:om.findDOMNode(this);if(!o||sA.disabled){this.safeSetState({status:Gl},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:gx},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Gl},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:om.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ch)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=W5(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return $.createElement(gv.Provider,{value:null},typeof s=="function"?s(i,a):$.cloneElement($.Children.only(s),a))},e}($.Component);Os.contextType=gv;Os.propTypes={};function su(){}Os.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:su,onEntering:su,onEntered:su,onExit:su,onExiting:su,onExited:su};Os.UNMOUNTED=ch;Os.EXITED=Gl;Os.ENTERING=Kl;Os.ENTERED=mu;Os.EXITING=gx;function WJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DT(t,e){var n=function(o){return e&&w.isValidElement(o)?e(o):o},r=Object.create(null);return t&&w.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function HJ(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var c=r[l][s];a[r[l][s]]=n(c)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function tc(t,e,n){return n[e]!=null?n[e]:t.props[e]}function GJ(t,e){return DT(t.children,function(n){return w.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:tc(n,"appear",t),enter:tc(n,"enter",t),exit:tc(n,"exit",t)})})}function KJ(t,e,n){var r=DT(t.children),i=HJ(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(w.isValidElement(s)){var a=o in e,l=o in r,c=e[o],u=w.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[o]=w.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:tc(s,"exit",t),enter:tc(s,"enter",t)}):!l&&a&&!u?i[o]=w.cloneElement(s,{in:!1}):l&&a&&w.isValidElement(c)&&(i[o]=w.cloneElement(s,{onExited:n.bind(null,s),in:c.props.in,exit:tc(s,"exit",t),enter:tc(s,"enter",t)}))}}),i}var qJ=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},YJ={component:"div",childFactory:function(e){return e}},$T=function(t){H5(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(WJ(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?GJ(i,a):KJ(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=DT(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=uv({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=W5(i,["component","childFactory"]),l=this.state.contextValue,c=qJ(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?$.createElement(gv.Provider,{value:l},c):$.createElement(gv.Provider,{value:l},$.createElement(o,a,c))},e}($.Component);$T.propTypes={};$T.defaultProps=YJ;const G5=t=>t.scrollTop;function mv(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function XJ(t){return rt("MuiPaper",t)}et("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const QJ=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return it(o,XJ,i)},JJ=le("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(vt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),nf=w.forwardRef(function(e,n){var p;const r=st({props:e,name:"MuiPaper"}),i=tf(),{className:o,component:s="div",elevation:a=1,square:l=!1,variant:c="elevation",...u}=r,f={...r,component:s,elevation:a,square:l,variant:c},h=QJ(f);return A.jsx(JJ,{as:s,ownerState:f,className:Ee(h.root,o),ref:n,...u,style:{...c==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(p=i.vars.overlays)==null?void 0:p[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Ot("#fff",fx(a))}, ${Ot("#fff",fx(a))})`}},...u.style}})});function Gt(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...l}=e,{component:c,slots:u={[t]:void 0},slotProps:f={[t]:void 0},...h}=o,p=u[t]||r,g=$5(f[t],i),{props:{component:E,...x},internalRef:y}=D5({className:n,...l,externalForwardedProps:t==="root"?h:void 0,externalSlotProps:g}),b=fr(y,g==null?void 0:g.ref,e.ref),_=t==="root"?E||c:E,S=N5(p,{...t==="root"&&!c&&!u[t]&&s,...t!=="root"&&!u[t]&&s,...x,..._&&!a&&{as:_},..._&&a&&{component:_},ref:b},i);return[p,S]}class yv{constructor(){Cf(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new yv}static use(){const e=k5(yv.create).current,[n,r]=w.useState(!1);return e.shouldMount=n,e.setShouldMount=r,w.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=eZ(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function ZJ(){return yv.use()}function eZ(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function tZ(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:c}=t,[u,f]=w.useState(!1),h=Ee(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},g=Ee(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&f(!0),w.useEffect(()=>{if(!a&&l!=null){const E=setTimeout(l,c);return()=>{clearTimeout(E)}}},[l,a,c]),A.jsx("span",{className:h,style:p,children:A.jsx("span",{className:g})})}const lo=et("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),mx=550,nZ=80,rZ=ig`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,iZ=ig`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,oZ=ig`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,sZ=le("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),aZ=le(tZ,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${lo.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${rZ};
    animation-duration: ${mx}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${lo.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${lo.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${lo.childLeaving} {
    opacity: 0;
    animation-name: ${iZ};
    animation-duration: ${mx}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${lo.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${oZ};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,lZ=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s,...a}=r,[l,c]=w.useState([]),u=w.useRef(0),f=w.useRef(null);w.useEffect(()=>{f.current&&(f.current(),f.current=null)},[l]);const h=w.useRef(!1),p=A5(),g=w.useRef(null),E=w.useRef(null),x=w.useCallback(S=>{const{pulsate:O,rippleX:N,rippleY:T,rippleSize:I,cb:R}=S;c(v=>[...v,A.jsx(aZ,{classes:{ripple:Ee(o.ripple,lo.ripple),rippleVisible:Ee(o.rippleVisible,lo.rippleVisible),ripplePulsate:Ee(o.ripplePulsate,lo.ripplePulsate),child:Ee(o.child,lo.child),childLeaving:Ee(o.childLeaving,lo.childLeaving),childPulsate:Ee(o.childPulsate,lo.childPulsate)},timeout:mx,pulsate:O,rippleX:N,rippleY:T,rippleSize:I},u.current)]),u.current+=1,f.current=R},[o]),y=w.useCallback((S={},O={},N=()=>{})=>{const{pulsate:T=!1,center:I=i||O.pulsate,fakeElement:R=!1}=O;if((S==null?void 0:S.type)==="mousedown"&&h.current){h.current=!1;return}(S==null?void 0:S.type)==="touchstart"&&(h.current=!0);const v=R?null:E.current,k=v?v.getBoundingClientRect():{width:0,height:0,left:0,top:0};let M,P,q;if(I||S===void 0||S.clientX===0&&S.clientY===0||!S.clientX&&!S.touches)M=Math.round(k.width/2),P=Math.round(k.height/2);else{const{clientX:H,clientY:W}=S.touches&&S.touches.length>0?S.touches[0]:S;M=Math.round(H-k.left),P=Math.round(W-k.top)}if(I)q=Math.sqrt((2*k.width**2+k.height**2)/3),q%2===0&&(q+=1);else{const H=Math.max(Math.abs((v?v.clientWidth:0)-M),M)*2+2,W=Math.max(Math.abs((v?v.clientHeight:0)-P),P)*2+2;q=Math.sqrt(H**2+W**2)}S!=null&&S.touches?g.current===null&&(g.current=()=>{x({pulsate:T,rippleX:M,rippleY:P,rippleSize:q,cb:N})},p.start(nZ,()=>{g.current&&(g.current(),g.current=null)})):x({pulsate:T,rippleX:M,rippleY:P,rippleSize:q,cb:N})},[i,x,p]),b=w.useCallback(()=>{y({},{pulsate:!0})},[y]),_=w.useCallback((S,O)=>{if(p.clear(),(S==null?void 0:S.type)==="touchend"&&g.current){g.current(),g.current=null,p.start(0,()=>{_(S,O)});return}g.current=null,c(N=>N.length>0?N.slice(1):N),f.current=O},[p]);return w.useImperativeHandle(n,()=>({pulsate:b,start:y,stop:_}),[b,y,_]),A.jsx(sZ,{className:Ee(lo.root,o.root,s),ref:E,...a,children:A.jsx($T,{component:null,exit:!0,children:l})})});function cZ(t){return rt("MuiButtonBase",t)}const uZ=et("MuiButtonBase",["root","disabled","focusVisible"]),dZ=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=it({root:["root",e&&"disabled",n&&"focusVisible"]},cZ,i);return n&&r&&(s.root+=` ${r}`),s},fZ=le("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${uZ.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),vl=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:f=!1,focusRipple:h=!1,focusVisibleClassName:p,LinkComponent:g="a",onBlur:E,onClick:x,onContextMenu:y,onDragLeave:b,onFocus:_,onFocusVisible:S,onKeyDown:O,onKeyUp:N,onMouseDown:T,onMouseLeave:I,onMouseUp:R,onTouchEnd:v,onTouchMove:k,onTouchStart:M,tabIndex:P=0,TouchRippleProps:q,touchRippleRef:H,type:W,...G}=r,V=w.useRef(null),B=ZJ(),Q=fr(B.ref,H),[re,he]=w.useState(!1);c&&re&&he(!1),w.useImperativeHandle(i,()=>({focusVisible:()=>{he(!0),V.current.focus()}}),[]);const ge=B.shouldMount&&!u&&!c;w.useEffect(()=>{re&&h&&!u&&B.pulsate()},[u,h,re,B]);const ie=Bs(B,"start",T,f),oe=Bs(B,"stop",y,f),Me=Bs(B,"stop",b,f),Ve=Bs(B,"stop",R,f),Ae=Bs(B,"stop",Pe=>{re&&Pe.preventDefault(),I&&I(Pe)},f),De=Bs(B,"start",M,f),_e=Bs(B,"stop",v,f),$e=Bs(B,"stop",k,f),Oe=Bs(B,"stop",Pe=>{Yk(Pe.target)||he(!1),E&&E(Pe)},!1),Le=pi(Pe=>{V.current||(V.current=Pe.currentTarget),Yk(Pe.target)&&(he(!0),S&&S(Pe)),_&&_(Pe)}),Ue=()=>{const Pe=V.current;return l&&l!=="button"&&!(Pe.tagName==="A"&&Pe.href)},ze=pi(Pe=>{h&&!Pe.repeat&&re&&Pe.key===" "&&B.stop(Pe,()=>{B.start(Pe)}),Pe.target===Pe.currentTarget&&Ue()&&Pe.key===" "&&Pe.preventDefault(),O&&O(Pe),Pe.target===Pe.currentTarget&&Ue()&&Pe.key==="Enter"&&!c&&(Pe.preventDefault(),x&&x(Pe))}),Nt=pi(Pe=>{h&&Pe.key===" "&&re&&!Pe.defaultPrevented&&B.stop(Pe,()=>{B.pulsate(Pe)}),N&&N(Pe),x&&Pe.target===Pe.currentTarget&&Ue()&&Pe.key===" "&&!Pe.defaultPrevented&&x(Pe)});let me=l;me==="button"&&(G.href||G.to)&&(me=g);const It={};me==="button"?(It.type=W===void 0?"button":W,It.disabled=c):(!G.href&&!G.to&&(It.role="button"),c&&(It["aria-disabled"]=c));const We=fr(n,V),pt={...r,centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:f,focusRipple:h,tabIndex:P,focusVisible:re},at=dZ(pt);return A.jsxs(fZ,{as:me,className:Ee(at.root,a),ownerState:pt,onBlur:Oe,onClick:x,onContextMenu:oe,onFocus:Le,onKeyDown:ze,onKeyUp:Nt,onMouseDown:ie,onMouseLeave:Ae,onMouseUp:Ve,onDragLeave:Me,onTouchEnd:_e,onTouchMove:$e,onTouchStart:De,ref:We,tabIndex:c?-1:P,type:W,...It,...G,children:[s,ge?A.jsx(lZ,{ref:Q,center:o,...q}):null]})});function Bs(t,e,n,r=!1){return pi(i=>(n&&n(i),r||t[e](i),!0))}function hZ(t){return typeof t.main=="string"}function pZ(t,e=[]){if(!hZ(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function gi(t=[]){return([,e])=>e&&pZ(e,t)}function gZ(t){return rt("MuiCircularProgress",t)}et("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Ra=44,yx=ig`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,vx=ig`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,mZ=typeof yx!="string"?bT`
        animation: ${yx} 1.4s linear infinite;
      `:null,yZ=typeof vx!="string"?bT`
        animation: ${vx} 1.4s ease-in-out infinite;
      `:null,vZ=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,`color${ae(r)}`],svg:["svg"],circle:["circle",`circle${ae(n)}`,i&&"circleDisableShrink"]};return it(o,gZ,e)},_Z=le("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${ae(n.color)}`]]}})(vt(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:mZ||{animation:`${yx} 1.4s linear infinite`}},...Object.entries(t.palette).filter(gi()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),bZ=le("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),wZ=le("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${ae(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(vt(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:yZ||{animation:`${vx} 1.4s ease-in-out infinite`}}]}))),K5=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:f="indeterminate",...h}=r,p={...r,color:o,disableShrink:s,size:a,thickness:c,value:u,variant:f},g=vZ(p),E={},x={},y={};if(f==="determinate"){const b=2*Math.PI*((Ra-c)/2);E.strokeDasharray=b.toFixed(3),y["aria-valuenow"]=Math.round(u),E.strokeDashoffset=`${((100-u)/100*b).toFixed(3)}px`,x.transform="rotate(-90deg)"}return A.jsx(_Z,{className:Ee(g.root,i),style:{width:a,height:a,...x,...l},ownerState:p,ref:n,role:"progressbar",...y,...h,children:A.jsx(bZ,{className:g.svg,ownerState:p,viewBox:`${Ra/2} ${Ra/2} ${Ra} ${Ra}`,children:A.jsx(wZ,{className:g.circle,style:E,ownerState:p,cx:Ra,cy:Ra,r:(Ra-c)/2,fill:"none",strokeWidth:c})})})});function EZ(t){return rt("MuiIconButton",t)}const aA=et("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),xZ=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o,loading:s}=t,a={root:["root",s&&"loading",n&&"disabled",r!=="default"&&`color${ae(r)}`,i&&`edge${ae(i)}`,`size${ae(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return it(a,EZ,e)},SZ=le(vl,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${ae(n.color)}`],n.edge&&e[`edge${ae(n.edge)}`],e[`size${ae(n.size)}`]]}})(vt(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),vt(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(gi()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(gi()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${aA.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${aA.loading}`]:{color:"transparent"}}))),CZ=le("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),vv=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium",id:f,loading:h=null,loadingIndicator:p,...g}=r,E=Zd(f),x=p??A.jsx(K5,{"aria-labelledby":E,color:"inherit",size:16}),y={...r,edge:i,color:a,disabled:l,disableFocusRipple:c,loading:h,loadingIndicator:x,size:u},b=xZ(y);return A.jsxs(SZ,{id:h?E:f,className:Ee(b.root,s),centerRipple:!0,focusRipple:!c,disabled:l||h,ref:n,...g,ownerState:y,children:[typeof h=="boolean"&&A.jsx("span",{className:b.loadingWrapper,style:{display:"contents"},children:A.jsx(CZ,{className:b.loadingIndicator,ownerState:y,children:h&&x})}),o]})}),TZ=Xn(A.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function IZ(t){return rt("MuiTypography",t)}et("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const RZ={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},PZ=LJ(),kZ=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=t,a={root:["root",o,t.align!=="inherit"&&`align${ae(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return it(a,IZ,s)},AZ=le("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${ae(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(vt(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(gi()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${ae(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),lA={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Fi=w.forwardRef(function(e,n){const{color:r,...i}=st({props:e,name:"MuiTypography"}),o=!RZ[r],s=PZ({...i,...o&&{color:r}}),{align:a="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:f=!1,paragraph:h=!1,variant:p="body1",variantMapping:g=lA,...E}=s,x={...s,align:a,color:r,className:l,component:c,gutterBottom:u,noWrap:f,paragraph:h,variant:p,variantMapping:g},y=c||(h?"p":g[p]||lA[p])||"span",b=kZ(x);return A.jsx(AZ,{as:y,ref:n,className:Ee(b.root,l),...E,ownerState:x,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...E.style}})});function cA(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function OZ(t={}){const{ignoreAccents:e=!0,ignoreCase:n=!0,limit:r,matchFrom:i="any",stringify:o,trim:s=!1}=t;return(a,{inputValue:l,getOptionLabel:c})=>{let u=s?l.trim():l;n&&(u=u.toLowerCase()),e&&(u=cA(u));const f=u?a.filter(h=>{let p=(o||c)(h);return n&&(p=p.toLowerCase()),e&&(p=cA(p)),i==="start"?p.startsWith(u):p.includes(u)}):a;return typeof r=="number"?f.slice(0,r):f}}const NZ=OZ(),MZ=5,DZ=t=>{var e;return t.current!==null&&((e=t.current.parentElement)==null?void 0:e.contains(document.activeElement))},$Z=[];function uA(t,e,n){if(e||t==null)return"";const r=n(t);return typeof r=="string"?r:""}function LZ(t){const{unstable_isActiveElementInListbox:e=DZ,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:i=!1,autoSelect:o=!1,blurOnSelect:s=!1,clearOnBlur:a=!t.freeSolo,clearOnEscape:l=!1,componentName:c="useAutocomplete",defaultValue:u=t.multiple?$Z:null,disableClearable:f=!1,disableCloseOnSelect:h=!1,disabled:p,disabledItemsFocusable:g=!1,disableListWrap:E=!1,filterOptions:x=NZ,filterSelectedOptions:y=!1,freeSolo:b=!1,getOptionDisabled:_,getOptionKey:S,getOptionLabel:O=Z=>Z.label??Z,groupBy:N,handleHomeEndKeys:T=!t.freeSolo,id:I,includeInputInList:R=!1,inputValue:v,isOptionEqualToValue:k=(Z,Y)=>Z===Y,multiple:M=!1,onChange:P,onClose:q,onHighlightChange:H,onInputChange:W,onOpen:G,open:V,openOnFocus:B=!1,options:Q,readOnly:re=!1,selectOnFocus:he=!t.freeSolo,value:ge}=t,ie=Zd(I);let oe=O;oe=Z=>{const Y=O(Z);return typeof Y!="string"?String(Y):Y};const Me=w.useRef(!1),Ve=w.useRef(!0),Ae=w.useRef(null),De=w.useRef(null),[_e,$e]=w.useState(null),[Oe,Le]=w.useState(-1),Ue=i?0:-1,ze=w.useRef(Ue),Nt=w.useRef(uA(u,M,oe)).current,[me,It]=kh({controlled:ge,default:u,name:c}),[We,pt]=kh({controlled:v,default:Nt,name:c,state:"inputValue"}),[at,Pe]=w.useState(!1),nn=w.useCallback((Z,Y,Se)=>{if(!(M?me.length<Y.length:Y!==null)&&!a)return;const ct=uA(Y,M,oe);We!==ct&&(pt(ct),W&&W(Z,ct,Se))},[oe,We,M,W,pt,a,me]),[ot,En]=kh({controlled:V,default:!1,name:c,state:"open"}),[xt,_t]=w.useState(!0),St=!M&&me!=null&&We===oe(me),Bt=ot&&!re,gt=Bt?x(Q.filter(Z=>!(y&&(M?me:[me]).some(Y=>Y!==null&&k(Z,Y)))),{inputValue:St&&xt?"":We,getOptionLabel:oe}):[],Qe=vQ({filteredOptions:gt,value:me,inputValue:We});w.useEffect(()=>{const Z=me!==Qe.value;at&&!Z||b&&!Z||nn(null,me,"reset")},[me,nn,at,Qe.value,b]);const xn=ot&&gt.length>0&&!re,Vn=pi(Z=>{Z===-1?Ae.current.focus():_e.querySelector(`[data-tag-index="${Z}"]`).focus()});w.useEffect(()=>{M&&Oe>me.length-1&&(Le(-1),Vn(-1))},[me,M,Oe,Vn]);function Hr(Z,Y){if(!De.current||Z<0||Z>=gt.length)return-1;let Se=Z;for(;;){const Je=De.current.querySelector(`[data-option-index="${Se}"]`),ct=g?!1:!Je||Je.disabled||Je.getAttribute("aria-disabled")==="true";if(Je&&Je.hasAttribute("tabindex")&&!ct)return Se;if(Y==="next"?Se=(Se+1)%gt.length:Se=(Se-1+gt.length)%gt.length,Se===Z)return-1}}const xe=pi(({event:Z,index:Y,reason:Se})=>{if(ze.current=Y,Y===-1?Ae.current.removeAttribute("aria-activedescendant"):Ae.current.setAttribute("aria-activedescendant",`${ie}-option-${Y}`),H&&["mouse","keyboard","touch"].includes(Se)&&H(Z,Y===-1?null:gt[Y],Se),!De.current)return;const Je=De.current.querySelector(`[role="option"].${n}-focused`);Je&&(Je.classList.remove(`${n}-focused`),Je.classList.remove(`${n}-focusVisible`));let ct=De.current;if(De.current.getAttribute("role")!=="listbox"&&(ct=De.current.parentElement.querySelector('[role="listbox"]')),!ct)return;if(Y===-1){ct.scrollTop=0;return}const $t=De.current.querySelector(`[data-option-index="${Y}"]`);if($t&&($t.classList.add(`${n}-focused`),Se==="keyboard"&&$t.classList.add(`${n}-focusVisible`),ct.scrollHeight>ct.clientHeight&&Se!=="mouse"&&Se!=="touch")){const vn=$t,Rr=ct.clientHeight+ct.scrollTop,zc=vn.offsetTop+vn.offsetHeight;zc>Rr?ct.scrollTop=zc-ct.clientHeight:vn.offsetTop-vn.offsetHeight*(N?1.3:0)<ct.scrollTop&&(ct.scrollTop=vn.offsetTop-vn.offsetHeight*(N?1.3:0))}}),Te=pi(({event:Z,diff:Y,direction:Se="next",reason:Je})=>{if(!Bt)return;const $t=Hr((()=>{const vn=gt.length-1;if(Y==="reset")return Ue;if(Y==="start")return 0;if(Y==="end")return vn;const Rr=ze.current+Y;return Rr<0?Rr===-1&&R?-1:E&&ze.current!==-1||Math.abs(Y)>1?0:vn:Rr>vn?Rr===vn+1&&R?-1:E||Math.abs(Y)>1?vn:0:Rr})(),Se);if(xe({index:$t,reason:Je,event:Z}),r&&Y!=="reset")if($t===-1)Ae.current.value=We;else{const vn=oe(gt[$t]);Ae.current.value=vn,vn.toLowerCase().indexOf(We.toLowerCase())===0&&We.length>0&&Ae.current.setSelectionRange(We.length,vn.length)}}),Yt=()=>{const Z=(Y,Se)=>{const Je=Y?oe(Y):"",ct=Se?oe(Se):"";return Je===ct};if(ze.current!==-1&&Qe.filteredOptions&&Qe.filteredOptions.length!==gt.length&&Qe.inputValue===We&&(M?me.length===Qe.value.length&&Qe.value.every((Y,Se)=>oe(me[Se])===oe(Y)):Z(Qe.value,me))){const Y=Qe.filteredOptions[ze.current];if(Y)return gt.findIndex(Se=>oe(Se)===oe(Y))}return-1},Un=w.useCallback(()=>{if(!Bt)return;const Z=Yt();if(Z!==-1){ze.current=Z;return}const Y=M?me[0]:me;if(gt.length===0||Y==null){Te({diff:"reset"});return}if(De.current){if(Y!=null){const Se=gt[ze.current];if(M&&Se&&me.findIndex(ct=>k(Se,ct))!==-1)return;const Je=gt.findIndex(ct=>k(ct,Y));Je===-1?Te({diff:"reset"}):xe({index:Je});return}if(ze.current>=gt.length-1){xe({index:gt.length-1});return}xe({index:ze.current})}},[gt.length,M?!1:me,y,Te,xe,Bt,We,M]),Gr=pi(Z=>{hv(De,Z),Z&&Un()});w.useEffect(()=>{Un()},[Un]);const pr=Z=>{ot||(En(!0),_t(!0),G&&G(Z))},Ir=(Z,Y)=>{ot&&(En(!1),q&&q(Z,Y))},jn=(Z,Y,Se,Je)=>{if(M){if(me.length===Y.length&&me.every((ct,$t)=>ct===Y[$t]))return}else if(me===Y)return;P&&P(Z,Y,Se,Je),It(Y)},Ri=w.useRef(!1),rn=(Z,Y,Se="selectOption",Je="options")=>{let ct=Se,$t=Y;if(M){$t=Array.isArray(me)?me.slice():[];const vn=$t.findIndex(Rr=>k(Y,Rr));vn===-1?$t.push(Y):Je!=="freeSolo"&&($t.splice(vn,1),ct="removeOption")}nn(Z,$t,ct),jn(Z,$t,ct,{option:Y}),!h&&(!Z||!Z.ctrlKey&&!Z.metaKey)&&Ir(Z,ct),(s===!0||s==="touch"&&Ri.current||s==="mouse"&&!Ri.current)&&Ae.current.blur()};function ro(Z,Y){if(Z===-1)return-1;let Se=Z;for(;;){if(Y==="next"&&Se===me.length||Y==="previous"&&Se===-1)return-1;const Je=_e.querySelector(`[data-tag-index="${Se}"]`);if(!Je||!Je.hasAttribute("tabindex")||Je.disabled||Je.getAttribute("aria-disabled")==="true")Se+=Y==="next"?1:-1;else return Se}}const io=(Z,Y)=>{if(!M)return;We===""&&Ir(Z,"toggleInput");let Se=Oe;Oe===-1?We===""&&Y==="previous"&&(Se=me.length-1):(Se+=Y==="next"?1:-1,Se<0&&(Se=0),Se===me.length&&(Se=-1)),Se=ro(Se,Y),Le(Se),Vn(Se)},Pi=Z=>{Me.current=!0,pt(""),W&&W(Z,"","clear"),jn(Z,M?[]:null,"clear")},gr=Z=>Y=>{if(Z.onKeyDown&&Z.onKeyDown(Y),!Y.defaultMuiPrevented&&(Oe!==-1&&!["ArrowLeft","ArrowRight"].includes(Y.key)&&(Le(-1),Vn(-1)),Y.which!==229))switch(Y.key){case"Home":Bt&&T&&(Y.preventDefault(),Te({diff:"start",direction:"next",reason:"keyboard",event:Y}));break;case"End":Bt&&T&&(Y.preventDefault(),Te({diff:"end",direction:"previous",reason:"keyboard",event:Y}));break;case"PageUp":Y.preventDefault(),Te({diff:-5,direction:"previous",reason:"keyboard",event:Y}),pr(Y);break;case"PageDown":Y.preventDefault(),Te({diff:MZ,direction:"next",reason:"keyboard",event:Y}),pr(Y);break;case"ArrowDown":Y.preventDefault(),Te({diff:1,direction:"next",reason:"keyboard",event:Y}),pr(Y);break;case"ArrowUp":Y.preventDefault(),Te({diff:-1,direction:"previous",reason:"keyboard",event:Y}),pr(Y);break;case"ArrowLeft":io(Y,"previous");break;case"ArrowRight":io(Y,"next");break;case"Enter":if(ze.current!==-1&&Bt){const Se=gt[ze.current],Je=_?_(Se):!1;if(Y.preventDefault(),Je)return;rn(Y,Se,"selectOption"),r&&Ae.current.setSelectionRange(Ae.current.value.length,Ae.current.value.length)}else b&&We!==""&&St===!1&&(M&&Y.preventDefault(),rn(Y,We,"createOption","freeSolo"));break;case"Escape":Bt?(Y.preventDefault(),Y.stopPropagation(),Ir(Y,"escape")):l&&(We!==""||M&&me.length>0)&&(Y.preventDefault(),Y.stopPropagation(),Pi(Y));break;case"Backspace":if(M&&!re&&We===""&&me.length>0){const Se=Oe===-1?me.length-1:Oe,Je=me.slice();Je.splice(Se,1),jn(Y,Je,"removeOption",{option:me[Se]})}break;case"Delete":if(M&&!re&&We===""&&me.length>0&&Oe!==-1){const Se=Oe,Je=me.slice();Je.splice(Se,1),jn(Y,Je,"removeOption",{option:me[Se]})}break}},ve=Z=>{Pe(!0),B&&!Me.current&&pr(Z)},de=Z=>{if(e(De)){Ae.current.focus();return}Pe(!1),Ve.current=!0,Me.current=!1,o&&ze.current!==-1&&Bt?rn(Z,gt[ze.current],"blur"):o&&b&&We!==""?rn(Z,We,"blur","freeSolo"):a&&nn(Z,me,"blur"),Ir(Z,"blur")},lt=Z=>{const Y=Z.target.value;We!==Y&&(pt(Y),_t(!1),W&&W(Z,Y,"input")),Y===""?!f&&!M&&jn(Z,null,"clear"):pr(Z)},tt=Z=>{const Y=Number(Z.currentTarget.getAttribute("data-option-index"));ze.current!==Y&&xe({event:Z,index:Y,reason:"mouse"})},Mt=Z=>{xe({event:Z,index:Number(Z.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Ri.current=!0},mr=Z=>{const Y=Number(Z.currentTarget.getAttribute("data-option-index"));rn(Z,gt[Y],"selectOption"),Ri.current=!1},ii=Z=>Y=>{const Se=me.slice();Se.splice(Z,1),jn(Y,Se,"removeOption",{option:me[Z]})},yr=Z=>{ot?Ir(Z,"toggleInput"):pr(Z)},Ro=Z=>{Z.currentTarget.contains(Z.target)&&Z.target.getAttribute("id")!==ie&&Z.preventDefault()},Sn=Z=>{Z.currentTarget.contains(Z.target)&&(Ae.current.focus(),he&&Ve.current&&Ae.current.selectionEnd-Ae.current.selectionStart===0&&Ae.current.select(),Ve.current=!1)},yn=Z=>{!p&&(We===""||!ot)&&yr(Z)};let oi=b&&We.length>0;oi=oi||(M?me.length>0:me!==null);let $s=gt;return N&&($s=gt.reduce((Z,Y,Se)=>{const Je=N(Y);return Z.length>0&&Z[Z.length-1].group===Je?Z[Z.length-1].options.push(Y):Z.push({key:Se,index:Se,group:Je,options:[Y]}),Z},[])),p&&at&&de(),{getRootProps:(Z={})=>({...Z,onKeyDown:gr(Z),onMouseDown:Ro,onClick:Sn}),getInputLabelProps:()=>({id:`${ie}-label`,htmlFor:ie}),getInputProps:()=>({id:ie,value:We,onBlur:de,onFocus:ve,onChange:lt,onMouseDown:yn,"aria-activedescendant":Bt?"":null,"aria-autocomplete":r?"both":"list","aria-controls":xn?`${ie}-listbox`:void 0,"aria-expanded":xn,autoComplete:"off",ref:Ae,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:p}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Pi}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:yr}),getTagProps:({index:Z})=>({key:Z,"data-tag-index":Z,tabIndex:-1,...!re&&{onDelete:ii(Z)}}),getListboxProps:()=>({role:"listbox",id:`${ie}-listbox`,"aria-labelledby":`${ie}-label`,ref:Gr,onMouseDown:Z=>{Z.preventDefault()}}),getOptionProps:({index:Z,option:Y})=>{const Se=(M?me:[me]).some(ct=>ct!=null&&k(Y,ct)),Je=_?_(Y):!1;return{key:(S==null?void 0:S(Y))??oe(Y),tabIndex:-1,role:"option",id:`${ie}-option-${Z}`,onMouseMove:tt,onClick:mr,onTouchStart:Mt,"data-option-index":Z,"aria-disabled":Je,"aria-selected":Se}},id:ie,inputValue:We,value:me,dirty:oi,expanded:Bt&&_e,popupOpen:Bt,focused:at||Oe!==-1,anchorEl:_e,setAnchorEl:$e,focusedTag:Oe,groupedOptions:$s}}var bi="top",Eo="bottom",xo="right",wi="left",LT="auto",cg=[bi,Eo,xo,wi],Rd="start",_p="end",FZ="clippingParents",q5="viewport",Ff="popper",BZ="reference",dA=cg.reduce(function(t,e){return t.concat([e+"-"+Rd,e+"-"+_p])},[]),Y5=[].concat(cg,[LT]).reduce(function(t,e){return t.concat([e,e+"-"+Rd,e+"-"+_p])},[]),VZ="beforeRead",UZ="read",jZ="afterRead",zZ="beforeMain",WZ="main",HZ="afterMain",GZ="beforeWrite",KZ="write",qZ="afterWrite",YZ=[VZ,UZ,jZ,zZ,WZ,HZ,GZ,KZ,qZ];function Is(t){return t?(t.nodeName||"").toLowerCase():null}function Ji(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ec(t){var e=Ji(t).Element;return t instanceof e||t instanceof Element}function vo(t){var e=Ji(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function FT(t){if(typeof ShadowRoot>"u")return!1;var e=Ji(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function XZ(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!vo(o)||!Is(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function QZ(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,c){return l[c]="",l},{});!vo(i)||!Is(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const JZ={name:"applyStyles",enabled:!0,phase:"write",fn:XZ,effect:QZ,requires:["computeStyles"]};function xs(t){return t.split("-")[0]}var cc=Math.max,_v=Math.min,Pd=Math.round;function _x(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function X5(){return!/^((?!chrome|android).)*safari/i.test(_x())}function kd(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&vo(t)&&(i=t.offsetWidth>0&&Pd(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Pd(r.height)/t.offsetHeight||1);var s=Ec(t)?Ji(t):window,a=s.visualViewport,l=!X5()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/o,f=r.width/i,h=r.height/o;return{width:f,height:h,top:u,right:c+f,bottom:u+h,left:c,x:c,y:u}}function BT(t){var e=kd(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Q5(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&FT(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function pa(t){return Ji(t).getComputedStyle(t)}function ZZ(t){return["table","td","th"].indexOf(Is(t))>=0}function Nl(t){return((Ec(t)?t.ownerDocument:t.document)||window.document).documentElement}function w_(t){return Is(t)==="html"?t:t.assignedSlot||t.parentNode||(FT(t)?t.host:null)||Nl(t)}function fA(t){return!vo(t)||pa(t).position==="fixed"?null:t.offsetParent}function eee(t){var e=/firefox/i.test(_x()),n=/Trident/i.test(_x());if(n&&vo(t)){var r=pa(t);if(r.position==="fixed")return null}var i=w_(t);for(FT(i)&&(i=i.host);vo(i)&&["html","body"].indexOf(Is(i))<0;){var o=pa(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function ug(t){for(var e=Ji(t),n=fA(t);n&&ZZ(n)&&pa(n).position==="static";)n=fA(n);return n&&(Is(n)==="html"||Is(n)==="body"&&pa(n).position==="static")?e:n||eee(t)||e}function VT(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ah(t,e,n){return cc(t,_v(e,n))}function tee(t,e,n){var r=Ah(t,e,n);return r>n?n:r}function J5(){return{top:0,right:0,bottom:0,left:0}}function Z5(t){return Object.assign({},J5(),t)}function e4(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var nee=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Z5(typeof e!="number"?e:e4(e,cg))};function ree(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=xs(n.placement),l=VT(a),c=[wi,xo].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!s)){var f=nee(i.padding,n),h=BT(o),p=l==="y"?bi:wi,g=l==="y"?Eo:xo,E=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],x=s[l]-n.rects.reference[l],y=ug(o),b=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,_=E/2-x/2,S=f[p],O=b-h[u]-f[g],N=b/2-h[u]/2+_,T=Ah(S,N,O),I=l;n.modifiersData[r]=(e={},e[I]=T,e.centerOffset=T-N,e)}}function iee(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Q5(e.elements.popper,i)&&(e.elements.arrow=i))}const oee={name:"arrow",enabled:!0,phase:"main",fn:ree,effect:iee,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ad(t){return t.split("-")[1]}var see={top:"auto",right:"auto",bottom:"auto",left:"auto"};function aee(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Pd(n*i)/i||0,y:Pd(r*i)/i||0}}function hA(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,f=t.isFixed,h=s.x,p=h===void 0?0:h,g=s.y,E=g===void 0?0:g,x=typeof u=="function"?u({x:p,y:E}):{x:p,y:E};p=x.x,E=x.y;var y=s.hasOwnProperty("x"),b=s.hasOwnProperty("y"),_=wi,S=bi,O=window;if(c){var N=ug(n),T="clientHeight",I="clientWidth";if(N===Ji(n)&&(N=Nl(n),pa(N).position!=="static"&&a==="absolute"&&(T="scrollHeight",I="scrollWidth")),N=N,i===bi||(i===wi||i===xo)&&o===_p){S=Eo;var R=f&&N===O&&O.visualViewport?O.visualViewport.height:N[T];E-=R-r.height,E*=l?1:-1}if(i===wi||(i===bi||i===Eo)&&o===_p){_=xo;var v=f&&N===O&&O.visualViewport?O.visualViewport.width:N[I];p-=v-r.width,p*=l?1:-1}}var k=Object.assign({position:a},c&&see),M=u===!0?aee({x:p,y:E},Ji(n)):{x:p,y:E};if(p=M.x,E=M.y,l){var P;return Object.assign({},k,(P={},P[S]=b?"0":"",P[_]=y?"0":"",P.transform=(O.devicePixelRatio||1)<=1?"translate("+p+"px, "+E+"px)":"translate3d("+p+"px, "+E+"px, 0)",P))}return Object.assign({},k,(e={},e[S]=b?E+"px":"",e[_]=y?p+"px":"",e.transform="",e))}function lee(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:xs(e.placement),variation:Ad(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,hA(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,hA(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const cee={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:lee,data:{}};var vm={passive:!0};function uee(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=Ji(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,vm)}),a&&l.addEventListener("resize",n.update,vm),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,vm)}),a&&l.removeEventListener("resize",n.update,vm)}}const dee={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:uee,data:{}};var fee={left:"right",right:"left",bottom:"top",top:"bottom"};function hy(t){return t.replace(/left|right|bottom|top/g,function(e){return fee[e]})}var hee={start:"end",end:"start"};function pA(t){return t.replace(/start|end/g,function(e){return hee[e]})}function UT(t){var e=Ji(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function jT(t){return kd(Nl(t)).left+UT(t).scrollLeft}function pee(t,e){var n=Ji(t),r=Nl(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=X5();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+jT(t),y:l}}function gee(t){var e,n=Nl(t),r=UT(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=cc(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=cc(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+jT(t),l=-r.scrollTop;return pa(i||n).direction==="rtl"&&(a+=cc(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function zT(t){var e=pa(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function t4(t){return["html","body","#document"].indexOf(Is(t))>=0?t.ownerDocument.body:vo(t)&&zT(t)?t:t4(w_(t))}function Oh(t,e){var n;e===void 0&&(e=[]);var r=t4(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Ji(r),s=i?[o].concat(o.visualViewport||[],zT(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(Oh(w_(s)))}function bx(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function mee(t,e){var n=kd(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function gA(t,e,n){return e===q5?bx(pee(t,n)):Ec(e)?mee(e,n):bx(gee(Nl(t)))}function yee(t){var e=Oh(w_(t)),n=["absolute","fixed"].indexOf(pa(t).position)>=0,r=n&&vo(t)?ug(t):t;return Ec(r)?e.filter(function(i){return Ec(i)&&Q5(i,r)&&Is(i)!=="body"}):[]}function vee(t,e,n,r){var i=e==="clippingParents"?yee(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,c){var u=gA(t,c,r);return l.top=cc(u.top,l.top),l.right=_v(u.right,l.right),l.bottom=_v(u.bottom,l.bottom),l.left=cc(u.left,l.left),l},gA(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function n4(t){var e=t.reference,n=t.element,r=t.placement,i=r?xs(r):null,o=r?Ad(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case bi:l={x:s,y:e.y-n.height};break;case Eo:l={x:s,y:e.y+e.height};break;case xo:l={x:e.x+e.width,y:a};break;case wi:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?VT(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case Rd:l[c]=l[c]-(e[u]/2-n[u]/2);break;case _p:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function bp(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?FZ:a,c=n.rootBoundary,u=c===void 0?q5:c,f=n.elementContext,h=f===void 0?Ff:f,p=n.altBoundary,g=p===void 0?!1:p,E=n.padding,x=E===void 0?0:E,y=Z5(typeof x!="number"?x:e4(x,cg)),b=h===Ff?BZ:Ff,_=t.rects.popper,S=t.elements[g?b:h],O=vee(Ec(S)?S:S.contextElement||Nl(t.elements.popper),l,u,s),N=kd(t.elements.reference),T=n4({reference:N,element:_,placement:i}),I=bx(Object.assign({},_,T)),R=h===Ff?I:N,v={top:O.top-R.top+y.top,bottom:R.bottom-O.bottom+y.bottom,left:O.left-R.left+y.left,right:R.right-O.right+y.right},k=t.modifiersData.offset;if(h===Ff&&k){var M=k[i];Object.keys(v).forEach(function(P){var q=[xo,Eo].indexOf(P)>=0?1:-1,H=[bi,Eo].indexOf(P)>=0?"y":"x";v[P]+=M[H]*q})}return v}function _ee(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Y5:l,u=Ad(r),f=u?a?dA:dA.filter(function(g){return Ad(g)===u}):cg,h=f.filter(function(g){return c.indexOf(g)>=0});h.length===0&&(h=f);var p=h.reduce(function(g,E){return g[E]=bp(t,{placement:E,boundary:i,rootBoundary:o,padding:s})[xs(E)],g},{});return Object.keys(p).sort(function(g,E){return p[g]-p[E]})}function bee(t){if(xs(t)===LT)return[];var e=hy(t);return[pA(t),e,pA(e)]}function wee(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,f=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,g=p===void 0?!0:p,E=n.allowedAutoPlacements,x=e.options.placement,y=xs(x),b=y===x,_=l||(b||!g?[hy(x)]:bee(x)),S=[x].concat(_).reduce(function(ie,oe){return ie.concat(xs(oe)===LT?_ee(e,{placement:oe,boundary:u,rootBoundary:f,padding:c,flipVariations:g,allowedAutoPlacements:E}):oe)},[]),O=e.rects.reference,N=e.rects.popper,T=new Map,I=!0,R=S[0],v=0;v<S.length;v++){var k=S[v],M=xs(k),P=Ad(k)===Rd,q=[bi,Eo].indexOf(M)>=0,H=q?"width":"height",W=bp(e,{placement:k,boundary:u,rootBoundary:f,altBoundary:h,padding:c}),G=q?P?xo:wi:P?Eo:bi;O[H]>N[H]&&(G=hy(G));var V=hy(G),B=[];if(o&&B.push(W[M]<=0),a&&B.push(W[G]<=0,W[V]<=0),B.every(function(ie){return ie})){R=k,I=!1;break}T.set(k,B)}if(I)for(var Q=g?3:1,re=function(oe){var Me=S.find(function(Ve){var Ae=T.get(Ve);if(Ae)return Ae.slice(0,oe).every(function(De){return De})});if(Me)return R=Me,"break"},he=Q;he>0;he--){var ge=re(he);if(ge==="break")break}e.placement!==R&&(e.modifiersData[r]._skip=!0,e.placement=R,e.reset=!0)}}const Eee={name:"flip",enabled:!0,phase:"main",fn:wee,requiresIfExists:["offset"],data:{_skip:!1}};function mA(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function yA(t){return[bi,xo,Eo,wi].some(function(e){return t[e]>=0})}function xee(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=bp(e,{elementContext:"reference"}),a=bp(e,{altBoundary:!0}),l=mA(s,r),c=mA(a,i,o),u=yA(l),f=yA(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const See={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:xee};function Cee(t,e,n){var r=xs(t),i=[wi,bi].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[wi,xo].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function Tee(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=Y5.reduce(function(u,f){return u[f]=Cee(f,e.rects,o),u},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}const Iee={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Tee};function Ree(t){var e=t.state,n=t.name;e.modifiersData[n]=n4({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Pee={name:"popperOffsets",enabled:!0,phase:"read",fn:Ree,data:{}};function kee(t){return t==="x"?"y":"x"}function Aee(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,f=n.padding,h=n.tether,p=h===void 0?!0:h,g=n.tetherOffset,E=g===void 0?0:g,x=bp(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),y=xs(e.placement),b=Ad(e.placement),_=!b,S=VT(y),O=kee(S),N=e.modifiersData.popperOffsets,T=e.rects.reference,I=e.rects.popper,R=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,v=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),k=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(N){if(o){var P,q=S==="y"?bi:wi,H=S==="y"?Eo:xo,W=S==="y"?"height":"width",G=N[S],V=G+x[q],B=G-x[H],Q=p?-I[W]/2:0,re=b===Rd?T[W]:I[W],he=b===Rd?-I[W]:-T[W],ge=e.elements.arrow,ie=p&&ge?BT(ge):{width:0,height:0},oe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:J5(),Me=oe[q],Ve=oe[H],Ae=Ah(0,T[W],ie[W]),De=_?T[W]/2-Q-Ae-Me-v.mainAxis:re-Ae-Me-v.mainAxis,_e=_?-T[W]/2+Q+Ae+Ve+v.mainAxis:he+Ae+Ve+v.mainAxis,$e=e.elements.arrow&&ug(e.elements.arrow),Oe=$e?S==="y"?$e.clientTop||0:$e.clientLeft||0:0,Le=(P=k==null?void 0:k[S])!=null?P:0,Ue=G+De-Le-Oe,ze=G+_e-Le,Nt=Ah(p?_v(V,Ue):V,G,p?cc(B,ze):B);N[S]=Nt,M[S]=Nt-G}if(a){var me,It=S==="x"?bi:wi,We=S==="x"?Eo:xo,pt=N[O],at=O==="y"?"height":"width",Pe=pt+x[It],nn=pt-x[We],ot=[bi,wi].indexOf(y)!==-1,En=(me=k==null?void 0:k[O])!=null?me:0,xt=ot?Pe:pt-T[at]-I[at]-En+v.altAxis,_t=ot?pt+T[at]+I[at]-En-v.altAxis:nn,St=p&&ot?tee(xt,pt,_t):Ah(p?xt:Pe,pt,p?_t:nn);N[O]=St,M[O]=St-pt}e.modifiersData[r]=M}}const Oee={name:"preventOverflow",enabled:!0,phase:"main",fn:Aee,requiresIfExists:["offset"]};function Nee(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Mee(t){return t===Ji(t)||!vo(t)?UT(t):Nee(t)}function Dee(t){var e=t.getBoundingClientRect(),n=Pd(e.width)/t.offsetWidth||1,r=Pd(e.height)/t.offsetHeight||1;return n!==1||r!==1}function $ee(t,e,n){n===void 0&&(n=!1);var r=vo(e),i=vo(e)&&Dee(e),o=Nl(e),s=kd(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Is(e)!=="body"||zT(o))&&(a=Mee(e)),vo(e)?(l=kd(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=jT(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Lee(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function Fee(t){var e=Lee(t);return YZ.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Bee(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Vee(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var vA={placement:"bottom",modifiers:[],strategy:"absolute"};function _A(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Uee(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?vA:i;return function(a,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},vA,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],h=!1,p={state:u,setOptions:function(y){var b=typeof y=="function"?y(u.options):y;E(),u.options=Object.assign({},o,u.options,b),u.scrollParents={reference:Ec(a)?Oh(a):a.contextElement?Oh(a.contextElement):[],popper:Oh(l)};var _=Fee(Vee([].concat(r,u.options.modifiers)));return u.orderedModifiers=_.filter(function(S){return S.enabled}),g(),p.update()},forceUpdate:function(){if(!h){var y=u.elements,b=y.reference,_=y.popper;if(_A(b,_)){u.rects={reference:$ee(b,ug(_),u.options.strategy==="fixed"),popper:BT(_)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(v){return u.modifiersData[v.name]=Object.assign({},v.data)});for(var S=0;S<u.orderedModifiers.length;S++){if(u.reset===!0){u.reset=!1,S=-1;continue}var O=u.orderedModifiers[S],N=O.fn,T=O.options,I=T===void 0?{}:T,R=O.name;typeof N=="function"&&(u=N({state:u,options:I,name:R,instance:p})||u)}}}},update:Bee(function(){return new Promise(function(x){p.forceUpdate(),x(u)})}),destroy:function(){E(),h=!0}};if(!_A(a,l))return p;p.setOptions(c).then(function(x){!h&&c.onFirstUpdate&&c.onFirstUpdate(x)});function g(){u.orderedModifiers.forEach(function(x){var y=x.name,b=x.options,_=b===void 0?{}:b,S=x.effect;if(typeof S=="function"){var O=S({state:u,name:y,instance:p,options:_}),N=function(){};f.push(O||N)}})}function E(){f.forEach(function(x){return x()}),f=[]}return p}}var jee=[dee,Pee,cee,JZ,Iee,Eee,Oee,oee,See],zee=Uee({defaultModifiers:jee});function Wee(t){return typeof t=="function"?t():t}const r4=w.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=w.useState(null),l=fr(w.isValidElement(r)?lg(r):null,n);if(Qo(()=>{o||a(Wee(i)||document.body)},[i,o]),Qo(()=>{if(s&&!o)return hv(n,s),()=>{hv(n,null)}},[n,s,o]),o){if(w.isValidElement(r)){const c={ref:l};return w.cloneElement(r,c)}return r}return s&&Lp.createPortal(r,s)});function Hee(t){return rt("MuiPopper",t)}et("MuiPopper",["root"]);function Gee(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function wx(t){return typeof t=="function"?t():t}function Kee(t){return t.nodeType!==void 0}const qee=t=>{const{classes:e}=t;return it({root:["root"]},Hee,e)},Yee={},Xee=w.forwardRef(function(e,n){const{anchorEl:r,children:i,direction:o,disablePortal:s,modifiers:a,open:l,placement:c,popperOptions:u,popperRef:f,slotProps:h={},slots:p={},TransitionProps:g,ownerState:E,...x}=e,y=w.useRef(null),b=fr(y,n),_=w.useRef(null),S=fr(_,f),O=w.useRef(S);Qo(()=>{O.current=S},[S]),w.useImperativeHandle(f,()=>_.current,[]);const N=Gee(c,o),[T,I]=w.useState(N),[R,v]=w.useState(wx(r));w.useEffect(()=>{_.current&&_.current.forceUpdate()}),w.useEffect(()=>{r&&v(wx(r))},[r]),Qo(()=>{if(!R||!l)return;const H=V=>{I(V.placement)};let W=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:V})=>{H(V)}}];a!=null&&(W=W.concat(a)),u&&u.modifiers!=null&&(W=W.concat(u.modifiers));const G=zee(R,y.current,{placement:N,...u,modifiers:W});return O.current(G),()=>{G.destroy(),O.current(null)}},[R,s,a,l,u,N]);const k={placement:T};g!==null&&(k.TransitionProps=g);const M=qee(e),P=p.root??"div",q=Id({elementType:P,externalSlotProps:h.root,externalForwardedProps:x,additionalProps:{role:"tooltip",ref:b},ownerState:e,className:M.root});return A.jsx(P,{...q,children:typeof i=="function"?i(k):i})}),Qee=w.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:f="bottom",popperOptions:h=Yee,popperRef:p,style:g,transition:E=!1,slotProps:x={},slots:y={},...b}=e,[_,S]=w.useState(!0),O=()=>{S(!1)},N=()=>{S(!0)};if(!l&&!u&&(!E||_))return null;let T;if(o)T=o;else if(r){const v=wx(r);T=v&&Kee(v)?Si(v).body:Si(null).body}const I=!u&&l&&(!E||_)?"none":void 0,R=E?{in:u,onEnter:O,onExited:N}:void 0;return A.jsx(r4,{disablePortal:a,container:T,children:A.jsx(Xee,{anchorEl:r,direction:s,disablePortal:a,modifiers:c,ref:n,open:E?!_:u,placement:f,popperOptions:h,popperRef:p,slotProps:x,slots:y,...b,style:{position:"fixed",top:0,left:0,display:I,...g},TransitionProps:R,children:i})})}),Jee=le(Qee,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),i4=w.forwardRef(function(e,n){const r=__(),i=st({props:e,name:"MuiPopper"}),{anchorEl:o,component:s,components:a,componentsProps:l,container:c,disablePortal:u,keepMounted:f,modifiers:h,open:p,placement:g,popperOptions:E,popperRef:x,transition:y,slots:b,slotProps:_,...S}=i,O=(b==null?void 0:b.root)??(a==null?void 0:a.Root),N={anchorEl:o,container:c,disablePortal:u,keepMounted:f,modifiers:h,open:p,placement:g,popperOptions:E,popperRef:x,transition:y,...S};return A.jsx(Jee,{as:s,direction:r?"rtl":"ltr",slots:{root:O},slotProps:_??l,...N,ref:n})});function Zee(t){return rt("MuiListSubheader",t)}et("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const ete=t=>{const{classes:e,color:n,disableGutters:r,inset:i,disableSticky:o}=t,s={root:["root",n!=="default"&&`color${ae(n)}`,!r&&"gutters",i&&"inset",!o&&"sticky"]};return it(s,Zee,e)},tte=le("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${ae(n.color)}`],!n.disableGutters&&e.gutters,n.inset&&e.inset,!n.disableSticky&&e.sticky]}})(vt(({theme:t})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(t.vars||t).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:72}},{props:({ownerState:e})=>!e.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper}}]}))),Ex=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiListSubheader"}),{className:i,color:o="default",component:s="li",disableGutters:a=!1,disableSticky:l=!1,inset:c=!1,...u}=r,f={...r,color:o,component:s,disableGutters:a,disableSticky:l,inset:c},h=ete(f);return A.jsx(tte,{as:s,className:Ee(h.root,i),ref:n,ownerState:f,...u})});Ex&&(Ex.muiSkipListHighlight=!0);const nte=Xn(A.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function rte(t){return rt("MuiChip",t)}const bt=et("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),ite=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=t,c={root:["root",l,n&&"disabled",`size${ae(r)}`,`color${ae(i)}`,a&&"clickable",a&&`clickableColor${ae(i)}`,s&&"deletable",s&&`deletableColor${ae(i)}`,`${l}${ae(i)}`],label:["label",`label${ae(r)}`],avatar:["avatar",`avatar${ae(r)}`,`avatarColor${ae(i)}`],icon:["icon",`icon${ae(r)}`,`iconColor${ae(o)}`],deleteIcon:["deleteIcon",`deleteIcon${ae(r)}`,`deleteIconColor${ae(i)}`,`deleteIcon${ae(l)}Color${ae(i)}`]};return it(c,rte,e)},ote=le("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{[`& .${bt.avatar}`]:e.avatar},{[`& .${bt.avatar}`]:e[`avatar${ae(a)}`]},{[`& .${bt.avatar}`]:e[`avatarColor${ae(r)}`]},{[`& .${bt.icon}`]:e.icon},{[`& .${bt.icon}`]:e[`icon${ae(a)}`]},{[`& .${bt.icon}`]:e[`iconColor${ae(i)}`]},{[`& .${bt.deleteIcon}`]:e.deleteIcon},{[`& .${bt.deleteIcon}`]:e[`deleteIcon${ae(a)}`]},{[`& .${bt.deleteIcon}`]:e[`deleteIconColor${ae(r)}`]},{[`& .${bt.deleteIcon}`]:e[`deleteIcon${ae(l)}Color${ae(r)}`]},e.root,e[`size${ae(a)}`],e[`color${ae(r)}`],o&&e.clickable,o&&r!=="default"&&e[`clickableColor${ae(r)})`],s&&e.deletable,s&&r!=="default"&&e[`deletableColor${ae(r)}`],e[l],e[`${l}${ae(r)}`]]}})(vt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${bt.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${bt.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${bt.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${bt.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${bt.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${bt.icon}`]:{marginLeft:5,marginRight:-6},[`& .${bt.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:Ot(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Ot(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${bt.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${bt.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(gi(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${bt.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].contrastTextChannel} / 0.7)`:Ot(t.palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${bt.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${bt.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${bt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ot(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(gi(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${bt.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ot(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${bt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ot(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(gi(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${bt.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${bt.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${bt.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${bt.avatar}`]:{marginLeft:4},[`& .${bt.avatarSmall}`]:{marginLeft:2},[`& .${bt.icon}`]:{marginLeft:4},[`& .${bt.iconSmall}`]:{marginLeft:2},[`& .${bt.deleteIcon}`]:{marginRight:5},[`& .${bt.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(gi()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:Ot(t.palette[n].main,.7)}`,[`&.${bt.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette[n].main,t.palette.action.hoverOpacity)},[`&.${bt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.focusOpacity})`:Ot(t.palette[n].main,t.palette.action.focusOpacity)},[`& .${bt.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:Ot(t.palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}))]}})),ste=le("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${ae(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function bA(t){return t.key==="Backspace"||t.key==="Delete"}const ate=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:f,label:h,onClick:p,onDelete:g,onKeyDown:E,onKeyUp:x,size:y="medium",variant:b="filled",tabIndex:_,skipFocusWhenDisabled:S=!1,...O}=r,N=w.useRef(null),T=fr(N,n),I=B=>{B.stopPropagation(),g&&g(B)},R=B=>{B.currentTarget===B.target&&bA(B)&&B.preventDefault(),E&&E(B)},v=B=>{B.currentTarget===B.target&&g&&bA(B)&&g(B),x&&x(B)},k=s!==!1&&p?!0:s,M=k||g?vl:l||"div",P={...r,component:M,disabled:u,size:y,color:a,iconColor:w.isValidElement(f)&&f.props.color||a,onDelete:!!g,clickable:k,variant:b},q=ite(P),H=M===vl?{component:l||"div",focusVisibleClassName:q.focusVisible,...g&&{disableRipple:!0}}:{};let W=null;g&&(W=c&&w.isValidElement(c)?w.cloneElement(c,{className:Ee(c.props.className,q.deleteIcon),onClick:I}):A.jsx(nte,{className:Ee(q.deleteIcon),onClick:I}));let G=null;i&&w.isValidElement(i)&&(G=w.cloneElement(i,{className:Ee(q.avatar,i.props.className)}));let V=null;return f&&w.isValidElement(f)&&(V=w.cloneElement(f,{className:Ee(q.icon,f.props.className)})),A.jsxs(ote,{as:M,className:Ee(q.root,o),disabled:k&&u?!0:void 0,onClick:p,onKeyDown:R,onKeyUp:v,ref:T,tabIndex:S&&u?-1:_,ownerState:P,...H,...O,children:[G||V,A.jsx(ste,{className:Ee(q.label),ownerState:P,children:h}),W]})});function _m(t){return parseInt(t,10)||0}const lte={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function cte(t){for(const e in t)return!1;return!0}function wA(t){return cte(t)||t.outerHeightStyle===0&&!t.overflowing}const ute=w.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a,...l}=e,{current:c}=w.useRef(a!=null),u=w.useRef(null),f=fr(n,u),h=w.useRef(null),p=w.useRef(null),g=w.useCallback(()=>{const _=u.current,S=p.current;if(!_||!S)return;const N=Jo(_).getComputedStyle(_);if(N.width==="0px")return{outerHeightStyle:0,overflowing:!1};S.style.width=N.width,S.value=_.value||e.placeholder||"x",S.value.slice(-1)===`
`&&(S.value+=" ");const T=N.boxSizing,I=_m(N.paddingBottom)+_m(N.paddingTop),R=_m(N.borderBottomWidth)+_m(N.borderTopWidth),v=S.scrollHeight;S.value="x";const k=S.scrollHeight;let M=v;o&&(M=Math.max(Number(o)*k,M)),i&&(M=Math.min(Number(i)*k,M)),M=Math.max(M,k);const P=M+(T==="border-box"?I+R:0),q=Math.abs(M-v)<=1;return{outerHeightStyle:P,overflowing:q}},[i,o,e.placeholder]),E=pi(()=>{const _=u.current,S=g();if(!_||!S||wA(S))return!1;const O=S.outerHeightStyle;return h.current!=null&&h.current!==O}),x=w.useCallback(()=>{const _=u.current,S=g();if(!_||!S||wA(S))return;const O=S.outerHeightStyle;h.current!==O&&(h.current=O,_.style.height=`${O}px`),_.style.overflow=S.overflowing?"hidden":""},[g]),y=w.useRef(-1);Qo(()=>{const _=v_(x),S=u==null?void 0:u.current;if(!S)return;const O=Jo(S);O.addEventListener("resize",_);let N;return typeof ResizeObserver<"u"&&(N=new ResizeObserver(()=>{E()&&(N.unobserve(S),cancelAnimationFrame(y.current),x(),y.current=requestAnimationFrame(()=>{N.observe(S)}))}),N.observe(S)),()=>{_.clear(),cancelAnimationFrame(y.current),O.removeEventListener("resize",_),N&&N.disconnect()}},[g,x,E]),Qo(()=>{x()});const b=_=>{c||x(),r&&r(_)};return A.jsxs(w.Fragment,{children:[A.jsx("textarea",{value:a,onChange:b,ref:f,rows:o,style:s,...l}),A.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:{...lte.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function xx(t){return typeof t=="string"}function rf({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const WT=w.createContext(void 0);function of(){return w.useContext(WT)}function EA(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function bv(t,e=!1){return t&&(EA(t.value)&&t.value!==""||e&&EA(t.defaultValue)&&t.defaultValue!=="")}function dte(t){return t.startAdornment}function fte(t){return rt("MuiInputBase",t)}const Bi=et("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var xA;const E_=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${ae(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},x_=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},hte=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:f,size:h,startAdornment:p,type:g}=t,E={root:["root",`color${ae(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&h!=="medium"&&`size${ae(h)}`,u&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled",g==="search"&&"inputTypeSearch",u&&"inputMultiline",h==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",f&&"readOnly"]};return it(E,fte,e)},S_=le("div",{name:"MuiInputBase",slot:"Root",overridesResolver:E_})(vt(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Bi.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),C_=le("input",{name:"MuiInputBase",slot:"Input",overridesResolver:x_})(vt(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Bi.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Bi.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),SA=$J({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),HT=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:s,className:a,color:l,components:c={},componentsProps:u={},defaultValue:f,disabled:h,disableInjectingGlobalStyles:p,endAdornment:g,error:E,fullWidth:x=!1,id:y,inputComponent:b="input",inputProps:_={},inputRef:S,margin:O,maxRows:N,minRows:T,multiline:I=!1,name:R,onBlur:v,onChange:k,onClick:M,onFocus:P,onKeyDown:q,onKeyUp:H,placeholder:W,readOnly:G,renderSuffix:V,rows:B,size:Q,slotProps:re={},slots:he={},startAdornment:ge,type:ie="text",value:oe,...Me}=r,Ve=_.value!=null?_.value:oe,{current:Ae}=w.useRef(Ve!=null),De=w.useRef(),_e=w.useCallback(Qe=>{},[]),$e=fr(De,S,_.ref,_e),[Oe,Le]=w.useState(!1),Ue=of(),ze=rf({props:r,muiFormControl:Ue,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ze.focused=Ue?Ue.focused:Oe,w.useEffect(()=>{!Ue&&h&&Oe&&(Le(!1),v&&v())},[Ue,h,Oe,v]);const Nt=Ue&&Ue.onFilled,me=Ue&&Ue.onEmpty,It=w.useCallback(Qe=>{bv(Qe)?Nt&&Nt():me&&me()},[Nt,me]);Qo(()=>{Ae&&It({value:Ve})},[Ve,It,Ae]);const We=Qe=>{P&&P(Qe),_.onFocus&&_.onFocus(Qe),Ue&&Ue.onFocus?Ue.onFocus(Qe):Le(!0)},pt=Qe=>{v&&v(Qe),_.onBlur&&_.onBlur(Qe),Ue&&Ue.onBlur?Ue.onBlur(Qe):Le(!1)},at=(Qe,...xn)=>{if(!Ae){const Vn=Qe.target||De.current;if(Vn==null)throw new Error(ha(1));It({value:Vn.value})}_.onChange&&_.onChange(Qe,...xn),k&&k(Qe,...xn)};w.useEffect(()=>{It(De.current)},[]);const Pe=Qe=>{De.current&&Qe.currentTarget===Qe.target&&De.current.focus(),M&&M(Qe)};let nn=b,ot=_;I&&nn==="input"&&(B?ot={type:void 0,minRows:B,maxRows:B,...ot}:ot={type:void 0,maxRows:N,minRows:T,...ot},nn=ute);const En=Qe=>{It(Qe.animationName==="mui-auto-fill-cancel"?De.current:{value:"x"})};w.useEffect(()=>{Ue&&Ue.setAdornedStart(!!ge)},[Ue,ge]);const xt={...r,color:ze.color||"primary",disabled:ze.disabled,endAdornment:g,error:ze.error,focused:ze.focused,formControl:Ue,fullWidth:x,hiddenLabel:ze.hiddenLabel,multiline:I,size:ze.size,startAdornment:ge,type:ie},_t=hte(xt),St=he.root||c.Root||S_,Bt=re.root||u.root||{},gt=he.input||c.Input||C_;return ot={...ot,...re.input??u.input},A.jsxs(w.Fragment,{children:[!p&&typeof SA=="function"&&(xA||(xA=A.jsx(SA,{}))),A.jsxs(St,{...Bt,ref:n,onClick:Pe,...Me,...!xx(St)&&{ownerState:{...xt,...Bt.ownerState}},className:Ee(_t.root,Bt.className,a,G&&"MuiInputBase-readOnly"),children:[ge,A.jsx(WT.Provider,{value:null,children:A.jsx(gt,{"aria-invalid":ze.error,"aria-describedby":i,autoComplete:o,autoFocus:s,defaultValue:f,disabled:ze.disabled,id:y,onAnimationStart:En,name:R,placeholder:W,readOnly:G,required:ze.required,rows:B,value:Ve,onKeyDown:q,onKeyUp:H,type:ie,...ot,...!xx(gt)&&{as:nn,ownerState:{...xt,...ot.ownerState}},ref:$e,className:Ee(_t.input,ot.className,G&&"MuiInputBase-readOnly"),onBlur:pt,onChange:at,onFocus:We})}),g,V?V({...ze,startAdornment:ge}):null]})]})});function pte(t){return rt("MuiInput",t)}const Va={...Bi,...et("MuiInput",["root","underline","input"])};function gte(t){return rt("MuiOutlinedInput",t)}const ao={...Bi,...et("MuiOutlinedInput",["root","notchedOutline","input"])};function mte(t){return rt("MuiFilledInput",t)}const Vi={...Bi,...et("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},o4=Xn(A.jsx("path",{d:"M7 10l5 5 5-5z"}));function yte(t){return rt("MuiAutocomplete",t)}const dt=et("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var CA,TA;const vte=t=>{const{classes:e,disablePortal:n,expanded:r,focused:i,fullWidth:o,hasClearIcon:s,hasPopupIcon:a,inputFocused:l,popupOpen:c,size:u}=t,f={root:["root",r&&"expanded",i&&"focused",o&&"fullWidth",s&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${ae(u)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return it(f,yte,e)},_te=le("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{fullWidth:r,hasClearIcon:i,hasPopupIcon:o,inputFocused:s,size:a}=n;return[{[`& .${dt.tag}`]:e.tag},{[`& .${dt.tag}`]:e[`tagSize${ae(a)}`]},{[`& .${dt.inputRoot}`]:e.inputRoot},{[`& .${dt.input}`]:e.input},{[`& .${dt.input}`]:s&&e.inputFocused},e.root,r&&e.fullWidth,o&&e.hasPopupIcon,i&&e.hasClearIcon]}})({[`&.${dt.focused} .${dt.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${dt.clearIndicator}`]:{visibility:"visible"}},[`& .${dt.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${dt.inputRoot}`]:{[`.${dt.hasPopupIcon}&, .${dt.hasClearIcon}&`]:{paddingRight:30},[`.${dt.hasPopupIcon}.${dt.hasClearIcon}&`]:{paddingRight:56},[`& .${dt.input}`]:{width:0,minWidth:30}},[`& .${Va.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Va.root}.${Bi.sizeSmall}`]:{[`& .${Va.input}`]:{padding:"2px 4px 3px 0"}},[`& .${ao.root}`]:{padding:9,[`.${dt.hasPopupIcon}&, .${dt.hasClearIcon}&`]:{paddingRight:39},[`.${dt.hasPopupIcon}.${dt.hasClearIcon}&`]:{paddingRight:65},[`& .${dt.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${dt.endAdornment}`]:{right:9}},[`& .${ao.root}.${Bi.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${dt.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Vi.root}`]:{paddingTop:19,paddingLeft:8,[`.${dt.hasPopupIcon}&, .${dt.hasClearIcon}&`]:{paddingRight:39},[`.${dt.hasPopupIcon}.${dt.hasClearIcon}&`]:{paddingRight:65},[`& .${Vi.input}`]:{padding:"7px 4px"},[`& .${dt.endAdornment}`]:{right:9}},[`& .${Vi.root}.${Bi.sizeSmall}`]:{paddingBottom:1,[`& .${Vi.input}`]:{padding:"2.5px 4px"}},[`& .${Bi.hiddenLabel}`]:{paddingTop:8},[`& .${Vi.root}.${Bi.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${dt.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Vi.root}.${Bi.hiddenLabel}.${Bi.sizeSmall}`]:{[`& .${dt.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${dt.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${dt.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${dt.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${dt.inputRoot}`]:{flexWrap:"wrap"}}}]}),bte=le("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(t,e)=>e.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),wte=le(vv,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(t,e)=>e.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Ete=le(vv,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popupIndicator,n.popupOpen&&e.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),xte=le(i4,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${dt.option}`]:e.option},e.popper,n.disablePortal&&e.popperDisablePortal]}})(vt(({theme:t})=>({zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),Ste=le(nf,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(t,e)=>e.paper})(vt(({theme:t})=>({...t.typography.body1,overflow:"auto"}))),Cte=le("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(t,e)=>e.loading})(vt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),Tte=le("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(t,e)=>e.noOptions})(vt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),Ite=le("ul",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(t,e)=>e.listbox})(vt(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${dt.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${dt.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${dt.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${dt.focused}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${dt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}}}))),Rte=le(Ex,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(t,e)=>e.groupLabel})(vt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8}))),Pte=le("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(t,e)=>e.groupUl})({padding:0,[`& .${dt.option}`]:{paddingLeft:24}}),kte=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:o=!1,autoSelect:s=!1,blurOnSelect:a=!1,ChipProps:l,className:c,clearIcon:u=CA||(CA=A.jsx(TZ,{fontSize:"small"})),clearOnBlur:f=!r.freeSolo,clearOnEscape:h=!1,clearText:p="Clear",closeText:g="Close",componentsProps:E,defaultValue:x=r.multiple?[]:null,disableClearable:y=!1,disableCloseOnSelect:b=!1,disabled:_=!1,disabledItemsFocusable:S=!1,disableListWrap:O=!1,disablePortal:N=!1,filterOptions:T,filterSelectedOptions:I=!1,forcePopupIcon:R="auto",freeSolo:v=!1,fullWidth:k=!1,getLimitTagsText:M=ut=>`+${ut}`,getOptionDisabled:P,getOptionKey:q,getOptionLabel:H,isOptionEqualToValue:W,groupBy:G,handleHomeEndKeys:V=!r.freeSolo,id:B,includeInputInList:Q=!1,inputValue:re,limitTags:he=-1,ListboxComponent:ge,ListboxProps:ie,loading:oe=!1,loadingText:Me="Loading…",multiple:Ve=!1,noOptionsText:Ae="No options",onChange:De,onClose:_e,onHighlightChange:$e,onInputChange:Oe,onOpen:Le,open:Ue,openOnFocus:ze=!1,openText:Nt="Open",options:me,PaperComponent:It,PopperComponent:We,popupIcon:pt=TA||(TA=A.jsx(o4,{})),readOnly:at=!1,renderGroup:Pe,renderInput:nn,renderOption:ot,renderTags:En,selectOnFocus:xt=!r.freeSolo,size:_t="medium",slots:St={},slotProps:Bt={},value:gt,...Qe}=r,{getRootProps:xn,getInputProps:Vn,getInputLabelProps:Hr,getPopupIndicatorProps:xe,getClearProps:Te,getTagProps:Yt,getListboxProps:Un,getOptionProps:Gr,value:pr,dirty:Ir,expanded:jn,id:Ri,popupOpen:rn,focused:ro,focusedTag:io,anchorEl:Pi,setAnchorEl:gr,inputValue:ve,groupedOptions:de}=LZ({...r,componentName:"Autocomplete"}),lt=!y&&!_&&Ir&&!at,tt=(!v||R===!0)&&R!==!1,{onMouseDown:Mt}=Vn(),{ref:mr,...ii}=Un(),Ro=H||(ut=>ut.label??ut),Sn={...r,disablePortal:N,expanded:jn,focused:ro,fullWidth:k,getOptionLabel:Ro,hasClearIcon:lt,hasPopupIcon:tt,inputFocused:io===-1,popupOpen:rn,size:_t},yn=vte(Sn),oi={slots:{paper:It,popper:We,...St},slotProps:{chip:l,listbox:ie,...E,...Bt}},[$s,Z]=Gt("listbox",{elementType:Ite,externalForwardedProps:oi,ownerState:Sn,className:yn.listbox,additionalProps:ii,ref:mr}),[Y,Se]=Gt("paper",{elementType:nf,externalForwardedProps:oi,ownerState:Sn,className:yn.paper}),[Je,ct]=Gt("popper",{elementType:i4,externalForwardedProps:oi,ownerState:Sn,className:yn.popper,additionalProps:{disablePortal:N,style:{width:Pi?Pi.clientWidth:null},role:"presentation",anchorEl:Pi,open:rn}});let $t;if(Ve&&pr.length>0){const ut=Kr=>({className:yn.tag,disabled:_,...Yt(Kr)});En?$t=En(pr,ut,Sn):$t=pr.map((Kr,ko)=>{const{key:ts,...Hc}=ut({index:ko});return A.jsx(ate,{label:Ro(Kr),size:_t,...Hc,...oi.slotProps.chip},ts)})}if(he>-1&&Array.isArray($t)){const ut=$t.length-he;!ro&&ut>0&&($t=$t.splice(0,he),$t.push(A.jsx("span",{className:yn.tag,children:M(ut)},$t.length)))}const Rr=Pe||(ut=>A.jsxs("li",{children:[A.jsx(Rte,{className:yn.groupLabel,ownerState:Sn,component:"div",children:ut.group}),A.jsx(Pte,{className:yn.groupUl,ownerState:Sn,children:ut.children})]},ut.key)),Dl=ot||((ut,Kr)=>{const{key:ko,...ts}=ut;return A.jsx("li",{...ts,children:Ro(Kr)},ko)}),Wc=(ut,Kr)=>{const ko=Gr({option:ut,index:Kr});return Dl({...ko,className:yn.option},ut,{selected:ko["aria-selected"],index:Kr,inputValue:ve},Sn)},Ls=oi.slotProps.clearIndicator,Po=oi.slotProps.popupIndicator;return A.jsxs(w.Fragment,{children:[A.jsx(_te,{ref:n,className:Ee(yn.root,c),ownerState:Sn,...xn(Qe),children:nn({id:Ri,disabled:_,fullWidth:!0,size:_t==="small"?"small":void 0,InputLabelProps:Hr(),InputProps:{ref:gr,className:yn.inputRoot,startAdornment:$t,onMouseDown:ut=>{ut.target===ut.currentTarget&&Mt(ut)},...(lt||tt)&&{endAdornment:A.jsxs(bte,{className:yn.endAdornment,ownerState:Sn,children:[lt?A.jsx(wte,{...Te(),"aria-label":p,title:p,ownerState:Sn,...Ls,className:Ee(yn.clearIndicator,Ls==null?void 0:Ls.className),children:u}):null,tt?A.jsx(Ete,{...xe(),disabled:_,"aria-label":rn?g:Nt,title:rn?g:Nt,ownerState:Sn,...Po,className:Ee(yn.popupIndicator,Po==null?void 0:Po.className),children:pt}):null]})}},inputProps:{className:yn.input,disabled:_,readOnly:at,...Vn()}})}),Pi?A.jsx(xte,{as:Je,...ct,children:A.jsxs(Ste,{as:Y,...Se,children:[oe&&de.length===0?A.jsx(Cte,{className:yn.loading,ownerState:Sn,children:Me}):null,de.length===0&&!v&&!oe?A.jsx(Tte,{className:yn.noOptions,ownerState:Sn,role:"presentation",onMouseDown:ut=>{ut.preventDefault()},children:Ae}):null,de.length>0?A.jsx($s,{as:ge,...Z,children:de.map((ut,Kr)=>G?Rr({key:ut.key,group:ut.group,children:ut.options.map((ko,ts)=>Wc(ko,ut.index+ts))}):Wc(ut,Kr))}):null]})}):null]})}),Ate={entering:{opacity:1},entered:{opacity:1}},Sx=w.forwardRef(function(e,n){const r=tf(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:f,onEntering:h,onExit:p,onExited:g,onExiting:E,style:x,timeout:y=i,TransitionComponent:b=Os,..._}=e,S=w.useRef(null),O=fr(S,lg(a),n),N=q=>H=>{if(q){const W=S.current;H===void 0?q(W):q(W,H)}},T=N(h),I=N((q,H)=>{G5(q);const W=mv({style:x,timeout:y,easing:l},{mode:"enter"});q.style.webkitTransition=r.transitions.create("opacity",W),q.style.transition=r.transitions.create("opacity",W),u&&u(q,H)}),R=N(f),v=N(E),k=N(q=>{const H=mv({style:x,timeout:y,easing:l},{mode:"exit"});q.style.webkitTransition=r.transitions.create("opacity",H),q.style.transition=r.transitions.create("opacity",H),p&&p(q)}),M=N(g),P=q=>{o&&o(S.current,q)};return A.jsx(b,{appear:s,in:c,nodeRef:S,onEnter:I,onEntered:R,onEntering:T,onExit:k,onExited:M,onExiting:v,addEndListener:P,timeout:y,..._,children:(q,{ownerState:H,...W})=>w.cloneElement(a,{style:{opacity:0,visibility:q==="exited"&&!c?"hidden":void 0,...Ate[q],...x,...a.props.style},ref:O,...W})})});function Ote(t){return rt("MuiBackdrop",t)}et("MuiBackdrop",["root","invisible"]);const Nte=t=>{const{classes:e,invisible:n}=t;return it({root:["root",n&&"invisible"]},Ote,e)},Mte=le("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),s4=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiBackdrop"}),{children:i,className:o,component:s="div",invisible:a=!1,open:l,components:c={},componentsProps:u={},slotProps:f={},slots:h={},TransitionComponent:p,transitionDuration:g,...E}=r,x={...r,component:s,invisible:a},y=Nte(x),b={transition:p,root:c.Root,...h},_={...u,...f},S={slots:b,slotProps:_},[O,N]=Gt("root",{elementType:Mte,externalForwardedProps:S,className:Ee(y.root,o),ownerState:x}),[T,I]=Gt("transition",{elementType:Sx,externalForwardedProps:S,ownerState:x});return A.jsx(T,{in:l,timeout:g,...E,...I,children:A.jsx(O,{"aria-hidden":!0,...N,classes:y,ref:n,children:i})})}),Dte=et("MuiBox",["root"]),$te=j5(),Od=ZX({themeId:L0,defaultTheme:$te,defaultClassName:Dte.root,generateClassName:S5.generate});function Lte(t){return rt("MuiButton",t)}const jl=et("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),Fte=w.createContext({}),Bte=w.createContext(void 0),Vte=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,loading:s,loadingPosition:a,classes:l}=t,c={root:["root",s&&"loading",o,`${o}${ae(e)}`,`size${ae(i)}`,`${o}Size${ae(i)}`,`color${ae(e)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${ae(a)}`],startIcon:["icon","startIcon",`iconSize${ae(i)}`],endIcon:["icon","endIcon",`iconSize${ae(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},u=it(c,Lte,l);return{...l,...u}},a4=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Ute=le(vl,{shouldForwardProp:t=>Io(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${ae(n.color)}`],e[`size${ae(n.size)}`],e[`${n.variant}Size${ae(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(vt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${jl.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${jl.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${jl.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${jl.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(gi()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:Ot(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette[r].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${jl.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${jl.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${jl.loading}`]:{color:"transparent"}}}]}})),jte=le("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${ae(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...a4]})),zte=le("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${ae(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...a4]})),Wte=le("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),IA=le("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),Wn=w.forwardRef(function(e,n){const r=w.useContext(Fte),i=w.useContext(Bte),o=Td(r,e),s=st({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:f=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:g,focusVisibleClassName:E,fullWidth:x=!1,id:y,loading:b=null,loadingIndicator:_,loadingPosition:S="center",size:O="medium",startIcon:N,type:T,variant:I="text",...R}=s,v=Zd(y),k=_??A.jsx(K5,{"aria-labelledby":v,color:"inherit",size:16}),M={...s,color:l,component:c,disabled:f,disableElevation:h,disableFocusRipple:p,fullWidth:x,loading:b,loadingIndicator:k,loadingPosition:S,size:O,type:T,variant:I},P=Vte(M),q=(N||b&&S==="start")&&A.jsx(jte,{className:P.startIcon,ownerState:M,children:N||A.jsx(IA,{className:P.loadingIconPlaceholder,ownerState:M})}),H=(g||b&&S==="end")&&A.jsx(zte,{className:P.endIcon,ownerState:M,children:g||A.jsx(IA,{className:P.loadingIconPlaceholder,ownerState:M})}),W=i||"",G=typeof b=="boolean"?A.jsx("span",{className:P.loadingWrapper,style:{display:"contents"},children:b&&A.jsx(Wte,{className:P.loadingIndicator,ownerState:M,children:k})}):null;return A.jsxs(Ute,{ownerState:M,className:Ee(r.className,P.root,u,W),component:c,disabled:f||b,focusRipple:!p,focusVisibleClassName:Ee(P.focusVisible,E),ref:n,type:T,id:b?v:y,...R,classes:P,children:[q,S!=="end"&&G,a,S==="end"&&G,H]})});function Hte(t){return rt("MuiCard",t)}et("MuiCard",["root"]);const Gte=t=>{const{classes:e}=t;return it({root:["root"]},Hte,e)},Kte=le(nf,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})({overflow:"hidden"}),qte=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiCard"}),{className:i,raised:o=!1,...s}=r,a={...r,raised:o},l=Gte(a);return A.jsx(Kte,{className:Ee(l.root,i),elevation:o?8:void 0,ref:n,ownerState:a,...s})});function Yte(t){return rt("MuiCardActions",t)}et("MuiCardActions",["root","spacing"]);const Xte=t=>{const{classes:e,disableSpacing:n}=t;return it({root:["root",!n&&"spacing"]},Yte,e)},Qte=le("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Jte=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiCardActions"}),{disableSpacing:i=!1,className:o,...s}=r,a={...r,disableSpacing:i},l=Xte(a);return A.jsx(Qte,{className:Ee(l.root,o),ownerState:a,ref:n,...s})});function Zte(t){return rt("MuiCardContent",t)}et("MuiCardContent",["root"]);const ene=t=>{const{classes:e}=t;return it({root:["root"]},Zte,e)},tne=le("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:16,"&:last-child":{paddingBottom:24}}),nne=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiCardContent"}),{className:i,component:o="div",...s}=r,a={...r,component:o},l=ene(a);return A.jsx(tne,{as:o,className:Ee(l.root,i),ownerState:a,ref:n,...s})}),rne=DQ({createStyledComponent:le("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${ae(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>st({props:t,name:"MuiContainer"})});function ine(t){const e=Si(t);return e.body===t?Jo(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Nh(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function RA(t){return parseInt(Jo(t).getComputedStyle(t).paddingRight,10)||0}function one(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function PA(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,s=>{const a=!o.includes(s),l=!one(s);a&&l&&Nh(s,i)})}function ow(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function sne(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(ine(r)){const s=O5(Jo(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${RA(r)+s}px`;const a=Si(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${RA(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Si(r).body;else{const s=r.parentElement,a=Jo(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function ane(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class lne{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Nh(e.modalRef,!1);const i=ane(n);PA(n,e.mount,e.modalRef,i,!0);const o=ow(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=ow(this.containers,o=>o.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=sne(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=ow(this.containers,s=>s.modals.includes(e)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&Nh(e.modalRef,n),PA(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&Nh(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const cne=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function une(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function dne(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function fne(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||dne(t))}function hne(t){const e=[],n=[];return Array.from(t.querySelectorAll(cne)).forEach((r,i)=>{const o=une(r);o===-1||!fne(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function pne(){return!0}function gne(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=hne,isEnabled:s=pne,open:a}=t,l=w.useRef(!1),c=w.useRef(null),u=w.useRef(null),f=w.useRef(null),h=w.useRef(null),p=w.useRef(!1),g=w.useRef(null),E=fr(lg(e),g),x=w.useRef(null);w.useEffect(()=>{!a||!g.current||(p.current=!n)},[n,a]),w.useEffect(()=>{if(!a||!g.current)return;const _=Si(g.current);return g.current.contains(_.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),p.current&&g.current.focus()),()=>{i||(f.current&&f.current.focus&&(l.current=!0,f.current.focus()),f.current=null)}},[a]),w.useEffect(()=>{if(!a||!g.current)return;const _=Si(g.current),S=T=>{x.current=T,!(r||!s()||T.key!=="Tab")&&_.activeElement===g.current&&T.shiftKey&&(l.current=!0,u.current&&u.current.focus())},O=()=>{var R,v;const T=g.current;if(T===null)return;if(!_.hasFocus()||!s()||l.current){l.current=!1;return}if(T.contains(_.activeElement)||r&&_.activeElement!==c.current&&_.activeElement!==u.current)return;if(_.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let I=[];if((_.activeElement===c.current||_.activeElement===u.current)&&(I=o(g.current)),I.length>0){const k=!!((R=x.current)!=null&&R.shiftKey&&((v=x.current)==null?void 0:v.key)==="Tab"),M=I[0],P=I[I.length-1];typeof M!="string"&&typeof P!="string"&&(k?P.focus():M.focus())}else T.focus()};_.addEventListener("focusin",O),_.addEventListener("keydown",S,!0);const N=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&O()},50);return()=>{clearInterval(N),_.removeEventListener("focusin",O),_.removeEventListener("keydown",S,!0)}},[n,r,i,s,a,o]);const y=_=>{f.current===null&&(f.current=_.relatedTarget),p.current=!0,h.current=_.target;const S=e.props.onFocus;S&&S(_)},b=_=>{f.current===null&&(f.current=_.relatedTarget),p.current=!0};return A.jsxs(w.Fragment,{children:[A.jsx("div",{tabIndex:a?0:-1,onFocus:b,ref:c,"data-testid":"sentinelStart"}),w.cloneElement(e,{ref:E,onFocus:y}),A.jsx("div",{tabIndex:a?0:-1,onFocus:b,ref:u,"data-testid":"sentinelEnd"})]})}function mne(t){return typeof t=="function"?t():t}function yne(t){return t?t.props.hasOwnProperty("in"):!1}const kA=()=>{},bm=new lne;function vne(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:s,children:a,onClose:l,open:c,rootRef:u}=t,f=w.useRef({}),h=w.useRef(null),p=w.useRef(null),g=fr(p,u),[E,x]=w.useState(!c),y=yne(a);let b=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(b=!1);const _=()=>Si(h.current),S=()=>(f.current.modalRef=p.current,f.current.mount=h.current,f.current),O=()=>{bm.mount(S(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},N=pi(()=>{const H=mne(e)||_().body;bm.add(S(),H),p.current&&O()}),T=()=>bm.isTopModal(S()),I=pi(H=>{h.current=H,H&&(c&&T()?O():p.current&&Nh(p.current,b))}),R=w.useCallback(()=>{bm.remove(S(),b)},[b]);w.useEffect(()=>()=>{R()},[R]),w.useEffect(()=>{c?N():(!y||!i)&&R()},[c,R,y,i,N]);const v=H=>W=>{var G;(G=H.onKeyDown)==null||G.call(H,W),!(W.key!=="Escape"||W.which===229||!T())&&(n||(W.stopPropagation(),l&&l(W,"escapeKeyDown")))},k=H=>W=>{var G;(G=H.onClick)==null||G.call(H,W),W.target===W.currentTarget&&l&&l(W,"backdropClick")};return{getRootProps:(H={})=>{const W=M5(t);delete W.onTransitionEnter,delete W.onTransitionExited;const G={...W,...H};return{role:"presentation",...G,onKeyDown:v(G),ref:g}},getBackdropProps:(H={})=>{const W=H;return{"aria-hidden":!0,...W,onClick:k(W),open:c}},getTransitionProps:()=>{const H=()=>{x(!1),o&&o()},W=()=>{x(!0),s&&s(),i&&R()};return{onEnter:Hk(H,(a==null?void 0:a.props.onEnter)??kA),onExited:Hk(W,(a==null?void 0:a.props.onExited)??kA)}},rootRef:g,portalRef:I,isTopModal:T,exited:E,hasTransition:y}}function _ne(t){return rt("MuiModal",t)}et("MuiModal",["root","hidden","backdrop"]);const bne=t=>{const{open:e,exited:n,classes:r}=t;return it({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},_ne,r)},wne=le("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(vt(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),Ene=le(s4,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),l4=w.forwardRef(function(e,n){const r=st({name:"MuiModal",props:e}),{BackdropComponent:i=Ene,BackdropProps:o,classes:s,className:a,closeAfterTransition:l=!1,children:c,container:u,component:f,components:h={},componentsProps:p={},disableAutoFocus:g=!1,disableEnforceFocus:E=!1,disableEscapeKeyDown:x=!1,disablePortal:y=!1,disableRestoreFocus:b=!1,disableScrollLock:_=!1,hideBackdrop:S=!1,keepMounted:O=!1,onClose:N,onTransitionEnter:T,onTransitionExited:I,open:R,slotProps:v={},slots:k={},theme:M,...P}=r,q={...r,closeAfterTransition:l,disableAutoFocus:g,disableEnforceFocus:E,disableEscapeKeyDown:x,disablePortal:y,disableRestoreFocus:b,disableScrollLock:_,hideBackdrop:S,keepMounted:O},{getRootProps:H,getBackdropProps:W,getTransitionProps:G,portalRef:V,isTopModal:B,exited:Q,hasTransition:re}=vne({...q,rootRef:n}),he={...q,exited:Q},ge=bne(he),ie={};if(c.props.tabIndex===void 0&&(ie.tabIndex="-1"),re){const{onEnter:_e,onExited:$e}=G();ie.onEnter=_e,ie.onExited=$e}const oe={slots:{root:h.Root,backdrop:h.Backdrop,...k},slotProps:{...p,...v}},[Me,Ve]=Gt("root",{ref:n,elementType:wne,externalForwardedProps:{...oe,...P,component:f},getSlotProps:H,ownerState:he,className:Ee(a,ge==null?void 0:ge.root,!he.open&&he.exited&&(ge==null?void 0:ge.hidden))}),[Ae,De]=Gt("backdrop",{ref:o==null?void 0:o.ref,elementType:i,externalForwardedProps:oe,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:_e=>W({..._e,onClick:$e=>{_e!=null&&_e.onClick&&_e.onClick($e)}}),className:Ee(o==null?void 0:o.className,ge==null?void 0:ge.backdrop),ownerState:he});return!O&&!R&&(!re||Q)?null:A.jsx(r4,{ref:V,container:u,disablePortal:y,children:A.jsxs(Me,{...Ve,children:[!S&&i?A.jsx(Ae,{...De}):null,A.jsx(gne,{disableEnforceFocus:E,disableAutoFocus:g,disableRestoreFocus:b,isEnabled:B,open:R,children:w.cloneElement(c,ie)})]})})});function xne(t){return rt("MuiDialog",t)}const sw=et("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),c4=w.createContext({}),Sne=le(s4,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),Cne=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=t,s={root:["root"],container:["container",`scroll${ae(n)}`],paper:["paper",`paperScroll${ae(n)}`,`paperWidth${ae(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return it(s,xne,e)},Tne=le(l4,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),Ine=le("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${ae(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Rne=le(nf,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${ae(n.scroll)}`],e[`paperWidth${ae(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(vt(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${sw.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${sw.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${sw.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),wm=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiDialog"}),i=tf(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:c,BackdropProps:u,children:f,className:h,disableEscapeKeyDown:p=!1,fullScreen:g=!1,fullWidth:E=!1,maxWidth:x="sm",onClick:y,onClose:b,open:_,PaperComponent:S=nf,PaperProps:O={},scroll:N="paper",slots:T={},slotProps:I={},TransitionComponent:R=Sx,transitionDuration:v=o,TransitionProps:k,...M}=r,P={...r,disableEscapeKeyDown:p,fullScreen:g,fullWidth:E,maxWidth:x,scroll:N},q=Cne(P),H=w.useRef(),W=Le=>{H.current=Le.target===Le.currentTarget},G=Le=>{y&&y(Le),H.current&&(H.current=null,b&&b(Le,"backdropClick"))},V=Zd(a),B=w.useMemo(()=>({titleId:V}),[V]),Q={transition:R,...T},re={transition:k,paper:O,backdrop:u,...I},he={slots:Q,slotProps:re},[ge,ie]=Gt("root",{elementType:Tne,shouldForwardComponentProp:!0,externalForwardedProps:he,ownerState:P,className:Ee(q.root,h),ref:n}),[oe,Me]=Gt("backdrop",{elementType:Sne,shouldForwardComponentProp:!0,externalForwardedProps:he,ownerState:P}),[Ve,Ae]=Gt("paper",{elementType:Rne,shouldForwardComponentProp:!0,externalForwardedProps:he,ownerState:P,className:Ee(q.paper,O.className)}),[De,_e]=Gt("container",{elementType:Ine,externalForwardedProps:he,ownerState:P,className:Ee(q.container)}),[$e,Oe]=Gt("transition",{elementType:Sx,externalForwardedProps:he,ownerState:P,additionalProps:{appear:!0,in:_,timeout:v,role:"presentation"}});return A.jsx(ge,{closeAfterTransition:!0,slots:{backdrop:oe},slotProps:{backdrop:{transitionDuration:v,as:c,...Me}},disableEscapeKeyDown:p,onClose:b,open:_,onClick:G,...ie,...M,children:A.jsx($e,{...Oe,children:A.jsx(De,{onMouseDown:W,..._e,children:A.jsx(Ve,{as:S,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":V,"aria-modal":l,...Ae,children:A.jsx(c4.Provider,{value:B,children:f})})})})})});function Pne(t){return rt("MuiDialogActions",t)}et("MuiDialogActions",["root","spacing"]);const kne=t=>{const{classes:e,disableSpacing:n}=t;return it({root:["root",!n&&"spacing"]},Pne,e)},Ane=le("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Em=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1,...s}=r,a={...r,disableSpacing:o},l=kne(a);return A.jsx(Ane,{className:Ee(l.root,i),ownerState:a,ref:n,...s})});function One(t){return rt("MuiDialogContent",t)}et("MuiDialogContent",["root","dividers"]);function Nne(t){return rt("MuiDialogTitle",t)}const Mne=et("MuiDialogTitle",["root"]),Dne=t=>{const{classes:e,dividers:n}=t;return it({root:["root",n&&"dividers"]},One,e)},$ne=le("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(vt(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${Mne.root} + &`]:{paddingTop:0}}}]}))),xm=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiDialogContent"}),{className:i,dividers:o=!1,...s}=r,a={...r,dividers:o},l=Dne(a);return A.jsx($ne,{className:Ee(l.root,i),ownerState:a,ref:n,...s})}),Lne=t=>{const{classes:e}=t;return it({root:["root"]},Nne,e)},Fne=le(Fi,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),Sm=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiDialogTitle"}),{className:i,id:o,...s}=r,a=r,l=Lne(a),{titleId:c=o}=w.useContext(c4);return A.jsx(Fne,{component:"h2",className:Ee(l.root,i),ownerState:a,ref:n,variant:"h6",id:o??c,...s})}),AA=et("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Bne=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:s,multiline:a}=t,l={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${ae(o)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},c=it(l,mte,e);return{...e,...c}},Vne=le(S_,{shouldForwardProp:t=>Io(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...E_(t,e),!n.disableUnderline&&e.underline]}})(vt(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${Vi.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${Vi.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Vi.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Vi.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Vi.disabled}, .${Vi.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Vi.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(gi()).map(([s])=>{var a;return{props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[s])==null?void 0:a.main}`}}}}),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:a})=>s.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),Une=le(C_,{name:"MuiFilledInput",slot:"Input",overridesResolver:x_})(vt(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),GT=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,hiddenLabel:l,inputComponent:c="input",multiline:u=!1,slotProps:f,slots:h={},type:p="text",...g}=r,E={...r,disableUnderline:i,fullWidth:a,inputComponent:c,multiline:u,type:p},x=Bne(r),y={root:{ownerState:E},input:{ownerState:E}},b=f??s?dr(y,f??s):y,_=h.root??o.Root??Vne,S=h.input??o.Input??Une;return A.jsx(HT,{slots:{root:_,input:S},slotProps:b,fullWidth:a,inputComponent:c,multiline:u,ref:n,type:p,...g,classes:x})});GT.muiName="Input";function jne(t){return rt("MuiFormControl",t)}et("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const zne=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${ae(n)}`,r&&"fullWidth"]};return it(i,jne,e)},Wne=le("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${ae(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),KT=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:f=!1,hiddenLabel:h=!1,margin:p="none",required:g=!1,size:E="medium",variant:x="outlined",...y}=r,b={...r,color:s,component:a,disabled:l,error:c,fullWidth:f,hiddenLabel:h,margin:p,required:g,size:E,variant:x},_=zne(b),[S,O]=w.useState(()=>{let H=!1;return i&&w.Children.forEach(i,W=>{if(!fy(W,["Input","Select"]))return;const G=fy(W,["Select"])?W.props.input:W;G&&dte(G.props)&&(H=!0)}),H}),[N,T]=w.useState(()=>{let H=!1;return i&&w.Children.forEach(i,W=>{fy(W,["Input","Select"])&&(bv(W.props,!0)||bv(W.props.inputProps,!0))&&(H=!0)}),H}),[I,R]=w.useState(!1);l&&I&&R(!1);const v=u!==void 0&&!l?u:I;let k;w.useRef(!1);const M=w.useCallback(()=>{T(!0)},[]),P=w.useCallback(()=>{T(!1)},[]),q=w.useMemo(()=>({adornedStart:S,setAdornedStart:O,color:s,disabled:l,error:c,filled:N,focused:v,fullWidth:f,hiddenLabel:h,size:E,onBlur:()=>{R(!1)},onFocus:()=>{R(!0)},onEmpty:P,onFilled:M,registerEffect:k,required:g,variant:x}),[S,s,l,c,N,v,f,h,k,P,M,g,E,x]);return A.jsx(WT.Provider,{value:q,children:A.jsx(Wne,{as:a,ownerState:b,className:Ee(_.root,o),ref:n,...y,children:i})})});function Hne(t){return rt("MuiFormHelperText",t)}const OA=et("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var NA;const Gne=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=t,c={root:["root",i&&"disabled",o&&"error",r&&`size${ae(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return it(c,Hne,e)},Kne=le("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${ae(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(vt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${OA.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${OA.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),qne=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p",disabled:a,error:l,filled:c,focused:u,margin:f,required:h,variant:p,...g}=r,E=of(),x=rf({props:r,muiFormControl:E,states:["variant","size","disabled","error","filled","focused","required"]}),y={...r,component:s,contained:x.variant==="filled"||x.variant==="outlined",variant:x.variant,size:x.size,disabled:x.disabled,error:x.error,filled:x.filled,focused:x.focused,required:x.required};delete y.ownerState;const b=Gne(y);return A.jsx(Kne,{as:s,className:Ee(b.root,o),ref:n,...g,ownerState:y,children:i===" "?NA||(NA=A.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):i})});function Yne(t){return rt("MuiFormLabel",t)}const Mh=et("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Xne=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=t,l={root:["root",`color${ae(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return it(l,Yne,e)},Qne=le("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(vt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(gi()).map(([e])=>({props:{color:e},style:{[`&.${Mh.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${Mh.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Mh.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),Jne=le("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(vt(({theme:t})=>({[`&.${Mh.error}`]:{color:(t.vars||t).palette.error.main}}))),Zne=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiFormLabel"}),{children:i,className:o,color:s,component:a="label",disabled:l,error:c,filled:u,focused:f,required:h,...p}=r,g=of(),E=rf({props:r,muiFormControl:g,states:["color","required","focused","disabled","error","filled"]}),x={...r,color:E.color||"primary",component:a,disabled:E.disabled,error:E.error,filled:E.filled,focused:E.focused,required:E.required},y=Xne(x);return A.jsxs(Qne,{as:a,ownerState:x,className:Ee(y.root,o),ref:n,...p,children:[i,E.required&&A.jsxs(Jne,{ownerState:x,"aria-hidden":!0,className:y.asterisk,children:[" ","*"]})]})}),MA=QQ({createStyledComponent:le("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:t=>st({props:t,name:"MuiGrid"}),useTheme:tf});function Cx(t){return`scale(${t}, ${t**2})`}const ere={entering:{opacity:1,transform:Cx(1)},entered:{opacity:1,transform:"none"}},aw=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Tx=w.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:f,onExited:h,onExiting:p,style:g,timeout:E="auto",TransitionComponent:x=Os,...y}=e,b=A5(),_=w.useRef(),S=tf(),O=w.useRef(null),N=fr(O,lg(o),n),T=H=>W=>{if(H){const G=O.current;W===void 0?H(G):H(G,W)}},I=T(u),R=T((H,W)=>{G5(H);const{duration:G,delay:V,easing:B}=mv({style:g,timeout:E,easing:s},{mode:"enter"});let Q;E==="auto"?(Q=S.transitions.getAutoHeightDuration(H.clientHeight),_.current=Q):Q=G,H.style.transition=[S.transitions.create("opacity",{duration:Q,delay:V}),S.transitions.create("transform",{duration:aw?Q:Q*.666,delay:V,easing:B})].join(","),l&&l(H,W)}),v=T(c),k=T(p),M=T(H=>{const{duration:W,delay:G,easing:V}=mv({style:g,timeout:E,easing:s},{mode:"exit"});let B;E==="auto"?(B=S.transitions.getAutoHeightDuration(H.clientHeight),_.current=B):B=W,H.style.transition=[S.transitions.create("opacity",{duration:B,delay:G}),S.transitions.create("transform",{duration:aw?B:B*.666,delay:aw?G:G||B*.333,easing:V})].join(","),H.style.opacity=0,H.style.transform=Cx(.75),f&&f(H)}),P=T(h),q=H=>{E==="auto"&&b.start(_.current||0,H),r&&r(O.current,H)};return A.jsx(x,{appear:i,in:a,nodeRef:O,onEnter:R,onEntered:v,onEntering:I,onExit:M,onExited:P,onExiting:k,addEndListener:q,timeout:E==="auto"?null:E,...y,children:(H,{ownerState:W,...G})=>w.cloneElement(o,{style:{opacity:0,transform:Cx(.75),visibility:H==="exited"&&!a?"hidden":void 0,...ere[H],...g,...o.props.style},ref:N,...G})})});Tx&&(Tx.muiSupportAuto=!0);const tre=t=>{const{classes:e,disableUnderline:n}=t,i=it({root:["root",!n&&"underline"],input:["input"]},pte,e);return{...e,...i}},nre=le(S_,{shouldForwardProp:t=>Io(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...E_(t,e),!n.disableUnderline&&e.underline]}})(vt(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Va.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Va.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Va.disabled}, .${Va.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Va.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(gi()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),rre=le(C_,{name:"MuiInput",slot:"Input",overridesResolver:x_})({}),qT=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,inputComponent:l="input",multiline:c=!1,slotProps:u,slots:f={},type:h="text",...p}=r,g=tre(r),x={root:{ownerState:{disableUnderline:i}}},y=u??s?dr(u??s,x):x,b=f.root??o.Root??nre,_=f.input??o.Input??rre;return A.jsx(HT,{slots:{root:b,input:_},slotProps:y,fullWidth:a,inputComponent:l,multiline:c,ref:n,type:h,...p,classes:g})});qT.muiName="Input";function ire(t){return rt("MuiInputLabel",t)}et("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const ore=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=t,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="medium"&&`size${ae(r)}`,s],asterisk:[a&&"asterisk"]},c=it(l,ire,e);return{...e,...c}},sre=le(Zne,{shouldForwardProp:t=>Io(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Mh.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(vt(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),YT=w.forwardRef(function(e,n){const r=st({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:o,shrink:s,variant:a,className:l,...c}=r,u=of();let f=s;typeof f>"u"&&u&&(f=u.filled||u.focused||u.adornedStart);const h=rf({props:r,muiFormControl:u,states:["size","variant","required","focused"]}),p={...r,disableAnimation:i,formControl:u,shrink:f,size:h.size,variant:h.variant,required:h.required,focused:h.focused},g=ore(p);return A.jsx(sre,{"data-shrink":f,ref:n,className:Ee(g.root,l),...c,ownerState:p,classes:g})}),Ix=w.createContext({});function are(t){return rt("MuiList",t)}et("MuiList",["root","padding","dense","subheader"]);const lre=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return it({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},are,e)},cre=le("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),ure=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c,...u}=r,f=w.useMemo(()=>({dense:a}),[a]),h={...r,component:s,dense:a,disablePadding:l},p=lre(h);return A.jsx(Ix.Provider,{value:f,children:A.jsxs(cre,{as:s,className:Ee(p.root,o),ref:n,ownerState:h,...u,children:[c,i]})})}),DA=et("MuiListItemIcon",["root","alignItemsFlexStart"]),$A=et("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function lw(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function LA(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function u4(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function Bf(t,e,n,r,i,o){let s=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!u4(a,o)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const dre=w.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:f="selectedMenu",...h}=e,p=w.useRef(null),g=w.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Qo(()=>{i&&p.current.focus()},[i]),w.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(_,{direction:S})=>{const O=!p.current.style.width;if(_.clientHeight<p.current.clientHeight&&O){const N=`${O5(Jo(_))}px`;p.current.style[S==="rtl"?"paddingLeft":"paddingRight"]=N,p.current.style.width=`calc(100% + ${N})`}return p.current}}),[]);const E=_=>{const S=p.current,O=_.key;if(_.ctrlKey||_.metaKey||_.altKey){u&&u(_);return}const T=Si(S).activeElement;if(O==="ArrowDown")_.preventDefault(),Bf(S,T,c,l,lw);else if(O==="ArrowUp")_.preventDefault(),Bf(S,T,c,l,LA);else if(O==="Home")_.preventDefault(),Bf(S,null,c,l,lw);else if(O==="End")_.preventDefault(),Bf(S,null,c,l,LA);else if(O.length===1){const I=g.current,R=O.toLowerCase(),v=performance.now();I.keys.length>0&&(v-I.lastTime>500?(I.keys=[],I.repeating=!0,I.previousKeyMatched=!0):I.repeating&&R!==I.keys[0]&&(I.repeating=!1)),I.lastTime=v,I.keys.push(R);const k=T&&!I.repeating&&u4(T,I);I.previousKeyMatched&&(k||Bf(S,T,!1,l,lw,I))?_.preventDefault():I.previousKeyMatched=!1}u&&u(_)},x=fr(p,n);let y=-1;w.Children.forEach(s,(_,S)=>{if(!w.isValidElement(_)){y===S&&(y+=1,y>=s.length&&(y=-1));return}_.props.disabled||(f==="selectedMenu"&&_.props.selected||y===-1)&&(y=S),y===S&&(_.props.disabled||_.props.muiSkipListHighlight||_.type.muiSkipListHighlight)&&(y+=1,y>=s.length&&(y=-1))});const b=w.Children.map(s,(_,S)=>{if(S===y){const O={};return o&&(O.autoFocus=!0),_.props.tabIndex===void 0&&f==="selectedMenu"&&(O.tabIndex=0),w.cloneElement(_,O)}return _});return A.jsx(ure,{role:"menu",ref:x,className:a,onKeyDown:E,tabIndex:i?0:-1,...h,children:b})});function fre(t){return rt("MuiPopover",t)}et("MuiPopover",["root","paper"]);function FA(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function BA(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function VA(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Cm(t){return typeof t=="function"?t():t}const hre=t=>{const{classes:e}=t;return it({root:["root"],paper:["paper"]},fre,e)},pre=le(l4,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),d4=le(nf,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),gre=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:c,className:u,container:f,elevation:h=8,marginThreshold:p=16,open:g,PaperProps:E={},slots:x={},slotProps:y={},transformOrigin:b={vertical:"top",horizontal:"left"},TransitionComponent:_,transitionDuration:S="auto",TransitionProps:O={},disableScrollLock:N=!1,...T}=r,I=w.useRef(),R={...r,anchorOrigin:s,anchorReference:l,elevation:h,marginThreshold:p,transformOrigin:b,TransitionComponent:_,transitionDuration:S,TransitionProps:O},v=hre(R),k=w.useCallback(()=>{if(l==="anchorPosition")return a;const _e=Cm(o),Oe=(_e&&_e.nodeType===1?_e:Si(I.current).body).getBoundingClientRect();return{top:Oe.top+FA(Oe,s.vertical),left:Oe.left+BA(Oe,s.horizontal)}},[o,s.horizontal,s.vertical,a,l]),M=w.useCallback(_e=>({vertical:FA(_e,b.vertical),horizontal:BA(_e,b.horizontal)}),[b.horizontal,b.vertical]),P=w.useCallback(_e=>{const $e={width:_e.offsetWidth,height:_e.offsetHeight},Oe=M($e);if(l==="none")return{top:null,left:null,transformOrigin:VA(Oe)};const Le=k();let Ue=Le.top-Oe.vertical,ze=Le.left-Oe.horizontal;const Nt=Ue+$e.height,me=ze+$e.width,It=Jo(Cm(o)),We=It.innerHeight-p,pt=It.innerWidth-p;if(p!==null&&Ue<p){const at=Ue-p;Ue-=at,Oe.vertical+=at}else if(p!==null&&Nt>We){const at=Nt-We;Ue-=at,Oe.vertical+=at}if(p!==null&&ze<p){const at=ze-p;ze-=at,Oe.horizontal+=at}else if(me>pt){const at=me-pt;ze-=at,Oe.horizontal+=at}return{top:`${Math.round(Ue)}px`,left:`${Math.round(ze)}px`,transformOrigin:VA(Oe)}},[o,l,k,M,p]),[q,H]=w.useState(g),W=w.useCallback(()=>{const _e=I.current;if(!_e)return;const $e=P(_e);$e.top!==null&&_e.style.setProperty("top",$e.top),$e.left!==null&&(_e.style.left=$e.left),_e.style.transformOrigin=$e.transformOrigin,H(!0)},[P]);w.useEffect(()=>(N&&window.addEventListener("scroll",W),()=>window.removeEventListener("scroll",W)),[o,N,W]);const G=()=>{W()},V=()=>{H(!1)};w.useEffect(()=>{g&&W()}),w.useImperativeHandle(i,()=>g?{updatePosition:()=>{W()}}:null,[g,W]),w.useEffect(()=>{if(!g)return;const _e=v_(()=>{W()}),$e=Jo(Cm(o));return $e.addEventListener("resize",_e),()=>{_e.clear(),$e.removeEventListener("resize",_e)}},[o,g,W]);let B=S;const Q={slots:{transition:_,...x},slotProps:{transition:O,paper:E,...y}},[re,he]=Gt("transition",{elementType:Tx,externalForwardedProps:Q,ownerState:R,getSlotProps:_e=>({..._e,onEntering:($e,Oe)=>{var Le;(Le=_e.onEntering)==null||Le.call(_e,$e,Oe),G()},onExited:$e=>{var Oe;(Oe=_e.onExited)==null||Oe.call(_e,$e),V()}}),additionalProps:{appear:!0,in:g}});S==="auto"&&!re.muiSupportAuto&&(B=void 0);const ge=f||(o?Si(Cm(o)).body:void 0),[ie,{slots:oe,slotProps:Me,...Ve}]=Gt("root",{ref:n,elementType:pre,externalForwardedProps:{...Q,...T},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:x.backdrop},slotProps:{backdrop:jJ(typeof y.backdrop=="function"?y.backdrop(R):y.backdrop,{invisible:!0})},container:ge,open:g},ownerState:R,className:Ee(v.root,u)}),[Ae,De]=Gt("paper",{ref:I,className:v.paper,elementType:d4,externalForwardedProps:Q,shouldForwardComponentProp:!0,additionalProps:{elevation:h,style:q?void 0:{opacity:0}},ownerState:R});return A.jsx(ie,{...Ve,...!xx(ie)&&{slots:oe,slotProps:Me,disableScrollLock:N},children:A.jsx(re,{...he,timeout:B,children:A.jsx(Ae,{...De,children:c})})})});function mre(t){return rt("MuiMenu",t)}et("MuiMenu",["root","paper","list"]);const yre={vertical:"top",horizontal:"right"},vre={vertical:"top",horizontal:"left"},_re=t=>{const{classes:e}=t;return it({root:["root"],paper:["paper"],list:["list"]},mre,e)},bre=le(gre,{shouldForwardProp:t=>Io(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),wre=le(d4,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Ere=le(dre,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),xre=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:s,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:c,open:u,PaperProps:f={},PopoverClasses:h,transitionDuration:p="auto",TransitionProps:{onEntering:g,...E}={},variant:x="selectedMenu",slots:y={},slotProps:b={},..._}=r,S=__(),O={...r,autoFocus:i,disableAutoFocusItem:a,MenuListProps:l,onEntering:g,PaperProps:f,transitionDuration:p,TransitionProps:E,variant:x},N=_re(O),T=i&&!a&&u,I=w.useRef(null),R=(B,Q)=>{I.current&&I.current.adjustStyleForScrollbar(B,{direction:S?"rtl":"ltr"}),g&&g(B,Q)},v=B=>{B.key==="Tab"&&(B.preventDefault(),c&&c(B,"tabKeyDown"))};let k=-1;w.Children.map(o,(B,Q)=>{w.isValidElement(B)&&(B.props.disabled||(x==="selectedMenu"&&B.props.selected||k===-1)&&(k=Q))});const M={slots:y,slotProps:{list:l,transition:E,paper:f,...b}},P=Id({elementType:y.root,externalSlotProps:b.root,ownerState:O,className:[N.root,s]}),[q,H]=Gt("paper",{className:N.paper,elementType:wre,externalForwardedProps:M,shouldForwardComponentProp:!0,ownerState:O}),[W,G]=Gt("list",{className:Ee(N.list,l.className),elementType:Ere,shouldForwardComponentProp:!0,externalForwardedProps:M,getSlotProps:B=>({...B,onKeyDown:Q=>{var re;v(Q),(re=B.onKeyDown)==null||re.call(B,Q)}}),ownerState:O}),V=typeof M.slotProps.transition=="function"?M.slotProps.transition(O):M.slotProps.transition;return A.jsx(bre,{onClose:c,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?yre:vre,slots:{root:y.root,paper:q,backdrop:y.backdrop,...y.transition&&{transition:y.transition}},slotProps:{root:P,paper:H,backdrop:typeof b.backdrop=="function"?b.backdrop(O):b.backdrop,transition:{...V,onEntering:(...B)=>{var Q;R(...B),(Q=V==null?void 0:V.onEntering)==null||Q.call(V,...B)}}},open:u,ref:n,transitionDuration:p,ownerState:O,..._,classes:h,children:A.jsx(W,{actions:I,autoFocus:i&&(k===-1||a),autoFocusItem:T,variant:x,...G,children:o})})});function Sre(t){return rt("MuiMenuItem",t)}const Vf=et("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Cre=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Tre=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=t,l=it({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},Sre,s);return{...s,...l}},Ire=le(vl,{shouldForwardProp:t=>Io(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Cre})(vt(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Vf.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Vf.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Vf.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Vf.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Vf.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${AA.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${AA.inset}`]:{marginLeft:52},[`& .${$A.root}`]:{marginTop:0,marginBottom:0},[`& .${$A.inset}`]:{paddingLeft:36},[`& .${DA.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${DA.root} svg`]:{fontSize:"1.25rem"}}}]}))),Ua=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:f,className:h,...p}=r,g=w.useContext(Ix),E=w.useMemo(()=>({dense:s||g.dense||!1,disableGutters:l}),[g.dense,s,l]),x=w.useRef(null);Qo(()=>{i&&x.current&&x.current.focus()},[i]);const y={...r,dense:E.dense,divider:a,disableGutters:l},b=Tre(r),_=fr(x,n);let S;return r.disabled||(S=f!==void 0?f:-1),A.jsx(Ix.Provider,{value:E,children:A.jsx(Ire,{ref:_,role:u,tabIndex:S,component:o,focusVisibleClassName:Ee(b.focusVisible,c),className:Ee(b.root,h),...p,ownerState:y,classes:b})})});function Rre(t){return rt("MuiNativeSelect",t)}const XT=et("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Pre=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${ae(n)}`,o&&"iconOpen",r&&"disabled"]};return it(a,Rre,e)},f4=le("select")(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${XT.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),kre=le(f4,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Io,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${XT.multiple}`]:e.multiple}]}})({}),h4=le("svg")(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${XT.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),Are=le(h4,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ae(n.variant)}`],n.open&&e.iconOpen]}})({}),Ore=w.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard",...c}=e,u={...e,disabled:i,variant:l,error:o},f=Pre(u);return A.jsxs(w.Fragment,{children:[A.jsx(kre,{ownerState:u,className:Ee(f.select,r),disabled:i,ref:a||n,...c}),e.multiple?null:A.jsx(Are,{as:s,ownerState:u,className:f.icon})]})});var UA;const Nre=le("fieldset",{shouldForwardProp:Io})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Mre=le("legend",{shouldForwardProp:Io})(vt(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function Dre(t){const{children:e,classes:n,className:r,label:i,notched:o,...s}=t,a=i!=null&&i!=="",l={...t,notched:o,withLabel:a};return A.jsx(Nre,{"aria-hidden":!0,className:r,ownerState:l,...s,children:A.jsx(Mre,{ownerState:l,children:a?A.jsx("span",{children:i}):UA||(UA=A.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const $re=t=>{const{classes:e}=t,r=it({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},gte,e);return{...e,...r}},Lre=le(S_,{shouldForwardProp:t=>Io(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:E_})(vt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${ao.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${ao.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${ao.focused} .${ao.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(gi()).map(([n])=>({props:{color:n},style:{[`&.${ao.focused} .${ao.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${ao.error} .${ao.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${ao.disabled} .${ao.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),Fre=le(Dre,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(vt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),Bre=le(C_,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:x_})(vt(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),QT=w.forwardRef(function(e,n){var r;const i=st({props:e,name:"MuiOutlinedInput"}),{components:o={},fullWidth:s=!1,inputComponent:a="input",label:l,multiline:c=!1,notched:u,slots:f={},type:h="text",...p}=i,g=$re(i),E=of(),x=rf({props:i,muiFormControl:E,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),y={...i,color:x.color||"primary",disabled:x.disabled,error:x.error,focused:x.focused,formControl:E,fullWidth:s,hiddenLabel:x.hiddenLabel,multiline:c,size:x.size,type:h},b=f.root??o.Root??Lre,_=f.input??o.Input??Bre;return A.jsx(HT,{slots:{root:b,input:_},renderSuffix:S=>A.jsx(Fre,{ownerState:y,className:g.notchedOutline,label:l!=null&&l!==""&&x.required?r||(r=A.jsxs(w.Fragment,{children:[l," ","*"]})):l,notched:typeof u<"u"?u:!!(S.startAdornment||S.filled||S.focused)}),fullWidth:s,inputComponent:a,multiline:c,ref:n,type:h,...p,classes:{...g,notchedOutline:null}})});QT.muiName="Input";function p4(t){return rt("MuiSelect",t)}const Uf=et("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var jA;const Vre=le(f4,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Uf.select}`]:e.select},{[`&.${Uf.select}`]:e[n.variant]},{[`&.${Uf.error}`]:e.error},{[`&.${Uf.multiple}`]:e.multiple}]}})({[`&.${Uf.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Ure=le(h4,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ae(n.variant)}`],n.open&&e.iconOpen]}})({}),jre=le("input",{shouldForwardProp:t=>z5(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function zA(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function zre(t){return t==null||typeof t=="string"&&!t.trim()}const Wre=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${ae(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return it(a,p4,e)},Hre=w.forwardRef(function(e,n){var Hr;const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:s,children:a,className:l,defaultOpen:c,defaultValue:u,disabled:f,displayEmpty:h,error:p=!1,IconComponent:g,inputRef:E,labelId:x,MenuProps:y={},multiple:b,name:_,onBlur:S,onChange:O,onClose:N,onFocus:T,onOpen:I,open:R,readOnly:v,renderValue:k,required:M,SelectDisplayProps:P={},tabIndex:q,type:H,value:W,variant:G="standard",...V}=e,[B,Q]=kh({controlled:W,default:u,name:"Select"}),[re,he]=kh({controlled:R,default:c,name:"Select"}),ge=w.useRef(null),ie=w.useRef(null),[oe,Me]=w.useState(null),{current:Ve}=w.useRef(R!=null),[Ae,De]=w.useState(),_e=fr(n,E),$e=w.useCallback(xe=>{ie.current=xe,xe&&Me(xe)},[]),Oe=oe==null?void 0:oe.parentNode;w.useImperativeHandle(_e,()=>({focus:()=>{ie.current.focus()},node:ge.current,value:B}),[B]),w.useEffect(()=>{c&&re&&oe&&!Ve&&(De(s?null:Oe.clientWidth),ie.current.focus())},[oe,s]),w.useEffect(()=>{o&&ie.current.focus()},[o]),w.useEffect(()=>{if(!x)return;const xe=Si(ie.current).getElementById(x);if(xe){const Te=()=>{getSelection().isCollapsed&&ie.current.focus()};return xe.addEventListener("click",Te),()=>{xe.removeEventListener("click",Te)}}},[x]);const Le=(xe,Te)=>{xe?I&&I(Te):N&&N(Te),Ve||(De(s?null:Oe.clientWidth),he(xe))},Ue=xe=>{xe.button===0&&(xe.preventDefault(),ie.current.focus(),Le(!0,xe))},ze=xe=>{Le(!1,xe)},Nt=w.Children.toArray(a),me=xe=>{const Te=Nt.find(Yt=>Yt.props.value===xe.target.value);Te!==void 0&&(Q(Te.props.value),O&&O(xe,Te))},It=xe=>Te=>{let Yt;if(Te.currentTarget.hasAttribute("tabindex")){if(b){Yt=Array.isArray(B)?B.slice():[];const Un=B.indexOf(xe.props.value);Un===-1?Yt.push(xe.props.value):Yt.splice(Un,1)}else Yt=xe.props.value;if(xe.props.onClick&&xe.props.onClick(Te),B!==Yt&&(Q(Yt),O)){const Un=Te.nativeEvent||Te,Gr=new Un.constructor(Un.type,Un);Object.defineProperty(Gr,"target",{writable:!0,value:{value:Yt,name:_}}),O(Gr,xe)}b||Le(!1,Te)}},We=xe=>{v||[" ","ArrowUp","ArrowDown","Enter"].includes(xe.key)&&(xe.preventDefault(),Le(!0,xe))},pt=oe!==null&&re,at=xe=>{!pt&&S&&(Object.defineProperty(xe,"target",{writable:!0,value:{value:B,name:_}}),S(xe))};delete V["aria-invalid"];let Pe,nn;const ot=[];let En=!1;(bv({value:B})||h)&&(k?Pe=k(B):En=!0);const xt=Nt.map(xe=>{if(!w.isValidElement(xe))return null;let Te;if(b){if(!Array.isArray(B))throw new Error(ha(2));Te=B.some(Yt=>zA(Yt,xe.props.value)),Te&&En&&ot.push(xe.props.children)}else Te=zA(B,xe.props.value),Te&&En&&(nn=xe.props.children);return w.cloneElement(xe,{"aria-selected":Te?"true":"false",onClick:It(xe),onKeyUp:Yt=>{Yt.key===" "&&Yt.preventDefault(),xe.props.onKeyUp&&xe.props.onKeyUp(Yt)},role:"option",selected:Te,value:void 0,"data-value":xe.props.value})});En&&(b?ot.length===0?Pe=null:Pe=ot.reduce((xe,Te,Yt)=>(xe.push(Te),Yt<ot.length-1&&xe.push(", "),xe),[]):Pe=nn);let _t=Ae;!s&&Ve&&oe&&(_t=Oe.clientWidth);let St;typeof q<"u"?St=q:St=f?null:0;const Bt=P.id||(_?`mui-component-select-${_}`:void 0),gt={...e,variant:G,value:B,open:pt,error:p},Qe=Wre(gt),xn={...y.PaperProps,...(Hr=y.slotProps)==null?void 0:Hr.paper},Vn=Zd();return A.jsxs(w.Fragment,{children:[A.jsx(Vre,{as:"div",ref:$e,tabIndex:St,role:"combobox","aria-controls":pt?Vn:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":pt?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[x,Bt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":M?"true":void 0,"aria-invalid":p?"true":void 0,onKeyDown:We,onMouseDown:f||v?null:Ue,onBlur:at,onFocus:T,...P,ownerState:gt,className:Ee(P.className,Qe.select,l),id:Bt,children:zre(Pe)?jA||(jA=A.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):Pe}),A.jsx(jre,{"aria-invalid":p,value:Array.isArray(B)?B.join(","):B,name:_,ref:ge,"aria-hidden":!0,onChange:me,tabIndex:-1,disabled:f,className:Qe.nativeInput,autoFocus:o,required:M,...V,ownerState:gt}),A.jsx(Ure,{as:g,className:Qe.icon,ownerState:gt}),A.jsx(xre,{id:`menu-${_||""}`,anchorEl:Oe,open:pt,onClose:ze,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...y,slotProps:{...y.slotProps,list:{"aria-labelledby":x,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:Vn,...y.MenuListProps},paper:{...xn,style:{minWidth:_t,...xn!=null?xn.style:null}}},children:xt})]})}),Gre=t=>{const{classes:e}=t,r=it({root:["root"]},p4,e);return{...e,...r}},JT={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Io(t)&&t!=="variant",slot:"Root"},Kre=le(qT,JT)(""),qre=le(QT,JT)(""),Yre=le(GT,JT)(""),T_=w.forwardRef(function(e,n){const r=st({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=o4,id:f,input:h,inputProps:p,label:g,labelId:E,MenuProps:x,multiple:y=!1,native:b=!1,onClose:_,onOpen:S,open:O,renderValue:N,SelectDisplayProps:T,variant:I="outlined",...R}=r,v=b?Ore:Hre,k=of(),M=rf({props:r,muiFormControl:k,states:["variant","error"]}),P=M.variant||I,q={...r,variant:P,classes:s},H=Gre(q),{root:W,...G}=H,V=h||{standard:A.jsx(Kre,{ownerState:q}),outlined:A.jsx(qre,{label:g,ownerState:q}),filled:A.jsx(Yre,{ownerState:q})}[P],B=fr(n,lg(V));return A.jsx(w.Fragment,{children:w.cloneElement(V,{inputComponent:v,inputProps:{children:o,error:M.error,IconComponent:u,variant:P,type:void 0,multiple:y,...b?{id:f}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:E,MenuProps:x,onClose:_,onOpen:S,open:O,renderValue:N,SelectDisplayProps:{id:f,...T}},...p,classes:p?dr(G,p.classes):G,...h?h.props.inputProps:{}},...(y&&b||c)&&P==="outlined"?{notched:!0}:{},ref:B,className:Ee(V.props.className,a,H.root),...!h&&{variant:P},...R})})});T_.muiName="Select";const Xre=iJ({createStyledComponent:le("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>st({props:t,name:"MuiStack"})});function Qre(t){return rt("MuiTab",t)}const so=et("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),Jre=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:i,icon:o,label:s,selected:a,disabled:l}=t,c={root:["root",o&&s&&"labelIcon",`textColor${ae(n)}`,r&&"fullWidth",i&&"wrapped",a&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]};return it(c,Qre,e)},Zre=le(vl,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${ae(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped,{[`& .${so.iconWrapper}`]:e.iconWrapper},{[`& .${so.icon}`]:e.icon}]}})(vt(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="top",style:{[`& > .${so.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="bottom",style:{[`& > .${so.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="start",style:{[`& > .${so.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="end",style:{[`& > .${so.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${so.selected}`]:{opacity:1},[`&.${so.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${so.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${so.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${so.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${so.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),WA=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:s=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:u,label:f,onChange:h,onClick:p,onFocus:g,selected:E,selectionFollowsFocus:x,textColor:y="inherit",value:b,wrapped:_=!1,...S}=r,O={...r,disabled:o,disableFocusRipple:s,selected:E,icon:!!l,iconPosition:c,label:!!f,fullWidth:a,textColor:y,wrapped:_},N=Jre(O),T=l&&f&&w.isValidElement(l)?w.cloneElement(l,{className:Ee(N.icon,l.props.className)}):l,I=v=>{!E&&h&&h(v,b),p&&p(v)},R=v=>{x&&!E&&h&&h(v,b),g&&g(v)};return A.jsxs(Zre,{focusRipple:!s,className:Ee(N.root,i),ref:n,role:"tab","aria-selected":E,disabled:o,onClick:I,onFocus:R,ownerState:O,tabIndex:E?0:-1,...S,children:[c==="top"||c==="start"?A.jsxs(w.Fragment,{children:[T,f]}):A.jsxs(w.Fragment,{children:[f,T]}),u]})}),eie=Xn(A.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),tie=Xn(A.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function nie(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function rie(t,e,n,r={},i=()=>{}){const{ease:o=nie,duration:s=300}=r;let a=null;const l=e[t];let c=!1;const u=()=>{c=!0},f=h=>{if(c){i(new Error("Animation cancelled"));return}a===null&&(a=h);const p=Math.min(1,(h-a)/s);if(e[t]=o(p)*(n-l)+l,p>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(f)};return l===n?(i(new Error("Element already at target position")),u):(requestAnimationFrame(f),u)}const iie={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function oie(t){const{onChange:e,...n}=t,r=w.useRef(),i=w.useRef(null),o=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return Qo(()=>{const s=v_(()=>{const l=r.current;o(),l!==r.current&&e(r.current)}),a=Jo(i.current);return a.addEventListener("resize",s),()=>{s.clear(),a.removeEventListener("resize",s)}},[e]),w.useEffect(()=>{o(),e(r.current)},[e]),A.jsx("div",{style:iie,...n,ref:i})}function sie(t){return rt("MuiTabScrollButton",t)}const aie=et("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),lie=t=>{const{classes:e,orientation:n,disabled:r}=t;return it({root:["root",n,r&&"disabled"]},sie,e)},cie=le(vl,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${aie.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),uie=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiTabScrollButton"}),{className:i,slots:o={},slotProps:s={},direction:a,orientation:l,disabled:c,...u}=r,f=__(),h={isRtl:f,...r},p=lie(h),g=o.StartScrollButtonIcon??eie,E=o.EndScrollButtonIcon??tie,x=Id({elementType:g,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h}),y=Id({elementType:E,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h});return A.jsx(cie,{component:"div",className:Ee(p.root,i),ref:n,role:null,ownerState:h,tabIndex:null,...u,style:{...u.style,...l==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${f?-90:90}deg)`}},children:a==="left"?A.jsx(g,{...x}):A.jsx(E,{...y})})});function die(t){return rt("MuiTabs",t)}const cw=et("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),HA=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,GA=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,Tm=(t,e,n)=>{let r=!1,i=n(t,e);for(;i;){if(i===t.firstChild){if(r)return;r=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=n(t,i);else{i.focus();return}}},fie=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:s,scrollButtonsHideMobile:a,classes:l}=t;return it({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},die,l)},hie=le("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${cw.scrollButtons}`]:e.scrollButtons},{[`& .${cw.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(vt(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${cw.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),pie=le("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),gie=le("div",{name:"MuiTabs",slot:"List",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.list,e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),mie=le("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(vt(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),yie=le(oie)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),KA={},vie=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiTabs"}),i=tf(),o=__(),{"aria-label":s,"aria-labelledby":a,action:l,centered:c=!1,children:u,className:f,component:h="div",allowScrollButtonsMobile:p=!1,indicatorColor:g="primary",onChange:E,orientation:x="horizontal",ScrollButtonComponent:y,scrollButtons:b="auto",selectionFollowsFocus:_,slots:S={},slotProps:O={},TabIndicatorProps:N={},TabScrollButtonProps:T={},textColor:I="primary",value:R,variant:v="standard",visibleScrollbar:k=!1,...M}=r,P=v==="scrollable",q=x==="vertical",H=q?"scrollTop":"scrollLeft",W=q?"top":"left",G=q?"bottom":"right",V=q?"clientHeight":"clientWidth",B=q?"height":"width",Q={...r,component:h,allowScrollButtonsMobile:p,indicatorColor:g,orientation:x,vertical:q,scrollButtons:b,textColor:I,variant:v,visibleScrollbar:k,fixed:!P,hideScrollbar:P&&!k,scrollableX:P&&!q,scrollableY:P&&q,centered:c&&!P,scrollButtonsHideMobile:!p},re=fie(Q),he=Id({elementType:S.StartScrollButtonIcon,externalSlotProps:O.startScrollButtonIcon,ownerState:Q}),ge=Id({elementType:S.EndScrollButtonIcon,externalSlotProps:O.endScrollButtonIcon,ownerState:Q}),[ie,oe]=w.useState(!1),[Me,Ve]=w.useState(KA),[Ae,De]=w.useState(!1),[_e,$e]=w.useState(!1),[Oe,Le]=w.useState(!1),[Ue,ze]=w.useState({overflow:"hidden",scrollbarWidth:0}),Nt=new Map,me=w.useRef(null),It=w.useRef(null),We={slots:S,slotProps:{indicator:N,scrollButton:T,...O}},pt=()=>{const ve=me.current;let de;if(ve){const tt=ve.getBoundingClientRect();de={clientWidth:ve.clientWidth,scrollLeft:ve.scrollLeft,scrollTop:ve.scrollTop,scrollWidth:ve.scrollWidth,top:tt.top,bottom:tt.bottom,left:tt.left,right:tt.right}}let lt;if(ve&&R!==!1){const tt=It.current.children;if(tt.length>0){const Mt=tt[Nt.get(R)];lt=Mt?Mt.getBoundingClientRect():null}}return{tabsMeta:de,tabMeta:lt}},at=pi(()=>{const{tabsMeta:ve,tabMeta:de}=pt();let lt=0,tt;q?(tt="top",de&&ve&&(lt=de.top-ve.top+ve.scrollTop)):(tt=o?"right":"left",de&&ve&&(lt=(o?-1:1)*(de[tt]-ve[tt]+ve.scrollLeft)));const Mt={[tt]:lt,[B]:de?de[B]:0};if(typeof Me[tt]!="number"||typeof Me[B]!="number")Ve(Mt);else{const mr=Math.abs(Me[tt]-Mt[tt]),ii=Math.abs(Me[B]-Mt[B]);(mr>=1||ii>=1)&&Ve(Mt)}}),Pe=(ve,{animation:de=!0}={})=>{de?rie(H,me.current,ve,{duration:i.transitions.duration.standard}):me.current[H]=ve},nn=ve=>{let de=me.current[H];q?de+=ve:de+=ve*(o?-1:1),Pe(de)},ot=()=>{const ve=me.current[V];let de=0;const lt=Array.from(It.current.children);for(let tt=0;tt<lt.length;tt+=1){const Mt=lt[tt];if(de+Mt[V]>ve){tt===0&&(de=ve);break}de+=Mt[V]}return de},En=()=>{nn(-1*ot())},xt=()=>{nn(ot())},[_t,{onChange:St,...Bt}]=Gt("scrollbar",{className:Ee(re.scrollableX,re.hideScrollbar),elementType:yie,shouldForwardComponentProp:!0,externalForwardedProps:We,ownerState:Q}),gt=w.useCallback(ve=>{St==null||St(ve),ze({overflow:null,scrollbarWidth:ve})},[St]),[Qe,xn]=Gt("scrollButtons",{className:Ee(re.scrollButtons,T.className),elementType:uie,externalForwardedProps:We,ownerState:Q,additionalProps:{orientation:x,slots:{StartScrollButtonIcon:S.startScrollButtonIcon||S.StartScrollButtonIcon,EndScrollButtonIcon:S.endScrollButtonIcon||S.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:he,endScrollButtonIcon:ge}}}),Vn=()=>{const ve={};ve.scrollbarSizeListener=P?A.jsx(_t,{...Bt,onChange:gt}):null;const lt=P&&(b==="auto"&&(Ae||_e)||b===!0);return ve.scrollButtonStart=lt?A.jsx(Qe,{direction:o?"right":"left",onClick:En,disabled:!Ae,...xn}):null,ve.scrollButtonEnd=lt?A.jsx(Qe,{direction:o?"left":"right",onClick:xt,disabled:!_e,...xn}):null,ve},Hr=pi(ve=>{const{tabsMeta:de,tabMeta:lt}=pt();if(!(!lt||!de)){if(lt[W]<de[W]){const tt=de[H]+(lt[W]-de[W]);Pe(tt,{animation:ve})}else if(lt[G]>de[G]){const tt=de[H]+(lt[G]-de[G]);Pe(tt,{animation:ve})}}}),xe=pi(()=>{P&&b!==!1&&Le(!Oe)});w.useEffect(()=>{const ve=v_(()=>{me.current&&at()});let de;const lt=mr=>{mr.forEach(ii=>{ii.removedNodes.forEach(yr=>{de==null||de.unobserve(yr)}),ii.addedNodes.forEach(yr=>{de==null||de.observe(yr)})}),ve(),xe()},tt=Jo(me.current);tt.addEventListener("resize",ve);let Mt;return typeof ResizeObserver<"u"&&(de=new ResizeObserver(ve),Array.from(It.current.children).forEach(mr=>{de.observe(mr)})),typeof MutationObserver<"u"&&(Mt=new MutationObserver(lt),Mt.observe(It.current,{childList:!0})),()=>{ve.clear(),tt.removeEventListener("resize",ve),Mt==null||Mt.disconnect(),de==null||de.disconnect()}},[at,xe]),w.useEffect(()=>{const ve=Array.from(It.current.children),de=ve.length;if(typeof IntersectionObserver<"u"&&de>0&&P&&b!==!1){const lt=ve[0],tt=ve[de-1],Mt={root:me.current,threshold:.99},mr=Sn=>{De(!Sn[0].isIntersecting)},ii=new IntersectionObserver(mr,Mt);ii.observe(lt);const yr=Sn=>{$e(!Sn[0].isIntersecting)},Ro=new IntersectionObserver(yr,Mt);return Ro.observe(tt),()=>{ii.disconnect(),Ro.disconnect()}}},[P,b,Oe,u==null?void 0:u.length]),w.useEffect(()=>{oe(!0)},[]),w.useEffect(()=>{at()}),w.useEffect(()=>{Hr(KA!==Me)},[Hr,Me]),w.useImperativeHandle(l,()=>({updateIndicator:at,updateScrollButtons:xe}),[at,xe]);const[Te,Yt]=Gt("indicator",{className:Ee(re.indicator,N.className),elementType:mie,externalForwardedProps:We,ownerState:Q,additionalProps:{style:Me}}),Un=A.jsx(Te,{...Yt});let Gr=0;const pr=w.Children.map(u,ve=>{if(!w.isValidElement(ve))return null;const de=ve.props.value===void 0?Gr:ve.props.value;Nt.set(de,Gr);const lt=de===R;return Gr+=1,w.cloneElement(ve,{fullWidth:v==="fullWidth",indicator:lt&&!ie&&Un,selected:lt,selectionFollowsFocus:_,onChange:E,textColor:I,value:de,...Gr===1&&R===!1&&!ve.props.tabIndex?{tabIndex:0}:{}})}),Ir=ve=>{if(ve.altKey||ve.shiftKey||ve.ctrlKey||ve.metaKey)return;const de=It.current,lt=Si(de).activeElement;if(lt.getAttribute("role")!=="tab")return;let Mt=x==="horizontal"?"ArrowLeft":"ArrowUp",mr=x==="horizontal"?"ArrowRight":"ArrowDown";switch(x==="horizontal"&&o&&(Mt="ArrowRight",mr="ArrowLeft"),ve.key){case Mt:ve.preventDefault(),Tm(de,lt,GA);break;case mr:ve.preventDefault(),Tm(de,lt,HA);break;case"Home":ve.preventDefault(),Tm(de,null,HA);break;case"End":ve.preventDefault(),Tm(de,null,GA);break}},jn=Vn(),[Ri,rn]=Gt("root",{ref:n,className:Ee(re.root,f),elementType:hie,externalForwardedProps:{...We,...M,component:h},ownerState:Q}),[ro,io]=Gt("scroller",{ref:me,className:re.scroller,elementType:pie,externalForwardedProps:We,ownerState:Q,additionalProps:{style:{overflow:Ue.overflow,[q?`margin${o?"Left":"Right"}`:"marginBottom"]:k?void 0:-Ue.scrollbarWidth}}}),[Pi,gr]=Gt("list",{ref:It,className:Ee(re.list,re.flexContainer),elementType:gie,externalForwardedProps:We,ownerState:Q,getSlotProps:ve=>({...ve,onKeyDown:de=>{var lt;Ir(de),(lt=ve.onKeyDown)==null||lt.call(ve,de)}})});return A.jsxs(Ri,{...rn,children:[jn.scrollButtonStart,jn.scrollbarSizeListener,A.jsxs(ro,{...io,children:[A.jsx(Pi,{"aria-label":s,"aria-labelledby":a,"aria-orientation":x==="vertical"?"vertical":null,role:"tablist",...gr,children:pr}),ie&&Un]}),jn.scrollButtonEnd]})});function _ie(t){return rt("MuiTextField",t)}et("MuiTextField",["root"]);const bie={standard:qT,filled:GT,outlined:QT},wie=t=>{const{classes:e}=t;return it({root:["root"]},_ie,e)},Eie=le(KT,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Nd=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:f=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:g,id:E,InputLabelProps:x,inputProps:y,InputProps:b,inputRef:_,label:S,maxRows:O,minRows:N,multiline:T=!1,name:I,onBlur:R,onChange:v,onFocus:k,placeholder:M,required:P=!1,rows:q,select:H=!1,SelectProps:W,slots:G={},slotProps:V={},type:B,value:Q,variant:re="outlined",...he}=r,ge={...r,autoFocus:o,color:l,disabled:u,error:f,fullWidth:p,multiline:T,required:P,select:H,variant:re},ie=wie(ge),oe=Zd(E),Me=g&&oe?`${oe}-helper-text`:void 0,Ve=S&&oe?`${oe}-label`:void 0,Ae=bie[re],De={slots:G,slotProps:{input:b,inputLabel:x,htmlInput:y,formHelperText:h,select:W,...V}},_e={},$e=De.slotProps.inputLabel;re==="outlined"&&($e&&typeof $e.shrink<"u"&&(_e.notched=$e.shrink),_e.label=S),H&&((!W||!W.native)&&(_e.id=void 0),_e["aria-describedby"]=void 0);const[Oe,Le]=Gt("root",{elementType:Eie,shouldForwardComponentProp:!0,externalForwardedProps:{...De,...he},ownerState:ge,className:Ee(ie.root,a),ref:n,additionalProps:{disabled:u,error:f,fullWidth:p,required:P,color:l,variant:re}}),[Ue,ze]=Gt("input",{elementType:Ae,externalForwardedProps:De,additionalProps:_e,ownerState:ge}),[Nt,me]=Gt("inputLabel",{elementType:YT,externalForwardedProps:De,ownerState:ge}),[It,We]=Gt("htmlInput",{elementType:"input",externalForwardedProps:De,ownerState:ge}),[pt,at]=Gt("formHelperText",{elementType:qne,externalForwardedProps:De,ownerState:ge}),[Pe,nn]=Gt("select",{elementType:T_,externalForwardedProps:De,ownerState:ge}),ot=A.jsx(Ue,{"aria-describedby":Me,autoComplete:i,autoFocus:o,defaultValue:c,fullWidth:p,multiline:T,name:I,rows:q,maxRows:O,minRows:N,type:B,value:Q,id:oe,inputRef:_,onBlur:R,onChange:v,onFocus:k,placeholder:M,inputProps:We,slots:{input:G.htmlInput?It:void 0},...ze});return A.jsxs(Oe,{...Le,children:[S!=null&&S!==""&&A.jsx(Nt,{htmlFor:oe,id:Ve,...me,children:S}),H?A.jsx(Pe,{"aria-describedby":Me,id:oe,labelId:Ve,value:Q,input:ot,...nn,children:s}):ot,g&&A.jsx(pt,{id:Me,...at,children:g})]})});function xie(t){return rt("MuiToggleButton",t)}const nc=et("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),g4=w.createContext({}),m4=w.createContext(void 0);function Sie(t,e){return e===void 0||t===void 0?!1:Array.isArray(e)?e.includes(t):t===e}const Cie=t=>{const{classes:e,fullWidth:n,selected:r,disabled:i,size:o,color:s}=t,a={root:["root",r&&"selected",i&&"disabled",n&&"fullWidth",`size${ae(o)}`,s]};return it(a,xie,e)},Tie=le(vl,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`size${ae(n.size)}`]]}})(vt(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${nc.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${nc.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette.text.primary,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ot(t.palette.text.primary,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette.text.primary,t.palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(gi()).map(([e])=>({props:{color:e},style:{[`&.${nc.selected}`]:{color:(t.vars||t).palette[e].main,backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette[e].main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ot(t.palette[e].main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette[e].main,t.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),Ws=w.forwardRef(function(e,n){const{value:r,...i}=w.useContext(g4),o=w.useContext(m4),s=Td({...i,selected:Sie(e.value,r)},e),a=st({props:s,name:"MuiToggleButton"}),{children:l,className:c,color:u="standard",disabled:f=!1,disableFocusRipple:h=!1,fullWidth:p=!1,onChange:g,onClick:E,selected:x,size:y="medium",value:b,..._}=a,S={...a,color:u,disabled:f,disableFocusRipple:h,fullWidth:p,size:y},O=Cie(S),N=I=>{E&&(E(I,b),I.defaultPrevented)||g&&g(I,b)},T=o||"";return A.jsx(Tie,{className:Ee(i.className,O.root,c,T),disabled:f,focusRipple:!h,ref:n,onClick:N,onChange:g,value:b,ownerState:S,"aria-pressed":x,..._,children:l})});function Iie(t){return rt("MuiToggleButtonGroup",t)}const cn=et("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),Rie=t=>{const{classes:e,orientation:n,fullWidth:r,disabled:i}=t,o={root:["root",n,r&&"fullWidth"],grouped:["grouped",`grouped${ae(n)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return it(o,Iie,e)},Pie=le("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${cn.grouped}`]:e.grouped},{[`& .${cn.grouped}`]:e[`grouped${ae(n.orientation)}`]},{[`& .${cn.firstButton}`]:e.firstButton},{[`& .${cn.lastButton}`]:e.lastButton},{[`& .${cn.middleButton}`]:e.middleButton},e.root,n.orientation==="vertical"&&e.vertical,n.fullWidth&&e.fullWidth]}})(vt(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${cn.grouped}`]:{[`&.${cn.selected} + .${cn.grouped}.${cn.selected}`]:{borderTop:0,marginTop:0}},[`& .${cn.firstButton},& .${cn.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${cn.lastButton},& .${cn.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${cn.lastButton}.${nc.disabled},& .${cn.middleButton}.${nc.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${cn.grouped}`]:{[`&.${cn.selected} + .${cn.grouped}.${cn.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${cn.firstButton},& .${cn.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${cn.lastButton},& .${cn.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${cn.lastButton}.${nc.disabled},& .${cn.middleButton}.${nc.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),Rx=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiToggleButtonGroup"}),{children:i,className:o,color:s="standard",disabled:a=!1,exclusive:l=!1,fullWidth:c=!1,onChange:u,orientation:f="horizontal",size:h="medium",value:p,...g}=r,E={...r,disabled:a,fullWidth:c,orientation:f,size:h},x=Rie(E),y=w.useCallback((T,I)=>{if(!u)return;const R=p&&p.indexOf(I);let v;p&&R>=0?(v=p.slice(),v.splice(R,1)):v=p?p.concat(I):[I],u(T,v)},[u,p]),b=w.useCallback((T,I)=>{u&&u(T,p===I?null:I)},[u,p]),_=w.useMemo(()=>({className:x.grouped,onChange:l?b:y,value:p,size:h,fullWidth:c,color:s,disabled:a}),[x.grouped,l,b,y,p,h,c,s,a]),S=_Q(i),O=S.length,N=T=>{const I=T===0,R=T===O-1;return I&&R?"":I?x.firstButton:R?x.lastButton:x.middleButton};return A.jsx(Pie,{role:"group",className:Ee(x.root,o),ref:n,ownerState:E,...g,children:A.jsx(g4.Provider,{value:_,children:S.map((T,I)=>A.jsx(m4.Provider,{value:N(I),children:T},I))})})}),kie=()=>{const[t,e]=w.useState(0),[n,r]=w.useState(""),[i,o]=w.useState(""),[s,a]=w.useState(""),l=c0(),c=(h,p)=>{e(p),a("")},u=async h=>{h.preventDefault(),a("");try{t===0?await rH(lc,n,i):await nH(lc,n,i),l("/dashboard")}catch(p){a(p.message)}},f=async()=>{const h=new Hs;try{await TH(lc,h),l("/dashboard")}catch(p){a(p.message)}};return A.jsx(rne,{maxWidth:"sm",sx:{backgroundColor:"#121212",minHeight:"100vh",width:"100%",display:"flex",alignItems:"center"},children:A.jsxs(Od,{sx:{mt:8,p:4,backgroundColor:"#424242",borderRadius:2,boxShadow:3,color:"#fff"},children:[A.jsxs(vie,{value:t,onChange:c,variant:"fullWidth",textColor:"inherit",indicatorColor:"primary",children:[A.jsx(WA,{label:"Login"}),A.jsx(WA,{label:"Signup"})]}),A.jsxs("form",{onSubmit:u,children:[A.jsx(Nd,{margin:"normal",fullWidth:!0,label:"Email",type:"email",value:n,onChange:h=>r(h.target.value),required:!0,variant:"filled",InputLabelProps:{style:{color:"#fff"}},InputProps:{style:{backgroundColor:"#333",color:"#fff"}}}),A.jsx(Nd,{margin:"normal",fullWidth:!0,label:"Password",type:"password",value:i,onChange:h=>o(h.target.value),required:!0,variant:"filled",InputLabelProps:{style:{color:"#fff"}},InputProps:{style:{backgroundColor:"#333",color:"#fff"}}}),s&&A.jsx(Fi,{color:"error",variant:"body2",children:s}),A.jsx(Wn,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:2,backgroundColor:"#1976d2"},children:t===0?"Login":"Signup"})]}),A.jsxs(Od,{textAlign:"center",sx:{mt:2},children:[A.jsx(Fi,{variant:"body1",children:"or"}),A.jsx(Wn,{variant:"outlined",onClick:f,sx:{mt:1,color:"#fff",borderColor:"#fff"},children:"Sign in with Google"})]})]})})},Aie=Xn(A.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),Oie=Xn(A.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),Nie=Xn(A.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"})),Mie={blank:[],brainstorm:[{text:"Idea 1",x:150,y:150},{text:"Idea 2",x:300,y:150},{text:"Idea 3",x:150,y:300}],project:[{text:"Goal",x:150,y:100},{text:"Task 1",x:100,y:200},{text:"Task 2",x:200,y:200}]},Die=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(null),[i,o]=w.useState(!1),[s,a]=w.useState(!1),[l,c]=w.useState(!1),[u,f]=w.useState(""),[h,p]=w.useState("blank"),[g,E]=w.useState(!1),[x,y]=w.useState(null),[b,_]=w.useState(""),S=c0(),O=w.useRef(null);w.useEffect(()=>{const G=lc.onAuthStateChanged(V=>{if(!V){S("/");return}const B=Lr(ft(be,"mindMaps"),Di("userId","==",V.uid)),Q=Lr(ft(be,"mindMaps"),Di("collaborators","array-contains",V.email)),re=Ih(B,ge=>{const ie=ge.docs.map(oe=>({id:oe.id,...oe.data()}));e(oe=>[...ie,...oe.filter(Ve=>Ve.userId!==V.uid)])}),he=Ih(Q,ge=>{const ie=ge.docs.map(oe=>({id:oe.id,...oe.data()}));e(oe=>[...oe,...ie].filter((Ae,De,_e)=>De===_e.findIndex($e=>$e.id===Ae.id)))});return()=>{re(),he()}});return()=>G()},[S]);const N=()=>{c(!0)},T=async()=>{const G=lc.currentUser;if(G)try{const V=await Fr(ft(be,"mindMaps"),{title:u||"Untitled Mind Map",userId:G.uid,createdAt:cv()}),B=Mie[h];for(const Q of B)await Fr(ft(be,"mindMaps",V.id,"nodes"),Q);c(!1),f(""),p("blank"),S(`/editor/${V.id}`)}catch(V){console.error("Error creating mind map:",V)}},I=G=>{r(G),o(!0)},R=()=>{o(!1),a(!0)},v=async()=>{try{const G=await $i(ft(be,"mindMaps",n,"nodes")),V=ci(be);G.forEach(re=>{V.delete(re.ref)}),await V.commit();const B=await $i(ft(be,"mindMaps",n,"links")),Q=ci(be);B.forEach(re=>{Q.delete(re.ref)}),await Q.commit(),await OF(sn(be,"mindMaps",n)),a(!1),r(null)}catch(G){console.error("Error deleting mind map:",G)}},k=()=>{o(!1),a(!1),r(null)},M=G=>{y(G),E(!0)},P=async()=>{if(!(!b.trim()||!x))try{const G=sn(be,"mindMaps",x);await gu(G,{collaborators:TK(b.trim())}),_(""),E(!1),y(null)}catch(G){console.error("Error sharing mind map:",G)}},q=G=>{S(`/editor/${G}`)},H=()=>{O.current&&O.current.click()},W=async G=>{const V=G.target.files[0];if(V)try{const B=await V.text(),Q=JSON.parse(B);if(!Q.nodes||!Q.links)throw new Error("Invalid file format");const re=lc.currentUser,he=await Fr(ft(be,"mindMaps"),{title:V.name,userId:re.uid,createdAt:cv()}),ge={},ie=ci(be);Q.nodes.forEach(Me=>{const Ve=Me.id,Ae=sn(ft(be,"mindMaps",he.id,"nodes")),De={...Me,id:Ae.id};ie.set(Ae,De),ge[Ve]=Ae.id}),await ie.commit();const oe=ci(be);Q.links.forEach(Me=>{const Ve=ge[Me.source],Ae=ge[Me.target];if(!Ve||!Ae){console.error("Skipping link: missing mapping for source or target");return}const{id:De,..._e}=Me,$e=sn(ft(be,"mindMaps",he.id,"links"));oe.set($e,{..._e,source:Ve,target:Ae})}),await oe.commit(),S(`/editor/${he.id}`)}catch(B){console.error("Error importing mind map:",B)}};return A.jsxs(Od,{sx:{p:2,background:"radial-gradient(circle at center, #1D2022 0%, #0f1011 100%)",minHeight:"100vh",color:"#fff",border:"5px solid #262626"},children:[A.jsxs(Od,{sx:{mb:2},children:[A.jsx(Wn,{variant:"contained",startIcon:A.jsx(Oie,{}),onClick:N,sx:{mr:2,background:"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)"},children:"New Mind Map"}),A.jsx(Wn,{variant:"contained",onClick:H,sx:{mr:1,background:"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)"},children:"Import Mind Map"})]}),A.jsx(MA,{container:!0,spacing:2,sx:{mt:2,margin:"100px 50px 50px 100px",overflow:"visible"},children:t.map(G=>A.jsx(MA,{item:!0,xs:12,sm:6,md:4,children:A.jsxs(qte,{sx:{background:"radial-gradient(circle at center,rgba(47, 54, 61, 0.56) 0%,rgba(74, 81, 85, 0.43) 100%)",color:"#fff",padding:"20px 20px 20px 20px",borderRadius:"10px",border:"none",boxShadow:"0 1px 10px 2px rgba(0, 0,0, 0.5)",transition:"transform 0.3s, box-shadow 0.2s, border 0.3s",height:"120px",width:"505px","&:hover":{border:"1px solid #007bff",transform:"translateY(-5px)",boxShadow:"0 4px 12px 3px rgba(0, 0, 0, 0.8)"}},children:[A.jsx(nne,{onClick:()=>q(G.id),sx:{cursor:"pointer"},children:A.jsx(Fi,{variant:"h6",sx:{fontWeight:"900"},children:G.title})}),A.jsxs(Jte,{sx:{border:"0px solid white",color:"#fff",borderRadius:"10%"},children:[A.jsx(vv,{onClick:()=>M(G.id),color:"primary",children:A.jsx(Nie,{})}),A.jsx(vv,{onClick:()=>I(G.id),color:"error",children:A.jsx(Aie,{})})]})]})},G.id))}),A.jsx("input",{type:"file",accept:"application/json",ref:O,style:{display:"none"},onChange:W}),A.jsxs(wm,{open:l,onClose:()=>c(!1),PaperProps:{sx:{backgroundColor:"#424242",color:"#fff"}},children:[A.jsx(Sm,{children:"Create New Mind Map"}),A.jsxs(xm,{children:[A.jsx(Nd,{autoFocus:!0,margin:"dense",label:"Mind Map Name",type:"text",fullWidth:!0,value:u,onChange:G=>f(G.target.value),variant:"filled",InputLabelProps:{style:{color:"#fff"}},sx:{backgroundColor:"#555"}}),A.jsxs(KT,{fullWidth:!0,margin:"dense",variant:"filled",children:[A.jsx(YT,{id:"template-select-label",sx:{color:"#fff"},children:"Template"}),A.jsxs(T_,{labelId:"template-select-label",value:h,label:"Template",onChange:G=>p(G.target.value),sx:{backgroundColor:"#555",color:"#fff"},children:[A.jsx(Ua,{value:"blank",children:"Blank"}),A.jsx(Ua,{value:"brainstorm",children:"Brainstorm"}),A.jsx(Ua,{value:"project",children:"Project"})]})]})]}),A.jsxs(Em,{children:[A.jsx(Wn,{onClick:()=>c(!1),sx:{color:"#fff"},children:"Cancel"}),A.jsx(Wn,{onClick:T,variant:"contained",children:"Create"})]})]}),A.jsxs(wm,{open:i,onClose:k,PaperProps:{sx:{backgroundColor:"#424242",color:"#fff"}},children:[A.jsx(Sm,{children:"Confirm Delete"}),A.jsx(xm,{children:A.jsx(Fi,{children:"Are you sure you want to delete this mind map?"})}),A.jsxs(Em,{children:[A.jsx(Wn,{onClick:k,sx:{color:"#fff"},children:"Cancel"}),A.jsx(Wn,{onClick:R,color:"primary",children:"Yes"})]})]}),A.jsxs(wm,{open:s,onClose:k,PaperProps:{sx:{backgroundColor:"#424242",color:"#fff"}},children:[A.jsx(Sm,{children:"Confirm Delete Again"}),A.jsx(xm,{children:A.jsx(Fi,{children:"This action cannot be undone. Are you really sure?"})}),A.jsxs(Em,{children:[A.jsx(Wn,{onClick:k,sx:{color:"#fff"},children:"Cancel"}),A.jsx(Wn,{onClick:v,color:"error",children:"Delete"})]})]}),A.jsxs(wm,{open:g,onClose:()=>E(!1),PaperProps:{sx:{backgroundColor:"#424242",color:"#fff"}},children:[A.jsx(Sm,{children:"Share Mind Map"}),A.jsx(xm,{children:A.jsx(Nd,{label:"Collaborator Email",fullWidth:!0,value:b,onChange:G=>_(G.target.value),variant:"filled",InputLabelProps:{style:{color:"#fff"}},sx:{backgroundColor:"#555"}})}),A.jsxs(Em,{children:[A.jsx(Wn,{onClick:()=>E(!1),sx:{color:"#fff"},children:"Cancel"}),A.jsx(Wn,{onClick:P,variant:"contained",children:"Share"})]})]})]})};var y4="Expected a function",qA=NaN,$ie="[object Symbol]",Lie=/^\s+|\s+$/g,Fie=/^[-+]0x[0-9a-f]+$/i,Bie=/^0b[01]+$/i,Vie=/^0o[0-7]+$/i,Uie=parseInt,jie=typeof ja=="object"&&ja&&ja.Object===Object&&ja,zie=typeof self=="object"&&self&&self.Object===Object&&self,Wie=jie||zie||Function("return this")(),Hie=Object.prototype,Gie=Hie.toString,Kie=Math.max,qie=Math.min,uw=function(){return Wie.Date.now()};function Yie(t,e,n){var r,i,o,s,a,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(y4);e=YA(e)||0,wv(n)&&(u=!!n.leading,f="maxWait"in n,o=f?Kie(YA(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(N){var T=r,I=i;return r=i=void 0,c=N,s=t.apply(I,T),s}function g(N){return c=N,a=setTimeout(y,e),u?p(N):s}function E(N){var T=N-l,I=N-c,R=e-T;return f?qie(R,o-I):R}function x(N){var T=N-l,I=N-c;return l===void 0||T>=e||T<0||f&&I>=o}function y(){var N=uw();if(x(N))return b(N);a=setTimeout(y,E(N))}function b(N){return a=void 0,h&&r?p(N):(r=i=void 0,s)}function _(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function S(){return a===void 0?s:b(uw())}function O(){var N=uw(),T=x(N);if(r=arguments,i=this,l=N,T){if(a===void 0)return g(l);if(f)return a=setTimeout(y,e),p(l)}return a===void 0&&(a=setTimeout(y,e)),s}return O.cancel=_,O.flush=S,O}function Xie(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(y4);return wv(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Yie(t,e,{leading:r,maxWait:e,trailing:i})}function wv(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Qie(t){return!!t&&typeof t=="object"}function Jie(t){return typeof t=="symbol"||Qie(t)&&Gie.call(t)==$ie}function YA(t){if(typeof t=="number")return t;if(Jie(t))return qA;if(wv(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=wv(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Lie,"");var n=Bie.test(t);return n||Vie.test(t)?Uie(t.slice(2),n?2:8):Fie.test(t)?qA:+t}var Zie=Xie;const Im=Ap(Zie);function eoe(t,e,n){return Math.max(e,Math.min(t,n))}const mn={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function XA(t,e,n){return e===0||Math.abs(e)===1/0?Math.pow(t,n*5):t*e*n/(e+n*t)}function QA(t,e,n,r=.15){return r===0?eoe(t,e,n):t<e?-XA(e-t,n-e,r)+e:t>n?+XA(t-n,n-e,r)+n:t}function toe(t,[e,n],[r,i]){const[[o,s],[a,l]]=t;return[QA(e,o,s,r),QA(n,a,l,i)]}function noe(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function roe(t){var e=noe(t,"string");return typeof e=="symbol"?e:String(e)}function Hn(t,e,n){return e=roe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JA(Object(n),!0).forEach(function(r){Hn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const v4={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function ZA(t){return t?t[0].toUpperCase()+t.slice(1):""}const ioe=["enter","leave"];function ooe(t=!1,e){return t&&!ioe.includes(e)}function soe(t,e="",n=!1){const r=v4[t],i=r&&r[e]||e;return"on"+ZA(t)+ZA(i)+(ooe(n,i)?"Capture":"")}const aoe=["gotpointercapture","lostpointercapture"];function loe(t){let e=t.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const r=aoe.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:n}}function coe(t,e=""){const n=v4[t],r=n&&n[e]||e;return t+r}function I_(t){return"touches"in t}function _4(t){return I_(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function uoe(t){return Array.from(t.touches).filter(e=>{var n,r;return e.target===t.currentTarget||((n=t.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,e.target))})}function doe(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function b4(t){return I_(t)?doe(t)[0]:t}function Px(t,e){try{const n=e.clientX-t.clientX,r=e.clientY-t.clientY,i=(e.clientX+t.clientX)/2,o=(e.clientY+t.clientY)/2,s=Math.hypot(n,r);return{angle:-(Math.atan2(n,r)*180)/Math.PI,distance:s,origin:[i,o]}}catch{}return null}function foe(t){return uoe(t).map(e=>e.identifier)}function eO(t,e){const[n,r]=Array.from(t.touches).filter(i=>e.includes(i.identifier));return Px(n,r)}function dw(t){const e=b4(t);return I_(t)?e.identifier:e.pointerId}function Md(t){const e=b4(t);return[e.clientX,e.clientY]}const tO=40,nO=800;function w4(t){let{deltaX:e,deltaY:n,deltaMode:r}=t;return r===1?(e*=tO,n*=tO):r===2&&(e*=nO,n*=nO),[e,n]}function hoe(t){var e,n;const{scrollX:r,scrollY:i,scrollLeft:o,scrollTop:s}=t.currentTarget;return[(e=r??o)!==null&&e!==void 0?e:0,(n=i??s)!==null&&n!==void 0?n:0]}function poe(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:o}=t;Object.assign(e,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:o})}return e}function Ev(t,...e){return typeof t=="function"?t(...e):t}function goe(){}function moe(...t){return t.length===0?goe:t.length===1?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function rO(t,e){return Object.assign({},e,t||{})}const yoe=32;class E4{constructor(e,n,r){this.ctrl=e,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:n,ingKey:r,args:i}=this;n[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=r.from?Ev(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=e.timeStamp)}computeValues(e){const n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:n,config:r,shared:i}=this;n.args=this.args;let o=0;if(e&&(n.event=e,r.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,poe(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,o=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const N=n._delta.map(Math.abs);mn.addTo(n._distance,N)}this.axisIntent&&this.axisIntent(e);const[s,a]=n._movement,[l,c]=r.threshold,{_step:u,values:f}=n;if(r.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(s)>=l&&f[0]),u[1]===!1&&(u[1]=Math.abs(a)>=c&&f[1])):(u[0]===!1&&(u[0]=Math.abs(s)>=l&&Math.sign(s)*l),u[1]===!1&&(u[1]=Math.abs(a)>=c&&Math.sign(a)*c)),n.intentional=u[0]!==!1||u[1]!==!1,!n.intentional)return;const h=[0,0];if(r.hasCustomTransform){const[N,T]=f;h[0]=u[0]!==!1?N-u[0]:0,h[1]=u[1]!==!1?T-u[1]:0}else h[0]=u[0]!==!1?s-u[0]:0,h[1]=u[1]!==!1?a-u[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(h);const p=n.offset,g=n._active&&!n._blocked||n.active;g&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,e&&(n.first&&("bounds"in r&&(n._bounds=Ev(r.bounds,n)),this.setup&&this.setup()),n.movement=h,this.computeOffset()));const[E,x]=n.offset,[[y,b],[_,S]]=n._bounds;n.overflow=[E<y?-1:E>b?1:0,x<_?-1:x>S?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const O=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=toe(n._bounds,n.offset,O),n.delta=mn.sub(n.offset,p),this.computeMovement(),g&&(!n.last||o>yoe)){n.delta=mn.sub(n.offset,p);const N=n.delta.map(Math.abs);mn.addTo(n.distance,N),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&o>0&&(n.velocity=[N[0]/o,N[1]/o],n.timeDelta=o)}}emit(){const e=this.state,n=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(Tn(Tn(Tn({},n),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function voe([t,e],n){const r=Math.abs(t),i=Math.abs(e);if(r>i&&r>n)return"x";if(i>r&&i>n)return"y"}class dg extends E4{constructor(...e){super(...e),Hn(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=mn.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=mn.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const n=this.state,r=this.config;if(!n.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[_4(e)]:r.axisThreshold;n.axis=voe(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const _oe=t=>t,iO=.15,x4={enabled(t=!0){return t},eventOptions(t,e,n){return Tn(Tn({},n.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[iO,iO];case!1:return[0,0];default:return mn.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return mn.toVector(t)},transform(t,e,n){const r=t||n.shared.transform;return this.hasCustomTransform=!!r,r||_oe},threshold(t){return mn.toVector(t,0)}},boe=0,Nc=Tn(Tn({},x4),{},{axis(t,e,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(t=boe){return t},bounds(t={}){if(typeof t=="function")return o=>Nc.bounds(t(o));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=t;return[[e,n],[r,i]]}}),oO={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class woe extends dg{constructor(...e){super(...e),Hn(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const n=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+e.offset[0],right:n.right-r.right+e.offset[0],top:n.top-r.top+e.offset[1],bottom:n.bottom-r.bottom+e.offset[1]};e._bounds=Nc.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const n=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(e.buttons):n.pointerButtons!==-1&&n.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);n.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=dw(e),r._pointerActive=!0,this.computeValues(Md(e)),this.computeInitial(),n.preventScrollAxis&&_4(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):n.delay>0?(this.setupDelayTrigger(e),n.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const n=this.state,r=this.config;if(!n._pointerActive)return;const i=dw(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;const o=Md(e);if(document.pointerLockElement===e.target?n._delta=[e.movementX,e.movementY]:(n._delta=mn.sub(o,n._values),this.computeValues(o)),mn.addTo(n._movement,n._delta),this.compute(e),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const i=dw(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[o,s]=n._distance;if(n.tap=o<=r.tapsThreshold&&s<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[a,l]=n._delta,[c,u]=n._movement,[f,h]=r.swipe.velocity,[p,g]=r.swipe.distance,E=r.swipe.duration;if(n.elapsedTime<E){const x=Math.abs(a/n.timeDelta),y=Math.abs(l/n.timeDelta);x>f&&Math.abs(c)>p&&(n.swipe[0]=Math.sign(a)),y>h&&Math.abs(u)>g&&(n.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const n=this.config,r=n.device;n.pointerLock&&e.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,Eoe(e);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const n=oO[e.key];if(n){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=n(this.config.keyboardDisplacement,i),r._keyboardActive=!0,mn.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in oO&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const n=this.config.device;e(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(n,"change",this.pointerMove.bind(this)),e(n,"end",this.pointerUp.bind(this)),e(n,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function Eoe(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const fg=typeof window<"u"&&window.document&&window.document.createElement;function S4(){return fg&&"ontouchstart"in window}function xoe(){return S4()||fg&&window.navigator.maxTouchPoints>1}function Soe(){return fg&&"onpointerdown"in window}function Coe(){return fg&&"exitPointerLock"in window.document}function Toe(){try{return"constructor"in GestureEvent}catch{return!1}}const ho={isBrowser:fg,gesture:Toe(),touch:S4(),touchscreen:xoe(),pointer:Soe(),pointerLock:Coe()},Ioe=250,Roe=180,Poe=.5,koe=50,Aoe=250,Ooe=10,sO={mouse:0,touch:0,pen:8},Noe=Tn(Tn({},Nc),{},{device(t,e,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&ho.pointerLock,ho.touch&&n?"touch":this.pointerLock?"mouse":ho.pointer&&!i?"pointer":ho.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&t?Ioe:void 0,!(!ho.touchscreen||n===!1))return t||(n!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&n},threshold(t,e,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){const o=mn.toVector(t,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,o},swipe({velocity:t=Poe,distance:e=koe,duration:n=Aoe}={}){return{velocity:this.transform(mn.toVector(t)),distance:this.transform(mn.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return Roe;case!1:return 0;default:return t}},axisThreshold(t){return t?Tn(Tn({},sO),t):sO},keyboardDisplacement(t=Ooe){return t}});function C4(t){const[e,n]=t.overflow,[r,i]=t._delta,[o,s]=t._direction;(e<0&&r>0&&o<0||e>0&&r<0&&o>0)&&(t._movement[0]=t._movementBound[0]),(n<0&&i>0&&s<0||n>0&&i<0&&s>0)&&(t._movement[1]=t._movementBound[1])}const Moe=30,Doe=100;class $oe extends E4{constructor(...e){super(...e),Hn(this,"ingKey","pinching"),Hn(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:n,lastOffset:r}=this.state;e==="wheel"?this.state.offset=mn.add(n,r):this.state.offset=[(1+n[0])*r[0],n[1]+r[1]]}computeMovement(){const{offset:e,lastOffset:n}=this.state;this.state.movement=[e[0]/n[0],e[1]-n[1]]}axisIntent(){const e=this.state,[n,r]=e._movement;if(!e.axis){const i=Math.abs(n)*Moe-Math.abs(r);i<0?e.axis="angle":i>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&(this.state.axis==="scale"?e[1]=0:this.state.axis==="angle"&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);const n=this.state,r=this.ctrl.touchIds;if(n._active&&n._touchIds.every(o=>r.has(o))||r.size<2)return;this.start(e),n._touchIds=Array.from(r).slice(0,2);const i=eO(e,n._touchIds);i&&this.pinchStart(e,i)}pointerStart(e){if(e.buttons!=null&&e.buttons%2!==1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const n=this.state,r=n._pointerEvents,i=this.ctrl.pointerIds;if(n._active&&Array.from(r.keys()).every(s=>i.has(s))||(r.size<2&&r.set(e.pointerId,e),n._pointerEvents.size<2))return;this.start(e);const o=Px(...Array.from(r.values()));o&&this.pinchStart(e,o)}pinchStart(e,n){const r=this.state;r.origin=n.origin,this.computeValues([n.distance,n.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const n=eO(e,this.state._touchIds);n&&this.pinchMove(e,n)}pointerMove(e){const n=this.state._pointerEvents;if(n.has(e.pointerId)&&n.set(e.pointerId,e),!this.state._active)return;const r=Px(...Array.from(n.values()));r&&this.pinchMove(e,r)}pinchMove(e,n){const r=this.state,i=r._values[1],o=n.angle-i;let s=0;Math.abs(o)>270&&(s+=Math.sign(o)),this.computeValues([n.distance,n.angle-360*s]),r.origin=n.origin,r.turns=s,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(n=>!this.ctrl.touchIds.has(n))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const n=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}n._pointerEvents.has(e.pointerId)&&n._pointerEvents.delete(e.pointerId),n._active&&n._pointerEvents.size<2&&(n._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const n=this.state;n._active||(this.start(e),this.computeValues([e.scale,e.rotation]),n.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const n=this.state;this.computeValues([e.scale,e.rotation]),n.origin=[e.clientX,e.clientY];const r=n._movement;n._movement=[e.scale-1,e.rotation],n._delta=mn.sub(n._movement,r),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const n=this.config.modifierKey;n&&(Array.isArray(n)?!n.find(r=>e[r]):!e[n])||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const r=this.state;r._delta=[-w4(e)[1]/Doe*r.offset[0],0],mn.addTo(r._movement,r._delta),C4(r),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const n=this.config.device;n&&(e(n,"start",this[n+"Start"].bind(this)),e(n,"change",this[n+"Move"].bind(this)),e(n,"end",this[n+"End"].bind(this)),e(n,"cancel",this[n+"End"].bind(this)),e("lostPointerCapture","",this[n+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}const Loe=Tn(Tn({},x4),{},{device(t,e,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!ho.touch&&ho.gesture)return"gesture";if(ho.touch&&r)return"touch";if(ho.touchscreen){if(ho.pointer)return"pointer";if(ho.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:r={}}){const i=s=>{const a=rO(Ev(n,s),{min:-1/0,max:1/0});return[a.min,a.max]},o=s=>{const a=rO(Ev(r,s),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[i(),o()]:s=>[i(s),o(s)]},threshold(t,e,n){return this.lockDirection=n.axis==="lock",mn.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});class Foe extends dg{constructor(...e){super(...e),Hn(this,"ingKey","moving")}move(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(Md(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;const n=Md(e),r=this.state;r._delta=mn.sub(n,r._values),mn.addTo(r._movement,r._delta),this.computeValues(n),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}const Boe=Tn(Tn({},Nc),{},{mouseOnly:(t=!0)=>t});class Voe extends dg{constructor(...e){super(...e),Hn(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();const n=this.state,r=hoe(e);n._delta=mn.sub(r,n._values),mn.addTo(n._movement,n._delta),this.computeValues(r),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}}const Uoe=Nc;class joe extends dg{constructor(...e){super(...e),Hn(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const n=this.state;n._delta=w4(e),mn.addTo(n._movement,n._delta),C4(n),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}const zoe=Nc;class Woe extends dg{constructor(...e){super(...e),Hn(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.start(e),this.computeValues(Md(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&e.pointerType!=="mouse")return;const n=this.state;if(!n._active)return;n._active=!1;const r=Md(e);n._movement=n._delta=mn.sub(r,n._values),this.computeValues(r),this.compute(e),n.delta=n.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}const Hoe=Tn(Tn({},Nc),{},{mouseOnly:(t=!0)=>t}),ZT=new Map,kx=new Map;function Goe(t){ZT.set(t.key,t.engine),kx.set(t.key,t.resolver)}const Koe={key:"drag",engine:woe,resolver:Noe},qoe={key:"hover",engine:Woe,resolver:Hoe},Yoe={key:"move",engine:Foe,resolver:Boe},Xoe={key:"pinch",engine:$oe,resolver:Loe},Qoe={key:"scroll",engine:Voe,resolver:Uoe},Joe={key:"wheel",engine:joe,resolver:zoe};function Zoe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ese(t,e){if(t==null)return{};var n=Zoe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}const tse={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=ho.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},nse=["target","eventOptions","window","enabled","transform"];function py(t={},e){const n={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":n[r]=i.call(n,t[r],r,t);break;case"object":n[r]=py(t[r],i);break;case"boolean":i&&(n[r]=t[r]);break}return n}function rse(t,e,n={}){const r=t,{target:i,eventOptions:o,window:s,enabled:a,transform:l}=r,c=ese(r,nse);if(n.shared=py({target:i,eventOptions:o,window:s,enabled:a,transform:l},tse),e){const u=kx.get(e);n[e]=py(Tn({shared:n.shared},c),u)}else for(const u in c){const f=kx.get(u);f&&(n[u]=py(Tn({shared:n.shared},c[u]),f))}return n}class T4{constructor(e,n){Hn(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=n}add(e,n,r,i,o){const s=this._listeners,a=coe(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=Tn(Tn({},l),o);e.addEventListener(a,i,c);const u=()=>{e.removeEventListener(a,i,c),s.delete(u)};return s.add(u),u}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class ise{constructor(){Hn(this,"_timeouts",new Map)}add(e,n,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(n,r,...i))}remove(e){const n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class ose{constructor(e){Hn(this,"gestures",new Set),Hn(this,"_targetEventStore",new T4(this)),Hn(this,"gestureEventStores",{}),Hn(this,"gestureTimeoutStores",{}),Hn(this,"handlers",{}),Hn(this,"config",{}),Hn(this,"pointerIds",new Set),Hn(this,"touchIds",new Set),Hn(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),sse(this,e)}setEventIds(e){if(I_(e))return this.touchIds=new Set(foe(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=rse(e,n,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const n=this.config.shared,r={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const s of this.gestures){const a=this.config[s],l=aO(r,a.eventOptions,!!i);if(a.enabled){const c=ZT.get(s);new c(this,e,s).bind(l)}}const o=aO(r,n.eventOptions,!!i);for(const s in this.nativeHandlers)o(s,"",a=>this.nativeHandlers[s](Tn(Tn({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const o in r)r[o]=moe(...r[o]);if(!i)return r;for(const o in r){const{device:s,capture:a,passive:l}=loe(o);this._targetEventStore.add(i,s,"",r[o],{capture:a,passive:l})}}}}function au(t,e){t.gestures.add(e),t.gestureEventStores[e]=new T4(t,e),t.gestureTimeoutStores[e]=new ise}function sse(t,e){e.drag&&au(t,"drag"),e.wheel&&au(t,"wheel"),e.scroll&&au(t,"scroll"),e.move&&au(t,"move"),e.pinch&&au(t,"pinch"),e.hover&&au(t,"hover")}const aO=(t,e,n)=>(r,i,o,s={},a=!1)=>{var l,c;const u=(l=s.capture)!==null&&l!==void 0?l:e.capture,f=(c=s.passive)!==null&&c!==void 0?c:e.passive;let h=a?r:soe(r,i,u);n&&f&&(h+="Passive"),t[h]=t[h]||[],t[h].push(o)},ase=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function lse(t){const e={},n={},r=new Set;for(let i in t)ase.test(i)?(r.add(RegExp.lastMatch),n[i]=t[i]):e[i]=t[i];return[n,e,r]}function lu(t,e,n,r,i,o){if(!t.has(n)||!ZT.has(r))return;const s=n+"Start",a=n+"End",l=c=>{let u;return c.first&&s in e&&e[s](c),n in e&&(u=e[n](c)),c.last&&a in e&&e[a](c),u};i[r]=l,o[r]=o[r]||{}}function cse(t,e){const[n,r,i]=lse(t),o={};return lu(i,n,"onDrag","drag",o,e),lu(i,n,"onWheel","wheel",o,e),lu(i,n,"onScroll","scroll",o,e),lu(i,n,"onPinch","pinch",o,e),lu(i,n,"onMove","move",o,e),lu(i,n,"onHover","hover",o,e),{handlers:o,config:e,nativeHandlers:r}}function use(t,e={},n,r){const i=$.useMemo(()=>new ose(t),[]);if(i.applyHandlers(t,r),i.applyConfig(e,n),$.useEffect(i.effect.bind(i)),$.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function dse(t){return t.forEach(Goe),function(n,r){const{handlers:i,nativeHandlers:o,config:s}=cse(n,r||{});return use(i,s,void 0,o)}}function fse(t,e){return dse([Koe,Xoe,Qoe,Joe,Yoe,qoe])(t,e||{})}var lO={};const cO="@firebase/database",uO="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I4="";function hse(t){I4=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pse{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Jn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:op(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gse{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ya(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new pse(e)}}catch{}return new gse},rc=R4("localStorage"),mse=R4("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=new p0("@firebase/database"),yse=function(){let t=1;return function(){return t++}}(),P4=function(t){const e=K9(t),n=new z9;n.update(e);const r=n.digest();return oC.encodeByteArray(r)},hg=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=hg.apply(null,r):typeof r=="object"?e+=Jn(r):e+=r,e+=" "}return e};let Dh=null,dO=!0;const vse=function(t,e){ue(!0,"Can't turn on custom loggers persistently."),ad.logLevel=wt.VERBOSE,Dh=ad.log.bind(ad)},jr=function(...t){if(dO===!0&&(dO=!1,Dh===null&&mse.get("logging_enabled")===!0&&vse()),Dh){const e=hg.apply(null,t);Dh(e)}},pg=function(t){return function(...e){jr(t,...e)}},Ax=function(...t){const e="FIREBASE INTERNAL ERROR: "+hg(...t);ad.error(e)},ga=function(...t){const e=`FIREBASE FATAL ERROR: ${hg(...t)}`;throw ad.error(e),new Error(e)},Ei=function(...t){const e="FIREBASE WARNING: "+hg(...t);ad.warn(e)},_se=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ei("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},k4=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},bse=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Dd="[MIN_NAME]",xc="[MAX_NAME]",sf=function(t,e){if(t===e)return 0;if(t===Dd||e===xc)return-1;if(e===Dd||t===xc)return 1;{const n=fO(t),r=fO(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},wse=function(t,e){return t===e?0:t<e?-1:1},jf=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Jn(e))},e1=function(t){if(typeof t!="object"||t===null)return Jn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Jn(e[r]),n+=":",n+=e1(t[e[r]]);return n+="}",n},A4=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ci(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const O4=function(t){ue(!k4(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();const u=c.join("");let f="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},Ese=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},xse=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Sse(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Cse=new RegExp("^-?(0*)\\d{1,10}$"),Tse=-2147483648,Ise=2147483647,fO=function(t){if(Cse.test(t)){const e=Number(t);if(e>=Tse&&e<=Ise)return e}return null},af=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ei("Exception was thrown by user callback.",n),e},Math.floor(0))}},Rse=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},$h=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pse{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Qr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ei(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kse{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(jr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ei(e)}}class gy{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}gy.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="5",N4="v",M4="s",D4="r",$4="f",L4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,F4="ls",B4="p",Ox="ac",V4="websocket",U4="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=rc.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&rc.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Ase(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function z4(t,e,n){ue(typeof e=="string","typeof type must == string"),ue(typeof n=="object","typeof params must == object");let r;if(e===V4)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===U4)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Ase(t)&&(n.ns=t.namespace);const i=[];return Ci(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ose{constructor(){this.counters_={}}incrementCounter(e,n=1){ya(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return S9(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw={},hw={};function n1(t){const e=t.toString();return fw[e]||(fw[e]=new Ose),fw[e]}function Nse(t,e){const n=t.toString();return hw[n]||(hw[n]=e()),hw[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mse{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&af(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="start",Dse="close",$se="pLPCommand",Lse="pRTLPCB",W4="id",H4="pw",G4="ser",Fse="cb",Bse="seg",Vse="ts",Use="d",jse="dframe",K4=1870,q4=30,zse=K4-q4,Wse=25e3,Hse=3e4;class Gu{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=pg(e),this.stats_=n1(n),this.urlFn=l=>(this.appCheckToken&&(l[Ox]=this.appCheckToken),z4(n,U4,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Mse(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Hse)),bse(()=>{if(this.isClosed_)return;this.scriptTagHolder=new r1((...o)=>{const[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===hO)this.id=a,this.password=l;else if(s===Dse)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[hO]="t",r[G4]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Fse]=this.scriptTagHolder.uniqueCallbackIdentifier),r[N4]=t1,this.transportSessionId&&(r[M4]=this.transportSessionId),this.lastSessionId&&(r[F4]=this.lastSessionId),this.applicationId&&(r[B4]=this.applicationId),this.appCheckToken&&(r[Ox]=this.appCheckToken),typeof location<"u"&&location.hostname&&L4.test(location.hostname)&&(r[D4]=$4);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Gu.forceAllow_=!0}static forceDisallow(){Gu.forceDisallow_=!0}static isAvailable(){return Gu.forceAllow_?!0:!Gu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Ese()&&!xse()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Jn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=s$(n),i=A4(r,zse);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[jse]="t",r[W4]=e,r[H4]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Jn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class r1{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=yse(),window[$se+this.uniqueCallbackIdentifier]=e,window[Lse+this.uniqueCallbackIdentifier]=n,this.myIFrame=r1.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){jr("frame writing exception"),a.stack&&jr(a.stack),jr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||jr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[W4]=this.myID,e[H4]=this.myPW,e[G4]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+q4+r.length<=K4;){const s=this.pendingSegs.shift();r=r+"&"+Bse+i+"="+s.seg+"&"+Vse+i+"="+s.ts+"&"+Use+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Wse)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{jr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gse=16384,Kse=45e3;let xv=null;typeof MozWebSocket<"u"?xv=MozWebSocket:typeof WebSocket<"u"&&(xv=WebSocket);class Bo{constructor(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=pg(this.connId),this.stats_=n1(n),this.connURL=Bo.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[N4]=t1,typeof location<"u"&&location.hostname&&L4.test(location.hostname)&&(s[D4]=$4),n&&(s[M4]=n),r&&(s[F4]=r),i&&(s[Ox]=i),o&&(s[B4]=o),z4(e,V4,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,rc.set("previous_websocket_failure",!0);try{let r;M9(),this.mySock=new xv(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Bo.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&xv!==null&&!Bo.forceDisallow_}static previouslyFailed(){return rc.isInMemoryStorage||rc.get("previous_websocket_failure")===!0}markConnectionHealthy(){rc.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=op(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ue(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Jn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=A4(n,Gse);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Kse))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Bo.responsesRequiredToBeHealthy=2;Bo.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{static get ALL_TRANSPORTS(){return[Gu,Bo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Bo&&Bo.isAvailable();let r=n&&!Bo.previouslyFailed();if(e.webSocketOnly&&(n||Ei("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Bo];else{const i=this.transports_=[];for(const o of wp.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);wp.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}wp.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qse=6e4,Yse=5e3,Xse=10*1024,Qse=100*1024,pw="t",pO="d",Jse="s",gO="r",Zse="e",mO="o",yO="a",vO="n",_O="p",eae="h";class tae{constructor(e,n,r,i,o,s,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=pg("c:"+this.id+":"),this.transportManager_=new wp(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=$h(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Qse?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Xse?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(pw in e){const n=e[pw];n===yO?this.upgradeIfSecondaryHealthy_():n===gO?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===mO&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=jf("t",e),r=jf("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:_O,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:yO,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:vO,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=jf("t",e),r=jf("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=jf(pw,e);if(pO in e){const r=e[pO];if(n===eae){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===vO){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Jse?this.onConnectionShutdown_(r):n===gO?this.onReset_(r):n===Zse?Ax("Server Error: "+r):n===mO?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ax("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),t1!==r&&Ei("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),$h(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(qse))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$h(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Yse))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:_O,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(rc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e){this.allowedEvents_=e,this.listeners_={},ue(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){ue(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv extends X4{static getInstance(){return new Sv}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!lC()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ue(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=32,wO=768;class en{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ft(){return new en("")}function mt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function _l(t){return t.pieces_.length-t.pieceNum_}function an(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new en(t.pieces_,e)}function Q4(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function nae(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function J4(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Z4(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new en(e,0)}function Zn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof en)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new en(n,0)}function Et(t){return t.pieceNum_>=t.pieces_.length}function Jr(t,e){const n=mt(t),r=mt(e);if(n===null)return e;if(n===r)return Jr(an(t),an(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function i1(t,e){if(_l(t)!==_l(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Uo(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(_l(t)>_l(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class rae{constructor(e,n){this.errorPrefix_=n,this.parts_=J4(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=h0(this.parts_[r]);e3(this)}}function iae(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=h0(e),e3(t)}function oae(t){const e=t.parts_.pop();t.byteLength_-=h0(e),t.parts_.length>0&&(t.byteLength_-=1)}function e3(t){if(t.byteLength_>wO)throw new Error(t.errorPrefix_+"has a key path longer than "+wO+" bytes ("+t.byteLength_+").");if(t.parts_.length>bO)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+bO+") or object contains a cycle "+ql(t))}function ql(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1 extends X4{static getInstance(){return new o1}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ue(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf=1e3,sae=60*5*1e3,EO=30*1e3,aae=1.3,lae=3e4,cae="server_kill",xO=3;class ea extends Y4{constructor(e,n,r,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=ea.nextPersistentConnectionId_++,this.log_=pg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=zf,this.maxReconnectDelay_=sae,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");o1.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Sv.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(Jn(o)),ue(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new f0,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),ue(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ue(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,c=a.s;ea.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ya(e,"w")){const r=md(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Ei(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||j9(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=EO)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=U9(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ue(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Jn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Ax("Unrecognized action received from server: "+Jn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ue(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zf,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=zf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>lae&&(this.reconnectDelay_=zf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*aae)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ea.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},c=function(f){ue(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?jr("getToken() completed but was canceled"):(jr("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,a=new tae(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Ei(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(cae)},o))}catch(f){this.log_("Failed to get token: "+f),s||(this.repoInfo_.nodeAdmin&&Ei(f),l())}}}interrupt(e){jr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){jr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],PE(this.interruptReasons_)&&(this.reconnectDelay_=zf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>e1(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new en(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){jr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=xO&&(this.reconnectDelay_=EO,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){jr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=xO&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+I4.replace(/\./g,"-")]=1,lC()?e["framework.cordova"]=1:d$()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Sv.getInstance().currentlyOnline();return PE(this.interruptReasons_)&&e}}ea.nextPersistentConnectionId_=0;ea.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new yt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new yt(Dd,e),i=new yt(Dd,n);return this.compare(r,i)!==0}minPost(){return yt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rm;class t3 extends R_{static get __EMPTY_NODE(){return Rm}static set __EMPTY_NODE(e){Rm=e}compare(e,n){return sf(e.name,n.name)}isDefinedOn(e){throw zd("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return yt.MIN}maxPost(){return new yt(xc,Rm)}makePost(e,n){return ue(typeof e=="string","KeyIndex indexValue must always be a string."),new yt(e,Rm)}toString(){return".key"}}const ld=new t3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class lr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??lr.RED,this.left=i??mi.EMPTY_NODE,this.right=o??mi.EMPTY_NODE}copy(e,n,r,i,o){return new lr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return mi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return mi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}lr.RED=!0;lr.BLACK=!1;class uae{copy(e,n,r,i,o){return this}insert(e,n,r){return new lr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class mi{constructor(e,n=mi.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new mi(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,lr.BLACK,null,null))}remove(e){return new mi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,lr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Pm(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Pm(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Pm(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Pm(this.root_,null,this.comparator_,!0,e)}}mi.EMPTY_NODE=new uae;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dae(t,e){return sf(t.name,e.name)}function s1(t,e){return sf(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nx;function fae(t){Nx=t}const n3=function(t){return typeof t=="number"?"number:"+O4(t):"string:"+t},r3=function(t){if(t.isLeafNode()){const e=t.val();ue(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ya(e,".sv"),"Priority must be a string or number.")}else ue(t===Nx||t.isEmpty(),"priority of unexpected type.");ue(t===Nx||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SO;class or{static set __childrenNodeConstructor(e){SO=e}static get __childrenNodeConstructor(){return SO}constructor(e,n=or.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ue(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),r3(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new or(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:or.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Et(e)?this:mt(e)===".priority"?this.priorityNode_:or.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:or.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=mt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ue(r!==".priority"||_l(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,or.__childrenNodeConstructor.EMPTY_NODE.updateChild(an(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+n3(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=O4(this.value_):e+=this.value_,this.lazyHash_=P4(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===or.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof or.__childrenNodeConstructor?-1:(ue(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=or.VALUE_TYPE_ORDER.indexOf(n),o=or.VALUE_TYPE_ORDER.indexOf(r);return ue(i>=0,"Unknown leaf type: "+n),ue(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}or.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i3,o3;function hae(t){i3=t}function pae(t){o3=t}class gae extends R_{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?sf(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return yt.MIN}maxPost(){return new yt(xc,new or("[PRIORITY-POST]",o3))}makePost(e,n){const r=i3(e);return new yt(n,new or("[PRIORITY-POST]",r))}toString(){return".priority"}}const Nn=new gae;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mae=Math.log(2);class yae{constructor(e){const n=o=>parseInt(Math.log(o)/mae,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Cv=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let f,h;if(u===0)return null;if(u===1)return f=t[l],h=n?n(f):f,new lr(h,f.node,lr.BLACK,null,null);{const p=parseInt(u/2,10)+l,g=i(l,p),E=i(p+1,c);return f=t[p],h=n?n(f):f,new lr(h,f.node,lr.BLACK,g,E)}},o=function(l){let c=null,u=null,f=t.length;const h=function(g,E){const x=f-g,y=f;f-=g;const b=i(x+1,y),_=t[x],S=n?n(_):_;p(new lr(S,_.node,E,null,b))},p=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const E=l.nextBitIsOne(),x=Math.pow(2,l.count-(g+1));E?h(x,lr.BLACK):(h(x,lr.BLACK),h(x,lr.RED))}return u},s=new yae(t.length),a=o(s);return new mi(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gw;const cu={};class Xs{static get Default(){return ue(cu&&Nn,"ChildrenNode.ts has not been loaded"),gw=gw||new Xs({".priority":cu},{".priority":Nn}),gw}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=md(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof mi?n:null}hasIndex(e){return ya(this.indexSet_,e.toString())}addIndex(e,n){ue(e!==ld,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(yt.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Cv(r,e.getCompare()):a=cu;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Xs(u,c)}addToIndexes(e,n){const r=Wy(this.indexes_,(i,o)=>{const s=md(this.indexSet_,o);if(ue(s,"Missing index implementation for "+o),i===cu)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(yt.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Cv(a,s.getCompare())}else return cu;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new yt(e.name,a))),l.insert(e,e.node)}});return new Xs(r,this.indexSet_)}removeFromIndexes(e,n){const r=Wy(this.indexes_,i=>{if(i===cu)return i;{const o=n.get(e.name);return o?i.remove(new yt(e.name,o)):i}});return new Xs(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wf;class Ke{static get EMPTY_NODE(){return Wf||(Wf=new Ke(new mi(s1),null,Xs.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&r3(this.priorityNode_),this.children_.isEmpty()&&ue(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wf}updatePriority(e){return this.children_.isEmpty()?this:new Ke(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Wf:n}}getChild(e){const n=mt(e);return n===null?this:this.getImmediateChild(n).getChild(an(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ue(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new yt(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?Wf:this.priorityNode_;return new Ke(i,s,o)}}updateChild(e,n){const r=mt(e);if(r===null)return n;{ue(mt(e)!==".priority"||_l(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(an(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(Nn,(s,a)=>{n[s]=a.val(e),r++,o&&Ke.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+n3(this.getPriority().val())+":"),this.forEachChild(Nn,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":P4(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new yt(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new yt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new yt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,yt.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,yt.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===gg?-1:0}withIndex(e){if(e===ld||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ke(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ld||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Nn),i=n.getIterator(Nn);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===ld?null:this.indexMap_.get(e.toString())}}Ke.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class vae extends Ke{constructor(){super(new mi(s1),Ke.EMPTY_NODE,Xs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ke.EMPTY_NODE}isEmpty(){return!1}}const gg=new vae;Object.defineProperties(yt,{MIN:{value:new yt(Dd,Ke.EMPTY_NODE)},MAX:{value:new yt(xc,gg)}});t3.__EMPTY_NODE=Ke.EMPTY_NODE;or.__childrenNodeConstructor=Ke;fae(gg);pae(gg);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ae=!0;function cr(t,e=null){if(t===null)return Ke.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ue(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new or(n,cr(e))}if(!(t instanceof Array)&&_ae){const n=[];let r=!1;if(Ci(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=cr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new yt(s,l)))}}),n.length===0)return Ke.EMPTY_NODE;const o=Cv(n,dae,s=>s.name,s1);if(r){const s=Cv(n,Nn.getCompare());return new Ke(o,cr(e),new Xs({".priority":s},{".priority":Nn}))}else return new Ke(o,cr(e),Xs.Default)}else{let n=Ke.EMPTY_NODE;return Ci(t,(r,i)=>{if(ya(t,r)&&r.substring(0,1)!=="."){const o=cr(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(cr(e))}}hae(cr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bae extends R_{constructor(e){super(),this.indexPath_=e,ue(!Et(e)&&mt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?sf(e.name,n.name):o}makePost(e,n){const r=cr(e),i=Ke.EMPTY_NODE.updateChild(this.indexPath_,r);return new yt(n,i)}maxPost(){const e=Ke.EMPTY_NODE.updateChild(this.indexPath_,gg);return new yt(xc,e)}toString(){return J4(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wae extends R_{compare(e,n){const r=e.node.compareTo(n.node);return r===0?sf(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return yt.MIN}maxPost(){return yt.MAX}makePost(e,n){const r=cr(e);return new yt(n,r)}toString(){return".value"}}const Eae=new wae;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t){return{type:"value",snapshotNode:t}}function $d(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ep(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function xp(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function xae(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){ue(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Ep(n,a)):ue(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange($d(n,r)):s.trackChildChange(xp(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Nn,(i,o)=>{n.hasChild(i)||r.trackChildChange(Ep(i,o))}),n.isLeafNode()||n.forEachChild(Nn,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(xp(i,o,s))}else r.trackChildChange($d(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ke.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e){this.indexedFilter_=new a1(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Sp.getStartPost_(e),this.endPost_=Sp.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new yt(n,r))||(r=Ke.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Ke.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Ke.EMPTY_NODE);const o=this;return n.forEachChild(Nn,(s,a)=>{o.matches(new yt(s,a))||(i=i.updateImmediateChild(s,Ke.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sae{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Sp(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new yt(n,r))||(r=Ke.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Ke.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ke.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ke.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,Ke.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const f=this.index_.getCompare();s=(h,p)=>f(p,h)}else s=this.index_.getCompare();const a=e;ue(a.numChildren()===this.limit_,"");const l=new yt(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const f=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const p=h==null?1:s(h,l);if(u&&!r.isEmpty()&&p>=0)return o!=null&&o.trackChildChange(xp(n,r,f)),a.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(Ep(n,f));const E=a.updateImmediateChild(n,Ke.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o!=null&&o.trackChildChange($d(h.name,h.node)),E.updateImmediateChild(h.name,h.node)):E}}else return r.isEmpty()?e:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(Ep(c.name,c.node)),o.trackChildChange($d(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,Ke.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Nn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ue(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ue(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Dd}hasEnd(){return this.endSet_}getIndexEndValue(){return ue(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ue(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ue(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Nn}copy(){const e=new l1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Cae(t){return t.loadsAllData()?new a1(t.getIndex()):t.hasLimit()?new Sae(t):new Sp(t)}function CO(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Nn?n="$priority":t.index_===Eae?n="$value":t.index_===ld?n="$key":(ue(t.index_ instanceof bae,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Jn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Jn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Jn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Jn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Jn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function TO(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Nn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv extends Y4{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ue(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=pg("p:rest:"),this.listens_={}}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Tv.getListenId_(e,r),a={};this.listens_[s]=a;const l=CO(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let f=u;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(o,f,!1,r),md(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const r=Tv.getListenId_(e,n);delete this.listens_[r]}get(e){const n=CO(e._queryParams),r=e._path.toString(),i=new f0;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Wd(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=op(a.responseText)}catch{Ei("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Ei("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tae{constructor(){this.rootNode_=Ke.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(){return{value:null,children:new Map}}function a3(t,e,n){if(Et(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=mt(e);t.children.has(r)||t.children.set(r,Iv());const i=t.children.get(r);e=an(e),a3(i,e,n)}}function Mx(t,e,n){t.value!==null?n(e,t.value):Iae(t,(r,i)=>{const o=new en(e.toString()+"/"+r);Mx(i,o,n)})}function Iae(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rae{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ci(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=10*1e3,Pae=30*1e3,kae=5*60*1e3;class Aae{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Rae(e);const r=IO+(Pae-IO)*Math.random();$h(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ci(e,(i,o)=>{o>0&&ya(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),$h(this.reportStats_.bind(this),Math.floor(Math.random()*2*kae))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jo;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(jo||(jo={}));function l3(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function c1(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function u1(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=jo.ACK_USER_WRITE,this.source=l3()}operationForChild(e){if(Et(this.path)){if(this.affectedTree.value!=null)return ue(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new en(e));return new Rv(Ft(),n,this.revert)}}else return ue(mt(this.path)===e,"operationForChild called for unrelated child."),new Rv(an(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n){this.source=e,this.path=n,this.type=jo.LISTEN_COMPLETE}operationForChild(e){return Et(this.path)?new Cp(this.source,Ft()):new Cp(this.source,an(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=jo.OVERWRITE}operationForChild(e){return Et(this.path)?new Sc(this.source,Ft(),this.snap.getImmediateChild(e)):new Sc(this.source,an(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=jo.MERGE}operationForChild(e){if(Et(this.path)){const n=this.children.subtree(new en(e));return n.isEmpty()?null:n.value?new Sc(this.source,Ft(),n.value):new Tp(this.source,Ft(),n)}else return ue(mt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Tp(this.source,an(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Et(e))return this.isFullyInitialized()&&!this.filtered_;const n=mt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oae{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Nae(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(xae(s.childName,s.snapshotNode))}),Hf(t,i,"child_removed",e,r,n),Hf(t,i,"child_added",e,r,n),Hf(t,i,"child_moved",o,r,n),Hf(t,i,"child_changed",e,r,n),Hf(t,i,"value",e,r,n),i}function Hf(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>Dae(t,a,l)),s.forEach(a=>{const l=Mae(t,a,o);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Mae(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Dae(t,e,n){if(e.childName==null||n.childName==null)throw zd("Should only compare child_ events.");const r=new yt(e.childName,e.snapshotNode),i=new yt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t,e){return{eventCache:t,serverCache:e}}function Lh(t,e,n,r){return P_(new bl(e,n,r),t.serverCache)}function c3(t,e,n,r){return P_(t.eventCache,new bl(e,n,r))}function Pv(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Cc(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mw;const $ae=()=>(mw||(mw=new mi(wse)),mw);class hn{static fromObject(e){let n=new hn(null);return Ci(e,(r,i)=>{n=n.set(new en(r),i)}),n}constructor(e,n=$ae()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ft(),value:this.value};if(Et(e))return null;{const r=mt(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(an(e),n);return o!=null?{path:Zn(new en(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Et(e))return this;{const n=mt(e),r=this.children.get(n);return r!==null?r.subtree(an(e)):new hn(null)}}set(e,n){if(Et(e))return new hn(n,this.children);{const r=mt(e),o=(this.children.get(r)||new hn(null)).set(an(e),n),s=this.children.insert(r,o);return new hn(this.value,s)}}remove(e){if(Et(e))return this.children.isEmpty()?new hn(null):new hn(null,this.children);{const n=mt(e),r=this.children.get(n);if(r){const i=r.remove(an(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new hn(null):new hn(this.value,o)}else return this}}get(e){if(Et(e))return this.value;{const n=mt(e),r=this.children.get(n);return r?r.get(an(e)):null}}setTree(e,n){if(Et(e))return n;{const r=mt(e),o=(this.children.get(r)||new hn(null)).setTree(an(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new hn(this.value,s)}}fold(e){return this.fold_(Ft(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Zn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ft(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Et(e))return null;{const o=mt(e),s=this.children.get(o);return s?s.findOnPath_(an(e),Zn(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ft(),n)}foreachOnPath_(e,n,r){if(Et(e))return this;{this.value&&r(n,this.value);const i=mt(e),o=this.children.get(i);return o?o.foreachOnPath_(an(e),Zn(n,i),r):new hn(null)}}foreach(e){this.foreach_(Ft(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Zn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.writeTree_=e}static empty(){return new Ko(new hn(null))}}function Fh(t,e,n){if(Et(e))return new Ko(new hn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=Jr(i,e);return o=o.updateChild(s,n),new Ko(t.writeTree_.set(i,o))}else{const i=new hn(n),o=t.writeTree_.setTree(e,i);return new Ko(o)}}}function RO(t,e,n){let r=t;return Ci(n,(i,o)=>{r=Fh(r,Zn(e,i),o)}),r}function PO(t,e){if(Et(e))return Ko.empty();{const n=t.writeTree_.setTree(e,new hn(null));return new Ko(n)}}function Dx(t,e){return Mc(t,e)!=null}function Mc(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Jr(n.path,e)):null}function kO(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Nn,(r,i)=>{e.push(new yt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new yt(r,i.value))}),e}function sl(t,e){if(Et(e))return t;{const n=Mc(t,e);return n!=null?new Ko(new hn(n)):new Ko(t.writeTree_.subtree(e))}}function $x(t){return t.writeTree_.isEmpty()}function Ld(t,e){return u3(Ft(),t.writeTree_,e)}function u3(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(ue(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=u3(Zn(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Zn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(t,e){return p3(e,t)}function Lae(t,e,n,r,i){ue(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Fh(t.visibleWrites,e,n)),t.lastWriteId=r}function Fae(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Bae(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);ue(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&Vae(a,r.path)?i=!1:Uo(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return Uae(t),!0;if(r.snap)t.visibleWrites=PO(t.visibleWrites,r.path);else{const a=r.children;Ci(a,l=>{t.visibleWrites=PO(t.visibleWrites,Zn(r.path,l))})}return!0}else return!1}function Vae(t,e){if(t.snap)return Uo(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Uo(Zn(t.path,n),e))return!0;return!1}function Uae(t){t.visibleWrites=d3(t.allWrites,jae,Ft()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function jae(t){return t.visible}function d3(t,e,n){let r=Ko.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)Uo(n,s)?(a=Jr(n,s),r=Fh(r,a,o.snap)):Uo(s,n)&&(a=Jr(s,n),r=Fh(r,Ft(),o.snap.getChild(a)));else if(o.children){if(Uo(n,s))a=Jr(n,s),r=RO(r,a,o.children);else if(Uo(s,n))if(a=Jr(s,n),Et(a))r=RO(r,Ft(),o.children);else{const l=md(o.children,mt(a));if(l){const c=l.getChild(an(a));r=Fh(r,Ft(),c)}}}else throw zd("WriteRecord should have .snap or .children")}}return r}function f3(t,e,n,r,i){if(!r&&!i){const o=Mc(t.visibleWrites,e);if(o!=null)return o;{const s=sl(t.visibleWrites,e);if($x(s))return n;if(n==null&&!Dx(s,Ft()))return null;{const a=n||Ke.EMPTY_NODE;return Ld(s,a)}}}else{const o=sl(t.visibleWrites,e);if(!i&&$x(o))return n;if(!i&&n==null&&!Dx(o,Ft()))return null;{const s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Uo(c.path,e)||Uo(e,c.path))},a=d3(t.allWrites,s,e),l=n||Ke.EMPTY_NODE;return Ld(a,l)}}}function zae(t,e,n){let r=Ke.EMPTY_NODE;const i=Mc(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Nn,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=sl(t.visibleWrites,e);return n.forEachChild(Nn,(s,a)=>{const l=Ld(sl(o,new en(s)),a);r=r.updateImmediateChild(s,l)}),kO(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=sl(t.visibleWrites,e);return kO(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function Wae(t,e,n,r,i){ue(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Zn(e,n);if(Dx(t.visibleWrites,o))return null;{const s=sl(t.visibleWrites,o);return $x(s)?i.getChild(n):Ld(s,i.getChild(n))}}function Hae(t,e,n,r){const i=Zn(e,n),o=Mc(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=sl(t.visibleWrites,i);return Ld(s,r.getNode().getImmediateChild(n))}else return null}function Gae(t,e){return Mc(t.visibleWrites,e)}function Kae(t,e,n,r,i,o,s){let a;const l=sl(t.visibleWrites,e),c=Mc(l,Ft());if(c!=null)a=c;else if(n!=null)a=Ld(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const u=[],f=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let p=h.getNext();for(;p&&u.length<i;)f(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function qae(){return{visibleWrites:Ko.empty(),allWrites:[],lastWriteId:-1}}function kv(t,e,n,r){return f3(t.writeTree,t.treePath,e,n,r)}function d1(t,e){return zae(t.writeTree,t.treePath,e)}function AO(t,e,n,r){return Wae(t.writeTree,t.treePath,e,n,r)}function Av(t,e){return Gae(t.writeTree,Zn(t.treePath,e))}function Yae(t,e,n,r,i,o){return Kae(t.writeTree,t.treePath,e,n,r,i,o)}function f1(t,e,n){return Hae(t.writeTree,t.treePath,e,n)}function h3(t,e){return p3(Zn(t.treePath,e),t.writeTree)}function p3(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xae{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ue(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ue(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,xp(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Ep(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,$d(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,xp(r,e.snapshotNode,i.oldSnap));else throw zd("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qae{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const g3=new Qae;class h1{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new bl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return f1(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Cc(this.viewCache_),o=Yae(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jae(t){return{filter:t}}function Zae(t,e){ue(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ue(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function ele(t,e,n,r,i){const o=new Xae;let s,a;if(n.type===jo.OVERWRITE){const c=n;c.source.fromUser?s=Lx(t,e,c.path,c.snap,r,i,o):(ue(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Et(c.path),s=Ov(t,e,c.path,c.snap,r,i,a,o))}else if(n.type===jo.MERGE){const c=n;c.source.fromUser?s=nle(t,e,c.path,c.children,r,i,o):(ue(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=Fx(t,e,c.path,c.children,r,i,a,o))}else if(n.type===jo.ACK_USER_WRITE){const c=n;c.revert?s=ole(t,e,c.path,r,i,o):s=rle(t,e,c.path,c.affectedTree,r,i,o)}else if(n.type===jo.LISTEN_COMPLETE)s=ile(t,e,n.path,r,o);else throw zd("Unknown operation type: "+n.type);const l=o.getChanges();return tle(e,s,l),{viewCache:s,changes:l}}function tle(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Pv(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(s3(Pv(e)))}}function m3(t,e,n,r,i,o){const s=e.eventCache;if(Av(r,n)!=null)return e;{let a,l;if(Et(n))if(ue(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Cc(e),u=c instanceof Ke?c:Ke.EMPTY_NODE,f=d1(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const c=kv(r,Cc(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const c=mt(n);if(c===".priority"){ue(_l(n)===1,"Can't have a priority with additional path components");const u=s.getNode();l=e.serverCache.getNode();const f=AO(r,n,u,l);f!=null?a=t.filter.updatePriority(u,f):a=s.getNode()}else{const u=an(n);let f;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();const h=AO(r,n,s.getNode(),l);h!=null?f=s.getNode().getImmediateChild(c).updateChild(u,h):f=s.getNode().getImmediateChild(c)}else f=f1(r,c,e.serverCache);f!=null?a=t.filter.updateChild(s.getNode(),c,f,u,i,o):a=s.getNode()}}return Lh(e,a,s.isFullyInitialized()||Et(n),t.filter.filtersNodes())}}function Ov(t,e,n,r,i,o,s,a){const l=e.serverCache;let c;const u=s?t.filter:t.filter.getIndexedFilter();if(Et(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=mt(n);if(!l.isCompleteForPath(n)&&_l(n)>1)return e;const g=an(n),x=l.getNode().getImmediateChild(p).updateChild(g,r);p===".priority"?c=u.updatePriority(l.getNode(),x):c=u.updateChild(l.getNode(),p,x,g,g3,null)}const f=c3(e,c,l.isFullyInitialized()||Et(n),u.filtersNodes()),h=new h1(i,f,o);return m3(t,f,n,i,h,a)}function Lx(t,e,n,r,i,o,s){const a=e.eventCache;let l,c;const u=new h1(i,e,o);if(Et(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=Lh(e,c,!0,t.filter.filtersNodes());else{const f=mt(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Lh(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=an(n),p=a.getNode().getImmediateChild(f);let g;if(Et(h))g=r;else{const E=u.getCompleteChild(f);E!=null?Q4(h)===".priority"&&E.getChild(Z4(h)).isEmpty()?g=E:g=E.updateChild(h,r):g=Ke.EMPTY_NODE}if(p.equals(g))l=e;else{const E=t.filter.updateChild(a.getNode(),f,g,h,u,s);l=Lh(e,E,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function OO(t,e){return t.eventCache.isCompleteForChild(e)}function nle(t,e,n,r,i,o,s){let a=e;return r.foreach((l,c)=>{const u=Zn(n,l);OO(e,mt(u))&&(a=Lx(t,a,u,c,i,o,s))}),r.foreach((l,c)=>{const u=Zn(n,l);OO(e,mt(u))||(a=Lx(t,a,u,c,i,o,s))}),a}function NO(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Fx(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Et(n)?c=r:c=new hn(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((f,h)=>{if(u.hasChild(f)){const p=e.serverCache.getNode().getImmediateChild(f),g=NO(t,p,h);l=Ov(t,l,new en(f),g,i,o,s,a)}}),c.children.inorderTraversal((f,h)=>{const p=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!u.hasChild(f)&&!p){const g=e.serverCache.getNode().getImmediateChild(f),E=NO(t,g,h);l=Ov(t,l,new en(f),E,i,o,s,a)}}),l}function rle(t,e,n,r,i,o,s){if(Av(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Et(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ov(t,e,n,l.getNode().getChild(n),i,o,a,s);if(Et(n)){let c=new hn(null);return l.getNode().forEachChild(ld,(u,f)=>{c=c.set(new en(u),f)}),Fx(t,e,n,c,i,o,a,s)}else return e}else{let c=new hn(null);return r.foreach((u,f)=>{const h=Zn(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Fx(t,e,n,c,i,o,a,s)}}function ile(t,e,n,r,i){const o=e.serverCache,s=c3(e,o.getNode(),o.isFullyInitialized()||Et(n),o.isFiltered());return m3(t,s,n,r,g3,i)}function ole(t,e,n,r,i,o){let s;if(Av(r,n)!=null)return e;{const a=new h1(r,e,i),l=e.eventCache.getNode();let c;if(Et(n)||mt(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=kv(r,Cc(e));else{const f=e.serverCache.getNode();ue(f instanceof Ke,"serverChildren would be complete if leaf node"),u=d1(r,f)}u=u,c=t.filter.updateFullNode(l,u,o)}else{const u=mt(n);let f=f1(r,u,e.serverCache);f==null&&e.serverCache.isCompleteForChild(u)&&(f=l.getImmediateChild(u)),f!=null?c=t.filter.updateChild(l,u,f,an(n),a,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Ke.EMPTY_NODE,an(n),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=kv(r,Cc(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||Av(r,Ft())!=null,Lh(e,c,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sle{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new a1(r.getIndex()),o=Cae(r);this.processor_=Jae(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(Ke.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(Ke.EMPTY_NODE,a.getNode(),null),u=new bl(l,s.isFullyInitialized(),i.filtersNodes()),f=new bl(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=P_(f,u),this.eventGenerator_=new Oae(this.query_)}get query(){return this.query_}}function ale(t){return t.viewCache_.serverCache.getNode()}function lle(t){return Pv(t.viewCache_)}function cle(t,e){const n=Cc(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Et(e)&&!n.getImmediateChild(mt(e)).isEmpty())?n.getChild(e):null}function MO(t){return t.eventRegistrations_.length===0}function ule(t,e){t.eventRegistrations_.push(e)}function DO(t,e,n){const r=[];if(n){ue(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function $O(t,e,n,r){e.type===jo.MERGE&&e.source.queryId!==null&&(ue(Cc(t.viewCache_),"We should always have a full cache before handling merges"),ue(Pv(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=ele(t.processor_,i,e,n,r);return Zae(t.processor_,o.viewCache),ue(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,y3(t,o.changes,o.viewCache.eventCache.getNode(),null)}function dle(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Nn,(o,s)=>{r.push($d(o,s))}),n.isFullyInitialized()&&r.push(s3(n.getNode())),y3(t,r,n.getNode(),e)}function y3(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Nae(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nv;class v3{constructor(){this.views=new Map}}function fle(t){ue(!Nv,"__referenceConstructor has already been defined"),Nv=t}function hle(){return ue(Nv,"Reference.ts has not been loaded"),Nv}function ple(t){return t.views.size===0}function p1(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return ue(o!=null,"SyncTree gave us an op for an invalid query."),$O(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat($O(s,e,n,r));return o}}function _3(t,e,n,r,i){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=kv(n,i?r:null),l=!1;a?l=!0:r instanceof Ke?(a=d1(n,r),l=!1):(a=Ke.EMPTY_NODE,l=!1);const c=P_(new bl(a,l,!1),new bl(r,i,!1));return new sle(e,c)}return s}function gle(t,e,n,r,i,o){const s=_3(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),ule(s,n),dle(s,n)}function mle(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=wl(t);if(i==="default")for(const[l,c]of t.views.entries())s=s.concat(DO(c,n,r)),MO(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const l=t.views.get(i);l&&(s=s.concat(DO(l,n,r)),MO(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!wl(t)&&o.push(new(hle())(e._repo,e._path)),{removed:o,events:s}}function b3(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function al(t,e){let n=null;for(const r of t.views.values())n=n||cle(r,e);return n}function w3(t,e){if(e._queryParams.loadsAllData())return A_(t);{const r=e._queryIdentifier;return t.views.get(r)}}function E3(t,e){return w3(t,e)!=null}function wl(t){return A_(t)!=null}function A_(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mv;function yle(t){ue(!Mv,"__referenceConstructor has already been defined"),Mv=t}function vle(){return ue(Mv,"Reference.ts has not been loaded"),Mv}let _le=1;class LO{constructor(e){this.listenProvider_=e,this.syncPointTree_=new hn(null),this.pendingWriteTree_=qae(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function x3(t,e,n,r,i){return Lae(t.pendingWriteTree_,e,n,r,i),i?yg(t,new Sc(l3(),e,n)):[]}function ic(t,e,n=!1){const r=Fae(t.pendingWriteTree_,e);if(Bae(t.pendingWriteTree_,e)){let o=new hn(null);return r.snap!=null?o=o.set(Ft(),!0):Ci(r.children,s=>{o=o.set(new en(s),!0)}),yg(t,new Rv(r.path,o,n))}else return[]}function mg(t,e,n){return yg(t,new Sc(c1(),e,n))}function ble(t,e,n){const r=hn.fromObject(n);return yg(t,new Tp(c1(),e,r))}function wle(t,e){return yg(t,new Cp(c1(),e))}function Ele(t,e,n){const r=m1(t,n);if(r){const i=y1(r),o=i.path,s=i.queryId,a=Jr(o,e),l=new Cp(u1(s),a);return v1(t,o,l)}else return[]}function Dv(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&(e._queryIdentifier==="default"||E3(s,e))){const l=mle(s,e,n,r);ple(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(o,(h,p)=>wl(p));if(u&&!f){const h=t.syncPointTree_.subtree(o);if(!h.isEmpty()){const p=Cle(h);for(let g=0;g<p.length;++g){const E=p[g],x=E.query,y=I3(t,E);t.listenProvider_.startListening(Bh(x),Ip(t,x),y.hashFn,y.onComplete)}}}!f&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(Bh(e),null):c.forEach(h=>{const p=t.queryToTagMap.get(O_(h));t.listenProvider_.stopListening(Bh(h),p)}))}Tle(t,c)}return a}function S3(t,e,n,r){const i=m1(t,r);if(i!=null){const o=y1(i),s=o.path,a=o.queryId,l=Jr(s,e),c=new Sc(u1(a),l,n);return v1(t,s,c)}else return[]}function xle(t,e,n,r){const i=m1(t,r);if(i){const o=y1(i),s=o.path,a=o.queryId,l=Jr(s,e),c=hn.fromObject(n),u=new Tp(u1(a),l,c);return v1(t,s,u)}else return[]}function Bx(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(h,p)=>{const g=Jr(h,i);o=o||al(p,g),s=s||wl(p)});let a=t.syncPointTree_.get(i);a?(s=s||wl(a),o=o||al(a,Ft())):(a=new v3,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=Ke.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,g)=>{const E=al(g,Ft());E&&(o=o.updateImmediateChild(p,E))}));const c=E3(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=O_(e);ue(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const p=Ile();t.queryToTagMap.set(h,p),t.tagToQueryMap.set(p,h)}const u=k_(t.pendingWriteTree_,i);let f=gle(a,e,n,u,o,l);if(!c&&!s&&!r){const h=w3(a,e);f=f.concat(Rle(t,e,h))}return f}function g1(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=Jr(s,e),c=al(a,l);if(c)return c});return f3(i,e,o,n,!0)}function Sle(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const f=Jr(c,n);r=r||al(u,f)});let i=t.syncPointTree_.get(n);i?r=r||al(i,Ft()):(i=new v3,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=r!=null,s=o?new bl(r,!0,!1):null,a=k_(t.pendingWriteTree_,e._path),l=_3(i,e,a,o?s.getNode():Ke.EMPTY_NODE,o);return lle(l)}function yg(t,e){return C3(e,t.syncPointTree_,null,k_(t.pendingWriteTree_,Ft()))}function C3(t,e,n,r){if(Et(t.path))return T3(t,e,n,r);{const i=e.get(Ft());n==null&&i!=null&&(n=al(i,Ft()));let o=[];const s=mt(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const c=n?n.getImmediateChild(s):null,u=h3(r,s);o=o.concat(C3(a,l,c,u))}return i&&(o=o.concat(p1(i,t,r,n))),o}}function T3(t,e,n,r){const i=e.get(Ft());n==null&&i!=null&&(n=al(i,Ft()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,c=h3(r,s),u=t.operationForChild(s);u&&(o=o.concat(T3(u,a,l,c)))}),i&&(o=o.concat(p1(i,t,r,n))),o}function I3(t,e){const n=e.query,r=Ip(t,n);return{hashFn:()=>(ale(e)||Ke.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Ele(t,n._path,r):wle(t,n._path);{const o=Sse(i,n);return Dv(t,n,null,o)}}}}function Ip(t,e){const n=O_(e);return t.queryToTagMap.get(n)}function O_(t){return t._path.toString()+"$"+t._queryIdentifier}function m1(t,e){return t.tagToQueryMap.get(e)}function y1(t){const e=t.indexOf("$");return ue(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new en(t.substr(0,e))}}function v1(t,e,n){const r=t.syncPointTree_.get(e);ue(r,"Missing sync point for query tag that we're tracking");const i=k_(t.pendingWriteTree_,e);return p1(r,n,i,null)}function Cle(t){return t.fold((e,n,r)=>{if(n&&wl(n))return[A_(n)];{let i=[];return n&&(i=b3(n)),Ci(r,(o,s)=>{i=i.concat(s)}),i}})}function Bh(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(vle())(t._repo,t._path):t}function Tle(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=O_(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function Ile(){return _le++}function Rle(t,e,n){const r=e._path,i=Ip(t,e),o=I3(t,n),s=t.listenProvider_.startListening(Bh(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)ue(!wl(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,f)=>{if(!Et(c)&&u&&wl(u))return[A_(u).query];{let h=[];return u&&(h=h.concat(b3(u).map(p=>p.query))),Ci(f,(p,g)=>{h=h.concat(g)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Bh(u),Ip(t,u))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new _1(n)}node(){return this.node_}}class b1{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Zn(this.path_,e);return new b1(this.syncTree_,n)}node(){return g1(this.syncTree_,this.path_)}}const Ple=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},FO=function(t,e,n){if(!t||typeof t!="object")return t;if(ue(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return kle(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Ale(t[".sv"],e);ue(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},kle=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ue(!1,"Unexpected server value: "+t)}},Ale=function(t,e,n){t.hasOwnProperty("increment")||ue(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ue(!1,"Unexpected increment value: "+r);const i=e.node();if(ue(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},Ole=function(t,e,n,r){return w1(e,new b1(n,t),r)},R3=function(t,e,n){return w1(t,new _1(e),n)};function w1(t,e,n){const r=t.getPriority().val(),i=FO(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=FO(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new or(a,cr(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new or(i))),s.forEachChild(Nn,(a,l)=>{const c=w1(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function x1(t,e){let n=e instanceof en?e:new en(e),r=t,i=mt(n);for(;i!==null;){const o=md(r.node.children,i)||{children:{},childCount:0};r=new E1(i,r,o),n=an(n),i=mt(n)}return r}function lf(t){return t.node.value}function P3(t,e){t.node.value=e,Vx(t)}function k3(t){return t.node.childCount>0}function Nle(t){return lf(t)===void 0&&!k3(t)}function N_(t,e){Ci(t.node.children,(n,r)=>{e(new E1(n,t,r))})}function A3(t,e,n,r){n&&e(t),N_(t,i=>{A3(i,e,!0)})}function Mle(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function vg(t){return new en(t.parent===null?t.name:vg(t.parent)+"/"+t.name)}function Vx(t){t.parent!==null&&Dle(t.parent,t.name,t)}function Dle(t,e,n){const r=Nle(n),i=ya(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Vx(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Vx(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $le=/[\[\].#$\/\u0000-\u001F\u007F]/,Lle=/[\[\].#$\u0000-\u001F\u007F]/,yw=10*1024*1024,O3=function(t){return typeof t=="string"&&t.length!==0&&!$le.test(t)},N3=function(t){return typeof t=="string"&&t.length!==0&&!Lle.test(t)},Fle=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),N3(t)},Ble=function(t,e,n,r){S1(cC(t,"value"),e,n)},S1=function(t,e,n){const r=n instanceof en?new rae(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ql(r));if(typeof e=="function")throw new Error(t+"contains a function "+ql(r)+" with contents = "+e.toString());if(k4(e))throw new Error(t+"contains "+e.toString()+" "+ql(r));if(typeof e=="string"&&e.length>yw/3&&h0(e)>yw)throw new Error(t+"contains a string greater than "+yw+" utf8 bytes "+ql(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Ci(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!O3(s)))throw new Error(t+" contains an invalid key ("+s+") "+ql(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);iae(r,s),S1(t,a,r),oae(r)}),i&&o)throw new Error(t+' contains ".value" child '+ql(r)+" in addition to actual children.")}},M3=function(t,e,n,r){if(!N3(n))throw new Error(cC(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Vle=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),M3(t,e,n)},D3=function(t,e){if(mt(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Ule=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!O3(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Fle(n))throw new Error(cC(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jle{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function C1(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!i1(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function $3(t,e,n){C1(t,n),L3(t,r=>i1(r,e))}function Rs(t,e,n){C1(t,n),L3(t,r=>Uo(r,e)||Uo(e,r))}function L3(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(zle(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function zle(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Dh&&jr("event: "+n.toString()),af(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wle="repo_interrupt",Hle=25;class Gle{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jle,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Iv(),this.transactionQueueTree_=new E1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Kle(t,e,n){if(t.stats_=n1(t.repoInfo_),t.forceRestClient_||Rse())t.server_=new Tv(t.repoInfo_,(r,i,o,s)=>{BO(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>VO(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Jn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ea(t.repoInfo_,e,(r,i,o,s)=>{BO(t,r,i,o,s)},r=>{VO(t,r)},r=>{Yle(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Nse(t.repoInfo_,()=>new Aae(t.stats_,t.server_)),t.infoData_=new Tae,t.infoSyncTree_=new LO({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=mg(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),I1(t,"connected",!1),t.serverSyncTree_=new LO({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const c=s(a,l);Rs(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function qle(t){const n=t.infoData_.getNode(new en(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function T1(t){return Ple({timestamp:qle(t)})}function BO(t,e,n,r,i){t.dataUpdateCount++;const o=new en(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=Wy(n,c=>cr(c));s=xle(t.serverSyncTree_,o,l,i)}else{const l=cr(n);s=S3(t.serverSyncTree_,o,l,i)}else if(r){const l=Wy(n,c=>cr(c));s=ble(t.serverSyncTree_,o,l)}else{const l=cr(n);s=mg(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=D_(t,o)),Rs(t.eventQueue_,a,s)}function VO(t,e){I1(t,"connected",e),e===!1&&Jle(t)}function Yle(t,e){Ci(e,(n,r)=>{I1(t,n,r)})}function I1(t,e,n){const r=new en("/.info/"+e),i=cr(n);t.infoData_.updateSnapshot(r,i);const o=mg(t.infoSyncTree_,r,i);Rs(t.eventQueue_,r,o)}function F3(t){return t.nextWriteId_++}function Xle(t,e,n){const r=Sle(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const o=cr(i).withIndex(e._queryParams.getIndex());Bx(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=mg(t.serverSyncTree_,e._path,o);else{const a=Ip(t.serverSyncTree_,e);s=S3(t.serverSyncTree_,e._path,o,a)}return Rs(t.eventQueue_,e._path,s),Dv(t.serverSyncTree_,e,n,null,!0),o},i=>(M_(t,"get for query "+Jn(e)+" failed: "+i),Promise.reject(new Error(i))))}function Qle(t,e,n,r,i){M_(t,"set",{path:e.toString(),value:n,priority:r});const o=T1(t),s=cr(n,r),a=g1(t.serverSyncTree_,e),l=R3(s,a,o),c=F3(t),u=x3(t.serverSyncTree_,e,l,c,!0);C1(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(h,p)=>{const g=h==="ok";g||Ei("set at "+e+" failed: "+h);const E=ic(t.serverSyncTree_,c,!g);Rs(t.eventQueue_,e,E),tce(t,i,h,p)});const f=z3(t,e);D_(t,f),Rs(t.eventQueue_,f,[])}function Jle(t){M_(t,"onDisconnectEvents");const e=T1(t),n=Iv();Mx(t.onDisconnect_,Ft(),(i,o)=>{const s=Ole(i,o,t.serverSyncTree_,e);a3(n,i,s)});let r=[];Mx(n,Ft(),(i,o)=>{r=r.concat(mg(t.serverSyncTree_,i,o));const s=z3(t,i);D_(t,s)}),t.onDisconnect_=Iv(),Rs(t.eventQueue_,Ft(),r)}function Zle(t,e,n){let r;mt(e._path)===".info"?r=Bx(t.infoSyncTree_,e,n):r=Bx(t.serverSyncTree_,e,n),$3(t.eventQueue_,e._path,r)}function Ux(t,e,n){let r;mt(e._path)===".info"?r=Dv(t.infoSyncTree_,e,n):r=Dv(t.serverSyncTree_,e,n),$3(t.eventQueue_,e._path,r)}function ece(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Wle)}function M_(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),jr(n,...e)}function tce(t,e,n,r){e&&af(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function B3(t,e,n){return g1(t.serverSyncTree_,e,n)||Ke.EMPTY_NODE}function R1(t,e=t.transactionQueueTree_){if(e||$_(t,e),lf(e)){const n=U3(t,e);ue(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&nce(t,vg(e),n)}else k3(e)&&N_(e,n=>{R1(t,n)})}function nce(t,e,n){const r=n.map(c=>c.currentWriteId),i=B3(t,e,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const u=n[c];ue(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=Jr(e,u.path);o=o.updateChild(f,u.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{M_(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(ic(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();$_(t,x1(t.transactionQueueTree_,e)),R1(t,t.transactionQueueTree_),Rs(t.eventQueue_,e,u);for(let h=0;h<f.length;h++)af(f[h])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Ei("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}D_(t,e)}},s)}function D_(t,e){const n=V3(t,e),r=vg(n),i=U3(t,n);return rce(t,i,r),r}function rce(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Jr(n,l.path);let u=!1,f;if(ue(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,f=l.abortReason,i=i.concat(ic(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Hle)u=!0,f="maxretry",i=i.concat(ic(t.serverSyncTree_,l.currentWriteId,!0));else{const h=B3(t,l.path,s);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){S1("transaction failed: Data returned ",p,l.path);let g=cr(p);typeof p=="object"&&p!=null&&ya(p,".priority")||(g=g.updatePriority(h.getPriority()));const x=l.currentWriteId,y=T1(t),b=R3(g,h,y);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=b,l.currentWriteId=F3(t),s.splice(s.indexOf(x),1),i=i.concat(x3(t.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally)),i=i.concat(ic(t.serverSyncTree_,x,!0))}else u=!0,f="nodata",i=i.concat(ic(t.serverSyncTree_,l.currentWriteId,!0))}Rs(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}$_(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)af(r[a]);R1(t,t.transactionQueueTree_)}function V3(t,e){let n,r=t.transactionQueueTree_;for(n=mt(e);n!==null&&lf(r)===void 0;)r=x1(r,n),e=an(e),n=mt(e);return r}function U3(t,e){const n=[];return j3(t,e,n),n.sort((r,i)=>r.order-i.order),n}function j3(t,e,n){const r=lf(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);N_(e,i=>{j3(t,i,n)})}function $_(t,e){const n=lf(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,P3(e,n.length>0?n:void 0)}N_(e,r=>{$_(t,r)})}function z3(t,e){const n=vg(V3(t,e)),r=x1(t.transactionQueueTree_,e);return Mle(r,i=>{vw(t,i)}),vw(t,r),A3(r,i=>{vw(t,i)}),n}function vw(t,e){const n=lf(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(ue(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(ue(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ic(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?P3(e,void 0):n.length=o+1,Rs(t.eventQueue_,vg(e),i);for(let s=0;s<r.length;s++)af(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ice(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function oce(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ei(`Invalid query segment '${n}' in query '${t}'`)}return e}const UO=function(t,e){const n=sce(t),r=n.namespace;n.domain==="firebase.com"&&ga(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ga("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||_se();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new j4(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new en(n.pathString)}},sce=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(u,f)),u<f&&(i=ice(t.substring(u,f)));const h=oce(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ace{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Jn(this.snapshot.exportVal())}}class lce{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ue(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Et(this._path)?null:Q4(this._path)}get ref(){return new va(this._repo,this._path)}get _queryIdentifier(){const e=TO(this._queryParams),n=e1(e);return n==="{}"?"default":n}get _queryObject(){return TO(this._queryParams)}isEqual(e){if(e=Ht(e),!(e instanceof k1))return!1;const n=this._repo===e._repo,r=i1(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+nae(this._path)}}class va extends k1{constructor(e,n){super(e,n,new l1,!1)}get parent(){const e=Z4(this._path);return e===null?null:new va(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Rp{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new en(e),r=zx(this.ref,e);return new Rp(this._node.getChild(n),r,Nn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Rp(i,zx(this.ref,r),Nn)))}hasChild(e){const n=new en(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function jx(t,e){return t=Ht(t),t._checkNotDeleted("ref"),e!==void 0?zx(t._root,e):t._root}function zx(t,e){return t=Ht(t),mt(t._path)===null?Vle("child","path",e):M3("child","path",e),new va(t._repo,Zn(t._path,e))}function jO(t){return D3("remove",t._path),Wx(t,null)}function Wx(t,e){t=Ht(t),D3("set",t._path),Ble("set",e,t._path);const n=new f0;return Qle(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function cce(t){t=Ht(t);const e=new P1(()=>{}),n=new _g(e);return Xle(t._repo,t,n).then(r=>new Rp(r,new va(t._repo,t._path),t._queryParams.getIndex()))}class _g{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new ace("value",this,new Rp(e.snapshotNode,new va(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new lce(this,e,n):null}matches(e){return e instanceof _g?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function uce(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){const l=n,c=(u,f)=>{Ux(t._repo,t,a),l(u,f)};c.userCallback=n.userCallback,c.context=n.context,n=c}const s=new P1(n,o||void 0),a=new _g(s);return Zle(t._repo,t,a),()=>Ux(t._repo,t,a)}function dce(t,e,n,r){return uce(t,"value",e,n,r)}function fce(t,e,n){let r=null;const i=n?new P1(n):null;r=new _g(i),Ux(t._repo,t,r)}fle(va);yle(va);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hce="FIREBASE_DATABASE_EMULATOR_HOST",Hx={};let pce=!1;function gce(t,e,n,r){t.repoInfo_=new j4(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function mce(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||ga("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),jr("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=UO(o,i),a=s.repoInfo,l;typeof process<"u"&&lO&&(l=lO[hce]),l?(o=`http://${l}?ns=${a.namespace}`,s=UO(o,i),a=s.repoInfo):s.repoInfo.secure;const c=new kse(t.name,t.options,e);Ule("Invalid Firebase Database URL",s),Et(s.path)||ga("Database URL must point to the root of a Firebase Database (not including a child path).");const u=vce(a,t,c,new Pse(t,n));return new _ce(u,t)}function yce(t,e){const n=Hx[e];(!n||n[t.key]!==t)&&ga(`Database ${e}(${t.repoInfo_}) has already been deleted.`),ece(t),delete n[t.key]}function vce(t,e,n,r){let i=Hx[e.name];i||(i={},Hx[e.name]=i);let o=i[t.toURLString()];return o&&ga("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Gle(t,pce,n,r),i[t.toURLString()]=o,o}class _ce{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Kle(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new va(this._repo,Ft())),this._rootInternal}_delete(){return this._rootInternal!==null&&(yce(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ga("Cannot call "+e+" on a deleted database.")}}function Gx(t=g0(),e){const n=jp(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=sC("database");r&&bce(n,...r)}return n}function bce(t,e,n,r={}){t=Ht(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&sa(r,o.repoInfo_.emulatorOptions))return;ga("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&ga('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new gy(gy.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:aC(r.mockUserToken,t.app.options.projectId);s=new gy(a)}gce(o,i,r,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wce(t){hse(Il),ul(new aa("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return mce(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),yo(cO,uO,t),yo(cO,uO,"esm2017")}ea.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ea.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};wce();var L_={exports:{}},W3={};function H3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=H3(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function zO(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=H3(t))&&(r&&(r+=" "),r+=e);return r}const Ece=Object.freeze(Object.defineProperty({__proto__:null,clsx:zO,default:zO},Symbol.toStringTag,{value:"Module"})),xce=vV(Ece);var $n={},Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.dontSetMe=Rce;Ns.findInArray=Sce;Ns.int=Ice;Ns.isFunction=Cce;Ns.isNum=Tce;function Sce(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function Cce(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function Tce(t){return typeof t=="number"&&!isNaN(t)}function Ice(t){return parseInt(t,10)}function Rce(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var Dc={};Object.defineProperty(Dc,"__esModule",{value:!0});Dc.browserPrefixToKey=K3;Dc.browserPrefixToStyle=Pce;Dc.default=void 0;Dc.getPrefix=G3;const _w=["Moz","Webkit","O","ms"];function G3(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<_w.length;r++)if(K3(e,_w[r])in n)return _w[r];return""}function K3(t,e){return e?"".concat(e).concat(kce(t)):t}function Pce(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function kce(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}Dc.default=G3();Object.defineProperty($n,"__esModule",{value:!0});$n.addClassName=X3;$n.addEvent=Nce;$n.addUserSelectStyles=Wce;$n.createCSSTransform=Vce;$n.createSVGTransform=Uce;$n.getTouch=jce;$n.getTouchIdentifier=zce;$n.getTranslation=A1;$n.innerHeight=Lce;$n.innerWidth=Fce;$n.matchesSelector=Y3;$n.matchesSelectorAndParentsTo=Oce;$n.offsetXYFromParent=Bce;$n.outerHeight=Dce;$n.outerWidth=$ce;$n.removeClassName=Q3;$n.removeEvent=Mce;$n.removeUserSelectStyles=Hce;var Xi=Ns,WO=Ace(Dc);function q3(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(q3=function(r){return r?n:e})(t)}function Ace(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=q3(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}let km="";function Y3(t,e){return km||(km=(0,Xi.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Xi.isFunction)(t[n])})),(0,Xi.isFunction)(t[km])?t[km](e):!1}function Oce(t,e,n){let r=t;do{if(Y3(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function Nce(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,i):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function Mce(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function Dce(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Xi.int)(n.borderTopWidth),e+=(0,Xi.int)(n.borderBottomWidth),e}function $ce(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Xi.int)(n.borderLeftWidth),e+=(0,Xi.int)(n.borderRightWidth),e}function Lce(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Xi.int)(n.paddingTop),e-=(0,Xi.int)(n.paddingBottom),e}function Fce(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Xi.int)(n.paddingLeft),e-=(0,Xi.int)(n.paddingRight),e}function Bce(t,e,n){const i=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),o=(t.clientX+e.scrollLeft-i.left)/n,s=(t.clientY+e.scrollTop-i.top)/n;return{x:o,y:s}}function Vce(t,e){const n=A1(t,e,"px");return{[(0,WO.browserPrefixToKey)("transform",WO.default)]:n}}function Uce(t,e){return A1(t,e,"")}function A1(t,e,n){let{x:r,y:i}=t,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(e){const s="".concat(typeof e.x=="string"?e.x:e.x+n),a="".concat(typeof e.y=="string"?e.y:e.y+n);o="translate(".concat(s,", ").concat(a,")")+o}return o}function jce(t,e){return t.targetTouches&&(0,Xi.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,Xi.findInArray)(t.changedTouches,n=>e===n.identifier)}function zce(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function Wce(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&X3(t.body,"react-draggable-transparent-selection")}function Hce(t){if(t)try{if(t.body&&Q3(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function X3(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function Q3(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.canDragX=qce;Ms.canDragY=Yce;Ms.createCoreData=Qce;Ms.createDraggableData=Jce;Ms.getBoundPosition=Gce;Ms.getControlPosition=Xce;Ms.snapToGrid=Kce;var Ni=Ns,Ku=$n;function Gce(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:Zce(r);const i=O1(t);if(typeof r=="string"){const{ownerDocument:o}=i,s=o.defaultView;let a;if(r==="parent"?a=i.parentNode:a=o.querySelector(r),!(a instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const l=a,c=s.getComputedStyle(i),u=s.getComputedStyle(l);r={left:-i.offsetLeft+(0,Ni.int)(u.paddingLeft)+(0,Ni.int)(c.marginLeft),top:-i.offsetTop+(0,Ni.int)(u.paddingTop)+(0,Ni.int)(c.marginTop),right:(0,Ku.innerWidth)(l)-(0,Ku.outerWidth)(i)-i.offsetLeft+(0,Ni.int)(u.paddingRight)-(0,Ni.int)(c.marginRight),bottom:(0,Ku.innerHeight)(l)-(0,Ku.outerHeight)(i)-i.offsetTop+(0,Ni.int)(u.paddingBottom)-(0,Ni.int)(c.marginBottom)}}return(0,Ni.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,Ni.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Ni.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,Ni.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function Kce(t,e,n){const r=Math.round(e/t[0])*t[0],i=Math.round(n/t[1])*t[1];return[r,i]}function qce(t){return t.props.axis==="both"||t.props.axis==="x"}function Yce(t){return t.props.axis==="both"||t.props.axis==="y"}function Xce(t,e,n){const r=typeof e=="number"?(0,Ku.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const i=O1(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Ku.offsetXYFromParent)(r||t,o,n.props.scale)}function Qce(t,e,n){const r=!(0,Ni.isNum)(t.lastX),i=O1(t);return r?{node:i,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:i,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function Jce(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function Zce(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function O1(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var F_={},B_={};Object.defineProperty(B_,"__esModule",{value:!0});B_.default=eue;function eue(){}Object.defineProperty(F_,"__esModule",{value:!0});F_.default=void 0;var bw=nue(w),ai=N1(wT),tue=N1(Lp),Dr=$n,Pa=Ms,ww=Ns,Gf=N1(B_);function N1(t){return t&&t.__esModule?t:{default:t}}function J3(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(J3=function(r){return r?n:e})(t)}function nue(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=J3(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function Yr(t,e,n){return e=rue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rue(t){var e=iue(t,"string");return typeof e=="symbol"?e:String(e)}function iue(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Mo={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let ka=Mo.mouse,V_=class extends bw.Component{constructor(){super(...arguments),Yr(this,"dragging",!1),Yr(this,"lastX",NaN),Yr(this,"lastY",NaN),Yr(this,"touchIdentifier",null),Yr(this,"mounted",!1),Yr(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Dr.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,Dr.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const i=(0,Dr.getTouchIdentifier)(e);this.touchIdentifier=i;const o=(0,Pa.getControlPosition)(e,i,this);if(o==null)return;const{x:s,y:a}=o,l=(0,Pa.createCoreData)(this,s,a);(0,Gf.default)("DraggableCore: handleDragStart: %j",l),(0,Gf.default)("calling",this.props.onStart),!(this.props.onStart(e,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Dr.addUserSelectStyles)(r),this.dragging=!0,this.lastX=s,this.lastY=a,(0,Dr.addEvent)(r,ka.move,this.handleDrag),(0,Dr.addEvent)(r,ka.stop,this.handleDragStop))}),Yr(this,"handleDrag",e=>{const n=(0,Pa.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,l=i-this.lastY;if([a,l]=(0,Pa.snapToGrid)(this.props.grid,a,l),!a&&!l)return;r=this.lastX+a,i=this.lastY+l}const o=(0,Pa.createCoreData)(this,r,i);if((0,Gf.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(e,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=r,this.lastY=i}),Yr(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,Pa.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX||0,c=i-this.lastY||0;[l,c]=(0,Pa.snapToGrid)(this.props.grid,l,c),r=this.lastX+l,i=this.lastY+c}const o=(0,Pa.createCoreData)(this,r,i);if(this.props.onStop(e,o)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,Dr.removeUserSelectStyles)(a.ownerDocument),(0,Gf.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,Gf.default)("DraggableCore: Removing handlers"),(0,Dr.removeEvent)(a.ownerDocument,ka.move,this.handleDrag),(0,Dr.removeEvent)(a.ownerDocument,ka.stop,this.handleDragStop))}),Yr(this,"onMouseDown",e=>(ka=Mo.mouse,this.handleDragStart(e))),Yr(this,"onMouseUp",e=>(ka=Mo.mouse,this.handleDragStop(e))),Yr(this,"onTouchStart",e=>(ka=Mo.touch,this.handleDragStart(e))),Yr(this,"onTouchEnd",e=>(ka=Mo.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Dr.addEvent)(e,Mo.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,Dr.removeEvent)(n,Mo.mouse.move,this.handleDrag),(0,Dr.removeEvent)(n,Mo.touch.move,this.handleDrag),(0,Dr.removeEvent)(n,Mo.mouse.stop,this.handleDragStop),(0,Dr.removeEvent)(n,Mo.touch.stop,this.handleDragStop),(0,Dr.removeEvent)(e,Mo.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Dr.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:tue.default.findDOMNode(this)}render(){return bw.cloneElement(bw.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};F_.default=V_;Yr(V_,"displayName","DraggableCore");Yr(V_,"propTypes",{allowAnyClick:ai.default.bool,children:ai.default.node.isRequired,disabled:ai.default.bool,enableUserSelectHack:ai.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:ai.default.arrayOf(ai.default.number),handle:ai.default.string,cancel:ai.default.string,nodeRef:ai.default.object,onStart:ai.default.func,onDrag:ai.default.func,onStop:ai.default.func,onMouseDown:ai.default.func,scale:ai.default.number,className:ww.dontSetMe,style:ww.dontSetMe,transform:ww.dontSetMe});Yr(V_,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var e=h(w),n=u(wT),r=u(Lp),i=u(xce),o=$n,s=Ms,a=Ns,l=u(F_),c=u(B_);function u(b){return b&&b.__esModule?b:{default:b}}function f(b){if(typeof WeakMap!="function")return null;var _=new WeakMap,S=new WeakMap;return(f=function(O){return O?S:_})(b)}function h(b,_){if(b&&b.__esModule)return b;if(b===null||typeof b!="object"&&typeof b!="function")return{default:b};var S=f(_);if(S&&S.has(b))return S.get(b);var O={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in b)if(T!=="default"&&Object.prototype.hasOwnProperty.call(b,T)){var I=N?Object.getOwnPropertyDescriptor(b,T):null;I&&(I.get||I.set)?Object.defineProperty(O,T,I):O[T]=b[T]}return O.default=b,S&&S.set(b,O),O}function p(){return p=Object.assign?Object.assign.bind():function(b){for(var _=1;_<arguments.length;_++){var S=arguments[_];for(var O in S)Object.prototype.hasOwnProperty.call(S,O)&&(b[O]=S[O])}return b},p.apply(this,arguments)}function g(b,_,S){return _=E(_),_ in b?Object.defineProperty(b,_,{value:S,enumerable:!0,configurable:!0,writable:!0}):b[_]=S,b}function E(b){var _=x(b,"string");return typeof _=="symbol"?_:String(_)}function x(b,_){if(typeof b!="object"||b===null)return b;var S=b[Symbol.toPrimitive];if(S!==void 0){var O=S.call(b,_);if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(b)}class y extends e.Component{static getDerivedStateFromProps(_,S){let{position:O}=_,{prevPropsPosition:N}=S;return O&&(!N||O.x!==N.x||O.y!==N.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:O,prevPropsPosition:N}),{x:O.x,y:O.y,prevPropsPosition:{...O}}):null}constructor(_){super(_),g(this,"onDragStart",(S,O)=>{if((0,c.default)("Draggable: onDragStart: %j",O),this.props.onStart(S,(0,s.createDraggableData)(this,O))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),g(this,"onDrag",(S,O)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",O);const N=(0,s.createDraggableData)(this,O),T={x:N.x,y:N.y,slackX:0,slackY:0};if(this.props.bounds){const{x:R,y:v}=T;T.x+=this.state.slackX,T.y+=this.state.slackY;const[k,M]=(0,s.getBoundPosition)(this,T.x,T.y);T.x=k,T.y=M,T.slackX=this.state.slackX+(R-T.x),T.slackY=this.state.slackY+(v-T.y),N.x=T.x,N.y=T.y,N.deltaX=T.x-this.state.x,N.deltaY=T.y-this.state.y}if(this.props.onDrag(S,N)===!1)return!1;this.setState(T)}),g(this,"onDragStop",(S,O)=>{if(!this.state.dragging||this.props.onStop(S,(0,s.createDraggableData)(this,O))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",O);const T={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:R,y:v}=this.props.position;T.x=R,T.y=v}this.setState(T)}),this.state={dragging:!1,dragged:!1,x:_.position?_.position.x:_.defaultPosition.x,y:_.position?_.position.y:_.defaultPosition.y,prevPropsPosition:{..._.position},slackX:0,slackY:0,isElementSVG:!1},_.position&&!(_.onDrag||_.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var _,S;return(_=(S=this.props)===null||S===void 0||(S=S.nodeRef)===null||S===void 0?void 0:S.current)!==null&&_!==void 0?_:r.default.findDOMNode(this)}render(){const{axis:_,bounds:S,children:O,defaultPosition:N,defaultClassName:T,defaultClassNameDragging:I,defaultClassNameDragged:R,position:v,positionOffset:k,scale:M,...P}=this.props;let q={},H=null;const G=!!!v||this.state.dragging,V=v||N,B={x:(0,s.canDragX)(this)&&G?this.state.x:V.x,y:(0,s.canDragY)(this)&&G?this.state.y:V.y};this.state.isElementSVG?H=(0,o.createSVGTransform)(B,k):q=(0,o.createCSSTransform)(B,k);const Q=(0,i.default)(O.props.className||"",T,{[I]:this.state.dragging,[R]:this.state.dragged});return e.createElement(l.default,p({},P,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(O),{className:Q,style:{...O.props.style,...q},transform:H}))}}t.default=y,g(y,"displayName","Draggable"),g(y,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),g(y,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(W3);const{default:Z3,DraggableCore:oue}=W3;L_.exports=Z3;L_.exports.default=Z3;L_.exports.DraggableCore=oue;var sue=L_.exports;const aue=Ap(sue),HO=100,GO=40,lue=w.memo(({node:t,zoom:e,groupDelta:n,isHighlighted:r,currentUserEmail:i,selectedNodes:o,editingNodeId:s,editedText:a,handleResizeMouseDown:l,handleNodeClick:c,handleDoubleClick:u,handleTyping:f,handleTextBlur:h,setEditedText:p,setHoveredNodeId:g,linkingSource:E,onStart:x,onDrag:y,onStop:b,hoveredNodeId:_})=>{const S=o.includes(t.id),O=_===t.id,N=((t.width||HO)+(t.height||GO))/2,T=N*.02,R=Math.max(T,4),v=S?"#8896DD":O?"white":"transparent",k=o.includes(t.id)?t.x+n.x:t.x,M=o.includes(t.id)?t.y+n.y:t.y;t.bgColor||t.id,t.textColor;const P=N*.03,q=N*.1,H=t.fontSize?parseFloat(t.fontSize):14,W=H*.1,G=H*.2,V=`${W}px ${W}px ${G}px rgba(0, 0, 0, 0.7)`;return A.jsx(aue,{scale:e,position:{x:k,y:M},onStart:x,onDrag:y,onStop:b,children:A.jsxs("div",{onMouseEnter:()=>g(t.id),onMouseLeave:()=>g(null),onClick:B=>{B.stopPropagation(),c(t,B)},onDoubleClick:()=>u(t),style:{position:"absolute",transform:`translate3d(${t.x}px, ${t.y}px, 0)`,padding:"10px",backgroundColor:t.bgColor?t.bgColor:E===t.id?"#333":"#1e1e1e",color:t.textColor||"#fff",borderRadius:"8px",cursor:"grab",minWidth:"120px",width:t.width?`${t.width}px`:`${HO}px`,height:t.height?`${t.height}px`:`${GO}px`,overflow:"hidden",boxSizing:"border-box",fontSize:t.fontSize?`${t.fontSize}px`:"14px",textAlign:t.textAlign||"left",fontStyle:t.textStyle&&t.textStyle.includes("italic")?"italic":"normal",textDecoration:t.textStyle&&t.textStyle.includes("underline")?"underline":"none",fontWeight:t.textStyle&&t.textStyle.includes("bold")?"bold":"normal",fontFamily:t.fontFamily||"cursive",outlineWidth:`${R}px`,outlineStyle:"solid",outlineColor:v,outlineOffset:`${R}px`,transition:S?"outline-color 0.25s ease-in-out, box-shadow 0.2s ease-in-out, background-color 0.15s ease-in-out, color 0.15s ease-in-out":"none",boxShadow:`0 ${P}px ${q}px rgba(0, 0, 0, 0.5)`,textShadow:V},children:[s===t.id?A.jsx("textarea",{value:a,onChange:B=>{p(B.target.value),f(t.id)},onBlur:()=>h(t.id),autoFocus:!0,style:{backgroundColor:"inherit",width:"100%",height:"107%",fontSize:"inherit",color:"inherit",fontStyle:"inherit",fontFamily:"inherit",fontWeight:"inherit",textDecoration:"inherit",textAlign:"inherit",border:"none",outline:"none",resize:"none",textShadow:V,padding:0,margin:0,boxSizing:"border-box"}}):t.type==="image"?A.jsx("img",{src:t.imageUrl,alt:"Node content",style:{width:"100%",height:"100%",objectFit:"contain",pointerEvents:"none"}}):A.jsx("span",{style:{whiteSpace:"pre-wrap"},children:t.text}),t.lockedBy&&t.lockedBy!==i&&A.jsxs("div",{style:{position:"absolute",bottom:0,left:0,backgroundColor:"rgba(255,0,0,0.7)",color:"#fff",fontSize:"10px",padding:"2px",borderRadius:"2px"},children:["Locked by ",t.lockedBy]}),t.typing&&t.lockedBy&&t.lockedBy!==i&&A.jsx("div",{style:{position:"absolute",bottom:0,right:0,backgroundColor:"rgba(0,0,255,0.7)",color:"#fff",fontSize:"10px",padding:"2px",borderRadius:"2px"},children:"Typing..."}),A.jsx("div",{onMouseDown:B=>l(t,B),style:{position:"absolute",bottom:0,right:0,width:"10%",height:"10%",opacity:.5,cursor:"nwse-resize",backgroundColor:"#ccc"}})]})})}),cue=(t,e,n=150,r=800,i=1.5)=>{const o={},s=c=>{if(c.parent){if(o[c.parent]===void 0){const u=t.find(f=>f.id===c.parent);u?s(u):o[c.parent]=0}o[c.id]=o[c.parent]+1}else o[c.id]=0};t.forEach(c=>{o[c.id]===void 0&&s(c)});const a={};t.forEach(c=>{const u=o[c.id];a[u]||(a[u]=[]),a[u].push(c.id)});const l={};return Object.keys(a).forEach(c=>{const u=parseInt(c,10),f=a[u],h=f.length,p=r*Math.pow(i,u);f.forEach((g,E)=>{const y=(E+1)/(h+1)*p-p/2+r/2,b=u*n;l[g]={x:y,y:b}})}),{layout:l,levelMap:o}},uue=(t,e,n=100,r=400,i=300)=>{const o={},s=c=>{if(c.parent){if(o[c.parent]===void 0){const u=t.find(f=>f.id===c.parent);u?s(u):o[c.parent]=0}o[c.id]=o[c.parent]+1}else o[c.id]=0};t.forEach(c=>{o[c.id]===void 0&&s(c)});const a={};t.forEach(c=>{const u=o[c.id];a[u]||(a[u]=[]),a[u].push(c.id)});const l={};return Object.keys(a).forEach(c=>{const u=parseInt(c,10),f=a[u],h=f.length,p=u*n,g=2*Math.PI/h;let E=0;f.forEach(x=>{const y=r+p*Math.cos(E),b=i+p*Math.sin(E);l[x]={x:y,y:b},E+=g})}),{layout:l,levelMap:o}},due=(t,e,n=150,r=600,i=1.5)=>{const o={},s=c=>{if(c.parent){if(o[c.parent]===void 0){const u=t.find(f=>f.id===c.parent);u?s(u):o[c.parent]=0}o[c.id]=o[c.parent]+1}else o[c.id]=0};t.forEach(c=>{o[c.id]===void 0&&s(c)});const a={};t.forEach(c=>{const u=o[c.id];a[u]||(a[u]=[]),a[u].push(c.id)});const l={};return Object.keys(a).forEach(c=>{const u=parseInt(c,10),f=a[u],h=f.length,p=r*Math.pow(i,u);f.forEach((g,E)=>{const y=(E+1)/(h+1)*p-p/2+r/2,b=u*n;l[g]={x:b,y}})}),{layout:l,levelMap:o}};var po={},bg={},fue=typeof ja=="object"&&ja&&ja.Object===Object&&ja,eB=fue,hue=eB,pue=typeof self=="object"&&self&&self.Object===Object&&self,gue=hue||pue||Function("return this")(),Ds=gue,mue=Ds,yue=mue.Symbol,wg=yue,KO=wg,tB=Object.prototype,vue=tB.hasOwnProperty,_ue=tB.toString,Kf=KO?KO.toStringTag:void 0;function bue(t){var e=vue.call(t,Kf),n=t[Kf];try{t[Kf]=void 0;var r=!0}catch{}var i=_ue.call(t);return r&&(e?t[Kf]=n:delete t[Kf]),i}var wue=bue,Eue=Object.prototype,xue=Eue.toString;function Sue(t){return xue.call(t)}var Cue=Sue,qO=wg,Tue=wue,Iue=Cue,Rue="[object Null]",Pue="[object Undefined]",YO=qO?qO.toStringTag:void 0;function kue(t){return t==null?t===void 0?Pue:Rue:YO&&YO in Object(t)?Tue(t):Iue(t)}var $c=kue,Aue=Array.isArray,Zo=Aue;function Oue(t){return t!=null&&typeof t=="object"}var _a=Oue,Nue=$c,Mue=Zo,Due=_a,$ue="[object String]";function Lue(t){return typeof t=="string"||!Mue(t)&&Due(t)&&Nue(t)==$ue}var Fue=Lue;function Bue(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var Vue=Bue,Uue=Vue,jue=Uue(),zue=jue;function Wue(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Hue=Wue,Gue=$c,Kue=_a,que="[object Arguments]";function Yue(t){return Kue(t)&&Gue(t)==que}var Xue=Yue,XO=Xue,Que=_a,nB=Object.prototype,Jue=nB.hasOwnProperty,Zue=nB.propertyIsEnumerable,ede=XO(function(){return arguments}())?XO:function(t){return Que(t)&&Jue.call(t,"callee")&&!Zue.call(t,"callee")},rB=ede,$v={exports:{}};function tde(){return!1}var nde=tde;$v.exports;(function(t,e){var n=Ds,r=nde,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})($v,$v.exports);var M1=$v.exports,rde=9007199254740991,ide=/^(?:0|[1-9]\d*)$/;function ode(t,e){var n=typeof t;return e=e??rde,!!e&&(n=="number"||n!="symbol"&&ide.test(t))&&t>-1&&t%1==0&&t<e}var iB=ode,sde=9007199254740991;function ade(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=sde}var D1=ade,lde=$c,cde=D1,ude=_a,dde="[object Arguments]",fde="[object Array]",hde="[object Boolean]",pde="[object Date]",gde="[object Error]",mde="[object Function]",yde="[object Map]",vde="[object Number]",_de="[object Object]",bde="[object RegExp]",wde="[object Set]",Ede="[object String]",xde="[object WeakMap]",Sde="[object ArrayBuffer]",Cde="[object DataView]",Tde="[object Float32Array]",Ide="[object Float64Array]",Rde="[object Int8Array]",Pde="[object Int16Array]",kde="[object Int32Array]",Ade="[object Uint8Array]",Ode="[object Uint8ClampedArray]",Nde="[object Uint16Array]",Mde="[object Uint32Array]",dn={};dn[Tde]=dn[Ide]=dn[Rde]=dn[Pde]=dn[kde]=dn[Ade]=dn[Ode]=dn[Nde]=dn[Mde]=!0;dn[dde]=dn[fde]=dn[Sde]=dn[hde]=dn[Cde]=dn[pde]=dn[gde]=dn[mde]=dn[yde]=dn[vde]=dn[_de]=dn[bde]=dn[wde]=dn[Ede]=dn[xde]=!1;function Dde(t){return ude(t)&&cde(t.length)&&!!dn[lde(t)]}var $de=Dde;function Lde(t){return function(e){return t(e)}}var $1=Lde,Lv={exports:{}};Lv.exports;(function(t,e){var n=eB,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Lv,Lv.exports);var L1=Lv.exports,Fde=$de,Bde=$1,QO=L1,JO=QO&&QO.isTypedArray,Vde=JO?Bde(JO):Fde,oB=Vde,Ude=Hue,jde=rB,zde=Zo,Wde=M1,Hde=iB,Gde=oB,Kde=Object.prototype,qde=Kde.hasOwnProperty;function Yde(t,e){var n=zde(t),r=!n&&jde(t),i=!n&&!r&&Wde(t),o=!n&&!r&&!i&&Gde(t),s=n||r||i||o,a=s?Ude(t.length,String):[],l=a.length;for(var c in t)(e||qde.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Hde(c,l)))&&a.push(c);return a}var sB=Yde,Xde=Object.prototype;function Qde(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Xde;return t===n}var F1=Qde;function Jde(t,e){return function(n){return t(e(n))}}var aB=Jde,Zde=aB,efe=Zde(Object.keys,Object),tfe=efe,nfe=F1,rfe=tfe,ife=Object.prototype,ofe=ife.hasOwnProperty;function sfe(t){if(!nfe(t))return rfe(t);var e=[];for(var n in Object(t))ofe.call(t,n)&&n!="constructor"&&e.push(n);return e}var afe=sfe;function lfe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var cf=lfe,cfe=$c,ufe=cf,dfe="[object AsyncFunction]",ffe="[object Function]",hfe="[object GeneratorFunction]",pfe="[object Proxy]";function gfe(t){if(!ufe(t))return!1;var e=cfe(t);return e==ffe||e==hfe||e==dfe||e==pfe}var lB=gfe,mfe=lB,yfe=D1;function vfe(t){return t!=null&&yfe(t.length)&&!mfe(t)}var U_=vfe,_fe=sB,bfe=afe,wfe=U_;function Efe(t){return wfe(t)?_fe(t):bfe(t)}var Eg=Efe,xfe=zue,Sfe=Eg;function Cfe(t,e){return t&&xfe(t,e,Sfe)}var cB=Cfe;function Tfe(t){return t}var uB=Tfe,Ife=uB;function Rfe(t){return typeof t=="function"?t:Ife}var Pfe=Rfe,kfe=cB,Afe=Pfe;function Ofe(t,e){return t&&kfe(t,Afe(e))}var B1=Ofe,Nfe=aB,Mfe=Nfe(Object.getPrototypeOf,Object),V1=Mfe,Dfe=$c,$fe=V1,Lfe=_a,Ffe="[object Object]",Bfe=Function.prototype,Vfe=Object.prototype,dB=Bfe.toString,Ufe=Vfe.hasOwnProperty,jfe=dB.call(Object);function zfe(t){if(!Lfe(t)||Dfe(t)!=Ffe)return!1;var e=$fe(t);if(e===null)return!0;var n=Ufe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&dB.call(n)==jfe}var Wfe=zfe;function Hfe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var fB=Hfe;function Gfe(){this.__data__=[],this.size=0}var Kfe=Gfe;function qfe(t,e){return t===e||t!==t&&e!==e}var U1=qfe,Yfe=U1;function Xfe(t,e){for(var n=t.length;n--;)if(Yfe(t[n][0],e))return n;return-1}var j_=Xfe,Qfe=j_,Jfe=Array.prototype,Zfe=Jfe.splice;function ehe(t){var e=this.__data__,n=Qfe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Zfe.call(e,n,1),--this.size,!0}var the=ehe,nhe=j_;function rhe(t){var e=this.__data__,n=nhe(e,t);return n<0?void 0:e[n][1]}var ihe=rhe,ohe=j_;function she(t){return ohe(this.__data__,t)>-1}var ahe=she,lhe=j_;function che(t,e){var n=this.__data__,r=lhe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var uhe=che,dhe=Kfe,fhe=the,hhe=ihe,phe=ahe,ghe=uhe;function uf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}uf.prototype.clear=dhe;uf.prototype.delete=fhe;uf.prototype.get=hhe;uf.prototype.has=phe;uf.prototype.set=ghe;var z_=uf,mhe=z_;function yhe(){this.__data__=new mhe,this.size=0}var vhe=yhe;function _he(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var bhe=_he;function whe(t){return this.__data__.get(t)}var Ehe=whe;function xhe(t){return this.__data__.has(t)}var She=xhe,Che=Ds,The=Che["__core-js_shared__"],Ihe=The,Ew=Ihe,ZO=function(){var t=/[^.]+$/.exec(Ew&&Ew.keys&&Ew.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Rhe(t){return!!ZO&&ZO in t}var Phe=Rhe,khe=Function.prototype,Ahe=khe.toString;function Ohe(t){if(t!=null){try{return Ahe.call(t)}catch{}try{return t+""}catch{}}return""}var hB=Ohe,Nhe=lB,Mhe=Phe,Dhe=cf,$he=hB,Lhe=/[\\^$.*+?()[\]{}|]/g,Fhe=/^\[object .+?Constructor\]$/,Bhe=Function.prototype,Vhe=Object.prototype,Uhe=Bhe.toString,jhe=Vhe.hasOwnProperty,zhe=RegExp("^"+Uhe.call(jhe).replace(Lhe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Whe(t){if(!Dhe(t)||Mhe(t))return!1;var e=Nhe(t)?zhe:Fhe;return e.test($he(t))}var Hhe=Whe;function Ghe(t,e){return t==null?void 0:t[e]}var Khe=Ghe,qhe=Hhe,Yhe=Khe;function Xhe(t,e){var n=Yhe(t,e);return qhe(n)?n:void 0}var Lc=Xhe,Qhe=Lc,Jhe=Ds,Zhe=Qhe(Jhe,"Map"),j1=Zhe,epe=Lc,tpe=epe(Object,"create"),W_=tpe,e2=W_;function npe(){this.__data__=e2?e2(null):{},this.size=0}var rpe=npe;function ipe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ope=ipe,spe=W_,ape="__lodash_hash_undefined__",lpe=Object.prototype,cpe=lpe.hasOwnProperty;function upe(t){var e=this.__data__;if(spe){var n=e[t];return n===ape?void 0:n}return cpe.call(e,t)?e[t]:void 0}var dpe=upe,fpe=W_,hpe=Object.prototype,ppe=hpe.hasOwnProperty;function gpe(t){var e=this.__data__;return fpe?e[t]!==void 0:ppe.call(e,t)}var mpe=gpe,ype=W_,vpe="__lodash_hash_undefined__";function _pe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ype&&e===void 0?vpe:e,this}var bpe=_pe,wpe=rpe,Epe=ope,xpe=dpe,Spe=mpe,Cpe=bpe;function df(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}df.prototype.clear=wpe;df.prototype.delete=Epe;df.prototype.get=xpe;df.prototype.has=Spe;df.prototype.set=Cpe;var Tpe=df,t2=Tpe,Ipe=z_,Rpe=j1;function Ppe(){this.size=0,this.__data__={hash:new t2,map:new(Rpe||Ipe),string:new t2}}var kpe=Ppe;function Ape(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Ope=Ape,Npe=Ope;function Mpe(t,e){var n=t.__data__;return Npe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var H_=Mpe,Dpe=H_;function $pe(t){var e=Dpe(this,t).delete(t);return this.size-=e?1:0,e}var Lpe=$pe,Fpe=H_;function Bpe(t){return Fpe(this,t).get(t)}var Vpe=Bpe,Upe=H_;function jpe(t){return Upe(this,t).has(t)}var zpe=jpe,Wpe=H_;function Hpe(t,e){var n=Wpe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Gpe=Hpe,Kpe=kpe,qpe=Lpe,Ype=Vpe,Xpe=zpe,Qpe=Gpe;function ff(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ff.prototype.clear=Kpe;ff.prototype.delete=qpe;ff.prototype.get=Ype;ff.prototype.has=Xpe;ff.prototype.set=Qpe;var z1=ff,Jpe=z_,Zpe=j1,ege=z1,tge=200;function nge(t,e){var n=this.__data__;if(n instanceof Jpe){var r=n.__data__;if(!Zpe||r.length<tge-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ege(r)}return n.set(t,e),this.size=n.size,this}var rge=nge,ige=z_,oge=vhe,sge=bhe,age=Ehe,lge=She,cge=rge;function hf(t){var e=this.__data__=new ige(t);this.size=e.size}hf.prototype.clear=oge;hf.prototype.delete=sge;hf.prototype.get=age;hf.prototype.has=lge;hf.prototype.set=cge;var W1=hf,uge="__lodash_hash_undefined__";function dge(t){return this.__data__.set(t,uge),this}var fge=dge;function hge(t){return this.__data__.has(t)}var pge=hge,gge=z1,mge=fge,yge=pge;function Fv(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new gge;++e<n;)this.add(t[e])}Fv.prototype.add=Fv.prototype.push=mge;Fv.prototype.has=yge;var vge=Fv;function _ge(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var bge=_ge;function wge(t,e){return t.has(e)}var Ege=wge,xge=vge,Sge=bge,Cge=Ege,Tge=1,Ige=2;function Rge(t,e,n,r,i,o){var s=n&Tge,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=n&Ige?new xge:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var g=t[f],E=e[f];if(r)var x=s?r(E,g,f,e,t,o):r(g,E,f,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!Sge(e,function(y,b){if(!Cge(p,b)&&(g===y||i(g,y,n,r,o)))return p.push(b)})){h=!1;break}}else if(!(g===E||i(g,E,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var pB=Rge,Pge=Ds,kge=Pge.Uint8Array,gB=kge;function Age(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Oge=Age;function Nge(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Mge=Nge,n2=wg,r2=gB,Dge=U1,$ge=pB,Lge=Oge,Fge=Mge,Bge=1,Vge=2,Uge="[object Boolean]",jge="[object Date]",zge="[object Error]",Wge="[object Map]",Hge="[object Number]",Gge="[object RegExp]",Kge="[object Set]",qge="[object String]",Yge="[object Symbol]",Xge="[object ArrayBuffer]",Qge="[object DataView]",i2=n2?n2.prototype:void 0,xw=i2?i2.valueOf:void 0;function Jge(t,e,n,r,i,o,s){switch(n){case Qge:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Xge:return!(t.byteLength!=e.byteLength||!o(new r2(t),new r2(e)));case Uge:case jge:case Hge:return Dge(+t,+e);case zge:return t.name==e.name&&t.message==e.message;case Gge:case qge:return t==e+"";case Wge:var a=Lge;case Kge:var l=r&Bge;if(a||(a=Fge),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=Vge,s.set(t,e);var u=$ge(a(t),a(e),r,i,o,s);return s.delete(t),u;case Yge:if(xw)return xw.call(t)==xw.call(e)}return!1}var Zge=Jge;function eme(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var mB=eme,tme=mB,nme=Zo;function rme(t,e,n){var r=e(t);return nme(t)?r:tme(r,n(t))}var yB=rme;function ime(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var ome=ime;function sme(){return[]}var vB=sme,ame=ome,lme=vB,cme=Object.prototype,ume=cme.propertyIsEnumerable,o2=Object.getOwnPropertySymbols,dme=o2?function(t){return t==null?[]:(t=Object(t),ame(o2(t),function(e){return ume.call(t,e)}))}:lme,H1=dme,fme=yB,hme=H1,pme=Eg;function gme(t){return fme(t,pme,hme)}var _B=gme,s2=_B,mme=1,yme=Object.prototype,vme=yme.hasOwnProperty;function _me(t,e,n,r,i,o){var s=n&mme,a=s2(t),l=a.length,c=s2(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:vme.call(e,h)))return!1}var p=o.get(t),g=o.get(e);if(p&&g)return p==e&&g==t;var E=!0;o.set(t,e),o.set(e,t);for(var x=s;++f<l;){h=a[f];var y=t[h],b=e[h];if(r)var _=s?r(b,y,h,e,t,o):r(y,b,h,t,e,o);if(!(_===void 0?y===b||i(y,b,n,r,o):_)){E=!1;break}x||(x=h=="constructor")}if(E&&!x){var S=t.constructor,O=e.constructor;S!=O&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof O=="function"&&O instanceof O)&&(E=!1)}return o.delete(t),o.delete(e),E}var bme=_me,wme=Lc,Eme=Ds,xme=wme(Eme,"DataView"),Sme=xme,Cme=Lc,Tme=Ds,Ime=Cme(Tme,"Promise"),Rme=Ime,Pme=Lc,kme=Ds,Ame=Pme(kme,"Set"),Ome=Ame,Nme=Lc,Mme=Ds,Dme=Nme(Mme,"WeakMap"),$me=Dme,Kx=Sme,qx=j1,Yx=Rme,Xx=Ome,Qx=$me,bB=$c,pf=hB,a2="[object Map]",Lme="[object Object]",l2="[object Promise]",c2="[object Set]",u2="[object WeakMap]",d2="[object DataView]",Fme=pf(Kx),Bme=pf(qx),Vme=pf(Yx),Ume=pf(Xx),jme=pf(Qx),Yl=bB;(Kx&&Yl(new Kx(new ArrayBuffer(1)))!=d2||qx&&Yl(new qx)!=a2||Yx&&Yl(Yx.resolve())!=l2||Xx&&Yl(new Xx)!=c2||Qx&&Yl(new Qx)!=u2)&&(Yl=function(t){var e=bB(t),n=e==Lme?t.constructor:void 0,r=n?pf(n):"";if(r)switch(r){case Fme:return d2;case Bme:return a2;case Vme:return l2;case Ume:return c2;case jme:return u2}return e});var G_=Yl,Sw=W1,zme=pB,Wme=Zge,Hme=bme,f2=G_,h2=Zo,p2=M1,Gme=oB,Kme=1,g2="[object Arguments]",m2="[object Array]",Am="[object Object]",qme=Object.prototype,y2=qme.hasOwnProperty;function Yme(t,e,n,r,i,o){var s=h2(t),a=h2(e),l=s?m2:f2(t),c=a?m2:f2(e);l=l==g2?Am:l,c=c==g2?Am:c;var u=l==Am,f=c==Am,h=l==c;if(h&&p2(t)){if(!p2(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new Sw),s||Gme(t)?zme(t,e,n,r,i,o):Wme(t,e,l,n,r,i,o);if(!(n&Kme)){var p=u&&y2.call(t,"__wrapped__"),g=f&&y2.call(e,"__wrapped__");if(p||g){var E=p?t.value():t,x=g?e.value():e;return o||(o=new Sw),i(E,x,n,r,o)}}return h?(o||(o=new Sw),Hme(t,e,n,r,i,o)):!1}var Xme=Yme,Qme=Xme,v2=_a;function wB(t,e,n,r,i){return t===e?!0:t==null||e==null||!v2(t)&&!v2(e)?t!==t&&e!==e:Qme(t,e,n,r,wB,i)}var EB=wB,Jme=W1,Zme=EB,eye=1,tye=2;function nye(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],c=t[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new Jme;if(r)var h=r(c,u,l,t,e,f);if(!(h===void 0?Zme(u,c,eye|tye,r,f):h))return!1}}return!0}var rye=nye,iye=cf;function oye(t){return t===t&&!iye(t)}var xB=oye,sye=xB,aye=Eg;function lye(t){for(var e=aye(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,sye(i)]}return e}var cye=lye;function uye(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var SB=uye,dye=rye,fye=cye,hye=SB;function pye(t){var e=fye(t);return e.length==1&&e[0][2]?hye(e[0][0],e[0][1]):function(n){return n===t||dye(n,t,e)}}var gye=pye,mye=$c,yye=_a,vye="[object Symbol]";function _ye(t){return typeof t=="symbol"||yye(t)&&mye(t)==vye}var G1=_ye,bye=Zo,wye=G1,Eye=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xye=/^\w*$/;function Sye(t,e){if(bye(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||wye(t)?!0:xye.test(t)||!Eye.test(t)||e!=null&&t in Object(e)}var K1=Sye,CB=z1,Cye="Expected a function";function q1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Cye);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(q1.Cache||CB),n}q1.Cache=CB;var Tye=q1,Iye=Tye,Rye=500;function Pye(t){var e=Iye(t,function(r){return n.size===Rye&&n.clear(),r}),n=e.cache;return e}var kye=Pye,Aye=kye,Oye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nye=/\\(\\)?/g,Mye=Aye(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Oye,function(n,r,i,o){e.push(i?o.replace(Nye,"$1"):r||n)}),e}),Dye=Mye,_2=wg,$ye=fB,Lye=Zo,Fye=G1,b2=_2?_2.prototype:void 0,w2=b2?b2.toString:void 0;function TB(t){if(typeof t=="string")return t;if(Lye(t))return $ye(t,TB)+"";if(Fye(t))return w2?w2.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Bye=TB,Vye=Bye;function Uye(t){return t==null?"":Vye(t)}var jye=Uye,zye=Zo,Wye=K1,Hye=Dye,Gye=jye;function Kye(t,e){return zye(t)?t:Wye(t,e)?[t]:Hye(Gye(t))}var IB=Kye,qye=G1;function Yye(t){if(typeof t=="string"||qye(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var K_=Yye,Xye=IB,Qye=K_;function Jye(t,e){e=Xye(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Qye(e[n++])];return n&&n==r?t:void 0}var RB=Jye,Zye=RB;function eve(t,e,n){var r=t==null?void 0:Zye(t,e);return r===void 0?n:r}var tve=eve;function nve(t,e){return t!=null&&e in Object(t)}var rve=nve,ive=IB,ove=rB,sve=Zo,ave=iB,lve=D1,cve=K_;function uve(t,e,n){e=ive(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=cve(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&lve(i)&&ave(s,i)&&(sve(t)||ove(t)))}var dve=uve,fve=rve,hve=dve;function pve(t,e){return t!=null&&hve(t,e,fve)}var gve=pve,mve=EB,yve=tve,vve=gve,_ve=K1,bve=xB,wve=SB,Eve=K_,xve=1,Sve=2;function Cve(t,e){return _ve(t)&&bve(e)?wve(Eve(t),e):function(n){var r=yve(n,t);return r===void 0&&r===e?vve(n,t):mve(e,r,xve|Sve)}}var Tve=Cve;function Ive(t){return function(e){return e==null?void 0:e[t]}}var Rve=Ive,Pve=RB;function kve(t){return function(e){return Pve(e,t)}}var Ave=kve,Ove=Rve,Nve=Ave,Mve=K1,Dve=K_;function $ve(t){return Mve(t)?Ove(Dve(t)):Nve(t)}var Lve=$ve,Fve=gye,Bve=Tve,Vve=uB,Uve=Zo,jve=Lve;function zve(t){return typeof t=="function"?t:t==null?Vve:typeof t=="object"?Uve(t)?Bve(t[0],t[1]):Fve(t):jve(t)}var Wve=zve,Hve=U_;function Gve(t,e){return function(n,r){if(n==null)return n;if(!Hve(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Kve=Gve,qve=cB,Yve=Kve,Xve=Yve(qve),Qve=Xve,Jve=Qve,Zve=U_;function e0e(t,e){var n=-1,r=Zve(t)?Array(t.length):[];return Jve(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var t0e=e0e,n0e=fB,r0e=Wve,i0e=t0e,o0e=Zo;function s0e(t,e){var n=o0e(t)?n0e:i0e;return n(t,r0e(e))}var a0e=s0e;Object.defineProperty(bg,"__esModule",{value:!0});bg.flattenNames=void 0;var l0e=Fue,c0e=q_(l0e),u0e=B1,d0e=q_(u0e),f0e=Wfe,h0e=q_(f0e),p0e=a0e,g0e=q_(p0e);function q_(t){return t&&t.__esModule?t:{default:t}}var m0e=bg.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,g0e.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,h0e.default)(r)?(0,d0e.default)(r,function(i,o){i===!0&&n.push(o),n.push(o+"-"+i)}):(0,c0e.default)(r)&&n.push(r)}),n};bg.default=m0e;var xg={};function y0e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var v0e=y0e,_0e=Lc,b0e=function(){try{var t=_0e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),w0e=b0e,E2=w0e;function E0e(t,e,n){e=="__proto__"&&E2?E2(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var PB=E0e,x0e=PB,S0e=U1,C0e=Object.prototype,T0e=C0e.hasOwnProperty;function I0e(t,e,n){var r=t[e];(!(T0e.call(t,e)&&S0e(r,n))||n===void 0&&!(e in t))&&x0e(t,e,n)}var kB=I0e,R0e=kB,P0e=PB;function k0e(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?P0e(n,a,l):R0e(n,a,l)}return n}var Y_=k0e,A0e=Y_,O0e=Eg;function N0e(t,e){return t&&A0e(e,O0e(e),t)}var M0e=N0e;function D0e(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var $0e=D0e,L0e=cf,F0e=F1,B0e=$0e,V0e=Object.prototype,U0e=V0e.hasOwnProperty;function j0e(t){if(!L0e(t))return B0e(t);var e=F0e(t),n=[];for(var r in t)r=="constructor"&&(e||!U0e.call(t,r))||n.push(r);return n}var z0e=j0e,W0e=sB,H0e=z0e,G0e=U_;function K0e(t){return G0e(t)?W0e(t,!0):H0e(t)}var Y1=K0e,q0e=Y_,Y0e=Y1;function X0e(t,e){return t&&q0e(e,Y0e(e),t)}var Q0e=X0e,Bv={exports:{}};Bv.exports;(function(t,e){var n=Ds,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var f=c.length,h=a?a(f):new c.constructor(f);return c.copy(h),h}t.exports=l})(Bv,Bv.exports);var J0e=Bv.exports;function Z0e(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var e_e=Z0e,t_e=Y_,n_e=H1;function r_e(t,e){return t_e(t,n_e(t),e)}var i_e=r_e,o_e=mB,s_e=V1,a_e=H1,l_e=vB,c_e=Object.getOwnPropertySymbols,u_e=c_e?function(t){for(var e=[];t;)o_e(e,a_e(t)),t=s_e(t);return e}:l_e,AB=u_e,d_e=Y_,f_e=AB;function h_e(t,e){return d_e(t,f_e(t),e)}var p_e=h_e,g_e=yB,m_e=AB,y_e=Y1;function v_e(t){return g_e(t,y_e,m_e)}var __e=v_e,b_e=Object.prototype,w_e=b_e.hasOwnProperty;function E_e(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&w_e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var x_e=E_e,x2=gB;function S_e(t){var e=new t.constructor(t.byteLength);return new x2(e).set(new x2(t)),e}var X1=S_e,C_e=X1;function T_e(t,e){var n=e?C_e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var I_e=T_e,R_e=/\w*$/;function P_e(t){var e=new t.constructor(t.source,R_e.exec(t));return e.lastIndex=t.lastIndex,e}var k_e=P_e,S2=wg,C2=S2?S2.prototype:void 0,T2=C2?C2.valueOf:void 0;function A_e(t){return T2?Object(T2.call(t)):{}}var O_e=A_e,N_e=X1;function M_e(t,e){var n=e?N_e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var D_e=M_e,$_e=X1,L_e=I_e,F_e=k_e,B_e=O_e,V_e=D_e,U_e="[object Boolean]",j_e="[object Date]",z_e="[object Map]",W_e="[object Number]",H_e="[object RegExp]",G_e="[object Set]",K_e="[object String]",q_e="[object Symbol]",Y_e="[object ArrayBuffer]",X_e="[object DataView]",Q_e="[object Float32Array]",J_e="[object Float64Array]",Z_e="[object Int8Array]",ebe="[object Int16Array]",tbe="[object Int32Array]",nbe="[object Uint8Array]",rbe="[object Uint8ClampedArray]",ibe="[object Uint16Array]",obe="[object Uint32Array]";function sbe(t,e,n){var r=t.constructor;switch(e){case Y_e:return $_e(t);case U_e:case j_e:return new r(+t);case X_e:return L_e(t,n);case Q_e:case J_e:case Z_e:case ebe:case tbe:case nbe:case rbe:case ibe:case obe:return V_e(t,n);case z_e:return new r;case W_e:case K_e:return new r(t);case H_e:return F_e(t);case G_e:return new r;case q_e:return B_e(t)}}var abe=sbe,lbe=cf,I2=Object.create,cbe=function(){function t(){}return function(e){if(!lbe(e))return{};if(I2)return I2(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),ube=cbe,dbe=ube,fbe=V1,hbe=F1;function pbe(t){return typeof t.constructor=="function"&&!hbe(t)?dbe(fbe(t)):{}}var gbe=pbe,mbe=G_,ybe=_a,vbe="[object Map]";function _be(t){return ybe(t)&&mbe(t)==vbe}var bbe=_be,wbe=bbe,Ebe=$1,R2=L1,P2=R2&&R2.isMap,xbe=P2?Ebe(P2):wbe,Sbe=xbe,Cbe=G_,Tbe=_a,Ibe="[object Set]";function Rbe(t){return Tbe(t)&&Cbe(t)==Ibe}var Pbe=Rbe,kbe=Pbe,Abe=$1,k2=L1,A2=k2&&k2.isSet,Obe=A2?Abe(A2):kbe,Nbe=Obe,Mbe=W1,Dbe=v0e,$be=kB,Lbe=M0e,Fbe=Q0e,Bbe=J0e,Vbe=e_e,Ube=i_e,jbe=p_e,zbe=_B,Wbe=__e,Hbe=G_,Gbe=x_e,Kbe=abe,qbe=gbe,Ybe=Zo,Xbe=M1,Qbe=Sbe,Jbe=cf,Zbe=Nbe,ewe=Eg,twe=Y1,nwe=1,rwe=2,iwe=4,OB="[object Arguments]",owe="[object Array]",swe="[object Boolean]",awe="[object Date]",lwe="[object Error]",NB="[object Function]",cwe="[object GeneratorFunction]",uwe="[object Map]",dwe="[object Number]",MB="[object Object]",fwe="[object RegExp]",hwe="[object Set]",pwe="[object String]",gwe="[object Symbol]",mwe="[object WeakMap]",ywe="[object ArrayBuffer]",vwe="[object DataView]",_we="[object Float32Array]",bwe="[object Float64Array]",wwe="[object Int8Array]",Ewe="[object Int16Array]",xwe="[object Int32Array]",Swe="[object Uint8Array]",Cwe="[object Uint8ClampedArray]",Twe="[object Uint16Array]",Iwe="[object Uint32Array]",on={};on[OB]=on[owe]=on[ywe]=on[vwe]=on[swe]=on[awe]=on[_we]=on[bwe]=on[wwe]=on[Ewe]=on[xwe]=on[uwe]=on[dwe]=on[MB]=on[fwe]=on[hwe]=on[pwe]=on[gwe]=on[Swe]=on[Cwe]=on[Twe]=on[Iwe]=!0;on[lwe]=on[NB]=on[mwe]=!1;function my(t,e,n,r,i,o){var s,a=e&nwe,l=e&rwe,c=e&iwe;if(n&&(s=i?n(t,r,i,o):n(t)),s!==void 0)return s;if(!Jbe(t))return t;var u=Ybe(t);if(u){if(s=Gbe(t),!a)return Vbe(t,s)}else{var f=Hbe(t),h=f==NB||f==cwe;if(Xbe(t))return Bbe(t,a);if(f==MB||f==OB||h&&!i){if(s=l||h?{}:qbe(t),!a)return l?jbe(t,Fbe(s,t)):Ube(t,Lbe(s,t))}else{if(!on[f])return i?t:{};s=Kbe(t,f,a)}}o||(o=new Mbe);var p=o.get(t);if(p)return p;o.set(t,s),Zbe(t)?t.forEach(function(x){s.add(my(x,e,n,x,t,o))}):Qbe(t)&&t.forEach(function(x,y){s.set(y,my(x,e,n,y,t,o))});var g=c?l?Wbe:zbe:l?twe:ewe,E=u?void 0:g(t);return Dbe(E||t,function(x,y){E&&(y=x,x=t[y]),$be(s,y,my(x,e,n,y,t,o))}),s}var Rwe=my,Pwe=Rwe,kwe=1,Awe=4;function Owe(t){return Pwe(t,kwe|Awe)}var Nwe=Owe;Object.defineProperty(xg,"__esModule",{value:!0});xg.mergeClasses=void 0;var Mwe=B1,Dwe=DB(Mwe),$we=Nwe,Lwe=DB($we),Fwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function DB(t){return t&&t.__esModule?t:{default:t}}var Bwe=xg.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,Lwe.default)(e.default)||{};return n.map(function(i){var o=e[i];return o&&(0,Dwe.default)(o,function(s,a){r[a]||(r[a]={}),r[a]=Fwe({},r[a],o[a])}),i}),r};xg.default=Bwe;var Sg={};Object.defineProperty(Sg,"__esModule",{value:!0});Sg.autoprefix=void 0;var Vwe=B1,O2=jwe(Vwe),Uwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function jwe(t){return t&&t.__esModule?t:{default:t}}var zwe={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},Wwe=Sg.autoprefix=function(e){var n={};return(0,O2.default)(e,function(r,i){var o={};(0,O2.default)(r,function(s,a){var l=zwe[a];l?o=Uwe({},o,l(s)):o[a]=s}),n[i]=o}),n};Sg.default=Wwe;var Cg={};Object.defineProperty(Cg,"__esModule",{value:!0});Cg.hover=void 0;var Hwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gwe=w,Cw=Kwe(Gwe);function Kwe(t){return t&&t.__esModule?t:{default:t}}function qwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N2(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ywe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Xwe=Cg.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Ywe(i,r);function i(){var o,s,a,l;qwe(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(s=(a=N2(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(u))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return Cw.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},Cw.default.createElement(e,Hwe({},a.props,a.state)))},s),N2(a,l)}return i}(Cw.default.Component)};Cg.default=Xwe;var Tg={};Object.defineProperty(Tg,"__esModule",{value:!0});Tg.active=void 0;var Qwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jwe=w,Tw=Zwe(Jwe);function Zwe(t){return t&&t.__esModule?t:{default:t}}function eEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M2(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function tEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var nEe=Tg.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){tEe(i,r);function i(){var o,s,a,l;eEe(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(s=(a=M2(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(u))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return Tw.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},Tw.default.createElement(e,Qwe({},a.props,a.state)))},s),M2(a,l)}return i}(Tw.default.Component)};Tg.default=nEe;var Q1={};Object.defineProperty(Q1,"__esModule",{value:!0});var rEe=function(e,n){var r={},i=function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[s]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};Q1.default=rEe;Object.defineProperty(po,"__esModule",{value:!0});po.ReactCSS=po.loop=po.handleActive=J1=po.handleHover=po.hover=void 0;var iEe=bg,oEe=gf(iEe),sEe=xg,aEe=gf(sEe),lEe=Sg,cEe=gf(lEe),uEe=Cg,$B=gf(uEe),dEe=Tg,fEe=gf(dEe),hEe=Q1,pEe=gf(hEe);function gf(t){return t&&t.__esModule?t:{default:t}}po.hover=$B.default;var J1=po.handleHover=$B.default;po.handleActive=fEe.default;po.loop=pEe.default;var gEe=po.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=(0,oEe.default)(r),s=(0,aEe.default)(e,o);return(0,cEe.default)(s)},Xe=po.default=gEe,mEe=function(e,n,r,i,o){var s=o.clientWidth,a=o.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=l-(o.getBoundingClientRect().left+window.pageXOffset),f=c-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var h=void 0;if(f<0?h=0:f>a?h=1:h=Math.round(f*100/a)/100,n.a!==h)return{h:n.h,s:n.s,l:n.l,a:h,source:"rgb"}}else{var p=void 0;if(u<0?p=0:u>s?p=1:p=Math.round(u*100/s)/100,i!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}return null},Iw={},yEe=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var s=o.getContext("2d");return s?(s.fillStyle=e,s.fillRect(0,0,o.width,o.height),s.fillStyle=n,s.fillRect(0,0,r,r),s.translate(r,r),s.fillRect(0,0,r,r),o.toDataURL()):null},vEe=function(e,n,r,i){var o=e+"-"+n+"-"+r+(i?"-server":"");if(Iw[o])return Iw[o];var s=yEe(e,n,r,i);return Iw[o]=s,s},D2=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mf=function(e){var n=e.white,r=e.grey,i=e.size,o=e.renderers,s=e.borderRadius,a=e.boxShadow,l=e.children,c=Xe({default:{grid:{borderRadius:s,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+vEe(n,r,i,o.canvas)+") center left"}}});return w.isValidElement(l)?$.cloneElement(l,D2({},l.props,{style:D2({},l.props.style,c.grid)})):$.createElement("div",{style:c.grid})};mf.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var _Ee=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bEe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function wEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $2(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function EEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Z1=function(t){EEe(e,t);function e(){var n,r,i,o;wEe(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=$2(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var u=mEe(c,i.props.hsl,i.props.direction,i.props.a,i.container);u&&typeof i.props.onChange=="function"&&i.props.onChange(u,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),$2(i,o)}return bEe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=Xe({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:_Ee({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return $.createElement("div",{style:o.alpha},$.createElement("div",{style:o.checkboard},$.createElement(mf,{renderers:this.props.renderers})),$.createElement("div",{style:o.gradient}),$.createElement("div",{style:o.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},$.createElement("div",{style:o.pointer},this.props.pointer?$.createElement(this.props.pointer,this.props):$.createElement("div",{style:o.slider}))))}}]),e}(w.PureComponent||w.Component),xEe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function SEe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TEe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function IEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var REe=1,LB=38,PEe=40,kEe=[LB,PEe],AEe=function(e){return kEe.indexOf(e)>-1},OEe=function(e){return Number(String(e).replace(/%/g,""))},NEe=1,Pt=function(t){IEe(e,t);function e(n){CEe(this,e);var r=TEe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=OEe(i.target.value);if(!isNaN(o)&&AEe(i.keyCode)){var s=r.getArrowOffset(),a=i.keyCode===LB?o+s:o-s;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+NEe++,r}return xEe(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return SEe({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||REe}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=Xe({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return $.createElement("div",{style:i.wrap},$.createElement("input",{id:this.inputId,style:i.input,ref:function(s){return r.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?$.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(w.PureComponent||w.Component),MEe=function(e,n,r,i){var o=i.clientWidth,s=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(i.getBoundingClientRect().left+window.pageXOffset),u=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var f=void 0;if(u<0)f=359;else if(u>s)f=0;else{var h=-(u*100/s)+100;f=360*h/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var p=void 0;if(c<0)p=0;else if(c>o)p=359;else{var g=c*100/o;p=360*g/100}if(r.h!==p)return{h:p,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},DEe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function $Ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L2(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function LEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var yf=function(t){LEe(e,t);function e(){var n,r,i,o;$Ee(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=L2(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var u=MEe(c,i.props.direction,i.props.hsl,i.container);u&&typeof i.props.onChange=="function"&&i.props.onChange(u,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),L2(i,o)}return DEe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,s=Xe({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return $.createElement("div",{style:s.hue},$.createElement("div",{className:"hue-"+o,style:s.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},$.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),$.createElement("div",{style:s.pointer},this.props.pointer?$.createElement(this.props.pointer,this.props):$.createElement("div",{style:s.slider}))))}}]),e}(w.PureComponent||w.Component);function FEe(){this.__data__=[],this.size=0}function Ig(t,e){return t===e||t!==t&&e!==e}function X_(t,e){for(var n=t.length;n--;)if(Ig(t[n][0],e))return n;return-1}var BEe=Array.prototype,VEe=BEe.splice;function UEe(t){var e=this.__data__,n=X_(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():VEe.call(e,n,1),--this.size,!0}function jEe(t){var e=this.__data__,n=X_(e,t);return n<0?void 0:e[n][1]}function zEe(t){return X_(this.__data__,t)>-1}function WEe(t,e){var n=this.__data__,r=X_(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function ba(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ba.prototype.clear=FEe;ba.prototype.delete=UEe;ba.prototype.get=jEe;ba.prototype.has=zEe;ba.prototype.set=WEe;function HEe(){this.__data__=new ba,this.size=0}function GEe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function KEe(t){return this.__data__.get(t)}function qEe(t){return this.__data__.has(t)}var FB=typeof global=="object"&&global&&global.Object===Object&&global,YEe=typeof self=="object"&&self&&self.Object===Object&&self,es=FB||YEe||Function("return this")(),El=es.Symbol,BB=Object.prototype,XEe=BB.hasOwnProperty,QEe=BB.toString,qf=El?El.toStringTag:void 0;function JEe(t){var e=XEe.call(t,qf),n=t[qf];try{t[qf]=void 0;var r=!0}catch{}var i=QEe.call(t);return r&&(e?t[qf]=n:delete t[qf]),i}var ZEe=Object.prototype,exe=ZEe.toString;function txe(t){return exe.call(t)}var nxe="[object Null]",rxe="[object Undefined]",F2=El?El.toStringTag:void 0;function Fc(t){return t==null?t===void 0?rxe:nxe:F2&&F2 in Object(t)?JEe(t):txe(t)}function So(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ixe="[object AsyncFunction]",oxe="[object Function]",sxe="[object GeneratorFunction]",axe="[object Proxy]";function eI(t){if(!So(t))return!1;var e=Fc(t);return e==oxe||e==sxe||e==ixe||e==axe}var Rw=es["__core-js_shared__"],B2=function(){var t=/[^.]+$/.exec(Rw&&Rw.keys&&Rw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function lxe(t){return!!B2&&B2 in t}var cxe=Function.prototype,uxe=cxe.toString;function Bc(t){if(t!=null){try{return uxe.call(t)}catch{}try{return t+""}catch{}}return""}var dxe=/[\\^$.*+?()[\]{}|]/g,fxe=/^\[object .+?Constructor\]$/,hxe=Function.prototype,pxe=Object.prototype,gxe=hxe.toString,mxe=pxe.hasOwnProperty,yxe=RegExp("^"+gxe.call(mxe).replace(dxe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vxe(t){if(!So(t)||lxe(t))return!1;var e=eI(t)?yxe:fxe;return e.test(Bc(t))}function _xe(t,e){return t==null?void 0:t[e]}function Vc(t,e){var n=_xe(t,e);return vxe(n)?n:void 0}var Pp=Vc(es,"Map"),kp=Vc(Object,"create");function bxe(){this.__data__=kp?kp(null):{},this.size=0}function wxe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Exe="__lodash_hash_undefined__",xxe=Object.prototype,Sxe=xxe.hasOwnProperty;function Cxe(t){var e=this.__data__;if(kp){var n=e[t];return n===Exe?void 0:n}return Sxe.call(e,t)?e[t]:void 0}var Txe=Object.prototype,Ixe=Txe.hasOwnProperty;function Rxe(t){var e=this.__data__;return kp?e[t]!==void 0:Ixe.call(e,t)}var Pxe="__lodash_hash_undefined__";function kxe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=kp&&e===void 0?Pxe:e,this}function Tc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Tc.prototype.clear=bxe;Tc.prototype.delete=wxe;Tc.prototype.get=Cxe;Tc.prototype.has=Rxe;Tc.prototype.set=kxe;function Axe(){this.size=0,this.__data__={hash:new Tc,map:new(Pp||ba),string:new Tc}}function Oxe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Q_(t,e){var n=t.__data__;return Oxe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Nxe(t){var e=Q_(this,t).delete(t);return this.size-=e?1:0,e}function Mxe(t){return Q_(this,t).get(t)}function Dxe(t){return Q_(this,t).has(t)}function $xe(t,e){var n=Q_(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function wa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wa.prototype.clear=Axe;wa.prototype.delete=Nxe;wa.prototype.get=Mxe;wa.prototype.has=Dxe;wa.prototype.set=$xe;var Lxe=200;function Fxe(t,e){var n=this.__data__;if(n instanceof ba){var r=n.__data__;if(!Pp||r.length<Lxe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new wa(r)}return n.set(t,e),this.size=n.size,this}function Ss(t){var e=this.__data__=new ba(t);this.size=e.size}Ss.prototype.clear=HEe;Ss.prototype.delete=GEe;Ss.prototype.get=KEe;Ss.prototype.has=qEe;Ss.prototype.set=Fxe;var Vv=function(){try{var t=Vc(Object,"defineProperty");return t({},"",{}),t}catch{}}();function tI(t,e,n){e=="__proto__"&&Vv?Vv(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Jx(t,e,n){(n!==void 0&&!Ig(t[e],n)||n===void 0&&!(e in t))&&tI(t,e,n)}function Bxe(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[++i];if(n(o[l],l,o)===!1)break}return e}}var VB=Bxe(),UB=typeof Hi=="object"&&Hi&&!Hi.nodeType&&Hi,V2=UB&&typeof Gi=="object"&&Gi&&!Gi.nodeType&&Gi,Vxe=V2&&V2.exports===UB,U2=Vxe?es.Buffer:void 0;U2&&U2.allocUnsafe;function Uxe(t,e){return t.slice()}var Uv=es.Uint8Array;function jxe(t){var e=new t.constructor(t.byteLength);return new Uv(e).set(new Uv(t)),e}function zxe(t,e){var n=jxe(t.buffer);return new t.constructor(n,t.byteOffset,t.length)}function Wxe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var j2=Object.create,Hxe=function(){function t(){}return function(e){if(!So(e))return{};if(j2)return j2(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function jB(t,e){return function(n){return t(e(n))}}var zB=jB(Object.getPrototypeOf,Object),Gxe=Object.prototype;function nI(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Gxe;return t===n}function Kxe(t){return typeof t.constructor=="function"&&!nI(t)?Hxe(zB(t)):{}}function xl(t){return t!=null&&typeof t=="object"}var qxe="[object Arguments]";function z2(t){return xl(t)&&Fc(t)==qxe}var WB=Object.prototype,Yxe=WB.hasOwnProperty,Xxe=WB.propertyIsEnumerable,jv=z2(function(){return arguments}())?z2:function(t){return xl(t)&&Yxe.call(t,"callee")&&!Xxe.call(t,"callee")},Zi=Array.isArray,Qxe=9007199254740991;function rI(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Qxe}function vf(t){return t!=null&&rI(t.length)&&!eI(t)}function Jxe(t){return xl(t)&&vf(t)}function Zxe(){return!1}var HB=typeof Hi=="object"&&Hi&&!Hi.nodeType&&Hi,W2=HB&&typeof Gi=="object"&&Gi&&!Gi.nodeType&&Gi,eSe=W2&&W2.exports===HB,H2=eSe?es.Buffer:void 0,tSe=H2?H2.isBuffer:void 0,zv=tSe||Zxe,nSe="[object Object]",rSe=Function.prototype,iSe=Object.prototype,GB=rSe.toString,oSe=iSe.hasOwnProperty,sSe=GB.call(Object);function aSe(t){if(!xl(t)||Fc(t)!=nSe)return!1;var e=zB(t);if(e===null)return!0;var n=oSe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&GB.call(n)==sSe}var lSe="[object Arguments]",cSe="[object Array]",uSe="[object Boolean]",dSe="[object Date]",fSe="[object Error]",hSe="[object Function]",pSe="[object Map]",gSe="[object Number]",mSe="[object Object]",ySe="[object RegExp]",vSe="[object Set]",_Se="[object String]",bSe="[object WeakMap]",wSe="[object ArrayBuffer]",ESe="[object DataView]",xSe="[object Float32Array]",SSe="[object Float64Array]",CSe="[object Int8Array]",TSe="[object Int16Array]",ISe="[object Int32Array]",RSe="[object Uint8Array]",PSe="[object Uint8ClampedArray]",kSe="[object Uint16Array]",ASe="[object Uint32Array]",fn={};fn[xSe]=fn[SSe]=fn[CSe]=fn[TSe]=fn[ISe]=fn[RSe]=fn[PSe]=fn[kSe]=fn[ASe]=!0;fn[lSe]=fn[cSe]=fn[wSe]=fn[uSe]=fn[ESe]=fn[dSe]=fn[fSe]=fn[hSe]=fn[pSe]=fn[gSe]=fn[mSe]=fn[ySe]=fn[vSe]=fn[_Se]=fn[bSe]=!1;function OSe(t){return xl(t)&&rI(t.length)&&!!fn[Fc(t)]}function NSe(t){return function(e){return t(e)}}var KB=typeof Hi=="object"&&Hi&&!Hi.nodeType&&Hi,Vh=KB&&typeof Gi=="object"&&Gi&&!Gi.nodeType&&Gi,MSe=Vh&&Vh.exports===KB,Pw=MSe&&FB.process,G2=function(){try{var t=Vh&&Vh.require&&Vh.require("util").types;return t||Pw&&Pw.binding&&Pw.binding("util")}catch{}}(),K2=G2&&G2.isTypedArray,iI=K2?NSe(K2):OSe;function Zx(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var DSe=Object.prototype,$Se=DSe.hasOwnProperty;function LSe(t,e,n){var r=t[e];(!($Se.call(t,e)&&Ig(r,n))||n===void 0&&!(e in t))&&tI(t,e,n)}function FSe(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=void 0;l===void 0&&(l=t[a]),i?tI(n,a,l):LSe(n,a,l)}return n}function BSe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var VSe=9007199254740991,USe=/^(?:0|[1-9]\d*)$/;function oI(t,e){var n=typeof t;return e=e??VSe,!!e&&(n=="number"||n!="symbol"&&USe.test(t))&&t>-1&&t%1==0&&t<e}var jSe=Object.prototype,zSe=jSe.hasOwnProperty;function qB(t,e){var n=Zi(t),r=!n&&jv(t),i=!n&&!r&&zv(t),o=!n&&!r&&!i&&iI(t),s=n||r||i||o,a=s?BSe(t.length,String):[],l=a.length;for(var c in t)(e||zSe.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||oI(c,l)))&&a.push(c);return a}function WSe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var HSe=Object.prototype,GSe=HSe.hasOwnProperty;function KSe(t){if(!So(t))return WSe(t);var e=nI(t),n=[];for(var r in t)r=="constructor"&&(e||!GSe.call(t,r))||n.push(r);return n}function YB(t){return vf(t)?qB(t,!0):KSe(t)}function qSe(t){return FSe(t,YB(t))}function YSe(t,e,n,r,i,o,s){var a=Zx(t,n),l=Zx(e,n),c=s.get(l);if(c){Jx(t,n,c);return}var u=o?o(a,l,n+"",t,e,s):void 0,f=u===void 0;if(f){var h=Zi(l),p=!h&&zv(l),g=!h&&!p&&iI(l);u=l,h||p||g?Zi(a)?u=a:Jxe(a)?u=Wxe(a):p?(f=!1,u=Uxe(l)):g?(f=!1,u=zxe(l)):u=[]:aSe(l)||jv(l)?(u=a,jv(a)?u=qSe(a):(!So(a)||eI(a))&&(u=Kxe(l))):f=!1}f&&(s.set(l,u),i(u,l,r,o,s),s.delete(l)),Jx(t,n,u)}function XB(t,e,n,r,i){t!==e&&VB(e,function(o,s){if(i||(i=new Ss),So(o))YSe(t,e,s,n,XB,r,i);else{var a=r?r(Zx(t,s),o,s+"",t,e,i):void 0;a===void 0&&(a=o),Jx(t,s,a)}},YB)}function J_(t){return t}function XSe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var q2=Math.max;function QSe(t,e,n){return e=q2(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=q2(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),XSe(t,this,a)}}function JSe(t){return function(){return t}}var ZSe=Vv?function(t,e){return Vv(t,"toString",{configurable:!0,enumerable:!1,value:JSe(e),writable:!0})}:J_,eCe=800,tCe=16,nCe=Date.now;function rCe(t){var e=0,n=0;return function(){var r=nCe(),i=tCe-(r-n);if(n=r,i>0){if(++e>=eCe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var iCe=rCe(ZSe);function oCe(t,e){return iCe(QSe(t,e,J_),t+"")}function sCe(t,e,n){if(!So(n))return!1;var r=typeof e;return(r=="number"?vf(n)&&oI(e,n.length):r=="string"&&e in n)?Ig(n[e],t):!1}function aCe(t){return oCe(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&sCe(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}var Ti=aCe(function(t,e,n){XB(t,e,n)}),Rg=function(e){var n=e.zDepth,r=e.radius,i=e.background,o=e.children,s=e.styles,a=s===void 0?{}:s,l=Xe(Ti({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return $.createElement("div",{style:l.wrap},$.createElement("div",{style:l.bg}),$.createElement("div",{style:l.content},o))};Rg.propTypes={background:pe.string,zDepth:pe.oneOf([0,1,2,3,4,5]),radius:pe.number,styles:pe.object};Rg.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var kw=function(){return es.Date.now()},lCe=/\s/;function cCe(t){for(var e=t.length;e--&&lCe.test(t.charAt(e)););return e}var uCe=/^\s+/;function dCe(t){return t&&t.slice(0,cCe(t)+1).replace(uCe,"")}var fCe="[object Symbol]";function Z_(t){return typeof t=="symbol"||xl(t)&&Fc(t)==fCe}var Y2=NaN,hCe=/^[-+]0x[0-9a-f]+$/i,pCe=/^0b[01]+$/i,gCe=/^0o[0-7]+$/i,mCe=parseInt;function X2(t){if(typeof t=="number")return t;if(Z_(t))return Y2;if(So(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=So(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=dCe(t);var n=pCe.test(t);return n||gCe.test(t)?mCe(t.slice(2),n?2:8):hCe.test(t)?Y2:+t}var yCe="Expected a function",vCe=Math.max,_Ce=Math.min;function QB(t,e,n){var r,i,o,s,a,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(yCe);e=X2(e)||0,So(n)&&(u=!!n.leading,f="maxWait"in n,o=f?vCe(X2(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(N){var T=r,I=i;return r=i=void 0,c=N,s=t.apply(I,T),s}function g(N){return c=N,a=setTimeout(y,e),u?p(N):s}function E(N){var T=N-l,I=N-c,R=e-T;return f?_Ce(R,o-I):R}function x(N){var T=N-l,I=N-c;return l===void 0||T>=e||T<0||f&&I>=o}function y(){var N=kw();if(x(N))return b(N);a=setTimeout(y,E(N))}function b(N){return a=void 0,h&&r?p(N):(r=i=void 0,s)}function _(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function S(){return a===void 0?s:b(kw())}function O(){var N=kw(),T=x(N);if(r=arguments,i=this,l=N,T){if(a===void 0)return g(l);if(f)return clearTimeout(a),a=setTimeout(y,e),p(l)}return a===void 0&&(a=setTimeout(y,e)),s}return O.cancel=_,O.flush=S,O}var bCe="Expected a function";function wCe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(bCe);return So(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),QB(t,e,{leading:r,maxWait:e,trailing:i})}var ECe=function(e,n,r){var i=r.getBoundingClientRect(),o=i.width,s=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>o&&(c=o),u<0?u=0:u>s&&(u=s);var f=c/o,h=1-u/s;return{h:n.h,s:f,v:h,a:n.a,source:"hsv"}},xCe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function SCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CCe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function TCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var eb=function(t){TCe(e,t);function e(n){SCe(this,e);var r=CCe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,ECe(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=wCe(function(i,o,s){i(o,s)},50),r}return xCe(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,s=i.white,a=i.black,l=i.pointer,c=i.circle,u=Xe({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:s,black:a,pointer:l,circle:c}},{custom:!!this.props.style});return $.createElement("div",{style:u.color,ref:function(h){return r.container=h},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},$.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),$.createElement("div",{style:u.white,className:"saturation-white"},$.createElement("div",{style:u.black,className:"saturation-black"}),$.createElement("div",{style:u.pointer},this.props.pointer?$.createElement(this.props.pointer,this.props):$.createElement("div",{style:u.circle}))))}}]),e}(w.PureComponent||w.Component);function ICe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var RCe=jB(Object.keys,Object),PCe=Object.prototype,kCe=PCe.hasOwnProperty;function ACe(t){if(!nI(t))return RCe(t);var e=[];for(var n in Object(t))kCe.call(t,n)&&n!="constructor"&&e.push(n);return e}function sI(t){return vf(t)?qB(t):ACe(t)}function OCe(t,e){return t&&VB(t,e,sI)}function NCe(t,e){return function(n,r){if(n==null)return n;if(!vf(n))return t(n,r);for(var i=n.length,o=-1,s=Object(n);++o<i&&r(s[o],o,s)!==!1;);return n}}var JB=NCe(OCe);function MCe(t){return typeof t=="function"?t:J_}function DCe(t,e){var n=Zi(t)?ICe:JB;return n(t,MCe(e))}function Wv(t){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wv(t)}var $Ce=/^\s+/,LCe=/\s+$/;function Ne(t,e){if(t=t||"",e=e||{},t instanceof Ne)return t;if(!(this instanceof Ne))return new Ne(t,e);var n=FCe(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Ne.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,o,s,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*s+.0722*a},setAlpha:function(e){return this._a=ZB(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=J2(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=J2(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=Q2(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Q2(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return Z2(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return jCe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(bn(this._r,255)*100)+"%",g:Math.round(bn(this._g,255)*100)+"%",b:Math.round(bn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(bn(this._r,255)*100)+"%, "+Math.round(bn(this._g,255)*100)+"%, "+Math.round(bn(this._b,255)*100)+"%)":"rgba("+Math.round(bn(this._r,255)*100)+"%, "+Math.round(bn(this._g,255)*100)+"%, "+Math.round(bn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:eTe[Z2(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+eN(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var o=Ne(e);r="#"+eN(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Ne(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(GCe,arguments)},brighten:function(){return this._applyModification(KCe,arguments)},darken:function(){return this._applyModification(qCe,arguments)},desaturate:function(){return this._applyModification(zCe,arguments)},saturate:function(){return this._applyModification(WCe,arguments)},greyscale:function(){return this._applyModification(HCe,arguments)},spin:function(){return this._applyModification(YCe,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(JCe,arguments)},complement:function(){return this._applyCombination(XCe,arguments)},monochromatic:function(){return this._applyCombination(ZCe,arguments)},splitcomplement:function(){return this._applyCombination(QCe,arguments)},triad:function(){return this._applyCombination(tN,[3])},tetrad:function(){return this._applyCombination(tN,[4])}};Ne.fromRatio=function(t,e){if(Wv(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=uh(t[r]));t=n}return Ne(t,e)};function FCe(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=iTe(t)),Wv(t)=="object"&&(Vs(t.r)&&Vs(t.g)&&Vs(t.b)?(e=BCe(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Vs(t.h)&&Vs(t.s)&&Vs(t.v)?(r=uh(t.s),i=uh(t.v),e=UCe(t.h,r,i),s=!0,a="hsv"):Vs(t.h)&&Vs(t.s)&&Vs(t.l)&&(r=uh(t.s),o=uh(t.l),e=VCe(t.h,r,o),s=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=ZB(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function BCe(t,e,n){return{r:bn(t,255)*255,g:bn(e,255)*255,b:bn(n,255)*255}}function Q2(t,e,n){t=bn(t,255),e=bn(e,255),n=bn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=(r+i)/2;if(r==i)o=s=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,l:a}}function VCe(t,e,n){var r,i,o;t=bn(t,360),e=bn(e,100),n=bn(n,100);function s(c,u,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?c+(u-c)*6*f:f<1/2?u:f<2/3?c+(u-c)*(2/3-f)*6:c}if(e===0)r=i=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=s(l,a,t+1/3),i=s(l,a,t),o=s(l,a,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function J2(t,e,n){t=bn(t,255),e=bn(e,255),n=bn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=r,l=r-i;if(s=r===0?0:l/r,r==i)o=0;else{switch(r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,v:a}}function UCe(t,e,n){t=bn(t,360)*6,e=bn(e,100),n=bn(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,c=[n,s,o,o,a,n][l],u=[a,n,n,s,o,o][l],f=[o,o,a,n,n,s][l];return{r:c*255,g:u*255,b:f*255}}function Z2(t,e,n,r){var i=[zo(Math.round(t).toString(16)),zo(Math.round(e).toString(16)),zo(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function jCe(t,e,n,r,i){var o=[zo(Math.round(t).toString(16)),zo(Math.round(e).toString(16)),zo(Math.round(n).toString(16)),zo(eV(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function eN(t,e,n,r){var i=[zo(eV(r)),zo(Math.round(t).toString(16)),zo(Math.round(e).toString(16)),zo(Math.round(n).toString(16))];return i.join("")}Ne.equals=function(t,e){return!t||!e?!1:Ne(t).toRgbString()==Ne(e).toRgbString()};Ne.random=function(){return Ne.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function zCe(t,e){e=e===0?0:e||10;var n=Ne(t).toHsl();return n.s-=e/100,n.s=tb(n.s),Ne(n)}function WCe(t,e){e=e===0?0:e||10;var n=Ne(t).toHsl();return n.s+=e/100,n.s=tb(n.s),Ne(n)}function HCe(t){return Ne(t).desaturate(100)}function GCe(t,e){e=e===0?0:e||10;var n=Ne(t).toHsl();return n.l+=e/100,n.l=tb(n.l),Ne(n)}function KCe(t,e){e=e===0?0:e||10;var n=Ne(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Ne(n)}function qCe(t,e){e=e===0?0:e||10;var n=Ne(t).toHsl();return n.l-=e/100,n.l=tb(n.l),Ne(n)}function YCe(t,e){var n=Ne(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Ne(n)}function XCe(t){var e=Ne(t).toHsl();return e.h=(e.h+180)%360,Ne(e)}function tN(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Ne(t).toHsl(),r=[Ne(t)],i=360/e,o=1;o<e;o++)r.push(Ne({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function QCe(t){var e=Ne(t).toHsl(),n=e.h;return[Ne(t),Ne({h:(n+72)%360,s:e.s,l:e.l}),Ne({h:(n+216)%360,s:e.s,l:e.l})]}function JCe(t,e,n){e=e||6,n=n||30;var r=Ne(t).toHsl(),i=360/n,o=[Ne(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(Ne(r));return o}function ZCe(t,e){e=e||6;for(var n=Ne(t).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;e--;)s.push(Ne({h:r,s:i,v:o})),o=(o+a)%1;return s}Ne.mix=function(t,e,n){n=n===0?0:n||50;var r=Ne(t).toRgb(),i=Ne(e).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return Ne(s)};Ne.readability=function(t,e){var n=Ne(t),r=Ne(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Ne.isReadable=function(t,e,n){var r=Ne.readability(t,e),i,o;switch(o=!1,i=oTe(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};Ne.mostReadable=function(t,e,n){var r=null,i=0,o,s,a,l;n=n||{},s=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<e.length;c++)o=Ne.readability(t,e[c]),o>i&&(i=o,r=Ne(e[c]));return Ne.isReadable(t,r,{level:a,size:l})||!s?r:(n.includeFallbackColors=!1,Ne.mostReadable(t,["#fff","#000"],n))};var eS=Ne.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},eTe=Ne.hexNames=tTe(eS);function tTe(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function ZB(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function bn(t,e){nTe(t)&&(t="100%");var n=rTe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function tb(t){return Math.min(1,Math.max(0,t))}function Mi(t){return parseInt(t,16)}function nTe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function rTe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function zo(t){return t.length==1?"0"+t:""+t}function uh(t){return t<=1&&(t=t*100+"%"),t}function eV(t){return Math.round(parseFloat(t)*255).toString(16)}function nN(t){return Mi(t)/255}var Do=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Vs(t){return!!Do.CSS_UNIT.exec(t)}function iTe(t){t=t.replace($Ce,"").replace(LCe,"").toLowerCase();var e=!1;if(eS[t])t=eS[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Do.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Do.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Do.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Do.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Do.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Do.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Do.hex8.exec(t))?{r:Mi(n[1]),g:Mi(n[2]),b:Mi(n[3]),a:nN(n[4]),format:e?"name":"hex8"}:(n=Do.hex6.exec(t))?{r:Mi(n[1]),g:Mi(n[2]),b:Mi(n[3]),format:e?"name":"hex"}:(n=Do.hex4.exec(t))?{r:Mi(n[1]+""+n[1]),g:Mi(n[2]+""+n[2]),b:Mi(n[3]+""+n[3]),a:nN(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Do.hex3.exec(t))?{r:Mi(n[1]+""+n[1]),g:Mi(n[2]+""+n[2]),b:Mi(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function oTe(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var rN=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return DCe(n,function(o){if(e[o]&&(r+=1,isNaN(e[o])||(i+=1),o==="s"||o==="l")){var s=/^\d+%$/;s.test(e[o])&&(i+=1)}}),r===i?e:!1},dh=function(e,n){var r=e.hex?Ne(e.hex):Ne(e),i=r.toHsl(),o=r.toHsv(),s=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,o.h=n||0);var l=a==="000000"&&s.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:s,hsv:o,oldHue:e.h||n||i.h,source:e.source}},Ml=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&Ne(e).isValid()},aI=function(e){if(!e)return"#fff";var n=dh(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},Aw=function(e,n){var r=e.replace("°","");return Ne(n+" ("+r+")")._ok},Yf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sTe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function aTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lTe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function cTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ii=function(e){var n=function(r){cTe(i,r);function i(o){aTe(this,i);var s=lTe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return s.handleChange=function(a,l){var c=rN(a);if(c){var u=dh(a,a.h||s.state.oldHue);s.setState(u),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,u,l),s.props.onChange&&s.props.onChange(u,l)}},s.handleSwatchHover=function(a,l){var c=rN(a);if(c){var u=dh(a,a.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(u,l)}},s.state=Yf({},dh(o.color,0)),s.debounce=QB(function(a,l,c){a(l,c)},100),s}return sTe(i,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),$.createElement(e,Yf({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return Yf({},dh(s.color,a.oldHue))}}]),i}(w.PureComponent||w.Component);return n.propTypes=Yf({},e.propTypes),n.defaultProps=Yf({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},uTe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dTe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function fTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iN(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function hTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var pTe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){hTe(i,r);function i(){var o,s,a,l;fTe(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(s=(a=iN(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(u))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},s),iN(a,l)}return dTe(i,[{key:"render",value:function(){return $.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},$.createElement(e,uTe({},this.props,this.state)))}}]),i}($.Component)},oN=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gTe=13,mTe=function(e){var n=e.color,r=e.style,i=e.onClick,o=i===void 0?function(){}:i,s=e.onHover,a=e.title,l=a===void 0?n:a,c=e.children,u=e.focus,f=e.focusStyle,h=f===void 0?{}:f,p=n==="transparent",g=Xe({default:{swatch:oN({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,u?h:{})}}),E=function(S){return o(n,S)},x=function(S){return S.keyCode===gTe&&o(n,S)},y=function(S){return s(n,S)},b={};return s&&(b.onMouseOver=y),$.createElement("div",oN({style:g.swatch,onClick:E,title:l,tabIndex:0,onKeyDown:x},b),c,p&&$.createElement(mf,{borderRadius:g.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Uc=pTe(mTe);var yTe=function(e){var n=e.direction,r=Xe({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return $.createElement("div",{style:r.picker})},vTe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tV=function(e){var n=e.rgb,r=e.hsl,i=e.width,o=e.height,s=e.onChange,a=e.direction,l=e.style,c=e.renderers,u=e.pointer,f=e.className,h=f===void 0?"":f,p=Xe({default:{picker:{position:"relative",width:i,height:o},alpha:{radius:"2px",style:l}}});return $.createElement("div",{style:p.picker,className:"alpha-picker "+h},$.createElement(Z1,vTe({},p.alpha,{rgb:n,hsl:r,pointer:u,renderers:c,onChange:s,direction:a})))};tV.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:yTe};Ii(tV);function nV(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var _Te="__lodash_hash_undefined__";function bTe(t){return this.__data__.set(t,_Te),this}function wTe(t){return this.__data__.has(t)}function Hv(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new wa;++e<n;)this.add(t[e])}Hv.prototype.add=Hv.prototype.push=bTe;Hv.prototype.has=wTe;function ETe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function xTe(t,e){return t.has(e)}var STe=1,CTe=2;function rV(t,e,n,r,i,o){var s=n&STe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=n&CTe?new Hv:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var g=t[f],E=e[f];if(r)var x=s?r(E,g,f,e,t,o):r(g,E,f,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!ETe(e,function(y,b){if(!xTe(p,b)&&(g===y||i(g,y,n,r,o)))return p.push(b)})){h=!1;break}}else if(!(g===E||i(g,E,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}function TTe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function ITe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var RTe=1,PTe=2,kTe="[object Boolean]",ATe="[object Date]",OTe="[object Error]",NTe="[object Map]",MTe="[object Number]",DTe="[object RegExp]",$Te="[object Set]",LTe="[object String]",FTe="[object Symbol]",BTe="[object ArrayBuffer]",VTe="[object DataView]",sN=El?El.prototype:void 0,Ow=sN?sN.valueOf:void 0;function UTe(t,e,n,r,i,o,s){switch(n){case VTe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case BTe:return!(t.byteLength!=e.byteLength||!o(new Uv(t),new Uv(e)));case kTe:case ATe:case MTe:return Ig(+t,+e);case OTe:return t.name==e.name&&t.message==e.message;case DTe:case LTe:return t==e+"";case NTe:var a=TTe;case $Te:var l=r&RTe;if(a||(a=ITe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=PTe,s.set(t,e);var u=rV(a(t),a(e),r,i,o,s);return s.delete(t),u;case FTe:if(Ow)return Ow.call(t)==Ow.call(e)}return!1}function jTe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function zTe(t,e,n){var r=e(t);return Zi(t)?r:jTe(r,n(t))}function WTe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function HTe(){return[]}var GTe=Object.prototype,KTe=GTe.propertyIsEnumerable,aN=Object.getOwnPropertySymbols,qTe=aN?function(t){return t==null?[]:(t=Object(t),WTe(aN(t),function(e){return KTe.call(t,e)}))}:HTe;function lN(t){return zTe(t,sI,qTe)}var YTe=1,XTe=Object.prototype,QTe=XTe.hasOwnProperty;function JTe(t,e,n,r,i,o){var s=n&YTe,a=lN(t),l=a.length,c=lN(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:QTe.call(e,h)))return!1}var p=o.get(t),g=o.get(e);if(p&&g)return p==e&&g==t;var E=!0;o.set(t,e),o.set(e,t);for(var x=s;++f<l;){h=a[f];var y=t[h],b=e[h];if(r)var _=s?r(b,y,h,e,t,o):r(y,b,h,t,e,o);if(!(_===void 0?y===b||i(y,b,n,r,o):_)){E=!1;break}x||(x=h=="constructor")}if(E&&!x){var S=t.constructor,O=e.constructor;S!=O&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof O=="function"&&O instanceof O)&&(E=!1)}return o.delete(t),o.delete(e),E}var tS=Vc(es,"DataView"),nS=Vc(es,"Promise"),rS=Vc(es,"Set"),iS=Vc(es,"WeakMap"),cN="[object Map]",ZTe="[object Object]",uN="[object Promise]",dN="[object Set]",fN="[object WeakMap]",hN="[object DataView]",e1e=Bc(tS),t1e=Bc(Pp),n1e=Bc(nS),r1e=Bc(rS),i1e=Bc(iS),Na=Fc;(tS&&Na(new tS(new ArrayBuffer(1)))!=hN||Pp&&Na(new Pp)!=cN||nS&&Na(nS.resolve())!=uN||rS&&Na(new rS)!=dN||iS&&Na(new iS)!=fN)&&(Na=function(t){var e=Fc(t),n=e==ZTe?t.constructor:void 0,r=n?Bc(n):"";if(r)switch(r){case e1e:return hN;case t1e:return cN;case n1e:return uN;case r1e:return dN;case i1e:return fN}return e});var o1e=1,pN="[object Arguments]",gN="[object Array]",Om="[object Object]",s1e=Object.prototype,mN=s1e.hasOwnProperty;function a1e(t,e,n,r,i,o){var s=Zi(t),a=Zi(e),l=s?gN:Na(t),c=a?gN:Na(e);l=l==pN?Om:l,c=c==pN?Om:c;var u=l==Om,f=c==Om,h=l==c;if(h&&zv(t)){if(!zv(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new Ss),s||iI(t)?rV(t,e,n,r,i,o):UTe(t,e,l,n,r,i,o);if(!(n&o1e)){var p=u&&mN.call(t,"__wrapped__"),g=f&&mN.call(e,"__wrapped__");if(p||g){var E=p?t.value():t,x=g?e.value():e;return o||(o=new Ss),i(E,x,n,r,o)}}return h?(o||(o=new Ss),JTe(t,e,n,r,i,o)):!1}function lI(t,e,n,r,i){return t===e?!0:t==null||e==null||!xl(t)&&!xl(e)?t!==t&&e!==e:a1e(t,e,n,r,lI,i)}var l1e=1,c1e=2;function u1e(t,e,n,r){var i=n.length,o=i;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var a=s[0],l=t[a],c=s[1];if(s[2]){if(l===void 0&&!(a in t))return!1}else{var u=new Ss,f;if(!(f===void 0?lI(c,l,l1e|c1e,r,u):f))return!1}}return!0}function iV(t){return t===t&&!So(t)}function d1e(t){for(var e=sI(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,iV(i)]}return e}function oV(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function f1e(t){var e=d1e(t);return e.length==1&&e[0][2]?oV(e[0][0],e[0][1]):function(n){return n===t||u1e(n,t,e)}}var h1e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p1e=/^\w*$/;function cI(t,e){if(Zi(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Z_(t)?!0:p1e.test(t)||!h1e.test(t)||e!=null&&t in Object(e)}var g1e="Expected a function";function uI(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(g1e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(uI.Cache||wa),n}uI.Cache=wa;var m1e=500;function y1e(t){var e=uI(t,function(r){return n.size===m1e&&n.clear(),r}),n=e.cache;return e}var v1e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_1e=/\\(\\)?/g,b1e=y1e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(v1e,function(n,r,i,o){e.push(i?o.replace(_1e,"$1"):r||n)}),e}),yN=El?El.prototype:void 0,vN=yN?yN.toString:void 0;function sV(t){if(typeof t=="string")return t;if(Zi(t))return nV(t,sV)+"";if(Z_(t))return vN?vN.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function w1e(t){return t==null?"":sV(t)}function aV(t,e){return Zi(t)?t:cI(t,e)?[t]:b1e(w1e(t))}function nb(t){if(typeof t=="string"||Z_(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function lV(t,e){e=aV(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[nb(e[n++])];return n&&n==r?t:void 0}function E1e(t,e,n){var r=t==null?void 0:lV(t,e);return r===void 0?n:r}function x1e(t,e){return t!=null&&e in Object(t)}function S1e(t,e,n){e=aV(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=nb(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&rI(i)&&oI(s,i)&&(Zi(t)||jv(t)))}function C1e(t,e){return t!=null&&S1e(t,e,x1e)}var T1e=1,I1e=2;function R1e(t,e){return cI(t)&&iV(e)?oV(nb(t),e):function(n){var r=E1e(n,t);return r===void 0&&r===e?C1e(n,t):lI(e,r,T1e|I1e)}}function P1e(t){return function(e){return e==null?void 0:e[t]}}function k1e(t){return function(e){return lV(e,t)}}function A1e(t){return cI(t)?P1e(nb(t)):k1e(t)}function O1e(t){return typeof t=="function"?t:t==null?J_:typeof t=="object"?Zi(t)?R1e(t[0],t[1]):f1e(t):A1e(t)}function N1e(t,e){var n=-1,r=vf(t)?Array(t.length):[];return JB(t,function(i,o,s){r[++n]=e(i,o,s)}),r}function jc(t,e){var n=Zi(t)?nV:N1e;return n(t,O1e(e))}var M1e=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,o=Xe({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return $.createElement("div",{style:o.swatches},jc(n,function(s){return $.createElement(Uc,{key:s,color:s,style:o.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+s}})}),$.createElement("div",{style:o.clear}))},dI=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,h=i==="transparent",p=function(x,y){Ml(x)&&n({hex:x,source:"hex"},y)},g=Xe(Ti({default:{card:{width:s,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:aI(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":a==="hide"});return $.createElement("div",{style:g.card,className:"block-picker "+f},$.createElement("div",{style:g.triangle}),$.createElement("div",{style:g.head},h&&$.createElement(mf,{borderRadius:"6px 6px 0 0"}),$.createElement("div",{style:g.label},i)),$.createElement("div",{style:g.body},$.createElement(M1e,{colors:o,onClick:p,onSwatchHover:r}),$.createElement(Pt,{style:{input:g.input},value:i,onChange:p})))};dI.propTypes={width:pe.oneOfType([pe.string,pe.number]),colors:pe.arrayOf(pe.string),triangle:pe.oneOf(["top","hide"]),styles:pe.object};dI.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Ii(dI);var yu={100:"#ffcdd2",300:"#e57373",500:"#f44336",700:"#d32f2f",900:"#b71c1c"},vu={100:"#f8bbd0",300:"#f06292",500:"#e91e63",700:"#c2185b",900:"#880e4f"},_u={100:"#e1bee7",300:"#ba68c8",500:"#9c27b0",700:"#7b1fa2",900:"#4a148c"},bu={100:"#d1c4e9",300:"#9575cd",500:"#673ab7",700:"#512da8",900:"#311b92"},wu={100:"#c5cae9",300:"#7986cb",500:"#3f51b5",700:"#303f9f",900:"#1a237e"},Eu={100:"#bbdefb",300:"#64b5f6",500:"#2196f3",700:"#1976d2",900:"#0d47a1"},xu={100:"#b3e5fc",300:"#4fc3f7",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Su={100:"#b2ebf2",300:"#4dd0e1",500:"#00bcd4",700:"#0097a7",900:"#006064"},Cu={100:"#b2dfdb",300:"#4db6ac",500:"#009688",700:"#00796b",900:"#004d40"},fh={100:"#c8e6c9",300:"#81c784",500:"#4caf50",700:"#388e3c"},Tu={100:"#dcedc8",300:"#aed581",500:"#8bc34a",700:"#689f38",900:"#33691e"},Iu={100:"#f0f4c3",300:"#dce775",500:"#cddc39",700:"#afb42b",900:"#827717"},Ru={100:"#fff9c4",300:"#fff176",500:"#ffeb3b",700:"#fbc02d",900:"#f57f17"},Pu={100:"#ffecb3",300:"#ffd54f",500:"#ffc107",700:"#ffa000",900:"#ff6f00"},ku={100:"#ffe0b2",300:"#ffb74d",500:"#ff9800",700:"#f57c00",900:"#e65100"},Au={100:"#ffccbc",300:"#ff8a65",500:"#ff5722",700:"#e64a19",900:"#bf360c"},Ou={100:"#d7ccc8",300:"#a1887f",500:"#795548",700:"#5d4037",900:"#3e2723"},Nu={100:"#cfd8dc",300:"#90a4ae",500:"#607d8b",700:"#455a64",900:"#263238"},cV=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,o=e.hover,s=e.active,a=e.circleSize,l=e.circleSpacing,c=Xe({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:o,active:s});return $.createElement("div",{style:c.swatch},$.createElement(Uc,{style:c.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+n}}))};cV.defaultProps={circleSize:28,circleSpacing:14};const D1e=J1(cV);var fI=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,o=e.colors,s=e.hex,a=e.circleSize,l=e.styles,c=l===void 0?{}:l,u=e.circleSpacing,f=e.className,h=f===void 0?"":f,p=Xe(Ti({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},c)),g=function(x,y){return r({hex:x,source:"hex"},y)};return $.createElement("div",{style:p.card,className:"circle-picker "+h},jc(o,function(E){return $.createElement(D1e,{key:E,color:E,onClick:g,onSwatchHover:i,active:s===E.toLowerCase(),circleSize:a,circleSpacing:u})}))};fI.propTypes={width:pe.oneOfType([pe.string,pe.number]),circleSize:pe.number,circleSpacing:pe.number,styles:pe.object};fI.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[yu[500],vu[500],_u[500],bu[500],wu[500],Eu[500],xu[500],Su[500],Cu[500],fh[500],Tu[500],Iu[500],Ru[500],Pu[500],ku[500],Au[500],Ou[500],Nu[500]],styles:{}};Ii(fI);function _N(t){return t===void 0}var uV={};Object.defineProperty(uV,"__esModule",{value:!0});var bN=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$1e=w,wN=L1e($1e);function L1e(t){return t&&t.__esModule?t:{default:t}}function F1e(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var Nm=24,B1e=uV.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?Nm:r,o=t.height,s=o===void 0?Nm:o,a=t.style,l=a===void 0?{}:a,c=F1e(t,["fill","width","height","style"]);return wN.default.createElement("svg",bN({viewBox:"0 0 "+Nm+" "+Nm,style:bN({fill:n,width:i,height:s},l)},c),wN.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},V1e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function U1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j1e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function z1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var dV=function(t){z1e(e,t);function e(n){U1e(this,e);var r=j1e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?Ml(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(_N(i.s)?r.props.hsl.s:i.s),l:Number(_N(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return V1e(e,[{key:"render",value:function(){var r=this,i=Xe({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=$.createElement("div",{style:i.fields,className:"flexbox-fix"},$.createElement("div",{style:i.field},$.createElement(Pt,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=$.createElement("div",{style:i.fields,className:"flexbox-fix"},$.createElement("div",{style:i.field},$.createElement(Pt,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),$.createElement("div",{style:i.field},$.createElement(Pt,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),$.createElement("div",{style:i.field},$.createElement(Pt,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),$.createElement("div",{style:i.alpha},$.createElement(Pt,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=$.createElement("div",{style:i.fields,className:"flexbox-fix"},$.createElement("div",{style:i.field},$.createElement(Pt,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),$.createElement("div",{style:i.field},$.createElement(Pt,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),$.createElement("div",{style:i.field},$.createElement(Pt,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),$.createElement("div",{style:i.alpha},$.createElement(Pt,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),$.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,$.createElement("div",{style:i.toggle},$.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},$.createElement(B1e,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}($.Component);dV.defaultProps={view:"hex"};var EN=function(){var e=Xe({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return $.createElement("div",{style:e.picker})},W1e=function(){var e=Xe({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return $.createElement("div",{style:e.picker})},hI=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,o=e.rgb,s=e.hsl,a=e.hsv,l=e.hex,c=e.renderers,u=e.styles,f=u===void 0?{}:u,h=e.className,p=h===void 0?"":h,g=e.defaultView,E=Xe(Ti({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},f),{disableAlpha:i});return $.createElement("div",{style:E.picker,className:"chrome-picker "+p},$.createElement("div",{style:E.saturation},$.createElement(eb,{style:E.Saturation,hsl:s,hsv:a,pointer:W1e,onChange:r})),$.createElement("div",{style:E.body},$.createElement("div",{style:E.controls,className:"flexbox-fix"},$.createElement("div",{style:E.color},$.createElement("div",{style:E.swatch},$.createElement("div",{style:E.active}),$.createElement(mf,{renderers:c}))),$.createElement("div",{style:E.toggles},$.createElement("div",{style:E.hue},$.createElement(yf,{style:E.Hue,hsl:s,pointer:EN,onChange:r})),$.createElement("div",{style:E.alpha},$.createElement(Z1,{style:E.Alpha,rgb:o,hsl:s,pointer:EN,renderers:c,onChange:r})))),$.createElement(dV,{rgb:o,hsl:s,hex:l,view:g,onChange:r,disableAlpha:i})))};hI.propTypes={width:pe.oneOfType([pe.string,pe.number]),disableAlpha:pe.bool,styles:pe.object,defaultView:pe.oneOf(["hex","rgb","hsl"])};hI.defaultProps={width:225,disableAlpha:!1,styles:{}};Ii(hI);var H1e=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.active,a=Xe({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:aI(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:s,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return $.createElement(Uc,{style:a.color,color:n,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},$.createElement("div",{style:a.dot}))},G1e=function(e){var n=e.hex,r=e.rgb,i=e.onChange,o=Xe({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),s=function(l,c){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},c):i({hex:l.hex,source:"hex"},c)};return $.createElement("div",{style:o.fields,className:"flexbox-fix"},$.createElement("div",{style:o.active}),$.createElement(Pt,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:n,onChange:s}),$.createElement(Pt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:s}),$.createElement(Pt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:s}),$.createElement(Pt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:s}))},pI=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,o=e.hex,s=e.rgb,a=e.styles,l=a===void 0?{}:a,c=e.className,u=c===void 0?"":c,f=Xe(Ti({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),h=function(g,E){g.hex?Ml(g.hex)&&n({hex:g.hex,source:"hex"},E):n(g,E)};return $.createElement(Rg,{style:f.Compact,styles:l},$.createElement("div",{style:f.compact,className:"compact-picker "+u},$.createElement("div",null,jc(i,function(p){return $.createElement(H1e,{key:p,color:p,active:p.toLowerCase()===o,onClick:h,onSwatchHover:r})}),$.createElement("div",{style:f.clear})),$.createElement(G1e,{hex:o,rgb:s,onChange:h})))};pI.propTypes={colors:pe.arrayOf(pe.string),styles:pe.object};pI.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Ii(pI);var K1e=function(e){var n=e.hover,r=e.color,i=e.onClick,o=e.onSwatchHover,s={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=Xe({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:s}},{hover:n});return $.createElement("div",{style:a.swatch},$.createElement(Uc,{color:r,onClick:i,onHover:o,focusStyle:s}))};const q1e=J1(K1e);var gI=function(e){var n=e.width,r=e.colors,i=e.onChange,o=e.onSwatchHover,s=e.triangle,a=e.styles,l=a===void 0?{}:a,c=e.className,u=c===void 0?"":c,f=Xe(Ti({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right","bottom-left-triangle":s==="bottom-left","bottom-right-triangle":s==="bottom-right"}),h=function(g,E){return i({hex:g,source:"hex"},E)};return $.createElement("div",{style:f.card,className:"github-picker "+u},$.createElement("div",{style:f.triangleShadow}),$.createElement("div",{style:f.triangle}),jc(r,function(p){return $.createElement(q1e,{color:p,key:p,onClick:h,onSwatchHover:o})}))};gI.propTypes={width:pe.oneOfType([pe.string,pe.number]),colors:pe.arrayOf(pe.string),triangle:pe.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:pe.object};gI.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Ii(gI);var Y1e=function(e){var n=e.direction,r=Xe({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return $.createElement("div",{style:r.picker})},X1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mI=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.hsl,s=e.direction,a=e.pointer,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,h=Xe(Ti({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},c)),p=function(E){return i({a:1,h:E.h,l:.5,s:1})};return $.createElement("div",{style:h.picker,className:"hue-picker "+f},$.createElement(yf,X1e({},h.hue,{hsl:o,pointer:a,onChange:p,direction:s})))};mI.propTypes={styles:pe.object};mI.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Y1e,styles:{}};Ii(mI);var Q1e=function(e){var n=e.onChange,r=e.hex,i=e.rgb,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,c=Xe(Ti({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},s)),u=function(h,p){h.hex?Ml(h.hex)&&n({hex:h.hex,source:"hex"},p):(h.r||h.g||h.b)&&n({r:h.r||i.r,g:h.g||i.g,b:h.b||i.b,source:"rgb"},p)};return $.createElement(Rg,{styles:s},$.createElement("div",{style:c.material,className:"material-picker "+l},$.createElement(Pt,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:r,onChange:u}),$.createElement("div",{style:c.split,className:"flexbox-fix"},$.createElement("div",{style:c.third},$.createElement(Pt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:i.r,onChange:u})),$.createElement("div",{style:c.third},$.createElement(Pt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:i.g,onChange:u})),$.createElement("div",{style:c.third},$.createElement(Pt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:i.b,onChange:u})))))};Ii(Q1e);var J1e=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,o=e.hex,s=Xe({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(c,u){c["#"]?Ml(c["#"])&&n({hex:c["#"],source:"hex"},u):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},u):(c.h||c.s||c.v)&&n({h:c.h||i.h,s:c.s||i.s,v:c.v||i.v,source:"hsv"},u)};return $.createElement("div",{style:s.fields},$.createElement(Pt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),$.createElement(Pt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),$.createElement(Pt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),$.createElement("div",{style:s.divider}),$.createElement(Pt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:a}),$.createElement(Pt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:a}),$.createElement(Pt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:a}),$.createElement("div",{style:s.divider}),$.createElement(Pt,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"#",value:o.replace("#",""),onChange:a}),$.createElement("div",{style:s.fieldSymbols},$.createElement("div",{style:s.symbol},"°"),$.createElement("div",{style:s.symbol},"%"),$.createElement("div",{style:s.symbol},"%")))},Z1e=function(e){var n=e.hsl,r=Xe({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return $.createElement("div",{style:r.picker})},eIe=function(){var e=Xe({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return $.createElement("div",{style:e.pointer},$.createElement("div",{style:e.left},$.createElement("div",{style:e.leftInside})),$.createElement("div",{style:e.right},$.createElement("div",{style:e.rightInside})))},xN=function(e){var n=e.onClick,r=e.label,i=e.children,o=e.active,s=Xe({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return $.createElement("div",{style:s.button,onClick:n},r||i)},tIe=function(e){var n=e.rgb,r=e.currentColor,i=Xe({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return $.createElement("div",null,$.createElement("div",{style:i.label},"new"),$.createElement("div",{style:i.swatches},$.createElement("div",{style:i.new}),$.createElement("div",{style:i.current})),$.createElement("div",{style:i.label},"current"))},nIe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function rIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iIe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function oIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var yI=function(t){oIe(e,t);function e(n){rIe(this,e);var r=iIe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return nIe(e,[{key:"render",value:function(){var r=this.props,i=r.styles,o=i===void 0?{}:i,s=r.className,a=s===void 0?"":s,l=Xe(Ti({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},o));return $.createElement("div",{style:l.picker,className:"photoshop-picker "+a},$.createElement("div",{style:l.head},this.props.header),$.createElement("div",{style:l.body,className:"flexbox-fix"},$.createElement("div",{style:l.saturation},$.createElement(eb,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Z1e,onChange:this.props.onChange})),$.createElement("div",{style:l.hue},$.createElement(yf,{direction:"vertical",hsl:this.props.hsl,pointer:eIe,onChange:this.props.onChange})),$.createElement("div",{style:l.controls},$.createElement("div",{style:l.top,className:"flexbox-fix"},$.createElement("div",{style:l.previews},$.createElement(tIe,{rgb:this.props.rgb,currentColor:this.state.currentColor})),$.createElement("div",{style:l.actions},$.createElement(xN,{label:"OK",onClick:this.props.onAccept,active:!0}),$.createElement(xN,{label:"Cancel",onClick:this.props.onCancel}),$.createElement(J1e,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}($.Component);yI.propTypes={header:pe.string,styles:pe.object};yI.defaultProps={header:"Color Picker",styles:{}};Ii(yI);var sIe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.disableAlpha,a=Xe({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:s}),l=function(u,f){u.hex?Ml(u.hex)&&n({hex:u.hex,source:"hex"},f):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,a:r.a,source:"rgb"},f):u.a&&(u.a<0?u.a=0:u.a>100&&(u.a=100),u.a/=100,n({h:i.h,s:i.s,l:i.l,a:u.a,source:"rgb"},f))};return $.createElement("div",{style:a.fields,className:"flexbox-fix"},$.createElement("div",{style:a.double},$.createElement(Pt,{style:{input:a.input,label:a.label},label:"hex",value:o.replace("#",""),onChange:l})),$.createElement("div",{style:a.single},$.createElement(Pt,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),$.createElement("div",{style:a.single},$.createElement(Pt,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),$.createElement("div",{style:a.single},$.createElement(Pt,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),$.createElement("div",{style:a.alpha},$.createElement(Pt,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},aIe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fV=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=Xe({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(c,u){i({hex:c,source:"hex"},u)};return $.createElement("div",{style:s.colors,className:"flexbox-fix"},n.map(function(l){var c=typeof l=="string"?{color:l}:l,u=""+c.color+(c.title||"");return $.createElement("div",{key:u,style:s.swatchWrap},$.createElement(Uc,aIe({},c,{style:s.swatch,onClick:a,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+c.color}})))}))};fV.propTypes={colors:pe.arrayOf(pe.oneOfType([pe.string,pe.shape({color:pe.string,title:pe.string})])).isRequired};var lIe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vI=function(e){var n=e.width,r=e.rgb,i=e.hex,o=e.hsv,s=e.hsl,a=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,u=e.presetColors,f=e.renderers,h=e.styles,p=h===void 0?{}:h,g=e.className,E=g===void 0?"":g,x=Xe(Ti({default:lIe({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:c});return $.createElement("div",{style:x.picker,className:"sketch-picker "+E},$.createElement("div",{style:x.saturation},$.createElement(eb,{style:x.Saturation,hsl:s,hsv:o,onChange:a})),$.createElement("div",{style:x.controls,className:"flexbox-fix"},$.createElement("div",{style:x.sliders},$.createElement("div",{style:x.hue},$.createElement(yf,{style:x.Hue,hsl:s,onChange:a})),$.createElement("div",{style:x.alpha},$.createElement(Z1,{style:x.Alpha,rgb:r,hsl:s,renderers:f,onChange:a}))),$.createElement("div",{style:x.color},$.createElement(mf,null),$.createElement("div",{style:x.activeColor}))),$.createElement(sIe,{rgb:r,hsl:s,hex:i,onChange:a,disableAlpha:c}),$.createElement(fV,{colors:u,onClick:a,onSwatchHover:l}))};vI.propTypes={disableAlpha:pe.bool,width:pe.oneOfType([pe.string,pe.number]),styles:pe.object};vI.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};Ii(vI);var Xf=function(e){var n=e.hsl,r=e.offset,i=e.onClick,o=i===void 0?function(){}:i,s=e.active,a=e.first,l=e.last,c=Xe({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:a,last:l}),u=function(h){return o({h:n.h,s:.5,l:r,source:"hsl"},h)};return $.createElement("div",{style:c.swatch,onClick:u})},cIe=function(e){var n=e.onClick,r=e.hsl,i=Xe({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return $.createElement("div",{style:i.swatches},$.createElement("div",{style:i.swatch},$.createElement(Xf,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<o&&Math.abs(r.s-.5)<o,onClick:n,first:!0})),$.createElement("div",{style:i.swatch},$.createElement(Xf,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<o&&Math.abs(r.s-.5)<o,onClick:n})),$.createElement("div",{style:i.swatch},$.createElement(Xf,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<o&&Math.abs(r.s-.5)<o,onClick:n})),$.createElement("div",{style:i.swatch},$.createElement(Xf,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<o&&Math.abs(r.s-.5)<o,onClick:n})),$.createElement("div",{style:i.swatch},$.createElement(Xf,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<o&&Math.abs(r.s-.5)<o,onClick:n,last:!0})),$.createElement("div",{style:i.clear}))},uIe=function(){var e=Xe({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return $.createElement("div",{style:e.picker})},_I=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,c=Xe(Ti({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},s));return $.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},$.createElement("div",{style:c.hue},$.createElement(yf,{style:c.Hue,hsl:n,pointer:i,onChange:r})),$.createElement("div",{style:c.swatches},$.createElement(cIe,{hsl:n,onClick:r})))};_I.propTypes={styles:pe.object};_I.defaultProps={pointer:uIe,styles:{}};Ii(_I);var hV={};Object.defineProperty(hV,"__esModule",{value:!0});var SN=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dIe=w,CN=fIe(dIe);function fIe(t){return t&&t.__esModule?t:{default:t}}function hIe(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var Mm=24,pIe=hV.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?Mm:r,o=t.height,s=o===void 0?Mm:o,a=t.style,l=a===void 0?{}:a,c=hIe(t,["fill","width","height","style"]);return CN.default.createElement("svg",SN({viewBox:"0 0 "+Mm+" "+Mm,style:SN({fill:n,width:i,height:s},l)},c),CN.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},gIe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.first,a=e.last,l=e.active,c=Xe({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:aI(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:s,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return $.createElement(Uc,{color:n,style:c.color,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},$.createElement("div",{style:c.check},$.createElement(pIe,null)))},mIe=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,o=e.active,s=Xe({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return $.createElement("div",{style:s.group},jc(i,function(a,l){return $.createElement(gIe,{key:a,color:a,active:a.toLowerCase()===o,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},bI=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.onSwatchHover,s=e.colors,a=e.hex,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,h=Xe(Ti({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),p=function(E,x){return i({hex:E,source:"hex"},x)};return $.createElement("div",{style:h.picker,className:"swatches-picker "+f},$.createElement(Rg,null,$.createElement("div",{style:h.overflow},$.createElement("div",{style:h.body},jc(s,function(g){return $.createElement(mIe,{key:g.toString(),group:g,active:a,onClick:p,onSwatchHover:o})}),$.createElement("div",{style:h.clear})))))};bI.propTypes={width:pe.oneOfType([pe.string,pe.number]),height:pe.oneOfType([pe.string,pe.number]),colors:pe.arrayOf(pe.arrayOf(pe.string)),styles:pe.object};bI.defaultProps={width:320,height:240,colors:[[yu[900],yu[700],yu[500],yu[300],yu[100]],[vu[900],vu[700],vu[500],vu[300],vu[100]],[_u[900],_u[700],_u[500],_u[300],_u[100]],[bu[900],bu[700],bu[500],bu[300],bu[100]],[wu[900],wu[700],wu[500],wu[300],wu[100]],[Eu[900],Eu[700],Eu[500],Eu[300],Eu[100]],[xu[900],xu[700],xu[500],xu[300],xu[100]],[Su[900],Su[700],Su[500],Su[300],Su[100]],[Cu[900],Cu[700],Cu[500],Cu[300],Cu[100]],["#194D33",fh[700],fh[500],fh[300],fh[100]],[Tu[900],Tu[700],Tu[500],Tu[300],Tu[100]],[Iu[900],Iu[700],Iu[500],Iu[300],Iu[100]],[Ru[900],Ru[700],Ru[500],Ru[300],Ru[100]],[Pu[900],Pu[700],Pu[500],Pu[300],Pu[100]],[ku[900],ku[700],ku[500],ku[300],ku[100]],[Au[900],Au[700],Au[500],Au[300],Au[100]],[Ou[900],Ou[700],Ou[500],Ou[300],Ou[100]],[Nu[900],Nu[700],Nu[500],Nu[300],Nu[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Ii(bI);var wI=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,h=Xe(Ti({default:{card:{width:s,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),p=function(E,x){Ml(E)&&n({hex:E,source:"hex"},x)};return $.createElement("div",{style:h.card,className:"twitter-picker "+f},$.createElement("div",{style:h.triangleShadow}),$.createElement("div",{style:h.triangle}),$.createElement("div",{style:h.body},jc(o,function(g,E){return $.createElement(Uc,{key:E,color:g,hex:g,style:h.swatch,onClick:p,onHover:r,focusStyle:{boxShadow:"0 0 4px "+g}})}),$.createElement("div",{style:h.hash},"#"),$.createElement(Pt,{label:null,style:{input:h.input},value:i.replace("#",""),onChange:p}),$.createElement("div",{style:h.clear})))};wI.propTypes={width:pe.oneOfType([pe.string,pe.number]),triangle:pe.oneOf(["hide","top-left","top-right"]),colors:pe.arrayOf(pe.string),styles:pe.object};wI.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Ii(wI);var EI=function(e){var n=Xe({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return $.createElement("div",{style:n.picker})};EI.propTypes={hsl:pe.shape({h:pe.number,s:pe.number,l:pe.number,a:pe.number})};EI.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var xI=function(e){var n=Xe({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return $.createElement("div",{style:n.picker})};xI.propTypes={hsl:pe.shape({h:pe.number,s:pe.number,l:pe.number,a:pe.number})};xI.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var yIe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.hsv,a=function(p,g){if(p.hex)Ml(p.hex)&&n({hex:p.hex,source:"hex"},g);else if(p.rgb){var E=p.rgb.split(",");Aw(p.rgb,"rgb")&&n({r:E[0],g:E[1],b:E[2],a:1,source:"rgb"},g)}else if(p.hsv){var x=p.hsv.split(",");Aw(p.hsv,"hsv")&&(x[2]=x[2].replace("%",""),x[1]=x[1].replace("%",""),x[0]=x[0].replace("°",""),x[1]==1?x[1]=.01:x[2]==1&&(x[2]=.01),n({h:Number(x[0]),s:Number(x[1]),v:Number(x[2]),source:"hsv"},g))}else if(p.hsl){var y=p.hsl.split(",");Aw(p.hsl,"hsl")&&(y[2]=y[2].replace("%",""),y[1]=y[1].replace("%",""),y[0]=y[0].replace("°",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),n({h:Number(y[0]),s:Number(y[1]),v:Number(y[2]),source:"hsl"},g))}},l=Xe({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=r.r+", "+r.g+", "+r.b,u=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",f=Math.round(s.h)+"°, "+Math.round(s.s*100)+"%, "+Math.round(s.v*100)+"%";return $.createElement("div",{style:l.wrap,className:"flexbox-fix"},$.createElement("div",{style:l.fields},$.createElement("div",{style:l.double},$.createElement(Pt,{style:{input:l.input,label:l.label},label:"hex",value:o,onChange:a})),$.createElement("div",{style:l.column},$.createElement("div",{style:l.single},$.createElement(Pt,{style:{input:l.input2,label:l.label2},label:"rgb",value:c,onChange:a})),$.createElement("div",{style:l.single},$.createElement(Pt,{style:{input:l.input2,label:l.label2},label:"hsv",value:f,onChange:a})),$.createElement("div",{style:l.single},$.createElement(Pt,{style:{input:l.input2,label:l.label2},label:"hsl",value:u,onChange:a})))))},SI=function(e){var n=e.width,r=e.onChange,i=e.rgb,o=e.hsl,s=e.hsv,a=e.hex,l=e.header,c=e.styles,u=c===void 0?{}:c,f=e.className,h=f===void 0?"":f,p=Xe(Ti({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},u));return $.createElement("div",{style:p.picker,className:"google-picker "+h},$.createElement("div",{style:p.head},l),$.createElement("div",{style:p.swatch}),$.createElement("div",{style:p.saturation},$.createElement(eb,{hsl:o,hsv:s,pointer:EI,onChange:r})),$.createElement("div",{style:p.body},$.createElement("div",{style:p.controls,className:"flexbox-fix"},$.createElement("div",{style:p.hue},$.createElement(yf,{style:p.Hue,hsl:o,radius:"4px",pointer:xI,onChange:r}))),$.createElement(yIe,{rgb:i,hsl:o,hex:a,hsv:s,onChange:r})))};SI.propTypes={width:pe.oneOfType([pe.string,pe.number]),styles:pe.object,header:pe.string};SI.defaultProps={width:652,styles:{},header:"Color picker"};Ii(SI);const vIe=Xn(A.jsx("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"})),_Ie=Xn(A.jsx("path",{d:"m7 10 5 5 5-5z"})),bIe=Xn(A.jsx("path",{d:"m7 14 5-5 5 5z"})),wIe=Xn(A.jsx("path",{d:"M7 5h2V3H7zm0 8h2v-2H7zm0 8h2v-2H7zm4-4h2v-2h-2zm0 4h2v-2h-2zm-8 0h2v-2H3zm0-4h2v-2H3zm0-4h2v-2H3zm0-4h2V7H3zm0-4h2V3H3zm8 8h2v-2h-2zm8 4h2v-2h-2zm0-4h2v-2h-2zm0 8h2v-2h-2zm0-12h2V7h-2zm-8 0h2V7h-2zm8-6v2h2V3zm-8 2h2V3h-2zm4 16h2v-2h-2zm0-8h2v-2h-2zm0-8h2V3h-2z"})),EIe=Xn(A.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),TN=Xn(A.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"})),xIe=Xn(A.jsx("path",{d:"M7 15v2h10v-2zm-4 6h18v-2H3zm0-8h18v-2H3zm4-6v2h10V7zM3 3v2h18V3z"})),SIe=Xn(A.jsx("path",{d:"M15 15H3v2h12zm0-8H3v2h12zM3 13h18v-2H3zm0 8h18v-2H3zM3 3v2h18V3z"})),CIe=Xn(A.jsx("path",{d:"M3 21h18v-2H3zm6-4h12v-2H9zm-6-4h18v-2H3zm6-4h12V7H9zM3 3v2h18V3z"})),TIe=Xn(A.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"})),IIe=Xn(A.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"})),RIe=Xn(A.jsx("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6m-7 2v2h14v-2z"})),Dm=async t=>{const e=Gx(),n=jx(e,`Settings/${t}`);try{const r=await cce(n);if(r.exists())return r.val();throw new Error("API key not found in database")}catch(r){throw console.error("Error fetching API key:",r),r}},PIe=({localCursor:t,canvasCenter:e,mergeMindMapData:n,isChatOpen:r,setIsChatOpen:i})=>{const[o,s]=w.useState(""),[a,l]=w.useState(!1),[c,u]=w.useState([]),f=async y=>{const b=await Dm("Key"),_=await Dm("prompt1"),S=await Dm("model"),O=await Dm("modelMax");if(!b)throw console.error("No API key found. Ensure VITE_OPENAI_API_KEY is set."),new Error("API key missing");const N=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({model:S,messages:[{role:"system",content:_},{role:"user",content:y}],temperature:.7,max_tokens:O})});if(!N.ok){const R=await N.text();throw console.error("API error details:",N.status,R),new Error(`OpenAI API error: ${N.statusText}`)}const I=(await N.json()).choices[0].message.content.trim();console.log("Raw content from AI:",I);try{return JSON.parse(I)}catch(R){throw console.error("Error parsing JSON:",R),console.log("Raw content:",I),R}},h=async y=>{if(o.trim()&&!a){l(!0),u(b=>[...b,{from:"user",text:o}]);try{const b=await f(o);u(S=>[...S,{from:"ai",text:"Generated mind map JSON",json:b}]),await n(b,y?t:e,E)}catch(b){console.error("Error calling OpenAI API:",b),u(_=>[..._,{from:"ai",text:"Error generating mind map"}])}finally{l(!1),s("")}}},p=y=>{y.key==="Enter"&&(y.preventDefault(),h(!0))},g=y=>{h(!1)},[E,x]=w.useState("bottomLay");return A.jsxs("div",{style:{position:"fixed",bottom:r?"0":"-270px",left:"0",width:"300px",height:"300px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0.66) 0%, #0f1011 100%)",color:"#fff",borderTopRightRadius:"8px",transition:"bottom 0.3s ease",display:"flex",flexDirection:"column",zIndex:1e3},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px 8px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0.66) 0%,rgb(27, 29, 31) 100%)",borderTopRightRadius:"8px"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>i(y=>!y),children:[r?A.jsx(_Ie,{}):A.jsx(bIe,{}),A.jsx("span",{style:{marginLeft:"4px",fontWeight:"bold"},children:"MindMap Maker (Ai)"})]}),A.jsx(EIe,{style:{cursor:"pointer"},onClick:()=>i(!1)})]}),A.jsx("div",{style:{flex:1,padding:"8px",overflowY:"auto",fontSize:"0.9rem"},children:c.map((y,b)=>A.jsxs("div",{style:{marginBottom:"4px"},children:[A.jsx("strong",{children:y.from==="user"?"You:":"AI:"})," ",y.text]},b))}),A.jsx("div",{style:{width:"16%",marginLeft:"83%",marginTop:"22%",background:"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)",color:"white",borderRadius:"8px",position:"absolute"},children:A.jsx("paper",{children:A.jsxs(Rx,{value:E,exclusive:!0,onChange:(y,b)=>{b!==null&&x(b)},orientation:"vertical","aria-label":"text alignment",color:"info",size:"small",sx:{mx:.5,my:.5,background:"radial-gradient(circle at center,rgba(36, 39, 43, 0.5) 0%,rgba(108, 115, 121, 0.73) 130%)"},children:[A.jsx(Ws,{value:"bottomLay","aria-label":"bottomLay",style:{transform:"rotate(180deg)"},children:A.jsx(TN,{})}),A.jsx(Ws,{value:"rightLay","aria-label":"rightLay",style:{transform:"rotate(90deg)"},children:A.jsx(TN,{})}),A.jsx(Ws,{value:"centerLay","aria-label":"centerLay",children:A.jsx(wIe,{})})]})})}),A.jsxs("div",{style:{padding:"7px",display:"flex"},children:[A.jsx(Nd,{value:o,onChange:y=>s(y.target.value),onKeyDown:p,variant:"filled",size:"small",placeholder:"Enter prompt...",InputProps:{style:{background:"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)",color:"#fff"}},fullWidth:!0}),A.jsx(Wn,{variant:"contained",onClick:g,disabled:a,style:{marginLeft:"4px",background:"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)"},children:a?"...":"Send"})]})]})},li=100,ir=40,$m=.1,uu=5,IN=.1,kIe=()=>{const{id:t}=I6(),[e,n]=w.useState([]),[r,i]=w.useState([]),[o,s]=w.useState(null),[a,l]=w.useState(""),[c,u]=w.useState(!1),[f,h]=w.useState(null),[p,g]=w.useState([]),[E,x]=w.useState(null),[y,b]=w.useState([]),[_,S]=w.useState(null),[O,N]=w.useState(!1),[T,I]=w.useState(null),[R,v]=w.useState(null),[k,M]=w.useState([]),[P,q]=w.useState({x:0,y:0}),[H,W]=w.useState([]),G=w.useRef({x:0,y:0}),[V,B]=w.useState(1),[Q,re]=w.useState({x:0,y:0}),he=w.useRef({x:0,y:0}),ge=w.useRef({x:0,y:0}),ie=w.useRef(V),oe=w.useRef(Q),[Me,Ve]=w.useState(null),[Ae,De]=w.useState([]),[_e,$e]=w.useState([]),Oe=w.useRef(null),Le=w.useRef(null),[Ue,ze]=w.useState("#1e1e1e"),[Nt,me]=w.useState("#fff"),[It,We]=w.useState(""),[pt,at]=w.useState(li),[Pe,nn]=w.useState(ir),[ot,En]=w.useState("cursive"),[xt,_t]=w.useState(14),St=w.useRef({x:0,y:0}),Bt=w.useRef({}),[gt,Qe]=w.useState(!1),xn=w.useRef({x:0,y:0}),[Vn,Hr]=w.useState({x:0,y:0}),xe=w.useRef(!1),Te=y.length?e.find(L=>L.id===y[0]):null,Yt=L=>{xn.current=L,xe.current||(xe.current=!0,requestAnimationFrame(()=>{Hr({...xn.current}),xe.current=!1}))},[Un,Gr]=w.useState("cursive"),[pr,Ir]=w.useState(14),[jn,Ri]=w.useState([]),[rn,ro]=w.useState([]),[io,Pi]=w.useState("left"),[gr,ve]=w.useState("left"),[de,lt]=w.useState("rectangle"),[tt,Mt]=w.useState(0),[mr,ii]=w.useState("#ff0000"),[yr,Ro]=w.useState(!1),[Sn,yn]=w.useState(100),[oi,$s]=w.useState("#000000"),[Z,Y]=w.useState(1),[Se,Je]=w.useState(!1),[ct,$t]=w.useState("#ff0000"),[vn,Rr]=w.useState(1),[zc,Dl]=w.useState(!1),[Wc,Ls]=w.useState("none"),[Po,ut]=w.useState(1),[Kr,ko]=w.useState("#ff0000");jn.includes("bold"),jn.includes("italic"),jn.includes("underline");const ts=[8,10,12,14,16,18,20,24,28,32],Hc=w.useRef(null),[_f,bf]=w.useState(!1),[wf,Pg]=w.useState(!1),[ns,rb]=w.useState({visible:!1,x:0,y:0,type:null}),Ef=()=>rb({visible:!1,x:0,y:0,type:null}),kg=()=>{re({x:0,y:0}),oe.current={x:0,y:0},B(1),ie.current=1,console.log("Reset pan/zoom"),Ef()};w.useEffect(()=>{const L=sH(lc,F=>{F&&(I(F.email),v(F.uid))});return()=>L()},[]),w.useEffect(()=>{if(!t)return;const L=Lr(ft(be,"mindMaps",t,"nodes")),F=Ih(L,z=>{const j=z.docs.map(X=>({id:X.id,...X.data()}));n(j)});return()=>F()},[t]),w.useEffect(()=>{if(!t)return;const L=Lr(ft(be,"mindMaps",t,"links")),F=Ih(L,z=>{const j=z.docs.map(X=>({id:X.id,...X.data()}));i(j)});return()=>F()},[t]),w.useEffect(()=>{if(!t||!R)return;const L=sn(be,"mindMaps",t,"presence",R);bk(L,{email:T,lastActive:cv()},{merge:!0}).catch(console.error);const F=setInterval(()=>{bk(L,{lastActive:cv()},{merge:!0}).catch(console.error)},5e3);return()=>{clearInterval(F),OF(L).catch(console.error)}},[t,R,T]),w.useEffect(()=>{if(!t)return;const L=Lr(ft(be,"mindMaps",t,"presence")),F=Ih(L,z=>{const j=z.docs.map(X=>X.data());M(j)});return()=>F()},[t]),w.useEffect(()=>{if(!t||!R)return;const L=Gx(),F=jx(L,`mindMaps/${t}/cursors/${R}`),z=Oe.current;if(!z)return;const j=Im(ce=>{const ye=z.getBoundingClientRect(),Fe=ce.clientX-ye.left,we=ce.clientY-ye.top;G.current={x:Fe,y:we},q({x:Fe,y:we})},16);z.addEventListener("mousemove",j);const X=setInterval(()=>{document.hidden||Wx(F,{...G.current,email:T,lastActive:Date.now(),uid:R}).catch(console.error)},200),ee=()=>{document.hidden?F&&jO(F).catch(console.error):Wx(F,{...G.current,email:T,lastActive:Date.now(),uid:R}).catch(console.error)};return document.addEventListener("visibilitychange",ee),()=>{z.removeEventListener("mousemove",j),j.cancel(),clearInterval(X),document.removeEventListener("visibilitychange",ee),F&&jO(F).catch(console.error)}},[t,R,T]),w.useEffect(()=>{if(!t)return;const L=Gx(),F=jx(L,`mindMaps/${t}/cursors`),z=j=>{const X=j.val()||{},ee=Object.entries(X).map(([ce,ye])=>({uid:ce,...ye}));W(ee)};return dce(F,z,j=>{console.error("Error receiving remote cursor data:",j)}),()=>{fce(F,"value",z)}},[t]),w.useEffect(()=>{if(!Le.current)return;const L=Im(F=>{const j=Le.current.getBoundingClientRect(),X=(F.clientX-j.left-Q.x)/V,ee=(F.clientY-j.top-Q.y)/V;G.current={x:X,y:ee},q({x:X,y:ee})},16);return document.addEventListener("mousemove",L),()=>{document.removeEventListener("mousemove",L),L.cancel()}},[Q,V]);const Ag=(L,F)=>{F.stopPropagation(),c?f?f===L.id?h(null):Fr(ft(be,"mindMaps",t,"links"),{source:f,target:L.id}).then(()=>{h(null)}).catch(z=>{console.error("Error creating link:",z)}):h(L.id):F.ctrlKey||F.metaKey?b(z=>z.includes(L.id)?z.filter(j=>j!==L.id):[...z,L.id]):b([L.id])},oo=L=>{let F={};L?F=L:y.forEach(j=>{const X=e.find(ee=>ee.id===j);X&&(F[j]={...X})});const z=JSON.parse(JSON.stringify(F));Object.keys(z).length>0&&(De(j=>[...j,z]),$e([]))},rs=L=>{if(L){const F={[L.id]:{...L}};De(z=>[...z,F]),$e([])}},Ao=async()=>{if(Ae.length===0)return;const L=Ae[Ae.length-1],F=L.nodes?L.nodes:L,z={};Object.keys(F).forEach(X=>{const ee=e.find(ce=>ce.id===X);ee&&(z[X]={...ee})}),$e(X=>[...X,z]);const j=ci(be);for(const X of Object.keys(F)){const ee=F[X],ce=sn(be,"mindMaps",t,"nodes",X);if(ee&&ee.isNew){j.delete(ce);const ye=Lr(ft(be,"mindMaps",t,"links"),Di("source","==",X));(await $i(ye)).docs.forEach(He=>{const Ye=sn(be,"mindMaps",t,"links",He.id);j.delete(Ye)});const we=Lr(ft(be,"mindMaps",t,"links"),Di("target","==",X));(await $i(we)).docs.forEach(He=>{const Ye=sn(be,"mindMaps",t,"links",He.id);j.delete(Ye)})}else ee&&j.set(ce,ee,{merge:!0})}try{await j.commit(),console.log("Batch undo successful")}catch(X){console.error("Error during batch undo:",X)}n(X=>X.filter(ee=>!(F[ee.id]&&F[ee.id].isNew))),De(X=>X.slice(0,X.length-1))},Gc=async()=>{if(_e.length===0)return;const L=_e[_e.length-1];console.log("Redo snapshot:",L);const F={};Object.keys(L).forEach(j=>{const X=e.find(ee=>ee.id===j);X&&(F[j]={...X})}),De(j=>[...j,F]);const z=ci(be);Object.keys(L).forEach(j=>{const X=sn(be,"mindMaps",t,"nodes",j);z.set(X,L[j],{merge:!0})});try{await z.commit(),console.log("Batch redo successful")}catch(j){console.error("Error during batch redo:",j)}n(j=>{const X=[...j];return Object.keys(L).forEach(ee=>{const ce=X.findIndex(ye=>ye.id===ee);ce===-1?X.push({id:ee,...L[ee]}):X[ce]={...X[ce],...L[ee]}}),X}),$e(j=>j.slice(0,j.length-1))},Kc=(L,F)=>{if(F.button!==0)return;rs(L),F.stopPropagation(),F.preventDefault();const z=F.clientX,j=F.clientY,X=L.width||li,ee=L.height||ir;let ce=X,ye=ee;const Fe=ke=>{const He=ke.clientX-z,Ye=ke.clientY-j;ce=Math.max(50,X+He/V),ye=Math.max(20,ee+Ye/V),n(jt=>jt.map(je=>je.id===L.id?{...je,width:ce,height:ye}:je))},we=async()=>{document.removeEventListener("mousemove",Fe),document.removeEventListener("mouseup",we);try{const ke=sn(be,"mindMaps",t,"nodes",L.id);await gu(ke,{width:ce,height:ye})}catch(ke){console.error("Error updating node size:",ke)}};document.addEventListener("mousemove",Fe),document.addEventListener("mouseup",we)},Og=()=>{B(L=>{const F=Math.min(uu,L+IN);return ie.current=F,F})},Xt=()=>{B(L=>{const F=Math.max($m,L-IN);return ie.current=F,F})};w.useEffect(()=>{const L=Le.current,F=Oe.current;if(!L||!F)return;const z=Im(j=>{let X=j.shiftKey?1.15:1.05;j.preventDefault();const ee=L.getBoundingClientRect(),ce=j.clientX-ee.left,ye=j.clientY-ee.top,Fe=ie.current;let we;j.deltaY<0?we=Math.min(uu,Fe*X):we=Fe/X;const ke={x:(ce-oe.current.x)/Fe,y:(ye-oe.current.y)/Fe},He={x:ce-ke.x*we,y:ye-ke.y*we};B(we),re(He),ie.current=we,oe.current=He},8);return L.addEventListener("wheel",z,{passive:!1}),()=>{L.removeEventListener("wheel",z),z.cancel()}},[V,Q]);const qc=L=>{L.preventDefault()},$l=L=>{if(L.button!==2)return;document.activeElement.tagName==="INPUT"||document.activeElement.tagName==="TEXTAREA"||L.preventDefault(),he.current={...Q},Hc.current={x:L.clientX,y:L.clientY},ge.current={x:L.clientX,y:L.clientY};const z=Im(j=>{const X=j.clientX-ge.current.x,ee=j.clientY-ge.current.y;Math.sqrt(X*X+ee*ee)>15&&bf(!0),requestAnimationFrame(()=>{const ye=j.clientX-ge.current.x,Fe=j.clientY-ge.current.y,we=he.current.x+ye,ke=he.current.y+Fe;re({x:we,y:ke}),oe.current={x:we,y:ke}})},16);document.addEventListener("mousemove",z),document.addEventListener("mouseup",function j(){document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",j),z.cancel()})},Ll=async()=>{if(t)try{const L=oe.current,F=ie.current,z=Le.current.getBoundingClientRect(),j=250,X=50,ee=z.width-j,ce=z.height-X,ye=ee/2,Fe=ce/2,we=(ye-L.x)/F,ke=(Fe-L.y)/F;await Fr(ft(be,"mindMaps",t,"nodes"),{text:"New Node",x:we,y:ke,width:li,height:ir,lockedBy:null,typing:!1})}catch(L){console.error("Error adding node:",L)}},ib=async()=>{if(t)try{const L=P.x,F=P.y;await Fr(ft(be,"mindMaps",t,"nodes"),{text:"New Node",x:L-li/2,y:F-ir/2,width:li,height:ir,lockedBy:null,typing:!1})}catch(L){console.error("Error adding node:",L)}},Ng=L=>{if(c||L.type==="image")return;if(L.lockedBy&&L.lockedBy!==T){alert(`Node is currently locked by ${L.lockedBy}`);return}const F=sn(be,"mindMaps",t,"nodes",L.id);gu(F,{lockedBy:T,typing:!0}).catch(console.error),s(L.id),l(L.text)},ob=async L=>{try{y.includes(L),oo();const F=sn(be,"mindMaps",t,"nodes",L);await gu(F,{text:a,lockedBy:null,typing:!1}),s(null),l("")}catch(F){console.error("Error updating node text:",F)}},sb=L=>{const F=sn(be,"mindMaps",t,"nodes",L);gu(F,{typing:!0}).catch(console.error)};w.useEffect(()=>{const L=F=>{if(!(document.activeElement.tagName==="INPUT"||document.activeElement.tagName==="TEXTAREA")){if(F.ctrlKey&&F.key.toLowerCase()==="d"&&(F.preventDefault(),(async()=>{if(y.length>0){const j={};await Promise.all(y.map(async X=>{const ee=e.find(ce=>ce.id===X);if(ee){const ce={x:ee.x+50,y:ee.y+50},ye=await Mg(ee,ce);ye&&(j[ye]={id:ye,isNew:!0})}})),console.log("Control-D group undo snapshot:",j),Object.keys(j).length>0&&oo(j)}})()),F.key.toLowerCase()==="f"){if(y.length===0)return;const z=e.filter(kt=>y.includes(kt.id));if(!z.length)return;let j=1/0,X=1/0,ee=-1/0,ce=-1/0;z.forEach(kt=>{const Rt=kt.width||li,Pr=kt.height||ir;j=Math.min(j,kt.x),X=Math.min(X,kt.y),ee=Math.max(ee,kt.x+Rt),ce=Math.max(ce,kt.y+Pr)});const ye={x:(j+ee)/2,y:(X+ce)/2},Fe=Le.current.getBoundingClientRect(),we=-125,ke=50,He=Fe.width-we,Ye=Fe.height-ke,jt=.6,je=ee-j,zt=ce-X,rr=He*jt/je,ki=Ye*jt/zt,Ai=Math.min(rr,ki,uu),si={x:we+He/2,y:ke+Ye/2},vr={x:si.x-ye.x*Ai,y:si.y-ye.y*Ai};B(Ai),ie.current=Ai,re(vr),oe.current=vr}!o&&y.length>0&&(F.key==="Backspace"||F.key==="Delete")&&(F.preventDefault(),window.confirm("Are you sure you want to delete the selected nodes?")&&(oo(),(async()=>{const z=ci(be);for(const j of y){const X=sn(be,"mindMaps",t,"nodes",j);z.delete(X);const ee=Lr(ft(be,"mindMaps",t,"links"),Di("source","==",j));(await $i(ee)).docs.forEach(we=>{const ke=sn(be,"mindMaps",t,"links",we.id);z.delete(ke)});const ye=Lr(ft(be,"mindMaps",t,"links"),Di("target","==",j));(await $i(ye)).docs.forEach(we=>{const ke=sn(be,"mindMaps",t,"links",we.id);z.delete(ke)})}try{await z.commit(),console.log("Batch deletion (nodes and links) successful")}catch(j){console.error("Error deleting nodes and links:",j)}n(j=>j.filter(X=>!y.includes(X.id))),b([])})())),F.ctrlKey&&F.key.toLowerCase()==="z"&&(console.log("undo"),F.preventDefault(),Ao()),F.ctrlKey&&F.key.toLowerCase()==="y"&&(F.preventDefault(),Gc())}};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[e,y,Ae,_e]);const Mg=async(L,F)=>{if(!t)return null;const{id:z,...j}=L;let X;try{X=(await Fr(ft(be,"mindMaps",t,"nodes"),{...j,x:F.x,y:F.y,lockedBy:null,typing:!1})).id;const ce=Lr(ft(be,"mindMaps",t,"links"),Di("source","==",z)),ye=await $i(ce);for(const ke of ye.docs){const He=ke.data();await Fr(ft(be,"mindMaps",t,"links"),{...He,source:X})}const Fe=Lr(ft(be,"mindMaps",t,"links"),Di("target","==",z)),we=await $i(Fe);for(const ke of we.docs){const He=ke.data();await Fr(ft(be,"mindMaps",t,"links"),{...He,target:X})}}catch(ee){return console.error("Error duplicating node and links:",ee),null}return X},Dg=async(L,F,z=null)=>{if(!t)return null;const{id:j,...X}=L;let ee;try{ee=(await Fr(ft(be,"mindMaps",t,"nodes"),{...X,x:F.x,y:F.y,lockedBy:null,typing:!1})).id;const ye=Lr(ft(be,"mindMaps",t,"links"),Di("source","==",j)),Fe=await $i(ye);for(const He of Fe.docs){const Ye=He.data(),jt=z&&z[Ye.target]?z[Ye.target]:null;jt&&await Fr(ft(be,"mindMaps",t,"links"),{...Ye,source:ee,target:jt})}const we=Lr(ft(be,"mindMaps",t,"links"),Di("target","==",j)),ke=await $i(we);for(const He of ke.docs){const Ye=He.data(),jt=z&&z[Ye.source]?z[Ye.source]:null;jt&&await Fr(ft(be,"mindMaps",t,"links"),{...Ye,source:jt,target:ee})}}catch(ce){return console.error("Error duplicating node and links:",ce),null}return ee},Fl=(L,F)=>{const z={};L.forEach(X=>{z[X.id]=X});let j=!1;return F.forEach(X=>{const ee=z[X.target];ee&&(ee.parent===void 0||ee.parent===null)&&(ee.parent=X.source,j=!0)}),L.forEach(X=>{X.parent===void 0&&(X.parent=null,j=!0)}),{nodes:L,modified:j}},is=async(L,F,z)=>{if(!L.nodes||!L.links)return;const{nodes:j}=Fl(L.nodes,L.links),X=z==="bottomLay"?cue(j,L.links,150,800,1.5):z==="rightLay"?due(j,L.links,150,800,1.5):uue(j,L.links,150,800,1.5),{layout:ee,levelMap:ce}=X;let ye=1/0,Fe=1/0,we=-1/0,ke=-1/0;Object.values(ee).forEach(({x:kt,y:Rt})=>{kt<ye&&(ye=kt),Rt<Fe&&(Fe=Rt),kt>we&&(we=kt),Rt>ke&&(ke=Rt)});const He=(ye+we)/2,Ye=(Fe+ke)/2,jt=F.x-He,je=F.y-Ye,zt=["#2C3E50","#1ABC9C","#3498DB","#9B59B6","#E74C3C"],rr={},ki={},Ai=ci(be);for(const kt of j){const Rt=sn(ft(be,"mindMaps",t,"nodes")),Pr=ee[kt.id]||{x:0,y:0},_r=ce[kt.id]||0,Ul=_r%zt.length,xa=zt[Ul];let Sa=100,Qc=40,as=14;if(_r===0){const Ca=kt.text?kt.text.length:0;Sa=Math.max(180,Ca*1.25),Qc=Math.max(60,Ca*1),as=28}else{const Ca=kt.text?kt.text.length:0;Sa=Math.max(100,Ca*1.1),Qc=Math.max(45,Ca*2)}const Sf={...kt,x:Pr.x+jt,y:Pr.y+je,id:Rt.id,bgColor:kt.bgColor||xa,textColor:kt.textColor||"#ECF0F1",width:Sa,height:Qc,fontSize:as};rr[kt.id]=Rt.id,ki[Rt.id]={newNodeData:Sf,isNew:!0},Ai.set(Rt,Sf)}await Ai.commit(),console.log("Undo snapshot (nodes):",rr);const si={nodes:{...ki}};oo(si);const vr=ci(be);for(const kt of L.links){const Rt=rr[kt.source],Pr=rr[kt.target];if(!Rt||!Pr){console.error("Skipping link: missing mapping for source or target");continue}const _r=sn(ft(be,"mindMaps",t,"links"));vr.set(_r,{...kt,source:Rt,target:Pr})}await vr.commit(),console.log("Merged AI-generated mind map at drop position:",F)},$g=L=>{L.preventDefault()},Lg=async L=>{L.preventDefault();const F=L.dataTransfer.files;if(!F||F.length===0)return;const z=F[0],j=Le.current.getBoundingClientRect(),X=oe.current,ee=ie.current,ce=(L.clientX-j.left-X.x)/ee,ye=(L.clientY-j.top-X.y)/ee,Fe={};if(z.type==="application/json"||z.name.endsWith(".json"))try{const we=await z.text(),ke=JSON.parse(we);if(!ke.nodes||!ke.links)throw new Error("Invalid file format");let He=1/0,Ye=1/0,jt=-1/0,je=-1/0;ke.nodes.forEach(Rt=>{Rt.x<He&&(He=Rt.x),Rt.y<Ye&&(Ye=Rt.y),Rt.x>jt&&(jt=Rt.x),Rt.y>je&&(je=Rt.y)});const zt=(He+jt)/2,rr=(Ye+je)/2,ki=ce-zt,Ai=ye-rr,si={},vr=ci(be);ke.nodes.forEach(Rt=>{const Pr=Rt.id,_r=sn(ft(be,"mindMaps",t,"nodes")),Ul={...Rt,x:Rt.x+ki,y:Rt.y+Ai,id:_r.id};vr.set(_r,Ul),si[Pr]=_r.id,Fe[_r.id]={id:_r.id,isNew:!0}}),await vr.commit();const kt=ci(be);ke.links.forEach(Rt=>{const Pr=si[Rt.source],_r=si[Rt.target];if(!Pr||!_r){console.error("Skipping link: missing mapping for source or target");return}const{id:Ul,...xa}=Rt,Sa=sn(ft(be,"mindMaps",t,"links"));kt.set(Sa,{...xa,source:Pr,target:_r})}),await kt.commit(),console.log("Imported mind map JSON file at cursor position using batch writes.")}catch(we){console.error("Error importing mind map:",we)}else if(z.type.startsWith("image/"))try{const we=Date.now(),ke=z.name||"pastedImage.png",He=`images/${we}_${ke}`,Ye=Rk(Pk,He);await Tk(Ye,z);const jt=await Ik(Ye);await Fr(ft(be,"mindMaps",t,"nodes"),{type:"image",imageUrl:jt,storagePath:He,x:ce-60/ie.current*.5,y:ye-ir/ie.current*.5,width:60/ie.current,height:ir/ie.current,lockedBy:null,typing:!1}).then(je=>{je&&(Fe[je.id]={id:je.id,isNew:!0})})}catch(we){console.error("Error uploading image:",we)}Object.keys(Fe).length>0&&oo(Fe)},Yc=async L=>{if(!o&&y.length>0){const F=e.filter(j=>y.includes(j.id)),z=JSON.stringify(F);if(L.clipboardData)L.clipboardData.setData("application/json",z),L.clipboardData.setData("text/plain",z),L.preventDefault(),console.log("Copied nodes to clipboard:",F);else if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(z),console.log("Copied nodes to clipboard via navigator.clipboard:",F)}catch(j){console.error("Failed to copy nodes:",j)}else console.error("Clipboard API not available.")}};w.useEffect(()=>(document.addEventListener("copy",Yc),()=>document.removeEventListener("copy",Yc)),[y,e]);const os=async()=>{if(!o)try{Ef();let L={},F=null,z=!1;if(navigator.clipboard.read){const j=await navigator.clipboard.read();for(const X of j)for(const ee of X.types)if(ee.startsWith("image/")){z=!0;const ce=await X.getType(ee);try{const ye=Date.now(),Fe=ce.name||"pastedImage.png",we=`images/${ye}_${Fe}`,ke=Rk(Pk,we);await Tk(ke,ce);const He=await Ik(ke),Ye=P.x,jt=P.y,je=await Fr(ft(be,"mindMaps",t,"nodes"),{type:"image",imageUrl:He,storagePath:we,x:Ye-60/ie.current*.5,y:jt-ir/ie.current*.5,width:60/ie.current,height:ir/ie.current,lockedBy:null,typing:!1});je&&(L[je.id]={id:je.id,isNew:!0})}catch(ye){console.error("Error uploading pasted image:",ye)}break}if(!z){const ee=(await navigator.clipboard.readText()).trim();if(ee.startsWith("{")||ee.startsWith("["))try{F=JSON.parse(ee),Array.isArray(F)||(F=[F])}catch(ce){console.error("Error parsing JSON, falling back to plain text:",ce),F=null}}}else{const j=await navigator.clipboard.readText();try{F=JSON.parse(j),Array.isArray(F)||(F=[F])}catch{F=null}}if(F){const j=P.x,X=P.y;if(F.length===1){const ee=F[0],ce=ee.width||li,ye=ee.height||ir,Fe=ee.x+ce/2,we=ee.y+ye/2,ke=j-Fe,He=X-we,Ye=await Mg(ee,{x:ee.x+ke,y:ee.y+He});Ye&&(L[Ye]={id:Ye,isNew:!0})}else{let ee=1/0,ce=1/0,ye=-1/0,Fe=-1/0;F.forEach(je=>{je.x<ee&&(ee=je.x),je.y<ce&&(ce=je.y),je.x>ye&&(ye=je.x),je.y>Fe&&(Fe=je.y)});const we=(ee+ye)/2,ke=(ce+Fe)/2,He=j-we,Ye=X-ke,jt={};await Promise.all(F.map(async je=>{const zt={x:je.x+He,y:je.y+Ye},rr=await Dg(je,zt,{});rr&&(jt[je.id]=rr,L[rr]={id:rr,isNew:!0})})),await Promise.all(F.map(async je=>{const zt=jt[je.id];if(!zt)return;const rr=Lr(ft(be,"mindMaps",t,"links"),Di("source","==",je.id)),ki=await $i(rr);for(const Ai of ki.docs){const si=Ai.data(),vr=jt[si.target];vr&&await Fr(ft(be,"mindMaps",t,"links"),{...si,source:zt,target:vr})}}))}}else{const j=await navigator.clipboard.readText();if(j.trim()!==""){const X=P.x,ee=P.y;try{const ce=await Fr(ft(be,"mindMaps",t,"nodes"),{type:"text",text:j,x:X-li/ie.current*.5,y:ee-ir/ie.current*.5,width:li/ie.current,height:ir/ie.current,fontSize:Math.floor(14/ie.current*.5),lockedBy:null,typing:!1});ce&&(L[ce.id]={id:ce.id,isNew:!0})}catch(ce){console.error("Error creating text node from pasted text:",ce)}}}Object.keys(L).length>0&&oo(L)}catch(L){console.error("Error handling paste via context menu:",L)}};w.useEffect(()=>(window.addEventListener("paste",os),()=>window.removeEventListener("paste",os)),[t,P,oe,ie,Le,Dg,oo]);const ab=async()=>{if(!y.length)return;oo();const L={};if(Te&&(Te.bgColor!==Ue&&(L.bgColor=Ue),Te.textColor!==Nt&&(L.textColor=Nt),Te.fontSize!==xt&&(L.fontSize=xt),JSON.stringify(Te.textStyle)!==JSON.stringify(rn)&&(L.textStyle=rn),Te.textAlign!==gr&&(L.textAlign=gr),Te.fontFamily!==ot&&(L.fontFamily=ot)),Object.keys(L).length===0)return;const F=ci(be);y.forEach(z=>{const j=sn(be,"mindMaps",t,"nodes",z);F.update(j,L)});try{await F.commit(),n(z=>z.map(j=>y.includes(j.id)?{...j,...L}:j))}catch(z){console.error("Error updating nodes:",z)}},lb=async()=>{if(!(!y||y.length===0))try{const L=ci(be);for(const F of y){const z=Lr(ft(be,"mindMaps",t,"links"),Di("source","==",F));(await $i(z)).docs.forEach(ce=>{const ye=sn(be,"mindMaps",t,"links",ce.id);L.delete(ye)});const X=Lr(ft(be,"mindMaps",t,"links"),Di("target","==",F));(await $i(X)).docs.forEach(ce=>{const ye=sn(be,"mindMaps",t,"links",ce.id);L.delete(ye)})}await L.commit(),console.log("All links removed from the selected nodes.")}catch(L){console.error("Error removing links:",L)}};w.useEffect(()=>{Te&&(ze(Te.bgColor||"#1e1e1e"),me(Te.textColor||"#fff"),_t(Te.fontSize||"14"),ro(Te.textStyle||[]),ve(Te.textAlign||"left"),En(Te.fontFamily||"cursive"))},[Te]);const cb=()=>{const F=JSON.stringify({nodes:e,links:r},null,2),z=new Blob([F],{type:"application/json"}),j=URL.createObjectURL(z),X=document.createElement("a");X.href=j,X.download=`mindmap_${t}.json`,X.click(),URL.revokeObjectURL(j)},ss=L=>Me===L.id||y.includes(L.id);w.useMemo(()=>r.map(L=>{const F=e.find(He=>He.id===L.source),z=e.find(He=>He.id===L.target);if(!F||!z)return null;const j=F.width||li,X=F.height||ir,ee=z.width||li,ce=z.height||ir,ye=F.x+j/2,Fe=F.y+X/2,we=z.x+ee/2,ke=z.y+ce/2;return A.jsx("line",{x1:ye,y1:Fe,x2:we,y2:ke,stroke:"#fff",strokeWidth:"2"},L.id)}),[r,e]);const Fg=()=>{const L=Date.now(),F=500;return H.filter(z=>z.uid!==R&&L-z.lastActive<F).map(z=>{const j=z.x*V+Q.x,X=z.y*V+Q.y;return A.jsx("div",{style:{position:"absolute",top:X,left:j,transform:"translate(-50%, -50%)",transition:"top 0.35s ease, left 0.35s ease",backgroundColor:"blue",color:"#fff",padding:"2px 4px",borderRadius:"4px",fontSize:"10px",pointerEvents:"none",zIndex:150},children:z.email},z.uid)})},ub=()=>{if(!Le.current)return{visibleLeft:0,visibleTop:0,visibleWidth:0,visibleHeight:0};const L=Le.current.getBoundingClientRect(),F=-Q.x/V,z=-Q.y/V,j=L.width/V,X=L.height/V;return{visibleLeft:F,visibleTop:z,visibleWidth:j,visibleHeight:X}},Ea=w.useMemo(()=>{if(!Le.current)return e;const{visibleLeft:L,visibleTop:F,visibleWidth:z,visibleHeight:j}=ub(),X=100;return e.filter(ee=>{const ce=ee.width||li,ye=ee.height||ir;return ee.x+ce>=L-X&&ee.x<=L+z+X&&ee.y+ye>=F-X&&ee.y<=F+j+X})},[e,Q,V]),Xc=w.useMemo(()=>{const L=new Set(Ea.map(F=>F.id));return r.filter(F=>L.has(F.source)||L.has(F.target))},[r,Ea]);w.useEffect(()=>{if(Te&&(Te.bgColor!==Ue||Te.textColor!==Nt||Te.fontSize!==xt||JSON.stringify(Te.textStyle)!==JSON.stringify(rn)||Te.textAlign!==gr||Te.fontFamily!==ot)){const L=setTimeout(()=>{ab()},300);return()=>clearTimeout(L)}},[Ue,Nt,xt,rn,gr,ot,Te]),fse({onDrag:({movement:[L,F],first:z,memo:j=Q})=>(z&&(j=Q),re({x:j.x+L,y:j.y+F}),j),onPinch:({origin:[L,F],movement:[z],memo:j=V})=>{const X=xf(j*z,$m,uu);return B(X),j},onWheel:({delta:[,L]})=>{const F=1-L/200;B(z=>xf(z*F,$m,uu))},onDoubleClick:()=>{ib()}},{target:Le,eventOptions:{passive:!1},pinch:{scaleBounds:{min:$m,max:uu}}});const Bg=c0(),Bl=()=>!ns.visible||_f?null:A.jsxs("div",{style:{position:"fixed",top:ns.y,left:ns.x,backgroundColor:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px",padding:"5px",zIndex:1e3,minWidth:"120px"},onContextMenu:L=>L.preventDefault(),children:[ns.type==="canvas"&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"context-menu-item",style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:L=>{os()},children:"Paste"}),A.jsx("div",{className:"context-menu-item",style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:kg,children:"Reset"})]}),ns.type==="node"&&A.jsx("div",{className:"context-menu-item",onMouseDown:L=>{Yc(L)},children:"Copy"})]}),Vl=()=>{if(!Le.current)return{x:0,y:0};const L=Le.current.getBoundingClientRect(),F=250,z=50,j=L.width-F,X=L.height-z,ee=F+j/2,ce=z+X/2,ye=(ee-oe.current.x)/ie.current,Fe=(ce-oe.current.y)/ie.current;return{x:ye,y:Fe}};w.useEffect(()=>{const L=()=>{ns.visible&&Ef()};return document.addEventListener("click",L),()=>document.removeEventListener("click",L)},[ns.visible]),w.useRef(new Map),w.useRef(null),w.useRef(V);const xf=(L,F,z)=>Math.min(Math.max(L,F),z);return A.jsxs("div",{style:{userSelect:"none",cursor:gt||_f?"grabbing":"default",height:"100vh",position:"relative",touchAction:"none"},ref:Le,onContextMenu:L=>L.preventDefault(),onDragOver:$g,onDrop:Lg,children:[A.jsxs("p",{children:["Zoom: ",V.toFixed(2)]}),Fg(),A.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,height:"50px",backgroundColor:"rgba(29,32,34,0.9)",background:"radial-gradient(circle at center, rgba(29,32,34,.4) 0%, rgba(15,16,17,.7) 100%)",display:"flex",alignItems:"center",padding:"0 20px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.4)",zIndex:300},className:"toolbar",children:[A.jsx(Wn,{variant:"contained",onClick:()=>Bg("/dashboard"),style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:A.jsx(vIe,{})}),A.jsx(Wn,{variant:"contained",onClick:Ll,style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:"Add Node"}),A.jsx(Wn,{variant:"contained",onClick:()=>{u(L=>!L),h(null)},style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:c?"Exit Linking Mode":"Link Nodes"}),A.jsx(Wn,{variant:"contained",onClick:cb,style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:"Export"}),A.jsx(Wn,{variant:"contained",onClick:Og,style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:"Zoom In"}),A.jsx(Wn,{variant:"contained",onClick:Xt,style:{background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:"Zoom Out"}),c&&A.jsx(Fi,{variant:"body2",style:{color:"#fff",marginLeft:"10px"},children:f?"Select target node...":"Select source node..."})]}),A.jsx("div",{style:{position:"fixed",top:60,right:10,width:"250px",height:"calc(100% - 60px)",boxShadow:"0 2px 10px rgba(39, 39, 39, 0.6)",background:"radial-gradient(circle at center, #1D2022 0%, #0f1011 110%)",padding:"20px",boxSizing:"border-box",zIndex:300,overflowY:"auto",borderRadius:"8px"},className:"sidebar",onClick:L=>L.stopPropagation(),onMouseDown:L=>L.stopPropagation(),children:Te?A.jsxs(A.Fragment,{children:[A.jsx(Fi,{variant:"h6",style:{marginBottom:"10px",color:"#fff",fontWeight:"bold",textAlign:"center"},children:"Customize Menu"}),A.jsx(Fi,{variant:"subtitle1",style:{marginBottom:"4px",color:"#ccc",fontWeight:400,fontFamily:"Arial"},children:"Font"}),A.jsxs(KT,{variant:"filled",size:"small",sx:{minWidth:210},style:{marginBottom:"10px"},children:[A.jsx(YT,{style:{color:"#ccc"},children:"Font"}),A.jsxs(T_,{value:ot,onChange:L=>En(L.target.value),style:{color:"#fff",backgroundColor:"#2b2b2b",width:"100%"},children:[A.jsx(Ua,{value:"cursive",children:"Cursive"}),A.jsx(Ua,{value:"Microsoft Yahei",children:"Microsoft Yahei"}),A.jsx(Ua,{value:"Arial",children:"Arial"}),A.jsx(Ua,{value:"Times New Roman",children:"Times New Roman"}),A.jsx(Ua,{value:"Courier New",children:"Courier New"})]})]}),A.jsx(Fi,{variant:"subtitle1",style:{marginBottom:"4px",color:"#ccc",fontWeight:400},children:"Font size"}),A.jsx(kte,{freeSolo:!0,options:ts,getOptionLabel:L=>L.toString(),value:xt,onChange:(L,F)=>{let z;typeof F=="number"?z=F:typeof F=="string"&&F.trim()!==""&&(z=parseInt(F,10)),isNaN(z)||_t(z)},onInputChange:(L,F)=>{const z=parseInt(F,10);isNaN(z)||_t(z)},sx:{width:"100%","& .MuiInputBase-root":{color:"#fff"},"& .MuiFilledInput-root":{backgroundColor:"#2b2b2b"},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiAutocomplete-popupIndicator":{color:"#fff"}},renderInput:L=>A.jsx(Nd,{...L,label:"Font Size",variant:"filled",InputLabelProps:{style:{color:"#ccc"}}}),style:{marginBottom:"12px",boxShadow:"inset 0 0 4px rgba(0,0,0,0.6)",borderRadius:"6px",color:"white"}}),A.jsxs(Xre,{direction:"column",spacing:1,sx:{alignItems:"center"},children:[A.jsxs(Rx,{color:"primary",value:rn,onChange:(L,F)=>ro(F),style:{backgroundColor:"#2b2b2b",marginBottom:"8px",borderRadius:"6px"},"aria-label":"text style",size:"small",children:[A.jsx(Ws,{value:"bold","aria-label":"bold",children:A.jsx(TIe,{})}),A.jsx(Ws,{value:"italic","aria-label":"italic",children:A.jsx(IIe,{})}),A.jsx(Ws,{value:"underline","aria-label":"underline",children:A.jsx(RIe,{})})]}),A.jsxs(Rx,{value:gr,color:"primary",exclusive:!0,onChange:(L,F)=>{F!==null&&ve(F)},style:{backgroundColor:"#2b2b2b",borderRadius:"6px"},"aria-label":"text alignment",size:"small",children:[A.jsx(Ws,{value:"left","aria-label":"left",children:A.jsx(SIe,{})}),A.jsx(Ws,{value:"center","aria-label":"center",children:A.jsx(xIe,{})}),A.jsx(Ws,{value:"right","aria-label":"right",children:A.jsx(CIe,{})})]})]}),A.jsxs(Od,{component:"div",sx:{fontSize:"1rem",marginTop:"12px",color:"#ccc",fontWeight:400,fontFamily:"Arial"},variant:"subtitle1",children:["Background",A.jsx("input",{type:"color",value:Ue,onChange:L=>ze(L.target.value),style:{display:"block",width:"100%",height:"40px",marginTop:"5px",border:"none",backgroundColor:"transparent",padding:0,borderRadius:"6px",cursor:"pointer"}})]}),A.jsxs(Od,{component:"div",sx:{fontSize:"1rem",marginTop:"12px",color:"#ccc",fontWeight:400,fontFamily:"Arial"},variant:"subtitle1",children:["Font Color",A.jsx("input",{type:"color",value:Nt,onChange:L=>me(L.target.value),style:{display:"block",width:"100%",height:"40px",border:"none",background:"transparent",padding:0,marginTop:"5px",borderRadius:"6px",cursor:"pointer"}})]}),A.jsx(Wn,{variant:"contained",onClick:lb,style:{marginTop:"30px",backgroundColor:"#a11",color:"#fff",width:"100%"},children:"Remove All Links"})]}):A.jsx(Fi,{variant:"body2",style:{color:"#fff"},children:"Select a node to customize..."})}),A.jsxs("div",{style:{position:"fixed",top:60,right:290,background:"radial-gradient(circle at center,rgba(29, 32, 34, 0.63) 0%, #0f1011 100%)",color:"#fff",padding:"8px",borderRadius:"4px",zIndex:250},children:[A.jsx(Fi,{variant:"caption",children:"Active Users:"}),k.map((L,F)=>A.jsx("div",{children:A.jsx(Fi,{variant:"caption",children:L.email})},F))]}),Fg(),A.jsxs("div",{ref:Oe,onContextMenu:qc,onMouseDown:$l,onClick:L=>{L.target===Oe.current&&b([])},style:{position:"absolute",top:0,left:0,width:".1px",height:".1px",overflow:"visible",transform:`translate(${Q.x}px, ${Q.y}px) scale(${V})`,transformOrigin:"top left"},children:[A.jsx("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",overflow:"visible"},children:Xc.map(L=>{const F=e.find(He=>He.id===L.source),z=e.find(He=>He.id===L.target);if(!F||!z)return null;const j=F.width||li,X=F.height||ir,ee=z.width||li,ce=z.height||ir,ye=F.x+j/2,Fe=F.y+X/2,we=z.x+ee/2,ke=z.y+ce/2;return A.jsx("line",{x1:ye,y1:Fe,x2:we,y2:ke,stroke:"rgba(255, 255, 255, 0.29)",strokeWidth:"5"},L.id)})}),Ea.map(L=>A.jsx(lue,{node:L,zoom:ie.current,groupDelta:Vn,isHighlighted:ss(L),currentUserEmail:T,selectedNodes:y,editingNodeId:o,editedText:a,handleResizeMouseDown:Kc,handleNodeClick:Ag,handleDoubleClick:Ng,handleTyping:sb,handleTextBlur:ob,setEditedText:l,setHoveredNodeId:Ve,linkingSource:f,hoveredNodeId:Me,onStart:(F,z)=>{if(o===L.id)return!1;Qe(!0);const j=Le.current.getBoundingClientRect(),X=(F.clientX-j.left-oe.current.x)/ie.current,ee=(F.clientY-j.top-oe.current.y)/ie.current,ce=X-L.x,ye=ee-L.y;St.current={offsetX:ce,offsetY:ye,initialX:L.x,initialY:L.y},(y.length<1||y.length<2)&&rs(L),y.length>1&&y.includes(L.id)&&Object.keys(Bt.current).length===0&&y.forEach(Fe=>{const we=e.find(ke=>ke.id===Fe);we&&(Bt.current[Fe]={x:we.x,y:we.y})})},onDrag:(F,z)=>{const j=Le.current.getBoundingClientRect(),X=(F.clientX-j.left-oe.current.x)/ie.current,ee=(F.clientY-j.top-oe.current.y)/ie.current,ce=X-St.current.offsetX,ye=ee-St.current.offsetY;y.length>1&&y.includes(L.id)?Yt({x:ce-St.current.initialX,y:ye-St.current.initialY}):n(Fe=>Fe.map(we=>we.id===L.id?{...we,x:ce,y:ye}:we))},onStop:async(F,z)=>{const j=Le.current.getBoundingClientRect(),X=(F.clientX-j.left-oe.current.x)/ie.current,ee=(F.clientY-j.top-oe.current.y)/ie.current,ce=X-St.current.offsetX,ye=ee-St.current.offsetY;if(Math.sqrt(Math.pow(ce-St.current.initialX,2)+Math.pow(ye-St.current.initialY,2))<.01){Qe(!1);return}if(y.length>1){oo();const ke=ce-St.current.initialX,He=ye-St.current.initialY,Ye={};y.forEach(je=>{const zt=Bt.current[je];zt&&(Ye[je]={x:zt.x+ke,y:zt.y+He})}),n(je=>je.map(zt=>y.includes(zt.id)&&Ye[zt.id]&&zt.id!==L.id?{...zt,x:Ye[zt.id].x,y:Ye[zt.id].y}:zt));const jt=ci(be);y.forEach(je=>{if(Ye[je]){const zt=sn(be,"mindMaps",t,"nodes",je);jt.update(zt,{x:Ye[je].x,y:Ye[je].y})}});try{await jt.commit()}catch(je){console.error("Error updating nodes in batch:",je)}Bt.current={},Hr({x:0,y:0})}else{n(ke=>ke.map(He=>He.id===L.id?{...He,x:ce,y:ye}:He));try{const ke=sn(be,"mindMaps",t,"nodes",L.id);await gu(ke,{x:ce,y:ye})}catch(ke){console.error("Error updating node position:",ke)}}Qe(!1)}},L.id)),_&&(()=>{const L=(_.width+_.height)/2,F=Math.max(1,L*.02);return A.jsx("svg",{style:{position:"absolute",left:_.x,top:_.y,width:_.width,height:_.height,pointerEvents:"none",zIndex:500},children:A.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"rgba(128,128,128,0.1)",stroke:"white",strokeWidth:F})})})()]}),A.jsx(Bl,{}),A.jsx(PIe,{localCursor:P,canvasCenter:Vl(),mergeMindMapData:is,isChatOpen:wf,setIsChatOpen:Pg})]})};function AIe(){return A.jsxs(j6,{children:[A.jsx(Ym,{path:"/",element:A.jsx(kie,{})}),A.jsx(Ym,{path:"/dashboard",element:A.jsx(Die,{})}),A.jsx(Ym,{path:"/editor/:id",element:A.jsx(kIe,{})})]})}Mw.createRoot(document.getElementById("root")).render(A.jsx(d9,{children:A.jsx(AIe,{})}))});export default OIe();
