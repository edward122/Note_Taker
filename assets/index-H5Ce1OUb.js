var FB=Object.defineProperty;var BB=(t,e,n)=>e in t?FB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var VB=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var zd=(t,e,n)=>(BB(t,typeof e!="symbol"?e+"":e,n),n);var iRe=VB((ki,Oi)=>{function UB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Sa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function jB(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var B2={exports:{}},tv={},V2={exports:{}},St={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh=Symbol.for("react.element"),zB=Symbol.for("react.portal"),WB=Symbol.for("react.fragment"),HB=Symbol.for("react.strict_mode"),GB=Symbol.for("react.profiler"),qB=Symbol.for("react.provider"),KB=Symbol.for("react.context"),YB=Symbol.for("react.forward_ref"),XB=Symbol.for("react.suspense"),QB=Symbol.for("react.memo"),JB=Symbol.for("react.lazy"),KT=Symbol.iterator;function ZB(t){return t===null||typeof t!="object"?null:(t=KT&&t[KT]||t["@@iterator"],typeof t=="function"?t:null)}var U2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j2=Object.assign,z2={};function id(t,e,n){this.props=t,this.context=e,this.refs=z2,this.updater=n||U2}id.prototype.isReactComponent={};id.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};id.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function W2(){}W2.prototype=id.prototype;function o1(t,e,n){this.props=t,this.context=e,this.refs=z2,this.updater=n||U2}var s1=o1.prototype=new W2;s1.constructor=o1;j2(s1,id.prototype);s1.isPureReactComponent=!0;var YT=Array.isArray,H2=Object.prototype.hasOwnProperty,a1={current:null},G2={key:!0,ref:!0,__self:!0,__source:!0};function q2(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)H2.call(e,r)&&!G2.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Qh,type:t,key:o,ref:s,props:i,_owner:a1.current}}function eV(t,e){return{$$typeof:Qh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function l1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qh}function tV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var XT=/\/+/g;function m_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tV(""+t.key):e.toString(36)}function Yg(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Qh:case zB:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+m_(s,0):r,YT(i)?(n="",t!=null&&(n=t.replace(XT,"$&/")+"/"),Yg(i,e,n,"",function(c){return c})):i!=null&&(l1(i)&&(i=eV(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(XT,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",YT(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+m_(o,a);s+=Yg(o,e,n,l,i)}else if(l=ZB(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+m_(o,a++),s+=Yg(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ng(t,e,n){if(t==null)return t;var r=[],i=0;return Yg(t,r,"","",function(o){return e.call(n,o,i++)}),r}function nV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gr={current:null},Xg={transition:null},rV={ReactCurrentDispatcher:Gr,ReactCurrentBatchConfig:Xg,ReactCurrentOwner:a1};St.Children={map:ng,forEach:function(t,e,n){ng(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ng(t,function(){e++}),e},toArray:function(t){return ng(t,function(e){return e})||[]},only:function(t){if(!l1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};St.Component=id;St.Fragment=WB;St.Profiler=GB;St.PureComponent=o1;St.StrictMode=HB;St.Suspense=XB;St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rV;St.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=j2({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=a1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)H2.call(e,l)&&!G2.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Qh,type:t.type,key:i,ref:o,props:r,_owner:s}};St.createContext=function(t){return t={$$typeof:KB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qB,_context:t},t.Consumer=t};St.createElement=q2;St.createFactory=function(t){var e=q2.bind(null,t);return e.type=t,e};St.createRef=function(){return{current:null}};St.forwardRef=function(t){return{$$typeof:YB,render:t}};St.isValidElement=l1;St.lazy=function(t){return{$$typeof:JB,_payload:{_status:-1,_result:t},_init:nV}};St.memo=function(t,e){return{$$typeof:QB,type:t,compare:e===void 0?null:e}};St.startTransition=function(t){var e=Xg.transition;Xg.transition={};try{t()}finally{Xg.transition=e}};St.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};St.useCallback=function(t,e){return Gr.current.useCallback(t,e)};St.useContext=function(t){return Gr.current.useContext(t)};St.useDebugValue=function(){};St.useDeferredValue=function(t){return Gr.current.useDeferredValue(t)};St.useEffect=function(t,e){return Gr.current.useEffect(t,e)};St.useId=function(){return Gr.current.useId()};St.useImperativeHandle=function(t,e,n){return Gr.current.useImperativeHandle(t,e,n)};St.useInsertionEffect=function(t,e){return Gr.current.useInsertionEffect(t,e)};St.useLayoutEffect=function(t,e){return Gr.current.useLayoutEffect(t,e)};St.useMemo=function(t,e){return Gr.current.useMemo(t,e)};St.useReducer=function(t,e,n){return Gr.current.useReducer(t,e,n)};St.useRef=function(t){return Gr.current.useRef(t)};St.useState=function(t){return Gr.current.useState(t)};St.useSyncExternalStore=function(t,e,n){return Gr.current.useSyncExternalStore(t,e,n)};St.useTransition=function(){return Gr.current.useTransition()};St.version="18.2.0";V2.exports=St;var E=V2.exports;const L=Xh(E),Lb=UB({__proto__:null,default:L},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iV=E,oV=Symbol.for("react.element"),sV=Symbol.for("react.fragment"),aV=Object.prototype.hasOwnProperty,lV=iV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cV={key:!0,ref:!0,__self:!0,__source:!0};function K2(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)aV.call(e,r)&&!cV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:oV,type:t,key:o,ref:s,props:i,_owner:lV.current}}tv.Fragment=sV;tv.jsx=K2;tv.jsxs=K2;B2.exports=tv;var M=B2.exports,Fb={},Y2={exports:{}},Vi={},X2={exports:{}},Q2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,B){var K=U.length;U.push(B);e:for(;0<K;){var ne=K-1>>>1,fe=U[ne];if(0<i(fe,B))U[ne]=B,U[K]=fe,K=ne;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var B=U[0],K=U.pop();if(K!==B){U[0]=K;e:for(var ne=0,fe=U.length,ge=fe>>>1;ne<ge;){var be=2*(ne+1)-1,le=U[be],ke=be+1,Oe=U[ke];if(0>i(le,K))ke<fe&&0>i(Oe,le)?(U[ne]=Oe,U[ke]=K,ne=ke):(U[ne]=le,U[be]=K,ne=be);else if(ke<fe&&0>i(Oe,K))U[ne]=Oe,U[ke]=K,ne=ke;else break e}}return B}function i(U,B){var K=U.sortIndex-B.sortIndex;return K!==0?K:U.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,f=null,h=3,p=!1,m=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(U){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=U)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function S(U){if(b=!1,v(U),!m)if(n(l)!==null)m=!0,j(k);else{var B=n(c);B!==null&&Y(S,B.startTime-U)}}function k(U,B){m=!1,b&&(b=!1,_(T),T=-1),p=!0;var K=h;try{for(v(B),f=n(l);f!==null&&(!(f.expirationTime>B)||U&&!P());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,h=f.priorityLevel;var fe=ne(f.expirationTime<=B);B=t.unstable_now(),typeof fe=="function"?f.callback=fe:f===n(l)&&r(l),v(B)}else r(l);f=n(l)}if(f!==null)var ge=!0;else{var be=n(c);be!==null&&Y(S,be.startTime-B),ge=!1}return ge}finally{f=null,h=K,p=!1}}var N=!1,I=null,T=-1,R=5,y=-1;function P(){return!(t.unstable_now()-y<R)}function $(){if(I!==null){var U=t.unstable_now();y=U;var B=!0;try{B=I(!0,U)}finally{B?A():(N=!1,I=null)}}else N=!1}var A;if(typeof w=="function")A=function(){w($)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,q=W.port2;W.port1.onmessage=$,A=function(){q.postMessage(null)}}else A=function(){x($,0)};function j(U){I=U,N||(N=!0,A())}function Y(U,B){T=x(function(){U(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,j(k))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var K=h;h=B;try{return U()}finally{h=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,B){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var K=h;h=U;try{return B()}finally{h=K}},t.unstable_scheduleCallback=function(U,B,K){var ne=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,U){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=K+fe,U={id:u++,callback:B,priorityLevel:U,startTime:K,expirationTime:fe,sortIndex:-1},K>ne?(U.sortIndex=K,e(c,U),n(l)===null&&U===n(c)&&(b?(_(T),T=-1):b=!0,Y(S,K-ne))):(U.sortIndex=fe,e(l,U),m||p||(m=!0,j(k))),U},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(U){var B=h;return function(){var K=h;h=B;try{return U.apply(this,arguments)}finally{h=K}}}})(Q2);X2.exports=Q2;var uV=X2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J2=E,Li=uV;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z2=new Set,sh={};function ic(t,e){ku(t,e),ku(t+"Capture",e)}function ku(t,e){for(sh[t]=e,t=0;t<e.length;t++)Z2.add(e[t])}var $s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bb=Object.prototype.hasOwnProperty,dV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,QT={},JT={};function fV(t){return Bb.call(JT,t)?!0:Bb.call(QT,t)?!1:dV.test(t)?JT[t]=!0:(QT[t]=!0,!1)}function hV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pV(t,e,n,r){if(e===null||typeof e>"u"||hV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qr(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vr[t]=new qr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vr[e]=new qr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vr[t]=new qr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vr[t]=new qr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vr[t]=new qr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vr[t]=new qr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vr[t]=new qr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vr[t]=new qr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vr[t]=new qr(t,5,!1,t.toLowerCase(),null,!1,!1)});var c1=/[\-:]([a-z])/g;function u1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(c1,u1);vr[e]=new qr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(c1,u1);vr[e]=new qr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(c1,u1);vr[e]=new qr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vr[t]=new qr(t,1,!1,t.toLowerCase(),null,!1,!1)});vr.xlinkHref=new qr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vr[t]=new qr(t,1,!1,t.toLowerCase(),null,!0,!0)});function d1(t,e,n,r){var i=vr.hasOwnProperty(e)?vr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pV(e,n,i,r)&&(n=null),r||i===null?fV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qs=J2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rg=Symbol.for("react.element"),eu=Symbol.for("react.portal"),tu=Symbol.for("react.fragment"),f1=Symbol.for("react.strict_mode"),Vb=Symbol.for("react.profiler"),eN=Symbol.for("react.provider"),tN=Symbol.for("react.context"),h1=Symbol.for("react.forward_ref"),Ub=Symbol.for("react.suspense"),jb=Symbol.for("react.suspense_list"),p1=Symbol.for("react.memo"),pa=Symbol.for("react.lazy"),nN=Symbol.for("react.offscreen"),ZT=Symbol.iterator;function Wd(t){return t===null||typeof t!="object"?null:(t=ZT&&t[ZT]||t["@@iterator"],typeof t=="function"?t:null)}var En=Object.assign,y_;function yf(t){if(y_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);y_=e&&e[1]||""}return`
`+y_+t}var v_=!1;function __(t,e){if(!t||v_)return"";v_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{v_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yf(t):""}function gV(t){switch(t.tag){case 5:return yf(t.type);case 16:return yf("Lazy");case 13:return yf("Suspense");case 19:return yf("SuspenseList");case 0:case 2:case 15:return t=__(t.type,!1),t;case 11:return t=__(t.type.render,!1),t;case 1:return t=__(t.type,!0),t;default:return""}}function zb(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tu:return"Fragment";case eu:return"Portal";case Vb:return"Profiler";case f1:return"StrictMode";case Ub:return"Suspense";case jb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tN:return(t.displayName||"Context")+".Consumer";case eN:return(t._context.displayName||"Context")+".Provider";case h1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case p1:return e=t.displayName||null,e!==null?e:zb(t.type)||"Memo";case pa:e=t._payload,t=t._init;try{return zb(t(e))}catch{}}return null}function mV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zb(e);case 8:return e===f1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yV(t){var e=rN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ig(t){t._valueTracker||(t._valueTracker=yV(t))}function iN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Im(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wb(t,e){var n=e.checked;return En({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function eI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Wa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oN(t,e){e=e.checked,e!=null&&d1(t,"checked",e,!1)}function Hb(t,e){oN(t,e);var n=Wa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gb(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gb(t,e.type,Wa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gb(t,e,n){(e!=="number"||Im(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vf=Array.isArray;function pu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Wa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return En({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(vf(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Wa(n)}}function sN(t,e){var n=Wa(e.value),r=Wa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function rI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var og,lN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(og=og||document.createElement("div"),og.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=og.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ah(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vV=["Webkit","ms","Moz","O"];Object.keys(Nf).forEach(function(t){vV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nf[e]=Nf[t]})});function cN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nf.hasOwnProperty(t)&&Nf[t]?(""+e).trim():e+"px"}function uN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=cN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var _V=En({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yb(t,e){if(e){if(_V[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function Xb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qb=null;function g1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jb=null,gu=null,mu=null;function iI(t){if(t=ep(t)){if(typeof Jb!="function")throw Error(re(280));var e=t.stateNode;e&&(e=sv(e),Jb(t.stateNode,t.type,e))}}function dN(t){gu?mu?mu.push(t):mu=[t]:gu=t}function fN(){if(gu){var t=gu,e=mu;if(mu=gu=null,iI(t),e)for(t=0;t<e.length;t++)iI(e[t])}}function hN(t,e){return t(e)}function pN(){}var b_=!1;function gN(t,e,n){if(b_)return t(e,n);b_=!0;try{return hN(t,e,n)}finally{b_=!1,(gu!==null||mu!==null)&&(pN(),fN())}}function lh(t,e){var n=t.stateNode;if(n===null)return null;var r=sv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var Zb=!1;if($s)try{var Hd={};Object.defineProperty(Hd,"passive",{get:function(){Zb=!0}}),window.addEventListener("test",Hd,Hd),window.removeEventListener("test",Hd,Hd)}catch{Zb=!1}function bV(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var $f=!1,Rm=null,Pm=!1,ew=null,wV={onError:function(t){$f=!0,Rm=t}};function EV(t,e,n,r,i,o,s,a,l){$f=!1,Rm=null,bV.apply(wV,arguments)}function xV(t,e,n,r,i,o,s,a,l){if(EV.apply(this,arguments),$f){if($f){var c=Rm;$f=!1,Rm=null}else throw Error(re(198));Pm||(Pm=!0,ew=c)}}function oc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function oI(t){if(oc(t)!==t)throw Error(re(188))}function SV(t){var e=t.alternate;if(!e){if(e=oc(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return oI(i),t;if(o===r)return oI(i),e;o=o.sibling}throw Error(re(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function yN(t){return t=SV(t),t!==null?vN(t):null}function vN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vN(t);if(e!==null)return e;t=t.sibling}return null}var _N=Li.unstable_scheduleCallback,sI=Li.unstable_cancelCallback,CV=Li.unstable_shouldYield,TV=Li.unstable_requestPaint,Fn=Li.unstable_now,IV=Li.unstable_getCurrentPriorityLevel,m1=Li.unstable_ImmediatePriority,bN=Li.unstable_UserBlockingPriority,Am=Li.unstable_NormalPriority,RV=Li.unstable_LowPriority,wN=Li.unstable_IdlePriority,nv=null,Qo=null;function PV(t){if(Qo&&typeof Qo.onCommitFiberRoot=="function")try{Qo.onCommitFiberRoot(nv,t,void 0,(t.current.flags&128)===128)}catch{}}var Io=Math.clz32?Math.clz32:OV,AV=Math.log,kV=Math.LN2;function OV(t){return t>>>=0,t===0?32:31-(AV(t)/kV|0)|0}var sg=64,ag=4194304;function _f(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function km(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=_f(a):(o&=s,o!==0&&(r=_f(o)))}else s=n&~i,s!==0?r=_f(s):o!==0&&(r=_f(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Io(e),i=1<<n,r|=t[n],e&=~i;return r}function NV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $V(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Io(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=NV(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function tw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function EN(){var t=sg;return sg<<=1,!(sg&4194240)&&(sg=64),t}function w_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Io(e),t[e]=n}function MV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Io(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function y1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Io(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var jt=0;function xN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var SN,v1,CN,TN,IN,nw=!1,lg=[],Pa=null,Aa=null,ka=null,ch=new Map,uh=new Map,ma=[],DV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aI(t,e){switch(t){case"focusin":case"focusout":Pa=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":ka=null;break;case"pointerover":case"pointerout":ch.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":uh.delete(e.pointerId)}}function Gd(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ep(e),e!==null&&v1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function LV(t,e,n,r,i){switch(e){case"focusin":return Pa=Gd(Pa,t,e,n,r,i),!0;case"dragenter":return Aa=Gd(Aa,t,e,n,r,i),!0;case"mouseover":return ka=Gd(ka,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ch.set(o,Gd(ch.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,uh.set(o,Gd(uh.get(o)||null,t,e,n,r,i)),!0}return!1}function RN(t){var e=Il(t.target);if(e!==null){var n=oc(e);if(n!==null){if(e=n.tag,e===13){if(e=mN(n),e!==null){t.blockedOn=e,IN(t.priority,function(){CN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qb=r,n.target.dispatchEvent(r),Qb=null}else return e=ep(n),e!==null&&v1(e),t.blockedOn=n,!1;e.shift()}return!0}function lI(t,e,n){Qg(t)&&n.delete(e)}function FV(){nw=!1,Pa!==null&&Qg(Pa)&&(Pa=null),Aa!==null&&Qg(Aa)&&(Aa=null),ka!==null&&Qg(ka)&&(ka=null),ch.forEach(lI),uh.forEach(lI)}function qd(t,e){t.blockedOn===e&&(t.blockedOn=null,nw||(nw=!0,Li.unstable_scheduleCallback(Li.unstable_NormalPriority,FV)))}function dh(t){function e(i){return qd(i,t)}if(0<lg.length){qd(lg[0],t);for(var n=1;n<lg.length;n++){var r=lg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Pa!==null&&qd(Pa,t),Aa!==null&&qd(Aa,t),ka!==null&&qd(ka,t),ch.forEach(e),uh.forEach(e),n=0;n<ma.length;n++)r=ma[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ma.length&&(n=ma[0],n.blockedOn===null);)RN(n),n.blockedOn===null&&ma.shift()}var yu=Qs.ReactCurrentBatchConfig,Om=!0;function BV(t,e,n,r){var i=jt,o=yu.transition;yu.transition=null;try{jt=1,_1(t,e,n,r)}finally{jt=i,yu.transition=o}}function VV(t,e,n,r){var i=jt,o=yu.transition;yu.transition=null;try{jt=4,_1(t,e,n,r)}finally{jt=i,yu.transition=o}}function _1(t,e,n,r){if(Om){var i=rw(t,e,n,r);if(i===null)k_(t,e,r,Nm,n),aI(t,r);else if(LV(i,t,e,n,r))r.stopPropagation();else if(aI(t,r),e&4&&-1<DV.indexOf(t)){for(;i!==null;){var o=ep(i);if(o!==null&&SN(o),o=rw(t,e,n,r),o===null&&k_(t,e,r,Nm,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else k_(t,e,r,null,n)}}var Nm=null;function rw(t,e,n,r){if(Nm=null,t=g1(r),t=Il(t),t!==null)if(e=oc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nm=t,null}function PN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IV()){case m1:return 1;case bN:return 4;case Am:case RV:return 16;case wN:return 536870912;default:return 16}default:return 16}}var Ca=null,b1=null,Jg=null;function AN(){if(Jg)return Jg;var t,e=b1,n=e.length,r,i="value"in Ca?Ca.value:Ca.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Jg=i.slice(t,1<r?1-r:void 0)}function Zg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cg(){return!0}function cI(){return!1}function Ui(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?cg:cI,this.isPropagationStopped=cI,this}return En(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cg)},persist:function(){},isPersistent:cg}),e}var od={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},w1=Ui(od),Zh=En({},od,{view:0,detail:0}),UV=Ui(Zh),E_,x_,Kd,rv=En({},Zh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:E1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kd&&(Kd&&t.type==="mousemove"?(E_=t.screenX-Kd.screenX,x_=t.screenY-Kd.screenY):x_=E_=0,Kd=t),E_)},movementY:function(t){return"movementY"in t?t.movementY:x_}}),uI=Ui(rv),jV=En({},rv,{dataTransfer:0}),zV=Ui(jV),WV=En({},Zh,{relatedTarget:0}),S_=Ui(WV),HV=En({},od,{animationName:0,elapsedTime:0,pseudoElement:0}),GV=Ui(HV),qV=En({},od,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KV=Ui(qV),YV=En({},od,{data:0}),dI=Ui(YV),XV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JV[t])?!!e[t]:!1}function E1(){return ZV}var eU=En({},Zh,{key:function(t){if(t.key){var e=XV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?QV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:E1,charCode:function(t){return t.type==="keypress"?Zg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tU=Ui(eU),nU=En({},rv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fI=Ui(nU),rU=En({},Zh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:E1}),iU=Ui(rU),oU=En({},od,{propertyName:0,elapsedTime:0,pseudoElement:0}),sU=Ui(oU),aU=En({},rv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lU=Ui(aU),cU=[9,13,27,32],x1=$s&&"CompositionEvent"in window,Mf=null;$s&&"documentMode"in document&&(Mf=document.documentMode);var uU=$s&&"TextEvent"in window&&!Mf,kN=$s&&(!x1||Mf&&8<Mf&&11>=Mf),hI=String.fromCharCode(32),pI=!1;function ON(t,e){switch(t){case"keyup":return cU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nu=!1;function dU(t,e){switch(t){case"compositionend":return NN(e);case"keypress":return e.which!==32?null:(pI=!0,hI);case"textInput":return t=e.data,t===hI&&pI?null:t;default:return null}}function fU(t,e){if(nu)return t==="compositionend"||!x1&&ON(t,e)?(t=AN(),Jg=b1=Ca=null,nu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kN&&e.locale!=="ko"?null:e.data;default:return null}}var hU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hU[t.type]:e==="textarea"}function $N(t,e,n,r){dN(r),e=$m(e,"onChange"),0<e.length&&(n=new w1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Df=null,fh=null;function pU(t){HN(t,0)}function iv(t){var e=ou(t);if(iN(e))return t}function gU(t,e){if(t==="change")return e}var MN=!1;if($s){var C_;if($s){var T_="oninput"in document;if(!T_){var mI=document.createElement("div");mI.setAttribute("oninput","return;"),T_=typeof mI.oninput=="function"}C_=T_}else C_=!1;MN=C_&&(!document.documentMode||9<document.documentMode)}function yI(){Df&&(Df.detachEvent("onpropertychange",DN),fh=Df=null)}function DN(t){if(t.propertyName==="value"&&iv(fh)){var e=[];$N(e,fh,t,g1(t)),gN(pU,e)}}function mU(t,e,n){t==="focusin"?(yI(),Df=e,fh=n,Df.attachEvent("onpropertychange",DN)):t==="focusout"&&yI()}function yU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return iv(fh)}function vU(t,e){if(t==="click")return iv(e)}function _U(t,e){if(t==="input"||t==="change")return iv(e)}function bU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ko=typeof Object.is=="function"?Object.is:bU;function hh(t,e){if(ko(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bb.call(e,i)||!ko(t[i],e[i]))return!1}return!0}function vI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _I(t,e){var n=vI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vI(n)}}function LN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function FN(){for(var t=window,e=Im();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Im(t.document)}return e}function S1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wU(t){var e=FN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&LN(n.ownerDocument.documentElement,n)){if(r!==null&&S1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=_I(n,o);var s=_I(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var EU=$s&&"documentMode"in document&&11>=document.documentMode,ru=null,iw=null,Lf=null,ow=!1;function bI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ow||ru==null||ru!==Im(r)||(r=ru,"selectionStart"in r&&S1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lf&&hh(Lf,r)||(Lf=r,r=$m(iw,"onSelect"),0<r.length&&(e=new w1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ru)))}function ug(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var iu={animationend:ug("Animation","AnimationEnd"),animationiteration:ug("Animation","AnimationIteration"),animationstart:ug("Animation","AnimationStart"),transitionend:ug("Transition","TransitionEnd")},I_={},BN={};$s&&(BN=document.createElement("div").style,"AnimationEvent"in window||(delete iu.animationend.animation,delete iu.animationiteration.animation,delete iu.animationstart.animation),"TransitionEvent"in window||delete iu.transitionend.transition);function ov(t){if(I_[t])return I_[t];if(!iu[t])return t;var e=iu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in BN)return I_[t]=e[n];return t}var VN=ov("animationend"),UN=ov("animationiteration"),jN=ov("animationstart"),zN=ov("transitionend"),WN=new Map,wI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ol(t,e){WN.set(t,e),ic(e,[t])}for(var R_=0;R_<wI.length;R_++){var P_=wI[R_],xU=P_.toLowerCase(),SU=P_[0].toUpperCase()+P_.slice(1);ol(xU,"on"+SU)}ol(VN,"onAnimationEnd");ol(UN,"onAnimationIteration");ol(jN,"onAnimationStart");ol("dblclick","onDoubleClick");ol("focusin","onFocus");ol("focusout","onBlur");ol(zN,"onTransitionEnd");ku("onMouseEnter",["mouseout","mouseover"]);ku("onMouseLeave",["mouseout","mouseover"]);ku("onPointerEnter",["pointerout","pointerover"]);ku("onPointerLeave",["pointerout","pointerover"]);ic("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ic("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ic("onBeforeInput",["compositionend","keypress","textInput","paste"]);ic("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ic("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ic("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CU=new Set("cancel close invalid load scroll toggle".split(" ").concat(bf));function EI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,xV(r,e,void 0,t),t.currentTarget=null}function HN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;EI(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;EI(i,a,c),o=l}}}if(Pm)throw t=ew,Pm=!1,ew=null,t}function ln(t,e){var n=e[uw];n===void 0&&(n=e[uw]=new Set);var r=t+"__bubble";n.has(r)||(GN(e,t,2,!1),n.add(r))}function A_(t,e,n){var r=0;e&&(r|=4),GN(n,t,r,e)}var dg="_reactListening"+Math.random().toString(36).slice(2);function ph(t){if(!t[dg]){t[dg]=!0,Z2.forEach(function(n){n!=="selectionchange"&&(CU.has(n)||A_(n,!1,t),A_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dg]||(e[dg]=!0,A_("selectionchange",!1,e))}}function GN(t,e,n,r){switch(PN(e)){case 1:var i=BV;break;case 4:i=VV;break;default:i=_1}n=i.bind(null,e,n,t),i=void 0,!Zb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function k_(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Il(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}gN(function(){var c=o,u=g1(n),f=[];e:{var h=WN.get(t);if(h!==void 0){var p=w1,m=t;switch(t){case"keypress":if(Zg(n)===0)break e;case"keydown":case"keyup":p=tU;break;case"focusin":m="focus",p=S_;break;case"focusout":m="blur",p=S_;break;case"beforeblur":case"afterblur":p=S_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=uI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=zV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=iU;break;case VN:case UN:case jN:p=GV;break;case zN:p=sU;break;case"scroll":p=UV;break;case"wheel":p=lU;break;case"copy":case"cut":case"paste":p=KV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=fI}var b=(e&4)!==0,x=!b&&t==="scroll",_=b?h!==null?h+"Capture":null:h;b=[];for(var w=c,v;w!==null;){v=w;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,_!==null&&(S=lh(w,_),S!=null&&b.push(gh(w,S,v)))),x)break;w=w.return}0<b.length&&(h=new p(h,m,null,n,u),f.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Qb&&(m=n.relatedTarget||n.fromElement)&&(Il(m)||m[Ms]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Il(m):null,m!==null&&(x=oc(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(b=uI,S="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(b=fI,S="onPointerLeave",_="onPointerEnter",w="pointer"),x=p==null?h:ou(p),v=m==null?h:ou(m),h=new b(S,w+"leave",p,n,u),h.target=x,h.relatedTarget=v,S=null,Il(u)===c&&(b=new b(_,w+"enter",m,n,u),b.target=v,b.relatedTarget=x,S=b),x=S,p&&m)t:{for(b=p,_=m,w=0,v=b;v;v=Ec(v))w++;for(v=0,S=_;S;S=Ec(S))v++;for(;0<w-v;)b=Ec(b),w--;for(;0<v-w;)_=Ec(_),v--;for(;w--;){if(b===_||_!==null&&b===_.alternate)break t;b=Ec(b),_=Ec(_)}b=null}else b=null;p!==null&&xI(f,h,p,b,!1),m!==null&&x!==null&&xI(f,x,m,b,!0)}}e:{if(h=c?ou(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=gU;else if(gI(h))if(MN)k=_U;else{k=yU;var N=mU}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=vU);if(k&&(k=k(t,c))){$N(f,k,n,u);break e}N&&N(t,h,c),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Gb(h,"number",h.value)}switch(N=c?ou(c):window,t){case"focusin":(gI(N)||N.contentEditable==="true")&&(ru=N,iw=c,Lf=null);break;case"focusout":Lf=iw=ru=null;break;case"mousedown":ow=!0;break;case"contextmenu":case"mouseup":case"dragend":ow=!1,bI(f,n,u);break;case"selectionchange":if(EU)break;case"keydown":case"keyup":bI(f,n,u)}var I;if(x1)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else nu?ON(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(kN&&n.locale!=="ko"&&(nu||T!=="onCompositionStart"?T==="onCompositionEnd"&&nu&&(I=AN()):(Ca=u,b1="value"in Ca?Ca.value:Ca.textContent,nu=!0)),N=$m(c,T),0<N.length&&(T=new dI(T,t,null,n,u),f.push({event:T,listeners:N}),I?T.data=I:(I=NN(n),I!==null&&(T.data=I)))),(I=uU?dU(t,n):fU(t,n))&&(c=$m(c,"onBeforeInput"),0<c.length&&(u=new dI("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=I))}HN(f,e)})}function gh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $m(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=lh(t,n),o!=null&&r.unshift(gh(t,o,i)),o=lh(t,e),o!=null&&r.push(gh(t,o,i))),t=t.return}return r}function Ec(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xI(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=lh(n,o),l!=null&&s.unshift(gh(n,l,a))):i||(l=lh(n,o),l!=null&&s.push(gh(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var TU=/\r\n?/g,IU=/\u0000|\uFFFD/g;function SI(t){return(typeof t=="string"?t:""+t).replace(TU,`
`).replace(IU,"")}function fg(t,e,n){if(e=SI(e),SI(t)!==e&&n)throw Error(re(425))}function Mm(){}var sw=null,aw=null;function lw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cw=typeof setTimeout=="function"?setTimeout:void 0,RU=typeof clearTimeout=="function"?clearTimeout:void 0,CI=typeof Promise=="function"?Promise:void 0,PU=typeof queueMicrotask=="function"?queueMicrotask:typeof CI<"u"?function(t){return CI.resolve(null).then(t).catch(AU)}:cw;function AU(t){setTimeout(function(){throw t})}function O_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),dh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);dh(e)}function Oa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function TI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var sd=Math.random().toString(36).slice(2),Ko="__reactFiber$"+sd,mh="__reactProps$"+sd,Ms="__reactContainer$"+sd,uw="__reactEvents$"+sd,kU="__reactListeners$"+sd,OU="__reactHandles$"+sd;function Il(t){var e=t[Ko];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ms]||n[Ko]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=TI(t);t!==null;){if(n=t[Ko])return n;t=TI(t)}return e}t=n,n=t.parentNode}return null}function ep(t){return t=t[Ko]||t[Ms],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ou(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function sv(t){return t[mh]||null}var dw=[],su=-1;function sl(t){return{current:t}}function hn(t){0>su||(t.current=dw[su],dw[su]=null,su--)}function tn(t,e){su++,dw[su]=t.current,t.current=e}var Ha={},Mr=sl(Ha),li=sl(!1),jl=Ha;function Ou(t,e){var n=t.type.contextTypes;if(!n)return Ha;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ci(t){return t=t.childContextTypes,t!=null}function Dm(){hn(li),hn(Mr)}function II(t,e,n){if(Mr.current!==Ha)throw Error(re(168));tn(Mr,e),tn(li,n)}function qN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(re(108,mV(t)||"Unknown",i));return En({},n,r)}function Lm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ha,jl=Mr.current,tn(Mr,t),tn(li,li.current),!0}function RI(t,e,n){var r=t.stateNode;if(!r)throw Error(re(169));n?(t=qN(t,e,jl),r.__reactInternalMemoizedMergedChildContext=t,hn(li),hn(Mr),tn(Mr,t)):hn(li),tn(li,n)}var xs=null,av=!1,N_=!1;function KN(t){xs===null?xs=[t]:xs.push(t)}function NU(t){av=!0,KN(t)}function al(){if(!N_&&xs!==null){N_=!0;var t=0,e=jt;try{var n=xs;for(jt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xs=null,av=!1}catch(i){throw xs!==null&&(xs=xs.slice(t+1)),_N(m1,al),i}finally{jt=e,N_=!1}}return null}var au=[],lu=0,Fm=null,Bm=0,qi=[],Ki=0,zl=null,Cs=1,Ts="";function _l(t,e){au[lu++]=Bm,au[lu++]=Fm,Fm=t,Bm=e}function YN(t,e,n){qi[Ki++]=Cs,qi[Ki++]=Ts,qi[Ki++]=zl,zl=t;var r=Cs;t=Ts;var i=32-Io(r)-1;r&=~(1<<i),n+=1;var o=32-Io(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Cs=1<<32-Io(e)+i|n<<i|r,Ts=o+t}else Cs=1<<o|n<<i|r,Ts=t}function C1(t){t.return!==null&&(_l(t,1),YN(t,1,0))}function T1(t){for(;t===Fm;)Fm=au[--lu],au[lu]=null,Bm=au[--lu],au[lu]=null;for(;t===zl;)zl=qi[--Ki],qi[Ki]=null,Ts=qi[--Ki],qi[Ki]=null,Cs=qi[--Ki],qi[Ki]=null}var Ni=null,Ri=null,vn=!1,wo=null;function XN(t,e){var n=Ji(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function PI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ni=t,Ri=Oa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ni=t,Ri=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zl!==null?{id:Cs,overflow:Ts}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ji(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ni=t,Ri=null,!0):!1;default:return!1}}function fw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hw(t){if(vn){var e=Ri;if(e){var n=e;if(!PI(t,e)){if(fw(t))throw Error(re(418));e=Oa(n.nextSibling);var r=Ni;e&&PI(t,e)?XN(r,n):(t.flags=t.flags&-4097|2,vn=!1,Ni=t)}}else{if(fw(t))throw Error(re(418));t.flags=t.flags&-4097|2,vn=!1,Ni=t}}}function AI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ni=t}function hg(t){if(t!==Ni)return!1;if(!vn)return AI(t),vn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lw(t.type,t.memoizedProps)),e&&(e=Ri)){if(fw(t))throw QN(),Error(re(418));for(;e;)XN(t,e),e=Oa(e.nextSibling)}if(AI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ri=Oa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ri=null}}else Ri=Ni?Oa(t.stateNode.nextSibling):null;return!0}function QN(){for(var t=Ri;t;)t=Oa(t.nextSibling)}function Nu(){Ri=Ni=null,vn=!1}function I1(t){wo===null?wo=[t]:wo.push(t)}var $U=Qs.ReactCurrentBatchConfig;function _o(t,e){if(t&&t.defaultProps){e=En({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Vm=sl(null),Um=null,cu=null,R1=null;function P1(){R1=cu=Um=null}function A1(t){var e=Vm.current;hn(Vm),t._currentValue=e}function pw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vu(t,e){Um=t,R1=cu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ri=!0),t.firstContext=null)}function no(t){var e=t._currentValue;if(R1!==t)if(t={context:t,memoizedValue:e,next:null},cu===null){if(Um===null)throw Error(re(308));cu=t,Um.dependencies={lanes:0,firstContext:t}}else cu=cu.next=t;return e}var Rl=null;function k1(t){Rl===null?Rl=[t]:Rl.push(t)}function JN(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,k1(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ds(t,r)}function Ds(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ga=!1;function O1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function As(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Na(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ot&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ds(t,n)}return i=r.interleaved,i===null?(e.next=e,k1(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ds(t,n)}function em(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,y1(t,n)}}function kI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jm(t,e,n,r){var i=t.updateQueue;ga=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,b=a;switch(h=e,p=n,b.tag){case 1:if(m=b.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=b.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=En({},f,h);break e;case 2:ga=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Hl|=s,t.lanes=s,t.memoizedState=f}}function OI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(re(191,i));i.call(r)}}}var e$=new J2.Component().refs;function gw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:En({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lv={isMounted:function(t){return(t=t._reactInternals)?oc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zr(),i=Ma(t),o=As(r,i);o.payload=e,n!=null&&(o.callback=n),e=Na(t,o,i),e!==null&&(Ro(e,t,i,r),em(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zr(),i=Ma(t),o=As(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Na(t,o,i),e!==null&&(Ro(e,t,i,r),em(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zr(),r=Ma(t),i=As(n,r);i.tag=2,e!=null&&(i.callback=e),e=Na(t,i,r),e!==null&&(Ro(e,t,r,n),em(e,t,r))}};function NI(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!hh(n,r)||!hh(i,o):!0}function t$(t,e,n){var r=!1,i=Ha,o=e.contextType;return typeof o=="object"&&o!==null?o=no(o):(i=ci(e)?jl:Mr.current,r=e.contextTypes,o=(r=r!=null)?Ou(t,i):Ha),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function $I(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&lv.enqueueReplaceState(e,e.state,null)}function mw(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=e$,O1(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=no(o):(o=ci(e)?jl:Mr.current,i.context=Ou(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(gw(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&lv.enqueueReplaceState(i,i.state,null),jm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Yd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===e$&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function pg(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function MI(t){var e=t._init;return e(t._payload)}function n$(t){function e(_,w){if(t){var v=_.deletions;v===null?(_.deletions=[w],_.flags|=16):v.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(_,w){return _=Da(_,w),_.index=0,_.sibling=null,_}function o(_,w,v){return _.index=v,t?(v=_.alternate,v!==null?(v=v.index,v<w?(_.flags|=2,w):v):(_.flags|=2,w)):(_.flags|=1048576,w)}function s(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,v,S){return w===null||w.tag!==6?(w=V_(v,_.mode,S),w.return=_,w):(w=i(w,v),w.return=_,w)}function l(_,w,v,S){var k=v.type;return k===tu?u(_,w,v.props.children,S,v.key):w!==null&&(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===pa&&MI(k)===w.type)?(S=i(w,v.props),S.ref=Yd(_,w,v),S.return=_,S):(S=sm(v.type,v.key,v.props,null,_.mode,S),S.ref=Yd(_,w,v),S.return=_,S)}function c(_,w,v,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==v.containerInfo||w.stateNode.implementation!==v.implementation?(w=U_(v,_.mode,S),w.return=_,w):(w=i(w,v.children||[]),w.return=_,w)}function u(_,w,v,S,k){return w===null||w.tag!==7?(w=Ll(v,_.mode,S,k),w.return=_,w):(w=i(w,v),w.return=_,w)}function f(_,w,v){if(typeof w=="string"&&w!==""||typeof w=="number")return w=V_(""+w,_.mode,v),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rg:return v=sm(w.type,w.key,w.props,null,_.mode,v),v.ref=Yd(_,null,w),v.return=_,v;case eu:return w=U_(w,_.mode,v),w.return=_,w;case pa:var S=w._init;return f(_,S(w._payload),v)}if(vf(w)||Wd(w))return w=Ll(w,_.mode,v,null),w.return=_,w;pg(_,w)}return null}function h(_,w,v,S){var k=w!==null?w.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(_,w,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case rg:return v.key===k?l(_,w,v,S):null;case eu:return v.key===k?c(_,w,v,S):null;case pa:return k=v._init,h(_,w,k(v._payload),S)}if(vf(v)||Wd(v))return k!==null?null:u(_,w,v,S,null);pg(_,v)}return null}function p(_,w,v,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return _=_.get(v)||null,a(w,_,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case rg:return _=_.get(S.key===null?v:S.key)||null,l(w,_,S,k);case eu:return _=_.get(S.key===null?v:S.key)||null,c(w,_,S,k);case pa:var N=S._init;return p(_,w,v,N(S._payload),k)}if(vf(S)||Wd(S))return _=_.get(v)||null,u(w,_,S,k,null);pg(w,S)}return null}function m(_,w,v,S){for(var k=null,N=null,I=w,T=w=0,R=null;I!==null&&T<v.length;T++){I.index>T?(R=I,I=null):R=I.sibling;var y=h(_,I,v[T],S);if(y===null){I===null&&(I=R);break}t&&I&&y.alternate===null&&e(_,I),w=o(y,w,T),N===null?k=y:N.sibling=y,N=y,I=R}if(T===v.length)return n(_,I),vn&&_l(_,T),k;if(I===null){for(;T<v.length;T++)I=f(_,v[T],S),I!==null&&(w=o(I,w,T),N===null?k=I:N.sibling=I,N=I);return vn&&_l(_,T),k}for(I=r(_,I);T<v.length;T++)R=p(I,_,T,v[T],S),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?T:R.key),w=o(R,w,T),N===null?k=R:N.sibling=R,N=R);return t&&I.forEach(function(P){return e(_,P)}),vn&&_l(_,T),k}function b(_,w,v,S){var k=Wd(v);if(typeof k!="function")throw Error(re(150));if(v=k.call(v),v==null)throw Error(re(151));for(var N=k=null,I=w,T=w=0,R=null,y=v.next();I!==null&&!y.done;T++,y=v.next()){I.index>T?(R=I,I=null):R=I.sibling;var P=h(_,I,y.value,S);if(P===null){I===null&&(I=R);break}t&&I&&P.alternate===null&&e(_,I),w=o(P,w,T),N===null?k=P:N.sibling=P,N=P,I=R}if(y.done)return n(_,I),vn&&_l(_,T),k;if(I===null){for(;!y.done;T++,y=v.next())y=f(_,y.value,S),y!==null&&(w=o(y,w,T),N===null?k=y:N.sibling=y,N=y);return vn&&_l(_,T),k}for(I=r(_,I);!y.done;T++,y=v.next())y=p(I,_,T,y.value,S),y!==null&&(t&&y.alternate!==null&&I.delete(y.key===null?T:y.key),w=o(y,w,T),N===null?k=y:N.sibling=y,N=y);return t&&I.forEach(function($){return e(_,$)}),vn&&_l(_,T),k}function x(_,w,v,S){if(typeof v=="object"&&v!==null&&v.type===tu&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case rg:e:{for(var k=v.key,N=w;N!==null;){if(N.key===k){if(k=v.type,k===tu){if(N.tag===7){n(_,N.sibling),w=i(N,v.props.children),w.return=_,_=w;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===pa&&MI(k)===N.type){n(_,N.sibling),w=i(N,v.props),w.ref=Yd(_,N,v),w.return=_,_=w;break e}n(_,N);break}else e(_,N);N=N.sibling}v.type===tu?(w=Ll(v.props.children,_.mode,S,v.key),w.return=_,_=w):(S=sm(v.type,v.key,v.props,null,_.mode,S),S.ref=Yd(_,w,v),S.return=_,_=S)}return s(_);case eu:e:{for(N=v.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===v.containerInfo&&w.stateNode.implementation===v.implementation){n(_,w.sibling),w=i(w,v.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=U_(v,_.mode,S),w.return=_,_=w}return s(_);case pa:return N=v._init,x(_,w,N(v._payload),S)}if(vf(v))return m(_,w,v,S);if(Wd(v))return b(_,w,v,S);pg(_,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,w!==null&&w.tag===6?(n(_,w.sibling),w=i(w,v),w.return=_,_=w):(n(_,w),w=V_(v,_.mode,S),w.return=_,_=w),s(_)):n(_,w)}return x}var $u=n$(!0),r$=n$(!1),tp={},Jo=sl(tp),yh=sl(tp),vh=sl(tp);function Pl(t){if(t===tp)throw Error(re(174));return t}function N1(t,e){switch(tn(vh,e),tn(yh,t),tn(Jo,tp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kb(e,t)}hn(Jo),tn(Jo,e)}function Mu(){hn(Jo),hn(yh),hn(vh)}function i$(t){Pl(vh.current);var e=Pl(Jo.current),n=Kb(e,t.type);e!==n&&(tn(yh,t),tn(Jo,n))}function $1(t){yh.current===t&&(hn(Jo),hn(yh))}var _n=sl(0);function zm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $_=[];function M1(){for(var t=0;t<$_.length;t++)$_[t]._workInProgressVersionPrimary=null;$_.length=0}var tm=Qs.ReactCurrentDispatcher,M_=Qs.ReactCurrentBatchConfig,Wl=0,bn=null,Yn=null,nr=null,Wm=!1,Ff=!1,_h=0,MU=0;function Sr(){throw Error(re(321))}function D1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ko(t[n],e[n]))return!1;return!0}function L1(t,e,n,r,i,o){if(Wl=o,bn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tm.current=t===null||t.memoizedState===null?BU:VU,t=n(r,i),Ff){o=0;do{if(Ff=!1,_h=0,25<=o)throw Error(re(301));o+=1,nr=Yn=null,e.updateQueue=null,tm.current=UU,t=n(r,i)}while(Ff)}if(tm.current=Hm,e=Yn!==null&&Yn.next!==null,Wl=0,nr=Yn=bn=null,Wm=!1,e)throw Error(re(300));return t}function F1(){var t=_h!==0;return _h=0,t}function Wo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?bn.memoizedState=nr=t:nr=nr.next=t,nr}function ro(){if(Yn===null){var t=bn.alternate;t=t!==null?t.memoizedState:null}else t=Yn.next;var e=nr===null?bn.memoizedState:nr.next;if(e!==null)nr=e,Yn=t;else{if(t===null)throw Error(re(310));Yn=t,t={memoizedState:Yn.memoizedState,baseState:Yn.baseState,baseQueue:Yn.baseQueue,queue:Yn.queue,next:null},nr===null?bn.memoizedState=nr=t:nr=nr.next=t}return nr}function bh(t,e){return typeof e=="function"?e(t):e}function D_(t){var e=ro(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=Yn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Wl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,bn.lanes|=u,Hl|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,ko(r,e.memoizedState)||(ri=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,bn.lanes|=o,Hl|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function L_(t){var e=ro(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);ko(o,e.memoizedState)||(ri=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function o$(){}function s$(t,e){var n=bn,r=ro(),i=e(),o=!ko(r.memoizedState,i);if(o&&(r.memoizedState=i,ri=!0),r=r.queue,B1(c$.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||nr!==null&&nr.memoizedState.tag&1){if(n.flags|=2048,wh(9,l$.bind(null,n,r,i,e),void 0,null),or===null)throw Error(re(349));Wl&30||a$(n,e,i)}return i}function a$(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=bn.updateQueue,e===null?(e={lastEffect:null,stores:null},bn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function l$(t,e,n,r){e.value=n,e.getSnapshot=r,u$(e)&&d$(t)}function c$(t,e,n){return n(function(){u$(e)&&d$(t)})}function u$(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ko(t,n)}catch{return!0}}function d$(t){var e=Ds(t,1);e!==null&&Ro(e,t,1,-1)}function DI(t){var e=Wo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bh,lastRenderedState:t},e.queue=t,t=t.dispatch=FU.bind(null,bn,t),[e.memoizedState,t]}function wh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=bn.updateQueue,e===null?(e={lastEffect:null,stores:null},bn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function f$(){return ro().memoizedState}function nm(t,e,n,r){var i=Wo();bn.flags|=t,i.memoizedState=wh(1|e,n,void 0,r===void 0?null:r)}function cv(t,e,n,r){var i=ro();r=r===void 0?null:r;var o=void 0;if(Yn!==null){var s=Yn.memoizedState;if(o=s.destroy,r!==null&&D1(r,s.deps)){i.memoizedState=wh(e,n,o,r);return}}bn.flags|=t,i.memoizedState=wh(1|e,n,o,r)}function LI(t,e){return nm(8390656,8,t,e)}function B1(t,e){return cv(2048,8,t,e)}function h$(t,e){return cv(4,2,t,e)}function p$(t,e){return cv(4,4,t,e)}function g$(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function m$(t,e,n){return n=n!=null?n.concat([t]):null,cv(4,4,g$.bind(null,e,t),n)}function V1(){}function y$(t,e){var n=ro();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&D1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function v$(t,e){var n=ro();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&D1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _$(t,e,n){return Wl&21?(ko(n,e)||(n=EN(),bn.lanes|=n,Hl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ri=!0),t.memoizedState=n)}function DU(t,e){var n=jt;jt=n!==0&&4>n?n:4,t(!0);var r=M_.transition;M_.transition={};try{t(!1),e()}finally{jt=n,M_.transition=r}}function b$(){return ro().memoizedState}function LU(t,e,n){var r=Ma(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},w$(t))E$(e,n);else if(n=JN(t,e,n,r),n!==null){var i=zr();Ro(n,t,r,i),x$(n,e,r)}}function FU(t,e,n){var r=Ma(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(w$(t))E$(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ko(a,s)){var l=e.interleaved;l===null?(i.next=i,k1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=JN(t,e,i,r),n!==null&&(i=zr(),Ro(n,t,r,i),x$(n,e,r))}}function w$(t){var e=t.alternate;return t===bn||e!==null&&e===bn}function E$(t,e){Ff=Wm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function x$(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,y1(t,n)}}var Hm={readContext:no,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},BU={readContext:no,useCallback:function(t,e){return Wo().memoizedState=[t,e===void 0?null:e],t},useContext:no,useEffect:LI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nm(4194308,4,g$.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nm(4194308,4,t,e)},useInsertionEffect:function(t,e){return nm(4,2,t,e)},useMemo:function(t,e){var n=Wo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LU.bind(null,bn,t),[r.memoizedState,t]},useRef:function(t){var e=Wo();return t={current:t},e.memoizedState=t},useState:DI,useDebugValue:V1,useDeferredValue:function(t){return Wo().memoizedState=t},useTransition:function(){var t=DI(!1),e=t[0];return t=DU.bind(null,t[1]),Wo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=bn,i=Wo();if(vn){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),or===null)throw Error(re(349));Wl&30||a$(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,LI(c$.bind(null,r,o,t),[t]),r.flags|=2048,wh(9,l$.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Wo(),e=or.identifierPrefix;if(vn){var n=Ts,r=Cs;n=(r&~(1<<32-Io(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_h++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},VU={readContext:no,useCallback:y$,useContext:no,useEffect:B1,useImperativeHandle:m$,useInsertionEffect:h$,useLayoutEffect:p$,useMemo:v$,useReducer:D_,useRef:f$,useState:function(){return D_(bh)},useDebugValue:V1,useDeferredValue:function(t){var e=ro();return _$(e,Yn.memoizedState,t)},useTransition:function(){var t=D_(bh)[0],e=ro().memoizedState;return[t,e]},useMutableSource:o$,useSyncExternalStore:s$,useId:b$,unstable_isNewReconciler:!1},UU={readContext:no,useCallback:y$,useContext:no,useEffect:B1,useImperativeHandle:m$,useInsertionEffect:h$,useLayoutEffect:p$,useMemo:v$,useReducer:L_,useRef:f$,useState:function(){return L_(bh)},useDebugValue:V1,useDeferredValue:function(t){var e=ro();return Yn===null?e.memoizedState=t:_$(e,Yn.memoizedState,t)},useTransition:function(){var t=L_(bh)[0],e=ro().memoizedState;return[t,e]},useMutableSource:o$,useSyncExternalStore:s$,useId:b$,unstable_isNewReconciler:!1};function Du(t,e){try{var n="",r=e;do n+=gV(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function F_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jU=typeof WeakMap=="function"?WeakMap:Map;function S$(t,e,n){n=As(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qm||(qm=!0,Iw=r),yw(t,e)},n}function C$(t,e,n){n=As(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){yw(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){yw(t,e),typeof r!="function"&&($a===null?$a=new Set([this]):$a.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function FI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=n6.bind(null,t,e,n),e.then(t,t))}function BI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function VI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=As(-1,1),e.tag=2,Na(n,e,1))),n.lanes|=1),t)}var zU=Qs.ReactCurrentOwner,ri=!1;function Ur(t,e,n,r){e.child=t===null?r$(e,null,n,r):$u(e,t.child,n,r)}function UI(t,e,n,r,i){n=n.render;var o=e.ref;return vu(e,i),r=L1(t,e,n,r,o,i),n=F1(),t!==null&&!ri?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ls(t,e,i)):(vn&&n&&C1(e),e.flags|=1,Ur(t,e,r,i),e.child)}function jI(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!K1(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,T$(t,e,o,r,i)):(t=sm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:hh,n(s,r)&&t.ref===e.ref)return Ls(t,e,i)}return e.flags|=1,t=Da(o,r),t.ref=e.ref,t.return=e,e.child=t}function T$(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(hh(o,r)&&t.ref===e.ref)if(ri=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(ri=!0);else return e.lanes=t.lanes,Ls(t,e,i)}return vw(t,e,n,r,i)}function I$(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tn(du,Si),Si|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tn(du,Si),Si|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,tn(du,Si),Si|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,tn(du,Si),Si|=r;return Ur(t,e,i,n),e.child}function R$(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vw(t,e,n,r,i){var o=ci(n)?jl:Mr.current;return o=Ou(e,o),vu(e,i),n=L1(t,e,n,r,o,i),r=F1(),t!==null&&!ri?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ls(t,e,i)):(vn&&r&&C1(e),e.flags|=1,Ur(t,e,n,i),e.child)}function zI(t,e,n,r,i){if(ci(n)){var o=!0;Lm(e)}else o=!1;if(vu(e,i),e.stateNode===null)rm(t,e),t$(e,n,r),mw(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=no(c):(c=ci(n)?jl:Mr.current,c=Ou(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&$I(e,s,r,c),ga=!1;var h=e.memoizedState;s.state=h,jm(e,r,s,i),l=e.memoizedState,a!==r||h!==l||li.current||ga?(typeof u=="function"&&(gw(e,n,u,r),l=e.memoizedState),(a=ga||NI(e,n,a,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,ZN(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:_o(e.type,a),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=no(l):(l=ci(n)?jl:Mr.current,l=Ou(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&$I(e,s,r,l),ga=!1,h=e.memoizedState,s.state=h,jm(e,r,s,i);var m=e.memoizedState;a!==f||h!==m||li.current||ga?(typeof p=="function"&&(gw(e,n,p,r),m=e.memoizedState),(c=ga||NI(e,n,c,r,h,m,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return _w(t,e,n,r,o,i)}function _w(t,e,n,r,i,o){R$(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&RI(e,n,!1),Ls(t,e,o);r=e.stateNode,zU.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=$u(e,t.child,null,o),e.child=$u(e,null,a,o)):Ur(t,e,a,o),e.memoizedState=r.state,i&&RI(e,n,!0),e.child}function P$(t){var e=t.stateNode;e.pendingContext?II(t,e.pendingContext,e.pendingContext!==e.context):e.context&&II(t,e.context,!1),N1(t,e.containerInfo)}function WI(t,e,n,r,i){return Nu(),I1(i),e.flags|=256,Ur(t,e,n,r),e.child}var bw={dehydrated:null,treeContext:null,retryLane:0};function ww(t){return{baseLanes:t,cachePool:null,transitions:null}}function A$(t,e,n){var r=e.pendingProps,i=_n.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),tn(_n,i&1),t===null)return hw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=fv(s,r,0,null),t=Ll(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=ww(n),e.memoizedState=bw,t):U1(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return WU(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Da(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Da(a,o):(o=Ll(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?ww(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=bw,r}return o=t.child,t=o.sibling,r=Da(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function U1(t,e){return e=fv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gg(t,e,n,r){return r!==null&&I1(r),$u(e,t.child,null,n),t=U1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WU(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=F_(Error(re(422))),gg(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=fv({mode:"visible",children:r.children},i,0,null),o=Ll(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&$u(e,t.child,null,s),e.child.memoizedState=ww(s),e.memoizedState=bw,o);if(!(e.mode&1))return gg(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(re(419)),r=F_(o,r,void 0),gg(t,e,s,r)}if(a=(s&t.childLanes)!==0,ri||a){if(r=or,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ds(t,i),Ro(r,t,i,-1))}return q1(),r=F_(Error(re(421))),gg(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=r6.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Ri=Oa(i.nextSibling),Ni=e,vn=!0,wo=null,t!==null&&(qi[Ki++]=Cs,qi[Ki++]=Ts,qi[Ki++]=zl,Cs=t.id,Ts=t.overflow,zl=e),e=U1(e,r.children),e.flags|=4096,e)}function HI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pw(t.return,e,n)}function B_(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function k$(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Ur(t,e,r.children,n),r=_n.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&HI(t,n,e);else if(t.tag===19)HI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(tn(_n,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&zm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),B_(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&zm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}B_(e,!0,n,null,o);break;case"together":B_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ls(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=Da(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Da(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function HU(t,e,n){switch(e.tag){case 3:P$(e),Nu();break;case 5:i$(e);break;case 1:ci(e.type)&&Lm(e);break;case 4:N1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;tn(Vm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(tn(_n,_n.current&1),e.flags|=128,null):n&e.child.childLanes?A$(t,e,n):(tn(_n,_n.current&1),t=Ls(t,e,n),t!==null?t.sibling:null);tn(_n,_n.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return k$(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tn(_n,_n.current),r)break;return null;case 22:case 23:return e.lanes=0,I$(t,e,n)}return Ls(t,e,n)}var O$,Ew,N$,$$;O$=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ew=function(){};N$=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Pl(Jo.current);var o=null;switch(n){case"input":i=Wb(t,i),r=Wb(t,r),o=[];break;case"select":i=En({},i,{value:void 0}),r=En({},r,{value:void 0}),o=[];break;case"textarea":i=qb(t,i),r=qb(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Mm)}Yb(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sh.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ln("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};$$=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xd(t,e){if(!vn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Cr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function GU(t,e,n){var r=e.pendingProps;switch(T1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cr(e),null;case 1:return ci(e.type)&&Dm(),Cr(e),null;case 3:return r=e.stateNode,Mu(),hn(li),hn(Mr),M1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wo!==null&&(Aw(wo),wo=null))),Ew(t,e),Cr(e),null;case 5:$1(e);var i=Pl(vh.current);if(n=e.type,t!==null&&e.stateNode!=null)N$(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(re(166));return Cr(e),null}if(t=Pl(Jo.current),hg(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ko]=e,r[mh]=o,t=(e.mode&1)!==0,n){case"dialog":ln("cancel",r),ln("close",r);break;case"iframe":case"object":case"embed":ln("load",r);break;case"video":case"audio":for(i=0;i<bf.length;i++)ln(bf[i],r);break;case"source":ln("error",r);break;case"img":case"image":case"link":ln("error",r),ln("load",r);break;case"details":ln("toggle",r);break;case"input":eI(r,o),ln("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ln("invalid",r);break;case"textarea":nI(r,o),ln("invalid",r)}Yb(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&fg(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&fg(r.textContent,a,t),i=["children",""+a]):sh.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ln("scroll",r)}switch(n){case"input":ig(r),tI(r,o,!0);break;case"textarea":ig(r),rI(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Mm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ko]=e,t[mh]=r,O$(t,e,!1,!1),e.stateNode=t;e:{switch(s=Xb(n,r),n){case"dialog":ln("cancel",t),ln("close",t),i=r;break;case"iframe":case"object":case"embed":ln("load",t),i=r;break;case"video":case"audio":for(i=0;i<bf.length;i++)ln(bf[i],t);i=r;break;case"source":ln("error",t),i=r;break;case"img":case"image":case"link":ln("error",t),ln("load",t),i=r;break;case"details":ln("toggle",t),i=r;break;case"input":eI(t,r),i=Wb(t,r),ln("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=En({},r,{value:void 0}),ln("invalid",t);break;case"textarea":nI(t,r),i=qb(t,r),ln("invalid",t);break;default:i=r}Yb(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?uN(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lN(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ah(t,l):typeof l=="number"&&ah(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(sh.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ln("scroll",t):l!=null&&d1(t,o,l,s))}switch(n){case"input":ig(t),tI(t,r,!1);break;case"textarea":ig(t),rI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Wa(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?pu(t,!!r.multiple,o,!1):r.defaultValue!=null&&pu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Mm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Cr(e),null;case 6:if(t&&e.stateNode!=null)$$(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(re(166));if(n=Pl(vh.current),Pl(Jo.current),hg(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ko]=e,(o=r.nodeValue!==n)&&(t=Ni,t!==null))switch(t.tag){case 3:fg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fg(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ko]=e,e.stateNode=r}return Cr(e),null;case 13:if(hn(_n),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vn&&Ri!==null&&e.mode&1&&!(e.flags&128))QN(),Nu(),e.flags|=98560,o=!1;else if(o=hg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(re(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(re(317));o[Ko]=e}else Nu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Cr(e),o=!1}else wo!==null&&(Aw(wo),wo=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_n.current&1?Qn===0&&(Qn=3):q1())),e.updateQueue!==null&&(e.flags|=4),Cr(e),null);case 4:return Mu(),Ew(t,e),t===null&&ph(e.stateNode.containerInfo),Cr(e),null;case 10:return A1(e.type._context),Cr(e),null;case 17:return ci(e.type)&&Dm(),Cr(e),null;case 19:if(hn(_n),o=e.memoizedState,o===null)return Cr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Xd(o,!1);else{if(Qn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=zm(t),s!==null){for(e.flags|=128,Xd(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return tn(_n,_n.current&1|2),e.child}t=t.sibling}o.tail!==null&&Fn()>Lu&&(e.flags|=128,r=!0,Xd(o,!1),e.lanes=4194304)}else{if(!r)if(t=zm(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xd(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!vn)return Cr(e),null}else 2*Fn()-o.renderingStartTime>Lu&&n!==1073741824&&(e.flags|=128,r=!0,Xd(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Fn(),e.sibling=null,n=_n.current,tn(_n,r?n&1|2:n&1),e):(Cr(e),null);case 22:case 23:return G1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Si&1073741824&&(Cr(e),e.subtreeFlags&6&&(e.flags|=8192)):Cr(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function qU(t,e){switch(T1(e),e.tag){case 1:return ci(e.type)&&Dm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mu(),hn(li),hn(Mr),M1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $1(e),null;case 13:if(hn(_n),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));Nu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return hn(_n),null;case 4:return Mu(),null;case 10:return A1(e.type._context),null;case 22:case 23:return G1(),null;case 24:return null;default:return null}}var mg=!1,kr=!1,KU=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function uu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){An(t,e,r)}else n.current=null}function xw(t,e,n){try{n()}catch(r){An(t,e,r)}}var GI=!1;function YU(t,e){if(sw=Om,t=FN(),S1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(aw={focusedElem:t,selectionRange:n},Om=!1,Ce=e;Ce!==null;)if(e=Ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ce=t;else for(;Ce!==null;){e=Ce;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var b=m.memoizedProps,x=m.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?b:_o(e.type,b),x);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(S){An(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Ce=t;break}Ce=e.return}return m=GI,GI=!1,m}function Bf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&xw(e,n,o)}i=i.next}while(i!==r)}}function uv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function M$(t){var e=t.alternate;e!==null&&(t.alternate=null,M$(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ko],delete e[mh],delete e[uw],delete e[kU],delete e[OU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function D$(t){return t.tag===5||t.tag===3||t.tag===4}function qI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||D$(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Mm));else if(r!==4&&(t=t.child,t!==null))for(Cw(t,e,n),t=t.sibling;t!==null;)Cw(t,e,n),t=t.sibling}function Tw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Tw(t,e,n),t=t.sibling;t!==null;)Tw(t,e,n),t=t.sibling}var hr=null,bo=!1;function ca(t,e,n){for(n=n.child;n!==null;)L$(t,e,n),n=n.sibling}function L$(t,e,n){if(Qo&&typeof Qo.onCommitFiberUnmount=="function")try{Qo.onCommitFiberUnmount(nv,n)}catch{}switch(n.tag){case 5:kr||uu(n,e);case 6:var r=hr,i=bo;hr=null,ca(t,e,n),hr=r,bo=i,hr!==null&&(bo?(t=hr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):hr.removeChild(n.stateNode));break;case 18:hr!==null&&(bo?(t=hr,n=n.stateNode,t.nodeType===8?O_(t.parentNode,n):t.nodeType===1&&O_(t,n),dh(t)):O_(hr,n.stateNode));break;case 4:r=hr,i=bo,hr=n.stateNode.containerInfo,bo=!0,ca(t,e,n),hr=r,bo=i;break;case 0:case 11:case 14:case 15:if(!kr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&xw(n,e,s),i=i.next}while(i!==r)}ca(t,e,n);break;case 1:if(!kr&&(uu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){An(n,e,a)}ca(t,e,n);break;case 21:ca(t,e,n);break;case 22:n.mode&1?(kr=(r=kr)||n.memoizedState!==null,ca(t,e,n),kr=r):ca(t,e,n);break;default:ca(t,e,n)}}function KI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KU),e.forEach(function(r){var i=i6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function go(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:hr=a.stateNode,bo=!1;break e;case 3:hr=a.stateNode.containerInfo,bo=!0;break e;case 4:hr=a.stateNode.containerInfo,bo=!0;break e}a=a.return}if(hr===null)throw Error(re(160));L$(o,s,i),hr=null,bo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){An(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)F$(e,t),e=e.sibling}function F$(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(go(e,t),jo(t),r&4){try{Bf(3,t,t.return),uv(3,t)}catch(b){An(t,t.return,b)}try{Bf(5,t,t.return)}catch(b){An(t,t.return,b)}}break;case 1:go(e,t),jo(t),r&512&&n!==null&&uu(n,n.return);break;case 5:if(go(e,t),jo(t),r&512&&n!==null&&uu(n,n.return),t.flags&32){var i=t.stateNode;try{ah(i,"")}catch(b){An(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&oN(i,o),Xb(a,s);var c=Xb(a,o);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?uN(i,f):u==="dangerouslySetInnerHTML"?lN(i,f):u==="children"?ah(i,f):d1(i,u,f,c)}switch(a){case"input":Hb(i,o);break;case"textarea":sN(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?pu(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?pu(i,!!o.multiple,o.defaultValue,!0):pu(i,!!o.multiple,o.multiple?[]:"",!1))}i[mh]=o}catch(b){An(t,t.return,b)}}break;case 6:if(go(e,t),jo(t),r&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(b){An(t,t.return,b)}}break;case 3:if(go(e,t),jo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dh(e.containerInfo)}catch(b){An(t,t.return,b)}break;case 4:go(e,t),jo(t);break;case 13:go(e,t),jo(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(W1=Fn())),r&4&&KI(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(kr=(c=kr)||u,go(e,t),kr=c):go(e,t),jo(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ce=t,u=t.child;u!==null;){for(f=Ce=u;Ce!==null;){switch(h=Ce,p=h.child,h.tag){case 0:case 11:case 14:case 15:Bf(4,h,h.return);break;case 1:uu(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(b){An(r,n,b)}}break;case 5:uu(h,h.return);break;case 22:if(h.memoizedState!==null){XI(f);continue}}p!==null?(p.return=h,Ce=p):XI(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=cN("display",s))}catch(b){An(t,t.return,b)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(b){An(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:go(e,t),jo(t),r&4&&KI(t);break;case 21:break;default:go(e,t),jo(t)}}function jo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(D$(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ah(i,""),r.flags&=-33);var o=qI(t);Tw(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=qI(t);Cw(t,a,s);break;default:throw Error(re(161))}}catch(l){An(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XU(t,e,n){Ce=t,B$(t)}function B$(t,e,n){for(var r=(t.mode&1)!==0;Ce!==null;){var i=Ce,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||mg;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||kr;a=mg;var c=kr;if(mg=s,(kr=l)&&!c)for(Ce=i;Ce!==null;)s=Ce,l=s.child,s.tag===22&&s.memoizedState!==null?QI(i):l!==null?(l.return=s,Ce=l):QI(i);for(;o!==null;)Ce=o,B$(o),o=o.sibling;Ce=i,mg=a,kr=c}YI(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ce=o):YI(t)}}function YI(t){for(;Ce!==null;){var e=Ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kr||uv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!kr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_o(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&OI(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}OI(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&dh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}kr||e.flags&512&&Sw(e)}catch(h){An(e,e.return,h)}}if(e===t){Ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ce=n;break}Ce=e.return}}function XI(t){for(;Ce!==null;){var e=Ce;if(e===t){Ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ce=n;break}Ce=e.return}}function QI(t){for(;Ce!==null;){var e=Ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{uv(4,e)}catch(l){An(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){An(e,i,l)}}var o=e.return;try{Sw(e)}catch(l){An(e,o,l)}break;case 5:var s=e.return;try{Sw(e)}catch(l){An(e,s,l)}}}catch(l){An(e,e.return,l)}if(e===t){Ce=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ce=a;break}Ce=e.return}}var QU=Math.ceil,Gm=Qs.ReactCurrentDispatcher,j1=Qs.ReactCurrentOwner,Zi=Qs.ReactCurrentBatchConfig,Ot=0,or=null,Hn=null,yr=0,Si=0,du=sl(0),Qn=0,Eh=null,Hl=0,dv=0,z1=0,Vf=null,ti=null,W1=0,Lu=1/0,bs=null,qm=!1,Iw=null,$a=null,yg=!1,Ta=null,Km=0,Uf=0,Rw=null,im=-1,om=0;function zr(){return Ot&6?Fn():im!==-1?im:im=Fn()}function Ma(t){return t.mode&1?Ot&2&&yr!==0?yr&-yr:$U.transition!==null?(om===0&&(om=EN()),om):(t=jt,t!==0||(t=window.event,t=t===void 0?16:PN(t.type)),t):1}function Ro(t,e,n,r){if(50<Uf)throw Uf=0,Rw=null,Error(re(185));Jh(t,n,r),(!(Ot&2)||t!==or)&&(t===or&&(!(Ot&2)&&(dv|=n),Qn===4&&ya(t,yr)),ui(t,r),n===1&&Ot===0&&!(e.mode&1)&&(Lu=Fn()+500,av&&al()))}function ui(t,e){var n=t.callbackNode;$V(t,e);var r=km(t,t===or?yr:0);if(r===0)n!==null&&sI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&sI(n),e===1)t.tag===0?NU(JI.bind(null,t)):KN(JI.bind(null,t)),PU(function(){!(Ot&6)&&al()}),n=null;else{switch(xN(r)){case 1:n=m1;break;case 4:n=bN;break;case 16:n=Am;break;case 536870912:n=wN;break;default:n=Am}n=q$(n,V$.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function V$(t,e){if(im=-1,om=0,Ot&6)throw Error(re(327));var n=t.callbackNode;if(_u()&&t.callbackNode!==n)return null;var r=km(t,t===or?yr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ym(t,r);else{e=r;var i=Ot;Ot|=2;var o=j$();(or!==t||yr!==e)&&(bs=null,Lu=Fn()+500,Dl(t,e));do try{e6();break}catch(a){U$(t,a)}while(1);P1(),Gm.current=o,Ot=i,Hn!==null?e=0:(or=null,yr=0,e=Qn)}if(e!==0){if(e===2&&(i=tw(t),i!==0&&(r=i,e=Pw(t,i))),e===1)throw n=Eh,Dl(t,0),ya(t,r),ui(t,Fn()),n;if(e===6)ya(t,r);else{if(i=t.current.alternate,!(r&30)&&!JU(i)&&(e=Ym(t,r),e===2&&(o=tw(t),o!==0&&(r=o,e=Pw(t,o))),e===1))throw n=Eh,Dl(t,0),ya(t,r),ui(t,Fn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(re(345));case 2:bl(t,ti,bs);break;case 3:if(ya(t,r),(r&130023424)===r&&(e=W1+500-Fn(),10<e)){if(km(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){zr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=cw(bl.bind(null,t,ti,bs),e);break}bl(t,ti,bs);break;case 4:if(ya(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Io(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Fn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*QU(r/1960))-r,10<r){t.timeoutHandle=cw(bl.bind(null,t,ti,bs),r);break}bl(t,ti,bs);break;case 5:bl(t,ti,bs);break;default:throw Error(re(329))}}}return ui(t,Fn()),t.callbackNode===n?V$.bind(null,t):null}function Pw(t,e){var n=Vf;return t.current.memoizedState.isDehydrated&&(Dl(t,e).flags|=256),t=Ym(t,e),t!==2&&(e=ti,ti=n,e!==null&&Aw(e)),t}function Aw(t){ti===null?ti=t:ti.push.apply(ti,t)}function JU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ko(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ya(t,e){for(e&=~z1,e&=~dv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Io(e),r=1<<n;t[n]=-1,e&=~r}}function JI(t){if(Ot&6)throw Error(re(327));_u();var e=km(t,0);if(!(e&1))return ui(t,Fn()),null;var n=Ym(t,e);if(t.tag!==0&&n===2){var r=tw(t);r!==0&&(e=r,n=Pw(t,r))}if(n===1)throw n=Eh,Dl(t,0),ya(t,e),ui(t,Fn()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bl(t,ti,bs),ui(t,Fn()),null}function H1(t,e){var n=Ot;Ot|=1;try{return t(e)}finally{Ot=n,Ot===0&&(Lu=Fn()+500,av&&al())}}function Gl(t){Ta!==null&&Ta.tag===0&&!(Ot&6)&&_u();var e=Ot;Ot|=1;var n=Zi.transition,r=jt;try{if(Zi.transition=null,jt=1,t)return t()}finally{jt=r,Zi.transition=n,Ot=e,!(Ot&6)&&al()}}function G1(){Si=du.current,hn(du)}function Dl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,RU(n)),Hn!==null)for(n=Hn.return;n!==null;){var r=n;switch(T1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Dm();break;case 3:Mu(),hn(li),hn(Mr),M1();break;case 5:$1(r);break;case 4:Mu();break;case 13:hn(_n);break;case 19:hn(_n);break;case 10:A1(r.type._context);break;case 22:case 23:G1()}n=n.return}if(or=t,Hn=t=Da(t.current,null),yr=Si=e,Qn=0,Eh=null,z1=dv=Hl=0,ti=Vf=null,Rl!==null){for(e=0;e<Rl.length;e++)if(n=Rl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Rl=null}return t}function U$(t,e){do{var n=Hn;try{if(P1(),tm.current=Hm,Wm){for(var r=bn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wm=!1}if(Wl=0,nr=Yn=bn=null,Ff=!1,_h=0,j1.current=null,n===null||n.return===null){Qn=1,Eh=e,Hn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=yr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=BI(s);if(p!==null){p.flags&=-257,VI(p,s,a,o,e),p.mode&1&&FI(o,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var b=new Set;b.add(l),e.updateQueue=b}else m.add(l);break e}else{if(!(e&1)){FI(o,c,e),q1();break e}l=Error(re(426))}}else if(vn&&a.mode&1){var x=BI(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),VI(x,s,a,o,e),I1(Du(l,a));break e}}o=l=Du(l,a),Qn!==4&&(Qn=2),Vf===null?Vf=[o]:Vf.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=S$(o,l,e);kI(o,_);break e;case 1:a=l;var w=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&($a===null||!$a.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=C$(o,a,e);kI(o,S);break e}}o=o.return}while(o!==null)}W$(n)}catch(k){e=k,Hn===n&&n!==null&&(Hn=n=n.return);continue}break}while(1)}function j$(){var t=Gm.current;return Gm.current=Hm,t===null?Hm:t}function q1(){(Qn===0||Qn===3||Qn===2)&&(Qn=4),or===null||!(Hl&268435455)&&!(dv&268435455)||ya(or,yr)}function Ym(t,e){var n=Ot;Ot|=2;var r=j$();(or!==t||yr!==e)&&(bs=null,Dl(t,e));do try{ZU();break}catch(i){U$(t,i)}while(1);if(P1(),Ot=n,Gm.current=r,Hn!==null)throw Error(re(261));return or=null,yr=0,Qn}function ZU(){for(;Hn!==null;)z$(Hn)}function e6(){for(;Hn!==null&&!CV();)z$(Hn)}function z$(t){var e=G$(t.alternate,t,Si);t.memoizedProps=t.pendingProps,e===null?W$(t):Hn=e,j1.current=null}function W$(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qU(n,e),n!==null){n.flags&=32767,Hn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qn=6,Hn=null;return}}else if(n=GU(n,e,Si),n!==null){Hn=n;return}if(e=e.sibling,e!==null){Hn=e;return}Hn=e=t}while(e!==null);Qn===0&&(Qn=5)}function bl(t,e,n){var r=jt,i=Zi.transition;try{Zi.transition=null,jt=1,t6(t,e,n,r)}finally{Zi.transition=i,jt=r}return null}function t6(t,e,n,r){do _u();while(Ta!==null);if(Ot&6)throw Error(re(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(MV(t,o),t===or&&(Hn=or=null,yr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yg||(yg=!0,q$(Am,function(){return _u(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Zi.transition,Zi.transition=null;var s=jt;jt=1;var a=Ot;Ot|=4,j1.current=null,YU(t,n),F$(n,t),wU(aw),Om=!!sw,aw=sw=null,t.current=n,XU(n),TV(),Ot=a,jt=s,Zi.transition=o}else t.current=n;if(yg&&(yg=!1,Ta=t,Km=i),o=t.pendingLanes,o===0&&($a=null),PV(n.stateNode),ui(t,Fn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qm)throw qm=!1,t=Iw,Iw=null,t;return Km&1&&t.tag!==0&&_u(),o=t.pendingLanes,o&1?t===Rw?Uf++:(Uf=0,Rw=t):Uf=0,al(),null}function _u(){if(Ta!==null){var t=xN(Km),e=Zi.transition,n=jt;try{if(Zi.transition=null,jt=16>t?16:t,Ta===null)var r=!1;else{if(t=Ta,Ta=null,Km=0,Ot&6)throw Error(re(331));var i=Ot;for(Ot|=4,Ce=t.current;Ce!==null;){var o=Ce,s=o.child;if(Ce.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ce=c;Ce!==null;){var u=Ce;switch(u.tag){case 0:case 11:case 15:Bf(8,u,o)}var f=u.child;if(f!==null)f.return=u,Ce=f;else for(;Ce!==null;){u=Ce;var h=u.sibling,p=u.return;if(M$(u),u===c){Ce=null;break}if(h!==null){h.return=p,Ce=h;break}Ce=p}}}var m=o.alternate;if(m!==null){var b=m.child;if(b!==null){m.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}Ce=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Ce=s;else e:for(;Ce!==null;){if(o=Ce,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Bf(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,Ce=_;break e}Ce=o.return}}var w=t.current;for(Ce=w;Ce!==null;){s=Ce;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,Ce=v;else e:for(s=w;Ce!==null;){if(a=Ce,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:uv(9,a)}}catch(k){An(a,a.return,k)}if(a===s){Ce=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Ce=S;break e}Ce=a.return}}if(Ot=i,al(),Qo&&typeof Qo.onPostCommitFiberRoot=="function")try{Qo.onPostCommitFiberRoot(nv,t)}catch{}r=!0}return r}finally{jt=n,Zi.transition=e}}return!1}function ZI(t,e,n){e=Du(n,e),e=S$(t,e,1),t=Na(t,e,1),e=zr(),t!==null&&(Jh(t,1,e),ui(t,e))}function An(t,e,n){if(t.tag===3)ZI(t,t,n);else for(;e!==null;){if(e.tag===3){ZI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($a===null||!$a.has(r))){t=Du(n,t),t=C$(e,t,1),e=Na(e,t,1),t=zr(),e!==null&&(Jh(e,1,t),ui(e,t));break}}e=e.return}}function n6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zr(),t.pingedLanes|=t.suspendedLanes&n,or===t&&(yr&n)===n&&(Qn===4||Qn===3&&(yr&130023424)===yr&&500>Fn()-W1?Dl(t,0):z1|=n),ui(t,e)}function H$(t,e){e===0&&(t.mode&1?(e=ag,ag<<=1,!(ag&130023424)&&(ag=4194304)):e=1);var n=zr();t=Ds(t,e),t!==null&&(Jh(t,e,n),ui(t,n))}function r6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),H$(t,n)}function i6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(e),H$(t,n)}var G$;G$=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||li.current)ri=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ri=!1,HU(t,e,n);ri=!!(t.flags&131072)}else ri=!1,vn&&e.flags&1048576&&YN(e,Bm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rm(t,e),t=e.pendingProps;var i=Ou(e,Mr.current);vu(e,n),i=L1(null,e,r,t,i,n);var o=F1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ci(r)?(o=!0,Lm(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,O1(e),i.updater=lv,e.stateNode=i,i._reactInternals=e,mw(e,r,t,n),e=_w(null,e,r,!0,o,n)):(e.tag=0,vn&&o&&C1(e),Ur(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=s6(r),t=_o(r,t),i){case 0:e=vw(null,e,r,t,n);break e;case 1:e=zI(null,e,r,t,n);break e;case 11:e=UI(null,e,r,t,n);break e;case 14:e=jI(null,e,r,_o(r.type,t),n);break e}throw Error(re(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_o(r,i),vw(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_o(r,i),zI(t,e,r,i,n);case 3:e:{if(P$(e),t===null)throw Error(re(387));r=e.pendingProps,o=e.memoizedState,i=o.element,ZN(t,e),jm(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Du(Error(re(423)),e),e=WI(t,e,r,n,i);break e}else if(r!==i){i=Du(Error(re(424)),e),e=WI(t,e,r,n,i);break e}else for(Ri=Oa(e.stateNode.containerInfo.firstChild),Ni=e,vn=!0,wo=null,n=r$(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nu(),r===i){e=Ls(t,e,n);break e}Ur(t,e,r,n)}e=e.child}return e;case 5:return i$(e),t===null&&hw(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,lw(r,i)?s=null:o!==null&&lw(r,o)&&(e.flags|=32),R$(t,e),Ur(t,e,s,n),e.child;case 6:return t===null&&hw(e),null;case 13:return A$(t,e,n);case 4:return N1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$u(e,null,r,n):Ur(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_o(r,i),UI(t,e,r,i,n);case 7:return Ur(t,e,e.pendingProps,n),e.child;case 8:return Ur(t,e,e.pendingProps.children,n),e.child;case 12:return Ur(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,tn(Vm,r._currentValue),r._currentValue=s,o!==null)if(ko(o.value,s)){if(o.children===i.children&&!li.current){e=Ls(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=As(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),pw(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(re(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),pw(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ur(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,vu(e,n),i=no(i),r=r(i),e.flags|=1,Ur(t,e,r,n),e.child;case 14:return r=e.type,i=_o(r,e.pendingProps),i=_o(r.type,i),jI(t,e,r,i,n);case 15:return T$(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_o(r,i),rm(t,e),e.tag=1,ci(r)?(t=!0,Lm(e)):t=!1,vu(e,n),t$(e,r,i),mw(e,r,i,n),_w(null,e,r,!0,t,n);case 19:return k$(t,e,n);case 22:return I$(t,e,n)}throw Error(re(156,e.tag))};function q$(t,e){return _N(t,e)}function o6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(t,e,n,r){return new o6(t,e,n,r)}function K1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function s6(t){if(typeof t=="function")return K1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===h1)return 11;if(t===p1)return 14}return 2}function Da(t,e){var n=t.alternate;return n===null?(n=Ji(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sm(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")K1(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case tu:return Ll(n.children,i,o,e);case f1:s=8,i|=8;break;case Vb:return t=Ji(12,n,e,i|2),t.elementType=Vb,t.lanes=o,t;case Ub:return t=Ji(13,n,e,i),t.elementType=Ub,t.lanes=o,t;case jb:return t=Ji(19,n,e,i),t.elementType=jb,t.lanes=o,t;case nN:return fv(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eN:s=10;break e;case tN:s=9;break e;case h1:s=11;break e;case p1:s=14;break e;case pa:s=16,r=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=Ji(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ll(t,e,n,r){return t=Ji(7,t,r,e),t.lanes=n,t}function fv(t,e,n,r){return t=Ji(22,t,r,e),t.elementType=nN,t.lanes=n,t.stateNode={isHidden:!1},t}function V_(t,e,n){return t=Ji(6,t,null,e),t.lanes=n,t}function U_(t,e,n){return e=Ji(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function a6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=w_(0),this.expirationTimes=w_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=w_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Y1(t,e,n,r,i,o,s,a,l){return t=new a6(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ji(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},O1(o),t}function l6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function K$(t){if(!t)return Ha;t=t._reactInternals;e:{if(oc(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ci(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if(ci(n))return qN(t,n,e)}return e}function Y$(t,e,n,r,i,o,s,a,l){return t=Y1(n,r,!0,t,i,o,s,a,l),t.context=K$(null),n=t.current,r=zr(),i=Ma(n),o=As(r,i),o.callback=e??null,Na(n,o,i),t.current.lanes=i,Jh(t,i,r),ui(t,r),t}function hv(t,e,n,r){var i=e.current,o=zr(),s=Ma(i);return n=K$(n),e.context===null?e.context=n:e.pendingContext=n,e=As(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Na(i,e,s),t!==null&&(Ro(t,i,s,o),em(t,i,s)),s}function Xm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function eR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function X1(t,e){eR(t,e),(t=t.alternate)&&eR(t,e)}function c6(){return null}var X$=typeof reportError=="function"?reportError:function(t){console.error(t)};function Q1(t){this._internalRoot=t}pv.prototype.render=Q1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));hv(t,e,null,null)};pv.prototype.unmount=Q1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gl(function(){hv(null,t,null,null)}),e[Ms]=null}};function pv(t){this._internalRoot=t}pv.prototype.unstable_scheduleHydration=function(t){if(t){var e=TN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ma.length&&e!==0&&e<ma[n].priority;n++);ma.splice(n,0,t),n===0&&RN(t)}};function J1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tR(){}function u6(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Xm(s);o.call(c)}}var s=Y$(e,r,t,0,null,!1,!1,"",tR);return t._reactRootContainer=s,t[Ms]=s.current,ph(t.nodeType===8?t.parentNode:t),Gl(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Xm(l);a.call(c)}}var l=Y1(t,0,!1,null,null,!1,!1,"",tR);return t._reactRootContainer=l,t[Ms]=l.current,ph(t.nodeType===8?t.parentNode:t),Gl(function(){hv(e,l,n,r)}),l}function mv(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Xm(s);a.call(l)}}hv(e,s,t,i)}else s=u6(n,e,t,i,r);return Xm(s)}SN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_f(e.pendingLanes);n!==0&&(y1(e,n|1),ui(e,Fn()),!(Ot&6)&&(Lu=Fn()+500,al()))}break;case 13:Gl(function(){var r=Ds(t,1);if(r!==null){var i=zr();Ro(r,t,1,i)}}),X1(t,1)}};v1=function(t){if(t.tag===13){var e=Ds(t,134217728);if(e!==null){var n=zr();Ro(e,t,134217728,n)}X1(t,134217728)}};CN=function(t){if(t.tag===13){var e=Ma(t),n=Ds(t,e);if(n!==null){var r=zr();Ro(n,t,e,r)}X1(t,e)}};TN=function(){return jt};IN=function(t,e){var n=jt;try{return jt=t,e()}finally{jt=n}};Jb=function(t,e,n){switch(e){case"input":if(Hb(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=sv(r);if(!i)throw Error(re(90));iN(r),Hb(r,i)}}}break;case"textarea":sN(t,n);break;case"select":e=n.value,e!=null&&pu(t,!!n.multiple,e,!1)}};hN=H1;pN=Gl;var d6={usingClientEntryPoint:!1,Events:[ep,ou,sv,dN,fN,H1]},Qd={findFiberByHostInstance:Il,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},f6={bundleType:Qd.bundleType,version:Qd.version,rendererPackageName:Qd.rendererPackageName,rendererConfig:Qd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yN(t),t===null?null:t.stateNode},findFiberByHostInstance:Qd.findFiberByHostInstance||c6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vg.isDisabled&&vg.supportsFiber)try{nv=vg.inject(f6),Qo=vg}catch{}}Vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d6;Vi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!J1(e))throw Error(re(200));return l6(t,e,null,n)};Vi.createRoot=function(t,e){if(!J1(t))throw Error(re(299));var n=!1,r="",i=X$;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Y1(t,1,!1,null,null,n,!1,r,i),t[Ms]=e.current,ph(t.nodeType===8?t.parentNode:t),new Q1(e)};Vi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=yN(e),t=t===null?null:t.stateNode,t};Vi.flushSync=function(t){return Gl(t)};Vi.hydrate=function(t,e,n){if(!gv(e))throw Error(re(200));return mv(null,t,e,!0,n)};Vi.hydrateRoot=function(t,e,n){if(!J1(t))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=X$;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Y$(e,null,t,1,n??null,i,!1,o,s),t[Ms]=e.current,ph(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new pv(e)};Vi.render=function(t,e,n){if(!gv(e))throw Error(re(200));return mv(null,t,e,!1,n)};Vi.unmountComponentAtNode=function(t){if(!gv(t))throw Error(re(40));return t._reactRootContainer?(Gl(function(){mv(null,null,t,!1,function(){t._reactRootContainer=null,t[Ms]=null})}),!0):!1};Vi.unstable_batchedUpdates=H1;Vi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gv(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return mv(t,e,n,!1,r)};Vi.version="18.2.0-next-9e3b772b8-20220608";function Q$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q$)}catch(t){console.error(t)}}Q$(),Y2.exports=Vi;var np=Y2.exports;const _g=Xh(np);var nR=np;Fb.createRoot=nR.createRoot,Fb.hydrateRoot=nR.hydrateRoot;const h6="modulepreload",p6=function(t){return"/"+t},rR={},g6=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=p6(o),o in rR)return;rR[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const f=i[u];if(f.href===o&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":h6,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((u,f)=>{c.addEventListener("load",u),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};var Z1={};Object.defineProperty(Z1,"__esModule",{value:!0});Z1.parse=E6;Z1.serialize=x6;const m6=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,y6=/^[\u0021-\u003A\u003C-\u007E]*$/,v6=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,_6=/^[\u0020-\u003A\u003D-\u007E]*$/,b6=Object.prototype.toString,w6=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function E6(t,e){const n=new w6,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||S6;let o=0;do{const s=t.indexOf("=",o);if(s===-1)break;const a=t.indexOf(";",o),l=a===-1?r:a;if(s>l){o=t.lastIndexOf(";",s-1)+1;continue}const c=iR(t,o,s),u=oR(t,s,c),f=t.slice(c,u);if(n[f]===void 0){let h=iR(t,s+1,l),p=oR(t,l,h);const m=i(t.slice(h,p));n[f]=m}o=l+1}while(o<r);return n}function iR(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function oR(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function x6(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!m6.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!y6.test(i))throw new TypeError(`argument val is invalid: ${e}`);let o=t+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!v6.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!_6.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!C6(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function S6(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function C6(t){return b6.call(t)==="[object Date]"}var sR="popstate";function T6(t={}){function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return kw("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xh(i)}return R6(e,n,null,t)}function wn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function os(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function I6(){return Math.random().toString(36).substring(2,10)}function aR(t,e){return{usr:t.state,key:t.key,idx:e}}function kw(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ad(e):e,state:n,key:e&&e.key||r||I6()}}function xh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ad(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function R6(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,c=u();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function u(){return(s.state||{idx:null}).idx}function f(){a="POP";let x=u(),_=x==null?null:x-c;c=x,l&&l({action:a,location:b.location,delta:_})}function h(x,_){a="PUSH";let w=kw(b.location,x,_);n&&n(w,x),c=u()+1;let v=aR(w,c),S=b.createHref(w);try{s.pushState(v,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(S)}o&&l&&l({action:a,location:b.location,delta:1})}function p(x,_){a="REPLACE";let w=kw(b.location,x,_);n&&n(w,x),c=u();let v=aR(w,c),S=b.createHref(w);s.replaceState(v,"",S),o&&l&&l({action:a,location:b.location,delta:0})}function m(x){let _=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:xh(x);return w=w.replace(/ $/,"%20"),wn(_,`No window.location.(origin|href) available to create URL for href: ${w}`),new URL(w,_)}let b={get action(){return a},get location(){return t(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(sR,f),l=x,()=>{i.removeEventListener(sR,f),l=null}},createHref(x){return e(i,x)},createURL:m,encodeLocation(x){let _=m(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:p,go(x){return s.go(x)}};return b}function J$(t,e,n="/"){return P6(t,e,n,!1)}function P6(t,e,n,r){let i=typeof e=="string"?ad(e):e,o=Fs(i.pathname||"/",n);if(o==null)return null;let s=Z$(t);A6(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=U6(o);a=B6(s[l],c,r)}return a}function Z$(t,e=[],n=[],r=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(wn(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=ks([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(wn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),Z$(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:L6(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of eM(o.path))i(o,s,l)}),e}function eM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=eM(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function A6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:F6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var k6=/^:[\w-]+$/,O6=3,N6=2,$6=1,M6=10,D6=-2,lR=t=>t==="*";function L6(t,e){let n=t.split("/"),r=n.length;return n.some(lR)&&(r+=D6),e&&(r+=N6),n.filter(i=>!lR(i)).reduce((i,o)=>i+(k6.test(o)?O6:o===""?$6:M6),r)}function F6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function B6(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",f=Qm({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Qm({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:ks([o,f.pathname]),pathnameBase:H6(ks([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=ks([o,f.pathnameBase]))}return s}function Qm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=V6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:f},h)=>{if(u==="*"){let m=a[h]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[h];return f&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function V6(t,e=!1,n=!0){os(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function U6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return os(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Fs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function j6(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ad(t):t;return{pathname:n?n.startsWith("/")?n:z6(n,e):e,search:G6(r),hash:q6(i)}}function z6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function j_(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function W6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tM(t){let e=W6(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function nM(t,e,n,r=!1){let i;typeof t=="string"?i=ad(t):(i={...t},wn(!i.pathname||!i.pathname.includes("?"),j_("?","pathname","search",i)),wn(!i.pathname||!i.pathname.includes("#"),j_("#","pathname","hash",i)),wn(!i.search||!i.search.includes("#"),j_("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=j6(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var ks=t=>t.join("/").replace(/\/\/+/g,"/"),H6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),G6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,q6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function K6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var rM=["POST","PUT","PATCH","DELETE"];new Set(rM);var Y6=["GET",...rM];new Set(Y6);var ld=E.createContext(null);ld.displayName="DataRouter";var yv=E.createContext(null);yv.displayName="DataRouterState";var iM=E.createContext({isTransitioning:!1});iM.displayName="ViewTransition";var X6=E.createContext(new Map);X6.displayName="Fetchers";var Q6=E.createContext(null);Q6.displayName="Await";var ls=E.createContext(null);ls.displayName="Navigation";var rp=E.createContext(null);rp.displayName="Location";var cs=E.createContext({outlet:null,matches:[],isDataRoute:!1});cs.displayName="Route";var ex=E.createContext(null);ex.displayName="RouteError";function J6(t,{relative:e}={}){wn(ip(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(ls),{hash:i,pathname:o,search:s}=op(t,{relative:e}),a=o;return n!=="/"&&(a=o==="/"?n:ks([n,o])),r.createHref({pathname:a,search:s,hash:i})}function ip(){return E.useContext(rp)!=null}function sc(){return wn(ip(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(rp).location}var oM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sM(t){E.useContext(ls).static||E.useLayoutEffect(t)}function vv(){let{isDataRoute:t}=E.useContext(cs);return t?fj():Z6()}function Z6(){wn(ip(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(ld),{basename:e,navigator:n}=E.useContext(ls),{matches:r}=E.useContext(cs),{pathname:i}=sc(),o=JSON.stringify(tM(r)),s=E.useRef(!1);return sM(()=>{s.current=!0}),E.useCallback((l,c={})=>{if(os(s.current,oM),!s.current)return;if(typeof l=="number"){n.go(l);return}let u=nM(l,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:ks([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,o,i,t])}E.createContext(null);function ej(){let{matches:t}=E.useContext(cs),e=t[t.length-1];return e?e.params:{}}function op(t,{relative:e}={}){let{matches:n}=E.useContext(cs),{pathname:r}=sc(),i=JSON.stringify(tM(n));return E.useMemo(()=>nM(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function tj(t,e){return aM(t,e)}function aM(t,e,n,r){var w;wn(ip(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=E.useContext(ls),{matches:s}=E.useContext(cs),a=s[s.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",f=a&&a.route;{let v=f&&f.path||"";lM(c,!f||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let h=sc(),p;if(e){let v=typeof e=="string"?ad(e):e;wn(u==="/"||((w=v.pathname)==null?void 0:w.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${v.pathname}" was given in the \`location\` prop.`),p=v}else p=h;let m=p.pathname||"/",b=m;if(u!=="/"){let v=u.replace(/^\//,"").split("/");b="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=!o&&n&&n.matches&&n.matches.length>0?n.matches:J$(t,{pathname:b});os(f||x!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),os(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=sj(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:ks([u,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:ks([u,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&_?E.createElement(rp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},_):_}function nj(){let t=dj(),e=K6(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:o},"ErrorBoundary")," or"," ",E.createElement("code",{style:o},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,s)}var rj=E.createElement(nj,null),ij=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?E.createElement(cs.Provider,{value:this.props.routeContext},E.createElement(ex.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oj({routeContext:t,match:e,children:n}){let r=E.useContext(ld);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(cs.Provider,{value:t},n)}function sj(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let l=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);wn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:f}=n,h=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||h){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let f,h=!1,p=null,m=null;n&&(f=o&&c.route.id?o[c.route.id]:void 0,p=c.route.errorElement||rj,s&&(a<0&&u===0?(lM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,m=null):a===u&&(h=!0,m=c.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,u+1)),x=()=>{let _;return f?_=p:h?_=m:c.route.Component?_=E.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=l,E.createElement(oj,{match:c,routeContext:{outlet:l,matches:b,isDataRoute:n!=null},children:_})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?E.createElement(ij,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}function tx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aj(t){let e=E.useContext(ld);return wn(e,tx(t)),e}function lj(t){let e=E.useContext(yv);return wn(e,tx(t)),e}function cj(t){let e=E.useContext(cs);return wn(e,tx(t)),e}function nx(t){let e=cj(t),n=e.matches[e.matches.length-1];return wn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function uj(){return nx("useRouteId")}function dj(){var r;let t=E.useContext(ex),e=lj("useRouteError"),n=nx("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function fj(){let{router:t}=aj("useNavigate"),e=nx("useNavigate"),n=E.useRef(!1);return sM(()=>{n.current=!0}),E.useCallback(async(i,o={})=>{os(n.current,oM),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var cR={};function lM(t,e,n){!e&&!cR[t]&&(cR[t]=!0,os(!1,n))}E.memo(hj);function hj({routes:t,future:e,state:n}){return aM(t,void 0,n,e)}function am(t){wn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pj({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){wn(!ip(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),a=E.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=ad(n));let{pathname:l="/",search:c="",hash:u="",state:f=null,key:h="default"}=n,p=E.useMemo(()=>{let m=Fs(l,s);return m==null?null:{location:{pathname:m,search:c,hash:u,state:f,key:h},navigationType:r}},[s,l,c,u,f,h,r]);return os(p!=null,`<Router basename="${s}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:E.createElement(ls.Provider,{value:a},E.createElement(rp.Provider,{children:e,value:p}))}function gj({children:t,location:e}){return tj(Ow(t),e)}function Ow(t,e=[]){let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let o=[...e,i];if(r.type===E.Fragment){n.push.apply(n,Ow(r.props.children,o));return}wn(r.type===am,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Ow(r.props.children,o)),n.push(s)}),n}var lm="get",cm="application/x-www-form-urlencoded";function _v(t){return t!=null&&typeof t.tagName=="string"}function mj(t){return _v(t)&&t.tagName.toLowerCase()==="button"}function yj(t){return _v(t)&&t.tagName.toLowerCase()==="form"}function vj(t){return _v(t)&&t.tagName.toLowerCase()==="input"}function _j(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bj(t,e){return t.button===0&&(!e||e==="_self")&&!_j(t)}var bg=null;function wj(){if(bg===null)try{new FormData(document.createElement("form"),0),bg=!1}catch{bg=!0}return bg}var Ej=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function z_(t){return t!=null&&!Ej.has(t)?(os(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cm}"`),null):t}function xj(t,e){let n,r,i,o,s;if(yj(t)){let a=t.getAttribute("action");r=a?Fs(a,e):null,n=t.getAttribute("method")||lm,i=z_(t.getAttribute("enctype"))||cm,o=new FormData(t)}else if(mj(t)||vj(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Fs(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||lm,i=z_(t.getAttribute("formenctype"))||z_(a.getAttribute("enctype"))||cm,o=new FormData(a,t),!wj()){let{name:c,type:u,value:f}=t;if(u==="image"){let h=c?`${c}.`:"";o.append(`${h}x`,"0"),o.append(`${h}y`,"0")}else c&&o.append(c,f)}}else{if(_v(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lm,r=null,i=cm,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function rx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Sj(t,e){if(t.id in e)return e[t.id];try{let n=await g6(()=>import(t.module),__vite__mapDeps([]));return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cj(t){return t!=null&&typeof t.page=="string"}function Tj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Ij(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await Sj(o,n);return s.links?s.links():[]}return[]}));return kj(r.flat(1).filter(Tj).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function uR(t,e,n,r,i,o){let s=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return o==="assets"?e.filter((l,c)=>s(l,c)||a(l,c)):o==="data"?e.filter((l,c)=>{var f;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(s(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Rj(t,e,{includeHydrateFallback:n}={}){return Pj(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function Pj(t){return[...new Set(t)]}function Aj(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function kj(t,e){let n=new Set,r=new Set(e);return t.reduce((i,o)=>{if(e&&!Cj(o)&&o.as==="script"&&o.href&&r.has(o.href))return i;let a=JSON.stringify(Aj(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}function Oj(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Fs(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function cM(){let t=E.useContext(ld);return rx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Nj(){let t=E.useContext(yv);return rx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ix=E.createContext(void 0);ix.displayName="FrameworkContext";function uM(){let t=E.useContext(ix);return rx(t,"You must render this element inside a <HydratedRouter> element"),t}function $j(t,e){let n=E.useContext(ix),[r,i]=E.useState(!1),[o,s]=E.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=e,h=E.useRef(null);E.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let b=_=>{_.forEach(w=>{s(w.isIntersecting)})},x=new IntersectionObserver(b,{threshold:.5});return h.current&&x.observe(h.current),()=>{x.disconnect()}}},[t]),E.useEffect(()=>{if(r){let b=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(b)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,h,{}]:[o,h,{onFocus:Jd(a,p),onBlur:Jd(l,m),onMouseEnter:Jd(c,p),onMouseLeave:Jd(u,m),onTouchStart:Jd(f,p)}]:[!1,h,{}]}function Jd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Mj({page:t,...e}){let{router:n}=cM(),r=E.useMemo(()=>J$(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(Lj,{page:t,matches:r,...e}):null}function Dj(t){let{manifest:e,routeModules:n}=uM(),[r,i]=E.useState([]);return E.useEffect(()=>{let o=!1;return Ij(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function Lj({page:t,matches:e,...n}){let r=sc(),{manifest:i,routeModules:o}=uM(),{basename:s}=cM(),{loaderData:a,matches:l}=Nj(),c=E.useMemo(()=>uR(t,e,l,i,r,"data"),[t,e,l,i,r]),u=E.useMemo(()=>uR(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let m=new Set,b=!1;if(e.forEach(_=>{var v;let w=i.routes[_.route.id];!w||!w.hasLoader||(!c.some(S=>S.route.id===_.route.id)&&_.route.id in a&&((v=o[_.route.id])!=null&&v.shouldRevalidate)||w.hasClientLoader?b=!0:m.add(_.route.id))}),m.size===0)return[];let x=Oj(t,s);return b&&m.size>0&&x.searchParams.set("_routes",e.filter(_=>m.has(_.route.id)).map(_=>_.route.id).join(",")),[x.pathname+x.search]},[s,a,r,i,c,e,t,o]),h=E.useMemo(()=>Rj(u,i),[u,i]),p=Dj(u);return E.createElement(E.Fragment,null,f.map(m=>E.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),h.map(m=>E.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),p.map(({key:m,link:b})=>E.createElement("link",{key:m,...b})))}function Fj(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var dM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dM&&(window.__reactRouterVersion="7.4.1")}catch{}function Bj({basename:t,children:e,window:n}){let r=E.useRef();r.current==null&&(r.current=T6({window:n,v5Compat:!0}));let i=r.current,[o,s]=E.useState({action:i.action,location:i.location}),a=E.useCallback(l=>{E.startTransition(()=>s(l))},[s]);return E.useLayoutEffect(()=>i.listen(a),[i,a]),E.createElement(pj,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var fM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hM=E.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f,...h},p){let{basename:m}=E.useContext(ls),b=typeof c=="string"&&fM.test(c),x,_=!1;if(typeof c=="string"&&b&&(x=c,dM))try{let R=new URL(window.location.href),y=c.startsWith("//")?new URL(R.protocol+c):new URL(c),P=Fs(y.pathname,m);y.origin===R.origin&&P!=null?c=P+y.search+y.hash:_=!0}catch{os(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=J6(c,{relative:i}),[v,S,k]=$j(r,h),N=zj(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:f});function I(R){e&&e(R),R.defaultPrevented||N(R)}let T=E.createElement("a",{...h,...k,href:x||w,onClick:_||o?e:I,ref:Fj(p,S),target:l,"data-discover":!b&&n==="render"?"true":void 0});return v&&!b?E.createElement(E.Fragment,null,T,E.createElement(Mj,{page:w})):T});hM.displayName="Link";var Vj=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...c},u){let f=op(s,{relative:c.relative}),h=sc(),p=E.useContext(yv),{navigator:m,basename:b}=E.useContext(ls),x=p!=null&&Kj(f)&&a===!0,_=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,w=h.pathname,v=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(w=w.toLowerCase(),v=v?v.toLowerCase():null,_=_.toLowerCase()),v&&b&&(v=Fs(v,b)||v);const S=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let k=w===_||!i&&w.startsWith(_)&&w.charAt(S)==="/",N=v!=null&&(v===_||!i&&v.startsWith(_)&&v.charAt(_.length)==="/"),I={isActive:k,isPending:N,isTransitioning:x},T=k?e:void 0,R;typeof r=="function"?R=r(I):R=[r,k?"active":null,N?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let y=typeof o=="function"?o(I):o;return E.createElement(hM,{...c,"aria-current":T,className:R,ref:u,style:y,to:s,viewTransition:a},typeof l=="function"?l(I):l)});Vj.displayName="NavLink";var Uj=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=lm,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:f,...h},p)=>{let m=Gj(),b=qj(a,{relative:c}),x=s.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&fM.test(a),w=v=>{if(l&&l(v),v.defaultPrevented)return;v.preventDefault();let S=v.nativeEvent.submitter,k=(S==null?void 0:S.getAttribute("formmethod"))||s;m(S||v.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:i,state:o,relative:c,preventScrollReset:u,viewTransition:f})};return E.createElement("form",{ref:p,method:x,action:b,onSubmit:r?l:w,...h,"data-discover":!_&&t==="render"?"true":void 0})});Uj.displayName="Form";function jj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pM(t){let e=E.useContext(ld);return wn(e,jj(t)),e}function zj(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=vv(),l=sc(),c=op(t,{relative:o});return E.useCallback(u=>{if(bj(u,e)){u.preventDefault();let f=n!==void 0?n:xh(l)===xh(c);a(t,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,c,n,r,e,t,i,o,s])}var Wj=0,Hj=()=>`__${String(++Wj)}__`;function Gj(){let{router:t}=pM("useSubmit"),{basename:e}=E.useContext(ls),n=uj();return E.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:c}=xj(r,e);if(i.navigate===!1){let u=i.fetcherKey||Hj();await t.fetch(u,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function qj(t,{relative:e}={}){let{basename:n}=E.useContext(ls),r=E.useContext(cs);wn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...op(t||".",{relative:e})},s=sc();if(t==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let u=a.toString();o.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ks([n,o.pathname])),xh(o)}function Kj(t,e={}){let n=E.useContext(iM);wn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=pM("useViewTransitionState"),i=op(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Fs(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Fs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Qm(i.pathname,s)!=null||Qm(i.pathname,o)!=null}new TextEncoder;const Yj=()=>{};var dR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae=function(t,e){if(!t)throw cd(e)},cd=function(t){return new Error("Firebase Database ("+gM.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Xj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ox={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Xj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new Qj;const h=o<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),f!==64){const m=c<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Qj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yM=function(t){const e=mM(t);return ox.encodeByteArray(e,!0)},Jm=function(t){return yM(t).replace(/\./g,"")},Zm=function(t){try{return ox.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t){return vM(void 0,t)}function vM(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Zj(n)||(t[n]=vM(t[n],e[n]));return t}function Zj(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=()=>e9().__FIREBASE_DEFAULTS__,n9=()=>{if(typeof process>"u"||typeof dR>"u")return;const t=dR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},r9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Zm(t[1]);return e&&JSON.parse(e)},bv=()=>{try{return Yj()||t9()||n9()||r9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_M=t=>{var e,n;return(n=(e=bv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sx=t=>{const e=_M(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bM=()=>{var t;return(t=bv())===null||t===void 0?void 0:t.config},wM=t=>{var e;return(e=bv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Jm(JSON.stringify(n)),Jm(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dr())}function i9(){var t;const e=(t=bv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function s9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a9(){const t=Dr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xM(){return gM.NODE_ADMIN===!0}function l9(){return!i9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function c9(){try{return typeof indexedDB=="object"}catch{return!1}}function u9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9="FirebaseError";class us extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=d9,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sp.prototype.create)}}class sp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?f9(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new us(i,a,r)}}function f9(t,e){return t.replace(h9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const h9=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t){return JSON.parse(t)}function ir(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=Sh(Zm(o[0])||""),n=Sh(Zm(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},p9=function(t){const e=SM(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},g9=function(t){const e=SM(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Fu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Nw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ey(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Bs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(fR(o)&&fR(s)){if(!Bs(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ef(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let f=0;f<80;f++){f<40?f<20?(c=a^o&(s^a),u=1518500249):(c=o^s^a,u=1859775393):f<60?(c=o&s|a&(o|s),u=2400959708):(c=o^s^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[f]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function y9(t,e){const n=new v9(t,e);return n.subscribe.bind(n)}class v9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=W_),i.error===void 0&&(i.error=W_),i.complete===void 0&&(i.complete=W_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function W_(){}function cx(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,ae(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ev=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t){return t&&t._delegate?t._delegate:t}class Vs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wv;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x9(e))try{this.getOrInitializeService({instanceIdentifier:wl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=wl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wl){return this.instances.has(e)}getOptions(e=wl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:E9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wl){return this.component?this.component.multipleInstances?e:wl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E9(t){return t===wl?void 0:t}function x9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new w9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(bt||(bt={}));const C9={debug:bt.DEBUG,verbose:bt.VERBOSE,info:bt.INFO,warn:bt.WARN,error:bt.ERROR,silent:bt.SILENT},T9=bt.INFO,I9={[bt.DEBUG]:"log",[bt.VERBOSE]:"log",[bt.INFO]:"info",[bt.WARN]:"warn",[bt.ERROR]:"error"},R9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=I9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xv{constructor(e){this.name=e,this._logLevel=T9,this._logHandler=R9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,bt.DEBUG,...e),this._logHandler(this,bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,bt.VERBOSE,...e),this._logHandler(this,bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,bt.INFO,...e),this._logHandler(this,bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,bt.WARN,...e),this._logHandler(this,bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,bt.ERROR,...e),this._logHandler(this,bt.ERROR,...e)}}const P9=(t,e)=>e.some(n=>t instanceof n);let hR,pR;function A9(){return hR||(hR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k9(){return pR||(pR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CM=new WeakMap,$w=new WeakMap,TM=new WeakMap,H_=new WeakMap,ux=new WeakMap;function O9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(La(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&CM.set(n,t)}).catch(()=>{}),ux.set(e,t),e}function N9(t){if($w.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});$w.set(t,e)}let Mw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $w.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return La(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $9(t){Mw=t(Mw)}function M9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(G_(this),e,...n);return TM.set(r,e.sort?e.sort():[e]),La(r)}:k9().includes(t)?function(...e){return t.apply(G_(this),e),La(CM.get(this))}:function(...e){return La(t.apply(G_(this),e))}}function D9(t){return typeof t=="function"?M9(t):(t instanceof IDBTransaction&&N9(t),P9(t,A9())?new Proxy(t,Mw):t)}function La(t){if(t instanceof IDBRequest)return O9(t);if(H_.has(t))return H_.get(t);const e=D9(t);return e!==t&&(H_.set(t,e),ux.set(e,t)),e}const G_=t=>ux.get(t);function L9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=La(s);return r&&s.addEventListener("upgradeneeded",l=>{r(La(s.result),l.oldVersion,l.newVersion,La(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const F9=["get","getKey","getAll","getAllKeys","count"],B9=["put","add","delete","clear"],q_=new Map;function gR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(q_.get(e))return q_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=B9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||F9.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return q_.set(e,o),o}$9(t=>({...t,get:(e,n,r)=>gR(e,n)||t.get(e,n,r),has:(e,n)=>!!gR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(U9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function U9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dw="@firebase/app",mR="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new xv("@firebase/app"),j9="@firebase/app-compat",z9="@firebase/analytics-compat",W9="@firebase/analytics",H9="@firebase/app-check-compat",G9="@firebase/app-check",q9="@firebase/auth",K9="@firebase/auth-compat",Y9="@firebase/database",X9="@firebase/data-connect",Q9="@firebase/database-compat",J9="@firebase/functions",Z9="@firebase/functions-compat",ez="@firebase/installations",tz="@firebase/installations-compat",nz="@firebase/messaging",rz="@firebase/messaging-compat",iz="@firebase/performance",oz="@firebase/performance-compat",sz="@firebase/remote-config",az="@firebase/remote-config-compat",lz="@firebase/storage",cz="@firebase/storage-compat",uz="@firebase/firestore",dz="@firebase/vertexai",fz="@firebase/firestore-compat",hz="firebase",pz="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="[DEFAULT]",gz={[Dw]:"fire-core",[j9]:"fire-core-compat",[W9]:"fire-analytics",[z9]:"fire-analytics-compat",[G9]:"fire-app-check",[H9]:"fire-app-check-compat",[q9]:"fire-auth",[K9]:"fire-auth-compat",[Y9]:"fire-rtdb",[X9]:"fire-data-connect",[Q9]:"fire-rtdb-compat",[J9]:"fire-fn",[Z9]:"fire-fn-compat",[ez]:"fire-iid",[tz]:"fire-iid-compat",[nz]:"fire-fcm",[rz]:"fire-fcm-compat",[iz]:"fire-perf",[oz]:"fire-perf-compat",[sz]:"fire-rc",[az]:"fire-rc-compat",[lz]:"fire-gcs",[cz]:"fire-gcs-compat",[uz]:"fire-fst",[fz]:"fire-fst-compat",[dz]:"fire-vertex","fire-js":"fire-js",[hz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=new Map,mz=new Map,Fw=new Map;function yR(t,e){try{t.container.addComponent(e)}catch(n){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ga(t){const e=t.name;if(Fw.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;Fw.set(e,t);for(const n of ty.values())yR(n,t);for(const n of mz.values())yR(n,t);return!0}function ap(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fa=new sp("app","Firebase",yz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=pz;function IM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Lw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Fa.create("bad-app-name",{appName:String(i)});if(n||(n=bM()),!n)throw Fa.create("no-options");const o=ty.get(i);if(o){if(Bs(n,o.options)&&Bs(r,o.config))return o;throw Fa.create("duplicate-app",{appName:i})}const s=new S9(i);for(const l of Fw.values())s.addComponent(l);const a=new vz(n,r,s);return ty.set(i,a),a}function Sv(t=Lw){const e=ty.get(t);if(!e&&t===Lw&&bM())return IM();if(!e)throw Fa.create("no-app",{appName:t});return e}function eo(t,e,n){var r;let i=(r=gz[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(a.join(" "));return}Ga(new Vs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z="firebase-heartbeat-database",bz=1,Ch="firebase-heartbeat-store";let K_=null;function RM(){return K_||(K_=L9(_z,bz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ch)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fa.create("idb-open",{originalErrorMessage:t.message})})),K_}async function wz(t){try{const n=(await RM()).transaction(Ch),r=await n.objectStore(Ch).get(PM(t));return await n.done,r}catch(e){if(e instanceof us)Us.warn(e.message);else{const n=Fa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Us.warn(n.message)}}}async function vR(t,e){try{const r=(await RM()).transaction(Ch,"readwrite");await r.objectStore(Ch).put(e,PM(t)),await r.done}catch(n){if(n instanceof us)Us.warn(n.message);else{const r=Fa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Us.warn(r.message)}}}function PM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez=1024,xz=30;class Sz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Tz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=_R();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>xz){const s=Iz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_R(),{heartbeatsToSend:r,unsentEntries:i}=Cz(this._heartbeatsCache.heartbeats),o=Jm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Us.warn(n),""}}}function _R(){return new Date().toISOString().substring(0,10)}function Cz(t,e=Ez){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),bR(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Tz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return c9()?u9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wz(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function bR(t){return Jm(JSON.stringify({version:2,heartbeats:t})).length}function Iz(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rz(t){Ga(new Vs("platform-logger",e=>new V9(e),"PRIVATE")),Ga(new Vs("heartbeat",e=>new Sz(e),"PRIVATE")),eo(Dw,mR,t),eo(Dw,mR,"esm2017"),eo("fire-js","")}Rz("");var Pz="firebase",Az="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */eo(Pz,Az,"app");function dx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function AM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kz=AM,kM=new sp("auth","Firebase",AM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny=new xv("@firebase/auth");function Oz(t,...e){ny.logLevel<=bt.WARN&&ny.warn(`Auth (${ll}): ${t}`,...e)}function um(t,...e){ny.logLevel<=bt.ERROR&&ny.error(`Auth (${ll}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(t,...e){throw hx(t,...e)}function Po(t,...e){return hx(t,...e)}function fx(t,e,n){const r=Object.assign(Object.assign({},kz()),{[e]:n});return new sp("auth","Firebase",r).create(e,{appName:t.name})}function Os(t){return fx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nz(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&io(t,"argument-error"),fx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kM.create(t,...e)}function je(t,e,...n){if(!t)throw hx(e,...n)}function Is(t){const e="INTERNAL ASSERTION FAILED: "+t;throw um(e),new Error(e)}function js(t,e){t||Is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $z(){return wR()==="http:"||wR()==="https:"}function wR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($z()||s9()||"connection"in navigator)?navigator.onLine:!0}function Dz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n){this.shortDelay=e,this.longDelay=n,js(n>e,"Short delay should be less than long delay!"),this.isMobile=lx()||EM()}get(){return Mz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t,e){js(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Bz=new lp(3e4,6e4);function cl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ul(t,e,n,r,i={}){return NM(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=ud(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},o);return o9()||(c.referrerPolicy="no-referrer"),OM.fetch()(await $M(t,t.config.apiHost,n,a),c)})}async function NM(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Lz),e);try{const i=new Uz(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw wg(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw wg(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw wg(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw wg(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw fx(t,u,c);io(t,u)}}catch(i){if(i instanceof us)throw i;io(t,"network-request-failed",{message:String(i)})}}async function cp(t,e,n,r,i={}){const o=await ul(t,e,n,r,i);return"mfaPendingCredential"in o&&io(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function $M(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?px(t.config,i):`${t.config.apiScheme}://${i}`;return Fz.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function Vz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Uz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Po(this.auth,"network-request-failed")),Bz.get())})}}function wg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Po(t,e,r);return i.customData._tokenResponse=n,i}function ER(t){return t!==void 0&&t.enterprise!==void 0}class jz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Vz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zz(t,e){return ul(t,"GET","/v2/recaptchaConfig",cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wz(t,e){return ul(t,"POST","/v1/accounts:delete",e)}async function ry(t,e){return ul(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Hz(t,e=!1){const n=Bt(t),r=await n.getIdToken(e),i=gx(r);je(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:jf(Y_(i.auth_time)),issuedAtTime:jf(Y_(i.iat)),expirationTime:jf(Y_(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Y_(t){return Number(t)*1e3}function gx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return um("JWT malformed, contained fewer than 3 sections"),null;try{const i=Zm(n);return i?JSON.parse(i):(um("Failed to decode base64 JWT payload"),null)}catch(i){return um("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function xR(t){const e=gx(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof us&&Gz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Gz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jf(this.lastLoginAt),this.creationTime=jf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iy(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Th(t,ry(n,{idToken:r}));je(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?MM(o.providerUserInfo):[],a=Yz(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Vw(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function Kz(t){const e=Bt(t);await iy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Yz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function MM(t){return t.map(e=>{var{providerId:n}=e,r=dx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xz(t,e){const n=await NM(t,{},async()=>{const r=ud({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await $M(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",OM.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Qz(t,e){return ul(t,"POST","/v2/accounts:revokeToken",cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=xR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Xz(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new bu;return r&&(je(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(je(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(je(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bu,this.toJSON())}_performRefresh(){return Is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=dx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vw(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Th(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Hz(this,e)}reload(){return Kz(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await iy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jr(this.auth.app))return Promise.reject(Os(this.auth));const e=await this.getIdToken();return await Th(this,Wz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,c,u;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(s=n.photoURL)!==null&&s!==void 0?s:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:v,emailVerified:S,isAnonymous:k,providerData:N,stsTokenManager:I}=n;je(v&&I,e,"internal-error");const T=bu.fromJSON(this.name,I);je(typeof v=="string",e,"internal-error"),ua(f,e.name),ua(h,e.name),je(typeof S=="boolean",e,"internal-error"),je(typeof k=="boolean",e,"internal-error"),ua(p,e.name),ua(m,e.name),ua(b,e.name),ua(x,e.name),ua(_,e.name),ua(w,e.name);const R=new xo({uid:v,auth:e,email:h,emailVerified:S,displayName:f,isAnonymous:k,photoURL:m,phoneNumber:p,tenantId:b,stsTokenManager:T,createdAt:_,lastLoginAt:w});return N&&Array.isArray(N)&&(R.providerData=N.map(y=>Object.assign({},y))),x&&(R._redirectEventId=x),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new bu;i.updateFromServerResponse(n);const o=new xo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await iy(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];je(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?MM(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new bu;a.updateFromIdToken(r);const l=new xo({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Vw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=new Map;function Rs(t){js(t instanceof Function,"Expected a class definition");let e=SR.get(t);return e?(js(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DM.type="NONE";const CR=DM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t,e,n){return`firebase:${t}:${e}:${n}`}class wu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=dm(this.userKey,i.apiKey,o),this.fullPersistenceKey=dm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ry(this.auth,{idToken:e}).catch(()=>{});return n?xo._fromGetAccountInfoResponse(this.auth,n,e):null}return xo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wu(Rs(CR),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||Rs(CR);const s=dm(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){let f;if(typeof u=="string"){const h=await ry(e,{idToken:u}).catch(()=>{});if(!h)break;f=await xo._fromGetAccountInfoResponse(e,h,u)}else f=xo._fromJSON(e,u);c!==o&&(a=f),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new wu(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new wu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jM(e))return"Blackberry";if(zM(e))return"Webos";if(FM(e))return"Safari";if((e.includes("chrome/")||BM(e))&&!e.includes("edge/"))return"Chrome";if(UM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function LM(t=Dr()){return/firefox\//i.test(t)}function FM(t=Dr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BM(t=Dr()){return/crios\//i.test(t)}function VM(t=Dr()){return/iemobile/i.test(t)}function UM(t=Dr()){return/android/i.test(t)}function jM(t=Dr()){return/blackberry/i.test(t)}function zM(t=Dr()){return/webos/i.test(t)}function mx(t=Dr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Jz(t=Dr()){var e;return mx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Zz(){return a9()&&document.documentMode===10}function WM(t=Dr()){return mx(t)||UM(t)||zM(t)||jM(t)||/windows phone/i.test(t)||VM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(t,e=[]){let n;switch(t){case"Browser":n=TR(Dr());break;case"Worker":n=`${TR(Dr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ll}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tW(t,e={}){return ul(t,"GET","/v2/passwordPolicy",cl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW=6;class rW{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:nW,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IR(this),this.idTokenSubscription=new IR(this),this.beforeStateQueue=new eW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rs(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await wu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ry(this,{idToken:e}),r=await xo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(jr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await iy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Dz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jr(this.app))return Promise.reject(Os(this));const n=e?Bt(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jr(this.app)?Promise.reject(Os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jr(this.app)?Promise.reject(Os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tW(this),n=new rW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Qz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rs(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await wu.create(this,[Rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(jr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Oz(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function dl(t){return Bt(t)}class IR{constructor(e){this.auth=e,this.observer=null,this.addObserver=y9(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oW(t){Cv=t}function GM(t){return Cv.loadJS(t)}function sW(){return Cv.recaptchaEnterpriseScript}function aW(){return Cv.gapiScript}function lW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class cW{constructor(){this.enterprise=new uW}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class uW{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const dW="recaptcha-enterprise",qM="NO_RECAPTCHA";class fW{constructor(e){this.type=dW,this.auth=dl(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{zz(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new jz(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;ER(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(qM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cW().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&ER(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=sW();l.length!==0&&(l+=a),GM(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function Zd(t,e,n,r=!1,i=!1){const o=new fW(t);let s;if(i)s=qM;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Uw(t,e,n,r,i){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Zd(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Zd(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){const a=await Zd(t,e,n);return r(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await Zd(t,e,n,!1,!0);return r(t,u)}return Promise.reject(l)})}else{const a=await Zd(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(t,e){const n=ap(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Bs(o,e??{}))return i;io(i,"already-initialized")}return n.initialize({options:e})}function pW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function gW(t,e,n){const r=dl(t);je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=KM(e),{host:s,port:a}=mW(e),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),je(Bs(c,r.config.emulator)&&Bs(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,i||yW()}function KM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mW(t){const e=KM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:RR(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:RR(s)}}}function RR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Is("not implemented")}_getIdTokenResponse(e){return Is("not implemented")}_linkToIdToken(e,n){return Is("not implemented")}_getReauthenticationResolver(e){return Is("not implemented")}}async function vW(t,e){return ul(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _W(t,e){return cp(t,"POST","/v1/accounts:signInWithPassword",cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bW(t,e){return cp(t,"POST","/v1/accounts:signInWithEmailLink",cl(t,e))}async function wW(t,e){return cp(t,"POST","/v1/accounts:signInWithEmailLink",cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends yx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ih(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ih(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uw(e,n,"signInWithPassword",_W,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return bW(e,{email:this._email,oobCode:this._password});default:io(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uw(e,r,"signUpPassword",vW,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return wW(e,{idToken:n,email:this._email,oobCode:this._password});default:io(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t,e){return cp(t,"POST","/v1/accounts:signInWithIdp",cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW="http://localhost";class ql extends yx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ql(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):io("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=dx(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new ql(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Eu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Eu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Eu(e,n)}buildRequest(){const e={requestUri:EW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ud(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SW(t){const e=wf(Ef(t)).link,n=e?wf(Ef(e)).deep_link_id:null,r=wf(Ef(t)).deep_link_id;return(r?wf(Ef(r)).link:null)||r||n||e||t}class vx{constructor(e){var n,r,i,o,s,a;const l=wf(Ef(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,f=xW((i=l.mode)!==null&&i!==void 0?i:null);je(c&&u&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=SW(e);try{return new vx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this.providerId=dd.PROVIDER_ID}static credential(e,n){return Ih._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=vx.parseLink(n);return je(r,"argument-error"),Ih._fromEmailAndCode(e,r.code,r.tenantId)}}dd.PROVIDER_ID="password";dd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up extends _x{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends up{constructor(){super("facebook.com")}static credential(e){return ql._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return va.credential(e.oauthAccessToken)}catch{return null}}}va.FACEBOOK_SIGN_IN_METHOD="facebook.com";va.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends up{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ql._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ss.credential(n,r)}catch{return null}}}Ss.GOOGLE_SIGN_IN_METHOD="google.com";Ss.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends up{constructor(){super("github.com")}static credential(e){return ql._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _a.credential(e.oauthAccessToken)}catch{return null}}}_a.GITHUB_SIGN_IN_METHOD="github.com";_a.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends up{constructor(){super("twitter.com")}static credential(e,n){return ql._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ba.credential(n,r)}catch{return null}}}ba.TWITTER_SIGN_IN_METHOD="twitter.com";ba.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CW(t,e){return cp(t,"POST","/v1/accounts:signUp",cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await xo._fromIdTokenResponse(e,r,i),s=PR(r);return new Kl({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=PR(r);return new Kl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function PR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy extends us{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,oy.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new oy(e,n,r,i)}}function YM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?oy._fromErrorAndOperation(t,o,e,r):o})}async function TW(t,e,n=!1){const r=await Th(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Kl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IW(t,e,n=!1){const{auth:r}=t;if(jr(r.app))return Promise.reject(Os(r));const i="reauthenticate";try{const o=await Th(t,YM(r,i,e,t),n);je(o.idToken,r,"internal-error");const s=gx(o.idToken);je(s,r,"internal-error");const{sub:a}=s;return je(t.uid===a,r,"user-mismatch"),Kl._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&io(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM(t,e,n=!1){if(jr(t.app))return Promise.reject(Os(t));const r="signIn",i=await YM(t,r,e),o=await Kl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function RW(t,e){return XM(dl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QM(t){const e=dl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function PW(t,e,n){if(jr(t.app))return Promise.reject(Os(t));const r=dl(t),s=await Uw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CW,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&QM(t),l}),a=await Kl._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function AW(t,e,n){return jr(t.app)?Promise.reject(Os(t)):RW(Bt(t),dd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&QM(t),r})}function kW(t,e,n,r){return Bt(t).onIdTokenChanged(e,n,r)}function OW(t,e,n){return Bt(t).beforeAuthStateChanged(e,n)}function NW(t,e,n,r){return Bt(t).onAuthStateChanged(e,n,r)}const sy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sy,"1"),this.storage.removeItem(sy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W=1e3,MW=10;class ZM extends JM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);Zz()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,MW):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},$W)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZM.type="LOCAL";const DW=ZM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD extends JM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eD.type="SESSION";const tD=eD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Tv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await LW(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=bx("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(){return window}function BW(t){Zo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(){return typeof Zo().WorkerGlobalScope<"u"&&typeof Zo().importScripts=="function"}async function VW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jW(){return nD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="firebaseLocalStorageDb",zW=1,ay="firebaseLocalStorage",iD="fbase_key";class dp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Iv(t,e){return t.transaction([ay],e?"readwrite":"readonly").objectStore(ay)}function WW(){const t=indexedDB.deleteDatabase(rD);return new dp(t).toPromise()}function jw(){const t=indexedDB.open(rD,zW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ay,{keyPath:iD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ay)?e(r):(r.close(),await WW(),e(await jw()))})})}async function AR(t,e,n){const r=Iv(t,!0).put({[iD]:e,value:n});return new dp(r).toPromise()}async function HW(t,e){const n=Iv(t,!1).get(e),r=await new dp(n).toPromise();return r===void 0?null:r.value}function kR(t,e){const n=Iv(t,!0).delete(e);return new dp(n).toPromise()}const GW=800,qW=3;class oD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>qW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tv._getInstance(jW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await VW(),!this.activeServiceWorker)return;this.sender=new FW(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jw();return await AR(e,sy,"1"),await kR(e,sy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>AR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>HW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Iv(i,!1).getAll();return new dp(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oD.type="LOCAL";const KW=oD;new lp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(t,e){return e?Rs(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx extends yx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Eu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Eu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YW(t){return XM(t.auth,new wx(t),t.bypassAuthState)}function XW(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),IW(n,new wx(t),t.bypassAuthState)}async function QW(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),TW(n,new wx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YW;case"linkViaPopup":case"linkViaRedirect":return QW;case"reauthViaPopup":case"reauthViaRedirect":return XW;default:io(this.auth,"internal-error")}}resolve(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JW=new lp(2e3,1e4);async function ZW(t,e,n){if(jr(t.app))return Promise.reject(Po(t,"operation-not-supported-in-this-environment"));const r=dl(t);Nz(t,e,_x);const i=sD(r,n);return new Al(r,"signInViaPopup",e,i).executeNotNull()}class Al extends aD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Al.currentPopupAction&&Al.currentPopupAction.cancel(),Al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){js(this.filter.length===1,"Popup operations only handle one event");const e=bx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Po(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Po(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Al.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Po(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JW.get())};e()}}Al.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8="pendingRedirect",fm=new Map;class t8 extends aD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=fm.get(this.auth._key());if(!e){try{const r=await n8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fm.set(this.auth._key(),e)}return this.bypassAuthState||fm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n8(t,e){const n=o8(e),r=i8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function r8(t,e){fm.set(t._key(),e)}function i8(t){return Rs(t._redirectPersistence)}function o8(t){return dm(e8,t.config.apiKey,t.name)}async function s8(t,e,n=!1){if(jr(t.app))return Promise.reject(Os(t));const r=dl(t),i=sD(r,e),s=await new t8(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8=10*60*1e3;class l8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!c8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Po(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a8&&this.cachedEventUids.clear(),this.cachedEventUids.has(OR(e))}saveEventToCache(e){this.cachedEventUids.add(OR(e)),this.lastProcessedEventTime=Date.now()}}function OR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function c8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u8(t,e={}){return ul(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f8=/^https?/;async function h8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await u8(t);for(const n of e)try{if(p8(n))return}catch{}io(t,"unauthorized-domain")}function p8(t){const e=Bw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!f8.test(n))return!1;if(d8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8=new lp(3e4,6e4);function NR(){const t=Zo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function m8(t){return new Promise((e,n)=>{var r,i,o;function s(){NR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NR(),n(Po(t,"network-request-failed"))},timeout:g8.get()})}if(!((i=(r=Zo().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Zo().gapi)===null||o===void 0)&&o.load)s();else{const a=lW("iframefcb");return Zo()[a]=()=>{gapi.load?s():n(Po(t,"network-request-failed"))},GM(`${aW()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw hm=null,e})}let hm=null;function y8(t){return hm=hm||m8(t),hm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8=new lp(5e3,15e3),_8="__/auth/iframe",b8="emulator/auth/iframe",w8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x8(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?px(e,b8):`https://${t.config.authDomain}/${_8}`,r={apiKey:e.apiKey,appName:t.name,v:ll},i=E8.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ud(r).slice(1)}`}async function S8(t){const e=await y8(t),n=Zo().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:x8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w8,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Po(t,"network-request-failed"),a=Zo().setTimeout(()=>{o(s)},v8.get());function l(){Zo().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T8=500,I8=600,R8="_blank",P8="http://localhost";class $R{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A8(t,e,n,r=T8,i=I8){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},C8),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Dr().toLowerCase();n&&(a=BM(c)?R8:n),LM(c)&&(e=e||P8,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(Jz(c)&&a!=="_self")return k8(e||"",a),new $R(null);const f=window.open(e||"",a,u);je(f,t,"popup-blocked");try{f.focus()}catch{}return new $R(f)}function k8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8="__/auth/handler",N8="emulator/auth/handler",$8=encodeURIComponent("fac");async function MR(t,e,n,r,i,o){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ll,eventId:i};if(e instanceof _x){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Nw(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(o||{}))s[u]=f}if(e instanceof up){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${$8}=${encodeURIComponent(l)}`:"";return`${M8(t)}?${ud(a).slice(1)}${c}`}function M8({config:t}){return t.emulator?px(t,N8):`https://${t.authDomain}/${O8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="webStorageSupport";class D8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tD,this._completeRedirectFn=s8,this._overrideRedirectResult=r8}async _openPopup(e,n,r,i){var o;js((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await MR(e,n,r,Bw(),i);return A8(e,s,bx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await MR(e,n,r,Bw(),i);return BW(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(js(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await S8(e),r=new l8(e);return n.register("authEvent",i=>(je(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(X_,{type:X_},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[X_];s!==void 0&&n(!!s),io(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=h8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WM()||FM()||mx()}}const L8=D8;var DR="@firebase/auth",LR="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function V8(t){Ga(new Vs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;je(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HM(t)},c=new iW(r,i,o,l);return pW(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ga(new Vs("auth-internal",e=>{const n=dl(e.getProvider("auth").getImmediate());return(r=>new F8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),eo(DR,LR,B8(t)),eo(DR,LR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8=5*60,j8=wM("authIdTokenMaxAge")||U8;let FR=null;const z8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>j8)return;const i=n==null?void 0:n.token;FR!==i&&(FR=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function W8(t=Sv()){const e=ap(t,"auth");if(e.isInitialized())return e.getImmediate();const n=hW(t,{popupRedirectResolver:L8,persistence:[KW,DW,tD]}),r=wM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=z8(o.toString());OW(n,s,()=>s(n.currentUser)),kW(n,a=>s(a))}}const i=_M("auth");return i&&gW(n,`http://${i}`),n}function H8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}oW({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Po("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",H8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});V8("Browser");var BR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ba,cD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,T){function R(){}R.prototype=T.prototype,I.D=T.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(y,P,$){for(var A=Array(arguments.length-2),W=2;W<arguments.length;W++)A[W-2]=arguments[W];return T.prototype[P].apply(y,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,T,R){R||(R=0);var y=Array(16);if(typeof T=="string")for(var P=0;16>P;++P)y[P]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(P=0;16>P;++P)y[P]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=I.g[0],R=I.g[1],P=I.g[2];var $=I.g[3],A=T+($^R&(P^$))+y[0]+3614090360&4294967295;T=R+(A<<7&4294967295|A>>>25),A=$+(P^T&(R^P))+y[1]+3905402710&4294967295,$=T+(A<<12&4294967295|A>>>20),A=P+(R^$&(T^R))+y[2]+606105819&4294967295,P=$+(A<<17&4294967295|A>>>15),A=R+(T^P&($^T))+y[3]+3250441966&4294967295,R=P+(A<<22&4294967295|A>>>10),A=T+($^R&(P^$))+y[4]+4118548399&4294967295,T=R+(A<<7&4294967295|A>>>25),A=$+(P^T&(R^P))+y[5]+1200080426&4294967295,$=T+(A<<12&4294967295|A>>>20),A=P+(R^$&(T^R))+y[6]+2821735955&4294967295,P=$+(A<<17&4294967295|A>>>15),A=R+(T^P&($^T))+y[7]+4249261313&4294967295,R=P+(A<<22&4294967295|A>>>10),A=T+($^R&(P^$))+y[8]+1770035416&4294967295,T=R+(A<<7&4294967295|A>>>25),A=$+(P^T&(R^P))+y[9]+2336552879&4294967295,$=T+(A<<12&4294967295|A>>>20),A=P+(R^$&(T^R))+y[10]+4294925233&4294967295,P=$+(A<<17&4294967295|A>>>15),A=R+(T^P&($^T))+y[11]+2304563134&4294967295,R=P+(A<<22&4294967295|A>>>10),A=T+($^R&(P^$))+y[12]+1804603682&4294967295,T=R+(A<<7&4294967295|A>>>25),A=$+(P^T&(R^P))+y[13]+4254626195&4294967295,$=T+(A<<12&4294967295|A>>>20),A=P+(R^$&(T^R))+y[14]+2792965006&4294967295,P=$+(A<<17&4294967295|A>>>15),A=R+(T^P&($^T))+y[15]+1236535329&4294967295,R=P+(A<<22&4294967295|A>>>10),A=T+(P^$&(R^P))+y[1]+4129170786&4294967295,T=R+(A<<5&4294967295|A>>>27),A=$+(R^P&(T^R))+y[6]+3225465664&4294967295,$=T+(A<<9&4294967295|A>>>23),A=P+(T^R&($^T))+y[11]+643717713&4294967295,P=$+(A<<14&4294967295|A>>>18),A=R+($^T&(P^$))+y[0]+3921069994&4294967295,R=P+(A<<20&4294967295|A>>>12),A=T+(P^$&(R^P))+y[5]+3593408605&4294967295,T=R+(A<<5&4294967295|A>>>27),A=$+(R^P&(T^R))+y[10]+38016083&4294967295,$=T+(A<<9&4294967295|A>>>23),A=P+(T^R&($^T))+y[15]+3634488961&4294967295,P=$+(A<<14&4294967295|A>>>18),A=R+($^T&(P^$))+y[4]+3889429448&4294967295,R=P+(A<<20&4294967295|A>>>12),A=T+(P^$&(R^P))+y[9]+568446438&4294967295,T=R+(A<<5&4294967295|A>>>27),A=$+(R^P&(T^R))+y[14]+3275163606&4294967295,$=T+(A<<9&4294967295|A>>>23),A=P+(T^R&($^T))+y[3]+4107603335&4294967295,P=$+(A<<14&4294967295|A>>>18),A=R+($^T&(P^$))+y[8]+1163531501&4294967295,R=P+(A<<20&4294967295|A>>>12),A=T+(P^$&(R^P))+y[13]+2850285829&4294967295,T=R+(A<<5&4294967295|A>>>27),A=$+(R^P&(T^R))+y[2]+4243563512&4294967295,$=T+(A<<9&4294967295|A>>>23),A=P+(T^R&($^T))+y[7]+1735328473&4294967295,P=$+(A<<14&4294967295|A>>>18),A=R+($^T&(P^$))+y[12]+2368359562&4294967295,R=P+(A<<20&4294967295|A>>>12),A=T+(R^P^$)+y[5]+4294588738&4294967295,T=R+(A<<4&4294967295|A>>>28),A=$+(T^R^P)+y[8]+2272392833&4294967295,$=T+(A<<11&4294967295|A>>>21),A=P+($^T^R)+y[11]+1839030562&4294967295,P=$+(A<<16&4294967295|A>>>16),A=R+(P^$^T)+y[14]+4259657740&4294967295,R=P+(A<<23&4294967295|A>>>9),A=T+(R^P^$)+y[1]+2763975236&4294967295,T=R+(A<<4&4294967295|A>>>28),A=$+(T^R^P)+y[4]+1272893353&4294967295,$=T+(A<<11&4294967295|A>>>21),A=P+($^T^R)+y[7]+4139469664&4294967295,P=$+(A<<16&4294967295|A>>>16),A=R+(P^$^T)+y[10]+3200236656&4294967295,R=P+(A<<23&4294967295|A>>>9),A=T+(R^P^$)+y[13]+681279174&4294967295,T=R+(A<<4&4294967295|A>>>28),A=$+(T^R^P)+y[0]+3936430074&4294967295,$=T+(A<<11&4294967295|A>>>21),A=P+($^T^R)+y[3]+3572445317&4294967295,P=$+(A<<16&4294967295|A>>>16),A=R+(P^$^T)+y[6]+76029189&4294967295,R=P+(A<<23&4294967295|A>>>9),A=T+(R^P^$)+y[9]+3654602809&4294967295,T=R+(A<<4&4294967295|A>>>28),A=$+(T^R^P)+y[12]+3873151461&4294967295,$=T+(A<<11&4294967295|A>>>21),A=P+($^T^R)+y[15]+530742520&4294967295,P=$+(A<<16&4294967295|A>>>16),A=R+(P^$^T)+y[2]+3299628645&4294967295,R=P+(A<<23&4294967295|A>>>9),A=T+(P^(R|~$))+y[0]+4096336452&4294967295,T=R+(A<<6&4294967295|A>>>26),A=$+(R^(T|~P))+y[7]+1126891415&4294967295,$=T+(A<<10&4294967295|A>>>22),A=P+(T^($|~R))+y[14]+2878612391&4294967295,P=$+(A<<15&4294967295|A>>>17),A=R+($^(P|~T))+y[5]+4237533241&4294967295,R=P+(A<<21&4294967295|A>>>11),A=T+(P^(R|~$))+y[12]+1700485571&4294967295,T=R+(A<<6&4294967295|A>>>26),A=$+(R^(T|~P))+y[3]+2399980690&4294967295,$=T+(A<<10&4294967295|A>>>22),A=P+(T^($|~R))+y[10]+4293915773&4294967295,P=$+(A<<15&4294967295|A>>>17),A=R+($^(P|~T))+y[1]+2240044497&4294967295,R=P+(A<<21&4294967295|A>>>11),A=T+(P^(R|~$))+y[8]+1873313359&4294967295,T=R+(A<<6&4294967295|A>>>26),A=$+(R^(T|~P))+y[15]+4264355552&4294967295,$=T+(A<<10&4294967295|A>>>22),A=P+(T^($|~R))+y[6]+2734768916&4294967295,P=$+(A<<15&4294967295|A>>>17),A=R+($^(P|~T))+y[13]+1309151649&4294967295,R=P+(A<<21&4294967295|A>>>11),A=T+(P^(R|~$))+y[4]+4149444226&4294967295,T=R+(A<<6&4294967295|A>>>26),A=$+(R^(T|~P))+y[11]+3174756917&4294967295,$=T+(A<<10&4294967295|A>>>22),A=P+(T^($|~R))+y[2]+718787259&4294967295,P=$+(A<<15&4294967295|A>>>17),A=R+($^(P|~T))+y[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(P+(A<<21&4294967295|A>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+$&4294967295}r.prototype.u=function(I,T){T===void 0&&(T=I.length);for(var R=T-this.blockSize,y=this.B,P=this.h,$=0;$<T;){if(P==0)for(;$<=R;)i(this,I,$),$+=this.blockSize;if(typeof I=="string"){for(;$<T;)if(y[P++]=I.charCodeAt($++),P==this.blockSize){i(this,y),P=0;break}}else for(;$<T;)if(y[P++]=I[$++],P==this.blockSize){i(this,y),P=0;break}}this.h=P,this.o+=T},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;var R=8*this.o;for(T=I.length-8;T<I.length;++T)I[T]=R&255,R/=256;for(this.u(I),I=Array(16),T=R=0;4>T;++T)for(var y=0;32>y;y+=8)I[R++]=this.g[T]>>>y&255;return I};function o(I,T){var R=a;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=T(I)}function s(I,T){this.h=T;for(var R=[],y=!0,P=I.length-1;0<=P;P--){var $=I[P]|0;y&&$==T||(R[P]=$,y=!1)}this.g=R}var a={};function l(I){return-128<=I&&128>I?o(I,function(T){return new s([T|0],0>T?-1:0)}):new s([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return x(c(-I));for(var T=[],R=1,y=0;I>=R;y++)T[y]=I/R|0,R*=4294967296;return new s(T,0)}function u(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return x(u(I.substring(1),T));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(T,8)),y=f,P=0;P<I.length;P+=8){var $=Math.min(8,I.length-P),A=parseInt(I.substring(P,P+$),T);8>$?($=c(Math.pow(T,$)),y=y.j($).add(c(A))):(y=y.j(R),y=y.add(c(A)))}return y}var f=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(b(this))return-x(this).m();for(var I=0,T=1,R=0;R<this.g.length;R++){var y=this.i(R);I+=(0<=y?y:4294967296+y)*T,T*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(m(this))return"0";if(b(this))return"-"+x(this).toString(I);for(var T=c(Math.pow(I,6)),R=this,y="";;){var P=S(R,T).g;R=_(R,P.j(T));var $=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=P,m(R))return $+y;for(;6>$.length;)$="0"+$;y=$+y}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function m(I){if(I.h!=0)return!1;for(var T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function b(I){return I.h==-1}t.l=function(I){return I=_(this,I),b(I)?-1:m(I)?0:1};function x(I){for(var T=I.g.length,R=[],y=0;y<T;y++)R[y]=~I.g[y];return new s(R,~I.h).add(h)}t.abs=function(){return b(this)?x(this):this},t.add=function(I){for(var T=Math.max(this.g.length,I.g.length),R=[],y=0,P=0;P<=T;P++){var $=y+(this.i(P)&65535)+(I.i(P)&65535),A=($>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);y=A>>>16,$&=65535,A&=65535,R[P]=A<<16|$}return new s(R,R[R.length-1]&-2147483648?-1:0)};function _(I,T){return I.add(x(T))}t.j=function(I){if(m(this)||m(I))return f;if(b(this))return b(I)?x(this).j(x(I)):x(x(this).j(I));if(b(I))return x(this.j(x(I)));if(0>this.l(p)&&0>I.l(p))return c(this.m()*I.m());for(var T=this.g.length+I.g.length,R=[],y=0;y<2*T;y++)R[y]=0;for(y=0;y<this.g.length;y++)for(var P=0;P<I.g.length;P++){var $=this.i(y)>>>16,A=this.i(y)&65535,W=I.i(P)>>>16,q=I.i(P)&65535;R[2*y+2*P]+=A*q,w(R,2*y+2*P),R[2*y+2*P+1]+=$*q,w(R,2*y+2*P+1),R[2*y+2*P+1]+=A*W,w(R,2*y+2*P+1),R[2*y+2*P+2]+=$*W,w(R,2*y+2*P+2)}for(y=0;y<T;y++)R[y]=R[2*y+1]<<16|R[2*y];for(y=T;y<2*T;y++)R[y]=0;return new s(R,0)};function w(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function v(I,T){this.g=I,this.h=T}function S(I,T){if(m(T))throw Error("division by zero");if(m(I))return new v(f,f);if(b(I))return T=S(x(I),T),new v(x(T.g),x(T.h));if(b(T))return T=S(I,x(T)),new v(x(T.g),T.h);if(30<I.g.length){if(b(I)||b(T))throw Error("slowDivide_ only works with positive integers.");for(var R=h,y=T;0>=y.l(I);)R=k(R),y=k(y);var P=N(R,1),$=N(y,1);for(y=N(y,2),R=N(R,2);!m(y);){var A=$.add(y);0>=A.l(I)&&(P=P.add(R),$=A),y=N(y,1),R=N(R,1)}return T=_(I,P.j(T)),new v(P,T)}for(P=f;0<=I.l(T);){for(R=Math.max(1,Math.floor(I.m()/T.m())),y=Math.ceil(Math.log(R)/Math.LN2),y=48>=y?1:Math.pow(2,y-48),$=c(R),A=$.j(T);b(A)||0<A.l(I);)R-=y,$=c(R),A=$.j(T);m($)&&($=h),P=P.add($),I=_(I,A)}return new v(P,I)}t.A=function(I){return S(this,I).h},t.and=function(I){for(var T=Math.max(this.g.length,I.g.length),R=[],y=0;y<T;y++)R[y]=this.i(y)&I.i(y);return new s(R,this.h&I.h)},t.or=function(I){for(var T=Math.max(this.g.length,I.g.length),R=[],y=0;y<T;y++)R[y]=this.i(y)|I.i(y);return new s(R,this.h|I.h)},t.xor=function(I){for(var T=Math.max(this.g.length,I.g.length),R=[],y=0;y<T;y++)R[y]=this.i(y)^I.i(y);return new s(R,this.h^I.h)};function k(I){for(var T=I.g.length+1,R=[],y=0;y<T;y++)R[y]=I.i(y)<<1|I.i(y-1)>>>31;return new s(R,I.h)}function N(I,T){var R=T>>5;T%=32;for(var y=I.g.length-R,P=[],$=0;$<y;$++)P[$]=0<T?I.i($+R)>>>T|I.i($+R+1)<<32-T:I.i($+R);return new s(P,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,cD=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Ba=s}).apply(typeof BR<"u"?BR:typeof self<"u"?self:typeof window<"u"?window:{});var Eg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uD,xf,dD,pm,zw,fD,hD,pD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,g,C){return d==Array.prototype||d==Object.prototype||(d[g]=C.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eg=="object"&&Eg];for(var g=0;g<d.length;++g){var C=d[g];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(d,g){if(g)e:{var C=r;d=d.split(".");for(var O=0;O<d.length-1;O++){var V=d[O];if(!(V in C))break e;C=C[V]}d=d[d.length-1],O=C[d],g=g(O),g!=O&&g!=null&&e(C,d,{configurable:!0,writable:!0,value:g})}}function o(d,g){d instanceof String&&(d+="");var C=0,O=!1,V={next:function(){if(!O&&C<d.length){var G=C++;return{value:g(G,d[G]),done:!1}}return O=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(d){return d||function(){return o(this,function(g,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(d){var g=typeof d;return g=g!="object"?g:d?Array.isArray(d)?"array":g:"null",g=="array"||g=="object"&&typeof d.length=="number"}function c(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function u(d,g,C){return d.call.apply(d.bind,arguments)}function f(d,g,C){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,O),d.apply(g,V)}}return function(){return d.apply(g,arguments)}}function h(d,g,C){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(d,g){var C=Array.prototype.slice.call(arguments,1);return function(){var O=C.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function m(d,g){function C(){}C.prototype=g.prototype,d.aa=g.prototype,d.prototype=new C,d.prototype.constructor=d,d.Qb=function(O,V,G){for(var ce=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)ce[Gt-2]=arguments[Gt];return g.prototype[V].apply(O,ce)}}function b(d){const g=d.length;if(0<g){const C=Array(g);for(let O=0;O<g;O++)C[O]=d[O];return C}return[]}function x(d,g){for(let C=1;C<arguments.length;C++){const O=arguments[C];if(l(O)){const V=d.length||0,G=O.length||0;d.length=V+G;for(let ce=0;ce<G;ce++)d[V+ce]=O[ce]}else d.push(O)}}class _{constructor(g,C){this.i=g,this.j=C,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function w(d){return/^[\s\xa0]*$/.test(d)}function v(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function S(d){return S[" "](d),d}S[" "]=function(){};var k=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function N(d,g,C){for(const O in d)g.call(C,d[O],O,d)}function I(d,g){for(const C in d)g.call(void 0,d[C],C,d)}function T(d){const g={};for(const C in d)g[C]=d[C];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function y(d,g){let C,O;for(let V=1;V<arguments.length;V++){O=arguments[V];for(C in O)d[C]=O[C];for(let G=0;G<R.length;G++)C=R[G],Object.prototype.hasOwnProperty.call(O,C)&&(d[C]=O[C])}}function P(d){var g=1;d=d.split(":");const C=[];for(;0<g&&d.length;)C.push(d.shift()),g--;return d.length&&C.push(d.join(":")),C}function $(d){a.setTimeout(()=>{throw d},0)}function A(){var d=B;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class W{constructor(){this.h=this.g=null}add(g,C){const O=q.get();O.set(g,C),this.h?this.h.next=O:this.g=O,this.h=O}}var q=new _(()=>new j,d=>d.reset());class j{constructor(){this.next=this.g=this.h=null}set(g,C){this.h=g,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,U=!1,B=new W,K=()=>{const d=a.Promise.resolve(void 0);Y=()=>{d.then(ne)}};var ne=()=>{for(var d;d=A();){try{d.h.call(d.g)}catch(C){$(C)}var g=q;g.j(d),100>g.h&&(g.h++,d.next=g.g,g.g=d)}U=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const C=()=>{};a.addEventListener("test",C,g),a.removeEventListener("test",C,g)}catch{}return d}();function le(d,g){if(ge.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var C=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget){if(k){e:{try{S(g.nodeName);var V=!0;break e}catch{}V=!1}V||(g=null)}}else C=="mouseover"?g=d.fromElement:C=="mouseout"&&(g=d.toElement);this.relatedTarget=g,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ke[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&le.aa.h.call(this)}}m(le,ge);var ke={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function Se(d,g,C,O,V){this.listener=d,this.proxy=null,this.src=g,this.type=C,this.capture=!!O,this.ha=V,this.key=++Ie,this.da=this.fa=!1}function me(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function De(d){this.src=d,this.g={},this.h=0}De.prototype.add=function(d,g,C,O,V){var G=d.toString();d=this.g[G],d||(d=this.g[G]=[],this.h++);var ce=ct(d,g,O,V);return-1<ce?(g=d[ce],C||(g.fa=!1)):(g=new Se(g,this.src,G,!!O,V),g.fa=C,d.push(g)),g};function Re(d,g){var C=g.type;if(C in d.g){var O=d.g[C],V=Array.prototype.indexOf.call(O,g,void 0),G;(G=0<=V)&&Array.prototype.splice.call(O,V,1),G&&(me(g),d.g[C].length==0&&(delete d.g[C],d.h--))}}function ct(d,g,C,O){for(var V=0;V<d.length;++V){var G=d[V];if(!G.da&&G.listener==g&&G.capture==!!C&&G.ha==O)return V}return-1}var Fe="closure_lm_"+(1e6*Math.random()|0),Be={};function At(d,g,C,O,V){if(O&&O.once)return Me(d,g,C,O,V);if(Array.isArray(g)){for(var G=0;G<g.length;G++)At(d,g[G],C,O,V);return null}return C=st(C),d&&d[Oe]?d.K(g,C,c(O)?!!O.capture:!!O,V):ue(d,g,C,!1,O,V)}function ue(d,g,C,O,V,G){if(!g)throw Error("Invalid event type");var ce=c(V)?!!V.capture:!!V,Gt=dt(d);if(Gt||(d[Fe]=Gt=new De(d)),C=Gt.add(g,C,O,ce,G),C.proxy)return C;if(O=Ke(),C.proxy=O,O.src=d,O.listener=C,d.addEventListener)be||(V=ce),V===void 0&&(V=!1),d.addEventListener(g.toString(),O,V);else if(d.attachEvent)d.attachEvent(Ee(g.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Ke(){function d(C){return g.call(d.src,d.listener,C)}const g=nn;return d}function Me(d,g,C,O,V){if(Array.isArray(g)){for(var G=0;G<g.length;G++)Me(d,g[G],C,O,V);return null}return C=st(C),d&&d[Oe]?d.L(g,C,c(O)?!!O.capture:!!O,V):ue(d,g,C,!0,O,V)}function ut(d,g,C,O,V){if(Array.isArray(g))for(var G=0;G<g.length;G++)ut(d,g[G],C,O,V);else O=c(O)?!!O.capture:!!O,C=st(C),d&&d[Oe]?(d=d.i,g=String(g).toString(),g in d.g&&(G=d.g[g],C=ct(G,C,O,V),-1<C&&(me(G[C]),Array.prototype.splice.call(G,C,1),G.length==0&&(delete d.g[g],d.h--)))):d&&(d=dt(d))&&(g=d.g[g.toString()],d=-1,g&&(d=ct(g,C,O,V)),(C=-1<d?g[d]:null)&&Ye(C))}function Ye(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[Oe])Re(g.i,d);else{var C=d.type,O=d.proxy;g.removeEventListener?g.removeEventListener(C,O,d.capture):g.detachEvent?g.detachEvent(Ee(C),O):g.addListener&&g.removeListener&&g.removeListener(O),(C=dt(g))?(Re(C,d),C.h==0&&(C.src=null,g[Fe]=null)):me(d)}}}function Ee(d){return d in Be?Be[d]:Be[d]="on"+d}function nn(d,g){if(d.da)d=!0;else{g=new le(g,this);var C=d.listener,O=d.ha||d.src;d.fa&&Ye(d),d=C.call(O,g)}return d}function dt(d){return d=d[Fe],d instanceof De?d:null}var rn="__closure_events_fn_"+(1e9*Math.random()>>>0);function st(d){return typeof d=="function"?d:(d[rn]||(d[rn]=function(g){return d.handleEvent(g)}),d[rn])}function Et(){fe.call(this),this.i=new De(this),this.M=this,this.F=null}m(Et,fe),Et.prototype[Oe]=!0,Et.prototype.removeEventListener=function(d,g,C,O){ut(this,d,g,C,O)};function ht(d,g){var C,O=d.F;if(O)for(C=[];O;O=O.F)C.push(O);if(d=d.M,O=g.type||g,typeof g=="string")g=new ge(g,d);else if(g instanceof ge)g.target=g.target||d;else{var V=g;g=new ge(O,d),y(g,V)}if(V=!0,C)for(var G=C.length-1;0<=G;G--){var ce=g.g=C[G];V=Vt(ce,O,!0,g)&&V}if(ce=g.g=d,V=Vt(ce,O,!0,g)&&V,V=Vt(ce,O,!1,g)&&V,C)for(G=0;G<C.length;G++)ce=g.g=C[G],V=Vt(ce,O,!1,g)&&V}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var d=this.i,g;for(g in d.g){for(var C=d.g[g],O=0;O<C.length;O++)me(C[O]);delete d.g[g],d.h--}}this.F=null},Et.prototype.K=function(d,g,C,O){return this.i.add(String(d),g,!1,C,O)},Et.prototype.L=function(d,g,C,O){return this.i.add(String(d),g,!0,C,O)};function Vt(d,g,C,O){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();for(var V=!0,G=0;G<g.length;++G){var ce=g[G];if(ce&&!ce.da&&ce.capture==C){var Gt=ce.listener,fr=ce.ha||ce.src;ce.fa&&Re(d.i,ce),V=Gt.call(fr,O)!==!1&&V}}return V&&!O.defaultPrevented}function at(d,g,C){if(typeof d=="function")C&&(d=h(d,C));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(d,g||0)}function Qe(d){d.g=at(()=>{d.g=null,d.i&&(d.i=!1,Qe(d))},d.l);const g=d.h;d.h=null,d.m.apply(null,g)}class xn extends fe{constructor(g,C){super(),this.m=g,this.l=C,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Qe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pn(d){fe.call(this),this.h=d,this.g={}}m(pn,fe);var Yr=[];function we(d){N(d.g,function(g,C){this.g.hasOwnProperty(C)&&Ye(g)},d),d.g={}}pn.prototype.N=function(){pn.aa.N.call(this),we(this)},pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ze=a.JSON.stringify,Wt=a.JSON.parse,on=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Vn(){}Vn.prototype.h=null;function Mn(d){return d.h||(d.h=d.i())}function Xr(){}var Un={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qr(){ge.call(this,"d")}m(Qr,ge);function Qt(){ge.call(this,"c")}m(Qt,ge);var lr={},fo=null;function br(){return fo=fo||new Et}lr.La="serverreachability";function Lo(d){ge.call(this,lr.La,d)}m(Lo,ge);function pe(d){const g=br();ht(g,new Lo(g))}lr.STAT_EVENT="statevent";function _e(d,g){ge.call(this,lr.STAT_EVENT,d),this.stat=g}m(_e,ge);function Ne(d){const g=br();ht(g,new _e(g,d))}lr.Ma="timingevent";function tt(d,g){ge.call(this,lr.Ma,d),this.size=g}m(tt,ge);function Tt(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},g)}function Sn(){this.g=!0}Sn.prototype.xa=function(){this.g=!1};function Lr(d,g,C,O,V,G){d.info(function(){if(d.g)if(G)for(var ce="",Gt=G.split("&"),fr=0;fr<Gt.length;fr++){var Nt=Gt[fr].split("=");if(1<Nt.length){var Er=Nt[0];Nt=Nt[1];var xr=Er.split("_");ce=2<=xr.length&&xr[1]=="type"?ce+(Er+"="+Nt+"&"):ce+(Er+"=redacted&")}}else ce=null;else ce=G;return"XMLHTTP REQ ("+O+") [attempt "+V+"]: "+g+`
`+C+`
`+ce})}function _i(d,g,C,O,V,G,ce){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+V+"]: "+g+`
`+C+`
`+G+" "+ce})}function cr(d,g,C,O){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+Cn(d,C)+(O?" "+O:"")})}function gn(d,g){d.info(function(){return"TIMEOUT: "+g})}Sn.prototype.info=function(){};function Cn(d,g){if(!d.g)return g;if(!g)return null;try{var C=JSON.parse(g);if(C){for(d=0;d<C.length;d++)if(Array.isArray(C[d])){var O=C[d];if(!(2>O.length)){var V=O[1];if(Array.isArray(V)&&!(1>V.length)){var G=V[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ce=1;ce<V.length;ce++)V[ce]=""}}}}return ze(C)}catch{return g}}var ur={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},J;function X(){}m(X,Vn),X.prototype.g=function(){return new XMLHttpRequest},X.prototype.i=function(){return{}},J=new X;function he(d,g,C,O){this.j=d,this.i=g,this.l=C,this.R=O||1,this.U=new pn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new We}function We(){this.i=null,this.g="",this.h=!1}var nt={},kt={};function Jt(d,g,C){d.L=1,d.v=Tn(bi(g)),d.m=C,d.P=!0,dr(d,null)}function dr(d,g){d.F=Date.now(),Bo(d),d.A=bi(d.v);var C=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),TT(C.i,"t",O),d.C=0,C=d.j.J,d.h=new We,d.g=WT(d.j,C?g:null,!d.m),0<d.O&&(d.M=new xn(h(d.Y,d,d.g),d.O)),g=d.U,C=d.g,O=d.ca;var V="readystatechange";Array.isArray(V)||(V&&(Yr[0]=V.toString()),V=Yr);for(var G=0;G<V.length;G++){var ce=At(C,V[G],O||g.handleEvent,!1,g.h||g);if(!ce)break;g.g[ce.key]=ce}g=d.H?T(d.H):{},d.m?(d.u||(d.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,g)):(d.u="GET",d.g.ea(d.A,d.u,null,g)),pe(),Lr(d.i,d.u,d.A,d.l,d.R,d.m)}he.prototype.ca=function(d){d=d.target;const g=this.M;g&&gs(d)==3?g.j():this.Y(d)},he.prototype.Y=function(d){try{if(d==this.g)e:{const xr=gs(this.g);var g=this.g.Ba();const wc=this.g.Z();if(!(3>xr)&&(xr!=3||this.g&&(this.h.h||this.g.oa()||NT(this.g)))){this.J||xr!=4||g==7||(g==8||0>=wc?pe(3):pe(2)),Vo(this);var C=this.g.Z();this.X=C;t:if(ia(this)){var O=NT(this.g);d="";var V=O.length,G=gs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){F(this),D(this);var ce="";break t}this.h.i=new a.TextDecoder}for(g=0;g<V;g++)this.h.h=!0,d+=this.h.i.decode(O[g],{stream:!(G&&g==V-1)});O.length=0,this.h.g+=d,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=C==200,_i(this.i,this.u,this.A,this.l,this.R,xr,C),this.o){if(this.T&&!this.K){t:{if(this.g){var Gt,fr=this.g;if((Gt=fr.g?fr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Gt)){var Nt=Gt;break t}}Nt=null}if(C=Nt)cr(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,H(this,C);else{this.o=!1,this.s=3,Ne(12),F(this),D(this);break e}}if(this.P){C=!0;let po;for(;!this.J&&this.C<ce.length;)if(po=Ld(this,ce),po==kt){xr==4&&(this.s=4,Ne(14),C=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(po==nt){this.s=4,Ne(15),cr(this.i,this.l,ce,"[Invalid Chunk]"),C=!1;break}else cr(this.i,this.l,po,null),H(this,po);if(ia(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xr!=4||ce.length!=0||this.h.h||(this.s=1,Ne(16),C=!1),this.o=this.o&&C,!C)cr(this.i,this.l,ce,"[Invalid Chunked Response]"),F(this),D(this);else if(0<ce.length&&!this.W){this.W=!0;var Er=this.j;Er.g==this&&Er.ba&&!Er.M&&(Er.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),p_(Er),Er.M=!0,Ne(11))}}else cr(this.i,this.l,ce,null),H(this,ce);xr==4&&F(this),this.o&&!this.J&&(xr==4?VT(this.j,this):(this.o=!1,Bo(this)))}else DB(this.g),C==400&&0<ce.indexOf("Unknown SID")?(this.s=3,Ne(12)):(this.s=0,Ne(13)),F(this),D(this)}}}catch{}finally{}};function ia(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Ld(d,g){var C=d.C,O=g.indexOf(`
`,C);return O==-1?kt:(C=Number(g.substring(C,O)),isNaN(C)?nt:(O+=1,O+C>g.length?kt:(g=g.slice(O,O+C),d.C=O+C,g)))}he.prototype.cancel=function(){this.J=!0,F(this)};function Bo(d){d.S=Date.now()+d.I,ps(d,d.I)}function ps(d,g){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Tt(h(d.ba,d),g)}function Vo(d){d.B&&(a.clearTimeout(d.B),d.B=null)}he.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(gn(this.i,this.A),this.L!=2&&(pe(),Ne(17)),F(this),this.s=2,D(this)):ps(this,this.S-d)};function D(d){d.j.G==0||d.J||VT(d.j,d)}function F(d){Vo(d);var g=d.M;g&&typeof g.ma=="function"&&g.ma(),d.M=null,we(d.U),d.g&&(g=d.g,d.g=null,g.abort(),g.ma())}function H(d,g){try{var C=d.j;if(C.G!=0&&(C.g==d||Pe(C.h,d))){if(!d.K&&Pe(C.h,d)&&C.G==3){try{var O=C.Da.g.parse(g)}catch{O=null}if(Array.isArray(O)&&O.length==3){var V=O;if(V[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<d.F)Zp(C),Qp(C);else break e;h_(C),Ne(18)}}else C.za=V[1],0<C.za-C.T&&37500>V[2]&&C.F&&C.v==0&&!C.C&&(C.C=Tt(h(C.Za,C),6e3));if(1>=ye(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else ml(C,11)}else if((d.K||C.g==d)&&Zp(C),!w(g))for(V=C.Da.g.parse(g),g=0;g<V.length;g++){let Nt=V[g];if(C.T=Nt[0],Nt=Nt[1],C.G==2)if(Nt[0]=="c"){C.K=Nt[1],C.ia=Nt[2];const Er=Nt[3];Er!=null&&(C.la=Er,C.j.info("VER="+C.la));const xr=Nt[4];xr!=null&&(C.Aa=xr,C.j.info("SVER="+C.Aa));const wc=Nt[5];wc!=null&&typeof wc=="number"&&0<wc&&(O=1.5*wc,C.L=O,C.j.info("backChannelRequestTimeoutMs_="+O)),O=C;const po=d.g;if(po){const tg=po.g?po.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tg){var G=O.h;G.g||tg.indexOf("spdy")==-1&&tg.indexOf("quic")==-1&&tg.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(rt(G,G.h),G.h=null))}if(O.D){const g_=po.g?po.g.getResponseHeader("X-HTTP-Session-Id"):null;g_&&(O.ya=g_,Ht(O.I,O.D,g_))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-d.F,C.j.info("Handshake RTT: "+C.R+"ms")),O=C;var ce=d;if(O.qa=zT(O,O.J?O.ia:null,O.W),ce.K){Ve(O.h,ce);var Gt=ce,fr=O.L;fr&&(Gt.I=fr),Gt.B&&(Vo(Gt),Bo(Gt)),O.g=ce}else FT(O);0<C.i.length&&Jp(C)}else Nt[0]!="stop"&&Nt[0]!="close"||ml(C,7);else C.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?ml(C,7):f_(C):Nt[0]!="noop"&&C.l&&C.l.ta(Nt),C.v=0)}}pe(4)}catch{}}var z=class{constructor(d,g){this.g=d,this.map=g}};function te(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function se(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ye(d){return d.h?1:d.g?d.g.size:0}function Pe(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function rt(d,g){d.g?d.g.add(g):d.h=g}function Ve(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}te.prototype.cancel=function(){if(this.i=Ue(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ue(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let g=d.i;for(const C of d.g.values())g=g.concat(C.D);return g}return b(d.i)}function vt(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var g=[],C=d.length,O=0;O<C;O++)g.push(d[O]);return g}g=[],C=0;for(O in d)g[C++]=d[O];return g}function It(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var g=[];d=d.length;for(var C=0;C<d;C++)g.push(C);return g}g=[],C=0;for(const O in d)g[C++]=O;return g}}}function sn(d,g){if(d.forEach&&typeof d.forEach=="function")d.forEach(g,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,g,void 0);else for(var C=It(d),O=vt(d),V=O.length,G=0;G<V;G++)g.call(void 0,O[G],C&&C[G],d)}var qe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dn(d,g){if(d){d=d.split("&");for(var C=0;C<d.length;C++){var O=d[C].indexOf("="),V=null;if(0<=O){var G=d[C].substring(0,O);V=d[C].substring(O+1)}else G=d[C];g(G,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function wr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof wr){this.h=d.h,oa(this,d.j),this.o=d.o,this.g=d.g,ho(this,d.s),this.l=d.l;var g=d.i,C=new Fd;C.i=g.i,g.g&&(C.g=new Map(g.g),C.h=g.h),sa(this,C),this.m=d.m}else d&&(g=String(d).match(qe))?(this.h=!1,oa(this,g[1]||"",!0),this.o=Uo(g[2]||""),this.g=Uo(g[3]||"",!0),ho(this,g[4]),this.l=Uo(g[5]||"",!0),sa(this,g[6]||"",!0),this.m=Uo(g[7]||"")):(this.h=!1,this.i=new Fd(null,this.h))}wr.prototype.toString=function(){var d=[],g=this.j;g&&d.push(Jr(g,qp,!0),":");var C=this.g;return(C||g=="file")&&(d.push("//"),(g=this.o)&&d.push(Jr(g,qp,!0),"@"),d.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&d.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&d.push("/"),d.push(Jr(C,C.charAt(0)=="/"?TB:u_,!0))),(C=this.i.toString())&&d.push("?",C),(C=this.m)&&d.push("#",Jr(C,RB)),d.join("")};function bi(d){return new wr(d)}function oa(d,g,C){d.j=C?Uo(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function ho(d,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);d.s=g}else d.s=null}function sa(d,g,C){g instanceof Fd?(d.i=g,PB(d.i,d.h)):(C||(g=Jr(g,IB)),d.i=new Fd(g,d.h))}function Ht(d,g,C){d.i.set(g,C)}function Tn(d){return Ht(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Uo(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Jr(d,g,C){return typeof d=="string"?(d=encodeURI(d).replace(g,Gp),C&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Gp(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var qp=/[#\/\?@]/g,u_=/[#\?:]/g,TB=/[#\?]/g,IB=/[#\?@]/g,RB=/#/g;function Fd(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function aa(d){d.g||(d.g=new Map,d.h=0,d.i&&Dn(d.i,function(g,C){d.add(decodeURIComponent(g.replace(/\+/g," ")),C)}))}t=Fd.prototype,t.add=function(d,g){aa(this),this.i=null,d=_c(this,d);var C=this.g.get(d);return C||this.g.set(d,C=[]),C.push(g),this.h+=1,this};function ST(d,g){aa(d),g=_c(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function CT(d,g){return aa(d),g=_c(d,g),d.g.has(g)}t.forEach=function(d,g){aa(this),this.g.forEach(function(C,O){C.forEach(function(V){d.call(g,V,O,this)},this)},this)},t.na=function(){aa(this);const d=Array.from(this.g.values()),g=Array.from(this.g.keys()),C=[];for(let O=0;O<g.length;O++){const V=d[O];for(let G=0;G<V.length;G++)C.push(g[O])}return C},t.V=function(d){aa(this);let g=[];if(typeof d=="string")CT(this,d)&&(g=g.concat(this.g.get(_c(this,d))));else{d=Array.from(this.g.values());for(let C=0;C<d.length;C++)g=g.concat(d[C])}return g},t.set=function(d,g){return aa(this),this.i=null,d=_c(this,d),CT(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},t.get=function(d,g){return d?(d=this.V(d),0<d.length?String(d[0]):g):g};function TT(d,g,C){ST(d,g),0<C.length&&(d.i=null,d.g.set(_c(d,g),b(C)),d.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],g=Array.from(this.g.keys());for(var C=0;C<g.length;C++){var O=g[C];const G=encodeURIComponent(String(O)),ce=this.V(O);for(O=0;O<ce.length;O++){var V=G;ce[O]!==""&&(V+="="+encodeURIComponent(String(ce[O]))),d.push(V)}}return this.i=d.join("&")};function _c(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function PB(d,g){g&&!d.j&&(aa(d),d.i=null,d.g.forEach(function(C,O){var V=O.toLowerCase();O!=V&&(ST(this,O),TT(this,V,C))},d)),d.j=g}function AB(d,g){const C=new Sn;if(a.Image){const O=new Image;O.onload=p(la,C,"TestLoadImage: loaded",!0,g,O),O.onerror=p(la,C,"TestLoadImage: error",!1,g,O),O.onabort=p(la,C,"TestLoadImage: abort",!1,g,O),O.ontimeout=p(la,C,"TestLoadImage: timeout",!1,g,O),a.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else g(!1)}function kB(d,g){const C=new Sn,O=new AbortController,V=setTimeout(()=>{O.abort(),la(C,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:O.signal}).then(G=>{clearTimeout(V),G.ok?la(C,"TestPingServer: ok",!0,g):la(C,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),la(C,"TestPingServer: error",!1,g)})}function la(d,g,C,O,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),O(C)}catch{}}function OB(){this.g=new on}function NB(d,g,C){const O=C||"";try{sn(d,function(V,G){let ce=V;c(V)&&(ce=ze(V)),g.push(O+G+"="+encodeURIComponent(ce))})}catch(V){throw g.push(O+"type="+encodeURIComponent("_badmap")),V}}function Kp(d){this.l=d.Ub||null,this.j=d.eb||!1}m(Kp,Vn),Kp.prototype.g=function(){return new Yp(this.l,this.j)},Kp.prototype.i=function(d){return function(){return d}}({});function Yp(d,g){Et.call(this),this.D=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Yp,Et),t=Yp.prototype,t.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=g,this.readyState=1,Vd(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(g.body=d),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bd(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Vd(this)),this.g&&(this.readyState=3,Vd(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;IT(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function IT(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?Bd(this):Vd(this),this.readyState==3&&IT(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Bd(this))},t.Qa=function(d){this.g&&(this.response=d,Bd(this))},t.ga=function(){this.g&&Bd(this)};function Bd(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Vd(d)}t.setRequestHeader=function(d,g){this.u.append(d,g)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],g=this.h.entries();for(var C=g.next();!C.done;)C=C.value,d.push(C[0]+": "+C[1]),C=g.next();return d.join(`\r
`)};function Vd(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Yp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function RT(d){let g="";return N(d,function(C,O){g+=O,g+=":",g+=C,g+=`\r
`}),g}function d_(d,g,C){e:{for(O in C){var O=!1;break e}O=!0}O||(C=RT(C),typeof d=="string"?C!=null&&encodeURIComponent(String(C)):Ht(d,g,C))}function In(d){Et.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(In,Et);var $B=/^https?$/i,MB=["POST","PUT"];t=In.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,g,C,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():J.g(),this.v=this.o?Mn(this.o):Mn(J),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(G){PT(this,G);return}if(d=C||"",C=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var V in O)C.set(V,O[V]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const G of O.keys())C.set(G,O.get(G));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(C.keys()).find(G=>G.toLowerCase()=="content-type"),V=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(MB,g,void 0))||O||V||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ce]of C)this.g.setRequestHeader(G,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{OT(this),this.u=!0,this.g.send(d),this.u=!1}catch(G){PT(this,G)}};function PT(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.m=5,AT(d),Xp(d)}function AT(d){d.A||(d.A=!0,ht(d,"complete"),ht(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ht(this,"complete"),ht(this,"abort"),Xp(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xp(this,!0)),In.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?kT(this):this.bb())},t.bb=function(){kT(this)};function kT(d){if(d.h&&typeof s<"u"&&(!d.v[1]||gs(d)!=4||d.Z()!=2)){if(d.u&&gs(d)==4)at(d.Ea,0,d);else if(ht(d,"readystatechange"),gs(d)==4){d.h=!1;try{const ce=d.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var C;if(!(C=g)){var O;if(O=ce===0){var V=String(d.D).match(qe)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),O=!$B.test(V?V.toLowerCase():"")}C=O}if(C)ht(d,"complete"),ht(d,"success");else{d.m=6;try{var G=2<gs(d)?d.g.statusText:""}catch{G=""}d.l=G+" ["+d.Z()+"]",AT(d)}}finally{Xp(d)}}}}function Xp(d,g){if(d.g){OT(d);const C=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,g||ht(d,"ready");try{C.onreadystatechange=O}catch{}}}function OT(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function gs(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<gs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),Wt(g)}};function NT(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function DB(d){const g={};d=(d.g&&2<=gs(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(w(d[O]))continue;var C=P(d[O]);const V=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const G=g[V]||[];g[V]=G,G.push(C)}I(g,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ud(d,g,C){return C&&C.internalChannelParams&&C.internalChannelParams[d]||g}function $T(d){this.Aa=0,this.i=[],this.j=new Sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ud("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ud("baseRetryDelayMs",5e3,d),this.cb=Ud("retryDelaySeedMs",1e4,d),this.Wa=Ud("forwardChannelMaxRetries",2,d),this.wa=Ud("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new te(d&&d.concurrentRequestLimit),this.Da=new OB,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$T.prototype,t.la=8,t.G=1,t.connect=function(d,g,C,O){Ne(0),this.W=d,this.H=g||{},C&&O!==void 0&&(this.H.OSID=C,this.H.OAID=O),this.F=this.X,this.I=zT(this,null,this.W),Jp(this)};function f_(d){if(MT(d),d.G==3){var g=d.U++,C=bi(d.I);if(Ht(C,"SID",d.K),Ht(C,"RID",g),Ht(C,"TYPE","terminate"),jd(d,C),g=new he(d,d.j,g),g.L=2,g.v=Tn(bi(C)),C=!1,a.navigator&&a.navigator.sendBeacon)try{C=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!C&&a.Image&&(new Image().src=g.v,C=!0),C||(g.g=WT(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Bo(g)}jT(d)}function Qp(d){d.g&&(p_(d),d.g.cancel(),d.g=null)}function MT(d){Qp(d),d.u&&(a.clearTimeout(d.u),d.u=null),Zp(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Jp(d){if(!se(d.h)&&!d.s){d.s=!0;var g=d.Ga;Y||K(),U||(Y(),U=!0),B.add(g,d),d.B=0}}function LB(d,g){return ye(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=g.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Tt(h(d.Ga,d,g),UT(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const V=new he(this,this.j,d);let G=this.o;if(this.S&&(G?(G=T(G),y(G,this.S)):G=this.S),this.m!==null||this.O||(V.H=G,G=null),this.P)e:{for(var g=0,C=0;C<this.i.length;C++){t:{var O=this.i[C];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(g+=O,4096<g){g=C;break e}if(g===4096||C===this.i.length-1){g=C+1;break e}}g=1e3}else g=1e3;g=LT(this,V,g),C=bi(this.I),Ht(C,"RID",d),Ht(C,"CVER",22),this.D&&Ht(C,"X-HTTP-Session-Id",this.D),jd(this,C),G&&(this.O?g="headers="+encodeURIComponent(String(RT(G)))+"&"+g:this.m&&d_(C,this.m,G)),rt(this.h,V),this.Ua&&Ht(C,"TYPE","init"),this.P?(Ht(C,"$req",g),Ht(C,"SID","null"),V.T=!0,Jt(V,C,null)):Jt(V,C,g),this.G=2}}else this.G==3&&(d?DT(this,d):this.i.length==0||se(this.h)||DT(this))};function DT(d,g){var C;g?C=g.l:C=d.U++;const O=bi(d.I);Ht(O,"SID",d.K),Ht(O,"RID",C),Ht(O,"AID",d.T),jd(d,O),d.m&&d.o&&d_(O,d.m,d.o),C=new he(d,d.j,C,d.B+1),d.m===null&&(C.H=d.o),g&&(d.i=g.D.concat(d.i)),g=LT(d,C,1e3),C.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),rt(d.h,C),Jt(C,O,g)}function jd(d,g){d.H&&N(d.H,function(C,O){Ht(g,O,C)}),d.l&&sn({},function(C,O){Ht(g,O,C)})}function LT(d,g,C){C=Math.min(d.i.length,C);var O=d.l?h(d.l.Na,d.l,d):null;e:{var V=d.i;let G=-1;for(;;){const ce=["count="+C];G==-1?0<C?(G=V[0].g,ce.push("ofs="+G)):G=0:ce.push("ofs="+G);let Gt=!0;for(let fr=0;fr<C;fr++){let Nt=V[fr].g;const Er=V[fr].map;if(Nt-=G,0>Nt)G=Math.max(0,V[fr].g-100),Gt=!1;else try{NB(Er,ce,"req"+Nt+"_")}catch{O&&O(Er)}}if(Gt){O=ce.join("&");break e}}}return d=d.i.splice(0,C),g.D=d,O}function FT(d){if(!d.g&&!d.u){d.Y=1;var g=d.Fa;Y||K(),U||(Y(),U=!0),B.add(g,d),d.v=0}}function h_(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Tt(h(d.Fa,d),UT(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,BT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Tt(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ne(10),Qp(this),BT(this))};function p_(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function BT(d){d.g=new he(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var g=bi(d.qa);Ht(g,"RID","rpc"),Ht(g,"SID",d.K),Ht(g,"AID",d.T),Ht(g,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ht(g,"TO",d.ja),Ht(g,"TYPE","xmlhttp"),jd(d,g),d.m&&d.o&&d_(g,d.m,d.o),d.L&&(d.g.I=d.L);var C=d.g;d=d.ia,C.L=1,C.v=Tn(bi(g)),C.m=null,C.P=!0,dr(C,d)}t.Za=function(){this.C!=null&&(this.C=null,Qp(this),h_(this),Ne(19))};function Zp(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function VT(d,g){var C=null;if(d.g==g){Zp(d),p_(d),d.g=null;var O=2}else if(Pe(d.h,g))C=g.D,Ve(d.h,g),O=1;else return;if(d.G!=0){if(g.o)if(O==1){C=g.m?g.m.length:0,g=Date.now()-g.F;var V=d.B;O=br(),ht(O,new tt(O,C)),Jp(d)}else FT(d);else if(V=g.s,V==3||V==0&&0<g.X||!(O==1&&LB(d,g)||O==2&&h_(d)))switch(C&&0<C.length&&(g=d.h,g.i=g.i.concat(C)),V){case 1:ml(d,5);break;case 4:ml(d,10);break;case 3:ml(d,6);break;default:ml(d,2)}}}function UT(d,g){let C=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(C*=2),C*g}function ml(d,g){if(d.j.info("Error code "+g),g==2){var C=h(d.fb,d),O=d.Xa;const V=!O;O=new wr(O||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||oa(O,"https"),Tn(O),V?AB(O.toString(),C):kB(O.toString(),C)}else Ne(2);d.G=0,d.l&&d.l.sa(g),jT(d),MT(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))};function jT(d){if(d.G=0,d.ka=[],d.l){const g=Ue(d.h);(g.length!=0||d.i.length!=0)&&(x(d.ka,g),x(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function zT(d,g,C){var O=C instanceof wr?bi(C):new wr(C);if(O.g!="")g&&(O.g=g+"."+O.g),ho(O,O.s);else{var V=a.location;O=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;var G=new wr(null);O&&oa(G,O),g&&(G.g=g),V&&ho(G,V),C&&(G.l=C),O=G}return C=d.D,g=d.ya,C&&g&&Ht(O,C,g),Ht(O,"VER",d.la),jd(d,O),O}function WT(d,g,C){if(g&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Ca&&!d.pa?new In(new Kp({eb:C})):new In(d.pa),g.Ha(d.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function HT(){}t=HT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function eg(){}eg.prototype.g=function(d,g){return new wi(d,g)};function wi(d,g){Et.call(this),this.g=new $T(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(d?d["X-WebChannel-Client-Profile"]=g.va:d={"X-WebChannel-Client-Profile":g.va}),this.g.S=d,(d=g&&g.Sb)&&!w(d)&&(this.g.m=d),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!w(g)&&(this.g.D=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new bc(this)}m(wi,Et),wi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wi.prototype.close=function(){f_(this.g)},wi.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var C={};C.__data__=d,d=C}else this.u&&(C={},C.__data__=ze(d),d=C);g.i.push(new z(g.Ya++,d)),g.G==3&&Jp(g)},wi.prototype.N=function(){this.g.l=null,delete this.j,f_(this.g),delete this.g,wi.aa.N.call(this)};function GT(d){Qr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(const C in g){d=C;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}m(GT,Qr);function qT(){Qt.call(this),this.status=1}m(qT,Qt);function bc(d){this.g=d}m(bc,HT),bc.prototype.ua=function(){ht(this.g,"a")},bc.prototype.ta=function(d){ht(this.g,new GT(d))},bc.prototype.sa=function(d){ht(this.g,new qT)},bc.prototype.ra=function(){ht(this.g,"b")},eg.prototype.createWebChannel=eg.prototype.g,wi.prototype.send=wi.prototype.o,wi.prototype.open=wi.prototype.m,wi.prototype.close=wi.prototype.close,pD=function(){return new eg},hD=function(){return br()},fD=lr,zw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ur.NO_ERROR=0,ur.TIMEOUT=8,ur.HTTP_ERROR=6,pm=ur,Fo.COMPLETE="complete",dD=Fo,Xr.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",Et.prototype.listen=Et.prototype.K,xf=Xr,In.prototype.listenOnce=In.prototype.L,In.prototype.getLastError=In.prototype.Ka,In.prototype.getLastErrorCode=In.prototype.Ba,In.prototype.getStatus=In.prototype.Z,In.prototype.getResponseJson=In.prototype.Oa,In.prototype.getResponseText=In.prototype.oa,In.prototype.send=In.prototype.ea,In.prototype.setWithCredentials=In.prototype.Ha,uD=In}).apply(typeof Eg<"u"?Eg:typeof self<"u"?self:typeof window<"u"?window:{});const VR="@firebase/firestore",UR="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ar.UNAUTHENTICATED=new Ar(null),Ar.GOOGLE_CREDENTIALS=new Ar("google-credentials-uid"),Ar.FIRST_PARTY=new Ar("first-party-uid"),Ar.MOCK_USER=new Ar("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fd="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=new xv("@firebase/firestore");function kc(){return Yl.logLevel}function xe(t,...e){if(Yl.logLevel<=bt.DEBUG){const n=e.map(Ex);Yl.debug(`Firestore (${fd}): ${t}`,...n)}}function zs(t,...e){if(Yl.logLevel<=bt.ERROR){const n=e.map(Ex);Yl.error(`Firestore (${fd}): ${t}`,...n)}}function Bu(t,...e){if(Yl.logLevel<=bt.WARN){const n=e.map(Ex);Yl.warn(`Firestore (${fd}): ${t}`,...n)}}function Ex(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t="Unexpected state"){const e=`FIRESTORE (${fd}) INTERNAL ASSERTION FAILED: `+t;throw zs(e),new Error(e)}function Ft(t,e){t||Ge()}function et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends us{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class G8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ar.UNAUTHENTICATED))}shutdown(){}}class q8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class K8{constructor(e){this.t=e,this.currentUser=Ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ft(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Va;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Va,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Va)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string"),new gD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string"),new Ar(e)}}class Y8{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ar.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class X8{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Y8(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q8{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,jr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ft(this.o===void 0);const r=o=>{o.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,xe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new jR(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ft(typeof n.token=="string"),this.R=n.token,new jR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=J8(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function pt(t,e){return t<e?-1:t>e?1:0}function Ww(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return pt(r,i);{const o=mD(),s=Z8(o.encode(zR(t,n)),o.encode(zR(e,n)));return s!==0?s:pt(r,i)}}n+=r>65535?2:1}return pt(t.length,e.length)}function zR(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Z8(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return pt(t[n],e[n]);return pt(t.length,e.length)}function Vu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=-62135596800,HR=1e6;class Jn{static now(){return Jn.fromMillis(Date.now())}static fromDate(e){return Jn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*HR);return new Jn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<WR)throw new Te(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HR}_compareTo(e){return this.seconds===e.seconds?pt(this.nanoseconds,e.nanoseconds):pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-WR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{static fromTimestamp(e){return new Je(e)}static min(){return new Je(new Jn(0,0))}static max(){return new Je(new Jn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="__name__";class Ho{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ge(),r===void 0?r=e.length-n:r>e.length-n&&Ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ho.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ho?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Ho.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return pt(e.length,n.length)}static compareSegments(e,n){const r=Ho.isNumericId(e),i=Ho.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ho.extractNumericId(e).compare(Ho.extractNumericId(n)):Ww(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ba.fromString(e.substring(4,e.length-2))}}class fn extends Ho{construct(e,n,r){return new fn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fn(n)}static emptyPath(){return new fn([])}}const eH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mr extends Ho{construct(e,n,r){return new mr(e,n,r)}static isValidIdentifier(e){return eH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===GR}static keyField(){return new mr([GR])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Te(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Te(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Te(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Te(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mr(n)}static emptyPath(){return new mr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(fn.fromString(e))}static fromName(e){return new Le(fn.fromString(e).popFirst(5))}static empty(){return new Le(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&fn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return fn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new fn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=-1;function tH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Je.fromTimestamp(r===1e9?new Jn(n+1,0):new Jn(n,r));return new qa(i,Le.empty(),e)}function nH(t){return new qa(t.readTime,t.key,Rh)}class qa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qa(Je.min(),Le.empty(),Rh)}static max(){return new qa(Je.max(),Le.empty(),Rh)}}function rH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Le.comparator(t.documentKey,e.documentKey),n!==0?n:pt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hd(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==iH)throw t;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,r)=>{n(e)})}static reject(e){return new Z((n,r)=>{r(e)})}static waitFor(e){return new Z((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next(i=>i?Z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Z((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new Z((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function sH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Rv.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=-1;function Pv(t){return t==null}function ly(t){return t===0&&1/t==-1/0}function aH(t){return typeof t=="number"&&Number.isInteger(t)&&!ly(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="";function lH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=qR(e)),e=cH(t.get(n),e);return qR(e)}function cH(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case vD:n+="";break;default:n+=o}}return n}function qR(t){return t+vD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _D(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qn=class Hw{constructor(e,n){this.comparator=e,this.root=n||Ua.EMPTY}insert(e,n){return new Hw(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ua.BLACK,null,null))}remove(e){return new Hw(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ua.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xg(this.root,e,this.comparator,!1)}getReverseIterator(){return new xg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xg(this.root,e,this.comparator,!0)}},xg=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ua=class _s{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??_s.RED,this.left=i??_s.EMPTY,this.right=o??_s.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new _s(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _s.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _s.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_s.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ge();const e=this.left.check();if(e!==this.right.check())throw Ge();return e+(this.isRed()?0:1)}};Ua.EMPTY=null,Ua.RED=!0,Ua.BLACK=!1;Ua.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge()}get value(){throw Ge()}get color(){throw Ge()}get left(){throw Ge()}get right(){throw Ge()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ua(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.comparator=e,this.data=new qn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new YR(this.data.getIterator())}getIteratorFrom(e){return new YR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Zn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Zn(this.comparator);return n.data=e,n}}class YR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.fields=e,e.sort(mr.comparator)}static empty(){return new Pi([])}unionWith(e){let n=new Zn(mr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new bD("Invalid base64 string: "+o):o}}(e);return new _r(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new _r(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_r.EMPTY_BYTE_STRING=new _r("");const uH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ka(t){if(Ft(!!t),typeof t=="string"){let e=0;const n=uH.exec(t);if(Ft(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ln(t.seconds),nanos:Ln(t.nanos)}}function Ln(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ya(t){return typeof t=="string"?_r.fromBase64String(t):_r.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="server_timestamp",ED="__type__",xD="__previous_value__",SD="__local_write_time__";function Sx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[ED])===null||n===void 0?void 0:n.stringValue)===wD}function Av(t){const e=t.mapValue.fields[xD];return Sx(e)?Av(e):e}function Ph(t){const e=Ka(t.mapValue.fields[SD].timestampValue);return new Jn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(e,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const cy="(default)";class Ah{constructor(e,n){this.projectId=e,this.database=n||cy}static empty(){return new Ah("","")}get isDefaultDatabase(){return this.database===cy}isEqual(e){return e instanceof Ah&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD="__type__",TD="__max__",Sg={mapValue:{fields:{__type__:{stringValue:TD}}}},ID="__vector__",uy="value";function Xa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sx(t)?4:hH(t)?9007199254740991:fH(t)?10:11:Ge()}function ss(t,e){if(t===e)return!0;const n=Xa(t);if(n!==Xa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ph(t).isEqual(Ph(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Ka(i.timestampValue),a=Ka(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ya(i.bytesValue).isEqual(Ya(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ln(i.geoPointValue.latitude)===Ln(o.geoPointValue.latitude)&&Ln(i.geoPointValue.longitude)===Ln(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ln(i.integerValue)===Ln(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ln(i.doubleValue),a=Ln(o.doubleValue);return s===a?ly(s)===ly(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Vu(t.arrayValue.values||[],e.arrayValue.values||[],ss);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(KR(s)!==KR(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ss(s[l],a[l])))return!1;return!0}(t,e);default:return Ge()}}function kh(t,e){return(t.values||[]).find(n=>ss(n,e))!==void 0}function Uu(t,e){if(t===e)return 0;const n=Xa(t),r=Xa(e);if(n!==r)return pt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Ln(o.integerValue||o.doubleValue),l=Ln(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return XR(t.timestampValue,e.timestampValue);case 4:return XR(Ph(t),Ph(e));case 5:return Ww(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ya(o),l=Ya(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=pt(a[c],l[c]);if(u!==0)return u}return pt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=pt(Ln(o.latitude),Ln(s.latitude));return a!==0?a:pt(Ln(o.longitude),Ln(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return QR(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,c,u;const f=o.fields||{},h=s.fields||{},p=(a=f[uy])===null||a===void 0?void 0:a.arrayValue,m=(l=h[uy])===null||l===void 0?void 0:l.arrayValue,b=pt(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return b!==0?b:QR(p,m)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Sg.mapValue&&s===Sg.mapValue)return 0;if(o===Sg.mapValue)return 1;if(s===Sg.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=Ww(l[f],u[f]);if(h!==0)return h;const p=Uu(a[l[f]],c[u[f]]);if(p!==0)return p}return pt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ge()}}function XR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pt(t,e);const n=Ka(t),r=Ka(e),i=pt(n.seconds,r.seconds);return i!==0?i:pt(n.nanos,r.nanos)}function QR(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Uu(n[i],r[i]);if(o)return o}return pt(n.length,r.length)}function ju(t){return Gw(t)}function Gw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ka(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ya(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Gw(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Gw(n.fields[s])}`;return i+"}"}(t.mapValue):Ge()}function gm(t){switch(Xa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Av(t);return e?16+gm(e):16;case 5:return 2*t.stringValue.length;case 6:return Ya(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+gm(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return fl(r.fields,(o,s)=>{i+=o.length+gm(s)}),i}(t.mapValue);default:throw Ge()}}function JR(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qw(t){return!!t&&"integerValue"in t}function Cx(t){return!!t&&"arrayValue"in t}function ZR(t){return!!t&&"nullValue"in t}function eP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mm(t){return!!t&&"mapValue"in t}function fH(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[CD])===null||n===void 0?void 0:n.stringValue)===ID}function zf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===TD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.value=e}static empty(){return new ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zf(n)}setAll(e){let n=mr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=zf(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());mm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ss(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];mm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fl(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new ni(zf(this.value))}}function RD(t){const e=[];return fl(t.fields,(n,r)=>{const i=new mr([n]);if(mm(r)){const o=RD(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Pi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Or(e,0,Je.min(),Je.min(),Je.min(),ni.empty(),0)}static newFoundDocument(e,n,r,i){return new Or(e,1,n,Je.min(),r,i,0)}static newNoDocument(e,n){return new Or(e,2,n,Je.min(),Je.min(),ni.empty(),0)}static newUnknownDocument(e,n){return new Or(e,3,n,Je.min(),Je.min(),ni.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Or&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Or(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n){this.position=e,this.inclusive=n}}function tP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Le.comparator(Le.fromName(s.referenceValue),n.key):r=Uu(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function nP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ss(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n="asc"){this.field=e,this.dir=n}}function pH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{}class Gn extends PD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mH(e,n,r):n==="array-contains"?new _H(e,r):n==="in"?new bH(e,r):n==="not-in"?new wH(e,r):n==="array-contains-any"?new EH(e,r):new Gn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yH(e,r):new vH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Uu(n,this.value)):n!==null&&Xa(this.value)===Xa(n)&&this.matchesComparison(Uu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oo extends PD{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Oo(e,n)}matches(e){return AD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function AD(t){return t.op==="and"}function kD(t){return gH(t)&&AD(t)}function gH(t){for(const e of t.filters)if(e instanceof Oo)return!1;return!0}function Kw(t){if(t instanceof Gn)return t.field.canonicalString()+t.op.toString()+ju(t.value);if(kD(t))return t.filters.map(e=>Kw(e)).join(",");{const e=t.filters.map(n=>Kw(n)).join(",");return`${t.op}(${e})`}}function OD(t,e){return t instanceof Gn?function(r,i){return i instanceof Gn&&r.op===i.op&&r.field.isEqual(i.field)&&ss(r.value,i.value)}(t,e):t instanceof Oo?function(r,i){return i instanceof Oo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&OD(s,i.filters[a]),!0):!1}(t,e):void Ge()}function ND(t){return t instanceof Gn?function(n){return`${n.field.canonicalString()} ${n.op} ${ju(n.value)}`}(t):t instanceof Oo?function(n){return n.op.toString()+" {"+n.getFilters().map(ND).join(" ,")+"}"}(t):"Filter"}class mH extends Gn{constructor(e,n,r){super(e,n,r),this.key=Le.fromName(r.referenceValue)}matches(e){const n=Le.comparator(e.key,this.key);return this.matchesComparison(n)}}class yH extends Gn{constructor(e,n){super(e,"in",n),this.keys=$D("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vH extends Gn{constructor(e,n){super(e,"not-in",n),this.keys=$D("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $D(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Le.fromName(r.referenceValue))}class _H extends Gn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cx(n)&&kh(n.arrayValue,this.value)}}class bH extends Gn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&kh(this.value.arrayValue,n)}}class wH extends Gn{constructor(e,n){super(e,"not-in",n)}matches(e){if(kh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!kh(this.value.arrayValue,n)}}class EH extends Gn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>kh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.le=null}}function rP(t,e=null,n=[],r=[],i=null,o=null,s=null){return new xH(t,e,n,r,i,o,s)}function Tx(t){const e=et(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Kw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Pv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ju(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ju(r)).join(",")),e.le=n}return e.le}function Ix(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!OD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nP(t.startAt,e.startAt)&&nP(t.endAt,e.endAt)}function Yw(t){return Le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function SH(t,e,n,r,i,o,s,a){return new fp(t,e,n,r,i,o,s,a)}function Rx(t){return new fp(t)}function iP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MD(t){return t.collectionGroup!==null}function Wf(t){const e=et(t);if(e.he===null){e.he=[];const n=new Set;for(const o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Zn(mr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new fy(o,r))}),n.has(mr.keyField().canonicalString())||e.he.push(new fy(mr.keyField(),r))}return e.he}function es(t){const e=et(t);return e.Pe||(e.Pe=CH(e,Wf(t))),e.Pe}function CH(t,e){if(t.limitType==="F")return rP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new fy(i.field,o)});const n=t.endAt?new dy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new dy(t.startAt.position,t.startAt.inclusive):null;return rP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xw(t,e){const n=t.filters.concat([e]);return new fp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qw(t,e,n){return new fp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kv(t,e){return Ix(es(t),es(e))&&t.limitType===e.limitType}function DD(t){return`${Tx(es(t))}|lt:${t.limitType}`}function Oc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ND(i)).join(", ")}]`),Pv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ju(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ju(i)).join(",")),`Target(${r})`}(es(t))}; limitType=${t.limitType})`}function Ov(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Wf(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=tP(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,Wf(r),i)||r.endAt&&!function(s,a,l){const c=tP(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,Wf(r),i))}(t,e)}function TH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LD(t){return(e,n)=>{let r=!1;for(const i of Wf(t)){const o=IH(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function IH(t,e,n){const r=t.field.isKeyField()?Le.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?Uu(l,c):Ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fl(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return _D(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH=new qn(Le.comparator);function Ws(){return RH}const FD=new qn(Le.comparator);function Sf(...t){let e=FD;for(const n of t)e=e.insert(n.key,n);return e}function BD(t){let e=FD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function kl(){return Hf()}function VD(){return Hf()}function Hf(){return new ac(t=>t.toString(),(t,e)=>t.isEqual(e))}const PH=new qn(Le.comparator),AH=new Zn(Le.comparator);function xt(...t){let e=AH;for(const n of t)e=e.add(n);return e}const kH=new Zn(pt);function OH(){return kH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ly(e)?"-0":e}}function UD(t){return{integerValue:""+t}}function NH(t,e){return aH(e)?UD(e):Px(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this._=void 0}}function $H(t,e,n){return t instanceof Oh?function(i,o){const s={fields:{[ED]:{stringValue:wD},[SD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Sx(o)&&(o=Av(o)),o&&(s.fields[xD]=o),{mapValue:s}}(n,e):t instanceof zu?zD(t,e):t instanceof Nh?WD(t,e):function(i,o){const s=jD(i,o),a=oP(s)+oP(i.Ie);return qw(s)&&qw(i.Ie)?UD(a):Px(i.serializer,a)}(t,e)}function MH(t,e,n){return t instanceof zu?zD(t,e):t instanceof Nh?WD(t,e):n}function jD(t,e){return t instanceof hy?function(r){return qw(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Oh extends Nv{}class zu extends Nv{constructor(e){super(),this.elements=e}}function zD(t,e){const n=HD(e);for(const r of t.elements)n.some(i=>ss(i,r))||n.push(r);return{arrayValue:{values:n}}}class Nh extends Nv{constructor(e){super(),this.elements=e}}function WD(t,e){let n=HD(e);for(const r of t.elements)n=n.filter(i=>!ss(i,r));return{arrayValue:{values:n}}}class hy extends Nv{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function oP(t){return Ln(t.integerValue||t.doubleValue)}function HD(t){return Cx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n){this.field=e,this.transform=n}}function DH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof zu&&i instanceof zu||r instanceof Nh&&i instanceof Nh?Vu(r.elements,i.elements,ss):r instanceof hy&&i instanceof hy?ss(r.Ie,i.Ie):r instanceof Oh&&i instanceof Oh}(t.transform,e.transform)}class LH{constructor(e,n){this.version=e,this.transformResults=n}}class Wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ym(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $v{}function qD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mv(t.key,Wr.none()):new hp(t.key,t.data,Wr.none());{const n=t.data,r=ni.empty();let i=new Zn(mr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new hl(t.key,r,new Pi(i.toArray()),Wr.none())}}function FH(t,e,n){t instanceof hp?function(i,o,s){const a=i.value.clone(),l=aP(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof hl?function(i,o,s){if(!ym(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=aP(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(KD(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Gf(t,e,n,r){return t instanceof hp?function(o,s,a,l){if(!ym(o.precondition,s))return a;const c=o.value.clone(),u=lP(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof hl?function(o,s,a,l){if(!ym(o.precondition,s))return a;const c=lP(o.fieldTransforms,l,s),u=s.data;return u.setAll(KD(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return ym(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function BH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=jD(r.transform,i||null);o!=null&&(n===null&&(n=ni.empty()),n.set(r.field,o))}return n||null}function sP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vu(r,i,(o,s)=>DH(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hp extends $v{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class hl extends $v{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function KD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function aP(t,e,n){const r=new Map;Ft(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,MH(s,a,n[i]))}return r}function lP(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,$H(o,s,e))}return r}class Mv extends $v{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VH extends $v{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&FH(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VD();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=qD(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Je.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xt())}isEqual(e){return this.batchId===e.batchId&&Vu(this.mutations,e.mutations,(n,r)=>sP(n,r))&&Vu(this.baseMutations,e.baseMutations,(n,r)=>sP(n,r))}}class Ax{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ft(e.mutations.length===r.length);let i=function(){return PH}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Ax(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn,Rt;function WH(t){switch(t){case ee.OK:return Ge();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ge()}}function YD(t){if(t===void 0)return zs("GRPC error has no .code"),ee.UNKNOWN;switch(t){case jn.OK:return ee.OK;case jn.CANCELLED:return ee.CANCELLED;case jn.UNKNOWN:return ee.UNKNOWN;case jn.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case jn.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case jn.INTERNAL:return ee.INTERNAL;case jn.UNAVAILABLE:return ee.UNAVAILABLE;case jn.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case jn.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case jn.NOT_FOUND:return ee.NOT_FOUND;case jn.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case jn.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case jn.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case jn.ABORTED:return ee.ABORTED;case jn.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case jn.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case jn.DATA_LOSS:return ee.DATA_LOSS;default:return Ge()}}(Rt=jn||(jn={}))[Rt.OK=0]="OK",Rt[Rt.CANCELLED=1]="CANCELLED",Rt[Rt.UNKNOWN=2]="UNKNOWN",Rt[Rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rt[Rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rt[Rt.NOT_FOUND=5]="NOT_FOUND",Rt[Rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rt[Rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rt[Rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rt[Rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rt[Rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rt[Rt.ABORTED=10]="ABORTED",Rt[Rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rt[Rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rt[Rt.INTERNAL=13]="INTERNAL",Rt[Rt.UNAVAILABLE=14]="UNAVAILABLE",Rt[Rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH=new Ba([4294967295,4294967295],0);function cP(t){const e=mD().encode(t),n=new cD;return n.update(e),new Uint8Array(n.digest())}function uP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ba([n,r],0),new Ba([i,o],0)]}class kx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cf(`Invalid padding: ${n}`);if(r<0)throw new Cf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Cf(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Ba.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(Ba.fromNumber(r)));return i.compare(HH)===1&&(i=new Ba([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=cP(e),[r,i]=uP(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new kx(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ee===0)return;const n=cP(e),[r,i]=uP(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);this.Ve(s)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Cf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,pp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Dv(Je.min(),i,new qn(pt),Ws(),xt())}}class pp{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pp(r,n,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class XD{constructor(e,n){this.targetId=e,this.ge=n}}class QD{constructor(e,n,r=_r.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class dP{constructor(){this.pe=0,this.ye=fP(),this.we=_r.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=xt(),n=xt(),r=xt();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ge()}}),new pp(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=fP()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ft(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class GH{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ws(),this.$e=Cg(),this.Ue=Cg(),this.Ke=new qn(pt)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const o=i.target;if(Yw(o))if(r===0){const s=new Le(o.path);this.ze(n,s,Or.newNoDocument(s,Je.min()))}else Ft(r===1);else{const s=this.et(n);if(s!==r){const a=this.tt(e),l=a?this.nt(a,e,s):1;if(l!==0){this.Ye(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ya(r).toUint8Array()}catch(l){if(l instanceof bD)return Bu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new kx(s,i,o)}catch(l){return Bu(l instanceof Cf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ke.it(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,o,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((o,s)=>{const a=this.Xe(s);if(a){if(o.current&&Yw(a.target)){const l=new Le(a.target.path);this._t(l).has(s)||this.ut(s,l)||this.ze(s,l,Or.newNoDocument(l,e))}o.ve&&(n.set(s,o.Fe()),o.Me())}});let r=xt();this.Ue.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(e));const i=new Dv(e,n,this.Ke,this.Qe,r);return this.Qe=Ws(),this.$e=Cg(),this.Ue=Cg(),this.Ke=new qn(pt),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new dP,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Zn(pt),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Zn(pt),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||xe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new dP),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Cg(){return new qn(Le.comparator)}function fP(){return new qn(Le.comparator)}const qH=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),KH=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),YH=(()=>({and:"AND",or:"OR"}))();class XH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jw(t,e){return t.useProto3Json||Pv(e)?e:{value:e}}function py(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QH(t,e){return py(t,e.toTimestamp())}function ts(t){return Ft(!!t),Je.fromTimestamp(function(n){const r=Ka(n);return new Jn(r.seconds,r.nanos)}(t))}function Ox(t,e){return Zw(t,e).canonicalString()}function Zw(t,e){const n=function(i){return new fn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ZD(t){const e=fn.fromString(t);return Ft(iL(e)),e}function eE(t,e){return Ox(t.databaseId,e.path)}function Q_(t,e){const n=ZD(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Le(tL(n))}function eL(t,e){return Ox(t.databaseId,e)}function JH(t){const e=ZD(t);return e.length===4?fn.emptyPath():tL(e)}function tE(t){return new fn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tL(t){return Ft(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function hP(t,e,n){return{name:eE(t,e),fields:n.value.mapValue.fields}}function ZH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(Ft(u===void 0||typeof u=="string"),_r.fromBase64String(u||"")):(Ft(u===void 0||u instanceof Buffer||u instanceof Uint8Array),_r.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?ee.UNKNOWN:YD(c.code);return new Te(u,c.message||"")}(s);n=new QD(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Q_(t,r.document.name),o=ts(r.document.updateTime),s=r.document.createTime?ts(r.document.createTime):Je.min(),a=new ni({mapValue:{fields:r.document.fields}}),l=Or.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new vm(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Q_(t,r.document),o=r.readTime?ts(r.readTime):Je.min(),s=Or.newNoDocument(i,o),a=r.removedTargetIds||[];n=new vm([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Q_(t,r.document),o=r.removedTargetIds||[];n=new vm([],o,i,null)}else{if(!("filter"in e))return Ge();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new zH(i,o),a=r.targetId;n=new XD(a,s)}}return n}function e7(t,e){let n;if(e instanceof hp)n={update:hP(t,e.key,e.value)};else if(e instanceof Mv)n={delete:eE(t,e.key)};else if(e instanceof hl)n={update:hP(t,e.key,e.data),updateMask:c7(e.fieldMask)};else{if(!(e instanceof VH))return Ge();n={verify:eE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Oh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof zu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Nh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hy)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:QH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ge()}(t,e.precondition)),n}function t7(t,e){return t&&t.length>0?(Ft(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?ts(i.updateTime):ts(o);return s.isEqual(Je.min())&&(s=ts(o)),new LH(s,i.transformResults||[])}(n,e))):[]}function n7(t,e){return{documents:[eL(t,e.path)]}}function r7(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eL(t,i);const o=function(c){if(c.length!==0)return rL(Oo.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Nc(h.field),direction:s7(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Jw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:i}}function i7(t){let e=JH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ft(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(f){const h=nL(f);return h instanceof Oo&&kD(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(m){return new fy($c(m.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Pv(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new dy(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new dy(p,h)}(n.endAt)),SH(e,i,s,o,a,"F",l,c)}function o7(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$c(n.unaryFilter.field);return Gn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=$c(n.unaryFilter.field);return Gn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=$c(n.unaryFilter.field);return Gn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=$c(n.unaryFilter.field);return Gn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ge()}}(t):t.fieldFilter!==void 0?function(n){return Gn.create($c(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Oo.create(n.compositeFilter.filters.map(r=>nL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ge()}}(n.compositeFilter.op))}(t):Ge()}function s7(t){return qH[t]}function a7(t){return KH[t]}function l7(t){return YH[t]}function Nc(t){return{fieldPath:t.canonicalString()}}function $c(t){return mr.fromServerFormat(t.fieldPath)}function rL(t){return t instanceof Gn?function(n){if(n.op==="=="){if(eP(n.value))return{unaryFilter:{field:Nc(n.field),op:"IS_NAN"}};if(ZR(n.value))return{unaryFilter:{field:Nc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eP(n.value))return{unaryFilter:{field:Nc(n.field),op:"IS_NOT_NAN"}};if(ZR(n.value))return{unaryFilter:{field:Nc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nc(n.field),op:a7(n.op),value:n.value}}}(t):t instanceof Oo?function(n){const r=n.getFilters().map(i=>rL(i));return r.length===1?r[0]:{compositeFilter:{op:l7(n.op),filters:r}}}(t):Ge()}function c7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function iL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n,r,i,o=Je.min(),s=Je.min(),a=_r.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e){this.Tt=e}}function d7(t){const e=i7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(){this.Tn=new h7}addToCollectionParentIndex(e,n){return this.Tn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(qa.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(qa.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class h7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Zn(fn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zn(fn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oL=41943040;class ei{static withCacheSize(e){return new ei(e,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei.DEFAULT_COLLECTION_PERCENTILE=10,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ei.DEFAULT=new ei(oL,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ei.DISABLED=new ei(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Wu(0)}static Kn(){return new Wu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="LruGarbageCollector",p7=1048576;function mP([t,e],[n,r]){const i=pt(t,n);return i===0?pt(e,r):i}class g7{constructor(e){this.Hn=e,this.buffer=new Zn(mP),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();mP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class m7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){xe(gP,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){pd(n)?xe(gP,"Ignoring IndexedDB error during garbage collection: ",n):await hd(n)}await this.er(3e5)})}}class y7{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Rv.ae);const r=new g7(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(pP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pP):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),kc()<=bt.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function v7(t,e){return new y7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(){this.changes=new ac(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Or.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Gf(r.mutation,i,Pi.empty(),Jn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xt()){const i=kl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Sf();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=kl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Ws();const s=Hf(),a=function(){return Hf()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof hl)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Gf(u.mutation,c,u.mutation.getFieldMask(),Jn.now())):s.set(c.key,Pi.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>{var f;return a.set(c,new b7(u,(f=s.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Hf();let i=new qn((s,a)=>s-a),o=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Pi.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(i.get(a.batchId)||xt()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=VD();u.forEach(h=>{if(!o.has(h)){const p=qD(n.get(h),r.get(h));p!==null&&f.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Z.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Le.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Z.resolve(kl());let a=Rh,l=o;return s.next(c=>Z.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(u)?Z.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,xt())).next(u=>({batchId:a,changes:BD(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Le(n)).next(r=>{let i=Sf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Sf();return this.indexManager.getCollectionParents(e,o).next(a=>Z.forEach(a,l=>{const c=function(f,h){return new fp(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Or.newInvalidDocument(u)))});let a=Sf();return s.forEach((l,c)=>{const u=o.get(l);u!==void 0&&Gf(u.mutation,c,Pi.empty(),Jn.now()),Ov(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Z.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ts(i.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:d7(i.bundledQuery),readTime:ts(i.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(){this.overlays=new qn(Le.comparator),this.Rr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=kl();return Z.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Et(e,n,o)}),Z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const i=kl(),o=n.length+1,s=new Le(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new qn((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=kl(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=kl(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return Z.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new jH(n,r));let o=this.Rr.get(n);o===void 0&&(o=xt(),this.Rr.set(n,o)),this.Rr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(){this.sessionToken=_r.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.Vr=new Zn(tr.mr),this.gr=new Zn(tr.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new tr(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new tr(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new Le(new fn([])),r=new tr(n,e),i=new tr(n,e+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Le(new fn([])),r=new tr(n,e),i=new tr(n,e+1);let o=xt();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new tr(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tr{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Le.comparator(e.key,n.key)||pt(e.Cr,n.Cr)}static pr(e,n){return pt(e.Cr,n.Cr)||Le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Zn(tr.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new UH(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Mr=this.Mr.add(new tr(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Z.resolve(s)}lookupMutationBatch(e,n){return Z.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),o=i<0?0:i;return Z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?xx:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tr(n,0),i=new tr(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{const a=this.Or(s.Cr);o.push(a)}),Z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zn(pt);return n.forEach(i=>{const o=new tr(i,0),s=new tr(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],a=>{r=r.add(a.Cr)})}),Z.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Le.isDocumentKey(o)||(o=o.child(""));const s=new tr(new Le(o),0);let a=new Zn(pt);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Cr)),!0)},s),Z.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ft(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Z.forEach(n.mutations,i=>{const o=new tr(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new tr(n,0),i=this.Mr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e){this.kr=e,this.docs=function(){return new qn(Le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():Or.newInvalidDocument(n))}getEntries(e,n){let r=Ws();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Or.newInvalidDocument(i))}),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ws();const s=n.path,a=new Le(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||rH(nH(u),r)<=0||(i.has(u.key)||Ov(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return Z.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ge()}qr(e,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new I7(this)}getSize(e){return Z.resolve(this.size)}}class I7 extends _7{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),Z.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e){this.persistence=e,this.Qr=new ac(n=>Tx(n),Ix),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Nx,this.targetCount=0,this.Kr=Wu.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),Z.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Wu(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.zn(n),Z.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Qr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Z.waitFor(o).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Z.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Rv(0),this.zr=!1,this.zr=!0,this.jr=new S7,this.referenceDelegate=e(this),this.Hr=new R7(this),this.indexManager=new f7,this.remoteDocumentCache=function(i){return new T7(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new u7(n),this.Yr=new E7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new x7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new C7(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){xe("MemoryPersistence","Starting transaction:",e);const i=new P7(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,n){return Z.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class P7 extends oH{constructor(e){super(),this.currentSequenceNumber=e}}class $x{constructor(e){this.persistence=e,this.ti=new Nx,this.ni=null}static ri(e){return new $x(e)}get ii(){if(this.ni)return this.ni;throw Ge()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Z.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,r=>{const i=Le.fromPath(r);return this.si(e,i).next(o=>{o||n.removeEntry(i,Je.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Z.or([()=>Z.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class gy{constructor(e,n){this.persistence=e,this.oi=new ac(r=>lH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=v7(this,n)}static ri(e,n){return new gy(e,n)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return Z.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?Z.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,n).next(a=>{a||(r++,o.removeEntry(s,Je.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Z.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gm(e.data.value)),n}ar(e,n,r){return Z.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return Z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=xt(),i=xt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Mx(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return l9()?8:sH(Dr())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.rs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new A7;return this._s(e,n,s).next(a=>{if(o.result=a,this.Xi)return this.us(e,n,s,a.size)})}).next(()=>o.result)}us(e,n,r,i){return r.documentReadCount<this.es?(kc()<=bt.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",Oc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(kc()<=bt.DEBUG&&xe("QueryEngine","Query:",Oc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(kc()<=bt.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",Oc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,es(n))):Z.resolve())}rs(e,n){if(iP(n))return Z.resolve(null);let r=es(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Qw(n,null,"F"),r=es(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=xt(...o);return this.ns.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(n,a);return this.ls(n,c,s,l.readTime)?this.rs(e,Qw(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,r,i){return iP(n)||i.isEqual(Je.min())?Z.resolve(null):this.ns.getDocuments(e,r).next(o=>{const s=this.cs(n,o);return this.ls(n,s,r,i)?Z.resolve(null):(kc()<=bt.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Oc(n)),this.hs(e,s,n,tH(i,Rh)).next(a=>a))})}cs(e,n){let r=new Zn(LD(e));return n.forEach((i,o)=>{Ov(e,o)&&(r=r.add(o))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,n,r){return kc()<=bt.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",Oc(n)),this.ns.getDocumentsMatchingQuery(e,n,qa.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="LocalStore",O7=3e8;class N7{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new qn(pt),this.Is=new ac(o=>Tx(o),Ix),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w7(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function $7(t,e,n,r){return new N7(t,e,n,r)}async function aL(t,e){const n=et(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=xt();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:s,addedBatchIds:a}))})})}function M7(t,e){const n=et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,h=f.keys();let p=Z.resolve();return h.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(b=>{const x=c.docVersions.get(m);Ft(x!==null),b.version.compareTo(x)<0&&(f.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),u.addEntry(b)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=xt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function lL(t){const e=et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function D7(t,e){const n=et(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;a.push(n.Hr.removeMatchingKeys(o,u.removedDocuments,f).next(()=>n.Hr.addMatchingKeys(o,u.addedDocuments,f)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(_r.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(f,p),function(b,x,_){return b.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=O7?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,p,u)&&a.push(n.Hr.updateTargetData(o,p))});let l=Ws(),c=xt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(L7(o,s,e.documentUpdates).next(u=>{l=u.Vs,c=u.fs})),!r.isEqual(Je.min())){const u=n.Hr.getLastRemoteSnapshotVersion(o).next(f=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return Z.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ts=i,o))}function L7(t,e,n){let r=xt(),i=xt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Ws();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Je.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):xe(Dx,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:s,fs:i}})}function F7(t,e){const n=et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=xx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function B7(t,e){const n=et(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(o=>o?(i=o,Z.resolve(i)):n.Hr.allocateTargetId(r).next(s=>(i=new Ia(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function nE(t,e,n){const r=et(t),i=r.Ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!pd(s))throw s;xe(Dx,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function yP(t,e,n){const r=et(t);let i=Je.min(),o=xt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=et(l),h=f.Is.get(u);return h!==void 0?Z.resolve(f.Ts.get(h)):f.Hr.getTargetData(c,u)}(r,s,es(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,e,n?i:Je.min(),n?o:xt())).next(a=>(V7(r,TH(e),a),{documents:a,gs:o})))}function V7(t,e,n){let r=t.Es.get(e)||Je.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Es.set(e,r)}class vP{constructor(){this.activeTargetIds=OH()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U7{constructor(){this.ho=new vP,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new vP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="ConnectivityMonitor";class bP{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){xe(_P,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){xe(_P,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tg=null;function rE(){return Tg===null?Tg=function(){return 268435456+Math.round(2147483648*Math.random())}():Tg++,"0x"+Tg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="RestConnection",z7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W7{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===cy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,o){const s=rE(),a=this.bo(e,n.toUriEncodedString());xe(J_,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,o),this.vo(e,a,l,r).then(c=>(xe(J_,`Received RPC '${e}' ${s}: `,c),c),c=>{throw Bu(J_,`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,n,r,i,o,s){return this.So(e,n,r,i,o)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,n){const r=z7[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="WebChannelConnection";class G7 extends W7{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const o=rE();return new Promise((s,a)=>{const l=new uD;l.setWithCredentials(!0),l.listenOnce(dD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case pm.NO_ERROR:const u=l.getResponseJson();xe(Tr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case pm.TIMEOUT:xe(Tr,`RPC '${e}' ${o} timed out`),a(new Te(ee.DEADLINE_EXCEEDED,"Request time out"));break;case pm.HTTP_ERROR:const f=l.getStatus();if(xe(Tr,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(x){const _=x.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(_)>=0?_:ee.UNKNOWN}(p.status);a(new Te(m,p.message))}else a(new Te(ee.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Te(ee.UNAVAILABLE,"Connection failed."));break;default:Ge()}}finally{xe(Tr,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);xe(Tr,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",c,r,15)})}Wo(e,n,r){const i=rE(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=pD(),a=hD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");xe(Tr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);let h=!1,p=!1;const m=new H7({Fo:x=>{p?xe(Tr,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(xe(Tr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),xe(Tr,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},Mo:()=>f.close()}),b=(x,_,w)=>{x.listen(_,v=>{try{w(v)}catch(S){setTimeout(()=>{throw S},0)}})};return b(f,xf.EventType.OPEN,()=>{p||(xe(Tr,`RPC '${e}' stream ${i} transport opened.`),m.Qo())}),b(f,xf.EventType.CLOSE,()=>{p||(p=!0,xe(Tr,`RPC '${e}' stream ${i} transport closed`),m.Uo())}),b(f,xf.EventType.ERROR,x=>{p||(p=!0,Bu(Tr,`RPC '${e}' stream ${i} transport errored:`,x),m.Uo(new Te(ee.UNAVAILABLE,"The operation could not be completed")))}),b(f,xf.EventType.MESSAGE,x=>{var _;if(!p){const w=x.data[0];Ft(!!w);const v=w,S=(v==null?void 0:v.error)||((_=v[0])===null||_===void 0?void 0:_.error);if(S){xe(Tr,`RPC '${e}' stream ${i} received error:`,S);const k=S.status;let N=function(R){const y=jn[R];if(y!==void 0)return YD(y)}(k),I=S.message;N===void 0&&(N=ee.INTERNAL,I="Unknown error status: "+k+" with message "+S.message),p=!0,m.Uo(new Te(N,I)),f.close()}else xe(Tr,`RPC '${e}' stream ${i} received:`,w),m.Ko(w)}}),b(a,fD.STAT_EVENT,x=>{x.stat===zw.PROXY?xe(Tr,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===zw.NOPROXY&&xe(Tr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.$o()},0),m}}function Z_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t){return new XH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="PersistentStream";class uL{constructor(e,n,r,i,o,s,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new cL(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(zs(n.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new Te(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return xe(wP,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(xe(wP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q7 extends uL{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=ZH(this.serializer,e),r=function(o){if(!("targetChange"in o))return Je.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Je.min():s.readTime?ts(s.readTime):Je.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=tE(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Yw(l)?{documents:n7(o,l)}:{query:r7(o,l).ht},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=JD(o,s.resumeToken);const c=Jw(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Je.min())>0){a.readTime=py(o,s.snapshotVersion.toTimestamp());const c=Jw(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=o7(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=tE(this.serializer),n.removeTarget=e,this.I_(n)}}class K7 extends uL{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=t7(e.writeResults,e.commitTime),r=ts(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=tE(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>e7(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{}class X7 extends Y7{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Te(ee.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,Zw(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(ee.UNKNOWN,o.toString())})}Co(e,n,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(e,Zw(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Te(ee.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Q7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(zs(n),this.N_=!1):xe("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl="RemoteStore";class J7{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(async()=>{lc(this)&&(xe(Xl,"Restarting streams for network reachability change."),await async function(l){const c=et(l);c.W_.add(4),await gp(c),c.j_.set("Unknown"),c.W_.delete(4),await Fv(c)}(this))})}),this.j_=new Q7(r,i)}}async function Fv(t){if(lc(t))for(const e of t.G_)await e(!0)}async function gp(t){for(const e of t.G_)await e(!1)}function dL(t,e){const n=et(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Vx(n)?Bx(n):gd(n).c_()&&Fx(n,e))}function Lx(t,e){const n=et(t),r=gd(n);n.K_.delete(e),r.c_()&&fL(n,e),n.K_.size===0&&(r.c_()?r.P_():lc(n)&&n.j_.set("Unknown"))}function Fx(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gd(t).y_(e)}function fL(t,e){t.H_.Ne(e),gd(t).w_(e)}function Bx(t){t.H_=new GH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),gd(t).start(),t.j_.B_()}function Vx(t){return lc(t)&&!gd(t).u_()&&t.K_.size>0}function lc(t){return et(t).W_.size===0}function hL(t){t.H_=void 0}async function Z7(t){t.j_.set("Online")}async function eG(t){t.K_.forEach((e,n)=>{Fx(t,e)})}async function tG(t,e){hL(t),Vx(t)?(t.j_.q_(e),Bx(t)):t.j_.set("Unknown")}async function nG(t,e,n){if(t.j_.set("Online"),e instanceof QD&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.K_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.K_.delete(a),i.H_.removeTarget(a))}(t,e)}catch(r){xe(Xl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await my(t,r)}else if(e instanceof vm?t.H_.We(e):e instanceof XD?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Je.min()))try{const r=await lL(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.H_.ot(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.K_.get(c);u&&o.K_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.K_.get(l);if(!u)return;o.K_.set(l,u.withResumeToken(_r.EMPTY_BYTE_STRING,u.snapshotVersion)),fL(o,l);const f=new Ia(u.target,l,c,u.sequenceNumber);Fx(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){xe(Xl,"Failed to raise snapshot:",r),await my(t,r)}}async function my(t,e,n){if(!pd(e))throw e;t.W_.add(1),await gp(t),t.j_.set("Offline"),n||(n=()=>lL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{xe(Xl,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Fv(t)})}function pL(t,e){return e().catch(n=>my(t,n,e))}async function Bv(t){const e=et(t),n=Qa(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:xx;for(;rG(e);)try{const i=await F7(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,iG(e,i)}catch(i){await my(e,i)}gL(e)&&mL(e)}function rG(t){return lc(t)&&t.U_.length<10}function iG(t,e){t.U_.push(e);const n=Qa(t);n.c_()&&n.S_&&n.b_(e.mutations)}function gL(t){return lc(t)&&!Qa(t).u_()&&t.U_.length>0}function mL(t){Qa(t).start()}async function oG(t){Qa(t).C_()}async function sG(t){const e=Qa(t);for(const n of t.U_)e.b_(n.mutations)}async function aG(t,e,n){const r=t.U_.shift(),i=Ax.from(r,e,n);await pL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Bv(t)}async function lG(t,e){e&&Qa(t).S_&&await async function(r,i){if(function(s){return WH(s)&&s!==ee.ABORTED}(i.code)){const o=r.U_.shift();Qa(r).h_(),await pL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Bv(r)}}(t,e),gL(t)&&mL(t)}async function EP(t,e){const n=et(t);n.asyncQueue.verifyOperationInProgress(),xe(Xl,"RemoteStore received new credentials");const r=lc(n);n.W_.add(3),await gp(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Fv(n)}async function cG(t,e){const n=et(t);e?(n.W_.delete(2),await Fv(n)):e||(n.W_.add(2),await gp(n),n.j_.set("Unknown"))}function gd(t){return t.J_||(t.J_=function(n,r,i){const o=et(n);return o.M_(),new q7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:Z7.bind(null,t),No:eG.bind(null,t),Lo:tG.bind(null,t),p_:nG.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Vx(t)?Bx(t):t.j_.set("Unknown")):(await t.J_.stop(),hL(t))})),t.J_}function Qa(t){return t.Y_||(t.Y_=function(n,r,i){const o=et(n);return o.M_(),new K7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:oG.bind(null,t),Lo:lG.bind(null,t),D_:sG.bind(null,t),v_:aG.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Bv(t)):(await t.Y_.stop(),t.U_.length>0&&(xe(Xl,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Va,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Ux(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jx(t,e){if(zs("AsyncQueue",`${e}: ${t}`),pd(t))return new Te(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{static emptySet(e){return new xu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Le.comparator(n.key,r.key):(n,r)=>Le.comparator(n.key,r.key),this.keyedMap=Sf(),this.sortedSet=new qn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this.Z_=new qn(Le.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ge():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Hu{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Hu(e,n,xu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class dG{constructor(){this.queries=SP(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=et(n),o=i.queries;i.queries=SP(),o.forEach((s,a)=>{for(const l of a.ta)l.onError(r)})})(this,new Te(ee.ABORTED,"Firestore shutting down"))}}function SP(){return new ac(t=>DD(t),kv)}async function yL(t,e){const n=et(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new uG,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=jx(s,`Initialization of query '${Oc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.ta.push(e),e.sa(n.onlineState),o.ea&&e.oa(o.ea)&&zx(n)}async function vL(t,e){const n=et(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ta.indexOf(e);s>=0&&(o.ta.splice(s,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fG(t,e){const n=et(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.ta)a.oa(i)&&(r=!0);s.ea=i}}r&&zx(n)}function hG(t,e,n){const r=et(t),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(e)}function zx(t){t.ia.forEach(e=>{e.next()})}var iE,CP;(CP=iE||(iE={}))._a="default",CP.Cache="cache";class _L{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==iE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.key=e}}class wL{constructor(e){this.key=e}}class pG{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=xt(),this.mutatedKeys=xt(),this.ya=LD(e),this.wa=new xu(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new xP,i=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),p=Ov(this.query,f)?f:null,m=!!h&&this.mutatedKeys.has(h.key),b=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;h&&p?h.data.isEqual(p.data)?m!==b&&(r.track({type:3,doc:p}),x=!0):this.va(h,p)||(r.track({type:2,doc:p}),x=!0,(l&&this.ya(p,l)>0||c&&this.ya(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),x=!0):h&&!p&&(r.track({type:1,doc:h}),x=!0,(l||c)&&(a=!0)),x&&(p?(s=s.add(p),o=b?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{wa:s,Da:r,ls:a,mutatedKeys:o}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort((u,f)=>function(p,m){const b=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge()}};return b(p)-b(m)}(u.type,f.type)||this.ya(u.doc,f.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,c=l!==this.ga;return this.ga=l,s.length!==0||c?{snapshot:new Hu(this.query,e.wa,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new xP,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=xt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new wL(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new bL(r))}),n}Oa(e){this.fa=e.gs,this.pa=xt();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Hu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Wx="SyncEngine";class gG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mG{constructor(e){this.key=e,this.Ba=!1}}class yG{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new ac(a=>DD(a),kv),this.qa=new Map,this.Qa=new Set,this.$a=new qn(Le.comparator),this.Ua=new Map,this.Ka=new Nx,this.Wa={},this.Ga=new Map,this.za=Wu.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function vG(t,e,n=!0){const r=IL(t);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await EL(r,e,n,!0),i}async function _G(t,e){const n=IL(t);await EL(n,e,!0,!1)}async function EL(t,e,n,r){const i=await B7(t.localStore,es(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await bG(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&dL(t.remoteStore,i),a}async function bG(t,e,n,r,i){t.Ha=(f,h,p)=>async function(b,x,_,w){let v=x.view.ba(_);v.ls&&(v=await yP(b.localStore,x.query,!1).then(({documents:I})=>x.view.ba(I,v)));const S=w&&w.targetChanges.get(x.targetId),k=w&&w.targetMismatches.get(x.targetId)!=null,N=x.view.applyChanges(v,b.isPrimaryClient,S,k);return IP(b,x.targetId,N.Ma),N.snapshot}(t,f,h,p);const o=await yP(t.localStore,e,!0),s=new pG(e,o.gs),a=s.ba(o.documents),l=pp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);IP(t,n,c.Ma);const u=new gG(e,n,s);return t.ka.set(e,u),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function wG(t,e,n){const r=et(t),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!kv(s,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await nE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Lx(r.remoteStore,i.targetId),oE(r,i.targetId)}).catch(hd)):(oE(r,i.targetId),await nE(r.localStore,i.targetId,!0))}async function EG(t,e){const n=et(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Lx(n.remoteStore,r.targetId))}async function xG(t,e,n){const r=AG(t);try{const i=await function(s,a){const l=et(s),c=Jn.now(),u=a.reduce((p,m)=>p.add(m.key),xt());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Ws(),b=xt();return l.ds.getEntries(p,u).next(x=>{m=x,m.forEach((_,w)=>{w.isValidDocument()||(b=b.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(x=>{f=x;const _=[];for(const w of a){const v=BH(w,f.get(w.key).overlayedDocument);v!=null&&_.push(new hl(w.key,v,RD(v.value.mapValue),Wr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,_,a)}).next(x=>{h=x;const _=x.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(p,x.batchId,_)})}).then(()=>({batchId:h.batchId,changes:BD(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Wa[s.currentUser.toKey()];c||(c=new qn(pt)),c=c.insert(a,l),s.Wa[s.currentUser.toKey()]=c}(r,i.batchId,n),await mp(r,i.changes),await Bv(r.remoteStore)}catch(i){const o=jx(i,"Failed to persist write");n.reject(o)}}async function xL(t,e){const n=et(t);try{const r=await D7(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ua.get(o);s&&(Ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?Ft(s.Ba):i.removedDocuments.size>0&&(Ft(s.Ba),s.Ba=!1))}),await mp(n,r,e)}catch(r){await hd(r)}}function TP(t,e,n){const r=et(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((o,s)=>{const a=s.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=et(s);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.ta)h.sa(a)&&(c=!0)}),c&&zx(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function SG(t,e,n){const r=et(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),o=i&&i.key;if(o){let s=new qn(Le.comparator);s=s.insert(o,Or.newNoDocument(o,Je.min()));const a=xt().add(o),l=new Dv(Je.min(),new Map,new qn(pt),s,a);await xL(r,l),r.$a=r.$a.remove(o),r.Ua.delete(e),Hx(r)}else await nE(r.localStore,e,!1).then(()=>oE(r,e,n)).catch(hd)}async function CG(t,e){const n=et(t),r=e.batch.batchId;try{const i=await M7(n.localStore,e);CL(n,r,null),SL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mp(n,i)}catch(i){await hd(i)}}async function TG(t,e,n){const r=et(t);try{const i=await function(s,a){const l=et(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ft(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);CL(r,e,n),SL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await mp(r,i)}catch(i){await hd(i)}}function SL(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function CL(t,e,n){const r=et(t);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function oE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||TL(t,r)})}function TL(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Lx(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),Hx(t))}function IP(t,e,n){for(const r of n)r instanceof bL?(t.Ka.addReference(r.key,e),IG(t,r)):r instanceof wL?(xe(Wx,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||TL(t,r.key)):Ge()}function IG(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(xe(Wx,"New document in limbo: "+n),t.Qa.add(r),Hx(t))}function Hx(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Le(fn.fromString(e)),r=t.za.next();t.Ua.set(r,new mG(n)),t.$a=t.$a.insert(n,r),dL(t.remoteStore,new Ia(es(Rx(n.path)),r,"TargetPurposeLimboResolution",Rv.ae))}}async function mp(t,e,n){const r=et(t),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{s.push(r.Ha(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Mx.Yi(l.targetId,c);o.push(f)}}))}),await Promise.all(s),r.La.p_(i),await async function(l,c){const u=et(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Z.forEach(c,h=>Z.forEach(h.Hi,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>Z.forEach(h.Ji,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!pd(f))throw f;xe(Dx,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.Ts.get(h),m=p.snapshotVersion,b=p.withLastLimboFreeSnapshotVersion(m);u.Ts=u.Ts.insert(h,b)}}}(r.localStore,o))}async function RG(t,e){const n=et(t);if(!n.currentUser.isEqual(e)){xe(Wx,"User change. New user:",e.toKey());const r=await aL(n.localStore,e);n.currentUser=e,function(o,s){o.Ga.forEach(a=>{a.forEach(l=>{l.reject(new Te(ee.CANCELLED,s))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mp(n,r.Rs)}}function PG(t,e){const n=et(t),r=n.Ua.get(e);if(r&&r.Ba)return xt().add(r.key);{let i=xt();const o=n.qa.get(e);if(!o)return i;for(const s of o){const a=n.ka.get(s);i=i.unionWith(a.view.Sa)}return i}}function IL(t){const e=et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SG.bind(null,e),e.La.p_=fG.bind(null,e.eventManager),e.La.Ja=hG.bind(null,e.eventManager),e}function AG(t){const e=et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TG.bind(null,e),e}class yy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lv(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return $7(this.persistence,new k7,e.initialUser,this.serializer)}Xa(e){return new sL($x.ri,this.serializer)}Za(e){return new U7}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yy.provider={build:()=>new yy};class kG extends yy{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ft(this.persistence.referenceDelegate instanceof gy);const r=this.persistence.referenceDelegate.garbageCollector;return new m7(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?ei.withCacheSize(this.cacheSizeBytes):ei.DEFAULT;return new sL(r=>gy.ri(r,n),this.serializer)}}class sE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>TP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=RG.bind(null,this.syncEngine),await cG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dG}()}createDatastore(e){const n=Lv(e.databaseInfo.databaseId),r=function(o){return new G7(o)}(e.databaseInfo);return function(o,s,a,l){return new X7(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new J7(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>TP(this.syncEngine,n,0),function(){return bP.D()?new bP:new j7}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,u){const f=new yG(i,o,s,a,l,c);return u&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=et(i);xe(Xl,"RemoteStore shutting down."),o.W_.add(5),await gp(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}sE.provider={build:()=>new sE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):zs("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="FirestoreClient";class OG{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ar.UNAUTHENTICATED,this.clientId=yD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{xe(Ja,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(xe(Ja,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Va;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function eb(t,e){t.asyncQueue.verifyOperationInProgress(),xe(Ja,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await aL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function RP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await NG(t);xe(Ja,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>EP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>EP(e.remoteStore,i)),t._onlineComponents=e}async function NG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){xe(Ja,"Using user provided OfflineComponentProvider");try{await eb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ee.FAILED_PRECONDITION||i.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Bu("Error using user provided cache. Falling back to memory cache: "+n),await eb(t,new yy)}}else xe(Ja,"Using default OfflineComponentProvider"),await eb(t,new kG(void 0));return t._offlineComponents}async function PL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(xe(Ja,"Using user provided OnlineComponentProvider"),await RP(t,t._uninitializedComponentsProvider._online)):(xe(Ja,"Using default OnlineComponentProvider"),await RP(t,new sE))),t._onlineComponents}function $G(t){return PL(t).then(e=>e.syncEngine)}async function aE(t){const e=await PL(t),n=e.eventManager;return n.onListen=vG.bind(null,e.syncEngine),n.onUnlisten=wG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_G.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EG.bind(null,e.syncEngine),n}function MG(t,e,n={}){const r=new Va;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new RL({next:h=>{u.su(),s.enqueueAndForget(()=>vL(o,f)),h.fromCache&&l.source==="server"?c.reject(new Te(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new _L(a,u,{includeMetadataChanges:!0,Ta:!0});return yL(o,f)}(await aE(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t,e,n){if(!n)throw new Te(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DG(t,e,n,r){if(e===!0&&r===!0)throw new Te(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function AP(t){if(!Le.isDocumentKey(t))throw new Te(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kP(t){if(Le.isDocumentKey(t))throw new Te(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ge()}function $i(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vv(t);throw new Te(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL="firestore.googleapis.com",OP=!0;class NP{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OL,this.ssl=OP}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:OP;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<p7)throw new Te(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Te(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Te(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Te(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new G8;switch(r.type){case"firstParty":return new X8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=PP.get(n);r&&(xe("ComponentProvider","Removing Datastore"),PP.delete(n),r.terminate())}(this),Promise.resolve()}}function LG(t,e,n,r={}){var i;const o=(t=$i(t,Uv))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;o.host!==OL&&o.host!==a&&Bu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!Bs(l,s)&&(t._setSettings(l),r.mockUserToken)){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Ar.MOCK_USER;else{c=ax(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Te(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ar(f)}t._authCredentials=new q8(new gD(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cc(this.firestore,e,this._query)}}class Hr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hr(this.firestore,e,this._key)}}class ja extends cc{constructor(e,n,r){super(e,n,Rx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hr(this.firestore,null,new Le(e))}withConverter(e){return new ja(this.firestore,e,this._path)}}function $t(t,e,...n){if(t=Bt(t),kL("collection","path",e),t instanceof Uv){const r=fn.fromString(e,...n);return kP(r),new ja(t,null,r)}{if(!(t instanceof Hr||t instanceof ja))throw new Te(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fn.fromString(e,...n));return kP(r),new ja(t.firestore,null,r)}}function zn(t,e,...n){if(t=Bt(t),arguments.length===1&&(e=yD.newId()),kL("doc","path",e),t instanceof Uv){const r=fn.fromString(e,...n);return AP(r),new Hr(t,null,new Le(r))}{if(!(t instanceof Hr||t instanceof ja))throw new Te(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fn.fromString(e,...n));return AP(r),new Hr(t.firestore,t instanceof ja?t.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="AsyncQueue";class MP{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new cL(this,"async_queue_retry"),this.Su=()=>{const r=Z_();r&&xe($P,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=Z_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Z_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Va;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!pd(e))throw e;xe($P,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw zs("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=Ux.createAndSchedule(this,e,n,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&Ge()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function DP(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Hs extends Uv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new MP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MP(e),this._firestoreClient=void 0,await e}}}function FG(t,e){const n=typeof t=="object"?t:Sv(),r=typeof t=="string"?t:e||cy,i=ap(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=sx("firestore");o&&LG(i,...o)}return i}function jv(t){if(t._terminated)throw new Te(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||BG(t),t._firestoreClient}function BG(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,c,u){return new dH(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,AL(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new OG(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gu(_r.fromBase64String(e))}catch(n){throw new Te(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gu(_r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pt(this._lat,e._lat)||pt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG=/^__.*__$/;class UG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hl(e,this.data,this.fieldMask,n,this.fieldTransforms):new hp(e,this.data,n,this.fieldTransforms)}}class NL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $L(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge()}}class zv{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new zv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return vy(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if($L(this.Lu)&&VG.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class jG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lv(e)}ju(e,n,r,i=!1){return new zv({Lu:e,methodName:n,zu:r,path:mr.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _p(t){const e=t._freezeSettings(),n=Lv(t._databaseId);return new jG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Kx(t,e,n,r,i,o={}){const s=t.ju(o.merge||o.mergeFields?2:0,e,n,i);Qx("Data must be an object, but it was:",s,r);const a=LL(r,s);let l,c;if(o.merge)l=new Pi(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const f of o.mergeFields){const h=lE(e,f,n);if(!s.contains(h))throw new Te(ee.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);BL(u,h)||u.push(h)}l=new Pi(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new UG(new ni(a),l,c)}class Wv extends vp{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wv}}function zG(t,e,n){return new zv({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Yx extends vp{_toFieldTransform(e){return new GD(e.path,new Oh)}isEqual(e){return e instanceof Yx}}class Xx extends vp{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=zG(this,e,!0),r=this.Hu.map(o=>md(o,n)),i=new zu(r);return new GD(e.path,i)}isEqual(e){return e instanceof Xx&&Bs(this.Hu,e.Hu)}}function ML(t,e,n,r){const i=t.ju(1,e,n);Qx("Data must be an object, but it was:",i,r);const o=[],s=ni.empty();fl(r,(l,c)=>{const u=Jx(e,l,n);c=Bt(c);const f=i.Uu(u);if(c instanceof Wv)o.push(u);else{const h=md(c,f);h!=null&&(o.push(u),s.set(u,h))}});const a=new Pi(o);return new NL(s,a,i.fieldTransforms)}function DL(t,e,n,r,i,o){const s=t.ju(1,e,n),a=[lE(e,r,n)],l=[i];if(o.length%2!=0)throw new Te(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(lE(e,o[h])),l.push(o[h+1]);const c=[],u=ni.empty();for(let h=a.length-1;h>=0;--h)if(!BL(c,a[h])){const p=a[h];let m=l[h];m=Bt(m);const b=s.Uu(p);if(m instanceof Wv)c.push(p);else{const x=md(m,b);x!=null&&(c.push(p),u.set(p,x))}}const f=new Pi(c);return new NL(u,f,s.fieldTransforms)}function WG(t,e,n,r=!1){return md(n,t.ju(r?4:3,e))}function md(t,e){if(FL(t=Bt(t)))return Qx("Unsupported field value:",e,t),LL(t,e);if(t instanceof vp)return function(r,i){if(!$L(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=md(a,i.Ku(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Jn.fromDate(r);return{timestampValue:py(i.serializer,o)}}if(r instanceof Jn){const o=new Jn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:py(i.serializer,o)}}if(r instanceof Gx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gu)return{bytesValue:JD(i.serializer,r._byteString)};if(r instanceof Hr){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ox(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof qx)return function(s,a){return{mapValue:{fields:{[CD]:{stringValue:ID},[uy]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return Px(a.serializer,c)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Vv(r)}`)}(t,e)}function LL(t,e){const n={};return _D(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fl(t,(r,i)=>{const o=md(i,e.qu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function FL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Jn||t instanceof Gx||t instanceof Gu||t instanceof Hr||t instanceof vp||t instanceof qx)}function Qx(t,e,n){if(!FL(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Vv(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function lE(t,e,n){if((e=Bt(e))instanceof yp)return e._internalPath;if(typeof e=="string")return Jx(t,e);throw vy("Field path arguments must be of type string or ",t,!1,void 0,n)}const HG=new RegExp("[~\\*/\\[\\]]");function Jx(t,e,n){if(e.search(HG)>=0)throw vy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yp(...e.split("."))._internalPath}catch{throw vy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vy(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Te(ee.INVALID_ARGUMENT,a+t+l)}function BL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GG extends VL{data(){return super.data()}}function Zx(t,e){return typeof e=="string"?Jx(t,e):e instanceof yp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eS{}class qG extends eS{}function Wi(t,e,...n){let r=[];e instanceof eS&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof tS).length,a=o.filter(l=>l instanceof Hv).length;if(s>1||s>0&&a>0)throw new Te(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Hv extends qG{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Hv(e,n,r)}_apply(e){const n=this._parse(e);return jL(e._query,n),new cc(e.firestore,e.converter,Xw(e._query,n))}_parse(e){const n=_p(e.firestore);return function(o,s,a,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Te(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){FP(f,u);const m=[];for(const b of f)m.push(LP(l,o,b));h={arrayValue:{values:m}}}else h=LP(l,o,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||FP(f,u),h=WG(a,s,f,u==="in"||u==="not-in");return Gn.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ws(t,e,n){const r=e,i=Zx("where",t);return Hv._create(i,r,n)}class tS extends eS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Oo.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)jL(s,l),s=Xw(s,l)}(e._query,n),new cc(e.firestore,e.converter,Xw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function LP(t,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new Te(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MD(e)&&n.indexOf("/")!==-1)throw new Te(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(fn.fromString(n));if(!Le.isDocumentKey(r))throw new Te(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return JR(t,new Le(r))}if(n instanceof Hr)return JR(t,n._key);throw new Te(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vv(n)}.`)}function FP(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jL(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Te(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class KG{convertValue(e,n="none"){switch(Xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fl(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[uy].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ln(s.doubleValue));return new qx(o)}convertGeoPoint(e){return new Gx(Ln(e.latitude),Ln(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Av(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ph(e));default:return null}}convertTimestamp(e){const n=Ka(e);return new Jn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fn.fromString(e);Ft(iL(r));const i=new Ah(r.get(1),r.get(3)),o=new Le(r.popFirst(5));return i.isEqual(n)||zs(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zL extends VL{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _m(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Zx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _m extends zL{data(e={}){return super.data(e)}}class WL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Tf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _m(this._firestore,this._userDataWriter,r.key,r,new Tf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new _m(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Tf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new _m(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Tf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:YG(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function YG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge()}}class rS extends KG{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Hr(this.firestore,null,n)}}function yl(t){t=$i(t,cc);const e=$i(t.firestore,Hs),n=jv(e),r=new rS(e);return UL(t._query),MG(n,t._query).then(i=>new WL(e,r,t,i))}function BP(t,e,n){t=$i(t,Hr);const r=$i(t.firestore,Hs),i=nS(t.converter,e,n);return bp(r,[Kx(_p(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Wr.none())])}function Mc(t,e,n,...r){t=$i(t,Hr);const i=$i(t.firestore,Hs),o=_p(i);let s;return s=typeof(e=Bt(e))=="string"||e instanceof yp?DL(o,"updateDoc",t._key,e,n,r):ML(o,"updateDoc",t._key,e),bp(i,[s.toMutation(t._key,Wr.exists(!0))])}function cE(t){return bp($i(t.firestore,Hs),[new Mv(t._key,Wr.none())])}function Pr(t,e){const n=$i(t.firestore,Hs),r=zn(t),i=nS(t.converter,e);return bp(n,[Kx(_p(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Wr.exists(!1))]).then(()=>r)}function qf(t,...e){var n,r,i;t=Bt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||DP(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(DP(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,u;if(t instanceof Hr)c=$i(t.firestore,Hs),u=Rx(t._key.path),l={next:f=>{e[s]&&e[s](XG(c,t,f))},error:e[s+1],complete:e[s+2]};else{const f=$i(t,cc);c=$i(f.firestore,Hs),u=f._query;const h=new rS(c);l={next:p=>{e[s]&&e[s](new WL(c,h,f,p))},error:e[s+1],complete:e[s+2]},UL(t._query)}return function(h,p,m,b){const x=new RL(b),_=new _L(p,x,m);return h.asyncQueue.enqueueAndForget(async()=>yL(await aE(h),_)),()=>{x.su(),h.asyncQueue.enqueueAndForget(async()=>vL(await aE(h),_))}}(jv(c),u,a,l)}function bp(t,e){return function(r,i){const o=new Va;return r.asyncQueue.enqueueAndForget(async()=>xG(await $G(r),i,o)),o.promise}(jv(t),e)}function XG(t,e,n){const r=n.docs.get(e._key),i=new rS(t);return new zL(t,i,e._key,r,new Tf(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=_p(e)}set(e,n,r){this._verifyNotCommitted();const i=tb(e,this._firestore),o=nS(i.converter,n,r),s=Kx(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Wr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=tb(e,this._firestore);let s;return s=typeof(n=Bt(n))=="string"||n instanceof yp?DL(this._dataReader,"WriteBatch.update",o._key,n,r,i):ML(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Wr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=tb(e,this._firestore);return this._mutations=this._mutations.concat(new Mv(n._key,Wr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tb(t,e){if((t=Bt(t)).firestore!==e)throw new Te(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function _y(){return new Yx("serverTimestamp")}function JG(...t){return new Xx("arrayUnion",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t){return jv(t=$i(t,Hs)),new QG(t,e=>bp(t,e))}(function(e,n=!0){(function(i){fd=i})(ll),Ga(new Vs("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Hs(new K8(r.getProvider("auth-internal")),new Q8(s,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Te(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ah(c.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),eo(VR,UR,e),eo(VR,UR,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL="firebasestorage.googleapis.com",GL="storageBucket",ZG=2*60*1e3,eq=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn extends us{constructor(e,n,r=0){super(nb(e),`Firebase Storage: ${n} (${nb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var On;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(On||(On={}));function nb(t){return"storage/"+t}function iS(){const t="An unknown error occurred, please check the error payload for server response.";return new Nn(On.UNKNOWN,t)}function tq(t){return new Nn(On.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function nq(t){return new Nn(On.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function rq(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Nn(On.UNAUTHENTICATED,t)}function iq(){return new Nn(On.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function oq(t){return new Nn(On.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function sq(){return new Nn(On.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function aq(){return new Nn(On.CANCELED,"User canceled the upload/download.")}function lq(t){return new Nn(On.INVALID_URL,"Invalid URL '"+t+"'.")}function cq(t){return new Nn(On.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function uq(){return new Nn(On.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+GL+"' property when initializing the app?")}function dq(){return new Nn(On.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function fq(){return new Nn(On.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function hq(t){return new Nn(On.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function uE(t){return new Nn(On.INVALID_ARGUMENT,t)}function qL(){return new Nn(On.APP_DELETED,"The Firebase app was deleted.")}function pq(t){return new Nn(On.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kf(t,e){return new Nn(On.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ef(t){throw new Nn(On.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ai.makeFromUrl(e,n)}catch{return new Ai(e,"")}if(r.path==="")return r;throw cq(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},b=n===HL?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",_=new RegExp(`^https?://${b}/${i}/${x}`,"i"),v=[{regex:a,indices:l,postModify:o},{regex:p,indices:m,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<v.length;S++){const k=v[S],N=k.regex.exec(e);if(N){const I=N[k.indices.bucket];let T=N[k.indices.path];T||(T=""),r=new Ai(I,T),k.postModify(r);break}}if(r==null)throw lq(e);return r}}class gq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mq(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let c=!1;function u(...x){c||(c=!0,e.apply(null,x))}function f(x){i=setTimeout(()=>{i=null,t(p,l())},x)}function h(){o&&clearTimeout(o)}function p(x,..._){if(c){h();return}if(x){h(),u.call(null,x,..._);return}if(l()||s){h(),u.call(null,x,..._);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,f(v)}let m=!1;function b(x){m||(m=!0,h(),!c&&(i!==null?(x||(a=2),clearTimeout(i),f(0)):x||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,b(!0)},n),b}function yq(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vq(t){return t!==void 0}function _q(t){return typeof t=="object"&&!Array.isArray(t)}function oS(t){return typeof t=="string"||t instanceof String}function VP(t){return sS()&&t instanceof Blob}function sS(){return typeof Blob<"u"}function UP(t,e,n,r){if(r<e)throw uE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw uE(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function KL(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Fl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Fl||(Fl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bq(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(e,n,r,i,o,s,a,l,c,u,f,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ig(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Fl.NO_ERROR,l=o.getStatus();if(!a||bq(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===Fl.ABORT;r(!1,new Ig(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Ig(c,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());vq(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=iS();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?qL():aq();s(l)}else{const l=sq();s(l)}};this.canceled_?n(!1,new Ig(!1,null,!0)):this.backoffId_=mq(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&yq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ig{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Eq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function xq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Sq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Cq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Tq(t,e,n,r,i,o,s=!0){const a=KL(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Sq(c,e),Eq(c,n),xq(c,o),Cq(c,r),new wq(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Rq(...t){const e=Iq();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(sS())return new Blob(t);throw new Nn(On.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Pq(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aq(t){if(typeof atob>"u")throw hq("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class rb{constructor(e,n){this.data=e,this.contentType=n||null}}function kq(t,e){switch(t){case Xo.RAW:return new rb(YL(e));case Xo.BASE64:case Xo.BASE64URL:return new rb(XL(t,e));case Xo.DATA_URL:return new rb(Nq(e),$q(e))}throw iS()}function YL(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Oq(t){let e;try{e=decodeURIComponent(t)}catch{throw Kf(Xo.DATA_URL,"Malformed data URL.")}return YL(e)}function XL(t,e){switch(t){case Xo.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Kf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Xo.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Kf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Aq(e)}catch(i){throw i.message.includes("polyfill")?i:Kf(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class QL{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Kf(Xo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Mq(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Nq(t){const e=new QL(t);return e.base64?XL(Xo.BASE64,e.rest):Oq(e.rest)}function $q(t){return new QL(t).contentType}function Mq(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n){let r=0,i="";VP(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(VP(this.data_)){const r=this.data_,i=Pq(r,e,n);return i===null?null:new wa(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new wa(r,!0)}}static getBlob(...e){if(sS()){const n=e.map(r=>r instanceof wa?r.data_:r);return new wa(Rq.apply(null,n))}else{const n=e.map(s=>oS(s)?kq(Xo.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new wa(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t){let e;try{e=JSON.parse(t)}catch{return null}return _q(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dq(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Lq(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function ZL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fq(t,e){return e}class Fr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Fq}}let Rg=null;function Bq(t){return!oS(t)||t.length<2?t:ZL(t)}function eF(){if(Rg)return Rg;const t=[];t.push(new Fr("bucket")),t.push(new Fr("generation")),t.push(new Fr("metageneration")),t.push(new Fr("name","fullPath",!0));function e(o,s){return Bq(s)}const n=new Fr("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Fr("size");return i.xform=r,t.push(i),t.push(new Fr("timeCreated")),t.push(new Fr("updated")),t.push(new Fr("md5Hash",null,!0)),t.push(new Fr("cacheControl",null,!0)),t.push(new Fr("contentDisposition",null,!0)),t.push(new Fr("contentEncoding",null,!0)),t.push(new Fr("contentLanguage",null,!0)),t.push(new Fr("contentType",null,!0)),t.push(new Fr("metadata","customMetadata",!0)),Rg=t,Rg}function Vq(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Ai(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function Uq(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return Vq(r,t),r}function tF(t,e,n){const r=JL(e);return r===null?null:Uq(t,r,n)}function jq(t,e,n,r){const i=JL(e);if(i===null||!oS(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const u=t.bucket,f=t.fullPath,h="/b/"+s(u)+"/o/"+s(f),p=Gv(h,n,r),m=KL({alt:"media",token:c});return p+m})[0]}function zq(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class aS{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(t){if(!t)throw iS()}function Wq(t,e){function n(r,i){const o=tF(t,i,e);return nF(o!==null),o}return n}function Hq(t,e){function n(r,i){const o=tF(t,i,e);return nF(o!==null),jq(o,i,t.host,t._protocol)}return n}function rF(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=iq():i=rq():n.getStatus()===402?i=nq(t.bucket):n.getStatus()===403?i=oq(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function iF(t){const e=rF(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=tq(t.path)),o.serverResponse=i.serverResponse,o}return n}function Gq(t,e,n){const r=e.fullServerUrl(),i=Gv(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new aS(i,o,Hq(t,n),s);return a.errorHandler=iF(e),a}function qq(t,e){const n=e.fullServerUrl(),r=Gv(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function s(l,c){}const a=new aS(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=iF(e),a}function Kq(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Yq(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Kq(null,e)),r}function Xq(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let S=0;S<2;S++)v=v+Math.random().toString().slice(2);return v}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const c=Yq(e,r,i),u=zq(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=wa.getBlob(f,r,h);if(p===null)throw dq();const m={name:c.fullPath},b=Gv(o,t.host,t._protocol),x="POST",_=t.maxUploadRetryTime,w=new aS(b,x,Wq(t,n),_);return w.urlParams=m,w.headers=s,w.body=p.uploadData(),w.errorHandler=rF(e),w}class Qq{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Fl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Fl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ef("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ef("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ef("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ef("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ef("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Jq extends Qq{initXhr(){this.xhr_.responseType="text"}}function lS(){return new Jq}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n){this._service=e,n instanceof Ai?this._location=n:this._location=Ai.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ql(e,n)}get root(){const e=new Ai(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ZL(this._location.path)}get storage(){return this._service}get parent(){const e=Dq(this._location.path);if(e===null)return null;const n=new Ai(this._location.bucket,e);return new Ql(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw pq(e)}}function Zq(t,e,n){t._throwIfRoot("uploadBytes");const r=Xq(t.storage,t._location,eF(),new wa(e,!0),n);return t.storage.makeRequestWithTokens(r,lS).then(i=>({metadata:i,ref:t}))}function eK(t){t._throwIfRoot("getDownloadURL");const e=Gq(t.storage,t._location,eF());return t.storage.makeRequestWithTokens(e,lS).then(n=>{if(n===null)throw fq();return n})}function tK(t){t._throwIfRoot("deleteObject");const e=qq(t.storage,t._location);return t.storage.makeRequestWithTokens(e,lS)}function nK(t,e){const n=Lq(t._location.path,e),r=new Ai(t._location.bucket,n);return new Ql(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rK(t){return/^[A-Za-z]+:\/\//.test(t)}function iK(t,e){return new Ql(t,e)}function oF(t,e){if(t instanceof cS){const n=t;if(n._bucket==null)throw uq();const r=new Ql(n,n._bucket);return e!=null?oF(r,e):r}else return e!==void 0?nK(t,e):t}function oK(t,e){if(e&&rK(e)){if(t instanceof cS)return iK(t,e);throw uE("To use ref(service, url), the first argument must be a Storage instance.")}else return oF(t,e)}function jP(t,e){const n=e==null?void 0:e[GL];return n==null?null:Ai.makeFromBucketSpec(n,t)}function sK(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:ax(i,t.app.options.projectId))}class cS{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=HL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ZG,this._maxUploadRetryTime=eq,this._requests=new Set,i!=null?this._bucket=Ai.makeFromBucketSpec(i,this._host):this._bucket=jP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ai.makeFromBucketSpec(this._url,e):this._bucket=jP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){UP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){UP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(jr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ql(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new gq(qL());{const s=Tq(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const zP="@firebase/storage",WP="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF="storage";function HP(t,e,n){return t=Bt(t),Zq(t,e,n)}function GP(t){return t=Bt(t),eK(t)}function aK(t){return t=Bt(t),tK(t)}function ib(t,e){return t=Bt(t),oK(t,e)}function lK(t=Sv(),e){t=Bt(t);const r=ap(t,sF).getImmediate({identifier:e}),i=sx("storage");return i&&cK(r,...i),r}function cK(t,e,n,r={}){sK(t,e,n,r)}function uK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new cS(n,r,i,e,ll)}function dK(){Ga(new Vs(sF,uK,"PUBLIC").setMultipleInstances(!0)),eo(zP,WP,""),eo(zP,WP,"esm2017")}dK();const fK={apiKey:"AIzaSyBwhJVoZ2nKnGrl9VJ7D6GXpcUha2IRN08",authDomain:"notetaker-f71ae.firebaseapp.com",databaseURL:"https://notetaker-f71ae-default-rtdb.firebaseio.com",projectId:"notetaker-f71ae",storageBucket:"notetaker-f71ae.firebasestorage.app",messagingSenderId:"466022334149",appId:"1:466022334149:web:bb9e6830f35a4b94b73aac",measurementId:"G-ZH0WYZKWKN"},uS=IM(fK),Bl=W8(uS),$e=FG(uS),ob=lK(uS),hK={black:"#000",white:"#fff"},$h=hK,pK={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},xc=pK,gK={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Sc=gK,mK={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Cc=mK,yK={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Tc=yK,vK={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ic=vK,_K={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},tf=_K,bK={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},wK=bK;function Gs(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const qv="$$material";function by(){return by=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},by.apply(null,arguments)}var EK=!1;function xK(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function SK(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var CK=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!EK:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(SK(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=xK(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Rr="-ms-",wy="-moz-",Mt="-webkit-",aF="comm",dS="rule",fS="decl",TK="@import",lF="@keyframes",IK="@layer",RK=Math.abs,Kv=String.fromCharCode,PK=Object.assign;function AK(t,e){return pr(t,0)^45?(((e<<2^pr(t,0))<<2^pr(t,1))<<2^pr(t,2))<<2^pr(t,3):0}function cF(t){return t.trim()}function kK(t,e){return(t=e.exec(t))?t[0]:t}function Dt(t,e,n){return t.replace(e,n)}function dE(t,e){return t.indexOf(e)}function pr(t,e){return t.charCodeAt(e)|0}function Mh(t,e,n){return t.slice(e,n)}function Go(t){return t.length}function hS(t){return t.length}function Pg(t,e){return e.push(t),t}function OK(t,e){return t.map(e).join("")}var Yv=1,qu=1,uF=0,pi=0,Wn=0,yd="";function Xv(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Yv,column:qu,length:s,return:""}}function nf(t,e){return PK(Xv("",null,null,"",null,null,0),t,{length:-t.length},e)}function NK(){return Wn}function $K(){return Wn=pi>0?pr(yd,--pi):0,qu--,Wn===10&&(qu=1,Yv--),Wn}function Mi(){return Wn=pi<uF?pr(yd,pi++):0,qu++,Wn===10&&(qu=1,Yv++),Wn}function ns(){return pr(yd,pi)}function bm(){return pi}function wp(t,e){return Mh(yd,t,e)}function Dh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dF(t){return Yv=qu=1,uF=Go(yd=t),pi=0,[]}function fF(t){return yd="",t}function wm(t){return cF(wp(pi-1,fE(t===91?t+2:t===40?t+1:t)))}function MK(t){for(;(Wn=ns())&&Wn<33;)Mi();return Dh(t)>2||Dh(Wn)>3?"":" "}function DK(t,e){for(;--e&&Mi()&&!(Wn<48||Wn>102||Wn>57&&Wn<65||Wn>70&&Wn<97););return wp(t,bm()+(e<6&&ns()==32&&Mi()==32))}function fE(t){for(;Mi();)switch(Wn){case t:return pi;case 34:case 39:t!==34&&t!==39&&fE(Wn);break;case 40:t===41&&fE(t);break;case 92:Mi();break}return pi}function LK(t,e){for(;Mi()&&t+Wn!==47+10;)if(t+Wn===42+42&&ns()===47)break;return"/*"+wp(e,pi-1)+"*"+Kv(t===47?t:Mi())}function FK(t){for(;!Dh(ns());)Mi();return wp(t,pi)}function BK(t){return fF(Em("",null,null,null,[""],t=dF(t),0,[0],t))}function Em(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,f=s,h=0,p=0,m=0,b=1,x=1,_=1,w=0,v="",S=i,k=o,N=r,I=v;x;)switch(m=w,w=Mi()){case 40:if(m!=108&&pr(I,f-1)==58){dE(I+=Dt(wm(w),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:I+=wm(w);break;case 9:case 10:case 13:case 32:I+=MK(m);break;case 92:I+=DK(bm()-1,7);continue;case 47:switch(ns()){case 42:case 47:Pg(VK(LK(Mi(),bm()),e,n),l);break;default:I+="/"}break;case 123*b:a[c++]=Go(I)*_;case 125*b:case 59:case 0:switch(w){case 0:case 125:x=0;case 59+u:_==-1&&(I=Dt(I,/\f/g,"")),p>0&&Go(I)-f&&Pg(p>32?KP(I+";",r,n,f-1):KP(Dt(I," ","")+";",r,n,f-2),l);break;case 59:I+=";";default:if(Pg(N=qP(I,e,n,c,u,i,a,v,S=[],k=[],f),o),w===123)if(u===0)Em(I,e,N,N,S,o,f,a,k);else switch(h===99&&pr(I,3)===110?100:h){case 100:case 108:case 109:case 115:Em(t,N,N,r&&Pg(qP(t,N,N,0,0,i,a,v,i,S=[],f),k),i,k,f,a,r?S:k);break;default:Em(I,N,N,N,[""],k,0,a,k)}}c=u=p=0,b=_=1,v=I="",f=s;break;case 58:f=1+Go(I),p=m;default:if(b<1){if(w==123)--b;else if(w==125&&b++==0&&$K()==125)continue}switch(I+=Kv(w),w*b){case 38:_=u>0?1:(I+="\f",-1);break;case 44:a[c++]=(Go(I)-1)*_,_=1;break;case 64:ns()===45&&(I+=wm(Mi())),h=ns(),u=f=Go(v=I+=FK(bm())),w++;break;case 45:m===45&&Go(I)==2&&(b=0)}}return o}function qP(t,e,n,r,i,o,s,a,l,c,u){for(var f=i-1,h=i===0?o:[""],p=hS(h),m=0,b=0,x=0;m<r;++m)for(var _=0,w=Mh(t,f+1,f=RK(b=s[m])),v=t;_<p;++_)(v=cF(b>0?h[_]+" "+w:Dt(w,/&\f/g,h[_])))&&(l[x++]=v);return Xv(t,e,n,i===0?dS:a,l,c,u)}function VK(t,e,n){return Xv(t,e,n,aF,Kv(NK()),Mh(t,2,-2),0)}function KP(t,e,n,r){return Xv(t,e,n,fS,Mh(t,0,r),Mh(t,r+1,-1),r)}function Su(t,e){for(var n="",r=hS(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function UK(t,e,n,r){switch(t.type){case IK:if(t.children.length)break;case TK:case fS:return t.return=t.return||t.value;case aF:return"";case lF:return t.return=t.value+"{"+Su(t.children,r)+"}";case dS:t.value=t.props.join(",")}return Go(n=Su(t.children,r))?t.return=t.value+"{"+n+"}":""}function jK(t){var e=hS(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function zK(t){return function(e){e.root||(e=e.return)&&t(e)}}function hF(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var WK=function(e,n,r){for(var i=0,o=0;i=o,o=ns(),i===38&&o===12&&(n[r]=1),!Dh(o);)Mi();return wp(e,pi)},HK=function(e,n){var r=-1,i=44;do switch(Dh(i)){case 0:i===38&&ns()===12&&(n[r]=1),e[r]+=WK(pi-1,n,r);break;case 2:e[r]+=wm(i);break;case 4:if(i===44){e[++r]=ns()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Kv(i)}while(i=Mi());return e},GK=function(e,n){return fF(HK(dF(e),n))},YP=new WeakMap,qK=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!YP.get(r))&&!i){YP.set(e,!0);for(var o=[],s=GK(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},KK=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function pF(t,e){switch(AK(t,e)){case 5103:return Mt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Mt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Mt+t+wy+t+Rr+t+t;case 6828:case 4268:return Mt+t+Rr+t+t;case 6165:return Mt+t+Rr+"flex-"+t+t;case 5187:return Mt+t+Dt(t,/(\w+).+(:[^]+)/,Mt+"box-$1$2"+Rr+"flex-$1$2")+t;case 5443:return Mt+t+Rr+"flex-item-"+Dt(t,/flex-|-self/,"")+t;case 4675:return Mt+t+Rr+"flex-line-pack"+Dt(t,/align-content|flex-|-self/,"")+t;case 5548:return Mt+t+Rr+Dt(t,"shrink","negative")+t;case 5292:return Mt+t+Rr+Dt(t,"basis","preferred-size")+t;case 6060:return Mt+"box-"+Dt(t,"-grow","")+Mt+t+Rr+Dt(t,"grow","positive")+t;case 4554:return Mt+Dt(t,/([^-])(transform)/g,"$1"+Mt+"$2")+t;case 6187:return Dt(Dt(Dt(t,/(zoom-|grab)/,Mt+"$1"),/(image-set)/,Mt+"$1"),t,"")+t;case 5495:case 3959:return Dt(t,/(image-set\([^]*)/,Mt+"$1$`$1");case 4968:return Dt(Dt(t,/(.+:)(flex-)?(.*)/,Mt+"box-pack:$3"+Rr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Mt+t+t;case 4095:case 3583:case 4068:case 2532:return Dt(t,/(.+)-inline(.+)/,Mt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Go(t)-1-e>6)switch(pr(t,e+1)){case 109:if(pr(t,e+4)!==45)break;case 102:return Dt(t,/(.+:)(.+)-([^]+)/,"$1"+Mt+"$2-$3$1"+wy+(pr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~dE(t,"stretch")?pF(Dt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(pr(t,e+1)!==115)break;case 6444:switch(pr(t,Go(t)-3-(~dE(t,"!important")&&10))){case 107:return Dt(t,":",":"+Mt)+t;case 101:return Dt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Mt+(pr(t,14)===45?"inline-":"")+"box$3$1"+Mt+"$2$3$1"+Rr+"$2box$3")+t}break;case 5936:switch(pr(t,e+11)){case 114:return Mt+t+Rr+Dt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Mt+t+Rr+Dt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Mt+t+Rr+Dt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Mt+t+Rr+t+t}return t}var YK=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case fS:e.return=pF(e.value,e.length);break;case lF:return Su([nf(e,{value:Dt(e.value,"@","@"+Mt)})],i);case dS:if(e.length)return OK(e.props,function(o){switch(kK(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Su([nf(e,{props:[Dt(o,/:(read-\w+)/,":"+wy+"$1")]})],i);case"::placeholder":return Su([nf(e,{props:[Dt(o,/:(plac\w+)/,":"+Mt+"input-$1")]}),nf(e,{props:[Dt(o,/:(plac\w+)/,":"+wy+"$1")]}),nf(e,{props:[Dt(o,/:(plac\w+)/,Rr+"input-$1")]})],i)}return""})}},XK=[YK],QK=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var x=b.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var i=e.stylisPlugins||XK,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var x=b.getAttribute("data-emotion").split(" "),_=1;_<x.length;_++)o[x[_]]=!0;a.push(b)});var l,c=[qK,KK];{var u,f=[UK,zK(function(b){u.insert(b)})],h=jK(c.concat(i,f)),p=function(x){return Su(BK(x),h)};l=function(x,_,w,v){u=w,p(x?x+"{"+_.styles+"}":_.styles),v&&(m.inserted[_.name]=!0)}}var m={key:n,sheet:new CK({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return m.sheet.hydrate(a),m},gF={exports:{}},zt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ar=typeof Symbol=="function"&&Symbol.for,pS=ar?Symbol.for("react.element"):60103,gS=ar?Symbol.for("react.portal"):60106,Qv=ar?Symbol.for("react.fragment"):60107,Jv=ar?Symbol.for("react.strict_mode"):60108,Zv=ar?Symbol.for("react.profiler"):60114,e0=ar?Symbol.for("react.provider"):60109,t0=ar?Symbol.for("react.context"):60110,mS=ar?Symbol.for("react.async_mode"):60111,n0=ar?Symbol.for("react.concurrent_mode"):60111,r0=ar?Symbol.for("react.forward_ref"):60112,i0=ar?Symbol.for("react.suspense"):60113,JK=ar?Symbol.for("react.suspense_list"):60120,o0=ar?Symbol.for("react.memo"):60115,s0=ar?Symbol.for("react.lazy"):60116,ZK=ar?Symbol.for("react.block"):60121,eY=ar?Symbol.for("react.fundamental"):60117,tY=ar?Symbol.for("react.responder"):60118,nY=ar?Symbol.for("react.scope"):60119;function ji(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case pS:switch(t=t.type,t){case mS:case n0:case Qv:case Zv:case Jv:case i0:return t;default:switch(t=t&&t.$$typeof,t){case t0:case r0:case s0:case o0:case e0:return t;default:return e}}case gS:return e}}}function mF(t){return ji(t)===n0}zt.AsyncMode=mS;zt.ConcurrentMode=n0;zt.ContextConsumer=t0;zt.ContextProvider=e0;zt.Element=pS;zt.ForwardRef=r0;zt.Fragment=Qv;zt.Lazy=s0;zt.Memo=o0;zt.Portal=gS;zt.Profiler=Zv;zt.StrictMode=Jv;zt.Suspense=i0;zt.isAsyncMode=function(t){return mF(t)||ji(t)===mS};zt.isConcurrentMode=mF;zt.isContextConsumer=function(t){return ji(t)===t0};zt.isContextProvider=function(t){return ji(t)===e0};zt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===pS};zt.isForwardRef=function(t){return ji(t)===r0};zt.isFragment=function(t){return ji(t)===Qv};zt.isLazy=function(t){return ji(t)===s0};zt.isMemo=function(t){return ji(t)===o0};zt.isPortal=function(t){return ji(t)===gS};zt.isProfiler=function(t){return ji(t)===Zv};zt.isStrictMode=function(t){return ji(t)===Jv};zt.isSuspense=function(t){return ji(t)===i0};zt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Qv||t===n0||t===Zv||t===Jv||t===i0||t===JK||typeof t=="object"&&t!==null&&(t.$$typeof===s0||t.$$typeof===o0||t.$$typeof===e0||t.$$typeof===t0||t.$$typeof===r0||t.$$typeof===eY||t.$$typeof===tY||t.$$typeof===nY||t.$$typeof===ZK)};zt.typeOf=ji;gF.exports=zt;var rY=gF.exports,yF=rY,iY={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},oY={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},vF={};vF[yF.ForwardRef]=iY;vF[yF.Memo]=oY;var sY=!0;function _F(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var yS=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||sY===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},vS=function(e,n,r){yS(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function aY(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var lY={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},cY=!1,uY=/[A-Z]|^ms/g,dY=/_EMO_([^_]+?)_([^]*?)_EMO_/g,bF=function(e){return e.charCodeAt(1)===45},XP=function(e){return e!=null&&typeof e!="boolean"},sb=hF(function(t){return bF(t)?t:t.replace(uY,"-$&").toLowerCase()}),QP=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(dY,function(r,i,o){return qo={name:i,styles:o,next:qo},i})}return lY[e]!==1&&!bF(e)&&typeof n=="number"&&n!==0?n+"px":n},fY="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Lh(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return qo={name:i.name,styles:i.styles,next:qo},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)qo={name:s.name,styles:s.styles,next:qo},s=s.next;var a=o.styles+";";return a}return hY(t,e,n)}case"function":{if(t!==void 0){var l=qo,c=n(t);return qo=l,Lh(t,e,c)}break}}var u=n;if(e==null)return u;var f=e[u];return f!==void 0?f:u}function hY(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Lh(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":XP(a)&&(r+=sb(o)+":"+QP(o,a)+";")}else{if(o==="NO_COMPONENT_SELECTOR"&&cY)throw new Error(fY);if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)XP(s[l])&&(r+=sb(o)+":"+QP(o,s[l])+";");else{var c=Lh(t,e,s);switch(o){case"animation":case"animationName":{r+=sb(o)+":"+c+";";break}default:r+=o+"{"+c+"}"}}}}return r}var JP=/label:\s*([^\s;{]+)\s*(;|$)/g,qo;function Ep(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";qo=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=Lh(n,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=Lh(n,e,t[a]),r){var l=o;i+=l[a]}JP.lastIndex=0;for(var c="",u;(u=JP.exec(i))!==null;)c+="-"+u[1];var f=aY(i)+c;return{name:f,styles:i,next:qo}}var pY=function(e){return e()},wF=Lb["useInsertionEffect"]?Lb["useInsertionEffect"]:!1,EF=wF||pY,ZP=wF||E.useLayoutEffect,gY=!1,xF=E.createContext(typeof HTMLElement<"u"?QK({key:"css"}):null);xF.Provider;var _S=function(e){return E.forwardRef(function(n,r){var i=E.useContext(xF);return e(n,i,r)})},a0=E.createContext({}),bS={}.hasOwnProperty,hE="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",mY=function(e,n){var r={};for(var i in n)bS.call(n,i)&&(r[i]=n[i]);return r[hE]=e,r},yY=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return yS(n,r,i),EF(function(){return vS(n,r,i)}),null},vY=_S(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[hE],o=[r],s="";typeof t.className=="string"?s=_F(e.registered,o,t.className):t.className!=null&&(s=t.className+" ");var a=Ep(o,void 0,E.useContext(a0));s+=e.key+"-"+a.name;var l={};for(var c in t)bS.call(t,c)&&c!=="css"&&c!==hE&&!gY&&(l[c]=t[c]);return l.className=s,n&&(l.ref=n),E.createElement(E.Fragment,null,E.createElement(yY,{cache:e,serialized:a,isStringTag:typeof i=="string"}),E.createElement(i,l))}),_Y=vY,eA=function(e,n){var r=arguments;if(n==null||!bS.call(n,"css"))return E.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=_Y,o[1]=mY(e,n);for(var s=2;s<i;s++)o[s]=r[s];return E.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(eA||(eA={}));var bY=_S(function(t,e){var n=t.styles,r=Ep([n],void 0,E.useContext(a0)),i=E.useRef();return ZP(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),ZP(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&vS(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function wS(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ep(e)}function xp(){var t=wS.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var wY=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,EY=hF(function(t){return wY.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),xY=!1,SY=EY,CY=function(e){return e!=="theme"},tA=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?SY:CY},nA=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},TY=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return yS(n,r,i),EF(function(){return vS(n,r,i)}),null},IY=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=nA(e,n,r),l=a||tA(i),c=!l("as");return function(){var u=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)f.push.apply(f,u);else{var h=u[0];f.push(h[0]);for(var p=u.length,m=1;m<p;m++)f.push(u[m],h[m])}var b=_S(function(x,_,w){var v=c&&x.as||i,S="",k=[],N=x;if(x.theme==null){N={};for(var I in x)N[I]=x[I];N.theme=E.useContext(a0)}typeof x.className=="string"?S=_F(_.registered,k,x.className):x.className!=null&&(S=x.className+" ");var T=Ep(f.concat(k),_.registered,N);S+=_.key+"-"+T.name,s!==void 0&&(S+=" "+s);var R=c&&a===void 0?tA(v):l,y={};for(var P in x)c&&P==="as"||R(P)&&(y[P]=x[P]);return y.className=S,w&&(y.ref=w),E.createElement(E.Fragment,null,E.createElement(TY,{cache:_,serialized:T,isStringTag:typeof v=="string"}),E.createElement(v,y))});return b.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",b.defaultProps=e.defaultProps,b.__emotion_real=b,b.__emotion_base=i,b.__emotion_styles=f,b.__emotion_forwardProp=a,Object.defineProperty(b,"toString",{value:function(){return s===void 0&&xY?"NO_COMPONENT_SELECTOR":"."+s}}),b.withComponent=function(x,_){var w=t(x,by({},n,_,{shouldForwardProp:nA(b,_,!0)}));return w.apply(void 0,f)},b}},RY=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],pE=IY.bind(null);RY.forEach(function(t){pE[t]=pE(t)});var SF={exports:{}},PY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",AY=PY,kY=AY;function CF(){}function TF(){}TF.resetWarningCache=CF;var OY=function(){function t(r,i,o,s,a,l){if(l!==kY){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:TF,resetWarningCache:CF};return n.PropTypes=n,n};SF.exports=OY();var ES=SF.exports;const de=Xh(ES);function NY(t){return t==null||Object.keys(t).length===0}function $Y(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(NY(i)?n:i):e;return M.jsx(bY,{styles:r})}function IF(t,e){return pE(t,e)}function MY(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const rA=[];function iA(t){return rA[0]=t,Ep(rA)}var RF={exports:{}},Xt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xS=Symbol.for("react.transitional.element"),SS=Symbol.for("react.portal"),l0=Symbol.for("react.fragment"),c0=Symbol.for("react.strict_mode"),u0=Symbol.for("react.profiler"),d0=Symbol.for("react.consumer"),f0=Symbol.for("react.context"),h0=Symbol.for("react.forward_ref"),p0=Symbol.for("react.suspense"),g0=Symbol.for("react.suspense_list"),m0=Symbol.for("react.memo"),y0=Symbol.for("react.lazy"),DY=Symbol.for("react.view_transition"),LY=Symbol.for("react.client.reference");function lo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case xS:switch(t=t.type,t){case l0:case u0:case c0:case p0:case g0:case DY:return t;default:switch(t=t&&t.$$typeof,t){case f0:case h0:case y0:case m0:return t;case d0:return t;default:return e}}case SS:return e}}}Xt.ContextConsumer=d0;Xt.ContextProvider=f0;Xt.Element=xS;Xt.ForwardRef=h0;Xt.Fragment=l0;Xt.Lazy=y0;Xt.Memo=m0;Xt.Portal=SS;Xt.Profiler=u0;Xt.StrictMode=c0;Xt.Suspense=p0;Xt.SuspenseList=g0;Xt.isContextConsumer=function(t){return lo(t)===d0};Xt.isContextProvider=function(t){return lo(t)===f0};Xt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===xS};Xt.isForwardRef=function(t){return lo(t)===h0};Xt.isFragment=function(t){return lo(t)===l0};Xt.isLazy=function(t){return lo(t)===y0};Xt.isMemo=function(t){return lo(t)===m0};Xt.isPortal=function(t){return lo(t)===SS};Xt.isProfiler=function(t){return lo(t)===u0};Xt.isStrictMode=function(t){return lo(t)===c0};Xt.isSuspense=function(t){return lo(t)===p0};Xt.isSuspenseList=function(t){return lo(t)===g0};Xt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===l0||t===u0||t===c0||t===p0||t===g0||typeof t=="object"&&t!==null&&(t.$$typeof===y0||t.$$typeof===m0||t.$$typeof===f0||t.$$typeof===d0||t.$$typeof===h0||t.$$typeof===LY||t.getModuleId!==void 0)};Xt.typeOf=lo;RF.exports=Xt;var PF=RF.exports;function Yo(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function AF(t){if(E.isValidElement(t)||PF.isValidElementType(t)||!Yo(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=AF(t[n])}),e}function $r(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Yo(t)&&Yo(e)&&Object.keys(e).forEach(i=>{E.isValidElement(e[i])||PF.isValidElementType(e[i])?r[i]=e[i]:Yo(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Yo(t[i])?r[i]=$r(t[i],e[i],n):n.clone?r[i]=Yo(e[i])?AF(e[i]):e[i]:r[i]=e[i]}),r}const FY=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function BY(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,o=FY(e),s=Object.keys(o);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function c(h,p){const m=s.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(m!==-1&&typeof e[s[m]]=="number"?e[s[m]]:p)-r/100}${n})`}function u(h){return s.indexOf(h)+1<s.length?c(h,s[s.indexOf(h)+1]):a(h)}function f(h){const p=s.indexOf(h);return p===0?a(s[1]):p===s.length-1?l(s[p]):c(h,s[s.indexOf(h)+1]).replace("@media","@media not all and")}return{keys:s,values:o,up:a,down:l,between:c,only:u,not:f,unit:n,...i}}function VY(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var s,a;const o=/min-width:\s*([0-9.]+)/;return+(((s=r.match(o))==null?void 0:s[1])||0)-+(((a=i.match(o))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function UY(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function jY(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(o)}function zY(t){const e=(o,s)=>o.replace("@media",s?`@container ${s}`:"@container");function n(o,s){o.up=(...a)=>e(t.breakpoints.up(...a),s),o.down=(...a)=>e(t.breakpoints.down(...a),s),o.between=(...a)=>e(t.breakpoints.between(...a),s),o.only=(...a)=>e(t.breakpoints.only(...a),s),o.not=(...a)=>{const l=e(t.breakpoints.not(...a),s);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=o=>(n(r,o),r);return n(i),{...t,containerQueries:i}}const WY={borderRadius:4},HY=WY;function Yf(t,e){return e?$r(t,e,{clone:!1}):t}const v0={xs:0,sm:600,md:900,lg:1200,xl:1536},oA={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${v0[t]}px)`},GY={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:v0[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function qs(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||oA;return e.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(e[l]),s),{})}if(typeof e=="object"){const o=r.breakpoints||oA;return Object.keys(e).reduce((s,a)=>{if(UY(o.keys,a)){const l=jY(r.containerQueries?r:GY,a);l&&(s[l]=n(e[a],a))}else if(Object.keys(o.values||v0).includes(a)){const l=o.up(a);s[l]=n(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return n(e)}function qY(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function KY(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function ie(t){if(typeof t!="string")throw new Error(Gs(7));return t.charAt(0).toUpperCase()+t.slice(1)}function _0(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Ey(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=_0(t,n)||r,e&&(i=e(i,r,t)),i}function Bn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,c=_0(l,r)||{};return qs(s,a,f=>{let h=Ey(c,i,f);return f===h&&typeof f=="string"&&(h=Ey(c,i,`${e}${f==="default"?"":ie(f)}`,f)),n===!1?h:{[n]:h}})};return o.propTypes={},o.filterProps=[e],o}function YY(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const XY={m:"margin",p:"padding"},QY={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},sA={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},JY=YY(t=>{if(t.length>2)if(sA[t])t=sA[t];else return[t];const[e,n]=t.split(""),r=XY[e],i=QY[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),CS=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],TS=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...CS,...TS];function Sp(t,e,n,r){const i=_0(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const s=Math.abs(o),a=i[s];return o>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof i=="function"?i:()=>{}}function IS(t){return Sp(t,"spacing",8)}function Cp(t,e){return typeof e=="string"||e==null?e:t(e)}function ZY(t,e){return n=>t.reduce((r,i)=>(r[i]=Cp(e,n),r),{})}function eX(t,e,n,r){if(!e.includes(n))return null;const i=JY(n),o=ZY(i,r),s=t[n];return qs(t,s,o)}function kF(t,e){const n=IS(t.theme);return Object.keys(t).map(r=>eX(t,e,r,n)).reduce(Yf,{})}function Rn(t){return kF(t,CS)}Rn.propTypes={};Rn.filterProps=CS;function Pn(t){return kF(t,TS)}Pn.propTypes={};Pn.filterProps=TS;function OF(t=8,e=IS({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function b0(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?Yf(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Yi(t){return typeof t!="number"?t:`${t}px solid`}function co(t,e){return Bn({prop:t,themeKey:"borders",transform:e})}const tX=co("border",Yi),nX=co("borderTop",Yi),rX=co("borderRight",Yi),iX=co("borderBottom",Yi),oX=co("borderLeft",Yi),sX=co("borderColor"),aX=co("borderTopColor"),lX=co("borderRightColor"),cX=co("borderBottomColor"),uX=co("borderLeftColor"),dX=co("outline",Yi),fX=co("outlineColor"),w0=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Sp(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Cp(e,r)});return qs(t,t.borderRadius,n)}return null};w0.propTypes={};w0.filterProps=["borderRadius"];b0(tX,nX,rX,iX,oX,sX,aX,lX,cX,uX,w0,dX,fX);const E0=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Sp(t.theme,"spacing",8),n=r=>({gap:Cp(e,r)});return qs(t,t.gap,n)}return null};E0.propTypes={};E0.filterProps=["gap"];const x0=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Sp(t.theme,"spacing",8),n=r=>({columnGap:Cp(e,r)});return qs(t,t.columnGap,n)}return null};x0.propTypes={};x0.filterProps=["columnGap"];const S0=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Sp(t.theme,"spacing",8),n=r=>({rowGap:Cp(e,r)});return qs(t,t.rowGap,n)}return null};S0.propTypes={};S0.filterProps=["rowGap"];const hX=Bn({prop:"gridColumn"}),pX=Bn({prop:"gridRow"}),gX=Bn({prop:"gridAutoFlow"}),mX=Bn({prop:"gridAutoColumns"}),yX=Bn({prop:"gridAutoRows"}),vX=Bn({prop:"gridTemplateColumns"}),_X=Bn({prop:"gridTemplateRows"}),bX=Bn({prop:"gridTemplateAreas"}),wX=Bn({prop:"gridArea"});b0(E0,x0,S0,hX,pX,gX,mX,yX,vX,_X,bX,wX);function Cu(t,e){return e==="grey"?e:t}const EX=Bn({prop:"color",themeKey:"palette",transform:Cu}),xX=Bn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Cu}),SX=Bn({prop:"backgroundColor",themeKey:"palette",transform:Cu});b0(EX,xX,SX);function Ii(t){return t<=1&&t!==0?`${t*100}%`:t}const CX=Bn({prop:"width",transform:Ii}),RS=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,o,s,a,l;const r=((s=(o=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:s[n])||v0[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ii(n)}};return qs(t,t.maxWidth,e)}return null};RS.filterProps=["maxWidth"];const TX=Bn({prop:"minWidth",transform:Ii}),IX=Bn({prop:"height",transform:Ii}),RX=Bn({prop:"maxHeight",transform:Ii}),PX=Bn({prop:"minHeight",transform:Ii});Bn({prop:"size",cssProperty:"width",transform:Ii});Bn({prop:"size",cssProperty:"height",transform:Ii});const AX=Bn({prop:"boxSizing"});b0(CX,RS,TX,IX,RX,PX,AX);const kX={border:{themeKey:"borders",transform:Yi},borderTop:{themeKey:"borders",transform:Yi},borderRight:{themeKey:"borders",transform:Yi},borderBottom:{themeKey:"borders",transform:Yi},borderLeft:{themeKey:"borders",transform:Yi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Yi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:w0},color:{themeKey:"palette",transform:Cu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Cu},backgroundColor:{themeKey:"palette",transform:Cu},p:{style:Pn},pt:{style:Pn},pr:{style:Pn},pb:{style:Pn},pl:{style:Pn},px:{style:Pn},py:{style:Pn},padding:{style:Pn},paddingTop:{style:Pn},paddingRight:{style:Pn},paddingBottom:{style:Pn},paddingLeft:{style:Pn},paddingX:{style:Pn},paddingY:{style:Pn},paddingInline:{style:Pn},paddingInlineStart:{style:Pn},paddingInlineEnd:{style:Pn},paddingBlock:{style:Pn},paddingBlockStart:{style:Pn},paddingBlockEnd:{style:Pn},m:{style:Rn},mt:{style:Rn},mr:{style:Rn},mb:{style:Rn},ml:{style:Rn},mx:{style:Rn},my:{style:Rn},margin:{style:Rn},marginTop:{style:Rn},marginRight:{style:Rn},marginBottom:{style:Rn},marginLeft:{style:Rn},marginX:{style:Rn},marginY:{style:Rn},marginInline:{style:Rn},marginInlineStart:{style:Rn},marginInlineEnd:{style:Rn},marginBlock:{style:Rn},marginBlockStart:{style:Rn},marginBlockEnd:{style:Rn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:E0},rowGap:{style:S0},columnGap:{style:x0},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ii},maxWidth:{style:RS},minWidth:{transform:Ii},height:{transform:Ii},maxHeight:{transform:Ii},minHeight:{transform:Ii},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Tp=kX;function OX(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function NX(t,e){return typeof t=="function"?t(e):t}function $X(){function t(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:f}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=_0(i,c)||{};return f?f(s):qs(s,r,m=>{let b=Ey(h,u,m);return m===b&&typeof m=="string"&&(b=Ey(h,u,`${n}${m==="default"?"":ie(m)}`,m)),l===!1?b:{[l]:b}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const o=i.unstable_sxConfig??Tp;function s(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const c=qY(i.breakpoints),u=Object.keys(c);let f=c;return Object.keys(l).forEach(h=>{const p=NX(l[h],i);if(p!=null)if(typeof p=="object")if(o[h])f=Yf(f,t(h,p,i,o));else{const m=qs({theme:i},p,b=>({[h]:b}));OX(m,p)?f[h]=e({sx:p,theme:i}):f=Yf(f,m)}else f=Yf(f,t(h,p,i,o))}),VY(i,KY(u,f))}return Array.isArray(r)?r.map(s):s(r)}return e}const NF=$X();NF.filterProps=["sx"];const Ku=NF;function MX(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function Ip(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={},...s}=t,a=BY(n),l=OF(i);let c=$r({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...HY,...o}},s);return c=zY(c),c.applyStyles=MX,c=e.reduce((u,f)=>$r(u,f),c),c.unstable_sxConfig={...Tp,...s==null?void 0:s.unstable_sxConfig},c.unstable_sx=function(f){return Ku({sx:f,theme:this})},c}function DX(t){return Object.keys(t).length===0}function LX(t=null){const e=E.useContext(a0);return!e||DX(e)?t:e}const FX=Ip();function Rp(t=FX){return LX(t)}function BX({styles:t,themeId:e,defaultTheme:n={}}){const r=Rp(n),i=typeof t=="function"?t(e&&r[e]||r):t;return M.jsx($Y,{styles:i})}const VX=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??Tp;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function PS(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=VX(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return Yo(a)?{...r,...a}:r}:o={...r,...e},{...i,sx:o}}const aA=t=>t,UX=()=>{let t=aA;return{configure(e){t=e},generate(e){return t(e)},reset(){t=aA}}},jX=UX(),$F=jX;function MF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=MF(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ve(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=MF(t))&&(r&&(r+=" "),r+=e);return r}function zX(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=IF("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Ku);return E.forwardRef(function(l,c){const u=Rp(n),{className:f,component:h="div",...p}=PS(l);return M.jsx(o,{as:h,ref:c,className:ve(f,i?i(r):r),theme:e&&u[e]||u,...p})})}const WX={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function it(t,e,n="Mui"){const r=WX[e];return r?`${n}-${r}`:`${$F.generate(t)}-${e}`}function Ze(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=it(t,i,n)}),r}function DF(t){const{variants:e,...n}=t,r={variants:e,style:iA(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=iA(i.style))}),r}const HX=Ip();function ab(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function GX(t){return t?(e,n)=>n[t]:null}function qX(t,e,n){t.theme=YX(t.theme)?n:t.theme[e]||t.theme}function xm(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>xm(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...o}=n;r=o}return LF(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function LF(t,e,n=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const s=e[o];if(typeof s.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!s.props(r))continue}else for(const a in s.props)if(t[a]!==s.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==s.props[a])continue e;typeof s.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(s.style(r))):n.push(s.style)}return n}function FF(t={}){const{themeId:e,defaultTheme:n=HX,rootShouldForwardProp:r=ab,slotShouldForwardProp:i=ab}=t;function o(a){qX(a,e,n)}return(a,l={})=>{MY(a,k=>k.filter(N=>N!==Ku));const{name:c,slot:u,skipVariantsResolver:f,skipSx:h,overridesResolver:p=GX(QX(u)),...m}=l,b=f!==void 0?f:u&&u!=="Root"&&u!=="root"||!1,x=h||!1;let _=ab;u==="Root"||u==="root"?_=r:u?_=i:XX(a)&&(_=void 0);const w=IF(a,{shouldForwardProp:_,label:KX(),...m}),v=k=>{if(typeof k=="function"&&k.__emotion_real!==k)return function(I){return xm(I,k)};if(Yo(k)){const N=DF(k);return N.variants?function(T){return xm(T,N)}:N.style}return k},S=(...k)=>{const N=[],I=k.map(v),T=[];if(N.push(o),c&&p&&T.push(function($){var j,Y;const W=(Y=(j=$.theme.components)==null?void 0:j[c])==null?void 0:Y.styleOverrides;if(!W)return null;const q={};for(const U in W)q[U]=xm($,W[U]);return p($,q)}),c&&!b&&T.push(function($){var q,j;const A=$.theme,W=(j=(q=A==null?void 0:A.components)==null?void 0:q[c])==null?void 0:j.variants;return W?LF($,W):null}),x||T.push(Ku),Array.isArray(I[0])){const P=I.shift(),$=new Array(N.length).fill(""),A=new Array(T.length).fill("");let W;W=[...$,...P,...A],W.raw=[...$,...P.raw,...A],N.unshift(W)}const R=[...N,...I,...T],y=w(...R);return a.muiName&&(y.muiName=a.muiName),y};return w.withConfig&&(S.withConfig=w.withConfig),S}}function KX(t,e){let n;return n}function YX(t){for(const e in t)return!1;return!0}function XX(t){return typeof t=="string"&&t.charCodeAt(0)>96}function QX(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const JX=FF(),BF=JX;function Yu(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const o=t[i],s=e[i];if(!s)n[i]=o||{};else if(!o)n[i]=s;else{n[i]={...s};for(const a in o)if(Object.prototype.hasOwnProperty.call(o,a)){const l=a;n[i][l]=Yu(o[l],s[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function ZX(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Yu(e.components[n].defaultProps,r)}function VF({props:t,name:e,defaultTheme:n,themeId:r}){let i=Rp(n);return r&&(i=i[r]||i),ZX({theme:i,name:e,props:t})}const eQ=typeof window<"u"?E.useLayoutEffect:E.useEffect,No=eQ;function tQ(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function AS(t,e=0,n=1){return tQ(t,e,n)}function nQ(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Za(t){if(t.type)return t;if(t.charAt(0)==="#")return Za(nQ(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Gs(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Gs(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const rQ=t=>{const e=Za(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},If=(t,e)=>{try{return rQ(t)}catch{return t}};function C0(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function UF(t){t=Za(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(c,u=(c+n/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),C0({type:a,values:l})}function gE(t){t=Za(t);let e=t.type==="hsl"||t.type==="hsla"?Za(UF(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function iQ(t,e){const n=gE(t),r=gE(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Pt(t,e){return t=Za(t),e=AS(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,C0(t)}function Ag(t,e,n){try{return Pt(t,e)}catch{return t}}function kS(t,e){if(t=Za(t),e=AS(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return C0(t)}function qt(t,e,n){try{return kS(t,e)}catch{return t}}function OS(t,e){if(t=Za(t),e=AS(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return C0(t)}function Kt(t,e,n){try{return OS(t,e)}catch{return t}}function oQ(t,e=.15){return gE(t)>.5?kS(t,e):OS(t,e)}function kg(t,e,n){try{return oQ(t,e)}catch{return t}}function lA(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function T0(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function Sm(t,e){var n,r,i;return E.isValidElement(t)&&e.indexOf(t.type.muiName??((i=(r=(n=t.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function gi(t){return t&&t.ownerDocument||document}function $o(t){return gi(t).defaultView||window}function xy(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let cA=0;function sQ(t){const[e,n]=E.useState(t),r=t||e;return E.useEffect(()=>{e==null&&(cA+=1,n(`mui-${cA}`))},[e]),r}const aQ={...Lb},uA=aQ.useId;function vd(t){if(uA!==void 0){const e=uA();return t??e}return sQ(t)}function Xf({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=E.useRef(t!==void 0),[o,s]=E.useState(e),a=i?t:o,l=E.useCallback(c=>{i||s(c)},[]);return[a,l]}function ii(t){const e=E.useRef(t);return No(()=>{e.current=t}),E.useRef((...n)=>(0,e.current)(...n)).current}function sr(...t){return E.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{xy(n,e)})},t)}const dA={};function jF(t,e){const n=E.useRef(dA);return n.current===dA&&(n.current=t(e)),n}const lQ=[];function cQ(t){E.useEffect(t,lQ)}class NS{constructor(){zd(this,"currentId",null);zd(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});zd(this,"disposeEffect",()=>this.clear)}static create(){return new NS}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function zF(){const t=jF(NS.create).current;return cQ(t.disposeEffect),t}function fA(t){try{return t.matches(":focus-visible")}catch{}return!1}function WF(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}const uQ=t=>{const e=E.useRef({});return E.useEffect(()=>{e.current=t}),e.current},dQ=uQ;function fQ(t){return E.Children.toArray(t).filter(e=>E.isValidElement(e))}function ot(t,e,n=void 0){const r={};for(const i in t){const o=t[i];let s="",a=!0;for(let l=0;l<o.length;l+=1){const c=o[l];c&&(s+=(a===!0?"":" ")+e(c),a=!1,n&&n[c]&&(s+=" "+n[c]))}r[i]=s}return r}function hQ(t){return typeof t=="string"}function HF(t,e,n){return t===void 0||hQ(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function GF(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function hA(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function qF(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const p=ve(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),m={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},b={...n,...i,...r};return p.length>0&&(b.className=p),Object.keys(m).length>0&&(b.style=m),{props:b,internalRef:void 0}}const s=GF({...i,...r}),a=hA(r),l=hA(i),c=e(s),u=ve(c==null?void 0:c.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),f={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},h={...c,...n,...l,...a};return u.length>0&&(h.className=u),Object.keys(f).length>0&&(h.style=f),{props:h,internalRef:c.ref}}function KF(t,e,n){return typeof t=="function"?t(e,n):t}function Xu(t){var f;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=t,s=i?{}:KF(n,r),{props:a,internalRef:l}=qF({...o,externalSlotProps:s}),c=sr(l,s==null?void 0:s.ref,(f=t.additionalProps)==null?void 0:f.ref);return HF(e,{...a,ref:c},r)}function Pp(t){var e;return parseInt(E.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const pQ=E.createContext(),I0=()=>E.useContext(pQ)??!1,gQ=E.createContext(void 0);function mQ(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Yu(i.defaultProps,r):!i.styleOverrides&&!i.variants?Yu(i,r):r}function yQ({props:t,name:e}){const n=E.useContext(gQ);return mQ({props:t,name:e,theme:{components:n}})}const pA={theme:void 0};function vQ(t){let e,n;return function(i){let o=e;return(o===void 0||i.theme!==n)&&(pA.theme=i.theme,o=DF(t(pA)),e=o,n=i.theme),o}}function _Q(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const gA=(t,e,n,r=[])=>{let i=t;e.forEach((o,s)=>{s===e.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},bQ=(t,e,n)=>{function r(i,o=[],s=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...o,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...o,a],Array.isArray(l)?[...s,a]:s):e([...o,a],l,s))})}r(t)},wQ=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function lb(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},o={},s={};return bQ(t,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const u=`--${n?`${n}-`:""}${a.join("-")}`,f=wQ(a,l);Object.assign(i,{[u]:f}),gA(o,a,`var(${u})`,c),gA(s,a,`var(${u}, ${f})`,c)}},a=>a[0]==="vars"),{css:i,vars:o,varsWithDefaults:s}}function EQ(t,e={}){const{getSelector:n=x,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:s,defaultColorScheme:a="light",...l}=t,{vars:c,css:u,varsWithDefaults:f}=lb(l,e);let h=f;const p={},{[a]:m,...b}=o;if(Object.entries(b||{}).forEach(([v,S])=>{const{vars:k,css:N,varsWithDefaults:I}=lb(S,e);h=$r(h,I),p[v]={css:N,vars:k}}),m){const{css:v,vars:S,varsWithDefaults:k}=lb(m,e);h=$r(h,k),p[a]={css:v,vars:S}}function x(v,S){var N,I;let k=i;if(i==="class"&&(k=".%s"),i==="data"&&(k="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(k=`[${i}="%s"]`),v){if(k==="media")return t.defaultColorScheme===v?":root":{[`@media (prefers-color-scheme: ${((I=(N=o[v])==null?void 0:N.palette)==null?void 0:I.mode)||v})`]:{":root":S}};if(k)return t.defaultColorScheme===v?`:root, ${k.replace("%s",String(v))}`:k.replace("%s",String(v))}return":root"}return{vars:h,generateThemeVars:()=>{let v={...c};return Object.entries(p).forEach(([,{vars:S}])=>{v=$r(v,S)}),v},generateStyleSheets:()=>{var T,R;const v=[],S=t.defaultColorScheme||"light";function k(y,P){Object.keys(P).length&&v.push(typeof y=="string"?{[y]:{...P}}:y)}k(n(void 0,{...u}),u);const{[S]:N,...I}=p;if(N){const{css:y}=N,P=(R=(T=o[S])==null?void 0:T.palette)==null?void 0:R.mode,$=!r&&P?{colorScheme:P,...y}:{...y};k(n(S,{...$}),$)}return Object.entries(I).forEach(([y,{css:P}])=>{var W,q;const $=(q=(W=o[y])==null?void 0:W.palette)==null?void 0:q.mode,A=!r&&$?{colorScheme:$,...P}:{...P};k(n(y,{...A}),A)}),v}}}function xQ(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const SQ=Ip(),CQ=BF("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${ie(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),TQ=t=>VF({props:t,name:"MuiContainer",defaultTheme:SQ}),IQ=(t,e)=>{const n=l=>it(e,l),{classes:r,fixed:i,disableGutters:o,maxWidth:s}=t,a={root:["root",s&&`maxWidth${ie(String(s))}`,i&&"fixed",o&&"disableGutters"]};return ot(a,n,r)};function RQ(t={}){const{createStyledComponent:e=CQ,useThemeProps:n=TQ,componentName:r="MuiContainer"}=t,i=e(({theme:s,ownerState:a})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((l,c)=>{const u=c,f=s.breakpoints.values[u];return f!==0&&(l[s.breakpoints.up(u)]={maxWidth:`${f}${s.breakpoints.unit}`}),l},{}),({theme:s,ownerState:a})=>({...a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},...a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}}));return E.forwardRef(function(a,l){const c=n(a),{className:u,component:f="div",disableGutters:h=!1,fixed:p=!1,maxWidth:m="lg",classes:b,...x}=c,_={...c,component:f,disableGutters:h,fixed:p,maxWidth:m},w=IQ(_,r);return M.jsx(i,{as:f,ownerState:_,className:ve(w.root,u),ref:l,...x})})}const PQ=(t,e)=>t.filter(n=>e.includes(n)),_d=(t,e,n)=>{const r=t.keys[0];Array.isArray(e)?e.forEach((i,o)=>{n((s,a)=>{o<=t.keys.length-1&&(o===0?Object.assign(s,a):s[t.up(t.keys[o])]=a)},i)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:PQ(t.keys,Object.keys(e))).forEach(o=>{if(t.keys.includes(o)){const s=e[o];s!==void 0&&n((a,l)=>{r===o?Object.assign(a,l):a[t.up(o)]=l},s)}}):(typeof e=="number"||typeof e=="string")&&n((i,o)=>{Object.assign(i,o)},e)};function Sy(t){return`--Grid-${t}Spacing`}function R0(t){return`--Grid-parent-${t}Spacing`}const mA="--Grid-columns",Tu="--Grid-parent-columns",AQ=({theme:t,ownerState:e})=>{const n={};return _d(t.breakpoints,e.size,(r,i)=>{let o={};i==="grow"&&(o={flexBasis:0,flexGrow:1,maxWidth:"100%"}),i==="auto"&&(o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof i=="number"&&(o={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${i} / var(${Tu}) - (var(${Tu}) - ${i}) * (var(${R0("column")}) / var(${Tu})))`}),r(n,o)}),n},kQ=({theme:t,ownerState:e})=>{const n={};return _d(t.breakpoints,e.offset,(r,i)=>{let o={};i==="auto"&&(o={marginLeft:"auto"}),typeof i=="number"&&(o={marginLeft:i===0?"0px":`calc(100% * ${i} / var(${Tu}) + var(${R0("column")}) * ${i} / var(${Tu}))`}),r(n,o)}),n},OQ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={[mA]:12};return _d(t.breakpoints,e.columns,(r,i)=>{const o=i??12;r(n,{[mA]:o,"> *":{[Tu]:o}})}),n},NQ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return _d(t.breakpoints,e.rowSpacing,(r,i)=>{var s;const o=typeof i=="string"?i:(s=t.spacing)==null?void 0:s.call(t,i);r(n,{[Sy("row")]:o,"> *":{[R0("row")]:o}})}),n},$Q=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return _d(t.breakpoints,e.columnSpacing,(r,i)=>{var s;const o=typeof i=="string"?i:(s=t.spacing)==null?void 0:s.call(t,i);r(n,{[Sy("column")]:o,"> *":{[R0("column")]:o}})}),n},MQ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return _d(t.breakpoints,e.direction,(r,i)=>{r(n,{flexDirection:i})}),n},DQ=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${Sy("row")}) var(${Sy("column")})`}}),LQ=t=>{const e=[];return Object.entries(t).forEach(([n,r])=>{r!==!1&&r!==void 0&&e.push(`grid-${n}-${String(r)}`)}),e},FQ=(t,e="xs")=>{function n(r){return r===void 0?!1:typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number"&&r>0}if(n(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const r=[];return Object.entries(t).forEach(([i,o])=>{n(o)&&r.push(`spacing-${i}-${String(o)}`)}),r}return[]},BQ=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,n])=>`direction-${e}-${n}`):[`direction-xs-${String(t)}`];function VQ(t,e){t.item!==void 0&&delete t.item,t.zeroMinWidth!==void 0&&delete t.zeroMinWidth,e.keys.forEach(n=>{t[n]!==void 0&&delete t[n]})}const UQ=Ip(),jQ=BF("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>e.root});function zQ(t){return VF({props:t,name:"MuiGrid",defaultTheme:UQ})}function WQ(t={}){const{createStyledComponent:e=jQ,useThemeProps:n=zQ,useTheme:r=Rp,componentName:i="MuiGrid"}=t,o=(c,u)=>{const{container:f,direction:h,spacing:p,wrap:m,size:b}=c,x={root:["root",f&&"container",m!=="wrap"&&`wrap-xs-${String(m)}`,...BQ(h),...LQ(b),...f?FQ(p,u.breakpoints.keys[0]):[]]};return ot(x,_=>it(i,_),{})};function s(c,u,f=()=>!0){const h={};return c===null||(Array.isArray(c)?c.forEach((p,m)=>{p!==null&&f(p)&&u.keys[m]&&(h[u.keys[m]]=p)}):typeof c=="object"?Object.keys(c).forEach(p=>{const m=c[p];m!=null&&f(m)&&(h[p]=m)}):h[u.keys[0]]=c),h}const a=e(OQ,$Q,NQ,AQ,MQ,DQ,kQ),l=E.forwardRef(function(u,f){const h=r(),p=n(u),m=PS(p);VQ(m,h.breakpoints);const{className:b,children:x,columns:_=12,container:w=!1,component:v="div",direction:S="row",wrap:k="wrap",size:N={},offset:I={},spacing:T=0,rowSpacing:R=T,columnSpacing:y=T,unstable_level:P=0,...$}=m,A=s(N,h.breakpoints,ne=>ne!==!1),W=s(I,h.breakpoints),q=u.columns??(P?void 0:_),j=u.spacing??(P?void 0:T),Y=u.rowSpacing??u.spacing??(P?void 0:R),U=u.columnSpacing??u.spacing??(P?void 0:y),B={...m,level:P,columns:q,container:w,direction:S,wrap:k,spacing:j,rowSpacing:Y,columnSpacing:U,size:A,offset:W},K=o(B,h);return M.jsx(a,{ref:f,as:v,ownerState:B,className:ve(K.root,b),...$,children:E.Children.map(x,ne=>{var fe;return E.isValidElement(ne)&&Sm(ne,["Grid"])&&w&&ne.props.container?E.cloneElement(ne,{unstable_level:((fe=ne.props)==null?void 0:fe.unstable_level)??P+1}):ne})})});return l.muiName="Grid",l}function YF(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:$h.white,default:$h.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const HQ=YF();function XF(){return{text:{primary:$h.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:$h.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const yA=XF();function vA(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=OS(t.main,i):e==="dark"&&(t.dark=kS(t.main,o)))}function GQ(t="light"){return t==="dark"?{main:Cc[200],light:Cc[50],dark:Cc[400]}:{main:Cc[700],light:Cc[400],dark:Cc[800]}}function qQ(t="light"){return t==="dark"?{main:Sc[200],light:Sc[50],dark:Sc[400]}:{main:Sc[500],light:Sc[300],dark:Sc[700]}}function KQ(t="light"){return t==="dark"?{main:xc[500],light:xc[300],dark:xc[700]}:{main:xc[700],light:xc[400],dark:xc[800]}}function YQ(t="light"){return t==="dark"?{main:Tc[400],light:Tc[300],dark:Tc[700]}:{main:Tc[700],light:Tc[500],dark:Tc[900]}}function XQ(t="light"){return t==="dark"?{main:Ic[400],light:Ic[300],dark:Ic[700]}:{main:Ic[800],light:Ic[500],dark:Ic[900]}}function QQ(t="light"){return t==="dark"?{main:tf[400],light:tf[300],dark:tf[700]}:{main:"#ed6c02",light:tf[500],dark:tf[900]}}function $S(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,o=t.primary||GQ(e),s=t.secondary||qQ(e),a=t.error||KQ(e),l=t.info||YQ(e),c=t.success||XQ(e),u=t.warning||QQ(e);function f(b){return iQ(b,yA.text.primary)>=n?yA.text.primary:HQ.text.primary}const h=({color:b,name:x,mainShade:_=500,lightShade:w=300,darkShade:v=700})=>{if(b={...b},!b.main&&b[_]&&(b.main=b[_]),!b.hasOwnProperty("main"))throw new Error(Gs(11,x?` (${x})`:"",_));if(typeof b.main!="string")throw new Error(Gs(12,x?` (${x})`:"",JSON.stringify(b.main)));return vA(b,"light",w,r),vA(b,"dark",v,r),b.contrastText||(b.contrastText=f(b.main)),b};let p;return e==="light"?p=YF():e==="dark"&&(p=XF()),$r({common:{...$h},mode:e,primary:h({color:o,name:"primary"}),secondary:h({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:wK,contrastThreshold:n,getContrastText:f,augmentColor:h,tonalOffset:r,...p},i)}function JQ(t){const e={};return Object.entries(t).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function ZQ(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function eJ(t){return Math.round(t*1e5)/1e5}const _A={textTransform:"uppercase"},bA='"Roboto", "Helvetica", "Arial", sans-serif';function tJ(t,e){const{fontFamily:n=bA,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:u,...f}=typeof e=="function"?e(t):e,h=r/14,p=u||(x=>`${x/l*h}rem`),m=(x,_,w,v,S)=>({fontFamily:n,fontWeight:x,fontSize:p(_),lineHeight:w,...n===bA?{letterSpacing:`${eJ(v/_)}em`}:{},...S,...c}),b={h1:m(i,96,1.167,-1.5),h2:m(i,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(s,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(s,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(s,14,1.75,.4,_A),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,_A),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return $r({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:a,...b},f,{clone:!1})}const nJ=.2,rJ=.14,iJ=.12;function mn(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${nJ})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${rJ})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${iJ})`].join(",")}const oJ=["none",mn(0,2,1,-1,0,1,1,0,0,1,3,0),mn(0,3,1,-2,0,2,2,0,0,1,5,0),mn(0,3,3,-2,0,3,4,0,0,1,8,0),mn(0,2,4,-1,0,4,5,0,0,1,10,0),mn(0,3,5,-1,0,5,8,0,0,1,14,0),mn(0,3,5,-1,0,6,10,0,0,1,18,0),mn(0,4,5,-2,0,7,10,1,0,2,16,1),mn(0,5,5,-3,0,8,10,1,0,3,14,2),mn(0,5,6,-3,0,9,12,1,0,3,16,2),mn(0,6,6,-3,0,10,14,1,0,4,18,3),mn(0,6,7,-4,0,11,15,1,0,4,20,3),mn(0,7,8,-4,0,12,17,2,0,5,22,4),mn(0,7,8,-4,0,13,19,2,0,5,24,4),mn(0,7,9,-4,0,14,21,2,0,5,26,4),mn(0,8,9,-5,0,15,22,2,0,6,28,5),mn(0,8,10,-5,0,16,24,2,0,6,30,5),mn(0,8,11,-5,0,17,26,2,0,6,32,5),mn(0,9,11,-5,0,18,28,2,0,7,34,6),mn(0,9,12,-6,0,19,29,2,0,7,36,6),mn(0,10,13,-6,0,20,31,3,0,8,38,7),mn(0,10,13,-6,0,21,33,3,0,8,40,7),mn(0,10,14,-6,0,22,35,3,0,8,42,7),mn(0,11,14,-7,0,23,36,3,0,9,44,8),mn(0,11,15,-7,0,24,38,3,0,9,46,8)],sJ=oJ,aJ={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},lJ={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function wA(t){return`${Math.round(t)}ms`}function cJ(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function uJ(t){const e={...aJ,...t.easing},n={...lJ,...t.duration};return{getAutoHeightDuration:cJ,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=e.easeInOut,delay:l=0,...c}=o;return(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof s=="string"?s:wA(s)} ${a} ${typeof l=="string"?l:wA(l)}`).join(",")},...t,easing:e,duration:n}}const dJ={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},fJ=dJ;function hJ(t){return Yo(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function QF(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[s,a]=i[o];!hJ(a)||s.startsWith("unstable_")?delete r[s]:Yo(a)&&(r[s]={...a},n(r[s]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function mE(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:o={},transitions:s={},typography:a={},shape:l,...c}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Gs(20));const u=$S(o),f=Ip(t);let h=$r(f,{mixins:ZQ(f.breakpoints,r),palette:u,shadows:sJ.slice(),typography:tJ(u,a),transitions:uJ(s),zIndex:{...fJ}});return h=$r(h,c),h=e.reduce((p,m)=>$r(p,m),h),h.unstable_sxConfig={...Tp,...c==null?void 0:c.unstable_sxConfig},h.unstable_sx=function(m){return Ku({sx:m,theme:this})},h.toRuntimeSource=QF,h}function yE(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const pJ=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=yE(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function JF(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function ZF(t){return t==="dark"?pJ:[]}function gJ(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,o=$S(e);return{palette:o,opacity:{...JF(o.mode),...n},overlays:r||ZF(o.mode),...i}}function mJ(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const yJ=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],vJ=yJ,_J=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const s={};return vJ(t.cssVarPrefix).forEach(a=>{s[a]=n[a],delete n[a]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:o?{[o.replace("%s",e)]:s,[`${r}, ${o.replace("%s",e)}`]:n}:{[r]:{...n,...s}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(o)return o.replace("%s",String(e))}return r};function bJ(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function Q(t,e,n){!t[e]&&n&&(t[e]=n)}function Rf(t){return typeof t!="string"||!t.startsWith("hsl")?t:UF(t)}function ms(t,e){`${e}Channel`in t||(t[`${e}Channel`]=If(Rf(t[e]),`MUI: Can't create \`palette.${e}Channel\` because \`palette.${e}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${e}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function wJ(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const zo=t=>{try{return t()}catch{}},EJ=(t="mui")=>_Q(t);function cb(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=gJ({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...s}=mE({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:o,opacity:{...JF(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||ZF(i)},s}function xJ(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:s=mJ,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...c}=t,u=Object.keys(n)[0],f=r||(n.light&&u!=="light"?"light":u),h=EJ(o),{[f]:p,light:m,dark:b,...x}=n,_={...x};let w=p;if((f==="dark"&&!("dark"in n)||f==="light"&&!("light"in n))&&(w=!0),!w)throw new Error(Gs(21,f));const v=cb(_,w,c,f);m&&!_.light&&cb(_,m,void 0,"light"),b&&!_.dark&&cb(_,b,void 0,"dark");let S={defaultColorScheme:f,...v,cssVarPrefix:o,colorSchemeSelector:a,rootSelector:l,getCssVar:h,colorSchemes:_,font:{...JQ(v.typography),...v.font},spacing:wJ(c.spacing)};Object.keys(S.colorSchemes).forEach(R=>{const y=S.colorSchemes[R].palette,P=$=>{const A=$.split("-"),W=A[1],q=A[2];return h($,y[W][q])};if(y.mode==="light"&&(Q(y.common,"background","#fff"),Q(y.common,"onBackground","#000")),y.mode==="dark"&&(Q(y.common,"background","#000"),Q(y.common,"onBackground","#fff")),bJ(y,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),y.mode==="light"){Q(y.Alert,"errorColor",qt(y.error.light,.6)),Q(y.Alert,"infoColor",qt(y.info.light,.6)),Q(y.Alert,"successColor",qt(y.success.light,.6)),Q(y.Alert,"warningColor",qt(y.warning.light,.6)),Q(y.Alert,"errorFilledBg",P("palette-error-main")),Q(y.Alert,"infoFilledBg",P("palette-info-main")),Q(y.Alert,"successFilledBg",P("palette-success-main")),Q(y.Alert,"warningFilledBg",P("palette-warning-main")),Q(y.Alert,"errorFilledColor",zo(()=>y.getContrastText(y.error.main))),Q(y.Alert,"infoFilledColor",zo(()=>y.getContrastText(y.info.main))),Q(y.Alert,"successFilledColor",zo(()=>y.getContrastText(y.success.main))),Q(y.Alert,"warningFilledColor",zo(()=>y.getContrastText(y.warning.main))),Q(y.Alert,"errorStandardBg",Kt(y.error.light,.9)),Q(y.Alert,"infoStandardBg",Kt(y.info.light,.9)),Q(y.Alert,"successStandardBg",Kt(y.success.light,.9)),Q(y.Alert,"warningStandardBg",Kt(y.warning.light,.9)),Q(y.Alert,"errorIconColor",P("palette-error-main")),Q(y.Alert,"infoIconColor",P("palette-info-main")),Q(y.Alert,"successIconColor",P("palette-success-main")),Q(y.Alert,"warningIconColor",P("palette-warning-main")),Q(y.AppBar,"defaultBg",P("palette-grey-100")),Q(y.Avatar,"defaultBg",P("palette-grey-400")),Q(y.Button,"inheritContainedBg",P("palette-grey-300")),Q(y.Button,"inheritContainedHoverBg",P("palette-grey-A100")),Q(y.Chip,"defaultBorder",P("palette-grey-400")),Q(y.Chip,"defaultAvatarColor",P("palette-grey-700")),Q(y.Chip,"defaultIconColor",P("palette-grey-700")),Q(y.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Q(y.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Q(y.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Q(y.LinearProgress,"primaryBg",Kt(y.primary.main,.62)),Q(y.LinearProgress,"secondaryBg",Kt(y.secondary.main,.62)),Q(y.LinearProgress,"errorBg",Kt(y.error.main,.62)),Q(y.LinearProgress,"infoBg",Kt(y.info.main,.62)),Q(y.LinearProgress,"successBg",Kt(y.success.main,.62)),Q(y.LinearProgress,"warningBg",Kt(y.warning.main,.62)),Q(y.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.11)`),Q(y.Slider,"primaryTrack",Kt(y.primary.main,.62)),Q(y.Slider,"secondaryTrack",Kt(y.secondary.main,.62)),Q(y.Slider,"errorTrack",Kt(y.error.main,.62)),Q(y.Slider,"infoTrack",Kt(y.info.main,.62)),Q(y.Slider,"successTrack",Kt(y.success.main,.62)),Q(y.Slider,"warningTrack",Kt(y.warning.main,.62));const $=kg(y.background.default,.8);Q(y.SnackbarContent,"bg",$),Q(y.SnackbarContent,"color",zo(()=>y.getContrastText($))),Q(y.SpeedDialAction,"fabHoverBg",kg(y.background.paper,.15)),Q(y.StepConnector,"border",P("palette-grey-400")),Q(y.StepContent,"border",P("palette-grey-400")),Q(y.Switch,"defaultColor",P("palette-common-white")),Q(y.Switch,"defaultDisabledColor",P("palette-grey-100")),Q(y.Switch,"primaryDisabledColor",Kt(y.primary.main,.62)),Q(y.Switch,"secondaryDisabledColor",Kt(y.secondary.main,.62)),Q(y.Switch,"errorDisabledColor",Kt(y.error.main,.62)),Q(y.Switch,"infoDisabledColor",Kt(y.info.main,.62)),Q(y.Switch,"successDisabledColor",Kt(y.success.main,.62)),Q(y.Switch,"warningDisabledColor",Kt(y.warning.main,.62)),Q(y.TableCell,"border",Kt(Ag(y.divider,1),.88)),Q(y.Tooltip,"bg",Ag(y.grey[700],.92))}if(y.mode==="dark"){Q(y.Alert,"errorColor",Kt(y.error.light,.6)),Q(y.Alert,"infoColor",Kt(y.info.light,.6)),Q(y.Alert,"successColor",Kt(y.success.light,.6)),Q(y.Alert,"warningColor",Kt(y.warning.light,.6)),Q(y.Alert,"errorFilledBg",P("palette-error-dark")),Q(y.Alert,"infoFilledBg",P("palette-info-dark")),Q(y.Alert,"successFilledBg",P("palette-success-dark")),Q(y.Alert,"warningFilledBg",P("palette-warning-dark")),Q(y.Alert,"errorFilledColor",zo(()=>y.getContrastText(y.error.dark))),Q(y.Alert,"infoFilledColor",zo(()=>y.getContrastText(y.info.dark))),Q(y.Alert,"successFilledColor",zo(()=>y.getContrastText(y.success.dark))),Q(y.Alert,"warningFilledColor",zo(()=>y.getContrastText(y.warning.dark))),Q(y.Alert,"errorStandardBg",qt(y.error.light,.9)),Q(y.Alert,"infoStandardBg",qt(y.info.light,.9)),Q(y.Alert,"successStandardBg",qt(y.success.light,.9)),Q(y.Alert,"warningStandardBg",qt(y.warning.light,.9)),Q(y.Alert,"errorIconColor",P("palette-error-main")),Q(y.Alert,"infoIconColor",P("palette-info-main")),Q(y.Alert,"successIconColor",P("palette-success-main")),Q(y.Alert,"warningIconColor",P("palette-warning-main")),Q(y.AppBar,"defaultBg",P("palette-grey-900")),Q(y.AppBar,"darkBg",P("palette-background-paper")),Q(y.AppBar,"darkColor",P("palette-text-primary")),Q(y.Avatar,"defaultBg",P("palette-grey-600")),Q(y.Button,"inheritContainedBg",P("palette-grey-800")),Q(y.Button,"inheritContainedHoverBg",P("palette-grey-700")),Q(y.Chip,"defaultBorder",P("palette-grey-700")),Q(y.Chip,"defaultAvatarColor",P("palette-grey-300")),Q(y.Chip,"defaultIconColor",P("palette-grey-300")),Q(y.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Q(y.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Q(y.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Q(y.LinearProgress,"primaryBg",qt(y.primary.main,.5)),Q(y.LinearProgress,"secondaryBg",qt(y.secondary.main,.5)),Q(y.LinearProgress,"errorBg",qt(y.error.main,.5)),Q(y.LinearProgress,"infoBg",qt(y.info.main,.5)),Q(y.LinearProgress,"successBg",qt(y.success.main,.5)),Q(y.LinearProgress,"warningBg",qt(y.warning.main,.5)),Q(y.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.13)`),Q(y.Slider,"primaryTrack",qt(y.primary.main,.5)),Q(y.Slider,"secondaryTrack",qt(y.secondary.main,.5)),Q(y.Slider,"errorTrack",qt(y.error.main,.5)),Q(y.Slider,"infoTrack",qt(y.info.main,.5)),Q(y.Slider,"successTrack",qt(y.success.main,.5)),Q(y.Slider,"warningTrack",qt(y.warning.main,.5));const $=kg(y.background.default,.98);Q(y.SnackbarContent,"bg",$),Q(y.SnackbarContent,"color",zo(()=>y.getContrastText($))),Q(y.SpeedDialAction,"fabHoverBg",kg(y.background.paper,.15)),Q(y.StepConnector,"border",P("palette-grey-600")),Q(y.StepContent,"border",P("palette-grey-600")),Q(y.Switch,"defaultColor",P("palette-grey-300")),Q(y.Switch,"defaultDisabledColor",P("palette-grey-600")),Q(y.Switch,"primaryDisabledColor",qt(y.primary.main,.55)),Q(y.Switch,"secondaryDisabledColor",qt(y.secondary.main,.55)),Q(y.Switch,"errorDisabledColor",qt(y.error.main,.55)),Q(y.Switch,"infoDisabledColor",qt(y.info.main,.55)),Q(y.Switch,"successDisabledColor",qt(y.success.main,.55)),Q(y.Switch,"warningDisabledColor",qt(y.warning.main,.55)),Q(y.TableCell,"border",qt(Ag(y.divider,1),.68)),Q(y.Tooltip,"bg",Ag(y.grey[700],.92))}ms(y.background,"default"),ms(y.background,"paper"),ms(y.common,"background"),ms(y.common,"onBackground"),ms(y,"divider"),Object.keys(y).forEach($=>{const A=y[$];$!=="tonalOffset"&&A&&typeof A=="object"&&(A.main&&Q(y[$],"mainChannel",If(Rf(A.main))),A.light&&Q(y[$],"lightChannel",If(Rf(A.light))),A.dark&&Q(y[$],"darkChannel",If(Rf(A.dark))),A.contrastText&&Q(y[$],"contrastTextChannel",If(Rf(A.contrastText))),$==="text"&&(ms(y[$],"primary"),ms(y[$],"secondary")),$==="action"&&(A.active&&ms(y[$],"active"),A.selected&&ms(y[$],"selected")))})}),S=e.reduce((R,y)=>$r(R,y),S);const k={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:s,getSelector:_J(S)},{vars:N,generateThemeVars:I,generateStyleSheets:T}=EQ(S,k);return S.vars=N,Object.entries(S.colorSchemes[S.defaultColorScheme]).forEach(([R,y])=>{S[R]=y}),S.generateThemeVars=I,S.generateStyleSheets=T,S.generateSpacing=function(){return OF(c.spacing,IS(this))},S.getColorSchemeSelector=xQ(a),S.spacing=S.generateSpacing(),S.shouldSkipGeneratingVar=s,S.unstable_sxConfig={...Tp,...c==null?void 0:c.unstable_sxConfig},S.unstable_sx=function(y){return Ku({sx:y,theme:this})},S.toRuntimeSource=QF,S}function EA(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:$S({...n===!0?{}:n.palette,mode:e})})}function e4(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:o=n==null?void 0:n.mode,...s}=t,a=o||"light",l=i==null?void 0:i[a],c={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return mE(t,...e);let u=n;"palette"in t||c[a]&&(c[a]!==!0?u=c[a].palette:a==="dark"&&(u={mode:"dark"}));const f=mE({...t,palette:u},...e);return f.defaultColorScheme=a,f.colorSchemes=c,f.palette.mode==="light"&&(f.colorSchemes.light={...c.light!==!0&&c.light,palette:f.palette},EA(f,"dark",c.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:f.palette},EA(f,"light",c.light)),f}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),xJ({...s,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const SJ=e4(),MS=SJ;function bd(){const t=Rp(MS);return t[qv]||t}function t4(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const CJ=t=>t4(t)&&t!=="classes",uo=CJ,TJ=FF({themeId:qv,defaultTheme:MS,rootShouldForwardProp:uo}),oe=TJ;function IJ(t){return M.jsx(BX,{...t,defaultTheme:MS,themeId:qv})}function RJ(t){return function(n){return M.jsx(IJ,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function PJ(){return PS}const AJ=vQ,yt=AJ;function lt(t){return yQ(t)}function kJ(t){return it("MuiSvgIcon",t)}Ze("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const OJ=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${ie(e)}`,`fontSize${ie(n)}`]};return ot(i,kJ,r)},NJ=oe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${ie(n.color)}`],e[`fontSize${ie(n.fontSize)}`]]}})(yt(({theme:t})=>{var e,n,r,i,o,s,a,l,c,u,f,h,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:b=>!b.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((s=(o=t.typography)==null?void 0:o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((u=(c=t.typography)==null?void 0:c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,b])=>b&&b.main).map(([b])=>{var x,_;return{props:{color:b},style:{color:(_=(x=(t.vars??t).palette)==null?void 0:x[b])==null?void 0:_.main}}}),{props:{color:"action"},style:{color:(h=(f=(t.vars??t).palette)==null?void 0:f.action)==null?void 0:h.active}},{props:{color:"disabled"},style:{color:(m=(p=(t.vars??t).palette)==null?void 0:p.action)==null?void 0:m.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),n4=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:f,viewBox:h="0 0 24 24",...p}=r,m=E.isValidElement(i)&&i.type==="svg",b={...r,color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:m},x={};u||(x.viewBox=h);const _=OJ(b);return M.jsxs(NJ,{as:a,className:ve(_.root,o),focusable:"false",color:c,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n,...x,...p,...m&&i.props,ownerState:b,children:[m?i.props.children:i,f?M.jsx("title",{children:f}):null]})});n4.muiName="SvgIcon";const xA=n4;function Kr(t,e){function n(r,i){return M.jsx(xA,{"data-testid":void 0,ref:i,...r,children:t})}return n.muiName=xA.muiName,E.memo(E.forwardRef(n))}function $J(t,e){const n=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&n>=65&&n<=90&&typeof e=="function"}function MJ(t,e){if(!t)return e;function n(s,a){const l={};return Object.keys(a).forEach(c=>{$J(c,a[c])&&typeof s[c]=="function"&&(l[c]=(...u)=>{s[c](...u),a[c](...u)})}),l}if(typeof t=="function"||typeof e=="function")return s=>{const a=typeof e=="function"?e(s):e,l=typeof t=="function"?t({...s,...a}):t,c=ve(s==null?void 0:s.className,a==null?void 0:a.className,l==null?void 0:l.className),u=n(l,a);return{...a,...l,...u,...!!c&&{className:c},...(a==null?void 0:a.style)&&(l==null?void 0:l.style)&&{style:{...a.style,...l.style}},...(a==null?void 0:a.sx)&&(l==null?void 0:l.sx)&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(l.sx)?l.sx:[l.sx]]}}};const r=e,i=n(t,r),o=ve(r==null?void 0:r.className,t==null?void 0:t.className);return{...e,...t,...i,...!!o&&{className:o},...(r==null?void 0:r.style)&&(t==null?void 0:t.style)&&{style:{...r.style,...t.style}},...(r==null?void 0:r.sx)&&(t==null?void 0:t.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function r4(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vE(t,e){return vE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},vE(t,e)}function i4(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,vE(t,e)}const SA={disabled:!1},Cy=L.createContext(null);var DJ=function(e){return e.scrollTop},Pf="unmounted",El="exited",xl="entering",Dc="entered",_E="exiting",Zs=function(t){i4(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=El,o.appearStatus=xl):l=Dc:r.unmountOnExit||r.mountOnEnter?l=Pf:l=El,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Pf?{status:El}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==xl&&s!==Dc&&(o=xl):(s===xl||s===Dc)&&(o=_E)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===xl){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:_g.findDOMNode(this);s&&DJ(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===El&&this.setState({status:Pf})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[_g.findDOMNode(this),a],c=l[0],u=l[1],f=this.getTimeouts(),h=a?f.appear:f.enter;if(!i&&!s||SA.disabled){this.safeSetState({status:Dc},function(){o.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:xl},function(){o.props.onEntering(c,u),o.onTransitionEnd(h,function(){o.safeSetState({status:Dc},function(){o.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:_g.findDOMNode(this);if(!o||SA.disabled){this.safeSetState({status:El},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:_E},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:El},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:_g.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Pf)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=r4(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return L.createElement(Cy.Provider,{value:null},typeof s=="function"?s(i,a):L.cloneElement(L.Children.only(s),a))},e}(L.Component);Zs.contextType=Cy;Zs.propTypes={};function Rc(){}Zs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Rc,onEntering:Rc,onEntered:Rc,onExit:Rc,onExiting:Rc,onExited:Rc};Zs.UNMOUNTED=Pf;Zs.EXITED=El;Zs.ENTERING=xl;Zs.ENTERED=Dc;Zs.EXITING=_E;const o4=Zs;function LJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DS(t,e){var n=function(o){return e&&E.isValidElement(o)?e(o):o},r=Object.create(null);return t&&E.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function FJ(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var c=r[l][s];a[r[l][s]]=n(c)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function Ol(t,e,n){return n[e]!=null?n[e]:t.props[e]}function BJ(t,e){return DS(t.children,function(n){return E.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Ol(n,"appear",t),enter:Ol(n,"enter",t),exit:Ol(n,"exit",t)})})}function VJ(t,e,n){var r=DS(t.children),i=FJ(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(E.isValidElement(s)){var a=o in e,l=o in r,c=e[o],u=E.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[o]=E.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Ol(s,"exit",t),enter:Ol(s,"enter",t)}):!l&&a&&!u?i[o]=E.cloneElement(s,{in:!1}):l&&a&&E.isValidElement(c)&&(i[o]=E.cloneElement(s,{onExited:n.bind(null,s),in:c.props.in,exit:Ol(s,"exit",t),enter:Ol(s,"enter",t)}))}}),i}var UJ=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},jJ={component:"div",childFactory:function(e){return e}},LS=function(t){i4(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(LJ(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?BJ(i,a):VJ(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=DS(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=by({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=r4(i,["component","childFactory"]),l=this.state.contextValue,c=UJ(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?L.createElement(Cy.Provider,{value:l},c):L.createElement(Cy.Provider,{value:l},L.createElement(o,a,c))},e}(L.Component);LS.propTypes={};LS.defaultProps=jJ;const zJ=LS,s4=t=>t.scrollTop;function Ty(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function WJ(t){return it("MuiPaper",t)}Ze("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const HJ=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return ot(o,WJ,i)},GJ=oe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(yt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),qJ=E.forwardRef(function(e,n){var p;const r=lt({props:e,name:"MuiPaper"}),i=bd(),{className:o,component:s="div",elevation:a=1,square:l=!1,variant:c="elevation",...u}=r,f={...r,component:s,elevation:a,square:l,variant:c},h=HJ(f);return M.jsx(GJ,{as:s,ownerState:f,className:ve(h.root,o),ref:n,...u,style:{...c==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(p=i.vars.overlays)==null?void 0:p[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Pt("#fff",yE(a))}, ${Pt("#fff",yE(a))})`}},...u.style}})}),wd=qJ;function Ut(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...l}=e,{component:c,slots:u={[t]:void 0},slotProps:f={[t]:void 0},...h}=o,p=u[t]||r,m=KF(f[t],i),{props:{component:b,...x},internalRef:_}=qF({className:n,...l,externalForwardedProps:t==="root"?h:void 0,externalSlotProps:m}),w=sr(_,m==null?void 0:m.ref,e.ref),v=t==="root"?b||c:b,S=HF(p,{...t==="root"&&!c&&!u[t]&&s,...t!=="root"&&!u[t]&&s,...x,...v&&!a&&{as:v},...v&&a&&{component:v},ref:w},i);return[p,S]}class Iy{constructor(){zd(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Iy}static use(){const e=jF(Iy.create).current,[n,r]=E.useState(!1);return e.shouldMount=n,e.setShouldMount=r,E.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=YJ(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function KJ(){return Iy.use()}function YJ(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function XJ(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:c}=t,[u,f]=E.useState(!1),h=ve(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},m=ve(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&f(!0),E.useEffect(()=>{if(!a&&l!=null){const b=setTimeout(l,c);return()=>{clearTimeout(b)}}},[l,a,c]),M.jsx("span",{className:h,style:p,children:M.jsx("span",{className:m})})}const QJ=Ze("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Gi=QJ,bE=550,JJ=80,ZJ=xp`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,eZ=xp`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,tZ=xp`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,nZ=oe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),rZ=oe(XJ,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Gi.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${ZJ};
    animation-duration: ${bE}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${Gi.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${Gi.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Gi.childLeaving} {
    opacity: 0;
    animation-name: ${eZ};
    animation-duration: ${bE}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${Gi.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${tZ};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,iZ=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s,...a}=r,[l,c]=E.useState([]),u=E.useRef(0),f=E.useRef(null);E.useEffect(()=>{f.current&&(f.current(),f.current=null)},[l]);const h=E.useRef(!1),p=zF(),m=E.useRef(null),b=E.useRef(null),x=E.useCallback(S=>{const{pulsate:k,rippleX:N,rippleY:I,rippleSize:T,cb:R}=S;c(y=>[...y,M.jsx(rZ,{classes:{ripple:ve(o.ripple,Gi.ripple),rippleVisible:ve(o.rippleVisible,Gi.rippleVisible),ripplePulsate:ve(o.ripplePulsate,Gi.ripplePulsate),child:ve(o.child,Gi.child),childLeaving:ve(o.childLeaving,Gi.childLeaving),childPulsate:ve(o.childPulsate,Gi.childPulsate)},timeout:bE,pulsate:k,rippleX:N,rippleY:I,rippleSize:T},u.current)]),u.current+=1,f.current=R},[o]),_=E.useCallback((S={},k={},N=()=>{})=>{const{pulsate:I=!1,center:T=i||k.pulsate,fakeElement:R=!1}=k;if((S==null?void 0:S.type)==="mousedown"&&h.current){h.current=!1;return}(S==null?void 0:S.type)==="touchstart"&&(h.current=!0);const y=R?null:b.current,P=y?y.getBoundingClientRect():{width:0,height:0,left:0,top:0};let $,A,W;if(T||S===void 0||S.clientX===0&&S.clientY===0||!S.clientX&&!S.touches)$=Math.round(P.width/2),A=Math.round(P.height/2);else{const{clientX:q,clientY:j}=S.touches&&S.touches.length>0?S.touches[0]:S;$=Math.round(q-P.left),A=Math.round(j-P.top)}if(T)W=Math.sqrt((2*P.width**2+P.height**2)/3),W%2===0&&(W+=1);else{const q=Math.max(Math.abs((y?y.clientWidth:0)-$),$)*2+2,j=Math.max(Math.abs((y?y.clientHeight:0)-A),A)*2+2;W=Math.sqrt(q**2+j**2)}S!=null&&S.touches?m.current===null&&(m.current=()=>{x({pulsate:I,rippleX:$,rippleY:A,rippleSize:W,cb:N})},p.start(JJ,()=>{m.current&&(m.current(),m.current=null)})):x({pulsate:I,rippleX:$,rippleY:A,rippleSize:W,cb:N})},[i,x,p]),w=E.useCallback(()=>{_({},{pulsate:!0})},[_]),v=E.useCallback((S,k)=>{if(p.clear(),(S==null?void 0:S.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{v(S,k)});return}m.current=null,c(N=>N.length>0?N.slice(1):N),f.current=k},[p]);return E.useImperativeHandle(n,()=>({pulsate:w,start:_,stop:v}),[w,_,v]),M.jsx(nZ,{className:ve(Gi.root,o.root,s),ref:b,...a,children:M.jsx(zJ,{component:null,exit:!0,children:l})})}),oZ=iZ;function sZ(t){return it("MuiButtonBase",t)}const aZ=Ze("MuiButtonBase",["root","disabled","focusVisible"]),lZ=aZ,cZ=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=ot({root:["root",e&&"disabled",n&&"focusVisible"]},sZ,i);return n&&r&&(s.root+=` ${r}`),s},uZ=oe("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${lZ.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),dZ=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:f=!1,focusRipple:h=!1,focusVisibleClassName:p,LinkComponent:m="a",onBlur:b,onClick:x,onContextMenu:_,onDragLeave:w,onFocus:v,onFocusVisible:S,onKeyDown:k,onKeyUp:N,onMouseDown:I,onMouseLeave:T,onMouseUp:R,onTouchEnd:y,onTouchMove:P,onTouchStart:$,tabIndex:A=0,TouchRippleProps:W,touchRippleRef:q,type:j,...Y}=r,U=E.useRef(null),B=KJ(),K=sr(B.ref,q),[ne,fe]=E.useState(!1);c&&ne&&fe(!1),E.useImperativeHandle(i,()=>({focusVisible:()=>{fe(!0),U.current.focus()}}),[]);const ge=B.shouldMount&&!u&&!c;E.useEffect(()=>{ne&&h&&!u&&B.pulsate()},[u,h,ne,B]);const be=ys(B,"start",I,f),le=ys(B,"stop",_,f),ke=ys(B,"stop",w,f),Oe=ys(B,"stop",R,f),Ie=ys(B,"stop",Ee=>{ne&&Ee.preventDefault(),T&&T(Ee)},f),Se=ys(B,"start",$,f),me=ys(B,"stop",y,f),De=ys(B,"stop",P,f),Re=ys(B,"stop",Ee=>{fA(Ee.target)||fe(!1),b&&b(Ee)},!1),ct=ii(Ee=>{U.current||(U.current=Ee.currentTarget),fA(Ee.target)&&(fe(!0),S&&S(Ee)),v&&v(Ee)}),Fe=()=>{const Ee=U.current;return l&&l!=="button"&&!(Ee.tagName==="A"&&Ee.href)},Be=ii(Ee=>{h&&!Ee.repeat&&ne&&Ee.key===" "&&B.stop(Ee,()=>{B.start(Ee)}),Ee.target===Ee.currentTarget&&Fe()&&Ee.key===" "&&Ee.preventDefault(),k&&k(Ee),Ee.target===Ee.currentTarget&&Fe()&&Ee.key==="Enter"&&!c&&(Ee.preventDefault(),x&&x(Ee))}),At=ii(Ee=>{h&&Ee.key===" "&&ne&&!Ee.defaultPrevented&&B.stop(Ee,()=>{B.pulsate(Ee)}),N&&N(Ee),x&&Ee.target===Ee.currentTarget&&Fe()&&Ee.key===" "&&!Ee.defaultPrevented&&x(Ee)});let ue=l;ue==="button"&&(Y.href||Y.to)&&(ue=m);const Ke={};ue==="button"?(Ke.type=j===void 0?"button":j,Ke.disabled=c):(!Y.href&&!Y.to&&(Ke.role="button"),c&&(Ke["aria-disabled"]=c));const Me=sr(n,U),ut={...r,centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:f,focusRipple:h,tabIndex:A,focusVisible:ne},Ye=cZ(ut);return M.jsxs(uZ,{as:ue,className:ve(Ye.root,a),ownerState:ut,onBlur:Re,onClick:x,onContextMenu:le,onFocus:ct,onKeyDown:Be,onKeyUp:At,onMouseDown:be,onMouseLeave:Ie,onMouseUp:Oe,onDragLeave:ke,onTouchEnd:me,onTouchMove:De,onTouchStart:Se,ref:Me,tabIndex:c?-1:A,type:j,...Ke,...Y,children:[s,ge?M.jsx(oZ,{ref:K,center:o,...W}):null]})});function ys(t,e,n,r=!1){return ii(i=>(n&&n(i),r||t[e](i),!0))}const el=dZ;function fZ(t){return typeof t.main=="string"}function hZ(t,e=[]){if(!fZ(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function oi(t=[]){return([,e])=>e&&hZ(e,t)}function pZ(t){return it("MuiCircularProgress",t)}Ze("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const da=44,wE=xp`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,EE=xp`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,gZ=typeof wE!="string"?wS`
        animation: ${wE} 1.4s linear infinite;
      `:null,mZ=typeof EE!="string"?wS`
        animation: ${EE} 1.4s ease-in-out infinite;
      `:null,yZ=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,`color${ie(r)}`],svg:["svg"],circle:["circle",`circle${ie(n)}`,i&&"circleDisableShrink"]};return ot(o,pZ,e)},vZ=oe("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${ie(n.color)}`]]}})(yt(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:gZ||{animation:`${wE} 1.4s linear infinite`}},...Object.entries(t.palette).filter(oi()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),_Z=oe("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),bZ=oe("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${ie(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(yt(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:mZ||{animation:`${EE} 1.4s ease-in-out infinite`}}]}))),wZ=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:f="indeterminate",...h}=r,p={...r,color:o,disableShrink:s,size:a,thickness:c,value:u,variant:f},m=yZ(p),b={},x={},_={};if(f==="determinate"){const w=2*Math.PI*((da-c)/2);b.strokeDasharray=w.toFixed(3),_["aria-valuenow"]=Math.round(u),b.strokeDashoffset=`${((100-u)/100*w).toFixed(3)}px`,x.transform="rotate(-90deg)"}return M.jsx(vZ,{className:ve(m.root,i),style:{width:a,height:a,...x,...l},ownerState:p,ref:n,role:"progressbar",..._,...h,children:M.jsx(_Z,{className:m.svg,ownerState:p,viewBox:`${da/2} ${da/2} ${da} ${da}`,children:M.jsx(bZ,{className:m.circle,style:b,ownerState:p,cx:da,cy:da,r:(da-c)/2,fill:"none",strokeWidth:c})})})}),a4=wZ;function EZ(t){return it("MuiIconButton",t)}const xZ=Ze("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),CA=xZ,SZ=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o,loading:s}=t,a={root:["root",s&&"loading",n&&"disabled",r!=="default"&&`color${ie(r)}`,i&&`edge${ie(i)}`,`size${ie(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return ot(a,EZ,e)},CZ=oe(el,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${ie(n.color)}`],n.edge&&e[`edge${ie(n.edge)}`],e[`size${ie(n.size)}`]]}})(yt(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Pt(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),yt(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(oi()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(oi()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Pt((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${CA.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${CA.loading}`]:{color:"transparent"}}))),TZ=oe("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),IZ=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium",id:f,loading:h=null,loadingIndicator:p,...m}=r,b=vd(f),x=p??M.jsx(a4,{"aria-labelledby":b,color:"inherit",size:16}),_={...r,edge:i,color:a,disabled:l,disableFocusRipple:c,loading:h,loadingIndicator:x,size:u},w=SZ(_);return M.jsxs(CZ,{id:h?b:f,className:ve(w.root,s),centerRipple:!0,focusRipple:!c,disabled:l||h,ref:n,...m,ownerState:_,children:[typeof h=="boolean"&&M.jsx("span",{className:w.loadingWrapper,style:{display:"contents"},children:M.jsx(TZ,{className:w.loadingIndicator,ownerState:_,children:h&&x})}),o]})}),Ry=IZ,RZ=Kr(M.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function PZ(t){return it("MuiTypography",t)}Ze("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const AZ={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},kZ=PJ(),OZ=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=t,a={root:["root",o,t.align!=="inherit"&&`align${ie(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return ot(a,PZ,s)},NZ=oe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${ie(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(yt(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(oi()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${ie(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),TA={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},$Z=E.forwardRef(function(e,n){const{color:r,...i}=lt({props:e,name:"MuiTypography"}),o=!AZ[r],s=kZ({...i,...o&&{color:r}}),{align:a="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:f=!1,paragraph:h=!1,variant:p="body1",variantMapping:m=TA,...b}=s,x={...s,align:a,color:r,className:l,component:c,gutterBottom:u,noWrap:f,paragraph:h,variant:p,variantMapping:m},_=c||(h?"p":m[p]||TA[p])||"span",w=OZ(x);return M.jsx(NZ,{as:_,ref:n,className:ve(w.root,l),...b,ownerState:x,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...b.style}})}),Xi=$Z;function IA(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function MZ(t={}){const{ignoreAccents:e=!0,ignoreCase:n=!0,limit:r,matchFrom:i="any",stringify:o,trim:s=!1}=t;return(a,{inputValue:l,getOptionLabel:c})=>{let u=s?l.trim():l;n&&(u=u.toLowerCase()),e&&(u=IA(u));const f=u?a.filter(h=>{let p=(o||c)(h);return n&&(p=p.toLowerCase()),e&&(p=IA(p)),i==="start"?p.startsWith(u):p.includes(u)}):a;return typeof r=="number"?f.slice(0,r):f}}const DZ=MZ(),RA=5,LZ=t=>{var e;return t.current!==null&&((e=t.current.parentElement)==null?void 0:e.contains(document.activeElement))},FZ=[];function PA(t,e,n){if(e||t==null)return"";const r=n(t);return typeof r=="string"?r:""}function BZ(t){const{unstable_isActiveElementInListbox:e=LZ,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:i=!1,autoSelect:o=!1,blurOnSelect:s=!1,clearOnBlur:a=!t.freeSolo,clearOnEscape:l=!1,componentName:c="useAutocomplete",defaultValue:u=t.multiple?FZ:null,disableClearable:f=!1,disableCloseOnSelect:h=!1,disabled:p,disabledItemsFocusable:m=!1,disableListWrap:b=!1,filterOptions:x=DZ,filterSelectedOptions:_=!1,freeSolo:w=!1,getOptionDisabled:v,getOptionKey:S,getOptionLabel:k=J=>J.label??J,groupBy:N,handleHomeEndKeys:I=!t.freeSolo,id:T,includeInputInList:R=!1,inputValue:y,isOptionEqualToValue:P=(J,X)=>J===X,multiple:$=!1,onChange:A,onClose:W,onHighlightChange:q,onInputChange:j,onOpen:Y,open:U,openOnFocus:B=!1,options:K,readOnly:ne=!1,selectOnFocus:fe=!t.freeSolo,value:ge}=t,be=vd(T);let le=k;le=J=>{const X=k(J);return typeof X!="string"?String(X):X};const ke=E.useRef(!1),Oe=E.useRef(!0),Ie=E.useRef(null),Se=E.useRef(null),[me,De]=E.useState(null),[Re,ct]=E.useState(-1),Fe=i?0:-1,Be=E.useRef(Fe),At=E.useRef(PA(u,$,le)).current,[ue,Ke]=Xf({controlled:ge,default:u,name:c}),[Me,ut]=Xf({controlled:y,default:At,name:c,state:"inputValue"}),[Ye,Ee]=E.useState(!1),nn=E.useCallback((J,X,he)=>{if(!($?ue.length<X.length:X!==null)&&!a)return;const nt=PA(X,$,le);Me!==nt&&(ut(nt),j&&j(J,nt,he))},[le,Me,$,j,ut,a,ue]),[dt,rn]=Xf({controlled:U,default:!1,name:c,state:"open"}),[st,Et]=E.useState(!0),ht=!$&&ue!=null&&Me===le(ue),Vt=dt&&!ne,at=Vt?x(K.filter(J=>!(_&&($?ue:[ue]).some(X=>X!==null&&P(J,X)))),{inputValue:ht&&st?"":Me,getOptionLabel:le}):[],Qe=dQ({filteredOptions:at,value:ue,inputValue:Me});E.useEffect(()=>{const J=ue!==Qe.value;Ye&&!J||w&&!J||nn(null,ue,"reset")},[ue,nn,Ye,Qe.value,w]);const xn=dt&&at.length>0&&!ne,pn=ii(J=>{J===-1?Ie.current.focus():me.querySelector(`[data-tag-index="${J}"]`).focus()});E.useEffect(()=>{$&&Re>ue.length-1&&(ct(-1),pn(-1))},[ue,$,Re,pn]);function Yr(J,X){if(!Se.current||J<0||J>=at.length)return-1;let he=J;for(;;){const We=Se.current.querySelector(`[data-option-index="${he}"]`),nt=m?!1:!We||We.disabled||We.getAttribute("aria-disabled")==="true";if(We&&We.hasAttribute("tabindex")&&!nt)return he;if(X==="next"?he=(he+1)%at.length:he=(he-1+at.length)%at.length,he===J)return-1}}const we=ii(({event:J,index:X,reason:he})=>{if(Be.current=X,X===-1?Ie.current.removeAttribute("aria-activedescendant"):Ie.current.setAttribute("aria-activedescendant",`${be}-option-${X}`),q&&["mouse","keyboard","touch"].includes(he)&&q(J,X===-1?null:at[X],he),!Se.current)return;const We=Se.current.querySelector(`[role="option"].${n}-focused`);We&&(We.classList.remove(`${n}-focused`),We.classList.remove(`${n}-focusVisible`));let nt=Se.current;if(Se.current.getAttribute("role")!=="listbox"&&(nt=Se.current.parentElement.querySelector('[role="listbox"]')),!nt)return;if(X===-1){nt.scrollTop=0;return}const kt=Se.current.querySelector(`[data-option-index="${X}"]`);if(kt&&(kt.classList.add(`${n}-focused`),he==="keyboard"&&kt.classList.add(`${n}-focusVisible`),nt.scrollHeight>nt.clientHeight&&he!=="mouse"&&he!=="touch")){const Jt=kt,dr=nt.clientHeight+nt.scrollTop,ia=Jt.offsetTop+Jt.offsetHeight;ia>dr?nt.scrollTop=ia-nt.clientHeight:Jt.offsetTop-Jt.offsetHeight*(N?1.3:0)<nt.scrollTop&&(nt.scrollTop=Jt.offsetTop-Jt.offsetHeight*(N?1.3:0))}}),ze=ii(({event:J,diff:X,direction:he="next",reason:We})=>{if(!Vt)return;const kt=Yr((()=>{const Jt=at.length-1;if(X==="reset")return Fe;if(X==="start")return 0;if(X==="end")return Jt;const dr=Be.current+X;return dr<0?dr===-1&&R?-1:b&&Be.current!==-1||Math.abs(X)>1?0:Jt:dr>Jt?dr===Jt+1&&R?-1:b||Math.abs(X)>1?Jt:0:dr})(),he);if(we({index:kt,reason:We,event:J}),r&&X!=="reset")if(kt===-1)Ie.current.value=Me;else{const Jt=le(at[kt]);Ie.current.value=Jt,Jt.toLowerCase().indexOf(Me.toLowerCase())===0&&Me.length>0&&Ie.current.setSelectionRange(Me.length,Jt.length)}}),Wt=()=>{const J=(X,he)=>{const We=X?le(X):"",nt=he?le(he):"";return We===nt};if(Be.current!==-1&&Qe.filteredOptions&&Qe.filteredOptions.length!==at.length&&Qe.inputValue===Me&&($?ue.length===Qe.value.length&&Qe.value.every((X,he)=>le(ue[he])===le(X)):J(Qe.value,ue))){const X=Qe.filteredOptions[Be.current];if(X)return at.findIndex(he=>le(he)===le(X))}return-1},on=E.useCallback(()=>{if(!Vt)return;const J=Wt();if(J!==-1){Be.current=J;return}const X=$?ue[0]:ue;if(at.length===0||X==null){ze({diff:"reset"});return}if(Se.current){if(X!=null){const he=at[Be.current];if($&&he&&ue.findIndex(nt=>P(he,nt))!==-1)return;const We=at.findIndex(nt=>P(nt,X));We===-1?ze({diff:"reset"}):we({index:We});return}if(Be.current>=at.length-1){we({index:at.length-1});return}we({index:Be.current})}},[at.length,$?!1:ue,_,ze,we,Vt,Me,$]),Vn=ii(J=>{xy(Se,J),J&&on()});E.useEffect(()=>{on()},[on]);const Mn=J=>{dt||(rn(!0),Et(!0),Y&&Y(J))},Xr=(J,X)=>{dt&&(rn(!1),W&&W(J,X))},Un=(J,X,he,We)=>{if($){if(ue.length===X.length&&ue.every((nt,kt)=>nt===X[kt]))return}else if(ue===X)return;A&&A(J,X,he,We),Ke(X)},Qr=E.useRef(!1),Qt=(J,X,he="selectOption",We="options")=>{let nt=he,kt=X;if($){kt=Array.isArray(ue)?ue.slice():[];const Jt=kt.findIndex(dr=>P(X,dr));Jt===-1?kt.push(X):We!=="freeSolo"&&(kt.splice(Jt,1),nt="removeOption")}nn(J,kt,nt),Un(J,kt,nt,{option:X}),!h&&(!J||!J.ctrlKey&&!J.metaKey)&&Xr(J,nt),(s===!0||s==="touch"&&Qr.current||s==="mouse"&&!Qr.current)&&Ie.current.blur()};function lr(J,X){if(J===-1)return-1;let he=J;for(;;){if(X==="next"&&he===ue.length||X==="previous"&&he===-1)return-1;const We=me.querySelector(`[data-tag-index="${he}"]`);if(!We||!We.hasAttribute("tabindex")||We.disabled||We.getAttribute("aria-disabled")==="true")he+=X==="next"?1:-1;else return he}}const fo=(J,X)=>{if(!$)return;Me===""&&Xr(J,"toggleInput");let he=Re;Re===-1?Me===""&&X==="previous"&&(he=ue.length-1):(he+=X==="next"?1:-1,he<0&&(he=0),he===ue.length&&(he=-1)),he=lr(he,X),ct(he),pn(he)},br=J=>{ke.current=!0,ut(""),j&&j(J,"","clear"),Un(J,$?[]:null,"clear")},Lo=J=>X=>{if(J.onKeyDown&&J.onKeyDown(X),!X.defaultMuiPrevented&&(Re!==-1&&!["ArrowLeft","ArrowRight"].includes(X.key)&&(ct(-1),pn(-1)),X.which!==229))switch(X.key){case"Home":Vt&&I&&(X.preventDefault(),ze({diff:"start",direction:"next",reason:"keyboard",event:X}));break;case"End":Vt&&I&&(X.preventDefault(),ze({diff:"end",direction:"previous",reason:"keyboard",event:X}));break;case"PageUp":X.preventDefault(),ze({diff:-RA,direction:"previous",reason:"keyboard",event:X}),Mn(X);break;case"PageDown":X.preventDefault(),ze({diff:RA,direction:"next",reason:"keyboard",event:X}),Mn(X);break;case"ArrowDown":X.preventDefault(),ze({diff:1,direction:"next",reason:"keyboard",event:X}),Mn(X);break;case"ArrowUp":X.preventDefault(),ze({diff:-1,direction:"previous",reason:"keyboard",event:X}),Mn(X);break;case"ArrowLeft":fo(X,"previous");break;case"ArrowRight":fo(X,"next");break;case"Enter":if(Be.current!==-1&&Vt){const he=at[Be.current],We=v?v(he):!1;if(X.preventDefault(),We)return;Qt(X,he,"selectOption"),r&&Ie.current.setSelectionRange(Ie.current.value.length,Ie.current.value.length)}else w&&Me!==""&&ht===!1&&($&&X.preventDefault(),Qt(X,Me,"createOption","freeSolo"));break;case"Escape":Vt?(X.preventDefault(),X.stopPropagation(),Xr(X,"escape")):l&&(Me!==""||$&&ue.length>0)&&(X.preventDefault(),X.stopPropagation(),br(X));break;case"Backspace":if($&&!ne&&Me===""&&ue.length>0){const he=Re===-1?ue.length-1:Re,We=ue.slice();We.splice(he,1),Un(X,We,"removeOption",{option:ue[he]})}break;case"Delete":if($&&!ne&&Me===""&&ue.length>0&&Re!==-1){const he=Re,We=ue.slice();We.splice(he,1),Un(X,We,"removeOption",{option:ue[he]})}break}},pe=J=>{Ee(!0),B&&!ke.current&&Mn(J)},_e=J=>{if(e(Se)){Ie.current.focus();return}Ee(!1),Oe.current=!0,ke.current=!1,o&&Be.current!==-1&&Vt?Qt(J,at[Be.current],"blur"):o&&w&&Me!==""?Qt(J,Me,"blur","freeSolo"):a&&nn(J,ue,"blur"),Xr(J,"blur")},Ne=J=>{const X=J.target.value;Me!==X&&(ut(X),Et(!1),j&&j(J,X,"input")),X===""?!f&&!$&&Un(J,null,"clear"):Mn(J)},tt=J=>{const X=Number(J.currentTarget.getAttribute("data-option-index"));Be.current!==X&&we({event:J,index:X,reason:"mouse"})},Tt=J=>{we({event:J,index:Number(J.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Qr.current=!0},Sn=J=>{const X=Number(J.currentTarget.getAttribute("data-option-index"));Qt(J,at[X],"selectOption"),Qr.current=!1},Lr=J=>X=>{const he=ue.slice();he.splice(J,1),Un(X,he,"removeOption",{option:ue[J]})},_i=J=>{dt?Xr(J,"toggleInput"):Mn(J)},cr=J=>{J.currentTarget.contains(J.target)&&J.target.getAttribute("id")!==be&&J.preventDefault()},gn=J=>{J.currentTarget.contains(J.target)&&(Ie.current.focus(),fe&&Oe.current&&Ie.current.selectionEnd-Ie.current.selectionStart===0&&Ie.current.select(),Oe.current=!1)},Cn=J=>{!p&&(Me===""||!dt)&&_i(J)};let ur=w&&Me.length>0;ur=ur||($?ue.length>0:ue!==null);let Fo=at;return N&&(Fo=at.reduce((J,X,he)=>{const We=N(X);return J.length>0&&J[J.length-1].group===We?J[J.length-1].options.push(X):J.push({key:he,index:he,group:We,options:[X]}),J},[])),p&&Ye&&_e(),{getRootProps:(J={})=>({...J,onKeyDown:Lo(J),onMouseDown:cr,onClick:gn}),getInputLabelProps:()=>({id:`${be}-label`,htmlFor:be}),getInputProps:()=>({id:be,value:Me,onBlur:_e,onFocus:pe,onChange:Ne,onMouseDown:Cn,"aria-activedescendant":Vt?"":null,"aria-autocomplete":r?"both":"list","aria-controls":xn?`${be}-listbox`:void 0,"aria-expanded":xn,autoComplete:"off",ref:Ie,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:p}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:br}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:_i}),getTagProps:({index:J})=>({key:J,"data-tag-index":J,tabIndex:-1,...!ne&&{onDelete:Lr(J)}}),getListboxProps:()=>({role:"listbox",id:`${be}-listbox`,"aria-labelledby":`${be}-label`,ref:Vn,onMouseDown:J=>{J.preventDefault()}}),getOptionProps:({index:J,option:X})=>{const he=($?ue:[ue]).some(nt=>nt!=null&&P(X,nt)),We=v?v(X):!1;return{key:(S==null?void 0:S(X))??le(X),tabIndex:-1,role:"option",id:`${be}-option-${J}`,onMouseMove:tt,onClick:Sn,onTouchStart:Tt,"data-option-index":J,"aria-disabled":We,"aria-selected":he}},id:be,inputValue:Me,value:ue,dirty:ur,expanded:Vt&&me,popupOpen:Vt,focused:Ye||Re!==-1,anchorEl:me,setAnchorEl:De,focusedTag:Re,groupedOptions:Fo}}var di="top",oo="bottom",so="right",fi="left",FS="auto",Ap=[di,oo,so,fi],Qu="start",Fh="end",VZ="clippingParents",l4="viewport",rf="popper",UZ="reference",AA=Ap.reduce(function(t,e){return t.concat([e+"-"+Qu,e+"-"+Fh])},[]),c4=[].concat(Ap,[FS]).reduce(function(t,e){return t.concat([e,e+"-"+Qu,e+"-"+Fh])},[]),jZ="beforeRead",zZ="read",WZ="afterRead",HZ="beforeMain",GZ="main",qZ="afterMain",KZ="beforeWrite",YZ="write",XZ="afterWrite",QZ=[jZ,zZ,WZ,HZ,GZ,qZ,KZ,YZ,XZ];function as(t){return t?(t.nodeName||"").toLowerCase():null}function Fi(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Jl(t){var e=Fi(t).Element;return t instanceof e||t instanceof Element}function to(t){var e=Fi(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function BS(t){if(typeof ShadowRoot>"u")return!1;var e=Fi(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function JZ(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!to(o)||!as(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function ZZ(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,c){return l[c]="",l},{});!to(i)||!as(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const eee={name:"applyStyles",enabled:!0,phase:"write",fn:JZ,effect:ZZ,requires:["computeStyles"]};function rs(t){return t.split("-")[0]}var Vl=Math.max,Py=Math.min,Ju=Math.round;function xE(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function u4(){return!/^((?!chrome|android).)*safari/i.test(xE())}function Zu(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&to(t)&&(i=t.offsetWidth>0&&Ju(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Ju(r.height)/t.offsetHeight||1);var s=Jl(t)?Fi(t):window,a=s.visualViewport,l=!u4()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/o,f=r.width/i,h=r.height/o;return{width:f,height:h,top:u,right:c+f,bottom:u+h,left:c,x:c,y:u}}function VS(t){var e=Zu(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function d4(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&BS(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ks(t){return Fi(t).getComputedStyle(t)}function tee(t){return["table","td","th"].indexOf(as(t))>=0}function pl(t){return((Jl(t)?t.ownerDocument:t.document)||window.document).documentElement}function P0(t){return as(t)==="html"?t:t.assignedSlot||t.parentNode||(BS(t)?t.host:null)||pl(t)}function kA(t){return!to(t)||Ks(t).position==="fixed"?null:t.offsetParent}function nee(t){var e=/firefox/i.test(xE()),n=/Trident/i.test(xE());if(n&&to(t)){var r=Ks(t);if(r.position==="fixed")return null}var i=P0(t);for(BS(i)&&(i=i.host);to(i)&&["html","body"].indexOf(as(i))<0;){var o=Ks(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function kp(t){for(var e=Fi(t),n=kA(t);n&&tee(n)&&Ks(n).position==="static";)n=kA(n);return n&&(as(n)==="html"||as(n)==="body"&&Ks(n).position==="static")?e:n||nee(t)||e}function US(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Qf(t,e,n){return Vl(t,Py(e,n))}function ree(t,e,n){var r=Qf(t,e,n);return r>n?n:r}function f4(){return{top:0,right:0,bottom:0,left:0}}function h4(t){return Object.assign({},f4(),t)}function p4(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var iee=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,h4(typeof e!="number"?e:p4(e,Ap))};function oee(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=rs(n.placement),l=US(a),c=[fi,so].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!s)){var f=iee(i.padding,n),h=VS(o),p=l==="y"?di:fi,m=l==="y"?oo:so,b=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],x=s[l]-n.rects.reference[l],_=kp(o),w=_?l==="y"?_.clientHeight||0:_.clientWidth||0:0,v=b/2-x/2,S=f[p],k=w-h[u]-f[m],N=w/2-h[u]/2+v,I=Qf(S,N,k),T=l;n.modifiersData[r]=(e={},e[T]=I,e.centerOffset=I-N,e)}}function see(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||d4(e.elements.popper,i)&&(e.elements.arrow=i))}const aee={name:"arrow",enabled:!0,phase:"main",fn:oee,effect:see,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ed(t){return t.split("-")[1]}var lee={top:"auto",right:"auto",bottom:"auto",left:"auto"};function cee(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Ju(n*i)/i||0,y:Ju(r*i)/i||0}}function OA(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,f=t.isFixed,h=s.x,p=h===void 0?0:h,m=s.y,b=m===void 0?0:m,x=typeof u=="function"?u({x:p,y:b}):{x:p,y:b};p=x.x,b=x.y;var _=s.hasOwnProperty("x"),w=s.hasOwnProperty("y"),v=fi,S=di,k=window;if(c){var N=kp(n),I="clientHeight",T="clientWidth";if(N===Fi(n)&&(N=pl(n),Ks(N).position!=="static"&&a==="absolute"&&(I="scrollHeight",T="scrollWidth")),N=N,i===di||(i===fi||i===so)&&o===Fh){S=oo;var R=f&&N===k&&k.visualViewport?k.visualViewport.height:N[I];b-=R-r.height,b*=l?1:-1}if(i===fi||(i===di||i===oo)&&o===Fh){v=so;var y=f&&N===k&&k.visualViewport?k.visualViewport.width:N[T];p-=y-r.width,p*=l?1:-1}}var P=Object.assign({position:a},c&&lee),$=u===!0?cee({x:p,y:b},Fi(n)):{x:p,y:b};if(p=$.x,b=$.y,l){var A;return Object.assign({},P,(A={},A[S]=w?"0":"",A[v]=_?"0":"",A.transform=(k.devicePixelRatio||1)<=1?"translate("+p+"px, "+b+"px)":"translate3d("+p+"px, "+b+"px, 0)",A))}return Object.assign({},P,(e={},e[S]=w?b+"px":"",e[v]=_?p+"px":"",e.transform="",e))}function uee(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:rs(e.placement),variation:ed(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,OA(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,OA(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const dee={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:uee,data:{}};var Og={passive:!0};function fee(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=Fi(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,Og)}),a&&l.addEventListener("resize",n.update,Og),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Og)}),a&&l.removeEventListener("resize",n.update,Og)}}const hee={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:fee,data:{}};var pee={left:"right",right:"left",bottom:"top",top:"bottom"};function Cm(t){return t.replace(/left|right|bottom|top/g,function(e){return pee[e]})}var gee={start:"end",end:"start"};function NA(t){return t.replace(/start|end/g,function(e){return gee[e]})}function jS(t){var e=Fi(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function zS(t){return Zu(pl(t)).left+jS(t).scrollLeft}function mee(t,e){var n=Fi(t),r=pl(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=u4();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+zS(t),y:l}}function yee(t){var e,n=pl(t),r=jS(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Vl(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Vl(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+zS(t),l=-r.scrollTop;return Ks(i||n).direction==="rtl"&&(a+=Vl(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function WS(t){var e=Ks(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function g4(t){return["html","body","#document"].indexOf(as(t))>=0?t.ownerDocument.body:to(t)&&WS(t)?t:g4(P0(t))}function Jf(t,e){var n;e===void 0&&(e=[]);var r=g4(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Fi(r),s=i?[o].concat(o.visualViewport||[],WS(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(Jf(P0(s)))}function SE(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function vee(t,e){var n=Zu(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function $A(t,e,n){return e===l4?SE(mee(t,n)):Jl(e)?vee(e,n):SE(yee(pl(t)))}function _ee(t){var e=Jf(P0(t)),n=["absolute","fixed"].indexOf(Ks(t).position)>=0,r=n&&to(t)?kp(t):t;return Jl(r)?e.filter(function(i){return Jl(i)&&d4(i,r)&&as(i)!=="body"}):[]}function bee(t,e,n,r){var i=e==="clippingParents"?_ee(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,c){var u=$A(t,c,r);return l.top=Vl(u.top,l.top),l.right=Py(u.right,l.right),l.bottom=Py(u.bottom,l.bottom),l.left=Vl(u.left,l.left),l},$A(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function m4(t){var e=t.reference,n=t.element,r=t.placement,i=r?rs(r):null,o=r?ed(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case di:l={x:s,y:e.y-n.height};break;case oo:l={x:s,y:e.y+e.height};break;case so:l={x:e.x+e.width,y:a};break;case fi:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?US(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case Qu:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Fh:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Bh(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?VZ:a,c=n.rootBoundary,u=c===void 0?l4:c,f=n.elementContext,h=f===void 0?rf:f,p=n.altBoundary,m=p===void 0?!1:p,b=n.padding,x=b===void 0?0:b,_=h4(typeof x!="number"?x:p4(x,Ap)),w=h===rf?UZ:rf,v=t.rects.popper,S=t.elements[m?w:h],k=bee(Jl(S)?S:S.contextElement||pl(t.elements.popper),l,u,s),N=Zu(t.elements.reference),I=m4({reference:N,element:v,strategy:"absolute",placement:i}),T=SE(Object.assign({},v,I)),R=h===rf?T:N,y={top:k.top-R.top+_.top,bottom:R.bottom-k.bottom+_.bottom,left:k.left-R.left+_.left,right:R.right-k.right+_.right},P=t.modifiersData.offset;if(h===rf&&P){var $=P[i];Object.keys(y).forEach(function(A){var W=[so,oo].indexOf(A)>=0?1:-1,q=[di,oo].indexOf(A)>=0?"y":"x";y[A]+=$[q]*W})}return y}function wee(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?c4:l,u=ed(r),f=u?a?AA:AA.filter(function(m){return ed(m)===u}):Ap,h=f.filter(function(m){return c.indexOf(m)>=0});h.length===0&&(h=f);var p=h.reduce(function(m,b){return m[b]=Bh(t,{placement:b,boundary:i,rootBoundary:o,padding:s})[rs(b)],m},{});return Object.keys(p).sort(function(m,b){return p[m]-p[b]})}function Eee(t){if(rs(t)===FS)return[];var e=Cm(t);return[NA(t),e,NA(e)]}function xee(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,f=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,b=n.allowedAutoPlacements,x=e.options.placement,_=rs(x),w=_===x,v=l||(w||!m?[Cm(x)]:Eee(x)),S=[x].concat(v).reduce(function(be,le){return be.concat(rs(le)===FS?wee(e,{placement:le,boundary:u,rootBoundary:f,padding:c,flipVariations:m,allowedAutoPlacements:b}):le)},[]),k=e.rects.reference,N=e.rects.popper,I=new Map,T=!0,R=S[0],y=0;y<S.length;y++){var P=S[y],$=rs(P),A=ed(P)===Qu,W=[di,oo].indexOf($)>=0,q=W?"width":"height",j=Bh(e,{placement:P,boundary:u,rootBoundary:f,altBoundary:h,padding:c}),Y=W?A?so:fi:A?oo:di;k[q]>N[q]&&(Y=Cm(Y));var U=Cm(Y),B=[];if(o&&B.push(j[$]<=0),a&&B.push(j[Y]<=0,j[U]<=0),B.every(function(be){return be})){R=P,T=!1;break}I.set(P,B)}if(T)for(var K=m?3:1,ne=function(le){var ke=S.find(function(Oe){var Ie=I.get(Oe);if(Ie)return Ie.slice(0,le).every(function(Se){return Se})});if(ke)return R=ke,"break"},fe=K;fe>0;fe--){var ge=ne(fe);if(ge==="break")break}e.placement!==R&&(e.modifiersData[r]._skip=!0,e.placement=R,e.reset=!0)}}const See={name:"flip",enabled:!0,phase:"main",fn:xee,requiresIfExists:["offset"],data:{_skip:!1}};function MA(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function DA(t){return[di,so,oo,fi].some(function(e){return t[e]>=0})}function Cee(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=Bh(e,{elementContext:"reference"}),a=Bh(e,{altBoundary:!0}),l=MA(s,r),c=MA(a,i,o),u=DA(l),f=DA(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const Tee={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Cee};function Iee(t,e,n){var r=rs(t),i=[fi,di].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[fi,so].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function Ree(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=c4.reduce(function(u,f){return u[f]=Iee(f,e.rects,o),u},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}const Pee={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ree};function Aee(t){var e=t.state,n=t.name;e.modifiersData[n]=m4({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const kee={name:"popperOffsets",enabled:!0,phase:"read",fn:Aee,data:{}};function Oee(t){return t==="x"?"y":"x"}function Nee(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,f=n.padding,h=n.tether,p=h===void 0?!0:h,m=n.tetherOffset,b=m===void 0?0:m,x=Bh(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),_=rs(e.placement),w=ed(e.placement),v=!w,S=US(_),k=Oee(S),N=e.modifiersData.popperOffsets,I=e.rects.reference,T=e.rects.popper,R=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,y=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),P=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,$={x:0,y:0};if(N){if(o){var A,W=S==="y"?di:fi,q=S==="y"?oo:so,j=S==="y"?"height":"width",Y=N[S],U=Y+x[W],B=Y-x[q],K=p?-T[j]/2:0,ne=w===Qu?I[j]:T[j],fe=w===Qu?-T[j]:-I[j],ge=e.elements.arrow,be=p&&ge?VS(ge):{width:0,height:0},le=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:f4(),ke=le[W],Oe=le[q],Ie=Qf(0,I[j],be[j]),Se=v?I[j]/2-K-Ie-ke-y.mainAxis:ne-Ie-ke-y.mainAxis,me=v?-I[j]/2+K+Ie+Oe+y.mainAxis:fe+Ie+Oe+y.mainAxis,De=e.elements.arrow&&kp(e.elements.arrow),Re=De?S==="y"?De.clientTop||0:De.clientLeft||0:0,ct=(A=P==null?void 0:P[S])!=null?A:0,Fe=Y+Se-ct-Re,Be=Y+me-ct,At=Qf(p?Py(U,Fe):U,Y,p?Vl(B,Be):B);N[S]=At,$[S]=At-Y}if(a){var ue,Ke=S==="x"?di:fi,Me=S==="x"?oo:so,ut=N[k],Ye=k==="y"?"height":"width",Ee=ut+x[Ke],nn=ut-x[Me],dt=[di,fi].indexOf(_)!==-1,rn=(ue=P==null?void 0:P[k])!=null?ue:0,st=dt?Ee:ut-I[Ye]-T[Ye]-rn+y.altAxis,Et=dt?ut+I[Ye]+T[Ye]-rn-y.altAxis:nn,ht=p&&dt?ree(st,ut,Et):Qf(p?st:Ee,ut,p?Et:nn);N[k]=ht,$[k]=ht-ut}e.modifiersData[r]=$}}const $ee={name:"preventOverflow",enabled:!0,phase:"main",fn:Nee,requiresIfExists:["offset"]};function Mee(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Dee(t){return t===Fi(t)||!to(t)?jS(t):Mee(t)}function Lee(t){var e=t.getBoundingClientRect(),n=Ju(e.width)/t.offsetWidth||1,r=Ju(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Fee(t,e,n){n===void 0&&(n=!1);var r=to(e),i=to(e)&&Lee(e),o=pl(e),s=Zu(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((as(e)!=="body"||WS(o))&&(a=Dee(e)),to(e)?(l=Zu(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=zS(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Bee(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function Vee(t){var e=Bee(t);return QZ.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Uee(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function jee(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var LA={placement:"bottom",modifiers:[],strategy:"absolute"};function FA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function zee(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?LA:i;return function(a,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},LA,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],h=!1,p={state:u,setOptions:function(_){var w=typeof _=="function"?_(u.options):_;b(),u.options=Object.assign({},o,u.options,w),u.scrollParents={reference:Jl(a)?Jf(a):a.contextElement?Jf(a.contextElement):[],popper:Jf(l)};var v=Vee(jee([].concat(r,u.options.modifiers)));return u.orderedModifiers=v.filter(function(S){return S.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var _=u.elements,w=_.reference,v=_.popper;if(FA(w,v)){u.rects={reference:Fee(w,kp(v),u.options.strategy==="fixed"),popper:VS(v)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(y){return u.modifiersData[y.name]=Object.assign({},y.data)});for(var S=0;S<u.orderedModifiers.length;S++){if(u.reset===!0){u.reset=!1,S=-1;continue}var k=u.orderedModifiers[S],N=k.fn,I=k.options,T=I===void 0?{}:I,R=k.name;typeof N=="function"&&(u=N({state:u,options:T,name:R,instance:p})||u)}}}},update:Uee(function(){return new Promise(function(x){p.forceUpdate(),x(u)})}),destroy:function(){b(),h=!0}};if(!FA(a,l))return p;p.setOptions(c).then(function(x){!h&&c.onFirstUpdate&&c.onFirstUpdate(x)});function m(){u.orderedModifiers.forEach(function(x){var _=x.name,w=x.options,v=w===void 0?{}:w,S=x.effect;if(typeof S=="function"){var k=S({state:u,name:_,instance:p,options:v}),N=function(){};f.push(k||N)}})}function b(){f.forEach(function(x){return x()}),f=[]}return p}}var Wee=[hee,kee,dee,eee,Pee,See,$ee,aee,Tee],Hee=zee({defaultModifiers:Wee});function Gee(t){return typeof t=="function"?t():t}const qee=E.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=E.useState(null),l=sr(E.isValidElement(r)?Pp(r):null,n);if(No(()=>{o||a(Gee(i)||document.body)},[i,o]),No(()=>{if(s&&!o)return xy(n,s),()=>{xy(n,null)}},[n,s,o]),o){if(E.isValidElement(r)){const c={ref:l};return E.cloneElement(r,c)}return r}return s&&np.createPortal(r,s)}),y4=qee;function Kee(t){return it("MuiPopper",t)}Ze("MuiPopper",["root"]);function Yee(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function CE(t){return typeof t=="function"?t():t}function Xee(t){return t.nodeType!==void 0}const Qee=t=>{const{classes:e}=t;return ot({root:["root"]},Kee,e)},Jee={},Zee=E.forwardRef(function(e,n){const{anchorEl:r,children:i,direction:o,disablePortal:s,modifiers:a,open:l,placement:c,popperOptions:u,popperRef:f,slotProps:h={},slots:p={},TransitionProps:m,ownerState:b,...x}=e,_=E.useRef(null),w=sr(_,n),v=E.useRef(null),S=sr(v,f),k=E.useRef(S);No(()=>{k.current=S},[S]),E.useImperativeHandle(f,()=>v.current,[]);const N=Yee(c,o),[I,T]=E.useState(N),[R,y]=E.useState(CE(r));E.useEffect(()=>{v.current&&v.current.forceUpdate()}),E.useEffect(()=>{r&&y(CE(r))},[r]),No(()=>{if(!R||!l)return;const q=U=>{T(U.placement)};let j=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:U})=>{q(U)}}];a!=null&&(j=j.concat(a)),u&&u.modifiers!=null&&(j=j.concat(u.modifiers));const Y=Hee(R,_.current,{placement:N,...u,modifiers:j});return k.current(Y),()=>{Y.destroy(),k.current(null)}},[R,s,a,l,u,N]);const P={placement:I};m!==null&&(P.TransitionProps=m);const $=Qee(e),A=p.root??"div",W=Xu({elementType:A,externalSlotProps:h.root,externalForwardedProps:x,additionalProps:{role:"tooltip",ref:w},ownerState:e,className:$.root});return M.jsx(A,{...W,children:typeof i=="function"?i(P):i})}),ete=E.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:f="bottom",popperOptions:h=Jee,popperRef:p,style:m,transition:b=!1,slotProps:x={},slots:_={},...w}=e,[v,S]=E.useState(!0),k=()=>{S(!1)},N=()=>{S(!0)};if(!l&&!u&&(!b||v))return null;let I;if(o)I=o;else if(r){const y=CE(r);I=y&&Xee(y)?gi(y).body:gi(null).body}const T=!u&&l&&(!b||v)?"none":void 0,R=b?{in:u,onEnter:k,onExited:N}:void 0;return M.jsx(y4,{disablePortal:a,container:I,children:M.jsx(Zee,{anchorEl:r,direction:s,disablePortal:a,modifiers:c,ref:n,open:b?!v:u,placement:f,popperOptions:h,popperRef:p,slotProps:x,slots:_,...w,style:{position:"fixed",top:0,left:0,display:T,...m},TransitionProps:R,children:i})})}),tte=ete,nte=oe(tte,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),rte=E.forwardRef(function(e,n){const r=I0(),i=lt({props:e,name:"MuiPopper"}),{anchorEl:o,component:s,components:a,componentsProps:l,container:c,disablePortal:u,keepMounted:f,modifiers:h,open:p,placement:m,popperOptions:b,popperRef:x,transition:_,slots:w,slotProps:v,...S}=i,k=(w==null?void 0:w.root)??(a==null?void 0:a.Root),N={anchorEl:o,container:c,disablePortal:u,keepMounted:f,modifiers:h,open:p,placement:m,popperOptions:b,popperRef:x,transition:_,...S};return M.jsx(nte,{as:s,direction:r?"rtl":"ltr",slots:{root:k},slotProps:v??l,...N,ref:n})}),v4=rte;function ite(t){return it("MuiListSubheader",t)}Ze("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const ote=t=>{const{classes:e,color:n,disableGutters:r,inset:i,disableSticky:o}=t,s={root:["root",n!=="default"&&`color${ie(n)}`,!r&&"gutters",i&&"inset",!o&&"sticky"]};return ot(s,ite,e)},ste=oe("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${ie(n.color)}`],!n.disableGutters&&e.gutters,n.inset&&e.inset,!n.disableSticky&&e.sticky]}})(yt(({theme:t})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(t.vars||t).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:72}},{props:({ownerState:e})=>!e.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper}}]}))),TE=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiListSubheader"}),{className:i,color:o="default",component:s="li",disableGutters:a=!1,disableSticky:l=!1,inset:c=!1,...u}=r,f={...r,color:o,component:s,disableGutters:a,disableSticky:l,inset:c},h=ote(f);return M.jsx(ste,{as:s,className:ve(h.root,i),ref:n,ownerState:f,...u})});TE&&(TE.muiSkipListHighlight=!0);const ate=TE,lte=Kr(M.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function cte(t){return it("MuiChip",t)}const ute=Ze("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),_t=ute,dte=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=t,c={root:["root",l,n&&"disabled",`size${ie(r)}`,`color${ie(i)}`,a&&"clickable",a&&`clickableColor${ie(i)}`,s&&"deletable",s&&`deletableColor${ie(i)}`,`${l}${ie(i)}`],label:["label",`label${ie(r)}`],avatar:["avatar",`avatar${ie(r)}`,`avatarColor${ie(i)}`],icon:["icon",`icon${ie(r)}`,`iconColor${ie(o)}`],deleteIcon:["deleteIcon",`deleteIcon${ie(r)}`,`deleteIconColor${ie(i)}`,`deleteIcon${ie(l)}Color${ie(i)}`]};return ot(c,cte,e)},fte=oe("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{[`& .${_t.avatar}`]:e.avatar},{[`& .${_t.avatar}`]:e[`avatar${ie(a)}`]},{[`& .${_t.avatar}`]:e[`avatarColor${ie(r)}`]},{[`& .${_t.icon}`]:e.icon},{[`& .${_t.icon}`]:e[`icon${ie(a)}`]},{[`& .${_t.icon}`]:e[`iconColor${ie(i)}`]},{[`& .${_t.deleteIcon}`]:e.deleteIcon},{[`& .${_t.deleteIcon}`]:e[`deleteIcon${ie(a)}`]},{[`& .${_t.deleteIcon}`]:e[`deleteIconColor${ie(r)}`]},{[`& .${_t.deleteIcon}`]:e[`deleteIcon${ie(l)}Color${ie(r)}`]},e.root,e[`size${ie(a)}`],e[`color${ie(r)}`],o&&e.clickable,o&&r!=="default"&&e[`clickableColor${ie(r)})`],s&&e.deletable,s&&r!=="default"&&e[`deletableColor${ie(r)}`],e[l],e[`${l}${ie(r)}`]]}})(yt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${_t.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${_t.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${_t.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${_t.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${_t.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${_t.icon}`]:{marginLeft:5,marginRight:-6},[`& .${_t.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:Pt(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Pt(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${_t.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${_t.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(oi(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${_t.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].contrastTextChannel} / 0.7)`:Pt(t.palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${_t.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${_t.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${_t.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Pt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(oi(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${_t.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Pt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${_t.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Pt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(oi(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${_t.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${_t.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${_t.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${_t.avatar}`]:{marginLeft:4},[`& .${_t.avatarSmall}`]:{marginLeft:2},[`& .${_t.icon}`]:{marginLeft:4},[`& .${_t.iconSmall}`]:{marginLeft:2},[`& .${_t.deleteIcon}`]:{marginRight:5},[`& .${_t.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(oi()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:Pt(t.palette[n].main,.7)}`,[`&.${_t.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Pt(t.palette[n].main,t.palette.action.hoverOpacity)},[`&.${_t.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.focusOpacity})`:Pt(t.palette[n].main,t.palette.action.focusOpacity)},[`& .${_t.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:Pt(t.palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}))]}})),hte=oe("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${ie(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function BA(t){return t.key==="Backspace"||t.key==="Delete"}const pte=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:f,label:h,onClick:p,onDelete:m,onKeyDown:b,onKeyUp:x,size:_="medium",variant:w="filled",tabIndex:v,skipFocusWhenDisabled:S=!1,...k}=r,N=E.useRef(null),I=sr(N,n),T=B=>{B.stopPropagation(),m&&m(B)},R=B=>{B.currentTarget===B.target&&BA(B)&&B.preventDefault(),b&&b(B)},y=B=>{B.currentTarget===B.target&&m&&BA(B)&&m(B),x&&x(B)},P=s!==!1&&p?!0:s,$=P||m?el:l||"div",A={...r,component:$,disabled:u,size:_,color:a,iconColor:E.isValidElement(f)&&f.props.color||a,onDelete:!!m,clickable:P,variant:w},W=dte(A),q=$===el?{component:l||"div",focusVisibleClassName:W.focusVisible,...m&&{disableRipple:!0}}:{};let j=null;m&&(j=c&&E.isValidElement(c)?E.cloneElement(c,{className:ve(c.props.className,W.deleteIcon),onClick:T}):M.jsx(lte,{className:ve(W.deleteIcon),onClick:T}));let Y=null;i&&E.isValidElement(i)&&(Y=E.cloneElement(i,{className:ve(W.avatar,i.props.className)}));let U=null;return f&&E.isValidElement(f)&&(U=E.cloneElement(f,{className:ve(W.icon,f.props.className)})),M.jsxs(fte,{as:$,className:ve(W.root,o),disabled:P&&u?!0:void 0,onClick:p,onKeyDown:R,onKeyUp:y,ref:I,tabIndex:S&&u?-1:v,ownerState:A,...q,...k,children:[Y||U,M.jsx(hte,{className:ve(W.label),ownerState:A,children:h}),j]})}),gte=pte;function Ng(t){return parseInt(t,10)||0}const mte={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function yte(t){for(const e in t)return!1;return!0}function VA(t){return yte(t)||t.outerHeightStyle===0&&!t.overflowing}const vte=E.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a,...l}=e,{current:c}=E.useRef(a!=null),u=E.useRef(null),f=sr(n,u),h=E.useRef(null),p=E.useRef(null),m=E.useCallback(()=>{const v=u.current,S=p.current;if(!v||!S)return;const N=$o(v).getComputedStyle(v);if(N.width==="0px")return{outerHeightStyle:0,overflowing:!1};S.style.width=N.width,S.value=v.value||e.placeholder||"x",S.value.slice(-1)===`
`&&(S.value+=" ");const I=N.boxSizing,T=Ng(N.paddingBottom)+Ng(N.paddingTop),R=Ng(N.borderBottomWidth)+Ng(N.borderTopWidth),y=S.scrollHeight;S.value="x";const P=S.scrollHeight;let $=y;o&&($=Math.max(Number(o)*P,$)),i&&($=Math.min(Number(i)*P,$)),$=Math.max($,P);const A=$+(I==="border-box"?T+R:0),W=Math.abs($-y)<=1;return{outerHeightStyle:A,overflowing:W}},[i,o,e.placeholder]),b=ii(()=>{const v=u.current,S=m();if(!v||!S||VA(S))return!1;const k=S.outerHeightStyle;return h.current!=null&&h.current!==k}),x=E.useCallback(()=>{const v=u.current,S=m();if(!v||!S||VA(S))return;const k=S.outerHeightStyle;h.current!==k&&(h.current=k,v.style.height=`${k}px`),v.style.overflow=S.overflowing?"hidden":""},[m]),_=E.useRef(-1);No(()=>{const v=T0(x),S=u==null?void 0:u.current;if(!S)return;const k=$o(S);k.addEventListener("resize",v);let N;return typeof ResizeObserver<"u"&&(N=new ResizeObserver(()=>{b()&&(N.unobserve(S),cancelAnimationFrame(_.current),x(),_.current=requestAnimationFrame(()=>{N.observe(S)}))}),N.observe(S)),()=>{v.clear(),cancelAnimationFrame(_.current),k.removeEventListener("resize",v),N&&N.disconnect()}},[m,x,b]),No(()=>{x()});const w=v=>{c||x(),r&&r(v)};return M.jsxs(E.Fragment,{children:[M.jsx("textarea",{value:a,onChange:w,ref:f,rows:o,style:s,...l}),M.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:{...mte.shadow,...s,paddingTop:0,paddingBottom:0}})]})}),_te=vte;function IE(t){return typeof t=="string"}function Ed({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const bte=E.createContext(void 0),HS=bte;function xd(){return E.useContext(HS)}function UA(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Ay(t,e=!1){return t&&(UA(t.value)&&t.value!==""||e&&UA(t.defaultValue)&&t.defaultValue!=="")}function wte(t){return t.startAdornment}function Ete(t){return it("MuiInputBase",t)}const xte=Ze("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Ci=xte;var jA;const A0=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${ie(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},k0=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},Ste=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:f,size:h,startAdornment:p,type:m}=t,b={root:["root",`color${ie(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&h!=="medium"&&`size${ie(h)}`,u&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",u&&"inputMultiline",h==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",f&&"readOnly"]};return ot(b,Ete,e)},O0=oe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:A0})(yt(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Ci.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),N0=oe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:k0})(yt(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Ci.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Ci.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),zA=RJ({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),Cte=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:s,className:a,color:l,components:c={},componentsProps:u={},defaultValue:f,disabled:h,disableInjectingGlobalStyles:p,endAdornment:m,error:b,fullWidth:x=!1,id:_,inputComponent:w="input",inputProps:v={},inputRef:S,margin:k,maxRows:N,minRows:I,multiline:T=!1,name:R,onBlur:y,onChange:P,onClick:$,onFocus:A,onKeyDown:W,onKeyUp:q,placeholder:j,readOnly:Y,renderSuffix:U,rows:B,size:K,slotProps:ne={},slots:fe={},startAdornment:ge,type:be="text",value:le,...ke}=r,Oe=v.value!=null?v.value:le,{current:Ie}=E.useRef(Oe!=null),Se=E.useRef(),me=E.useCallback(Qe=>{},[]),De=sr(Se,S,v.ref,me),[Re,ct]=E.useState(!1),Fe=xd(),Be=Ed({props:r,muiFormControl:Fe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Be.focused=Fe?Fe.focused:Re,E.useEffect(()=>{!Fe&&h&&Re&&(ct(!1),y&&y())},[Fe,h,Re,y]);const At=Fe&&Fe.onFilled,ue=Fe&&Fe.onEmpty,Ke=E.useCallback(Qe=>{Ay(Qe)?At&&At():ue&&ue()},[At,ue]);No(()=>{Ie&&Ke({value:Oe})},[Oe,Ke,Ie]);const Me=Qe=>{A&&A(Qe),v.onFocus&&v.onFocus(Qe),Fe&&Fe.onFocus?Fe.onFocus(Qe):ct(!0)},ut=Qe=>{y&&y(Qe),v.onBlur&&v.onBlur(Qe),Fe&&Fe.onBlur?Fe.onBlur(Qe):ct(!1)},Ye=(Qe,...xn)=>{if(!Ie){const pn=Qe.target||Se.current;if(pn==null)throw new Error(Gs(1));Ke({value:pn.value})}v.onChange&&v.onChange(Qe,...xn),P&&P(Qe,...xn)};E.useEffect(()=>{Ke(Se.current)},[]);const Ee=Qe=>{Se.current&&Qe.currentTarget===Qe.target&&Se.current.focus(),$&&$(Qe)};let nn=w,dt=v;T&&nn==="input"&&(B?dt={type:void 0,minRows:B,maxRows:B,...dt}:dt={type:void 0,maxRows:N,minRows:I,...dt},nn=_te);const rn=Qe=>{Ke(Qe.animationName==="mui-auto-fill-cancel"?Se.current:{value:"x"})};E.useEffect(()=>{Fe&&Fe.setAdornedStart(!!ge)},[Fe,ge]);const st={...r,color:Be.color||"primary",disabled:Be.disabled,endAdornment:m,error:Be.error,focused:Be.focused,formControl:Fe,fullWidth:x,hiddenLabel:Be.hiddenLabel,multiline:T,size:Be.size,startAdornment:ge,type:be},Et=Ste(st),ht=fe.root||c.Root||O0,Vt=ne.root||u.root||{},at=fe.input||c.Input||N0;return dt={...dt,...ne.input??u.input},M.jsxs(E.Fragment,{children:[!p&&typeof zA=="function"&&(jA||(jA=M.jsx(zA,{}))),M.jsxs(ht,{...Vt,ref:n,onClick:Ee,...ke,...!IE(ht)&&{ownerState:{...st,...Vt.ownerState}},className:ve(Et.root,Vt.className,a,Y&&"MuiInputBase-readOnly"),children:[ge,M.jsx(HS.Provider,{value:null,children:M.jsx(at,{"aria-invalid":Be.error,"aria-describedby":i,autoComplete:o,autoFocus:s,defaultValue:f,disabled:Be.disabled,id:_,onAnimationStart:rn,name:R,placeholder:j,readOnly:Y,required:Be.required,rows:B,value:Oe,onKeyDown:W,onKeyUp:q,type:be,...dt,...!IE(at)&&{as:nn,ownerState:{...st,...dt.ownerState}},ref:De,className:ve(Et.input,dt.className,Y&&"MuiInputBase-readOnly"),onBlur:ut,onChange:Ye,onFocus:Me})}),m,U?U({...Be,startAdornment:ge}):null]})]})}),GS=Cte;function Tte(t){return it("MuiInput",t)}const Ite={...Ci,...Ze("MuiInput",["root","underline","input"])},Ea=Ite;function Rte(t){return it("MuiOutlinedInput",t)}const Pte={...Ci,...Ze("MuiOutlinedInput",["root","notchedOutline","input"])},Hi=Pte;function Ate(t){return it("MuiFilledInput",t)}const kte={...Ci,...Ze("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},Ti=kte,_4=Kr(M.jsx("path",{d:"M7 10l5 5 5-5z"}));function Ote(t){return it("MuiAutocomplete",t)}const Nte=Ze("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),ft=Nte;var WA,HA;const $te=t=>{const{classes:e,disablePortal:n,expanded:r,focused:i,fullWidth:o,hasClearIcon:s,hasPopupIcon:a,inputFocused:l,popupOpen:c,size:u}=t,f={root:["root",r&&"expanded",i&&"focused",o&&"fullWidth",s&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${ie(u)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return ot(f,Ote,e)},Mte=oe("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{fullWidth:r,hasClearIcon:i,hasPopupIcon:o,inputFocused:s,size:a}=n;return[{[`& .${ft.tag}`]:e.tag},{[`& .${ft.tag}`]:e[`tagSize${ie(a)}`]},{[`& .${ft.inputRoot}`]:e.inputRoot},{[`& .${ft.input}`]:e.input},{[`& .${ft.input}`]:s&&e.inputFocused},e.root,r&&e.fullWidth,o&&e.hasPopupIcon,i&&e.hasClearIcon]}})({[`&.${ft.focused} .${ft.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${ft.clearIndicator}`]:{visibility:"visible"}},[`& .${ft.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${ft.inputRoot}`]:{[`.${ft.hasPopupIcon}&, .${ft.hasClearIcon}&`]:{paddingRight:26+4},[`.${ft.hasPopupIcon}.${ft.hasClearIcon}&`]:{paddingRight:52+4},[`& .${ft.input}`]:{width:0,minWidth:30}},[`& .${Ea.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Ea.root}.${Ci.sizeSmall}`]:{[`& .${Ea.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Hi.root}`]:{padding:9,[`.${ft.hasPopupIcon}&, .${ft.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${ft.hasPopupIcon}.${ft.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${ft.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${ft.endAdornment}`]:{right:9}},[`& .${Hi.root}.${Ci.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${ft.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Ti.root}`]:{paddingTop:19,paddingLeft:8,[`.${ft.hasPopupIcon}&, .${ft.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${ft.hasPopupIcon}.${ft.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${Ti.input}`]:{padding:"7px 4px"},[`& .${ft.endAdornment}`]:{right:9}},[`& .${Ti.root}.${Ci.sizeSmall}`]:{paddingBottom:1,[`& .${Ti.input}`]:{padding:"2.5px 4px"}},[`& .${Ci.hiddenLabel}`]:{paddingTop:8},[`& .${Ti.root}.${Ci.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${ft.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Ti.root}.${Ci.hiddenLabel}.${Ci.sizeSmall}`]:{[`& .${ft.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${ft.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${ft.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${ft.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${ft.inputRoot}`]:{flexWrap:"wrap"}}}]}),Dte=oe("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(t,e)=>e.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),Lte=oe(Ry,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(t,e)=>e.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Fte=oe(Ry,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popupIndicator,n.popupOpen&&e.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),Bte=oe(v4,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${ft.option}`]:e.option},e.popper,n.disablePortal&&e.popperDisablePortal]}})(yt(({theme:t})=>({zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),Vte=oe(wd,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(t,e)=>e.paper})(yt(({theme:t})=>({...t.typography.body1,overflow:"auto"}))),Ute=oe("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(t,e)=>e.loading})(yt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),jte=oe("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(t,e)=>e.noOptions})(yt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),zte=oe("ul",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(t,e)=>e.listbox})(yt(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${ft.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${ft.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${ft.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Pt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${ft.focused}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Pt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${ft.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Pt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}}}))),Wte=oe(ate,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(t,e)=>e.groupLabel})(yt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8}))),Hte=oe("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(t,e)=>e.groupUl})({padding:0,[`& .${ft.option}`]:{paddingLeft:24}}),Gte=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:o=!1,autoSelect:s=!1,blurOnSelect:a=!1,ChipProps:l,className:c,clearIcon:u=WA||(WA=M.jsx(RZ,{fontSize:"small"})),clearOnBlur:f=!r.freeSolo,clearOnEscape:h=!1,clearText:p="Clear",closeText:m="Close",componentsProps:b,defaultValue:x=r.multiple?[]:null,disableClearable:_=!1,disableCloseOnSelect:w=!1,disabled:v=!1,disabledItemsFocusable:S=!1,disableListWrap:k=!1,disablePortal:N=!1,filterOptions:I,filterSelectedOptions:T=!1,forcePopupIcon:R="auto",freeSolo:y=!1,fullWidth:P=!1,getLimitTagsText:$=D=>`+${D}`,getOptionDisabled:A,getOptionKey:W,getOptionLabel:q,isOptionEqualToValue:j,groupBy:Y,handleHomeEndKeys:U=!r.freeSolo,id:B,includeInputInList:K=!1,inputValue:ne,limitTags:fe=-1,ListboxComponent:ge,ListboxProps:be,loading:le=!1,loadingText:ke="Loading",multiple:Oe=!1,noOptionsText:Ie="No options",onChange:Se,onClose:me,onHighlightChange:De,onInputChange:Re,onOpen:ct,open:Fe,openOnFocus:Be=!1,openText:At="Open",options:ue,PaperComponent:Ke,PopperComponent:Me,popupIcon:ut=HA||(HA=M.jsx(_4,{})),readOnly:Ye=!1,renderGroup:Ee,renderInput:nn,renderOption:dt,renderTags:rn,selectOnFocus:st=!r.freeSolo,size:Et="medium",slots:ht={},slotProps:Vt={},value:at,...Qe}=r,{getRootProps:xn,getInputProps:pn,getInputLabelProps:Yr,getPopupIndicatorProps:we,getClearProps:ze,getTagProps:Wt,getListboxProps:on,getOptionProps:Vn,value:Mn,dirty:Xr,expanded:Un,id:Qr,popupOpen:Qt,focused:lr,focusedTag:fo,anchorEl:br,setAnchorEl:Lo,inputValue:pe,groupedOptions:_e}=BZ({...r,componentName:"Autocomplete"}),Ne=!_&&!v&&Xr&&!Ye,tt=(!y||R===!0)&&R!==!1,{onMouseDown:Tt}=pn(),{ref:Sn,...Lr}=on(),cr=q||(D=>D.label??D),gn={...r,disablePortal:N,expanded:Un,focused:lr,fullWidth:P,getOptionLabel:cr,hasClearIcon:Ne,hasPopupIcon:tt,inputFocused:fo===-1,popupOpen:Qt,size:Et},Cn=$te(gn),ur={slots:{paper:Ke,popper:Me,...ht},slotProps:{chip:l,listbox:be,...b,...Vt}},[Fo,J]=Ut("listbox",{elementType:zte,externalForwardedProps:ur,ownerState:gn,className:Cn.listbox,additionalProps:Lr,ref:Sn}),[X,he]=Ut("paper",{elementType:wd,externalForwardedProps:ur,ownerState:gn,className:Cn.paper}),[We,nt]=Ut("popper",{elementType:v4,externalForwardedProps:ur,ownerState:gn,className:Cn.popper,additionalProps:{disablePortal:N,style:{width:br?br.clientWidth:null},role:"presentation",anchorEl:br,open:Qt}});let kt;if(Oe&&Mn.length>0){const D=F=>({className:Cn.tag,disabled:v,...Wt(F)});rn?kt=rn(Mn,D,gn):kt=Mn.map((F,H)=>{const{key:z,...te}=D({index:H});return M.jsx(gte,{label:cr(F),size:Et,...te,...ur.slotProps.chip},z)})}if(fe>-1&&Array.isArray(kt)){const D=kt.length-fe;!lr&&D>0&&(kt=kt.splice(0,fe),kt.push(M.jsx("span",{className:Cn.tag,children:$(D)},kt.length)))}const dr=Ee||(D=>M.jsxs("li",{children:[M.jsx(Wte,{className:Cn.groupLabel,ownerState:gn,component:"div",children:D.group}),M.jsx(Hte,{className:Cn.groupUl,ownerState:gn,children:D.children})]},D.key)),Ld=dt||((D,F)=>{const{key:H,...z}=D;return M.jsx("li",{...z,children:cr(F)},H)}),Bo=(D,F)=>{const H=Vn({option:D,index:F});return Ld({...H,className:Cn.option},D,{selected:H["aria-selected"],index:F,inputValue:pe},gn)},ps=ur.slotProps.clearIndicator,Vo=ur.slotProps.popupIndicator;return M.jsxs(E.Fragment,{children:[M.jsx(Mte,{ref:n,className:ve(Cn.root,c),ownerState:gn,...xn(Qe),children:nn({id:Qr,disabled:v,fullWidth:!0,size:Et==="small"?"small":void 0,InputLabelProps:Yr(),InputProps:{ref:Lo,className:Cn.inputRoot,startAdornment:kt,onMouseDown:D=>{D.target===D.currentTarget&&Tt(D)},...(Ne||tt)&&{endAdornment:M.jsxs(Dte,{className:Cn.endAdornment,ownerState:gn,children:[Ne?M.jsx(Lte,{...ze(),"aria-label":p,title:p,ownerState:gn,...ps,className:ve(Cn.clearIndicator,ps==null?void 0:ps.className),children:u}):null,tt?M.jsx(Fte,{...we(),disabled:v,"aria-label":Qt?m:At,title:Qt?m:At,ownerState:gn,...Vo,className:ve(Cn.popupIndicator,Vo==null?void 0:Vo.className),children:ut}):null]})}},inputProps:{className:Cn.input,disabled:v,readOnly:Ye,...pn()}})}),br?M.jsx(Bte,{as:We,...nt,children:M.jsxs(Vte,{as:X,...he,children:[le&&_e.length===0?M.jsx(Ute,{className:Cn.loading,ownerState:gn,children:ke}):null,_e.length===0&&!y&&!le?M.jsx(jte,{className:Cn.noOptions,ownerState:gn,role:"presentation",onMouseDown:D=>{D.preventDefault()},children:Ie}):null,_e.length>0?M.jsx(Fo,{as:ge,...J,children:_e.map((D,F)=>Y?dr({key:D.key,group:D.group,children:D.options.map((H,z)=>Bo(H,D.index+z))}):Bo(D,F))}):null]})}):null]})}),qte=Gte,Kte={entering:{opacity:1},entered:{opacity:1}},Yte=E.forwardRef(function(e,n){const r=bd(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:f,onEntering:h,onExit:p,onExited:m,onExiting:b,style:x,timeout:_=i,TransitionComponent:w=o4,...v}=e,S=E.useRef(null),k=sr(S,Pp(a),n),N=W=>q=>{if(W){const j=S.current;q===void 0?W(j):W(j,q)}},I=N(h),T=N((W,q)=>{s4(W);const j=Ty({style:x,timeout:_,easing:l},{mode:"enter"});W.style.webkitTransition=r.transitions.create("opacity",j),W.style.transition=r.transitions.create("opacity",j),u&&u(W,q)}),R=N(f),y=N(b),P=N(W=>{const q=Ty({style:x,timeout:_,easing:l},{mode:"exit"});W.style.webkitTransition=r.transitions.create("opacity",q),W.style.transition=r.transitions.create("opacity",q),p&&p(W)}),$=N(m),A=W=>{o&&o(S.current,W)};return M.jsx(w,{appear:s,in:c,nodeRef:S,onEnter:T,onEntered:R,onEntering:I,onExit:P,onExited:$,onExiting:y,addEndListener:A,timeout:_,...v,children:(W,{ownerState:q,...j})=>E.cloneElement(a,{style:{opacity:0,visibility:W==="exited"&&!c?"hidden":void 0,...Kte[W],...x,...a.props.style},ref:k,...j})})}),RE=Yte;function Xte(t){return it("MuiBackdrop",t)}Ze("MuiBackdrop",["root","invisible"]);const Qte=t=>{const{classes:e,invisible:n}=t;return ot({root:["root",n&&"invisible"]},Xte,e)},Jte=oe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Zte=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiBackdrop"}),{children:i,className:o,component:s="div",invisible:a=!1,open:l,components:c={},componentsProps:u={},slotProps:f={},slots:h={},TransitionComponent:p,transitionDuration:m,...b}=r,x={...r,component:s,invisible:a},_=Qte(x),w={transition:p,root:c.Root,...h},v={...u,...f},S={slots:w,slotProps:v},[k,N]=Ut("root",{elementType:Jte,externalForwardedProps:S,className:ve(_.root,o),ownerState:x}),[I,T]=Ut("transition",{elementType:RE,externalForwardedProps:S,ownerState:x});return M.jsx(I,{in:l,timeout:m,...b,...T,children:M.jsx(k,{"aria-hidden":!0,...N,classes:_,ref:n,children:i})})}),b4=Zte,ene=Ze("MuiBox",["root"]),tne=ene,nne=e4(),rne=zX({themeId:qv,defaultTheme:nne,defaultClassName:tne.root,generateClassName:$F.generate}),Ra=rne;function ine(t){return it("MuiButton",t)}const one=Ze("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),vl=one,sne=E.createContext({}),ane=sne,lne=E.createContext(void 0),cne=lne,une=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,loading:s,loadingPosition:a,classes:l}=t,c={root:["root",s&&"loading",o,`${o}${ie(e)}`,`size${ie(i)}`,`${o}Size${ie(i)}`,`color${ie(e)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${ie(a)}`],startIcon:["icon","startIcon",`iconSize${ie(i)}`],endIcon:["icon","endIcon",`iconSize${ie(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},u=ot(c,ine,l);return{...l,...u}},w4=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],dne=oe(el,{shouldForwardProp:t=>uo(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${ie(n.color)}`],e[`size${ie(n.size)}`],e[`${n.variant}Size${ie(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(yt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${vl.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${vl.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${vl.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${vl.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(oi()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:Pt(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Pt(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Pt(t.palette[r].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Pt(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Pt(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${vl.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${vl.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${vl.loading}`]:{color:"transparent"}}}]}})),fne=oe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${ie(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...w4]})),hne=oe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${ie(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...w4]})),pne=oe("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),GA=oe("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),gne=E.forwardRef(function(e,n){const r=E.useContext(ane),i=E.useContext(cne),o=Yu(r,e),s=lt({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:f=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:b,fullWidth:x=!1,id:_,loading:w=null,loadingIndicator:v,loadingPosition:S="center",size:k="medium",startIcon:N,type:I,variant:T="text",...R}=s,y=vd(_),P=v??M.jsx(a4,{"aria-labelledby":y,color:"inherit",size:16}),$={...s,color:l,component:c,disabled:f,disableElevation:h,disableFocusRipple:p,fullWidth:x,loading:w,loadingIndicator:P,loadingPosition:S,size:k,type:I,variant:T},A=une($),W=(N||w&&S==="start")&&M.jsx(fne,{className:A.startIcon,ownerState:$,children:N||M.jsx(GA,{className:A.loadingIconPlaceholder,ownerState:$})}),q=(m||w&&S==="end")&&M.jsx(hne,{className:A.endIcon,ownerState:$,children:m||M.jsx(GA,{className:A.loadingIconPlaceholder,ownerState:$})}),j=i||"",Y=typeof w=="boolean"?M.jsx("span",{className:A.loadingWrapper,style:{display:"contents"},children:w&&M.jsx(pne,{className:A.loadingIndicator,ownerState:$,children:P})}):null;return M.jsxs(dne,{ownerState:$,className:ve(r.className,A.root,u,j),component:c,disabled:f||w,focusRipple:!p,focusVisibleClassName:ve(A.focusVisible,b),ref:n,type:I,id:w?y:_,...R,classes:A,children:[W,S!=="end"&&Y,a,S==="end"&&Y,q]})}),Kn=gne;function mne(t){return it("MuiCard",t)}Ze("MuiCard",["root"]);const yne=t=>{const{classes:e}=t;return ot({root:["root"]},mne,e)},vne=oe(wd,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})({overflow:"hidden"}),_ne=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiCard"}),{className:i,raised:o=!1,...s}=r,a={...r,raised:o},l=yne(a);return M.jsx(vne,{className:ve(l.root,i),elevation:o?8:void 0,ref:n,ownerState:a,...s})}),bne=_ne;function wne(t){return it("MuiCardActions",t)}Ze("MuiCardActions",["root","spacing"]);const Ene=t=>{const{classes:e,disableSpacing:n}=t;return ot({root:["root",!n&&"spacing"]},wne,e)},xne=oe("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Sne=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiCardActions"}),{disableSpacing:i=!1,className:o,...s}=r,a={...r,disableSpacing:i},l=Ene(a);return M.jsx(xne,{className:ve(l.root,o),ownerState:a,ref:n,...s})}),Cne=Sne;function Tne(t){return it("MuiCardContent",t)}Ze("MuiCardContent",["root"]);const Ine=t=>{const{classes:e}=t;return ot({root:["root"]},Tne,e)},Rne=oe("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:16,"&:last-child":{paddingBottom:24}}),Pne=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiCardContent"}),{className:i,component:o="div",...s}=r,a={...r,component:o},l=Ine(a);return M.jsx(Rne,{as:o,className:ve(l.root,i),ownerState:a,ref:n,...s})}),Ane=Pne,kne=RQ({createStyledComponent:oe("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${ie(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>lt({props:t,name:"MuiContainer"})}),One=kne;function Nne(t){const e=gi(t);return e.body===t?$o(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Zf(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function qA(t){return parseInt($o(t).getComputedStyle(t).paddingRight,10)||0}function $ne(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function KA(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,s=>{const a=!o.includes(s),l=!$ne(s);a&&l&&Zf(s,i)})}function ub(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function Mne(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(Nne(r)){const s=WF($o(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${qA(r)+s}px`;const a=gi(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${qA(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=gi(r).body;else{const s=r.parentElement,a=$o(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function Dne(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class Lne{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Zf(e.modalRef,!1);const i=Dne(n);KA(n,e.mount,e.modalRef,i,!0);const o=ub(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=ub(this.containers,o=>o.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=Mne(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=ub(this.containers,s=>s.modals.includes(e)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&Zf(e.modalRef,n),KA(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&Zf(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const Fne=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Bne(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Vne(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Une(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Vne(t))}function jne(t){const e=[],n=[];return Array.from(t.querySelectorAll(Fne)).forEach((r,i)=>{const o=Bne(r);o===-1||!Une(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function zne(){return!0}function Wne(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=jne,isEnabled:s=zne,open:a}=t,l=E.useRef(!1),c=E.useRef(null),u=E.useRef(null),f=E.useRef(null),h=E.useRef(null),p=E.useRef(!1),m=E.useRef(null),b=sr(Pp(e),m),x=E.useRef(null);E.useEffect(()=>{!a||!m.current||(p.current=!n)},[n,a]),E.useEffect(()=>{if(!a||!m.current)return;const v=gi(m.current);return m.current.contains(v.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{i||(f.current&&f.current.focus&&(l.current=!0,f.current.focus()),f.current=null)}},[a]),E.useEffect(()=>{if(!a||!m.current)return;const v=gi(m.current),S=I=>{x.current=I,!(r||!s()||I.key!=="Tab")&&v.activeElement===m.current&&I.shiftKey&&(l.current=!0,u.current&&u.current.focus())},k=()=>{var R,y;const I=m.current;if(I===null)return;if(!v.hasFocus()||!s()||l.current){l.current=!1;return}if(I.contains(v.activeElement)||r&&v.activeElement!==c.current&&v.activeElement!==u.current)return;if(v.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let T=[];if((v.activeElement===c.current||v.activeElement===u.current)&&(T=o(m.current)),T.length>0){const P=!!((R=x.current)!=null&&R.shiftKey&&((y=x.current)==null?void 0:y.key)==="Tab"),$=T[0],A=T[T.length-1];typeof $!="string"&&typeof A!="string"&&(P?A.focus():$.focus())}else I.focus()};v.addEventListener("focusin",k),v.addEventListener("keydown",S,!0);const N=setInterval(()=>{v.activeElement&&v.activeElement.tagName==="BODY"&&k()},50);return()=>{clearInterval(N),v.removeEventListener("focusin",k),v.removeEventListener("keydown",S,!0)}},[n,r,i,s,a,o]);const _=v=>{f.current===null&&(f.current=v.relatedTarget),p.current=!0,h.current=v.target;const S=e.props.onFocus;S&&S(v)},w=v=>{f.current===null&&(f.current=v.relatedTarget),p.current=!0};return M.jsxs(E.Fragment,{children:[M.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:c,"data-testid":"sentinelStart"}),E.cloneElement(e,{ref:b,onFocus:_}),M.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:u,"data-testid":"sentinelEnd"})]})}function Hne(t){return typeof t=="function"?t():t}function Gne(t){return t?t.props.hasOwnProperty("in"):!1}const YA=()=>{},$g=new Lne;function qne(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:s,children:a,onClose:l,open:c,rootRef:u}=t,f=E.useRef({}),h=E.useRef(null),p=E.useRef(null),m=sr(p,u),[b,x]=E.useState(!c),_=Gne(a);let w=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(w=!1);const v=()=>gi(h.current),S=()=>(f.current.modalRef=p.current,f.current.mount=h.current,f.current),k=()=>{$g.mount(S(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},N=ii(()=>{const q=Hne(e)||v().body;$g.add(S(),q),p.current&&k()}),I=()=>$g.isTopModal(S()),T=ii(q=>{h.current=q,q&&(c&&I()?k():p.current&&Zf(p.current,w))}),R=E.useCallback(()=>{$g.remove(S(),w)},[w]);E.useEffect(()=>()=>{R()},[R]),E.useEffect(()=>{c?N():(!_||!i)&&R()},[c,R,_,i,N]);const y=q=>j=>{var Y;(Y=q.onKeyDown)==null||Y.call(q,j),!(j.key!=="Escape"||j.which===229||!I())&&(n||(j.stopPropagation(),l&&l(j,"escapeKeyDown")))},P=q=>j=>{var Y;(Y=q.onClick)==null||Y.call(q,j),j.target===j.currentTarget&&l&&l(j,"backdropClick")};return{getRootProps:(q={})=>{const j=GF(t);delete j.onTransitionEnter,delete j.onTransitionExited;const Y={...j,...q};return{role:"presentation",...Y,onKeyDown:y(Y),ref:m}},getBackdropProps:(q={})=>{const j=q;return{"aria-hidden":!0,...j,onClick:P(j),open:c}},getTransitionProps:()=>{const q=()=>{x(!1),o&&o()},j=()=>{x(!0),s&&s(),i&&R()};return{onEnter:lA(q,(a==null?void 0:a.props.onEnter)??YA),onExited:lA(j,(a==null?void 0:a.props.onExited)??YA)}},rootRef:m,portalRef:T,isTopModal:I,exited:b,hasTransition:_}}function Kne(t){return it("MuiModal",t)}Ze("MuiModal",["root","hidden","backdrop"]);const Yne=t=>{const{open:e,exited:n,classes:r}=t;return ot({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},Kne,r)},Xne=oe("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(yt(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),Qne=oe(b4,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),Jne=E.forwardRef(function(e,n){const r=lt({name:"MuiModal",props:e}),{BackdropComponent:i=Qne,BackdropProps:o,classes:s,className:a,closeAfterTransition:l=!1,children:c,container:u,component:f,components:h={},componentsProps:p={},disableAutoFocus:m=!1,disableEnforceFocus:b=!1,disableEscapeKeyDown:x=!1,disablePortal:_=!1,disableRestoreFocus:w=!1,disableScrollLock:v=!1,hideBackdrop:S=!1,keepMounted:k=!1,onClose:N,onTransitionEnter:I,onTransitionExited:T,open:R,slotProps:y={},slots:P={},theme:$,...A}=r,W={...r,closeAfterTransition:l,disableAutoFocus:m,disableEnforceFocus:b,disableEscapeKeyDown:x,disablePortal:_,disableRestoreFocus:w,disableScrollLock:v,hideBackdrop:S,keepMounted:k},{getRootProps:q,getBackdropProps:j,getTransitionProps:Y,portalRef:U,isTopModal:B,exited:K,hasTransition:ne}=qne({...W,rootRef:n}),fe={...W,exited:K},ge=Yne(fe),be={};if(c.props.tabIndex===void 0&&(be.tabIndex="-1"),ne){const{onEnter:me,onExited:De}=Y();be.onEnter=me,be.onExited=De}const le={slots:{root:h.Root,backdrop:h.Backdrop,...P},slotProps:{...p,...y}},[ke,Oe]=Ut("root",{ref:n,elementType:Xne,externalForwardedProps:{...le,...A,component:f},getSlotProps:q,ownerState:fe,className:ve(a,ge==null?void 0:ge.root,!fe.open&&fe.exited&&(ge==null?void 0:ge.hidden))}),[Ie,Se]=Ut("backdrop",{ref:o==null?void 0:o.ref,elementType:i,externalForwardedProps:le,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:me=>j({...me,onClick:De=>{me!=null&&me.onClick&&me.onClick(De)}}),className:ve(o==null?void 0:o.className,ge==null?void 0:ge.backdrop),ownerState:fe});return!k&&!R&&(!ne||K)?null:M.jsx(y4,{ref:U,container:u,disablePortal:_,children:M.jsxs(ke,{...Oe,children:[!S&&i?M.jsx(Ie,{...Se}):null,M.jsx(Wne,{disableEnforceFocus:b,disableAutoFocus:m,disableRestoreFocus:w,isEnabled:B,open:R,children:E.cloneElement(c,be)})]})})}),E4=Jne;function Zne(t){return it("MuiDialog",t)}const ere=Ze("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),db=ere,tre=E.createContext({}),x4=tre,nre=oe(b4,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),rre=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=t,s={root:["root"],container:["container",`scroll${ie(n)}`],paper:["paper",`paperScroll${ie(n)}`,`paperWidth${ie(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return ot(s,Zne,e)},ire=oe(E4,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),ore=oe("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${ie(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),sre=oe(wd,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${ie(n.scroll)}`],e[`paperWidth${ie(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(yt(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${db.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${db.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${db.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),are=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiDialog"}),i=bd(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:c,BackdropProps:u,children:f,className:h,disableEscapeKeyDown:p=!1,fullScreen:m=!1,fullWidth:b=!1,maxWidth:x="sm",onClick:_,onClose:w,open:v,PaperComponent:S=wd,PaperProps:k={},scroll:N="paper",slots:I={},slotProps:T={},TransitionComponent:R=RE,transitionDuration:y=o,TransitionProps:P,...$}=r,A={...r,disableEscapeKeyDown:p,fullScreen:m,fullWidth:b,maxWidth:x,scroll:N},W=rre(A),q=E.useRef(),j=ct=>{q.current=ct.target===ct.currentTarget},Y=ct=>{_&&_(ct),q.current&&(q.current=null,w&&w(ct,"backdropClick"))},U=vd(a),B=E.useMemo(()=>({titleId:U}),[U]),K={transition:R,...I},ne={transition:P,paper:k,backdrop:u,...T},fe={slots:K,slotProps:ne},[ge,be]=Ut("root",{elementType:ire,shouldForwardComponentProp:!0,externalForwardedProps:fe,ownerState:A,className:ve(W.root,h),ref:n}),[le,ke]=Ut("backdrop",{elementType:nre,shouldForwardComponentProp:!0,externalForwardedProps:fe,ownerState:A}),[Oe,Ie]=Ut("paper",{elementType:sre,shouldForwardComponentProp:!0,externalForwardedProps:fe,ownerState:A,className:ve(W.paper,k.className)}),[Se,me]=Ut("container",{elementType:ore,externalForwardedProps:fe,ownerState:A,className:ve(W.container)}),[De,Re]=Ut("transition",{elementType:RE,externalForwardedProps:fe,ownerState:A,additionalProps:{appear:!0,in:v,timeout:y,role:"presentation"}});return M.jsx(ge,{closeAfterTransition:!0,slots:{backdrop:le},slotProps:{backdrop:{transitionDuration:y,as:c,...ke}},disableEscapeKeyDown:p,onClose:w,open:v,onClick:Y,...be,...$,children:M.jsx(De,{...Re,children:M.jsx(Se,{onMouseDown:j,...me,children:M.jsx(Oe,{as:S,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":U,"aria-modal":l,...Ie,children:M.jsx(x4.Provider,{value:B,children:f})})})})})}),Mg=are;function lre(t){return it("MuiDialogActions",t)}Ze("MuiDialogActions",["root","spacing"]);const cre=t=>{const{classes:e,disableSpacing:n}=t;return ot({root:["root",!n&&"spacing"]},lre,e)},ure=oe("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),dre=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1,...s}=r,a={...r,disableSpacing:o},l=cre(a);return M.jsx(ure,{className:ve(l.root,i),ownerState:a,ref:n,...s})}),Dg=dre;function fre(t){return it("MuiDialogContent",t)}Ze("MuiDialogContent",["root","dividers"]);function hre(t){return it("MuiDialogTitle",t)}const pre=Ze("MuiDialogTitle",["root"]),gre=pre,mre=t=>{const{classes:e,dividers:n}=t;return ot({root:["root",n&&"dividers"]},fre,e)},yre=oe("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(yt(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${gre.root} + &`]:{paddingTop:0}}}]}))),vre=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiDialogContent"}),{className:i,dividers:o=!1,...s}=r,a={...r,dividers:o},l=mre(a);return M.jsx(yre,{className:ve(l.root,i),ownerState:a,ref:n,...s})}),Lg=vre,_re=t=>{const{classes:e}=t;return ot({root:["root"]},hre,e)},bre=oe(Xi,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),wre=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiDialogTitle"}),{className:i,id:o,...s}=r,a=r,l=_re(a),{titleId:c=o}=E.useContext(x4);return M.jsx(bre,{component:"h2",className:ve(l.root,i),ownerState:a,ref:n,variant:"h6",id:o??c,...s})}),Fg=wre,Ere=Ze("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),XA=Ere,xre=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:s,multiline:a}=t,l={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${ie(o)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},c=ot(l,Ate,e);return{...e,...c}},Sre=oe(O0,{shouldForwardProp:t=>uo(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...A0(t,e),!n.disableUnderline&&e.underline]}})(yt(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${Ti.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${Ti.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ti.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ti.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ti.disabled}, .${Ti.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Ti.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(oi()).map(([s])=>{var a;return{props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[s])==null?void 0:a.main}`}}}}),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:a})=>s.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),Cre=oe(N0,{name:"MuiFilledInput",slot:"Input",overridesResolver:k0})(yt(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),S4=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,hiddenLabel:l,inputComponent:c="input",multiline:u=!1,slotProps:f,slots:h={},type:p="text",...m}=r,b={...r,disableUnderline:i,fullWidth:a,inputComponent:c,multiline:u,type:p},x=xre(r),_={root:{ownerState:b},input:{ownerState:b}},w=f??s?$r(_,f??s):_,v=h.root??o.Root??Sre,S=h.input??o.Input??Cre;return M.jsx(GS,{slots:{root:v,input:S},slotProps:w,fullWidth:a,inputComponent:c,multiline:u,ref:n,type:p,...m,classes:x})});S4.muiName="Input";const C4=S4;function Tre(t){return it("MuiFormControl",t)}Ze("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Ire=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${ie(n)}`,r&&"fullWidth"]};return ot(i,Tre,e)},Rre=oe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${ie(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),Pre=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:f=!1,hiddenLabel:h=!1,margin:p="none",required:m=!1,size:b="medium",variant:x="outlined",..._}=r,w={...r,color:s,component:a,disabled:l,error:c,fullWidth:f,hiddenLabel:h,margin:p,required:m,size:b,variant:x},v=Ire(w),[S,k]=E.useState(()=>{let q=!1;return i&&E.Children.forEach(i,j=>{if(!Sm(j,["Input","Select"]))return;const Y=Sm(j,["Select"])?j.props.input:j;Y&&wte(Y.props)&&(q=!0)}),q}),[N,I]=E.useState(()=>{let q=!1;return i&&E.Children.forEach(i,j=>{Sm(j,["Input","Select"])&&(Ay(j.props,!0)||Ay(j.props.inputProps,!0))&&(q=!0)}),q}),[T,R]=E.useState(!1);l&&T&&R(!1);const y=u!==void 0&&!l?u:T;let P;E.useRef(!1);const $=E.useCallback(()=>{I(!0)},[]),A=E.useCallback(()=>{I(!1)},[]),W=E.useMemo(()=>({adornedStart:S,setAdornedStart:k,color:s,disabled:l,error:c,filled:N,focused:y,fullWidth:f,hiddenLabel:h,size:b,onBlur:()=>{R(!1)},onFocus:()=>{R(!0)},onEmpty:A,onFilled:$,registerEffect:P,required:m,variant:x}),[S,s,l,c,N,y,f,h,P,A,$,m,b,x]);return M.jsx(HS.Provider,{value:W,children:M.jsx(Rre,{as:a,ownerState:w,className:ve(v.root,o),ref:n,..._,children:i})})}),qS=Pre;function Are(t){return it("MuiFormHelperText",t)}const kre=Ze("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),QA=kre;var JA;const Ore=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=t,c={root:["root",i&&"disabled",o&&"error",r&&`size${ie(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return ot(c,Are,e)},Nre=oe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${ie(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(yt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${QA.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${QA.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),$re=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p",disabled:a,error:l,filled:c,focused:u,margin:f,required:h,variant:p,...m}=r,b=xd(),x=Ed({props:r,muiFormControl:b,states:["variant","size","disabled","error","filled","focused","required"]}),_={...r,component:s,contained:x.variant==="filled"||x.variant==="outlined",variant:x.variant,size:x.size,disabled:x.disabled,error:x.error,filled:x.filled,focused:x.focused,required:x.required};delete _.ownerState;const w=Ore(_);return M.jsx(Nre,{as:s,className:ve(w.root,o),ref:n,...m,ownerState:_,children:i===" "?JA||(JA=M.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})}),Mre=$re;function Dre(t){return it("MuiFormLabel",t)}const Lre=Ze("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),eh=Lre,Fre=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=t,l={root:["root",`color${ie(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return ot(l,Dre,e)},Bre=oe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(yt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(oi()).map(([e])=>({props:{color:e},style:{[`&.${eh.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${eh.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${eh.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),Vre=oe("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(yt(({theme:t})=>({[`&.${eh.error}`]:{color:(t.vars||t).palette.error.main}}))),Ure=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiFormLabel"}),{children:i,className:o,color:s,component:a="label",disabled:l,error:c,filled:u,focused:f,required:h,...p}=r,m=xd(),b=Ed({props:r,muiFormControl:m,states:["color","required","focused","disabled","error","filled"]}),x={...r,color:b.color||"primary",component:a,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required},_=Fre(x);return M.jsxs(Bre,{as:a,ownerState:x,className:ve(_.root,o),ref:n,...p,children:[i,b.required&&M.jsxs(Vre,{ownerState:x,"aria-hidden":!0,className:_.asterisk,children:["","*"]})]})}),jre=Ure,zre=WQ({createStyledComponent:oe("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:t=>lt({props:t,name:"MuiGrid"}),useTheme:bd}),ZA=zre;function PE(t){return`scale(${t}, ${t**2})`}const Wre={entering:{opacity:1,transform:PE(1)},entered:{opacity:1,transform:"none"}},fb=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),AE=E.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:f,onExited:h,onExiting:p,style:m,timeout:b="auto",TransitionComponent:x=o4,..._}=e,w=zF(),v=E.useRef(),S=bd(),k=E.useRef(null),N=sr(k,Pp(o),n),I=q=>j=>{if(q){const Y=k.current;j===void 0?q(Y):q(Y,j)}},T=I(u),R=I((q,j)=>{s4(q);const{duration:Y,delay:U,easing:B}=Ty({style:m,timeout:b,easing:s},{mode:"enter"});let K;b==="auto"?(K=S.transitions.getAutoHeightDuration(q.clientHeight),v.current=K):K=Y,q.style.transition=[S.transitions.create("opacity",{duration:K,delay:U}),S.transitions.create("transform",{duration:fb?K:K*.666,delay:U,easing:B})].join(","),l&&l(q,j)}),y=I(c),P=I(p),$=I(q=>{const{duration:j,delay:Y,easing:U}=Ty({style:m,timeout:b,easing:s},{mode:"exit"});let B;b==="auto"?(B=S.transitions.getAutoHeightDuration(q.clientHeight),v.current=B):B=j,q.style.transition=[S.transitions.create("opacity",{duration:B,delay:Y}),S.transitions.create("transform",{duration:fb?B:B*.666,delay:fb?Y:Y||B*.333,easing:U})].join(","),q.style.opacity=0,q.style.transform=PE(.75),f&&f(q)}),A=I(h),W=q=>{b==="auto"&&w.start(v.current||0,q),r&&r(k.current,q)};return M.jsx(x,{appear:i,in:a,nodeRef:k,onEnter:R,onEntered:y,onEntering:T,onExit:$,onExited:A,onExiting:P,addEndListener:W,timeout:b==="auto"?null:b,..._,children:(q,{ownerState:j,...Y})=>E.cloneElement(o,{style:{opacity:0,transform:PE(.75),visibility:q==="exited"&&!a?"hidden":void 0,...Wre[q],...m,...o.props.style},ref:N,...Y})})});AE&&(AE.muiSupportAuto=!0);const Hre=AE,Gre=t=>{const{classes:e,disableUnderline:n}=t,i=ot({root:["root",!n&&"underline"],input:["input"]},Tte,e);return{...e,...i}},qre=oe(O0,{shouldForwardProp:t=>uo(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...A0(t,e),!n.disableUnderline&&e.underline]}})(yt(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ea.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ea.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ea.disabled}, .${Ea.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Ea.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(oi()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),Kre=oe(N0,{name:"MuiInput",slot:"Input",overridesResolver:k0})({}),T4=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,inputComponent:l="input",multiline:c=!1,slotProps:u,slots:f={},type:h="text",...p}=r,m=Gre(r),x={root:{ownerState:{disableUnderline:i}}},_=u??s?$r(u??s,x):x,w=f.root??o.Root??qre,v=f.input??o.Input??Kre;return M.jsx(GS,{slots:{root:w,input:v},slotProps:_,fullWidth:a,inputComponent:l,multiline:c,ref:n,type:h,...p,classes:m})});T4.muiName="Input";const I4=T4;function Yre(t){return it("MuiInputLabel",t)}Ze("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Xre=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=t,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="medium"&&`size${ie(r)}`,s],asterisk:[a&&"asterisk"]},c=ot(l,Yre,e);return{...e,...c}},Qre=oe(jre,{shouldForwardProp:t=>uo(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${eh.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(yt(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),Jre=E.forwardRef(function(e,n){const r=lt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:o,shrink:s,variant:a,className:l,...c}=r,u=xd();let f=s;typeof f>"u"&&u&&(f=u.filled||u.focused||u.adornedStart);const h=Ed({props:r,muiFormControl:u,states:["size","variant","required","focused"]}),p={...r,disableAnimation:i,formControl:u,shrink:f,size:h.size,variant:h.variant,required:h.required,focused:h.focused},m=Xre(p);return M.jsx(Qre,{"data-shrink":f,ref:n,className:ve(m.root,l),...c,ownerState:p,classes:m})}),KS=Jre,Zre=E.createContext({}),kE=Zre;function eie(t){return it("MuiList",t)}Ze("MuiList",["root","padding","dense","subheader"]);const tie=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return ot({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},eie,e)},nie=oe("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),rie=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c,...u}=r,f=E.useMemo(()=>({dense:a}),[a]),h={...r,component:s,dense:a,disablePadding:l},p=tie(h);return M.jsx(kE.Provider,{value:f,children:M.jsxs(nie,{as:s,className:ve(p.root,o),ref:n,ownerState:h,...u,children:[c,i]})})}),iie=rie,oie=Ze("MuiListItemIcon",["root","alignItemsFlexStart"]),ek=oie,sie=Ze("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),tk=sie;function hb(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function nk(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function R4(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function of(t,e,n,r,i,o){let s=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!R4(a,o)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const aie=E.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:f="selectedMenu",...h}=e,p=E.useRef(null),m=E.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});No(()=>{i&&p.current.focus()},[i]),E.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(v,{direction:S})=>{const k=!p.current.style.width;if(v.clientHeight<p.current.clientHeight&&k){const N=`${WF($o(v))}px`;p.current.style[S==="rtl"?"paddingLeft":"paddingRight"]=N,p.current.style.width=`calc(100% + ${N})`}return p.current}}),[]);const b=v=>{const S=p.current,k=v.key;if(v.ctrlKey||v.metaKey||v.altKey){u&&u(v);return}const I=gi(S).activeElement;if(k==="ArrowDown")v.preventDefault(),of(S,I,c,l,hb);else if(k==="ArrowUp")v.preventDefault(),of(S,I,c,l,nk);else if(k==="Home")v.preventDefault(),of(S,null,c,l,hb);else if(k==="End")v.preventDefault(),of(S,null,c,l,nk);else if(k.length===1){const T=m.current,R=k.toLowerCase(),y=performance.now();T.keys.length>0&&(y-T.lastTime>500?(T.keys=[],T.repeating=!0,T.previousKeyMatched=!0):T.repeating&&R!==T.keys[0]&&(T.repeating=!1)),T.lastTime=y,T.keys.push(R);const P=I&&!T.repeating&&R4(I,T);T.previousKeyMatched&&(P||of(S,I,!1,l,hb,T))?v.preventDefault():T.previousKeyMatched=!1}u&&u(v)},x=sr(p,n);let _=-1;E.Children.forEach(s,(v,S)=>{if(!E.isValidElement(v)){_===S&&(_+=1,_>=s.length&&(_=-1));return}v.props.disabled||(f==="selectedMenu"&&v.props.selected||_===-1)&&(_=S),_===S&&(v.props.disabled||v.props.muiSkipListHighlight||v.type.muiSkipListHighlight)&&(_+=1,_>=s.length&&(_=-1))});const w=E.Children.map(s,(v,S)=>{if(S===_){const k={};return o&&(k.autoFocus=!0),v.props.tabIndex===void 0&&f==="selectedMenu"&&(k.tabIndex=0),E.cloneElement(v,k)}return v});return M.jsx(iie,{role:"menu",ref:x,className:a,onKeyDown:b,tabIndex:i?0:-1,...h,children:w})}),lie=aie;function cie(t){return it("MuiPopover",t)}Ze("MuiPopover",["root","paper"]);function rk(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function ik(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function ok(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Bg(t){return typeof t=="function"?t():t}const uie=t=>{const{classes:e}=t;return ot({root:["root"],paper:["paper"]},cie,e)},die=oe(E4,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),P4=oe(wd,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),fie=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:c,className:u,container:f,elevation:h=8,marginThreshold:p=16,open:m,PaperProps:b={},slots:x={},slotProps:_={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:v,transitionDuration:S="auto",TransitionProps:k={},disableScrollLock:N=!1,...I}=r,T=E.useRef(),R={...r,anchorOrigin:s,anchorReference:l,elevation:h,marginThreshold:p,transformOrigin:w,TransitionComponent:v,transitionDuration:S,TransitionProps:k},y=uie(R),P=E.useCallback(()=>{if(l==="anchorPosition")return a;const me=Bg(o),Re=(me&&me.nodeType===1?me:gi(T.current).body).getBoundingClientRect();return{top:Re.top+rk(Re,s.vertical),left:Re.left+ik(Re,s.horizontal)}},[o,s.horizontal,s.vertical,a,l]),$=E.useCallback(me=>({vertical:rk(me,w.vertical),horizontal:ik(me,w.horizontal)}),[w.horizontal,w.vertical]),A=E.useCallback(me=>{const De={width:me.offsetWidth,height:me.offsetHeight},Re=$(De);if(l==="none")return{top:null,left:null,transformOrigin:ok(Re)};const ct=P();let Fe=ct.top-Re.vertical,Be=ct.left-Re.horizontal;const At=Fe+De.height,ue=Be+De.width,Ke=$o(Bg(o)),Me=Ke.innerHeight-p,ut=Ke.innerWidth-p;if(p!==null&&Fe<p){const Ye=Fe-p;Fe-=Ye,Re.vertical+=Ye}else if(p!==null&&At>Me){const Ye=At-Me;Fe-=Ye,Re.vertical+=Ye}if(p!==null&&Be<p){const Ye=Be-p;Be-=Ye,Re.horizontal+=Ye}else if(ue>ut){const Ye=ue-ut;Be-=Ye,Re.horizontal+=Ye}return{top:`${Math.round(Fe)}px`,left:`${Math.round(Be)}px`,transformOrigin:ok(Re)}},[o,l,P,$,p]),[W,q]=E.useState(m),j=E.useCallback(()=>{const me=T.current;if(!me)return;const De=A(me);De.top!==null&&me.style.setProperty("top",De.top),De.left!==null&&(me.style.left=De.left),me.style.transformOrigin=De.transformOrigin,q(!0)},[A]);E.useEffect(()=>(N&&window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j)),[o,N,j]);const Y=()=>{j()},U=()=>{q(!1)};E.useEffect(()=>{m&&j()}),E.useImperativeHandle(i,()=>m?{updatePosition:()=>{j()}}:null,[m,j]),E.useEffect(()=>{if(!m)return;const me=T0(()=>{j()}),De=$o(Bg(o));return De.addEventListener("resize",me),()=>{me.clear(),De.removeEventListener("resize",me)}},[o,m,j]);let B=S;const K={slots:{transition:v,...x},slotProps:{transition:k,paper:b,..._}},[ne,fe]=Ut("transition",{elementType:Hre,externalForwardedProps:K,ownerState:R,getSlotProps:me=>({...me,onEntering:(De,Re)=>{var ct;(ct=me.onEntering)==null||ct.call(me,De,Re),Y()},onExited:De=>{var Re;(Re=me.onExited)==null||Re.call(me,De),U()}}),additionalProps:{appear:!0,in:m}});S==="auto"&&!ne.muiSupportAuto&&(B=void 0);const ge=f||(o?gi(Bg(o)).body:void 0),[be,{slots:le,slotProps:ke,...Oe}]=Ut("root",{ref:n,elementType:die,externalForwardedProps:{...K,...I},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:x.backdrop},slotProps:{backdrop:MJ(typeof _.backdrop=="function"?_.backdrop(R):_.backdrop,{invisible:!0})},container:ge,open:m},ownerState:R,className:ve(y.root,u)}),[Ie,Se]=Ut("paper",{ref:T,className:y.paper,elementType:P4,externalForwardedProps:K,shouldForwardComponentProp:!0,additionalProps:{elevation:h,style:W?void 0:{opacity:0}},ownerState:R});return M.jsx(be,{...Oe,...!IE(be)&&{slots:le,slotProps:ke,disableScrollLock:N},children:M.jsx(ne,{...fe,timeout:B,children:M.jsx(Ie,{...Se,children:c})})})}),hie=fie;function pie(t){return it("MuiMenu",t)}Ze("MuiMenu",["root","paper","list"]);const gie={vertical:"top",horizontal:"right"},mie={vertical:"top",horizontal:"left"},yie=t=>{const{classes:e}=t;return ot({root:["root"],paper:["paper"],list:["list"]},pie,e)},vie=oe(hie,{shouldForwardProp:t=>uo(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),_ie=oe(P4,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),bie=oe(lie,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),wie=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:s,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:c,open:u,PaperProps:f={},PopoverClasses:h,transitionDuration:p="auto",TransitionProps:{onEntering:m,...b}={},variant:x="selectedMenu",slots:_={},slotProps:w={},...v}=r,S=I0(),k={...r,autoFocus:i,disableAutoFocusItem:a,MenuListProps:l,onEntering:m,PaperProps:f,transitionDuration:p,TransitionProps:b,variant:x},N=yie(k),I=i&&!a&&u,T=E.useRef(null),R=(B,K)=>{T.current&&T.current.adjustStyleForScrollbar(B,{direction:S?"rtl":"ltr"}),m&&m(B,K)},y=B=>{B.key==="Tab"&&(B.preventDefault(),c&&c(B,"tabKeyDown"))};let P=-1;E.Children.map(o,(B,K)=>{E.isValidElement(B)&&(B.props.disabled||(x==="selectedMenu"&&B.props.selected||P===-1)&&(P=K))});const $={slots:_,slotProps:{list:l,transition:b,paper:f,...w}},A=Xu({elementType:_.root,externalSlotProps:w.root,ownerState:k,className:[N.root,s]}),[W,q]=Ut("paper",{className:N.paper,elementType:_ie,externalForwardedProps:$,shouldForwardComponentProp:!0,ownerState:k}),[j,Y]=Ut("list",{className:ve(N.list,l.className),elementType:bie,shouldForwardComponentProp:!0,externalForwardedProps:$,getSlotProps:B=>({...B,onKeyDown:K=>{var ne;y(K),(ne=B.onKeyDown)==null||ne.call(B,K)}}),ownerState:k}),U=typeof $.slotProps.transition=="function"?$.slotProps.transition(k):$.slotProps.transition;return M.jsx(vie,{onClose:c,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?gie:mie,slots:{root:_.root,paper:W,backdrop:_.backdrop,..._.transition&&{transition:_.transition}},slotProps:{root:A,paper:q,backdrop:typeof w.backdrop=="function"?w.backdrop(k):w.backdrop,transition:{...U,onEntering:(...B)=>{var K;R(...B),(K=U==null?void 0:U.onEntering)==null||K.call(U,...B)}}},open:u,ref:n,transitionDuration:p,ownerState:k,...v,classes:h,children:M.jsx(j,{actions:T,autoFocus:i&&(P===-1||a),autoFocusItem:I,variant:x,...Y,children:o})})}),Eie=wie;function xie(t){return it("MuiMenuItem",t)}const Sie=Ze("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),sf=Sie,Cie=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Tie=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=t,l=ot({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},xie,s);return{...s,...l}},Iie=oe(el,{shouldForwardProp:t=>uo(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Cie})(yt(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${sf.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Pt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${sf.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Pt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${sf.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Pt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Pt(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${sf.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${sf.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${XA.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${XA.inset}`]:{marginLeft:52},[`& .${tk.root}`]:{marginTop:0,marginBottom:0},[`& .${tk.inset}`]:{paddingLeft:36},[`& .${ek.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${ek.root} svg`]:{fontSize:"1.25rem"}}}]}))),Rie=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:f,className:h,...p}=r,m=E.useContext(kE),b=E.useMemo(()=>({dense:s||m.dense||!1,disableGutters:l}),[m.dense,s,l]),x=E.useRef(null);No(()=>{i&&x.current&&x.current.focus()},[i]);const _={...r,dense:b.dense,divider:a,disableGutters:l},w=Tie(r),v=sr(x,n);let S;return r.disabled||(S=f!==void 0?f:-1),M.jsx(kE.Provider,{value:b,children:M.jsx(Iie,{ref:v,role:u,tabIndex:S,component:o,focusVisibleClassName:ve(w.focusVisible,c),className:ve(w.root,h),...p,ownerState:_,classes:w})})}),xa=Rie;function Pie(t){return it("MuiNativeSelect",t)}const Aie=Ze("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),YS=Aie,kie=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${ie(n)}`,o&&"iconOpen",r&&"disabled"]};return ot(a,Pie,e)},A4=oe("select")(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${YS.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),Oie=oe(A4,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:uo,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${YS.multiple}`]:e.multiple}]}})({}),k4=oe("svg")(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${YS.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),Nie=oe(k4,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ie(n.variant)}`],n.open&&e.iconOpen]}})({}),$ie=E.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard",...c}=e,u={...e,disabled:i,variant:l,error:o},f=kie(u);return M.jsxs(E.Fragment,{children:[M.jsx(Oie,{ownerState:u,className:ve(f.select,r),disabled:i,ref:a||n,...c}),e.multiple?null:M.jsx(Nie,{as:s,ownerState:u,className:f.icon})]})}),Mie=$ie;var sk;const Die=oe("fieldset",{shouldForwardProp:uo})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Lie=oe("legend",{shouldForwardProp:uo})(yt(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function Fie(t){const{children:e,classes:n,className:r,label:i,notched:o,...s}=t,a=i!=null&&i!=="",l={...t,notched:o,withLabel:a};return M.jsx(Die,{"aria-hidden":!0,className:r,ownerState:l,...s,children:M.jsx(Lie,{ownerState:l,children:a?M.jsx("span",{children:i}):sk||(sk=M.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const Bie=t=>{const{classes:e}=t,r=ot({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Rte,e);return{...e,...r}},Vie=oe(O0,{shouldForwardProp:t=>uo(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:A0})(yt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Hi.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Hi.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Hi.focused} .${Hi.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(oi()).map(([n])=>({props:{color:n},style:{[`&.${Hi.focused} .${Hi.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${Hi.error} .${Hi.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Hi.disabled} .${Hi.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),Uie=oe(Fie,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(yt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),jie=oe(N0,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:k0})(yt(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),O4=E.forwardRef(function(e,n){var r;const i=lt({props:e,name:"MuiOutlinedInput"}),{components:o={},fullWidth:s=!1,inputComponent:a="input",label:l,multiline:c=!1,notched:u,slots:f={},type:h="text",...p}=i,m=Bie(i),b=xd(),x=Ed({props:i,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),_={...i,color:x.color||"primary",disabled:x.disabled,error:x.error,focused:x.focused,formControl:b,fullWidth:s,hiddenLabel:x.hiddenLabel,multiline:c,size:x.size,type:h},w=f.root??o.Root??Vie,v=f.input??o.Input??jie;return M.jsx(GS,{slots:{root:w,input:v},renderSuffix:S=>M.jsx(Uie,{ownerState:_,className:m.notchedOutline,label:l!=null&&l!==""&&x.required?r||(r=M.jsxs(E.Fragment,{children:[l,"","*"]})):l,notched:typeof u<"u"?u:!!(S.startAdornment||S.filled||S.focused)}),fullWidth:s,inputComponent:a,multiline:c,ref:n,type:h,...p,classes:{...m,notchedOutline:null}})});O4.muiName="Input";const N4=O4;function $4(t){return it("MuiSelect",t)}const af=Ze("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var ak;const zie=oe(A4,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${af.select}`]:e.select},{[`&.${af.select}`]:e[n.variant]},{[`&.${af.error}`]:e.error},{[`&.${af.multiple}`]:e.multiple}]}})({[`&.${af.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Wie=oe(k4,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ie(n.variant)}`],n.open&&e.iconOpen]}})({}),Hie=oe("input",{shouldForwardProp:t=>t4(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function lk(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Gie(t){return t==null||typeof t=="string"&&!t.trim()}const qie=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${ie(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return ot(a,$4,e)},Kie=E.forwardRef(function(e,n){var Yr;const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:s,children:a,className:l,defaultOpen:c,defaultValue:u,disabled:f,displayEmpty:h,error:p=!1,IconComponent:m,inputRef:b,labelId:x,MenuProps:_={},multiple:w,name:v,onBlur:S,onChange:k,onClose:N,onFocus:I,onOpen:T,open:R,readOnly:y,renderValue:P,required:$,SelectDisplayProps:A={},tabIndex:W,type:q,value:j,variant:Y="standard",...U}=e,[B,K]=Xf({controlled:j,default:u,name:"Select"}),[ne,fe]=Xf({controlled:R,default:c,name:"Select"}),ge=E.useRef(null),be=E.useRef(null),[le,ke]=E.useState(null),{current:Oe}=E.useRef(R!=null),[Ie,Se]=E.useState(),me=sr(n,b),De=E.useCallback(we=>{be.current=we,we&&ke(we)},[]),Re=le==null?void 0:le.parentNode;E.useImperativeHandle(me,()=>({focus:()=>{be.current.focus()},node:ge.current,value:B}),[B]),E.useEffect(()=>{c&&ne&&le&&!Oe&&(Se(s?null:Re.clientWidth),be.current.focus())},[le,s]),E.useEffect(()=>{o&&be.current.focus()},[o]),E.useEffect(()=>{if(!x)return;const we=gi(be.current).getElementById(x);if(we){const ze=()=>{getSelection().isCollapsed&&be.current.focus()};return we.addEventListener("click",ze),()=>{we.removeEventListener("click",ze)}}},[x]);const ct=(we,ze)=>{we?T&&T(ze):N&&N(ze),Oe||(Se(s?null:Re.clientWidth),fe(we))},Fe=we=>{we.button===0&&(we.preventDefault(),be.current.focus(),ct(!0,we))},Be=we=>{ct(!1,we)},At=E.Children.toArray(a),ue=we=>{const ze=At.find(Wt=>Wt.props.value===we.target.value);ze!==void 0&&(K(ze.props.value),k&&k(we,ze))},Ke=we=>ze=>{let Wt;if(ze.currentTarget.hasAttribute("tabindex")){if(w){Wt=Array.isArray(B)?B.slice():[];const on=B.indexOf(we.props.value);on===-1?Wt.push(we.props.value):Wt.splice(on,1)}else Wt=we.props.value;if(we.props.onClick&&we.props.onClick(ze),B!==Wt&&(K(Wt),k)){const on=ze.nativeEvent||ze,Vn=new on.constructor(on.type,on);Object.defineProperty(Vn,"target",{writable:!0,value:{value:Wt,name:v}}),k(Vn,we)}w||ct(!1,ze)}},Me=we=>{y||[" ","ArrowUp","ArrowDown","Enter"].includes(we.key)&&(we.preventDefault(),ct(!0,we))},ut=le!==null&&ne,Ye=we=>{!ut&&S&&(Object.defineProperty(we,"target",{writable:!0,value:{value:B,name:v}}),S(we))};delete U["aria-invalid"];let Ee,nn;const dt=[];let rn=!1;(Ay({value:B})||h)&&(P?Ee=P(B):rn=!0);const st=At.map(we=>{if(!E.isValidElement(we))return null;let ze;if(w){if(!Array.isArray(B))throw new Error(Gs(2));ze=B.some(Wt=>lk(Wt,we.props.value)),ze&&rn&&dt.push(we.props.children)}else ze=lk(B,we.props.value),ze&&rn&&(nn=we.props.children);return E.cloneElement(we,{"aria-selected":ze?"true":"false",onClick:Ke(we),onKeyUp:Wt=>{Wt.key===" "&&Wt.preventDefault(),we.props.onKeyUp&&we.props.onKeyUp(Wt)},role:"option",selected:ze,value:void 0,"data-value":we.props.value})});rn&&(w?dt.length===0?Ee=null:Ee=dt.reduce((we,ze,Wt)=>(we.push(ze),Wt<dt.length-1&&we.push(", "),we),[]):Ee=nn);let Et=Ie;!s&&Oe&&le&&(Et=Re.clientWidth);let ht;typeof W<"u"?ht=W:ht=f?null:0;const Vt=A.id||(v?`mui-component-select-${v}`:void 0),at={...e,variant:Y,value:B,open:ut,error:p},Qe=qie(at),xn={..._.PaperProps,...(Yr=_.slotProps)==null?void 0:Yr.paper},pn=vd();return M.jsxs(E.Fragment,{children:[M.jsx(zie,{as:"div",ref:De,tabIndex:ht,role:"combobox","aria-controls":ut?pn:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":ut?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[x,Vt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":$?"true":void 0,"aria-invalid":p?"true":void 0,onKeyDown:Me,onMouseDown:f||y?null:Fe,onBlur:Ye,onFocus:I,...A,ownerState:at,className:ve(A.className,Qe.select,l),id:Vt,children:Gie(Ee)?ak||(ak=M.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Ee}),M.jsx(Hie,{"aria-invalid":p,value:Array.isArray(B)?B.join(","):B,name:v,ref:ge,"aria-hidden":!0,onChange:ue,tabIndex:-1,disabled:f,className:Qe.nativeInput,autoFocus:o,required:$,...U,ownerState:at}),M.jsx(Wie,{as:m,className:Qe.icon,ownerState:at}),M.jsx(Eie,{id:`menu-${v||""}`,anchorEl:Re,open:ut,onClose:Be,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},..._,slotProps:{..._.slotProps,list:{"aria-labelledby":x,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:pn,..._.MenuListProps},paper:{...xn,style:{minWidth:Et,...xn!=null?xn.style:null}}},children:st})]})}),Yie=Kie,Xie=t=>{const{classes:e}=t,r=ot({root:["root"]},$4,e);return{...e,...r}},XS={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>uo(t)&&t!=="variant",slot:"Root"},Qie=oe(I4,XS)(""),Jie=oe(N4,XS)(""),Zie=oe(C4,XS)(""),M4=E.forwardRef(function(e,n){const r=lt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=_4,id:f,input:h,inputProps:p,label:m,labelId:b,MenuProps:x,multiple:_=!1,native:w=!1,onClose:v,onOpen:S,open:k,renderValue:N,SelectDisplayProps:I,variant:T="outlined",...R}=r,y=w?Mie:Yie,P=xd(),$=Ed({props:r,muiFormControl:P,states:["variant","error"]}),A=$.variant||T,W={...r,variant:A,classes:s},q=Xie(W),{root:j,...Y}=q,U=h||{standard:M.jsx(Qie,{ownerState:W}),outlined:M.jsx(Jie,{label:m,ownerState:W}),filled:M.jsx(Zie,{ownerState:W})}[A],B=sr(n,Pp(U));return M.jsx(E.Fragment,{children:E.cloneElement(U,{inputComponent:y,inputProps:{children:o,error:$.error,IconComponent:u,variant:A,type:void 0,multiple:_,...w?{id:f}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:b,MenuProps:x,onClose:v,onOpen:S,open:k,renderValue:N,SelectDisplayProps:{id:f,...I}},...p,classes:p?$r(Y,p.classes):Y,...h?h.props.inputProps:{}},...(_&&w||c)&&A==="outlined"?{notched:!0}:{},ref:B,className:ve(U.props.className,a,q.root),...!h&&{variant:A},...R})})});M4.muiName="Select";const QS=M4;function eoe(t){return it("MuiTab",t)}const toe=Ze("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),zi=toe,noe=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:i,icon:o,label:s,selected:a,disabled:l}=t,c={root:["root",o&&s&&"labelIcon",`textColor${ie(n)}`,r&&"fullWidth",i&&"wrapped",a&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]};return ot(c,eoe,e)},roe=oe(el,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${ie(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped,{[`& .${zi.iconWrapper}`]:e.iconWrapper},{[`& .${zi.icon}`]:e.icon}]}})(yt(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="top",style:{[`& > .${zi.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="bottom",style:{[`& > .${zi.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="start",style:{[`& > .${zi.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="end",style:{[`& > .${zi.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${zi.selected}`]:{opacity:1},[`&.${zi.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${zi.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${zi.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${zi.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${zi.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),ioe=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:s=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:u,label:f,onChange:h,onClick:p,onFocus:m,selected:b,selectionFollowsFocus:x,textColor:_="inherit",value:w,wrapped:v=!1,...S}=r,k={...r,disabled:o,disableFocusRipple:s,selected:b,icon:!!l,iconPosition:c,label:!!f,fullWidth:a,textColor:_,wrapped:v},N=noe(k),I=l&&f&&E.isValidElement(l)?E.cloneElement(l,{className:ve(N.icon,l.props.className)}):l,T=y=>{!b&&h&&h(y,w),p&&p(y)},R=y=>{x&&!b&&h&&h(y,w),m&&m(y)};return M.jsxs(roe,{focusRipple:!s,className:ve(N.root,i),ref:n,role:"tab","aria-selected":b,disabled:o,onClick:T,onFocus:R,ownerState:k,tabIndex:b?0:-1,...S,children:[c==="top"||c==="start"?M.jsxs(E.Fragment,{children:[I,f]}):M.jsxs(E.Fragment,{children:[f,I]}),u]})}),ck=ioe,ooe=Kr(M.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),soe=Kr(M.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function aoe(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function loe(t,e,n,r={},i=()=>{}){const{ease:o=aoe,duration:s=300}=r;let a=null;const l=e[t];let c=!1;const u=()=>{c=!0},f=h=>{if(c){i(new Error("Animation cancelled"));return}a===null&&(a=h);const p=Math.min(1,(h-a)/s);if(e[t]=o(p)*(n-l)+l,p>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(f)};return l===n?(i(new Error("Element already at target position")),u):(requestAnimationFrame(f),u)}const coe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function uoe(t){const{onChange:e,...n}=t,r=E.useRef(),i=E.useRef(null),o=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return No(()=>{const s=T0(()=>{const l=r.current;o(),l!==r.current&&e(r.current)}),a=$o(i.current);return a.addEventListener("resize",s),()=>{s.clear(),a.removeEventListener("resize",s)}},[e]),E.useEffect(()=>{o(),e(r.current)},[e]),M.jsx("div",{style:coe,...n,ref:i})}function doe(t){return it("MuiTabScrollButton",t)}const foe=Ze("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),hoe=foe,poe=t=>{const{classes:e,orientation:n,disabled:r}=t;return ot({root:["root",n,r&&"disabled"]},doe,e)},goe=oe(el,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${hoe.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),moe=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiTabScrollButton"}),{className:i,slots:o={},slotProps:s={},direction:a,orientation:l,disabled:c,...u}=r,f=I0(),h={isRtl:f,...r},p=poe(h),m=o.StartScrollButtonIcon??ooe,b=o.EndScrollButtonIcon??soe,x=Xu({elementType:m,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h}),_=Xu({elementType:b,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h});return M.jsx(goe,{component:"div",className:ve(p.root,i),ref:n,role:null,ownerState:h,tabIndex:null,...u,style:{...u.style,...l==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${f?-90:90}deg)`}},children:a==="left"?M.jsx(m,{...x}):M.jsx(b,{..._})})}),yoe=moe;function voe(t){return it("MuiTabs",t)}const _oe=Ze("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),pb=_oe,uk=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,dk=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,Vg=(t,e,n)=>{let r=!1,i=n(t,e);for(;i;){if(i===t.firstChild){if(r)return;r=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=n(t,i);else{i.focus();return}}},boe=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:s,scrollButtonsHideMobile:a,classes:l}=t;return ot({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},voe,l)},woe=oe("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${pb.scrollButtons}`]:e.scrollButtons},{[`& .${pb.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(yt(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${pb.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),Eoe=oe("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),xoe=oe("div",{name:"MuiTabs",slot:"List",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.list,e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),Soe=oe("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(yt(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),Coe=oe(uoe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),fk={},Toe=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiTabs"}),i=bd(),o=I0(),{"aria-label":s,"aria-labelledby":a,action:l,centered:c=!1,children:u,className:f,component:h="div",allowScrollButtonsMobile:p=!1,indicatorColor:m="primary",onChange:b,orientation:x="horizontal",ScrollButtonComponent:_,scrollButtons:w="auto",selectionFollowsFocus:v,slots:S={},slotProps:k={},TabIndicatorProps:N={},TabScrollButtonProps:I={},textColor:T="primary",value:R,variant:y="standard",visibleScrollbar:P=!1,...$}=r,A=y==="scrollable",W=x==="vertical",q=W?"scrollTop":"scrollLeft",j=W?"top":"left",Y=W?"bottom":"right",U=W?"clientHeight":"clientWidth",B=W?"height":"width",K={...r,component:h,allowScrollButtonsMobile:p,indicatorColor:m,orientation:x,vertical:W,scrollButtons:w,textColor:T,variant:y,visibleScrollbar:P,fixed:!A,hideScrollbar:A&&!P,scrollableX:A&&!W,scrollableY:A&&W,centered:c&&!A,scrollButtonsHideMobile:!p},ne=boe(K),fe=Xu({elementType:S.StartScrollButtonIcon,externalSlotProps:k.startScrollButtonIcon,ownerState:K}),ge=Xu({elementType:S.EndScrollButtonIcon,externalSlotProps:k.endScrollButtonIcon,ownerState:K}),[be,le]=E.useState(!1),[ke,Oe]=E.useState(fk),[Ie,Se]=E.useState(!1),[me,De]=E.useState(!1),[Re,ct]=E.useState(!1),[Fe,Be]=E.useState({overflow:"hidden",scrollbarWidth:0}),At=new Map,ue=E.useRef(null),Ke=E.useRef(null),Me={slots:S,slotProps:{indicator:N,scrollButton:I,...k}},ut=()=>{const pe=ue.current;let _e;if(pe){const tt=pe.getBoundingClientRect();_e={clientWidth:pe.clientWidth,scrollLeft:pe.scrollLeft,scrollTop:pe.scrollTop,scrollWidth:pe.scrollWidth,top:tt.top,bottom:tt.bottom,left:tt.left,right:tt.right}}let Ne;if(pe&&R!==!1){const tt=Ke.current.children;if(tt.length>0){const Tt=tt[At.get(R)];Ne=Tt?Tt.getBoundingClientRect():null}}return{tabsMeta:_e,tabMeta:Ne}},Ye=ii(()=>{const{tabsMeta:pe,tabMeta:_e}=ut();let Ne=0,tt;W?(tt="top",_e&&pe&&(Ne=_e.top-pe.top+pe.scrollTop)):(tt=o?"right":"left",_e&&pe&&(Ne=(o?-1:1)*(_e[tt]-pe[tt]+pe.scrollLeft)));const Tt={[tt]:Ne,[B]:_e?_e[B]:0};if(typeof ke[tt]!="number"||typeof ke[B]!="number")Oe(Tt);else{const Sn=Math.abs(ke[tt]-Tt[tt]),Lr=Math.abs(ke[B]-Tt[B]);(Sn>=1||Lr>=1)&&Oe(Tt)}}),Ee=(pe,{animation:_e=!0}={})=>{_e?loe(q,ue.current,pe,{duration:i.transitions.duration.standard}):ue.current[q]=pe},nn=pe=>{let _e=ue.current[q];W?_e+=pe:_e+=pe*(o?-1:1),Ee(_e)},dt=()=>{const pe=ue.current[U];let _e=0;const Ne=Array.from(Ke.current.children);for(let tt=0;tt<Ne.length;tt+=1){const Tt=Ne[tt];if(_e+Tt[U]>pe){tt===0&&(_e=pe);break}_e+=Tt[U]}return _e},rn=()=>{nn(-1*dt())},st=()=>{nn(dt())},[Et,{onChange:ht,...Vt}]=Ut("scrollbar",{className:ve(ne.scrollableX,ne.hideScrollbar),elementType:Coe,shouldForwardComponentProp:!0,externalForwardedProps:Me,ownerState:K}),at=E.useCallback(pe=>{ht==null||ht(pe),Be({overflow:null,scrollbarWidth:pe})},[ht]),[Qe,xn]=Ut("scrollButtons",{className:ve(ne.scrollButtons,I.className),elementType:yoe,externalForwardedProps:Me,ownerState:K,additionalProps:{orientation:x,slots:{StartScrollButtonIcon:S.startScrollButtonIcon||S.StartScrollButtonIcon,EndScrollButtonIcon:S.endScrollButtonIcon||S.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:fe,endScrollButtonIcon:ge}}}),pn=()=>{const pe={};pe.scrollbarSizeListener=A?M.jsx(Et,{...Vt,onChange:at}):null;const Ne=A&&(w==="auto"&&(Ie||me)||w===!0);return pe.scrollButtonStart=Ne?M.jsx(Qe,{direction:o?"right":"left",onClick:rn,disabled:!Ie,...xn}):null,pe.scrollButtonEnd=Ne?M.jsx(Qe,{direction:o?"left":"right",onClick:st,disabled:!me,...xn}):null,pe},Yr=ii(pe=>{const{tabsMeta:_e,tabMeta:Ne}=ut();if(!(!Ne||!_e)){if(Ne[j]<_e[j]){const tt=_e[q]+(Ne[j]-_e[j]);Ee(tt,{animation:pe})}else if(Ne[Y]>_e[Y]){const tt=_e[q]+(Ne[Y]-_e[Y]);Ee(tt,{animation:pe})}}}),we=ii(()=>{A&&w!==!1&&ct(!Re)});E.useEffect(()=>{const pe=T0(()=>{ue.current&&Ye()});let _e;const Ne=Sn=>{Sn.forEach(Lr=>{Lr.removedNodes.forEach(_i=>{_e==null||_e.unobserve(_i)}),Lr.addedNodes.forEach(_i=>{_e==null||_e.observe(_i)})}),pe(),we()},tt=$o(ue.current);tt.addEventListener("resize",pe);let Tt;return typeof ResizeObserver<"u"&&(_e=new ResizeObserver(pe),Array.from(Ke.current.children).forEach(Sn=>{_e.observe(Sn)})),typeof MutationObserver<"u"&&(Tt=new MutationObserver(Ne),Tt.observe(Ke.current,{childList:!0})),()=>{pe.clear(),tt.removeEventListener("resize",pe),Tt==null||Tt.disconnect(),_e==null||_e.disconnect()}},[Ye,we]),E.useEffect(()=>{const pe=Array.from(Ke.current.children),_e=pe.length;if(typeof IntersectionObserver<"u"&&_e>0&&A&&w!==!1){const Ne=pe[0],tt=pe[_e-1],Tt={root:ue.current,threshold:.99},Sn=gn=>{Se(!gn[0].isIntersecting)},Lr=new IntersectionObserver(Sn,Tt);Lr.observe(Ne);const _i=gn=>{De(!gn[0].isIntersecting)},cr=new IntersectionObserver(_i,Tt);return cr.observe(tt),()=>{Lr.disconnect(),cr.disconnect()}}},[A,w,Re,u==null?void 0:u.length]),E.useEffect(()=>{le(!0)},[]),E.useEffect(()=>{Ye()}),E.useEffect(()=>{Yr(fk!==ke)},[Yr,ke]),E.useImperativeHandle(l,()=>({updateIndicator:Ye,updateScrollButtons:we}),[Ye,we]);const[ze,Wt]=Ut("indicator",{className:ve(ne.indicator,N.className),elementType:Soe,externalForwardedProps:Me,ownerState:K,additionalProps:{style:ke}}),on=M.jsx(ze,{...Wt});let Vn=0;const Mn=E.Children.map(u,pe=>{if(!E.isValidElement(pe))return null;const _e=pe.props.value===void 0?Vn:pe.props.value;At.set(_e,Vn);const Ne=_e===R;return Vn+=1,E.cloneElement(pe,{fullWidth:y==="fullWidth",indicator:Ne&&!be&&on,selected:Ne,selectionFollowsFocus:v,onChange:b,textColor:T,value:_e,...Vn===1&&R===!1&&!pe.props.tabIndex?{tabIndex:0}:{}})}),Xr=pe=>{if(pe.altKey||pe.shiftKey||pe.ctrlKey||pe.metaKey)return;const _e=Ke.current,Ne=gi(_e).activeElement;if(Ne.getAttribute("role")!=="tab")return;let Tt=x==="horizontal"?"ArrowLeft":"ArrowUp",Sn=x==="horizontal"?"ArrowRight":"ArrowDown";switch(x==="horizontal"&&o&&(Tt="ArrowRight",Sn="ArrowLeft"),pe.key){case Tt:pe.preventDefault(),Vg(_e,Ne,dk);break;case Sn:pe.preventDefault(),Vg(_e,Ne,uk);break;case"Home":pe.preventDefault(),Vg(_e,null,uk);break;case"End":pe.preventDefault(),Vg(_e,null,dk);break}},Un=pn(),[Qr,Qt]=Ut("root",{ref:n,className:ve(ne.root,f),elementType:woe,externalForwardedProps:{...Me,...$,component:h},ownerState:K}),[lr,fo]=Ut("scroller",{ref:ue,className:ne.scroller,elementType:Eoe,externalForwardedProps:Me,ownerState:K,additionalProps:{style:{overflow:Fe.overflow,[W?`margin${o?"Left":"Right"}`:"marginBottom"]:P?void 0:-Fe.scrollbarWidth}}}),[br,Lo]=Ut("list",{ref:Ke,className:ve(ne.list,ne.flexContainer),elementType:xoe,externalForwardedProps:Me,ownerState:K,getSlotProps:pe=>({...pe,onKeyDown:_e=>{var Ne;Xr(_e),(Ne=pe.onKeyDown)==null||Ne.call(pe,_e)}})});return M.jsxs(Qr,{...Qt,children:[Un.scrollButtonStart,Un.scrollbarSizeListener,M.jsxs(lr,{...fo,children:[M.jsx(br,{"aria-label":s,"aria-labelledby":a,"aria-orientation":x==="vertical"?"vertical":null,role:"tablist",...Lo,children:Mn}),be&&on]}),Un.scrollButtonEnd]})}),Ioe=Toe;function Roe(t){return it("MuiTextField",t)}Ze("MuiTextField",["root"]);const Poe={standard:I4,filled:C4,outlined:N4},Aoe=t=>{const{classes:e}=t;return ot({root:["root"]},Roe,e)},koe=oe(qS,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Ooe=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:f=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:m,id:b,InputLabelProps:x,inputProps:_,InputProps:w,inputRef:v,label:S,maxRows:k,minRows:N,multiline:I=!1,name:T,onBlur:R,onChange:y,onFocus:P,placeholder:$,required:A=!1,rows:W,select:q=!1,SelectProps:j,slots:Y={},slotProps:U={},type:B,value:K,variant:ne="outlined",...fe}=r,ge={...r,autoFocus:o,color:l,disabled:u,error:f,fullWidth:p,multiline:I,required:A,select:q,variant:ne},be=Aoe(ge),le=vd(b),ke=m&&le?`${le}-helper-text`:void 0,Oe=S&&le?`${le}-label`:void 0,Ie=Poe[ne],Se={slots:Y,slotProps:{input:w,inputLabel:x,htmlInput:_,formHelperText:h,select:j,...U}},me={},De=Se.slotProps.inputLabel;ne==="outlined"&&(De&&typeof De.shrink<"u"&&(me.notched=De.shrink),me.label=S),q&&((!j||!j.native)&&(me.id=void 0),me["aria-describedby"]=void 0);const[Re,ct]=Ut("root",{elementType:koe,shouldForwardComponentProp:!0,externalForwardedProps:{...Se,...fe},ownerState:ge,className:ve(be.root,a),ref:n,additionalProps:{disabled:u,error:f,fullWidth:p,required:A,color:l,variant:ne}}),[Fe,Be]=Ut("input",{elementType:Ie,externalForwardedProps:Se,additionalProps:me,ownerState:ge}),[At,ue]=Ut("inputLabel",{elementType:KS,externalForwardedProps:Se,ownerState:ge}),[Ke,Me]=Ut("htmlInput",{elementType:"input",externalForwardedProps:Se,ownerState:ge}),[ut,Ye]=Ut("formHelperText",{elementType:Mre,externalForwardedProps:Se,ownerState:ge}),[Ee,nn]=Ut("select",{elementType:QS,externalForwardedProps:Se,ownerState:ge}),dt=M.jsx(Fe,{"aria-describedby":ke,autoComplete:i,autoFocus:o,defaultValue:c,fullWidth:p,multiline:I,name:T,rows:W,maxRows:k,minRows:N,type:B,value:K,id:le,inputRef:v,onBlur:R,onChange:y,onFocus:P,placeholder:$,inputProps:Me,slots:{input:Y.htmlInput?Ke:void 0},...Be});return M.jsxs(Re,{...ct,children:[S!=null&&S!==""&&M.jsx(At,{htmlFor:le,id:Oe,...ue,children:S}),q?M.jsx(Ee,{"aria-describedby":ke,id:le,labelId:Oe,value:K,input:dt,...nn,children:s}):dt,m&&M.jsx(ut,{id:ke,...Ye,children:m})]})}),Vh=Ooe;function Noe(t){return it("MuiToggleButton",t)}const $oe=Ze("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),Nl=$oe,Moe=E.createContext({}),D4=Moe,Doe=E.createContext(void 0),L4=Doe;function Loe(t,e){return e===void 0||t===void 0?!1:Array.isArray(e)?e.includes(t):t===e}const Foe=t=>{const{classes:e,fullWidth:n,selected:r,disabled:i,size:o,color:s}=t,a={root:["root",r&&"selected",i&&"disabled",n&&"fullWidth",`size${ie(o)}`,s]};return ot(a,Noe,e)},Boe=oe(el,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`size${ie(n.size)}`]]}})(yt(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${Nl.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Pt(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${Nl.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:Pt(t.palette.text.primary,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Pt(t.palette.text.primary,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:Pt(t.palette.text.primary,t.palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(oi()).map(([e])=>({props:{color:e},style:{[`&.${Nl.selected}`]:{color:(t.vars||t).palette[e].main,backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Pt(t.palette[e].main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Pt(t.palette[e].main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Pt(t.palette[e].main,t.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),Voe=E.forwardRef(function(e,n){const{value:r,...i}=E.useContext(D4),o=E.useContext(L4),s=Yu({...i,selected:Loe(e.value,r)},e),a=lt({props:s,name:"MuiToggleButton"}),{children:l,className:c,color:u="standard",disabled:f=!1,disableFocusRipple:h=!1,fullWidth:p=!1,onChange:m,onClick:b,selected:x,size:_="medium",value:w,...v}=a,S={...a,color:u,disabled:f,disableFocusRipple:h,fullWidth:p,size:_},k=Foe(S),N=T=>{b&&(b(T,w),T.defaultPrevented)||m&&m(T,w)},I=o||"";return M.jsx(Boe,{className:ve(i.className,k.root,c,I),disabled:f,focusRipple:!h,ref:n,onClick:N,onChange:m,value:w,ownerState:S,"aria-pressed":x,...v,children:l})}),Pc=Voe;function Uoe(t){return it("MuiToggleButtonGroup",t)}const joe=Ze("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),an=joe,zoe=t=>{const{classes:e,orientation:n,fullWidth:r,disabled:i}=t,o={root:["root",n,r&&"fullWidth"],grouped:["grouped",`grouped${ie(n)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return ot(o,Uoe,e)},Woe=oe("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${an.grouped}`]:e.grouped},{[`& .${an.grouped}`]:e[`grouped${ie(n.orientation)}`]},{[`& .${an.firstButton}`]:e.firstButton},{[`& .${an.lastButton}`]:e.lastButton},{[`& .${an.middleButton}`]:e.middleButton},e.root,n.orientation==="vertical"&&e.vertical,n.fullWidth&&e.fullWidth]}})(yt(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${an.grouped}`]:{[`&.${an.selected} + .${an.grouped}.${an.selected}`]:{borderTop:0,marginTop:0}},[`& .${an.firstButton},& .${an.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${an.lastButton},& .${an.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${an.lastButton}.${Nl.disabled},& .${an.middleButton}.${Nl.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${an.grouped}`]:{[`&.${an.selected} + .${an.grouped}.${an.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${an.firstButton},& .${an.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${an.lastButton},& .${an.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${an.lastButton}.${Nl.disabled},& .${an.middleButton}.${Nl.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),Hoe=E.forwardRef(function(e,n){const r=lt({props:e,name:"MuiToggleButtonGroup"}),{children:i,className:o,color:s="standard",disabled:a=!1,exclusive:l=!1,fullWidth:c=!1,onChange:u,orientation:f="horizontal",size:h="medium",value:p,...m}=r,b={...r,disabled:a,fullWidth:c,orientation:f,size:h},x=zoe(b),_=E.useCallback((I,T)=>{if(!u)return;const R=p&&p.indexOf(T);let y;p&&R>=0?(y=p.slice(),y.splice(R,1)):y=p?p.concat(T):[T],u(I,y)},[u,p]),w=E.useCallback((I,T)=>{u&&u(I,p===T?null:T)},[u,p]),v=E.useMemo(()=>({className:x.grouped,onChange:l?w:_,value:p,size:h,fullWidth:c,color:s,disabled:a}),[x.grouped,l,w,_,p,h,c,s,a]),S=fQ(i),k=S.length,N=I=>{const T=I===0,R=I===k-1;return T&&R?"":T?x.firstButton:R?x.lastButton:x.middleButton};return M.jsx(Woe,{role:"group",className:ve(x.root,o),ref:n,ownerState:b,...m,children:M.jsx(D4.Provider,{value:v,children:S.map((I,T)=>M.jsx(L4.Provider,{value:N(T),children:I},T))})})}),hk=Hoe,Goe=()=>{const[t,e]=E.useState(0),[n,r]=E.useState(""),[i,o]=E.useState(""),[s,a]=E.useState(""),l=vv(),c=(h,p)=>{e(p),a("")},u=async h=>{h.preventDefault(),a("");try{t===0?await AW(Bl,n,i):await PW(Bl,n,i),l("/dashboard")}catch(p){a(p.message)}},f=async()=>{const h=new Ss;try{await ZW(Bl,h),l("/dashboard")}catch(p){a(p.message)}};return M.jsx(One,{maxWidth:"sm",sx:{backgroundColor:"#121212",minHeight:"100vh",width:"100%",display:"flex",alignItems:"center"},children:M.jsxs(Ra,{sx:{mt:8,p:4,backgroundColor:"#424242",borderRadius:2,boxShadow:3,color:"#fff"},children:[M.jsxs(Ioe,{value:t,onChange:c,variant:"fullWidth",textColor:"inherit",indicatorColor:"primary",children:[M.jsx(ck,{label:"Login"}),M.jsx(ck,{label:"Signup"})]}),M.jsxs("form",{onSubmit:u,children:[M.jsx(Vh,{margin:"normal",fullWidth:!0,label:"Email",type:"email",value:n,onChange:h=>r(h.target.value),required:!0,variant:"filled",InputLabelProps:{style:{color:"#fff"}},InputProps:{style:{backgroundColor:"#333",color:"#fff"}}}),M.jsx(Vh,{margin:"normal",fullWidth:!0,label:"Password",type:"password",value:i,onChange:h=>o(h.target.value),required:!0,variant:"filled",InputLabelProps:{style:{color:"#fff"}},InputProps:{style:{backgroundColor:"#333",color:"#fff"}}}),s&&M.jsx(Xi,{color:"error",variant:"body2",children:s}),M.jsx(Kn,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:2,backgroundColor:"#1976d2"},children:t===0?"Login":"Signup"})]}),M.jsxs(Ra,{textAlign:"center",sx:{mt:2},children:[M.jsx(Xi,{variant:"body1",children:"or"}),M.jsx(Kn,{variant:"outlined",onClick:f,sx:{mt:1,color:"#fff",borderColor:"#fff"},children:"Sign in with Google"})]})]})})},qoe=Kr(M.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),Koe=Kr(M.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),Yoe=Kr(M.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"})),Xoe={blank:[],brainstorm:[{text:"Idea 1",x:150,y:150},{text:"Idea 2",x:300,y:150},{text:"Idea 3",x:150,y:300}],project:[{text:"Goal",x:150,y:100},{text:"Task 1",x:100,y:200},{text:"Task 2",x:200,y:200}]},Qoe=()=>{const[t,e]=E.useState([]),[n,r]=E.useState(null),[i,o]=E.useState(!1),[s,a]=E.useState(!1),[l,c]=E.useState(!1),[u,f]=E.useState(""),[h,p]=E.useState("blank"),[m,b]=E.useState(!1),[x,_]=E.useState(null),[w,v]=E.useState(""),S=vv(),k=E.useRef(null);E.useEffect(()=>{const Y=Bl.onAuthStateChanged(U=>{if(!U){S("/");return}const B=Wi($t($e,"mindMaps"),ws("userId","==",U.uid)),K=Wi($t($e,"mindMaps"),ws("collaborators","array-contains",U.email)),ne=qf(B,ge=>{const be=ge.docs.map(le=>({id:le.id,...le.data()}));e(le=>[...be,...le.filter(Oe=>Oe.userId!==U.uid)])}),fe=qf(K,ge=>{const be=ge.docs.map(le=>({id:le.id,...le.data()}));e(le=>[...le,...be].filter((Ie,Se,me)=>Se===me.findIndex(De=>De.id===Ie.id)))});return()=>{ne(),fe()}});return()=>Y()},[S]);const N=()=>{c(!0)},I=async()=>{const Y=Bl.currentUser;if(Y)try{const U=await Pr($t($e,"mindMaps"),{title:u||"Untitled Mind Map",userId:Y.uid,createdAt:_y()}),B=Xoe[h];for(const K of B)await Pr($t($e,"mindMaps",U.id,"nodes"),K);c(!1),f(""),p("blank"),S(`/editor/${U.id}`)}catch(U){console.error("Error creating mind map:",U)}},T=Y=>{r(Y),o(!0)},R=()=>{o(!1),a(!0)},y=async()=>{try{await cE(zn($e,"mindMaps",n)),a(!1),r(null)}catch(Y){console.error("Error deleting mind map:",Y)}},P=()=>{o(!1),a(!1),r(null)},$=Y=>{_(Y),b(!0)},A=async()=>{if(!(!w.trim()||!x))try{const Y=zn($e,"mindMaps",x);await Mc(Y,{collaborators:JG(w.trim())}),v(""),b(!1),_(null)}catch(Y){console.error("Error sharing mind map:",Y)}},W=Y=>{S(`/editor/${Y}`)},q=()=>{k.current&&k.current.click()},j=async Y=>{const U=Y.target.files[0];if(U)try{const B=await U.text(),K=JSON.parse(B);if(!K.nodes||!K.links)throw new Error("Invalid file format");const ne=Bl.currentUser,fe=await Pr($t($e,"mindMaps"),{title:U.name,userId:ne.uid,createdAt:_y()}),ge={},be=Es($e);K.nodes.forEach(ke=>{const Oe=ke.id,Ie=zn($t($e,"mindMaps",fe.id,"nodes")),Se={...ke,id:Ie.id};be.set(Ie,Se),ge[Oe]=Ie.id}),await be.commit();const le=Es($e);K.links.forEach(ke=>{const Oe=ge[ke.source],Ie=ge[ke.target];if(!Oe||!Ie){console.error("Skipping link: missing mapping for source or target");return}const{id:Se,...me}=ke,De=zn($t($e,"mindMaps",fe.id,"links"));le.set(De,{...me,source:Oe,target:Ie})}),await le.commit(),S(`/editor/${fe.id}`)}catch(B){console.error("Error importing mind map:",B)}};return M.jsxs(Ra,{sx:{p:2,backgroundColor:"#121212",minHeight:"100vh",color:"#fff",border:"5px solid #262626"},children:[M.jsxs(Ra,{sx:{mb:2},children:[M.jsx(Kn,{variant:"contained",startIcon:M.jsx(Koe,{}),onClick:N,sx:{mr:2},children:"New Mind Map"}),M.jsx(Kn,{variant:"contained",onClick:q,sx:{mr:1},children:"Import Mind Map"})]}),M.jsx(ZA,{container:!0,spacing:2,sx:{mt:2,margin:"100px 100px 100px 100px"},children:t.map(Y=>M.jsx(ZA,{item:!0,xs:12,sm:6,md:4,children:M.jsxs(bne,{sx:{backgroundColor:"#262626",color:"#fff",padding:"20px 20px 20px 20px",borderRadius:"10px",border:"2px solid black",boxShadow:"0 1px 10px 2px rgba(360, 360,360, 0.5)"},children:[M.jsx(Ane,{onClick:()=>W(Y.id),sx:{cursor:"pointer"},children:M.jsx(Xi,{variant:"h6",sx:{fontWeight:"900"},children:Y.title})}),M.jsxs(Cne,{sx:{border:"0px solid white",background:"#262626",color:"#fff",borderRadius:"10%"},children:[M.jsx(Ry,{onClick:()=>$(Y.id),color:"primary",children:M.jsx(Yoe,{})}),M.jsx(Ry,{onClick:()=>T(Y.id),color:"error",children:M.jsx(qoe,{})})]})]})},Y.id))}),M.jsx("input",{type:"file",accept:"application/json",ref:k,style:{display:"none"},onChange:j}),M.jsxs(Mg,{open:l,onClose:()=>c(!1),PaperProps:{sx:{backgroundColor:"#424242",color:"#fff"}},children:[M.jsx(Fg,{children:"Create New Mind Map"}),M.jsxs(Lg,{children:[M.jsx(Vh,{autoFocus:!0,margin:"dense",label:"Mind Map Name",type:"text",fullWidth:!0,value:u,onChange:Y=>f(Y.target.value),variant:"filled",InputLabelProps:{style:{color:"#fff"}},sx:{backgroundColor:"#555"}}),M.jsxs(qS,{fullWidth:!0,margin:"dense",variant:"filled",children:[M.jsx(KS,{id:"template-select-label",sx:{color:"#fff"},children:"Template"}),M.jsxs(QS,{labelId:"template-select-label",value:h,label:"Template",onChange:Y=>p(Y.target.value),sx:{backgroundColor:"#555",color:"#fff"},children:[M.jsx(xa,{value:"blank",children:"Blank"}),M.jsx(xa,{value:"brainstorm",children:"Brainstorm"}),M.jsx(xa,{value:"project",children:"Project"})]})]})]}),M.jsxs(Dg,{children:[M.jsx(Kn,{onClick:()=>c(!1),sx:{color:"#fff"},children:"Cancel"}),M.jsx(Kn,{onClick:I,variant:"contained",children:"Create"})]})]}),M.jsxs(Mg,{open:i,onClose:P,PaperProps:{sx:{backgroundColor:"#424242",color:"#fff"}},children:[M.jsx(Fg,{children:"Confirm Delete"}),M.jsx(Lg,{children:M.jsx(Xi,{children:"Are you sure you want to delete this mind map?"})}),M.jsxs(Dg,{children:[M.jsx(Kn,{onClick:P,sx:{color:"#fff"},children:"Cancel"}),M.jsx(Kn,{onClick:R,color:"primary",children:"Yes"})]})]}),M.jsxs(Mg,{open:s,onClose:P,PaperProps:{sx:{backgroundColor:"#424242",color:"#fff"}},children:[M.jsx(Fg,{children:"Confirm Delete Again"}),M.jsx(Lg,{children:M.jsx(Xi,{children:"This action cannot be undone. Are you really sure?"})}),M.jsxs(Dg,{children:[M.jsx(Kn,{onClick:P,sx:{color:"#fff"},children:"Cancel"}),M.jsx(Kn,{onClick:y,color:"error",children:"Delete"})]})]}),M.jsxs(Mg,{open:m,onClose:()=>b(!1),PaperProps:{sx:{backgroundColor:"#424242",color:"#fff"}},children:[M.jsx(Fg,{children:"Share Mind Map"}),M.jsx(Lg,{children:M.jsx(Vh,{label:"Collaborator Email",fullWidth:!0,value:w,onChange:Y=>v(Y.target.value),variant:"filled",InputLabelProps:{style:{color:"#fff"}},sx:{backgroundColor:"#555"}})}),M.jsxs(Dg,{children:[M.jsx(Kn,{onClick:()=>b(!1),sx:{color:"#fff"},children:"Cancel"}),M.jsx(Kn,{onClick:A,variant:"contained",children:"Share"})]})]})]})};var F4="Expected a function",pk=0/0,Joe="[object Symbol]",Zoe=/^\s+|\s+$/g,ese=/^[-+]0x[0-9a-f]+$/i,tse=/^0b[01]+$/i,nse=/^0o[0-7]+$/i,rse=parseInt,ise=typeof Sa=="object"&&Sa&&Sa.Object===Object&&Sa,ose=typeof self=="object"&&self&&self.Object===Object&&self,sse=ise||ose||Function("return this")(),ase=Object.prototype,lse=ase.toString,cse=Math.max,use=Math.min,gb=function(){return sse.Date.now()};function dse(t,e,n){var r,i,o,s,a,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(F4);e=gk(e)||0,ky(n)&&(u=!!n.leading,f="maxWait"in n,o=f?cse(gk(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(N){var I=r,T=i;return r=i=void 0,c=N,s=t.apply(T,I),s}function m(N){return c=N,a=setTimeout(_,e),u?p(N):s}function b(N){var I=N-l,T=N-c,R=e-I;return f?use(R,o-T):R}function x(N){var I=N-l,T=N-c;return l===void 0||I>=e||I<0||f&&T>=o}function _(){var N=gb();if(x(N))return w(N);a=setTimeout(_,b(N))}function w(N){return a=void 0,h&&r?p(N):(r=i=void 0,s)}function v(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function S(){return a===void 0?s:w(gb())}function k(){var N=gb(),I=x(N);if(r=arguments,i=this,l=N,I){if(a===void 0)return m(l);if(f)return a=setTimeout(_,e),p(l)}return a===void 0&&(a=setTimeout(_,e)),s}return k.cancel=v,k.flush=S,k}function fse(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(F4);return ky(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),dse(t,e,{leading:r,maxWait:e,trailing:i})}function ky(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function hse(t){return!!t&&typeof t=="object"}function pse(t){return typeof t=="symbol"||hse(t)&&lse.call(t)==Joe}function gk(t){if(typeof t=="number")return t;if(pse(t))return pk;if(ky(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ky(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Zoe,"");var n=tse.test(t);return n||nse.test(t)?rse(t.slice(2),n?2:8):ese.test(t)?pk:+t}var gse=fse;const Ug=Xh(gse);var mk={};const yk="@firebase/database",vk="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B4="";function mse(t){B4=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yse{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ir(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Sh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vse{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Js(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new yse(e)}}catch{}return new vse},$l=V4("localStorage"),OE=V4("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=new xv("@firebase/database"),_se=function(){let t=1;return function(){return t++}}(),U4=function(t){const e=b9(t),n=new m9;n.update(e);const r=n.digest();return ox.encodeByteArray(r)},Op=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Op.apply(null,r):typeof r=="object"?e+=ir(r):e+=r,e+=" "}return e};let Ul=null,_k=!0;const bse=function(t,e){ae(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Iu.logLevel=bt.VERBOSE,Ul=Iu.log.bind(Iu),e&&OE.set("logging_enabled",!0)):typeof t=="function"?Ul=t:(Ul=null,OE.remove("logging_enabled"))},Nr=function(...t){if(_k===!0&&(_k=!1,Ul===null&&OE.get("logging_enabled")===!0&&bse(!0)),Ul){const e=Op.apply(null,t);Ul(e)}},Np=function(t){return function(...e){Nr(t,...e)}},NE=function(...t){const e="FIREBASE INTERNAL ERROR: "+Op(...t);Iu.error(e)},Ys=function(...t){const e=`FIREBASE FATAL ERROR: ${Op(...t)}`;throw Iu.error(e),new Error(e)},hi=function(...t){const e="FIREBASE WARNING: "+Op(...t);Iu.warn(e)},wse=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&hi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},j4=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Ese=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},td="[MIN_NAME]",Zl="[MAX_NAME]",Sd=function(t,e){if(t===e)return 0;if(t===td||e===Zl)return-1;if(e===td||t===Zl)return 1;{const n=bk(t),r=bk(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},xse=function(t,e){return t===e?0:t<e?-1:1},lf=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ir(e))},JS=function(t){if(typeof t!="object"||t===null)return ir(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ir(e[r]),n+=":",n+=JS(t[e[r]]);return n+="}",n},z4=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function mi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const W4=function(t){ae(!j4(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();const u=c.join("");let f="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},Sse=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Cse=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Tse(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Ise=new RegExp("^-?(0*)\\d{1,10}$"),Rse=-2147483648,Pse=2147483647,bk=function(t){if(Ise.test(t)){const e=Number(t);if(e>=Rse&&e<=Pse)return e}return null},Cd=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw hi("Exception was thrown by user callback.",n),e},Math.floor(0))}},Ase=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},th=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kse{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,jr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){hi(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ose{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Nr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',hi(e)}}class Ru{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ru.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="5",H4="v",G4="s",q4="r",K4="f",Y4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,X4="ls",Q4="p",$E="ac",J4="websocket",Z4="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$l.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&$l.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Nse(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function t5(t,e,n){ae(typeof e=="string","typeof type must == string"),ae(typeof n=="object","typeof params must == object");let r;if(e===J4)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Z4)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Nse(t)&&(n.ns=t.namespace);const i=[];return mi(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $se{constructor(){this.counters_={}}incrementCounter(e,n=1){Js(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Jj(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb={},yb={};function eC(t){const e=t.toString();return mb[e]||(mb[e]=new $se),mb[e]}function Mse(t,e){const n=t.toString();return yb[n]||(yb[n]=e()),yb[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dse{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Cd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk="start",Lse="close",Fse="pLPCommand",Bse="pRTLPCB",n5="id",r5="pw",i5="ser",Vse="cb",Use="seg",jse="ts",zse="d",Wse="dframe",o5=1870,s5=30,Hse=o5-s5,Gse=25e3,qse=3e4;class fu{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Np(e),this.stats_=eC(n),this.urlFn=l=>(this.appCheckToken&&(l[$E]=this.appCheckToken),t5(n,Z4,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Dse(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(qse)),Ese(()=>{if(this.isClosed_)return;this.scriptTagHolder=new tC((...o)=>{const[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===wk)this.id=a,this.password=l;else if(s===Lse)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[wk]="t",r[i5]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Vse]=this.scriptTagHolder.uniqueCallbackIdentifier),r[H4]=ZS,this.transportSessionId&&(r[G4]=this.transportSessionId),this.lastSessionId&&(r[X4]=this.lastSessionId),this.applicationId&&(r[Q4]=this.applicationId),this.appCheckToken&&(r[$E]=this.appCheckToken),typeof location<"u"&&location.hostname&&Y4.test(location.hostname)&&(r[q4]=K4);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){fu.forceAllow_=!0}static forceDisallow(){fu.forceDisallow_=!0}static isAvailable(){return fu.forceAllow_?!0:!fu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Sse()&&!Cse()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ir(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=yM(n),i=z4(r,Hse);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Wse]="t",r[n5]=e,r[r5]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ir(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class tC{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=_se(),window[Fse+this.uniqueCallbackIdentifier]=e,window[Bse+this.uniqueCallbackIdentifier]=n,this.myIFrame=tC.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Nr("frame writing exception"),a.stack&&Nr(a.stack),Nr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Nr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[n5]=this.myID,e[r5]=this.myPW,e[i5]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+s5+r.length<=o5;){const s=this.pendingSegs.shift();r=r+"&"+Use+i+"="+s.seg+"&"+jse+i+"="+s.ts+"&"+zse+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Gse)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Nr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kse=16384,Yse=45e3;let Oy=null;typeof MozWebSocket<"u"?Oy=MozWebSocket:typeof WebSocket<"u"&&(Oy=WebSocket);class Eo{constructor(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Np(this.connId),this.stats_=eC(n),this.connURL=Eo.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[H4]=ZS,typeof location<"u"&&location.hostname&&Y4.test(location.hostname)&&(s[q4]=K4),n&&(s[G4]=n),r&&(s[X4]=r),i&&(s[$E]=i),o&&(s[Q4]=o),t5(e,J4,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$l.set("previous_websocket_failure",!0);try{let r;xM(),this.mySock=new Oy(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Eo.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Oy!==null&&!Eo.forceDisallow_}static previouslyFailed(){return $l.isInMemoryStorage||$l.get("previous_websocket_failure")===!0}markConnectionHealthy(){$l.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Sh(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ae(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=ir(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=z4(n,Kse);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Yse))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Eo.responsesRequiredToBeHealthy=2;Eo.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{static get ALL_TRANSPORTS(){return[fu,Eo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Eo&&Eo.isAvailable();let r=n&&!Eo.previouslyFailed();if(e.webSocketOnly&&(n||hi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Eo];else{const i=this.transports_=[];for(const o of Uh.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);Uh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Uh.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xse=6e4,Qse=5e3,Jse=10*1024,Zse=100*1024,vb="t",Ek="d",eae="s",xk="r",tae="e",Sk="o",Ck="a",Tk="n",Ik="p",nae="h";class rae{constructor(e,n,r,i,o,s,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Np("c:"+this.id+":"),this.transportManager_=new Uh(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=th(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Zse?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Jse?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(vb in e){const n=e[vb];n===Ck?this.upgradeIfSecondaryHealthy_():n===xk?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Sk&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=lf("t",e),r=lf("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ik,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ck,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Tk,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=lf("t",e),r=lf("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=lf(vb,e);if(Ek in e){const r=e[Ek];if(n===nae){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Tk){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===eae?this.onConnectionShutdown_(r):n===xk?this.onReset_(r):n===tae?NE("Server Error: "+r):n===Sk?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):NE("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ZS!==r&&hi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),th(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Xse))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):th(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Qse))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ik,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($l.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e){this.allowedEvents_=e,this.listeners_={},ae(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){ae(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny extends l5{static getInstance(){return new Ny}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!lx()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ae(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=32,Pk=768;class Yt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Lt(){return new Yt("")}function gt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function tl(t){return t.pieces_.length-t.pieceNum_}function en(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Yt(t.pieces_,e)}function c5(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function iae(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function u5(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function d5(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Yt(e,0)}function Xn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Yt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Yt(n,0)}function wt(t){return t.pieceNum_>=t.pieces_.length}function si(t,e){const n=gt(t),r=gt(e);if(n===null)return e;if(n===r)return si(en(t),en(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function nC(t,e){if(tl(t)!==tl(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function So(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(tl(t)>tl(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class oae{constructor(e,n){this.errorPrefix_=n,this.parts_=u5(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ev(this.parts_[r]);f5(this)}}function sae(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ev(e),f5(t)}function aae(t){const e=t.parts_.pop();t.byteLength_-=Ev(e),t.parts_.length>0&&(t.byteLength_-=1)}function f5(t){if(t.byteLength_>Pk)throw new Error(t.errorPrefix_+"has a key path longer than "+Pk+" bytes ("+t.byteLength_+").");if(t.parts_.length>Rk)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Rk+") or object contains a cycle "+Sl(t))}function Sl(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC extends l5{static getInstance(){return new rC}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ae(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=1e3,lae=60*5*1e3,Ak=30*1e3,cae=1.3,uae=3e4,dae="server_kill",kk=3;class Ns extends a5{constructor(e,n,r,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ns.nextPersistentConnectionId_++,this.log_=Np("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=cf,this.maxReconnectDelay_=lae,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!xM())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");rC.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ny.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(ir(o)),ae(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new wv,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),ae(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ae(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,c=a.s;Ns.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Js(e,"w")){const r=Fu(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();hi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||g9(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ak)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=p9(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ae(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ir(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):NE("Unrecognized action received from server: "+ir(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ae(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=cf,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=cf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>uae&&(this.reconnectDelay_=cf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*cae)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ns.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},c=function(f){ae(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?Nr("getToken() completed but was canceled"):(Nr("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,a=new rae(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{hi(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(dae)},o))}catch(f){this.log_("Failed to get token: "+f),s||(this.repoInfo_.nodeAdmin&&hi(f),l())}}}interrupt(e){Nr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Nr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Nw(this.interruptReasons_)&&(this.reconnectDelay_=cf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>JS(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Yt(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Nr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=kk&&(this.reconnectDelay_=Ak,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Nr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=kk&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+B4.replace(/\./g,"-")]=1,lx()?e["framework.cordova"]=1:EM()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ny.getInstance().currentlyOnline();return Nw(this.interruptReasons_)&&e}}Ns.nextPersistentConnectionId_=0;Ns.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new mt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new mt(td,e),i=new mt(td,n);return this.compare(r,i)!==0}minPost(){return mt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jg;class h5 extends $0{static get __EMPTY_NODE(){return jg}static set __EMPTY_NODE(e){jg=e}compare(e,n){return Sd(e.name,n.name)}isDefinedOn(e){throw cd("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return mt.MIN}maxPost(){return new mt(Zl,jg)}makePost(e,n){return ae(typeof e=="string","KeyIndex indexValue must always be a string."),new mt(e,jg)}toString(){return".key"}}const Pu=new h5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class rr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??rr.RED,this.left=i??ai.EMPTY_NODE,this.right=o??ai.EMPTY_NODE}copy(e,n,r,i,o){return new rr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ai.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ai.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}rr.RED=!0;rr.BLACK=!1;class fae{copy(e,n,r,i,o){return this}insert(e,n,r){return new rr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ai{constructor(e,n=ai.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ai(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,rr.BLACK,null,null))}remove(e){return new ai(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,rr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new zg(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new zg(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new zg(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new zg(this.root_,null,this.comparator_,!0,e)}}ai.EMPTY_NODE=new fae;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hae(t,e){return Sd(t.name,e.name)}function iC(t,e){return Sd(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ME;function pae(t){ME=t}const p5=function(t){return typeof t=="number"?"number:"+W4(t):"string:"+t},g5=function(t){if(t.isLeafNode()){const e=t.val();ae(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Js(e,".sv"),"Priority must be a string or number.")}else ae(t===ME||t.isEmpty(),"priority of unexpected type.");ae(t===ME||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ok;class er{static set __childrenNodeConstructor(e){Ok=e}static get __childrenNodeConstructor(){return Ok}constructor(e,n=er.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ae(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),g5(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new er(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:er.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return wt(e)?this:gt(e)===".priority"?this.priorityNode_:er.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:er.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=gt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ae(r!==".priority"||tl(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,er.__childrenNodeConstructor.EMPTY_NODE.updateChild(en(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+p5(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=W4(this.value_):e+=this.value_,this.lazyHash_=U4(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===er.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof er.__childrenNodeConstructor?-1:(ae(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=er.VALUE_TYPE_ORDER.indexOf(n),o=er.VALUE_TYPE_ORDER.indexOf(r);return ae(i>=0,"Unknown leaf type: "+n),ae(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}er.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m5,y5;function gae(t){m5=t}function mae(t){y5=t}class yae extends $0{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Sd(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return mt.MIN}maxPost(){return new mt(Zl,new er("[PRIORITY-POST]",y5))}makePost(e,n){const r=m5(e);return new mt(n,new er("[PRIORITY-POST]",r))}toString(){return".priority"}}const kn=new yae;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vae=Math.log(2);class _ae{constructor(e){const n=o=>parseInt(Math.log(o)/vae,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const $y=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let f,h;if(u===0)return null;if(u===1)return f=t[l],h=n?n(f):f,new rr(h,f.node,rr.BLACK,null,null);{const p=parseInt(u/2,10)+l,m=i(l,p),b=i(p+1,c);return f=t[p],h=n?n(f):f,new rr(h,f.node,rr.BLACK,m,b)}},o=function(l){let c=null,u=null,f=t.length;const h=function(m,b){const x=f-m,_=f;f-=m;const w=i(x+1,_),v=t[x],S=n?n(v):v;p(new rr(S,v.node,b,null,w))},p=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const b=l.nextBitIsOne(),x=Math.pow(2,l.count-(m+1));b?h(x,rr.BLACK):(h(x,rr.BLACK),h(x,rr.RED))}return u},s=new _ae(t.length),a=o(s);return new ai(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _b;const Ac={};class Ps{static get Default(){return ae(Ac&&kn,"ChildrenNode.ts has not been loaded"),_b=_b||new Ps({".priority":Ac},{".priority":kn}),_b}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Fu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ai?n:null}hasIndex(e){return Js(this.indexSet_,e.toString())}addIndex(e,n){ae(e!==Pu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(mt.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=$y(r,e.getCompare()):a=Ac;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Ps(u,c)}addToIndexes(e,n){const r=ey(this.indexes_,(i,o)=>{const s=Fu(this.indexSet_,o);if(ae(s,"Missing index implementation for "+o),i===Ac)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(mt.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),$y(a,s.getCompare())}else return Ac;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new mt(e.name,a))),l.insert(e,e.node)}});return new Ps(r,this.indexSet_)}removeFromIndexes(e,n){const r=ey(this.indexes_,i=>{if(i===Ac)return i;{const o=n.get(e.name);return o?i.remove(new mt(e.name,o)):i}});return new Ps(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf;class He{static get EMPTY_NODE(){return uf||(uf=new He(new ai(iC),null,Ps.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&g5(this.priorityNode_),this.children_.isEmpty()&&ae(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||uf}updatePriority(e){return this.children_.isEmpty()?this:new He(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?uf:n}}getChild(e){const n=gt(e);return n===null?this:this.getImmediateChild(n).getChild(en(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ae(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new mt(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?uf:this.priorityNode_;return new He(i,s,o)}}updateChild(e,n){const r=gt(e);if(r===null)return n;{ae(gt(e)!==".priority"||tl(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(en(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(kn,(s,a)=>{n[s]=a.val(e),r++,o&&He.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+p5(this.getPriority().val())+":"),this.forEachChild(kn,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":U4(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new mt(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new mt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new mt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,mt.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,mt.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===$p?-1:0}withIndex(e){if(e===Pu||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new He(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Pu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(kn),i=n.getIterator(kn);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===Pu?null:this.indexMap_.get(e.toString())}}He.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class bae extends He{constructor(){super(new ai(iC),He.EMPTY_NODE,Ps.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return He.EMPTY_NODE}isEmpty(){return!1}}const $p=new bae;Object.defineProperties(mt,{MIN:{value:new mt(td,He.EMPTY_NODE)},MAX:{value:new mt(Zl,$p)}});h5.__EMPTY_NODE=He.EMPTY_NODE;er.__childrenNodeConstructor=He;pae($p);mae($p);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wae=!0;function gr(t,e=null){if(t===null)return He.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ae(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new er(n,gr(e))}if(!(t instanceof Array)&&wae){const n=[];let r=!1;if(mi(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=gr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new mt(s,l)))}}),n.length===0)return He.EMPTY_NODE;const o=$y(n,hae,s=>s.name,iC);if(r){const s=$y(n,kn.getCompare());return new He(o,gr(e),new Ps({".priority":s},{".priority":kn}))}else return new He(o,gr(e),Ps.Default)}else{let n=He.EMPTY_NODE;return mi(t,(r,i)=>{if(Js(t,r)&&r.substring(0,1)!=="."){const o=gr(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(gr(e))}}gae(gr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eae extends $0{constructor(e){super(),this.indexPath_=e,ae(!wt(e)&&gt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Sd(e.name,n.name):o}makePost(e,n){const r=gr(e),i=He.EMPTY_NODE.updateChild(this.indexPath_,r);return new mt(n,i)}maxPost(){const e=He.EMPTY_NODE.updateChild(this.indexPath_,$p);return new mt(Zl,e)}toString(){return u5(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xae extends $0{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Sd(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return mt.MIN}maxPost(){return mt.MAX}makePost(e,n){const r=gr(e);return new mt(n,r)}toString(){return".value"}}const Sae=new xae;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(t){return{type:"value",snapshotNode:t}}function nd(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function jh(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function zh(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Cae(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){ae(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(jh(n,a)):ae(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(nd(n,r)):s.trackChildChange(zh(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(kn,(i,o)=>{n.hasChild(i)||r.trackChildChange(jh(i,o))}),n.isLeafNode()||n.forEachChild(kn,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(zh(i,o,s))}else r.trackChildChange(nd(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?He.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this.indexedFilter_=new oC(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Wh.getStartPost_(e),this.endPost_=Wh.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new mt(n,r))||(r=He.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=He.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(He.EMPTY_NODE);const o=this;return n.forEachChild(kn,(s,a)=>{o.matches(new mt(s,a))||(i=i.updateImmediateChild(s,He.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tae{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Wh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new mt(n,r))||(r=He.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=He.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=He.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(He.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,He.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const f=this.index_.getCompare();s=(h,p)=>f(p,h)}else s=this.index_.getCompare();const a=e;ae(a.numChildren()===this.limit_,"");const l=new mt(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const f=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const p=h==null?1:s(h,l);if(u&&!r.isEmpty()&&p>=0)return o!=null&&o.trackChildChange(zh(n,r,f)),a.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(jh(n,f));const b=a.updateImmediateChild(n,He.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o!=null&&o.trackChildChange(nd(h.name,h.node)),b.updateImmediateChild(h.name,h.node)):b}}else return r.isEmpty()?e:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(jh(c.name,c.node)),o.trackChildChange(nd(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,He.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=kn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ae(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ae(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:td}hasEnd(){return this.endSet_}getIndexEndValue(){return ae(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ae(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ae(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===kn}copy(){const e=new sC;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Iae(t){return t.loadsAllData()?new oC(t.getIndex()):t.hasLimit()?new Tae(t):new Wh(t)}function Nk(t){const e={};if(t.isDefault())return e;let n;if(t.index_===kn?n="$priority":t.index_===Sae?n="$value":t.index_===Pu?n="$key":(ae(t.index_ instanceof Eae,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ir(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=ir(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ir(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ir(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ir(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function $k(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==kn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My extends a5{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ae(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Np("p:rest:"),this.listens_={}}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=My.getListenId_(e,r),a={};this.listens_[s]=a;const l=Nk(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let f=u;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(o,f,!1,r),Fu(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const r=My.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Nk(e._queryParams),r=e._path.toString(),i=new wv;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ud(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Sh(a.responseText)}catch{hi("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&hi("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rae{constructor(){this.rootNode_=He.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(){return{value:null,children:new Map}}function _5(t,e,n){if(wt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=gt(e);t.children.has(r)||t.children.set(r,Dy());const i=t.children.get(r);e=en(e),_5(i,e,n)}}function DE(t,e,n){t.value!==null?n(e,t.value):Pae(t,(r,i)=>{const o=new Yt(e.toString()+"/"+r);DE(i,o,n)})}function Pae(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aae{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&mi(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=10*1e3,kae=30*1e3,Oae=5*60*1e3;class Nae{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Aae(e);const r=Mk+(kae-Mk)*Math.random();th(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;mi(e,(i,o)=>{o>0&&Js(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),th(this.reportStats_.bind(this),Math.floor(Math.random()*2*Oae))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Co;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Co||(Co={}));function b5(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function aC(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function lC(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Co.ACK_USER_WRITE,this.source=b5()}operationForChild(e){if(wt(this.path)){if(this.affectedTree.value!=null)return ae(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Yt(e));return new Ly(Lt(),n,this.revert)}}else return ae(gt(this.path)===e,"operationForChild called for unrelated child."),new Ly(en(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.source=e,this.path=n,this.type=Co.LISTEN_COMPLETE}operationForChild(e){return wt(this.path)?new Hh(this.source,Lt()):new Hh(this.source,en(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Co.OVERWRITE}operationForChild(e){return wt(this.path)?new ec(this.source,Lt(),this.snap.getImmediateChild(e)):new ec(this.source,en(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Co.MERGE}operationForChild(e){if(wt(this.path)){const n=this.children.subtree(new Yt(e));return n.isEmpty()?null:n.value?new ec(this.source,Lt(),n.value):new Gh(this.source,Lt(),n)}else return ae(gt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Gh(this.source,en(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(wt(e))return this.isFullyInitialized()&&!this.filtered_;const n=gt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ae{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Mae(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(Cae(s.childName,s.snapshotNode))}),df(t,i,"child_removed",e,r,n),df(t,i,"child_added",e,r,n),df(t,i,"child_moved",o,r,n),df(t,i,"child_changed",e,r,n),df(t,i,"value",e,r,n),i}function df(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>Lae(t,a,l)),s.forEach(a=>{const l=Dae(t,a,o);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Dae(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Lae(t,e,n){if(e.childName==null||n.childName==null)throw cd("Should only compare child_ events.");const r=new mt(e.childName,e.snapshotNode),i=new mt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(t,e){return{eventCache:t,serverCache:e}}function nh(t,e,n,r){return M0(new tc(e,n,r),t.serverCache)}function w5(t,e,n,r){return M0(t.eventCache,new tc(e,n,r))}function LE(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function nc(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bb;const Fae=()=>(bb||(bb=new ai(xse)),bb);class dn{static fromObject(e){let n=new dn(null);return mi(e,(r,i)=>{n=n.set(new Yt(r),i)}),n}constructor(e,n=Fae()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Lt(),value:this.value};if(wt(e))return null;{const r=gt(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(en(e),n);return o!=null?{path:Xn(new Yt(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(wt(e))return this;{const n=gt(e),r=this.children.get(n);return r!==null?r.subtree(en(e)):new dn(null)}}set(e,n){if(wt(e))return new dn(n,this.children);{const r=gt(e),o=(this.children.get(r)||new dn(null)).set(en(e),n),s=this.children.insert(r,o);return new dn(this.value,s)}}remove(e){if(wt(e))return this.children.isEmpty()?new dn(null):new dn(null,this.children);{const n=gt(e),r=this.children.get(n);if(r){const i=r.remove(en(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new dn(null):new dn(this.value,o)}else return this}}get(e){if(wt(e))return this.value;{const n=gt(e),r=this.children.get(n);return r?r.get(en(e)):null}}setTree(e,n){if(wt(e))return n;{const r=gt(e),o=(this.children.get(r)||new dn(null)).setTree(en(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new dn(this.value,s)}}fold(e){return this.fold_(Lt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Xn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Lt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(wt(e))return null;{const o=gt(e),s=this.children.get(o);return s?s.findOnPath_(en(e),Xn(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Lt(),n)}foreachOnPath_(e,n,r){if(wt(e))return this;{this.value&&r(n,this.value);const i=gt(e),o=this.children.get(i);return o?o.foreachOnPath_(en(e),Xn(n,i),r):new dn(null)}}foreach(e){this.foreach_(Lt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Xn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.writeTree_=e}static empty(){return new Ao(new dn(null))}}function rh(t,e,n){if(wt(e))return new Ao(new dn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=si(i,e);return o=o.updateChild(s,n),new Ao(t.writeTree_.set(i,o))}else{const i=new dn(n),o=t.writeTree_.setTree(e,i);return new Ao(o)}}}function Dk(t,e,n){let r=t;return mi(n,(i,o)=>{r=rh(r,Xn(e,i),o)}),r}function Lk(t,e){if(wt(e))return Ao.empty();{const n=t.writeTree_.setTree(e,new dn(null));return new Ao(n)}}function FE(t,e){return uc(t,e)!=null}function uc(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(si(n.path,e)):null}function Fk(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(kn,(r,i)=>{e.push(new mt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new mt(r,i.value))}),e}function za(t,e){if(wt(e))return t;{const n=uc(t,e);return n!=null?new Ao(new dn(n)):new Ao(t.writeTree_.subtree(e))}}function BE(t){return t.writeTree_.isEmpty()}function rd(t,e){return E5(Lt(),t.writeTree_,e)}function E5(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(ae(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=E5(Xn(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Xn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t,e){return T5(e,t)}function Bae(t,e,n,r,i){ae(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=rh(t.visibleWrites,e,n)),t.lastWriteId=r}function Vae(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Uae(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);ae(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&jae(a,r.path)?i=!1:So(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return zae(t),!0;if(r.snap)t.visibleWrites=Lk(t.visibleWrites,r.path);else{const a=r.children;mi(a,l=>{t.visibleWrites=Lk(t.visibleWrites,Xn(r.path,l))})}return!0}else return!1}function jae(t,e){if(t.snap)return So(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&So(Xn(t.path,n),e))return!0;return!1}function zae(t){t.visibleWrites=x5(t.allWrites,Wae,Lt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Wae(t){return t.visible}function x5(t,e,n){let r=Ao.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)So(n,s)?(a=si(n,s),r=rh(r,a,o.snap)):So(s,n)&&(a=si(s,n),r=rh(r,Lt(),o.snap.getChild(a)));else if(o.children){if(So(n,s))a=si(n,s),r=Dk(r,a,o.children);else if(So(s,n))if(a=si(s,n),wt(a))r=Dk(r,Lt(),o.children);else{const l=Fu(o.children,gt(a));if(l){const c=l.getChild(en(a));r=rh(r,Lt(),c)}}}else throw cd("WriteRecord should have .snap or .children")}}return r}function S5(t,e,n,r,i){if(!r&&!i){const o=uc(t.visibleWrites,e);if(o!=null)return o;{const s=za(t.visibleWrites,e);if(BE(s))return n;if(n==null&&!FE(s,Lt()))return null;{const a=n||He.EMPTY_NODE;return rd(s,a)}}}else{const o=za(t.visibleWrites,e);if(!i&&BE(o))return n;if(!i&&n==null&&!FE(o,Lt()))return null;{const s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(So(c.path,e)||So(e,c.path))},a=x5(t.allWrites,s,e),l=n||He.EMPTY_NODE;return rd(a,l)}}}function Hae(t,e,n){let r=He.EMPTY_NODE;const i=uc(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(kn,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=za(t.visibleWrites,e);return n.forEachChild(kn,(s,a)=>{const l=rd(za(o,new Yt(s)),a);r=r.updateImmediateChild(s,l)}),Fk(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=za(t.visibleWrites,e);return Fk(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function Gae(t,e,n,r,i){ae(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Xn(e,n);if(FE(t.visibleWrites,o))return null;{const s=za(t.visibleWrites,o);return BE(s)?i.getChild(n):rd(s,i.getChild(n))}}function qae(t,e,n,r){const i=Xn(e,n),o=uc(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=za(t.visibleWrites,i);return rd(s,r.getNode().getImmediateChild(n))}else return null}function Kae(t,e){return uc(t.visibleWrites,e)}function Yae(t,e,n,r,i,o,s){let a;const l=za(t.visibleWrites,e),c=uc(l,Lt());if(c!=null)a=c;else if(n!=null)a=rd(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const u=[],f=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let p=h.getNext();for(;p&&u.length<i;)f(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function Xae(){return{visibleWrites:Ao.empty(),allWrites:[],lastWriteId:-1}}function Fy(t,e,n,r){return S5(t.writeTree,t.treePath,e,n,r)}function uC(t,e){return Hae(t.writeTree,t.treePath,e)}function Bk(t,e,n,r){return Gae(t.writeTree,t.treePath,e,n,r)}function By(t,e){return Kae(t.writeTree,Xn(t.treePath,e))}function Qae(t,e,n,r,i,o){return Yae(t.writeTree,t.treePath,e,n,r,i,o)}function dC(t,e,n){return qae(t.writeTree,t.treePath,e,n)}function C5(t,e){return T5(Xn(t.treePath,e),t.writeTree)}function T5(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jae{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ae(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ae(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,zh(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,jh(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,nd(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,zh(r,e.snapshotNode,i.oldSnap));else throw cd("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zae{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const I5=new Zae;class fC{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new tc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return dC(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:nc(this.viewCache_),o=Qae(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ele(t){return{filter:t}}function tle(t,e){ae(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ae(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function nle(t,e,n,r,i){const o=new Jae;let s,a;if(n.type===Co.OVERWRITE){const c=n;c.source.fromUser?s=VE(t,e,c.path,c.snap,r,i,o):(ae(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!wt(c.path),s=Vy(t,e,c.path,c.snap,r,i,a,o))}else if(n.type===Co.MERGE){const c=n;c.source.fromUser?s=ile(t,e,c.path,c.children,r,i,o):(ae(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=UE(t,e,c.path,c.children,r,i,a,o))}else if(n.type===Co.ACK_USER_WRITE){const c=n;c.revert?s=ale(t,e,c.path,r,i,o):s=ole(t,e,c.path,c.affectedTree,r,i,o)}else if(n.type===Co.LISTEN_COMPLETE)s=sle(t,e,n.path,r,o);else throw cd("Unknown operation type: "+n.type);const l=o.getChanges();return rle(e,s,l),{viewCache:s,changes:l}}function rle(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=LE(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(v5(LE(e)))}}function R5(t,e,n,r,i,o){const s=e.eventCache;if(By(r,n)!=null)return e;{let a,l;if(wt(n))if(ae(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=nc(e),u=c instanceof He?c:He.EMPTY_NODE,f=uC(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const c=Fy(r,nc(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const c=gt(n);if(c===".priority"){ae(tl(n)===1,"Can't have a priority with additional path components");const u=s.getNode();l=e.serverCache.getNode();const f=Bk(r,n,u,l);f!=null?a=t.filter.updatePriority(u,f):a=s.getNode()}else{const u=en(n);let f;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();const h=Bk(r,n,s.getNode(),l);h!=null?f=s.getNode().getImmediateChild(c).updateChild(u,h):f=s.getNode().getImmediateChild(c)}else f=dC(r,c,e.serverCache);f!=null?a=t.filter.updateChild(s.getNode(),c,f,u,i,o):a=s.getNode()}}return nh(e,a,s.isFullyInitialized()||wt(n),t.filter.filtersNodes())}}function Vy(t,e,n,r,i,o,s,a){const l=e.serverCache;let c;const u=s?t.filter:t.filter.getIndexedFilter();if(wt(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=gt(n);if(!l.isCompleteForPath(n)&&tl(n)>1)return e;const m=en(n),x=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=u.updatePriority(l.getNode(),x):c=u.updateChild(l.getNode(),p,x,m,I5,null)}const f=w5(e,c,l.isFullyInitialized()||wt(n),u.filtersNodes()),h=new fC(i,f,o);return R5(t,f,n,i,h,a)}function VE(t,e,n,r,i,o,s){const a=e.eventCache;let l,c;const u=new fC(i,e,o);if(wt(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=nh(e,c,!0,t.filter.filtersNodes());else{const f=gt(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=nh(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=en(n),p=a.getNode().getImmediateChild(f);let m;if(wt(h))m=r;else{const b=u.getCompleteChild(f);b!=null?c5(h)===".priority"&&b.getChild(d5(h)).isEmpty()?m=b:m=b.updateChild(h,r):m=He.EMPTY_NODE}if(p.equals(m))l=e;else{const b=t.filter.updateChild(a.getNode(),f,m,h,u,s);l=nh(e,b,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Vk(t,e){return t.eventCache.isCompleteForChild(e)}function ile(t,e,n,r,i,o,s){let a=e;return r.foreach((l,c)=>{const u=Xn(n,l);Vk(e,gt(u))&&(a=VE(t,a,u,c,i,o,s))}),r.foreach((l,c)=>{const u=Xn(n,l);Vk(e,gt(u))||(a=VE(t,a,u,c,i,o,s))}),a}function Uk(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function UE(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;wt(n)?c=r:c=new dn(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((f,h)=>{if(u.hasChild(f)){const p=e.serverCache.getNode().getImmediateChild(f),m=Uk(t,p,h);l=Vy(t,l,new Yt(f),m,i,o,s,a)}}),c.children.inorderTraversal((f,h)=>{const p=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!u.hasChild(f)&&!p){const m=e.serverCache.getNode().getImmediateChild(f),b=Uk(t,m,h);l=Vy(t,l,new Yt(f),b,i,o,s,a)}}),l}function ole(t,e,n,r,i,o,s){if(By(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(wt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Vy(t,e,n,l.getNode().getChild(n),i,o,a,s);if(wt(n)){let c=new dn(null);return l.getNode().forEachChild(Pu,(u,f)=>{c=c.set(new Yt(u),f)}),UE(t,e,n,c,i,o,a,s)}else return e}else{let c=new dn(null);return r.foreach((u,f)=>{const h=Xn(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),UE(t,e,n,c,i,o,a,s)}}function sle(t,e,n,r,i){const o=e.serverCache,s=w5(e,o.getNode(),o.isFullyInitialized()||wt(n),o.isFiltered());return R5(t,s,n,r,I5,i)}function ale(t,e,n,r,i,o){let s;if(By(r,n)!=null)return e;{const a=new fC(r,e,i),l=e.eventCache.getNode();let c;if(wt(n)||gt(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Fy(r,nc(e));else{const f=e.serverCache.getNode();ae(f instanceof He,"serverChildren would be complete if leaf node"),u=uC(r,f)}u=u,c=t.filter.updateFullNode(l,u,o)}else{const u=gt(n);let f=dC(r,u,e.serverCache);f==null&&e.serverCache.isCompleteForChild(u)&&(f=l.getImmediateChild(u)),f!=null?c=t.filter.updateChild(l,u,f,en(n),a,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,He.EMPTY_NODE,en(n),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Fy(r,nc(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||By(r,Lt())!=null,nh(e,c,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lle{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new oC(r.getIndex()),o=Iae(r);this.processor_=ele(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(He.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(He.EMPTY_NODE,a.getNode(),null),u=new tc(l,s.isFullyInitialized(),i.filtersNodes()),f=new tc(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=M0(f,u),this.eventGenerator_=new $ae(this.query_)}get query(){return this.query_}}function cle(t){return t.viewCache_.serverCache.getNode()}function ule(t,e){const n=nc(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!wt(e)&&!n.getImmediateChild(gt(e)).isEmpty())?n.getChild(e):null}function jk(t){return t.eventRegistrations_.length===0}function dle(t,e){t.eventRegistrations_.push(e)}function zk(t,e,n){const r=[];if(n){ae(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Wk(t,e,n,r){e.type===Co.MERGE&&e.source.queryId!==null&&(ae(nc(t.viewCache_),"We should always have a full cache before handling merges"),ae(LE(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=nle(t.processor_,i,e,n,r);return tle(t.processor_,o.viewCache),ae(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,P5(t,o.changes,o.viewCache.eventCache.getNode(),null)}function fle(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(kn,(o,s)=>{r.push(nd(o,s))}),n.isFullyInitialized()&&r.push(v5(n.getNode())),P5(t,r,n.getNode(),e)}function P5(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Mae(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uy;class hle{constructor(){this.views=new Map}}function ple(t){ae(!Uy,"__referenceConstructor has already been defined"),Uy=t}function gle(){return ae(Uy,"Reference.ts has not been loaded"),Uy}function mle(t){return t.views.size===0}function hC(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return ae(o!=null,"SyncTree gave us an op for an invalid query."),Wk(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(Wk(s,e,n,r));return o}}function yle(t,e,n,r,i){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Fy(n,i?r:null),l=!1;a?l=!0:r instanceof He?(a=uC(n,r),l=!1):(a=He.EMPTY_NODE,l=!1);const c=M0(new tc(a,l,!1),new tc(r,i,!1));return new lle(e,c)}return s}function vle(t,e,n,r,i,o){const s=yle(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),dle(s,n),fle(s,n)}function _le(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=nl(t);if(i==="default")for(const[l,c]of t.views.entries())s=s.concat(zk(c,n,r)),jk(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const l=t.views.get(i);l&&(s=s.concat(zk(l,n,r)),jk(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!nl(t)&&o.push(new(gle())(e._repo,e._path)),{removed:o,events:s}}function A5(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Au(t,e){let n=null;for(const r of t.views.values())n=n||ule(r,e);return n}function k5(t,e){if(e._queryParams.loadsAllData())return D0(t);{const r=e._queryIdentifier;return t.views.get(r)}}function O5(t,e){return k5(t,e)!=null}function nl(t){return D0(t)!=null}function D0(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jy;function ble(t){ae(!jy,"__referenceConstructor has already been defined"),jy=t}function wle(){return ae(jy,"Reference.ts has not been loaded"),jy}let Ele=1;class Hk{constructor(e){this.listenProvider_=e,this.syncPointTree_=new dn(null),this.pendingWriteTree_=Xae(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function N5(t,e,n,r,i){return Bae(t.pendingWriteTree_,e,n,r,i),i?Mp(t,new ec(b5(),e,n)):[]}function Ml(t,e,n=!1){const r=Vae(t.pendingWriteTree_,e);if(Uae(t.pendingWriteTree_,e)){let o=new dn(null);return r.snap!=null?o=o.set(Lt(),!0):mi(r.children,s=>{o=o.set(new Yt(s),!0)}),Mp(t,new Ly(r.path,o,n))}else return[]}function L0(t,e,n){return Mp(t,new ec(aC(),e,n))}function xle(t,e,n){const r=dn.fromObject(n);return Mp(t,new Gh(aC(),e,r))}function Sle(t,e){return Mp(t,new Hh(aC(),e))}function Cle(t,e,n){const r=gC(t,n);if(r){const i=mC(r),o=i.path,s=i.queryId,a=si(o,e),l=new Hh(lC(s),a);return yC(t,o,l)}else return[]}function jE(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&(e._queryIdentifier==="default"||O5(s,e))){const l=_le(s,e,n,r);mle(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(o,(h,p)=>nl(p));if(u&&!f){const h=t.syncPointTree_.subtree(o);if(!h.isEmpty()){const p=Rle(h);for(let m=0;m<p.length;++m){const b=p[m],x=b.query,_=D5(t,b);t.listenProvider_.startListening(ih(x),zy(t,x),_.hashFn,_.onComplete)}}}!f&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(ih(e),null):c.forEach(h=>{const p=t.queryToTagMap.get(F0(h));t.listenProvider_.stopListening(ih(h),p)}))}Ple(t,c)}return a}function Tle(t,e,n,r){const i=gC(t,r);if(i!=null){const o=mC(i),s=o.path,a=o.queryId,l=si(s,e),c=new ec(lC(a),l,n);return yC(t,s,c)}else return[]}function Ile(t,e,n,r){const i=gC(t,r);if(i){const o=mC(i),s=o.path,a=o.queryId,l=si(s,e),c=dn.fromObject(n),u=new Gh(lC(a),l,c);return yC(t,s,u)}else return[]}function Gk(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(h,p)=>{const m=si(h,i);o=o||Au(p,m),s=s||nl(p)});let a=t.syncPointTree_.get(i);a?(s=s||nl(a),o=o||Au(a,Lt())):(a=new hle,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=He.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,m)=>{const b=Au(m,Lt());b&&(o=o.updateImmediateChild(p,b))}));const c=O5(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=F0(e);ae(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const p=Ale();t.queryToTagMap.set(h,p),t.tagToQueryMap.set(p,h)}const u=cC(t.pendingWriteTree_,i);let f=vle(a,e,n,u,o,l);if(!c&&!s&&!r){const h=k5(a,e);f=f.concat(kle(t,e,h))}return f}function pC(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=si(s,e),c=Au(a,l);if(c)return c});return S5(i,e,o,n,!0)}function Mp(t,e){return $5(e,t.syncPointTree_,null,cC(t.pendingWriteTree_,Lt()))}function $5(t,e,n,r){if(wt(t.path))return M5(t,e,n,r);{const i=e.get(Lt());n==null&&i!=null&&(n=Au(i,Lt()));let o=[];const s=gt(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const c=n?n.getImmediateChild(s):null,u=C5(r,s);o=o.concat($5(a,l,c,u))}return i&&(o=o.concat(hC(i,t,r,n))),o}}function M5(t,e,n,r){const i=e.get(Lt());n==null&&i!=null&&(n=Au(i,Lt()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,c=C5(r,s),u=t.operationForChild(s);u&&(o=o.concat(M5(u,a,l,c)))}),i&&(o=o.concat(hC(i,t,r,n))),o}function D5(t,e){const n=e.query,r=zy(t,n);return{hashFn:()=>(cle(e)||He.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Cle(t,n._path,r):Sle(t,n._path);{const o=Tse(i,n);return jE(t,n,null,o)}}}}function zy(t,e){const n=F0(e);return t.queryToTagMap.get(n)}function F0(t){return t._path.toString()+"$"+t._queryIdentifier}function gC(t,e){return t.tagToQueryMap.get(e)}function mC(t){const e=t.indexOf("$");return ae(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Yt(t.substr(0,e))}}function yC(t,e,n){const r=t.syncPointTree_.get(e);ae(r,"Missing sync point for query tag that we're tracking");const i=cC(t.pendingWriteTree_,e);return hC(r,n,i,null)}function Rle(t){return t.fold((e,n,r)=>{if(n&&nl(n))return[D0(n)];{let i=[];return n&&(i=A5(n)),mi(r,(o,s)=>{i=i.concat(s)}),i}})}function ih(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(wle())(t._repo,t._path):t}function Ple(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=F0(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function Ale(){return Ele++}function kle(t,e,n){const r=e._path,i=zy(t,e),o=D5(t,n),s=t.listenProvider_.startListening(ih(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)ae(!nl(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,f)=>{if(!wt(c)&&u&&nl(u))return[D0(u).query];{let h=[];return u&&(h=h.concat(A5(u).map(p=>p.query))),mi(f,(p,m)=>{h=h.concat(m)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(ih(u),zy(t,u))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new vC(n)}node(){return this.node_}}class _C{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Xn(this.path_,e);return new _C(this.syncTree_,n)}node(){return pC(this.syncTree_,this.path_)}}const Ole=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},qk=function(t,e,n){if(!t||typeof t!="object")return t;if(ae(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Nle(t[".sv"],e,n);if(typeof t[".sv"]=="object")return $le(t[".sv"],e);ae(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Nle=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ae(!1,"Unexpected server value: "+t)}},$le=function(t,e,n){t.hasOwnProperty("increment")||ae(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ae(!1,"Unexpected increment value: "+r);const i=e.node();if(ae(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},Mle=function(t,e,n,r){return bC(e,new _C(n,t),r)},L5=function(t,e,n){return bC(t,new vC(e),n)};function bC(t,e,n){const r=t.getPriority().val(),i=qk(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=qk(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new er(a,gr(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new er(i))),s.forEachChild(kn,(a,l)=>{const c=bC(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function EC(t,e){let n=e instanceof Yt?e:new Yt(e),r=t,i=gt(n);for(;i!==null;){const o=Fu(r.node.children,i)||{children:{},childCount:0};r=new wC(i,r,o),n=en(n),i=gt(n)}return r}function Td(t){return t.node.value}function F5(t,e){t.node.value=e,zE(t)}function B5(t){return t.node.childCount>0}function Dle(t){return Td(t)===void 0&&!B5(t)}function B0(t,e){mi(t.node.children,(n,r)=>{e(new wC(n,t,r))})}function V5(t,e,n,r){n&&!r&&e(t),B0(t,i=>{V5(i,e,!0,r)}),n&&r&&e(t)}function Lle(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Dp(t){return new Yt(t.parent===null?t.name:Dp(t.parent)+"/"+t.name)}function zE(t){t.parent!==null&&Fle(t.parent,t.name,t)}function Fle(t,e,n){const r=Dle(n),i=Js(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,zE(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,zE(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ble=/[\[\].#$\/\u0000-\u001F\u007F]/,Vle=/[\[\].#$\u0000-\u001F\u007F]/,wb=10*1024*1024,U5=function(t){return typeof t=="string"&&t.length!==0&&!Ble.test(t)},j5=function(t){return typeof t=="string"&&t.length!==0&&!Vle.test(t)},Ule=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),j5(t)},jle=function(t,e,n,r){r&&e===void 0||xC(cx(t,"value"),e,n)},xC=function(t,e,n){const r=n instanceof Yt?new oae(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Sl(r));if(typeof e=="function")throw new Error(t+"contains a function "+Sl(r)+" with contents = "+e.toString());if(j4(e))throw new Error(t+"contains "+e.toString()+" "+Sl(r));if(typeof e=="string"&&e.length>wb/3&&Ev(e)>wb)throw new Error(t+"contains a string greater than "+wb+" utf8 bytes "+Sl(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(mi(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!U5(s)))throw new Error(t+" contains an invalid key ("+s+") "+Sl(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);sae(r,s),xC(t,a,r),aae(r)}),i&&o)throw new Error(t+' contains ".value" child '+Sl(r)+" in addition to actual children.")}},z5=function(t,e,n,r){if(!(r&&n===void 0)&&!j5(n))throw new Error(cx(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},zle=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),z5(t,e,n,r)},W5=function(t,e){if(gt(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Wle=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!U5(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Ule(n))throw new Error(cx(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hle{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function SC(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!nC(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function H5(t,e,n){SC(t,n),G5(t,r=>nC(r,e))}function Xs(t,e,n){SC(t,n),G5(t,r=>So(r,e)||So(e,r))}function G5(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(Gle(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Gle(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ul&&Nr("event: "+n.toString()),Cd(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qle="repo_interrupt",Kle=25;class Yle{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Hle,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Dy(),this.transactionQueueTree_=new wC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Xle(t,e,n){if(t.stats_=eC(t.repoInfo_),t.forceRestClient_||Ase())t.server_=new My(t.repoInfo_,(r,i,o,s)=>{Kk(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Yk(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ir(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ns(t.repoInfo_,e,(r,i,o,s)=>{Kk(t,r,i,o,s)},r=>{Yk(t,r)},r=>{Jle(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Mse(t.repoInfo_,()=>new Nae(t.stats_,t.server_)),t.infoData_=new Rae,t.infoSyncTree_=new Hk({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=L0(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),TC(t,"connected",!1),t.serverSyncTree_=new Hk({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const c=s(a,l);Xs(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Qle(t){const n=t.infoData_.getNode(new Yt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function CC(t){return Ole({timestamp:Qle(t)})}function Kk(t,e,n,r,i){t.dataUpdateCount++;const o=new Yt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=ey(n,c=>gr(c));s=Ile(t.serverSyncTree_,o,l,i)}else{const l=gr(n);s=Tle(t.serverSyncTree_,o,l,i)}else if(r){const l=ey(n,c=>gr(c));s=xle(t.serverSyncTree_,o,l)}else{const l=gr(n);s=L0(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=V0(t,o)),Xs(t.eventQueue_,a,s)}function Yk(t,e){TC(t,"connected",e),e===!1&&ece(t)}function Jle(t,e){mi(e,(n,r)=>{TC(t,n,r)})}function TC(t,e,n){const r=new Yt("/.info/"+e),i=gr(n);t.infoData_.updateSnapshot(r,i);const o=L0(t.infoSyncTree_,r,i);Xs(t.eventQueue_,r,o)}function q5(t){return t.nextWriteId_++}function Zle(t,e,n,r,i){IC(t,"set",{path:e.toString(),value:n,priority:r});const o=CC(t),s=gr(n,r),a=pC(t.serverSyncTree_,e),l=L5(s,a,o),c=q5(t),u=N5(t.serverSyncTree_,e,l,c,!0);SC(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(h,p)=>{const m=h==="ok";m||hi("set at "+e+" failed: "+h);const b=Ml(t.serverSyncTree_,c,!m);Xs(t.eventQueue_,e,b),rce(t,i,h,p)});const f=J5(t,e);V0(t,f),Xs(t.eventQueue_,f,[])}function ece(t){IC(t,"onDisconnectEvents");const e=CC(t),n=Dy();DE(t.onDisconnect_,Lt(),(i,o)=>{const s=Mle(i,o,t.serverSyncTree_,e);_5(n,i,s)});let r=[];DE(n,Lt(),(i,o)=>{r=r.concat(L0(t.serverSyncTree_,i,o));const s=J5(t,i);V0(t,s)}),t.onDisconnect_=Dy(),Xs(t.eventQueue_,Lt(),r)}function tce(t,e,n){let r;gt(e._path)===".info"?r=Gk(t.infoSyncTree_,e,n):r=Gk(t.serverSyncTree_,e,n),H5(t.eventQueue_,e._path,r)}function WE(t,e,n){let r;gt(e._path)===".info"?r=jE(t.infoSyncTree_,e,n):r=jE(t.serverSyncTree_,e,n),H5(t.eventQueue_,e._path,r)}function nce(t){t.persistentConnection_&&t.persistentConnection_.interrupt(qle)}function IC(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Nr(n,...e)}function rce(t,e,n,r){e&&Cd(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function K5(t,e,n){return pC(t.serverSyncTree_,e,n)||He.EMPTY_NODE}function RC(t,e=t.transactionQueueTree_){if(e||U0(t,e),Td(e)){const n=X5(t,e);ae(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&ice(t,Dp(e),n)}else B5(e)&&B0(e,n=>{RC(t,n)})}function ice(t,e,n){const r=n.map(c=>c.currentWriteId),i=K5(t,e,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const u=n[c];ae(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=si(e,u.path);o=o.updateChild(f,u.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{IC(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Ml(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();U0(t,EC(t.transactionQueueTree_,e)),RC(t,t.transactionQueueTree_),Xs(t.eventQueue_,e,u);for(let h=0;h<f.length;h++)Cd(f[h])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{hi("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}V0(t,e)}},s)}function V0(t,e){const n=Y5(t,e),r=Dp(n),i=X5(t,n);return oce(t,i,r),r}function oce(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=si(n,l.path);let u=!1,f;if(ae(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,f=l.abortReason,i=i.concat(Ml(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Kle)u=!0,f="maxretry",i=i.concat(Ml(t.serverSyncTree_,l.currentWriteId,!0));else{const h=K5(t,l.path,s);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){xC("transaction failed: Data returned ",p,l.path);let m=gr(p);typeof p=="object"&&p!=null&&Js(p,".priority")||(m=m.updatePriority(h.getPriority()));const x=l.currentWriteId,_=CC(t),w=L5(m,h,_);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=w,l.currentWriteId=q5(t),s.splice(s.indexOf(x),1),i=i.concat(N5(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(Ml(t.serverSyncTree_,x,!0))}else u=!0,f="nodata",i=i.concat(Ml(t.serverSyncTree_,l.currentWriteId,!0))}Xs(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}U0(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Cd(r[a]);RC(t,t.transactionQueueTree_)}function Y5(t,e){let n,r=t.transactionQueueTree_;for(n=gt(e);n!==null&&Td(r)===void 0;)r=EC(r,n),e=en(e),n=gt(e);return r}function X5(t,e){const n=[];return Q5(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Q5(t,e,n){const r=Td(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);B0(e,i=>{Q5(t,i,n)})}function U0(t,e){const n=Td(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,F5(e,n.length>0?n:void 0)}B0(e,r=>{U0(t,r)})}function J5(t,e){const n=Dp(Y5(t,e)),r=EC(t.transactionQueueTree_,e);return Lle(r,i=>{Eb(t,i)}),Eb(t,r),V5(r,i=>{Eb(t,i)}),n}function Eb(t,e){const n=Td(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(ae(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(ae(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Ml(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?F5(e,void 0):n.length=o+1,Xs(t.eventQueue_,Dp(e),i);for(let s=0;s<r.length;s++)Cd(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sce(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function ace(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):hi(`Invalid query segment '${n}' in query '${t}'`)}return e}const Xk=function(t,e){const n=lce(t),r=n.namespace;n.domain==="firebase.com"&&Ys(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ys("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||wse();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new e5(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Yt(n.pathString)}},lce=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(u,f)),u<f&&(i=sce(t.substring(u,f)));const h=ace(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ir(this.snapshot.exportVal())}}class e3{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ae(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return wt(this._path)?null:c5(this._path)}get ref(){return new ea(this._repo,this._path)}get _queryIdentifier(){const e=$k(this._queryParams),n=JS(e);return n==="{}"?"default":n}get _queryObject(){return $k(this._queryParams)}isEqual(e){if(e=Bt(e),!(e instanceof PC))return!1;const n=this._repo===e._repo,r=nC(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+iae(this._path)}}class ea extends PC{constructor(e,n){super(e,n,new sC,!1)}get parent(){const e=d5(this._path);return e===null?null:new ea(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class qh{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Yt(e),r=Wy(this.ref,e);return new qh(this._node.getChild(n),r,kn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new qh(i,Wy(this.ref,r),kn)))}hasChild(e){const n=new Yt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Qk(t,e){return t=Bt(t),t._checkNotDeleted("ref"),e!==void 0?Wy(t._root,e):t._root}function Wy(t,e){return t=Bt(t),gt(t._path)===null?zle("child","path",e,!1):z5("child","path",e,!1),new ea(t._repo,Xn(t._path,e))}function Jk(t){return W5("remove",t._path),HE(t,null)}function HE(t,e){t=Bt(t),W5("set",t._path),jle("set",e,t._path,!1);const n=new wv;return Zle(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class j0{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new Z5("value",this,new qh(e.snapshotNode,new ea(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new e3(this,e,n):null}matches(e){return e instanceof j0?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class z0{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new e3(this,e,n):null}createEvent(e,n){ae(e.childName!=null,"Child events should have a childName.");const r=Wy(new ea(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Z5(e.type,this,new qh(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof z0?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function cce(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){const l=n,c=(u,f)=>{WE(t._repo,t,a),l(u,f)};c.userCallback=n.userCallback,c.context=n.context,n=c}const s=new t3(n,o||void 0),a=e==="value"?new j0(s):new z0(e,s);return tce(t._repo,t,a),()=>WE(t._repo,t,a)}function uce(t,e,n,r){return cce(t,"value",e,n,r)}function dce(t,e,n){let r=null;const i=n?new t3(n):null;e==="value"?r=new j0(i):e&&(r=new z0(e,i)),WE(t._repo,t,r)}ple(ea);ble(ea);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fce="FIREBASE_DATABASE_EMULATOR_HOST",GE={};let hce=!1;function pce(t,e,n,r){t.repoInfo_=new e5(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function gce(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Ys("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Nr("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=Xk(o,i),a=s.repoInfo,l,c;typeof process<"u"&&mk&&(c=mk[fce]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=Xk(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const u=i&&l?new Ru(Ru.OWNER):new Ose(t.name,t.options,e);Wle("Invalid Firebase Database URL",s),wt(s.path)||Ys("Database URL must point to the root of a Firebase Database (not including a child path).");const f=yce(a,t,u,new kse(t,n));return new vce(f,t)}function mce(t,e){const n=GE[e];(!n||n[t.key]!==t)&&Ys(`Database ${e}(${t.repoInfo_}) has already been deleted.`),nce(t),delete n[t.key]}function yce(t,e,n,r){let i=GE[e.name];i||(i={},GE[e.name]=i);let o=i[t.toURLString()];return o&&Ys("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Yle(t,hce,n,r),i[t.toURLString()]=o,o}class vce{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Xle(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ea(this._repo,Lt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(mce(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ys("Cannot call "+e+" on a deleted database.")}}function Zk(t=Sv(),e){const n=ap(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=sx("database");r&&_ce(n,...r)}return n}function _ce(t,e,n,r={}){t=Bt(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Bs(r,o.repoInfo_.emulatorOptions))return;Ys("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Ys('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ru(Ru.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:ax(r.mockUserToken,t.app.options.projectId);s=new Ru(a)}pce(o,i,r,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bce(t){mse(ll),Ga(new Vs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return gce(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),eo(yk,vk,t),eo(yk,vk,"esm2017")}Ns.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ns.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};bce();var W0={exports:{}},n3={};function r3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=r3(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function eO(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=r3(t))&&(r&&(r+=" "),r+=e);return r}const wce=Object.freeze(Object.defineProperty({__proto__:null,clsx:eO,default:eO},Symbol.toStringTag,{value:"Module"})),Ece=jB(wce);var $n={},ds={};Object.defineProperty(ds,"__esModule",{value:!0});ds.dontSetMe=Ice;ds.findInArray=xce;ds.int=Tce;ds.isFunction=Sce;ds.isNum=Cce;function xce(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function Sce(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function Cce(t){return typeof t=="number"&&!isNaN(t)}function Tce(t){return parseInt(t,10)}function Ice(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var dc={};Object.defineProperty(dc,"__esModule",{value:!0});dc.browserPrefixToKey=o3;dc.browserPrefixToStyle=Rce;dc.default=void 0;dc.getPrefix=i3;const xb=["Moz","Webkit","O","ms"];function i3(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<xb.length;r++)if(o3(e,xb[r])in n)return xb[r];return""}function o3(t,e){return e?"".concat(e).concat(Pce(t)):t}function Rce(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function Pce(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}dc.default=i3();Object.defineProperty($n,"__esModule",{value:!0});$n.addClassName=l3;$n.addEvent=Oce;$n.addUserSelectStyles=zce;$n.createCSSTransform=Bce;$n.createSVGTransform=Vce;$n.getTouch=Uce;$n.getTouchIdentifier=jce;$n.getTranslation=AC;$n.innerHeight=Dce;$n.innerWidth=Lce;$n.matchesSelector=a3;$n.matchesSelectorAndParentsTo=kce;$n.offsetXYFromParent=Fce;$n.outerHeight=$ce;$n.outerWidth=Mce;$n.removeClassName=c3;$n.removeEvent=Nce;$n.removeUserSelectStyles=Wce;var Di=ds,tO=Ace(dc);function s3(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(s3=function(r){return r?n:e})(t)}function Ace(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=s3(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}let Wg="";function a3(t,e){return Wg||(Wg=(0,Di.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Di.isFunction)(t[n])})),(0,Di.isFunction)(t[Wg])?t[Wg](e):!1}function kce(t,e,n){let r=t;do{if(a3(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function Oce(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,i):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function Nce(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function $ce(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Di.int)(n.borderTopWidth),e+=(0,Di.int)(n.borderBottomWidth),e}function Mce(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Di.int)(n.borderLeftWidth),e+=(0,Di.int)(n.borderRightWidth),e}function Dce(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Di.int)(n.paddingTop),e-=(0,Di.int)(n.paddingBottom),e}function Lce(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Di.int)(n.paddingLeft),e-=(0,Di.int)(n.paddingRight),e}function Fce(t,e,n){const i=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),o=(t.clientX+e.scrollLeft-i.left)/n,s=(t.clientY+e.scrollTop-i.top)/n;return{x:o,y:s}}function Bce(t,e){const n=AC(t,e,"px");return{[(0,tO.browserPrefixToKey)("transform",tO.default)]:n}}function Vce(t,e){return AC(t,e,"")}function AC(t,e,n){let{x:r,y:i}=t,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(e){const s="".concat(typeof e.x=="string"?e.x:e.x+n),a="".concat(typeof e.y=="string"?e.y:e.y+n);o="translate(".concat(s,", ").concat(a,")")+o}return o}function Uce(t,e){return t.targetTouches&&(0,Di.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,Di.findInArray)(t.changedTouches,n=>e===n.identifier)}function jce(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function zce(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&l3(t.body,"react-draggable-transparent-selection")}function Wce(t){if(t)try{if(t.body&&c3(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function l3(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function c3(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var fs={};Object.defineProperty(fs,"__esModule",{value:!0});fs.canDragX=qce;fs.canDragY=Kce;fs.createCoreData=Xce;fs.createDraggableData=Qce;fs.getBoundPosition=Hce;fs.getControlPosition=Yce;fs.snapToGrid=Gce;var Ei=ds,hu=$n;function Hce(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:Jce(r);const i=kC(t);if(typeof r=="string"){const{ownerDocument:o}=i,s=o.defaultView;let a;if(r==="parent"?a=i.parentNode:a=o.querySelector(r),!(a instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const l=a,c=s.getComputedStyle(i),u=s.getComputedStyle(l);r={left:-i.offsetLeft+(0,Ei.int)(u.paddingLeft)+(0,Ei.int)(c.marginLeft),top:-i.offsetTop+(0,Ei.int)(u.paddingTop)+(0,Ei.int)(c.marginTop),right:(0,hu.innerWidth)(l)-(0,hu.outerWidth)(i)-i.offsetLeft+(0,Ei.int)(u.paddingRight)-(0,Ei.int)(c.marginRight),bottom:(0,hu.innerHeight)(l)-(0,hu.outerHeight)(i)-i.offsetTop+(0,Ei.int)(u.paddingBottom)-(0,Ei.int)(c.marginBottom)}}return(0,Ei.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,Ei.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Ei.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,Ei.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function Gce(t,e,n){const r=Math.round(e/t[0])*t[0],i=Math.round(n/t[1])*t[1];return[r,i]}function qce(t){return t.props.axis==="both"||t.props.axis==="x"}function Kce(t){return t.props.axis==="both"||t.props.axis==="y"}function Yce(t,e,n){const r=typeof e=="number"?(0,hu.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const i=kC(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,hu.offsetXYFromParent)(r||t,o,n.props.scale)}function Xce(t,e,n){const r=!(0,Ei.isNum)(t.lastX),i=kC(t);return r?{node:i,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:i,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function Qce(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function Jce(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function kC(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var H0={},G0={};Object.defineProperty(G0,"__esModule",{value:!0});G0.default=Zce;function Zce(){}Object.defineProperty(H0,"__esModule",{value:!0});H0.default=void 0;var Sb=tue(E),Zr=OC(ES),eue=OC(np),Ir=$n,fa=fs,Cb=ds,ff=OC(G0);function OC(t){return t&&t.__esModule?t:{default:t}}function u3(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(u3=function(r){return r?n:e})(t)}function tue(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=u3(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function Vr(t,e,n){return e=nue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nue(t){var e=rue(t,"string");return typeof e=="symbol"?e:String(e)}function rue(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const yo={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let ha=yo.mouse,q0=class extends Sb.Component{constructor(){super(...arguments),Vr(this,"dragging",!1),Vr(this,"lastX",NaN),Vr(this,"lastY",NaN),Vr(this,"touchIdentifier",null),Vr(this,"mounted",!1),Vr(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Ir.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,Ir.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const i=(0,Ir.getTouchIdentifier)(e);this.touchIdentifier=i;const o=(0,fa.getControlPosition)(e,i,this);if(o==null)return;const{x:s,y:a}=o,l=(0,fa.createCoreData)(this,s,a);(0,ff.default)("DraggableCore: handleDragStart: %j",l),(0,ff.default)("calling",this.props.onStart),!(this.props.onStart(e,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Ir.addUserSelectStyles)(r),this.dragging=!0,this.lastX=s,this.lastY=a,(0,Ir.addEvent)(r,ha.move,this.handleDrag),(0,Ir.addEvent)(r,ha.stop,this.handleDragStop))}),Vr(this,"handleDrag",e=>{const n=(0,fa.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,l=i-this.lastY;if([a,l]=(0,fa.snapToGrid)(this.props.grid,a,l),!a&&!l)return;r=this.lastX+a,i=this.lastY+l}const o=(0,fa.createCoreData)(this,r,i);if((0,ff.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(e,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=r,this.lastY=i}),Vr(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,fa.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX||0,c=i-this.lastY||0;[l,c]=(0,fa.snapToGrid)(this.props.grid,l,c),r=this.lastX+l,i=this.lastY+c}const o=(0,fa.createCoreData)(this,r,i);if(this.props.onStop(e,o)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,Ir.removeUserSelectStyles)(a.ownerDocument),(0,ff.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,ff.default)("DraggableCore: Removing handlers"),(0,Ir.removeEvent)(a.ownerDocument,ha.move,this.handleDrag),(0,Ir.removeEvent)(a.ownerDocument,ha.stop,this.handleDragStop))}),Vr(this,"onMouseDown",e=>(ha=yo.mouse,this.handleDragStart(e))),Vr(this,"onMouseUp",e=>(ha=yo.mouse,this.handleDragStop(e))),Vr(this,"onTouchStart",e=>(ha=yo.touch,this.handleDragStart(e))),Vr(this,"onTouchEnd",e=>(ha=yo.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Ir.addEvent)(e,yo.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,Ir.removeEvent)(n,yo.mouse.move,this.handleDrag),(0,Ir.removeEvent)(n,yo.touch.move,this.handleDrag),(0,Ir.removeEvent)(n,yo.mouse.stop,this.handleDragStop),(0,Ir.removeEvent)(n,yo.touch.stop,this.handleDragStop),(0,Ir.removeEvent)(e,yo.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Ir.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:eue.default.findDOMNode(this)}render(){return Sb.cloneElement(Sb.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};H0.default=q0;Vr(q0,"displayName","DraggableCore");Vr(q0,"propTypes",{allowAnyClick:Zr.default.bool,children:Zr.default.node.isRequired,disabled:Zr.default.bool,enableUserSelectHack:Zr.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Zr.default.arrayOf(Zr.default.number),handle:Zr.default.string,cancel:Zr.default.string,nodeRef:Zr.default.object,onStart:Zr.default.func,onDrag:Zr.default.func,onStop:Zr.default.func,onMouseDown:Zr.default.func,scale:Zr.default.number,className:Cb.dontSetMe,style:Cb.dontSetMe,transform:Cb.dontSetMe});Vr(q0,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var e=h(E),n=u(ES),r=u(np),i=u(Ece),o=$n,s=fs,a=ds,l=u(H0),c=u(G0);function u(w){return w&&w.__esModule?w:{default:w}}function f(w){if(typeof WeakMap!="function")return null;var v=new WeakMap,S=new WeakMap;return(f=function(k){return k?S:v})(w)}function h(w,v){if(!v&&w&&w.__esModule)return w;if(w===null||typeof w!="object"&&typeof w!="function")return{default:w};var S=f(v);if(S&&S.has(w))return S.get(w);var k={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in w)if(I!=="default"&&Object.prototype.hasOwnProperty.call(w,I)){var T=N?Object.getOwnPropertyDescriptor(w,I):null;T&&(T.get||T.set)?Object.defineProperty(k,I,T):k[I]=w[I]}return k.default=w,S&&S.set(w,k),k}function p(){return p=Object.assign?Object.assign.bind():function(w){for(var v=1;v<arguments.length;v++){var S=arguments[v];for(var k in S)Object.prototype.hasOwnProperty.call(S,k)&&(w[k]=S[k])}return w},p.apply(this,arguments)}function m(w,v,S){return v=b(v),v in w?Object.defineProperty(w,v,{value:S,enumerable:!0,configurable:!0,writable:!0}):w[v]=S,w}function b(w){var v=x(w,"string");return typeof v=="symbol"?v:String(v)}function x(w,v){if(typeof w!="object"||w===null)return w;var S=w[Symbol.toPrimitive];if(S!==void 0){var k=S.call(w,v||"default");if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(w)}class _ extends e.Component{static getDerivedStateFromProps(v,S){let{position:k}=v,{prevPropsPosition:N}=S;return k&&(!N||k.x!==N.x||k.y!==N.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:k,prevPropsPosition:N}),{x:k.x,y:k.y,prevPropsPosition:{...k}}):null}constructor(v){super(v),m(this,"onDragStart",(S,k)=>{if((0,c.default)("Draggable: onDragStart: %j",k),this.props.onStart(S,(0,s.createDraggableData)(this,k))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),m(this,"onDrag",(S,k)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",k);const N=(0,s.createDraggableData)(this,k),I={x:N.x,y:N.y,slackX:0,slackY:0};if(this.props.bounds){const{x:R,y}=I;I.x+=this.state.slackX,I.y+=this.state.slackY;const[P,$]=(0,s.getBoundPosition)(this,I.x,I.y);I.x=P,I.y=$,I.slackX=this.state.slackX+(R-I.x),I.slackY=this.state.slackY+(y-I.y),N.x=I.x,N.y=I.y,N.deltaX=I.x-this.state.x,N.deltaY=I.y-this.state.y}if(this.props.onDrag(S,N)===!1)return!1;this.setState(I)}),m(this,"onDragStop",(S,k)=>{if(!this.state.dragging||this.props.onStop(S,(0,s.createDraggableData)(this,k))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",k);const I={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:R,y}=this.props.position;I.x=R,I.y=y}this.setState(I)}),this.state={dragging:!1,dragged:!1,x:v.position?v.position.x:v.defaultPosition.x,y:v.position?v.position.y:v.defaultPosition.y,prevPropsPosition:{...v.position},slackX:0,slackY:0,isElementSVG:!1},v.position&&!(v.onDrag||v.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var v,S;return(v=(S=this.props)===null||S===void 0||(S=S.nodeRef)===null||S===void 0?void 0:S.current)!==null&&v!==void 0?v:r.default.findDOMNode(this)}render(){const{axis:v,bounds:S,children:k,defaultPosition:N,defaultClassName:I,defaultClassNameDragging:T,defaultClassNameDragged:R,position:y,positionOffset:P,scale:$,...A}=this.props;let W={},q=null;const Y=!!!y||this.state.dragging,U=y||N,B={x:(0,s.canDragX)(this)&&Y?this.state.x:U.x,y:(0,s.canDragY)(this)&&Y?this.state.y:U.y};this.state.isElementSVG?q=(0,o.createSVGTransform)(B,P):W=(0,o.createCSSTransform)(B,P);const K=(0,i.default)(k.props.className||"",I,{[T]:this.state.dragging,[R]:this.state.dragged});return e.createElement(l.default,p({},A,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(k),{className:K,style:{...k.props.style,...W},transform:q}))}}t.default=_,m(_,"displayName","Draggable"),m(_,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),m(_,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(n3);const{default:d3,DraggableCore:iue}=n3;W0.exports=d3;W0.exports.default=d3;W0.exports.DraggableCore=iue;var oue=W0.exports;const sue=Xh(oue),aue=100,lue=40,cue=E.memo(({node:t,zoom:e,groupDelta:n,isHighlighted:r,currentUserEmail:i,selectedNodes:o,editingNodeId:s,editedText:a,handleResizeMouseDown:l,handleNodeClick:c,handleDoubleClick:u,handleTyping:f,handleTextBlur:h,setEditedText:p,setHoveredNodeId:m,linkingSource:b,onStart:x,onDrag:_,onStop:w,hoveredNodeId:v})=>{const S=o.includes(t.id),k=v===t.id,N=((t.width||100)+(t.height||40))/2,I=Math.max(1,N*.02),T=o.includes(t.id)?t.x+n.x:t.x,R=o.includes(t.id)?t.y+n.y:t.y;let y="none";return S?y=`${I}px solid #8896DD`:k&&(y=`${I}px solid white`),M.jsx(sue,{scale:e,position:{x:T,y:R},onStart:x,onDrag:_,onStop:w,children:M.jsxs("div",{onMouseEnter:()=>m(t.id),onMouseLeave:()=>m(null),onClick:P=>{P.stopPropagation(),c(t,P)},onDoubleClick:()=>u(t),style:{position:"absolute",transform:`translate3d(${t.x}px, ${t.y}px, 0)`,padding:"5px",backgroundColor:t.bgColor?t.bgColor:b===t.id?"#333":"#1e1e1e",color:t.textColor||"#fff",borderRadius:"5%",cursor:"move",minWidth:"100px",width:t.width?`${t.width}px`:`${aue}px`,height:t.height?`${t.height}px`:`${lue}px`,overflow:"hidden",boxSizing:"border-box",fontSize:t.fontSize?`${t.fontSize}px`:"14px",textAlign:t.textAlign||"left",fontStyle:t.textStyle&&t.textStyle.includes("italic")?"italic":"normal",textDecoration:t.textStyle&&t.textStyle.includes("underline")?"underline":"none",fontWeight:t.textStyle&&t.textStyle.includes("bold")?"bold":"normal",fontFamily:t.fontFamily||"cursive",outline:y,outlineOffset:y!=="none"?`${I}px`:"0px"},children:[s===t.id?M.jsx("textarea",{value:a,onChange:P=>{p(P.target.value),f(t.id)},onBlur:()=>h(t.id),autoFocus:!0,style:{backgroundColor:"inherit",width:"100%",height:"100%",fontSize:"inherit",color:"inherit",fontFamily:"inherit",fontWeight:"inherit",textDecoration:"inherit",textAlign:"inherit",border:"none",outline:"none"}}):t.type==="image"?M.jsx("img",{src:t.imageUrl,alt:"Node content",style:{width:"100%",height:"100%",objectFit:"contain",pointerEvents:"none"}}):M.jsx("span",{style:{whiteSpace:"pre-wrap"},children:t.text}),t.lockedBy&&t.lockedBy!==i&&M.jsxs("div",{style:{position:"absolute",bottom:0,left:0,backgroundColor:"rgba(255,0,0,0.7)",color:"#fff",fontSize:"10px",padding:"2px",borderRadius:"2px"},children:["Locked by ",t.lockedBy]}),t.typing&&t.lockedBy&&t.lockedBy!==i&&M.jsx("div",{style:{position:"absolute",bottom:0,right:0,backgroundColor:"rgba(0,0,255,0.7)",color:"#fff",fontSize:"10px",padding:"2px",borderRadius:"2px"},children:"Typing..."}),M.jsx("div",{onMouseDown:P=>l(t,P),style:{position:"absolute",bottom:0,right:0,width:"10%",height:"10%",opacity:.5,cursor:"nwse-resize",backgroundColor:"#ccc"}})]})})});var Qi={},Lp={},uue=typeof Sa=="object"&&Sa&&Sa.Object===Object&&Sa,f3=uue,due=f3,fue=typeof self=="object"&&self&&self.Object===Object&&self,hue=due||fue||Function("return this")(),hs=hue,pue=hs,gue=pue.Symbol,Fp=gue,nO=Fp,h3=Object.prototype,mue=h3.hasOwnProperty,yue=h3.toString,hf=nO?nO.toStringTag:void 0;function vue(t){var e=mue.call(t,hf),n=t[hf];try{t[hf]=void 0;var r=!0}catch{}var i=yue.call(t);return r&&(e?t[hf]=n:delete t[hf]),i}var _ue=vue,bue=Object.prototype,wue=bue.toString;function Eue(t){return wue.call(t)}var xue=Eue,rO=Fp,Sue=_ue,Cue=xue,Tue="[object Null]",Iue="[object Undefined]",iO=rO?rO.toStringTag:void 0;function Rue(t){return t==null?t===void 0?Iue:Tue:iO&&iO in Object(t)?Sue(t):Cue(t)}var fc=Rue,Pue=Array.isArray,Mo=Pue;function Aue(t){return t!=null&&typeof t=="object"}var ta=Aue,kue=fc,Oue=Mo,Nue=ta,$ue="[object String]";function Mue(t){return typeof t=="string"||!Oue(t)&&Nue(t)&&kue(t)==$ue}var Due=Mue;function Lue(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var Fue=Lue,Bue=Fue,Vue=Bue(),Uue=Vue;function jue(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var zue=jue,Wue=fc,Hue=ta,Gue="[object Arguments]";function que(t){return Hue(t)&&Wue(t)==Gue}var Kue=que,oO=Kue,Yue=ta,p3=Object.prototype,Xue=p3.hasOwnProperty,Que=p3.propertyIsEnumerable,Jue=oO(function(){return arguments}())?oO:function(t){return Yue(t)&&Xue.call(t,"callee")&&!Que.call(t,"callee")},g3=Jue,Hy={exports:{}};function Zue(){return!1}var ede=Zue;Hy.exports;(function(t,e){var n=hs,r=ede,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(Hy,Hy.exports);var NC=Hy.exports,tde=9007199254740991,nde=/^(?:0|[1-9]\d*)$/;function rde(t,e){var n=typeof t;return e=e??tde,!!e&&(n=="number"||n!="symbol"&&nde.test(t))&&t>-1&&t%1==0&&t<e}var m3=rde,ide=9007199254740991;function ode(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ide}var $C=ode,sde=fc,ade=$C,lde=ta,cde="[object Arguments]",ude="[object Array]",dde="[object Boolean]",fde="[object Date]",hde="[object Error]",pde="[object Function]",gde="[object Map]",mde="[object Number]",yde="[object Object]",vde="[object RegExp]",_de="[object Set]",bde="[object String]",wde="[object WeakMap]",Ede="[object ArrayBuffer]",xde="[object DataView]",Sde="[object Float32Array]",Cde="[object Float64Array]",Tde="[object Int8Array]",Ide="[object Int16Array]",Rde="[object Int32Array]",Pde="[object Uint8Array]",Ade="[object Uint8ClampedArray]",kde="[object Uint16Array]",Ode="[object Uint32Array]",cn={};cn[Sde]=cn[Cde]=cn[Tde]=cn[Ide]=cn[Rde]=cn[Pde]=cn[Ade]=cn[kde]=cn[Ode]=!0;cn[cde]=cn[ude]=cn[Ede]=cn[dde]=cn[xde]=cn[fde]=cn[hde]=cn[pde]=cn[gde]=cn[mde]=cn[yde]=cn[vde]=cn[_de]=cn[bde]=cn[wde]=!1;function Nde(t){return lde(t)&&ade(t.length)&&!!cn[sde(t)]}var $de=Nde;function Mde(t){return function(e){return t(e)}}var MC=Mde,Gy={exports:{}};Gy.exports;(function(t,e){var n=f3,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Gy,Gy.exports);var DC=Gy.exports,Dde=$de,Lde=MC,sO=DC,aO=sO&&sO.isTypedArray,Fde=aO?Lde(aO):Dde,y3=Fde,Bde=zue,Vde=g3,Ude=Mo,jde=NC,zde=m3,Wde=y3,Hde=Object.prototype,Gde=Hde.hasOwnProperty;function qde(t,e){var n=Ude(t),r=!n&&Vde(t),i=!n&&!r&&jde(t),o=!n&&!r&&!i&&Wde(t),s=n||r||i||o,a=s?Bde(t.length,String):[],l=a.length;for(var c in t)(e||Gde.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||zde(c,l)))&&a.push(c);return a}var v3=qde,Kde=Object.prototype;function Yde(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Kde;return t===n}var LC=Yde;function Xde(t,e){return function(n){return t(e(n))}}var _3=Xde,Qde=_3,Jde=Qde(Object.keys,Object),Zde=Jde,efe=LC,tfe=Zde,nfe=Object.prototype,rfe=nfe.hasOwnProperty;function ife(t){if(!efe(t))return tfe(t);var e=[];for(var n in Object(t))rfe.call(t,n)&&n!="constructor"&&e.push(n);return e}var ofe=ife;function sfe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Id=sfe,afe=fc,lfe=Id,cfe="[object AsyncFunction]",ufe="[object Function]",dfe="[object GeneratorFunction]",ffe="[object Proxy]";function hfe(t){if(!lfe(t))return!1;var e=afe(t);return e==ufe||e==dfe||e==cfe||e==ffe}var b3=hfe,pfe=b3,gfe=$C;function mfe(t){return t!=null&&gfe(t.length)&&!pfe(t)}var K0=mfe,yfe=v3,vfe=ofe,_fe=K0;function bfe(t){return _fe(t)?yfe(t):vfe(t)}var Bp=bfe,wfe=Uue,Efe=Bp;function xfe(t,e){return t&&wfe(t,e,Efe)}var w3=xfe;function Sfe(t){return t}var E3=Sfe,Cfe=E3;function Tfe(t){return typeof t=="function"?t:Cfe}var Ife=Tfe,Rfe=w3,Pfe=Ife;function Afe(t,e){return t&&Rfe(t,Pfe(e))}var FC=Afe,kfe=_3,Ofe=kfe(Object.getPrototypeOf,Object),BC=Ofe,Nfe=fc,$fe=BC,Mfe=ta,Dfe="[object Object]",Lfe=Function.prototype,Ffe=Object.prototype,x3=Lfe.toString,Bfe=Ffe.hasOwnProperty,Vfe=x3.call(Object);function Ufe(t){if(!Mfe(t)||Nfe(t)!=Dfe)return!1;var e=$fe(t);if(e===null)return!0;var n=Bfe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&x3.call(n)==Vfe}var jfe=Ufe;function zfe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var S3=zfe;function Wfe(){this.__data__=[],this.size=0}var Hfe=Wfe;function Gfe(t,e){return t===e||t!==t&&e!==e}var VC=Gfe,qfe=VC;function Kfe(t,e){for(var n=t.length;n--;)if(qfe(t[n][0],e))return n;return-1}var Y0=Kfe,Yfe=Y0,Xfe=Array.prototype,Qfe=Xfe.splice;function Jfe(t){var e=this.__data__,n=Yfe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Qfe.call(e,n,1),--this.size,!0}var Zfe=Jfe,ehe=Y0;function the(t){var e=this.__data__,n=ehe(e,t);return n<0?void 0:e[n][1]}var nhe=the,rhe=Y0;function ihe(t){return rhe(this.__data__,t)>-1}var ohe=ihe,she=Y0;function ahe(t,e){var n=this.__data__,r=she(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var lhe=ahe,che=Hfe,uhe=Zfe,dhe=nhe,fhe=ohe,hhe=lhe;function Rd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Rd.prototype.clear=che;Rd.prototype.delete=uhe;Rd.prototype.get=dhe;Rd.prototype.has=fhe;Rd.prototype.set=hhe;var X0=Rd,phe=X0;function ghe(){this.__data__=new phe,this.size=0}var mhe=ghe;function yhe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var vhe=yhe;function _he(t){return this.__data__.get(t)}var bhe=_he;function whe(t){return this.__data__.has(t)}var Ehe=whe,xhe=hs,She=xhe["__core-js_shared__"],Che=She,Tb=Che,lO=function(){var t=/[^.]+$/.exec(Tb&&Tb.keys&&Tb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function The(t){return!!lO&&lO in t}var Ihe=The,Rhe=Function.prototype,Phe=Rhe.toString;function Ahe(t){if(t!=null){try{return Phe.call(t)}catch{}try{return t+""}catch{}}return""}var C3=Ahe,khe=b3,Ohe=Ihe,Nhe=Id,$he=C3,Mhe=/[\\^$.*+?()[\]{}|]/g,Dhe=/^\[object .+?Constructor\]$/,Lhe=Function.prototype,Fhe=Object.prototype,Bhe=Lhe.toString,Vhe=Fhe.hasOwnProperty,Uhe=RegExp("^"+Bhe.call(Vhe).replace(Mhe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jhe(t){if(!Nhe(t)||Ohe(t))return!1;var e=khe(t)?Uhe:Dhe;return e.test($he(t))}var zhe=jhe;function Whe(t,e){return t==null?void 0:t[e]}var Hhe=Whe,Ghe=zhe,qhe=Hhe;function Khe(t,e){var n=qhe(t,e);return Ghe(n)?n:void 0}var hc=Khe,Yhe=hc,Xhe=hs,Qhe=Yhe(Xhe,"Map"),UC=Qhe,Jhe=hc,Zhe=Jhe(Object,"create"),Q0=Zhe,cO=Q0;function epe(){this.__data__=cO?cO(null):{},this.size=0}var tpe=epe;function npe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var rpe=npe,ipe=Q0,ope="__lodash_hash_undefined__",spe=Object.prototype,ape=spe.hasOwnProperty;function lpe(t){var e=this.__data__;if(ipe){var n=e[t];return n===ope?void 0:n}return ape.call(e,t)?e[t]:void 0}var cpe=lpe,upe=Q0,dpe=Object.prototype,fpe=dpe.hasOwnProperty;function hpe(t){var e=this.__data__;return upe?e[t]!==void 0:fpe.call(e,t)}var ppe=hpe,gpe=Q0,mpe="__lodash_hash_undefined__";function ype(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=gpe&&e===void 0?mpe:e,this}var vpe=ype,_pe=tpe,bpe=rpe,wpe=cpe,Epe=ppe,xpe=vpe;function Pd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Pd.prototype.clear=_pe;Pd.prototype.delete=bpe;Pd.prototype.get=wpe;Pd.prototype.has=Epe;Pd.prototype.set=xpe;var Spe=Pd,uO=Spe,Cpe=X0,Tpe=UC;function Ipe(){this.size=0,this.__data__={hash:new uO,map:new(Tpe||Cpe),string:new uO}}var Rpe=Ipe;function Ppe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Ape=Ppe,kpe=Ape;function Ope(t,e){var n=t.__data__;return kpe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var J0=Ope,Npe=J0;function $pe(t){var e=Npe(this,t).delete(t);return this.size-=e?1:0,e}var Mpe=$pe,Dpe=J0;function Lpe(t){return Dpe(this,t).get(t)}var Fpe=Lpe,Bpe=J0;function Vpe(t){return Bpe(this,t).has(t)}var Upe=Vpe,jpe=J0;function zpe(t,e){var n=jpe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Wpe=zpe,Hpe=Rpe,Gpe=Mpe,qpe=Fpe,Kpe=Upe,Ype=Wpe;function Ad(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ad.prototype.clear=Hpe;Ad.prototype.delete=Gpe;Ad.prototype.get=qpe;Ad.prototype.has=Kpe;Ad.prototype.set=Ype;var jC=Ad,Xpe=X0,Qpe=UC,Jpe=jC,Zpe=200;function ege(t,e){var n=this.__data__;if(n instanceof Xpe){var r=n.__data__;if(!Qpe||r.length<Zpe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Jpe(r)}return n.set(t,e),this.size=n.size,this}var tge=ege,nge=X0,rge=mhe,ige=vhe,oge=bhe,sge=Ehe,age=tge;function kd(t){var e=this.__data__=new nge(t);this.size=e.size}kd.prototype.clear=rge;kd.prototype.delete=ige;kd.prototype.get=oge;kd.prototype.has=sge;kd.prototype.set=age;var zC=kd,lge="__lodash_hash_undefined__";function cge(t){return this.__data__.set(t,lge),this}var uge=cge;function dge(t){return this.__data__.has(t)}var fge=dge,hge=jC,pge=uge,gge=fge;function qy(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new hge;++e<n;)this.add(t[e])}qy.prototype.add=qy.prototype.push=pge;qy.prototype.has=gge;var mge=qy;function yge(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var vge=yge;function _ge(t,e){return t.has(e)}var bge=_ge,wge=mge,Ege=vge,xge=bge,Sge=1,Cge=2;function Tge(t,e,n,r,i,o){var s=n&Sge,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=n&Cge?new wge:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var m=t[f],b=e[f];if(r)var x=s?r(b,m,f,e,t,o):r(m,b,f,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!Ege(e,function(_,w){if(!xge(p,w)&&(m===_||i(m,_,n,r,o)))return p.push(w)})){h=!1;break}}else if(!(m===b||i(m,b,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var T3=Tge,Ige=hs,Rge=Ige.Uint8Array,I3=Rge;function Pge(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Age=Pge;function kge(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Oge=kge,dO=Fp,fO=I3,Nge=VC,$ge=T3,Mge=Age,Dge=Oge,Lge=1,Fge=2,Bge="[object Boolean]",Vge="[object Date]",Uge="[object Error]",jge="[object Map]",zge="[object Number]",Wge="[object RegExp]",Hge="[object Set]",Gge="[object String]",qge="[object Symbol]",Kge="[object ArrayBuffer]",Yge="[object DataView]",hO=dO?dO.prototype:void 0,Ib=hO?hO.valueOf:void 0;function Xge(t,e,n,r,i,o,s){switch(n){case Yge:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Kge:return!(t.byteLength!=e.byteLength||!o(new fO(t),new fO(e)));case Bge:case Vge:case zge:return Nge(+t,+e);case Uge:return t.name==e.name&&t.message==e.message;case Wge:case Gge:return t==e+"";case jge:var a=Mge;case Hge:var l=r&Lge;if(a||(a=Dge),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=Fge,s.set(t,e);var u=$ge(a(t),a(e),r,i,o,s);return s.delete(t),u;case qge:if(Ib)return Ib.call(t)==Ib.call(e)}return!1}var Qge=Xge;function Jge(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var R3=Jge,Zge=R3,eme=Mo;function tme(t,e,n){var r=e(t);return eme(t)?r:Zge(r,n(t))}var P3=tme;function nme(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var rme=nme;function ime(){return[]}var A3=ime,ome=rme,sme=A3,ame=Object.prototype,lme=ame.propertyIsEnumerable,pO=Object.getOwnPropertySymbols,cme=pO?function(t){return t==null?[]:(t=Object(t),ome(pO(t),function(e){return lme.call(t,e)}))}:sme,WC=cme,ume=P3,dme=WC,fme=Bp;function hme(t){return ume(t,fme,dme)}var k3=hme,gO=k3,pme=1,gme=Object.prototype,mme=gme.hasOwnProperty;function yme(t,e,n,r,i,o){var s=n&pme,a=gO(t),l=a.length,c=gO(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:mme.call(e,h)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var b=!0;o.set(t,e),o.set(e,t);for(var x=s;++f<l;){h=a[f];var _=t[h],w=e[h];if(r)var v=s?r(w,_,h,e,t,o):r(_,w,h,t,e,o);if(!(v===void 0?_===w||i(_,w,n,r,o):v)){b=!1;break}x||(x=h=="constructor")}if(b&&!x){var S=t.constructor,k=e.constructor;S!=k&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof k=="function"&&k instanceof k)&&(b=!1)}return o.delete(t),o.delete(e),b}var vme=yme,_me=hc,bme=hs,wme=_me(bme,"DataView"),Eme=wme,xme=hc,Sme=hs,Cme=xme(Sme,"Promise"),Tme=Cme,Ime=hc,Rme=hs,Pme=Ime(Rme,"Set"),Ame=Pme,kme=hc,Ome=hs,Nme=kme(Ome,"WeakMap"),$me=Nme,qE=Eme,KE=UC,YE=Tme,XE=Ame,QE=$me,O3=fc,Od=C3,mO="[object Map]",Mme="[object Object]",yO="[object Promise]",vO="[object Set]",_O="[object WeakMap]",bO="[object DataView]",Dme=Od(qE),Lme=Od(KE),Fme=Od(YE),Bme=Od(XE),Vme=Od(QE),Cl=O3;(qE&&Cl(new qE(new ArrayBuffer(1)))!=bO||KE&&Cl(new KE)!=mO||YE&&Cl(YE.resolve())!=yO||XE&&Cl(new XE)!=vO||QE&&Cl(new QE)!=_O)&&(Cl=function(t){var e=O3(t),n=e==Mme?t.constructor:void 0,r=n?Od(n):"";if(r)switch(r){case Dme:return bO;case Lme:return mO;case Fme:return yO;case Bme:return vO;case Vme:return _O}return e});var Z0=Cl,Rb=zC,Ume=T3,jme=Qge,zme=vme,wO=Z0,EO=Mo,xO=NC,Wme=y3,Hme=1,SO="[object Arguments]",CO="[object Array]",Hg="[object Object]",Gme=Object.prototype,TO=Gme.hasOwnProperty;function qme(t,e,n,r,i,o){var s=EO(t),a=EO(e),l=s?CO:wO(t),c=a?CO:wO(e);l=l==SO?Hg:l,c=c==SO?Hg:c;var u=l==Hg,f=c==Hg,h=l==c;if(h&&xO(t)){if(!xO(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new Rb),s||Wme(t)?Ume(t,e,n,r,i,o):jme(t,e,l,n,r,i,o);if(!(n&Hme)){var p=u&&TO.call(t,"__wrapped__"),m=f&&TO.call(e,"__wrapped__");if(p||m){var b=p?t.value():t,x=m?e.value():e;return o||(o=new Rb),i(b,x,n,r,o)}}return h?(o||(o=new Rb),zme(t,e,n,r,i,o)):!1}var Kme=qme,Yme=Kme,IO=ta;function N3(t,e,n,r,i){return t===e?!0:t==null||e==null||!IO(t)&&!IO(e)?t!==t&&e!==e:Yme(t,e,n,r,N3,i)}var $3=N3,Xme=zC,Qme=$3,Jme=1,Zme=2;function eye(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],c=t[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new Xme;if(r)var h=r(c,u,l,t,e,f);if(!(h===void 0?Qme(u,c,Jme|Zme,r,f):h))return!1}}return!0}var tye=eye,nye=Id;function rye(t){return t===t&&!nye(t)}var M3=rye,iye=M3,oye=Bp;function sye(t){for(var e=oye(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,iye(i)]}return e}var aye=sye;function lye(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var D3=lye,cye=tye,uye=aye,dye=D3;function fye(t){var e=uye(t);return e.length==1&&e[0][2]?dye(e[0][0],e[0][1]):function(n){return n===t||cye(n,t,e)}}var hye=fye,pye=fc,gye=ta,mye="[object Symbol]";function yye(t){return typeof t=="symbol"||gye(t)&&pye(t)==mye}var HC=yye,vye=Mo,_ye=HC,bye=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wye=/^\w*$/;function Eye(t,e){if(vye(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||_ye(t)?!0:wye.test(t)||!bye.test(t)||e!=null&&t in Object(e)}var GC=Eye,L3=jC,xye="Expected a function";function qC(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(xye);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(qC.Cache||L3),n}qC.Cache=L3;var Sye=qC,Cye=Sye,Tye=500;function Iye(t){var e=Cye(t,function(r){return n.size===Tye&&n.clear(),r}),n=e.cache;return e}var Rye=Iye,Pye=Rye,Aye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kye=/\\(\\)?/g,Oye=Pye(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Aye,function(n,r,i,o){e.push(i?o.replace(kye,"$1"):r||n)}),e}),Nye=Oye,RO=Fp,$ye=S3,Mye=Mo,Dye=HC,Lye=1/0,PO=RO?RO.prototype:void 0,AO=PO?PO.toString:void 0;function F3(t){if(typeof t=="string")return t;if(Mye(t))return $ye(t,F3)+"";if(Dye(t))return AO?AO.call(t):"";var e=t+"";return e=="0"&&1/t==-Lye?"-0":e}var Fye=F3,Bye=Fye;function Vye(t){return t==null?"":Bye(t)}var Uye=Vye,jye=Mo,zye=GC,Wye=Nye,Hye=Uye;function Gye(t,e){return jye(t)?t:zye(t,e)?[t]:Wye(Hye(t))}var B3=Gye,qye=HC,Kye=1/0;function Yye(t){if(typeof t=="string"||qye(t))return t;var e=t+"";return e=="0"&&1/t==-Kye?"-0":e}var e_=Yye,Xye=B3,Qye=e_;function Jye(t,e){e=Xye(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Qye(e[n++])];return n&&n==r?t:void 0}var V3=Jye,Zye=V3;function eve(t,e,n){var r=t==null?void 0:Zye(t,e);return r===void 0?n:r}var tve=eve;function nve(t,e){return t!=null&&e in Object(t)}var rve=nve,ive=B3,ove=g3,sve=Mo,ave=m3,lve=$C,cve=e_;function uve(t,e,n){e=ive(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=cve(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&lve(i)&&ave(s,i)&&(sve(t)||ove(t)))}var dve=uve,fve=rve,hve=dve;function pve(t,e){return t!=null&&hve(t,e,fve)}var gve=pve,mve=$3,yve=tve,vve=gve,_ve=GC,bve=M3,wve=D3,Eve=e_,xve=1,Sve=2;function Cve(t,e){return _ve(t)&&bve(e)?wve(Eve(t),e):function(n){var r=yve(n,t);return r===void 0&&r===e?vve(n,t):mve(e,r,xve|Sve)}}var Tve=Cve;function Ive(t){return function(e){return e==null?void 0:e[t]}}var Rve=Ive,Pve=V3;function Ave(t){return function(e){return Pve(e,t)}}var kve=Ave,Ove=Rve,Nve=kve,$ve=GC,Mve=e_;function Dve(t){return $ve(t)?Ove(Mve(t)):Nve(t)}var Lve=Dve,Fve=hye,Bve=Tve,Vve=E3,Uve=Mo,jve=Lve;function zve(t){return typeof t=="function"?t:t==null?Vve:typeof t=="object"?Uve(t)?Bve(t[0],t[1]):Fve(t):jve(t)}var Wve=zve,Hve=K0;function Gve(t,e){return function(n,r){if(n==null)return n;if(!Hve(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var qve=Gve,Kve=w3,Yve=qve,Xve=Yve(Kve),Qve=Xve,Jve=Qve,Zve=K0;function e0e(t,e){var n=-1,r=Zve(t)?Array(t.length):[];return Jve(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var t0e=e0e,n0e=S3,r0e=Wve,i0e=t0e,o0e=Mo;function s0e(t,e){var n=o0e(t)?n0e:i0e;return n(t,r0e(e))}var a0e=s0e;Object.defineProperty(Lp,"__esModule",{value:!0});Lp.flattenNames=void 0;var l0e=Due,c0e=t_(l0e),u0e=FC,d0e=t_(u0e),f0e=jfe,h0e=t_(f0e),p0e=a0e,g0e=t_(p0e);function t_(t){return t&&t.__esModule?t:{default:t}}var m0e=Lp.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,g0e.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,h0e.default)(r)?(0,d0e.default)(r,function(i,o){i===!0&&n.push(o),n.push(o+"-"+i)}):(0,c0e.default)(r)&&n.push(r)}),n};Lp.default=m0e;var Vp={};function y0e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var v0e=y0e,_0e=hc,b0e=function(){try{var t=_0e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),w0e=b0e,kO=w0e;function E0e(t,e,n){e=="__proto__"&&kO?kO(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var U3=E0e,x0e=U3,S0e=VC,C0e=Object.prototype,T0e=C0e.hasOwnProperty;function I0e(t,e,n){var r=t[e];(!(T0e.call(t,e)&&S0e(r,n))||n===void 0&&!(e in t))&&x0e(t,e,n)}var j3=I0e,R0e=j3,P0e=U3;function A0e(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?P0e(n,a,l):R0e(n,a,l)}return n}var n_=A0e,k0e=n_,O0e=Bp;function N0e(t,e){return t&&k0e(e,O0e(e),t)}var $0e=N0e;function M0e(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var D0e=M0e,L0e=Id,F0e=LC,B0e=D0e,V0e=Object.prototype,U0e=V0e.hasOwnProperty;function j0e(t){if(!L0e(t))return B0e(t);var e=F0e(t),n=[];for(var r in t)r=="constructor"&&(e||!U0e.call(t,r))||n.push(r);return n}var z0e=j0e,W0e=v3,H0e=z0e,G0e=K0;function q0e(t){return G0e(t)?W0e(t,!0):H0e(t)}var KC=q0e,K0e=n_,Y0e=KC;function X0e(t,e){return t&&K0e(e,Y0e(e),t)}var Q0e=X0e,Ky={exports:{}};Ky.exports;(function(t,e){var n=hs,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var f=c.length,h=a?a(f):new c.constructor(f);return c.copy(h),h}t.exports=l})(Ky,Ky.exports);var J0e=Ky.exports;function Z0e(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var e_e=Z0e,t_e=n_,n_e=WC;function r_e(t,e){return t_e(t,n_e(t),e)}var i_e=r_e,o_e=R3,s_e=BC,a_e=WC,l_e=A3,c_e=Object.getOwnPropertySymbols,u_e=c_e?function(t){for(var e=[];t;)o_e(e,a_e(t)),t=s_e(t);return e}:l_e,z3=u_e,d_e=n_,f_e=z3;function h_e(t,e){return d_e(t,f_e(t),e)}var p_e=h_e,g_e=P3,m_e=z3,y_e=KC;function v_e(t){return g_e(t,y_e,m_e)}var __e=v_e,b_e=Object.prototype,w_e=b_e.hasOwnProperty;function E_e(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&w_e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var x_e=E_e,OO=I3;function S_e(t){var e=new t.constructor(t.byteLength);return new OO(e).set(new OO(t)),e}var YC=S_e,C_e=YC;function T_e(t,e){var n=e?C_e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var I_e=T_e,R_e=/\w*$/;function P_e(t){var e=new t.constructor(t.source,R_e.exec(t));return e.lastIndex=t.lastIndex,e}var A_e=P_e,NO=Fp,$O=NO?NO.prototype:void 0,MO=$O?$O.valueOf:void 0;function k_e(t){return MO?Object(MO.call(t)):{}}var O_e=k_e,N_e=YC;function $_e(t,e){var n=e?N_e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var M_e=$_e,D_e=YC,L_e=I_e,F_e=A_e,B_e=O_e,V_e=M_e,U_e="[object Boolean]",j_e="[object Date]",z_e="[object Map]",W_e="[object Number]",H_e="[object RegExp]",G_e="[object Set]",q_e="[object String]",K_e="[object Symbol]",Y_e="[object ArrayBuffer]",X_e="[object DataView]",Q_e="[object Float32Array]",J_e="[object Float64Array]",Z_e="[object Int8Array]",ebe="[object Int16Array]",tbe="[object Int32Array]",nbe="[object Uint8Array]",rbe="[object Uint8ClampedArray]",ibe="[object Uint16Array]",obe="[object Uint32Array]";function sbe(t,e,n){var r=t.constructor;switch(e){case Y_e:return D_e(t);case U_e:case j_e:return new r(+t);case X_e:return L_e(t,n);case Q_e:case J_e:case Z_e:case ebe:case tbe:case nbe:case rbe:case ibe:case obe:return V_e(t,n);case z_e:return new r;case W_e:case q_e:return new r(t);case H_e:return F_e(t);case G_e:return new r;case K_e:return B_e(t)}}var abe=sbe,lbe=Id,DO=Object.create,cbe=function(){function t(){}return function(e){if(!lbe(e))return{};if(DO)return DO(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),ube=cbe,dbe=ube,fbe=BC,hbe=LC;function pbe(t){return typeof t.constructor=="function"&&!hbe(t)?dbe(fbe(t)):{}}var gbe=pbe,mbe=Z0,ybe=ta,vbe="[object Map]";function _be(t){return ybe(t)&&mbe(t)==vbe}var bbe=_be,wbe=bbe,Ebe=MC,LO=DC,FO=LO&&LO.isMap,xbe=FO?Ebe(FO):wbe,Sbe=xbe,Cbe=Z0,Tbe=ta,Ibe="[object Set]";function Rbe(t){return Tbe(t)&&Cbe(t)==Ibe}var Pbe=Rbe,Abe=Pbe,kbe=MC,BO=DC,VO=BO&&BO.isSet,Obe=VO?kbe(VO):Abe,Nbe=Obe,$be=zC,Mbe=v0e,Dbe=j3,Lbe=$0e,Fbe=Q0e,Bbe=J0e,Vbe=e_e,Ube=i_e,jbe=p_e,zbe=k3,Wbe=__e,Hbe=Z0,Gbe=x_e,qbe=abe,Kbe=gbe,Ybe=Mo,Xbe=NC,Qbe=Sbe,Jbe=Id,Zbe=Nbe,ewe=Bp,twe=KC,nwe=1,rwe=2,iwe=4,W3="[object Arguments]",owe="[object Array]",swe="[object Boolean]",awe="[object Date]",lwe="[object Error]",H3="[object Function]",cwe="[object GeneratorFunction]",uwe="[object Map]",dwe="[object Number]",G3="[object Object]",fwe="[object RegExp]",hwe="[object Set]",pwe="[object String]",gwe="[object Symbol]",mwe="[object WeakMap]",ywe="[object ArrayBuffer]",vwe="[object DataView]",_we="[object Float32Array]",bwe="[object Float64Array]",wwe="[object Int8Array]",Ewe="[object Int16Array]",xwe="[object Int32Array]",Swe="[object Uint8Array]",Cwe="[object Uint8ClampedArray]",Twe="[object Uint16Array]",Iwe="[object Uint32Array]",Zt={};Zt[W3]=Zt[owe]=Zt[ywe]=Zt[vwe]=Zt[swe]=Zt[awe]=Zt[_we]=Zt[bwe]=Zt[wwe]=Zt[Ewe]=Zt[xwe]=Zt[uwe]=Zt[dwe]=Zt[G3]=Zt[fwe]=Zt[hwe]=Zt[pwe]=Zt[gwe]=Zt[Swe]=Zt[Cwe]=Zt[Twe]=Zt[Iwe]=!0;Zt[lwe]=Zt[H3]=Zt[mwe]=!1;function Tm(t,e,n,r,i,o){var s,a=e&nwe,l=e&rwe,c=e&iwe;if(n&&(s=i?n(t,r,i,o):n(t)),s!==void 0)return s;if(!Jbe(t))return t;var u=Ybe(t);if(u){if(s=Gbe(t),!a)return Vbe(t,s)}else{var f=Hbe(t),h=f==H3||f==cwe;if(Xbe(t))return Bbe(t,a);if(f==G3||f==W3||h&&!i){if(s=l||h?{}:Kbe(t),!a)return l?jbe(t,Fbe(s,t)):Ube(t,Lbe(s,t))}else{if(!Zt[f])return i?t:{};s=qbe(t,f,a)}}o||(o=new $be);var p=o.get(t);if(p)return p;o.set(t,s),Zbe(t)?t.forEach(function(x){s.add(Tm(x,e,n,x,t,o))}):Qbe(t)&&t.forEach(function(x,_){s.set(_,Tm(x,e,n,_,t,o))});var m=c?l?Wbe:zbe:l?twe:ewe,b=u?void 0:m(t);return Mbe(b||t,function(x,_){b&&(_=x,x=t[_]),Dbe(s,_,Tm(x,e,n,_,t,o))}),s}var Rwe=Tm,Pwe=Rwe,Awe=1,kwe=4;function Owe(t){return Pwe(t,Awe|kwe)}var Nwe=Owe;Object.defineProperty(Vp,"__esModule",{value:!0});Vp.mergeClasses=void 0;var $we=FC,Mwe=q3($we),Dwe=Nwe,Lwe=q3(Dwe),Fwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function q3(t){return t&&t.__esModule?t:{default:t}}var Bwe=Vp.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,Lwe.default)(e.default)||{};return n.map(function(i){var o=e[i];return o&&(0,Mwe.default)(o,function(s,a){r[a]||(r[a]={}),r[a]=Fwe({},r[a],o[a])}),i}),r};Vp.default=Bwe;var Up={};Object.defineProperty(Up,"__esModule",{value:!0});Up.autoprefix=void 0;var Vwe=FC,UO=jwe(Vwe),Uwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function jwe(t){return t&&t.__esModule?t:{default:t}}var zwe={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},Wwe=Up.autoprefix=function(e){var n={};return(0,UO.default)(e,function(r,i){var o={};(0,UO.default)(r,function(s,a){var l=zwe[a];l?o=Uwe({},o,l(s)):o[a]=s}),n[i]=o}),n};Up.default=Wwe;var jp={};Object.defineProperty(jp,"__esModule",{value:!0});jp.hover=void 0;var Hwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gwe=E,Pb=qwe(Gwe);function qwe(t){return t&&t.__esModule?t:{default:t}}function Kwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ywe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Xwe=jp.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Ywe(i,r);function i(){var o,s,a,l;Kwe(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(s=(a=jO(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(u))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return Pb.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},Pb.default.createElement(e,Hwe({},a.props,a.state)))},s),jO(a,l)}return i}(Pb.default.Component)};jp.default=Xwe;var zp={};Object.defineProperty(zp,"__esModule",{value:!0});zp.active=void 0;var Qwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jwe=E,Ab=Zwe(Jwe);function Zwe(t){return t&&t.__esModule?t:{default:t}}function eEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function tEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var nEe=zp.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){tEe(i,r);function i(){var o,s,a,l;eEe(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(s=(a=zO(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(u))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return Ab.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},Ab.default.createElement(e,Qwe({},a.props,a.state)))},s),zO(a,l)}return i}(Ab.default.Component)};zp.default=nEe;var XC={};Object.defineProperty(XC,"__esModule",{value:!0});var rEe=function(e,n){var r={},i=function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[s]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};XC.default=rEe;Object.defineProperty(Qi,"__esModule",{value:!0});Qi.ReactCSS=Qi.loop=Qi.handleActive=QC=Qi.handleHover=Qi.hover=void 0;var iEe=Lp,oEe=Nd(iEe),sEe=Vp,aEe=Nd(sEe),lEe=Up,cEe=Nd(lEe),uEe=jp,K3=Nd(uEe),dEe=zp,fEe=Nd(dEe),hEe=XC,pEe=Nd(hEe);function Nd(t){return t&&t.__esModule?t:{default:t}}Qi.hover=K3.default;var QC=Qi.handleHover=K3.default;Qi.handleActive=fEe.default;Qi.loop=pEe.default;var gEe=Qi.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=(0,oEe.default)(r),s=(0,aEe.default)(e,o);return(0,cEe.default)(s)},Xe=Qi.default=gEe,mEe=function(e,n,r,i,o){var s=o.clientWidth,a=o.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=l-(o.getBoundingClientRect().left+window.pageXOffset),f=c-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var h=void 0;if(f<0?h=0:f>a?h=1:h=Math.round(f*100/a)/100,n.a!==h)return{h:n.h,s:n.s,l:n.l,a:h,source:"rgb"}}else{var p=void 0;if(u<0?p=0:u>s?p=1:p=Math.round(u*100/s)/100,i!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}return null},kb={},yEe=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var s=o.getContext("2d");return s?(s.fillStyle=e,s.fillRect(0,0,o.width,o.height),s.fillStyle=n,s.fillRect(0,0,r,r),s.translate(r,r),s.fillRect(0,0,r,r),o.toDataURL()):null},vEe=function(e,n,r,i){var o=e+"-"+n+"-"+r+(i?"-server":"");if(kb[o])return kb[o];var s=yEe(e,n,r,i);return kb[o]=s,s},WO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$d=function(e){var n=e.white,r=e.grey,i=e.size,o=e.renderers,s=e.borderRadius,a=e.boxShadow,l=e.children,c=Xe({default:{grid:{borderRadius:s,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+vEe(n,r,i,o.canvas)+") center left"}}});return E.isValidElement(l)?L.cloneElement(l,WO({},l.props,{style:WO({},l.props.style,c.grid)})):L.createElement("div",{style:c.grid})};$d.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var _Ee=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bEe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function wEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function EEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var JC=function(t){EEe(e,t);function e(){var n,r,i,o;wEe(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=HO(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var u=mEe(c,i.props.hsl,i.props.direction,i.props.a,i.container);u&&typeof i.props.onChange=="function"&&i.props.onChange(u,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),HO(i,o)}return bEe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=Xe({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:_Ee({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return L.createElement("div",{style:o.alpha},L.createElement("div",{style:o.checkboard},L.createElement($d,{renderers:this.props.renderers})),L.createElement("div",{style:o.gradient}),L.createElement("div",{style:o.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},L.createElement("div",{style:o.pointer},this.props.pointer?L.createElement(this.props.pointer,this.props):L.createElement("div",{style:o.slider}))))}}]),e}(E.PureComponent||E.Component),xEe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function SEe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TEe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function IEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var REe=1,Y3=38,PEe=40,AEe=[Y3,PEe],kEe=function(e){return AEe.indexOf(e)>-1},OEe=function(e){return Number(String(e).replace(/%/g,""))},NEe=1,Ct=function(t){IEe(e,t);function e(n){CEe(this,e);var r=TEe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=OEe(i.target.value);if(!isNaN(o)&&kEe(i.keyCode)){var s=r.getArrowOffset(),a=i.keyCode===Y3?o+s:o-s;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+NEe++,r}return xEe(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return SEe({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||REe}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=Xe({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return L.createElement("div",{style:i.wrap},L.createElement("input",{id:this.inputId,style:i.input,ref:function(s){return r.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?L.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(E.PureComponent||E.Component),$Ee=function(e,n,r,i){var o=i.clientWidth,s=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(i.getBoundingClientRect().left+window.pageXOffset),u=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var f=void 0;if(u<0)f=359;else if(u>s)f=0;else{var h=-(u*100/s)+100;f=360*h/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var p=void 0;if(c<0)p=0;else if(c>o)p=359;else{var m=c*100/o;p=360*m/100}if(r.h!==p)return{h:p,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},MEe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function DEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function LEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Md=function(t){LEe(e,t);function e(){var n,r,i,o;DEe(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=GO(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var u=$Ee(c,i.props.direction,i.props.hsl,i.container);u&&typeof i.props.onChange=="function"&&i.props.onChange(u,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),GO(i,o)}return MEe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,s=Xe({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return L.createElement("div",{style:s.hue},L.createElement("div",{className:"hue-"+o,style:s.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},L.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),L.createElement("div",{style:s.pointer},this.props.pointer?L.createElement(this.props.pointer,this.props):L.createElement("div",{style:s.slider}))))}}]),e}(E.PureComponent||E.Component);function FEe(){this.__data__=[],this.size=0}function Wp(t,e){return t===e||t!==t&&e!==e}function r_(t,e){for(var n=t.length;n--;)if(Wp(t[n][0],e))return n;return-1}var BEe=Array.prototype,VEe=BEe.splice;function UEe(t){var e=this.__data__,n=r_(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():VEe.call(e,n,1),--this.size,!0}function jEe(t){var e=this.__data__,n=r_(e,t);return n<0?void 0:e[n][1]}function zEe(t){return r_(this.__data__,t)>-1}function WEe(t,e){var n=this.__data__,r=r_(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function na(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}na.prototype.clear=FEe;na.prototype.delete=UEe;na.prototype.get=jEe;na.prototype.has=zEe;na.prototype.set=WEe;function HEe(){this.__data__=new na,this.size=0}function GEe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function qEe(t){return this.__data__.get(t)}function KEe(t){return this.__data__.has(t)}var YEe=typeof global=="object"&&global&&global.Object===Object&&global;const X3=YEe;var XEe=typeof self=="object"&&self&&self.Object===Object&&self,QEe=X3||XEe||Function("return this")();const Do=QEe;var JEe=Do.Symbol;const rl=JEe;var Q3=Object.prototype,ZEe=Q3.hasOwnProperty,e1e=Q3.toString,pf=rl?rl.toStringTag:void 0;function t1e(t){var e=ZEe.call(t,pf),n=t[pf];try{t[pf]=void 0;var r=!0}catch{}var i=e1e.call(t);return r&&(e?t[pf]=n:delete t[pf]),i}var n1e=Object.prototype,r1e=n1e.toString;function i1e(t){return r1e.call(t)}var o1e="[object Null]",s1e="[object Undefined]",qO=rl?rl.toStringTag:void 0;function pc(t){return t==null?t===void 0?s1e:o1e:qO&&qO in Object(t)?t1e(t):i1e(t)}function ao(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var a1e="[object AsyncFunction]",l1e="[object Function]",c1e="[object GeneratorFunction]",u1e="[object Proxy]";function ZC(t){if(!ao(t))return!1;var e=pc(t);return e==l1e||e==c1e||e==a1e||e==u1e}var d1e=Do["__core-js_shared__"];const Ob=d1e;var KO=function(){var t=/[^.]+$/.exec(Ob&&Ob.keys&&Ob.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function f1e(t){return!!KO&&KO in t}var h1e=Function.prototype,p1e=h1e.toString;function gc(t){if(t!=null){try{return p1e.call(t)}catch{}try{return t+""}catch{}}return""}var g1e=/[\\^$.*+?()[\]{}|]/g,m1e=/^\[object .+?Constructor\]$/,y1e=Function.prototype,v1e=Object.prototype,_1e=y1e.toString,b1e=v1e.hasOwnProperty,w1e=RegExp("^"+_1e.call(b1e).replace(g1e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function E1e(t){if(!ao(t)||f1e(t))return!1;var e=ZC(t)?w1e:m1e;return e.test(gc(t))}function x1e(t,e){return t==null?void 0:t[e]}function mc(t,e){var n=x1e(t,e);return E1e(n)?n:void 0}var S1e=mc(Do,"Map");const Kh=S1e;var C1e=mc(Object,"create");const Yh=C1e;function T1e(){this.__data__=Yh?Yh(null):{},this.size=0}function I1e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var R1e="__lodash_hash_undefined__",P1e=Object.prototype,A1e=P1e.hasOwnProperty;function k1e(t){var e=this.__data__;if(Yh){var n=e[t];return n===R1e?void 0:n}return A1e.call(e,t)?e[t]:void 0}var O1e=Object.prototype,N1e=O1e.hasOwnProperty;function $1e(t){var e=this.__data__;return Yh?e[t]!==void 0:N1e.call(e,t)}var M1e="__lodash_hash_undefined__";function D1e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Yh&&e===void 0?M1e:e,this}function rc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}rc.prototype.clear=T1e;rc.prototype.delete=I1e;rc.prototype.get=k1e;rc.prototype.has=$1e;rc.prototype.set=D1e;function L1e(){this.size=0,this.__data__={hash:new rc,map:new(Kh||na),string:new rc}}function F1e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function i_(t,e){var n=t.__data__;return F1e(e)?n[typeof e=="string"?"string":"hash"]:n.map}function B1e(t){var e=i_(this,t).delete(t);return this.size-=e?1:0,e}function V1e(t){return i_(this,t).get(t)}function U1e(t){return i_(this,t).has(t)}function j1e(t,e){var n=i_(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ra(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ra.prototype.clear=L1e;ra.prototype.delete=B1e;ra.prototype.get=V1e;ra.prototype.has=U1e;ra.prototype.set=j1e;var z1e=200;function W1e(t,e){var n=this.__data__;if(n instanceof na){var r=n.__data__;if(!Kh||r.length<z1e-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ra(r)}return n.set(t,e),this.size=n.size,this}function is(t){var e=this.__data__=new na(t);this.size=e.size}is.prototype.clear=HEe;is.prototype.delete=GEe;is.prototype.get=qEe;is.prototype.has=KEe;is.prototype.set=W1e;var H1e=function(){try{var t=mc(Object,"defineProperty");return t({},"",{}),t}catch{}}();const Yy=H1e;function eT(t,e,n){e=="__proto__"&&Yy?Yy(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function JE(t,e,n){(n!==void 0&&!Wp(t[e],n)||n===void 0&&!(e in t))&&eT(t,e,n)}function G1e(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var q1e=G1e();const J3=q1e;var Z3=typeof ki=="object"&&ki&&!ki.nodeType&&ki,YO=Z3&&typeof Oi=="object"&&Oi&&!Oi.nodeType&&Oi,K1e=YO&&YO.exports===Z3,XO=K1e?Do.Buffer:void 0,QO=XO?XO.allocUnsafe:void 0;function Y1e(t,e){if(e)return t.slice();var n=t.length,r=QO?QO(n):new t.constructor(n);return t.copy(r),r}var X1e=Do.Uint8Array;const Xy=X1e;function Q1e(t){var e=new t.constructor(t.byteLength);return new Xy(e).set(new Xy(t)),e}function J1e(t,e){var n=e?Q1e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Z1e(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var JO=Object.create,exe=function(){function t(){}return function(e){if(!ao(e))return{};if(JO)return JO(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const txe=exe;function eB(t,e){return function(n){return t(e(n))}}var nxe=eB(Object.getPrototypeOf,Object);const tB=nxe;var rxe=Object.prototype;function tT(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||rxe;return t===n}function ixe(t){return typeof t.constructor=="function"&&!tT(t)?txe(tB(t)):{}}function il(t){return t!=null&&typeof t=="object"}var oxe="[object Arguments]";function ZO(t){return il(t)&&pc(t)==oxe}var nB=Object.prototype,sxe=nB.hasOwnProperty,axe=nB.propertyIsEnumerable,lxe=ZO(function(){return arguments}())?ZO:function(t){return il(t)&&sxe.call(t,"callee")&&!axe.call(t,"callee")};const Qy=lxe;var cxe=Array.isArray;const Bi=cxe;var uxe=9007199254740991;function nT(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=uxe}function Dd(t){return t!=null&&nT(t.length)&&!ZC(t)}function dxe(t){return il(t)&&Dd(t)}function fxe(){return!1}var rB=typeof ki=="object"&&ki&&!ki.nodeType&&ki,e2=rB&&typeof Oi=="object"&&Oi&&!Oi.nodeType&&Oi,hxe=e2&&e2.exports===rB,t2=hxe?Do.Buffer:void 0,pxe=t2?t2.isBuffer:void 0,gxe=pxe||fxe;const Jy=gxe;var mxe="[object Object]",yxe=Function.prototype,vxe=Object.prototype,iB=yxe.toString,_xe=vxe.hasOwnProperty,bxe=iB.call(Object);function wxe(t){if(!il(t)||pc(t)!=mxe)return!1;var e=tB(t);if(e===null)return!0;var n=_xe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&iB.call(n)==bxe}var Exe="[object Arguments]",xxe="[object Array]",Sxe="[object Boolean]",Cxe="[object Date]",Txe="[object Error]",Ixe="[object Function]",Rxe="[object Map]",Pxe="[object Number]",Axe="[object Object]",kxe="[object RegExp]",Oxe="[object Set]",Nxe="[object String]",$xe="[object WeakMap]",Mxe="[object ArrayBuffer]",Dxe="[object DataView]",Lxe="[object Float32Array]",Fxe="[object Float64Array]",Bxe="[object Int8Array]",Vxe="[object Int16Array]",Uxe="[object Int32Array]",jxe="[object Uint8Array]",zxe="[object Uint8ClampedArray]",Wxe="[object Uint16Array]",Hxe="[object Uint32Array]",un={};un[Lxe]=un[Fxe]=un[Bxe]=un[Vxe]=un[Uxe]=un[jxe]=un[zxe]=un[Wxe]=un[Hxe]=!0;un[Exe]=un[xxe]=un[Mxe]=un[Sxe]=un[Dxe]=un[Cxe]=un[Txe]=un[Ixe]=un[Rxe]=un[Pxe]=un[Axe]=un[kxe]=un[Oxe]=un[Nxe]=un[$xe]=!1;function Gxe(t){return il(t)&&nT(t.length)&&!!un[pc(t)]}function qxe(t){return function(e){return t(e)}}var oB=typeof ki=="object"&&ki&&!ki.nodeType&&ki,oh=oB&&typeof Oi=="object"&&Oi&&!Oi.nodeType&&Oi,Kxe=oh&&oh.exports===oB,Nb=Kxe&&X3.process,Yxe=function(){try{var t=oh&&oh.require&&oh.require("util").types;return t||Nb&&Nb.binding&&Nb.binding("util")}catch{}}();const n2=Yxe;var r2=n2&&n2.isTypedArray,Xxe=r2?qxe(r2):Gxe;const rT=Xxe;function ZE(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Qxe=Object.prototype,Jxe=Qxe.hasOwnProperty;function Zxe(t,e,n){var r=t[e];(!(Jxe.call(t,e)&&Wp(r,n))||n===void 0&&!(e in t))&&eT(t,e,n)}function eSe(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?eT(n,a,l):Zxe(n,a,l)}return n}function tSe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var nSe=9007199254740991,rSe=/^(?:0|[1-9]\d*)$/;function iT(t,e){var n=typeof t;return e=e??nSe,!!e&&(n=="number"||n!="symbol"&&rSe.test(t))&&t>-1&&t%1==0&&t<e}var iSe=Object.prototype,oSe=iSe.hasOwnProperty;function sB(t,e){var n=Bi(t),r=!n&&Qy(t),i=!n&&!r&&Jy(t),o=!n&&!r&&!i&&rT(t),s=n||r||i||o,a=s?tSe(t.length,String):[],l=a.length;for(var c in t)(e||oSe.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||iT(c,l)))&&a.push(c);return a}function sSe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var aSe=Object.prototype,lSe=aSe.hasOwnProperty;function cSe(t){if(!ao(t))return sSe(t);var e=tT(t),n=[];for(var r in t)r=="constructor"&&(e||!lSe.call(t,r))||n.push(r);return n}function aB(t){return Dd(t)?sB(t,!0):cSe(t)}function uSe(t){return eSe(t,aB(t))}function dSe(t,e,n,r,i,o,s){var a=ZE(t,n),l=ZE(e,n),c=s.get(l);if(c){JE(t,n,c);return}var u=o?o(a,l,n+"",t,e,s):void 0,f=u===void 0;if(f){var h=Bi(l),p=!h&&Jy(l),m=!h&&!p&&rT(l);u=l,h||p||m?Bi(a)?u=a:dxe(a)?u=Z1e(a):p?(f=!1,u=Y1e(l,!0)):m?(f=!1,u=J1e(l,!0)):u=[]:wxe(l)||Qy(l)?(u=a,Qy(a)?u=uSe(a):(!ao(a)||ZC(a))&&(u=ixe(l))):f=!1}f&&(s.set(l,u),i(u,l,r,o,s),s.delete(l)),JE(t,n,u)}function lB(t,e,n,r,i){t!==e&&J3(e,function(o,s){if(i||(i=new is),ao(o))dSe(t,e,s,n,lB,r,i);else{var a=r?r(ZE(t,s),o,s+"",t,e,i):void 0;a===void 0&&(a=o),JE(t,s,a)}},aB)}function o_(t){return t}function fSe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var i2=Math.max;function hSe(t,e,n){return e=i2(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=i2(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),fSe(t,this,a)}}function pSe(t){return function(){return t}}var gSe=Yy?function(t,e){return Yy(t,"toString",{configurable:!0,enumerable:!1,value:pSe(e),writable:!0})}:o_;const mSe=gSe;var ySe=800,vSe=16,_Se=Date.now;function bSe(t){var e=0,n=0;return function(){var r=_Se(),i=vSe-(r-n);if(n=r,i>0){if(++e>=ySe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var wSe=bSe(mSe);const ESe=wSe;function xSe(t,e){return ESe(hSe(t,e,o_),t+"")}function SSe(t,e,n){if(!ao(n))return!1;var r=typeof e;return(r=="number"?Dd(n)&&iT(e,n.length):r=="string"&&e in n)?Wp(n[e],t):!1}function CSe(t){return xSe(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&SSe(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}var TSe=CSe(function(t,e,n){lB(t,e,n)});const yi=TSe;var Hp=function(e){var n=e.zDepth,r=e.radius,i=e.background,o=e.children,s=e.styles,a=s===void 0?{}:s,l=Xe(yi({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return L.createElement("div",{style:l.wrap},L.createElement("div",{style:l.bg}),L.createElement("div",{style:l.content},o))};Hp.propTypes={background:de.string,zDepth:de.oneOf([0,1,2,3,4,5]),radius:de.number,styles:de.object};Hp.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var ISe=function(){return Do.Date.now()};const $b=ISe;var RSe=/\s/;function PSe(t){for(var e=t.length;e--&&RSe.test(t.charAt(e)););return e}var ASe=/^\s+/;function kSe(t){return t&&t.slice(0,PSe(t)+1).replace(ASe,"")}var OSe="[object Symbol]";function s_(t){return typeof t=="symbol"||il(t)&&pc(t)==OSe}var o2=0/0,NSe=/^[-+]0x[0-9a-f]+$/i,$Se=/^0b[01]+$/i,MSe=/^0o[0-7]+$/i,DSe=parseInt;function s2(t){if(typeof t=="number")return t;if(s_(t))return o2;if(ao(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ao(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=kSe(t);var n=$Se.test(t);return n||MSe.test(t)?DSe(t.slice(2),n?2:8):NSe.test(t)?o2:+t}var LSe="Expected a function",FSe=Math.max,BSe=Math.min;function cB(t,e,n){var r,i,o,s,a,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(LSe);e=s2(e)||0,ao(n)&&(u=!!n.leading,f="maxWait"in n,o=f?FSe(s2(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(N){var I=r,T=i;return r=i=void 0,c=N,s=t.apply(T,I),s}function m(N){return c=N,a=setTimeout(_,e),u?p(N):s}function b(N){var I=N-l,T=N-c,R=e-I;return f?BSe(R,o-T):R}function x(N){var I=N-l,T=N-c;return l===void 0||I>=e||I<0||f&&T>=o}function _(){var N=$b();if(x(N))return w(N);a=setTimeout(_,b(N))}function w(N){return a=void 0,h&&r?p(N):(r=i=void 0,s)}function v(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function S(){return a===void 0?s:w($b())}function k(){var N=$b(),I=x(N);if(r=arguments,i=this,l=N,I){if(a===void 0)return m(l);if(f)return clearTimeout(a),a=setTimeout(_,e),p(l)}return a===void 0&&(a=setTimeout(_,e)),s}return k.cancel=v,k.flush=S,k}var VSe="Expected a function";function USe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(VSe);return ao(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),cB(t,e,{leading:r,maxWait:e,trailing:i})}var jSe=function(e,n,r){var i=r.getBoundingClientRect(),o=i.width,s=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>o&&(c=o),u<0?u=0:u>s&&(u=s);var f=c/o,h=1-u/s;return{h:n.h,s:f,v:h,a:n.a,source:"hsv"}},zSe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function WSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HSe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function GSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a_=function(t){GSe(e,t);function e(n){WSe(this,e);var r=HSe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,jSe(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=USe(function(i,o,s){i(o,s)},50),r}return zSe(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,s=i.white,a=i.black,l=i.pointer,c=i.circle,u=Xe({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:s,black:a,pointer:l,circle:c}},{custom:!!this.props.style});return L.createElement("div",{style:u.color,ref:function(h){return r.container=h},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},L.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),L.createElement("div",{style:u.white,className:"saturation-white"},L.createElement("div",{style:u.black,className:"saturation-black"}),L.createElement("div",{style:u.pointer},this.props.pointer?L.createElement(this.props.pointer,this.props):L.createElement("div",{style:u.circle}))))}}]),e}(E.PureComponent||E.Component);function qSe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var KSe=eB(Object.keys,Object);const YSe=KSe;var XSe=Object.prototype,QSe=XSe.hasOwnProperty;function JSe(t){if(!tT(t))return YSe(t);var e=[];for(var n in Object(t))QSe.call(t,n)&&n!="constructor"&&e.push(n);return e}function oT(t){return Dd(t)?sB(t):JSe(t)}function ZSe(t,e){return t&&J3(t,e,oT)}function eCe(t,e){return function(n,r){if(n==null)return n;if(!Dd(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var tCe=eCe(ZSe);const uB=tCe;function nCe(t){return typeof t=="function"?t:o_}function rCe(t,e){var n=Bi(t)?qSe:uB;return n(t,nCe(e))}function Zy(t){"@babel/helpers - typeof";return Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zy(t)}var iCe=/^\s+/,oCe=/\s+$/;function Ae(t,e){if(t=t||"",e=e||{},t instanceof Ae)return t;if(!(this instanceof Ae))return new Ae(t,e);var n=sCe(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Ae.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,o,s,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*s+.0722*a},setAlpha:function(e){return this._a=dB(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=l2(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=l2(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=a2(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=a2(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return c2(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return uCe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(yn(this._r,255)*100)+"%",g:Math.round(yn(this._g,255)*100)+"%",b:Math.round(yn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(yn(this._r,255)*100)+"%, "+Math.round(yn(this._g,255)*100)+"%, "+Math.round(yn(this._b,255)*100)+"%)":"rgba("+Math.round(yn(this._r,255)*100)+"%, "+Math.round(yn(this._g,255)*100)+"%, "+Math.round(yn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:ECe[c2(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+u2(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var o=Ae(e);r="#"+u2(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Ae(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(pCe,arguments)},brighten:function(){return this._applyModification(gCe,arguments)},darken:function(){return this._applyModification(mCe,arguments)},desaturate:function(){return this._applyModification(dCe,arguments)},saturate:function(){return this._applyModification(fCe,arguments)},greyscale:function(){return this._applyModification(hCe,arguments)},spin:function(){return this._applyModification(yCe,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(bCe,arguments)},complement:function(){return this._applyCombination(vCe,arguments)},monochromatic:function(){return this._applyCombination(wCe,arguments)},splitcomplement:function(){return this._applyCombination(_Ce,arguments)},triad:function(){return this._applyCombination(d2,[3])},tetrad:function(){return this._applyCombination(d2,[4])}};Ae.fromRatio=function(t,e){if(Zy(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=Af(t[r]));t=n}return Ae(t,e)};function sCe(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=TCe(t)),Zy(t)=="object"&&(vs(t.r)&&vs(t.g)&&vs(t.b)?(e=aCe(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):vs(t.h)&&vs(t.s)&&vs(t.v)?(r=Af(t.s),i=Af(t.v),e=cCe(t.h,r,i),s=!0,a="hsv"):vs(t.h)&&vs(t.s)&&vs(t.l)&&(r=Af(t.s),o=Af(t.l),e=lCe(t.h,r,o),s=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=dB(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function aCe(t,e,n){return{r:yn(t,255)*255,g:yn(e,255)*255,b:yn(n,255)*255}}function a2(t,e,n){t=yn(t,255),e=yn(e,255),n=yn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=(r+i)/2;if(r==i)o=s=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,l:a}}function lCe(t,e,n){var r,i,o;t=yn(t,360),e=yn(e,100),n=yn(n,100);function s(c,u,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?c+(u-c)*6*f:f<1/2?u:f<2/3?c+(u-c)*(2/3-f)*6:c}if(e===0)r=i=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=s(l,a,t+1/3),i=s(l,a,t),o=s(l,a,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function l2(t,e,n){t=yn(t,255),e=yn(e,255),n=yn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=r,l=r-i;if(s=r===0?0:l/r,r==i)o=0;else{switch(r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,v:a}}function cCe(t,e,n){t=yn(t,360)*6,e=yn(e,100),n=yn(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,c=[n,s,o,o,a,n][l],u=[a,n,n,s,o,o][l],f=[o,o,a,n,n,s][l];return{r:c*255,g:u*255,b:f*255}}function c2(t,e,n,r){var i=[To(Math.round(t).toString(16)),To(Math.round(e).toString(16)),To(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function uCe(t,e,n,r,i){var o=[To(Math.round(t).toString(16)),To(Math.round(e).toString(16)),To(Math.round(n).toString(16)),To(fB(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function u2(t,e,n,r){var i=[To(fB(r)),To(Math.round(t).toString(16)),To(Math.round(e).toString(16)),To(Math.round(n).toString(16))];return i.join("")}Ae.equals=function(t,e){return!t||!e?!1:Ae(t).toRgbString()==Ae(e).toRgbString()};Ae.random=function(){return Ae.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function dCe(t,e){e=e===0?0:e||10;var n=Ae(t).toHsl();return n.s-=e/100,n.s=l_(n.s),Ae(n)}function fCe(t,e){e=e===0?0:e||10;var n=Ae(t).toHsl();return n.s+=e/100,n.s=l_(n.s),Ae(n)}function hCe(t){return Ae(t).desaturate(100)}function pCe(t,e){e=e===0?0:e||10;var n=Ae(t).toHsl();return n.l+=e/100,n.l=l_(n.l),Ae(n)}function gCe(t,e){e=e===0?0:e||10;var n=Ae(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Ae(n)}function mCe(t,e){e=e===0?0:e||10;var n=Ae(t).toHsl();return n.l-=e/100,n.l=l_(n.l),Ae(n)}function yCe(t,e){var n=Ae(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Ae(n)}function vCe(t){var e=Ae(t).toHsl();return e.h=(e.h+180)%360,Ae(e)}function d2(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Ae(t).toHsl(),r=[Ae(t)],i=360/e,o=1;o<e;o++)r.push(Ae({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function _Ce(t){var e=Ae(t).toHsl(),n=e.h;return[Ae(t),Ae({h:(n+72)%360,s:e.s,l:e.l}),Ae({h:(n+216)%360,s:e.s,l:e.l})]}function bCe(t,e,n){e=e||6,n=n||30;var r=Ae(t).toHsl(),i=360/n,o=[Ae(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(Ae(r));return o}function wCe(t,e){e=e||6;for(var n=Ae(t).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;e--;)s.push(Ae({h:r,s:i,v:o})),o=(o+a)%1;return s}Ae.mix=function(t,e,n){n=n===0?0:n||50;var r=Ae(t).toRgb(),i=Ae(e).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return Ae(s)};Ae.readability=function(t,e){var n=Ae(t),r=Ae(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Ae.isReadable=function(t,e,n){var r=Ae.readability(t,e),i,o;switch(o=!1,i=ICe(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};Ae.mostReadable=function(t,e,n){var r=null,i=0,o,s,a,l;n=n||{},s=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<e.length;c++)o=Ae.readability(t,e[c]),o>i&&(i=o,r=Ae(e[c]));return Ae.isReadable(t,r,{level:a,size:l})||!s?r:(n.includeFallbackColors=!1,Ae.mostReadable(t,["#fff","#000"],n))};var e1=Ae.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ECe=Ae.hexNames=xCe(e1);function xCe(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function dB(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function yn(t,e){SCe(t)&&(t="100%");var n=CCe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function l_(t){return Math.min(1,Math.max(0,t))}function xi(t){return parseInt(t,16)}function SCe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function CCe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function To(t){return t.length==1?"0"+t:""+t}function Af(t){return t<=1&&(t=t*100+"%"),t}function fB(t){return Math.round(parseFloat(t)*255).toString(16)}function f2(t){return xi(t)/255}var vo=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function vs(t){return!!vo.CSS_UNIT.exec(t)}function TCe(t){t=t.replace(iCe,"").replace(oCe,"").toLowerCase();var e=!1;if(e1[t])t=e1[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=vo.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=vo.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=vo.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=vo.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=vo.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=vo.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=vo.hex8.exec(t))?{r:xi(n[1]),g:xi(n[2]),b:xi(n[3]),a:f2(n[4]),format:e?"name":"hex8"}:(n=vo.hex6.exec(t))?{r:xi(n[1]),g:xi(n[2]),b:xi(n[3]),format:e?"name":"hex"}:(n=vo.hex4.exec(t))?{r:xi(n[1]+""+n[1]),g:xi(n[2]+""+n[2]),b:xi(n[3]+""+n[3]),a:f2(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=vo.hex3.exec(t))?{r:xi(n[1]+""+n[1]),g:xi(n[2]+""+n[2]),b:xi(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function ICe(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var h2=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return rCe(n,function(o){if(e[o]&&(r+=1,isNaN(e[o])||(i+=1),o==="s"||o==="l")){var s=/^\d+%$/;s.test(e[o])&&(i+=1)}}),r===i?e:!1},kf=function(e,n){var r=e.hex?Ae(e.hex):Ae(e),i=r.toHsl(),o=r.toHsv(),s=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,o.h=n||0);var l=a==="000000"&&s.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:s,hsv:o,oldHue:e.h||n||i.h,source:e.source}},gl=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&Ae(e).isValid()},sT=function(e){if(!e)return"#fff";var n=kf(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},Mb=function(e,n){var r=e.replace("","");return Ae(n+" ("+r+")")._ok},gf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RCe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function PCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ACe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function kCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var vi=function(e){var n=function(r){kCe(i,r);function i(o){PCe(this,i);var s=ACe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return s.handleChange=function(a,l){var c=h2(a);if(c){var u=kf(a,a.h||s.state.oldHue);s.setState(u),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,u,l),s.props.onChange&&s.props.onChange(u,l)}},s.handleSwatchHover=function(a,l){var c=h2(a);if(c){var u=kf(a,a.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(u,l)}},s.state=gf({},kf(o.color,0)),s.debounce=cB(function(a,l,c){a(l,c)},100),s}return RCe(i,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),L.createElement(e,gf({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return gf({},kf(s.color,a.oldHue))}}]),i}(E.PureComponent||E.Component);return n.propTypes=gf({},e.propTypes),n.defaultProps=gf({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},OCe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NCe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function $Ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p2(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function MCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var DCe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){MCe(i,r);function i(){var o,s,a,l;$Ce(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(s=(a=p2(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(u))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},s),p2(a,l)}return NCe(i,[{key:"render",value:function(){return L.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},L.createElement(e,OCe({},this.props,this.state)))}}]),i}(L.Component)},g2=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LCe=13,FCe=function(e){var n=e.color,r=e.style,i=e.onClick,o=i===void 0?function(){}:i,s=e.onHover,a=e.title,l=a===void 0?n:a,c=e.children,u=e.focus,f=e.focusStyle,h=f===void 0?{}:f,p=n==="transparent",m=Xe({default:{swatch:g2({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,u?h:{})}}),b=function(S){return o(n,S)},x=function(S){return S.keyCode===LCe&&o(n,S)},_=function(S){return s(n,S)},w={};return s&&(w.onMouseOver=_),L.createElement("div",g2({style:m.swatch,onClick:b,title:l,tabIndex:0,onKeyDown:x},w),c,p&&L.createElement($d,{borderRadius:m.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const yc=DCe(FCe);var BCe=function(e){var n=e.direction,r=Xe({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return L.createElement("div",{style:r.picker})},VCe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hB=function(e){var n=e.rgb,r=e.hsl,i=e.width,o=e.height,s=e.onChange,a=e.direction,l=e.style,c=e.renderers,u=e.pointer,f=e.className,h=f===void 0?"":f,p=Xe({default:{picker:{position:"relative",width:i,height:o},alpha:{radius:"2px",style:l}}});return L.createElement("div",{style:p.picker,className:"alpha-picker "+h},L.createElement(JC,VCe({},p.alpha,{rgb:n,hsl:r,pointer:u,renderers:c,onChange:s,direction:a})))};hB.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:BCe};vi(hB);function pB(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var UCe="__lodash_hash_undefined__";function jCe(t){return this.__data__.set(t,UCe),this}function zCe(t){return this.__data__.has(t)}function ev(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ra;++e<n;)this.add(t[e])}ev.prototype.add=ev.prototype.push=jCe;ev.prototype.has=zCe;function WCe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function HCe(t,e){return t.has(e)}var GCe=1,qCe=2;function gB(t,e,n,r,i,o){var s=n&GCe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=n&qCe?new ev:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var m=t[f],b=e[f];if(r)var x=s?r(b,m,f,e,t,o):r(m,b,f,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!WCe(e,function(_,w){if(!HCe(p,w)&&(m===_||i(m,_,n,r,o)))return p.push(w)})){h=!1;break}}else if(!(m===b||i(m,b,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}function KCe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function YCe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var XCe=1,QCe=2,JCe="[object Boolean]",ZCe="[object Date]",eTe="[object Error]",tTe="[object Map]",nTe="[object Number]",rTe="[object RegExp]",iTe="[object Set]",oTe="[object String]",sTe="[object Symbol]",aTe="[object ArrayBuffer]",lTe="[object DataView]",m2=rl?rl.prototype:void 0,Db=m2?m2.valueOf:void 0;function cTe(t,e,n,r,i,o,s){switch(n){case lTe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case aTe:return!(t.byteLength!=e.byteLength||!o(new Xy(t),new Xy(e)));case JCe:case ZCe:case nTe:return Wp(+t,+e);case eTe:return t.name==e.name&&t.message==e.message;case rTe:case oTe:return t==e+"";case tTe:var a=KCe;case iTe:var l=r&XCe;if(a||(a=YCe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=QCe,s.set(t,e);var u=gB(a(t),a(e),r,i,o,s);return s.delete(t),u;case sTe:if(Db)return Db.call(t)==Db.call(e)}return!1}function uTe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function dTe(t,e,n){var r=e(t);return Bi(t)?r:uTe(r,n(t))}function fTe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function hTe(){return[]}var pTe=Object.prototype,gTe=pTe.propertyIsEnumerable,y2=Object.getOwnPropertySymbols,mTe=y2?function(t){return t==null?[]:(t=Object(t),fTe(y2(t),function(e){return gTe.call(t,e)}))}:hTe;const yTe=mTe;function v2(t){return dTe(t,oT,yTe)}var vTe=1,_Te=Object.prototype,bTe=_Te.hasOwnProperty;function wTe(t,e,n,r,i,o){var s=n&vTe,a=v2(t),l=a.length,c=v2(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:bTe.call(e,h)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var b=!0;o.set(t,e),o.set(e,t);for(var x=s;++f<l;){h=a[f];var _=t[h],w=e[h];if(r)var v=s?r(w,_,h,e,t,o):r(_,w,h,t,e,o);if(!(v===void 0?_===w||i(_,w,n,r,o):v)){b=!1;break}x||(x=h=="constructor")}if(b&&!x){var S=t.constructor,k=e.constructor;S!=k&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof k=="function"&&k instanceof k)&&(b=!1)}return o.delete(t),o.delete(e),b}var ETe=mc(Do,"DataView");const t1=ETe;var xTe=mc(Do,"Promise");const n1=xTe;var STe=mc(Do,"Set");const r1=STe;var CTe=mc(Do,"WeakMap");const i1=CTe;var _2="[object Map]",TTe="[object Object]",b2="[object Promise]",w2="[object Set]",E2="[object WeakMap]",x2="[object DataView]",ITe=gc(t1),RTe=gc(Kh),PTe=gc(n1),ATe=gc(r1),kTe=gc(i1),Tl=pc;(t1&&Tl(new t1(new ArrayBuffer(1)))!=x2||Kh&&Tl(new Kh)!=_2||n1&&Tl(n1.resolve())!=b2||r1&&Tl(new r1)!=w2||i1&&Tl(new i1)!=E2)&&(Tl=function(t){var e=pc(t),n=e==TTe?t.constructor:void 0,r=n?gc(n):"";if(r)switch(r){case ITe:return x2;case RTe:return _2;case PTe:return b2;case ATe:return w2;case kTe:return E2}return e});const S2=Tl;var OTe=1,C2="[object Arguments]",T2="[object Array]",Gg="[object Object]",NTe=Object.prototype,I2=NTe.hasOwnProperty;function $Te(t,e,n,r,i,o){var s=Bi(t),a=Bi(e),l=s?T2:S2(t),c=a?T2:S2(e);l=l==C2?Gg:l,c=c==C2?Gg:c;var u=l==Gg,f=c==Gg,h=l==c;if(h&&Jy(t)){if(!Jy(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new is),s||rT(t)?gB(t,e,n,r,i,o):cTe(t,e,l,n,r,i,o);if(!(n&OTe)){var p=u&&I2.call(t,"__wrapped__"),m=f&&I2.call(e,"__wrapped__");if(p||m){var b=p?t.value():t,x=m?e.value():e;return o||(o=new is),i(b,x,n,r,o)}}return h?(o||(o=new is),wTe(t,e,n,r,i,o)):!1}function aT(t,e,n,r,i){return t===e?!0:t==null||e==null||!il(t)&&!il(e)?t!==t&&e!==e:$Te(t,e,n,r,aT,i)}var MTe=1,DTe=2;function LTe(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],c=t[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new is;if(r)var h=r(c,u,l,t,e,f);if(!(h===void 0?aT(u,c,MTe|DTe,r,f):h))return!1}}return!0}function mB(t){return t===t&&!ao(t)}function FTe(t){for(var e=oT(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,mB(i)]}return e}function yB(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function BTe(t){var e=FTe(t);return e.length==1&&e[0][2]?yB(e[0][0],e[0][1]):function(n){return n===t||LTe(n,t,e)}}var VTe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,UTe=/^\w*$/;function lT(t,e){if(Bi(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||s_(t)?!0:UTe.test(t)||!VTe.test(t)||e!=null&&t in Object(e)}var jTe="Expected a function";function cT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(jTe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(cT.Cache||ra),n}cT.Cache=ra;var zTe=500;function WTe(t){var e=cT(t,function(r){return n.size===zTe&&n.clear(),r}),n=e.cache;return e}var HTe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,GTe=/\\(\\)?/g,qTe=WTe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(HTe,function(n,r,i,o){e.push(i?o.replace(GTe,"$1"):r||n)}),e});const KTe=qTe;var YTe=1/0,R2=rl?rl.prototype:void 0,P2=R2?R2.toString:void 0;function vB(t){if(typeof t=="string")return t;if(Bi(t))return pB(t,vB)+"";if(s_(t))return P2?P2.call(t):"";var e=t+"";return e=="0"&&1/t==-YTe?"-0":e}function XTe(t){return t==null?"":vB(t)}function _B(t,e){return Bi(t)?t:lT(t,e)?[t]:KTe(XTe(t))}var QTe=1/0;function c_(t){if(typeof t=="string"||s_(t))return t;var e=t+"";return e=="0"&&1/t==-QTe?"-0":e}function bB(t,e){e=_B(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[c_(e[n++])];return n&&n==r?t:void 0}function JTe(t,e,n){var r=t==null?void 0:bB(t,e);return r===void 0?n:r}function ZTe(t,e){return t!=null&&e in Object(t)}function eIe(t,e,n){e=_B(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=c_(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&nT(i)&&iT(s,i)&&(Bi(t)||Qy(t)))}function tIe(t,e){return t!=null&&eIe(t,e,ZTe)}var nIe=1,rIe=2;function iIe(t,e){return lT(t)&&mB(e)?yB(c_(t),e):function(n){var r=JTe(n,t);return r===void 0&&r===e?tIe(n,t):aT(e,r,nIe|rIe)}}function oIe(t){return function(e){return e==null?void 0:e[t]}}function sIe(t){return function(e){return bB(e,t)}}function aIe(t){return lT(t)?oIe(c_(t)):sIe(t)}function lIe(t){return typeof t=="function"?t:t==null?o_:typeof t=="object"?Bi(t)?iIe(t[0],t[1]):BTe(t):aIe(t)}function cIe(t,e){var n=-1,r=Dd(t)?Array(t.length):[];return uB(t,function(i,o,s){r[++n]=e(i,o,s)}),r}function vc(t,e){var n=Bi(t)?pB:cIe;return n(t,lIe(e))}var uIe=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,o=Xe({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return L.createElement("div",{style:o.swatches},vc(n,function(s){return L.createElement(yc,{key:s,color:s,style:o.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+s}})}),L.createElement("div",{style:o.clear}))},uT=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,h=i==="transparent",p=function(x,_){gl(x)&&n({hex:x,source:"hex"},_)},m=Xe(yi({default:{card:{width:s,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:sT(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":a==="hide"});return L.createElement("div",{style:m.card,className:"block-picker "+f},L.createElement("div",{style:m.triangle}),L.createElement("div",{style:m.head},h&&L.createElement($d,{borderRadius:"6px 6px 0 0"}),L.createElement("div",{style:m.label},i)),L.createElement("div",{style:m.body},L.createElement(uIe,{colors:o,onClick:p,onSwatchHover:r}),L.createElement(Ct,{style:{input:m.input},value:i,onChange:p})))};uT.propTypes={width:de.oneOfType([de.string,de.number]),colors:de.arrayOf(de.string),triangle:de.oneOf(["top","hide"]),styles:de.object};uT.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};vi(uT);var Lc={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Fc={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Bc={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Vc={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Uc={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},jc={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},zc={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Wc={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},Hc={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},Of={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},Gc={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},qc={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},Kc={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},Yc={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},Xc={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},Qc={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},Jc={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},Zc={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},wB=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,o=e.hover,s=e.active,a=e.circleSize,l=e.circleSpacing,c=Xe({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:o,active:s});return L.createElement("div",{style:c.swatch},L.createElement(yc,{style:c.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+n}}))};wB.defaultProps={circleSize:28,circleSpacing:14};const dIe=QC(wB);var dT=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,o=e.colors,s=e.hex,a=e.circleSize,l=e.styles,c=l===void 0?{}:l,u=e.circleSpacing,f=e.className,h=f===void 0?"":f,p=Xe(yi({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},c)),m=function(x,_){return r({hex:x,source:"hex"},_)};return L.createElement("div",{style:p.card,className:"circle-picker "+h},vc(o,function(b){return L.createElement(dIe,{key:b,color:b,onClick:m,onSwatchHover:i,active:s===b.toLowerCase(),circleSize:a,circleSpacing:u})}))};dT.propTypes={width:de.oneOfType([de.string,de.number]),circleSize:de.number,circleSpacing:de.number,styles:de.object};dT.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Lc[500],Fc[500],Bc[500],Vc[500],Uc[500],jc[500],zc[500],Wc[500],Hc[500],Of[500],Gc[500],qc[500],Kc[500],Yc[500],Xc[500],Qc[500],Jc[500],Zc[500]],styles:{}};vi(dT);function A2(t){return t===void 0}var EB={};Object.defineProperty(EB,"__esModule",{value:!0});var k2=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fIe=E,O2=hIe(fIe);function hIe(t){return t&&t.__esModule?t:{default:t}}function pIe(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var qg=24,gIe=EB.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?qg:r,o=t.height,s=o===void 0?qg:o,a=t.style,l=a===void 0?{}:a,c=pIe(t,["fill","width","height","style"]);return O2.default.createElement("svg",k2({viewBox:"0 0 "+qg+" "+qg,style:k2({fill:n,width:i,height:s},l)},c),O2.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},mIe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function yIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vIe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function _Ie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xB=function(t){_Ie(e,t);function e(n){yIe(this,e);var r=vIe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?gl(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(A2(i.s)?r.props.hsl.s:i.s),l:Number(A2(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return mIe(e,[{key:"render",value:function(){var r=this,i=Xe({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=L.createElement("div",{style:i.fields,className:"flexbox-fix"},L.createElement("div",{style:i.field},L.createElement(Ct,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=L.createElement("div",{style:i.fields,className:"flexbox-fix"},L.createElement("div",{style:i.field},L.createElement(Ct,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),L.createElement("div",{style:i.field},L.createElement(Ct,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),L.createElement("div",{style:i.field},L.createElement(Ct,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),L.createElement("div",{style:i.alpha},L.createElement(Ct,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=L.createElement("div",{style:i.fields,className:"flexbox-fix"},L.createElement("div",{style:i.field},L.createElement(Ct,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),L.createElement("div",{style:i.field},L.createElement(Ct,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),L.createElement("div",{style:i.field},L.createElement(Ct,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),L.createElement("div",{style:i.alpha},L.createElement(Ct,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),L.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,L.createElement("div",{style:i.toggle},L.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},L.createElement(gIe,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(L.Component);xB.defaultProps={view:"hex"};var N2=function(){var e=Xe({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return L.createElement("div",{style:e.picker})},bIe=function(){var e=Xe({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return L.createElement("div",{style:e.picker})},fT=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,o=e.rgb,s=e.hsl,a=e.hsv,l=e.hex,c=e.renderers,u=e.styles,f=u===void 0?{}:u,h=e.className,p=h===void 0?"":h,m=e.defaultView,b=Xe(yi({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},f),{disableAlpha:i});return L.createElement("div",{style:b.picker,className:"chrome-picker "+p},L.createElement("div",{style:b.saturation},L.createElement(a_,{style:b.Saturation,hsl:s,hsv:a,pointer:bIe,onChange:r})),L.createElement("div",{style:b.body},L.createElement("div",{style:b.controls,className:"flexbox-fix"},L.createElement("div",{style:b.color},L.createElement("div",{style:b.swatch},L.createElement("div",{style:b.active}),L.createElement($d,{renderers:c}))),L.createElement("div",{style:b.toggles},L.createElement("div",{style:b.hue},L.createElement(Md,{style:b.Hue,hsl:s,pointer:N2,onChange:r})),L.createElement("div",{style:b.alpha},L.createElement(JC,{style:b.Alpha,rgb:o,hsl:s,pointer:N2,renderers:c,onChange:r})))),L.createElement(xB,{rgb:o,hsl:s,hex:l,view:m,onChange:r,disableAlpha:i})))};fT.propTypes={width:de.oneOfType([de.string,de.number]),disableAlpha:de.bool,styles:de.object,defaultView:de.oneOf(["hex","rgb","hsl"])};fT.defaultProps={width:225,disableAlpha:!1,styles:{}};vi(fT);var wIe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.active,a=Xe({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:sT(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:s,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return L.createElement(yc,{style:a.color,color:n,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},L.createElement("div",{style:a.dot}))},EIe=function(e){var n=e.hex,r=e.rgb,i=e.onChange,o=Xe({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),s=function(l,c){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},c):i({hex:l.hex,source:"hex"},c)};return L.createElement("div",{style:o.fields,className:"flexbox-fix"},L.createElement("div",{style:o.active}),L.createElement(Ct,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:n,onChange:s}),L.createElement(Ct,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:s}),L.createElement(Ct,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:s}),L.createElement(Ct,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:s}))},hT=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,o=e.hex,s=e.rgb,a=e.styles,l=a===void 0?{}:a,c=e.className,u=c===void 0?"":c,f=Xe(yi({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),h=function(m,b){m.hex?gl(m.hex)&&n({hex:m.hex,source:"hex"},b):n(m,b)};return L.createElement(Hp,{style:f.Compact,styles:l},L.createElement("div",{style:f.compact,className:"compact-picker "+u},L.createElement("div",null,vc(i,function(p){return L.createElement(wIe,{key:p,color:p,active:p.toLowerCase()===o,onClick:h,onSwatchHover:r})}),L.createElement("div",{style:f.clear})),L.createElement(EIe,{hex:o,rgb:s,onChange:h})))};hT.propTypes={colors:de.arrayOf(de.string),styles:de.object};hT.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};vi(hT);var xIe=function(e){var n=e.hover,r=e.color,i=e.onClick,o=e.onSwatchHover,s={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=Xe({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:s}},{hover:n});return L.createElement("div",{style:a.swatch},L.createElement(yc,{color:r,onClick:i,onHover:o,focusStyle:s}))};const SIe=QC(xIe);var pT=function(e){var n=e.width,r=e.colors,i=e.onChange,o=e.onSwatchHover,s=e.triangle,a=e.styles,l=a===void 0?{}:a,c=e.className,u=c===void 0?"":c,f=Xe(yi({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right","bottom-left-triangle":s==="bottom-left","bottom-right-triangle":s==="bottom-right"}),h=function(m,b){return i({hex:m,source:"hex"},b)};return L.createElement("div",{style:f.card,className:"github-picker "+u},L.createElement("div",{style:f.triangleShadow}),L.createElement("div",{style:f.triangle}),vc(r,function(p){return L.createElement(SIe,{color:p,key:p,onClick:h,onSwatchHover:o})}))};pT.propTypes={width:de.oneOfType([de.string,de.number]),colors:de.arrayOf(de.string),triangle:de.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:de.object};pT.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};vi(pT);var CIe=function(e){var n=e.direction,r=Xe({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return L.createElement("div",{style:r.picker})},TIe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gT=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.hsl,s=e.direction,a=e.pointer,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,h=Xe(yi({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},c)),p=function(b){return i({a:1,h:b.h,l:.5,s:1})};return L.createElement("div",{style:h.picker,className:"hue-picker "+f},L.createElement(Md,TIe({},h.hue,{hsl:o,pointer:a,onChange:p,direction:s})))};gT.propTypes={styles:de.object};gT.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:CIe,styles:{}};vi(gT);var IIe=function(e){var n=e.onChange,r=e.hex,i=e.rgb,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,c=Xe(yi({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},s)),u=function(h,p){h.hex?gl(h.hex)&&n({hex:h.hex,source:"hex"},p):(h.r||h.g||h.b)&&n({r:h.r||i.r,g:h.g||i.g,b:h.b||i.b,source:"rgb"},p)};return L.createElement(Hp,{styles:s},L.createElement("div",{style:c.material,className:"material-picker "+l},L.createElement(Ct,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:r,onChange:u}),L.createElement("div",{style:c.split,className:"flexbox-fix"},L.createElement("div",{style:c.third},L.createElement(Ct,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:i.r,onChange:u})),L.createElement("div",{style:c.third},L.createElement(Ct,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:i.g,onChange:u})),L.createElement("div",{style:c.third},L.createElement(Ct,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:i.b,onChange:u})))))};vi(IIe);var RIe=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,o=e.hex,s=Xe({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(c,u){c["#"]?gl(c["#"])&&n({hex:c["#"],source:"hex"},u):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},u):(c.h||c.s||c.v)&&n({h:c.h||i.h,s:c.s||i.s,v:c.v||i.v,source:"hsv"},u)};return L.createElement("div",{style:s.fields},L.createElement(Ct,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),L.createElement(Ct,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),L.createElement(Ct,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),L.createElement("div",{style:s.divider}),L.createElement(Ct,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:a}),L.createElement(Ct,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:a}),L.createElement(Ct,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:a}),L.createElement("div",{style:s.divider}),L.createElement(Ct,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"#",value:o.replace("#",""),onChange:a}),L.createElement("div",{style:s.fieldSymbols},L.createElement("div",{style:s.symbol},""),L.createElement("div",{style:s.symbol},"%"),L.createElement("div",{style:s.symbol},"%")))},PIe=function(e){var n=e.hsl,r=Xe({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return L.createElement("div",{style:r.picker})},AIe=function(){var e=Xe({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return L.createElement("div",{style:e.pointer},L.createElement("div",{style:e.left},L.createElement("div",{style:e.leftInside})),L.createElement("div",{style:e.right},L.createElement("div",{style:e.rightInside})))},$2=function(e){var n=e.onClick,r=e.label,i=e.children,o=e.active,s=Xe({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return L.createElement("div",{style:s.button,onClick:n},r||i)},kIe=function(e){var n=e.rgb,r=e.currentColor,i=Xe({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return L.createElement("div",null,L.createElement("div",{style:i.label},"new"),L.createElement("div",{style:i.swatches},L.createElement("div",{style:i.new}),L.createElement("div",{style:i.current})),L.createElement("div",{style:i.label},"current"))},OIe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function NIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Ie(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function MIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var mT=function(t){MIe(e,t);function e(n){NIe(this,e);var r=$Ie(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return OIe(e,[{key:"render",value:function(){var r=this.props,i=r.styles,o=i===void 0?{}:i,s=r.className,a=s===void 0?"":s,l=Xe(yi({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},o));return L.createElement("div",{style:l.picker,className:"photoshop-picker "+a},L.createElement("div",{style:l.head},this.props.header),L.createElement("div",{style:l.body,className:"flexbox-fix"},L.createElement("div",{style:l.saturation},L.createElement(a_,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:PIe,onChange:this.props.onChange})),L.createElement("div",{style:l.hue},L.createElement(Md,{direction:"vertical",hsl:this.props.hsl,pointer:AIe,onChange:this.props.onChange})),L.createElement("div",{style:l.controls},L.createElement("div",{style:l.top,className:"flexbox-fix"},L.createElement("div",{style:l.previews},L.createElement(kIe,{rgb:this.props.rgb,currentColor:this.state.currentColor})),L.createElement("div",{style:l.actions},L.createElement($2,{label:"OK",onClick:this.props.onAccept,active:!0}),L.createElement($2,{label:"Cancel",onClick:this.props.onCancel}),L.createElement(RIe,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(L.Component);mT.propTypes={header:de.string,styles:de.object};mT.defaultProps={header:"Color Picker",styles:{}};vi(mT);var DIe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.disableAlpha,a=Xe({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:s}),l=function(u,f){u.hex?gl(u.hex)&&n({hex:u.hex,source:"hex"},f):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,a:r.a,source:"rgb"},f):u.a&&(u.a<0?u.a=0:u.a>100&&(u.a=100),u.a/=100,n({h:i.h,s:i.s,l:i.l,a:u.a,source:"rgb"},f))};return L.createElement("div",{style:a.fields,className:"flexbox-fix"},L.createElement("div",{style:a.double},L.createElement(Ct,{style:{input:a.input,label:a.label},label:"hex",value:o.replace("#",""),onChange:l})),L.createElement("div",{style:a.single},L.createElement(Ct,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),L.createElement("div",{style:a.single},L.createElement(Ct,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),L.createElement("div",{style:a.single},L.createElement(Ct,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),L.createElement("div",{style:a.alpha},L.createElement(Ct,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},LIe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SB=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=Xe({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(c,u){i({hex:c,source:"hex"},u)};return L.createElement("div",{style:s.colors,className:"flexbox-fix"},n.map(function(l){var c=typeof l=="string"?{color:l}:l,u=""+c.color+(c.title||"");return L.createElement("div",{key:u,style:s.swatchWrap},L.createElement(yc,LIe({},c,{style:s.swatch,onClick:a,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+c.color}})))}))};SB.propTypes={colors:de.arrayOf(de.oneOfType([de.string,de.shape({color:de.string,title:de.string})])).isRequired};var FIe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yT=function(e){var n=e.width,r=e.rgb,i=e.hex,o=e.hsv,s=e.hsl,a=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,u=e.presetColors,f=e.renderers,h=e.styles,p=h===void 0?{}:h,m=e.className,b=m===void 0?"":m,x=Xe(yi({default:FIe({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:c});return L.createElement("div",{style:x.picker,className:"sketch-picker "+b},L.createElement("div",{style:x.saturation},L.createElement(a_,{style:x.Saturation,hsl:s,hsv:o,onChange:a})),L.createElement("div",{style:x.controls,className:"flexbox-fix"},L.createElement("div",{style:x.sliders},L.createElement("div",{style:x.hue},L.createElement(Md,{style:x.Hue,hsl:s,onChange:a})),L.createElement("div",{style:x.alpha},L.createElement(JC,{style:x.Alpha,rgb:r,hsl:s,renderers:f,onChange:a}))),L.createElement("div",{style:x.color},L.createElement($d,null),L.createElement("div",{style:x.activeColor}))),L.createElement(DIe,{rgb:r,hsl:s,hex:i,onChange:a,disableAlpha:c}),L.createElement(SB,{colors:u,onClick:a,onSwatchHover:l}))};yT.propTypes={disableAlpha:de.bool,width:de.oneOfType([de.string,de.number]),styles:de.object};yT.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};vi(yT);var mf=function(e){var n=e.hsl,r=e.offset,i=e.onClick,o=i===void 0?function(){}:i,s=e.active,a=e.first,l=e.last,c=Xe({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:a,last:l}),u=function(h){return o({h:n.h,s:.5,l:r,source:"hsl"},h)};return L.createElement("div",{style:c.swatch,onClick:u})},BIe=function(e){var n=e.onClick,r=e.hsl,i=Xe({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return L.createElement("div",{style:i.swatches},L.createElement("div",{style:i.swatch},L.createElement(mf,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<o&&Math.abs(r.s-.5)<o,onClick:n,first:!0})),L.createElement("div",{style:i.swatch},L.createElement(mf,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<o&&Math.abs(r.s-.5)<o,onClick:n})),L.createElement("div",{style:i.swatch},L.createElement(mf,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<o&&Math.abs(r.s-.5)<o,onClick:n})),L.createElement("div",{style:i.swatch},L.createElement(mf,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<o&&Math.abs(r.s-.5)<o,onClick:n})),L.createElement("div",{style:i.swatch},L.createElement(mf,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<o&&Math.abs(r.s-.5)<o,onClick:n,last:!0})),L.createElement("div",{style:i.clear}))},VIe=function(){var e=Xe({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return L.createElement("div",{style:e.picker})},vT=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,c=Xe(yi({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},s));return L.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},L.createElement("div",{style:c.hue},L.createElement(Md,{style:c.Hue,hsl:n,pointer:i,onChange:r})),L.createElement("div",{style:c.swatches},L.createElement(BIe,{hsl:n,onClick:r})))};vT.propTypes={styles:de.object};vT.defaultProps={pointer:VIe,styles:{}};vi(vT);var CB={};Object.defineProperty(CB,"__esModule",{value:!0});var M2=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UIe=E,D2=jIe(UIe);function jIe(t){return t&&t.__esModule?t:{default:t}}function zIe(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var Kg=24,WIe=CB.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?Kg:r,o=t.height,s=o===void 0?Kg:o,a=t.style,l=a===void 0?{}:a,c=zIe(t,["fill","width","height","style"]);return D2.default.createElement("svg",M2({viewBox:"0 0 "+Kg+" "+Kg,style:M2({fill:n,width:i,height:s},l)},c),D2.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},HIe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.first,a=e.last,l=e.active,c=Xe({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:sT(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:s,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return L.createElement(yc,{color:n,style:c.color,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},L.createElement("div",{style:c.check},L.createElement(WIe,null)))},GIe=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,o=e.active,s=Xe({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return L.createElement("div",{style:s.group},vc(i,function(a,l){return L.createElement(HIe,{key:a,color:a,active:a.toLowerCase()===o,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},_T=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.onSwatchHover,s=e.colors,a=e.hex,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,h=Xe(yi({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),p=function(b,x){return i({hex:b,source:"hex"},x)};return L.createElement("div",{style:h.picker,className:"swatches-picker "+f},L.createElement(Hp,null,L.createElement("div",{style:h.overflow},L.createElement("div",{style:h.body},vc(s,function(m){return L.createElement(GIe,{key:m.toString(),group:m,active:a,onClick:p,onSwatchHover:o})}),L.createElement("div",{style:h.clear})))))};_T.propTypes={width:de.oneOfType([de.string,de.number]),height:de.oneOfType([de.string,de.number]),colors:de.arrayOf(de.arrayOf(de.string)),styles:de.object};_T.defaultProps={width:320,height:240,colors:[[Lc[900],Lc[700],Lc[500],Lc[300],Lc[100]],[Fc[900],Fc[700],Fc[500],Fc[300],Fc[100]],[Bc[900],Bc[700],Bc[500],Bc[300],Bc[100]],[Vc[900],Vc[700],Vc[500],Vc[300],Vc[100]],[Uc[900],Uc[700],Uc[500],Uc[300],Uc[100]],[jc[900],jc[700],jc[500],jc[300],jc[100]],[zc[900],zc[700],zc[500],zc[300],zc[100]],[Wc[900],Wc[700],Wc[500],Wc[300],Wc[100]],[Hc[900],Hc[700],Hc[500],Hc[300],Hc[100]],["#194D33",Of[700],Of[500],Of[300],Of[100]],[Gc[900],Gc[700],Gc[500],Gc[300],Gc[100]],[qc[900],qc[700],qc[500],qc[300],qc[100]],[Kc[900],Kc[700],Kc[500],Kc[300],Kc[100]],[Yc[900],Yc[700],Yc[500],Yc[300],Yc[100]],[Xc[900],Xc[700],Xc[500],Xc[300],Xc[100]],[Qc[900],Qc[700],Qc[500],Qc[300],Qc[100]],[Jc[900],Jc[700],Jc[500],Jc[300],Jc[100]],[Zc[900],Zc[700],Zc[500],Zc[300],Zc[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};vi(_T);var bT=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,h=Xe(yi({default:{card:{width:s,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),p=function(b,x){gl(b)&&n({hex:b,source:"hex"},x)};return L.createElement("div",{style:h.card,className:"twitter-picker "+f},L.createElement("div",{style:h.triangleShadow}),L.createElement("div",{style:h.triangle}),L.createElement("div",{style:h.body},vc(o,function(m,b){return L.createElement(yc,{key:b,color:m,hex:m,style:h.swatch,onClick:p,onHover:r,focusStyle:{boxShadow:"0 0 4px "+m}})}),L.createElement("div",{style:h.hash},"#"),L.createElement(Ct,{label:null,style:{input:h.input},value:i.replace("#",""),onChange:p}),L.createElement("div",{style:h.clear})))};bT.propTypes={width:de.oneOfType([de.string,de.number]),triangle:de.oneOf(["hide","top-left","top-right"]),colors:de.arrayOf(de.string),styles:de.object};bT.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};vi(bT);var wT=function(e){var n=Xe({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return L.createElement("div",{style:n.picker})};wT.propTypes={hsl:de.shape({h:de.number,s:de.number,l:de.number,a:de.number})};wT.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var ET=function(e){var n=Xe({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return L.createElement("div",{style:n.picker})};ET.propTypes={hsl:de.shape({h:de.number,s:de.number,l:de.number,a:de.number})};ET.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var qIe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.hsv,a=function(p,m){if(p.hex)gl(p.hex)&&n({hex:p.hex,source:"hex"},m);else if(p.rgb){var b=p.rgb.split(",");Mb(p.rgb,"rgb")&&n({r:b[0],g:b[1],b:b[2],a:1,source:"rgb"},m)}else if(p.hsv){var x=p.hsv.split(",");Mb(p.hsv,"hsv")&&(x[2]=x[2].replace("%",""),x[1]=x[1].replace("%",""),x[0]=x[0].replace("",""),x[1]==1?x[1]=.01:x[2]==1&&(x[2]=.01),n({h:Number(x[0]),s:Number(x[1]),v:Number(x[2]),source:"hsv"},m))}else if(p.hsl){var _=p.hsl.split(",");Mb(p.hsl,"hsl")&&(_[2]=_[2].replace("%",""),_[1]=_[1].replace("%",""),_[0]=_[0].replace("",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),n({h:Number(_[0]),s:Number(_[1]),v:Number(_[2]),source:"hsl"},m))}},l=Xe({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=r.r+", "+r.g+", "+r.b,u=Math.round(i.h)+", "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",f=Math.round(s.h)+", "+Math.round(s.s*100)+"%, "+Math.round(s.v*100)+"%";return L.createElement("div",{style:l.wrap,className:"flexbox-fix"},L.createElement("div",{style:l.fields},L.createElement("div",{style:l.double},L.createElement(Ct,{style:{input:l.input,label:l.label},label:"hex",value:o,onChange:a})),L.createElement("div",{style:l.column},L.createElement("div",{style:l.single},L.createElement(Ct,{style:{input:l.input2,label:l.label2},label:"rgb",value:c,onChange:a})),L.createElement("div",{style:l.single},L.createElement(Ct,{style:{input:l.input2,label:l.label2},label:"hsv",value:f,onChange:a})),L.createElement("div",{style:l.single},L.createElement(Ct,{style:{input:l.input2,label:l.label2},label:"hsl",value:u,onChange:a})))))},xT=function(e){var n=e.width,r=e.onChange,i=e.rgb,o=e.hsl,s=e.hsv,a=e.hex,l=e.header,c=e.styles,u=c===void 0?{}:c,f=e.className,h=f===void 0?"":f,p=Xe(yi({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},u));return L.createElement("div",{style:p.picker,className:"google-picker "+h},L.createElement("div",{style:p.head},l),L.createElement("div",{style:p.swatch}),L.createElement("div",{style:p.saturation},L.createElement(a_,{hsl:o,hsv:s,pointer:wT,onChange:r})),L.createElement("div",{style:p.body},L.createElement("div",{style:p.controls,className:"flexbox-fix"},L.createElement("div",{style:p.hue},L.createElement(Md,{style:p.Hue,hsl:o,radius:"4px",pointer:ET,onChange:r}))),L.createElement(qIe,{rgb:i,hsl:o,hex:a,hsv:s,onChange:r})))};xT.propTypes={width:de.oneOfType([de.string,de.number]),styles:de.object,header:de.string};xT.defaultProps={width:652,styles:{},header:"Color picker"};vi(xT);const KIe=Kr(M.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"})),YIe=Kr(M.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"})),XIe=Kr(M.jsx("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6m-7 2v2h14v-2z"})),QIe=Kr(M.jsx("path",{d:"M15 15H3v2h12zm0-8H3v2h12zM3 13h18v-2H3zm0 8h18v-2H3zM3 3v2h18V3z"})),JIe=Kr(M.jsx("path",{d:"M7 15v2h10v-2zm-4 6h18v-2H3zm0-8h18v-2H3zm4-6v2h10V7zM3 3v2h18V3z"})),ZIe=Kr(M.jsx("path",{d:"M3 21h18v-2H3zm6-4h12v-2H9zm-6-4h18v-2H3zm6-4h12V7H9zM3 3v2h18V3z"})),eRe=Kr(M.jsx("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"})),mo=100,Br=40,tRe=.1,L2=5,F2=.1,nRe=()=>{const{id:t}=ej(),[e,n]=E.useState([]),[r,i]=E.useState([]),[o,s]=E.useState(null),[a,l]=E.useState(""),[c,u]=E.useState(!1),[f,h]=E.useState(null);E.useState([]),E.useState(null);const[p,m]=E.useState([]),[b,x]=E.useState(null),[_,w]=E.useState(!1),[v,S]=E.useState(null),[k,N]=E.useState(null),[I,T]=E.useState([]),[R,y]=E.useState({x:0,y:0}),[P,$]=E.useState([]),A=E.useRef({x:0,y:0}),[W,q]=E.useState(1),[j,Y]=E.useState({x:0,y:0}),U=E.useRef({x:0,y:0}),B=E.useRef({x:0,y:0}),K=E.useRef(W),ne=E.useRef(j),[fe,ge]=E.useState(null),[be,le]=E.useState([]),[ke,Oe]=E.useState([]),Ie=E.useRef(null),Se=E.useRef(null),[me,De]=E.useState("#1e1e1e"),[Re,ct]=E.useState("#fff");E.useState(""),E.useState(mo),E.useState(Br);const[Fe,Be]=E.useState("cursive"),[At,ue]=E.useState(14),Ke=E.useRef({x:0,y:0}),Me=E.useRef({}),[ut,Ye]=E.useState(!1),Ee=E.useRef({x:0,y:0}),[nn,dt]=E.useState({x:0,y:0}),rn=E.useRef(!1),st=p.length?e.find(D=>D.id===p[0]):null,Et=D=>{Ee.current=D,rn.current||(rn.current=!0,requestAnimationFrame(()=>{dt({...Ee.current}),rn.current=!1}))};E.useState("cursive"),E.useState(14);const[ht,Vt]=E.useState([]),[at,Qe]=E.useState([]);E.useState("left");const[xn,pn]=E.useState("left");E.useState("rectangle"),E.useState(0),E.useState("#ff0000"),E.useState(!1),E.useState(100),E.useState("#000000"),E.useState(1),E.useState(!1),E.useState("#ff0000"),E.useState(1),E.useState(!1),E.useState("none"),E.useState(1),E.useState("#ff0000"),ht.includes("bold"),ht.includes("italic"),ht.includes("underline");const Yr=[8,10,12,14,16,18,20,24,28,32],we=E.useRef(null),[ze,Wt]=E.useState(!1),[on,Vn]=E.useState({visible:!1,x:0,y:0,type:null}),Mn=()=>Vn({visible:!1,x:0,y:0,type:null}),Xr=D=>{if(ze){D.preventDefault();return}if(p.length){Vn({visible:!0,x:D.clientX,y:D.clientY,type:"node"});return}D.target.closest(".mindmap-node")?Vn({visible:!0,x:D.clientX,y:D.clientY,type:"node"}):Vn({visible:!0,x:D.clientX,y:D.clientY,type:"canvas"})},Un=()=>{Y({x:0,y:0}),ne.current={x:0,y:0},q(1),K.current=1,console.log("Reset pan/zoom"),Mn()};E.useEffect(()=>{const D=NW(Bl,F=>{F&&(S(F.email),N(F.uid))});return()=>D()},[]),E.useEffect(()=>{if(!t)return;const D=Wi($t($e,"mindMaps",t,"nodes")),F=qf(D,H=>{const z=H.docs.map(te=>({id:te.id,...te.data()}));n(z)});return()=>F()},[t]),E.useEffect(()=>{if(!t)return;const D=Wi($t($e,"mindMaps",t,"links")),F=qf(D,H=>{const z=H.docs.map(te=>({id:te.id,...te.data()}));i(z)});return()=>F()},[t]),E.useEffect(()=>{if(!t||!k)return;const D=zn($e,"mindMaps",t,"presence",k);BP(D,{email:v,lastActive:_y()},{merge:!0}).catch(console.error);const F=setInterval(()=>{BP(D,{lastActive:_y()},{merge:!0}).catch(console.error)},5e3);return()=>{clearInterval(F),cE(D).catch(console.error)}},[t,k,v]),E.useEffect(()=>{if(!t)return;const D=Wi($t($e,"mindMaps",t,"presence")),F=qf(D,H=>{const z=H.docs.map(te=>te.data());T(z)});return()=>F()},[t]),E.useEffect(()=>{if(!t||!k)return;const D=Zk(),F=Qk(D,`mindMaps/${t}/cursors/${k}`),H=Ie.current;if(!H)return;const z=Ug(ye=>{const Pe=H.getBoundingClientRect(),rt=ye.clientX-Pe.left,Ve=ye.clientY-Pe.top;A.current={x:rt,y:Ve},y({x:rt,y:Ve})},16);H.addEventListener("mousemove",z);const te=setInterval(()=>{document.hidden||HE(F,{...A.current,email:v,lastActive:Date.now(),uid:k}).catch(console.error)},200),se=()=>{document.hidden?F&&Jk(F).catch(console.error):HE(F,{...A.current,email:v,lastActive:Date.now(),uid:k}).catch(console.error)};return document.addEventListener("visibilitychange",se),()=>{H.removeEventListener("mousemove",z),z.cancel(),clearInterval(te),document.removeEventListener("visibilitychange",se),F&&Jk(F).catch(console.error)}},[t,k,v]),E.useEffect(()=>{if(!t)return;const D=Zk(),F=Qk(D,`mindMaps/${t}/cursors`),H=z=>{const te=z.val()||{},se=Object.entries(te).map(([ye,Pe])=>({uid:ye,...Pe}));$(se)};return uce(F,H,z=>{console.error("Error receiving remote cursor data:",z)}),()=>{dce(F,"value",H)}},[t]),E.useEffect(()=>{if(!Se.current)return;const D=Ug(F=>{const z=Se.current.getBoundingClientRect(),te=(F.clientX-z.left-j.x)/W,se=(F.clientY-z.top-j.y)/W;A.current={x:te,y:se},y({x:te,y:se})},16);return document.addEventListener("mousemove",D),()=>{document.removeEventListener("mousemove",D),D.cancel()}},[j,W]);const Qr=(D,F)=>{F.stopPropagation(),c?f?f===D.id?h(null):Pr($t($e,"mindMaps",t,"links"),{source:f,target:D.id}).then(()=>{h(null)}).catch(H=>{console.error("Error creating link:",H)}):h(D.id):F.ctrlKey||F.metaKey?m(H=>H.includes(D.id)?H.filter(z=>z!==D.id):[...H,D.id]):m([D.id])},Qt=D=>{let F={};D?F=D:p.forEach(z=>{const te=e.find(se=>se.id===z);te&&(F[z]={...te})});const H=JSON.parse(JSON.stringify(F));Object.keys(H).length>0&&(le(z=>[...z,H]),Oe([]))},lr=D=>{if(D){const F={[D.id]:{...D}};le(H=>[...H,F]),Oe([])}},fo=async()=>{if(be.length===0)return;const D=be[be.length-1];console.log("Undo snapshot:",D);const F={};Object.keys(D).forEach(z=>{const te=e.find(se=>se.id===z);te&&(F[z]={...te})}),Oe(z=>[...z,F]);const H=Es($e);Object.keys(D).forEach(z=>{const te=D[z],se=zn($e,"mindMaps",t,"nodes",z);te&&te.isNew?H.delete(se):te&&H.set(se,te,{merge:!0})});try{await H.commit(),console.log("Batch undo successful")}catch(z){console.error("Error during batch undo:",z)}n(z=>z.filter(te=>!(D[te.id]&&D[te.id].isNew))),le(z=>z.slice(0,z.length-1))},br=async()=>{if(ke.length===0)return;const D=ke[ke.length-1];console.log("Redo snapshot:",D);const F={};Object.keys(D).forEach(z=>{const te=e.find(se=>se.id===z);te&&(F[z]={...te})}),le(z=>[...z,F]);const H=Es($e);Object.keys(D).forEach(z=>{const te=zn($e,"mindMaps",t,"nodes",z);H.set(te,D[z],{merge:!0})});try{await H.commit(),console.log("Batch redo successful")}catch(z){console.error("Error during batch redo:",z)}n(z=>{const te=[...z];return Object.keys(D).forEach(se=>{const ye=te.findIndex(Pe=>Pe.id===se);ye===-1?te.push({id:se,...D[se]}):te[ye]={...te[ye],...D[se]}}),te}),Oe(z=>z.slice(0,z.length-1))},Lo=(D,F)=>{if(F.button!==0)return;lr(D),F.stopPropagation(),F.preventDefault();const H=F.clientX,z=F.clientY,te=D.width||mo,se=D.height||Br;let ye=te,Pe=se;const rt=Ue=>{const vt=Ue.clientX-H,It=Ue.clientY-z;ye=Math.max(50,te+vt/W),Pe=Math.max(20,se+It/W),n(sn=>sn.map(qe=>qe.id===D.id?{...qe,width:ye,height:Pe}:qe))},Ve=async()=>{document.removeEventListener("mousemove",rt),document.removeEventListener("mouseup",Ve);try{const Ue=zn($e,"mindMaps",t,"nodes",D.id);await Mc(Ue,{width:ye,height:Pe})}catch(Ue){console.error("Error updating node size:",Ue)}};document.addEventListener("mousemove",rt),document.addEventListener("mouseup",Ve)},pe=()=>{q(D=>{const F=Math.min(L2,D+F2);return K.current=F,F})},_e=()=>{q(D=>{const F=Math.max(tRe,D-F2);return K.current=F,F})};E.useEffect(()=>{const D=Se.current,F=Ie.current;if(!D||!F)return;const H=Ug(z=>{let te=z.shiftKey?1.15:1.05;z.preventDefault();const se=D.getBoundingClientRect(),ye=z.clientX-se.left,Pe=z.clientY-se.top,rt=K.current;let Ve;z.deltaY<0?Ve=Math.min(L2,rt*te):Ve=rt/te;const Ue={x:(ye-ne.current.x)/rt,y:(Pe-ne.current.y)/rt},vt={x:ye-Ue.x*Ve,y:Pe-Ue.y*Ve};q(Ve),Y(vt),K.current=Ve,ne.current=vt},8);return D.addEventListener("wheel",H,{passive:!1}),()=>{D.removeEventListener("wheel",H),H.cancel()}},[W,j]);const Ne=D=>{D.preventDefault()},tt=D=>{if(D.button!==2)return;D.preventDefault(),console.log("Right-click detected"),U.current={...j},we.current={x:D.clientX,y:D.clientY},B.current={x:D.clientX,y:D.clientY};const H=Ug(z=>{const te=z.clientX-B.current.x,se=z.clientY-B.current.y;Math.sqrt(te*te+se*se)>15&&Wt(!0),requestAnimationFrame(()=>{const Pe=z.clientX-B.current.x,rt=z.clientY-B.current.y,Ve=U.current.x+Pe,Ue=U.current.y+rt;Y({x:Ve,y:Ue}),ne.current={x:Ve,y:Ue}})},8);document.addEventListener("mousemove",H),document.addEventListener("mouseup",function z(){document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",z),H.cancel()})},Tt=async()=>{if(t)try{const D=ne.current,F=K.current,H=Se.current.getBoundingClientRect(),z=250,te=50,se=H.width-z,ye=H.height-te,Pe=se/2,rt=ye/2,Ve=(Pe-D.x)/F,Ue=(rt-D.y)/F;await Pr($t($e,"mindMaps",t,"nodes"),{text:"New Node",x:Ve,y:Ue,width:mo,height:Br,lockedBy:null,typing:!1})}catch(D){console.error("Error adding node:",D)}},Sn=async()=>{if(t)try{const D=R.x,F=R.y;await Pr($t($e,"mindMaps",t,"nodes"),{text:"New Node",x:D-mo/2,y:F-Br/2,width:mo,height:Br,lockedBy:null,typing:!1})}catch(D){console.error("Error adding node:",D)}},Lr=D=>{if(c||D.type==="image")return;if(D.lockedBy&&D.lockedBy!==v){alert(`Node is currently locked by ${D.lockedBy}`);return}const F=zn($e,"mindMaps",t,"nodes",D.id);Mc(F,{lockedBy:v,typing:!0}).catch(console.error),s(D.id),l(D.text)},_i=async D=>{try{p.includes(D),Qt();const F=zn($e,"mindMaps",t,"nodes",D);await Mc(F,{text:a,lockedBy:null,typing:!1}),s(null),l("")}catch(F){console.error("Error updating node text:",F)}},cr=D=>{const F=zn($e,"mindMaps",t,"nodes",D);Mc(F,{typing:!0}).catch(console.error)};E.useEffect(()=>{const D=F=>{if(!(document.activeElement.tagName==="INPUT"||document.activeElement.tagName==="TEXTAREA")){if(F.ctrlKey&&F.key.toLowerCase()==="d"&&(F.preventDefault(),(async()=>{if(p.length>0){const z={};await Promise.all(p.map(async te=>{const se=e.find(ye=>ye.id===te);if(se){const ye={x:se.x+50,y:se.y+50},Pe=await Fo(se,ye);Pe&&(z[Pe]={id:Pe,isNew:!0})}})),console.log("Control-D group undo snapshot:",z),Object.keys(z).length>0&&Qt(z)}})()),!o&&p.length>0&&(F.key==="Backspace"||F.key==="Delete")&&(F.preventDefault(),window.confirm("Are you sure you want to delete the selected nodes?"))){Qt();for(const H of p){const z=zn($e,"mindMaps",t,"nodes",H),te=e.find(se=>se.id===H);if((te==null?void 0:te.type)==="image"&&te.storagePath){const se=ib(ob,te.storagePath);try{aK(se),console.log(`Deleted image from storage at ${te.storagePath}`)}catch(ye){console.error("Error deleting image from storage:",ye)}}cE(z).catch(console.error)}n(H=>H.filter(z=>!p.includes(z.id))),m([])}F.ctrlKey&&F.key.toLowerCase()==="z"&&(console.log("undo"),F.preventDefault(),fo()),F.ctrlKey&&F.key.toLowerCase()==="y"&&(F.preventDefault(),br())}};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[e,p,be,ke]);const gn=D=>{if(ut||D.button!==0)return;const F=Se.current.getBoundingClientRect();w(D.ctrlKey||D.metaKey);const H=(D.clientX-F.left-j.x)/W,z=(D.clientY-F.top-j.y)/W;x({startX:H,startY:z,x:H,y:z,width:0,height:0})},Cn=D=>{if(!b||ut)return;const F=Se.current.getBoundingClientRect(),H=(D.clientX-F.left-j.x)/W,z=(D.clientY-F.top-j.y)/W,te=Math.min(b.startX,H),se=Math.min(b.startY,z),ye=Math.abs(H-b.startX),Pe=Math.abs(z-b.startY);x({...b,x:te,y:se,width:ye,height:Pe})},ur=D=>{if(!b)return;const F=e.filter(H=>{const z=H.width||mo,te=H.height||Br;return H.x>=b.x&&H.x+z<=b.x+b.width&&H.y>=b.y&&H.y+te<=b.y+b.height}).map(H=>H.id);m(_?H=>{const z=[...H];return F.forEach(te=>{z.includes(te)?z.splice(z.indexOf(te),1):z.push(te)}),z}:F),x(null)},Fo=async(D,F)=>{if(!t)return null;const{id:H,...z}=D;let te;try{te=(await Pr($t($e,"mindMaps",t,"nodes"),{...z,x:F.x,y:F.y,lockedBy:null,typing:!1})).id,console.log("Duplicated node with new id:",te);const ye=Wi($t($e,"mindMaps",t,"links"),ws("source","==",H)),Pe=await yl(ye);for(const Ue of Pe.docs){const vt=Ue.data();await Pr($t($e,"mindMaps",t,"links"),{...vt,source:te})}const rt=Wi($t($e,"mindMaps",t,"links"),ws("target","==",H)),Ve=await yl(rt);for(const Ue of Ve.docs){const vt=Ue.data();await Pr($t($e,"mindMaps",t,"links"),{...vt,target:te})}}catch(se){return console.error("Error duplicating node and links:",se),null}return te},J=async(D,F,H=null)=>{if(!t)return null;const{id:z,...te}=D;let se;try{se=(await Pr($t($e,"mindMaps",t,"nodes"),{...te,x:F.x,y:F.y,lockedBy:null,typing:!1})).id,console.log("Duplicated node with new id:",se);const Pe=Wi($t($e,"mindMaps",t,"links"),ws("source","==",z)),rt=await yl(Pe);for(const vt of rt.docs){const It=vt.data(),sn=H&&H[It.target]?H[It.target]:null;sn&&await Pr($t($e,"mindMaps",t,"links"),{...It,source:se,target:sn})}const Ve=Wi($t($e,"mindMaps",t,"links"),ws("target","==",z)),Ue=await yl(Ve);for(const vt of Ue.docs){const It=vt.data(),sn=H&&H[It.source]?H[It.source]:null;sn&&await Pr($t($e,"mindMaps",t,"links"),{...It,source:sn,target:se})}}catch(ye){return console.error("Error duplicating node and links:",ye),null}return se},X=D=>{D.preventDefault()},he=async D=>{D.preventDefault();const F=D.dataTransfer.files;if(!F||F.length===0)return;const H=F[0],z=Se.current.getBoundingClientRect(),te=ne.current,se=K.current,ye=(D.clientX-z.left-te.x)/se,Pe=(D.clientY-z.top-te.y)/se,rt={};if(H.type==="application/json"||H.name.endsWith(".json"))try{const Ve=await H.text(),Ue=JSON.parse(Ve);if(!Ue.nodes||!Ue.links)throw new Error("Invalid file format");let vt=1/0,It=1/0,sn=-1/0,qe=-1/0;Ue.nodes.forEach(Tn=>{Tn.x<vt&&(vt=Tn.x),Tn.y<It&&(It=Tn.y),Tn.x>sn&&(sn=Tn.x),Tn.y>qe&&(qe=Tn.y)});const Dn=(vt+sn)/2,wr=(It+qe)/2,bi=ye-Dn,oa=Pe-wr,ho={},sa=Es($e);Ue.nodes.forEach(Tn=>{const Uo=Tn.id,Jr=zn($t($e,"mindMaps",t,"nodes")),Gp={...Tn,x:Tn.x+bi,y:Tn.y+oa,id:Jr.id};sa.set(Jr,Gp),ho[Uo]=Jr.id,rt[Jr.id]={id:Jr.id,isNew:!0}}),await sa.commit();const Ht=Es($e);Ue.links.forEach(Tn=>{const Uo=ho[Tn.source],Jr=ho[Tn.target];if(!Uo||!Jr){console.error("Skipping link: missing mapping for source or target");return}const{id:Gp,...qp}=Tn,u_=zn($t($e,"mindMaps",t,"links"));Ht.set(u_,{...qp,source:Uo,target:Jr})}),await Ht.commit(),console.log("Imported mind map JSON file at cursor position using batch writes.")}catch(Ve){console.error("Error importing mind map:",Ve)}else if(H.type.startsWith("image/"))try{const Ve=Date.now(),Ue=H.name||"pastedImage.png",vt=`images/${Ve}_${Ue}`,It=ib(ob,vt);await HP(It,H);const sn=await GP(It);await Pr($t($e,"mindMaps",t,"nodes"),{type:"image",imageUrl:sn,storagePath:vt,x:ye-60/K.current*.5,y:Pe-Br/K.current*.5,width:60/K.current,height:Br/K.current,lockedBy:null,typing:!1}).then(qe=>{qe&&(rt[qe.id]={id:qe.id,isNew:!0})})}catch(Ve){console.error("Error uploading image:",Ve)}Object.keys(rt).length>0&&Qt(rt)},We=async D=>{if(!o&&p.length>0){const F=e.filter(z=>p.includes(z.id)),H=JSON.stringify(F);if(D.clipboardData)D.clipboardData.setData("application/json",H),D.clipboardData.setData("text/plain",H),D.preventDefault(),console.log("Copied nodes to clipboard:",F);else if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(H),console.log("Copied nodes to clipboard via navigator.clipboard:",F)}catch(z){console.error("Failed to copy nodes:",z)}else console.error("Clipboard API not available.")}};E.useEffect(()=>(document.addEventListener("copy",We),()=>document.removeEventListener("copy",We)),[p,e]);const nt=async()=>{if(!o)try{Mn();let D={},F=null,H=!1;if(navigator.clipboard.read){const z=await navigator.clipboard.read();for(const te of z)for(const se of te.types)if(se.startsWith("image/")){H=!0;const ye=await te.getType(se);try{const Pe=Date.now(),rt=ye.name||"pastedImage.png",Ve=`images/${Pe}_${rt}`,Ue=ib(ob,Ve);await HP(Ue,ye);const vt=await GP(Ue),It=R.x,sn=R.y,qe=await Pr($t($e,"mindMaps",t,"nodes"),{type:"image",imageUrl:vt,storagePath:Ve,x:It-60/K.current*.5,y:sn-Br/K.current*.5,width:60/K.current,height:Br/K.current,lockedBy:null,typing:!1});qe&&(D[qe.id]={id:qe.id,isNew:!0})}catch(Pe){console.error("Error uploading pasted image:",Pe)}break}if(!H){const se=(await navigator.clipboard.readText()).trim();if(se.startsWith("{")||se.startsWith("["))try{F=JSON.parse(se),Array.isArray(F)||(F=[F])}catch(ye){console.error("Error parsing JSON, falling back to plain text:",ye),F=null}}}else{const z=await navigator.clipboard.readText();try{F=JSON.parse(z),Array.isArray(F)||(F=[F])}catch{F=null}}if(F){const z=R.x,te=R.y;if(F.length===1){const se=F[0],ye=se.width||mo,Pe=se.height||Br,rt=se.x+ye/2,Ve=se.y+Pe/2,Ue=z-rt,vt=te-Ve,It=await Fo(se,{x:se.x+Ue,y:se.y+vt});It&&(D[It]={id:It,isNew:!0})}else{let se=1/0,ye=1/0,Pe=-1/0,rt=-1/0;F.forEach(qe=>{qe.x<se&&(se=qe.x),qe.y<ye&&(ye=qe.y),qe.x>Pe&&(Pe=qe.x),qe.y>rt&&(rt=qe.y)});const Ve=(se+Pe)/2,Ue=(ye+rt)/2,vt=z-Ve,It=te-Ue,sn={};await Promise.all(F.map(async qe=>{const Dn={x:qe.x+vt,y:qe.y+It},wr=await J(qe,Dn,{});wr&&(sn[qe.id]=wr,D[wr]={id:wr,isNew:!0})})),await Promise.all(F.map(async qe=>{const Dn=sn[qe.id];if(!Dn)return;const wr=Wi($t($e,"mindMaps",t,"links"),ws("source","==",qe.id)),bi=await yl(wr);for(const oa of bi.docs){const ho=oa.data(),sa=sn[ho.target];sa&&await Pr($t($e,"mindMaps",t,"links"),{...ho,source:Dn,target:sa})}}))}}else{const z=await navigator.clipboard.readText();if(z.trim()!==""){const te=R.x,se=R.y;try{const ye=await Pr($t($e,"mindMaps",t,"nodes"),{type:"text",text:z,x:te-mo/K.current*.5,y:se-Br/K.current*.5,width:mo/K.current,height:Br/K.current,fontSize:Math.floor(14/K.current*.5),lockedBy:null,typing:!1});ye&&(D[ye.id]={id:ye.id,isNew:!0})}catch(ye){console.error("Error creating text node from pasted text:",ye)}}}Object.keys(D).length>0&&Qt(D)}catch(D){console.error("Error handling paste via context menu:",D)}};E.useEffect(()=>(window.addEventListener("paste",nt),()=>window.removeEventListener("paste",nt)),[t,R,ne,K,Se,J,Qt]);const kt=async()=>{if(!p.length)return;Qt();const D={};if(st&&(st.bgColor!==me&&(D.bgColor=me),st.textColor!==Re&&(D.textColor=Re),st.fontSize!==At&&(D.fontSize=At),JSON.stringify(st.textStyle)!==JSON.stringify(at)&&(D.textStyle=at),st.textAlign!==xn&&(D.textAlign=xn),st.fontFamily!==Fe&&(D.fontFamily=Fe)),Object.keys(D).length===0)return;const F=Es($e);p.forEach(H=>{const z=zn($e,"mindMaps",t,"nodes",H);F.update(z,D)});try{await F.commit(),n(H=>H.map(z=>p.includes(z.id)?{...z,...D}:z))}catch(H){console.error("Error updating nodes:",H)}},Jt=async()=>{if(!(!p||p.length===0))try{const D=Es($e);for(const F of p){const H=Wi($t($e,"mindMaps",t,"links"),ws("source","==",F));(await yl(H)).docs.forEach(ye=>{const Pe=zn($e,"mindMaps",t,"links",ye.id);D.delete(Pe)});const te=Wi($t($e,"mindMaps",t,"links"),ws("target","==",F));(await yl(te)).docs.forEach(ye=>{const Pe=zn($e,"mindMaps",t,"links",ye.id);D.delete(Pe)})}await D.commit(),console.log("All links removed from the selected nodes.")}catch(D){console.error("Error removing links:",D)}};E.useEffect(()=>{st&&(De(st.bgColor||"#1e1e1e"),ct(st.textColor||"#fff"),ue(st.fontSize||"14"),Qe(st.textStyle||[]),pn(st.textAlign||"left"),Be(st.fontFamily||"cursive"))},[st]);const dr=()=>{const F=JSON.stringify({nodes:e,links:r},null,2),H=new Blob([F],{type:"application/json"}),z=URL.createObjectURL(H),te=document.createElement("a");te.href=z,te.download=`mindmap_${t}.json`,te.click(),URL.revokeObjectURL(z)},ia=D=>fe===D.id||p.includes(D.id),Ld=E.useMemo(()=>r.map(D=>{const F=e.find(vt=>vt.id===D.source),H=e.find(vt=>vt.id===D.target);if(!F||!H)return null;const z=F.width||mo,te=F.height||Br,se=H.width||mo,ye=H.height||Br,Pe=F.x+z/2,rt=F.y+te/2,Ve=H.x+se/2,Ue=H.y+ye/2;return M.jsx("line",{x1:Pe,y1:rt,x2:Ve,y2:Ue,stroke:"#fff",strokeWidth:"2"},D.id)}),[r,e]),Bo=()=>{const D=Date.now(),F=500;return P.filter(H=>H.uid!==k&&D-H.lastActive<F).map(H=>{const z=H.x*W+j.x,te=H.y*W+j.y;return M.jsx("div",{style:{position:"absolute",top:te,left:z,transform:"translate(-50%, -50%)",transition:"top 0.35s ease, left 0.35s ease",backgroundColor:"blue",color:"#fff",padding:"2px 4px",borderRadius:"4px",fontSize:"10px",pointerEvents:"none",zIndex:150},children:H.email},H.uid)})};E.useEffect(()=>{if(st&&(st.bgColor!==me||st.textColor!==Re||st.fontSize!==At||JSON.stringify(st.textStyle)!==JSON.stringify(at)||st.textAlign!==xn||st.fontFamily!==Fe)){const D=setTimeout(()=>{kt()},300);return()=>clearTimeout(D)}},[me,Re,At,at,xn,Fe,st]);const ps=vv(),Vo=()=>!on.visible||ze?null:M.jsxs("div",{style:{position:"fixed",top:on.y,left:on.x,backgroundColor:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px",padding:"5px",zIndex:1e3,minWidth:"120px"},onContextMenu:D=>D.preventDefault(),children:[on.type==="canvas"&&M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"context-menu-item",style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:D=>{nt()},children:"Paste"}),M.jsx("div",{className:"context-menu-item",style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:Un,children:"Reset"})]}),on.type==="node"&&M.jsx("div",{className:"context-menu-item",onMouseDown:D=>{We(D)},children:"Copy"})]});return E.useEffect(()=>{const D=()=>{on.visible&&Mn()};return document.addEventListener("click",D),()=>document.removeEventListener("click",D)},[on.visible]),M.jsxs("div",{style:{position:"relative",height:"100vh",backgroundColor:"#121212",userSelect:"none",cursor:ut||ze?"grabbing":"unset"},ref:Se,onContextMenu:D=>D.preventDefault(),onMouseDown:D=>{if(D.target===Se.current){if(gn(D),D.button!==2)return;tt(D)}},onDoubleClick:D=>{D.target===Se.current&&Sn()},onMouseMove:D=>{Cn(D)},onMouseUp:D=>{ur(),D.button===2&&(we.current=null,Xr(D),ze&&(setTimeout(()=>Wt(!1),0),Mn()))},onDragOver:X,onDrop:he,children:[Bo(),M.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,height:"50px",backgroundColor:"#333",display:"flex",alignItems:"center",padding:"0 10px",zIndex:300},children:[M.jsx(Kn,{variant:"contained",onClick:()=>ps("/dashboard"),style:{marginRight:"10px"},children:M.jsx(eRe,{})}),M.jsx(Kn,{variant:"contained",onClick:Tt,style:{marginRight:"10px"},children:"Add Node"}),M.jsx(Kn,{variant:"contained",onClick:()=>{u(D=>!D),h(null)},style:{marginRight:"10px"},children:c?"Exit Linking Mode":"Link Nodes"}),M.jsx(Kn,{variant:"contained",onClick:dr,style:{marginRight:"10px"},children:"Export"}),M.jsx(Kn,{variant:"contained",onClick:pe,style:{marginRight:"10px"},children:"Zoom In"}),M.jsx(Kn,{variant:"contained",onClick:_e,children:"Zoom Out"}),c&&M.jsx(Xi,{variant:"body2",style:{color:"#fff",marginLeft:"10px"},children:f?"Select target node...":"Select source node..."})]}),M.jsx("div",{style:{position:"fixed",top:50,right:0,width:"250px",height:"calc(100% - 50px)",backgroundColor:"#333",padding:"20px",boxSizing:"border-box",zIndex:300,overflowY:"auto"},onClick:D=>D.stopPropagation(),onMouseDown:D=>D.stopPropagation(),children:st?M.jsxs(M.Fragment,{children:[M.jsx(Xi,{variant:"h6",style:{marginBottom:"5px",color:"#fff",fontWeight:"bold"},children:"Font"}),M.jsxs(Ra,{display:"flex",alignItems:"center",gap:1,children:[M.jsxs(qS,{variant:"filled",size:"small",sx:{minWidth:120},style:{marginBottom:"10px"},children:[M.jsx(KS,{style:{color:"#fff"},children:"Font"}),M.jsxs(QS,{value:Fe,onChange:D=>Be(D.target.value),style:{color:"#fff",backgroundColor:"#444",width:"100%"},children:[M.jsx(xa,{value:"cursive",children:"Cursive"}),M.jsx(xa,{value:"Microsoft Yahei",children:"Microsoft Yahei"}),M.jsx(xa,{value:"Arial",children:"Arial"}),M.jsx(xa,{value:"Times New Roman",children:"Times New Roman"}),M.jsx(xa,{value:"Courier New",children:"Courier New"})]})]}),M.jsx(qte,{freeSolo:!0,options:Yr,getOptionLabel:D=>D.toString(),value:At,onChange:(D,F)=>{let H;typeof F=="number"?H=F:typeof F=="string"&&F.trim()!==""&&(H=parseInt(F,10)),isNaN(H)||ue(H)},onInputChange:(D,F)=>{const H=parseInt(F,10);isNaN(H)||ue(H)},sx:{width:10,"& .MuiInputBase-root":{backgroundColor:"#444",color:"#fff"},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiAutocomplete-popupIndicator":{color:"#fff"}},renderInput:D=>M.jsx(Vh,{...D,label:"Font Size",variant:"filled",InputLabelProps:{style:{color:"#fff"}}}),style:{marginBottom:"10px",background:"#444",color:"white",width:"40%"}})]}),M.jsxs(hk,{value:at,onChange:(D,F)=>{Qe(F)},"aria-label":"text style",size:"small",children:[M.jsx(Pc,{value:"bold","aria-label":"bold",children:M.jsx(KIe,{})}),M.jsx(Pc,{value:"italic","aria-label":"italic",children:M.jsx(YIe,{})}),M.jsx(Pc,{value:"underline","aria-label":"underline",children:M.jsx(XIe,{})})]}),M.jsxs(hk,{value:xn,exclusive:!0,onChange:(D,F)=>{F!==null&&pn(F)},"aria-label":"text alignment",size:"small",children:[M.jsx(Pc,{value:"left","aria-label":"left",children:M.jsx(QIe,{})}),M.jsx(Pc,{value:"center","aria-label":"center",children:M.jsx(JIe,{})}),M.jsx(Pc,{value:"right","aria-label":"right",children:M.jsx(ZIe,{})})]}),M.jsx(Xi,{variant:"h6",style:{marginBottom:"5px",color:"#fff",fontWeight:"bold",borderTop:"1px solid #fff",paddingTop:"10px"},children:"Topic"}),M.jsxs(Ra,{display:"flex",alignItems:"center",gap:1,children:[M.jsxs(Ra,{component:"span",sx:{color:"#fff",fontSize:"0.9rem"},children:["Background:",M.jsx("input",{type:"color",value:me,onChange:D=>De(D.target.value),style:{width:64,height:32,border:"none",background:"transparent",padding:0}})]}),M.jsxs(Ra,{component:"span",sx:{color:"#fff",fontSize:"0.9rem"},children:["Font Color:",M.jsx("input",{type:"color",value:Re,onChange:D=>ct(D.target.value),style:{width:64,height:32,border:"none",background:"transparent",padding:0}})]})]}),M.jsx(Kn,{variant:"contained",onClick:Jt,style:{marginRight:"10px",backgroundColor:"red",marginTop:"200%"},children:"Remove All Links"})]}):M.jsx(Xi,{variant:"caption",style:{color:"#fff"},children:"Select a node to customize..."})}),M.jsxs("div",{style:{position:"fixed",top:60,right:270,backgroundColor:"rgba(0,0,0,0.7)",color:"#fff",padding:"8px",borderRadius:"4px",zIndex:250},children:[M.jsx(Xi,{variant:"caption",children:"Active Users:"}),I.map((D,F)=>M.jsx("div",{children:M.jsx(Xi,{variant:"caption",children:D.email})},F))]}),Bo(),M.jsxs("div",{ref:Ie,onContextMenu:Ne,onMouseDown:tt,onClick:D=>{D.target===Ie.current&&m([])},style:{position:"absolute",top:0,left:0,width:".1px",height:".1px",overflow:"visible",transform:`translate(${j.x}px, ${j.y}px) scale(${W})`,transformOrigin:"top left"},children:[M.jsx("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",overflow:"visible"},children:Ld}),e.map(D=>M.jsx(cue,{node:D,zoom:K.current,groupDelta:nn,isHighlighted:ia(D),currentUserEmail:v,selectedNodes:p,editingNodeId:o,editedText:a,handleResizeMouseDown:Lo,handleNodeClick:Qr,handleDoubleClick:Lr,handleTyping:cr,handleTextBlur:_i,setEditedText:l,setHoveredNodeId:ge,linkingSource:f,hoveredNodeId:fe,onStart:(F,H)=>{if(o===D.id)return!1;Ye(!0);const z=Se.current.getBoundingClientRect(),te=(F.clientX-z.left-ne.current.x)/K.current,se=(F.clientY-z.top-ne.current.y)/K.current,ye=te-D.x,Pe=se-D.y;Ke.current={offsetX:ye,offsetY:Pe,initialX:D.x,initialY:D.y},p.length>1&&p.includes(D.id)&&Object.keys(Me.current).length===0&&p.forEach(rt=>{const Ve=e.find(Ue=>Ue.id===rt);Ve&&(Me.current[rt]={x:Ve.x,y:Ve.y})})},onDrag:(F,H)=>{const z=Se.current.getBoundingClientRect(),te=(F.clientX-z.left-ne.current.x)/K.current,se=(F.clientY-z.top-ne.current.y)/K.current,ye=te-Ke.current.offsetX,Pe=se-Ke.current.offsetY;p.length>1&&p.includes(D.id)?Et({x:ye-Ke.current.initialX,y:Pe-Ke.current.initialY}):n(rt=>rt.map(Ve=>Ve.id===D.id?{...Ve,x:ye,y:Pe}:Ve))},onStop:async(F,H)=>{const z=Se.current.getBoundingClientRect(),te=(F.clientX-z.left-ne.current.x)/K.current,se=(F.clientY-z.top-ne.current.y)/K.current,ye=te-Ke.current.offsetX,Pe=se-Ke.current.offsetY;if(Math.sqrt(Math.pow(ye-Ke.current.initialX,2)+Math.pow(Pe-Ke.current.initialY,2))<.01){Ye(!1);return}if(p.length>1&&p.includes(D.id)){const Ue=ye-Ke.current.initialX,vt=Pe-Ke.current.initialY,It={};p.forEach(qe=>{const Dn=Me.current[qe];Dn&&(It[qe]={x:Dn.x+Ue,y:Dn.y+vt})}),n(qe=>qe.map(Dn=>p.includes(Dn.id)&&It[Dn.id]?{...Dn,x:It[Dn.id].x,y:It[Dn.id].y}:Dn));const sn=Es($e);p.forEach(qe=>{if(It[qe]){const Dn=zn($e,"mindMaps",t,"nodes",qe);sn.update(Dn,{x:It[qe].x,y:It[qe].y})}});try{await sn.commit(),console.log("Batch update successful")}catch(qe){console.error("Error updating nodes in batch:",qe)}Me.current={},dt({x:0,y:0})}else{n(Ue=>Ue.map(vt=>vt.id===D.id?{...vt,x:ye,y:Pe}:vt));try{const Ue=zn($e,"mindMaps",t,"nodes",D.id);await Mc(Ue,{x:ye,y:Pe}),console.log("Updated node:",D.id,ye,Pe)}catch(Ue){console.error("Error updating node position:",Ue)}}p.length>0?Qt():lr(D),Ye(!1)}},D.id)),b&&(()=>{const D=(b.width+b.height)/2,F=Math.max(1,D*.02);return M.jsx("svg",{style:{position:"absolute",left:b.x,top:b.y,width:b.width,height:b.height,pointerEvents:"none",zIndex:500},children:M.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"rgba(128,128,128,0.1)",stroke:"white",strokeWidth:F})})})()]}),M.jsx(Vo,{})]})};function rRe(){return M.jsxs(gj,{children:[M.jsx(am,{path:"/",element:M.jsx(Goe,{})}),M.jsx(am,{path:"/dashboard",element:M.jsx(Qoe,{})}),M.jsx(am,{path:"/editor/:id",element:M.jsx(nRe,{})})]})}Fb.createRoot(document.getElementById("root")).render(M.jsx(Bj,{children:M.jsx(rRe,{})}))});export default iRe();
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}