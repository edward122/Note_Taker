var Oj=Object.defineProperty;var Nj=(t,e,n)=>e in t?Oj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Dj=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Hh=(t,e,n)=>Nj(t,typeof e!="symbol"?e+"":e,n);var qTe=Dj((to,no)=>{function $j(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var tl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Lj(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var jO={exports:{}},p0={},VO={exports:{}},Ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg=Symbol.for("react.element"),Fj=Symbol.for("react.portal"),Bj=Symbol.for("react.fragment"),jj=Symbol.for("react.strict_mode"),Vj=Symbol.for("react.profiler"),Uj=Symbol.for("react.provider"),zj=Symbol.for("react.context"),Wj=Symbol.for("react.forward_ref"),Hj=Symbol.for("react.suspense"),Gj=Symbol.for("react.memo"),Kj=Symbol.for("react.lazy"),eR=Symbol.iterator;function qj(t){return t===null||typeof t!="object"?null:(t=eR&&t[eR]||t["@@iterator"],typeof t=="function"?t:null)}var UO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zO=Object.assign,WO={};function Qd(t,e,n){this.props=t,this.context=e,this.refs=WO,this.updater=n||UO}Qd.prototype.isReactComponent={};Qd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HO(){}HO.prototype=Qd.prototype;function IS(t,e,n){this.props=t,this.context=e,this.refs=WO,this.updater=n||UO}var RS=IS.prototype=new HO;RS.constructor=IS;zO(RS,Qd.prototype);RS.isPureReactComponent=!0;var tR=Array.isArray,GO=Object.prototype.hasOwnProperty,kS={current:null},KO={key:!0,ref:!0,__self:!0,__source:!0};function qO(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)GO.call(e,r)&&!KO.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:eg,type:t,key:o,ref:s,props:i,_owner:kS.current}}function Yj(t,e){return{$$typeof:eg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function PS(t){return typeof t=="object"&&t!==null&&t.$$typeof===eg}function Xj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nR=/\/+/g;function Ob(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Xj(""+t.key):e.toString(36)}function sy(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case eg:case Fj:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Ob(s,0):r,tR(i)?(n="",t!=null&&(n=t.replace(nR,"$&/")+"/"),sy(i,e,n,"",function(c){return c})):i!=null&&(PS(i)&&(i=Yj(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(nR,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",tR(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Ob(o,a);s+=sy(o,e,n,l,i)}else if(l=qj(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Ob(o,a++),s+=sy(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function fm(t,e,n){if(t==null)return t;var r=[],i=0;return sy(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Qj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pi={current:null},ay={transition:null},Jj={ReactCurrentDispatcher:pi,ReactCurrentBatchConfig:ay,ReactCurrentOwner:kS};Ft.Children={map:fm,forEach:function(t,e,n){fm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fm(t,function(){e++}),e},toArray:function(t){return fm(t,function(e){return e})||[]},only:function(t){if(!PS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ft.Component=Qd;Ft.Fragment=Bj;Ft.Profiler=Vj;Ft.PureComponent=IS;Ft.StrictMode=jj;Ft.Suspense=Hj;Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jj;Ft.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zO({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=kS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)GO.call(e,l)&&!KO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:eg,type:t.type,key:i,ref:o,props:r,_owner:s}};Ft.createContext=function(t){return t={$$typeof:zj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Uj,_context:t},t.Consumer=t};Ft.createElement=qO;Ft.createFactory=function(t){var e=qO.bind(null,t);return e.type=t,e};Ft.createRef=function(){return{current:null}};Ft.forwardRef=function(t){return{$$typeof:Wj,render:t}};Ft.isValidElement=PS;Ft.lazy=function(t){return{$$typeof:Kj,_payload:{_status:-1,_result:t},_init:Qj}};Ft.memo=function(t,e){return{$$typeof:Gj,type:t,compare:e===void 0?null:e}};Ft.startTransition=function(t){var e=ay.transition;ay.transition={};try{t()}finally{ay.transition=e}};Ft.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ft.useCallback=function(t,e){return pi.current.useCallback(t,e)};Ft.useContext=function(t){return pi.current.useContext(t)};Ft.useDebugValue=function(){};Ft.useDeferredValue=function(t){return pi.current.useDeferredValue(t)};Ft.useEffect=function(t,e){return pi.current.useEffect(t,e)};Ft.useId=function(){return pi.current.useId()};Ft.useImperativeHandle=function(t,e,n){return pi.current.useImperativeHandle(t,e,n)};Ft.useInsertionEffect=function(t,e){return pi.current.useInsertionEffect(t,e)};Ft.useLayoutEffect=function(t,e){return pi.current.useLayoutEffect(t,e)};Ft.useMemo=function(t,e){return pi.current.useMemo(t,e)};Ft.useReducer=function(t,e,n){return pi.current.useReducer(t,e,n)};Ft.useRef=function(t){return pi.current.useRef(t)};Ft.useState=function(t){return pi.current.useState(t)};Ft.useSyncExternalStore=function(t,e,n){return pi.current.useSyncExternalStore(t,e,n)};Ft.useTransition=function(){return pi.current.useTransition()};Ft.version="18.2.0";VO.exports=Ft;var g=VO.exports;const B=Zp(g),By=$j({__proto__:null,default:B},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zj=g,eV=Symbol.for("react.element"),tV=Symbol.for("react.fragment"),nV=Object.prototype.hasOwnProperty,rV=Zj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iV={key:!0,ref:!0,__self:!0,__source:!0};function YO(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)nV.call(e,r)&&!iV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:eV,type:t,key:o,ref:s,props:i,_owner:rV.current}}p0.Fragment=tV;p0.jsx=YO;p0.jsxs=YO;jO.exports=p0;var I=jO.exports,Zw={},XO={exports:{}},uo={},QO={exports:{}},JO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,j){var z=U.length;U.push(j);e:for(;0<z;){var q=z-1>>>1,H=U[q];if(0<i(H,j))U[q]=j,U[z]=H,z=q;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var j=U[0],z=U.pop();if(z!==j){U[0]=z;e:for(var q=0,H=U.length,W=H>>>1;q<W;){var ae=2*(q+1)-1,oe=U[ae],ve=ae+1,ke=U[ve];if(0>i(oe,z))ve<H&&0>i(ke,oe)?(U[q]=ke,U[ve]=z,q=ve):(U[q]=oe,U[ae]=z,q=ae);else if(ve<H&&0>i(ke,z))U[q]=ke,U[ve]=z,q=ve;else break e}}return j}function i(U,j){var z=U.sortIndex-j.sortIndex;return z!==0?z:U.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,m=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(U){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=U)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function C(U){if(x=!1,b(U),!m)if(n(l)!==null)m=!0,Z(N);else{var j=n(c);j!==null&&ce(C,j.startTime-U)}}function N(U,j){m=!1,x&&(x=!1,_(k),k=-1),p=!0;var z=f;try{for(b(j),h=n(l);h!==null&&(!(h.expirationTime>j)||U&&!P());){var q=h.callback;if(typeof q=="function"){h.callback=null,f=h.priorityLevel;var H=q(h.expirationTime<=j);j=t.unstable_now(),typeof H=="function"?h.callback=H:h===n(l)&&r(l),b(j)}else r(l);h=n(l)}if(h!==null)var W=!0;else{var ae=n(c);ae!==null&&ce(C,ae.startTime-j),W=!1}return W}finally{h=null,f=z,p=!1}}var $=!1,E=null,k=-1,M=5,v=-1;function P(){return!(t.unstable_now()-v<M)}function D(){if(E!==null){var U=t.unstable_now();v=U;var j=!0;try{j=E(!0,U)}finally{j?O():($=!1,E=null)}}else $=!1}var O;if(typeof w=="function")O=function(){w(D)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,Q=J.port2;J.port1.onmessage=D,O=function(){Q.postMessage(null)}}else O=function(){S(D,0)};function Z(U){E=U,$||($=!0,O())}function ce(U,j){k=S(function(){U(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,Z(N))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var z=f;f=j;try{return U()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,j){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var z=f;f=U;try{return j()}finally{f=z}},t.unstable_scheduleCallback=function(U,j,z){var q=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?q+z:q):z=q,U){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=z+H,U={id:u++,callback:j,priorityLevel:U,startTime:z,expirationTime:H,sortIndex:-1},z>q?(U.sortIndex=z,e(c,U),n(l)===null&&U===n(c)&&(x?(_(k),k=-1):x=!0,ce(C,z-q))):(U.sortIndex=H,e(l,U),m||p||(m=!0,Z(N))),U},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(U){var j=f;return function(){var z=f;f=j;try{return U.apply(this,arguments)}finally{f=z}}}})(JO);QO.exports=JO;var oV=QO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZO=g,ao=oV;function _e(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eN=new Set,cp={};function Hc(t,e){Cd(t,e),Cd(t+"Capture",e)}function Cd(t,e){for(cp[t]=e,t=0;t<e.length;t++)eN.add(e[t])}var ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ex=Object.prototype.hasOwnProperty,sV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rR={},iR={};function aV(t){return ex.call(iR,t)?!0:ex.call(rR,t)?!1:sV.test(t)?iR[t]=!0:(rR[t]=!0,!1)}function lV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cV(t,e,n,r){if(e===null||typeof e>"u"||lV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gi(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var jr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jr[t]=new gi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jr[e]=new gi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jr[t]=new gi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jr[t]=new gi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jr[t]=new gi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jr[t]=new gi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jr[t]=new gi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jr[t]=new gi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jr[t]=new gi(t,5,!1,t.toLowerCase(),null,!1,!1)});var AS=/[\-:]([a-z])/g;function MS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(AS,MS);jr[e]=new gi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(AS,MS);jr[e]=new gi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(AS,MS);jr[e]=new gi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jr[t]=new gi(t,1,!1,t.toLowerCase(),null,!1,!1)});jr.xlinkHref=new gi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jr[t]=new gi(t,1,!1,t.toLowerCase(),null,!0,!0)});function OS(t,e,n,r){var i=jr.hasOwnProperty(e)?jr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cV(e,n,i,r)&&(n=null),r||i===null?aV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Sa=ZO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pm=Symbol.for("react.element"),Xu=Symbol.for("react.portal"),Qu=Symbol.for("react.fragment"),NS=Symbol.for("react.strict_mode"),tx=Symbol.for("react.profiler"),tN=Symbol.for("react.provider"),nN=Symbol.for("react.context"),DS=Symbol.for("react.forward_ref"),nx=Symbol.for("react.suspense"),rx=Symbol.for("react.suspense_list"),$S=Symbol.for("react.memo"),Wa=Symbol.for("react.lazy"),rN=Symbol.for("react.offscreen"),oR=Symbol.iterator;function Gh(t){return t===null||typeof t!="object"?null:(t=oR&&t[oR]||t["@@iterator"],typeof t=="function"?t:null)}var Fn=Object.assign,Nb;function _f(t){if(Nb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nb=e&&e[1]||""}return`
`+Nb+t}var Db=!1;function $b(t,e){if(!t||Db)return"";Db=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Db=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_f(t):""}function uV(t){switch(t.tag){case 5:return _f(t.type);case 16:return _f("Lazy");case 13:return _f("Suspense");case 19:return _f("SuspenseList");case 0:case 2:case 15:return t=$b(t.type,!1),t;case 11:return t=$b(t.type.render,!1),t;case 1:return t=$b(t.type,!0),t;default:return""}}function ix(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qu:return"Fragment";case Xu:return"Portal";case tx:return"Profiler";case NS:return"StrictMode";case nx:return"Suspense";case rx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nN:return(t.displayName||"Context")+".Consumer";case tN:return(t._context.displayName||"Context")+".Provider";case DS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $S:return e=t.displayName||null,e!==null?e:ix(t.type)||"Memo";case Wa:e=t._payload,t=t._init;try{return ix(t(e))}catch{}}return null}function dV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ix(e);case 8:return e===NS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hV(t){var e=iN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gm(t){t._valueTracker||(t._valueTracker=hV(t))}function oN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=iN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function jy(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ox(t,e){var n=e.checked;return Fn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sR(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sN(t,e){e=e.checked,e!=null&&OS(t,"checked",e,!1)}function sx(t,e){sN(t,e);var n=xl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ax(t,e.type,n):e.hasOwnProperty("defaultValue")&&ax(t,e.type,xl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function aR(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ax(t,e,n){(e!=="number"||jy(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var bf=Array.isArray;function ud(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function lx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_e(91));return Fn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lR(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(_e(92));if(bf(n)){if(1<n.length)throw Error(_e(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xl(n)}}function aN(t,e){var n=xl(e.value),r=xl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function cR(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function lN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mm,cN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mm=mm||document.createElement("div"),mm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function up(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Df={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fV=["Webkit","ms","Moz","O"];Object.keys(Df).forEach(function(t){fV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Df[e]=Df[t]})});function uN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Df.hasOwnProperty(t)&&Df[t]?(""+e).trim():e+"px"}function dN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=uN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var pV=Fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ux(t,e){if(e){if(pV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_e(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_e(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_e(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_e(62))}}function dx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hx=null;function LS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fx=null,dd=null,hd=null;function uR(t){if(t=rg(t)){if(typeof fx!="function")throw Error(_e(280));var e=t.stateNode;e&&(e=_0(e),fx(t.stateNode,t.type,e))}}function hN(t){dd?hd?hd.push(t):hd=[t]:dd=t}function fN(){if(dd){var t=dd,e=hd;if(hd=dd=null,uR(t),e)for(t=0;t<e.length;t++)uR(e[t])}}function pN(t,e){return t(e)}function gN(){}var Lb=!1;function mN(t,e,n){if(Lb)return t(e,n);Lb=!0;try{return pN(t,e,n)}finally{Lb=!1,(dd!==null||hd!==null)&&(gN(),fN())}}function dp(t,e){var n=t.stateNode;if(n===null)return null;var r=_0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(_e(231,e,typeof n));return n}var px=!1;if(ca)try{var Kh={};Object.defineProperty(Kh,"passive",{get:function(){px=!0}}),window.addEventListener("test",Kh,Kh),window.removeEventListener("test",Kh,Kh)}catch{px=!1}function gV(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var $f=!1,Vy=null,Uy=!1,gx=null,mV={onError:function(t){$f=!0,Vy=t}};function yV(t,e,n,r,i,o,s,a,l){$f=!1,Vy=null,gV.apply(mV,arguments)}function vV(t,e,n,r,i,o,s,a,l){if(yV.apply(this,arguments),$f){if($f){var c=Vy;$f=!1,Vy=null}else throw Error(_e(198));Uy||(Uy=!0,gx=c)}}function Gc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function yN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dR(t){if(Gc(t)!==t)throw Error(_e(188))}function _V(t){var e=t.alternate;if(!e){if(e=Gc(t),e===null)throw Error(_e(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return dR(i),t;if(o===r)return dR(i),e;o=o.sibling}throw Error(_e(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(_e(189))}}if(n.alternate!==r)throw Error(_e(190))}if(n.tag!==3)throw Error(_e(188));return n.stateNode.current===n?t:e}function vN(t){return t=_V(t),t!==null?_N(t):null}function _N(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_N(t);if(e!==null)return e;t=t.sibling}return null}var bN=ao.unstable_scheduleCallback,hR=ao.unstable_cancelCallback,bV=ao.unstable_shouldYield,wV=ao.unstable_requestPaint,Qn=ao.unstable_now,xV=ao.unstable_getCurrentPriorityLevel,FS=ao.unstable_ImmediatePriority,wN=ao.unstable_UserBlockingPriority,zy=ao.unstable_NormalPriority,EV=ao.unstable_LowPriority,xN=ao.unstable_IdlePriority,g0=null,vs=null;function SV(t){if(vs&&typeof vs.onCommitFiberRoot=="function")try{vs.onCommitFiberRoot(g0,t,void 0,(t.current.flags&128)===128)}catch{}}var Qo=Math.clz32?Math.clz32:IV,CV=Math.log,TV=Math.LN2;function IV(t){return t>>>=0,t===0?32:31-(CV(t)/TV|0)|0}var ym=64,vm=4194304;function wf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=wf(a):(o&=s,o!==0&&(r=wf(o)))}else s=n&~i,s!==0?r=wf(s):o!==0&&(r=wf(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qo(e),i=1<<n,r|=t[n],e&=~i;return r}function RV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Qo(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=RV(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function mx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function EN(){var t=ym;return ym<<=1,!(ym&4194240)&&(ym=64),t}function Fb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tg(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qo(e),t[e]=n}function PV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Qo(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function BS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var an=0;function SN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var CN,jS,TN,IN,RN,yx=!1,_m=[],ol=null,sl=null,al=null,hp=new Map,fp=new Map,Ka=[],AV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fR(t,e){switch(t){case"focusin":case"focusout":ol=null;break;case"dragenter":case"dragleave":sl=null;break;case"mouseover":case"mouseout":al=null;break;case"pointerover":case"pointerout":hp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fp.delete(e.pointerId)}}function qh(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=rg(e),e!==null&&jS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function MV(t,e,n,r,i){switch(e){case"focusin":return ol=qh(ol,t,e,n,r,i),!0;case"dragenter":return sl=qh(sl,t,e,n,r,i),!0;case"mouseover":return al=qh(al,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return hp.set(o,qh(hp.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,fp.set(o,qh(fp.get(o)||null,t,e,n,r,i)),!0}return!1}function kN(t){var e=pc(t.target);if(e!==null){var n=Gc(e);if(n!==null){if(e=n.tag,e===13){if(e=yN(n),e!==null){t.blockedOn=e,RN(t.priority,function(){TN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ly(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hx=r,n.target.dispatchEvent(r),hx=null}else return e=rg(n),e!==null&&jS(e),t.blockedOn=n,!1;e.shift()}return!0}function pR(t,e,n){ly(t)&&n.delete(e)}function OV(){yx=!1,ol!==null&&ly(ol)&&(ol=null),sl!==null&&ly(sl)&&(sl=null),al!==null&&ly(al)&&(al=null),hp.forEach(pR),fp.forEach(pR)}function Yh(t,e){t.blockedOn===e&&(t.blockedOn=null,yx||(yx=!0,ao.unstable_scheduleCallback(ao.unstable_NormalPriority,OV)))}function pp(t){function e(i){return Yh(i,t)}if(0<_m.length){Yh(_m[0],t);for(var n=1;n<_m.length;n++){var r=_m[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ol!==null&&Yh(ol,t),sl!==null&&Yh(sl,t),al!==null&&Yh(al,t),hp.forEach(e),fp.forEach(e),n=0;n<Ka.length;n++)r=Ka[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ka.length&&(n=Ka[0],n.blockedOn===null);)kN(n),n.blockedOn===null&&Ka.shift()}var fd=Sa.ReactCurrentBatchConfig,Hy=!0;function NV(t,e,n,r){var i=an,o=fd.transition;fd.transition=null;try{an=1,VS(t,e,n,r)}finally{an=i,fd.transition=o}}function DV(t,e,n,r){var i=an,o=fd.transition;fd.transition=null;try{an=4,VS(t,e,n,r)}finally{an=i,fd.transition=o}}function VS(t,e,n,r){if(Hy){var i=vx(t,e,n,r);if(i===null)qb(t,e,r,Gy,n),fR(t,r);else if(MV(i,t,e,n,r))r.stopPropagation();else if(fR(t,r),e&4&&-1<AV.indexOf(t)){for(;i!==null;){var o=rg(i);if(o!==null&&CN(o),o=vx(t,e,n,r),o===null&&qb(t,e,r,Gy,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else qb(t,e,r,null,n)}}var Gy=null;function vx(t,e,n,r){if(Gy=null,t=LS(r),t=pc(t),t!==null)if(e=Gc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=yN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gy=t,null}function PN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xV()){case FS:return 1;case wN:return 4;case zy:case EV:return 16;case xN:return 536870912;default:return 16}default:return 16}}var nl=null,US=null,cy=null;function AN(){if(cy)return cy;var t,e=US,n=e.length,r,i="value"in nl?nl.value:nl.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return cy=i.slice(t,1<r?1-r:void 0)}function uy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bm(){return!0}function gR(){return!1}function ho(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?bm:gR,this.isPropagationStopped=gR,this}return Fn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bm)},persist:function(){},isPersistent:bm}),e}var Jd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zS=ho(Jd),ng=Fn({},Jd,{view:0,detail:0}),$V=ho(ng),Bb,jb,Xh,m0=Fn({},ng,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:WS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xh&&(Xh&&t.type==="mousemove"?(Bb=t.screenX-Xh.screenX,jb=t.screenY-Xh.screenY):jb=Bb=0,Xh=t),Bb)},movementY:function(t){return"movementY"in t?t.movementY:jb}}),mR=ho(m0),LV=Fn({},m0,{dataTransfer:0}),FV=ho(LV),BV=Fn({},ng,{relatedTarget:0}),Vb=ho(BV),jV=Fn({},Jd,{animationName:0,elapsedTime:0,pseudoElement:0}),VV=ho(jV),UV=Fn({},Jd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zV=ho(UV),WV=Fn({},Jd,{data:0}),yR=ho(WV),HV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=KV[t])?!!e[t]:!1}function WS(){return qV}var YV=Fn({},ng,{key:function(t){if(t.key){var e=HV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?GV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:WS,charCode:function(t){return t.type==="keypress"?uy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XV=ho(YV),QV=Fn({},m0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vR=ho(QV),JV=Fn({},ng,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:WS}),ZV=ho(JV),e6=Fn({},Jd,{propertyName:0,elapsedTime:0,pseudoElement:0}),t6=ho(e6),n6=Fn({},m0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),r6=ho(n6),i6=[9,13,27,32],HS=ca&&"CompositionEvent"in window,Lf=null;ca&&"documentMode"in document&&(Lf=document.documentMode);var o6=ca&&"TextEvent"in window&&!Lf,MN=ca&&(!HS||Lf&&8<Lf&&11>=Lf),_R=" ",bR=!1;function ON(t,e){switch(t){case"keyup":return i6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ju=!1;function s6(t,e){switch(t){case"compositionend":return NN(e);case"keypress":return e.which!==32?null:(bR=!0,_R);case"textInput":return t=e.data,t===_R&&bR?null:t;default:return null}}function a6(t,e){if(Ju)return t==="compositionend"||!HS&&ON(t,e)?(t=AN(),cy=US=nl=null,Ju=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return MN&&e.locale!=="ko"?null:e.data;default:return null}}var l6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!l6[t.type]:e==="textarea"}function DN(t,e,n,r){hN(r),e=Ky(e,"onChange"),0<e.length&&(n=new zS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ff=null,gp=null;function c6(t){GN(t,0)}function y0(t){var e=td(t);if(oN(e))return t}function u6(t,e){if(t==="change")return e}var $N=!1;if(ca){var Ub;if(ca){var zb="oninput"in document;if(!zb){var xR=document.createElement("div");xR.setAttribute("oninput","return;"),zb=typeof xR.oninput=="function"}Ub=zb}else Ub=!1;$N=Ub&&(!document.documentMode||9<document.documentMode)}function ER(){Ff&&(Ff.detachEvent("onpropertychange",LN),gp=Ff=null)}function LN(t){if(t.propertyName==="value"&&y0(gp)){var e=[];DN(e,gp,t,LS(t)),mN(c6,e)}}function d6(t,e,n){t==="focusin"?(ER(),Ff=e,gp=n,Ff.attachEvent("onpropertychange",LN)):t==="focusout"&&ER()}function h6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return y0(gp)}function f6(t,e){if(t==="click")return y0(e)}function p6(t,e){if(t==="input"||t==="change")return y0(e)}function g6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ts=typeof Object.is=="function"?Object.is:g6;function mp(t,e){if(ts(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ex.call(e,i)||!ts(t[i],e[i]))return!1}return!0}function SR(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function CR(t,e){var n=SR(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=SR(n)}}function FN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?FN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function BN(){for(var t=window,e=jy();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=jy(t.document)}return e}function GS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function m6(t){var e=BN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&FN(n.ownerDocument.documentElement,n)){if(r!==null&&GS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=CR(n,o);var s=CR(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var y6=ca&&"documentMode"in document&&11>=document.documentMode,Zu=null,_x=null,Bf=null,bx=!1;function TR(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bx||Zu==null||Zu!==jy(r)||(r=Zu,"selectionStart"in r&&GS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bf&&mp(Bf,r)||(Bf=r,r=Ky(_x,"onSelect"),0<r.length&&(e=new zS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Zu)))}function wm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ed={animationend:wm("Animation","AnimationEnd"),animationiteration:wm("Animation","AnimationIteration"),animationstart:wm("Animation","AnimationStart"),transitionend:wm("Transition","TransitionEnd")},Wb={},jN={};ca&&(jN=document.createElement("div").style,"AnimationEvent"in window||(delete ed.animationend.animation,delete ed.animationiteration.animation,delete ed.animationstart.animation),"TransitionEvent"in window||delete ed.transitionend.transition);function v0(t){if(Wb[t])return Wb[t];if(!ed[t])return t;var e=ed[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jN)return Wb[t]=e[n];return t}var VN=v0("animationend"),UN=v0("animationiteration"),zN=v0("animationstart"),WN=v0("transitionend"),HN=new Map,IR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fl(t,e){HN.set(t,e),Hc(e,[t])}for(var Hb=0;Hb<IR.length;Hb++){var Gb=IR[Hb],v6=Gb.toLowerCase(),_6=Gb[0].toUpperCase()+Gb.slice(1);Fl(v6,"on"+_6)}Fl(VN,"onAnimationEnd");Fl(UN,"onAnimationIteration");Fl(zN,"onAnimationStart");Fl("dblclick","onDoubleClick");Fl("focusin","onFocus");Fl("focusout","onBlur");Fl(WN,"onTransitionEnd");Cd("onMouseEnter",["mouseout","mouseover"]);Cd("onMouseLeave",["mouseout","mouseover"]);Cd("onPointerEnter",["pointerout","pointerover"]);Cd("onPointerLeave",["pointerout","pointerover"]);Hc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b6=new Set("cancel close invalid load scroll toggle".split(" ").concat(xf));function RR(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,vV(r,e,void 0,t),t.currentTarget=null}function GN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;RR(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;RR(i,a,c),o=l}}}if(Uy)throw t=gx,Uy=!1,gx=null,t}function En(t,e){var n=e[Cx];n===void 0&&(n=e[Cx]=new Set);var r=t+"__bubble";n.has(r)||(KN(e,t,2,!1),n.add(r))}function Kb(t,e,n){var r=0;e&&(r|=4),KN(n,t,r,e)}var xm="_reactListening"+Math.random().toString(36).slice(2);function yp(t){if(!t[xm]){t[xm]=!0,eN.forEach(function(n){n!=="selectionchange"&&(b6.has(n)||Kb(n,!1,t),Kb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xm]||(e[xm]=!0,Kb("selectionchange",!1,e))}}function KN(t,e,n,r){switch(PN(e)){case 1:var i=NV;break;case 4:i=DV;break;default:i=VS}n=i.bind(null,e,n,t),i=void 0,!px||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qb(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=pc(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}mN(function(){var c=o,u=LS(n),h=[];e:{var f=HN.get(t);if(f!==void 0){var p=zS,m=t;switch(t){case"keypress":if(uy(n)===0)break e;case"keydown":case"keyup":p=XV;break;case"focusin":m="focus",p=Vb;break;case"focusout":m="blur",p=Vb;break;case"beforeblur":case"afterblur":p=Vb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=mR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=FV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ZV;break;case VN:case UN:case zN:p=VV;break;case WN:p=t6;break;case"scroll":p=$V;break;case"wheel":p=r6;break;case"copy":case"cut":case"paste":p=zV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=vR}var x=(e&4)!==0,S=!x&&t==="scroll",_=x?f!==null?f+"Capture":null:f;x=[];for(var w=c,b;w!==null;){b=w;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,_!==null&&(C=dp(w,_),C!=null&&x.push(vp(w,C,b)))),S)break;w=w.return}0<x.length&&(f=new p(f,m,null,n,u),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==hx&&(m=n.relatedTarget||n.fromElement)&&(pc(m)||m[ua]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?pc(m):null,m!==null&&(S=Gc(m),m!==S||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(x=mR,C="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(x=vR,C="onPointerLeave",_="onPointerEnter",w="pointer"),S=p==null?f:td(p),b=m==null?f:td(m),f=new x(C,w+"leave",p,n,u),f.target=S,f.relatedTarget=b,C=null,pc(u)===c&&(x=new x(_,w+"enter",m,n,u),x.target=b,x.relatedTarget=S,C=x),S=C,p&&m)t:{for(x=p,_=m,w=0,b=x;b;b=_u(b))w++;for(b=0,C=_;C;C=_u(C))b++;for(;0<w-b;)x=_u(x),w--;for(;0<b-w;)_=_u(_),b--;for(;w--;){if(x===_||_!==null&&x===_.alternate)break t;x=_u(x),_=_u(_)}x=null}else x=null;p!==null&&kR(h,f,p,x,!1),m!==null&&S!==null&&kR(h,S,m,x,!0)}}e:{if(f=c?td(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var N=u6;else if(wR(f))if($N)N=p6;else{N=h6;var $=d6}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=f6);if(N&&(N=N(t,c))){DN(h,N,n,u);break e}$&&$(t,f,c),t==="focusout"&&($=f._wrapperState)&&$.controlled&&f.type==="number"&&ax(f,"number",f.value)}switch($=c?td(c):window,t){case"focusin":(wR($)||$.contentEditable==="true")&&(Zu=$,_x=c,Bf=null);break;case"focusout":Bf=_x=Zu=null;break;case"mousedown":bx=!0;break;case"contextmenu":case"mouseup":case"dragend":bx=!1,TR(h,n,u);break;case"selectionchange":if(y6)break;case"keydown":case"keyup":TR(h,n,u)}var E;if(HS)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ju?ON(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(MN&&n.locale!=="ko"&&(Ju||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ju&&(E=AN()):(nl=u,US="value"in nl?nl.value:nl.textContent,Ju=!0)),$=Ky(c,k),0<$.length&&(k=new yR(k,t,null,n,u),h.push({event:k,listeners:$}),E?k.data=E:(E=NN(n),E!==null&&(k.data=E)))),(E=o6?s6(t,n):a6(t,n))&&(c=Ky(c,"onBeforeInput"),0<c.length&&(u=new yR("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=E))}GN(h,e)})}function vp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ky(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=dp(t,n),o!=null&&r.unshift(vp(t,o,i)),o=dp(t,e),o!=null&&r.push(vp(t,o,i))),t=t.return}return r}function _u(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kR(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=dp(n,o),l!=null&&s.unshift(vp(n,l,a))):i||(l=dp(n,o),l!=null&&s.push(vp(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var w6=/\r\n?/g,x6=/\u0000|\uFFFD/g;function PR(t){return(typeof t=="string"?t:""+t).replace(w6,`
`).replace(x6,"")}function Em(t,e,n){if(e=PR(e),PR(t)!==e&&n)throw Error(_e(425))}function qy(){}var wx=null,xx=null;function Ex(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sx=typeof setTimeout=="function"?setTimeout:void 0,E6=typeof clearTimeout=="function"?clearTimeout:void 0,AR=typeof Promise=="function"?Promise:void 0,S6=typeof queueMicrotask=="function"?queueMicrotask:typeof AR<"u"?function(t){return AR.resolve(null).then(t).catch(C6)}:Sx;function C6(t){setTimeout(function(){throw t})}function Yb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),pp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);pp(e)}function ll(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function MR(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zd=Math.random().toString(36).slice(2),gs="__reactFiber$"+Zd,_p="__reactProps$"+Zd,ua="__reactContainer$"+Zd,Cx="__reactEvents$"+Zd,T6="__reactListeners$"+Zd,I6="__reactHandles$"+Zd;function pc(t){var e=t[gs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ua]||n[gs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=MR(t);t!==null;){if(n=t[gs])return n;t=MR(t)}return e}t=n,n=t.parentNode}return null}function rg(t){return t=t[gs]||t[ua],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function td(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(_e(33))}function _0(t){return t[_p]||null}var Tx=[],nd=-1;function Bl(t){return{current:t}}function Rn(t){0>nd||(t.current=Tx[nd],Tx[nd]=null,nd--)}function _n(t,e){nd++,Tx[nd]=t.current,t.current=e}var El={},ei=Bl(El),Ai=Bl(!1),Rc=El;function Td(t,e){var n=t.type.contextTypes;if(!n)return El;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Mi(t){return t=t.childContextTypes,t!=null}function Yy(){Rn(Ai),Rn(ei)}function OR(t,e,n){if(ei.current!==El)throw Error(_e(168));_n(ei,e),_n(Ai,n)}function qN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(_e(108,dV(t)||"Unknown",i));return Fn({},n,r)}function Xy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||El,Rc=ei.current,_n(ei,t),_n(Ai,Ai.current),!0}function NR(t,e,n){var r=t.stateNode;if(!r)throw Error(_e(169));n?(t=qN(t,e,Rc),r.__reactInternalMemoizedMergedChildContext=t,Rn(Ai),Rn(ei),_n(ei,t)):Rn(Ai),_n(Ai,n)}var Qs=null,b0=!1,Xb=!1;function YN(t){Qs===null?Qs=[t]:Qs.push(t)}function R6(t){b0=!0,YN(t)}function jl(){if(!Xb&&Qs!==null){Xb=!0;var t=0,e=an;try{var n=Qs;for(an=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qs=null,b0=!1}catch(i){throw Qs!==null&&(Qs=Qs.slice(t+1)),bN(FS,jl),i}finally{an=e,Xb=!1}}return null}var rd=[],id=0,Qy=null,Jy=0,vo=[],_o=0,kc=null,ea=1,ta="";function ac(t,e){rd[id++]=Jy,rd[id++]=Qy,Qy=t,Jy=e}function XN(t,e,n){vo[_o++]=ea,vo[_o++]=ta,vo[_o++]=kc,kc=t;var r=ea;t=ta;var i=32-Qo(r)-1;r&=~(1<<i),n+=1;var o=32-Qo(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ea=1<<32-Qo(e)+i|n<<i|r,ta=o+t}else ea=1<<o|n<<i|r,ta=t}function KS(t){t.return!==null&&(ac(t,1),XN(t,1,0))}function qS(t){for(;t===Qy;)Qy=rd[--id],rd[id]=null,Jy=rd[--id],rd[id]=null;for(;t===kc;)kc=vo[--_o],vo[_o]=null,ta=vo[--_o],vo[_o]=null,ea=vo[--_o],vo[_o]=null}var ro=null,Ji=null,Mn=!1,Ho=null;function QN(t,e){var n=xo(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function DR(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ro=t,Ji=ll(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ro=t,Ji=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=kc!==null?{id:ea,overflow:ta}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xo(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ro=t,Ji=null,!0):!1;default:return!1}}function Ix(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rx(t){if(Mn){var e=Ji;if(e){var n=e;if(!DR(t,e)){if(Ix(t))throw Error(_e(418));e=ll(n.nextSibling);var r=ro;e&&DR(t,e)?QN(r,n):(t.flags=t.flags&-4097|2,Mn=!1,ro=t)}}else{if(Ix(t))throw Error(_e(418));t.flags=t.flags&-4097|2,Mn=!1,ro=t}}}function $R(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ro=t}function Sm(t){if(t!==ro)return!1;if(!Mn)return $R(t),Mn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ex(t.type,t.memoizedProps)),e&&(e=Ji)){if(Ix(t))throw JN(),Error(_e(418));for(;e;)QN(t,e),e=ll(e.nextSibling)}if($R(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_e(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ji=ll(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ji=null}}else Ji=ro?ll(t.stateNode.nextSibling):null;return!0}function JN(){for(var t=Ji;t;)t=ll(t.nextSibling)}function Id(){Ji=ro=null,Mn=!1}function YS(t){Ho===null?Ho=[t]:Ho.push(t)}var k6=Sa.ReactCurrentBatchConfig;function zo(t,e){if(t&&t.defaultProps){e=Fn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Zy=Bl(null),ev=null,od=null,XS=null;function QS(){XS=od=ev=null}function JS(t){var e=Zy.current;Rn(Zy),t._currentValue=e}function kx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function pd(t,e){ev=t,XS=od=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ii=!0),t.firstContext=null)}function To(t){var e=t._currentValue;if(XS!==t)if(t={context:t,memoizedValue:e,next:null},od===null){if(ev===null)throw Error(_e(308));od=t,ev.dependencies={lanes:0,firstContext:t}}else od=od.next=t;return e}var gc=null;function ZS(t){gc===null?gc=[t]:gc.push(t)}function ZN(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ZS(e)):(n.next=i.next,i.next=n),e.interleaved=n,da(t,r)}function da(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ha=!1;function eC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Yt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,da(t,n)}return i=r.interleaved,i===null?(e.next=e,ZS(r)):(e.next=i.next,i.next=e),r.interleaved=e,da(t,n)}function dy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,BS(t,n)}}function LR(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function tv(t,e,n,r){var i=t.updateQueue;Ha=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,u=c=l=null,a=o;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,x=a;switch(f=e,p=n,x.tag){case 1:if(m=x.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=x.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=Fn({},h,f);break e;case 2:Ha=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ac|=s,t.lanes=s,t.memoizedState=h}}function FR(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(_e(191,i));i.call(r)}}}var tD=new ZO.Component().refs;function Px(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var w0={isMounted:function(t){return(t=t._reactInternals)?Gc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=di(),i=dl(t),o=oa(r,i);o.payload=e,n!=null&&(o.callback=n),e=cl(t,o,i),e!==null&&(Jo(e,t,i,r),dy(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=di(),i=dl(t),o=oa(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=cl(t,o,i),e!==null&&(Jo(e,t,i,r),dy(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=di(),r=dl(t),i=oa(n,r);i.tag=2,e!=null&&(i.callback=e),e=cl(t,i,r),e!==null&&(Jo(e,t,r,n),dy(e,t,r))}};function BR(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!mp(n,r)||!mp(i,o):!0}function nD(t,e,n){var r=!1,i=El,o=e.contextType;return typeof o=="object"&&o!==null?o=To(o):(i=Mi(e)?Rc:ei.current,r=e.contextTypes,o=(r=r!=null)?Td(t,i):El),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=w0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function jR(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&w0.enqueueReplaceState(e,e.state,null)}function Ax(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=tD,eC(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=To(o):(o=Mi(e)?Rc:ei.current,i.context=Td(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Px(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&w0.enqueueReplaceState(i,i.state,null),tv(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_e(309));var r=n.stateNode}if(!r)throw Error(_e(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===tD&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(_e(284));if(!n._owner)throw Error(_e(290,t))}return t}function Cm(t,e){throw t=Object.prototype.toString.call(e),Error(_e(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function VR(t){var e=t._init;return e(t._payload)}function rD(t){function e(_,w){if(t){var b=_.deletions;b===null?(_.deletions=[w],_.flags|=16):b.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(_,w){return _=hl(_,w),_.index=0,_.sibling=null,_}function o(_,w,b){return _.index=b,t?(b=_.alternate,b!==null?(b=b.index,b<w?(_.flags|=2,w):b):(_.flags|=2,w)):(_.flags|=1048576,w)}function s(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,b,C){return w===null||w.tag!==6?(w=rw(b,_.mode,C),w.return=_,w):(w=i(w,b),w.return=_,w)}function l(_,w,b,C){var N=b.type;return N===Qu?u(_,w,b.props.children,C,b.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Wa&&VR(N)===w.type)?(C=i(w,b.props),C.ref=Qh(_,w,b),C.return=_,C):(C=yy(b.type,b.key,b.props,null,_.mode,C),C.ref=Qh(_,w,b),C.return=_,C)}function c(_,w,b,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=iw(b,_.mode,C),w.return=_,w):(w=i(w,b.children||[]),w.return=_,w)}function u(_,w,b,C,N){return w===null||w.tag!==7?(w=Sc(b,_.mode,C,N),w.return=_,w):(w=i(w,b),w.return=_,w)}function h(_,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=rw(""+w,_.mode,b),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case pm:return b=yy(w.type,w.key,w.props,null,_.mode,b),b.ref=Qh(_,null,w),b.return=_,b;case Xu:return w=iw(w,_.mode,b),w.return=_,w;case Wa:var C=w._init;return h(_,C(w._payload),b)}if(bf(w)||Gh(w))return w=Sc(w,_.mode,b,null),w.return=_,w;Cm(_,w)}return null}function f(_,w,b,C){var N=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:a(_,w,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case pm:return b.key===N?l(_,w,b,C):null;case Xu:return b.key===N?c(_,w,b,C):null;case Wa:return N=b._init,f(_,w,N(b._payload),C)}if(bf(b)||Gh(b))return N!==null?null:u(_,w,b,C,null);Cm(_,b)}return null}function p(_,w,b,C,N){if(typeof C=="string"&&C!==""||typeof C=="number")return _=_.get(b)||null,a(w,_,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case pm:return _=_.get(C.key===null?b:C.key)||null,l(w,_,C,N);case Xu:return _=_.get(C.key===null?b:C.key)||null,c(w,_,C,N);case Wa:var $=C._init;return p(_,w,b,$(C._payload),N)}if(bf(C)||Gh(C))return _=_.get(b)||null,u(w,_,C,N,null);Cm(w,C)}return null}function m(_,w,b,C){for(var N=null,$=null,E=w,k=w=0,M=null;E!==null&&k<b.length;k++){E.index>k?(M=E,E=null):M=E.sibling;var v=f(_,E,b[k],C);if(v===null){E===null&&(E=M);break}t&&E&&v.alternate===null&&e(_,E),w=o(v,w,k),$===null?N=v:$.sibling=v,$=v,E=M}if(k===b.length)return n(_,E),Mn&&ac(_,k),N;if(E===null){for(;k<b.length;k++)E=h(_,b[k],C),E!==null&&(w=o(E,w,k),$===null?N=E:$.sibling=E,$=E);return Mn&&ac(_,k),N}for(E=r(_,E);k<b.length;k++)M=p(E,_,k,b[k],C),M!==null&&(t&&M.alternate!==null&&E.delete(M.key===null?k:M.key),w=o(M,w,k),$===null?N=M:$.sibling=M,$=M);return t&&E.forEach(function(P){return e(_,P)}),Mn&&ac(_,k),N}function x(_,w,b,C){var N=Gh(b);if(typeof N!="function")throw Error(_e(150));if(b=N.call(b),b==null)throw Error(_e(151));for(var $=N=null,E=w,k=w=0,M=null,v=b.next();E!==null&&!v.done;k++,v=b.next()){E.index>k?(M=E,E=null):M=E.sibling;var P=f(_,E,v.value,C);if(P===null){E===null&&(E=M);break}t&&E&&P.alternate===null&&e(_,E),w=o(P,w,k),$===null?N=P:$.sibling=P,$=P,E=M}if(v.done)return n(_,E),Mn&&ac(_,k),N;if(E===null){for(;!v.done;k++,v=b.next())v=h(_,v.value,C),v!==null&&(w=o(v,w,k),$===null?N=v:$.sibling=v,$=v);return Mn&&ac(_,k),N}for(E=r(_,E);!v.done;k++,v=b.next())v=p(E,_,k,v.value,C),v!==null&&(t&&v.alternate!==null&&E.delete(v.key===null?k:v.key),w=o(v,w,k),$===null?N=v:$.sibling=v,$=v);return t&&E.forEach(function(D){return e(_,D)}),Mn&&ac(_,k),N}function S(_,w,b,C){if(typeof b=="object"&&b!==null&&b.type===Qu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case pm:e:{for(var N=b.key,$=w;$!==null;){if($.key===N){if(N=b.type,N===Qu){if($.tag===7){n(_,$.sibling),w=i($,b.props.children),w.return=_,_=w;break e}}else if($.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Wa&&VR(N)===$.type){n(_,$.sibling),w=i($,b.props),w.ref=Qh(_,$,b),w.return=_,_=w;break e}n(_,$);break}else e(_,$);$=$.sibling}b.type===Qu?(w=Sc(b.props.children,_.mode,C,b.key),w.return=_,_=w):(C=yy(b.type,b.key,b.props,null,_.mode,C),C.ref=Qh(_,w,b),C.return=_,_=C)}return s(_);case Xu:e:{for($=b.key;w!==null;){if(w.key===$)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(_,w.sibling),w=i(w,b.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=iw(b,_.mode,C),w.return=_,_=w}return s(_);case Wa:return $=b._init,S(_,w,$(b._payload),C)}if(bf(b))return m(_,w,b,C);if(Gh(b))return x(_,w,b,C);Cm(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(_,w.sibling),w=i(w,b),w.return=_,_=w):(n(_,w),w=rw(b,_.mode,C),w.return=_,_=w),s(_)):n(_,w)}return S}var Rd=rD(!0),iD=rD(!1),ig={},_s=Bl(ig),bp=Bl(ig),wp=Bl(ig);function mc(t){if(t===ig)throw Error(_e(174));return t}function tC(t,e){switch(_n(wp,e),_n(bp,t),_n(_s,ig),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cx(e,t)}Rn(_s),_n(_s,e)}function kd(){Rn(_s),Rn(bp),Rn(wp)}function oD(t){mc(wp.current);var e=mc(_s.current),n=cx(e,t.type);e!==n&&(_n(bp,t),_n(_s,n))}function nC(t){bp.current===t&&(Rn(_s),Rn(bp))}var Dn=Bl(0);function nv(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qb=[];function rC(){for(var t=0;t<Qb.length;t++)Qb[t]._workInProgressVersionPrimary=null;Qb.length=0}var hy=Sa.ReactCurrentDispatcher,Jb=Sa.ReactCurrentBatchConfig,Pc=0,$n=null,mr=null,Rr=null,rv=!1,jf=!1,xp=0,P6=0;function Wr(){throw Error(_e(321))}function iC(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ts(t[n],e[n]))return!1;return!0}function oC(t,e,n,r,i,o){if(Pc=o,$n=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hy.current=t===null||t.memoizedState===null?N6:D6,t=n(r,i),jf){o=0;do{if(jf=!1,xp=0,25<=o)throw Error(_e(301));o+=1,Rr=mr=null,e.updateQueue=null,hy.current=$6,t=n(r,i)}while(jf)}if(hy.current=iv,e=mr!==null&&mr.next!==null,Pc=0,Rr=mr=$n=null,rv=!1,e)throw Error(_e(300));return t}function sC(){var t=xp!==0;return xp=0,t}function ds(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rr===null?$n.memoizedState=Rr=t:Rr=Rr.next=t,Rr}function Io(){if(mr===null){var t=$n.alternate;t=t!==null?t.memoizedState:null}else t=mr.next;var e=Rr===null?$n.memoizedState:Rr.next;if(e!==null)Rr=e,mr=t;else{if(t===null)throw Error(_e(310));mr=t,t={memoizedState:mr.memoizedState,baseState:mr.baseState,baseQueue:mr.baseQueue,queue:mr.queue,next:null},Rr===null?$n.memoizedState=Rr=t:Rr=Rr.next=t}return Rr}function Ep(t,e){return typeof e=="function"?e(t):e}function Zb(t){var e=Io(),n=e.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=t;var r=mr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Pc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,$n.lanes|=u,Ac|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,ts(r,e.memoizedState)||(Ii=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,$n.lanes|=o,Ac|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ew(t){var e=Io(),n=e.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);ts(o,e.memoizedState)||(Ii=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function sD(){}function aD(t,e){var n=$n,r=Io(),i=e(),o=!ts(r.memoizedState,i);if(o&&(r.memoizedState=i,Ii=!0),r=r.queue,aC(uD.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Rr!==null&&Rr.memoizedState.tag&1){if(n.flags|=2048,Sp(9,cD.bind(null,n,r,i,e),void 0,null),Ar===null)throw Error(_e(349));Pc&30||lD(n,e,i)}return i}function lD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$n.updateQueue,e===null?(e={lastEffect:null,stores:null},$n.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cD(t,e,n,r){e.value=n,e.getSnapshot=r,dD(e)&&hD(t)}function uD(t,e,n){return n(function(){dD(e)&&hD(t)})}function dD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ts(t,n)}catch{return!0}}function hD(t){var e=da(t,1);e!==null&&Jo(e,t,1,-1)}function UR(t){var e=ds();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ep,lastRenderedState:t},e.queue=t,t=t.dispatch=O6.bind(null,$n,t),[e.memoizedState,t]}function Sp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$n.updateQueue,e===null?(e={lastEffect:null,stores:null},$n.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function fD(){return Io().memoizedState}function fy(t,e,n,r){var i=ds();$n.flags|=t,i.memoizedState=Sp(1|e,n,void 0,r===void 0?null:r)}function x0(t,e,n,r){var i=Io();r=r===void 0?null:r;var o=void 0;if(mr!==null){var s=mr.memoizedState;if(o=s.destroy,r!==null&&iC(r,s.deps)){i.memoizedState=Sp(e,n,o,r);return}}$n.flags|=t,i.memoizedState=Sp(1|e,n,o,r)}function zR(t,e){return fy(8390656,8,t,e)}function aC(t,e){return x0(2048,8,t,e)}function pD(t,e){return x0(4,2,t,e)}function gD(t,e){return x0(4,4,t,e)}function mD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yD(t,e,n){return n=n!=null?n.concat([t]):null,x0(4,4,mD.bind(null,e,t),n)}function lC(){}function vD(t,e){var n=Io();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&iC(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _D(t,e){var n=Io();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&iC(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bD(t,e,n){return Pc&21?(ts(n,e)||(n=EN(),$n.lanes|=n,Ac|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ii=!0),t.memoizedState=n)}function A6(t,e){var n=an;an=n!==0&&4>n?n:4,t(!0);var r=Jb.transition;Jb.transition={};try{t(!1),e()}finally{an=n,Jb.transition=r}}function wD(){return Io().memoizedState}function M6(t,e,n){var r=dl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xD(t))ED(e,n);else if(n=ZN(t,e,n,r),n!==null){var i=di();Jo(n,t,r,i),SD(n,e,r)}}function O6(t,e,n){var r=dl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xD(t))ED(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ts(a,s)){var l=e.interleaved;l===null?(i.next=i,ZS(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=ZN(t,e,i,r),n!==null&&(i=di(),Jo(n,t,r,i),SD(n,e,r))}}function xD(t){var e=t.alternate;return t===$n||e!==null&&e===$n}function ED(t,e){jf=rv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function SD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,BS(t,n)}}var iv={readContext:To,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},N6={readContext:To,useCallback:function(t,e){return ds().memoizedState=[t,e===void 0?null:e],t},useContext:To,useEffect:zR,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fy(4194308,4,mD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fy(4194308,4,t,e)},useInsertionEffect:function(t,e){return fy(4,2,t,e)},useMemo:function(t,e){var n=ds();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ds();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=M6.bind(null,$n,t),[r.memoizedState,t]},useRef:function(t){var e=ds();return t={current:t},e.memoizedState=t},useState:UR,useDebugValue:lC,useDeferredValue:function(t){return ds().memoizedState=t},useTransition:function(){var t=UR(!1),e=t[0];return t=A6.bind(null,t[1]),ds().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$n,i=ds();if(Mn){if(n===void 0)throw Error(_e(407));n=n()}else{if(n=e(),Ar===null)throw Error(_e(349));Pc&30||lD(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,zR(uD.bind(null,r,o,t),[t]),r.flags|=2048,Sp(9,cD.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ds(),e=Ar.identifierPrefix;if(Mn){var n=ta,r=ea;n=(r&~(1<<32-Qo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=P6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},D6={readContext:To,useCallback:vD,useContext:To,useEffect:aC,useImperativeHandle:yD,useInsertionEffect:pD,useLayoutEffect:gD,useMemo:_D,useReducer:Zb,useRef:fD,useState:function(){return Zb(Ep)},useDebugValue:lC,useDeferredValue:function(t){var e=Io();return bD(e,mr.memoizedState,t)},useTransition:function(){var t=Zb(Ep)[0],e=Io().memoizedState;return[t,e]},useMutableSource:sD,useSyncExternalStore:aD,useId:wD,unstable_isNewReconciler:!1},$6={readContext:To,useCallback:vD,useContext:To,useEffect:aC,useImperativeHandle:yD,useInsertionEffect:pD,useLayoutEffect:gD,useMemo:_D,useReducer:ew,useRef:fD,useState:function(){return ew(Ep)},useDebugValue:lC,useDeferredValue:function(t){var e=Io();return mr===null?e.memoizedState=t:bD(e,mr.memoizedState,t)},useTransition:function(){var t=ew(Ep)[0],e=Io().memoizedState;return[t,e]},useMutableSource:sD,useSyncExternalStore:aD,useId:wD,unstable_isNewReconciler:!1};function Pd(t,e){try{var n="",r=e;do n+=uV(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function tw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Mx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var L6=typeof WeakMap=="function"?WeakMap:Map;function CD(t,e,n){n=oa(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){sv||(sv=!0,Ux=r),Mx(t,e)},n}function TD(t,e,n){n=oa(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Mx(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Mx(t,e),typeof r!="function"&&(ul===null?ul=new Set([this]):ul.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function WR(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new L6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Q6.bind(null,t,e,n),e.then(t,t))}function HR(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function GR(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=oa(-1,1),e.tag=2,cl(n,e,1))),n.lanes|=1),t)}var F6=Sa.ReactCurrentOwner,Ii=!1;function li(t,e,n,r){e.child=t===null?iD(e,null,n,r):Rd(e,t.child,n,r)}function KR(t,e,n,r,i){n=n.render;var o=e.ref;return pd(e,i),r=oC(t,e,n,r,o,i),n=sC(),t!==null&&!Ii?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ha(t,e,i)):(Mn&&n&&KS(e),e.flags|=1,li(t,e,r,i),e.child)}function qR(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!mC(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,ID(t,e,o,r,i)):(t=yy(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:mp,n(s,r)&&t.ref===e.ref)return ha(t,e,i)}return e.flags|=1,t=hl(o,r),t.ref=e.ref,t.return=e,e.child=t}function ID(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(mp(o,r)&&t.ref===e.ref)if(Ii=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Ii=!0);else return e.lanes=t.lanes,ha(t,e,i)}return Ox(t,e,n,r,i)}function RD(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_n(ad,qi),qi|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_n(ad,qi),qi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,_n(ad,qi),qi|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,_n(ad,qi),qi|=r;return li(t,e,i,n),e.child}function kD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ox(t,e,n,r,i){var o=Mi(n)?Rc:ei.current;return o=Td(e,o),pd(e,i),n=oC(t,e,n,r,o,i),r=sC(),t!==null&&!Ii?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ha(t,e,i)):(Mn&&r&&KS(e),e.flags|=1,li(t,e,n,i),e.child)}function YR(t,e,n,r,i){if(Mi(n)){var o=!0;Xy(e)}else o=!1;if(pd(e,i),e.stateNode===null)py(t,e),nD(e,n,r),Ax(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=To(c):(c=Mi(n)?Rc:ei.current,c=Td(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&jR(e,s,r,c),Ha=!1;var f=e.memoizedState;s.state=f,tv(e,r,s,i),l=e.memoizedState,a!==r||f!==l||Ai.current||Ha?(typeof u=="function"&&(Px(e,n,u,r),l=e.memoizedState),(a=Ha||BR(e,n,a,r,f,l,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,eD(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:zo(e.type,a),s.props=c,h=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=To(l):(l=Mi(n)?Rc:ei.current,l=Td(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||f!==l)&&jR(e,s,r,l),Ha=!1,f=e.memoizedState,s.state=f,tv(e,r,s,i);var m=e.memoizedState;a!==h||f!==m||Ai.current||Ha?(typeof p=="function"&&(Px(e,n,p,r),m=e.memoizedState),(c=Ha||BR(e,n,c,r,f,m,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Nx(t,e,n,r,o,i)}function Nx(t,e,n,r,i,o){kD(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&NR(e,n,!1),ha(t,e,o);r=e.stateNode,F6.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Rd(e,t.child,null,o),e.child=Rd(e,null,a,o)):li(t,e,a,o),e.memoizedState=r.state,i&&NR(e,n,!0),e.child}function PD(t){var e=t.stateNode;e.pendingContext?OR(t,e.pendingContext,e.pendingContext!==e.context):e.context&&OR(t,e.context,!1),tC(t,e.containerInfo)}function XR(t,e,n,r,i){return Id(),YS(i),e.flags|=256,li(t,e,n,r),e.child}var Dx={dehydrated:null,treeContext:null,retryLane:0};function $x(t){return{baseLanes:t,cachePool:null,transitions:null}}function AD(t,e,n){var r=e.pendingProps,i=Dn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_n(Dn,i&1),t===null)return Rx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=C0(s,r,0,null),t=Sc(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=$x(n),e.memoizedState=Dx,t):cC(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return B6(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=hl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=hl(a,o):(o=Sc(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?$x(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Dx,r}return o=t.child,t=o.sibling,r=hl(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function cC(t,e){return e=C0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tm(t,e,n,r){return r!==null&&YS(r),Rd(e,t.child,null,n),t=cC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function B6(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=tw(Error(_e(422))),Tm(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=C0({mode:"visible",children:r.children},i,0,null),o=Sc(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Rd(e,t.child,null,s),e.child.memoizedState=$x(s),e.memoizedState=Dx,o);if(!(e.mode&1))return Tm(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(_e(419)),r=tw(o,r,void 0),Tm(t,e,s,r)}if(a=(s&t.childLanes)!==0,Ii||a){if(r=Ar,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,da(t,i),Jo(r,t,i,-1))}return gC(),r=tw(Error(_e(421))),Tm(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=J6.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Ji=ll(i.nextSibling),ro=e,Mn=!0,Ho=null,t!==null&&(vo[_o++]=ea,vo[_o++]=ta,vo[_o++]=kc,ea=t.id,ta=t.overflow,kc=e),e=cC(e,r.children),e.flags|=4096,e)}function QR(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),kx(t.return,e,n)}function nw(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function MD(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(li(t,e,r.children,n),r=Dn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&QR(t,n,e);else if(t.tag===19)QR(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_n(Dn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&nv(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),nw(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&nv(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}nw(e,!0,n,null,o);break;case"together":nw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function py(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ha(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ac|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(_e(153));if(e.child!==null){for(t=e.child,n=hl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function j6(t,e,n){switch(e.tag){case 3:PD(e),Id();break;case 5:oD(e);break;case 1:Mi(e.type)&&Xy(e);break;case 4:tC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_n(Zy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_n(Dn,Dn.current&1),e.flags|=128,null):n&e.child.childLanes?AD(t,e,n):(_n(Dn,Dn.current&1),t=ha(t,e,n),t!==null?t.sibling:null);_n(Dn,Dn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return MD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_n(Dn,Dn.current),r)break;return null;case 22:case 23:return e.lanes=0,RD(t,e,n)}return ha(t,e,n)}var OD,Lx,ND,DD;OD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lx=function(){};ND=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,mc(_s.current);var o=null;switch(n){case"input":i=ox(t,i),r=ox(t,r),o=[];break;case"select":i=Fn({},i,{value:void 0}),r=Fn({},r,{value:void 0}),o=[];break;case"textarea":i=lx(t,i),r=lx(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qy)}ux(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(cp.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(cp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&En("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};DD=function(t,e,n,r){n!==r&&(e.flags|=4)};function Jh(t,e){if(!Mn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Hr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function V6(t,e,n){var r=e.pendingProps;switch(qS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(e),null;case 1:return Mi(e.type)&&Yy(),Hr(e),null;case 3:return r=e.stateNode,kd(),Rn(Ai),Rn(ei),rC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Sm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ho!==null&&(Hx(Ho),Ho=null))),Lx(t,e),Hr(e),null;case 5:nC(e);var i=mc(wp.current);if(n=e.type,t!==null&&e.stateNode!=null)ND(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(_e(166));return Hr(e),null}if(t=mc(_s.current),Sm(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[gs]=e,r[_p]=o,t=(e.mode&1)!==0,n){case"dialog":En("cancel",r),En("close",r);break;case"iframe":case"object":case"embed":En("load",r);break;case"video":case"audio":for(i=0;i<xf.length;i++)En(xf[i],r);break;case"source":En("error",r);break;case"img":case"image":case"link":En("error",r),En("load",r);break;case"details":En("toggle",r);break;case"input":sR(r,o),En("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},En("invalid",r);break;case"textarea":lR(r,o),En("invalid",r)}ux(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Em(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Em(r.textContent,a,t),i=["children",""+a]):cp.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&En("scroll",r)}switch(n){case"input":gm(r),aR(r,o,!0);break;case"textarea":gm(r),cR(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=qy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[gs]=e,t[_p]=r,OD(t,e,!1,!1),e.stateNode=t;e:{switch(s=dx(n,r),n){case"dialog":En("cancel",t),En("close",t),i=r;break;case"iframe":case"object":case"embed":En("load",t),i=r;break;case"video":case"audio":for(i=0;i<xf.length;i++)En(xf[i],t);i=r;break;case"source":En("error",t),i=r;break;case"img":case"image":case"link":En("error",t),En("load",t),i=r;break;case"details":En("toggle",t),i=r;break;case"input":sR(t,r),i=ox(t,r),En("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Fn({},r,{value:void 0}),En("invalid",t);break;case"textarea":lR(t,r),i=lx(t,r),En("invalid",t);break;default:i=r}ux(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?dN(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cN(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&up(t,l):typeof l=="number"&&up(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(cp.hasOwnProperty(o)?l!=null&&o==="onScroll"&&En("scroll",t):l!=null&&OS(t,o,l,s))}switch(n){case"input":gm(t),aR(t,r,!1);break;case"textarea":gm(t),cR(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xl(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ud(t,!!r.multiple,o,!1):r.defaultValue!=null&&ud(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=qy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Hr(e),null;case 6:if(t&&e.stateNode!=null)DD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(_e(166));if(n=mc(wp.current),mc(_s.current),Sm(e)){if(r=e.stateNode,n=e.memoizedProps,r[gs]=e,(o=r.nodeValue!==n)&&(t=ro,t!==null))switch(t.tag){case 3:Em(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Em(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gs]=e,e.stateNode=r}return Hr(e),null;case 13:if(Rn(Dn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Mn&&Ji!==null&&e.mode&1&&!(e.flags&128))JN(),Id(),e.flags|=98560,o=!1;else if(o=Sm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(_e(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(_e(317));o[gs]=e}else Id(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Hr(e),o=!1}else Ho!==null&&(Hx(Ho),Ho=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Dn.current&1?_r===0&&(_r=3):gC())),e.updateQueue!==null&&(e.flags|=4),Hr(e),null);case 4:return kd(),Lx(t,e),t===null&&yp(e.stateNode.containerInfo),Hr(e),null;case 10:return JS(e.type._context),Hr(e),null;case 17:return Mi(e.type)&&Yy(),Hr(e),null;case 19:if(Rn(Dn),o=e.memoizedState,o===null)return Hr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Jh(o,!1);else{if(_r!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=nv(t),s!==null){for(e.flags|=128,Jh(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _n(Dn,Dn.current&1|2),e.child}t=t.sibling}o.tail!==null&&Qn()>Ad&&(e.flags|=128,r=!0,Jh(o,!1),e.lanes=4194304)}else{if(!r)if(t=nv(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Jh(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Mn)return Hr(e),null}else 2*Qn()-o.renderingStartTime>Ad&&n!==1073741824&&(e.flags|=128,r=!0,Jh(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Qn(),e.sibling=null,n=Dn.current,_n(Dn,r?n&1|2:n&1),e):(Hr(e),null);case 22:case 23:return pC(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qi&1073741824&&(Hr(e),e.subtreeFlags&6&&(e.flags|=8192)):Hr(e),null;case 24:return null;case 25:return null}throw Error(_e(156,e.tag))}function U6(t,e){switch(qS(e),e.tag){case 1:return Mi(e.type)&&Yy(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return kd(),Rn(Ai),Rn(ei),rC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nC(e),null;case 13:if(Rn(Dn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(_e(340));Id()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Rn(Dn),null;case 4:return kd(),null;case 10:return JS(e.type._context),null;case 22:case 23:return pC(),null;case 24:return null;default:return null}}var Im=!1,Qr=!1,z6=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function sd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Vn(t,e,r)}else n.current=null}function Fx(t,e,n){try{n()}catch(r){Vn(t,e,r)}}var JR=!1;function W6(t,e){if(wx=Hy,t=BN(),GS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=s),f===o&&++u===r&&(l=s),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xx={focusedElem:t,selectionRange:n},Hy=!1,Ve=e;Ve!==null;)if(e=Ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ve=t;else for(;Ve!==null;){e=Ve;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var x=m.memoizedProps,S=m.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?x:zo(e.type,x),S);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(C){Vn(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Ve=t;break}Ve=e.return}return m=JR,JR=!1,m}function Vf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Fx(e,n,o)}i=i.next}while(i!==r)}}function E0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Bx(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $D(t){var e=t.alternate;e!==null&&(t.alternate=null,$D(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gs],delete e[_p],delete e[Cx],delete e[T6],delete e[I6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function LD(t){return t.tag===5||t.tag===3||t.tag===4}function ZR(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||LD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qy));else if(r!==4&&(t=t.child,t!==null))for(jx(t,e,n),t=t.sibling;t!==null;)jx(t,e,n),t=t.sibling}function Vx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Vx(t,e,n),t=t.sibling;t!==null;)Vx(t,e,n),t=t.sibling}var $r=null,Wo=!1;function Ba(t,e,n){for(n=n.child;n!==null;)FD(t,e,n),n=n.sibling}function FD(t,e,n){if(vs&&typeof vs.onCommitFiberUnmount=="function")try{vs.onCommitFiberUnmount(g0,n)}catch{}switch(n.tag){case 5:Qr||sd(n,e);case 6:var r=$r,i=Wo;$r=null,Ba(t,e,n),$r=r,Wo=i,$r!==null&&(Wo?(t=$r,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$r.removeChild(n.stateNode));break;case 18:$r!==null&&(Wo?(t=$r,n=n.stateNode,t.nodeType===8?Yb(t.parentNode,n):t.nodeType===1&&Yb(t,n),pp(t)):Yb($r,n.stateNode));break;case 4:r=$r,i=Wo,$r=n.stateNode.containerInfo,Wo=!0,Ba(t,e,n),$r=r,Wo=i;break;case 0:case 11:case 14:case 15:if(!Qr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Fx(n,e,s),i=i.next}while(i!==r)}Ba(t,e,n);break;case 1:if(!Qr&&(sd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Vn(n,e,a)}Ba(t,e,n);break;case 21:Ba(t,e,n);break;case 22:n.mode&1?(Qr=(r=Qr)||n.memoizedState!==null,Ba(t,e,n),Qr=r):Ba(t,e,n);break;default:Ba(t,e,n)}}function ek(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new z6),e.forEach(function(r){var i=Z6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function jo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:$r=a.stateNode,Wo=!1;break e;case 3:$r=a.stateNode.containerInfo,Wo=!0;break e;case 4:$r=a.stateNode.containerInfo,Wo=!0;break e}a=a.return}if($r===null)throw Error(_e(160));FD(o,s,i),$r=null,Wo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Vn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)BD(e,t),e=e.sibling}function BD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jo(e,t),cs(t),r&4){try{Vf(3,t,t.return),E0(3,t)}catch(x){Vn(t,t.return,x)}try{Vf(5,t,t.return)}catch(x){Vn(t,t.return,x)}}break;case 1:jo(e,t),cs(t),r&512&&n!==null&&sd(n,n.return);break;case 5:if(jo(e,t),cs(t),r&512&&n!==null&&sd(n,n.return),t.flags&32){var i=t.stateNode;try{up(i,"")}catch(x){Vn(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&sN(i,o),dx(a,s);var c=dx(a,o);for(s=0;s<l.length;s+=2){var u=l[s],h=l[s+1];u==="style"?dN(i,h):u==="dangerouslySetInnerHTML"?cN(i,h):u==="children"?up(i,h):OS(i,u,h,c)}switch(a){case"input":sx(i,o);break;case"textarea":aN(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ud(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?ud(i,!!o.multiple,o.defaultValue,!0):ud(i,!!o.multiple,o.multiple?[]:"",!1))}i[_p]=o}catch(x){Vn(t,t.return,x)}}break;case 6:if(jo(e,t),cs(t),r&4){if(t.stateNode===null)throw Error(_e(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(x){Vn(t,t.return,x)}}break;case 3:if(jo(e,t),cs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pp(e.containerInfo)}catch(x){Vn(t,t.return,x)}break;case 4:jo(e,t),cs(t);break;case 13:jo(e,t),cs(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(hC=Qn())),r&4&&ek(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Qr=(c=Qr)||u,jo(e,t),Qr=c):jo(e,t),cs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ve=t,u=t.child;u!==null;){for(h=Ve=u;Ve!==null;){switch(f=Ve,p=f.child,f.tag){case 0:case 11:case 14:case 15:Vf(4,f,f.return);break;case 1:sd(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(x){Vn(r,n,x)}}break;case 5:sd(f,f.return);break;case 22:if(f.memoizedState!==null){nk(h);continue}}p!==null?(p.return=f,Ve=p):nk(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=uN("display",s))}catch(x){Vn(t,t.return,x)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){Vn(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:jo(e,t),cs(t),r&4&&ek(t);break;case 21:break;default:jo(e,t),cs(t)}}function cs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(LD(n)){var r=n;break e}n=n.return}throw Error(_e(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(up(i,""),r.flags&=-33);var o=ZR(t);Vx(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=ZR(t);jx(t,a,s);break;default:throw Error(_e(161))}}catch(l){Vn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function H6(t,e,n){Ve=t,jD(t)}function jD(t,e,n){for(var r=(t.mode&1)!==0;Ve!==null;){var i=Ve,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Im;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Qr;a=Im;var c=Qr;if(Im=s,(Qr=l)&&!c)for(Ve=i;Ve!==null;)s=Ve,l=s.child,s.tag===22&&s.memoizedState!==null?rk(i):l!==null?(l.return=s,Ve=l):rk(i);for(;o!==null;)Ve=o,jD(o),o=o.sibling;Ve=i,Im=a,Qr=c}tk(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ve=o):tk(t)}}function tk(t){for(;Ve!==null;){var e=Ve;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qr||E0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:zo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&FR(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}FR(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&pp(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}Qr||e.flags&512&&Bx(e)}catch(f){Vn(e,e.return,f)}}if(e===t){Ve=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ve=n;break}Ve=e.return}}function nk(t){for(;Ve!==null;){var e=Ve;if(e===t){Ve=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ve=n;break}Ve=e.return}}function rk(t){for(;Ve!==null;){var e=Ve;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{E0(4,e)}catch(l){Vn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Vn(e,i,l)}}var o=e.return;try{Bx(e)}catch(l){Vn(e,o,l)}break;case 5:var s=e.return;try{Bx(e)}catch(l){Vn(e,s,l)}}}catch(l){Vn(e,e.return,l)}if(e===t){Ve=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ve=a;break}Ve=e.return}}var G6=Math.ceil,ov=Sa.ReactCurrentDispatcher,uC=Sa.ReactCurrentOwner,Eo=Sa.ReactCurrentBatchConfig,Yt=0,Ar=null,ar=null,Br=0,qi=0,ad=Bl(0),_r=0,Cp=null,Ac=0,S0=0,dC=0,Uf=null,Ci=null,hC=0,Ad=1/0,Xs=null,sv=!1,Ux=null,ul=null,Rm=!1,rl=null,av=0,zf=0,zx=null,gy=-1,my=0;function di(){return Yt&6?Qn():gy!==-1?gy:gy=Qn()}function dl(t){return t.mode&1?Yt&2&&Br!==0?Br&-Br:k6.transition!==null?(my===0&&(my=EN()),my):(t=an,t!==0||(t=window.event,t=t===void 0?16:PN(t.type)),t):1}function Jo(t,e,n,r){if(50<zf)throw zf=0,zx=null,Error(_e(185));tg(t,n,r),(!(Yt&2)||t!==Ar)&&(t===Ar&&(!(Yt&2)&&(S0|=n),_r===4&&qa(t,Br)),Oi(t,r),n===1&&Yt===0&&!(e.mode&1)&&(Ad=Qn()+500,b0&&jl()))}function Oi(t,e){var n=t.callbackNode;kV(t,e);var r=Wy(t,t===Ar?Br:0);if(r===0)n!==null&&hR(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hR(n),e===1)t.tag===0?R6(ik.bind(null,t)):YN(ik.bind(null,t)),S6(function(){!(Yt&6)&&jl()}),n=null;else{switch(SN(r)){case 1:n=FS;break;case 4:n=wN;break;case 16:n=zy;break;case 536870912:n=xN;break;default:n=zy}n=qD(n,VD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function VD(t,e){if(gy=-1,my=0,Yt&6)throw Error(_e(327));var n=t.callbackNode;if(gd()&&t.callbackNode!==n)return null;var r=Wy(t,t===Ar?Br:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=lv(t,r);else{e=r;var i=Yt;Yt|=2;var o=zD();(Ar!==t||Br!==e)&&(Xs=null,Ad=Qn()+500,Ec(t,e));do try{Y6();break}catch(a){UD(t,a)}while(!0);QS(),ov.current=o,Yt=i,ar!==null?e=0:(Ar=null,Br=0,e=_r)}if(e!==0){if(e===2&&(i=mx(t),i!==0&&(r=i,e=Wx(t,i))),e===1)throw n=Cp,Ec(t,0),qa(t,r),Oi(t,Qn()),n;if(e===6)qa(t,r);else{if(i=t.current.alternate,!(r&30)&&!K6(i)&&(e=lv(t,r),e===2&&(o=mx(t),o!==0&&(r=o,e=Wx(t,o))),e===1))throw n=Cp,Ec(t,0),qa(t,r),Oi(t,Qn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(_e(345));case 2:lc(t,Ci,Xs);break;case 3:if(qa(t,r),(r&130023424)===r&&(e=hC+500-Qn(),10<e)){if(Wy(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){di(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Sx(lc.bind(null,t,Ci,Xs),e);break}lc(t,Ci,Xs);break;case 4:if(qa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Qo(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Qn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*G6(r/1960))-r,10<r){t.timeoutHandle=Sx(lc.bind(null,t,Ci,Xs),r);break}lc(t,Ci,Xs);break;case 5:lc(t,Ci,Xs);break;default:throw Error(_e(329))}}}return Oi(t,Qn()),t.callbackNode===n?VD.bind(null,t):null}function Wx(t,e){var n=Uf;return t.current.memoizedState.isDehydrated&&(Ec(t,e).flags|=256),t=lv(t,e),t!==2&&(e=Ci,Ci=n,e!==null&&Hx(e)),t}function Hx(t){Ci===null?Ci=t:Ci.push.apply(Ci,t)}function K6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ts(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qa(t,e){for(e&=~dC,e&=~S0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qo(e),r=1<<n;t[n]=-1,e&=~r}}function ik(t){if(Yt&6)throw Error(_e(327));gd();var e=Wy(t,0);if(!(e&1))return Oi(t,Qn()),null;var n=lv(t,e);if(t.tag!==0&&n===2){var r=mx(t);r!==0&&(e=r,n=Wx(t,r))}if(n===1)throw n=Cp,Ec(t,0),qa(t,e),Oi(t,Qn()),n;if(n===6)throw Error(_e(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,lc(t,Ci,Xs),Oi(t,Qn()),null}function fC(t,e){var n=Yt;Yt|=1;try{return t(e)}finally{Yt=n,Yt===0&&(Ad=Qn()+500,b0&&jl())}}function Mc(t){rl!==null&&rl.tag===0&&!(Yt&6)&&gd();var e=Yt;Yt|=1;var n=Eo.transition,r=an;try{if(Eo.transition=null,an=1,t)return t()}finally{an=r,Eo.transition=n,Yt=e,!(Yt&6)&&jl()}}function pC(){qi=ad.current,Rn(ad)}function Ec(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,E6(n)),ar!==null)for(n=ar.return;n!==null;){var r=n;switch(qS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yy();break;case 3:kd(),Rn(Ai),Rn(ei),rC();break;case 5:nC(r);break;case 4:kd();break;case 13:Rn(Dn);break;case 19:Rn(Dn);break;case 10:JS(r.type._context);break;case 22:case 23:pC()}n=n.return}if(Ar=t,ar=t=hl(t.current,null),Br=qi=e,_r=0,Cp=null,dC=S0=Ac=0,Ci=Uf=null,gc!==null){for(e=0;e<gc.length;e++)if(n=gc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}gc=null}return t}function UD(t,e){do{var n=ar;try{if(QS(),hy.current=iv,rv){for(var r=$n.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}rv=!1}if(Pc=0,Rr=mr=$n=null,jf=!1,xp=0,uC.current=null,n===null||n.return===null){_r=1,Cp=e,ar=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Br,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=HR(s);if(p!==null){p.flags&=-257,GR(p,s,a,o,e),p.mode&1&&WR(o,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var x=new Set;x.add(l),e.updateQueue=x}else m.add(l);break e}else{if(!(e&1)){WR(o,c,e),gC();break e}l=Error(_e(426))}}else if(Mn&&a.mode&1){var S=HR(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),GR(S,s,a,o,e),YS(Pd(l,a));break e}}o=l=Pd(l,a),_r!==4&&(_r=2),Uf===null?Uf=[o]:Uf.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=CD(o,l,e);LR(o,_);break e;case 1:a=l;var w=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ul===null||!ul.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=TD(o,a,e);LR(o,C);break e}}o=o.return}while(o!==null)}HD(n)}catch(N){e=N,ar===n&&n!==null&&(ar=n=n.return);continue}break}while(!0)}function zD(){var t=ov.current;return ov.current=iv,t===null?iv:t}function gC(){(_r===0||_r===3||_r===2)&&(_r=4),Ar===null||!(Ac&268435455)&&!(S0&268435455)||qa(Ar,Br)}function lv(t,e){var n=Yt;Yt|=2;var r=zD();(Ar!==t||Br!==e)&&(Xs=null,Ec(t,e));do try{q6();break}catch(i){UD(t,i)}while(!0);if(QS(),Yt=n,ov.current=r,ar!==null)throw Error(_e(261));return Ar=null,Br=0,_r}function q6(){for(;ar!==null;)WD(ar)}function Y6(){for(;ar!==null&&!bV();)WD(ar)}function WD(t){var e=KD(t.alternate,t,qi);t.memoizedProps=t.pendingProps,e===null?HD(t):ar=e,uC.current=null}function HD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=U6(n,e),n!==null){n.flags&=32767,ar=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_r=6,ar=null;return}}else if(n=V6(n,e,qi),n!==null){ar=n;return}if(e=e.sibling,e!==null){ar=e;return}ar=e=t}while(e!==null);_r===0&&(_r=5)}function lc(t,e,n){var r=an,i=Eo.transition;try{Eo.transition=null,an=1,X6(t,e,n,r)}finally{Eo.transition=i,an=r}return null}function X6(t,e,n,r){do gd();while(rl!==null);if(Yt&6)throw Error(_e(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(_e(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(PV(t,o),t===Ar&&(ar=Ar=null,Br=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rm||(Rm=!0,qD(zy,function(){return gd(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Eo.transition,Eo.transition=null;var s=an;an=1;var a=Yt;Yt|=4,uC.current=null,W6(t,n),BD(n,t),m6(xx),Hy=!!wx,xx=wx=null,t.current=n,H6(n),wV(),Yt=a,an=s,Eo.transition=o}else t.current=n;if(Rm&&(Rm=!1,rl=t,av=i),o=t.pendingLanes,o===0&&(ul=null),SV(n.stateNode),Oi(t,Qn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(sv)throw sv=!1,t=Ux,Ux=null,t;return av&1&&t.tag!==0&&gd(),o=t.pendingLanes,o&1?t===zx?zf++:(zf=0,zx=t):zf=0,jl(),null}function gd(){if(rl!==null){var t=SN(av),e=Eo.transition,n=an;try{if(Eo.transition=null,an=16>t?16:t,rl===null)var r=!1;else{if(t=rl,rl=null,av=0,Yt&6)throw Error(_e(331));var i=Yt;for(Yt|=4,Ve=t.current;Ve!==null;){var o=Ve,s=o.child;if(Ve.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ve=c;Ve!==null;){var u=Ve;switch(u.tag){case 0:case 11:case 15:Vf(8,u,o)}var h=u.child;if(h!==null)h.return=u,Ve=h;else for(;Ve!==null;){u=Ve;var f=u.sibling,p=u.return;if($D(u),u===c){Ve=null;break}if(f!==null){f.return=p,Ve=f;break}Ve=p}}}var m=o.alternate;if(m!==null){var x=m.child;if(x!==null){m.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}Ve=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Ve=s;else e:for(;Ve!==null;){if(o=Ve,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Vf(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,Ve=_;break e}Ve=o.return}}var w=t.current;for(Ve=w;Ve!==null;){s=Ve;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,Ve=b;else e:for(s=w;Ve!==null;){if(a=Ve,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:E0(9,a)}}catch(N){Vn(a,a.return,N)}if(a===s){Ve=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Ve=C;break e}Ve=a.return}}if(Yt=i,jl(),vs&&typeof vs.onPostCommitFiberRoot=="function")try{vs.onPostCommitFiberRoot(g0,t)}catch{}r=!0}return r}finally{an=n,Eo.transition=e}}return!1}function ok(t,e,n){e=Pd(n,e),e=CD(t,e,1),t=cl(t,e,1),e=di(),t!==null&&(tg(t,1,e),Oi(t,e))}function Vn(t,e,n){if(t.tag===3)ok(t,t,n);else for(;e!==null;){if(e.tag===3){ok(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ul===null||!ul.has(r))){t=Pd(n,t),t=TD(e,t,1),e=cl(e,t,1),t=di(),e!==null&&(tg(e,1,t),Oi(e,t));break}}e=e.return}}function Q6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=di(),t.pingedLanes|=t.suspendedLanes&n,Ar===t&&(Br&n)===n&&(_r===4||_r===3&&(Br&130023424)===Br&&500>Qn()-hC?Ec(t,0):dC|=n),Oi(t,e)}function GD(t,e){e===0&&(t.mode&1?(e=vm,vm<<=1,!(vm&130023424)&&(vm=4194304)):e=1);var n=di();t=da(t,e),t!==null&&(tg(t,e,n),Oi(t,n))}function J6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),GD(t,n)}function Z6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(_e(314))}r!==null&&r.delete(e),GD(t,n)}var KD;KD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ai.current)Ii=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ii=!1,j6(t,e,n);Ii=!!(t.flags&131072)}else Ii=!1,Mn&&e.flags&1048576&&XN(e,Jy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;py(t,e),t=e.pendingProps;var i=Td(e,ei.current);pd(e,n),i=oC(null,e,r,t,i,n);var o=sC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mi(r)?(o=!0,Xy(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,eC(e),i.updater=w0,e.stateNode=i,i._reactInternals=e,Ax(e,r,t,n),e=Nx(null,e,r,!0,o,n)):(e.tag=0,Mn&&o&&KS(e),li(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(py(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=tU(r),t=zo(r,t),i){case 0:e=Ox(null,e,r,t,n);break e;case 1:e=YR(null,e,r,t,n);break e;case 11:e=KR(null,e,r,t,n);break e;case 14:e=qR(null,e,r,zo(r.type,t),n);break e}throw Error(_e(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zo(r,i),Ox(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zo(r,i),YR(t,e,r,i,n);case 3:e:{if(PD(e),t===null)throw Error(_e(387));r=e.pendingProps,o=e.memoizedState,i=o.element,eD(t,e),tv(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Pd(Error(_e(423)),e),e=XR(t,e,r,n,i);break e}else if(r!==i){i=Pd(Error(_e(424)),e),e=XR(t,e,r,n,i);break e}else for(Ji=ll(e.stateNode.containerInfo.firstChild),ro=e,Mn=!0,Ho=null,n=iD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Id(),r===i){e=ha(t,e,n);break e}li(t,e,r,n)}e=e.child}return e;case 5:return oD(e),t===null&&Rx(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Ex(r,i)?s=null:o!==null&&Ex(r,o)&&(e.flags|=32),kD(t,e),li(t,e,s,n),e.child;case 6:return t===null&&Rx(e),null;case 13:return AD(t,e,n);case 4:return tC(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Rd(e,null,r,n):li(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zo(r,i),KR(t,e,r,i,n);case 7:return li(t,e,e.pendingProps,n),e.child;case 8:return li(t,e,e.pendingProps.children,n),e.child;case 12:return li(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,_n(Zy,r._currentValue),r._currentValue=s,o!==null)if(ts(o.value,s)){if(o.children===i.children&&!Ai.current){e=ha(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=oa(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),kx(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(_e(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),kx(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}li(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,pd(e,n),i=To(i),r=r(i),e.flags|=1,li(t,e,r,n),e.child;case 14:return r=e.type,i=zo(r,e.pendingProps),i=zo(r.type,i),qR(t,e,r,i,n);case 15:return ID(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zo(r,i),py(t,e),e.tag=1,Mi(r)?(t=!0,Xy(e)):t=!1,pd(e,n),nD(e,r,i),Ax(e,r,i,n),Nx(null,e,r,!0,t,n);case 19:return MD(t,e,n);case 22:return RD(t,e,n)}throw Error(_e(156,e.tag))};function qD(t,e){return bN(t,e)}function eU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xo(t,e,n,r){return new eU(t,e,n,r)}function mC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tU(t){if(typeof t=="function")return mC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===DS)return 11;if(t===$S)return 14}return 2}function hl(t,e){var n=t.alternate;return n===null?(n=xo(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yy(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")mC(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Qu:return Sc(n.children,i,o,e);case NS:s=8,i|=8;break;case tx:return t=xo(12,n,e,i|2),t.elementType=tx,t.lanes=o,t;case nx:return t=xo(13,n,e,i),t.elementType=nx,t.lanes=o,t;case rx:return t=xo(19,n,e,i),t.elementType=rx,t.lanes=o,t;case rN:return C0(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tN:s=10;break e;case nN:s=9;break e;case DS:s=11;break e;case $S:s=14;break e;case Wa:s=16,r=null;break e}throw Error(_e(130,t==null?t:typeof t,""))}return e=xo(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Sc(t,e,n,r){return t=xo(7,t,r,e),t.lanes=n,t}function C0(t,e,n,r){return t=xo(22,t,r,e),t.elementType=rN,t.lanes=n,t.stateNode={isHidden:!1},t}function rw(t,e,n){return t=xo(6,t,null,e),t.lanes=n,t}function iw(t,e,n){return e=xo(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nU(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fb(0),this.expirationTimes=Fb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function yC(t,e,n,r,i,o,s,a,l){return t=new nU(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=xo(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eC(o),t}function rU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function YD(t){if(!t)return El;t=t._reactInternals;e:{if(Gc(t)!==t||t.tag!==1)throw Error(_e(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_e(171))}if(t.tag===1){var n=t.type;if(Mi(n))return qN(t,n,e)}return e}function XD(t,e,n,r,i,o,s,a,l){return t=yC(n,r,!0,t,i,o,s,a,l),t.context=YD(null),n=t.current,r=di(),i=dl(n),o=oa(r,i),o.callback=e??null,cl(n,o,i),t.current.lanes=i,tg(t,i,r),Oi(t,r),t}function T0(t,e,n,r){var i=e.current,o=di(),s=dl(i);return n=YD(n),e.context===null?e.context=n:e.pendingContext=n,e=oa(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=cl(i,e,s),t!==null&&(Jo(t,i,s,o),dy(t,i,s)),s}function cv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vC(t,e){sk(t,e),(t=t.alternate)&&sk(t,e)}function iU(){return null}var QD=typeof reportError=="function"?reportError:function(t){console.error(t)};function _C(t){this._internalRoot=t}I0.prototype.render=_C.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(_e(409));T0(t,e,null,null)};I0.prototype.unmount=_C.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mc(function(){T0(null,t,null,null)}),e[ua]=null}};function I0(t){this._internalRoot=t}I0.prototype.unstable_scheduleHydration=function(t){if(t){var e=IN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ka.length&&e!==0&&e<Ka[n].priority;n++);Ka.splice(n,0,t),n===0&&kN(t)}};function bC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function R0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ak(){}function oU(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=cv(s);o.call(c)}}var s=XD(e,r,t,0,null,!1,!1,"",ak);return t._reactRootContainer=s,t[ua]=s.current,yp(t.nodeType===8?t.parentNode:t),Mc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=cv(l);a.call(c)}}var l=yC(t,0,!1,null,null,!1,!1,"",ak);return t._reactRootContainer=l,t[ua]=l.current,yp(t.nodeType===8?t.parentNode:t),Mc(function(){T0(e,l,n,r)}),l}function k0(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=cv(s);a.call(l)}}T0(e,s,t,i)}else s=oU(n,e,t,i,r);return cv(s)}CN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wf(e.pendingLanes);n!==0&&(BS(e,n|1),Oi(e,Qn()),!(Yt&6)&&(Ad=Qn()+500,jl()))}break;case 13:Mc(function(){var r=da(t,1);if(r!==null){var i=di();Jo(r,t,1,i)}}),vC(t,1)}};jS=function(t){if(t.tag===13){var e=da(t,134217728);if(e!==null){var n=di();Jo(e,t,134217728,n)}vC(t,134217728)}};TN=function(t){if(t.tag===13){var e=dl(t),n=da(t,e);if(n!==null){var r=di();Jo(n,t,e,r)}vC(t,e)}};IN=function(){return an};RN=function(t,e){var n=an;try{return an=t,e()}finally{an=n}};fx=function(t,e,n){switch(e){case"input":if(sx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_0(r);if(!i)throw Error(_e(90));oN(r),sx(r,i)}}}break;case"textarea":aN(t,n);break;case"select":e=n.value,e!=null&&ud(t,!!n.multiple,e,!1)}};pN=fC;gN=Mc;var sU={usingClientEntryPoint:!1,Events:[rg,td,_0,hN,fN,fC]},Zh={findFiberByHostInstance:pc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},aU={bundleType:Zh.bundleType,version:Zh.version,rendererPackageName:Zh.rendererPackageName,rendererConfig:Zh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vN(t),t===null?null:t.stateNode},findFiberByHostInstance:Zh.findFiberByHostInstance||iU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var km=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!km.isDisabled&&km.supportsFiber)try{g0=km.inject(aU),vs=km}catch{}}uo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sU;uo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bC(e))throw Error(_e(200));return rU(t,e,null,n)};uo.createRoot=function(t,e){if(!bC(t))throw Error(_e(299));var n=!1,r="",i=QD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=yC(t,1,!1,null,null,n,!1,r,i),t[ua]=e.current,yp(t.nodeType===8?t.parentNode:t),new _C(e)};uo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(_e(188)):(t=Object.keys(t).join(","),Error(_e(268,t)));return t=vN(e),t=t===null?null:t.stateNode,t};uo.flushSync=function(t){return Mc(t)};uo.hydrate=function(t,e,n){if(!R0(e))throw Error(_e(200));return k0(null,t,e,!0,n)};uo.hydrateRoot=function(t,e,n){if(!bC(t))throw Error(_e(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=QD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=XD(e,null,t,1,n??null,i,!1,o,s),t[ua]=e.current,yp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new I0(e)};uo.render=function(t,e,n){if(!R0(e))throw Error(_e(200));return k0(null,t,e,!1,n)};uo.unmountComponentAtNode=function(t){if(!R0(t))throw Error(_e(40));return t._reactRootContainer?(Mc(function(){k0(null,null,t,!1,function(){t._reactRootContainer=null,t[ua]=null})}),!0):!1};uo.unstable_batchedUpdates=fC;uo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!R0(n))throw Error(_e(200));if(t==null||t._reactInternals===void 0)throw Error(_e(38));return k0(t,e,n,!1,r)};uo.version="18.2.0-next-9e3b772b8-20220608";function JD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JD)}catch(t){console.error(t)}}JD(),XO.exports=uo;var og=XO.exports;const Pm=Zp(og);var lk=og;Zw.createRoot=lk.createRoot,Zw.hydrateRoot=lk.hydrateRoot;var wC={};Object.defineProperty(wC,"__esModule",{value:!0});wC.parse=pU;wC.serialize=gU;const lU=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,cU=/^[\u0021-\u003A\u003C-\u007E]*$/,uU=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,dU=/^[\u0020-\u003A\u003D-\u007E]*$/,hU=Object.prototype.toString,fU=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function pU(t,e){const n=new fU,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||mU;let o=0;do{const s=t.indexOf("=",o);if(s===-1)break;const a=t.indexOf(";",o),l=a===-1?r:a;if(s>l){o=t.lastIndexOf(";",s-1)+1;continue}const c=ck(t,o,s),u=uk(t,s,c),h=t.slice(c,u);if(n[h]===void 0){let f=ck(t,s+1,l),p=uk(t,l,f);const m=i(t.slice(f,p));n[h]=m}o=l+1}while(o<r);return n}function ck(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function uk(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function gU(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!lU.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!cU.test(i))throw new TypeError(`argument val is invalid: ${e}`);let o=t+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!uU.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!dU.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!yU(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function mU(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function yU(t){return hU.call(t)==="[object Date]"}/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dk="popstate";function vU(t={}){function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Gx("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Tp(i)}return bU(e,n,null,t)}function Ln(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ts(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _U(){return Math.random().toString(36).substring(2,10)}function hk(t,e){return{usr:t.state,key:t.key,idx:e}}function Gx(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?eh(e):e,state:n,key:e&&e.key||r||_U()}}function Tp({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function eh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function bU(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,c=u();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function u(){return(s.state||{idx:null}).idx}function h(){a="POP";let S=u(),_=S==null?null:S-c;c=S,l&&l({action:a,location:x.location,delta:_})}function f(S,_){a="PUSH";let w=Gx(x.location,S,_);c=u()+1;let b=hk(w,c),C=x.createHref(w);try{s.pushState(b,"",C)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(C)}o&&l&&l({action:a,location:x.location,delta:1})}function p(S,_){a="REPLACE";let w=Gx(x.location,S,_);c=u();let b=hk(w,c),C=x.createHref(w);s.replaceState(b,"",C),o&&l&&l({action:a,location:x.location,delta:0})}function m(S){let _=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof S=="string"?S:Tp(S);return w=w.replace(/ $/,"%20"),Ln(_,`No window.location.(origin|href) available to create URL for href: ${w}`),new URL(w,_)}let x={get action(){return a},get location(){return t(i,s)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(dk,h),l=S,()=>{i.removeEventListener(dk,h),l=null}},createHref(S){return e(i,S)},createURL:m,encodeLocation(S){let _=m(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:p,go(S){return s.go(S)}};return x}function ZD(t,e,n="/"){return wU(t,e,n,!1)}function wU(t,e,n,r){let i=typeof e=="string"?eh(e):e,o=fa(i.pathname||"/",n);if(o==null)return null;let s=e$(t);xU(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=OU(o);a=AU(s[l],c,r)}return a}function e$(t,e=[],n=[],r=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Ln(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=sa([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(Ln(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),e$(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:kU(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of t$(o.path))i(o,s,l)}),e}function t$(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=t$(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function xU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:PU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var EU=/^:[\w-]+$/,SU=3,CU=2,TU=1,IU=10,RU=-2,fk=t=>t==="*";function kU(t,e){let n=t.split("/"),r=n.length;return n.some(fk)&&(r+=RU),e&&(r+=CU),n.filter(i=>!fk(i)).reduce((i,o)=>i+(EU.test(o)?SU:o===""?TU:IU),r)}function PU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function AU(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",h=uv({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=uv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:sa([o,h.pathname]),pathnameBase:LU(sa([o,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(o=sa([o,h.pathnameBase]))}return s}function uv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=MU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:h},f)=>{if(u==="*"){let m=a[f]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[f];return h&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function MU(t,e=!1,n=!0){Ts(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function OU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ts(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function fa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function NU(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?eh(t):t;return{pathname:n?n.startsWith("/")?n:DU(n,e):e,search:FU(r),hash:BU(i)}}function DU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ow(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $U(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function n$(t){let e=$U(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function r$(t,e,n,r=!1){let i;typeof t=="string"?i=eh(t):(i={...t},Ln(!i.pathname||!i.pathname.includes("?"),ow("?","pathname","search",i)),Ln(!i.pathname||!i.pathname.includes("#"),ow("#","pathname","hash",i)),Ln(!i.search||!i.search.includes("#"),ow("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=NU(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var sa=t=>t.join("/").replace(/\/\/+/g,"/"),LU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var i$=["POST","PUT","PATCH","DELETE"];new Set(i$);var VU=["GET",...i$];new Set(VU);var th=g.createContext(null);th.displayName="DataRouter";var P0=g.createContext(null);P0.displayName="DataRouterState";var o$=g.createContext({isTransitioning:!1});o$.displayName="ViewTransition";var UU=g.createContext(new Map);UU.displayName="Fetchers";var zU=g.createContext(null);zU.displayName="Await";var Ps=g.createContext(null);Ps.displayName="Navigation";var sg=g.createContext(null);sg.displayName="Location";var As=g.createContext({outlet:null,matches:[],isDataRoute:!1});As.displayName="Route";var xC=g.createContext(null);xC.displayName="RouteError";function WU(t,{relative:e}={}){Ln(ag(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=g.useContext(Ps),{hash:i,pathname:o,search:s}=lg(t,{relative:e}),a=o;return n!=="/"&&(a=o==="/"?n:sa([n,o])),r.createHref({pathname:a,search:s,hash:i})}function ag(){return g.useContext(sg)!=null}function Kc(){return Ln(ag(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(sg).location}var s$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a$(t){g.useContext(Ps).static||g.useLayoutEffect(t)}function A0(){let{isDataRoute:t}=g.useContext(As);return t?iz():HU()}function HU(){Ln(ag(),"useNavigate() may be used only in the context of a <Router> component.");let t=g.useContext(th),{basename:e,navigator:n}=g.useContext(Ps),{matches:r}=g.useContext(As),{pathname:i}=Kc(),o=JSON.stringify(n$(r)),s=g.useRef(!1);return a$(()=>{s.current=!0}),g.useCallback((l,c={})=>{if(Ts(s.current,s$),!s.current)return;if(typeof l=="number"){n.go(l);return}let u=r$(l,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:sa([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,o,i,t])}g.createContext(null);function GU(){let{matches:t}=g.useContext(As),e=t[t.length-1];return e?e.params:{}}function lg(t,{relative:e}={}){let{matches:n}=g.useContext(As),{pathname:r}=Kc(),i=JSON.stringify(n$(n));return g.useMemo(()=>r$(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function KU(t,e){return l$(t,e)}function l$(t,e,n,r){var w;Ln(ag(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=g.useContext(Ps),{matches:s}=g.useContext(As),a=s[s.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",h=a&&a.route;{let b=h&&h.path||"";c$(c,!h||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let f=Kc(),p;if(e){let b=typeof e=="string"?eh(e):e;Ln(u==="/"||((w=b.pathname)==null?void 0:w.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${b.pathname}" was given in the \`location\` prop.`),p=b}else p=f;let m=p.pathname||"/",x=m;if(u!=="/"){let b=u.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let S=!o&&n&&n.matches&&n.matches.length>0?n.matches:ZD(t,{pathname:x});Ts(h||S!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Ts(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=JU(S&&S.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:sa([u,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:sa([u,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return e&&_?g.createElement(sg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},_):_}function qU(){let t=rz(),e=jU(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=g.createElement(g.Fragment,null,g.createElement("p",null,"💿 Hey developer 👋"),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:o},"ErrorBoundary")," or"," ",g.createElement("code",{style:o},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:i},n):null,s)}var YU=g.createElement(qU,null),XU=class extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?g.createElement(As.Provider,{value:this.props.routeContext},g.createElement(xC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function QU({routeContext:t,match:e,children:n}){let r=g.useContext(th);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),g.createElement(As.Provider,{value:t},n)}function JU(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let l=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);Ln(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:h}=n,f=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||f){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let h,f=!1,p=null,m=null;n&&(h=o&&c.route.id?o[c.route.id]:void 0,p=c.route.errorElement||YU,s&&(a<0&&u===0?(c$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,m=null):a===u&&(f=!0,m=c.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,u+1)),S=()=>{let _;return h?_=p:f?_=m:c.route.Component?_=g.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=l,g.createElement(QU,{match:c,routeContext:{outlet:l,matches:x,isDataRoute:n!=null},children:_})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?g.createElement(XU,{location:n.location,revalidation:n.revalidation,component:p,error:h,children:S(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):S()},null)}function EC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZU(t){let e=g.useContext(th);return Ln(e,EC(t)),e}function ez(t){let e=g.useContext(P0);return Ln(e,EC(t)),e}function tz(t){let e=g.useContext(As);return Ln(e,EC(t)),e}function SC(t){let e=tz(t),n=e.matches[e.matches.length-1];return Ln(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function nz(){return SC("useRouteId")}function rz(){var r;let t=g.useContext(xC),e=ez("useRouteError"),n=SC("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function iz(){let{router:t}=ZU("useNavigate"),e=SC("useNavigate"),n=g.useRef(!1);return a$(()=>{n.current=!0}),g.useCallback(async(i,o={})=>{Ts(n.current,s$),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var pk={};function c$(t,e,n){!e&&!pk[t]&&(pk[t]=!0,Ts(!1,n))}g.memo(oz);function oz({routes:t,future:e,state:n}){return l$(t,void 0,n,e)}function vy(t){Ln(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sz({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Ln(!ag(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),a=g.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=eh(n));let{pathname:l="/",search:c="",hash:u="",state:h=null,key:f="default"}=n,p=g.useMemo(()=>{let m=fa(l,s);return m==null?null:{location:{pathname:m,search:c,hash:u,state:h,key:f},navigationType:r}},[s,l,c,u,h,f,r]);return Ts(p!=null,`<Router basename="${s}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:g.createElement(Ps.Provider,{value:a},g.createElement(sg.Provider,{children:e,value:p}))}function az({children:t,location:e}){return KU(Kx(t),e)}function Kx(t,e=[]){let n=[];return g.Children.forEach(t,(r,i)=>{if(!g.isValidElement(r))return;let o=[...e,i];if(r.type===g.Fragment){n.push.apply(n,Kx(r.props.children,o));return}Ln(r.type===vy,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ln(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Kx(r.props.children,o)),n.push(s)}),n}var _y="get",by="application/x-www-form-urlencoded";function M0(t){return t!=null&&typeof t.tagName=="string"}function lz(t){return M0(t)&&t.tagName.toLowerCase()==="button"}function cz(t){return M0(t)&&t.tagName.toLowerCase()==="form"}function uz(t){return M0(t)&&t.tagName.toLowerCase()==="input"}function dz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hz(t,e){return t.button===0&&(!e||e==="_self")&&!dz(t)}var Am=null;function fz(){if(Am===null)try{new FormData(document.createElement("form"),0),Am=!1}catch{Am=!0}return Am}var pz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sw(t){return t!=null&&!pz.has(t)?(Ts(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${by}"`),null):t}function gz(t,e){let n,r,i,o,s;if(cz(t)){let a=t.getAttribute("action");r=a?fa(a,e):null,n=t.getAttribute("method")||_y,i=sw(t.getAttribute("enctype"))||by,o=new FormData(t)}else if(lz(t)||uz(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?fa(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||_y,i=sw(t.getAttribute("formenctype"))||sw(a.getAttribute("enctype"))||by,o=new FormData(a,t),!fz()){let{name:c,type:u,value:h}=t;if(u==="image"){let f=c?`${c}.`:"";o.append(`${f}x`,"0"),o.append(`${f}y`,"0")}else c&&o.append(c,h)}}else{if(M0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_y,r=null,i=by,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function CC(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function mz(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yz(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function vz(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await mz(o,n);return s.links?s.links():[]}return[]}));return xz(r.flat(1).filter(yz).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function gk(t,e,n,r,i,o){let s=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return o==="assets"?e.filter((l,c)=>s(l,c)||a(l,c)):o==="data"?e.filter((l,c)=>{var h;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(s(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function _z(t,e,{includeHydrateFallback:n}={}){return bz(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function bz(t){return[...new Set(t)]}function wz(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function xz(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(wz(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function Ez(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&fa(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function u$(){let t=g.useContext(th);return CC(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Sz(){let t=g.useContext(P0);return CC(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var TC=g.createContext(void 0);TC.displayName="FrameworkContext";function d$(){let t=g.useContext(TC);return CC(t,"You must render this element inside a <HydratedRouter> element"),t}function Cz(t,e){let n=g.useContext(TC),[r,i]=g.useState(!1),[o,s]=g.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:h}=e,f=g.useRef(null);g.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let x=_=>{_.forEach(w=>{s(w.isIntersecting)})},S=new IntersectionObserver(x,{threshold:.5});return f.current&&S.observe(f.current),()=>{S.disconnect()}}},[t]),g.useEffect(()=>{if(r){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,f,{}]:[o,f,{onFocus:ef(a,p),onBlur:ef(l,m),onMouseEnter:ef(c,p),onMouseLeave:ef(u,m),onTouchStart:ef(h,p)}]:[!1,f,{}]}function ef(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Tz({page:t,...e}){let{router:n}=u$(),r=g.useMemo(()=>ZD(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?g.createElement(Rz,{page:t,matches:r,...e}):null}function Iz(t){let{manifest:e,routeModules:n}=d$(),[r,i]=g.useState([]);return g.useEffect(()=>{let o=!1;return vz(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function Rz({page:t,matches:e,...n}){let r=Kc(),{manifest:i,routeModules:o}=d$(),{basename:s}=u$(),{loaderData:a,matches:l}=Sz(),c=g.useMemo(()=>gk(t,e,l,i,r,"data"),[t,e,l,i,r]),u=g.useMemo(()=>gk(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=g.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let m=new Set,x=!1;if(e.forEach(_=>{var b;let w=i.routes[_.route.id];!w||!w.hasLoader||(!c.some(C=>C.route.id===_.route.id)&&_.route.id in a&&((b=o[_.route.id])!=null&&b.shouldRevalidate)||w.hasClientLoader?x=!0:m.add(_.route.id))}),m.size===0)return[];let S=Ez(t,s);return x&&m.size>0&&S.searchParams.set("_routes",e.filter(_=>m.has(_.route.id)).map(_=>_.route.id).join(",")),[S.pathname+S.search]},[s,a,r,i,c,e,t,o]),f=g.useMemo(()=>_z(u,i),[u,i]),p=Iz(u);return g.createElement(g.Fragment,null,h.map(m=>g.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),f.map(m=>g.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),p.map(({key:m,link:x})=>g.createElement("link",{key:m,...x})))}function kz(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var h$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h$&&(window.__reactRouterVersion="7.4.1")}catch{}function Pz({basename:t,children:e,window:n}){let r=g.useRef();r.current==null&&(r.current=vU({window:n,v5Compat:!0}));let i=r.current,[o,s]=g.useState({action:i.action,location:i.location}),a=g.useCallback(l=>{g.startTransition(()=>s(l))},[s]);return g.useLayoutEffect(()=>i.listen(a),[i,a]),g.createElement(sz,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var f$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p$=g.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h,...f},p){let{basename:m}=g.useContext(Ps),x=typeof c=="string"&&f$.test(c),S,_=!1;if(typeof c=="string"&&x&&(S=c,h$))try{let M=new URL(window.location.href),v=c.startsWith("//")?new URL(M.protocol+c):new URL(c),P=fa(v.pathname,m);v.origin===M.origin&&P!=null?c=P+v.search+v.hash:_=!0}catch{Ts(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=WU(c,{relative:i}),[b,C,N]=Cz(r,f),$=Nz(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:h});function E(M){e&&e(M),M.defaultPrevented||$(M)}let k=g.createElement("a",{...f,...N,href:S||w,onClick:_||o?e:E,ref:kz(p,C),target:l,"data-discover":!x&&n==="render"?"true":void 0});return b&&!x?g.createElement(g.Fragment,null,k,g.createElement(Tz,{page:w})):k});p$.displayName="Link";var Az=g.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...c},u){let h=lg(s,{relative:c.relative}),f=Kc(),p=g.useContext(P0),{navigator:m,basename:x}=g.useContext(Ps),S=p!=null&&Bz(h)&&a===!0,_=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,w=f.pathname,b=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(w=w.toLowerCase(),b=b?b.toLowerCase():null,_=_.toLowerCase()),b&&x&&(b=fa(b,x)||b);const C=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let N=w===_||!i&&w.startsWith(_)&&w.charAt(C)==="/",$=b!=null&&(b===_||!i&&b.startsWith(_)&&b.charAt(_.length)==="/"),E={isActive:N,isPending:$,isTransitioning:S},k=N?e:void 0,M;typeof r=="function"?M=r(E):M=[r,N?"active":null,$?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let v=typeof o=="function"?o(E):o;return g.createElement(p$,{...c,"aria-current":k,className:M,ref:u,style:v,to:s,viewTransition:a},typeof l=="function"?l(E):l)});Az.displayName="NavLink";var Mz=g.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=_y,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:h,...f},p)=>{let m=Lz(),x=Fz(a,{relative:c}),S=s.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&f$.test(a),w=b=>{if(l&&l(b),b.defaultPrevented)return;b.preventDefault();let C=b.nativeEvent.submitter,N=(C==null?void 0:C.getAttribute("formmethod"))||s;m(C||b.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:i,state:o,relative:c,preventScrollReset:u,viewTransition:h})};return g.createElement("form",{ref:p,method:S,action:x,onSubmit:r?l:w,...f,"data-discover":!_&&t==="render"?"true":void 0})});Mz.displayName="Form";function Oz(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g$(t){let e=g.useContext(th);return Ln(e,Oz(t)),e}function Nz(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=A0(),l=Kc(),c=lg(t,{relative:o});return g.useCallback(u=>{if(hz(u,e)){u.preventDefault();let h=n!==void 0?n:Tp(l)===Tp(c);a(t,{replace:h,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,c,n,r,e,t,i,o,s])}var Dz=0,$z=()=>`__${String(++Dz)}__`;function Lz(){let{router:t}=g$("useSubmit"),{basename:e}=g.useContext(Ps),n=nz();return g.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:c}=gz(r,e);if(i.navigate===!1){let u=i.fetcherKey||$z();await t.fetch(u,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function Fz(t,{relative:e}={}){let{basename:n}=g.useContext(Ps),r=g.useContext(As);Ln(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...lg(t||".",{relative:e})},s=Kc();if(t==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let u=a.toString();o.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:sa([n,o.pathname])),Tp(o)}function Bz(t,e={}){let n=g.useContext(o$);Ln(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=g$("useViewTransitionState"),i=lg(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=fa(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=fa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return uv(i.pathname,s)!=null||uv(i.pathname,o)!=null}new TextEncoder;const jz=()=>{};var mk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te=function(t,e){if(!t)throw nh(e)},nh=function(t){return new Error("Firebase Database ("+m$.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Vz=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},IC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,h=(o&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,s||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(y$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Vz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||h==null)throw new Uz;const f=o<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const m=c<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Uz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v$=function(t){const e=y$(t);return IC.encodeByteArray(e,!0)},dv=function(t){return v$(t).replace(/\./g,"")},hv=function(t){try{return IC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(t){return _$(void 0,t)}function _$(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Wz(n)||(t[n]=_$(t[n],e[n]));return t}function Wz(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz=()=>Hz().__FIREBASE_DEFAULTS__,Kz=()=>{if(typeof process>"u"||typeof mk>"u")return;const t=mk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hv(t[1]);return e&&JSON.parse(e)},O0=()=>{try{return jz()||Gz()||Kz()||qz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},b$=t=>{var e,n;return(n=(e=O0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},RC=t=>{const e=b$(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},w$=()=>{var t;return(t=O0())===null||t===void 0?void 0:t.config},x$=t=>{var e;return(e=O0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[dv(JSON.stringify(n)),dv(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ti())}function Yz(){var t;const e=(t=O0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qz(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function E$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jz(){const t=ti();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Zz(){return m$.NODE_ADMIN===!0}function e9(){return!Yz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t9(){try{return typeof indexedDB=="object"}catch{return!1}}function n9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9="FirebaseError";class Ms extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=r9,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cg.prototype.create)}}class cg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?i9(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ms(i,a,r)}}function i9(t,e){return t.replace(o9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const o9=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(t){return JSON.parse(t)}function yr(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=Ip(hv(o[0])||""),n=Ip(hv(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},s9=function(t){const e=S$(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},a9=function(t){const e=S$(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Md(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function qx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fv(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function pa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(yk(o)&&yk(s)){if(!pa(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function yk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ef(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Sf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^o&(s^a),u=1518500249):(c=o^s^a,u=1859775393):h<60?(c=o&s|a&(o|s),u=2400959708):(c=o^s^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+r[h]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function c9(t,e){const n=new u9(t,e);return n.subscribe.bind(n)}class u9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");d9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=aw),i.error===void 0&&(i.error=aw),i.complete===void 0&&(i.complete=aw);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function d9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function aw(){}function AC(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,Te(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},D0=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){return t&&t._delegate?t._delegate:t}class ga{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new N0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(g9(e))try{this.getOrInitializeService({instanceIdentifier:cc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=cc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cc){return this.instances.has(e)}getOptions(e=cc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:p9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=cc){return this.component?this.component.multipleInstances?e:cc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p9(t){return t===cc?void 0:t}function g9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new f9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Dt||(Dt={}));const y9={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},v9=Dt.INFO,_9={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},b9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $0{constructor(e){this.name=e,this._logLevel=v9,this._logHandler=b9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...e),this._logHandler(this,Dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...e),this._logHandler(this,Dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...e),this._logHandler(this,Dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...e),this._logHandler(this,Dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...e),this._logHandler(this,Dt.ERROR,...e)}}const w9=(t,e)=>e.some(n=>t instanceof n);let vk,_k;function x9(){return vk||(vk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E9(){return _k||(_k=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C$=new WeakMap,Yx=new WeakMap,T$=new WeakMap,lw=new WeakMap,MC=new WeakMap;function S9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(fl(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&C$.set(n,t)}).catch(()=>{}),MC.set(e,t),e}function C9(t){if(Yx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Yx.set(t,e)}let Xx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||T$.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function T9(t){Xx=t(Xx)}function I9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cw(this),e,...n);return T$.set(r,e.sort?e.sort():[e]),fl(r)}:E9().includes(t)?function(...e){return t.apply(cw(this),e),fl(C$.get(this))}:function(...e){return fl(t.apply(cw(this),e))}}function R9(t){return typeof t=="function"?I9(t):(t instanceof IDBTransaction&&C9(t),w9(t,x9())?new Proxy(t,Xx):t)}function fl(t){if(t instanceof IDBRequest)return S9(t);if(lw.has(t))return lw.get(t);const e=R9(t);return e!==t&&(lw.set(t,e),MC.set(e,t)),e}const cw=t=>MC.get(t);function k9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=fl(s);return r&&s.addEventListener("upgradeneeded",l=>{r(fl(s.result),l.oldVersion,l.newVersion,fl(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const P9=["get","getKey","getAll","getAllKeys","count"],A9=["put","add","delete","clear"],uw=new Map;function bk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(uw.get(e))return uw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=A9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||P9.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return uw.set(e,o),o}T9(t=>({...t,get:(e,n,r)=>bk(e,n)||t.get(e,n,r),has:(e,n)=>!!bk(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(O9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function O9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qx="@firebase/app",wk="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new $0("@firebase/app"),N9="@firebase/app-compat",D9="@firebase/analytics-compat",$9="@firebase/analytics",L9="@firebase/app-check-compat",F9="@firebase/app-check",B9="@firebase/auth",j9="@firebase/auth-compat",V9="@firebase/database",U9="@firebase/data-connect",z9="@firebase/database-compat",W9="@firebase/functions",H9="@firebase/functions-compat",G9="@firebase/installations",K9="@firebase/installations-compat",q9="@firebase/messaging",Y9="@firebase/messaging-compat",X9="@firebase/performance",Q9="@firebase/performance-compat",J9="@firebase/remote-config",Z9="@firebase/remote-config-compat",eW="@firebase/storage",tW="@firebase/storage-compat",nW="@firebase/firestore",rW="@firebase/vertexai",iW="@firebase/firestore-compat",oW="firebase",sW="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="[DEFAULT]",aW={[Qx]:"fire-core",[N9]:"fire-core-compat",[$9]:"fire-analytics",[D9]:"fire-analytics-compat",[F9]:"fire-app-check",[L9]:"fire-app-check-compat",[B9]:"fire-auth",[j9]:"fire-auth-compat",[V9]:"fire-rtdb",[U9]:"fire-data-connect",[z9]:"fire-rtdb-compat",[W9]:"fire-fn",[H9]:"fire-fn-compat",[G9]:"fire-iid",[K9]:"fire-iid-compat",[q9]:"fire-fcm",[Y9]:"fire-fcm-compat",[X9]:"fire-perf",[Q9]:"fire-perf-compat",[J9]:"fire-rc",[Z9]:"fire-rc-compat",[eW]:"fire-gcs",[tW]:"fire-gcs-compat",[nW]:"fire-fst",[iW]:"fire-fst-compat",[rW]:"fire-vertex","fire-js":"fire-js",[oW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=new Map,lW=new Map,Zx=new Map;function xk(t,e){try{t.container.addComponent(e)}catch(n){ma.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sl(t){const e=t.name;if(Zx.has(e))return ma.debug(`There were multiple attempts to register component ${e}.`),!1;Zx.set(e,t);for(const n of pv.values())xk(n,t);for(const n of lW.values())xk(n,t);return!0}function ug(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ci(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pl=new cg("app","Firebase",cW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=sW;function I$(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jx,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw pl.create("bad-app-name",{appName:String(i)});if(n||(n=w$()),!n)throw pl.create("no-options");const o=pv.get(i);if(o){if(pa(n,o.options)&&pa(r,o.config))return o;throw pl.create("duplicate-app",{appName:i})}const s=new m9(i);for(const l of Zx.values())s.addComponent(l);const a=new uW(n,r,s);return pv.set(i,a),a}function L0(t=Jx){const e=pv.get(t);if(!e&&t===Jx&&w$())return I$();if(!e)throw pl.create("no-app",{appName:t});return e}function So(t,e,n){var r;let i=(r=aW[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ma.warn(a.join(" "));return}Sl(new ga(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW="firebase-heartbeat-database",hW=1,Rp="firebase-heartbeat-store";let dw=null;function R$(){return dw||(dw=k9(dW,hW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Rp)}catch(n){console.warn(n)}}}}).catch(t=>{throw pl.create("idb-open",{originalErrorMessage:t.message})})),dw}async function fW(t){try{const n=(await R$()).transaction(Rp),r=await n.objectStore(Rp).get(k$(t));return await n.done,r}catch(e){if(e instanceof Ms)ma.warn(e.message);else{const n=pl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ma.warn(n.message)}}}async function Ek(t,e){try{const r=(await R$()).transaction(Rp,"readwrite");await r.objectStore(Rp).put(e,k$(t)),await r.done}catch(n){if(n instanceof Ms)ma.warn(n.message);else{const r=pl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ma.warn(r.message)}}}function k$(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pW=1024,gW=30;class mW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Sk();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>gW){const s=_W(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ma.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sk(),{heartbeatsToSend:r,unsentEntries:i}=yW(this._heartbeatsCache.heartbeats),o=dv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ma.warn(n),""}}}function Sk(){return new Date().toISOString().substring(0,10)}function yW(t,e=pW){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Ck(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ck(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t9()?n9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ek(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ek(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ck(t){return dv(JSON.stringify({version:2,heartbeats:t})).length}function _W(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bW(t){Sl(new ga("platform-logger",e=>new M9(e),"PRIVATE")),Sl(new ga("heartbeat",e=>new mW(e),"PRIVATE")),So(Qx,wk,t),So(Qx,wk,"esm2017"),So("fire-js","")}bW("");var wW="firebase",xW="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */So(wW,xW,"app");function OC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function P$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EW=P$,A$=new cg("auth","Firebase",P$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=new $0("@firebase/auth");function SW(t,...e){gv.logLevel<=Dt.WARN&&gv.warn(`Auth (${Vl}): ${t}`,...e)}function wy(t,...e){gv.logLevel<=Dt.ERROR&&gv.error(`Auth (${Vl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t,...e){throw DC(t,...e)}function Zo(t,...e){return DC(t,...e)}function NC(t,e,n){const r=Object.assign(Object.assign({},EW()),{[e]:n});return new cg("auth","Firebase",r).create(e,{appName:t.name})}function aa(t){return NC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CW(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ro(t,"argument-error"),NC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function DC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return A$.create(t,...e)}function Je(t,e,...n){if(!t)throw DC(e,...n)}function na(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wy(e),new Error(e)}function ya(t,e){t||na(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function TW(){return Tk()==="http:"||Tk()==="https:"}function Tk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TW()||Qz()||"connection"in navigator)?navigator.onLine:!0}function RW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n){this.shortDelay=e,this.longDelay=n,ya(n>e,"Short delay should be less than long delay!"),this.isMobile=PC()||E$()}get(){return IW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t,e){ya(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;na("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;na("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;na("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PW=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AW=new dg(3e4,6e4);function Ul(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zl(t,e,n,r,i={}){return O$(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=rh(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},o);return Xz()||(c.referrerPolicy="no-referrer"),M$.fetch()(await N$(t,t.config.apiHost,n,a),c)})}async function O$(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},kW),e);try{const i=new OW(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Mm(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mm(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Mm(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Mm(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw NC(t,u,c);Ro(t,u)}}catch(i){if(i instanceof Ms)throw i;Ro(t,"network-request-failed",{message:String(i)})}}async function hg(t,e,n,r,i={}){const o=await zl(t,e,n,r,i);return"mfaPendingCredential"in o&&Ro(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function N$(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?$C(t.config,i):`${t.config.apiScheme}://${i}`;return PW.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function MW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OW{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zo(this.auth,"network-request-failed")),AW.get())})}}function Mm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zo(t,e,r);return i.customData._tokenResponse=n,i}function Ik(t){return t!==void 0&&t.enterprise!==void 0}class NW{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return MW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DW(t,e){return zl(t,"GET","/v2/recaptchaConfig",Ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $W(t,e){return zl(t,"POST","/v1/accounts:delete",e)}async function mv(t,e){return zl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LW(t,e=!1){const n=rn(t),r=await n.getIdToken(e),i=LC(r);Je(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Wf(hw(i.auth_time)),issuedAtTime:Wf(hw(i.iat)),expirationTime:Wf(hw(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function hw(t){return Number(t)*1e3}function LC(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wy("JWT malformed, contained fewer than 3 sections"),null;try{const i=hv(n);return i?JSON.parse(i):(wy("Failed to decode base64 JWT payload"),null)}catch(i){return wy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Rk(t){const e=LC(t);return Je(e,"internal-error"),Je(typeof e.exp<"u","internal-error"),Je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kp(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ms&&FW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function FW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wf(this.lastLoginAt),this.creationTime=Wf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yv(t){var e;const n=t.auth,r=await t.getIdToken(),i=await kp(t,mv(n,{idToken:r}));Je(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?D$(o.providerUserInfo):[],a=VW(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new tE(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function jW(t){const e=rn(t);await yv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VW(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function D$(t){return t.map(e=>{var{providerId:n}=e,r=OC(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UW(t,e){const n=await O$(t,{},async()=>{const r=rh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await N$(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",M$.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zW(t,e){return zl(t,"POST","/v2/accounts:revokeToken",Ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Je(e.idToken,"internal-error"),Je(typeof e.idToken<"u","internal-error"),Je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Je(e.length!==0,"internal-error");const n=Rk(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await UW(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new md;return r&&(Je(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Je(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Je(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new md,this.toJSON())}_performRefresh(){return na("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t,e){Je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ko{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=OC(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tE(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await kp(this,this.stsTokenManager.getToken(this.auth,e));return Je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LW(this,e)}reload(){return jW(this)}_assign(e){this!==e&&(Je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ko(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(aa(this.auth));const e=await this.getIdToken();return await kp(this,$W(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(s=n.photoURL)!==null&&s!==void 0?s:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:C,isAnonymous:N,providerData:$,stsTokenManager:E}=n;Je(b&&E,e,"internal-error");const k=md.fromJSON(this.name,E);Je(typeof b=="string",e,"internal-error"),ja(h,e.name),ja(f,e.name),Je(typeof C=="boolean",e,"internal-error"),Je(typeof N=="boolean",e,"internal-error"),ja(p,e.name),ja(m,e.name),ja(x,e.name),ja(S,e.name),ja(_,e.name),ja(w,e.name);const M=new Ko({uid:b,auth:e,email:f,emailVerified:C,displayName:h,isAnonymous:N,photoURL:m,phoneNumber:p,tenantId:x,stsTokenManager:k,createdAt:_,lastLoginAt:w});return $&&Array.isArray($)&&(M.providerData=$.map(v=>Object.assign({},v))),S&&(M._redirectEventId=S),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new md;i.updateFromServerResponse(n);const o=new Ko({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await yv(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Je(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?D$(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new md;a.updateFromIdToken(r);const l=new Ko({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new tE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=new Map;function ra(t){ya(t instanceof Function,"Expected a class definition");let e=kk.get(t);return e?(ya(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$$.type="NONE";const Pk=$$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t,e,n){return`firebase:${t}:${e}:${n}`}class yd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=xy(this.userKey,i.apiKey,o),this.fullPersistenceKey=xy("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await mv(this.auth,{idToken:e}).catch(()=>{});return n?Ko._fromGetAccountInfoResponse(this.auth,n,e):null}return Ko._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new yd(ra(Pk),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||ra(Pk);const s=xy(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){let h;if(typeof u=="string"){const f=await mv(e,{idToken:u}).catch(()=>{});if(!f)break;h=await Ko._fromGetAccountInfoResponse(e,f,u)}else h=Ko._fromJSON(e,u);c!==o&&(a=h),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new yd(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new yd(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(j$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(L$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(U$(e))return"Blackberry";if(z$(e))return"Webos";if(F$(e))return"Safari";if((e.includes("chrome/")||B$(e))&&!e.includes("edge/"))return"Chrome";if(V$(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function L$(t=ti()){return/firefox\//i.test(t)}function F$(t=ti()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function B$(t=ti()){return/crios\//i.test(t)}function j$(t=ti()){return/iemobile/i.test(t)}function V$(t=ti()){return/android/i.test(t)}function U$(t=ti()){return/blackberry/i.test(t)}function z$(t=ti()){return/webos/i.test(t)}function FC(t=ti()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WW(t=ti()){var e;return FC(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HW(){return Jz()&&document.documentMode===10}function W$(t=ti()){return FC(t)||V$(t)||z$(t)||U$(t)||/windows phone/i.test(t)||j$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(t,e=[]){let n;switch(t){case"Browser":n=Ak(ti());break;case"Worker":n=`${Ak(ti())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KW(t,e={}){return zl(t,"GET","/v2/passwordPolicy",Ul(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW=6;class YW{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:qW,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mk(this),this.idTokenSubscription=new Mk(this),this.beforeStateQueue=new GW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ra(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await yd.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mv(this,{idToken:e}),r=await Ko._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ci(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yv(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ci(this.app))return Promise.reject(aa(this));const n=e?rn(e):null;return n&&Je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ci(this.app)?Promise.reject(aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ra(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KW(this),n=new YW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cg("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await zW(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ra(e)||this._popupRedirectResolver;Je(n,this,"argument-error"),this.redirectPersistenceManager=await yd.create(this,[ra(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=H$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&SW(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Wl(t){return rn(t)}class Mk{constructor(e){this.auth=e,this.observer=null,this.addObserver=c9(n=>this.observer=n)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QW(t){F0=t}function G$(t){return F0.loadJS(t)}function JW(){return F0.recaptchaEnterpriseScript}function ZW(){return F0.gapiScript}function e8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class t8{constructor(){this.enterprise=new n8}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class n8{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const r8="recaptcha-enterprise",K$="NO_RECAPTCHA";class i8{constructor(e){this.type=r8,this.auth=Wl(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{DW(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new NW(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;Ik(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(K$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new t8().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&Ik(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=JW();l.length!==0&&(l+=a),G$(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function Ok(t,e,n,r=!1,i=!1){const o=new i8(t);let s;if(i)s=K$;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function nE(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Ok(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Ok(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(t,e){const n=ug(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(pa(o,e??{}))return i;Ro(i,"already-initialized")}return n.initialize({options:e})}function s8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ra);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function a8(t,e,n){const r=Wl(t);Je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=q$(e),{host:s,port:a}=l8(e),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Je(pa(c,r.config.emulator)&&pa(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,c8()}function q$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function l8(t){const e=q$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Nk(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Nk(s)}}}function Nk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function c8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return na("not implemented")}_getIdTokenResponse(e){return na("not implemented")}_linkToIdToken(e,n){return na("not implemented")}_getReauthenticationResolver(e){return na("not implemented")}}async function u8(t,e){return zl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d8(t,e){return hg(t,"POST","/v1/accounts:signInWithPassword",Ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h8(t,e){return hg(t,"POST","/v1/accounts:signInWithEmailLink",Ul(t,e))}async function f8(t,e){return hg(t,"POST","/v1/accounts:signInWithEmailLink",Ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends BC{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Pp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Pp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nE(e,n,"signInWithPassword",d8);case"emailLink":return h8(e,{email:this._email,oobCode:this._password});default:Ro(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nE(e,r,"signUpPassword",u8);case"emailLink":return f8(e,{idToken:n,email:this._email,oobCode:this._password});default:Ro(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(t,e){return hg(t,"POST","/v1/accounts:signInWithIdp",Ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8="http://localhost";class Oc extends BC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Oc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ro("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=OC(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Oc(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return vd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vd(e,n)}buildRequest(){const e={requestUri:p8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=rh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function m8(t){const e=Ef(Sf(t)).link,n=e?Ef(Sf(e)).deep_link_id:null,r=Ef(Sf(t)).deep_link_id;return(r?Ef(Sf(r)).link:null)||r||n||e||t}class jC{constructor(e){var n,r,i,o,s,a;const l=Ef(Sf(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=g8((i=l.mode)!==null&&i!==void 0?i:null);Je(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=m8(e);try{return new jC(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(){this.providerId=ih.PROVIDER_ID}static credential(e,n){return Pp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=jC.parseLink(n);return Je(r,"argument-error"),Pp._fromEmailAndCode(e,r.code,r.tenantId)}}ih.PROVIDER_ID="password";ih.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ih.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg extends VC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends fg{constructor(){super("facebook.com")}static credential(e){return Oc._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ya.credentialFromTaggedObject(e)}static credentialFromError(e){return Ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ya.credential(e.oauthAccessToken)}catch{return null}}}Ya.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ya.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends fg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Oc._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zs.credential(n,r)}catch{return null}}}Zs.GOOGLE_SIGN_IN_METHOD="google.com";Zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends fg{constructor(){super("github.com")}static credential(e){return Oc._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xa.credential(e.oauthAccessToken)}catch{return null}}}Xa.GITHUB_SIGN_IN_METHOD="github.com";Xa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends fg{constructor(){super("twitter.com")}static credential(e,n){return Oc._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qa.credential(n,r)}catch{return null}}}Qa.TWITTER_SIGN_IN_METHOD="twitter.com";Qa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y8(t,e){return hg(t,"POST","/v1/accounts:signUp",Ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Ko._fromIdTokenResponse(e,r,i),s=Dk(r);return new Nc({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Dk(r);return new Nc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Dk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv extends Ms{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,vv.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new vv(e,n,r,i)}}function Y$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?vv._fromErrorAndOperation(t,o,e,r):o})}async function v8(t,e,n=!1){const r=await kp(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Nc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _8(t,e,n=!1){const{auth:r}=t;if(ci(r.app))return Promise.reject(aa(r));const i="reauthenticate";try{const o=await kp(t,Y$(r,i,e,t),n);Je(o.idToken,r,"internal-error");const s=LC(o.idToken);Je(s,r,"internal-error");const{sub:a}=s;return Je(t.uid===a,r,"user-mismatch"),Nc._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ro(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X$(t,e,n=!1){if(ci(t.app))return Promise.reject(aa(t));const r="signIn",i=await Y$(t,r,e),o=await Nc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function b8(t,e){return X$(Wl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q$(t){const e=Wl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function w8(t,e,n){if(ci(t.app))return Promise.reject(aa(t));const r=Wl(t),s=await nE(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",y8).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Q$(t),l}),a=await Nc._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function x8(t,e,n){return ci(t.app)?Promise.reject(aa(t)):b8(rn(t),ih.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Q$(t),r})}function E8(t,e,n,r){return rn(t).onIdTokenChanged(e,n,r)}function S8(t,e,n){return rn(t).beforeAuthStateChanged(e,n)}function C8(t,e,n,r){return rn(t).onAuthStateChanged(e,n,r)}const _v="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_v,"1"),this.storage.removeItem(_v),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8=1e3,I8=10;class Z$ extends J${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=W$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);HW()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,I8):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},T8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Z$.type="LOCAL";const R8=Z$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL extends J${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eL.type="SESSION";const tL=eL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new B0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await k8(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}B0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=UC("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(){return window}function A8(t){bs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(){return typeof bs().WorkerGlobalScope<"u"&&typeof bs().importScripts=="function"}async function M8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function O8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function N8(){return nL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL="firebaseLocalStorageDb",D8=1,bv="firebaseLocalStorage",iL="fbase_key";class pg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function j0(t,e){return t.transaction([bv],e?"readwrite":"readonly").objectStore(bv)}function $8(){const t=indexedDB.deleteDatabase(rL);return new pg(t).toPromise()}function rE(){const t=indexedDB.open(rL,D8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bv,{keyPath:iL})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bv)?e(r):(r.close(),await $8(),e(await rE()))})})}async function $k(t,e,n){const r=j0(t,!0).put({[iL]:e,value:n});return new pg(r).toPromise()}async function L8(t,e){const n=j0(t,!1).get(e),r=await new pg(n).toPromise();return r===void 0?null:r.value}function Lk(t,e){const n=j0(t,!0).delete(e);return new pg(n).toPromise()}const F8=800,B8=3;class oL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>B8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=B0._getInstance(N8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await M8(),!this.activeServiceWorker)return;this.sender=new P8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||O8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rE();return await $k(e,_v,"1"),await Lk(e,_v),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$k(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>L8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=j0(i,!1).getAll();return new pg(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),F8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oL.type="LOCAL";const j8=oL;new dg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t,e){return e?ra(e):(Je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC extends BC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function V8(t){return X$(t.auth,new zC(t),t.bypassAuthState)}function U8(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),_8(n,new zC(t),t.bypassAuthState)}async function z8(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),v8(n,new zC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return V8;case"linkViaPopup":case"linkViaRedirect":return z8;case"reauthViaPopup":case"reauthViaRedirect":return U8;default:Ro(this.auth,"internal-error")}}resolve(e){ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8=new dg(2e3,1e4);async function H8(t,e,n){if(ci(t.app))return Promise.reject(Zo(t,"operation-not-supported-in-this-environment"));const r=Wl(t);CW(t,e,VC);const i=sL(r,n);return new yc(r,"signInViaPopup",e,i).executeNotNull()}class yc extends aL{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,yc.currentPopupAction&&yc.currentPopupAction.cancel(),yc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Je(e,this.auth,"internal-error"),e}async onExecution(){ya(this.filter.length===1,"Popup operations only handle one event");const e=UC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,W8.get())};e()}}yc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8="pendingRedirect",Ey=new Map;class K8 extends aL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ey.get(this.auth._key());if(!e){try{const r=await q8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ey.set(this.auth._key(),e)}return this.bypassAuthState||Ey.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function q8(t,e){const n=Q8(e),r=X8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Y8(t,e){Ey.set(t._key(),e)}function X8(t){return ra(t._redirectPersistence)}function Q8(t){return xy(G8,t.config.apiKey,t.name)}async function J8(t,e,n=!1){if(ci(t.app))return Promise.reject(aa(t));const r=Wl(t),i=sL(r,e),s=await new K8(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8=10*60*1e3;class eH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lL(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Z8&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fk(e))}saveEventToCache(e){this.cachedEventUids.add(Fk(e)),this.lastProcessedEventTime=Date.now()}}function Fk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nH(t,e={}){return zl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iH=/^https?/;async function oH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await nH(t);for(const n of e)try{if(sH(n))return}catch{}Ro(t,"unauthorized-domain")}function sH(t){const e=eE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!iH.test(n))return!1;if(rH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=new dg(3e4,6e4);function Bk(){const t=bs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function lH(t){return new Promise((e,n)=>{var r,i,o;function s(){Bk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bk(),n(Zo(t,"network-request-failed"))},timeout:aH.get()})}if(!((i=(r=bs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=bs().gapi)===null||o===void 0)&&o.load)s();else{const a=e8("iframefcb");return bs()[a]=()=>{gapi.load?s():n(Zo(t,"network-request-failed"))},G$(`${ZW()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Sy=null,e})}let Sy=null;function cH(t){return Sy=Sy||lH(t),Sy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uH=new dg(5e3,15e3),dH="__/auth/iframe",hH="emulator/auth/iframe",fH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gH(t){const e=t.config;Je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$C(e,hH):`https://${t.config.authDomain}/${dH}`,r={apiKey:e.apiKey,appName:t.name,v:Vl},i=pH.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${rh(r).slice(1)}`}async function mH(t){const e=await cH(t),n=bs().gapi;return Je(n,t,"internal-error"),e.open({where:document.body,url:gH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fH,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Zo(t,"network-request-failed"),a=bs().setTimeout(()=>{o(s)},uH.get());function l(){bs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vH=500,_H=600,bH="_blank",wH="http://localhost";class jk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xH(t,e,n,r=vH,i=_H){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},yH),{width:r.toString(),height:i.toString(),top:o,left:s}),c=ti().toLowerCase();n&&(a=B$(c)?bH:n),L$(c)&&(e=e||wH,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(WW(c)&&a!=="_self")return EH(e||"",a),new jk(null);const h=window.open(e||"",a,u);Je(h,t,"popup-blocked");try{h.focus()}catch{}return new jk(h)}function EH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH="__/auth/handler",CH="emulator/auth/handler",TH=encodeURIComponent("fac");async function Vk(t,e,n,r,i,o){Je(t.config.authDomain,t,"auth-domain-config-required"),Je(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vl,eventId:i};if(e instanceof VC){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",qx(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))s[u]=h}if(e instanceof fg){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${TH}=${encodeURIComponent(l)}`:"";return`${IH(t)}?${rh(a).slice(1)}${c}`}function IH({config:t}){return t.emulator?$C(t,CH):`https://${t.authDomain}/${SH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="webStorageSupport";class RH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tL,this._completeRedirectFn=J8,this._overrideRedirectResult=Y8}async _openPopup(e,n,r,i){var o;ya((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Vk(e,n,r,eE(),i);return xH(e,s,UC())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Vk(e,n,r,eE(),i);return A8(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ya(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await mH(e),r=new eH(e);return n.register("authEvent",i=>(Je(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fw,{type:fw},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[fw];s!==void 0&&n(!!s),Ro(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return W$()||F$()||FC()}}const kH=RH;var Uk="@firebase/auth",zk="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MH(t){Sl(new ga("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Je(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H$(t)},c=new XW(r,i,o,l);return s8(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sl(new ga("auth-internal",e=>{const n=Wl(e.getProvider("auth").getImmediate());return(r=>new PH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),So(Uk,zk,AH(t)),So(Uk,zk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH=5*60,NH=x$("authIdTokenMaxAge")||OH;let Wk=null;const DH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>NH)return;const i=n==null?void 0:n.token;Wk!==i&&(Wk=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function $H(t=L0()){const e=ug(t,"auth");if(e.isInitialized())return e.getImmediate();const n=o8(t,{popupRedirectResolver:kH,persistence:[j8,R8,tL]}),r=x$("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=DH(o.toString());S8(n,s,()=>s(n.currentUser)),E8(n,a=>s(a))}}const i=b$("auth");return i&&a8(n,`http://${i}`),n}function LH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}QW({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Zo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",LH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MH("Browser");var Hk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gl,cL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,k){function M(){}M.prototype=k.prototype,E.D=k.prototype,E.prototype=new M,E.prototype.constructor=E,E.C=function(v,P,D){for(var O=Array(arguments.length-2),J=2;J<arguments.length;J++)O[J-2]=arguments[J];return k.prototype[P].apply(v,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,k,M){M||(M=0);var v=Array(16);if(typeof k=="string")for(var P=0;16>P;++P)v[P]=k.charCodeAt(M++)|k.charCodeAt(M++)<<8|k.charCodeAt(M++)<<16|k.charCodeAt(M++)<<24;else for(P=0;16>P;++P)v[P]=k[M++]|k[M++]<<8|k[M++]<<16|k[M++]<<24;k=E.g[0],M=E.g[1],P=E.g[2];var D=E.g[3],O=k+(D^M&(P^D))+v[0]+3614090360&4294967295;k=M+(O<<7&4294967295|O>>>25),O=D+(P^k&(M^P))+v[1]+3905402710&4294967295,D=k+(O<<12&4294967295|O>>>20),O=P+(M^D&(k^M))+v[2]+606105819&4294967295,P=D+(O<<17&4294967295|O>>>15),O=M+(k^P&(D^k))+v[3]+3250441966&4294967295,M=P+(O<<22&4294967295|O>>>10),O=k+(D^M&(P^D))+v[4]+4118548399&4294967295,k=M+(O<<7&4294967295|O>>>25),O=D+(P^k&(M^P))+v[5]+1200080426&4294967295,D=k+(O<<12&4294967295|O>>>20),O=P+(M^D&(k^M))+v[6]+2821735955&4294967295,P=D+(O<<17&4294967295|O>>>15),O=M+(k^P&(D^k))+v[7]+4249261313&4294967295,M=P+(O<<22&4294967295|O>>>10),O=k+(D^M&(P^D))+v[8]+1770035416&4294967295,k=M+(O<<7&4294967295|O>>>25),O=D+(P^k&(M^P))+v[9]+2336552879&4294967295,D=k+(O<<12&4294967295|O>>>20),O=P+(M^D&(k^M))+v[10]+4294925233&4294967295,P=D+(O<<17&4294967295|O>>>15),O=M+(k^P&(D^k))+v[11]+2304563134&4294967295,M=P+(O<<22&4294967295|O>>>10),O=k+(D^M&(P^D))+v[12]+1804603682&4294967295,k=M+(O<<7&4294967295|O>>>25),O=D+(P^k&(M^P))+v[13]+4254626195&4294967295,D=k+(O<<12&4294967295|O>>>20),O=P+(M^D&(k^M))+v[14]+2792965006&4294967295,P=D+(O<<17&4294967295|O>>>15),O=M+(k^P&(D^k))+v[15]+1236535329&4294967295,M=P+(O<<22&4294967295|O>>>10),O=k+(P^D&(M^P))+v[1]+4129170786&4294967295,k=M+(O<<5&4294967295|O>>>27),O=D+(M^P&(k^M))+v[6]+3225465664&4294967295,D=k+(O<<9&4294967295|O>>>23),O=P+(k^M&(D^k))+v[11]+643717713&4294967295,P=D+(O<<14&4294967295|O>>>18),O=M+(D^k&(P^D))+v[0]+3921069994&4294967295,M=P+(O<<20&4294967295|O>>>12),O=k+(P^D&(M^P))+v[5]+3593408605&4294967295,k=M+(O<<5&4294967295|O>>>27),O=D+(M^P&(k^M))+v[10]+38016083&4294967295,D=k+(O<<9&4294967295|O>>>23),O=P+(k^M&(D^k))+v[15]+3634488961&4294967295,P=D+(O<<14&4294967295|O>>>18),O=M+(D^k&(P^D))+v[4]+3889429448&4294967295,M=P+(O<<20&4294967295|O>>>12),O=k+(P^D&(M^P))+v[9]+568446438&4294967295,k=M+(O<<5&4294967295|O>>>27),O=D+(M^P&(k^M))+v[14]+3275163606&4294967295,D=k+(O<<9&4294967295|O>>>23),O=P+(k^M&(D^k))+v[3]+4107603335&4294967295,P=D+(O<<14&4294967295|O>>>18),O=M+(D^k&(P^D))+v[8]+1163531501&4294967295,M=P+(O<<20&4294967295|O>>>12),O=k+(P^D&(M^P))+v[13]+2850285829&4294967295,k=M+(O<<5&4294967295|O>>>27),O=D+(M^P&(k^M))+v[2]+4243563512&4294967295,D=k+(O<<9&4294967295|O>>>23),O=P+(k^M&(D^k))+v[7]+1735328473&4294967295,P=D+(O<<14&4294967295|O>>>18),O=M+(D^k&(P^D))+v[12]+2368359562&4294967295,M=P+(O<<20&4294967295|O>>>12),O=k+(M^P^D)+v[5]+4294588738&4294967295,k=M+(O<<4&4294967295|O>>>28),O=D+(k^M^P)+v[8]+2272392833&4294967295,D=k+(O<<11&4294967295|O>>>21),O=P+(D^k^M)+v[11]+1839030562&4294967295,P=D+(O<<16&4294967295|O>>>16),O=M+(P^D^k)+v[14]+4259657740&4294967295,M=P+(O<<23&4294967295|O>>>9),O=k+(M^P^D)+v[1]+2763975236&4294967295,k=M+(O<<4&4294967295|O>>>28),O=D+(k^M^P)+v[4]+1272893353&4294967295,D=k+(O<<11&4294967295|O>>>21),O=P+(D^k^M)+v[7]+4139469664&4294967295,P=D+(O<<16&4294967295|O>>>16),O=M+(P^D^k)+v[10]+3200236656&4294967295,M=P+(O<<23&4294967295|O>>>9),O=k+(M^P^D)+v[13]+681279174&4294967295,k=M+(O<<4&4294967295|O>>>28),O=D+(k^M^P)+v[0]+3936430074&4294967295,D=k+(O<<11&4294967295|O>>>21),O=P+(D^k^M)+v[3]+3572445317&4294967295,P=D+(O<<16&4294967295|O>>>16),O=M+(P^D^k)+v[6]+76029189&4294967295,M=P+(O<<23&4294967295|O>>>9),O=k+(M^P^D)+v[9]+3654602809&4294967295,k=M+(O<<4&4294967295|O>>>28),O=D+(k^M^P)+v[12]+3873151461&4294967295,D=k+(O<<11&4294967295|O>>>21),O=P+(D^k^M)+v[15]+530742520&4294967295,P=D+(O<<16&4294967295|O>>>16),O=M+(P^D^k)+v[2]+3299628645&4294967295,M=P+(O<<23&4294967295|O>>>9),O=k+(P^(M|~D))+v[0]+4096336452&4294967295,k=M+(O<<6&4294967295|O>>>26),O=D+(M^(k|~P))+v[7]+1126891415&4294967295,D=k+(O<<10&4294967295|O>>>22),O=P+(k^(D|~M))+v[14]+2878612391&4294967295,P=D+(O<<15&4294967295|O>>>17),O=M+(D^(P|~k))+v[5]+4237533241&4294967295,M=P+(O<<21&4294967295|O>>>11),O=k+(P^(M|~D))+v[12]+1700485571&4294967295,k=M+(O<<6&4294967295|O>>>26),O=D+(M^(k|~P))+v[3]+2399980690&4294967295,D=k+(O<<10&4294967295|O>>>22),O=P+(k^(D|~M))+v[10]+4293915773&4294967295,P=D+(O<<15&4294967295|O>>>17),O=M+(D^(P|~k))+v[1]+2240044497&4294967295,M=P+(O<<21&4294967295|O>>>11),O=k+(P^(M|~D))+v[8]+1873313359&4294967295,k=M+(O<<6&4294967295|O>>>26),O=D+(M^(k|~P))+v[15]+4264355552&4294967295,D=k+(O<<10&4294967295|O>>>22),O=P+(k^(D|~M))+v[6]+2734768916&4294967295,P=D+(O<<15&4294967295|O>>>17),O=M+(D^(P|~k))+v[13]+1309151649&4294967295,M=P+(O<<21&4294967295|O>>>11),O=k+(P^(M|~D))+v[4]+4149444226&4294967295,k=M+(O<<6&4294967295|O>>>26),O=D+(M^(k|~P))+v[11]+3174756917&4294967295,D=k+(O<<10&4294967295|O>>>22),O=P+(k^(D|~M))+v[2]+718787259&4294967295,P=D+(O<<15&4294967295|O>>>17),O=M+(D^(P|~k))+v[9]+3951481745&4294967295,E.g[0]=E.g[0]+k&4294967295,E.g[1]=E.g[1]+(P+(O<<21&4294967295|O>>>11))&4294967295,E.g[2]=E.g[2]+P&4294967295,E.g[3]=E.g[3]+D&4294967295}r.prototype.u=function(E,k){k===void 0&&(k=E.length);for(var M=k-this.blockSize,v=this.B,P=this.h,D=0;D<k;){if(P==0)for(;D<=M;)i(this,E,D),D+=this.blockSize;if(typeof E=="string"){for(;D<k;)if(v[P++]=E.charCodeAt(D++),P==this.blockSize){i(this,v),P=0;break}}else for(;D<k;)if(v[P++]=E[D++],P==this.blockSize){i(this,v),P=0;break}}this.h=P,this.o+=k},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var k=1;k<E.length-8;++k)E[k]=0;var M=8*this.o;for(k=E.length-8;k<E.length;++k)E[k]=M&255,M/=256;for(this.u(E),E=Array(16),k=M=0;4>k;++k)for(var v=0;32>v;v+=8)E[M++]=this.g[k]>>>v&255;return E};function o(E,k){var M=a;return Object.prototype.hasOwnProperty.call(M,E)?M[E]:M[E]=k(E)}function s(E,k){this.h=k;for(var M=[],v=!0,P=E.length-1;0<=P;P--){var D=E[P]|0;v&&D==k||(M[P]=D,v=!1)}this.g=M}var a={};function l(E){return-128<=E&&128>E?o(E,function(k){return new s([k|0],0>k?-1:0)}):new s([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return h;if(0>E)return S(c(-E));for(var k=[],M=1,v=0;E>=M;v++)k[v]=E/M|0,M*=4294967296;return new s(k,0)}function u(E,k){if(E.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(E.charAt(0)=="-")return S(u(E.substring(1),k));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=c(Math.pow(k,8)),v=h,P=0;P<E.length;P+=8){var D=Math.min(8,E.length-P),O=parseInt(E.substring(P,P+D),k);8>D?(D=c(Math.pow(k,D)),v=v.j(D).add(c(O))):(v=v.j(M),v=v.add(c(O)))}return v}var h=l(0),f=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(x(this))return-S(this).m();for(var E=0,k=1,M=0;M<this.g.length;M++){var v=this.i(M);E+=(0<=v?v:4294967296+v)*k,k*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(m(this))return"0";if(x(this))return"-"+S(this).toString(E);for(var k=c(Math.pow(E,6)),M=this,v="";;){var P=C(M,k).g;M=_(M,P.j(k));var D=((0<M.g.length?M.g[0]:M.h)>>>0).toString(E);if(M=P,m(M))return D+v;for(;6>D.length;)D="0"+D;v=D+v}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function m(E){if(E.h!=0)return!1;for(var k=0;k<E.g.length;k++)if(E.g[k]!=0)return!1;return!0}function x(E){return E.h==-1}t.l=function(E){return E=_(this,E),x(E)?-1:m(E)?0:1};function S(E){for(var k=E.g.length,M=[],v=0;v<k;v++)M[v]=~E.g[v];return new s(M,~E.h).add(f)}t.abs=function(){return x(this)?S(this):this},t.add=function(E){for(var k=Math.max(this.g.length,E.g.length),M=[],v=0,P=0;P<=k;P++){var D=v+(this.i(P)&65535)+(E.i(P)&65535),O=(D>>>16)+(this.i(P)>>>16)+(E.i(P)>>>16);v=O>>>16,D&=65535,O&=65535,M[P]=O<<16|D}return new s(M,M[M.length-1]&-2147483648?-1:0)};function _(E,k){return E.add(S(k))}t.j=function(E){if(m(this)||m(E))return h;if(x(this))return x(E)?S(this).j(S(E)):S(S(this).j(E));if(x(E))return S(this.j(S(E)));if(0>this.l(p)&&0>E.l(p))return c(this.m()*E.m());for(var k=this.g.length+E.g.length,M=[],v=0;v<2*k;v++)M[v]=0;for(v=0;v<this.g.length;v++)for(var P=0;P<E.g.length;P++){var D=this.i(v)>>>16,O=this.i(v)&65535,J=E.i(P)>>>16,Q=E.i(P)&65535;M[2*v+2*P]+=O*Q,w(M,2*v+2*P),M[2*v+2*P+1]+=D*Q,w(M,2*v+2*P+1),M[2*v+2*P+1]+=O*J,w(M,2*v+2*P+1),M[2*v+2*P+2]+=D*J,w(M,2*v+2*P+2)}for(v=0;v<k;v++)M[v]=M[2*v+1]<<16|M[2*v];for(v=k;v<2*k;v++)M[v]=0;return new s(M,0)};function w(E,k){for(;(E[k]&65535)!=E[k];)E[k+1]+=E[k]>>>16,E[k]&=65535,k++}function b(E,k){this.g=E,this.h=k}function C(E,k){if(m(k))throw Error("division by zero");if(m(E))return new b(h,h);if(x(E))return k=C(S(E),k),new b(S(k.g),S(k.h));if(x(k))return k=C(E,S(k)),new b(S(k.g),k.h);if(30<E.g.length){if(x(E)||x(k))throw Error("slowDivide_ only works with positive integers.");for(var M=f,v=k;0>=v.l(E);)M=N(M),v=N(v);var P=$(M,1),D=$(v,1);for(v=$(v,2),M=$(M,2);!m(v);){var O=D.add(v);0>=O.l(E)&&(P=P.add(M),D=O),v=$(v,1),M=$(M,1)}return k=_(E,P.j(k)),new b(P,k)}for(P=h;0<=E.l(k);){for(M=Math.max(1,Math.floor(E.m()/k.m())),v=Math.ceil(Math.log(M)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),D=c(M),O=D.j(k);x(O)||0<O.l(E);)M-=v,D=c(M),O=D.j(k);m(D)&&(D=f),P=P.add(D),E=_(E,O)}return new b(P,E)}t.A=function(E){return C(this,E).h},t.and=function(E){for(var k=Math.max(this.g.length,E.g.length),M=[],v=0;v<k;v++)M[v]=this.i(v)&E.i(v);return new s(M,this.h&E.h)},t.or=function(E){for(var k=Math.max(this.g.length,E.g.length),M=[],v=0;v<k;v++)M[v]=this.i(v)|E.i(v);return new s(M,this.h|E.h)},t.xor=function(E){for(var k=Math.max(this.g.length,E.g.length),M=[],v=0;v<k;v++)M[v]=this.i(v)^E.i(v);return new s(M,this.h^E.h)};function N(E){for(var k=E.g.length+1,M=[],v=0;v<k;v++)M[v]=E.i(v)<<1|E.i(v-1)>>>31;return new s(M,E.h)}function $(E,k){var M=k>>5;k%=32;for(var v=E.g.length-M,P=[],D=0;D<v;D++)P[D]=0<k?E.i(D+M)>>>k|E.i(D+M+1)<<32-k:E.i(D+M);return new s(P,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,cL=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,gl=s}).apply(typeof Hk<"u"?Hk:typeof self<"u"?self:typeof window<"u"?window:{});var Om=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uL,Cf,dL,Cy,iE,hL,fL,pL;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,R){return d==Array.prototype||d==Object.prototype||(d[y]=R.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Om=="object"&&Om];for(var y=0;y<d.length;++y){var R=d[y];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(d,y){if(y)e:{var R=r;d=d.split(".");for(var L=0;L<d.length-1;L++){var K=d[L];if(!(K in R))break e;R=R[K]}d=d[d.length-1],L=R[d],y=y(L),y!=L&&y!=null&&e(R,d,{configurable:!0,writable:!0,value:y})}}function o(d,y){d instanceof String&&(d+="");var R=0,L=!1,K={next:function(){if(!L&&R<d.length){var te=R++;return{value:y(te,d[te]),done:!1}}return L=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(d){return d||function(){return o(this,function(y,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function c(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function u(d,y,R){return d.call.apply(d.bind,arguments)}function h(d,y,R){if(!d)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,L),d.apply(y,K)}}return function(){return d.apply(y,arguments)}}function f(d,y,R){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,f.apply(null,arguments)}function p(d,y){var R=Array.prototype.slice.call(arguments,1);return function(){var L=R.slice();return L.push.apply(L,arguments),d.apply(this,L)}}function m(d,y){function R(){}R.prototype=y.prototype,d.aa=y.prototype,d.prototype=new R,d.prototype.constructor=d,d.Qb=function(L,K,te){for(var Re=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)Re[Qt-2]=arguments[Qt];return y.prototype[K].apply(L,Re)}}function x(d){const y=d.length;if(0<y){const R=Array(y);for(let L=0;L<y;L++)R[L]=d[L];return R}return[]}function S(d,y){for(let R=1;R<arguments.length;R++){const L=arguments[R];if(l(L)){const K=d.length||0,te=L.length||0;d.length=K+te;for(let Re=0;Re<te;Re++)d[K+Re]=L[Re]}else d.push(L)}}class _{constructor(y,R){this.i=y,this.j=R,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function w(d){return/^[\s\xa0]*$/.test(d)}function b(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function C(d){return C[" "](d),d}C[" "]=function(){};var N=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function $(d,y,R){for(const L in d)y.call(R,d[L],L,d)}function E(d,y){for(const R in d)y.call(void 0,d[R],R,d)}function k(d){const y={};for(const R in d)y[R]=d[R];return y}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(d,y){let R,L;for(let K=1;K<arguments.length;K++){L=arguments[K];for(R in L)d[R]=L[R];for(let te=0;te<M.length;te++)R=M[te],Object.prototype.hasOwnProperty.call(L,R)&&(d[R]=L[R])}}function P(d){var y=1;d=d.split(":");const R=[];for(;0<y&&d.length;)R.push(d.shift()),y--;return d.length&&R.push(d.join(":")),R}function D(d){a.setTimeout(()=>{throw d},0)}function O(){var d=j;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class J{constructor(){this.h=this.g=null}add(y,R){const L=Q.get();L.set(y,R),this.h?this.h.next=L:this.g=L,this.h=L}}var Q=new _(()=>new Z,d=>d.reset());class Z{constructor(){this.next=this.g=this.h=null}set(y,R){this.h=y,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,U=!1,j=new J,z=()=>{const d=a.Promise.resolve(void 0);ce=()=>{d.then(q)}};var q=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(R){D(R)}var y=Q;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}U=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const R=()=>{};a.addEventListener("test",R,y),a.removeEventListener("test",R,y)}catch{}return d}();function oe(d,y){if(W.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var R=this.type=d.type,L=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(N){e:{try{C(y.nodeName);var K=!0;break e}catch{}K=!1}K||(y=null)}}else R=="mouseover"?y=d.fromElement:R=="mouseout"&&(y=d.toElement);this.relatedTarget=y,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ve[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&oe.aa.h.call(this)}}m(oe,W);var ve={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),ne=0;function ge(d,y,R,L,K){this.listener=d,this.proxy=null,this.src=y,this.type=R,this.capture=!!L,this.ha=K,this.key=++ne,this.da=this.fa=!1}function ee(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ue(d){this.src=d,this.g={},this.h=0}ue.prototype.add=function(d,y,R,L,K){var te=d.toString();d=this.g[te],d||(d=this.g[te]=[],this.h++);var Re=We(d,y,L,K);return-1<Re?(y=d[Re],R||(y.fa=!1)):(y=new ge(y,this.src,te,!!L,K),y.fa=R,d.push(y)),y};function Ae(d,y){var R=y.type;if(R in d.g){var L=d.g[R],K=Array.prototype.indexOf.call(L,y,void 0),te;(te=0<=K)&&Array.prototype.splice.call(L,K,1),te&&(ee(y),d.g[R].length==0&&(delete d.g[R],d.h--))}}function We(d,y,R,L){for(var K=0;K<d.length;++K){var te=d[K];if(!te.da&&te.listener==y&&te.capture==!!R&&te.ha==L)return K}return-1}var fe="closure_lm_"+(1e6*Math.random()|0),Ee={};function Ut(d,y,R,L,K){if(Array.isArray(y)){for(var te=0;te<y.length;te++)Ut(d,y[te],R,L,K);return null}return R=at(R),d&&d[ke]?d.K(y,R,c(L)?!!L.capture:!1,K):Se(d,y,R,!1,L,K)}function Se(d,y,R,L,K,te){if(!y)throw Error("Invalid event type");var Re=c(K)?!!K.capture:!!K,Qt=tn(d);if(Qt||(d[fe]=Qt=new ue(d)),R=Qt.add(y,R,L,Re,te),R.proxy)return R;if(L=Mt(),R.proxy=L,L.src=d,L.listener=R,d.addEventListener)ae||(K=Re),K===void 0&&(K=!1),d.addEventListener(y.toString(),L,K);else if(d.attachEvent)d.attachEvent(nt(y.toString()),L);else if(d.addListener&&d.removeListener)d.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Mt(){function d(R){return y.call(d.src,d.listener,R)}const y=$e;return d}function Ye(d,y,R,L,K){if(Array.isArray(y))for(var te=0;te<y.length;te++)Ye(d,y[te],R,L,K);else L=c(L)?!!L.capture:!!L,R=at(R),d&&d[ke]?(d=d.i,y=String(y).toString(),y in d.g&&(te=d.g[y],R=We(te,R,L,K),-1<R&&(ee(te[R]),Array.prototype.splice.call(te,R,1),te.length==0&&(delete d.g[y],d.h--)))):d&&(d=tn(d))&&(y=d.g[y.toString()],d=-1,y&&(d=We(y,R,L,K)),(R=-1<d?y[d]:null)&&_t(R))}function _t(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[ke])Ae(y.i,d);else{var R=d.type,L=d.proxy;y.removeEventListener?y.removeEventListener(R,L,d.capture):y.detachEvent?y.detachEvent(nt(R),L):y.addListener&&y.removeListener&&y.removeListener(L),(R=tn(y))?(Ae(R,d),R.h==0&&(R.src=null,y[fe]=null)):ee(d)}}}function nt(d){return d in Ee?Ee[d]:Ee[d]="on"+d}function $e(d,y){if(d.da)d=!0;else{y=new oe(y,this);var R=d.listener,L=d.ha||d.src;d.fa&&_t(d),d=R.call(L,y)}return d}function tn(d){return d=d[fe],d instanceof ue?d:null}var bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function at(d){return typeof d=="function"?d:(d[bt]||(d[bt]=function(y){return d.handleEvent(y)}),d[bt])}function It(){H.call(this),this.i=new ue(this),this.M=this,this.F=null}m(It,H),It.prototype[ke]=!0,It.prototype.removeEventListener=function(d,y,R,L){Ye(this,d,y,R,L)};function Bt(d,y){var R,L=d.F;if(L)for(R=[];L;L=L.F)R.push(L);if(d=d.M,L=y.type||y,typeof y=="string")y=new W(y,d);else if(y instanceof W)y.target=y.target||d;else{var K=y;y=new W(L,d),v(y,K)}if(K=!0,R)for(var te=R.length-1;0<=te;te--){var Re=y.g=R[te];K=pn(Re,L,!0,y)&&K}if(Re=y.g=d,K=pn(Re,L,!0,y)&&K,K=pn(Re,L,!1,y)&&K,R)for(te=0;te<R.length;te++)Re=y.g=R[te],K=pn(Re,L,!1,y)&&K}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var R=d.g[y],L=0;L<R.length;L++)ee(R[L]);delete d.g[y],d.h--}}this.F=null},It.prototype.K=function(d,y,R,L){return this.i.add(String(d),y,!1,R,L)},It.prototype.L=function(d,y,R,L){return this.i.add(String(d),y,!0,R,L)};function pn(d,y,R,L){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var K=!0,te=0;te<y.length;++te){var Re=y[te];if(Re&&!Re.da&&Re.capture==R){var Qt=Re.listener,qn=Re.ha||Re.src;Re.fa&&Ae(d.i,Re),K=Qt.call(qn,L)!==!1&&K}}return K&&!L.defaultPrevented}function jt(d,y,R){if(typeof d=="function")R&&(d=f(d,R));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(d,y||0)}function Ct(d){d.g=jt(()=>{d.g=null,d.i&&(d.i=!1,Ct(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Qe extends H{constructor(y,R){super(),this.m=y,this.l=R,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ct(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function On(d){H.call(this),this.h=d,this.g={}}m(On,H);var ur=[];function Ui(d){$(d.g,function(y,R){this.g.hasOwnProperty(R)&&_t(y)},d),d.g={}}On.prototype.N=function(){On.aa.N.call(this),Ui(this)},On.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Le=a.JSON.stringify,wt=a.JSON.parse,gn=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function er(){}er.prototype.h=null;function tr(d){return d.h||(d.h=d.i())}function dr(){}var Gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nr(){W.call(this,"d")}m(nr,W);function xr(){W.call(this,"c")}m(xr,W);var Nn={},rr=null;function Er(){return rr=rr||new It}Nn.La="serverreachability";function ni(d){W.call(this,Nn.La,d)}m(ni,W);function mi(d){const y=Er();Bt(y,new ni(y))}Nn.STAT_EVENT="statevent";function Oe(d,y){W.call(this,Nn.STAT_EVENT,d),this.stat=y}m(Oe,W);function Ie(d){const y=Er();Bt(y,new Oe(y,d))}Nn.Ma="timingevent";function pt(d,y){W.call(this,Nn.Ma,d),this.size=y}m(pt,W);function tt(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},y)}function zt(){this.g=!0}zt.prototype.xa=function(){this.g=!1};function hr(d,y,R,L,K,te){d.info(function(){if(d.g)if(te)for(var Re="",Qt=te.split("&"),qn=0;qn<Qt.length;qn++){var Ht=Qt[qn].split("=");if(1<Ht.length){var Sr=Ht[0];Ht=Ht[1];var pr=Sr.split("_");Re=2<=pr.length&&pr[1]=="type"?Re+(Sr+"="+Ht+"&"):Re+(Sr+"=redacted&")}}else Re=null;else Re=te;return"XMLHTTP REQ ("+L+") [attempt "+K+"]: "+y+`
`+R+`
`+Re})}function Kn(d,y,R,L,K,te,Re){d.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+K+"]: "+y+`
`+R+`
`+te+" "+Re})}function fr(d,y,R,L){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+Xe(d,R)+(L?" "+L:"")})}function yi(d,y){d.info(function(){return"TIMEOUT: "+y})}zt.prototype.info=function(){};function Xe(d,y){if(!d.g)return y;if(!y)return null;try{var R=JSON.parse(y);if(R){for(d=0;d<R.length;d++)if(Array.isArray(R[d])){var L=R[d];if(!(2>L.length)){var K=L[1];if(Array.isArray(K)&&!(1>K.length)){var te=K[0];if(te!="noop"&&te!="stop"&&te!="close")for(var Re=1;Re<K.length;Re++)K[Re]=""}}}}return Le(R)}catch{return y}}var bn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ls;function le(){}m(le,er),le.prototype.g=function(){return new XMLHttpRequest},le.prototype.i=function(){return{}},Ls=new le;function re(d,y,R,L){this.j=d,this.i=y,this.l=R,this.R=L||1,this.U=new On(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ne}function Ne(){this.i=null,this.g="",this.h=!1}var rt={},it={};function Wt(d,y,R){d.L=1,d.v=Oh(as(y)),d.m=R,d.P=!0,kn(d,null)}function kn(d,y){d.F=Date.now(),Fs(d),d.A=as(d.v);var R=d.A,L=d.R;Array.isArray(L)||(L=[String(L)]),tm(R.i,"t",L),d.C=0,R=d.j.J,d.h=new Ne,d.g=cm(d.j,R?y:null,!d.m),0<d.O&&(d.M=new Qe(f(d.Y,d,d.g),d.O)),y=d.U,R=d.g,L=d.ca;var K="readystatechange";Array.isArray(K)||(K&&(ur[0]=K.toString()),K=ur);for(var te=0;te<K.length;te++){var Re=Ut(R,K[te],L||y.handleEvent,!1,y.h||y);if(!Re)break;y.g[Re.key]=Re}y=d.H?k(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),mi(),hr(d.i,d.u,d.A,d.l,d.R,d.m)}re.prototype.ca=function(d){d=d.target;const y=this.M;y&&zi(d)==3?y.j():this.Y(d)},re.prototype.Y=function(d){try{if(d==this.g)e:{const pr=zi(this.g);var y=this.g.Ba();const Da=this.g.Z();if(!(3>pr)&&(pr!=3||this.g&&(this.h.h||this.g.oa()||nc(this.g)))){this.J||pr!=4||y==7||(y==8||0>=Da?mi(3):mi(2)),Bs(this);var R=this.g.Z();this.X=R;t:if(Ur(this)){var L=nc(this.g);d="";var K=L.length,te=zi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xt(this),Lo(this);var Re="";break t}this.h.i=new a.TextDecoder}for(y=0;y<K;y++)this.h.h=!0,d+=this.h.i.decode(L[y],{stream:!(te&&y==K-1)});L.length=0,this.h.g+=d,this.C=0,Re=this.h.g}else Re=this.g.oa();if(this.o=R==200,Kn(this.i,this.u,this.A,this.l,this.R,pr,R),this.o){if(this.T&&!this.K){t:{if(this.g){var Qt,qn=this.g;if((Qt=qn.g?qn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Qt)){var Ht=Qt;break t}}Ht=null}if(R=Ht)fr(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ri(this,R);else{this.o=!1,this.s=3,Ie(12),xt(this),Lo(this);break e}}if(this.P){R=!0;let wi;for(;!this.J&&this.C<Re.length;)if(wi=$o(this,Re),wi==it){pr==4&&(this.s=4,Ie(14),R=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if(wi==rt){this.s=4,Ie(15),fr(this.i,this.l,Re,"[Invalid Chunk]"),R=!1;break}else fr(this.i,this.l,wi,null),ri(this,wi);if(Ur(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pr!=4||Re.length!=0||this.h.h||(this.s=1,Ie(16),R=!1),this.o=this.o&&R,!R)fr(this.i,this.l,Re,"[Invalid Chunked Response]"),xt(this),Lo(this);else if(0<Re.length&&!this.W){this.W=!0;var Sr=this.j;Sr.g==this&&Sr.ba&&!Sr.M&&(Sr.j.info("Great, no buffering proxy detected. Bytes received: "+Re.length),oc(Sr),Sr.M=!0,Ie(11))}}else fr(this.i,this.l,Re,null),ri(this,Re);pr==4&&xt(this),this.o&&!this.J&&(pr==4?Bh(this.j,this):(this.o=!1,Fs(this)))}else Ab(this.g),R==400&&0<Re.indexOf("Unknown SID")?(this.s=3,Ie(12)):(this.s=0,Ie(13)),xt(this),Lo(this)}}}catch{}finally{}};function Ur(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function $o(d,y){var R=d.C,L=y.indexOf(`
`,R);return L==-1?it:(R=Number(y.substring(R,L)),isNaN(R)?rt:(L+=1,L+R>y.length?it:(y=y.slice(L,L+R),d.C=L+R,y)))}re.prototype.cancel=function(){this.J=!0,xt(this)};function Fs(d){d.S=Date.now()+d.I,au(d,d.I)}function au(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=tt(f(d.ba,d),y)}function Bs(d){d.B&&(a.clearTimeout(d.B),d.B=null)}re.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(yi(this.i,this.A),this.L!=2&&(mi(),Ie(17)),xt(this),this.s=2,Lo(this)):au(this,this.S-d)};function Lo(d){d.j.G==0||d.J||Bh(d.j,d)}function xt(d){Bs(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,Ui(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function ri(d,y){try{var R=d.j;if(R.G!=0&&(R.g==d||Xg(R.h,d))){if(!d.K&&Xg(R.h,d)&&R.G==3){try{var L=R.Da.g.parse(y)}catch{L=null}if(Array.isArray(L)&&L.length==3){var K=L;if(K[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<d.F)pu(R),rc(R);else break e;Fh(R),Ie(18)}}else R.za=K[1],0<R.za-R.T&&37500>K[2]&&R.F&&R.v==0&&!R.C&&(R.C=tt(f(R.Za,R),6e3));if(1>=Eb(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else Hs(R,11)}else if((d.K||R.g==d)&&pu(R),!w(y))for(K=R.Da.g.parse(y),y=0;y<K.length;y++){let Ht=K[y];if(R.T=Ht[0],Ht=Ht[1],R.G==2)if(Ht[0]=="c"){R.K=Ht[1],R.ia=Ht[2];const Sr=Ht[3];Sr!=null&&(R.la=Sr,R.j.info("VER="+R.la));const pr=Ht[4];pr!=null&&(R.Aa=pr,R.j.info("SVER="+R.Aa));const Da=Ht[5];Da!=null&&typeof Da=="number"&&0<Da&&(L=1.5*Da,R.L=L,R.j.info("backChannelRequestTimeoutMs_="+L)),L=R;const wi=d.g;if(wi){const yu=wi.g?wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yu){var te=L.h;te.g||yu.indexOf("spdy")==-1&&yu.indexOf("quic")==-1&&yu.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Qg(te,te.h),te.h=null))}if(L.D){const jh=wi.g?wi.g.getResponseHeader("X-HTTP-Session-Id"):null;jh&&(L.ya=jh,mn(L.I,L.D,jh))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-d.F,R.j.info("Handshake RTT: "+R.R+"ms")),L=R;var Re=d;if(L.qa=lm(L,L.J?L.ia:null,L.W),Re.K){Sb(L.h,Re);var Qt=Re,qn=L.L;qn&&(Qt.I=qn),Qt.B&&(Bs(Qt),Fs(Qt)),L.g=Re}else sm(L);0<R.i.length&&ic(R)}else Ht[0]!="stop"&&Ht[0]!="close"||Hs(R,7);else R.G==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Hs(R,7):hu(R):Ht[0]!="noop"&&R.l&&R.l.ta(Ht),R.v=0)}}mi(4)}catch{}}var Fo=class{constructor(d,y){this.g=d,this.map=y}};function js(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ph(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Eb(d){return d.h?1:d.g?d.g.size:0}function Xg(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Qg(d,y){d.g?d.g.add(y):d.h=y}function Sb(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}js.prototype.cancel=function(){if(this.i=Cb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Cb(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const R of d.g.values())y=y.concat(R.D);return y}return x(d.i)}function GI(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var y=[],R=d.length,L=0;L<R;L++)y.push(d[L]);return y}y=[],R=0;for(L in d)y[R++]=d[L];return y}function KI(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var y=[];d=d.length;for(var R=0;R<d;R++)y.push(R);return y}y=[],R=0;for(const L in d)y[R++]=L;return y}}}function Tb(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var R=KI(d),L=GI(d),K=L.length,te=0;te<K;te++)y.call(void 0,L[te],R&&R[te],d)}var Ib=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qI(d,y){if(d){d=d.split("&");for(var R=0;R<d.length;R++){var L=d[R].indexOf("="),K=null;if(0<=L){var te=d[R].substring(0,L);K=d[R].substring(L+1)}else te=d[R];y(te,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Pa(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Pa){this.h=d.h,Ah(this,d.j),this.o=d.o,this.g=d.g,Mh(this,d.s),this.l=d.l;var y=d.i,R=new Xl;R.i=y.i,y.g&&(R.g=new Map(y.g),R.h=y.h),Rb(this,R),this.m=d.m}else d&&(y=String(d).match(Ib))?(this.h=!1,Ah(this,y[1]||"",!0),this.o=lu(y[2]||""),this.g=lu(y[3]||"",!0),Mh(this,y[4]),this.l=lu(y[5]||"",!0),Rb(this,y[6]||"",!0),this.m=lu(y[7]||"")):(this.h=!1,this.i=new Xl(null,this.h))}Pa.prototype.toString=function(){var d=[],y=this.j;y&&d.push(cu(y,Jg,!0),":");var R=this.g;return(R||y=="file")&&(d.push("//"),(y=this.o)&&d.push(cu(y,Jg,!0),"@"),d.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&d.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&d.push("/"),d.push(cu(R,R.charAt(0)=="/"?Yl:Zg,!0))),(R=this.i.toString())&&d.push("?",R),(R=this.m)&&d.push("#",cu(R,kb)),d.join("")};function as(d){return new Pa(d)}function Ah(d,y,R){d.j=R?lu(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Mh(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function Rb(d,y,R){y instanceof Xl?(d.i=y,nm(d.i,d.h)):(R||(y=cu(y,em)),d.i=new Xl(y,d.h))}function mn(d,y,R){d.i.set(y,R)}function Oh(d){return mn(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function lu(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function cu(d,y,R){return typeof d=="string"?(d=encodeURI(d).replace(y,YI),R&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function YI(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Jg=/[#\/\?@]/g,Zg=/[#\?:]/g,Yl=/[#\?]/g,em=/[#\?@]/g,kb=/#/g;function Xl(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function zr(d){d.g||(d.g=new Map,d.h=0,d.i&&qI(d.i,function(y,R){d.add(decodeURIComponent(y.replace(/\+/g," ")),R)}))}t=Xl.prototype,t.add=function(d,y){zr(this),this.i=null,d=ls(this,d);var R=this.g.get(d);return R||this.g.set(d,R=[]),R.push(y),this.h+=1,this};function Ql(d,y){zr(d),y=ls(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function _i(d,y){return zr(d),y=ls(d,y),d.g.has(y)}t.forEach=function(d,y){zr(this),this.g.forEach(function(R,L){R.forEach(function(K){d.call(y,K,L,this)},this)},this)},t.na=function(){zr(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),R=[];for(let L=0;L<y.length;L++){const K=d[L];for(let te=0;te<K.length;te++)R.push(y[L])}return R},t.V=function(d){zr(this);let y=[];if(typeof d=="string")_i(this,d)&&(y=y.concat(this.g.get(ls(this,d))));else{d=Array.from(this.g.values());for(let R=0;R<d.length;R++)y=y.concat(d[R])}return y},t.set=function(d,y){return zr(this),this.i=null,d=ls(this,d),_i(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function tm(d,y,R){Ql(d,y),0<R.length&&(d.i=null,d.g.set(ls(d,y),x(R)),d.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var R=0;R<y.length;R++){var L=y[R];const te=encodeURIComponent(String(L)),Re=this.V(L);for(L=0;L<Re.length;L++){var K=te;Re[L]!==""&&(K+="="+encodeURIComponent(String(Re[L]))),d.push(K)}}return this.i=d.join("&")};function ls(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function nm(d,y){y&&!d.j&&(zr(d),d.i=null,d.g.forEach(function(R,L){var K=L.toLowerCase();L!=K&&(Ql(this,L),tm(this,K,R))},d)),d.j=y}function uu(d,y){const R=new zt;if(a.Image){const L=new Image;L.onload=p(bi,R,"TestLoadImage: loaded",!0,y,L),L.onerror=p(bi,R,"TestLoadImage: error",!1,y,L),L.onabort=p(bi,R,"TestLoadImage: abort",!1,y,L),L.ontimeout=p(bi,R,"TestLoadImage: timeout",!1,y,L),a.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=d}else y(!1)}function rm(d,y){const R=new zt,L=new AbortController,K=setTimeout(()=>{L.abort(),bi(R,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:L.signal}).then(te=>{clearTimeout(K),te.ok?bi(R,"TestPingServer: ok",!0,y):bi(R,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),bi(R,"TestPingServer: error",!1,y)})}function bi(d,y,R,L,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),L(R)}catch{}}function du(){this.g=new gn}function im(d,y,R){const L=R||"";try{Tb(d,function(K,te){let Re=K;c(K)&&(Re=Le(K)),y.push(L+te+"="+encodeURIComponent(Re))})}catch(K){throw y.push(L+"type="+encodeURIComponent("_badmap")),K}}function Aa(d){this.l=d.Ub||null,this.j=d.eb||!1}m(Aa,er),Aa.prototype.g=function(){return new Bo(this.l,this.j)},Aa.prototype.i=function(d){return function(){return d}}({});function Bo(d,y){It.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Bo,It),t=Bo.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Dr(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Dr(this)),this.g&&(this.readyState=3,Dr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nh(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nh(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Vs(this):Dr(this),this.readyState==3&&Nh(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Vs(this))},t.Qa=function(d){this.g&&(this.response=d,Vs(this))},t.ga=function(){this.g&&Vs(this)};function Vs(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Dr(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var R=y.next();!R.done;)R=R.value,d.push(R[0]+": "+R[1]),R=y.next();return d.join(`\r
`)};function Dr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Bo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Jl(d){let y="";return $(d,function(R,L){y+=L,y+=":",y+=R,y+=`\r
`}),y}function Us(d,y,R){e:{for(L in R){var L=!1;break e}L=!0}L||(R=Jl(R),typeof d=="string"?R!=null&&encodeURIComponent(String(R)):mn(d,y,R))}function wn(d){It.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(wn,It);var Pb=/^https?$/i,Zl=["POST","PUT"];t=wn.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,R,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ls.g(),this.v=this.o?tr(this.o):tr(Ls),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(te){Dh(this,te);return}if(d=R||"",R=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var K in L)R.set(K,L[K]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const te of L.keys())R.set(te,L.get(te));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(R.keys()).find(te=>te.toLowerCase()=="content-type"),K=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Zl,y,void 0))||L||K||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,Re]of R)this.g.setRequestHeader(te,Re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tc(this),this.u=!0,this.g.send(d),this.u=!1}catch(te){Dh(this,te)}};function Dh(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,$h(d),Ma(d)}function $h(d){d.A||(d.A=!0,Bt(d,"complete"),Bt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Bt(this,"complete"),Bt(this,"abort"),Ma(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ma(this,!0)),wn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ec(this):this.bb())},t.bb=function(){ec(this)};function ec(d){if(d.h&&typeof s<"u"&&(!d.v[1]||zi(d)!=4||d.Z()!=2)){if(d.u&&zi(d)==4)jt(d.Ea,0,d);else if(Bt(d,"readystatechange"),zi(d)==4){d.h=!1;try{const Re=d.Z();e:switch(Re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var R;if(!(R=y)){var L;if(L=Re===0){var K=String(d.D).match(Ib)[1]||null;!K&&a.self&&a.self.location&&(K=a.self.location.protocol.slice(0,-1)),L=!Pb.test(K?K.toLowerCase():"")}R=L}if(R)Bt(d,"complete"),Bt(d,"success");else{d.m=6;try{var te=2<zi(d)?d.g.statusText:""}catch{te=""}d.l=te+" ["+d.Z()+"]",$h(d)}}finally{Ma(d)}}}}function Ma(d,y){if(d.g){tc(d);const R=d.g,L=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||Bt(d,"ready");try{R.onreadystatechange=L}catch{}}}function tc(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function zi(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<zi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),wt(y)}};function nc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Ab(d){const y={};d=(d.g&&2<=zi(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<d.length;L++){if(w(d[L]))continue;var R=P(d[L]);const K=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const te=y[K]||[];y[K]=te,te.push(R)}E(y,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zs(d,y,R){return R&&R.internalChannelParams&&R.internalChannelParams[d]||y}function Ws(d){this.Aa=0,this.i=[],this.j=new zt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zs("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zs("baseRetryDelayMs",5e3,d),this.cb=zs("retryDelaySeedMs",1e4,d),this.Wa=zs("forwardChannelMaxRetries",2,d),this.wa=zs("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new js(d&&d.concurrentRequestLimit),this.Da=new du,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ws.prototype,t.la=8,t.G=1,t.connect=function(d,y,R,L){Ie(0),this.W=d,this.H=y||{},R&&L!==void 0&&(this.H.OSID=R,this.H.OAID=L),this.F=this.X,this.I=lm(this,null,this.W),ic(this)};function hu(d){if(Lh(d),d.G==3){var y=d.U++,R=as(d.I);if(mn(R,"SID",d.K),mn(R,"RID",y),mn(R,"TYPE","terminate"),Oa(d,R),y=new re(d,d.j,y),y.L=2,y.v=Oh(as(R)),R=!1,a.navigator&&a.navigator.sendBeacon)try{R=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!R&&a.Image&&(new Image().src=y.v,R=!0),R||(y.g=cm(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Fs(y)}gu(d)}function rc(d){d.g&&(oc(d),d.g.cancel(),d.g=null)}function Lh(d){rc(d),d.u&&(a.clearTimeout(d.u),d.u=null),pu(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function ic(d){if(!Ph(d.h)&&!d.s){d.s=!0;var y=d.Ga;ce||z(),U||(ce(),U=!0),j.add(y,d),d.B=0}}function Mb(d,y){return Eb(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=tt(f(d.Ga,d,y),am(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const K=new re(this,this.j,d);let te=this.o;if(this.S&&(te?(te=k(te),v(te,this.S)):te=this.S),this.m!==null||this.O||(K.H=te,te=null),this.P)e:{for(var y=0,R=0;R<this.i.length;R++){t:{var L=this.i[R];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(y+=L,4096<y){y=R;break e}if(y===4096||R===this.i.length-1){y=R+1;break e}}y=1e3}else y=1e3;y=om(this,K,y),R=as(this.I),mn(R,"RID",d),mn(R,"CVER",22),this.D&&mn(R,"X-HTTP-Session-Id",this.D),Oa(this,R),te&&(this.O?y="headers="+encodeURIComponent(String(Jl(te)))+"&"+y:this.m&&Us(R,this.m,te)),Qg(this.h,K),this.Ua&&mn(R,"TYPE","init"),this.P?(mn(R,"$req",y),mn(R,"SID","null"),K.T=!0,Wt(K,R,null)):Wt(K,R,y),this.G=2}}else this.G==3&&(d?ir(this,d):this.i.length==0||Ph(this.h)||ir(this))};function ir(d,y){var R;y?R=y.l:R=d.U++;const L=as(d.I);mn(L,"SID",d.K),mn(L,"RID",R),mn(L,"AID",d.T),Oa(d,L),d.m&&d.o&&Us(L,d.m,d.o),R=new re(d,d.j,R,d.B+1),d.m===null&&(R.H=d.o),y&&(d.i=y.D.concat(d.i)),y=om(d,R,1e3),R.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Qg(d.h,R),Wt(R,L,y)}function Oa(d,y){d.H&&$(d.H,function(R,L){mn(y,L,R)}),d.l&&Tb({},function(R,L){mn(y,L,R)})}function om(d,y,R){R=Math.min(d.i.length,R);var L=d.l?f(d.l.Na,d.l,d):null;e:{var K=d.i;let te=-1;for(;;){const Re=["count="+R];te==-1?0<R?(te=K[0].g,Re.push("ofs="+te)):te=0:Re.push("ofs="+te);let Qt=!0;for(let qn=0;qn<R;qn++){let Ht=K[qn].g;const Sr=K[qn].map;if(Ht-=te,0>Ht)te=Math.max(0,K[qn].g-100),Qt=!1;else try{im(Sr,Re,"req"+Ht+"_")}catch{L&&L(Sr)}}if(Qt){L=Re.join("&");break e}}}return d=d.i.splice(0,R),y.D=d,L}function sm(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;ce||z(),U||(ce(),U=!0),j.add(y,d),d.v=0}}function Fh(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=tt(f(d.Fa,d),am(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=tt(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ie(10),rc(this),fu(this))};function oc(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function fu(d){d.g=new re(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=as(d.qa);mn(y,"RID","rpc"),mn(y,"SID",d.K),mn(y,"AID",d.T),mn(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&mn(y,"TO",d.ja),mn(y,"TYPE","xmlhttp"),Oa(d,y),d.m&&d.o&&Us(y,d.m,d.o),d.L&&(d.g.I=d.L);var R=d.g;d=d.ia,R.L=1,R.v=Oh(as(y)),R.m=null,R.P=!0,kn(R,d)}t.Za=function(){this.C!=null&&(this.C=null,rc(this),Fh(this),Ie(19))};function pu(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Bh(d,y){var R=null;if(d.g==y){pu(d),oc(d),d.g=null;var L=2}else if(Xg(d.h,y))R=y.D,Sb(d.h,y),L=1;else return;if(d.G!=0){if(y.o)if(L==1){R=y.m?y.m.length:0,y=Date.now()-y.F;var K=d.B;L=Er(),Bt(L,new pt(L,R)),ic(d)}else sm(d);else if(K=y.s,K==3||K==0&&0<y.X||!(L==1&&Mb(d,y)||L==2&&Fh(d)))switch(R&&0<R.length&&(y=d.h,y.i=y.i.concat(R)),K){case 1:Hs(d,5);break;case 4:Hs(d,10);break;case 3:Hs(d,6);break;default:Hs(d,2)}}}function am(d,y){let R=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(R*=2),R*y}function Hs(d,y){if(d.j.info("Error code "+y),y==2){var R=f(d.fb,d),L=d.Xa;const K=!L;L=new Pa(L||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ah(L,"https"),Oh(L),K?uu(L.toString(),R):rm(L.toString(),R)}else Ie(2);d.G=0,d.l&&d.l.sa(y),gu(d),Lh(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))};function gu(d){if(d.G=0,d.ka=[],d.l){const y=Cb(d.h);(y.length!=0||d.i.length!=0)&&(S(d.ka,y),S(d.ka,d.i),d.h.i.length=0,x(d.i),d.i.length=0),d.l.ra()}}function lm(d,y,R){var L=R instanceof Pa?as(R):new Pa(R);if(L.g!="")y&&(L.g=y+"."+L.g),Mh(L,L.s);else{var K=a.location;L=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;var te=new Pa(null);L&&Ah(te,L),y&&(te.g=y),K&&Mh(te,K),R&&(te.l=R),L=te}return R=d.D,y=d.ya,R&&y&&mn(L,R,y),mn(L,"VER",d.la),Oa(d,L),L}function cm(d,y,R){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new wn(new Aa({eb:R})):new wn(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function um(){}t=um.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function mu(){}mu.prototype.g=function(d,y){return new ii(d,y)};function ii(d,y){It.call(this),this.g=new Ws(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!w(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!w(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Na(this)}m(ii,It),ii.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ii.prototype.close=function(){hu(this.g)},ii.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var R={};R.__data__=d,d=R}else this.u&&(R={},R.__data__=Le(d),d=R);y.i.push(new Fo(y.Ya++,d)),y.G==3&&ic(y)},ii.prototype.N=function(){this.g.l=null,delete this.j,hu(this.g),delete this.g,ii.aa.N.call(this)};function dm(d){nr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const R in y){d=R;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}m(dm,nr);function hm(){xr.call(this),this.status=1}m(hm,xr);function Na(d){this.g=d}m(Na,um),Na.prototype.ua=function(){Bt(this.g,"a")},Na.prototype.ta=function(d){Bt(this.g,new dm(d))},Na.prototype.sa=function(d){Bt(this.g,new hm)},Na.prototype.ra=function(){Bt(this.g,"b")},mu.prototype.createWebChannel=mu.prototype.g,ii.prototype.send=ii.prototype.o,ii.prototype.open=ii.prototype.m,ii.prototype.close=ii.prototype.close,pL=function(){return new mu},fL=function(){return Er()},hL=Nn,iE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bn.NO_ERROR=0,bn.TIMEOUT=8,bn.HTTP_ERROR=6,Cy=bn,vi.COMPLETE="complete",dL=vi,dr.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",It.prototype.listen=It.prototype.K,Cf=dr,wn.prototype.listenOnce=wn.prototype.L,wn.prototype.getLastError=wn.prototype.Ka,wn.prototype.getLastErrorCode=wn.prototype.Ba,wn.prototype.getStatus=wn.prototype.Z,wn.prototype.getResponseJson=wn.prototype.Oa,wn.prototype.getResponseText=wn.prototype.oa,wn.prototype.send=wn.prototype.ea,wn.prototype.setWithCredentials=wn.prototype.Ha,uL=wn}).apply(typeof Om<"u"?Om:typeof self<"u"?self:typeof window<"u"?window:{});const Gk="@firebase/firestore",Kk="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xr.UNAUTHENTICATED=new Xr(null),Xr.GOOGLE_CREDENTIALS=new Xr("google-credentials-uid"),Xr.FIRST_PARTY=new Xr("first-party-uid"),Xr.MOCK_USER=new Xr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=new $0("@firebase/firestore");function Ru(){return Dc.logLevel}function Be(t,...e){if(Dc.logLevel<=Dt.DEBUG){const n=e.map(WC);Dc.debug(`Firestore (${oh}): ${t}`,...n)}}function va(t,...e){if(Dc.logLevel<=Dt.ERROR){const n=e.map(WC);Dc.error(`Firestore (${oh}): ${t}`,...n)}}function Od(t,...e){if(Dc.logLevel<=Dt.WARN){const n=e.map(WC);Dc.warn(`Firestore (${oh}): ${t}`,...n)}}function WC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t="Unexpected state"){const e=`FIRESTORE (${oh}) INTERNAL ASSERTION FAILED: `+t;throw va(e),new Error(e)}function nn(t,e){t||et()}function dt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends Ms{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xr.UNAUTHENTICATED))}shutdown(){}}class BH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jH{constructor(e){this.t=e,this.currentUser=Xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nn(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new ml;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ml,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ml)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nn(typeof r.accessToken=="string"),new gL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nn(e===null||typeof e=="string"),new Xr(e)}}class VH{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Xr.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class UH{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new VH(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zH{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ci(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){nn(this.o===void 0);const r=o=>{o.error!=null&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Be("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new qk(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(nn(typeof n.token=="string"),this.R=n.token,new qk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=WH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Tt(t,e){return t<e?-1:t>e?1:0}function oE(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Tt(r,i);{const o=mL(),s=HH(o.encode(Yk(t,n)),o.encode(Yk(e,n)));return s!==0?s:Tt(r,i)}}n+=r>65535?2:1}return Tt(t.length,e.length)}function Yk(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function HH(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Tt(t[n],e[n]);return Tt(t.length,e.length)}function Nd(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=-62135596800,Qk=1e6;class br{static now(){return br.fromMillis(Date.now())}static fromDate(e){return br.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Qk);return new br(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ue(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ue(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Xk)throw new Ue(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qk}_compareTo(e){return this.seconds===e.seconds?Tt(this.nanoseconds,e.nanoseconds):Tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Xk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{static fromTimestamp(e){return new ct(e)}static min(){return new ct(new br(0,0))}static max(){return new ct(new br(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="__name__";class hs{constructor(e,n,r){n===void 0?n=0:n>e.length&&et(),r===void 0?r=e.length-n:r>e.length-n&&et(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return hs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=hs.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Tt(e.length,n.length)}static compareSegments(e,n){const r=hs.isNumericId(e),i=hs.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?hs.extractNumericId(e).compare(hs.extractNumericId(n)):oE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gl.fromString(e.substring(4,e.length-2))}}class In extends hs{construct(e,n,r){return new In(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ue(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new In(n)}static emptyPath(){return new In([])}}const GH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fr extends hs{construct(e,n,r){return new Fr(e,n,r)}static isValidIdentifier(e){return GH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jk}static keyField(){return new Fr([Jk])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ue(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ue(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ue(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ue(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fr(n)}static emptyPath(){return new Fr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.path=e}static fromPath(e){return new qe(In.fromString(e))}static fromName(e){return new qe(In.fromString(e).popFirst(5))}static empty(){return new qe(In.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&In.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return In.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new In(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=-1;function KH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ct.fromTimestamp(r===1e9?new br(n+1,0):new br(n,r));return new Cl(i,qe.empty(),e)}function qH(t){return new Cl(t.readTime,t.key,Ap)}class Cl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Cl(ct.min(),qe.empty(),Ap)}static max(){return new Cl(ct.max(),qe.empty(),Ap)}}function YH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qe.comparator(t.documentKey,e.documentKey),n!==0?n:Tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==XH)throw t;Be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):de.reject(n)}static resolve(e){return new de((n,r)=>{n(e)})}static reject(e){return new de((n,r)=>{r(e)})}static waitFor(e){return new de((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next(i=>i?de.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new de((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new de((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function JH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ah(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}V0.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=-1;function U0(t){return t==null}function wv(t){return t===0&&1/t==-1/0}function ZH(t){return typeof t=="number"&&Number.isInteger(t)&&!wv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL="";function e7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Zk(e)),e=t7(t.get(n),e);return Zk(e)}function t7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case vL:n+="";break;default:n+=o}}return n}function Zk(t){return t+vL+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _L(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cr=class sE{constructor(e,n){this.comparator=e,this.root=n||yl.EMPTY}insert(e,n){return new sE(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yl.BLACK,null,null))}remove(e){return new sE(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yl.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nm(this.root,e,this.comparator,!0)}},Nm=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},yl=class Ys{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ys.RED,this.left=i??Ys.EMPTY,this.right=o??Ys.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ys(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ys.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ys.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ys.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ys.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();const e=this.left.check();if(e!==this.right.check())throw et();return e+(this.isRed()?0:1)}};yl.EMPTY=null,yl.RED=!0,yl.BLACK=!1;yl.EMPTY=new class{constructor(){this.size=0}get key(){throw et()}get value(){throw et()}get color(){throw et()}get left(){throw et()}get right(){throw et()}copy(e,n,r,i,o){return this}insert(e,n,r){return new yl(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.comparator=e,this.data=new cr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tP(this.data.getIterator())}getIteratorFrom(e){return new tP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wr(this.comparator);return n.data=e,n}}class tP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this.fields=e,e.sort(Fr.comparator)}static empty(){return new Zi([])}unionWith(e){let n=new wr(Fr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Nd(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new bL("Invalid base64 string: "+o):o}}(e);return new Vr(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Vr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vr.EMPTY_BYTE_STRING=new Vr("");const n7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tl(t){if(nn(!!t),typeof t=="string"){let e=0;const n=n7.exec(t);if(nn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xn(t.seconds),nanos:Xn(t.nanos)}}function Xn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Il(t){return typeof t=="string"?Vr.fromBase64String(t):Vr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL="server_timestamp",xL="__type__",EL="__previous_value__",SL="__local_write_time__";function GC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[xL])===null||n===void 0?void 0:n.stringValue)===wL}function z0(t){const e=t.mapValue.fields[EL];return GC(e)?z0(e):e}function Mp(t){const e=Tl(t.mapValue.fields[SL].timestampValue);return new br(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const xv="(default)";class Op{constructor(e,n){this.projectId=e,this.database=n||xv}static empty(){return new Op("","")}get isDefaultDatabase(){return this.database===xv}isEqual(e){return e instanceof Op&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL="__type__",i7="__max__",Dm={mapValue:{}},TL="__vector__",Ev="value";function Rl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?GC(t)?4:s7(t)?9007199254740991:o7(t)?10:11:et()}function Is(t,e){if(t===e)return!0;const n=Rl(t);if(n!==Rl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mp(t).isEqual(Mp(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Tl(i.timestampValue),a=Tl(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Il(i.bytesValue).isEqual(Il(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Xn(i.geoPointValue.latitude)===Xn(o.geoPointValue.latitude)&&Xn(i.geoPointValue.longitude)===Xn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Xn(i.integerValue)===Xn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Xn(i.doubleValue),a=Xn(o.doubleValue);return s===a?wv(s)===wv(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Nd(t.arrayValue.values||[],e.arrayValue.values||[],Is);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(eP(s)!==eP(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Is(s[l],a[l])))return!1;return!0}(t,e);default:return et()}}function Np(t,e){return(t.values||[]).find(n=>Is(n,e))!==void 0}function Dd(t,e){if(t===e)return 0;const n=Rl(t),r=Rl(e);if(n!==r)return Tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Xn(o.integerValue||o.doubleValue),l=Xn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return nP(t.timestampValue,e.timestampValue);case 4:return nP(Mp(t),Mp(e));case 5:return oE(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Il(o),l=Il(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Tt(a[c],l[c]);if(u!==0)return u}return Tt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Tt(Xn(o.latitude),Xn(s.latitude));return a!==0?a:Tt(Xn(o.longitude),Xn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return rP(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,c,u;const h=o.fields||{},f=s.fields||{},p=(a=h[Ev])===null||a===void 0?void 0:a.arrayValue,m=(l=f[Ev])===null||l===void 0?void 0:l.arrayValue,x=Tt(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return x!==0?x:rP(p,m)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Dm.mapValue&&s===Dm.mapValue)return 0;if(o===Dm.mapValue)return 1;if(s===Dm.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=oE(l[h],u[h]);if(f!==0)return f;const p=Dd(a[l[h]],c[u[h]]);if(p!==0)return p}return Tt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw et()}}function nP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Tt(t,e);const n=Tl(t),r=Tl(e),i=Tt(n.seconds,r.seconds);return i!==0?i:Tt(n.nanos,r.nanos)}function rP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Dd(n[i],r[i]);if(o)return o}return Tt(n.length,r.length)}function $d(t){return aE(t)}function aE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Tl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Il(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return qe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=aE(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${aE(n.fields[s])}`;return i+"}"}(t.mapValue):et()}function Ty(t){switch(Rl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=z0(t);return e?16+Ty(e):16;case 5:return 2*t.stringValue.length;case 6:return Il(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Ty(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Hl(r.fields,(o,s)=>{i+=o.length+Ty(s)}),i}(t.mapValue);default:throw et()}}function iP(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lE(t){return!!t&&"integerValue"in t}function KC(t){return!!t&&"arrayValue"in t}function oP(t){return!!t&&"nullValue"in t}function sP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Iy(t){return!!t&&"mapValue"in t}function o7(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[CL])===null||n===void 0?void 0:n.stringValue)===TL}function Hf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Hf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function s7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===i7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.value=e}static empty(){return new Ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Iy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hf(n)}setAll(e){let n=Fr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Hf(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Iy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Is(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Iy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hl(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ti(Hf(this.value))}}function IL(t){const e=[];return Hl(t.fields,(n,r)=>{const i=new Fr([n]);if(Iy(r)){const o=IL(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Zi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Jr(e,0,ct.min(),ct.min(),ct.min(),Ti.empty(),0)}static newFoundDocument(e,n,r,i){return new Jr(e,1,n,ct.min(),r,i,0)}static newNoDocument(e,n){return new Jr(e,2,n,ct.min(),ct.min(),Ti.empty(),0)}static newUnknownDocument(e,n){return new Jr(e,3,n,ct.min(),ct.min(),Ti.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n){this.position=e,this.inclusive=n}}function aP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=qe.comparator(qe.fromName(s.referenceValue),n.key):r=Dd(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function lP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Is(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n="asc"){this.field=e,this.dir=n}}function a7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{}class lr extends RL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new c7(e,n,r):n==="array-contains"?new h7(e,r):n==="in"?new f7(e,r):n==="not-in"?new p7(e,r):n==="array-contains-any"?new g7(e,r):new lr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new u7(e,r):new d7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Dd(n,this.value)):n!==null&&Rl(this.value)===Rl(n)&&this.matchesComparison(Dd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ns extends RL{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new ns(e,n)}matches(e){return kL(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function kL(t){return t.op==="and"}function PL(t){return l7(t)&&kL(t)}function l7(t){for(const e of t.filters)if(e instanceof ns)return!1;return!0}function cE(t){if(t instanceof lr)return t.field.canonicalString()+t.op.toString()+$d(t.value);if(PL(t))return t.filters.map(e=>cE(e)).join(",");{const e=t.filters.map(n=>cE(n)).join(",");return`${t.op}(${e})`}}function AL(t,e){return t instanceof lr?function(r,i){return i instanceof lr&&r.op===i.op&&r.field.isEqual(i.field)&&Is(r.value,i.value)}(t,e):t instanceof ns?function(r,i){return i instanceof ns&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&AL(s,i.filters[a]),!0):!1}(t,e):void et()}function ML(t){return t instanceof lr?function(n){return`${n.field.canonicalString()} ${n.op} ${$d(n.value)}`}(t):t instanceof ns?function(n){return n.op.toString()+" {"+n.getFilters().map(ML).join(" ,")+"}"}(t):"Filter"}class c7 extends lr{constructor(e,n,r){super(e,n,r),this.key=qe.fromName(r.referenceValue)}matches(e){const n=qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class u7 extends lr{constructor(e,n){super(e,"in",n),this.keys=OL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class d7 extends lr{constructor(e,n){super(e,"not-in",n),this.keys=OL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>qe.fromName(r.referenceValue))}class h7 extends lr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return KC(n)&&Np(n.arrayValue,this.value)}}class f7 extends lr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Np(this.value.arrayValue,n)}}class p7 extends lr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Np(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Np(this.value.arrayValue,n)}}class g7 extends lr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!KC(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Np(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.le=null}}function cP(t,e=null,n=[],r=[],i=null,o=null,s=null){return new m7(t,e,n,r,i,o,s)}function qC(t){const e=dt(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),U0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$d(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$d(r)).join(",")),e.le=n}return e.le}function YC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!a7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lP(t.startAt,e.startAt)&&lP(t.endAt,e.endAt)}function uE(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function y7(t,e,n,r,i,o,s,a){return new gg(t,e,n,r,i,o,s,a)}function XC(t){return new gg(t)}function uP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NL(t){return t.collectionGroup!==null}function Gf(t){const e=dt(t);if(e.he===null){e.he=[];const n=new Set;for(const o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new wr(Fr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new Cv(o,r))}),n.has(Fr.keyField().canonicalString())||e.he.push(new Cv(Fr.keyField(),r))}return e.he}function ws(t){const e=dt(t);return e.Pe||(e.Pe=v7(e,Gf(t))),e.Pe}function v7(t,e){if(t.limitType==="F")return cP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Cv(i.field,o)});const n=t.endAt?new Sv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sv(t.startAt.position,t.startAt.inclusive):null;return cP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dE(t,e){const n=t.filters.concat([e]);return new gg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function hE(t,e,n){return new gg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function W0(t,e){return YC(ws(t),ws(e))&&t.limitType===e.limitType}function DL(t){return`${qC(ws(t))}|lt:${t.limitType}`}function ku(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ML(i)).join(", ")}]`),U0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>$d(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>$d(i)).join(",")),`Target(${r})`}(ws(t))}; limitType=${t.limitType})`}function H0(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):qe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Gf(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=aP(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,Gf(r),i)||r.endAt&&!function(s,a,l){const c=aP(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,Gf(r),i))}(t,e)}function _7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $L(t){return(e,n)=>{let r=!1;for(const i of Gf(t)){const o=b7(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function b7(t,e,n){const r=t.field.isKeyField()?qe.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?Dd(l,c):et()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hl(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return _L(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=new cr(qe.comparator);function _a(){return w7}const LL=new cr(qe.comparator);function Tf(...t){let e=LL;for(const n of t)e=e.insert(n.key,n);return e}function FL(t){let e=LL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vc(){return Kf()}function BL(){return Kf()}function Kf(){return new qc(t=>t.toString(),(t,e)=>t.isEqual(e))}const x7=new cr(qe.comparator),E7=new wr(qe.comparator);function Lt(...t){let e=E7;for(const n of t)e=e.add(n);return e}const S7=new wr(Tt);function C7(){return S7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wv(e)?"-0":e}}function jL(t){return{integerValue:""+t}}function T7(t,e){return ZH(e)?jL(e):QC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this._=void 0}}function I7(t,e,n){return t instanceof Dp?function(i,o){const s={fields:{[xL]:{stringValue:wL},[SL]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&GC(o)&&(o=z0(o)),o&&(s.fields[EL]=o),{mapValue:s}}(n,e):t instanceof Ld?UL(t,e):t instanceof $p?zL(t,e):function(i,o){const s=VL(i,o),a=dP(s)+dP(i.Ie);return lE(s)&&lE(i.Ie)?jL(a):QC(i.serializer,a)}(t,e)}function R7(t,e,n){return t instanceof Ld?UL(t,e):t instanceof $p?zL(t,e):n}function VL(t,e){return t instanceof Tv?function(r){return lE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Dp extends G0{}class Ld extends G0{constructor(e){super(),this.elements=e}}function UL(t,e){const n=WL(e);for(const r of t.elements)n.some(i=>Is(i,r))||n.push(r);return{arrayValue:{values:n}}}class $p extends G0{constructor(e){super(),this.elements=e}}function zL(t,e){let n=WL(e);for(const r of t.elements)n=n.filter(i=>!Is(i,r));return{arrayValue:{values:n}}}class Tv extends G0{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function dP(t){return Xn(t.integerValue||t.doubleValue)}function WL(t){return KC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n){this.field=e,this.transform=n}}function k7(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ld&&i instanceof Ld||r instanceof $p&&i instanceof $p?Nd(r.elements,i.elements,Is):r instanceof Tv&&i instanceof Tv?Is(r.Ie,i.Ie):r instanceof Dp&&i instanceof Dp}(t.transform,e.transform)}class P7{constructor(e,n){this.version=e,this.transformResults=n}}class hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ry(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class K0{}function GL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new q0(t.key,hi.none()):new mg(t.key,t.data,hi.none());{const n=t.data,r=Ti.empty();let i=new wr(Fr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Gl(t.key,r,new Zi(i.toArray()),hi.none())}}function A7(t,e,n){t instanceof mg?function(i,o,s){const a=i.value.clone(),l=fP(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Gl?function(i,o,s){if(!Ry(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=fP(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(KL(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function qf(t,e,n,r){return t instanceof mg?function(o,s,a,l){if(!Ry(o.precondition,s))return a;const c=o.value.clone(),u=pP(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gl?function(o,s,a,l){if(!Ry(o.precondition,s))return a;const c=pP(o.fieldTransforms,l,s),u=s.data;return u.setAll(KL(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return Ry(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function M7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=VL(r.transform,i||null);o!=null&&(n===null&&(n=Ti.empty()),n.set(r.field,o))}return n||null}function hP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Nd(r,i,(o,s)=>k7(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mg extends K0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Gl extends K0{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function KL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function fP(t,e,n){const r=new Map;nn(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,R7(s,a,n[i]))}return r}function pP(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,I7(o,s,e))}return r}class q0 extends K0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class O7 extends K0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&A7(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=qf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=qf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BL();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=GL(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ct.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Lt())}isEqual(e){return this.batchId===e.batchId&&Nd(this.mutations,e.mutations,(n,r)=>hP(n,r))&&Nd(this.baseMutations,e.baseMutations,(n,r)=>hP(n,r))}}class JC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){nn(e.mutations.length===r.length);let i=function(){return x7}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new JC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or,Gt;function L7(t){switch(t){case he.OK:return et();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return et()}}function qL(t){if(t===void 0)return va("GRPC error has no .code"),he.UNKNOWN;switch(t){case or.OK:return he.OK;case or.CANCELLED:return he.CANCELLED;case or.UNKNOWN:return he.UNKNOWN;case or.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case or.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case or.INTERNAL:return he.INTERNAL;case or.UNAVAILABLE:return he.UNAVAILABLE;case or.UNAUTHENTICATED:return he.UNAUTHENTICATED;case or.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case or.NOT_FOUND:return he.NOT_FOUND;case or.ALREADY_EXISTS:return he.ALREADY_EXISTS;case or.PERMISSION_DENIED:return he.PERMISSION_DENIED;case or.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case or.ABORTED:return he.ABORTED;case or.OUT_OF_RANGE:return he.OUT_OF_RANGE;case or.UNIMPLEMENTED:return he.UNIMPLEMENTED;case or.DATA_LOSS:return he.DATA_LOSS;default:return et()}}(Gt=or||(or={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7=new gl([4294967295,4294967295],0);function gP(t){const e=mL().encode(t),n=new cL;return n.update(e),new Uint8Array(n.digest())}function mP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new gl([n,r],0),new gl([i,o],0)]}class ZC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new If(`Invalid padding: ${n}`);if(r<0)throw new If(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new If(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new If(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=gl.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(gl.fromNumber(r)));return i.compare(F7)===1&&(i=new gl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=gP(e),[r,i]=mP(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new ZC(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ee===0)return;const n=gP(e),[r,i]=mP(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);this.Ve(s)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class If extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,yg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Y0(ct.min(),i,new cr(Tt),_a(),Lt())}}class yg{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yg(r,n,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class YL{constructor(e,n){this.targetId=e,this.ge=n}}class XL{constructor(e,n,r=Vr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class yP{constructor(){this.pe=0,this.ye=vP(),this.we=Vr.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Lt(),n=Lt(),r=Lt();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:et()}}),new yg(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=vP()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,nn(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class B7{constructor(e){this.ke=e,this.qe=new Map,this.Qe=_a(),this.$e=$m(),this.Ue=$m(),this.Ke=new cr(Tt)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:et()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const o=i.target;if(uE(o))if(r===0){const s=new qe(o.path);this.ze(n,s,Jr.newNoDocument(s,ct.min()))}else nn(r===1);else{const s=this.et(n);if(s!==r){const a=this.tt(e),l=a?this.nt(a,e,s):1;if(l!==0){this.Ye(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Il(r).toUint8Array()}catch(l){if(l instanceof bL)return Od("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ZC(s,i,o)}catch(l){return Od(l instanceof If?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ke.it(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,o,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((o,s)=>{const a=this.Xe(s);if(a){if(o.current&&uE(a.target)){const l=new qe(a.target.path);this._t(l).has(s)||this.ut(s,l)||this.ze(s,l,Jr.newNoDocument(l,e))}o.ve&&(n.set(s,o.Fe()),o.Me())}});let r=Lt();this.Ue.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(e));const i=new Y0(e,n,this.Ke,this.Qe,r);return this.Qe=_a(),this.$e=$m(),this.Ue=$m(),this.Ke=new cr(Tt),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new yP,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new wr(Tt),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new wr(Tt),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Be("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new yP),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function $m(){return new cr(qe.comparator)}function vP(){return new cr(qe.comparator)}const j7={asc:"ASCENDING",desc:"DESCENDING"},V7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U7={and:"AND",or:"OR"};class z7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fE(t,e){return t.useProto3Json||U0(e)?e:{value:e}}function Iv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function W7(t,e){return Iv(t,e.toTimestamp())}function xs(t){return nn(!!t),ct.fromTimestamp(function(n){const r=Tl(n);return new br(r.seconds,r.nanos)}(t))}function e1(t,e){return pE(t,e).canonicalString()}function pE(t,e){const n=function(i){return new In(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function JL(t){const e=In.fromString(t);return nn(r5(e)),e}function gE(t,e){return e1(t.databaseId,e.path)}function pw(t,e){const n=JL(e);if(n.get(1)!==t.databaseId.projectId)throw new Ue(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ue(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qe(e5(n))}function ZL(t,e){return e1(t.databaseId,e)}function H7(t){const e=JL(t);return e.length===4?In.emptyPath():e5(e)}function mE(t){return new In(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function e5(t){return nn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _P(t,e,n){return{name:gE(t,e),fields:n.value.mapValue.fields}}function G7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:et()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(nn(u===void 0||typeof u=="string"),Vr.fromBase64String(u||"")):(nn(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Vr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?he.UNKNOWN:qL(c.code);return new Ue(u,c.message||"")}(s);n=new XL(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=pw(t,r.document.name),o=xs(r.document.updateTime),s=r.document.createTime?xs(r.document.createTime):ct.min(),a=new Ti({mapValue:{fields:r.document.fields}}),l=Jr.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ky(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=pw(t,r.document),o=r.readTime?xs(r.readTime):ct.min(),s=Jr.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ky([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=pw(t,r.document),o=r.removedTargetIds||[];n=new ky([],o,i,null)}else{if(!("filter"in e))return et();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new $7(i,o),a=r.targetId;n=new YL(a,s)}}return n}function K7(t,e){let n;if(e instanceof mg)n={update:_P(t,e.key,e.value)};else if(e instanceof q0)n={delete:gE(t,e.key)};else if(e instanceof Gl)n={update:_P(t,e.key,e.data),updateMask:nG(e.fieldMask)};else{if(!(e instanceof O7))return et();n={verify:gE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Dp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ld)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $p)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Tv)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw et()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:W7(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:et()}(t,e.precondition)),n}function q7(t,e){return t&&t.length>0?(nn(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?xs(i.updateTime):xs(o);return s.isEqual(ct.min())&&(s=xs(o)),new P7(s,i.transformResults||[])}(n,e))):[]}function Y7(t,e){return{documents:[ZL(t,e.path)]}}function X7(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZL(t,i);const o=function(c){if(c.length!==0)return n5(ns.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:Pu(f.field),direction:Z7(f.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=fE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:i}}function Q7(t){let e=H7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){nn(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(h){const f=t5(h);return f instanceof ns&&PL(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(f=>function(m){return new Cv(Au(m.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,U0(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Sv(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,p=h.values||[];return new Sv(p,f)}(n.endAt)),y7(e,i,s,o,a,"F",l,c)}function J7(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return et()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function t5(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Au(n.unaryFilter.field);return lr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Au(n.unaryFilter.field);return lr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Au(n.unaryFilter.field);return lr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Au(n.unaryFilter.field);return lr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return et()}}(t):t.fieldFilter!==void 0?function(n){return lr.create(Au(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return et()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ns.create(n.compositeFilter.filters.map(r=>t5(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return et()}}(n.compositeFilter.op))}(t):et()}function Z7(t){return j7[t]}function eG(t){return V7[t]}function tG(t){return U7[t]}function Pu(t){return{fieldPath:t.canonicalString()}}function Au(t){return Fr.fromServerFormat(t.fieldPath)}function n5(t){return t instanceof lr?function(n){if(n.op==="=="){if(sP(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NAN"}};if(oP(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sP(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NOT_NAN"}};if(oP(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pu(n.field),op:eG(n.op),value:n.value}}}(t):t instanceof ns?function(n){const r=n.getFilters().map(i=>n5(i));return r.length===1?r[0]:{compositeFilter:{op:tG(n.op),filters:r}}}(t):et()}function nG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function r5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n,r,i,o=ct.min(),s=ct.min(),a=Vr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new il(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new il(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new il(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new il(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(e){this.Tt=e}}function iG(t){const e=Q7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(){this.Tn=new sG}addToCollectionParentIndex(e,n){return this.Tn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(Cl.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(Cl.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class sG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new wr(In.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wr(In.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},i5=41943040;class Si{static withCacheSize(e){return new Si(e,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si.DEFAULT_COLLECTION_PERCENTILE=10,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Si.DEFAULT=new Si(i5,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Si.DISABLED=new Si(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Fd(0)}static Kn(){return new Fd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="LruGarbageCollector",aG=1048576;function xP([t,e],[n,r]){const i=Tt(t,n);return i===0?Tt(e,r):i}class lG{constructor(e){this.Hn=e,this.buffer=new wr(xP),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();xP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Be(wP,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ah(n)?Be(wP,"Ignoring IndexedDB error during garbage collection: ",n):await sh(n)}await this.er(3e5)})}}class uG{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return de.resolve(V0.ae);const r=new lG(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(bP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bP):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(o=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Ru()<=Dt.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}}function dG(t,e){return new uG(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(){this.changes=new qc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&qf(r.mutation,i,Zi.empty(),br.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Lt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Lt()){const i=vc();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Tf();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=vc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Lt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=_a();const s=Kf(),a=function(){return Kf()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Gl)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),qf(u.mutation,c,u.mutation.getFieldMask(),br.now())):s.set(c.key,Zi.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new fG(u,(h=s.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Kf();let i=new cr((s,a)=>s-a),o=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Zi.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||Lt()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=BL();u.forEach(f=>{if(!o.has(f)){const p=GL(n.get(f),r.get(f));p!==null&&h.set(f,p),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return de.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return qe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):de.resolve(vc());let a=Ap,l=o;return s.next(c=>de.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(u)?de.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Lt())).next(u=>({batchId:a,changes:FL(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qe(n)).next(r=>{let i=Tf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Tf();return this.indexManager.getCollectionParents(e,o).next(a=>de.forEach(a,l=>{const c=function(h,f){return new gg(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((h,f)=>{s=s.insert(h,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Jr.newInvalidDocument(u)))});let a=Tf();return s.forEach((l,c)=>{const u=o.get(l);u!==void 0&&qf(u.mutation,c,Zi.empty(),br.now()),H0(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return de.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:xs(i.createTime)}}(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:iG(i.bundledQuery),readTime:xs(i.readTime)}}(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mG{constructor(){this.overlays=new cr(qe.comparator),this.Rr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vc();return de.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Et(e,n,o)}),de.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const i=vc(),o=n.length+1,s=new qe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return de.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new cr((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=vc(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=vc(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return de.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new D7(n,r));let o=this.Rr.get(n);o===void 0&&(o=Lt(),this.Rr.set(n,o)),this.Rr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(){this.sessionToken=Vr.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.Vr=new wr(Ir.mr),this.gr=new wr(Ir.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Ir(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Ir(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new qe(new In([])),r=new Ir(n,e),i=new Ir(n,e+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new qe(new In([])),r=new Ir(n,e),i=new Ir(n,e+1);let o=Lt();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ir(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ir{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return qe.comparator(e.key,n.key)||Tt(e.Cr,n.Cr)}static pr(e,n){return Tt(e.Cr,n.Cr)||qe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new wr(Ir.mr)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new N7(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Mr=this.Mr.add(new Ir(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return de.resolve(s)}lookupMutationBatch(e,n){return de.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),o=i<0?0:i;return de.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?HC:this.Fr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ir(n,0),i=new Ir(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{const a=this.Or(s.Cr);o.push(a)}),de.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wr(Tt);return n.forEach(i=>{const o=new Ir(i,0),s=new Ir(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],a=>{r=r.add(a.Cr)})}),de.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;qe.isDocumentKey(o)||(o=o.child(""));const s=new Ir(new qe(o),0);let a=new wr(Tt);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Cr)),!0)},s),de.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){nn(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return de.forEach(n.mutations,i=>{const o=new Ir(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Ir(n,0),i=this.Mr.firstAfterOrEqual(r);return de.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(e){this.kr=e,this.docs=function(){return new cr(qe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():Jr.newInvalidDocument(n))}getEntries(e,n){let r=_a();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Jr.newInvalidDocument(i))}),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=_a();const s=n.path,a=new qe(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||YH(qH(u),r)<=0||(i.has(u.key)||H0(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return de.resolve(o)}getAllFromCollectionGroup(e,n,r,i){et()}qr(e,n){return de.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new bG(this)}getSize(e){return de.resolve(this.size)}}class bG extends hG{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),de.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(e){this.persistence=e,this.Qr=new qc(n=>qC(n),YC),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.$r=0,this.Ur=new t1,this.targetCount=0,this.Kr=Fd.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),de.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Fd(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.zn(n),de.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Qr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),de.waitFor(o).next(()=>i)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),de.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),de.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new V0(0),this.zr=!1,this.zr=!0,this.jr=new yG,this.referenceDelegate=e(this),this.Hr=new wG(this),this.indexManager=new oG,this.remoteDocumentCache=function(i){return new _G(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new rG(n),this.Yr=new gG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new vG(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){Be("MemoryPersistence","Starting transaction:",e);const i=new xG(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,n){return de.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class xG extends QH{constructor(e){super(),this.currentSequenceNumber=e}}class n1{constructor(e){this.persistence=e,this.ti=new t1,this.ni=null}static ri(e){return new n1(e)}get ii(){if(this.ni)return this.ni;throw et()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),de.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.ii,r=>{const i=qe.fromPath(r);return this.si(e,i).next(o=>{o||n.removeEntry(i,ct.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return de.or([()=>de.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Rv{constructor(e,n){this.persistence=e,this.oi=new qc(r=>e7(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=dG(this,n)}static ri(e,n){return new Rv(e,n)}Zr(){}Xr(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return de.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?de.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ct.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),de.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),de.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ty(e.data.value)),n}ar(e,n,r){return de.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return de.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=Lt(),i=Lt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new r1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return e9()?8:JH(ti())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.rs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new EG;return this._s(e,n,s).next(a=>{if(o.result=a,this.Xi)return this.us(e,n,s,a.size)})}).next(()=>o.result)}us(e,n,r,i){return r.documentReadCount<this.es?(Ru()<=Dt.DEBUG&&Be("QueryEngine","SDK will not create cache indexes for query:",ku(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),de.resolve()):(Ru()<=Dt.DEBUG&&Be("QueryEngine","Query:",ku(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Ru()<=Dt.DEBUG&&Be("QueryEngine","The SDK decides to create cache indexes for query:",ku(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ws(n))):de.resolve())}rs(e,n){if(uP(n))return de.resolve(null);let r=ws(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=hE(n,null,"F"),r=ws(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Lt(...o);return this.ns.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(n,a);return this.ls(n,c,s,l.readTime)?this.rs(e,hE(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,r,i){return uP(n)||i.isEqual(ct.min())?de.resolve(null):this.ns.getDocuments(e,r).next(o=>{const s=this.cs(n,o);return this.ls(n,s,r,i)?de.resolve(null):(Ru()<=Dt.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ku(n)),this.hs(e,s,n,KH(i,Ap)).next(a=>a))})}cs(e,n){let r=new wr($L(e));return n.forEach((i,o)=>{H0(e,o)&&(r=r.add(o))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,n,r){return Ru()<=Dt.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",ku(n)),this.ns.getDocumentsMatchingQuery(e,n,Cl.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="LocalStore",CG=3e8;class TG{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new cr(Tt),this.Is=new qc(o=>qC(o),YC),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pG(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function IG(t,e,n,r){return new TG(t,e,n,r)}async function s5(t,e){const n=dt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Lt();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:s,addedBatchIds:a}))})})}function RG(t,e){const n=dt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let p=de.resolve();return f.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(x=>{const S=c.docVersions.get(m);nn(S!==null),x.version.compareTo(S)<0&&(h.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),u.addEntry(x)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Lt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function a5(t){const e=dt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function kG(t,e){const n=dt(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];e.targetChanges.forEach((u,h)=>{const f=i.get(h);if(!f)return;a.push(n.Hr.removeMatchingKeys(o,u.removedDocuments,h).next(()=>n.Hr.addMatchingKeys(o,u.addedDocuments,h)));let p=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Vr.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(h,p),function(x,S,_){return x.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=CG?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,p,u)&&a.push(n.Hr.updateTargetData(o,p))});let l=_a(),c=Lt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(PG(o,s,e.documentUpdates).next(u=>{l=u.Vs,c=u.fs})),!r.isEqual(ct.min())){const u=n.Hr.getLastRemoteSnapshotVersion(o).next(h=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return de.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ts=i,o))}function PG(t,e,n){let r=Lt(),i=Lt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=_a();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ct.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Be(i1,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:s,fs:i}})}function AG(t,e){const n=dt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=HC),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function MG(t,e){const n=dt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(o=>o?(i=o,de.resolve(i)):n.Hr.allocateTargetId(r).next(s=>(i=new il(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function yE(t,e,n){const r=dt(t),i=r.Ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ah(s))throw s;Be(i1,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function EP(t,e,n){const r=dt(t);let i=ct.min(),o=Lt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const h=dt(l),f=h.Is.get(u);return f!==void 0?de.resolve(h.Ts.get(f)):h.Hr.getTargetData(c,u)}(r,s,ws(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,e,n?i:ct.min(),n?o:Lt())).next(a=>(OG(r,_7(e),a),{documents:a,gs:o})))}function OG(t,e,n){let r=t.Es.get(e)||ct.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Es.set(e,r)}class SP{constructor(){this.activeTargetIds=C7()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NG{constructor(){this.ho=new SP,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new SP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="ConnectivityMonitor";class TP{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Be(CP,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Be(CP,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lm=null;function vE(){return Lm===null?Lm=function(){return 268435456+Math.round(2147483648*Math.random())}():Lm++,"0x"+Lm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="RestConnection",$G={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LG{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===xv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,o){const s=vE(),a=this.bo(e,n.toUriEncodedString());Be(gw,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,o),this.vo(e,a,l,r).then(c=>(Be(gw,`Received RPC '${e}' ${s}: `,c),c),c=>{throw Od(gw,`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,n,r,i,o,s){return this.So(e,n,r,i,o)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,n){const r=$G[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="WebChannelConnection";class BG extends LG{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const o=vE();return new Promise((s,a)=>{const l=new uL;l.setWithCredentials(!0),l.listenOnce(dL.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Cy.NO_ERROR:const u=l.getResponseJson();Be(Gr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case Cy.TIMEOUT:Be(Gr,`RPC '${e}' ${o} timed out`),a(new Ue(he.DEADLINE_EXCEEDED,"Request time out"));break;case Cy.HTTP_ERROR:const h=l.getStatus();if(Be(Gr,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const m=function(S){const _=S.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(_)>=0?_:he.UNKNOWN}(p.status);a(new Ue(m,p.message))}else a(new Ue(he.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ue(he.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{Be(Gr,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);Be(Gr,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",c,r,15)})}Wo(e,n,r){const i=vE(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=pL(),a=fL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");Be(Gr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=s.createWebChannel(u,l);let f=!1,p=!1;const m=new FG({Fo:S=>{p?Be(Gr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(f||(Be(Gr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),Be(Gr,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},Mo:()=>h.close()}),x=(S,_,w)=>{S.listen(_,b=>{try{w(b)}catch(C){setTimeout(()=>{throw C},0)}})};return x(h,Cf.EventType.OPEN,()=>{p||(Be(Gr,`RPC '${e}' stream ${i} transport opened.`),m.Qo())}),x(h,Cf.EventType.CLOSE,()=>{p||(p=!0,Be(Gr,`RPC '${e}' stream ${i} transport closed`),m.Uo())}),x(h,Cf.EventType.ERROR,S=>{p||(p=!0,Od(Gr,`RPC '${e}' stream ${i} transport errored:`,S),m.Uo(new Ue(he.UNAVAILABLE,"The operation could not be completed")))}),x(h,Cf.EventType.MESSAGE,S=>{var _;if(!p){const w=S.data[0];nn(!!w);const b=w,C=(b==null?void 0:b.error)||((_=b[0])===null||_===void 0?void 0:_.error);if(C){Be(Gr,`RPC '${e}' stream ${i} received error:`,C);const N=C.status;let $=function(M){const v=or[M];if(v!==void 0)return qL(v)}(N),E=C.message;$===void 0&&($=he.INTERNAL,E="Unknown error status: "+N+" with message "+C.message),p=!0,m.Uo(new Ue($,E)),h.close()}else Be(Gr,`RPC '${e}' stream ${i} received:`,w),m.Ko(w)}}),x(a,hL.STAT_EVENT,S=>{S.stat===iE.PROXY?Be(Gr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===iE.NOPROXY&&Be(Gr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.$o()},0),m}}function mw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t){return new z7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&Be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP="PersistentStream";class c5{constructor(e,n,r,i,o,s,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new l5(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(va(n.toString()),va("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new Ue(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Be(IP,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Be(IP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jG extends c5{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=G7(this.serializer,e),r=function(o){if(!("targetChange"in o))return ct.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ct.min():s.readTime?xs(s.readTime):ct.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=mE(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=uE(l)?{documents:Y7(o,l)}:{query:X7(o,l).ht},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=QL(o,s.resumeToken);const c=fE(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(ct.min())>0){a.readTime=Iv(o,s.snapshotVersion.toTimestamp());const c=fE(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=J7(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=mE(this.serializer),n.removeTarget=e,this.I_(n)}}class VG extends c5{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return nn(!!e.streamToken),this.lastStreamToken=e.streamToken,nn(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){nn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=q7(e.writeResults,e.commitTime),r=xs(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=mE(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>K7(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{}class zG extends UG{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Ue(he.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,pE(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ue(he.UNKNOWN,o.toString())})}Co(e,n,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(e,pE(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ue(he.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class WG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(va(n),this.N_=!1):Be("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c="RemoteStore";class HG{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(async()=>{Yc(this)&&(Be($c,"Restarting streams for network reachability change."),await async function(l){const c=dt(l);c.W_.add(4),await vg(c),c.j_.set("Unknown"),c.W_.delete(4),await Q0(c)}(this))})}),this.j_=new WG(r,i)}}async function Q0(t){if(Yc(t))for(const e of t.G_)await e(!0)}async function vg(t){for(const e of t.G_)await e(!1)}function u5(t,e){const n=dt(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),l1(n)?a1(n):lh(n).c_()&&s1(n,e))}function o1(t,e){const n=dt(t),r=lh(n);n.K_.delete(e),r.c_()&&d5(n,e),n.K_.size===0&&(r.c_()?r.P_():Yc(n)&&n.j_.set("Unknown"))}function s1(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ct.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lh(t).y_(e)}function d5(t,e){t.H_.Ne(e),lh(t).w_(e)}function a1(t){t.H_=new B7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),lh(t).start(),t.j_.B_()}function l1(t){return Yc(t)&&!lh(t).u_()&&t.K_.size>0}function Yc(t){return dt(t).W_.size===0}function h5(t){t.H_=void 0}async function GG(t){t.j_.set("Online")}async function KG(t){t.K_.forEach((e,n)=>{s1(t,e)})}async function qG(t,e){h5(t),l1(t)?(t.j_.q_(e),a1(t)):t.j_.set("Unknown")}async function YG(t,e,n){if(t.j_.set("Online"),e instanceof XL&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.K_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.K_.delete(a),i.H_.removeTarget(a))}(t,e)}catch(r){Be($c,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kv(t,r)}else if(e instanceof ky?t.H_.We(e):e instanceof YL?t.H_.Ze(e):t.H_.je(e),!n.isEqual(ct.min()))try{const r=await a5(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.H_.ot(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.K_.get(c);u&&o.K_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.K_.get(l);if(!u)return;o.K_.set(l,u.withResumeToken(Vr.EMPTY_BYTE_STRING,u.snapshotVersion)),d5(o,l);const h=new il(u.target,l,c,u.sequenceNumber);s1(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Be($c,"Failed to raise snapshot:",r),await kv(t,r)}}async function kv(t,e,n){if(!ah(e))throw e;t.W_.add(1),await vg(t),t.j_.set("Offline"),n||(n=()=>a5(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Be($c,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Q0(t)})}function f5(t,e){return e().catch(n=>kv(t,n,e))}async function J0(t){const e=dt(t),n=kl(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:HC;for(;XG(e);)try{const i=await AG(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,QG(e,i)}catch(i){await kv(e,i)}p5(e)&&g5(e)}function XG(t){return Yc(t)&&t.U_.length<10}function QG(t,e){t.U_.push(e);const n=kl(t);n.c_()&&n.S_&&n.b_(e.mutations)}function p5(t){return Yc(t)&&!kl(t).u_()&&t.U_.length>0}function g5(t){kl(t).start()}async function JG(t){kl(t).C_()}async function ZG(t){const e=kl(t);for(const n of t.U_)e.b_(n.mutations)}async function eK(t,e,n){const r=t.U_.shift(),i=JC.from(r,e,n);await f5(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await J0(t)}async function tK(t,e){e&&kl(t).S_&&await async function(r,i){if(function(s){return L7(s)&&s!==he.ABORTED}(i.code)){const o=r.U_.shift();kl(r).h_(),await f5(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await J0(r)}}(t,e),p5(t)&&g5(t)}async function RP(t,e){const n=dt(t);n.asyncQueue.verifyOperationInProgress(),Be($c,"RemoteStore received new credentials");const r=Yc(n);n.W_.add(3),await vg(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Q0(n)}async function nK(t,e){const n=dt(t);e?(n.W_.delete(2),await Q0(n)):e||(n.W_.add(2),await vg(n),n.j_.set("Unknown"))}function lh(t){return t.J_||(t.J_=function(n,r,i){const o=dt(n);return o.M_(),new jG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:GG.bind(null,t),No:KG.bind(null,t),Lo:qG.bind(null,t),p_:YG.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),l1(t)?a1(t):t.j_.set("Unknown")):(await t.J_.stop(),h5(t))})),t.J_}function kl(t){return t.Y_||(t.Y_=function(n,r,i){const o=dt(n);return o.M_(),new VG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:JG.bind(null,t),Lo:tK.bind(null,t),D_:ZG.bind(null,t),v_:eK.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await J0(t)):(await t.Y_.stop(),t.U_.length>0&&(Be($c,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ml,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new c1(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ue(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function u1(t,e){if(va("AsyncQueue",`${e}: ${t}`),ah(t))return new Ue(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{static emptySet(e){return new _d(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||qe.comparator(n.key,r.key):(n,r)=>qe.comparator(n.key,r.key),this.keyedMap=Tf(),this.sortedSet=new cr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _d)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _d;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.Z_=new cr(qe.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):et():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Bd{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Bd(e,n,_d.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&W0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class iK{constructor(){this.queries=PP(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=dt(n),o=i.queries;i.queries=PP(),o.forEach((s,a)=>{for(const l of a.ta)l.onError(r)})})(this,new Ue(he.ABORTED,"Firestore shutting down"))}}function PP(){return new qc(t=>DL(t),W0)}async function m5(t,e){const n=dt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new rK,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=u1(s,`Initialization of query '${ku(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.ta.push(e),e.sa(n.onlineState),o.ea&&e.oa(o.ea)&&d1(n)}async function y5(t,e){const n=dt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ta.indexOf(e);s>=0&&(o.ta.splice(s,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oK(t,e){const n=dt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.ta)a.oa(i)&&(r=!0);s.ea=i}}r&&d1(n)}function sK(t,e,n){const r=dt(t),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(e)}function d1(t){t.ia.forEach(e=>{e.next()})}var _E,AP;(AP=_E||(_E={}))._a="default",AP.Cache="cache";class v5{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Bd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Bd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==_E.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e){this.key=e}}class b5{constructor(e){this.key=e}}class aK{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Lt(),this.mutatedKeys=Lt(),this.ya=$L(e),this.wa=new _d(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new kP,i=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const f=i.get(u),p=H0(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),x=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let S=!1;f&&p?f.data.isEqual(p.data)?m!==x&&(r.track({type:3,doc:p}),S=!0):this.va(f,p)||(r.track({type:2,doc:p}),S=!0,(l&&this.ya(p,l)>0||c&&this.ya(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),S=!0):f&&!p&&(r.track({type:1,doc:f}),S=!0,(l||c)&&(a=!0)),S&&(p?(s=s.add(p),o=x?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{wa:s,Da:r,ls:a,mutatedKeys:o}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort((u,h)=>function(p,m){const x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}};return x(p)-x(m)}(u.type,h.type)||this.ya(u.doc,h.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,c=l!==this.ga;return this.ga=l,s.length!==0||c?{snapshot:new Bd(this.query,e.wa,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new kP,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Lt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new b5(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new _5(r))}),n}Oa(e){this.fa=e.gs,this.pa=Lt();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Bd.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const h1="SyncEngine";class lK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cK{constructor(e){this.key=e,this.Ba=!1}}class uK{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new qc(a=>DL(a),W0),this.qa=new Map,this.Qa=new Set,this.$a=new cr(qe.comparator),this.Ua=new Map,this.Ka=new t1,this.Wa={},this.Ga=new Map,this.za=Fd.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function dK(t,e,n=!0){const r=T5(t);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await w5(r,e,n,!0),i}async function hK(t,e){const n=T5(t);await w5(n,e,!0,!1)}async function w5(t,e,n,r){const i=await MG(t.localStore,ws(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await fK(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&u5(t.remoteStore,i),a}async function fK(t,e,n,r,i){t.Ha=(h,f,p)=>async function(x,S,_,w){let b=S.view.ba(_);b.ls&&(b=await EP(x.localStore,S.query,!1).then(({documents:E})=>S.view.ba(E,b)));const C=w&&w.targetChanges.get(S.targetId),N=w&&w.targetMismatches.get(S.targetId)!=null,$=S.view.applyChanges(b,x.isPrimaryClient,C,N);return OP(x,S.targetId,$.Ma),$.snapshot}(t,h,f,p);const o=await EP(t.localStore,e,!0),s=new aK(e,o.gs),a=s.ba(o.documents),l=yg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);OP(t,n,c.Ma);const u=new lK(e,n,s);return t.ka.set(e,u),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function pK(t,e,n){const r=dt(t),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!W0(s,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await yE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&o1(r.remoteStore,i.targetId),bE(r,i.targetId)}).catch(sh)):(bE(r,i.targetId),await yE(r.localStore,i.targetId,!0))}async function gK(t,e){const n=dt(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),o1(n.remoteStore,r.targetId))}async function mK(t,e,n){const r=EK(t);try{const i=await function(s,a){const l=dt(s),c=br.now(),u=a.reduce((p,m)=>p.add(m.key),Lt());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=_a(),x=Lt();return l.ds.getEntries(p,u).next(S=>{m=S,m.forEach((_,w)=>{w.isValidDocument()||(x=x.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(S=>{h=S;const _=[];for(const w of a){const b=M7(w,h.get(w.key).overlayedDocument);b!=null&&_.push(new Gl(w.key,b,IL(b.value.mapValue),hi.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,_,a)}).next(S=>{f=S;const _=S.applyToLocalDocumentSet(h,x);return l.documentOverlayCache.saveOverlays(p,S.batchId,_)})}).then(()=>({batchId:f.batchId,changes:FL(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Wa[s.currentUser.toKey()];c||(c=new cr(Tt)),c=c.insert(a,l),s.Wa[s.currentUser.toKey()]=c}(r,i.batchId,n),await _g(r,i.changes),await J0(r.remoteStore)}catch(i){const o=u1(i,"Failed to persist write");n.reject(o)}}async function x5(t,e){const n=dt(t);try{const r=await kG(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ua.get(o);s&&(nn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?nn(s.Ba):i.removedDocuments.size>0&&(nn(s.Ba),s.Ba=!1))}),await _g(n,r,e)}catch(r){await sh(r)}}function MP(t,e,n){const r=dt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((o,s)=>{const a=s.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=dt(s);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.ta)f.sa(a)&&(c=!0)}),c&&d1(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yK(t,e,n){const r=dt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),o=i&&i.key;if(o){let s=new cr(qe.comparator);s=s.insert(o,Jr.newNoDocument(o,ct.min()));const a=Lt().add(o),l=new Y0(ct.min(),new Map,new cr(Tt),s,a);await x5(r,l),r.$a=r.$a.remove(o),r.Ua.delete(e),f1(r)}else await yE(r.localStore,e,!1).then(()=>bE(r,e,n)).catch(sh)}async function vK(t,e){const n=dt(t),r=e.batch.batchId;try{const i=await RG(n.localStore,e);S5(n,r,null),E5(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _g(n,i)}catch(i){await sh(i)}}async function _K(t,e,n){const r=dt(t);try{const i=await function(s,a){const l=dt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(nn(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);S5(r,e,n),E5(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _g(r,i)}catch(i){await sh(i)}}function E5(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function S5(t,e,n){const r=dt(t);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function bE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||C5(t,r)})}function C5(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(o1(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),f1(t))}function OP(t,e,n){for(const r of n)r instanceof _5?(t.Ka.addReference(r.key,e),bK(t,r)):r instanceof b5?(Be(h1,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||C5(t,r.key)):et()}function bK(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(Be(h1,"New document in limbo: "+n),t.Qa.add(r),f1(t))}function f1(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new qe(In.fromString(e)),r=t.za.next();t.Ua.set(r,new cK(n)),t.$a=t.$a.insert(n,r),u5(t.remoteStore,new il(ws(XC(n.path)),r,"TargetPurposeLimboResolution",V0.ae))}}async function _g(t,e,n){const r=dt(t),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{s.push(r.Ha(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=r1.Yi(l.targetId,c);o.push(h)}}))}),await Promise.all(s),r.La.p_(i),await async function(l,c){const u=dt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>de.forEach(c,f=>de.forEach(f.Hi,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>de.forEach(f.Ji,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!ah(h))throw h;Be(i1,"Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=u.Ts.get(f),m=p.snapshotVersion,x=p.withLastLimboFreeSnapshotVersion(m);u.Ts=u.Ts.insert(f,x)}}}(r.localStore,o))}async function wK(t,e){const n=dt(t);if(!n.currentUser.isEqual(e)){Be(h1,"User change. New user:",e.toKey());const r=await s5(n.localStore,e);n.currentUser=e,function(o,s){o.Ga.forEach(a=>{a.forEach(l=>{l.reject(new Ue(he.CANCELLED,s))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _g(n,r.Rs)}}function xK(t,e){const n=dt(t),r=n.Ua.get(e);if(r&&r.Ba)return Lt().add(r.key);{let i=Lt();const o=n.qa.get(e);if(!o)return i;for(const s of o){const a=n.ka.get(s);i=i.unionWith(a.view.Sa)}return i}}function T5(t){const e=dt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=x5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yK.bind(null,e),e.La.p_=oK.bind(null,e.eventManager),e.La.Ja=sK.bind(null,e.eventManager),e}function EK(t){const e=dt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_K.bind(null,e),e}class Pv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=X0(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return IG(this.persistence,new SG,e.initialUser,this.serializer)}Xa(e){return new o5(n1.ri,this.serializer)}Za(e){return new NG}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pv.provider={build:()=>new Pv};class SK extends Pv{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){nn(this.persistence.referenceDelegate instanceof Rv);const r=this.persistence.referenceDelegate.garbageCollector;return new cG(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Si.withCacheSize(this.cacheSizeBytes):Si.DEFAULT;return new o5(r=>Rv.ri(r,n),this.serializer)}}class wE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>MP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wK.bind(null,this.syncEngine),await nK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iK}()}createDatastore(e){const n=X0(e.databaseInfo.databaseId),r=function(o){return new BG(o)}(e.databaseInfo);return function(o,s,a,l){return new zG(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new HG(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>MP(this.syncEngine,n,0),function(){return TP.D()?new TP:new DG}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,u){const h=new uK(i,o,s,a,l,c);return u&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=dt(i);Be($c,"RemoteStore shutting down."),o.W_.add(5),await vg(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}wE.provider={build:()=>new wE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):va("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl="FirestoreClient";class CK{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xr.UNAUTHENTICATED,this.clientId=yL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Be(Pl,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Be(Pl,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ml;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=u1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function yw(t,e){t.asyncQueue.verifyOperationInProgress(),Be(Pl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await s5(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function NP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await TK(t);Be(Pl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>RP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>RP(e.remoteStore,i)),t._onlineComponents=e}async function TK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Be(Pl,"Using user provided OfflineComponentProvider");try{await yw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===he.FAILED_PRECONDITION||i.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Od("Error using user provided cache. Falling back to memory cache: "+n),await yw(t,new Pv)}}else Be(Pl,"Using default OfflineComponentProvider"),await yw(t,new SK(void 0));return t._offlineComponents}async function R5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Be(Pl,"Using user provided OnlineComponentProvider"),await NP(t,t._uninitializedComponentsProvider._online)):(Be(Pl,"Using default OnlineComponentProvider"),await NP(t,new wE))),t._onlineComponents}function IK(t){return R5(t).then(e=>e.syncEngine)}async function xE(t){const e=await R5(t),n=e.eventManager;return n.onListen=dK.bind(null,e.syncEngine),n.onUnlisten=pK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gK.bind(null,e.syncEngine),n}function RK(t,e,n={}){const r=new ml;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new I5({next:f=>{u.su(),s.enqueueAndForget(()=>y5(o,h)),f.fromCache&&l.source==="server"?c.reject(new Ue(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new v5(a,u,{includeMetadataChanges:!0,Ta:!0});return m5(o,h)}(await xE(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(t,e,n){if(!n)throw new Ue(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kK(t,e,n,r){if(e===!0&&r===!0)throw new Ue(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $P(t){if(!qe.isDocumentKey(t))throw new Ue(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function LP(t){if(qe.isDocumentKey(t))throw new Ue(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Z0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":et()}function io(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ue(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Z0(t);throw new Ue(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5="firestore.googleapis.com",FP=!0;class BP{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ue(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=A5,this.ssl=FP}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:FP;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=i5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aG)throw new Ue(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=k5((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ue(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ue(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ue(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class e_{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ue(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ue(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new FH;switch(r.type){case"firstParty":return new UH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ue(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=DP.get(n);r&&(Be("ComponentProvider","Removing Datastore"),DP.delete(n),r.terminate())}(this),Promise.resolve()}}function PK(t,e,n,r={}){var i;const o=(t=io(t,e_))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;o.host!==A5&&o.host!==a&&Od("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!pa(l,s)&&(t._setSettings(l),r.mockUserToken)){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Xr.MOCK_USER;else{c=kC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Ue(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Xr(h)}t._authCredentials=new BH(new gL(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xc(this.firestore,e,this._query)}}class fi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fi(this.firestore,e,this._key)}}class vl extends Xc{constructor(e,n,r){super(e,n,XC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fi(this.firestore,null,new qe(e))}withConverter(e){return new vl(this.firestore,e,this._path)}}function lt(t,e,...n){if(t=rn(t),P5("collection","path",e),t instanceof e_){const r=In.fromString(e,...n);return LP(r),new vl(t,null,r)}{if(!(t instanceof fi||t instanceof vl))throw new Ue(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(In.fromString(e,...n));return LP(r),new vl(t.firestore,null,r)}}function Rt(t,e,...n){if(t=rn(t),arguments.length===1&&(e=yL.newId()),P5("doc","path",e),t instanceof e_){const r=In.fromString(e,...n);return $P(r),new fi(t,null,new qe(r))}{if(!(t instanceof fi||t instanceof vl))throw new Ue(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(In.fromString(e,...n));return $P(r),new fi(t.firestore,t instanceof vl?t.converter:null,new qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="AsyncQueue";class VP{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new l5(this,"async_queue_retry"),this.Su=()=>{const r=mw();r&&Be(jP,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=mw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=mw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ml;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ah(e))throw e;Be(jP,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw va("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=c1.createAndSchedule(this,e,n,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&et()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function UP(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class ba extends e_{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new VP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VP(e),this._firestoreClient=void 0,await e}}}function AK(t,e){const n=typeof t=="object"?t:L0(),r=typeof t=="string"?t:xv,i=ug(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=RC("firestore");o&&PK(i,...o)}return i}function t_(t){if(t._terminated)throw new Ue(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||MK(t),t._firestoreClient}function MK(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,c,u){return new r7(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,k5(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new CK(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jd(Vr.fromBase64String(e))}catch(n){throw new Ue(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jd(Vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ue(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ue(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ue(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Tt(this._lat,e._lat)||Tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OK=/^__.*__$/;class NK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gl(e,this.data,this.fieldMask,n,this.fieldTransforms):new mg(e,this.data,n,this.fieldTransforms)}}class M5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Gl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function O5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}class n_{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new n_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Av(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(O5(this.Lu)&&OK.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class DK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||X0(e)}ju(e,n,r,i=!1){return new n_({Lu:e,methodName:n,zu:r,path:Fr.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xg(t){const e=t._freezeSettings(),n=X0(t._databaseId);return new DK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function m1(t,e,n,r,i,o={}){const s=t.ju(o.merge||o.mergeFields?2:0,e,n,i);_1("Data must be an object, but it was:",s,r);const a=$5(r,s);let l,c;if(o.merge)l=new Zi(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const h of o.mergeFields){const f=EE(e,h,n);if(!s.contains(f))throw new Ue(he.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);F5(u,f)||u.push(f)}l=new Zi(u),c=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=s.fieldTransforms;return new NK(new Ti(a),l,c)}class r_ extends wg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof r_}}function $K(t,e,n){return new n_({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class y1 extends wg{_toFieldTransform(e){return new HL(e.path,new Dp)}isEqual(e){return e instanceof y1}}class v1 extends wg{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=$K(this,e,!0),r=this.Hu.map(o=>ch(o,n)),i=new Ld(r);return new HL(e.path,i)}isEqual(e){return e instanceof v1&&pa(this.Hu,e.Hu)}}function N5(t,e,n,r){const i=t.ju(1,e,n);_1("Data must be an object, but it was:",i,r);const o=[],s=Ti.empty();Hl(r,(l,c)=>{const u=b1(e,l,n);c=rn(c);const h=i.Uu(u);if(c instanceof r_)o.push(u);else{const f=ch(c,h);f!=null&&(o.push(u),s.set(u,f))}});const a=new Zi(o);return new M5(s,a,i.fieldTransforms)}function D5(t,e,n,r,i,o){const s=t.ju(1,e,n),a=[EE(e,r,n)],l=[i];if(o.length%2!=0)throw new Ue(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(EE(e,o[f])),l.push(o[f+1]);const c=[],u=Ti.empty();for(let f=a.length-1;f>=0;--f)if(!F5(c,a[f])){const p=a[f];let m=l[f];m=rn(m);const x=s.Uu(p);if(m instanceof r_)c.push(p);else{const S=ch(m,x);S!=null&&(c.push(p),u.set(p,S))}}const h=new Zi(c);return new M5(u,h,s.fieldTransforms)}function LK(t,e,n,r=!1){return ch(n,t.ju(r?4:3,e))}function ch(t,e){if(L5(t=rn(t)))return _1("Unsupported field value:",e,t),$5(t,e);if(t instanceof wg)return function(r,i){if(!O5(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=ch(a,i.Ku(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return T7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=br.fromDate(r);return{timestampValue:Iv(i.serializer,o)}}if(r instanceof br){const o=new br(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Iv(i.serializer,o)}}if(r instanceof p1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jd)return{bytesValue:QL(i.serializer,r._byteString)};if(r instanceof fi){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:e1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof g1)return function(s,a){return{mapValue:{fields:{[CL]:{stringValue:TL},[Ev]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return QC(a.serializer,c)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Z0(r)}`)}(t,e)}function $5(t,e){const n={};return _L(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hl(t,(r,i)=>{const o=ch(i,e.qu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function L5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof br||t instanceof p1||t instanceof jd||t instanceof fi||t instanceof wg||t instanceof g1)}function _1(t,e,n){if(!L5(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Z0(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function EE(t,e,n){if((e=rn(e))instanceof bg)return e._internalPath;if(typeof e=="string")return b1(t,e);throw Av("Field path arguments must be of type string or ",t,!1,void 0,n)}const FK=new RegExp("[~\\*/\\[\\]]");function b1(t,e,n){if(e.search(FK)>=0)throw Av(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bg(...e.split("."))._internalPath}catch{throw Av(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Av(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Ue(he.INVALID_ARGUMENT,a+t+l)}function F5(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(w1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BK extends B5{data(){return super.data()}}function w1(t,e){return typeof e=="string"?b1(t,e):e instanceof bg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ue(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class x1{}class jK extends x1{}function Yr(t,e,...n){let r=[];e instanceof x1&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof E1).length,a=o.filter(l=>l instanceof i_).length;if(s>1||s>0&&a>0)throw new Ue(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class i_ extends jK{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new i_(e,n,r)}_apply(e){const n=this._parse(e);return V5(e._query,n),new Xc(e.firestore,e.converter,dE(e._query,n))}_parse(e){const n=xg(e.firestore);return function(o,s,a,l,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ue(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){WP(h,u);const m=[];for(const x of h)m.push(zP(l,o,x));f={arrayValue:{values:m}}}else f=zP(l,o,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||WP(h,u),f=LK(a,s,h,u==="in"||u==="not-in");return lr.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Gi(t,e,n){const r=e,i=w1("where",t);return i_._create(i,r,n)}class E1 extends x1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new E1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ns.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)V5(s,l),s=dE(s,l)}(e._query,n),new Xc(e.firestore,e.converter,dE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function zP(t,e,n){if(typeof(n=rn(n))=="string"){if(n==="")throw new Ue(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NL(e)&&n.indexOf("/")!==-1)throw new Ue(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(In.fromString(n));if(!qe.isDocumentKey(r))throw new Ue(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return iP(t,new qe(r))}if(n instanceof fi)return iP(t,n._key);throw new Ue(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Z0(n)}.`)}function WP(t,e){if(!Array.isArray(t)||t.length===0)throw new Ue(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function V5(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ue(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ue(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class VK{convertValue(e,n="none"){switch(Rl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Il(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw et()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hl(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Ev].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Xn(s.doubleValue));return new g1(o)}convertGeoPoint(e){return new p1(Xn(e.latitude),Xn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=z0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Mp(e));default:return null}}convertTimestamp(e){const n=Tl(e);return new br(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=In.fromString(e);nn(r5(r));const i=new Op(r.get(1),r.get(3)),o=new qe(r.popFirst(5));return i.isEqual(n)||va(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class U5 extends B5{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Py(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(w1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Py extends U5{data(e={}){return super.data(e)}}class z5{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Rf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Py(this._firestore,this._userDataWriter,r.key,r,new Rf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ue(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Py(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Rf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Py(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Rf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:UK(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function UK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}class C1 extends VK{constructor(e){super(),this.firestore=e}convertBytes(e){return new jd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fi(this.firestore,null,n)}}function Ki(t){t=io(t,Xc);const e=io(t.firestore,ba),n=t_(e),r=new C1(e);return j5(t._query),RK(n,t._query).then(i=>new z5(e,r,t,i))}function HP(t,e,n){t=io(t,fi);const r=io(t.firestore,ba),i=S1(t.converter,e,n);return Eg(r,[m1(xg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,hi.none())])}function mo(t,e,n,...r){t=io(t,fi);const i=io(t.firestore,ba),o=xg(i);let s;return s=typeof(e=rn(e))=="string"||e instanceof bg?D5(o,"updateDoc",t._key,e,n,r):N5(o,"updateDoc",t._key,e),Eg(i,[s.toMutation(t._key,hi.exists(!0))])}function SE(t){return Eg(io(t.firestore,ba),[new q0(t._key,hi.none())])}function Yn(t,e){const n=io(t.firestore,ba),r=Rt(t),i=S1(t.converter,e);return Eg(n,[m1(xg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,hi.exists(!1))]).then(()=>r)}function Yf(t,...e){var n,r,i;t=rn(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||UP(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(UP(e[s])){const h=e[s];e[s]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[s+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[s+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,u;if(t instanceof fi)c=io(t.firestore,ba),u=XC(t._key.path),l={next:h=>{e[s]&&e[s](zK(c,t,h))},error:e[s+1],complete:e[s+2]};else{const h=io(t,Xc);c=io(h.firestore,ba),u=h._query;const f=new C1(c);l={next:p=>{e[s]&&e[s](new z5(c,f,h,p))},error:e[s+1],complete:e[s+2]},j5(t._query)}return function(f,p,m,x){const S=new I5(x),_=new v5(p,S,m);return f.asyncQueue.enqueueAndForget(async()=>m5(await xE(f),_)),()=>{S.su(),f.asyncQueue.enqueueAndForget(async()=>y5(await xE(f),_))}}(t_(c),u,a,l)}function Eg(t,e){return function(r,i){const o=new ml;return r.asyncQueue.enqueueAndForget(async()=>mK(await IK(r),i,o)),o.promise}(t_(t),e)}function zK(t,e,n){const r=n.docs.get(e._key),i=new C1(t);return new U5(t,i,e._key,r,new Rf(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=xg(e)}set(e,n,r){this._verifyNotCommitted();const i=vw(e,this._firestore),o=S1(i.converter,n,r),s=m1(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,hi.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=vw(e,this._firestore);let s;return s=typeof(n=rn(n))=="string"||n instanceof bg?D5(this._dataReader,"WriteBatch.update",o._key,n,r,i):N5(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,hi.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=vw(e,this._firestore);return this._mutations=this._mutations.concat(new q0(n._key,hi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ue(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function vw(t,e){if((t=rn(t)).firestore!==e)throw new Ue(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ei(){return new y1("serverTimestamp")}function HK(...t){return new v1("arrayUnion",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(t){return t_(t=io(t,ba)),new WK(t,e=>Eg(t,e))}(function(e,n=!0){(function(i){oh=i})(Vl),Sl(new ga("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ba(new jH(r.getProvider("auth-internal")),new zH(s,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ue(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Op(c.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),So(Gk,Kk,e),So(Gk,Kk,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5="firebasestorage.googleapis.com",H5="storageBucket",GK=2*60*1e3,KK=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn extends Ms{constructor(e,n,r=0){super(_w(e),`Firebase Storage: ${n} (${_w(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _w(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var zn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(zn||(zn={}));function _w(t){return"storage/"+t}function T1(){const t="An unknown error occurred, please check the error payload for server response.";return new Wn(zn.UNKNOWN,t)}function qK(t){return new Wn(zn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function YK(t){return new Wn(zn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function XK(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Wn(zn.UNAUTHENTICATED,t)}function QK(){return new Wn(zn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function JK(t){return new Wn(zn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function ZK(){return new Wn(zn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function eq(){return new Wn(zn.CANCELED,"User canceled the upload/download.")}function tq(t){return new Wn(zn.INVALID_URL,"Invalid URL '"+t+"'.")}function nq(t){return new Wn(zn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function rq(){return new Wn(zn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+H5+"' property when initializing the app?")}function iq(){return new Wn(zn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function oq(){return new Wn(zn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function sq(t){return new Wn(zn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function CE(t){return new Wn(zn.INVALID_ARGUMENT,t)}function G5(){return new Wn(zn.APP_DELETED,"The Firebase app was deleted.")}function aq(t){return new Wn(zn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xf(t,e){return new Wn(zn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function tf(t){throw new Wn(zn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=eo.makeFromUrl(e,n)}catch{return new eo(e,"")}if(r.path==="")return r;throw nq(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${u}/b/${i}/o${f}`,"i"),m={bucket:1,path:3},x=n===W5?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",_=new RegExp(`^https?://${x}/${i}/${S}`,"i"),b=[{regex:a,indices:l,postModify:o},{regex:p,indices:m,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<b.length;C++){const N=b[C],$=N.regex.exec(e);if($){const E=$[N.indices.bucket];let k=$[N.indices.path];k||(k=""),r=new eo(E,k),N.postModify(r);break}}if(r==null)throw tq(e);return r}}class lq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let c=!1;function u(...S){c||(c=!0,e.apply(null,S))}function h(S){i=setTimeout(()=>{i=null,t(p,l())},S)}function f(){o&&clearTimeout(o)}function p(S,..._){if(c){f();return}if(S){f(),u.call(null,S,..._);return}if(l()||s){f(),u.call(null,S,..._);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,h(b)}let m=!1;function x(S){m||(m=!0,f(),!c&&(i!==null?(S||(a=2),clearTimeout(i),h(0)):S||(a=1)))}return h(0),o=setTimeout(()=>{s=!0,x(!0)},n),x}function uq(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dq(t){return t!==void 0}function hq(t){return typeof t=="object"&&!Array.isArray(t)}function I1(t){return typeof t=="string"||t instanceof String}function GP(t){return R1()&&t instanceof Blob}function R1(){return typeof Blob<"u"}function KP(t,e,n,r){if(r<e)throw CE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw CE(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function K5(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Cc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Cc||(Cc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{constructor(e,n,r,i,o,s,a,l,c,u,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Fm(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Cc.NO_ERROR,l=o.getStatus();if(!a||fq(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===Cc.ABORT;r(!1,new Fm(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Fm(c,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());dq(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=T1();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?G5():eq();s(l)}else{const l=ZK();s(l)}};this.canceled_?n(!1,new Fm(!1,null,!0)):this.backoffId_=cq(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function gq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function mq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function vq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _q(t,e,n,r,i,o,s=!0){const a=K5(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return yq(c,e),gq(c,n),mq(c,o),vq(c,r),new pq(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wq(...t){const e=bq();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(R1())return new Blob(t);throw new Wn(zn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function xq(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eq(t){if(typeof atob>"u")throw sq("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bw{constructor(e,n){this.data=e,this.contentType=n||null}}function Sq(t,e){switch(t){case ys.RAW:return new bw(q5(e));case ys.BASE64:case ys.BASE64URL:return new bw(Y5(t,e));case ys.DATA_URL:return new bw(Tq(e),Iq(e))}throw T1()}function q5(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Cq(t){let e;try{e=decodeURIComponent(t)}catch{throw Xf(ys.DATA_URL,"Malformed data URL.")}return q5(e)}function Y5(t,e){switch(t){case ys.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Xf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ys.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Xf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Eq(e)}catch(i){throw i.message.includes("polyfill")?i:Xf(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class X5{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Xf(ys.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Rq(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Tq(t){const e=new X5(t);return e.base64?Y5(ys.BASE64,e.rest):Cq(e.rest)}function Iq(t){return new X5(t).contentType}function Rq(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){let r=0,i="";GP(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(GP(this.data_)){const r=this.data_,i=xq(r,e,n);return i===null?null:new Ja(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ja(r,!0)}}static getBlob(...e){if(R1()){const n=e.map(r=>r instanceof Ja?r.data_:r);return new Ja(wq.apply(null,n))}else{const n=e.map(s=>I1(s)?Sq(ys.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Ja(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(t){let e;try{e=JSON.parse(t)}catch{return null}return hq(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kq(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Pq(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function J5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aq(t,e){return e}class si{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Aq}}let Bm=null;function Mq(t){return!I1(t)||t.length<2?t:J5(t)}function Z5(){if(Bm)return Bm;const t=[];t.push(new si("bucket")),t.push(new si("generation")),t.push(new si("metageneration")),t.push(new si("name","fullPath",!0));function e(o,s){return Mq(s)}const n=new si("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new si("size");return i.xform=r,t.push(i),t.push(new si("timeCreated")),t.push(new si("updated")),t.push(new si("md5Hash",null,!0)),t.push(new si("cacheControl",null,!0)),t.push(new si("contentDisposition",null,!0)),t.push(new si("contentEncoding",null,!0)),t.push(new si("contentLanguage",null,!0)),t.push(new si("contentType",null,!0)),t.push(new si("metadata","customMetadata",!0)),Bm=t,Bm}function Oq(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new eo(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function Nq(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return Oq(r,t),r}function eF(t,e,n){const r=Q5(e);return r===null?null:Nq(t,r,n)}function Dq(t,e,n,r){const i=Q5(e);if(i===null||!I1(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const u=t.bucket,h=t.fullPath,f="/b/"+s(u)+"/o/"+s(h),p=k1(f,n,r),m=K5({alt:"media",token:c});return p+m})[0]}function $q(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class tF{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(t){if(!t)throw T1()}function Lq(t,e){function n(r,i){const o=eF(t,i,e);return nF(o!==null),o}return n}function Fq(t,e){function n(r,i){const o=eF(t,i,e);return nF(o!==null),Dq(o,i,t.host,t._protocol)}return n}function rF(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=QK():i=XK():n.getStatus()===402?i=YK(t.bucket):n.getStatus()===403?i=JK(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Bq(t){const e=rF(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=qK(t.path)),o.serverResponse=i.serverResponse,o}return n}function jq(t,e,n){const r=e.fullServerUrl(),i=k1(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new tF(i,o,Fq(t,n),s);return a.errorHandler=Bq(e),a}function Vq(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Uq(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Vq(null,e)),r}function zq(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let C=0;C<2;C++)b=b+Math.random().toString().slice(2);return b}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const c=Uq(e,r,i),u=$q(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Ja.getBlob(h,r,f);if(p===null)throw iq();const m={name:c.fullPath},x=k1(o,t.host,t._protocol),S="POST",_=t.maxUploadRetryTime,w=new tF(x,S,Lq(t,n),_);return w.urlParams=m,w.headers=s,w.body=p.uploadData(),w.errorHandler=rF(e),w}class Wq{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Cc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Cc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Cc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw tf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw tf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw tf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw tf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw tf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Hq extends Wq{initXhr(){this.xhr_.responseType="text"}}function iF(){return new Hq}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n){this._service=e,n instanceof eo?this._location=n:this._location=eo.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Lc(e,n)}get root(){const e=new eo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return J5(this._location.path)}get storage(){return this._service}get parent(){const e=kq(this._location.path);if(e===null)return null;const n=new eo(this._location.bucket,e);return new Lc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw aq(e)}}function Gq(t,e,n){t._throwIfRoot("uploadBytes");const r=zq(t.storage,t._location,Z5(),new Ja(e,!0),n);return t.storage.makeRequestWithTokens(r,iF).then(i=>({metadata:i,ref:t}))}function Kq(t){t._throwIfRoot("getDownloadURL");const e=jq(t.storage,t._location,Z5());return t.storage.makeRequestWithTokens(e,iF).then(n=>{if(n===null)throw oq();return n})}function qq(t,e){const n=Pq(t._location.path,e),r=new eo(t._location.bucket,n);return new Lc(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yq(t){return/^[A-Za-z]+:\/\//.test(t)}function Xq(t,e){return new Lc(t,e)}function oF(t,e){if(t instanceof P1){const n=t;if(n._bucket==null)throw rq();const r=new Lc(n,n._bucket);return e!=null?oF(r,e):r}else return e!==void 0?qq(t,e):t}function Qq(t,e){if(e&&Yq(e)){if(t instanceof P1)return Xq(t,e);throw CE("To use ref(service, url), the first argument must be a Storage instance.")}else return oF(t,e)}function qP(t,e){const n=e==null?void 0:e[H5];return n==null?null:eo.makeFromBucketSpec(n,t)}function Jq(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:kC(i,t.app.options.projectId))}class P1{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=W5,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=GK,this._maxUploadRetryTime=KK,this._requests=new Set,i!=null?this._bucket=eo.makeFromBucketSpec(i,this._host):this._bucket=qP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=eo.makeFromBucketSpec(this._url,e):this._bucket=qP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){KP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){KP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Lc(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new lq(G5());{const s=_q(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const YP="@firebase/storage",XP="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF="storage";function TE(t,e,n){return t=rn(t),Gq(t,e,n)}function IE(t){return t=rn(t),Kq(t)}function RE(t,e){return t=rn(t),Qq(t,e)}function Zq(t=L0(),e){t=rn(t);const r=ug(t,sF).getImmediate({identifier:e}),i=RC("storage");return i&&eY(r,...i),r}function eY(t,e,n,r={}){Jq(t,e,n,r)}function tY(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new P1(n,r,i,e,Vl)}function nY(){Sl(new ga(sF,tY,"PUBLIC").setMultipleInstances(!0)),So(YP,XP,""),So(YP,XP,"esm2017")}nY();const rY={apiKey:"AIzaSyBwhJVoZ2nKnGrl9VJ7D6GXpcUha2IRN08",authDomain:"notetaker-f71ae.firebaseapp.com",databaseURL:"https://notetaker-f71ae-default-rtdb.firebaseio.com",projectId:"notetaker-f71ae",storageBucket:"notetaker-f71ae.firebasestorage.app",messagingSenderId:"466022334149",appId:"1:466022334149:web:bb9e6830f35a4b94b73aac",measurementId:"G-ZH0WYZKWKN"},A1=I$(rY),Tc=$H(A1),me=AK(A1),kE=Zq(A1),Lp={black:"#000",white:"#fff"},bu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},wu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},xu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Eu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Su={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},nf={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},iY={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function wa(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const Sg="$$material";function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mv.apply(null,arguments)}function oY(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function sY(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var aY=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(sY(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=oY(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),qr="-ms-",Ov="-moz-",Jt="-webkit-",aF="comm",M1="rule",O1="decl",lY="@import",lF="@keyframes",cY="@layer",uY=Math.abs,o_=String.fromCharCode,dY=Object.assign;function hY(t,e){return Lr(t,0)^45?(((e<<2^Lr(t,0))<<2^Lr(t,1))<<2^Lr(t,2))<<2^Lr(t,3):0}function cF(t){return t.trim()}function fY(t,e){return(t=e.exec(t))?t[0]:t}function Zt(t,e,n){return t.replace(e,n)}function PE(t,e){return t.indexOf(e)}function Lr(t,e){return t.charCodeAt(e)|0}function Fp(t,e,n){return t.slice(e,n)}function fs(t){return t.length}function N1(t){return t.length}function jm(t,e){return e.push(t),t}function pY(t,e){return t.map(e).join("")}var s_=1,Vd=1,uF=0,Li=0,sr=0,uh="";function a_(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:s_,column:Vd,length:s,return:""}}function rf(t,e){return dY(a_("",null,null,"",null,null,0),t,{length:-t.length},e)}function gY(){return sr}function mY(){return sr=Li>0?Lr(uh,--Li):0,Vd--,sr===10&&(Vd=1,s_--),sr}function oo(){return sr=Li<uF?Lr(uh,Li++):0,Vd++,sr===10&&(Vd=1,s_++),sr}function Es(){return Lr(uh,Li)}function Ay(){return Li}function Cg(t,e){return Fp(uh,t,e)}function Bp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dF(t){return s_=Vd=1,uF=fs(uh=t),Li=0,[]}function hF(t){return uh="",t}function My(t){return cF(Cg(Li-1,AE(t===91?t+2:t===40?t+1:t)))}function yY(t){for(;(sr=Es())&&sr<33;)oo();return Bp(t)>2||Bp(sr)>3?"":" "}function vY(t,e){for(;--e&&oo()&&!(sr<48||sr>102||sr>57&&sr<65||sr>70&&sr<97););return Cg(t,Ay()+(e<6&&Es()==32&&oo()==32))}function AE(t){for(;oo();)switch(sr){case t:return Li;case 34:case 39:t!==34&&t!==39&&AE(sr);break;case 40:t===41&&AE(t);break;case 92:oo();break}return Li}function _Y(t,e){for(;oo()&&t+sr!==57;)if(t+sr===84&&Es()===47)break;return"/*"+Cg(e,Li-1)+"*"+o_(t===47?t:oo())}function bY(t){for(;!Bp(Es());)oo();return Cg(t,Li)}function wY(t){return hF(Oy("",null,null,null,[""],t=dF(t),0,[0],t))}function Oy(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,h=s,f=0,p=0,m=0,x=1,S=1,_=1,w=0,b="",C=i,N=o,$=r,E=b;S;)switch(m=w,w=oo()){case 40:if(m!=108&&Lr(E,h-1)==58){PE(E+=Zt(My(w),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:E+=My(w);break;case 9:case 10:case 13:case 32:E+=yY(m);break;case 92:E+=vY(Ay()-1,7);continue;case 47:switch(Es()){case 42:case 47:jm(xY(_Y(oo(),Ay()),e,n),l);break;default:E+="/"}break;case 123*x:a[c++]=fs(E)*_;case 125*x:case 59:case 0:switch(w){case 0:case 125:S=0;case 59+u:_==-1&&(E=Zt(E,/\f/g,"")),p>0&&fs(E)-h&&jm(p>32?JP(E+";",r,n,h-1):JP(Zt(E," ","")+";",r,n,h-2),l);break;case 59:E+=";";default:if(jm($=QP(E,e,n,c,u,i,a,b,C=[],N=[],h),o),w===123)if(u===0)Oy(E,e,$,$,C,o,h,a,N);else switch(f===99&&Lr(E,3)===110?100:f){case 100:case 108:case 109:case 115:Oy(t,$,$,r&&jm(QP(t,$,$,0,0,i,a,b,i,C=[],h),N),i,N,h,a,r?C:N);break;default:Oy(E,$,$,$,[""],N,0,a,N)}}c=u=p=0,x=_=1,b=E="",h=s;break;case 58:h=1+fs(E),p=m;default:if(x<1){if(w==123)--x;else if(w==125&&x++==0&&mY()==125)continue}switch(E+=o_(w),w*x){case 38:_=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(fs(E)-1)*_,_=1;break;case 64:Es()===45&&(E+=My(oo())),f=Es(),u=h=fs(b=E+=bY(Ay())),w++;break;case 45:m===45&&fs(E)==2&&(x=0)}}return o}function QP(t,e,n,r,i,o,s,a,l,c,u){for(var h=i-1,f=i===0?o:[""],p=N1(f),m=0,x=0,S=0;m<r;++m)for(var _=0,w=Fp(t,h+1,h=uY(x=s[m])),b=t;_<p;++_)(b=cF(x>0?f[_]+" "+w:Zt(w,/&\f/g,f[_])))&&(l[S++]=b);return a_(t,e,n,i===0?M1:a,l,c,u)}function xY(t,e,n){return a_(t,e,n,aF,o_(gY()),Fp(t,2,-2),0)}function JP(t,e,n,r){return a_(t,e,n,O1,Fp(t,0,r),Fp(t,r+1,-1),r)}function bd(t,e){for(var n="",r=N1(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function EY(t,e,n,r){switch(t.type){case cY:if(t.children.length)break;case lY:case O1:return t.return=t.return||t.value;case aF:return"";case lF:return t.return=t.value+"{"+bd(t.children,r)+"}";case M1:t.value=t.props.join(",")}return fs(n=bd(t.children,r))?t.return=t.value+"{"+n+"}":""}function SY(t){var e=N1(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function CY(t){return function(e){e.root||(e=e.return)&&t(e)}}function fF(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var TY=function(e,n,r){for(var i=0,o=0;i=o,o=Es(),i===38&&o===12&&(n[r]=1),!Bp(o);)oo();return Cg(e,Li)},IY=function(e,n){var r=-1,i=44;do switch(Bp(i)){case 0:i===38&&Es()===12&&(n[r]=1),e[r]+=TY(Li-1,n,r);break;case 2:e[r]+=My(i);break;case 4:if(i===44){e[++r]=Es()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=o_(i)}while(i=oo());return e},RY=function(e,n){return hF(IY(dF(e),n))},ZP=new WeakMap,kY=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!ZP.get(r))&&!i){ZP.set(e,!0);for(var o=[],s=RY(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},PY=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function pF(t,e){switch(hY(t,e)){case 5103:return Jt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Jt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Jt+t+Ov+t+qr+t+t;case 6828:case 4268:return Jt+t+qr+t+t;case 6165:return Jt+t+qr+"flex-"+t+t;case 5187:return Jt+t+Zt(t,/(\w+).+(:[^]+)/,Jt+"box-$1$2"+qr+"flex-$1$2")+t;case 5443:return Jt+t+qr+"flex-item-"+Zt(t,/flex-|-self/,"")+t;case 4675:return Jt+t+qr+"flex-line-pack"+Zt(t,/align-content|flex-|-self/,"")+t;case 5548:return Jt+t+qr+Zt(t,"shrink","negative")+t;case 5292:return Jt+t+qr+Zt(t,"basis","preferred-size")+t;case 6060:return Jt+"box-"+Zt(t,"-grow","")+Jt+t+qr+Zt(t,"grow","positive")+t;case 4554:return Jt+Zt(t,/([^-])(transform)/g,"$1"+Jt+"$2")+t;case 6187:return Zt(Zt(Zt(t,/(zoom-|grab)/,Jt+"$1"),/(image-set)/,Jt+"$1"),t,"")+t;case 5495:case 3959:return Zt(t,/(image-set\([^]*)/,Jt+"$1$`$1");case 4968:return Zt(Zt(t,/(.+:)(flex-)?(.*)/,Jt+"box-pack:$3"+qr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Jt+t+t;case 4095:case 3583:case 4068:case 2532:return Zt(t,/(.+)-inline(.+)/,Jt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(fs(t)-1-e>6)switch(Lr(t,e+1)){case 109:if(Lr(t,e+4)!==45)break;case 102:return Zt(t,/(.+:)(.+)-([^]+)/,"$1"+Jt+"$2-$3$1"+Ov+(Lr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~PE(t,"stretch")?pF(Zt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Lr(t,e+1)!==115)break;case 6444:switch(Lr(t,fs(t)-3-(~PE(t,"!important")&&10))){case 107:return Zt(t,":",":"+Jt)+t;case 101:return Zt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Jt+(Lr(t,14)===45?"inline-":"")+"box$3$1"+Jt+"$2$3$1"+qr+"$2box$3")+t}break;case 5936:switch(Lr(t,e+11)){case 114:return Jt+t+qr+Zt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Jt+t+qr+Zt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Jt+t+qr+Zt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Jt+t+qr+t+t}return t}var AY=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case O1:e.return=pF(e.value,e.length);break;case lF:return bd([rf(e,{value:Zt(e.value,"@","@"+Jt)})],i);case M1:if(e.length)return pY(e.props,function(o){switch(fY(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return bd([rf(e,{props:[Zt(o,/:(read-\w+)/,":"+Ov+"$1")]})],i);case"::placeholder":return bd([rf(e,{props:[Zt(o,/:(plac\w+)/,":"+Jt+"input-$1")]}),rf(e,{props:[Zt(o,/:(plac\w+)/,":"+Ov+"$1")]}),rf(e,{props:[Zt(o,/:(plac\w+)/,qr+"input-$1")]})],i)}return""})}},MY=[AY],OY=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var S=x.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var i=e.stylisPlugins||MY,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var S=x.getAttribute("data-emotion").split(" "),_=1;_<S.length;_++)o[S[_]]=!0;a.push(x)});var l,c=[kY,PY];{var u,h=[EY,CY(function(x){u.insert(x)})],f=SY(c.concat(i,h)),p=function(S){return bd(wY(S),f)};l=function(S,_,w,b){u=w,p(S?S+"{"+_.styles+"}":_.styles),b&&(m.inserted[_.name]=!0)}}var m={key:n,sheet:new aY({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return m.sheet.hydrate(a),m},gF={exports:{}},ln={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nr=typeof Symbol=="function"&&Symbol.for,D1=Nr?Symbol.for("react.element"):60103,$1=Nr?Symbol.for("react.portal"):60106,l_=Nr?Symbol.for("react.fragment"):60107,c_=Nr?Symbol.for("react.strict_mode"):60108,u_=Nr?Symbol.for("react.profiler"):60114,d_=Nr?Symbol.for("react.provider"):60109,h_=Nr?Symbol.for("react.context"):60110,L1=Nr?Symbol.for("react.async_mode"):60111,f_=Nr?Symbol.for("react.concurrent_mode"):60111,p_=Nr?Symbol.for("react.forward_ref"):60112,g_=Nr?Symbol.for("react.suspense"):60113,NY=Nr?Symbol.for("react.suspense_list"):60120,m_=Nr?Symbol.for("react.memo"):60115,y_=Nr?Symbol.for("react.lazy"):60116,DY=Nr?Symbol.for("react.block"):60121,$Y=Nr?Symbol.for("react.fundamental"):60117,LY=Nr?Symbol.for("react.responder"):60118,FY=Nr?Symbol.for("react.scope"):60119;function fo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case D1:switch(t=t.type,t){case L1:case f_:case l_:case u_:case c_:case g_:return t;default:switch(t=t&&t.$$typeof,t){case h_:case p_:case y_:case m_:case d_:return t;default:return e}}case $1:return e}}}function mF(t){return fo(t)===f_}ln.AsyncMode=L1;ln.ConcurrentMode=f_;ln.ContextConsumer=h_;ln.ContextProvider=d_;ln.Element=D1;ln.ForwardRef=p_;ln.Fragment=l_;ln.Lazy=y_;ln.Memo=m_;ln.Portal=$1;ln.Profiler=u_;ln.StrictMode=c_;ln.Suspense=g_;ln.isAsyncMode=function(t){return mF(t)||fo(t)===L1};ln.isConcurrentMode=mF;ln.isContextConsumer=function(t){return fo(t)===h_};ln.isContextProvider=function(t){return fo(t)===d_};ln.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===D1};ln.isForwardRef=function(t){return fo(t)===p_};ln.isFragment=function(t){return fo(t)===l_};ln.isLazy=function(t){return fo(t)===y_};ln.isMemo=function(t){return fo(t)===m_};ln.isPortal=function(t){return fo(t)===$1};ln.isProfiler=function(t){return fo(t)===u_};ln.isStrictMode=function(t){return fo(t)===c_};ln.isSuspense=function(t){return fo(t)===g_};ln.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===l_||t===f_||t===u_||t===c_||t===g_||t===NY||typeof t=="object"&&t!==null&&(t.$$typeof===y_||t.$$typeof===m_||t.$$typeof===d_||t.$$typeof===h_||t.$$typeof===p_||t.$$typeof===$Y||t.$$typeof===LY||t.$$typeof===FY||t.$$typeof===DY)};ln.typeOf=fo;gF.exports=ln;var BY=gF.exports,yF=BY,jY={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},VY={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},vF={};vF[yF.ForwardRef]=jY;vF[yF.Memo]=VY;var UY=!0;function _F(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var F1=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||UY===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},B1=function(e,n,r){F1(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function zY(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var WY={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},HY=/[A-Z]|^ms/g,GY=/_EMO_([^_]+?)_([^]*?)_EMO_/g,bF=function(e){return e.charCodeAt(1)===45},eA=function(e){return e!=null&&typeof e!="boolean"},ww=fF(function(t){return bF(t)?t:t.replace(HY,"-$&").toLowerCase()}),tA=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(GY,function(r,i,o){return ps={name:i,styles:o,next:ps},i})}return WY[e]!==1&&!bF(e)&&typeof n=="number"&&n!==0?n+"px":n};function jp(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ps={name:i.name,styles:i.styles,next:ps},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)ps={name:s.name,styles:s.styles,next:ps},s=s.next;var a=o.styles+";";return a}return KY(t,e,n)}case"function":{if(t!==void 0){var l=ps,c=n(t);return ps=l,jp(t,e,c)}break}}var u=n;if(e==null)return u;var h=e[u];return h!==void 0?h:u}function KY(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=jp(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":eA(a)&&(r+=ww(o)+":"+tA(o,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)eA(s[l])&&(r+=ww(o)+":"+tA(o,s[l])+";");else{var c=jp(t,e,s);switch(o){case"animation":case"animationName":{r+=ww(o)+":"+c+";";break}default:r+=o+"{"+c+"}"}}}return r}var nA=/label:\s*([^\s;{]+)\s*(;|$)/g,ps;function Tg(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";ps=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=jp(n,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=jp(n,e,t[a]),r){var l=o;i+=l[a]}nA.lastIndex=0;for(var c="",u;(u=nA.exec(i))!==null;)c+="-"+u[1];var h=zY(i)+c;return{name:h,styles:i,next:ps}}var qY=function(e){return e()},wF=By.useInsertionEffect?By.useInsertionEffect:!1,xF=wF||qY,rA=wF||g.useLayoutEffect,EF=g.createContext(typeof HTMLElement<"u"?OY({key:"css"}):null);EF.Provider;var j1=function(e){return g.forwardRef(function(n,r){var i=g.useContext(EF);return e(n,i,r)})},v_=g.createContext({}),V1={}.hasOwnProperty,ME="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",YY=function(e,n){var r={};for(var i in n)V1.call(n,i)&&(r[i]=n[i]);return r[ME]=e,r},XY=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return F1(n,r,i),xF(function(){return B1(n,r,i)}),null},QY=j1(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[ME],o=[r],s="";typeof t.className=="string"?s=_F(e.registered,o,t.className):t.className!=null&&(s=t.className+" ");var a=Tg(o,void 0,g.useContext(v_));s+=e.key+"-"+a.name;var l={};for(var c in t)V1.call(t,c)&&c!=="css"&&c!==ME&&(l[c]=t[c]);return l.className=s,n&&(l.ref=n),g.createElement(g.Fragment,null,g.createElement(XY,{cache:e,serialized:a,isStringTag:typeof i=="string"}),g.createElement(i,l))}),JY=QY,iA=function(e,n){var r=arguments;if(n==null||!V1.call(n,"css"))return g.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=JY,o[1]=YY(e,n);for(var s=2;s<i;s++)o[s]=r[s];return g.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(iA||(iA={}));var ZY=j1(function(t,e){var n=t.styles,r=Tg([n],void 0,g.useContext(v_)),i=g.useRef();return rA(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),rA(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&B1(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function U1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Tg(e)}function Ig(){var t=U1.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var eX=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,tX=fF(function(t){return eX.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),nX=tX,rX=function(e){return e!=="theme"},oA=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?nX:rX},sA=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},iX=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return F1(n,r,i),xF(function(){return B1(n,r,i)}),null},oX=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=sA(e,n,r),l=a||oA(i),c=!l("as");return function(){var u=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&h.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)h.push.apply(h,u);else{var f=u[0];h.push(f[0]);for(var p=u.length,m=1;m<p;m++)h.push(u[m],f[m])}var x=j1(function(S,_,w){var b=c&&S.as||i,C="",N=[],$=S;if(S.theme==null){$={};for(var E in S)$[E]=S[E];$.theme=g.useContext(v_)}typeof S.className=="string"?C=_F(_.registered,N,S.className):S.className!=null&&(C=S.className+" ");var k=Tg(h.concat(N),_.registered,$);C+=_.key+"-"+k.name,s!==void 0&&(C+=" "+s);var M=c&&a===void 0?oA(b):l,v={};for(var P in S)c&&P==="as"||M(P)&&(v[P]=S[P]);return v.className=C,w&&(v.ref=w),g.createElement(g.Fragment,null,g.createElement(iX,{cache:_,serialized:k,isStringTag:typeof b=="string"}),g.createElement(b,v))});return x.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",x.defaultProps=e.defaultProps,x.__emotion_real=x,x.__emotion_base=i,x.__emotion_styles=h,x.__emotion_forwardProp=a,Object.defineProperty(x,"toString",{value:function(){return"."+s}}),x.withComponent=function(S,_){var w=t(S,Mv({},n,_,{shouldForwardProp:sA(x,_,!0)}));return w.apply(void 0,h)},x}},sX=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],OE=oX.bind(null);sX.forEach(function(t){OE[t]=OE(t)});var SF={exports:{}},aX="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",lX=aX,cX=lX;function CF(){}function TF(){}TF.resetWarningCache=CF;var uX=function(){function t(r,i,o,s,a,l){if(l!==cX){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:TF,resetWarningCache:CF};return n.PropTypes=n,n};SF.exports=uX();var z1=SF.exports;const Pe=Zp(z1);function dX(t){return t==null||Object.keys(t).length===0}function hX(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(dX(i)?n:i):e;return I.jsx(ZY,{styles:r})}function IF(t,e){return OE(t,e)}function fX(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const aA=[];function lA(t){return aA[0]=t,Tg(aA)}var RF={exports:{}},fn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1=Symbol.for("react.transitional.element"),H1=Symbol.for("react.portal"),__=Symbol.for("react.fragment"),b_=Symbol.for("react.strict_mode"),w_=Symbol.for("react.profiler"),x_=Symbol.for("react.consumer"),E_=Symbol.for("react.context"),S_=Symbol.for("react.forward_ref"),C_=Symbol.for("react.suspense"),T_=Symbol.for("react.suspense_list"),I_=Symbol.for("react.memo"),R_=Symbol.for("react.lazy"),pX=Symbol.for("react.view_transition"),gX=Symbol.for("react.client.reference");function Oo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case W1:switch(t=t.type,t){case __:case w_:case b_:case C_:case T_:case pX:return t;default:switch(t=t&&t.$$typeof,t){case E_:case S_:case R_:case I_:return t;case x_:return t;default:return e}}case H1:return e}}}fn.ContextConsumer=x_;fn.ContextProvider=E_;fn.Element=W1;fn.ForwardRef=S_;fn.Fragment=__;fn.Lazy=R_;fn.Memo=I_;fn.Portal=H1;fn.Profiler=w_;fn.StrictMode=b_;fn.Suspense=C_;fn.SuspenseList=T_;fn.isContextConsumer=function(t){return Oo(t)===x_};fn.isContextProvider=function(t){return Oo(t)===E_};fn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===W1};fn.isForwardRef=function(t){return Oo(t)===S_};fn.isFragment=function(t){return Oo(t)===__};fn.isLazy=function(t){return Oo(t)===R_};fn.isMemo=function(t){return Oo(t)===I_};fn.isPortal=function(t){return Oo(t)===H1};fn.isProfiler=function(t){return Oo(t)===w_};fn.isStrictMode=function(t){return Oo(t)===b_};fn.isSuspense=function(t){return Oo(t)===C_};fn.isSuspenseList=function(t){return Oo(t)===T_};fn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===__||t===w_||t===b_||t===C_||t===T_||typeof t=="object"&&t!==null&&(t.$$typeof===R_||t.$$typeof===I_||t.$$typeof===E_||t.$$typeof===x_||t.$$typeof===S_||t.$$typeof===gX||t.getModuleId!==void 0)};fn.typeOf=Oo;RF.exports=fn;var kF=RF.exports;function ms(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function PF(t){if(g.isValidElement(t)||kF.isValidElementType(t)||!ms(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=PF(t[n])}),e}function Mr(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return ms(t)&&ms(e)&&Object.keys(e).forEach(i=>{g.isValidElement(e[i])||kF.isValidElementType(e[i])?r[i]=e[i]:ms(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&ms(t[i])?r[i]=Mr(t[i],e[i],n):n.clone?r[i]=ms(e[i])?PF(e[i]):e[i]:r[i]=e[i]}),r}const mX=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function yX(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,o=mX(e),s=Object.keys(o);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function c(f,p){const m=s.indexOf(p);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(m!==-1&&typeof e[s[m]]=="number"?e[s[m]]:p)-r/100}${n})`}function u(f){return s.indexOf(f)+1<s.length?c(f,s[s.indexOf(f)+1]):a(f)}function h(f){const p=s.indexOf(f);return p===0?a(s[1]):p===s.length-1?l(s[p]):c(f,s[s.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:s,values:o,up:a,down:l,between:c,only:u,not:h,unit:n,...i}}function vX(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var s,a;const o=/min-width:\s*([0-9.]+)/;return+(((s=r.match(o))==null?void 0:s[1])||0)-+(((a=i.match(o))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function _X(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function bX(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(o)}function wX(t){const e=(o,s)=>o.replace("@media",s?`@container ${s}`:"@container");function n(o,s){o.up=(...a)=>e(t.breakpoints.up(...a),s),o.down=(...a)=>e(t.breakpoints.down(...a),s),o.between=(...a)=>e(t.breakpoints.between(...a),s),o.only=(...a)=>e(t.breakpoints.only(...a),s),o.not=(...a)=>{const l=e(t.breakpoints.not(...a),s);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=o=>(n(r,o),r);return n(i),{...t,containerQueries:i}}const xX={borderRadius:4};function Qf(t,e){return e?Mr(t,e,{clone:!1}):t}const k_={xs:0,sm:600,md:900,lg:1200,xl:1536},cA={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${k_[t]}px)`},EX={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:k_[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function rs(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||cA;return e.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(e[l]),s),{})}if(typeof e=="object"){const o=r.breakpoints||cA;return Object.keys(e).reduce((s,a)=>{if(_X(o.keys,a)){const l=bX(r.containerQueries?r:EX,a);l&&(s[l]=n(e[a],a))}else if(Object.keys(o.values||k_).includes(a)){const l=o.up(a);s[l]=n(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return n(e)}function AF(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function MF(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function SX(t,...e){const n=AF(t),r=[n,...e].reduce((i,o)=>Mr(i,o),{});return MF(Object.keys(n),r)}function CX(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,o)=>{o<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function xw({values:t,breakpoints:e,base:n}){const r=n||CX(t,e),i=Object.keys(r);if(i.length===0)return t;let o;return i.reduce((s,a,l)=>(Array.isArray(t)?(s[a]=t[l]!=null?t[l]:t[o],o=l):typeof t=="object"?(s[a]=t[a]!=null?t[a]:t[o],o=a):s[a]=t,s),{})}function be(t){if(typeof t!="string")throw new Error(wa(7));return t.charAt(0).toUpperCase()+t.slice(1)}function P_(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Nv(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=P_(t,n)||r,e&&(i=e(i,r,t)),i}function Jn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,c=P_(l,r)||{};return rs(s,a,h=>{let f=Nv(c,i,h);return h===f&&typeof h=="string"&&(f=Nv(c,i,`${e}${h==="default"?"":be(h)}`,h)),n===!1?f:{[n]:f}})};return o.propTypes={},o.filterProps=[e],o}function TX(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const IX={m:"margin",p:"padding"},RX={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},uA={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},kX=TX(t=>{if(t.length>2)if(uA[t])t=uA[t];else return[t];const[e,n]=t.split(""),r=IX[e],i=RX[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),G1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],K1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...G1,...K1];function Rg(t,e,n,r){const i=P_(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const s=Math.abs(o),a=i[s];return o>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof i=="function"?i:()=>{}}function A_(t){return Rg(t,"spacing",8)}function Fc(t,e){return typeof e=="string"||e==null?e:t(e)}function PX(t,e){return n=>t.reduce((r,i)=>(r[i]=Fc(e,n),r),{})}function AX(t,e,n,r){if(!e.includes(n))return null;const i=kX(n),o=PX(i,r),s=t[n];return rs(t,s,o)}function OF(t,e){const n=A_(t.theme);return Object.keys(t).map(r=>AX(t,e,r,n)).reduce(Qf,{})}function Bn(t){return OF(t,G1)}Bn.propTypes={};Bn.filterProps=G1;function jn(t){return OF(t,K1)}jn.propTypes={};jn.filterProps=K1;function NF(t=8,e=A_({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function M_(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?Qf(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function bo(t){return typeof t!="number"?t:`${t}px solid`}function No(t,e){return Jn({prop:t,themeKey:"borders",transform:e})}const MX=No("border",bo),OX=No("borderTop",bo),NX=No("borderRight",bo),DX=No("borderBottom",bo),$X=No("borderLeft",bo),LX=No("borderColor"),FX=No("borderTopColor"),BX=No("borderRightColor"),jX=No("borderBottomColor"),VX=No("borderLeftColor"),UX=No("outline",bo),zX=No("outlineColor"),O_=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Rg(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Fc(e,r)});return rs(t,t.borderRadius,n)}return null};O_.propTypes={};O_.filterProps=["borderRadius"];M_(MX,OX,NX,DX,$X,LX,FX,BX,jX,VX,O_,UX,zX);const N_=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Rg(t.theme,"spacing",8),n=r=>({gap:Fc(e,r)});return rs(t,t.gap,n)}return null};N_.propTypes={};N_.filterProps=["gap"];const D_=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Rg(t.theme,"spacing",8),n=r=>({columnGap:Fc(e,r)});return rs(t,t.columnGap,n)}return null};D_.propTypes={};D_.filterProps=["columnGap"];const $_=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Rg(t.theme,"spacing",8),n=r=>({rowGap:Fc(e,r)});return rs(t,t.rowGap,n)}return null};$_.propTypes={};$_.filterProps=["rowGap"];const WX=Jn({prop:"gridColumn"}),HX=Jn({prop:"gridRow"}),GX=Jn({prop:"gridAutoFlow"}),KX=Jn({prop:"gridAutoColumns"}),qX=Jn({prop:"gridAutoRows"}),YX=Jn({prop:"gridTemplateColumns"}),XX=Jn({prop:"gridTemplateRows"}),QX=Jn({prop:"gridTemplateAreas"}),JX=Jn({prop:"gridArea"});M_(N_,D_,$_,WX,HX,GX,KX,qX,YX,XX,QX,JX);function wd(t,e){return e==="grey"?e:t}const ZX=Jn({prop:"color",themeKey:"palette",transform:wd}),eQ=Jn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:wd}),tQ=Jn({prop:"backgroundColor",themeKey:"palette",transform:wd});M_(ZX,eQ,tQ);function Qi(t){return t<=1&&t!==0?`${t*100}%`:t}const nQ=Jn({prop:"width",transform:Qi}),q1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,o,s,a,l;const r=((s=(o=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:s[n])||k_[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Qi(n)}};return rs(t,t.maxWidth,e)}return null};q1.filterProps=["maxWidth"];const rQ=Jn({prop:"minWidth",transform:Qi}),iQ=Jn({prop:"height",transform:Qi}),oQ=Jn({prop:"maxHeight",transform:Qi}),sQ=Jn({prop:"minHeight",transform:Qi});Jn({prop:"size",cssProperty:"width",transform:Qi});Jn({prop:"size",cssProperty:"height",transform:Qi});const aQ=Jn({prop:"boxSizing"});M_(nQ,q1,rQ,iQ,oQ,sQ,aQ);const kg={border:{themeKey:"borders",transform:bo},borderTop:{themeKey:"borders",transform:bo},borderRight:{themeKey:"borders",transform:bo},borderBottom:{themeKey:"borders",transform:bo},borderLeft:{themeKey:"borders",transform:bo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:bo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:O_},color:{themeKey:"palette",transform:wd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:wd},backgroundColor:{themeKey:"palette",transform:wd},p:{style:jn},pt:{style:jn},pr:{style:jn},pb:{style:jn},pl:{style:jn},px:{style:jn},py:{style:jn},padding:{style:jn},paddingTop:{style:jn},paddingRight:{style:jn},paddingBottom:{style:jn},paddingLeft:{style:jn},paddingX:{style:jn},paddingY:{style:jn},paddingInline:{style:jn},paddingInlineStart:{style:jn},paddingInlineEnd:{style:jn},paddingBlock:{style:jn},paddingBlockStart:{style:jn},paddingBlockEnd:{style:jn},m:{style:Bn},mt:{style:Bn},mr:{style:Bn},mb:{style:Bn},ml:{style:Bn},mx:{style:Bn},my:{style:Bn},margin:{style:Bn},marginTop:{style:Bn},marginRight:{style:Bn},marginBottom:{style:Bn},marginLeft:{style:Bn},marginX:{style:Bn},marginY:{style:Bn},marginInline:{style:Bn},marginInlineStart:{style:Bn},marginInlineEnd:{style:Bn},marginBlock:{style:Bn},marginBlockStart:{style:Bn},marginBlockEnd:{style:Bn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:N_},rowGap:{style:$_},columnGap:{style:D_},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Qi},maxWidth:{style:q1},minWidth:{transform:Qi},height:{transform:Qi},maxHeight:{transform:Qi},minHeight:{transform:Qi},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function lQ(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function cQ(t,e){return typeof t=="function"?t(e):t}function uQ(){function t(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:h}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const f=P_(i,c)||{};return h?h(s):rs(s,r,m=>{let x=Nv(f,u,m);return m===x&&typeof m=="string"&&(x=Nv(f,u,`${n}${m==="default"?"":be(m)}`,m)),l===!1?x:{[l]:x}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const o=i.unstable_sxConfig??kg;function s(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const c=AF(i.breakpoints),u=Object.keys(c);let h=c;return Object.keys(l).forEach(f=>{const p=cQ(l[f],i);if(p!=null)if(typeof p=="object")if(o[f])h=Qf(h,t(f,p,i,o));else{const m=rs({theme:i},p,x=>({[f]:x}));lQ(m,p)?h[f]=e({sx:p,theme:i}):h=Qf(h,m)}else h=Qf(h,t(f,p,i,o))}),vX(i,MF(u,h))}return Array.isArray(r)?r.map(s):s(r)}return e}const Bc=uQ();Bc.filterProps=["sx"];function dQ(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function dh(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={},...s}=t,a=yX(n),l=NF(i);let c=Mr({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...xX,...o}},s);return c=wX(c),c.applyStyles=dQ,c=e.reduce((u,h)=>Mr(u,h),c),c.unstable_sxConfig={...kg,...s==null?void 0:s.unstable_sxConfig},c.unstable_sx=function(h){return Bc({sx:h,theme:this})},c}function hQ(t){return Object.keys(t).length===0}function DF(t=null){const e=g.useContext(v_);return!e||hQ(e)?t:e}const fQ=dh();function Pg(t=fQ){return DF(t)}function pQ({styles:t,themeId:e,defaultTheme:n={}}){const r=Pg(n),i=typeof t=="function"?t(e&&r[e]||r):t;return I.jsx(hX,{styles:i})}const gQ=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??kg;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function L_(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=gQ(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return ms(a)?{...r,...a}:r}:o={...r,...e},{...i,sx:o}}const dA=t=>t,mQ=()=>{let t=dA;return{configure(e){t=e},generate(e){return t(e)},reset(){t=dA}}},$F=mQ();function LF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=LF(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function De(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=LF(t))&&(r&&(r+=" "),r+=e);return r}function yQ(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=IF("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Bc);return g.forwardRef(function(l,c){const u=Pg(n),{className:h,component:f="div",...p}=L_(l);return I.jsx(o,{as:f,ref:c,className:De(h,i?i(r):r),theme:e&&u[e]||u,...p})})}const vQ={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ht(t,e,n="Mui"){const r=vQ[e];return r?`${n}-${r}`:`${$F.generate(t)}-${e}`}function ut(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=ht(t,i,n)}),r}function FF(t){const{variants:e,...n}=t,r={variants:e,style:lA(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=lA(i.style))}),r}const _Q=dh();function Ew(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function bQ(t){return t?(e,n)=>n[t]:null}function wQ(t,e,n){t.theme=EQ(t.theme)?n:t.theme[e]||t.theme}function Ny(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>Ny(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...o}=n;r=o}return BF(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function BF(t,e,n=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const s=e[o];if(typeof s.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!s.props(r))continue}else for(const a in s.props)if(t[a]!==s.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==s.props[a])continue e;typeof s.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(s.style(r))):n.push(s.style)}return n}function jF(t={}){const{themeId:e,defaultTheme:n=_Q,rootShouldForwardProp:r=Ew,slotShouldForwardProp:i=Ew}=t;function o(a){wQ(a,e,n)}return(a,l={})=>{fX(a,N=>N.filter($=>$!==Bc));const{name:c,slot:u,skipVariantsResolver:h,skipSx:f,overridesResolver:p=bQ(CQ(u)),...m}=l,x=h!==void 0?h:u&&u!=="Root"&&u!=="root"||!1,S=f||!1;let _=Ew;u==="Root"||u==="root"?_=r:u?_=i:SQ(a)&&(_=void 0);const w=IF(a,{shouldForwardProp:_,label:xQ(),...m}),b=N=>{if(typeof N=="function"&&N.__emotion_real!==N)return function(E){return Ny(E,N)};if(ms(N)){const $=FF(N);return $.variants?function(k){return Ny(k,$)}:$.style}return N},C=(...N)=>{const $=[],E=N.map(b),k=[];if($.push(o),c&&p&&k.push(function(D){var Z,ce;const J=(ce=(Z=D.theme.components)==null?void 0:Z[c])==null?void 0:ce.styleOverrides;if(!J)return null;const Q={};for(const U in J)Q[U]=Ny(D,J[U]);return p(D,Q)}),c&&!x&&k.push(function(D){var Q,Z;const O=D.theme,J=(Z=(Q=O==null?void 0:O.components)==null?void 0:Q[c])==null?void 0:Z.variants;return J?BF(D,J):null}),S||k.push(Bc),Array.isArray(E[0])){const P=E.shift(),D=new Array($.length).fill(""),O=new Array(k.length).fill("");let J;J=[...D,...P,...O],J.raw=[...D,...P.raw,...O],$.unshift(J)}const M=[...$,...E,...k],v=w(...M);return a.muiName&&(v.muiName=a.muiName),v};return w.withConfig&&(C.withConfig=w.withConfig),C}}function xQ(t,e){return void 0}function EQ(t){for(const e in t)return!1;return!0}function SQ(t){return typeof t=="string"&&t.charCodeAt(0)>96}function CQ(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const Y1=jF();function Ud(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const o=t[i],s=e[i];if(!s)n[i]=o||{};else if(!o)n[i]=s;else{n[i]={...s};for(const a in o)if(Object.prototype.hasOwnProperty.call(o,a)){const l=a;n[i][l]=Ud(o[l],s[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function VF(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Ud(e.components[n].defaultProps,r)}function X1({props:t,name:e,defaultTheme:n,themeId:r}){let i=Pg(n);return r&&(i=i[r]||i),VF({theme:i,name:e,props:t})}const ko=typeof window<"u"?g.useLayoutEffect:g.useEffect;function TQ(t,e,n,r,i){const[o,s]=g.useState(()=>i&&n?n(t).matches:r?r(t).matches:e);return ko(()=>{if(!n)return;const a=n(t),l=()=>{s(a.matches)};return l(),a.addEventListener("change",l),()=>{a.removeEventListener("change",l)}},[t,n]),o}const IQ={...By},UF=IQ.useSyncExternalStore;function RQ(t,e,n,r,i){const o=g.useCallback(()=>e,[e]),s=g.useMemo(()=>{if(i&&n)return()=>n(t).matches;if(r!==null){const{matches:u}=r(t);return()=>u}return o},[o,t,r,i,n]),[a,l]=g.useMemo(()=>{if(n===null)return[o,()=>()=>{}];const u=n(t);return[()=>u.matches,h=>(u.addEventListener("change",h),()=>{u.removeEventListener("change",h)})]},[o,n,t]);return UF(l,a,s)}function zF(t={}){const{themeId:e}=t;return function(r,i={}){let o=DF();o&&e&&(o=o[e]||o);const s=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:a=!1,matchMedia:l=s?window.matchMedia:null,ssrMatchMedia:c=null,noSsr:u=!1}=VF({name:"MuiUseMediaQuery",props:i,theme:o});let h=typeof r=="function"?r(o):r;return h=h.replace(/^@media( ?)/m,""),(UF!==void 0?RQ:TQ)(h,a,l,c,u)}}zF();function kQ(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function Q1(t,e=0,n=1){return kQ(t,e,n)}function PQ(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Al(t){if(t.type)return t;if(t.charAt(0)==="#")return Al(PQ(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(wa(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(wa(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const AQ=t=>{const e=Al(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},kf=(t,e)=>{try{return AQ(t)}catch{return t}};function F_(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function WF(t){t=Al(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(c,u=(c+n/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),F_({type:a,values:l})}function NE(t){t=Al(t);let e=t.type==="hsl"||t.type==="hsla"?Al(WF(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function MQ(t,e){const n=NE(t),r=NE(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Kt(t,e){return t=Al(t),e=Q1(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,F_(t)}function Vm(t,e,n){try{return Kt(t,e)}catch{return t}}function J1(t,e){if(t=Al(t),e=Q1(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return F_(t)}function un(t,e,n){try{return J1(t,e)}catch{return t}}function Z1(t,e){if(t=Al(t),e=Q1(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return F_(t)}function dn(t,e,n){try{return Z1(t,e)}catch{return t}}function OQ(t,e=.15){return NE(t)>.5?J1(t,e):Z1(t,e)}function Um(t,e,n){try{return OQ(t,e)}catch{return t}}function hA(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function B_(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function Dy(t,e){var n,r,i;return g.isValidElement(t)&&e.indexOf(t.type.muiName??((i=(r=(n=t.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function Fi(t){return t&&t.ownerDocument||document}function is(t){return Fi(t).defaultView||window}function Dv(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let fA=0;function NQ(t){const[e,n]=g.useState(t),r=t||e;return g.useEffect(()=>{e==null&&(fA+=1,n(`mui-${fA}`))},[e]),r}const DQ={...By},pA=DQ.useId;function hh(t){if(pA!==void 0){const e=pA();return t??e}return NQ(t)}function Jf({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=g.useRef(t!==void 0),[o,s]=g.useState(e),a=i?t:o,l=g.useCallback(c=>{i||s(c)},[]);return[a,l]}function Ri(t){const e=g.useRef(t);return ko(()=>{e.current=t}),g.useRef((...n)=>(0,e.current)(...n)).current}function Or(...t){return g.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Dv(n,e)})},t)}const gA={};function HF(t,e){const n=g.useRef(gA);return n.current===gA&&(n.current=t(e)),n}const $Q=[];function LQ(t){g.useEffect(t,$Q)}class eT{constructor(){Hh(this,"currentId",null);Hh(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Hh(this,"disposeEffect",()=>this.clear)}static create(){return new eT}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function GF(){const t=HF(eT.create).current;return LQ(t.disposeEffect),t}function mA(t){try{return t.matches(":focus-visible")}catch{}return!1}function KF(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}const FQ=t=>{const e=g.useRef({});return g.useEffect(()=>{e.current=t}),e.current};function BQ(t){return g.Children.toArray(t).filter(e=>g.isValidElement(e))}function ft(t,e,n=void 0){const r={};for(const i in t){const o=t[i];let s="",a=!0;for(let l=0;l<o.length;l+=1){const c=o[l];c&&(s+=(a===!0?"":" ")+e(c),a=!1,n&&n[c]&&(s+=" "+n[c]))}r[i]=s}return r}function jQ(t){return typeof t=="string"}function qF(t,e,n){return t===void 0||jQ(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function YF(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function yA(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function XF(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const p=De(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),m={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},x={...n,...i,...r};return p.length>0&&(x.className=p),Object.keys(m).length>0&&(x.style=m),{props:x,internalRef:void 0}}const s=YF({...i,...r}),a=yA(r),l=yA(i),c=e(s),u=De(c==null?void 0:c.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),h={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},f={...c,...n,...l,...a};return u.length>0&&(f.className=u),Object.keys(h).length>0&&(f.style=h),{props:f,internalRef:c.ref}}function QF(t,e,n){return typeof t=="function"?t(e,n):t}function zd(t){var h;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=t,s=i?{}:QF(n,r),{props:a,internalRef:l}=XF({...o,externalSlotProps:s}),c=Or(l,s==null?void 0:s.ref,(h=t.additionalProps)==null?void 0:h.ref);return qF(e,{...a,ref:c},r)}function Ag(t){var e;return parseInt(g.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const VQ=g.createContext(),j_=()=>g.useContext(VQ)??!1,UQ=g.createContext(void 0);function zQ(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Ud(i.defaultProps,r):!i.styleOverrides&&!i.variants?Ud(i,r):r}function WQ({props:t,name:e}){const n=g.useContext(UQ);return zQ({props:t,name:e,theme:{components:n}})}const vA={theme:void 0};function HQ(t){let e,n;return function(i){let o=e;return(o===void 0||i.theme!==n)&&(vA.theme=i.theme,o=FF(t(vA)),e=o,n=i.theme),o}}function GQ(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const _A=(t,e,n,r=[])=>{let i=t;e.forEach((o,s)=>{s===e.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},KQ=(t,e,n)=>{function r(i,o=[],s=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...o,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...o,a],Array.isArray(l)?[...s,a]:s):e([...o,a],l,s))})}r(t)},qQ=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Sw(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},o={},s={};return KQ(t,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const u=`--${n?`${n}-`:""}${a.join("-")}`,h=qQ(a,l);Object.assign(i,{[u]:h}),_A(o,a,`var(${u})`,c),_A(s,a,`var(${u}, ${h})`,c)}},a=>a[0]==="vars"),{css:i,vars:o,varsWithDefaults:s}}function YQ(t,e={}){const{getSelector:n=S,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:s,defaultColorScheme:a="light",...l}=t,{vars:c,css:u,varsWithDefaults:h}=Sw(l,e);let f=h;const p={},{[a]:m,...x}=o;if(Object.entries(x||{}).forEach(([b,C])=>{const{vars:N,css:$,varsWithDefaults:E}=Sw(C,e);f=Mr(f,E),p[b]={css:$,vars:N}}),m){const{css:b,vars:C,varsWithDefaults:N}=Sw(m,e);f=Mr(f,N),p[a]={css:b,vars:C}}function S(b,C){var $,E;let N=i;if(i==="class"&&(N=".%s"),i==="data"&&(N="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(N=`[${i}="%s"]`),b){if(N==="media")return t.defaultColorScheme===b?":root":{[`@media (prefers-color-scheme: ${((E=($=o[b])==null?void 0:$.palette)==null?void 0:E.mode)||b})`]:{":root":C}};if(N)return t.defaultColorScheme===b?`:root, ${N.replace("%s",String(b))}`:N.replace("%s",String(b))}return":root"}return{vars:f,generateThemeVars:()=>{let b={...c};return Object.entries(p).forEach(([,{vars:C}])=>{b=Mr(b,C)}),b},generateStyleSheets:()=>{var k,M;const b=[],C=t.defaultColorScheme||"light";function N(v,P){Object.keys(P).length&&b.push(typeof v=="string"?{[v]:{...P}}:v)}N(n(void 0,{...u}),u);const{[C]:$,...E}=p;if($){const{css:v}=$,P=(M=(k=o[C])==null?void 0:k.palette)==null?void 0:M.mode,D=!r&&P?{colorScheme:P,...v}:{...v};N(n(C,{...D}),D)}return Object.entries(E).forEach(([v,{css:P}])=>{var J,Q;const D=(Q=(J=o[v])==null?void 0:J.palette)==null?void 0:Q.mode,O=!r&&D?{colorScheme:D,...P}:{...P};N(n(v,{...O}),O)}),b}}}function XQ(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const QQ=dh(),JQ=Y1("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${be(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),ZQ=t=>X1({props:t,name:"MuiContainer",defaultTheme:QQ}),eJ=(t,e)=>{const n=l=>ht(e,l),{classes:r,fixed:i,disableGutters:o,maxWidth:s}=t,a={root:["root",s&&`maxWidth${be(String(s))}`,i&&"fixed",o&&"disableGutters"]};return ft(a,n,r)};function tJ(t={}){const{createStyledComponent:e=JQ,useThemeProps:n=ZQ,componentName:r="MuiContainer"}=t,i=e(({theme:s,ownerState:a})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((l,c)=>{const u=c,h=s.breakpoints.values[u];return h!==0&&(l[s.breakpoints.up(u)]={maxWidth:`${h}${s.breakpoints.unit}`}),l},{}),({theme:s,ownerState:a})=>({...a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},...a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}}));return g.forwardRef(function(a,l){const c=n(a),{className:u,component:h="div",disableGutters:f=!1,fixed:p=!1,maxWidth:m="lg",classes:x,...S}=c,_={...c,component:h,disableGutters:f,fixed:p,maxWidth:m},w=eJ(_,r);return I.jsx(i,{as:h,ownerState:_,className:De(w.root,u),ref:l,...S})})}const nJ=(t,e)=>t.filter(n=>e.includes(n)),fh=(t,e,n)=>{const r=t.keys[0];Array.isArray(e)?e.forEach((i,o)=>{n((s,a)=>{o<=t.keys.length-1&&(o===0?Object.assign(s,a):s[t.up(t.keys[o])]=a)},i)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:nJ(t.keys,Object.keys(e))).forEach(o=>{if(t.keys.includes(o)){const s=e[o];s!==void 0&&n((a,l)=>{r===o?Object.assign(a,l):a[t.up(o)]=l},s)}}):(typeof e=="number"||typeof e=="string")&&n((i,o)=>{Object.assign(i,o)},e)};function $v(t){return`--Grid-${t}Spacing`}function V_(t){return`--Grid-parent-${t}Spacing`}const bA="--Grid-columns",xd="--Grid-parent-columns",rJ=({theme:t,ownerState:e})=>{const n={};return fh(t.breakpoints,e.size,(r,i)=>{let o={};i==="grow"&&(o={flexBasis:0,flexGrow:1,maxWidth:"100%"}),i==="auto"&&(o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof i=="number"&&(o={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${i} / var(${xd}) - (var(${xd}) - ${i}) * (var(${V_("column")}) / var(${xd})))`}),r(n,o)}),n},iJ=({theme:t,ownerState:e})=>{const n={};return fh(t.breakpoints,e.offset,(r,i)=>{let o={};i==="auto"&&(o={marginLeft:"auto"}),typeof i=="number"&&(o={marginLeft:i===0?"0px":`calc(100% * ${i} / var(${xd}) + var(${V_("column")}) * ${i} / var(${xd}))`}),r(n,o)}),n},oJ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={[bA]:12};return fh(t.breakpoints,e.columns,(r,i)=>{const o=i??12;r(n,{[bA]:o,"> *":{[xd]:o}})}),n},sJ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return fh(t.breakpoints,e.rowSpacing,(r,i)=>{var s;const o=typeof i=="string"?i:(s=t.spacing)==null?void 0:s.call(t,i);r(n,{[$v("row")]:o,"> *":{[V_("row")]:o}})}),n},aJ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return fh(t.breakpoints,e.columnSpacing,(r,i)=>{var s;const o=typeof i=="string"?i:(s=t.spacing)==null?void 0:s.call(t,i);r(n,{[$v("column")]:o,"> *":{[V_("column")]:o}})}),n},lJ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return fh(t.breakpoints,e.direction,(r,i)=>{r(n,{flexDirection:i})}),n},cJ=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${$v("row")}) var(${$v("column")})`}}),uJ=t=>{const e=[];return Object.entries(t).forEach(([n,r])=>{r!==!1&&r!==void 0&&e.push(`grid-${n}-${String(r)}`)}),e},dJ=(t,e="xs")=>{function n(r){return r===void 0?!1:typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number"&&r>0}if(n(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const r=[];return Object.entries(t).forEach(([i,o])=>{n(o)&&r.push(`spacing-${i}-${String(o)}`)}),r}return[]},hJ=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,n])=>`direction-${e}-${n}`):[`direction-xs-${String(t)}`];function fJ(t,e){t.item!==void 0&&delete t.item,t.zeroMinWidth!==void 0&&delete t.zeroMinWidth,e.keys.forEach(n=>{t[n]!==void 0&&delete t[n]})}const pJ=dh(),gJ=Y1("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>e.root});function mJ(t){return X1({props:t,name:"MuiGrid",defaultTheme:pJ})}function yJ(t={}){const{createStyledComponent:e=gJ,useThemeProps:n=mJ,useTheme:r=Pg,componentName:i="MuiGrid"}=t,o=(c,u)=>{const{container:h,direction:f,spacing:p,wrap:m,size:x}=c,S={root:["root",h&&"container",m!=="wrap"&&`wrap-xs-${String(m)}`,...hJ(f),...uJ(x),...h?dJ(p,u.breakpoints.keys[0]):[]]};return ft(S,_=>ht(i,_),{})};function s(c,u,h=()=>!0){const f={};return c===null||(Array.isArray(c)?c.forEach((p,m)=>{p!==null&&h(p)&&u.keys[m]&&(f[u.keys[m]]=p)}):typeof c=="object"?Object.keys(c).forEach(p=>{const m=c[p];m!=null&&h(m)&&(f[p]=m)}):f[u.keys[0]]=c),f}const a=e(oJ,aJ,sJ,rJ,lJ,cJ,iJ),l=g.forwardRef(function(u,h){const f=r(),p=n(u),m=L_(p);fJ(m,f.breakpoints);const{className:x,children:S,columns:_=12,container:w=!1,component:b="div",direction:C="row",wrap:N="wrap",size:$={},offset:E={},spacing:k=0,rowSpacing:M=k,columnSpacing:v=k,unstable_level:P=0,...D}=m,O=s($,f.breakpoints,q=>q!==!1),J=s(E,f.breakpoints),Q=u.columns??(P?void 0:_),Z=u.spacing??(P?void 0:k),ce=u.rowSpacing??u.spacing??(P?void 0:M),U=u.columnSpacing??u.spacing??(P?void 0:v),j={...m,level:P,columns:Q,container:w,direction:C,wrap:N,spacing:Z,rowSpacing:ce,columnSpacing:U,size:O,offset:J},z=o(j,f);return I.jsx(a,{ref:h,as:b,ownerState:j,className:De(z.root,x),...D,children:g.Children.map(S,q=>{var H;return g.isValidElement(q)&&Dy(q,["Grid"])&&w&&q.props.container?g.cloneElement(q,{unstable_level:((H=q.props)==null?void 0:H.unstable_level)??P+1}):q})})});return l.muiName="Grid",l}const vJ=dh(),_J=Y1("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function bJ(t){return X1({props:t,name:"MuiStack",defaultTheme:vJ})}function wJ(t,e){const n=g.Children.toArray(t).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(g.cloneElement(e,{key:`separator-${o}`})),r),[])}const xJ=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],EJ=({ownerState:t,theme:e})=>{let n={display:"flex",flexDirection:"column",...rs({theme:e},xw({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(t.spacing){const r=A_(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),o=xw({values:t.direction,base:i}),s=xw({values:t.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((l,c,u)=>{if(!o[l]){const f=c>0?o[u[c-1]]:"column";o[l]=f}}),n=Mr(n,rs({theme:e},s,(l,c)=>t.useFlexGap?{gap:Fc(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${xJ(c?o[c]:t.direction)}`]:Fc(r,l)}}))}return n=SX(e.breakpoints,n),n};function SJ(t={}){const{createStyledComponent:e=_J,useThemeProps:n=bJ,componentName:r="MuiStack"}=t,i=()=>ft({root:["root"]},l=>ht(r,l),{}),o=e(EJ);return g.forwardRef(function(l,c){const u=n(l),h=L_(u),{component:f="div",direction:p="column",spacing:m=0,divider:x,children:S,className:_,useFlexGap:w=!1,...b}=h,C={direction:p,spacing:m,useFlexGap:w},N=i();return I.jsx(o,{as:f,ownerState:C,ref:c,className:De(N.root,_),...b,children:x?wJ(S,x):S})})}function JF(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Lp.white,default:Lp.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const CJ=JF();function ZF(){return{text:{primary:Lp.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Lp.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const wA=ZF();function xA(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Z1(t.main,i):e==="dark"&&(t.dark=J1(t.main,o)))}function TJ(t="light"){return t==="dark"?{main:xu[200],light:xu[50],dark:xu[400]}:{main:xu[700],light:xu[400],dark:xu[800]}}function IJ(t="light"){return t==="dark"?{main:wu[200],light:wu[50],dark:wu[400]}:{main:wu[500],light:wu[300],dark:wu[700]}}function RJ(t="light"){return t==="dark"?{main:bu[500],light:bu[300],dark:bu[700]}:{main:bu[700],light:bu[400],dark:bu[800]}}function kJ(t="light"){return t==="dark"?{main:Eu[400],light:Eu[300],dark:Eu[700]}:{main:Eu[700],light:Eu[500],dark:Eu[900]}}function PJ(t="light"){return t==="dark"?{main:Su[400],light:Su[300],dark:Su[700]}:{main:Su[800],light:Su[500],dark:Su[900]}}function AJ(t="light"){return t==="dark"?{main:nf[400],light:nf[300],dark:nf[700]}:{main:"#ed6c02",light:nf[500],dark:nf[900]}}function tT(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,o=t.primary||TJ(e),s=t.secondary||IJ(e),a=t.error||RJ(e),l=t.info||kJ(e),c=t.success||PJ(e),u=t.warning||AJ(e);function h(x){return MQ(x,wA.text.primary)>=n?wA.text.primary:CJ.text.primary}const f=({color:x,name:S,mainShade:_=500,lightShade:w=300,darkShade:b=700})=>{if(x={...x},!x.main&&x[_]&&(x.main=x[_]),!x.hasOwnProperty("main"))throw new Error(wa(11,S?` (${S})`:"",_));if(typeof x.main!="string")throw new Error(wa(12,S?` (${S})`:"",JSON.stringify(x.main)));return xA(x,"light",w,r),xA(x,"dark",b,r),x.contrastText||(x.contrastText=h(x.main)),x};let p;return e==="light"?p=JF():e==="dark"&&(p=ZF()),Mr({common:{...Lp},mode:e,primary:f({color:o,name:"primary"}),secondary:f({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:u,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:iY,contrastThreshold:n,getContrastText:h,augmentColor:f,tonalOffset:r,...p},i)}function MJ(t){const e={};return Object.entries(t).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function OJ(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function NJ(t){return Math.round(t*1e5)/1e5}const EA={textTransform:"uppercase"},SA='"Roboto", "Helvetica", "Arial", sans-serif';function DJ(t,e){const{fontFamily:n=SA,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:u,...h}=typeof e=="function"?e(t):e,f=r/14,p=u||(S=>`${S/l*f}rem`),m=(S,_,w,b,C)=>({fontFamily:n,fontWeight:S,fontSize:p(_),lineHeight:w,...n===SA?{letterSpacing:`${NJ(b/_)}em`}:{},...C,...c}),x={h1:m(i,96,1.167,-1.5),h2:m(i,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(s,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(s,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(s,14,1.75,.4,EA),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,EA),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Mr({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:a,...x},h,{clone:!1})}const $J=.2,LJ=.14,FJ=.12;function Pn(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${$J})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${LJ})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${FJ})`].join(",")}const BJ=["none",Pn(0,2,1,-1,0,1,1,0,0,1,3,0),Pn(0,3,1,-2,0,2,2,0,0,1,5,0),Pn(0,3,3,-2,0,3,4,0,0,1,8,0),Pn(0,2,4,-1,0,4,5,0,0,1,10,0),Pn(0,3,5,-1,0,5,8,0,0,1,14,0),Pn(0,3,5,-1,0,6,10,0,0,1,18,0),Pn(0,4,5,-2,0,7,10,1,0,2,16,1),Pn(0,5,5,-3,0,8,10,1,0,3,14,2),Pn(0,5,6,-3,0,9,12,1,0,3,16,2),Pn(0,6,6,-3,0,10,14,1,0,4,18,3),Pn(0,6,7,-4,0,11,15,1,0,4,20,3),Pn(0,7,8,-4,0,12,17,2,0,5,22,4),Pn(0,7,8,-4,0,13,19,2,0,5,24,4),Pn(0,7,9,-4,0,14,21,2,0,5,26,4),Pn(0,8,9,-5,0,15,22,2,0,6,28,5),Pn(0,8,10,-5,0,16,24,2,0,6,30,5),Pn(0,8,11,-5,0,17,26,2,0,6,32,5),Pn(0,9,11,-5,0,18,28,2,0,7,34,6),Pn(0,9,12,-6,0,19,29,2,0,7,36,6),Pn(0,10,13,-6,0,20,31,3,0,8,38,7),Pn(0,10,13,-6,0,21,33,3,0,8,40,7),Pn(0,10,14,-6,0,22,35,3,0,8,42,7),Pn(0,11,14,-7,0,23,36,3,0,9,44,8),Pn(0,11,15,-7,0,24,38,3,0,9,46,8)],jJ={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},VJ={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function CA(t){return`${Math.round(t)}ms`}function UJ(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function zJ(t){const e={...jJ,...t.easing},n={...VJ,...t.duration};return{getAutoHeightDuration:UJ,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=e.easeInOut,delay:l=0,...c}=o;return(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof s=="string"?s:CA(s)} ${a} ${typeof l=="string"?l:CA(l)}`).join(",")},...t,easing:e,duration:n}}const WJ={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function HJ(t){return ms(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function e4(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[s,a]=i[o];!HJ(a)||s.startsWith("unstable_")?delete r[s]:ms(a)&&(r[s]={...a},n(r[s]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function DE(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:o={},transitions:s={},typography:a={},shape:l,...c}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(wa(20));const u=tT(o),h=dh(t);let f=Mr(h,{mixins:OJ(h.breakpoints,r),palette:u,shadows:BJ.slice(),typography:DJ(u,a),transitions:zJ(s),zIndex:{...WJ}});return f=Mr(f,c),f=e.reduce((p,m)=>Mr(p,m),f),f.unstable_sxConfig={...kg,...c==null?void 0:c.unstable_sxConfig},f.unstable_sx=function(m){return Bc({sx:m,theme:this})},f.toRuntimeSource=e4,f}function $E(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const GJ=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=$E(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function t4(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function n4(t){return t==="dark"?GJ:[]}function KJ(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,o=tT(e);return{palette:o,opacity:{...t4(o.mode),...n},overlays:r||n4(o.mode),...i}}function qJ(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const YJ=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],XJ=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const s={};return YJ(t.cssVarPrefix).forEach(a=>{s[a]=n[a],delete n[a]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:o?{[o.replace("%s",e)]:s,[`${r}, ${o.replace("%s",e)}`]:n}:{[r]:{...n,...s}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(o)return o.replace("%s",String(e))}return r};function QJ(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function ie(t,e,n){!t[e]&&n&&(t[e]=n)}function Pf(t){return typeof t!="string"||!t.startsWith("hsl")?t:WF(t)}function Gs(t,e){`${e}Channel`in t||(t[`${e}Channel`]=kf(Pf(t[e])))}function JJ(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const us=t=>{try{return t()}catch{}},ZJ=(t="mui")=>GQ(t);function Cw(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=KJ({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...s}=DE({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:o,opacity:{...t4(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||n4(i)},s}function eZ(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:s=qJ,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...c}=t,u=Object.keys(n)[0],h=r||(n.light&&u!=="light"?"light":u),f=ZJ(o),{[h]:p,light:m,dark:x,...S}=n,_={...S};let w=p;if((h==="dark"&&!("dark"in n)||h==="light"&&!("light"in n))&&(w=!0),!w)throw new Error(wa(21,h));const b=Cw(_,w,c,h);m&&!_.light&&Cw(_,m,void 0,"light"),x&&!_.dark&&Cw(_,x,void 0,"dark");let C={defaultColorScheme:h,...b,cssVarPrefix:o,colorSchemeSelector:a,rootSelector:l,getCssVar:f,colorSchemes:_,font:{...MJ(b.typography),...b.font},spacing:JJ(c.spacing)};Object.keys(C.colorSchemes).forEach(M=>{const v=C.colorSchemes[M].palette,P=D=>{const O=D.split("-"),J=O[1],Q=O[2];return f(D,v[J][Q])};if(v.mode==="light"&&(ie(v.common,"background","#fff"),ie(v.common,"onBackground","#000")),v.mode==="dark"&&(ie(v.common,"background","#000"),ie(v.common,"onBackground","#fff")),QJ(v,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),v.mode==="light"){ie(v.Alert,"errorColor",un(v.error.light,.6)),ie(v.Alert,"infoColor",un(v.info.light,.6)),ie(v.Alert,"successColor",un(v.success.light,.6)),ie(v.Alert,"warningColor",un(v.warning.light,.6)),ie(v.Alert,"errorFilledBg",P("palette-error-main")),ie(v.Alert,"infoFilledBg",P("palette-info-main")),ie(v.Alert,"successFilledBg",P("palette-success-main")),ie(v.Alert,"warningFilledBg",P("palette-warning-main")),ie(v.Alert,"errorFilledColor",us(()=>v.getContrastText(v.error.main))),ie(v.Alert,"infoFilledColor",us(()=>v.getContrastText(v.info.main))),ie(v.Alert,"successFilledColor",us(()=>v.getContrastText(v.success.main))),ie(v.Alert,"warningFilledColor",us(()=>v.getContrastText(v.warning.main))),ie(v.Alert,"errorStandardBg",dn(v.error.light,.9)),ie(v.Alert,"infoStandardBg",dn(v.info.light,.9)),ie(v.Alert,"successStandardBg",dn(v.success.light,.9)),ie(v.Alert,"warningStandardBg",dn(v.warning.light,.9)),ie(v.Alert,"errorIconColor",P("palette-error-main")),ie(v.Alert,"infoIconColor",P("palette-info-main")),ie(v.Alert,"successIconColor",P("palette-success-main")),ie(v.Alert,"warningIconColor",P("palette-warning-main")),ie(v.AppBar,"defaultBg",P("palette-grey-100")),ie(v.Avatar,"defaultBg",P("palette-grey-400")),ie(v.Button,"inheritContainedBg",P("palette-grey-300")),ie(v.Button,"inheritContainedHoverBg",P("palette-grey-A100")),ie(v.Chip,"defaultBorder",P("palette-grey-400")),ie(v.Chip,"defaultAvatarColor",P("palette-grey-700")),ie(v.Chip,"defaultIconColor",P("palette-grey-700")),ie(v.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ie(v.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ie(v.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ie(v.LinearProgress,"primaryBg",dn(v.primary.main,.62)),ie(v.LinearProgress,"secondaryBg",dn(v.secondary.main,.62)),ie(v.LinearProgress,"errorBg",dn(v.error.main,.62)),ie(v.LinearProgress,"infoBg",dn(v.info.main,.62)),ie(v.LinearProgress,"successBg",dn(v.success.main,.62)),ie(v.LinearProgress,"warningBg",dn(v.warning.main,.62)),ie(v.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.11)`),ie(v.Slider,"primaryTrack",dn(v.primary.main,.62)),ie(v.Slider,"secondaryTrack",dn(v.secondary.main,.62)),ie(v.Slider,"errorTrack",dn(v.error.main,.62)),ie(v.Slider,"infoTrack",dn(v.info.main,.62)),ie(v.Slider,"successTrack",dn(v.success.main,.62)),ie(v.Slider,"warningTrack",dn(v.warning.main,.62));const D=Um(v.background.default,.8);ie(v.SnackbarContent,"bg",D),ie(v.SnackbarContent,"color",us(()=>v.getContrastText(D))),ie(v.SpeedDialAction,"fabHoverBg",Um(v.background.paper,.15)),ie(v.StepConnector,"border",P("palette-grey-400")),ie(v.StepContent,"border",P("palette-grey-400")),ie(v.Switch,"defaultColor",P("palette-common-white")),ie(v.Switch,"defaultDisabledColor",P("palette-grey-100")),ie(v.Switch,"primaryDisabledColor",dn(v.primary.main,.62)),ie(v.Switch,"secondaryDisabledColor",dn(v.secondary.main,.62)),ie(v.Switch,"errorDisabledColor",dn(v.error.main,.62)),ie(v.Switch,"infoDisabledColor",dn(v.info.main,.62)),ie(v.Switch,"successDisabledColor",dn(v.success.main,.62)),ie(v.Switch,"warningDisabledColor",dn(v.warning.main,.62)),ie(v.TableCell,"border",dn(Vm(v.divider,1),.88)),ie(v.Tooltip,"bg",Vm(v.grey[700],.92))}if(v.mode==="dark"){ie(v.Alert,"errorColor",dn(v.error.light,.6)),ie(v.Alert,"infoColor",dn(v.info.light,.6)),ie(v.Alert,"successColor",dn(v.success.light,.6)),ie(v.Alert,"warningColor",dn(v.warning.light,.6)),ie(v.Alert,"errorFilledBg",P("palette-error-dark")),ie(v.Alert,"infoFilledBg",P("palette-info-dark")),ie(v.Alert,"successFilledBg",P("palette-success-dark")),ie(v.Alert,"warningFilledBg",P("palette-warning-dark")),ie(v.Alert,"errorFilledColor",us(()=>v.getContrastText(v.error.dark))),ie(v.Alert,"infoFilledColor",us(()=>v.getContrastText(v.info.dark))),ie(v.Alert,"successFilledColor",us(()=>v.getContrastText(v.success.dark))),ie(v.Alert,"warningFilledColor",us(()=>v.getContrastText(v.warning.dark))),ie(v.Alert,"errorStandardBg",un(v.error.light,.9)),ie(v.Alert,"infoStandardBg",un(v.info.light,.9)),ie(v.Alert,"successStandardBg",un(v.success.light,.9)),ie(v.Alert,"warningStandardBg",un(v.warning.light,.9)),ie(v.Alert,"errorIconColor",P("palette-error-main")),ie(v.Alert,"infoIconColor",P("palette-info-main")),ie(v.Alert,"successIconColor",P("palette-success-main")),ie(v.Alert,"warningIconColor",P("palette-warning-main")),ie(v.AppBar,"defaultBg",P("palette-grey-900")),ie(v.AppBar,"darkBg",P("palette-background-paper")),ie(v.AppBar,"darkColor",P("palette-text-primary")),ie(v.Avatar,"defaultBg",P("palette-grey-600")),ie(v.Button,"inheritContainedBg",P("palette-grey-800")),ie(v.Button,"inheritContainedHoverBg",P("palette-grey-700")),ie(v.Chip,"defaultBorder",P("palette-grey-700")),ie(v.Chip,"defaultAvatarColor",P("palette-grey-300")),ie(v.Chip,"defaultIconColor",P("palette-grey-300")),ie(v.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ie(v.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ie(v.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ie(v.LinearProgress,"primaryBg",un(v.primary.main,.5)),ie(v.LinearProgress,"secondaryBg",un(v.secondary.main,.5)),ie(v.LinearProgress,"errorBg",un(v.error.main,.5)),ie(v.LinearProgress,"infoBg",un(v.info.main,.5)),ie(v.LinearProgress,"successBg",un(v.success.main,.5)),ie(v.LinearProgress,"warningBg",un(v.warning.main,.5)),ie(v.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.13)`),ie(v.Slider,"primaryTrack",un(v.primary.main,.5)),ie(v.Slider,"secondaryTrack",un(v.secondary.main,.5)),ie(v.Slider,"errorTrack",un(v.error.main,.5)),ie(v.Slider,"infoTrack",un(v.info.main,.5)),ie(v.Slider,"successTrack",un(v.success.main,.5)),ie(v.Slider,"warningTrack",un(v.warning.main,.5));const D=Um(v.background.default,.98);ie(v.SnackbarContent,"bg",D),ie(v.SnackbarContent,"color",us(()=>v.getContrastText(D))),ie(v.SpeedDialAction,"fabHoverBg",Um(v.background.paper,.15)),ie(v.StepConnector,"border",P("palette-grey-600")),ie(v.StepContent,"border",P("palette-grey-600")),ie(v.Switch,"defaultColor",P("palette-grey-300")),ie(v.Switch,"defaultDisabledColor",P("palette-grey-600")),ie(v.Switch,"primaryDisabledColor",un(v.primary.main,.55)),ie(v.Switch,"secondaryDisabledColor",un(v.secondary.main,.55)),ie(v.Switch,"errorDisabledColor",un(v.error.main,.55)),ie(v.Switch,"infoDisabledColor",un(v.info.main,.55)),ie(v.Switch,"successDisabledColor",un(v.success.main,.55)),ie(v.Switch,"warningDisabledColor",un(v.warning.main,.55)),ie(v.TableCell,"border",un(Vm(v.divider,1),.68)),ie(v.Tooltip,"bg",Vm(v.grey[700],.92))}Gs(v.background,"default"),Gs(v.background,"paper"),Gs(v.common,"background"),Gs(v.common,"onBackground"),Gs(v,"divider"),Object.keys(v).forEach(D=>{const O=v[D];D!=="tonalOffset"&&O&&typeof O=="object"&&(O.main&&ie(v[D],"mainChannel",kf(Pf(O.main))),O.light&&ie(v[D],"lightChannel",kf(Pf(O.light))),O.dark&&ie(v[D],"darkChannel",kf(Pf(O.dark))),O.contrastText&&ie(v[D],"contrastTextChannel",kf(Pf(O.contrastText))),D==="text"&&(Gs(v[D],"primary"),Gs(v[D],"secondary")),D==="action"&&(O.active&&Gs(v[D],"active"),O.selected&&Gs(v[D],"selected")))})}),C=e.reduce((M,v)=>Mr(M,v),C);const N={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:s,getSelector:XJ(C)},{vars:$,generateThemeVars:E,generateStyleSheets:k}=YQ(C,N);return C.vars=$,Object.entries(C.colorSchemes[C.defaultColorScheme]).forEach(([M,v])=>{C[M]=v}),C.generateThemeVars=E,C.generateStyleSheets=k,C.generateSpacing=function(){return NF(c.spacing,A_(this))},C.getColorSchemeSelector=XQ(a),C.spacing=C.generateSpacing(),C.shouldSkipGeneratingVar=s,C.unstable_sxConfig={...kg,...c==null?void 0:c.unstable_sxConfig},C.unstable_sx=function(v){return Bc({sx:v,theme:this})},C.toRuntimeSource=e4,C}function TA(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:tT({...n===!0?{}:n.palette,mode:e})})}function r4(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:o=n==null?void 0:n.mode,...s}=t,a=o||"light",l=i==null?void 0:i[a],c={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return DE(t,...e);let u=n;"palette"in t||c[a]&&(c[a]!==!0?u=c[a].palette:a==="dark"&&(u={mode:"dark"}));const h=DE({...t,palette:u},...e);return h.defaultColorScheme=a,h.colorSchemes=c,h.palette.mode==="light"&&(h.colorSchemes.light={...c.light!==!0&&c.light,palette:h.palette},TA(h,"dark",c.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:h.palette},TA(h,"light",c.light)),h}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),eZ({...s,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const nT=r4();function Qc(){const t=Pg(nT);return t[Sg]||t}function i4(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Do=t=>i4(t)&&t!=="classes",we=jF({themeId:Sg,defaultTheme:nT,rootShouldForwardProp:Do});function tZ(t){return I.jsx(pQ,{...t,defaultTheme:nT,themeId:Sg})}function nZ(t){return function(n){return I.jsx(tZ,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function rZ(){return L_}const At=HQ;function vt(t){return WQ(t)}function iZ(t){return ht("MuiSvgIcon",t)}ut("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const oZ=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${be(e)}`,`fontSize${be(n)}`]};return ft(i,iZ,r)},sZ=we("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${be(n.color)}`],e[`fontSize${be(n.fontSize)}`]]}})(At(({theme:t})=>{var e,n,r,i,o,s,a,l,c,u,h,f,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:x=>!x.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((s=(o=t.typography)==null?void 0:o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((u=(c=t.typography)==null?void 0:c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,x])=>x&&x.main).map(([x])=>{var S,_;return{props:{color:x},style:{color:(_=(S=(t.vars??t).palette)==null?void 0:S[x])==null?void 0:_.main}}}),{props:{color:"action"},style:{color:(f=(h=(t.vars??t).palette)==null?void 0:h.action)==null?void 0:f.active}},{props:{color:"disabled"},style:{color:(m=(p=(t.vars??t).palette)==null?void 0:p.action)==null?void 0:m.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),LE=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:h,viewBox:f="0 0 24 24",...p}=r,m=g.isValidElement(i)&&i.type==="svg",x={...r,color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:f,hasSvgAsChild:m},S={};u||(S.viewBox=f);const _=oZ(x);return I.jsxs(sZ,{as:a,className:De(_.root,o),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n,...S,...p,...m&&i.props,ownerState:x,children:[m?i.props.children:i,h?I.jsx("title",{children:h}):null]})});LE.muiName="SvgIcon";function Zn(t,e){function n(r,i){return I.jsx(LE,{"data-testid":void 0,ref:i,...r,children:t})}return n.muiName=LE.muiName,g.memo(g.forwardRef(n))}function aZ(t,e){const n=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&n>=65&&n<=90&&typeof e=="function"}function lZ(t,e){if(!t)return e;function n(s,a){const l={};return Object.keys(a).forEach(c=>{aZ(c,a[c])&&typeof s[c]=="function"&&(l[c]=(...u)=>{s[c](...u),a[c](...u)})}),l}if(typeof t=="function"||typeof e=="function")return s=>{const a=typeof e=="function"?e(s):e,l=typeof t=="function"?t({...s,...a}):t,c=De(s==null?void 0:s.className,a==null?void 0:a.className,l==null?void 0:l.className),u=n(l,a);return{...a,...l,...u,...!!c&&{className:c},...(a==null?void 0:a.style)&&(l==null?void 0:l.style)&&{style:{...a.style,...l.style}},...(a==null?void 0:a.sx)&&(l==null?void 0:l.sx)&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(l.sx)?l.sx:[l.sx]]}}};const r=e,i=n(t,r),o=De(r==null?void 0:r.className,t==null?void 0:t.className);return{...e,...t,...i,...!!o&&{className:o},...(r==null?void 0:r.style)&&(t==null?void 0:t.style)&&{style:{...r.style,...t.style}},...(r==null?void 0:r.sx)&&(t==null?void 0:t.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function o4(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function FE(t,e){return FE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},FE(t,e)}function s4(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,FE(t,e)}const IA={disabled:!1},Lv=B.createContext(null);var cZ=function(e){return e.scrollTop},Af="unmounted",uc="exited",dc="entering",Mu="entered",BE="exiting",Os=function(t){s4(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=uc,o.appearStatus=dc):l=Mu:r.unmountOnExit||r.mountOnEnter?l=Af:l=uc,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Af?{status:uc}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==dc&&s!==Mu&&(o=dc):(s===dc||s===Mu)&&(o=BE)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===dc){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Pm.findDOMNode(this);s&&cZ(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===uc&&this.setState({status:Af})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Pm.findDOMNode(this),a],c=l[0],u=l[1],h=this.getTimeouts(),f=a?h.appear:h.enter;if(!i&&!s||IA.disabled){this.safeSetState({status:Mu},function(){o.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:dc},function(){o.props.onEntering(c,u),o.onTransitionEnd(f,function(){o.safeSetState({status:Mu},function(){o.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Pm.findDOMNode(this);if(!o||IA.disabled){this.safeSetState({status:uc},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:BE},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:uc},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Pm.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Af)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=o4(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return B.createElement(Lv.Provider,{value:null},typeof s=="function"?s(i,a):B.cloneElement(B.Children.only(s),a))},e}(B.Component);Os.contextType=Lv;Os.propTypes={};function Cu(){}Os.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Cu,onEntering:Cu,onEntered:Cu,onExit:Cu,onExiting:Cu,onExited:Cu};Os.UNMOUNTED=Af;Os.EXITED=uc;Os.ENTERING=dc;Os.ENTERED=Mu;Os.EXITING=BE;function uZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rT(t,e){var n=function(o){return e&&g.isValidElement(o)?e(o):o},r=Object.create(null);return t&&g.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function dZ(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var c=r[l][s];a[r[l][s]]=n(c)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function _c(t,e,n){return n[e]!=null?n[e]:t.props[e]}function hZ(t,e){return rT(t.children,function(n){return g.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:_c(n,"appear",t),enter:_c(n,"enter",t),exit:_c(n,"exit",t)})})}function fZ(t,e,n){var r=rT(t.children),i=dZ(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(g.isValidElement(s)){var a=o in e,l=o in r,c=e[o],u=g.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[o]=g.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:_c(s,"exit",t),enter:_c(s,"enter",t)}):!l&&a&&!u?i[o]=g.cloneElement(s,{in:!1}):l&&a&&g.isValidElement(c)&&(i[o]=g.cloneElement(s,{onExited:n.bind(null,s),in:c.props.in,exit:_c(s,"exit",t),enter:_c(s,"enter",t)}))}}),i}var pZ=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},gZ={component:"div",childFactory:function(e){return e}},iT=function(t){s4(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(uZ(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?hZ(i,a):fZ(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=rT(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=Mv({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=o4(i,["component","childFactory"]),l=this.state.contextValue,c=pZ(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?B.createElement(Lv.Provider,{value:l},c):B.createElement(Lv.Provider,{value:l},B.createElement(o,a,c))},e}(B.Component);iT.propTypes={};iT.defaultProps=gZ;const a4=t=>t.scrollTop;function Fv(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function mZ(t){return ht("MuiPaper",t)}ut("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const yZ=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return ft(o,mZ,i)},vZ=we("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(At(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),ph=g.forwardRef(function(e,n){var p;const r=vt({props:e,name:"MuiPaper"}),i=Qc(),{className:o,component:s="div",elevation:a=1,square:l=!1,variant:c="elevation",...u}=r,h={...r,component:s,elevation:a,square:l,variant:c},f=yZ(h);return I.jsx(vZ,{as:s,ownerState:h,className:De(f.root,o),ref:n,...u,style:{...c==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(p=i.vars.overlays)==null?void 0:p[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Kt("#fff",$E(a))}, ${Kt("#fff",$E(a))})`}},...u.style}})});function sn(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...l}=e,{component:c,slots:u={[t]:void 0},slotProps:h={[t]:void 0},...f}=o,p=u[t]||r,m=QF(h[t],i),{props:{component:x,...S},internalRef:_}=XF({className:n,...l,externalForwardedProps:t==="root"?f:void 0,externalSlotProps:m}),w=Or(_,m==null?void 0:m.ref,e.ref),b=t==="root"?x||c:x,C=qF(p,{...t==="root"&&!c&&!u[t]&&s,...t!=="root"&&!u[t]&&s,...S,...b&&!a&&{as:b},...b&&a&&{component:b},ref:w},i);return[p,C]}class Bv{constructor(){Hh(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Bv}static use(){const e=HF(Bv.create).current,[n,r]=g.useState(!1);return e.shouldMount=n,e.setShouldMount=r,g.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=bZ(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function _Z(){return Bv.use()}function bZ(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function wZ(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:c}=t,[u,h]=g.useState(!1),f=De(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},m=De(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&h(!0),g.useEffect(()=>{if(!a&&l!=null){const x=setTimeout(l,c);return()=>{clearTimeout(x)}}},[l,a,c]),I.jsx("span",{className:f,style:p,children:I.jsx("span",{className:m})})}const yo=ut("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),jE=550,xZ=80,EZ=Ig`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,SZ=Ig`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,CZ=Ig`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,TZ=we("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),IZ=we(wZ,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${yo.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${EZ};
    animation-duration: ${jE}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${yo.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${yo.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${yo.childLeaving} {
    opacity: 0;
    animation-name: ${SZ};
    animation-duration: ${jE}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${yo.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${CZ};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,RZ=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s,...a}=r,[l,c]=g.useState([]),u=g.useRef(0),h=g.useRef(null);g.useEffect(()=>{h.current&&(h.current(),h.current=null)},[l]);const f=g.useRef(!1),p=GF(),m=g.useRef(null),x=g.useRef(null),S=g.useCallback(C=>{const{pulsate:N,rippleX:$,rippleY:E,rippleSize:k,cb:M}=C;c(v=>[...v,I.jsx(IZ,{classes:{ripple:De(o.ripple,yo.ripple),rippleVisible:De(o.rippleVisible,yo.rippleVisible),ripplePulsate:De(o.ripplePulsate,yo.ripplePulsate),child:De(o.child,yo.child),childLeaving:De(o.childLeaving,yo.childLeaving),childPulsate:De(o.childPulsate,yo.childPulsate)},timeout:jE,pulsate:N,rippleX:$,rippleY:E,rippleSize:k},u.current)]),u.current+=1,h.current=M},[o]),_=g.useCallback((C={},N={},$=()=>{})=>{const{pulsate:E=!1,center:k=i||N.pulsate,fakeElement:M=!1}=N;if((C==null?void 0:C.type)==="mousedown"&&f.current){f.current=!1;return}(C==null?void 0:C.type)==="touchstart"&&(f.current=!0);const v=M?null:x.current,P=v?v.getBoundingClientRect():{width:0,height:0,left:0,top:0};let D,O,J;if(k||C===void 0||C.clientX===0&&C.clientY===0||!C.clientX&&!C.touches)D=Math.round(P.width/2),O=Math.round(P.height/2);else{const{clientX:Q,clientY:Z}=C.touches&&C.touches.length>0?C.touches[0]:C;D=Math.round(Q-P.left),O=Math.round(Z-P.top)}if(k)J=Math.sqrt((2*P.width**2+P.height**2)/3),J%2===0&&(J+=1);else{const Q=Math.max(Math.abs((v?v.clientWidth:0)-D),D)*2+2,Z=Math.max(Math.abs((v?v.clientHeight:0)-O),O)*2+2;J=Math.sqrt(Q**2+Z**2)}C!=null&&C.touches?m.current===null&&(m.current=()=>{S({pulsate:E,rippleX:D,rippleY:O,rippleSize:J,cb:$})},p.start(xZ,()=>{m.current&&(m.current(),m.current=null)})):S({pulsate:E,rippleX:D,rippleY:O,rippleSize:J,cb:$})},[i,S,p]),w=g.useCallback(()=>{_({},{pulsate:!0})},[_]),b=g.useCallback((C,N)=>{if(p.clear(),(C==null?void 0:C.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{b(C,N)});return}m.current=null,c($=>$.length>0?$.slice(1):$),h.current=N},[p]);return g.useImperativeHandle(n,()=>({pulsate:w,start:_,stop:b}),[w,_,b]),I.jsx(TZ,{className:De(yo.root,o.root,s),ref:x,...a,children:I.jsx(iT,{component:null,exit:!0,children:l})})});function kZ(t){return ht("MuiButtonBase",t)}const PZ=ut("MuiButtonBase",["root","disabled","focusVisible"]),AZ=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=ft({root:["root",e&&"disabled",n&&"focusVisible"]},kZ,i);return n&&r&&(s.root+=` ${r}`),s},MZ=we("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${PZ.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Ml=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:h=!1,focusRipple:f=!1,focusVisibleClassName:p,LinkComponent:m="a",onBlur:x,onClick:S,onContextMenu:_,onDragLeave:w,onFocus:b,onFocusVisible:C,onKeyDown:N,onKeyUp:$,onMouseDown:E,onMouseLeave:k,onMouseUp:M,onTouchEnd:v,onTouchMove:P,onTouchStart:D,tabIndex:O=0,TouchRippleProps:J,touchRippleRef:Q,type:Z,...ce}=r,U=g.useRef(null),j=_Z(),z=Or(j.ref,Q),[q,H]=g.useState(!1);c&&q&&H(!1),g.useImperativeHandle(i,()=>({focusVisible:()=>{H(!0),U.current.focus()}}),[]);const W=j.shouldMount&&!u&&!c;g.useEffect(()=>{q&&f&&!u&&j.pulsate()},[u,f,q,j]);const ae=Ks(j,"start",E,h),oe=Ks(j,"stop",_,h),ve=Ks(j,"stop",w,h),ke=Ks(j,"stop",M,h),ne=Ks(j,"stop",$e=>{q&&$e.preventDefault(),k&&k($e)},h),ge=Ks(j,"start",D,h),ee=Ks(j,"stop",v,h),ue=Ks(j,"stop",P,h),Ae=Ks(j,"stop",$e=>{mA($e.target)||H(!1),x&&x($e)},!1),We=Ri($e=>{U.current||(U.current=$e.currentTarget),mA($e.target)&&(H(!0),C&&C($e)),b&&b($e)}),fe=()=>{const $e=U.current;return l&&l!=="button"&&!($e.tagName==="A"&&$e.href)},Ee=Ri($e=>{f&&!$e.repeat&&q&&$e.key===" "&&j.stop($e,()=>{j.start($e)}),$e.target===$e.currentTarget&&fe()&&$e.key===" "&&$e.preventDefault(),N&&N($e),$e.target===$e.currentTarget&&fe()&&$e.key==="Enter"&&!c&&($e.preventDefault(),S&&S($e))}),Ut=Ri($e=>{f&&$e.key===" "&&q&&!$e.defaultPrevented&&j.stop($e,()=>{j.pulsate($e)}),$&&$($e),S&&$e.target===$e.currentTarget&&fe()&&$e.key===" "&&!$e.defaultPrevented&&S($e)});let Se=l;Se==="button"&&(ce.href||ce.to)&&(Se=m);const Mt={};Se==="button"?(Mt.type=Z===void 0?"button":Z,Mt.disabled=c):(!ce.href&&!ce.to&&(Mt.role="button"),c&&(Mt["aria-disabled"]=c));const Ye=Or(n,U),_t={...r,centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:h,focusRipple:f,tabIndex:O,focusVisible:q},nt=AZ(_t);return I.jsxs(MZ,{as:Se,className:De(nt.root,a),ownerState:_t,onBlur:Ae,onClick:S,onContextMenu:oe,onFocus:We,onKeyDown:Ee,onKeyUp:Ut,onMouseDown:ae,onMouseLeave:ne,onMouseUp:ke,onDragLeave:ve,onTouchEnd:ee,onTouchMove:ue,onTouchStart:ge,ref:Ye,tabIndex:c?-1:O,type:Z,...Mt,...ce,children:[s,W?I.jsx(RZ,{ref:z,center:o,...J}):null]})});function Ks(t,e,n,r=!1){return Ri(i=>(n&&n(i),r||t[e](i),!0))}function OZ(t){return typeof t.main=="string"}function NZ(t,e=[]){if(!OZ(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function ki(t=[]){return([,e])=>e&&NZ(e,t)}function DZ(t){return ht("MuiCircularProgress",t)}ut("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Va=44,VE=Ig`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,UE=Ig`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,$Z=typeof VE!="string"?U1`
        animation: ${VE} 1.4s linear infinite;
      `:null,LZ=typeof UE!="string"?U1`
        animation: ${UE} 1.4s ease-in-out infinite;
      `:null,FZ=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,`color${be(r)}`],svg:["svg"],circle:["circle",`circle${be(n)}`,i&&"circleDisableShrink"]};return ft(o,DZ,e)},BZ=we("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${be(n.color)}`]]}})(At(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:$Z||{animation:`${VE} 1.4s linear infinite`}},...Object.entries(t.palette).filter(ki()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),jZ=we("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),VZ=we("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${be(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(At(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:LZ||{animation:`${UE} 1.4s ease-in-out infinite`}}]}))),l4=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:h="indeterminate",...f}=r,p={...r,color:o,disableShrink:s,size:a,thickness:c,value:u,variant:h},m=FZ(p),x={},S={},_={};if(h==="determinate"){const w=2*Math.PI*((Va-c)/2);x.strokeDasharray=w.toFixed(3),_["aria-valuenow"]=Math.round(u),x.strokeDashoffset=`${((100-u)/100*w).toFixed(3)}px`,S.transform="rotate(-90deg)"}return I.jsx(BZ,{className:De(m.root,i),style:{width:a,height:a,...S,...l},ownerState:p,ref:n,role:"progressbar",..._,...f,children:I.jsx(jZ,{className:m.svg,ownerState:p,viewBox:`${Va/2} ${Va/2} ${Va} ${Va}`,children:I.jsx(VZ,{className:m.circle,style:x,ownerState:p,cx:Va,cy:Va,r:(Va-c)/2,fill:"none",strokeWidth:c})})})});function UZ(t){return ht("MuiIconButton",t)}const RA=ut("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),zZ=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o,loading:s}=t,a={root:["root",s&&"loading",n&&"disabled",r!=="default"&&`color${be(r)}`,i&&`edge${be(i)}`,`size${be(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return ft(a,UZ,e)},WZ=we(Ml,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${be(n.color)}`],n.edge&&e[`edge${be(n.edge)}`],e[`size${be(n.size)}`]]}})(At(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Kt(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),At(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(ki()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(ki()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Kt((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${RA.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${RA.loading}`]:{color:"transparent"}}))),HZ=we("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),jv=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium",id:h,loading:f=null,loadingIndicator:p,...m}=r,x=hh(h),S=p??I.jsx(l4,{"aria-labelledby":x,color:"inherit",size:16}),_={...r,edge:i,color:a,disabled:l,disableFocusRipple:c,loading:f,loadingIndicator:S,size:u},w=zZ(_);return I.jsxs(WZ,{id:f?x:h,className:De(w.root,s),centerRipple:!0,focusRipple:!c,disabled:l||f,ref:n,...m,ownerState:_,children:[typeof f=="boolean"&&I.jsx("span",{className:w.loadingWrapper,style:{display:"contents"},children:I.jsx(HZ,{className:w.loadingIndicator,ownerState:_,children:f&&S})}),o]})}),GZ=Zn(I.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function KZ(t){return ht("MuiTypography",t)}ut("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const qZ={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},YZ=rZ(),XZ=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=t,a={root:["root",o,t.align!=="inherit"&&`align${be(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return ft(a,KZ,s)},QZ=we("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${be(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(At(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(ki()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${be(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),kA={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},on=g.forwardRef(function(e,n){const{color:r,...i}=vt({props:e,name:"MuiTypography"}),o=!qZ[r],s=YZ({...i,...o&&{color:r}}),{align:a="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:h=!1,paragraph:f=!1,variant:p="body1",variantMapping:m=kA,...x}=s,S={...s,align:a,color:r,className:l,component:c,gutterBottom:u,noWrap:h,paragraph:f,variant:p,variantMapping:m},_=c||(f?"p":m[p]||kA[p])||"span",w=XZ(S);return I.jsx(QZ,{as:_,ref:n,className:De(w.root,l),...x,ownerState:S,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...x.style}})});function PA(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function JZ(t={}){const{ignoreAccents:e=!0,ignoreCase:n=!0,limit:r,matchFrom:i="any",stringify:o,trim:s=!1}=t;return(a,{inputValue:l,getOptionLabel:c})=>{let u=s?l.trim():l;n&&(u=u.toLowerCase()),e&&(u=PA(u));const h=u?a.filter(f=>{let p=(o||c)(f);return n&&(p=p.toLowerCase()),e&&(p=PA(p)),i==="start"?p.startsWith(u):p.includes(u)}):a;return typeof r=="number"?h.slice(0,r):h}}const ZZ=JZ(),eee=5,tee=t=>{var e;return t.current!==null&&((e=t.current.parentElement)==null?void 0:e.contains(document.activeElement))},nee=[];function AA(t,e,n){if(e||t==null)return"";const r=n(t);return typeof r=="string"?r:""}function ree(t){const{unstable_isActiveElementInListbox:e=tee,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:i=!1,autoSelect:o=!1,blurOnSelect:s=!1,clearOnBlur:a=!t.freeSolo,clearOnEscape:l=!1,componentName:c="useAutocomplete",defaultValue:u=t.multiple?nee:null,disableClearable:h=!1,disableCloseOnSelect:f=!1,disabled:p,disabledItemsFocusable:m=!1,disableListWrap:x=!1,filterOptions:S=ZZ,filterSelectedOptions:_=!1,freeSolo:w=!1,getOptionDisabled:b,getOptionKey:C,getOptionLabel:N=le=>le.label??le,groupBy:$,handleHomeEndKeys:E=!t.freeSolo,id:k,includeInputInList:M=!1,inputValue:v,isOptionEqualToValue:P=(le,re)=>le===re,multiple:D=!1,onChange:O,onClose:J,onHighlightChange:Q,onInputChange:Z,onOpen:ce,open:U,openOnFocus:j=!1,options:z,readOnly:q=!1,selectOnFocus:H=!t.freeSolo,value:W}=t,ae=hh(k);let oe=N;oe=le=>{const re=N(le);return typeof re!="string"?String(re):re};const ve=g.useRef(!1),ke=g.useRef(!0),ne=g.useRef(null),ge=g.useRef(null),[ee,ue]=g.useState(null),[Ae,We]=g.useState(-1),fe=i?0:-1,Ee=g.useRef(fe),Ut=g.useRef(AA(u,D,oe)).current,[Se,Mt]=Jf({controlled:W,default:u,name:c}),[Ye,_t]=Jf({controlled:v,default:Ut,name:c,state:"inputValue"}),[nt,$e]=g.useState(!1),tn=g.useCallback((le,re,Ne)=>{if(!(D?Se.length<re.length:re!==null)&&!a)return;const it=AA(re,D,oe);Ye!==it&&(_t(it),Z&&Z(le,it,Ne))},[oe,Ye,D,Z,_t,a,Se]),[bt,at]=Jf({controlled:U,default:!1,name:c,state:"open"}),[It,Bt]=g.useState(!0),pn=!D&&Se!=null&&Ye===oe(Se),jt=bt&&!q,Ct=jt?S(z.filter(le=>!(_&&(D?Se:[Se]).some(re=>re!==null&&P(le,re)))),{inputValue:pn&&It?"":Ye,getOptionLabel:oe}):[],Qe=FQ({filteredOptions:Ct,value:Se,inputValue:Ye});g.useEffect(()=>{const le=Se!==Qe.value;nt&&!le||w&&!le||tn(null,Se,"reset")},[Se,tn,nt,Qe.value,w]);const On=bt&&Ct.length>0&&!q,ur=Ri(le=>{le===-1?ne.current.focus():ee.querySelector(`[data-tag-index="${le}"]`).focus()});g.useEffect(()=>{D&&Ae>Se.length-1&&(We(-1),ur(-1))},[Se,D,Ae,ur]);function Ui(le,re){if(!ge.current||le<0||le>=Ct.length)return-1;let Ne=le;for(;;){const rt=ge.current.querySelector(`[data-option-index="${Ne}"]`),it=m?!1:!rt||rt.disabled||rt.getAttribute("aria-disabled")==="true";if(rt&&rt.hasAttribute("tabindex")&&!it)return Ne;if(re==="next"?Ne=(Ne+1)%Ct.length:Ne=(Ne-1+Ct.length)%Ct.length,Ne===le)return-1}}const Le=Ri(({event:le,index:re,reason:Ne})=>{if(Ee.current=re,re===-1?ne.current.removeAttribute("aria-activedescendant"):ne.current.setAttribute("aria-activedescendant",`${ae}-option-${re}`),Q&&["mouse","keyboard","touch"].includes(Ne)&&Q(le,re===-1?null:Ct[re],Ne),!ge.current)return;const rt=ge.current.querySelector(`[role="option"].${n}-focused`);rt&&(rt.classList.remove(`${n}-focused`),rt.classList.remove(`${n}-focusVisible`));let it=ge.current;if(ge.current.getAttribute("role")!=="listbox"&&(it=ge.current.parentElement.querySelector('[role="listbox"]')),!it)return;if(re===-1){it.scrollTop=0;return}const Wt=ge.current.querySelector(`[data-option-index="${re}"]`);if(Wt&&(Wt.classList.add(`${n}-focused`),Ne==="keyboard"&&Wt.classList.add(`${n}-focusVisible`),it.scrollHeight>it.clientHeight&&Ne!=="mouse"&&Ne!=="touch")){const kn=Wt,Ur=it.clientHeight+it.scrollTop,$o=kn.offsetTop+kn.offsetHeight;$o>Ur?it.scrollTop=$o-it.clientHeight:kn.offsetTop-kn.offsetHeight*($?1.3:0)<it.scrollTop&&(it.scrollTop=kn.offsetTop-kn.offsetHeight*($?1.3:0))}}),wt=Ri(({event:le,diff:re,direction:Ne="next",reason:rt})=>{if(!jt)return;const Wt=Ui((()=>{const kn=Ct.length-1;if(re==="reset")return fe;if(re==="start")return 0;if(re==="end")return kn;const Ur=Ee.current+re;return Ur<0?Ur===-1&&M?-1:x&&Ee.current!==-1||Math.abs(re)>1?0:kn:Ur>kn?Ur===kn+1&&M?-1:x||Math.abs(re)>1?kn:0:Ur})(),Ne);if(Le({index:Wt,reason:rt,event:le}),r&&re!=="reset")if(Wt===-1)ne.current.value=Ye;else{const kn=oe(Ct[Wt]);ne.current.value=kn,kn.toLowerCase().indexOf(Ye.toLowerCase())===0&&Ye.length>0&&ne.current.setSelectionRange(Ye.length,kn.length)}}),gn=()=>{const le=(re,Ne)=>{const rt=re?oe(re):"",it=Ne?oe(Ne):"";return rt===it};if(Ee.current!==-1&&Qe.filteredOptions&&Qe.filteredOptions.length!==Ct.length&&Qe.inputValue===Ye&&(D?Se.length===Qe.value.length&&Qe.value.every((re,Ne)=>oe(Se[Ne])===oe(re)):le(Qe.value,Se))){const re=Qe.filteredOptions[Ee.current];if(re)return Ct.findIndex(Ne=>oe(Ne)===oe(re))}return-1},er=g.useCallback(()=>{if(!jt)return;const le=gn();if(le!==-1){Ee.current=le;return}const re=D?Se[0]:Se;if(Ct.length===0||re==null){wt({diff:"reset"});return}if(ge.current){if(re!=null){const Ne=Ct[Ee.current];if(D&&Ne&&Se.findIndex(it=>P(Ne,it))!==-1)return;const rt=Ct.findIndex(it=>P(it,re));rt===-1?wt({diff:"reset"}):Le({index:rt});return}if(Ee.current>=Ct.length-1){Le({index:Ct.length-1});return}Le({index:Ee.current})}},[Ct.length,D?!1:Se,_,wt,Le,jt,Ye,D]),tr=Ri(le=>{Dv(ge,le),le&&er()});g.useEffect(()=>{er()},[er]);const dr=le=>{bt||(at(!0),Bt(!0),ce&&ce(le))},Gn=(le,re)=>{bt&&(at(!1),J&&J(le,re))},nr=(le,re,Ne,rt)=>{if(D){if(Se.length===re.length&&Se.every((it,Wt)=>it===re[Wt]))return}else if(Se===re)return;O&&O(le,re,Ne,rt),Mt(re)},xr=g.useRef(!1),Nn=(le,re,Ne="selectOption",rt="options")=>{let it=Ne,Wt=re;if(D){Wt=Array.isArray(Se)?Se.slice():[];const kn=Wt.findIndex(Ur=>P(re,Ur));kn===-1?Wt.push(re):rt!=="freeSolo"&&(Wt.splice(kn,1),it="removeOption")}tn(le,Wt,it),nr(le,Wt,it,{option:re}),!f&&(!le||!le.ctrlKey&&!le.metaKey)&&Gn(le,it),(s===!0||s==="touch"&&xr.current||s==="mouse"&&!xr.current)&&ne.current.blur()};function rr(le,re){if(le===-1)return-1;let Ne=le;for(;;){if(re==="next"&&Ne===Se.length||re==="previous"&&Ne===-1)return-1;const rt=ee.querySelector(`[data-tag-index="${Ne}"]`);if(!rt||!rt.hasAttribute("tabindex")||rt.disabled||rt.getAttribute("aria-disabled")==="true")Ne+=re==="next"?1:-1;else return Ne}}const Er=(le,re)=>{if(!D)return;Ye===""&&Gn(le,"toggleInput");let Ne=Ae;Ae===-1?Ye===""&&re==="previous"&&(Ne=Se.length-1):(Ne+=re==="next"?1:-1,Ne<0&&(Ne=0),Ne===Se.length&&(Ne=-1)),Ne=rr(Ne,re),We(Ne),ur(Ne)},ni=le=>{ve.current=!0,_t(""),Z&&Z(le,"","clear"),nr(le,D?[]:null,"clear")},mi=le=>re=>{if(le.onKeyDown&&le.onKeyDown(re),!re.defaultMuiPrevented&&(Ae!==-1&&!["ArrowLeft","ArrowRight"].includes(re.key)&&(We(-1),ur(-1)),re.which!==229))switch(re.key){case"Home":jt&&E&&(re.preventDefault(),wt({diff:"start",direction:"next",reason:"keyboard",event:re}));break;case"End":jt&&E&&(re.preventDefault(),wt({diff:"end",direction:"previous",reason:"keyboard",event:re}));break;case"PageUp":re.preventDefault(),wt({diff:-5,direction:"previous",reason:"keyboard",event:re}),dr(re);break;case"PageDown":re.preventDefault(),wt({diff:eee,direction:"next",reason:"keyboard",event:re}),dr(re);break;case"ArrowDown":re.preventDefault(),wt({diff:1,direction:"next",reason:"keyboard",event:re}),dr(re);break;case"ArrowUp":re.preventDefault(),wt({diff:-1,direction:"previous",reason:"keyboard",event:re}),dr(re);break;case"ArrowLeft":Er(re,"previous");break;case"ArrowRight":Er(re,"next");break;case"Enter":if(Ee.current!==-1&&jt){const Ne=Ct[Ee.current],rt=b?b(Ne):!1;if(re.preventDefault(),rt)return;Nn(re,Ne,"selectOption"),r&&ne.current.setSelectionRange(ne.current.value.length,ne.current.value.length)}else w&&Ye!==""&&pn===!1&&(D&&re.preventDefault(),Nn(re,Ye,"createOption","freeSolo"));break;case"Escape":jt?(re.preventDefault(),re.stopPropagation(),Gn(re,"escape")):l&&(Ye!==""||D&&Se.length>0)&&(re.preventDefault(),re.stopPropagation(),ni(re));break;case"Backspace":if(D&&!q&&Ye===""&&Se.length>0){const Ne=Ae===-1?Se.length-1:Ae,rt=Se.slice();rt.splice(Ne,1),nr(re,rt,"removeOption",{option:Se[Ne]})}break;case"Delete":if(D&&!q&&Ye===""&&Se.length>0&&Ae!==-1){const Ne=Ae,rt=Se.slice();rt.splice(Ne,1),nr(re,rt,"removeOption",{option:Se[Ne]})}break}},Oe=le=>{$e(!0),j&&!ve.current&&dr(le)},Ie=le=>{if(e(ge)){ne.current.focus();return}$e(!1),ke.current=!0,ve.current=!1,o&&Ee.current!==-1&&jt?Nn(le,Ct[Ee.current],"blur"):o&&w&&Ye!==""?Nn(le,Ye,"blur","freeSolo"):a&&tn(le,Se,"blur"),Gn(le,"blur")},pt=le=>{const re=le.target.value;Ye!==re&&(_t(re),Bt(!1),Z&&Z(le,re,"input")),re===""?!h&&!D&&nr(le,null,"clear"):dr(le)},tt=le=>{const re=Number(le.currentTarget.getAttribute("data-option-index"));Ee.current!==re&&Le({event:le,index:re,reason:"mouse"})},zt=le=>{Le({event:le,index:Number(le.currentTarget.getAttribute("data-option-index")),reason:"touch"}),xr.current=!0},hr=le=>{const re=Number(le.currentTarget.getAttribute("data-option-index"));Nn(le,Ct[re],"selectOption"),xr.current=!1},Kn=le=>re=>{const Ne=Se.slice();Ne.splice(le,1),nr(re,Ne,"removeOption",{option:Se[le]})},fr=le=>{bt?Gn(le,"toggleInput"):dr(le)},yi=le=>{le.currentTarget.contains(le.target)&&le.target.getAttribute("id")!==ae&&le.preventDefault()},Xe=le=>{le.currentTarget.contains(le.target)&&(ne.current.focus(),H&&ke.current&&ne.current.selectionEnd-ne.current.selectionStart===0&&ne.current.select(),ke.current=!1)},bn=le=>{!p&&(Ye===""||!bt)&&fr(le)};let vi=w&&Ye.length>0;vi=vi||(D?Se.length>0:Se!==null);let Ls=Ct;return $&&(Ls=Ct.reduce((le,re,Ne)=>{const rt=$(re);return le.length>0&&le[le.length-1].group===rt?le[le.length-1].options.push(re):le.push({key:Ne,index:Ne,group:rt,options:[re]}),le},[])),p&&nt&&Ie(),{getRootProps:(le={})=>({...le,onKeyDown:mi(le),onMouseDown:yi,onClick:Xe}),getInputLabelProps:()=>({id:`${ae}-label`,htmlFor:ae}),getInputProps:()=>({id:ae,value:Ye,onBlur:Ie,onFocus:Oe,onChange:pt,onMouseDown:bn,"aria-activedescendant":jt?"":null,"aria-autocomplete":r?"both":"list","aria-controls":On?`${ae}-listbox`:void 0,"aria-expanded":On,autoComplete:"off",ref:ne,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:p}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:ni}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:fr}),getTagProps:({index:le})=>({key:le,"data-tag-index":le,tabIndex:-1,...!q&&{onDelete:Kn(le)}}),getListboxProps:()=>({role:"listbox",id:`${ae}-listbox`,"aria-labelledby":`${ae}-label`,ref:tr,onMouseDown:le=>{le.preventDefault()}}),getOptionProps:({index:le,option:re})=>{const Ne=(D?Se:[Se]).some(it=>it!=null&&P(re,it)),rt=b?b(re):!1;return{key:(C==null?void 0:C(re))??oe(re),tabIndex:-1,role:"option",id:`${ae}-option-${le}`,onMouseMove:tt,onClick:hr,onTouchStart:zt,"data-option-index":le,"aria-disabled":rt,"aria-selected":Ne}},id:ae,inputValue:Ye,value:Se,dirty:vi,expanded:jt&&ee,popupOpen:jt,focused:nt||Ae!==-1,anchorEl:ee,setAnchorEl:ue,focusedTag:Ae,groupedOptions:Ls}}var Ni="top",Po="bottom",Ao="right",Di="left",oT="auto",Mg=[Ni,Po,Ao,Di],Wd="start",Vp="end",iee="clippingParents",c4="viewport",of="popper",oee="reference",MA=Mg.reduce(function(t,e){return t.concat([e+"-"+Wd,e+"-"+Vp])},[]),u4=[].concat(Mg,[oT]).reduce(function(t,e){return t.concat([e,e+"-"+Wd,e+"-"+Vp])},[]),see="beforeRead",aee="read",lee="afterRead",cee="beforeMain",uee="main",dee="afterMain",hee="beforeWrite",fee="write",pee="afterWrite",gee=[see,aee,lee,cee,uee,dee,hee,fee,pee];function Rs(t){return t?(t.nodeName||"").toLowerCase():null}function lo(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function jc(t){var e=lo(t).Element;return t instanceof e||t instanceof Element}function Co(t){var e=lo(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function sT(t){if(typeof ShadowRoot>"u")return!1;var e=lo(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function mee(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!Co(o)||!Rs(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function yee(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,c){return l[c]="",l},{});!Co(i)||!Rs(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const vee={name:"applyStyles",enabled:!0,phase:"write",fn:mee,effect:yee,requires:["computeStyles"]};function Ss(t){return t.split("-")[0]}var Ic=Math.max,Vv=Math.min,Hd=Math.round;function zE(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function d4(){return!/^((?!chrome|android).)*safari/i.test(zE())}function Gd(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&Co(t)&&(i=t.offsetWidth>0&&Hd(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Hd(r.height)/t.offsetHeight||1);var s=jc(t)?lo(t):window,a=s.visualViewport,l=!d4()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/o,h=r.width/i,f=r.height/o;return{width:h,height:f,top:u,right:c+h,bottom:u+f,left:c,x:c,y:u}}function aT(t){var e=Gd(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function h4(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&sT(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function xa(t){return lo(t).getComputedStyle(t)}function _ee(t){return["table","td","th"].indexOf(Rs(t))>=0}function Kl(t){return((jc(t)?t.ownerDocument:t.document)||window.document).documentElement}function U_(t){return Rs(t)==="html"?t:t.assignedSlot||t.parentNode||(sT(t)?t.host:null)||Kl(t)}function OA(t){return!Co(t)||xa(t).position==="fixed"?null:t.offsetParent}function bee(t){var e=/firefox/i.test(zE()),n=/Trident/i.test(zE());if(n&&Co(t)){var r=xa(t);if(r.position==="fixed")return null}var i=U_(t);for(sT(i)&&(i=i.host);Co(i)&&["html","body"].indexOf(Rs(i))<0;){var o=xa(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Og(t){for(var e=lo(t),n=OA(t);n&&_ee(n)&&xa(n).position==="static";)n=OA(n);return n&&(Rs(n)==="html"||Rs(n)==="body"&&xa(n).position==="static")?e:n||bee(t)||e}function lT(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Zf(t,e,n){return Ic(t,Vv(e,n))}function wee(t,e,n){var r=Zf(t,e,n);return r>n?n:r}function f4(){return{top:0,right:0,bottom:0,left:0}}function p4(t){return Object.assign({},f4(),t)}function g4(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var xee=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,p4(typeof e!="number"?e:g4(e,Mg))};function Eee(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Ss(n.placement),l=lT(a),c=[Di,Ao].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!s)){var h=xee(i.padding,n),f=aT(o),p=l==="y"?Ni:Di,m=l==="y"?Po:Ao,x=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],S=s[l]-n.rects.reference[l],_=Og(o),w=_?l==="y"?_.clientHeight||0:_.clientWidth||0:0,b=x/2-S/2,C=h[p],N=w-f[u]-h[m],$=w/2-f[u]/2+b,E=Zf(C,$,N),k=l;n.modifiersData[r]=(e={},e[k]=E,e.centerOffset=E-$,e)}}function See(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||h4(e.elements.popper,i)&&(e.elements.arrow=i))}const Cee={name:"arrow",enabled:!0,phase:"main",fn:Eee,effect:See,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Kd(t){return t.split("-")[1]}var Tee={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Iee(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Hd(n*i)/i||0,y:Hd(r*i)/i||0}}function NA(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,h=t.isFixed,f=s.x,p=f===void 0?0:f,m=s.y,x=m===void 0?0:m,S=typeof u=="function"?u({x:p,y:x}):{x:p,y:x};p=S.x,x=S.y;var _=s.hasOwnProperty("x"),w=s.hasOwnProperty("y"),b=Di,C=Ni,N=window;if(c){var $=Og(n),E="clientHeight",k="clientWidth";if($===lo(n)&&($=Kl(n),xa($).position!=="static"&&a==="absolute"&&(E="scrollHeight",k="scrollWidth")),$=$,i===Ni||(i===Di||i===Ao)&&o===Vp){C=Po;var M=h&&$===N&&N.visualViewport?N.visualViewport.height:$[E];x-=M-r.height,x*=l?1:-1}if(i===Di||(i===Ni||i===Po)&&o===Vp){b=Ao;var v=h&&$===N&&N.visualViewport?N.visualViewport.width:$[k];p-=v-r.width,p*=l?1:-1}}var P=Object.assign({position:a},c&&Tee),D=u===!0?Iee({x:p,y:x},lo(n)):{x:p,y:x};if(p=D.x,x=D.y,l){var O;return Object.assign({},P,(O={},O[C]=w?"0":"",O[b]=_?"0":"",O.transform=(N.devicePixelRatio||1)<=1?"translate("+p+"px, "+x+"px)":"translate3d("+p+"px, "+x+"px, 0)",O))}return Object.assign({},P,(e={},e[C]=w?x+"px":"",e[b]=_?p+"px":"",e.transform="",e))}function Ree(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Ss(e.placement),variation:Kd(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,NA(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,NA(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const kee={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ree,data:{}};var zm={passive:!0};function Pee(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=lo(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,zm)}),a&&l.addEventListener("resize",n.update,zm),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,zm)}),a&&l.removeEventListener("resize",n.update,zm)}}const Aee={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Pee,data:{}};var Mee={left:"right",right:"left",bottom:"top",top:"bottom"};function $y(t){return t.replace(/left|right|bottom|top/g,function(e){return Mee[e]})}var Oee={start:"end",end:"start"};function DA(t){return t.replace(/start|end/g,function(e){return Oee[e]})}function cT(t){var e=lo(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function uT(t){return Gd(Kl(t)).left+cT(t).scrollLeft}function Nee(t,e){var n=lo(t),r=Kl(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=d4();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+uT(t),y:l}}function Dee(t){var e,n=Kl(t),r=cT(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Ic(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Ic(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+uT(t),l=-r.scrollTop;return xa(i||n).direction==="rtl"&&(a+=Ic(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function dT(t){var e=xa(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function m4(t){return["html","body","#document"].indexOf(Rs(t))>=0?t.ownerDocument.body:Co(t)&&dT(t)?t:m4(U_(t))}function ep(t,e){var n;e===void 0&&(e=[]);var r=m4(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=lo(r),s=i?[o].concat(o.visualViewport||[],dT(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(ep(U_(s)))}function WE(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function $ee(t,e){var n=Gd(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function $A(t,e,n){return e===c4?WE(Nee(t,n)):jc(e)?$ee(e,n):WE(Dee(Kl(t)))}function Lee(t){var e=ep(U_(t)),n=["absolute","fixed"].indexOf(xa(t).position)>=0,r=n&&Co(t)?Og(t):t;return jc(r)?e.filter(function(i){return jc(i)&&h4(i,r)&&Rs(i)!=="body"}):[]}function Fee(t,e,n,r){var i=e==="clippingParents"?Lee(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,c){var u=$A(t,c,r);return l.top=Ic(u.top,l.top),l.right=Vv(u.right,l.right),l.bottom=Vv(u.bottom,l.bottom),l.left=Ic(u.left,l.left),l},$A(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function y4(t){var e=t.reference,n=t.element,r=t.placement,i=r?Ss(r):null,o=r?Kd(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Ni:l={x:s,y:e.y-n.height};break;case Po:l={x:s,y:e.y+e.height};break;case Ao:l={x:e.x+e.width,y:a};break;case Di:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?lT(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case Wd:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Vp:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Up(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?iee:a,c=n.rootBoundary,u=c===void 0?c4:c,h=n.elementContext,f=h===void 0?of:h,p=n.altBoundary,m=p===void 0?!1:p,x=n.padding,S=x===void 0?0:x,_=p4(typeof S!="number"?S:g4(S,Mg)),w=f===of?oee:of,b=t.rects.popper,C=t.elements[m?w:f],N=Fee(jc(C)?C:C.contextElement||Kl(t.elements.popper),l,u,s),$=Gd(t.elements.reference),E=y4({reference:$,element:b,placement:i}),k=WE(Object.assign({},b,E)),M=f===of?k:$,v={top:N.top-M.top+_.top,bottom:M.bottom-N.bottom+_.bottom,left:N.left-M.left+_.left,right:M.right-N.right+_.right},P=t.modifiersData.offset;if(f===of&&P){var D=P[i];Object.keys(v).forEach(function(O){var J=[Ao,Po].indexOf(O)>=0?1:-1,Q=[Ni,Po].indexOf(O)>=0?"y":"x";v[O]+=D[Q]*J})}return v}function Bee(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?u4:l,u=Kd(r),h=u?a?MA:MA.filter(function(m){return Kd(m)===u}):Mg,f=h.filter(function(m){return c.indexOf(m)>=0});f.length===0&&(f=h);var p=f.reduce(function(m,x){return m[x]=Up(t,{placement:x,boundary:i,rootBoundary:o,padding:s})[Ss(x)],m},{});return Object.keys(p).sort(function(m,x){return p[m]-p[x]})}function jee(t){if(Ss(t)===oT)return[];var e=$y(t);return[DA(t),e,DA(e)]}function Vee(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,x=n.allowedAutoPlacements,S=e.options.placement,_=Ss(S),w=_===S,b=l||(w||!m?[$y(S)]:jee(S)),C=[S].concat(b).reduce(function(ae,oe){return ae.concat(Ss(oe)===oT?Bee(e,{placement:oe,boundary:u,rootBoundary:h,padding:c,flipVariations:m,allowedAutoPlacements:x}):oe)},[]),N=e.rects.reference,$=e.rects.popper,E=new Map,k=!0,M=C[0],v=0;v<C.length;v++){var P=C[v],D=Ss(P),O=Kd(P)===Wd,J=[Ni,Po].indexOf(D)>=0,Q=J?"width":"height",Z=Up(e,{placement:P,boundary:u,rootBoundary:h,altBoundary:f,padding:c}),ce=J?O?Ao:Di:O?Po:Ni;N[Q]>$[Q]&&(ce=$y(ce));var U=$y(ce),j=[];if(o&&j.push(Z[D]<=0),a&&j.push(Z[ce]<=0,Z[U]<=0),j.every(function(ae){return ae})){M=P,k=!1;break}E.set(P,j)}if(k)for(var z=m?3:1,q=function(oe){var ve=C.find(function(ke){var ne=E.get(ke);if(ne)return ne.slice(0,oe).every(function(ge){return ge})});if(ve)return M=ve,"break"},H=z;H>0;H--){var W=q(H);if(W==="break")break}e.placement!==M&&(e.modifiersData[r]._skip=!0,e.placement=M,e.reset=!0)}}const Uee={name:"flip",enabled:!0,phase:"main",fn:Vee,requiresIfExists:["offset"],data:{_skip:!1}};function LA(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function FA(t){return[Ni,Ao,Po,Di].some(function(e){return t[e]>=0})}function zee(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=Up(e,{elementContext:"reference"}),a=Up(e,{altBoundary:!0}),l=LA(s,r),c=LA(a,i,o),u=FA(l),h=FA(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}const Wee={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:zee};function Hee(t,e,n){var r=Ss(t),i=[Di,Ni].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Di,Ao].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function Gee(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=u4.reduce(function(u,h){return u[h]=Hee(h,e.rects,o),u},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}const Kee={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Gee};function qee(t){var e=t.state,n=t.name;e.modifiersData[n]=y4({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Yee={name:"popperOffsets",enabled:!0,phase:"read",fn:qee,data:{}};function Xee(t){return t==="x"?"y":"x"}function Qee(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,h=n.padding,f=n.tether,p=f===void 0?!0:f,m=n.tetherOffset,x=m===void 0?0:m,S=Up(e,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),_=Ss(e.placement),w=Kd(e.placement),b=!w,C=lT(_),N=Xee(C),$=e.modifiersData.popperOffsets,E=e.rects.reference,k=e.rects.popper,M=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,v=typeof M=="number"?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),P=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,D={x:0,y:0};if($){if(o){var O,J=C==="y"?Ni:Di,Q=C==="y"?Po:Ao,Z=C==="y"?"height":"width",ce=$[C],U=ce+S[J],j=ce-S[Q],z=p?-k[Z]/2:0,q=w===Wd?E[Z]:k[Z],H=w===Wd?-k[Z]:-E[Z],W=e.elements.arrow,ae=p&&W?aT(W):{width:0,height:0},oe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:f4(),ve=oe[J],ke=oe[Q],ne=Zf(0,E[Z],ae[Z]),ge=b?E[Z]/2-z-ne-ve-v.mainAxis:q-ne-ve-v.mainAxis,ee=b?-E[Z]/2+z+ne+ke+v.mainAxis:H+ne+ke+v.mainAxis,ue=e.elements.arrow&&Og(e.elements.arrow),Ae=ue?C==="y"?ue.clientTop||0:ue.clientLeft||0:0,We=(O=P==null?void 0:P[C])!=null?O:0,fe=ce+ge-We-Ae,Ee=ce+ee-We,Ut=Zf(p?Vv(U,fe):U,ce,p?Ic(j,Ee):j);$[C]=Ut,D[C]=Ut-ce}if(a){var Se,Mt=C==="x"?Ni:Di,Ye=C==="x"?Po:Ao,_t=$[N],nt=N==="y"?"height":"width",$e=_t+S[Mt],tn=_t-S[Ye],bt=[Ni,Di].indexOf(_)!==-1,at=(Se=P==null?void 0:P[N])!=null?Se:0,It=bt?$e:_t-E[nt]-k[nt]-at+v.altAxis,Bt=bt?_t+E[nt]+k[nt]-at-v.altAxis:tn,pn=p&&bt?wee(It,_t,Bt):Zf(p?It:$e,_t,p?Bt:tn);$[N]=pn,D[N]=pn-_t}e.modifiersData[r]=D}}const Jee={name:"preventOverflow",enabled:!0,phase:"main",fn:Qee,requiresIfExists:["offset"]};function Zee(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function ete(t){return t===lo(t)||!Co(t)?cT(t):Zee(t)}function tte(t){var e=t.getBoundingClientRect(),n=Hd(e.width)/t.offsetWidth||1,r=Hd(e.height)/t.offsetHeight||1;return n!==1||r!==1}function nte(t,e,n){n===void 0&&(n=!1);var r=Co(e),i=Co(e)&&tte(e),o=Kl(e),s=Gd(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Rs(e)!=="body"||dT(o))&&(a=ete(e)),Co(e)?(l=Gd(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=uT(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function rte(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function ite(t){var e=rte(t);return gee.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function ote(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function ste(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var BA={placement:"bottom",modifiers:[],strategy:"absolute"};function jA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function ate(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?BA:i;return function(a,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},BA,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],f=!1,p={state:u,setOptions:function(_){var w=typeof _=="function"?_(u.options):_;x(),u.options=Object.assign({},o,u.options,w),u.scrollParents={reference:jc(a)?ep(a):a.contextElement?ep(a.contextElement):[],popper:ep(l)};var b=ite(ste([].concat(r,u.options.modifiers)));return u.orderedModifiers=b.filter(function(C){return C.enabled}),m(),p.update()},forceUpdate:function(){if(!f){var _=u.elements,w=_.reference,b=_.popper;if(jA(w,b)){u.rects={reference:nte(w,Og(b),u.options.strategy==="fixed"),popper:aT(b)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(v){return u.modifiersData[v.name]=Object.assign({},v.data)});for(var C=0;C<u.orderedModifiers.length;C++){if(u.reset===!0){u.reset=!1,C=-1;continue}var N=u.orderedModifiers[C],$=N.fn,E=N.options,k=E===void 0?{}:E,M=N.name;typeof $=="function"&&(u=$({state:u,options:k,name:M,instance:p})||u)}}}},update:ote(function(){return new Promise(function(S){p.forceUpdate(),S(u)})}),destroy:function(){x(),f=!0}};if(!jA(a,l))return p;p.setOptions(c).then(function(S){!f&&c.onFirstUpdate&&c.onFirstUpdate(S)});function m(){u.orderedModifiers.forEach(function(S){var _=S.name,w=S.options,b=w===void 0?{}:w,C=S.effect;if(typeof C=="function"){var N=C({state:u,name:_,instance:p,options:b}),$=function(){};h.push(N||$)}})}function x(){h.forEach(function(S){return S()}),h=[]}return p}}var lte=[Aee,Yee,kee,vee,Kee,Uee,Jee,Cee,Wee],cte=ate({defaultModifiers:lte});function ute(t){return typeof t=="function"?t():t}const v4=g.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=g.useState(null),l=Or(g.isValidElement(r)?Ag(r):null,n);if(ko(()=>{o||a(ute(i)||document.body)},[i,o]),ko(()=>{if(s&&!o)return Dv(n,s),()=>{Dv(n,null)}},[n,s,o]),o){if(g.isValidElement(r)){const c={ref:l};return g.cloneElement(r,c)}return r}return s&&og.createPortal(r,s)});function dte(t){return ht("MuiPopper",t)}ut("MuiPopper",["root"]);function hte(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function HE(t){return typeof t=="function"?t():t}function fte(t){return t.nodeType!==void 0}const pte=t=>{const{classes:e}=t;return ft({root:["root"]},dte,e)},gte={},mte=g.forwardRef(function(e,n){const{anchorEl:r,children:i,direction:o,disablePortal:s,modifiers:a,open:l,placement:c,popperOptions:u,popperRef:h,slotProps:f={},slots:p={},TransitionProps:m,ownerState:x,...S}=e,_=g.useRef(null),w=Or(_,n),b=g.useRef(null),C=Or(b,h),N=g.useRef(C);ko(()=>{N.current=C},[C]),g.useImperativeHandle(h,()=>b.current,[]);const $=hte(c,o),[E,k]=g.useState($),[M,v]=g.useState(HE(r));g.useEffect(()=>{b.current&&b.current.forceUpdate()}),g.useEffect(()=>{r&&v(HE(r))},[r]),ko(()=>{if(!M||!l)return;const Q=U=>{k(U.placement)};let Z=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:U})=>{Q(U)}}];a!=null&&(Z=Z.concat(a)),u&&u.modifiers!=null&&(Z=Z.concat(u.modifiers));const ce=cte(M,_.current,{placement:$,...u,modifiers:Z});return N.current(ce),()=>{ce.destroy(),N.current(null)}},[M,s,a,l,u,$]);const P={placement:E};m!==null&&(P.TransitionProps=m);const D=pte(e),O=p.root??"div",J=zd({elementType:O,externalSlotProps:f.root,externalForwardedProps:S,additionalProps:{role:"tooltip",ref:w},ownerState:e,className:D.root});return I.jsx(O,{...J,children:typeof i=="function"?i(P):i})}),yte=g.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:h="bottom",popperOptions:f=gte,popperRef:p,style:m,transition:x=!1,slotProps:S={},slots:_={},...w}=e,[b,C]=g.useState(!0),N=()=>{C(!1)},$=()=>{C(!0)};if(!l&&!u&&(!x||b))return null;let E;if(o)E=o;else if(r){const v=HE(r);E=v&&fte(v)?Fi(v).body:Fi(null).body}const k=!u&&l&&(!x||b)?"none":void 0,M=x?{in:u,onEnter:N,onExited:$}:void 0;return I.jsx(v4,{disablePortal:a,container:E,children:I.jsx(mte,{anchorEl:r,direction:s,disablePortal:a,modifiers:c,ref:n,open:x?!b:u,placement:h,popperOptions:f,popperRef:p,slotProps:S,slots:_,...w,style:{position:"fixed",top:0,left:0,display:k,...m},TransitionProps:M,children:i})})}),vte=we(yte,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),_4=g.forwardRef(function(e,n){const r=j_(),i=vt({props:e,name:"MuiPopper"}),{anchorEl:o,component:s,components:a,componentsProps:l,container:c,disablePortal:u,keepMounted:h,modifiers:f,open:p,placement:m,popperOptions:x,popperRef:S,transition:_,slots:w,slotProps:b,...C}=i,N=(w==null?void 0:w.root)??(a==null?void 0:a.Root),$={anchorEl:o,container:c,disablePortal:u,keepMounted:h,modifiers:f,open:p,placement:m,popperOptions:x,popperRef:S,transition:_,...C};return I.jsx(vte,{as:s,direction:r?"rtl":"ltr",slots:{root:N},slotProps:b??l,...$,ref:n})});function _te(t){return ht("MuiListSubheader",t)}ut("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const bte=t=>{const{classes:e,color:n,disableGutters:r,inset:i,disableSticky:o}=t,s={root:["root",n!=="default"&&`color${be(n)}`,!r&&"gutters",i&&"inset",!o&&"sticky"]};return ft(s,_te,e)},wte=we("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${be(n.color)}`],!n.disableGutters&&e.gutters,n.inset&&e.inset,!n.disableSticky&&e.sticky]}})(At(({theme:t})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(t.vars||t).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:72}},{props:({ownerState:e})=>!e.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper}}]}))),GE=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiListSubheader"}),{className:i,color:o="default",component:s="li",disableGutters:a=!1,disableSticky:l=!1,inset:c=!1,...u}=r,h={...r,color:o,component:s,disableGutters:a,disableSticky:l,inset:c},f=bte(h);return I.jsx(wte,{as:s,className:De(f.root,i),ref:n,ownerState:h,...u})});GE&&(GE.muiSkipListHighlight=!0);const xte=Zn(I.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function Ete(t){return ht("MuiChip",t)}const Ot=ut("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Ste=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=t,c={root:["root",l,n&&"disabled",`size${be(r)}`,`color${be(i)}`,a&&"clickable",a&&`clickableColor${be(i)}`,s&&"deletable",s&&`deletableColor${be(i)}`,`${l}${be(i)}`],label:["label",`label${be(r)}`],avatar:["avatar",`avatar${be(r)}`,`avatarColor${be(i)}`],icon:["icon",`icon${be(r)}`,`iconColor${be(o)}`],deleteIcon:["deleteIcon",`deleteIcon${be(r)}`,`deleteIconColor${be(i)}`,`deleteIcon${be(l)}Color${be(i)}`]};return ft(c,Ete,e)},Cte=we("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{[`& .${Ot.avatar}`]:e.avatar},{[`& .${Ot.avatar}`]:e[`avatar${be(a)}`]},{[`& .${Ot.avatar}`]:e[`avatarColor${be(r)}`]},{[`& .${Ot.icon}`]:e.icon},{[`& .${Ot.icon}`]:e[`icon${be(a)}`]},{[`& .${Ot.icon}`]:e[`iconColor${be(i)}`]},{[`& .${Ot.deleteIcon}`]:e.deleteIcon},{[`& .${Ot.deleteIcon}`]:e[`deleteIcon${be(a)}`]},{[`& .${Ot.deleteIcon}`]:e[`deleteIconColor${be(r)}`]},{[`& .${Ot.deleteIcon}`]:e[`deleteIcon${be(l)}Color${be(r)}`]},e.root,e[`size${be(a)}`],e[`color${be(r)}`],o&&e.clickable,o&&r!=="default"&&e[`clickableColor${be(r)})`],s&&e.deletable,s&&r!=="default"&&e[`deletableColor${be(r)}`],e[l],e[`${l}${be(r)}`]]}})(At(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Ot.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Ot.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${Ot.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Ot.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Ot.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Ot.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Ot.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:Kt(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Kt(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Ot.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Ot.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(ki(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${Ot.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].contrastTextChannel} / 0.7)`:Kt(t.palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${Ot.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${Ot.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Ot.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Kt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(ki(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${Ot.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Kt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${Ot.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Kt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(ki(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${Ot.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Ot.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Ot.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Ot.avatar}`]:{marginLeft:4},[`& .${Ot.avatarSmall}`]:{marginLeft:2},[`& .${Ot.icon}`]:{marginLeft:4},[`& .${Ot.iconSmall}`]:{marginLeft:2},[`& .${Ot.deleteIcon}`]:{marginRight:5},[`& .${Ot.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(ki()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:Kt(t.palette[n].main,.7)}`,[`&.${Ot.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Kt(t.palette[n].main,t.palette.action.hoverOpacity)},[`&.${Ot.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.focusOpacity})`:Kt(t.palette[n].main,t.palette.action.focusOpacity)},[`& .${Ot.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:Kt(t.palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}))]}})),Tte=we("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${be(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function VA(t){return t.key==="Backspace"||t.key==="Delete"}const Ite=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:h,label:f,onClick:p,onDelete:m,onKeyDown:x,onKeyUp:S,size:_="medium",variant:w="filled",tabIndex:b,skipFocusWhenDisabled:C=!1,...N}=r,$=g.useRef(null),E=Or($,n),k=j=>{j.stopPropagation(),m&&m(j)},M=j=>{j.currentTarget===j.target&&VA(j)&&j.preventDefault(),x&&x(j)},v=j=>{j.currentTarget===j.target&&m&&VA(j)&&m(j),S&&S(j)},P=s!==!1&&p?!0:s,D=P||m?Ml:l||"div",O={...r,component:D,disabled:u,size:_,color:a,iconColor:g.isValidElement(h)&&h.props.color||a,onDelete:!!m,clickable:P,variant:w},J=Ste(O),Q=D===Ml?{component:l||"div",focusVisibleClassName:J.focusVisible,...m&&{disableRipple:!0}}:{};let Z=null;m&&(Z=c&&g.isValidElement(c)?g.cloneElement(c,{className:De(c.props.className,J.deleteIcon),onClick:k}):I.jsx(xte,{className:De(J.deleteIcon),onClick:k}));let ce=null;i&&g.isValidElement(i)&&(ce=g.cloneElement(i,{className:De(J.avatar,i.props.className)}));let U=null;return h&&g.isValidElement(h)&&(U=g.cloneElement(h,{className:De(J.icon,h.props.className)})),I.jsxs(Cte,{as:D,className:De(J.root,o),disabled:P&&u?!0:void 0,onClick:p,onKeyDown:M,onKeyUp:v,ref:E,tabIndex:C&&u?-1:b,ownerState:O,...Q,...N,children:[ce||U,I.jsx(Tte,{className:De(J.label),ownerState:O,children:f}),Z]})});function Wm(t){return parseInt(t,10)||0}const Rte={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function kte(t){for(const e in t)return!1;return!0}function UA(t){return kte(t)||t.outerHeightStyle===0&&!t.overflowing}const Pte=g.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a,...l}=e,{current:c}=g.useRef(a!=null),u=g.useRef(null),h=Or(n,u),f=g.useRef(null),p=g.useRef(null),m=g.useCallback(()=>{const b=u.current,C=p.current;if(!b||!C)return;const $=is(b).getComputedStyle(b);if($.width==="0px")return{outerHeightStyle:0,overflowing:!1};C.style.width=$.width,C.value=b.value||e.placeholder||"x",C.value.slice(-1)===`
`&&(C.value+=" ");const E=$.boxSizing,k=Wm($.paddingBottom)+Wm($.paddingTop),M=Wm($.borderBottomWidth)+Wm($.borderTopWidth),v=C.scrollHeight;C.value="x";const P=C.scrollHeight;let D=v;o&&(D=Math.max(Number(o)*P,D)),i&&(D=Math.min(Number(i)*P,D)),D=Math.max(D,P);const O=D+(E==="border-box"?k+M:0),J=Math.abs(D-v)<=1;return{outerHeightStyle:O,overflowing:J}},[i,o,e.placeholder]),x=Ri(()=>{const b=u.current,C=m();if(!b||!C||UA(C))return!1;const N=C.outerHeightStyle;return f.current!=null&&f.current!==N}),S=g.useCallback(()=>{const b=u.current,C=m();if(!b||!C||UA(C))return;const N=C.outerHeightStyle;f.current!==N&&(f.current=N,b.style.height=`${N}px`),b.style.overflow=C.overflowing?"hidden":""},[m]),_=g.useRef(-1);ko(()=>{const b=B_(S),C=u==null?void 0:u.current;if(!C)return;const N=is(C);N.addEventListener("resize",b);let $;return typeof ResizeObserver<"u"&&($=new ResizeObserver(()=>{x()&&($.unobserve(C),cancelAnimationFrame(_.current),S(),_.current=requestAnimationFrame(()=>{$.observe(C)}))}),$.observe(C)),()=>{b.clear(),cancelAnimationFrame(_.current),N.removeEventListener("resize",b),$&&$.disconnect()}},[m,S,x]),ko(()=>{S()});const w=b=>{c||S(),r&&r(b)};return I.jsxs(g.Fragment,{children:[I.jsx("textarea",{value:a,onChange:w,ref:h,rows:o,style:s,...l}),I.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:{...Rte.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function KE(t){return typeof t=="string"}function gh({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const hT=g.createContext(void 0);function mh(){return g.useContext(hT)}function zA(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Uv(t,e=!1){return t&&(zA(t.value)&&t.value!==""||e&&zA(t.defaultValue)&&t.defaultValue!=="")}function Ate(t){return t.startAdornment}function Mte(t){return ht("MuiInputBase",t)}const Yi=ut("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var WA;const z_=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${be(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},W_=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},Ote=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:h,size:f,startAdornment:p,type:m}=t,x={root:["root",`color${be(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",f&&f!=="medium"&&`size${be(f)}`,u&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",u&&"inputMultiline",f==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",h&&"readOnly"]};return ft(x,Mte,e)},H_=we("div",{name:"MuiInputBase",slot:"Root",overridesResolver:z_})(At(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Yi.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),G_=we("input",{name:"MuiInputBase",slot:"Input",overridesResolver:W_})(At(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Yi.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Yi.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),HA=nZ({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),fT=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:s,className:a,color:l,components:c={},componentsProps:u={},defaultValue:h,disabled:f,disableInjectingGlobalStyles:p,endAdornment:m,error:x,fullWidth:S=!1,id:_,inputComponent:w="input",inputProps:b={},inputRef:C,margin:N,maxRows:$,minRows:E,multiline:k=!1,name:M,onBlur:v,onChange:P,onClick:D,onFocus:O,onKeyDown:J,onKeyUp:Q,placeholder:Z,readOnly:ce,renderSuffix:U,rows:j,size:z,slotProps:q={},slots:H={},startAdornment:W,type:ae="text",value:oe,...ve}=r,ke=b.value!=null?b.value:oe,{current:ne}=g.useRef(ke!=null),ge=g.useRef(),ee=g.useCallback(Qe=>{},[]),ue=Or(ge,C,b.ref,ee),[Ae,We]=g.useState(!1),fe=mh(),Ee=gh({props:r,muiFormControl:fe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ee.focused=fe?fe.focused:Ae,g.useEffect(()=>{!fe&&f&&Ae&&(We(!1),v&&v())},[fe,f,Ae,v]);const Ut=fe&&fe.onFilled,Se=fe&&fe.onEmpty,Mt=g.useCallback(Qe=>{Uv(Qe)?Ut&&Ut():Se&&Se()},[Ut,Se]);ko(()=>{ne&&Mt({value:ke})},[ke,Mt,ne]);const Ye=Qe=>{O&&O(Qe),b.onFocus&&b.onFocus(Qe),fe&&fe.onFocus?fe.onFocus(Qe):We(!0)},_t=Qe=>{v&&v(Qe),b.onBlur&&b.onBlur(Qe),fe&&fe.onBlur?fe.onBlur(Qe):We(!1)},nt=(Qe,...On)=>{if(!ne){const ur=Qe.target||ge.current;if(ur==null)throw new Error(wa(1));Mt({value:ur.value})}b.onChange&&b.onChange(Qe,...On),P&&P(Qe,...On)};g.useEffect(()=>{Mt(ge.current)},[]);const $e=Qe=>{ge.current&&Qe.currentTarget===Qe.target&&ge.current.focus(),D&&D(Qe)};let tn=w,bt=b;k&&tn==="input"&&(j?bt={type:void 0,minRows:j,maxRows:j,...bt}:bt={type:void 0,maxRows:$,minRows:E,...bt},tn=Pte);const at=Qe=>{Mt(Qe.animationName==="mui-auto-fill-cancel"?ge.current:{value:"x"})};g.useEffect(()=>{fe&&fe.setAdornedStart(!!W)},[fe,W]);const It={...r,color:Ee.color||"primary",disabled:Ee.disabled,endAdornment:m,error:Ee.error,focused:Ee.focused,formControl:fe,fullWidth:S,hiddenLabel:Ee.hiddenLabel,multiline:k,size:Ee.size,startAdornment:W,type:ae},Bt=Ote(It),pn=H.root||c.Root||H_,jt=q.root||u.root||{},Ct=H.input||c.Input||G_;return bt={...bt,...q.input??u.input},I.jsxs(g.Fragment,{children:[!p&&typeof HA=="function"&&(WA||(WA=I.jsx(HA,{}))),I.jsxs(pn,{...jt,ref:n,onClick:$e,...ve,...!KE(pn)&&{ownerState:{...It,...jt.ownerState}},className:De(Bt.root,jt.className,a,ce&&"MuiInputBase-readOnly"),children:[W,I.jsx(hT.Provider,{value:null,children:I.jsx(Ct,{"aria-invalid":Ee.error,"aria-describedby":i,autoComplete:o,autoFocus:s,defaultValue:h,disabled:Ee.disabled,id:_,onAnimationStart:at,name:M,placeholder:Z,readOnly:ce,required:Ee.required,rows:j,value:ke,onKeyDown:J,onKeyUp:Q,type:ae,...bt,...!KE(Ct)&&{as:tn,ownerState:{...It,...bt.ownerState}},ref:ue,className:De(Bt.input,bt.className,ce&&"MuiInputBase-readOnly"),onBlur:_t,onChange:nt,onFocus:Ye})}),m,U?U({...Ee,startAdornment:W}):null]})]})});function Nte(t){return ht("MuiInput",t)}const Za={...Yi,...ut("MuiInput",["root","underline","input"])};function Dte(t){return ht("MuiOutlinedInput",t)}const go={...Yi,...ut("MuiOutlinedInput",["root","notchedOutline","input"])};function $te(t){return ht("MuiFilledInput",t)}const Xi={...Yi,...ut("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},b4=Zn(I.jsx("path",{d:"M7 10l5 5 5-5z"}));function Lte(t){return ht("MuiAutocomplete",t)}const St=ut("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var GA,KA;const Fte=t=>{const{classes:e,disablePortal:n,expanded:r,focused:i,fullWidth:o,hasClearIcon:s,hasPopupIcon:a,inputFocused:l,popupOpen:c,size:u}=t,h={root:["root",r&&"expanded",i&&"focused",o&&"fullWidth",s&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${be(u)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return ft(h,Lte,e)},Bte=we("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{fullWidth:r,hasClearIcon:i,hasPopupIcon:o,inputFocused:s,size:a}=n;return[{[`& .${St.tag}`]:e.tag},{[`& .${St.tag}`]:e[`tagSize${be(a)}`]},{[`& .${St.inputRoot}`]:e.inputRoot},{[`& .${St.input}`]:e.input},{[`& .${St.input}`]:s&&e.inputFocused},e.root,r&&e.fullWidth,o&&e.hasPopupIcon,i&&e.hasClearIcon]}})({[`&.${St.focused} .${St.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${St.clearIndicator}`]:{visibility:"visible"}},[`& .${St.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${St.inputRoot}`]:{[`.${St.hasPopupIcon}&, .${St.hasClearIcon}&`]:{paddingRight:30},[`.${St.hasPopupIcon}.${St.hasClearIcon}&`]:{paddingRight:56},[`& .${St.input}`]:{width:0,minWidth:30}},[`& .${Za.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Za.root}.${Yi.sizeSmall}`]:{[`& .${Za.input}`]:{padding:"2px 4px 3px 0"}},[`& .${go.root}`]:{padding:9,[`.${St.hasPopupIcon}&, .${St.hasClearIcon}&`]:{paddingRight:39},[`.${St.hasPopupIcon}.${St.hasClearIcon}&`]:{paddingRight:65},[`& .${St.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${St.endAdornment}`]:{right:9}},[`& .${go.root}.${Yi.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${St.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Xi.root}`]:{paddingTop:19,paddingLeft:8,[`.${St.hasPopupIcon}&, .${St.hasClearIcon}&`]:{paddingRight:39},[`.${St.hasPopupIcon}.${St.hasClearIcon}&`]:{paddingRight:65},[`& .${Xi.input}`]:{padding:"7px 4px"},[`& .${St.endAdornment}`]:{right:9}},[`& .${Xi.root}.${Yi.sizeSmall}`]:{paddingBottom:1,[`& .${Xi.input}`]:{padding:"2.5px 4px"}},[`& .${Yi.hiddenLabel}`]:{paddingTop:8},[`& .${Xi.root}.${Yi.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${St.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Xi.root}.${Yi.hiddenLabel}.${Yi.sizeSmall}`]:{[`& .${St.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${St.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${St.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${St.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${St.inputRoot}`]:{flexWrap:"wrap"}}}]}),jte=we("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(t,e)=>e.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),Vte=we(jv,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(t,e)=>e.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Ute=we(jv,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popupIndicator,n.popupOpen&&e.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),zte=we(_4,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${St.option}`]:e.option},e.popper,n.disablePortal&&e.popperDisablePortal]}})(At(({theme:t})=>({zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),Wte=we(ph,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(t,e)=>e.paper})(At(({theme:t})=>({...t.typography.body1,overflow:"auto"}))),Hte=we("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(t,e)=>e.loading})(At(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),Gte=we("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(t,e)=>e.noOptions})(At(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),Kte=we("ul",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(t,e)=>e.listbox})(At(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${St.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${St.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${St.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Kt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${St.focused}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Kt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${St.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Kt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}}}))),qte=we(GE,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(t,e)=>e.groupLabel})(At(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8}))),Yte=we("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(t,e)=>e.groupUl})({padding:0,[`& .${St.option}`]:{paddingLeft:24}}),Xte=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:o=!1,autoSelect:s=!1,blurOnSelect:a=!1,ChipProps:l,className:c,clearIcon:u=GA||(GA=I.jsx(GZ,{fontSize:"small"})),clearOnBlur:h=!r.freeSolo,clearOnEscape:f=!1,clearText:p="Clear",closeText:m="Close",componentsProps:x,defaultValue:S=r.multiple?[]:null,disableClearable:_=!1,disableCloseOnSelect:w=!1,disabled:b=!1,disabledItemsFocusable:C=!1,disableListWrap:N=!1,disablePortal:$=!1,filterOptions:E,filterSelectedOptions:k=!1,forcePopupIcon:M="auto",freeSolo:v=!1,fullWidth:P=!1,getLimitTagsText:D=xt=>`+${xt}`,getOptionDisabled:O,getOptionKey:J,getOptionLabel:Q,isOptionEqualToValue:Z,groupBy:ce,handleHomeEndKeys:U=!r.freeSolo,id:j,includeInputInList:z=!1,inputValue:q,limitTags:H=-1,ListboxComponent:W,ListboxProps:ae,loading:oe=!1,loadingText:ve="Loading…",multiple:ke=!1,noOptionsText:ne="No options",onChange:ge,onClose:ee,onHighlightChange:ue,onInputChange:Ae,onOpen:We,open:fe,openOnFocus:Ee=!1,openText:Ut="Open",options:Se,PaperComponent:Mt,PopperComponent:Ye,popupIcon:_t=KA||(KA=I.jsx(b4,{})),readOnly:nt=!1,renderGroup:$e,renderInput:tn,renderOption:bt,renderTags:at,selectOnFocus:It=!r.freeSolo,size:Bt="medium",slots:pn={},slotProps:jt={},value:Ct,...Qe}=r,{getRootProps:On,getInputProps:ur,getInputLabelProps:Ui,getPopupIndicatorProps:Le,getClearProps:wt,getTagProps:gn,getListboxProps:er,getOptionProps:tr,value:dr,dirty:Gn,expanded:nr,id:xr,popupOpen:Nn,focused:rr,focusedTag:Er,anchorEl:ni,setAnchorEl:mi,inputValue:Oe,groupedOptions:Ie}=ree({...r,componentName:"Autocomplete"}),pt=!_&&!b&&Gn&&!nt,tt=(!v||M===!0)&&M!==!1,{onMouseDown:zt}=ur(),{ref:hr,...Kn}=er(),yi=Q||(xt=>xt.label??xt),Xe={...r,disablePortal:$,expanded:nr,focused:rr,fullWidth:P,getOptionLabel:yi,hasClearIcon:pt,hasPopupIcon:tt,inputFocused:Er===-1,popupOpen:Nn,size:Bt},bn=Fte(Xe),vi={slots:{paper:Mt,popper:Ye,...pn},slotProps:{chip:l,listbox:ae,...x,...jt}},[Ls,le]=sn("listbox",{elementType:Kte,externalForwardedProps:vi,ownerState:Xe,className:bn.listbox,additionalProps:Kn,ref:hr}),[re,Ne]=sn("paper",{elementType:ph,externalForwardedProps:vi,ownerState:Xe,className:bn.paper}),[rt,it]=sn("popper",{elementType:_4,externalForwardedProps:vi,ownerState:Xe,className:bn.popper,additionalProps:{disablePortal:$,style:{width:ni?ni.clientWidth:null},role:"presentation",anchorEl:ni,open:Nn}});let Wt;if(ke&&dr.length>0){const xt=ri=>({className:bn.tag,disabled:b,...gn(ri)});at?Wt=at(dr,xt,Xe):Wt=dr.map((ri,Fo)=>{const{key:js,...Ph}=xt({index:Fo});return I.jsx(Ite,{label:yi(ri),size:Bt,...Ph,...vi.slotProps.chip},js)})}if(H>-1&&Array.isArray(Wt)){const xt=Wt.length-H;!rr&&xt>0&&(Wt=Wt.splice(0,H),Wt.push(I.jsx("span",{className:bn.tag,children:D(xt)},Wt.length)))}const Ur=$e||(xt=>I.jsxs("li",{children:[I.jsx(qte,{className:bn.groupLabel,ownerState:Xe,component:"div",children:xt.group}),I.jsx(Yte,{className:bn.groupUl,ownerState:Xe,children:xt.children})]},xt.key)),Fs=bt||((xt,ri)=>{const{key:Fo,...js}=xt;return I.jsx("li",{...js,children:yi(ri)},Fo)}),au=(xt,ri)=>{const Fo=tr({option:xt,index:ri});return Fs({...Fo,className:bn.option},xt,{selected:Fo["aria-selected"],index:ri,inputValue:Oe},Xe)},Bs=vi.slotProps.clearIndicator,Lo=vi.slotProps.popupIndicator;return I.jsxs(g.Fragment,{children:[I.jsx(Bte,{ref:n,className:De(bn.root,c),ownerState:Xe,...On(Qe),children:tn({id:xr,disabled:b,fullWidth:!0,size:Bt==="small"?"small":void 0,InputLabelProps:Ui(),InputProps:{ref:mi,className:bn.inputRoot,startAdornment:Wt,onMouseDown:xt=>{xt.target===xt.currentTarget&&zt(xt)},...(pt||tt)&&{endAdornment:I.jsxs(jte,{className:bn.endAdornment,ownerState:Xe,children:[pt?I.jsx(Vte,{...wt(),"aria-label":p,title:p,ownerState:Xe,...Bs,className:De(bn.clearIndicator,Bs==null?void 0:Bs.className),children:u}):null,tt?I.jsx(Ute,{...Le(),disabled:b,"aria-label":Nn?m:Ut,title:Nn?m:Ut,ownerState:Xe,...Lo,className:De(bn.popupIndicator,Lo==null?void 0:Lo.className),children:_t}):null]})}},inputProps:{className:bn.input,disabled:b,readOnly:nt,...ur()}})}),ni?I.jsx(zte,{as:rt,...it,children:I.jsxs(Wte,{as:re,...Ne,children:[oe&&Ie.length===0?I.jsx(Hte,{className:bn.loading,ownerState:Xe,children:ve}):null,Ie.length===0&&!v&&!oe?I.jsx(Gte,{className:bn.noOptions,ownerState:Xe,role:"presentation",onMouseDown:xt=>{xt.preventDefault()},children:ne}):null,Ie.length>0?I.jsx(Ls,{as:W,...le,children:Ie.map((xt,ri)=>ce?Ur({key:xt.key,group:xt.group,children:xt.options.map((Fo,js)=>au(Fo,xt.index+js))}):au(xt,ri))}):null]})}):null]})}),Qte={entering:{opacity:1},entered:{opacity:1}},qE=g.forwardRef(function(e,n){const r=Qc(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:h,onEntering:f,onExit:p,onExited:m,onExiting:x,style:S,timeout:_=i,TransitionComponent:w=Os,...b}=e,C=g.useRef(null),N=Or(C,Ag(a),n),$=J=>Q=>{if(J){const Z=C.current;Q===void 0?J(Z):J(Z,Q)}},E=$(f),k=$((J,Q)=>{a4(J);const Z=Fv({style:S,timeout:_,easing:l},{mode:"enter"});J.style.webkitTransition=r.transitions.create("opacity",Z),J.style.transition=r.transitions.create("opacity",Z),u&&u(J,Q)}),M=$(h),v=$(x),P=$(J=>{const Q=Fv({style:S,timeout:_,easing:l},{mode:"exit"});J.style.webkitTransition=r.transitions.create("opacity",Q),J.style.transition=r.transitions.create("opacity",Q),p&&p(J)}),D=$(m),O=J=>{o&&o(C.current,J)};return I.jsx(w,{appear:s,in:c,nodeRef:C,onEnter:k,onEntered:M,onEntering:E,onExit:P,onExited:D,onExiting:v,addEndListener:O,timeout:_,...b,children:(J,{ownerState:Q,...Z})=>g.cloneElement(a,{style:{opacity:0,visibility:J==="exited"&&!c?"hidden":void 0,...Qte[J],...S,...a.props.style},ref:N,...Z})})});function Jte(t){return ht("MuiBackdrop",t)}ut("MuiBackdrop",["root","invisible"]);const Zte=t=>{const{classes:e,invisible:n}=t;return ft({root:["root",n&&"invisible"]},Jte,e)},ene=we("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),w4=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiBackdrop"}),{children:i,className:o,component:s="div",invisible:a=!1,open:l,components:c={},componentsProps:u={},slotProps:h={},slots:f={},TransitionComponent:p,transitionDuration:m,...x}=r,S={...r,component:s,invisible:a},_=Zte(S),w={transition:p,root:c.Root,...f},b={...u,...h},C={slots:w,slotProps:b},[N,$]=sn("root",{elementType:ene,externalForwardedProps:C,className:De(_.root,o),ownerState:S}),[E,k]=sn("transition",{elementType:qE,externalForwardedProps:C,ownerState:S});return I.jsx(E,{in:l,timeout:m,...x,...k,children:I.jsx(N,{"aria-hidden":!0,...$,classes:_,ref:n,children:i})})}),tne=ut("MuiBox",["root"]),nne=r4(),zv=yQ({themeId:Sg,defaultTheme:nne,defaultClassName:tne.root,generateClassName:$F.generate});function rne(t){return ht("MuiButton",t)}const sc=ut("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),ine=g.createContext({}),one=g.createContext(void 0),sne=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,loading:s,loadingPosition:a,classes:l}=t,c={root:["root",s&&"loading",o,`${o}${be(e)}`,`size${be(i)}`,`${o}Size${be(i)}`,`color${be(e)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${be(a)}`],startIcon:["icon","startIcon",`iconSize${be(i)}`],endIcon:["icon","endIcon",`iconSize${be(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},u=ft(c,rne,l);return{...l,...u}},x4=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],ane=we(Ml,{shouldForwardProp:t=>Do(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${be(n.color)}`],e[`size${be(n.size)}`],e[`${n.variant}Size${be(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(At(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${sc.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${sc.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${sc.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${sc.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(ki()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:Kt(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Kt(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Kt(t.palette[r].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Kt(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Kt(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${sc.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${sc.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${sc.loading}`]:{color:"transparent"}}}]}})),lne=we("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${be(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...x4]})),cne=we("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${be(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...x4]})),une=we("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),qA=we("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),en=g.forwardRef(function(e,n){const r=g.useContext(ine),i=g.useContext(one),o=Ud(r,e),s=vt({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:h=!1,disableElevation:f=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:x,fullWidth:S=!1,id:_,loading:w=null,loadingIndicator:b,loadingPosition:C="center",size:N="medium",startIcon:$,type:E,variant:k="text",...M}=s,v=hh(_),P=b??I.jsx(l4,{"aria-labelledby":v,color:"inherit",size:16}),D={...s,color:l,component:c,disabled:h,disableElevation:f,disableFocusRipple:p,fullWidth:S,loading:w,loadingIndicator:P,loadingPosition:C,size:N,type:E,variant:k},O=sne(D),J=($||w&&C==="start")&&I.jsx(lne,{className:O.startIcon,ownerState:D,children:$||I.jsx(qA,{className:O.loadingIconPlaceholder,ownerState:D})}),Q=(m||w&&C==="end")&&I.jsx(cne,{className:O.endIcon,ownerState:D,children:m||I.jsx(qA,{className:O.loadingIconPlaceholder,ownerState:D})}),Z=i||"",ce=typeof w=="boolean"?I.jsx("span",{className:O.loadingWrapper,style:{display:"contents"},children:w&&I.jsx(une,{className:O.loadingIndicator,ownerState:D,children:P})}):null;return I.jsxs(ane,{ownerState:D,className:De(r.className,O.root,u,Z),component:c,disabled:h||w,focusRipple:!p,focusVisibleClassName:De(O.focusVisible,x),ref:n,type:E,id:w?v:_,...M,classes:O,children:[J,C!=="end"&&ce,a,C==="end"&&ce,Q]})});function dne(t){return ht("MuiCard",t)}ut("MuiCard",["root"]);const hne=t=>{const{classes:e}=t;return ft({root:["root"]},dne,e)},fne=we(ph,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})({overflow:"hidden"}),pne=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiCard"}),{className:i,raised:o=!1,...s}=r,a={...r,raised:o},l=hne(a);return I.jsx(fne,{className:De(l.root,i),elevation:o?8:void 0,ref:n,ownerState:a,...s})});function gne(t){return ht("MuiCardActions",t)}ut("MuiCardActions",["root","spacing"]);const mne=t=>{const{classes:e,disableSpacing:n}=t;return ft({root:["root",!n&&"spacing"]},gne,e)},yne=we("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),vne=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiCardActions"}),{disableSpacing:i=!1,className:o,...s}=r,a={...r,disableSpacing:i},l=mne(a);return I.jsx(yne,{className:De(l.root,o),ownerState:a,ref:n,...s})});function _ne(t){return ht("MuiCardContent",t)}ut("MuiCardContent",["root"]);const bne=t=>{const{classes:e}=t;return ft({root:["root"]},_ne,e)},wne=we("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:16,"&:last-child":{paddingBottom:24}}),xne=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiCardContent"}),{className:i,component:o="div",...s}=r,a={...r,component:o},l=bne(a);return I.jsx(wne,{as:o,className:De(l.root,i),ownerState:a,ref:n,...s})}),Ene=tJ({createStyledComponent:we("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${be(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>vt({props:t,name:"MuiContainer"})});function Sne(t){const e=Fi(t);return e.body===t?is(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function tp(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function YA(t){return parseInt(is(t).getComputedStyle(t).paddingRight,10)||0}function Cne(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function XA(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,s=>{const a=!o.includes(s),l=!Cne(s);a&&l&&tp(s,i)})}function Tw(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function Tne(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(Sne(r)){const s=KF(is(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${YA(r)+s}px`;const a=Fi(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${YA(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Fi(r).body;else{const s=r.parentElement,a=is(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function Ine(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class Rne{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&tp(e.modalRef,!1);const i=Ine(n);XA(n,e.mount,e.modalRef,i,!0);const o=Tw(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Tw(this.containers,o=>o.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=Tne(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Tw(this.containers,s=>s.modals.includes(e)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&tp(e.modalRef,n),XA(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&tp(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const kne=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Pne(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Ane(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Mne(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Ane(t))}function One(t){const e=[],n=[];return Array.from(t.querySelectorAll(kne)).forEach((r,i)=>{const o=Pne(r);o===-1||!Mne(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function Nne(){return!0}function Dne(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=One,isEnabled:s=Nne,open:a}=t,l=g.useRef(!1),c=g.useRef(null),u=g.useRef(null),h=g.useRef(null),f=g.useRef(null),p=g.useRef(!1),m=g.useRef(null),x=Or(Ag(e),m),S=g.useRef(null);g.useEffect(()=>{!a||!m.current||(p.current=!n)},[n,a]),g.useEffect(()=>{if(!a||!m.current)return;const b=Fi(m.current);return m.current.contains(b.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{i||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[a]),g.useEffect(()=>{if(!a||!m.current)return;const b=Fi(m.current),C=E=>{S.current=E,!(r||!s()||E.key!=="Tab")&&b.activeElement===m.current&&E.shiftKey&&(l.current=!0,u.current&&u.current.focus())},N=()=>{var M,v;const E=m.current;if(E===null)return;if(!b.hasFocus()||!s()||l.current){l.current=!1;return}if(E.contains(b.activeElement)||r&&b.activeElement!==c.current&&b.activeElement!==u.current)return;if(b.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!p.current)return;let k=[];if((b.activeElement===c.current||b.activeElement===u.current)&&(k=o(m.current)),k.length>0){const P=!!((M=S.current)!=null&&M.shiftKey&&((v=S.current)==null?void 0:v.key)==="Tab"),D=k[0],O=k[k.length-1];typeof D!="string"&&typeof O!="string"&&(P?O.focus():D.focus())}else E.focus()};b.addEventListener("focusin",N),b.addEventListener("keydown",C,!0);const $=setInterval(()=>{b.activeElement&&b.activeElement.tagName==="BODY"&&N()},50);return()=>{clearInterval($),b.removeEventListener("focusin",N),b.removeEventListener("keydown",C,!0)}},[n,r,i,s,a,o]);const _=b=>{h.current===null&&(h.current=b.relatedTarget),p.current=!0,f.current=b.target;const C=e.props.onFocus;C&&C(b)},w=b=>{h.current===null&&(h.current=b.relatedTarget),p.current=!0};return I.jsxs(g.Fragment,{children:[I.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:c,"data-testid":"sentinelStart"}),g.cloneElement(e,{ref:x,onFocus:_}),I.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:u,"data-testid":"sentinelEnd"})]})}function $ne(t){return typeof t=="function"?t():t}function Lne(t){return t?t.props.hasOwnProperty("in"):!1}const QA=()=>{},Hm=new Rne;function Fne(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:s,children:a,onClose:l,open:c,rootRef:u}=t,h=g.useRef({}),f=g.useRef(null),p=g.useRef(null),m=Or(p,u),[x,S]=g.useState(!c),_=Lne(a);let w=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(w=!1);const b=()=>Fi(f.current),C=()=>(h.current.modalRef=p.current,h.current.mount=f.current,h.current),N=()=>{Hm.mount(C(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},$=Ri(()=>{const Q=$ne(e)||b().body;Hm.add(C(),Q),p.current&&N()}),E=()=>Hm.isTopModal(C()),k=Ri(Q=>{f.current=Q,Q&&(c&&E()?N():p.current&&tp(p.current,w))}),M=g.useCallback(()=>{Hm.remove(C(),w)},[w]);g.useEffect(()=>()=>{M()},[M]),g.useEffect(()=>{c?$():(!_||!i)&&M()},[c,M,_,i,$]);const v=Q=>Z=>{var ce;(ce=Q.onKeyDown)==null||ce.call(Q,Z),!(Z.key!=="Escape"||Z.which===229||!E())&&(n||(Z.stopPropagation(),l&&l(Z,"escapeKeyDown")))},P=Q=>Z=>{var ce;(ce=Q.onClick)==null||ce.call(Q,Z),Z.target===Z.currentTarget&&l&&l(Z,"backdropClick")};return{getRootProps:(Q={})=>{const Z=YF(t);delete Z.onTransitionEnter,delete Z.onTransitionExited;const ce={...Z,...Q};return{role:"presentation",...ce,onKeyDown:v(ce),ref:m}},getBackdropProps:(Q={})=>{const Z=Q;return{"aria-hidden":!0,...Z,onClick:P(Z),open:c}},getTransitionProps:()=>{const Q=()=>{S(!1),o&&o()},Z=()=>{S(!0),s&&s(),i&&M()};return{onEnter:hA(Q,(a==null?void 0:a.props.onEnter)??QA),onExited:hA(Z,(a==null?void 0:a.props.onExited)??QA)}},rootRef:m,portalRef:k,isTopModal:E,exited:x,hasTransition:_}}function Bne(t){return ht("MuiModal",t)}ut("MuiModal",["root","hidden","backdrop"]);const jne=t=>{const{open:e,exited:n,classes:r}=t;return ft({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},Bne,r)},Vne=we("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(At(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),Une=we(w4,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),E4=g.forwardRef(function(e,n){const r=vt({name:"MuiModal",props:e}),{BackdropComponent:i=Une,BackdropProps:o,classes:s,className:a,closeAfterTransition:l=!1,children:c,container:u,component:h,components:f={},componentsProps:p={},disableAutoFocus:m=!1,disableEnforceFocus:x=!1,disableEscapeKeyDown:S=!1,disablePortal:_=!1,disableRestoreFocus:w=!1,disableScrollLock:b=!1,hideBackdrop:C=!1,keepMounted:N=!1,onClose:$,onTransitionEnter:E,onTransitionExited:k,open:M,slotProps:v={},slots:P={},theme:D,...O}=r,J={...r,closeAfterTransition:l,disableAutoFocus:m,disableEnforceFocus:x,disableEscapeKeyDown:S,disablePortal:_,disableRestoreFocus:w,disableScrollLock:b,hideBackdrop:C,keepMounted:N},{getRootProps:Q,getBackdropProps:Z,getTransitionProps:ce,portalRef:U,isTopModal:j,exited:z,hasTransition:q}=Fne({...J,rootRef:n}),H={...J,exited:z},W=jne(H),ae={};if(c.props.tabIndex===void 0&&(ae.tabIndex="-1"),q){const{onEnter:ee,onExited:ue}=ce();ae.onEnter=ee,ae.onExited=ue}const oe={slots:{root:f.Root,backdrop:f.Backdrop,...P},slotProps:{...p,...v}},[ve,ke]=sn("root",{ref:n,elementType:Vne,externalForwardedProps:{...oe,...O,component:h},getSlotProps:Q,ownerState:H,className:De(a,W==null?void 0:W.root,!H.open&&H.exited&&(W==null?void 0:W.hidden))}),[ne,ge]=sn("backdrop",{ref:o==null?void 0:o.ref,elementType:i,externalForwardedProps:oe,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:ee=>Z({...ee,onClick:ue=>{ee!=null&&ee.onClick&&ee.onClick(ue)}}),className:De(o==null?void 0:o.className,W==null?void 0:W.backdrop),ownerState:H});return!N&&!M&&(!q||z)?null:I.jsx(v4,{ref:U,container:u,disablePortal:_,children:I.jsxs(ve,{...ke,children:[!C&&i?I.jsx(ne,{...ge}):null,I.jsx(Dne,{disableEnforceFocus:x,disableAutoFocus:m,disableRestoreFocus:w,isEnabled:j,open:M,children:g.cloneElement(c,ae)})]})})});function zne(t){return ht("MuiDialog",t)}const Iw=ut("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),S4=g.createContext({}),Wne=we(w4,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),Hne=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=t,s={root:["root"],container:["container",`scroll${be(n)}`],paper:["paper",`paperScroll${be(n)}`,`paperWidth${be(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return ft(s,zne,e)},Gne=we(E4,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),Kne=we("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${be(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),qne=we(ph,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${be(n.scroll)}`],e[`paperWidth${be(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(At(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Iw.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${Iw.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Iw.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Gm=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiDialog"}),i=Qc(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:c,BackdropProps:u,children:h,className:f,disableEscapeKeyDown:p=!1,fullScreen:m=!1,fullWidth:x=!1,maxWidth:S="sm",onClick:_,onClose:w,open:b,PaperComponent:C=ph,PaperProps:N={},scroll:$="paper",slots:E={},slotProps:k={},TransitionComponent:M=qE,transitionDuration:v=o,TransitionProps:P,...D}=r,O={...r,disableEscapeKeyDown:p,fullScreen:m,fullWidth:x,maxWidth:S,scroll:$},J=Hne(O),Q=g.useRef(),Z=We=>{Q.current=We.target===We.currentTarget},ce=We=>{_&&_(We),Q.current&&(Q.current=null,w&&w(We,"backdropClick"))},U=hh(a),j=g.useMemo(()=>({titleId:U}),[U]),z={transition:M,...E},q={transition:P,paper:N,backdrop:u,...k},H={slots:z,slotProps:q},[W,ae]=sn("root",{elementType:Gne,shouldForwardComponentProp:!0,externalForwardedProps:H,ownerState:O,className:De(J.root,f),ref:n}),[oe,ve]=sn("backdrop",{elementType:Wne,shouldForwardComponentProp:!0,externalForwardedProps:H,ownerState:O}),[ke,ne]=sn("paper",{elementType:qne,shouldForwardComponentProp:!0,externalForwardedProps:H,ownerState:O,className:De(J.paper,N.className)}),[ge,ee]=sn("container",{elementType:Kne,externalForwardedProps:H,ownerState:O,className:De(J.container)}),[ue,Ae]=sn("transition",{elementType:qE,externalForwardedProps:H,ownerState:O,additionalProps:{appear:!0,in:b,timeout:v,role:"presentation"}});return I.jsx(W,{closeAfterTransition:!0,slots:{backdrop:oe},slotProps:{backdrop:{transitionDuration:v,as:c,...ve}},disableEscapeKeyDown:p,onClose:w,open:b,onClick:ce,...ae,...D,children:I.jsx(ue,{...Ae,children:I.jsx(ge,{onMouseDown:Z,...ee,children:I.jsx(ke,{as:C,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":U,"aria-modal":l,...ne,children:I.jsx(S4.Provider,{value:j,children:h})})})})})});function Yne(t){return ht("MuiDialogActions",t)}ut("MuiDialogActions",["root","spacing"]);const Xne=t=>{const{classes:e,disableSpacing:n}=t;return ft({root:["root",!n&&"spacing"]},Yne,e)},Qne=we("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Km=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1,...s}=r,a={...r,disableSpacing:o},l=Xne(a);return I.jsx(Qne,{className:De(l.root,i),ownerState:a,ref:n,...s})});function Jne(t){return ht("MuiDialogContent",t)}ut("MuiDialogContent",["root","dividers"]);function Zne(t){return ht("MuiDialogTitle",t)}const ere=ut("MuiDialogTitle",["root"]),tre=t=>{const{classes:e,dividers:n}=t;return ft({root:["root",n&&"dividers"]},Jne,e)},nre=we("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(At(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${ere.root} + &`]:{paddingTop:0}}}]}))),qm=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiDialogContent"}),{className:i,dividers:o=!1,...s}=r,a={...r,dividers:o},l=tre(a);return I.jsx(nre,{className:De(l.root,i),ownerState:a,ref:n,...s})}),rre=t=>{const{classes:e}=t;return ft({root:["root"]},Zne,e)},ire=we(on,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),Ym=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiDialogTitle"}),{className:i,id:o,...s}=r,a=r,l=rre(a),{titleId:c=o}=g.useContext(S4);return I.jsx(ire,{component:"h2",className:De(l.root,i),ownerState:a,ref:n,variant:"h6",id:o??c,...s})}),JA=ut("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),ore=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:s,multiline:a}=t,l={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${be(o)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},c=ft(l,$te,e);return{...e,...c}},sre=we(H_,{shouldForwardProp:t=>Do(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...z_(t,e),!n.disableUnderline&&e.underline]}})(At(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${Xi.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${Xi.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Xi.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Xi.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Xi.disabled}, .${Xi.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Xi.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(ki()).map(([s])=>{var a;return{props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[s])==null?void 0:a.main}`}}}}),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:a})=>s.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),are=we(G_,{name:"MuiFilledInput",slot:"Input",overridesResolver:W_})(At(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),pT=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,hiddenLabel:l,inputComponent:c="input",multiline:u=!1,slotProps:h,slots:f={},type:p="text",...m}=r,x={...r,disableUnderline:i,fullWidth:a,inputComponent:c,multiline:u,type:p},S=ore(r),_={root:{ownerState:x},input:{ownerState:x}},w=h??s?Mr(_,h??s):_,b=f.root??o.Root??sre,C=f.input??o.Input??are;return I.jsx(fT,{slots:{root:b,input:C},slotProps:w,fullWidth:a,inputComponent:c,multiline:u,ref:n,type:p,...m,classes:S})});pT.muiName="Input";function lre(t){return ht("MuiFormControl",t)}ut("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const cre=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${be(n)}`,r&&"fullWidth"]};return ft(i,lre,e)},ure=we("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${be(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),gT=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:h=!1,hiddenLabel:f=!1,margin:p="none",required:m=!1,size:x="medium",variant:S="outlined",..._}=r,w={...r,color:s,component:a,disabled:l,error:c,fullWidth:h,hiddenLabel:f,margin:p,required:m,size:x,variant:S},b=cre(w),[C,N]=g.useState(()=>{let Q=!1;return i&&g.Children.forEach(i,Z=>{if(!Dy(Z,["Input","Select"]))return;const ce=Dy(Z,["Select"])?Z.props.input:Z;ce&&Ate(ce.props)&&(Q=!0)}),Q}),[$,E]=g.useState(()=>{let Q=!1;return i&&g.Children.forEach(i,Z=>{Dy(Z,["Input","Select"])&&(Uv(Z.props,!0)||Uv(Z.props.inputProps,!0))&&(Q=!0)}),Q}),[k,M]=g.useState(!1);l&&k&&M(!1);const v=u!==void 0&&!l?u:k;let P;g.useRef(!1);const D=g.useCallback(()=>{E(!0)},[]),O=g.useCallback(()=>{E(!1)},[]),J=g.useMemo(()=>({adornedStart:C,setAdornedStart:N,color:s,disabled:l,error:c,filled:$,focused:v,fullWidth:h,hiddenLabel:f,size:x,onBlur:()=>{M(!1)},onFocus:()=>{M(!0)},onEmpty:O,onFilled:D,registerEffect:P,required:m,variant:S}),[C,s,l,c,$,v,h,f,P,O,D,m,x,S]);return I.jsx(hT.Provider,{value:J,children:I.jsx(ure,{as:a,ownerState:w,className:De(b.root,o),ref:n,..._,children:i})})});function dre(t){return ht("MuiFormHelperText",t)}const ZA=ut("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var e2;const hre=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=t,c={root:["root",i&&"disabled",o&&"error",r&&`size${be(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return ft(c,dre,e)},fre=we("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${be(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(At(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${ZA.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${ZA.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),pre=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p",disabled:a,error:l,filled:c,focused:u,margin:h,required:f,variant:p,...m}=r,x=mh(),S=gh({props:r,muiFormControl:x,states:["variant","size","disabled","error","filled","focused","required"]}),_={...r,component:s,contained:S.variant==="filled"||S.variant==="outlined",variant:S.variant,size:S.size,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required};delete _.ownerState;const w=hre(_);return I.jsx(fre,{as:s,className:De(w.root,o),ref:n,...m,ownerState:_,children:i===" "?e2||(e2=I.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):i})});function gre(t){return ht("MuiFormLabel",t)}const np=ut("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),mre=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=t,l={root:["root",`color${be(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return ft(l,gre,e)},yre=we("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(At(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(ki()).map(([e])=>({props:{color:e},style:{[`&.${np.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${np.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${np.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),vre=we("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(At(({theme:t})=>({[`&.${np.error}`]:{color:(t.vars||t).palette.error.main}}))),_re=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiFormLabel"}),{children:i,className:o,color:s,component:a="label",disabled:l,error:c,filled:u,focused:h,required:f,...p}=r,m=mh(),x=gh({props:r,muiFormControl:m,states:["color","required","focused","disabled","error","filled"]}),S={...r,color:x.color||"primary",component:a,disabled:x.disabled,error:x.error,filled:x.filled,focused:x.focused,required:x.required},_=mre(S);return I.jsxs(yre,{as:a,ownerState:S,className:De(_.root,o),ref:n,...p,children:[i,x.required&&I.jsxs(vre,{ownerState:S,"aria-hidden":!0,className:_.asterisk,children:[" ","*"]})]})}),t2=yJ({createStyledComponent:we("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:t=>vt({props:t,name:"MuiGrid"}),useTheme:Qc});function YE(t){return`scale(${t}, ${t**2})`}const bre={entering:{opacity:1,transform:YE(1)},entered:{opacity:1,transform:"none"}},Rw=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),XE=g.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:h,onExited:f,onExiting:p,style:m,timeout:x="auto",TransitionComponent:S=Os,..._}=e,w=GF(),b=g.useRef(),C=Qc(),N=g.useRef(null),$=Or(N,Ag(o),n),E=Q=>Z=>{if(Q){const ce=N.current;Z===void 0?Q(ce):Q(ce,Z)}},k=E(u),M=E((Q,Z)=>{a4(Q);const{duration:ce,delay:U,easing:j}=Fv({style:m,timeout:x,easing:s},{mode:"enter"});let z;x==="auto"?(z=C.transitions.getAutoHeightDuration(Q.clientHeight),b.current=z):z=ce,Q.style.transition=[C.transitions.create("opacity",{duration:z,delay:U}),C.transitions.create("transform",{duration:Rw?z:z*.666,delay:U,easing:j})].join(","),l&&l(Q,Z)}),v=E(c),P=E(p),D=E(Q=>{const{duration:Z,delay:ce,easing:U}=Fv({style:m,timeout:x,easing:s},{mode:"exit"});let j;x==="auto"?(j=C.transitions.getAutoHeightDuration(Q.clientHeight),b.current=j):j=Z,Q.style.transition=[C.transitions.create("opacity",{duration:j,delay:ce}),C.transitions.create("transform",{duration:Rw?j:j*.666,delay:Rw?ce:ce||j*.333,easing:U})].join(","),Q.style.opacity=0,Q.style.transform=YE(.75),h&&h(Q)}),O=E(f),J=Q=>{x==="auto"&&w.start(b.current||0,Q),r&&r(N.current,Q)};return I.jsx(S,{appear:i,in:a,nodeRef:N,onEnter:M,onEntered:v,onEntering:k,onExit:D,onExited:O,onExiting:P,addEndListener:J,timeout:x==="auto"?null:x,..._,children:(Q,{ownerState:Z,...ce})=>g.cloneElement(o,{style:{opacity:0,transform:YE(.75),visibility:Q==="exited"&&!a?"hidden":void 0,...bre[Q],...m,...o.props.style},ref:$,...ce})})});XE&&(XE.muiSupportAuto=!0);const wre=t=>{const{classes:e,disableUnderline:n}=t,i=ft({root:["root",!n&&"underline"],input:["input"]},Nte,e);return{...e,...i}},xre=we(H_,{shouldForwardProp:t=>Do(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...z_(t,e),!n.disableUnderline&&e.underline]}})(At(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Za.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Za.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Za.disabled}, .${Za.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Za.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(ki()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),Ere=we(G_,{name:"MuiInput",slot:"Input",overridesResolver:W_})({}),mT=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,inputComponent:l="input",multiline:c=!1,slotProps:u,slots:h={},type:f="text",...p}=r,m=wre(r),S={root:{ownerState:{disableUnderline:i}}},_=u??s?Mr(u??s,S):S,w=h.root??o.Root??xre,b=h.input??o.Input??Ere;return I.jsx(fT,{slots:{root:w,input:b},slotProps:_,fullWidth:a,inputComponent:l,multiline:c,ref:n,type:f,...p,classes:m})});mT.muiName="Input";function Sre(t){return ht("MuiInputLabel",t)}ut("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Cre=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=t,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="medium"&&`size${be(r)}`,s],asterisk:[a&&"asterisk"]},c=ft(l,Sre,e);return{...e,...c}},Tre=we(_re,{shouldForwardProp:t=>Do(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${np.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(At(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),yT=g.forwardRef(function(e,n){const r=vt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:o,shrink:s,variant:a,className:l,...c}=r,u=mh();let h=s;typeof h>"u"&&u&&(h=u.filled||u.focused||u.adornedStart);const f=gh({props:r,muiFormControl:u,states:["size","variant","required","focused"]}),p={...r,disableAnimation:i,formControl:u,shrink:h,size:f.size,variant:f.variant,required:f.required,focused:f.focused},m=Cre(p);return I.jsx(Tre,{"data-shrink":h,ref:n,className:De(m.root,l),...c,ownerState:p,classes:m})}),QE=g.createContext({});function Ire(t){return ht("MuiList",t)}ut("MuiList",["root","padding","dense","subheader"]);const Rre=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return ft({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},Ire,e)},kre=we("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),Pre=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c,...u}=r,h=g.useMemo(()=>({dense:a}),[a]),f={...r,component:s,dense:a,disablePadding:l},p=Rre(f);return I.jsx(QE.Provider,{value:h,children:I.jsxs(kre,{as:s,className:De(p.root,o),ref:n,ownerState:f,...u,children:[c,i]})})}),n2=ut("MuiListItemIcon",["root","alignItemsFlexStart"]),r2=ut("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function kw(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function i2(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function C4(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function sf(t,e,n,r,i,o){let s=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!C4(a,o)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const Are=g.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:h="selectedMenu",...f}=e,p=g.useRef(null),m=g.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ko(()=>{i&&p.current.focus()},[i]),g.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(b,{direction:C})=>{const N=!p.current.style.width;if(b.clientHeight<p.current.clientHeight&&N){const $=`${KF(is(b))}px`;p.current.style[C==="rtl"?"paddingLeft":"paddingRight"]=$,p.current.style.width=`calc(100% + ${$})`}return p.current}}),[]);const x=b=>{const C=p.current,N=b.key;if(b.ctrlKey||b.metaKey||b.altKey){u&&u(b);return}const E=Fi(C).activeElement;if(N==="ArrowDown")b.preventDefault(),sf(C,E,c,l,kw);else if(N==="ArrowUp")b.preventDefault(),sf(C,E,c,l,i2);else if(N==="Home")b.preventDefault(),sf(C,null,c,l,kw);else if(N==="End")b.preventDefault(),sf(C,null,c,l,i2);else if(N.length===1){const k=m.current,M=N.toLowerCase(),v=performance.now();k.keys.length>0&&(v-k.lastTime>500?(k.keys=[],k.repeating=!0,k.previousKeyMatched=!0):k.repeating&&M!==k.keys[0]&&(k.repeating=!1)),k.lastTime=v,k.keys.push(M);const P=E&&!k.repeating&&C4(E,k);k.previousKeyMatched&&(P||sf(C,E,!1,l,kw,k))?b.preventDefault():k.previousKeyMatched=!1}u&&u(b)},S=Or(p,n);let _=-1;g.Children.forEach(s,(b,C)=>{if(!g.isValidElement(b)){_===C&&(_+=1,_>=s.length&&(_=-1));return}b.props.disabled||(h==="selectedMenu"&&b.props.selected||_===-1)&&(_=C),_===C&&(b.props.disabled||b.props.muiSkipListHighlight||b.type.muiSkipListHighlight)&&(_+=1,_>=s.length&&(_=-1))});const w=g.Children.map(s,(b,C)=>{if(C===_){const N={};return o&&(N.autoFocus=!0),b.props.tabIndex===void 0&&h==="selectedMenu"&&(N.tabIndex=0),g.cloneElement(b,N)}return b});return I.jsx(Pre,{role:"menu",ref:S,className:a,onKeyDown:x,tabIndex:i?0:-1,...f,children:w})});function Mre(t){return ht("MuiPopover",t)}ut("MuiPopover",["root","paper"]);function o2(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function s2(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function a2(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Xm(t){return typeof t=="function"?t():t}const Ore=t=>{const{classes:e}=t;return ft({root:["root"],paper:["paper"]},Mre,e)},Nre=we(E4,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),T4=we(ph,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Dre=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:c,className:u,container:h,elevation:f=8,marginThreshold:p=16,open:m,PaperProps:x={},slots:S={},slotProps:_={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:b,transitionDuration:C="auto",TransitionProps:N={},disableScrollLock:$=!1,...E}=r,k=g.useRef(),M={...r,anchorOrigin:s,anchorReference:l,elevation:f,marginThreshold:p,transformOrigin:w,TransitionComponent:b,transitionDuration:C,TransitionProps:N},v=Ore(M),P=g.useCallback(()=>{if(l==="anchorPosition")return a;const ee=Xm(o),Ae=(ee&&ee.nodeType===1?ee:Fi(k.current).body).getBoundingClientRect();return{top:Ae.top+o2(Ae,s.vertical),left:Ae.left+s2(Ae,s.horizontal)}},[o,s.horizontal,s.vertical,a,l]),D=g.useCallback(ee=>({vertical:o2(ee,w.vertical),horizontal:s2(ee,w.horizontal)}),[w.horizontal,w.vertical]),O=g.useCallback(ee=>{const ue={width:ee.offsetWidth,height:ee.offsetHeight},Ae=D(ue);if(l==="none")return{top:null,left:null,transformOrigin:a2(Ae)};const We=P();let fe=We.top-Ae.vertical,Ee=We.left-Ae.horizontal;const Ut=fe+ue.height,Se=Ee+ue.width,Mt=is(Xm(o)),Ye=Mt.innerHeight-p,_t=Mt.innerWidth-p;if(p!==null&&fe<p){const nt=fe-p;fe-=nt,Ae.vertical+=nt}else if(p!==null&&Ut>Ye){const nt=Ut-Ye;fe-=nt,Ae.vertical+=nt}if(p!==null&&Ee<p){const nt=Ee-p;Ee-=nt,Ae.horizontal+=nt}else if(Se>_t){const nt=Se-_t;Ee-=nt,Ae.horizontal+=nt}return{top:`${Math.round(fe)}px`,left:`${Math.round(Ee)}px`,transformOrigin:a2(Ae)}},[o,l,P,D,p]),[J,Q]=g.useState(m),Z=g.useCallback(()=>{const ee=k.current;if(!ee)return;const ue=O(ee);ue.top!==null&&ee.style.setProperty("top",ue.top),ue.left!==null&&(ee.style.left=ue.left),ee.style.transformOrigin=ue.transformOrigin,Q(!0)},[O]);g.useEffect(()=>($&&window.addEventListener("scroll",Z),()=>window.removeEventListener("scroll",Z)),[o,$,Z]);const ce=()=>{Z()},U=()=>{Q(!1)};g.useEffect(()=>{m&&Z()}),g.useImperativeHandle(i,()=>m?{updatePosition:()=>{Z()}}:null,[m,Z]),g.useEffect(()=>{if(!m)return;const ee=B_(()=>{Z()}),ue=is(Xm(o));return ue.addEventListener("resize",ee),()=>{ee.clear(),ue.removeEventListener("resize",ee)}},[o,m,Z]);let j=C;const z={slots:{transition:b,...S},slotProps:{transition:N,paper:x,..._}},[q,H]=sn("transition",{elementType:XE,externalForwardedProps:z,ownerState:M,getSlotProps:ee=>({...ee,onEntering:(ue,Ae)=>{var We;(We=ee.onEntering)==null||We.call(ee,ue,Ae),ce()},onExited:ue=>{var Ae;(Ae=ee.onExited)==null||Ae.call(ee,ue),U()}}),additionalProps:{appear:!0,in:m}});C==="auto"&&!q.muiSupportAuto&&(j=void 0);const W=h||(o?Fi(Xm(o)).body:void 0),[ae,{slots:oe,slotProps:ve,...ke}]=sn("root",{ref:n,elementType:Nre,externalForwardedProps:{...z,...E},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:S.backdrop},slotProps:{backdrop:lZ(typeof _.backdrop=="function"?_.backdrop(M):_.backdrop,{invisible:!0})},container:W,open:m},ownerState:M,className:De(v.root,u)}),[ne,ge]=sn("paper",{ref:k,className:v.paper,elementType:T4,externalForwardedProps:z,shouldForwardComponentProp:!0,additionalProps:{elevation:f,style:J?void 0:{opacity:0}},ownerState:M});return I.jsx(ae,{...ke,...!KE(ae)&&{slots:oe,slotProps:ve,disableScrollLock:$},children:I.jsx(q,{...H,timeout:j,children:I.jsx(ne,{...ge,children:c})})})});function $re(t){return ht("MuiMenu",t)}ut("MuiMenu",["root","paper","list"]);const Lre={vertical:"top",horizontal:"right"},Fre={vertical:"top",horizontal:"left"},Bre=t=>{const{classes:e}=t;return ft({root:["root"],paper:["paper"],list:["list"]},$re,e)},jre=we(Dre,{shouldForwardProp:t=>Do(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Vre=we(T4,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Ure=we(Are,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),zre=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:s,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:c,open:u,PaperProps:h={},PopoverClasses:f,transitionDuration:p="auto",TransitionProps:{onEntering:m,...x}={},variant:S="selectedMenu",slots:_={},slotProps:w={},...b}=r,C=j_(),N={...r,autoFocus:i,disableAutoFocusItem:a,MenuListProps:l,onEntering:m,PaperProps:h,transitionDuration:p,TransitionProps:x,variant:S},$=Bre(N),E=i&&!a&&u,k=g.useRef(null),M=(j,z)=>{k.current&&k.current.adjustStyleForScrollbar(j,{direction:C?"rtl":"ltr"}),m&&m(j,z)},v=j=>{j.key==="Tab"&&(j.preventDefault(),c&&c(j,"tabKeyDown"))};let P=-1;g.Children.map(o,(j,z)=>{g.isValidElement(j)&&(j.props.disabled||(S==="selectedMenu"&&j.props.selected||P===-1)&&(P=z))});const D={slots:_,slotProps:{list:l,transition:x,paper:h,...w}},O=zd({elementType:_.root,externalSlotProps:w.root,ownerState:N,className:[$.root,s]}),[J,Q]=sn("paper",{className:$.paper,elementType:Vre,externalForwardedProps:D,shouldForwardComponentProp:!0,ownerState:N}),[Z,ce]=sn("list",{className:De($.list,l.className),elementType:Ure,shouldForwardComponentProp:!0,externalForwardedProps:D,getSlotProps:j=>({...j,onKeyDown:z=>{var q;v(z),(q=j.onKeyDown)==null||q.call(j,z)}}),ownerState:N}),U=typeof D.slotProps.transition=="function"?D.slotProps.transition(N):D.slotProps.transition;return I.jsx(jre,{onClose:c,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?Lre:Fre,slots:{root:_.root,paper:J,backdrop:_.backdrop,..._.transition&&{transition:_.transition}},slotProps:{root:O,paper:Q,backdrop:typeof w.backdrop=="function"?w.backdrop(N):w.backdrop,transition:{...U,onEntering:(...j)=>{var z;M(...j),(z=U==null?void 0:U.onEntering)==null||z.call(U,...j)}}},open:u,ref:n,transitionDuration:p,ownerState:N,...b,classes:f,children:I.jsx(Z,{actions:k,autoFocus:i&&(P===-1||a),autoFocusItem:E,variant:S,...ce,children:o})})});function Wre(t){return ht("MuiMenuItem",t)}const af=ut("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Hre=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Gre=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=t,l=ft({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},Wre,s);return{...s,...l}},Kre=we(Ml,{shouldForwardProp:t=>Do(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Hre})(At(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${af.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Kt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${af.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Kt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${af.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Kt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Kt(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${af.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${af.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${JA.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${JA.inset}`]:{marginLeft:52},[`& .${r2.root}`]:{marginTop:0,marginBottom:0},[`& .${r2.inset}`]:{paddingLeft:36},[`& .${n2.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${n2.root} svg`]:{fontSize:"1.25rem"}}}]}))),el=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:h,className:f,...p}=r,m=g.useContext(QE),x=g.useMemo(()=>({dense:s||m.dense||!1,disableGutters:l}),[m.dense,s,l]),S=g.useRef(null);ko(()=>{i&&S.current&&S.current.focus()},[i]);const _={...r,dense:x.dense,divider:a,disableGutters:l},w=Gre(r),b=Or(S,n);let C;return r.disabled||(C=h!==void 0?h:-1),I.jsx(QE.Provider,{value:x,children:I.jsx(Kre,{ref:b,role:u,tabIndex:C,component:o,focusVisibleClassName:De(w.focusVisible,c),className:De(w.root,f),...p,ownerState:_,classes:w})})});function qre(t){return ht("MuiNativeSelect",t)}const vT=ut("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Yre=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${be(n)}`,o&&"iconOpen",r&&"disabled"]};return ft(a,qre,e)},I4=we("select")(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${vT.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),Xre=we(I4,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Do,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${vT.multiple}`]:e.multiple}]}})({}),R4=we("svg")(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${vT.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),Qre=we(R4,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${be(n.variant)}`],n.open&&e.iconOpen]}})({}),Jre=g.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard",...c}=e,u={...e,disabled:i,variant:l,error:o},h=Yre(u);return I.jsxs(g.Fragment,{children:[I.jsx(Xre,{ownerState:u,className:De(h.select,r),disabled:i,ref:a||n,...c}),e.multiple?null:I.jsx(Qre,{as:s,ownerState:u,className:h.icon})]})});var l2;const Zre=we("fieldset",{shouldForwardProp:Do})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),eie=we("legend",{shouldForwardProp:Do})(At(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function tie(t){const{children:e,classes:n,className:r,label:i,notched:o,...s}=t,a=i!=null&&i!=="",l={...t,notched:o,withLabel:a};return I.jsx(Zre,{"aria-hidden":!0,className:r,ownerState:l,...s,children:I.jsx(eie,{ownerState:l,children:a?I.jsx("span",{children:i}):l2||(l2=I.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const nie=t=>{const{classes:e}=t,r=ft({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Dte,e);return{...e,...r}},rie=we(H_,{shouldForwardProp:t=>Do(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:z_})(At(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${go.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${go.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${go.focused} .${go.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(ki()).map(([n])=>({props:{color:n},style:{[`&.${go.focused} .${go.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${go.error} .${go.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${go.disabled} .${go.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),iie=we(tie,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(At(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),oie=we(G_,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:W_})(At(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),_T=g.forwardRef(function(e,n){var r;const i=vt({props:e,name:"MuiOutlinedInput"}),{components:o={},fullWidth:s=!1,inputComponent:a="input",label:l,multiline:c=!1,notched:u,slots:h={},type:f="text",...p}=i,m=nie(i),x=mh(),S=gh({props:i,muiFormControl:x,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),_={...i,color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:x,fullWidth:s,hiddenLabel:S.hiddenLabel,multiline:c,size:S.size,type:f},w=h.root??o.Root??rie,b=h.input??o.Input??oie;return I.jsx(fT,{slots:{root:w,input:b},renderSuffix:C=>I.jsx(iie,{ownerState:_,className:m.notchedOutline,label:l!=null&&l!==""&&S.required?r||(r=I.jsxs(g.Fragment,{children:[l," ","*"]})):l,notched:typeof u<"u"?u:!!(C.startAdornment||C.filled||C.focused)}),fullWidth:s,inputComponent:a,multiline:c,ref:n,type:f,...p,classes:{...m,notchedOutline:null}})});_T.muiName="Input";function k4(t){return ht("MuiSelect",t)}const lf=ut("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var c2;const sie=we(I4,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${lf.select}`]:e.select},{[`&.${lf.select}`]:e[n.variant]},{[`&.${lf.error}`]:e.error},{[`&.${lf.multiple}`]:e.multiple}]}})({[`&.${lf.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),aie=we(R4,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${be(n.variant)}`],n.open&&e.iconOpen]}})({}),lie=we("input",{shouldForwardProp:t=>i4(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function u2(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function cie(t){return t==null||typeof t=="string"&&!t.trim()}const uie=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${be(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return ft(a,k4,e)},die=g.forwardRef(function(e,n){var Ui;const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:s,children:a,className:l,defaultOpen:c,defaultValue:u,disabled:h,displayEmpty:f,error:p=!1,IconComponent:m,inputRef:x,labelId:S,MenuProps:_={},multiple:w,name:b,onBlur:C,onChange:N,onClose:$,onFocus:E,onOpen:k,open:M,readOnly:v,renderValue:P,required:D,SelectDisplayProps:O={},tabIndex:J,type:Q,value:Z,variant:ce="standard",...U}=e,[j,z]=Jf({controlled:Z,default:u,name:"Select"}),[q,H]=Jf({controlled:M,default:c,name:"Select"}),W=g.useRef(null),ae=g.useRef(null),[oe,ve]=g.useState(null),{current:ke}=g.useRef(M!=null),[ne,ge]=g.useState(),ee=Or(n,x),ue=g.useCallback(Le=>{ae.current=Le,Le&&ve(Le)},[]),Ae=oe==null?void 0:oe.parentNode;g.useImperativeHandle(ee,()=>({focus:()=>{ae.current.focus()},node:W.current,value:j}),[j]),g.useEffect(()=>{c&&q&&oe&&!ke&&(ge(s?null:Ae.clientWidth),ae.current.focus())},[oe,s]),g.useEffect(()=>{o&&ae.current.focus()},[o]),g.useEffect(()=>{if(!S)return;const Le=Fi(ae.current).getElementById(S);if(Le){const wt=()=>{getSelection().isCollapsed&&ae.current.focus()};return Le.addEventListener("click",wt),()=>{Le.removeEventListener("click",wt)}}},[S]);const We=(Le,wt)=>{Le?k&&k(wt):$&&$(wt),ke||(ge(s?null:Ae.clientWidth),H(Le))},fe=Le=>{Le.button===0&&(Le.preventDefault(),ae.current.focus(),We(!0,Le))},Ee=Le=>{We(!1,Le)},Ut=g.Children.toArray(a),Se=Le=>{const wt=Ut.find(gn=>gn.props.value===Le.target.value);wt!==void 0&&(z(wt.props.value),N&&N(Le,wt))},Mt=Le=>wt=>{let gn;if(wt.currentTarget.hasAttribute("tabindex")){if(w){gn=Array.isArray(j)?j.slice():[];const er=j.indexOf(Le.props.value);er===-1?gn.push(Le.props.value):gn.splice(er,1)}else gn=Le.props.value;if(Le.props.onClick&&Le.props.onClick(wt),j!==gn&&(z(gn),N)){const er=wt.nativeEvent||wt,tr=new er.constructor(er.type,er);Object.defineProperty(tr,"target",{writable:!0,value:{value:gn,name:b}}),N(tr,Le)}w||We(!1,wt)}},Ye=Le=>{v||[" ","ArrowUp","ArrowDown","Enter"].includes(Le.key)&&(Le.preventDefault(),We(!0,Le))},_t=oe!==null&&q,nt=Le=>{!_t&&C&&(Object.defineProperty(Le,"target",{writable:!0,value:{value:j,name:b}}),C(Le))};delete U["aria-invalid"];let $e,tn;const bt=[];let at=!1;(Uv({value:j})||f)&&(P?$e=P(j):at=!0);const It=Ut.map(Le=>{if(!g.isValidElement(Le))return null;let wt;if(w){if(!Array.isArray(j))throw new Error(wa(2));wt=j.some(gn=>u2(gn,Le.props.value)),wt&&at&&bt.push(Le.props.children)}else wt=u2(j,Le.props.value),wt&&at&&(tn=Le.props.children);return g.cloneElement(Le,{"aria-selected":wt?"true":"false",onClick:Mt(Le),onKeyUp:gn=>{gn.key===" "&&gn.preventDefault(),Le.props.onKeyUp&&Le.props.onKeyUp(gn)},role:"option",selected:wt,value:void 0,"data-value":Le.props.value})});at&&(w?bt.length===0?$e=null:$e=bt.reduce((Le,wt,gn)=>(Le.push(wt),gn<bt.length-1&&Le.push(", "),Le),[]):$e=tn);let Bt=ne;!s&&ke&&oe&&(Bt=Ae.clientWidth);let pn;typeof J<"u"?pn=J:pn=h?null:0;const jt=O.id||(b?`mui-component-select-${b}`:void 0),Ct={...e,variant:ce,value:j,open:_t,error:p},Qe=uie(Ct),On={..._.PaperProps,...(Ui=_.slotProps)==null?void 0:Ui.paper},ur=hh();return I.jsxs(g.Fragment,{children:[I.jsx(sie,{as:"div",ref:ue,tabIndex:pn,role:"combobox","aria-controls":_t?ur:void 0,"aria-disabled":h?"true":void 0,"aria-expanded":_t?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[S,jt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":D?"true":void 0,"aria-invalid":p?"true":void 0,onKeyDown:Ye,onMouseDown:h||v?null:fe,onBlur:nt,onFocus:E,...O,ownerState:Ct,className:De(O.className,Qe.select,l),id:jt,children:cie($e)?c2||(c2=I.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):$e}),I.jsx(lie,{"aria-invalid":p,value:Array.isArray(j)?j.join(","):j,name:b,ref:W,"aria-hidden":!0,onChange:Se,tabIndex:-1,disabled:h,className:Qe.nativeInput,autoFocus:o,required:D,...U,ownerState:Ct}),I.jsx(aie,{as:m,className:Qe.icon,ownerState:Ct}),I.jsx(zre,{id:`menu-${b||""}`,anchorEl:Ae,open:_t,onClose:Ee,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},..._,slotProps:{..._.slotProps,list:{"aria-labelledby":S,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:ur,..._.MenuListProps},paper:{...On,style:{minWidth:Bt,...On!=null?On.style:null}}},children:It})]})}),hie=t=>{const{classes:e}=t,r=ft({root:["root"]},k4,e);return{...e,...r}},bT={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Do(t)&&t!=="variant",slot:"Root"},fie=we(mT,bT)(""),pie=we(_T,bT)(""),gie=we(pT,bT)(""),K_=g.forwardRef(function(e,n){const r=vt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=b4,id:h,input:f,inputProps:p,label:m,labelId:x,MenuProps:S,multiple:_=!1,native:w=!1,onClose:b,onOpen:C,open:N,renderValue:$,SelectDisplayProps:E,variant:k="outlined",...M}=r,v=w?Jre:die,P=mh(),D=gh({props:r,muiFormControl:P,states:["variant","error"]}),O=D.variant||k,J={...r,variant:O,classes:s},Q=hie(J),{root:Z,...ce}=Q,U=f||{standard:I.jsx(fie,{ownerState:J}),outlined:I.jsx(pie,{label:m,ownerState:J}),filled:I.jsx(gie,{ownerState:J})}[O],j=Or(n,Ag(U));return I.jsx(g.Fragment,{children:g.cloneElement(U,{inputComponent:v,inputProps:{children:o,error:D.error,IconComponent:u,variant:O,type:void 0,multiple:_,...w?{id:h}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:x,MenuProps:S,onClose:b,onOpen:C,open:N,renderValue:$,SelectDisplayProps:{id:h,...E}},...p,classes:p?Mr(ce,p.classes):ce,...f?f.props.inputProps:{}},...(_&&w||c)&&O==="outlined"?{notched:!0}:{},ref:j,className:De(U.props.className,a,Q.root),...!f&&{variant:O},...M})})});K_.muiName="Select";const mie=SJ({createStyledComponent:we("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>vt({props:t,name:"MuiStack"})});function yie(t){return ht("MuiTab",t)}const po=ut("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),vie=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:i,icon:o,label:s,selected:a,disabled:l}=t,c={root:["root",o&&s&&"labelIcon",`textColor${be(n)}`,r&&"fullWidth",i&&"wrapped",a&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]};return ft(c,yie,e)},_ie=we(Ml,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${be(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped,{[`& .${po.iconWrapper}`]:e.iconWrapper},{[`& .${po.icon}`]:e.icon}]}})(At(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="top",style:{[`& > .${po.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="bottom",style:{[`& > .${po.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="start",style:{[`& > .${po.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="end",style:{[`& > .${po.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${po.selected}`]:{opacity:1},[`&.${po.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${po.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${po.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${po.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${po.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),d2=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:s=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:u,label:h,onChange:f,onClick:p,onFocus:m,selected:x,selectionFollowsFocus:S,textColor:_="inherit",value:w,wrapped:b=!1,...C}=r,N={...r,disabled:o,disableFocusRipple:s,selected:x,icon:!!l,iconPosition:c,label:!!h,fullWidth:a,textColor:_,wrapped:b},$=vie(N),E=l&&h&&g.isValidElement(l)?g.cloneElement(l,{className:De($.icon,l.props.className)}):l,k=v=>{!x&&f&&f(v,w),p&&p(v)},M=v=>{S&&!x&&f&&f(v,w),m&&m(v)};return I.jsxs(_ie,{focusRipple:!s,className:De($.root,i),ref:n,role:"tab","aria-selected":x,disabled:o,onClick:k,onFocus:M,ownerState:N,tabIndex:x?0:-1,...C,children:[c==="top"||c==="start"?I.jsxs(g.Fragment,{children:[E,h]}):I.jsxs(g.Fragment,{children:[h,E]}),u]})}),bie=Zn(I.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),wie=Zn(I.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function xie(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function Eie(t,e,n,r={},i=()=>{}){const{ease:o=xie,duration:s=300}=r;let a=null;const l=e[t];let c=!1;const u=()=>{c=!0},h=f=>{if(c){i(new Error("Animation cancelled"));return}a===null&&(a=f);const p=Math.min(1,(f-a)/s);if(e[t]=o(p)*(n-l)+l,p>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(h)};return l===n?(i(new Error("Element already at target position")),u):(requestAnimationFrame(h),u)}const Sie={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Cie(t){const{onChange:e,...n}=t,r=g.useRef(),i=g.useRef(null),o=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return ko(()=>{const s=B_(()=>{const l=r.current;o(),l!==r.current&&e(r.current)}),a=is(i.current);return a.addEventListener("resize",s),()=>{s.clear(),a.removeEventListener("resize",s)}},[e]),g.useEffect(()=>{o(),e(r.current)},[e]),I.jsx("div",{style:Sie,...n,ref:i})}function Tie(t){return ht("MuiTabScrollButton",t)}const Iie=ut("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Rie=t=>{const{classes:e,orientation:n,disabled:r}=t;return ft({root:["root",n,r&&"disabled"]},Tie,e)},kie=we(Ml,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${Iie.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),Pie=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiTabScrollButton"}),{className:i,slots:o={},slotProps:s={},direction:a,orientation:l,disabled:c,...u}=r,h=j_(),f={isRtl:h,...r},p=Rie(f),m=o.StartScrollButtonIcon??bie,x=o.EndScrollButtonIcon??wie,S=zd({elementType:m,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f}),_=zd({elementType:x,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f});return I.jsx(kie,{component:"div",className:De(p.root,i),ref:n,role:null,ownerState:f,tabIndex:null,...u,style:{...u.style,...l==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${h?-90:90}deg)`}},children:a==="left"?I.jsx(m,{...S}):I.jsx(x,{..._})})});function Aie(t){return ht("MuiTabs",t)}const Pw=ut("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),h2=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,f2=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,Qm=(t,e,n)=>{let r=!1,i=n(t,e);for(;i;){if(i===t.firstChild){if(r)return;r=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=n(t,i);else{i.focus();return}}},Mie=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:s,scrollButtonsHideMobile:a,classes:l}=t;return ft({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},Aie,l)},Oie=we("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Pw.scrollButtons}`]:e.scrollButtons},{[`& .${Pw.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(At(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${Pw.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),Nie=we("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),Die=we("div",{name:"MuiTabs",slot:"List",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.list,e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),$ie=we("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(At(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),Lie=we(Cie)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),p2={},Fie=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiTabs"}),i=Qc(),o=j_(),{"aria-label":s,"aria-labelledby":a,action:l,centered:c=!1,children:u,className:h,component:f="div",allowScrollButtonsMobile:p=!1,indicatorColor:m="primary",onChange:x,orientation:S="horizontal",ScrollButtonComponent:_,scrollButtons:w="auto",selectionFollowsFocus:b,slots:C={},slotProps:N={},TabIndicatorProps:$={},TabScrollButtonProps:E={},textColor:k="primary",value:M,variant:v="standard",visibleScrollbar:P=!1,...D}=r,O=v==="scrollable",J=S==="vertical",Q=J?"scrollTop":"scrollLeft",Z=J?"top":"left",ce=J?"bottom":"right",U=J?"clientHeight":"clientWidth",j=J?"height":"width",z={...r,component:f,allowScrollButtonsMobile:p,indicatorColor:m,orientation:S,vertical:J,scrollButtons:w,textColor:k,variant:v,visibleScrollbar:P,fixed:!O,hideScrollbar:O&&!P,scrollableX:O&&!J,scrollableY:O&&J,centered:c&&!O,scrollButtonsHideMobile:!p},q=Mie(z),H=zd({elementType:C.StartScrollButtonIcon,externalSlotProps:N.startScrollButtonIcon,ownerState:z}),W=zd({elementType:C.EndScrollButtonIcon,externalSlotProps:N.endScrollButtonIcon,ownerState:z}),[ae,oe]=g.useState(!1),[ve,ke]=g.useState(p2),[ne,ge]=g.useState(!1),[ee,ue]=g.useState(!1),[Ae,We]=g.useState(!1),[fe,Ee]=g.useState({overflow:"hidden",scrollbarWidth:0}),Ut=new Map,Se=g.useRef(null),Mt=g.useRef(null),Ye={slots:C,slotProps:{indicator:$,scrollButton:E,...N}},_t=()=>{const Oe=Se.current;let Ie;if(Oe){const tt=Oe.getBoundingClientRect();Ie={clientWidth:Oe.clientWidth,scrollLeft:Oe.scrollLeft,scrollTop:Oe.scrollTop,scrollWidth:Oe.scrollWidth,top:tt.top,bottom:tt.bottom,left:tt.left,right:tt.right}}let pt;if(Oe&&M!==!1){const tt=Mt.current.children;if(tt.length>0){const zt=tt[Ut.get(M)];pt=zt?zt.getBoundingClientRect():null}}return{tabsMeta:Ie,tabMeta:pt}},nt=Ri(()=>{const{tabsMeta:Oe,tabMeta:Ie}=_t();let pt=0,tt;J?(tt="top",Ie&&Oe&&(pt=Ie.top-Oe.top+Oe.scrollTop)):(tt=o?"right":"left",Ie&&Oe&&(pt=(o?-1:1)*(Ie[tt]-Oe[tt]+Oe.scrollLeft)));const zt={[tt]:pt,[j]:Ie?Ie[j]:0};if(typeof ve[tt]!="number"||typeof ve[j]!="number")ke(zt);else{const hr=Math.abs(ve[tt]-zt[tt]),Kn=Math.abs(ve[j]-zt[j]);(hr>=1||Kn>=1)&&ke(zt)}}),$e=(Oe,{animation:Ie=!0}={})=>{Ie?Eie(Q,Se.current,Oe,{duration:i.transitions.duration.standard}):Se.current[Q]=Oe},tn=Oe=>{let Ie=Se.current[Q];J?Ie+=Oe:Ie+=Oe*(o?-1:1),$e(Ie)},bt=()=>{const Oe=Se.current[U];let Ie=0;const pt=Array.from(Mt.current.children);for(let tt=0;tt<pt.length;tt+=1){const zt=pt[tt];if(Ie+zt[U]>Oe){tt===0&&(Ie=Oe);break}Ie+=zt[U]}return Ie},at=()=>{tn(-1*bt())},It=()=>{tn(bt())},[Bt,{onChange:pn,...jt}]=sn("scrollbar",{className:De(q.scrollableX,q.hideScrollbar),elementType:Lie,shouldForwardComponentProp:!0,externalForwardedProps:Ye,ownerState:z}),Ct=g.useCallback(Oe=>{pn==null||pn(Oe),Ee({overflow:null,scrollbarWidth:Oe})},[pn]),[Qe,On]=sn("scrollButtons",{className:De(q.scrollButtons,E.className),elementType:Pie,externalForwardedProps:Ye,ownerState:z,additionalProps:{orientation:S,slots:{StartScrollButtonIcon:C.startScrollButtonIcon||C.StartScrollButtonIcon,EndScrollButtonIcon:C.endScrollButtonIcon||C.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:H,endScrollButtonIcon:W}}}),ur=()=>{const Oe={};Oe.scrollbarSizeListener=O?I.jsx(Bt,{...jt,onChange:Ct}):null;const pt=O&&(w==="auto"&&(ne||ee)||w===!0);return Oe.scrollButtonStart=pt?I.jsx(Qe,{direction:o?"right":"left",onClick:at,disabled:!ne,...On}):null,Oe.scrollButtonEnd=pt?I.jsx(Qe,{direction:o?"left":"right",onClick:It,disabled:!ee,...On}):null,Oe},Ui=Ri(Oe=>{const{tabsMeta:Ie,tabMeta:pt}=_t();if(!(!pt||!Ie)){if(pt[Z]<Ie[Z]){const tt=Ie[Q]+(pt[Z]-Ie[Z]);$e(tt,{animation:Oe})}else if(pt[ce]>Ie[ce]){const tt=Ie[Q]+(pt[ce]-Ie[ce]);$e(tt,{animation:Oe})}}}),Le=Ri(()=>{O&&w!==!1&&We(!Ae)});g.useEffect(()=>{const Oe=B_(()=>{Se.current&&nt()});let Ie;const pt=hr=>{hr.forEach(Kn=>{Kn.removedNodes.forEach(fr=>{Ie==null||Ie.unobserve(fr)}),Kn.addedNodes.forEach(fr=>{Ie==null||Ie.observe(fr)})}),Oe(),Le()},tt=is(Se.current);tt.addEventListener("resize",Oe);let zt;return typeof ResizeObserver<"u"&&(Ie=new ResizeObserver(Oe),Array.from(Mt.current.children).forEach(hr=>{Ie.observe(hr)})),typeof MutationObserver<"u"&&(zt=new MutationObserver(pt),zt.observe(Mt.current,{childList:!0})),()=>{Oe.clear(),tt.removeEventListener("resize",Oe),zt==null||zt.disconnect(),Ie==null||Ie.disconnect()}},[nt,Le]),g.useEffect(()=>{const Oe=Array.from(Mt.current.children),Ie=Oe.length;if(typeof IntersectionObserver<"u"&&Ie>0&&O&&w!==!1){const pt=Oe[0],tt=Oe[Ie-1],zt={root:Se.current,threshold:.99},hr=Xe=>{ge(!Xe[0].isIntersecting)},Kn=new IntersectionObserver(hr,zt);Kn.observe(pt);const fr=Xe=>{ue(!Xe[0].isIntersecting)},yi=new IntersectionObserver(fr,zt);return yi.observe(tt),()=>{Kn.disconnect(),yi.disconnect()}}},[O,w,Ae,u==null?void 0:u.length]),g.useEffect(()=>{oe(!0)},[]),g.useEffect(()=>{nt()}),g.useEffect(()=>{Ui(p2!==ve)},[Ui,ve]),g.useImperativeHandle(l,()=>({updateIndicator:nt,updateScrollButtons:Le}),[nt,Le]);const[wt,gn]=sn("indicator",{className:De(q.indicator,$.className),elementType:$ie,externalForwardedProps:Ye,ownerState:z,additionalProps:{style:ve}}),er=I.jsx(wt,{...gn});let tr=0;const dr=g.Children.map(u,Oe=>{if(!g.isValidElement(Oe))return null;const Ie=Oe.props.value===void 0?tr:Oe.props.value;Ut.set(Ie,tr);const pt=Ie===M;return tr+=1,g.cloneElement(Oe,{fullWidth:v==="fullWidth",indicator:pt&&!ae&&er,selected:pt,selectionFollowsFocus:b,onChange:x,textColor:k,value:Ie,...tr===1&&M===!1&&!Oe.props.tabIndex?{tabIndex:0}:{}})}),Gn=Oe=>{if(Oe.altKey||Oe.shiftKey||Oe.ctrlKey||Oe.metaKey)return;const Ie=Mt.current,pt=Fi(Ie).activeElement;if(pt.getAttribute("role")!=="tab")return;let zt=S==="horizontal"?"ArrowLeft":"ArrowUp",hr=S==="horizontal"?"ArrowRight":"ArrowDown";switch(S==="horizontal"&&o&&(zt="ArrowRight",hr="ArrowLeft"),Oe.key){case zt:Oe.preventDefault(),Qm(Ie,pt,f2);break;case hr:Oe.preventDefault(),Qm(Ie,pt,h2);break;case"Home":Oe.preventDefault(),Qm(Ie,null,h2);break;case"End":Oe.preventDefault(),Qm(Ie,null,f2);break}},nr=ur(),[xr,Nn]=sn("root",{ref:n,className:De(q.root,h),elementType:Oie,externalForwardedProps:{...Ye,...D,component:f},ownerState:z}),[rr,Er]=sn("scroller",{ref:Se,className:q.scroller,elementType:Nie,externalForwardedProps:Ye,ownerState:z,additionalProps:{style:{overflow:fe.overflow,[J?`margin${o?"Left":"Right"}`:"marginBottom"]:P?void 0:-fe.scrollbarWidth}}}),[ni,mi]=sn("list",{ref:Mt,className:De(q.list,q.flexContainer),elementType:Die,externalForwardedProps:Ye,ownerState:z,getSlotProps:Oe=>({...Oe,onKeyDown:Ie=>{var pt;Gn(Ie),(pt=Oe.onKeyDown)==null||pt.call(Oe,Ie)}})});return I.jsxs(xr,{...Nn,children:[nr.scrollButtonStart,nr.scrollbarSizeListener,I.jsxs(rr,{...Er,children:[I.jsx(ni,{"aria-label":s,"aria-labelledby":a,"aria-orientation":S==="vertical"?"vertical":null,role:"tablist",...mi,children:dr}),ae&&er]}),nr.scrollButtonEnd]})});function Bie(t){return ht("MuiTextField",t)}ut("MuiTextField",["root"]);const jie={standard:mT,filled:pT,outlined:_T},Vie=t=>{const{classes:e}=t;return ft({root:["root"]},Bie,e)},Uie=we(gT,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),_l=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:h=!1,FormHelperTextProps:f,fullWidth:p=!1,helperText:m,id:x,InputLabelProps:S,inputProps:_,InputProps:w,inputRef:b,label:C,maxRows:N,minRows:$,multiline:E=!1,name:k,onBlur:M,onChange:v,onFocus:P,placeholder:D,required:O=!1,rows:J,select:Q=!1,SelectProps:Z,slots:ce={},slotProps:U={},type:j,value:z,variant:q="outlined",...H}=r,W={...r,autoFocus:o,color:l,disabled:u,error:h,fullWidth:p,multiline:E,required:O,select:Q,variant:q},ae=Vie(W),oe=hh(x),ve=m&&oe?`${oe}-helper-text`:void 0,ke=C&&oe?`${oe}-label`:void 0,ne=jie[q],ge={slots:ce,slotProps:{input:w,inputLabel:S,htmlInput:_,formHelperText:f,select:Z,...U}},ee={},ue=ge.slotProps.inputLabel;q==="outlined"&&(ue&&typeof ue.shrink<"u"&&(ee.notched=ue.shrink),ee.label=C),Q&&((!Z||!Z.native)&&(ee.id=void 0),ee["aria-describedby"]=void 0);const[Ae,We]=sn("root",{elementType:Uie,shouldForwardComponentProp:!0,externalForwardedProps:{...ge,...H},ownerState:W,className:De(ae.root,a),ref:n,additionalProps:{disabled:u,error:h,fullWidth:p,required:O,color:l,variant:q}}),[fe,Ee]=sn("input",{elementType:ne,externalForwardedProps:ge,additionalProps:ee,ownerState:W}),[Ut,Se]=sn("inputLabel",{elementType:yT,externalForwardedProps:ge,ownerState:W}),[Mt,Ye]=sn("htmlInput",{elementType:"input",externalForwardedProps:ge,ownerState:W}),[_t,nt]=sn("formHelperText",{elementType:pre,externalForwardedProps:ge,ownerState:W}),[$e,tn]=sn("select",{elementType:K_,externalForwardedProps:ge,ownerState:W}),bt=I.jsx(fe,{"aria-describedby":ve,autoComplete:i,autoFocus:o,defaultValue:c,fullWidth:p,multiline:E,name:k,rows:J,maxRows:N,minRows:$,type:j,value:z,id:oe,inputRef:b,onBlur:M,onChange:v,onFocus:P,placeholder:D,inputProps:Ye,slots:{input:ce.htmlInput?Mt:void 0},...Ee});return I.jsxs(Ae,{...We,children:[C!=null&&C!==""&&I.jsx(Ut,{htmlFor:oe,id:ke,...Se,children:C}),Q?I.jsx($e,{"aria-describedby":ve,id:oe,labelId:ke,value:z,input:bt,...tn,children:s}):bt,m&&I.jsx(_t,{id:ve,...nt,children:m})]})});function zie(t){return ht("MuiToggleButton",t)}const bc=ut("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),P4=g.createContext({}),A4=g.createContext(void 0);function Wie(t,e){return e===void 0||t===void 0?!1:Array.isArray(e)?e.includes(t):t===e}const Hie=t=>{const{classes:e,fullWidth:n,selected:r,disabled:i,size:o,color:s}=t,a={root:["root",r&&"selected",i&&"disabled",n&&"fullWidth",`size${be(o)}`,s]};return ft(a,zie,e)},Gie=we(Ml,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`size${be(n.size)}`]]}})(At(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${bc.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Kt(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${bc.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:Kt(t.palette.text.primary,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Kt(t.palette.text.primary,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:Kt(t.palette.text.primary,t.palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(ki()).map(([e])=>({props:{color:e},style:{[`&.${bc.selected}`]:{color:(t.vars||t).palette[e].main,backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Kt(t.palette[e].main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Kt(t.palette[e].main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Kt(t.palette[e].main,t.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),Js=g.forwardRef(function(e,n){const{value:r,...i}=g.useContext(P4),o=g.useContext(A4),s=Ud({...i,selected:Wie(e.value,r)},e),a=vt({props:s,name:"MuiToggleButton"}),{children:l,className:c,color:u="standard",disabled:h=!1,disableFocusRipple:f=!1,fullWidth:p=!1,onChange:m,onClick:x,selected:S,size:_="medium",value:w,...b}=a,C={...a,color:u,disabled:h,disableFocusRipple:f,fullWidth:p,size:_},N=Hie(C),$=k=>{x&&(x(k,w),k.defaultPrevented)||m&&m(k,w)},E=o||"";return I.jsx(Gie,{className:De(i.className,N.root,c,E),disabled:h,focusRipple:!f,ref:n,onClick:$,onChange:m,value:w,ownerState:C,"aria-pressed":S,...b,children:l})});function Kie(t){return ht("MuiToggleButtonGroup",t)}const xn=ut("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),qie=t=>{const{classes:e,orientation:n,fullWidth:r,disabled:i}=t,o={root:["root",n,r&&"fullWidth"],grouped:["grouped",`grouped${be(n)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return ft(o,Kie,e)},Yie=we("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${xn.grouped}`]:e.grouped},{[`& .${xn.grouped}`]:e[`grouped${be(n.orientation)}`]},{[`& .${xn.firstButton}`]:e.firstButton},{[`& .${xn.lastButton}`]:e.lastButton},{[`& .${xn.middleButton}`]:e.middleButton},e.root,n.orientation==="vertical"&&e.vertical,n.fullWidth&&e.fullWidth]}})(At(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${xn.grouped}`]:{[`&.${xn.selected} + .${xn.grouped}.${xn.selected}`]:{borderTop:0,marginTop:0}},[`& .${xn.firstButton},& .${xn.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${xn.lastButton},& .${xn.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${xn.lastButton}.${bc.disabled},& .${xn.middleButton}.${bc.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${xn.grouped}`]:{[`&.${xn.selected} + .${xn.grouped}.${xn.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${xn.firstButton},& .${xn.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${xn.lastButton},& .${xn.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${xn.lastButton}.${bc.disabled},& .${xn.middleButton}.${bc.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),JE=g.forwardRef(function(e,n){const r=vt({props:e,name:"MuiToggleButtonGroup"}),{children:i,className:o,color:s="standard",disabled:a=!1,exclusive:l=!1,fullWidth:c=!1,onChange:u,orientation:h="horizontal",size:f="medium",value:p,...m}=r,x={...r,disabled:a,fullWidth:c,orientation:h,size:f},S=qie(x),_=g.useCallback((E,k)=>{if(!u)return;const M=p&&p.indexOf(k);let v;p&&M>=0?(v=p.slice(),v.splice(M,1)):v=p?p.concat(k):[k],u(E,v)},[u,p]),w=g.useCallback((E,k)=>{u&&u(E,p===k?null:k)},[u,p]),b=g.useMemo(()=>({className:S.grouped,onChange:l?w:_,value:p,size:f,fullWidth:c,color:s,disabled:a}),[S.grouped,l,w,_,p,f,c,s,a]),C=BQ(i),N=C.length,$=E=>{const k=E===0,M=E===N-1;return k&&M?"":k?S.firstButton:M?S.lastButton:S.middleButton};return I.jsx(Yie,{role:"group",className:De(S.root,o),ref:n,ownerState:x,...m,children:I.jsx(P4.Provider,{value:b,children:C.map((E,k)=>I.jsx(A4.Provider,{value:$(k),children:E},k))})})}),Xie=zF({themeId:Sg}),Qie=()=>{const[t,e]=g.useState(0),[n,r]=g.useState(""),[i,o]=g.useState(""),[s,a]=g.useState(""),l=A0(),c=(f,p)=>{e(p),a("")},u=async f=>{f.preventDefault(),a("");try{t===0?await x8(Tc,n,i):await w8(Tc,n,i),l("/dashboard")}catch(p){a(p.message)}},h=async()=>{const f=new Zs;try{await H8(Tc,f),l("/dashboard")}catch(p){a(p.message)}};return I.jsx(Ene,{maxWidth:"sm",sx:{backgroundColor:"#121212",minHeight:"100vh",width:"100%",display:"flex",alignItems:"center"},children:I.jsxs(zv,{sx:{mt:8,p:4,backgroundColor:"#424242",borderRadius:2,boxShadow:3,color:"#fff"},children:[I.jsxs(Fie,{value:t,onChange:c,variant:"fullWidth",textColor:"inherit",indicatorColor:"primary",children:[I.jsx(d2,{label:"Login"}),I.jsx(d2,{label:"Signup"})]}),I.jsxs("form",{onSubmit:u,children:[I.jsx(_l,{margin:"normal",fullWidth:!0,label:"Email",type:"email",value:n,onChange:f=>r(f.target.value),required:!0,variant:"filled",InputLabelProps:{style:{color:"#fff"}},InputProps:{style:{backgroundColor:"#333",color:"#fff"}}}),I.jsx(_l,{margin:"normal",fullWidth:!0,label:"Password",type:"password",value:i,onChange:f=>o(f.target.value),required:!0,variant:"filled",InputLabelProps:{style:{color:"#fff"}},InputProps:{style:{backgroundColor:"#333",color:"#fff"}}}),s&&I.jsx(on,{color:"error",variant:"body2",children:s}),I.jsx(en,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:2,backgroundColor:"#1976d2"},children:t===0?"Login":"Signup"})]}),I.jsxs(zv,{textAlign:"center",sx:{mt:2},children:[I.jsx(on,{variant:"body1",children:"or"}),I.jsx(en,{variant:"outlined",onClick:h,sx:{mt:1,color:"#fff",borderColor:"#fff"},children:"Sign in with Google"})]})]})})},Jie=Zn(I.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),Zie=Zn(I.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),eoe=Zn(I.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"})),toe={blank:[],brainstorm:[{text:"Idea 1",x:150,y:150},{text:"Idea 2",x:300,y:150},{text:"Idea 3",x:150,y:300}],project:[{text:"Goal",x:150,y:100},{text:"Task 1",x:100,y:200},{text:"Task 2",x:200,y:200}]},noe=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(null),[i,o]=g.useState(!1),[s,a]=g.useState(!1),[l,c]=g.useState(!1),[u,h]=g.useState(""),[f,p]=g.useState("blank"),[m,x]=g.useState(!1),[S,_]=g.useState(null),[w,b]=g.useState(""),C=A0(),N=g.useRef(null),$=Qc(),E=Xie($.breakpoints.down("sm"));g.useEffect(()=>{const j=Tc.onAuthStateChanged(z=>{if(!z){C("/");return}const q=Yr(lt(me,"mindMaps"),Gi("userId","==",z.uid)),H=Yr(lt(me,"mindMaps"),Gi("collaborators","array-contains",z.email)),W=Yf(q,oe=>{const ve=oe.docs.map(ke=>({id:ke.id,...ke.data()}));e(ke=>[...ve,...ke.filter(ge=>ge.userId!==z.uid)])}),ae=Yf(H,oe=>{const ve=oe.docs.map(ke=>({id:ke.id,...ke.data()}));e(ke=>[...ke,...ve].filter((ee,ue,Ae)=>ue===Ae.findIndex(We=>We.id===ee.id)))});return()=>{W(),ae()}});return()=>j()},[C]);const k=()=>{c(!0)},M=async()=>{const j=Tc.currentUser;if(j)try{const z=await Yn(lt(me,"mindMaps"),{title:u||"Untitled Mind Map",userId:j.uid,createdAt:Ei()}),q=toe[f];for(const H of q)await Yn(lt(me,"mindMaps",z.id,"nodes"),H);c(!1),h(""),p("blank"),C(`/editor/${z.id}`)}catch(z){console.error("Error creating mind map:",z)}},v=j=>{r(j),o(!0)},P=()=>{o(!1),a(!0)},D=async()=>{try{const j=await Ki(lt(me,"mindMaps",n,"nodes")),z=gr(me);j.forEach(W=>{z.delete(W.ref)}),await z.commit();const q=await Ki(lt(me,"mindMaps",n,"links")),H=gr(me);q.forEach(W=>{H.delete(W.ref)}),await H.commit(),await SE(Rt(me,"mindMaps",n)),a(!1),r(null)}catch(j){console.error("Error deleting mind map:",j)}},O=()=>{o(!1),a(!1),r(null)},J=j=>{_(j),x(!0)},Q=async()=>{if(!(!w.trim()||!S))try{const j=Rt(me,"mindMaps",S);await mo(j,{collaborators:HK(w.trim())}),b(""),x(!1),_(null)}catch(j){console.error("Error sharing mind map:",j)}},Z=j=>{C(`/editor/${j}`)},ce=()=>{N.current&&N.current.click()},U=async j=>{const z=j.target.files[0];if(z)try{const q=await z.text(),H=JSON.parse(q);if(!H.nodes||!H.links)throw new Error("Invalid file format");const W=Tc.currentUser,ae=await Yn(lt(me,"mindMaps"),{title:z.name,userId:W.uid,createdAt:Ei()}),oe={},ve=gr(me);H.nodes.forEach(ne=>{const ge=ne.id,ee=Rt(lt(me,"mindMaps",ae.id,"nodes")),ue={...ne,id:ee.id};ve.set(ee,ue),oe[ge]=ee.id}),await ve.commit();const ke=gr(me);H.links.forEach(ne=>{const ge=oe[ne.source],ee=oe[ne.target];if(!ge||!ee){console.error("Skipping link: missing mapping for source or target");return}const{id:ue,...Ae}=ne,We=Rt(lt(me,"mindMaps",ae.id,"links"));ke.set(We,{...Ae,source:ge,target:ee})}),await ke.commit(),C(`/editor/${ae.id}`)}catch(q){console.error("Error importing mind map:",q)}};return I.jsxs(zv,{sx:{p:E?1:3,background:"radial-gradient(circle at center, #1D2022 0%, #0f1011 100%)",minHeight:"100vh",color:"#fff",border:E?"none":"5px solid #262626",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[I.jsxs(zv,{sx:{mb:E?1:3,display:"flex",flexDirection:E?"column":"row",alignItems:E?"stretch":"center",width:E?"100%":"auto"},children:[I.jsx(en,{variant:"contained",startIcon:I.jsx(Zie,{}),onClick:k,sx:{mr:E?0:2,mb:E?1:0,width:E?"100%":"auto",background:"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)"},children:"New Mind Map"}),I.jsx(en,{variant:"contained",onClick:ce,sx:{mr:E?0:1,mb:E?1:0,width:E?"100%":"auto",background:"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)"},children:"Import Mind Map"})]}),I.jsx(t2,{container:!0,spacing:E?1:2,sx:{mt:E?1:2,mb:E?1:3,width:"100%"},justifyContent:E?"center":"flex-start",children:t.map(j=>I.jsx(t2,{item:!0,xs:12,sm:6,md:4,lg:3,sx:{display:"flex",justifyContent:E?"center":"flex-start"},children:I.jsxs(pne,{sx:{background:"linear-gradient(135deg, #23272f 60%, #23272f 100%)",color:"#fff",p:E?1:2,borderRadius:"14px",border:"none",boxShadow:E?"0 1px 4px 1px rgba(0,0,0,0.3)":"0 2px 8px 2px rgba(0,0,0,0.5)",transition:"transform 0.3s, box-shadow 0.2s, border 0.3s",height:E?"auto":"120px",width:E?"100%":"260px",maxWidth:"100%",minWidth:E?"0":"200px",display:"flex",flexDirection:"column",justifyContent:"space-between","&:hover":{border:"2px solid #007bff",transform:E?"none":"translateY(-4px) scale(1.02)",boxShadow:E?"0 2px 8px 2px rgba(0,0,0,0.4)":"0 4px 16px 4px rgba(0,0,0,0.7)"}},children:[I.jsx(xne,{onClick:()=>Z(j.id),sx:{cursor:"pointer",p:E?1:2,pb:"8px !important",textAlign:E?"center":"left",display:"flex",alignItems:"flex-start",minHeight:E?"auto":"50px"},children:I.jsx(on,{variant:"h6",sx:{fontWeight:900,fontSize:E?"1.1rem":"1.2rem",wordBreak:"break-word",letterSpacing:"-0.5px",lineHeight:1.2,textShadow:"0 2px 8px #000a"},children:j.title})}),I.jsxs(vne,{sx:{border:"0px solid white",color:"#fff",borderRadius:"10%",justifyContent:E?"center":"flex-end",p:E?.5:1,pt:0,gap:E?1:2},children:[I.jsx(jv,{onClick:()=>J(j.id),color:"primary",size:E?"small":"medium",sx:{mx:.5},children:I.jsx(eoe,{fontSize:E?"small":"medium"})}),I.jsx(jv,{onClick:()=>v(j.id),color:"error",size:E?"small":"medium",sx:{mx:.5},children:I.jsx(Jie,{fontSize:E?"small":"medium"})})]})]})},j.id))}),I.jsx("input",{type:"file",accept:"application/json",ref:N,style:{display:"none"},onChange:U}),I.jsxs(Gm,{open:l,onClose:()=>c(!1),fullWidth:!0,maxWidth:E?"xs":"sm",PaperProps:{sx:{backgroundColor:"#424242",color:"#fff",borderRadius:E?2:3,p:E?1:2}},children:[I.jsx(Ym,{sx:{fontSize:E?"1.1rem":"1.3rem"},children:"Create New Mind Map"}),I.jsxs(qm,{children:[I.jsx(_l,{autoFocus:!0,margin:"dense",label:"Mind Map Name",type:"text",fullWidth:!0,value:u,onChange:j=>h(j.target.value),variant:"filled",InputLabelProps:{style:{color:"#fff"}},sx:{backgroundColor:"#555",fontSize:E?"1rem":"1.1rem"}}),I.jsxs(gT,{fullWidth:!0,margin:"dense",variant:"filled",children:[I.jsx(yT,{id:"template-select-label",sx:{color:"#fff"},children:"Template"}),I.jsxs(K_,{labelId:"template-select-label",value:f,label:"Template",onChange:j=>p(j.target.value),sx:{backgroundColor:"#555",color:"#fff"},children:[I.jsx(el,{value:"blank",children:"Blank"}),I.jsx(el,{value:"brainstorm",children:"Brainstorm"}),I.jsx(el,{value:"project",children:"Project"})]})]})]}),I.jsxs(Km,{sx:{flexDirection:E?"column":"row",gap:E?1:0},children:[I.jsx(en,{onClick:()=>c(!1),sx:{color:"#fff",width:E?"100%":"auto"},children:"Cancel"}),I.jsx(en,{onClick:M,variant:"contained",sx:{width:E?"100%":"auto"},children:"Create"})]})]}),I.jsxs(Gm,{open:i,onClose:O,fullWidth:!0,maxWidth:E?"xs":"sm",PaperProps:{sx:{backgroundColor:"#424242",color:"#fff",borderRadius:E?2:3,p:E?1:2}},children:[I.jsx(Ym,{sx:{fontSize:E?"1.1rem":"1.3rem"},children:"Confirm Delete"}),I.jsx(qm,{children:I.jsx(on,{sx:{fontSize:E?"1rem":"1.1rem"},children:"Are you sure you want to delete this mind map?"})}),I.jsxs(Km,{sx:{flexDirection:E?"column":"row",gap:E?1:0},children:[I.jsx(en,{onClick:O,sx:{color:"#fff",width:E?"100%":"auto"},children:"Cancel"}),I.jsx(en,{onClick:P,color:"primary",sx:{width:E?"100%":"auto"},children:"Yes"})]})]}),I.jsxs(Gm,{open:s,onClose:O,fullWidth:!0,maxWidth:E?"xs":"sm",PaperProps:{sx:{backgroundColor:"#424242",color:"#fff",borderRadius:E?2:3,p:E?1:2}},children:[I.jsx(Ym,{sx:{fontSize:E?"1.1rem":"1.3rem"},children:"Confirm Delete Again"}),I.jsx(qm,{children:I.jsx(on,{sx:{fontSize:E?"1rem":"1.1rem"},children:"This action cannot be undone. Are you really sure?"})}),I.jsxs(Km,{sx:{flexDirection:E?"column":"row",gap:E?1:0},children:[I.jsx(en,{onClick:O,sx:{color:"#fff",width:E?"100%":"auto"},children:"Cancel"}),I.jsx(en,{onClick:D,color:"error",sx:{width:E?"100%":"auto"},children:"Delete"})]})]}),I.jsxs(Gm,{open:m,onClose:()=>x(!1),fullWidth:!0,maxWidth:E?"xs":"sm",PaperProps:{sx:{backgroundColor:"#424242",color:"#fff",borderRadius:E?2:3,p:E?1:2}},children:[I.jsx(Ym,{sx:{fontSize:E?"1.1rem":"1.3rem"},children:"Share Mind Map"}),I.jsx(qm,{children:I.jsx(_l,{label:"Collaborator Email",fullWidth:!0,value:w,onChange:j=>b(j.target.value),variant:"filled",InputLabelProps:{style:{color:"#fff"}},sx:{backgroundColor:"#555",fontSize:E?"1rem":"1.1rem"}})}),I.jsxs(Km,{sx:{flexDirection:E?"column":"row",gap:E?1:0},children:[I.jsx(en,{onClick:()=>x(!1),sx:{color:"#fff",width:E?"100%":"auto"},children:"Cancel"}),I.jsx(en,{onClick:Q,variant:"contained",sx:{width:E?"100%":"auto"},children:"Share"})]})]})]})};var M4="Expected a function",g2=NaN,roe="[object Symbol]",ioe=/^\s+|\s+$/g,ooe=/^[-+]0x[0-9a-f]+$/i,soe=/^0b[01]+$/i,aoe=/^0o[0-7]+$/i,loe=parseInt,coe=typeof tl=="object"&&tl&&tl.Object===Object&&tl,uoe=typeof self=="object"&&self&&self.Object===Object&&self,doe=coe||uoe||Function("return this")(),hoe=Object.prototype,foe=hoe.toString,poe=Math.max,goe=Math.min,Aw=function(){return doe.Date.now()};function moe(t,e,n){var r,i,o,s,a,l,c=0,u=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(M4);e=m2(e)||0,Wv(n)&&(u=!!n.leading,h="maxWait"in n,o=h?poe(m2(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function p($){var E=r,k=i;return r=i=void 0,c=$,s=t.apply(k,E),s}function m($){return c=$,a=setTimeout(_,e),u?p($):s}function x($){var E=$-l,k=$-c,M=e-E;return h?goe(M,o-k):M}function S($){var E=$-l,k=$-c;return l===void 0||E>=e||E<0||h&&k>=o}function _(){var $=Aw();if(S($))return w($);a=setTimeout(_,x($))}function w($){return a=void 0,f&&r?p($):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function C(){return a===void 0?s:w(Aw())}function N(){var $=Aw(),E=S($);if(r=arguments,i=this,l=$,E){if(a===void 0)return m(l);if(h)return a=setTimeout(_,e),p(l)}return a===void 0&&(a=setTimeout(_,e)),s}return N.cancel=b,N.flush=C,N}function yoe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(M4);return Wv(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),moe(t,e,{leading:r,maxWait:e,trailing:i})}function Wv(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function voe(t){return!!t&&typeof t=="object"}function _oe(t){return typeof t=="symbol"||voe(t)&&foe.call(t)==roe}function m2(t){if(typeof t=="number")return t;if(_oe(t))return g2;if(Wv(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Wv(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(ioe,"");var n=soe.test(t);return n||aoe.test(t)?loe(t.slice(2),n?2:8):ooe.test(t)?g2:+t}var boe=yoe;const cf=Zp(boe);var y2={};const v2="@firebase/database",_2="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O4="";function woe(t){O4=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xoe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),yr(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ip(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eoe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ca(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new xoe(e)}}catch{}return new Eoe},wc=N4("localStorage"),Soe=N4("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=new $0("@firebase/database"),Coe=function(){let t=1;return function(){return t++}}(),D4=function(t){const e=h9(t),n=new l9;n.update(e);const r=n.digest();return IC.encodeByteArray(r)},Ng=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ng.apply(null,r):typeof r=="object"?e+=yr(r):e+=r,e+=" "}return e};let rp=null,b2=!0;const Toe=function(t,e){Te(!0,"Can't turn on custom loggers persistently."),Ed.logLevel=Dt.VERBOSE,rp=Ed.log.bind(Ed)},Zr=function(...t){if(b2===!0&&(b2=!1,rp===null&&Soe.get("logging_enabled")===!0&&Toe()),rp){const e=Ng.apply(null,t);rp(e)}},Dg=function(t){return function(...e){Zr(t,...e)}},ZE=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ng(...t);Ed.error(e)},Ea=function(...t){const e=`FIREBASE FATAL ERROR: ${Ng(...t)}`;throw Ed.error(e),new Error(e)},$i=function(...t){const e="FIREBASE WARNING: "+Ng(...t);Ed.warn(e)},Ioe=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&$i("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},$4=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Roe=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},qd="[MIN_NAME]",Vc="[MAX_NAME]",yh=function(t,e){if(t===e)return 0;if(t===qd||e===Vc)return-1;if(e===qd||t===Vc)return 1;{const n=w2(t),r=w2(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},koe=function(t,e){return t===e?0:t<e?-1:1},uf=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+yr(e))},wT=function(t){if(typeof t!="object"||t===null)return yr(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=yr(e[r]),n+=":",n+=wT(t[e[r]]);return n+="}",n},L4=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Bi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const F4=function(t){Te(!$4(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},Poe=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Aoe=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Moe(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Ooe=new RegExp("^-?(0*)\\d{1,10}$"),Noe=-2147483648,Doe=2147483647,w2=function(t){if(Ooe.test(t)){const e=Number(t);if(e>=Noe&&e<=Doe)return e}return null},vh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw $i("Exception was thrown by user callback.",n),e},Math.floor(0))}},$oe=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ip=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Loe{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,ci(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){$i(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Foe{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Zr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$i(e)}}class Ly{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ly.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="5",B4="v",j4="s",V4="r",U4="f",z4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,W4="ls",H4="p",eS="ac",G4="websocket",K4="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=wc.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&wc.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Boe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Y4(t,e,n){Te(typeof e=="string","typeof type must == string"),Te(typeof n=="object","typeof params must == object");let r;if(e===G4)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===K4)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Boe(t)&&(n.ns=t.namespace);const i=[];return Bi(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class joe{constructor(){this.counters_={}}incrementCounter(e,n=1){Ca(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return zz(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw={},Ow={};function ET(t){const e=t.toString();return Mw[e]||(Mw[e]=new joe),Mw[e]}function Voe(t,e){const n=t.toString();return Ow[n]||(Ow[n]=e()),Ow[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uoe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&vh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="start",zoe="close",Woe="pLPCommand",Hoe="pRTLPCB",X4="id",Q4="pw",J4="ser",Goe="cb",Koe="seg",qoe="ts",Yoe="d",Xoe="dframe",Z4=1870,e3=30,Qoe=Z4-e3,Joe=25e3,Zoe=3e4;class ld{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Dg(e),this.stats_=ET(n),this.urlFn=l=>(this.appCheckToken&&(l[eS]=this.appCheckToken),Y4(n,K4,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Uoe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Zoe)),Roe(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ST((...o)=>{const[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===x2)this.id=a,this.password=l;else if(s===zoe)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[x2]="t",r[J4]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Goe]=this.scriptTagHolder.uniqueCallbackIdentifier),r[B4]=xT,this.transportSessionId&&(r[j4]=this.transportSessionId),this.lastSessionId&&(r[W4]=this.lastSessionId),this.applicationId&&(r[H4]=this.applicationId),this.appCheckToken&&(r[eS]=this.appCheckToken),typeof location<"u"&&location.hostname&&z4.test(location.hostname)&&(r[V4]=U4);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ld.forceAllow_=!0}static forceDisallow(){ld.forceDisallow_=!0}static isAvailable(){return ld.forceAllow_?!0:!ld.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Poe()&&!Aoe()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=yr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=v$(n),i=L4(r,Qoe);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Xoe]="t",r[X4]=e,r[Q4]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=yr(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ST{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Coe(),window[Woe+this.uniqueCallbackIdentifier]=e,window[Hoe+this.uniqueCallbackIdentifier]=n,this.myIFrame=ST.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Zr("frame writing exception"),a.stack&&Zr(a.stack),Zr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Zr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[X4]=this.myID,e[Q4]=this.myPW,e[J4]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+e3+r.length<=Z4;){const s=this.pendingSegs.shift();r=r+"&"+Koe+i+"="+s.seg+"&"+qoe+i+"="+s.ts+"&"+Yoe+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Joe)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Zr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ese=16384,tse=45e3;let Hv=null;typeof MozWebSocket<"u"?Hv=MozWebSocket:typeof WebSocket<"u"&&(Hv=WebSocket);class Go{constructor(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Dg(this.connId),this.stats_=ET(n),this.connURL=Go.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[B4]=xT,typeof location<"u"&&location.hostname&&z4.test(location.hostname)&&(s[V4]=U4),n&&(s[j4]=n),r&&(s[W4]=r),i&&(s[eS]=i),o&&(s[H4]=o),Y4(e,G4,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,wc.set("previous_websocket_failure",!0);try{let r;Zz(),this.mySock=new Hv(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Go.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Hv!==null&&!Go.forceDisallow_}static previouslyFailed(){return wc.isInMemoryStorage||wc.get("previous_websocket_failure")===!0}markConnectionHealthy(){wc.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ip(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Te(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=yr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=L4(n,ese);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(tse))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Go.responsesRequiredToBeHealthy=2;Go.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{static get ALL_TRANSPORTS(){return[ld,Go]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Go&&Go.isAvailable();let r=n&&!Go.previouslyFailed();if(e.webSocketOnly&&(n||$i("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Go];else{const i=this.transports_=[];for(const o of zp.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);zp.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}zp.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nse=6e4,rse=5e3,ise=10*1024,ose=100*1024,Nw="t",E2="d",sse="s",S2="r",ase="e",C2="o",T2="a",I2="n",R2="p",lse="h";class cse{constructor(e,n,r,i,o,s,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Dg("c:"+this.id+":"),this.transportManager_=new zp(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ip(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>ose?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>ise?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Nw in e){const n=e[Nw];n===T2?this.upgradeIfSecondaryHealthy_():n===S2?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===C2&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=uf("t",e),r=uf("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:R2,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:T2,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:I2,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=uf("t",e),r=uf("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=uf(Nw,e);if(E2 in e){const r=e[E2];if(n===lse){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===I2){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===sse?this.onConnectionShutdown_(r):n===S2?this.onReset_(r):n===ase?ZE("Server Error: "+r):n===C2?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ZE("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),xT!==r&&$i("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ip(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(nse))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ip(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(rse))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:R2,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(wc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.allowedEvents_=e,this.listeners_={},Te(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){Te(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv extends n3{static getInstance(){return new Gv}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!PC()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Te(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=32,P2=768;class hn{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Xt(){return new hn("")}function kt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ol(t){return t.pieces_.length-t.pieceNum_}function vn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new hn(t.pieces_,e)}function r3(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function use(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function i3(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function o3(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new hn(e,0)}function vr(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof hn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new hn(n,0)}function $t(t){return t.pieceNum_>=t.pieces_.length}function ui(t,e){const n=kt(t),r=kt(e);if(n===null)return e;if(n===r)return ui(vn(t),vn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function CT(t,e){if(Ol(t)!==Ol(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function qo(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ol(t)>Ol(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class dse{constructor(e,n){this.errorPrefix_=n,this.parts_=i3(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=D0(this.parts_[r]);s3(this)}}function hse(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=D0(e),s3(t)}function fse(t){const e=t.parts_.pop();t.byteLength_-=D0(e),t.parts_.length>0&&(t.byteLength_-=1)}function s3(t){if(t.byteLength_>P2)throw new Error(t.errorPrefix_+"has a key path longer than "+P2+" bytes ("+t.byteLength_+").");if(t.parts_.length>k2)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+k2+") or object contains a cycle "+hc(t))}function hc(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT extends n3{static getInstance(){return new TT}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return Te(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=1e3,pse=60*5*1e3,A2=30*1e3,gse=1.3,mse=3e4,yse="server_kill",M2=3;class la extends t3{constructor(e,n,r,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=la.nextPersistentConnectionId_++,this.log_=Dg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=df,this.maxReconnectDelay_=pse,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");TT.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Gv.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(yr(o)),Te(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new N0,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),Te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Te(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,c=a.s;la.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ca(e,"w")){const r=Md(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();$i(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||a9(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=A2)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=s9(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+yr(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ZE("Unrecognized action received from server: "+yr(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Te(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=df,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=df,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>mse&&(this.reconnectDelay_=df),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*gse)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+la.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},c=function(h){Te(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?Zr("getToken() completed but was canceled"):(Zr("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new cse(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{$i(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(yse)},o))}catch(h){this.log_("Failed to get token: "+h),s||(this.repoInfo_.nodeAdmin&&$i(h),l())}}}interrupt(e){Zr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Zr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],qx(this.interruptReasons_)&&(this.reconnectDelay_=df,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>wT(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new hn(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Zr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=M2&&(this.reconnectDelay_=A2,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Zr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=M2&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+O4.replace(/\./g,"-")]=1,PC()?e["framework.cordova"]=1:E$()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Gv.getInstance().currentlyOnline();return qx(this.interruptReasons_)&&e}}la.nextPersistentConnectionId_=0;la.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Pt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Pt(qd,e),i=new Pt(qd,n);return this.compare(r,i)!==0}minPost(){return Pt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jm;class a3 extends q_{static get __EMPTY_NODE(){return Jm}static set __EMPTY_NODE(e){Jm=e}compare(e,n){return yh(e.name,n.name)}isDefinedOn(e){throw nh("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Pt.MIN}maxPost(){return new Pt(Vc,Jm)}makePost(e,n){return Te(typeof e=="string","KeyIndex indexValue must always be a string."),new Pt(e,Jm)}toString(){return".key"}}const Sd=new a3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class kr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??kr.RED,this.left=i??Pi.EMPTY_NODE,this.right=o??Pi.EMPTY_NODE}copy(e,n,r,i,o){return new kr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Pi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}kr.RED=!0;kr.BLACK=!1;class vse{copy(e,n,r,i,o){return this}insert(e,n,r){return new kr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Pi{constructor(e,n=Pi.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Pi(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,kr.BLACK,null,null))}remove(e){return new Pi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,kr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Zm(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Zm(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Zm(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Zm(this.root_,null,this.comparator_,!0,e)}}Pi.EMPTY_NODE=new vse;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _se(t,e){return yh(t.name,e.name)}function IT(t,e){return yh(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tS;function bse(t){tS=t}const l3=function(t){return typeof t=="number"?"number:"+F4(t):"string:"+t},c3=function(t){if(t.isLeafNode()){const e=t.val();Te(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ca(e,".sv"),"Priority must be a string or number.")}else Te(t===tS||t.isEmpty(),"priority of unexpected type.");Te(t===tS||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O2;class Tr{static set __childrenNodeConstructor(e){O2=e}static get __childrenNodeConstructor(){return O2}constructor(e,n=Tr.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Te(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),c3(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Tr(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Tr.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return $t(e)?this:kt(e)===".priority"?this.priorityNode_:Tr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Tr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=kt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Te(r!==".priority"||Ol(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Tr.__childrenNodeConstructor.EMPTY_NODE.updateChild(vn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+l3(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=F4(this.value_):e+=this.value_,this.lazyHash_=D4(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Tr.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Tr.__childrenNodeConstructor?-1:(Te(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Tr.VALUE_TYPE_ORDER.indexOf(n),o=Tr.VALUE_TYPE_ORDER.indexOf(r);return Te(i>=0,"Unknown leaf type: "+n),Te(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Tr.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u3,d3;function wse(t){u3=t}function xse(t){d3=t}class Ese extends q_{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?yh(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Pt.MIN}maxPost(){return new Pt(Vc,new Tr("[PRIORITY-POST]",d3))}makePost(e,n){const r=u3(e);return new Pt(n,new Tr("[PRIORITY-POST]",r))}toString(){return".priority"}}const Un=new Ese;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sse=Math.log(2);class Cse{constructor(e){const n=o=>parseInt(Math.log(o)/Sse,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Kv=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let h,f;if(u===0)return null;if(u===1)return h=t[l],f=n?n(h):h,new kr(f,h.node,kr.BLACK,null,null);{const p=parseInt(u/2,10)+l,m=i(l,p),x=i(p+1,c);return h=t[p],f=n?n(h):h,new kr(f,h.node,kr.BLACK,m,x)}},o=function(l){let c=null,u=null,h=t.length;const f=function(m,x){const S=h-m,_=h;h-=m;const w=i(S+1,_),b=t[S],C=n?n(b):b;p(new kr(C,b.node,x,null,w))},p=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const x=l.nextBitIsOne(),S=Math.pow(2,l.count-(m+1));x?f(S,kr.BLACK):(f(S,kr.BLACK),f(S,kr.RED))}return u},s=new Cse(t.length),a=o(s);return new Pi(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dw;const Tu={};class ia{static get Default(){return Te(Tu&&Un,"ChildrenNode.ts has not been loaded"),Dw=Dw||new ia({".priority":Tu},{".priority":Un}),Dw}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Md(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Pi?n:null}hasIndex(e){return Ca(this.indexSet_,e.toString())}addIndex(e,n){Te(e!==Sd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(Pt.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Kv(r,e.getCompare()):a=Tu;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new ia(u,c)}addToIndexes(e,n){const r=fv(this.indexes_,(i,o)=>{const s=Md(this.indexSet_,o);if(Te(s,"Missing index implementation for "+o),i===Tu)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(Pt.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Kv(a,s.getCompare())}else return Tu;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Pt(e.name,a))),l.insert(e,e.node)}});return new ia(r,this.indexSet_)}removeFromIndexes(e,n){const r=fv(this.indexes_,i=>{if(i===Tu)return i;{const o=n.get(e.name);return o?i.remove(new Pt(e.name,o)):i}});return new ia(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf;class Ze{static get EMPTY_NODE(){return hf||(hf=new Ze(new Pi(IT),null,ia.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&c3(this.priorityNode_),this.children_.isEmpty()&&Te(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hf}updatePriority(e){return this.children_.isEmpty()?this:new Ze(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?hf:n}}getChild(e){const n=kt(e);return n===null?this:this.getImmediateChild(n).getChild(vn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Te(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Pt(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?hf:this.priorityNode_;return new Ze(i,s,o)}}updateChild(e,n){const r=kt(e);if(r===null)return n;{Te(kt(e)!==".priority"||Ol(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(vn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(Un,(s,a)=>{n[s]=a.val(e),r++,o&&Ze.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+l3(this.getPriority().val())+":"),this.forEachChild(Un,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":D4(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new Pt(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Pt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Pt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Pt.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Pt.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===$g?-1:0}withIndex(e){if(e===Sd||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ze(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Sd||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Un),i=n.getIterator(Un);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===Sd?null:this.indexMap_.get(e.toString())}}Ze.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Tse extends Ze{constructor(){super(new Pi(IT),Ze.EMPTY_NODE,ia.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ze.EMPTY_NODE}isEmpty(){return!1}}const $g=new Tse;Object.defineProperties(Pt,{MIN:{value:new Pt(qd,Ze.EMPTY_NODE)},MAX:{value:new Pt(Vc,$g)}});a3.__EMPTY_NODE=Ze.EMPTY_NODE;Tr.__childrenNodeConstructor=Ze;bse($g);xse($g);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ise=!0;function Pr(t,e=null){if(t===null)return Ze.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Te(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Tr(n,Pr(e))}if(!(t instanceof Array)&&Ise){const n=[];let r=!1;if(Bi(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=Pr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Pt(s,l)))}}),n.length===0)return Ze.EMPTY_NODE;const o=Kv(n,_se,s=>s.name,IT);if(r){const s=Kv(n,Un.getCompare());return new Ze(o,Pr(e),new ia({".priority":s},{".priority":Un}))}else return new Ze(o,Pr(e),ia.Default)}else{let n=Ze.EMPTY_NODE;return Bi(t,(r,i)=>{if(Ca(t,r)&&r.substring(0,1)!=="."){const o=Pr(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Pr(e))}}wse(Pr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rse extends q_{constructor(e){super(),this.indexPath_=e,Te(!$t(e)&&kt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?yh(e.name,n.name):o}makePost(e,n){const r=Pr(e),i=Ze.EMPTY_NODE.updateChild(this.indexPath_,r);return new Pt(n,i)}maxPost(){const e=Ze.EMPTY_NODE.updateChild(this.indexPath_,$g);return new Pt(Vc,e)}toString(){return i3(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kse extends q_{compare(e,n){const r=e.node.compareTo(n.node);return r===0?yh(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Pt.MIN}maxPost(){return Pt.MAX}makePost(e,n){const r=Pr(e);return new Pt(n,r)}toString(){return".value"}}const Pse=new kse;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t){return{type:"value",snapshotNode:t}}function Yd(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Wp(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Hp(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Ase(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){Te(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Wp(n,a)):Te(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Yd(n,r)):s.trackChildChange(Hp(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Un,(i,o)=>{n.hasChild(i)||r.trackChildChange(Wp(i,o))}),n.isLeafNode()||n.forEachChild(Un,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Hp(i,o,s))}else r.trackChildChange(Yd(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ze.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this.indexedFilter_=new RT(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Gp.getStartPost_(e),this.endPost_=Gp.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new Pt(n,r))||(r=Ze.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Ze.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Ze.EMPTY_NODE);const o=this;return n.forEachChild(Un,(s,a)=>{o.matches(new Pt(s,a))||(i=i.updateImmediateChild(s,Ze.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mse{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Gp(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new Pt(n,r))||(r=Ze.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Ze.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ze.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ze.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,Ze.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const h=this.index_.getCompare();s=(f,p)=>h(p,f)}else s=this.index_.getCompare();const a=e;Te(a.numChildren()===this.limit_,"");const l=new Pt(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:s(f,l);if(u&&!r.isEmpty()&&p>=0)return o!=null&&o.trackChildChange(Hp(n,r,h)),a.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(Wp(n,h));const x=a.updateImmediateChild(n,Ze.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o!=null&&o.trackChildChange(Yd(f.name,f.node)),x.updateImmediateChild(f.name,f.node)):x}}else return r.isEmpty()?e:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(Wp(c.name,c.node)),o.trackChildChange(Yd(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,Ze.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Un}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Te(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Te(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:qd}hasEnd(){return this.endSet_}getIndexEndValue(){return Te(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Te(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Vc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Te(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Un}copy(){const e=new kT;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Ose(t){return t.loadsAllData()?new RT(t.getIndex()):t.hasLimit()?new Mse(t):new Gp(t)}function N2(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Un?n="$priority":t.index_===Pse?n="$value":t.index_===Sd?n="$key":(Te(t.index_ instanceof Rse,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=yr(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=yr(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+yr(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=yr(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+yr(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function D2(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Un&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv extends t3{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Te(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Dg("p:rest:"),this.listens_={}}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=qv.getListenId_(e,r),a={};this.listens_[s]=a;const l=N2(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(o,h,!1,r),Md(this.listens_,s)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=qv.getListenId_(e,n);delete this.listens_[r]}get(e){const n=N2(e._queryParams),r=e._path.toString(),i=new N0;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+rh(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ip(a.responseText)}catch{$i("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&$i("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nse{constructor(){this.rootNode_=Ze.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(){return{value:null,children:new Map}}function f3(t,e,n){if($t(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=kt(e);t.children.has(r)||t.children.set(r,Yv());const i=t.children.get(r);e=vn(e),f3(i,e,n)}}function nS(t,e,n){t.value!==null?n(e,t.value):Dse(t,(r,i)=>{const o=new hn(e.toString()+"/"+r);nS(i,o,n)})}function Dse(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $se{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Bi(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=10*1e3,Lse=30*1e3,Fse=5*60*1e3;class Bse{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new $se(e);const r=$2+(Lse-$2)*Math.random();ip(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Bi(e,(i,o)=>{o>0&&Ca(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),ip(this.reportStats_.bind(this),Math.floor(Math.random()*2*Fse))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yo;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Yo||(Yo={}));function p3(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function PT(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function AT(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Yo.ACK_USER_WRITE,this.source=p3()}operationForChild(e){if($t(this.path)){if(this.affectedTree.value!=null)return Te(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new hn(e));return new Xv(Xt(),n,this.revert)}}else return Te(kt(this.path)===e,"operationForChild called for unrelated child."),new Xv(vn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n){this.source=e,this.path=n,this.type=Yo.LISTEN_COMPLETE}operationForChild(e){return $t(this.path)?new Kp(this.source,Xt()):new Kp(this.source,vn(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Yo.OVERWRITE}operationForChild(e){return $t(this.path)?new Uc(this.source,Xt(),this.snap.getImmediateChild(e)):new Uc(this.source,vn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Yo.MERGE}operationForChild(e){if($t(this.path)){const n=this.children.subtree(new hn(e));return n.isEmpty()?null:n.value?new Uc(this.source,Xt(),n.value):new qp(this.source,Xt(),n)}else return Te(kt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new qp(this.source,vn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if($t(e))return this.isFullyInitialized()&&!this.filtered_;const n=kt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jse{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Vse(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(Ase(s.childName,s.snapshotNode))}),ff(t,i,"child_removed",e,r,n),ff(t,i,"child_added",e,r,n),ff(t,i,"child_moved",o,r,n),ff(t,i,"child_changed",e,r,n),ff(t,i,"value",e,r,n),i}function ff(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>zse(t,a,l)),s.forEach(a=>{const l=Use(t,a,o);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Use(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function zse(t,e,n){if(e.childName==null||n.childName==null)throw nh("Should only compare child_ events.");const r=new Pt(e.childName,e.snapshotNode),i=new Pt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t,e){return{eventCache:t,serverCache:e}}function op(t,e,n,r){return Y_(new Nl(e,n,r),t.serverCache)}function g3(t,e,n,r){return Y_(t.eventCache,new Nl(e,n,r))}function Qv(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function zc(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $w;const Wse=()=>($w||($w=new Pi(koe)),$w);class Tn{static fromObject(e){let n=new Tn(null);return Bi(e,(r,i)=>{n=n.set(new hn(r),i)}),n}constructor(e,n=Wse()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Xt(),value:this.value};if($t(e))return null;{const r=kt(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(vn(e),n);return o!=null?{path:vr(new hn(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if($t(e))return this;{const n=kt(e),r=this.children.get(n);return r!==null?r.subtree(vn(e)):new Tn(null)}}set(e,n){if($t(e))return new Tn(n,this.children);{const r=kt(e),o=(this.children.get(r)||new Tn(null)).set(vn(e),n),s=this.children.insert(r,o);return new Tn(this.value,s)}}remove(e){if($t(e))return this.children.isEmpty()?new Tn(null):new Tn(null,this.children);{const n=kt(e),r=this.children.get(n);if(r){const i=r.remove(vn(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new Tn(null):new Tn(this.value,o)}else return this}}get(e){if($t(e))return this.value;{const n=kt(e),r=this.children.get(n);return r?r.get(vn(e)):null}}setTree(e,n){if($t(e))return n;{const r=kt(e),o=(this.children.get(r)||new Tn(null)).setTree(vn(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new Tn(this.value,s)}}fold(e){return this.fold_(Xt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(vr(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Xt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if($t(e))return null;{const o=kt(e),s=this.children.get(o);return s?s.findOnPath_(vn(e),vr(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Xt(),n)}foreachOnPath_(e,n,r){if($t(e))return this;{this.value&&r(n,this.value);const i=kt(e),o=this.children.get(i);return o?o.foreachOnPath_(vn(e),vr(n,i),r):new Tn(null)}}foreach(e){this.foreach_(Xt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(vr(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.writeTree_=e}static empty(){return new es(new Tn(null))}}function sp(t,e,n){if($t(e))return new es(new Tn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=ui(i,e);return o=o.updateChild(s,n),new es(t.writeTree_.set(i,o))}else{const i=new Tn(n),o=t.writeTree_.setTree(e,i);return new es(o)}}}function L2(t,e,n){let r=t;return Bi(n,(i,o)=>{r=sp(r,vr(e,i),o)}),r}function F2(t,e){if($t(e))return es.empty();{const n=t.writeTree_.setTree(e,new Tn(null));return new es(n)}}function rS(t,e){return Jc(t,e)!=null}function Jc(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ui(n.path,e)):null}function B2(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Un,(r,i)=>{e.push(new Pt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Pt(r,i.value))}),e}function bl(t,e){if($t(e))return t;{const n=Jc(t,e);return n!=null?new es(new Tn(n)):new es(t.writeTree_.subtree(e))}}function iS(t){return t.writeTree_.isEmpty()}function Xd(t,e){return m3(Xt(),t.writeTree_,e)}function m3(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(Te(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=m3(vr(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(vr(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(t,e){return b3(e,t)}function Hse(t,e,n,r,i){Te(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=sp(t.visibleWrites,e,n)),t.lastWriteId=r}function Gse(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Kse(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Te(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&qse(a,r.path)?i=!1:qo(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return Yse(t),!0;if(r.snap)t.visibleWrites=F2(t.visibleWrites,r.path);else{const a=r.children;Bi(a,l=>{t.visibleWrites=F2(t.visibleWrites,vr(r.path,l))})}return!0}else return!1}function qse(t,e){if(t.snap)return qo(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&qo(vr(t.path,n),e))return!0;return!1}function Yse(t){t.visibleWrites=y3(t.allWrites,Xse,Xt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Xse(t){return t.visible}function y3(t,e,n){let r=es.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)qo(n,s)?(a=ui(n,s),r=sp(r,a,o.snap)):qo(s,n)&&(a=ui(s,n),r=sp(r,Xt(),o.snap.getChild(a)));else if(o.children){if(qo(n,s))a=ui(n,s),r=L2(r,a,o.children);else if(qo(s,n))if(a=ui(s,n),$t(a))r=L2(r,Xt(),o.children);else{const l=Md(o.children,kt(a));if(l){const c=l.getChild(vn(a));r=sp(r,Xt(),c)}}}else throw nh("WriteRecord should have .snap or .children")}}return r}function v3(t,e,n,r,i){if(!r&&!i){const o=Jc(t.visibleWrites,e);if(o!=null)return o;{const s=bl(t.visibleWrites,e);if(iS(s))return n;if(n==null&&!rS(s,Xt()))return null;{const a=n||Ze.EMPTY_NODE;return Xd(s,a)}}}else{const o=bl(t.visibleWrites,e);if(!i&&iS(o))return n;if(!i&&n==null&&!rS(o,Xt()))return null;{const s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(qo(c.path,e)||qo(e,c.path))},a=y3(t.allWrites,s,e),l=n||Ze.EMPTY_NODE;return Xd(a,l)}}}function Qse(t,e,n){let r=Ze.EMPTY_NODE;const i=Jc(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Un,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=bl(t.visibleWrites,e);return n.forEachChild(Un,(s,a)=>{const l=Xd(bl(o,new hn(s)),a);r=r.updateImmediateChild(s,l)}),B2(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=bl(t.visibleWrites,e);return B2(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function Jse(t,e,n,r,i){Te(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=vr(e,n);if(rS(t.visibleWrites,o))return null;{const s=bl(t.visibleWrites,o);return iS(s)?i.getChild(n):Xd(s,i.getChild(n))}}function Zse(t,e,n,r){const i=vr(e,n),o=Jc(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=bl(t.visibleWrites,i);return Xd(s,r.getNode().getImmediateChild(n))}else return null}function eae(t,e){return Jc(t.visibleWrites,e)}function tae(t,e,n,r,i,o,s){let a;const l=bl(t.visibleWrites,e),c=Jc(l,Xt());if(c!=null)a=c;else if(n!=null)a=Xd(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const u=[],h=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let p=f.getNext();for(;p&&u.length<i;)h(p,r)!==0&&u.push(p),p=f.getNext();return u}else return[]}function nae(){return{visibleWrites:es.empty(),allWrites:[],lastWriteId:-1}}function Jv(t,e,n,r){return v3(t.writeTree,t.treePath,e,n,r)}function MT(t,e){return Qse(t.writeTree,t.treePath,e)}function j2(t,e,n,r){return Jse(t.writeTree,t.treePath,e,n,r)}function Zv(t,e){return eae(t.writeTree,vr(t.treePath,e))}function rae(t,e,n,r,i,o){return tae(t.writeTree,t.treePath,e,n,r,i,o)}function OT(t,e,n){return Zse(t.writeTree,t.treePath,e,n)}function _3(t,e){return b3(vr(t.treePath,e),t.writeTree)}function b3(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iae{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Te(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Te(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Hp(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Wp(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Yd(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Hp(r,e.snapshotNode,i.oldSnap));else throw nh("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oae{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const w3=new oae;class NT{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Nl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return OT(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:zc(this.viewCache_),o=rae(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sae(t){return{filter:t}}function aae(t,e){Te(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Te(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function lae(t,e,n,r,i){const o=new iae;let s,a;if(n.type===Yo.OVERWRITE){const c=n;c.source.fromUser?s=oS(t,e,c.path,c.snap,r,i,o):(Te(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!$t(c.path),s=e0(t,e,c.path,c.snap,r,i,a,o))}else if(n.type===Yo.MERGE){const c=n;c.source.fromUser?s=uae(t,e,c.path,c.children,r,i,o):(Te(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=sS(t,e,c.path,c.children,r,i,a,o))}else if(n.type===Yo.ACK_USER_WRITE){const c=n;c.revert?s=fae(t,e,c.path,r,i,o):s=dae(t,e,c.path,c.affectedTree,r,i,o)}else if(n.type===Yo.LISTEN_COMPLETE)s=hae(t,e,n.path,r,o);else throw nh("Unknown operation type: "+n.type);const l=o.getChanges();return cae(e,s,l),{viewCache:s,changes:l}}function cae(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Qv(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(h3(Qv(e)))}}function x3(t,e,n,r,i,o){const s=e.eventCache;if(Zv(r,n)!=null)return e;{let a,l;if($t(n))if(Te(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=zc(e),u=c instanceof Ze?c:Ze.EMPTY_NODE,h=MT(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),h,o)}else{const c=Jv(r,zc(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const c=kt(n);if(c===".priority"){Te(Ol(n)===1,"Can't have a priority with additional path components");const u=s.getNode();l=e.serverCache.getNode();const h=j2(r,n,u,l);h!=null?a=t.filter.updatePriority(u,h):a=s.getNode()}else{const u=vn(n);let h;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();const f=j2(r,n,s.getNode(),l);f!=null?h=s.getNode().getImmediateChild(c).updateChild(u,f):h=s.getNode().getImmediateChild(c)}else h=OT(r,c,e.serverCache);h!=null?a=t.filter.updateChild(s.getNode(),c,h,u,i,o):a=s.getNode()}}return op(e,a,s.isFullyInitialized()||$t(n),t.filter.filtersNodes())}}function e0(t,e,n,r,i,o,s,a){const l=e.serverCache;let c;const u=s?t.filter:t.filter.getIndexedFilter();if($t(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=kt(n);if(!l.isCompleteForPath(n)&&Ol(n)>1)return e;const m=vn(n),S=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=u.updatePriority(l.getNode(),S):c=u.updateChild(l.getNode(),p,S,m,w3,null)}const h=g3(e,c,l.isFullyInitialized()||$t(n),u.filtersNodes()),f=new NT(i,h,o);return x3(t,h,n,i,f,a)}function oS(t,e,n,r,i,o,s){const a=e.eventCache;let l,c;const u=new NT(i,e,o);if($t(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=op(e,c,!0,t.filter.filtersNodes());else{const h=kt(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=op(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=vn(n),p=a.getNode().getImmediateChild(h);let m;if($t(f))m=r;else{const x=u.getCompleteChild(h);x!=null?r3(f)===".priority"&&x.getChild(o3(f)).isEmpty()?m=x:m=x.updateChild(f,r):m=Ze.EMPTY_NODE}if(p.equals(m))l=e;else{const x=t.filter.updateChild(a.getNode(),h,m,f,u,s);l=op(e,x,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function V2(t,e){return t.eventCache.isCompleteForChild(e)}function uae(t,e,n,r,i,o,s){let a=e;return r.foreach((l,c)=>{const u=vr(n,l);V2(e,kt(u))&&(a=oS(t,a,u,c,i,o,s))}),r.foreach((l,c)=>{const u=vr(n,l);V2(e,kt(u))||(a=oS(t,a,u,c,i,o,s))}),a}function U2(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function sS(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;$t(n)?c=r:c=new Tn(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(u.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),m=U2(t,p,f);l=e0(t,l,new hn(h),m,i,o,s,a)}}),c.children.inorderTraversal((h,f)=>{const p=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!u.hasChild(h)&&!p){const m=e.serverCache.getNode().getImmediateChild(h),x=U2(t,m,f);l=e0(t,l,new hn(h),x,i,o,s,a)}}),l}function dae(t,e,n,r,i,o,s){if(Zv(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if($t(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return e0(t,e,n,l.getNode().getChild(n),i,o,a,s);if($t(n)){let c=new Tn(null);return l.getNode().forEachChild(Sd,(u,h)=>{c=c.set(new hn(u),h)}),sS(t,e,n,c,i,o,a,s)}else return e}else{let c=new Tn(null);return r.foreach((u,h)=>{const f=vr(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),sS(t,e,n,c,i,o,a,s)}}function hae(t,e,n,r,i){const o=e.serverCache,s=g3(e,o.getNode(),o.isFullyInitialized()||$t(n),o.isFiltered());return x3(t,s,n,r,w3,i)}function fae(t,e,n,r,i,o){let s;if(Zv(r,n)!=null)return e;{const a=new NT(r,e,i),l=e.eventCache.getNode();let c;if($t(n)||kt(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Jv(r,zc(e));else{const h=e.serverCache.getNode();Te(h instanceof Ze,"serverChildren would be complete if leaf node"),u=MT(r,h)}u=u,c=t.filter.updateFullNode(l,u,o)}else{const u=kt(n);let h=OT(r,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=t.filter.updateChild(l,u,h,vn(n),a,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Ze.EMPTY_NODE,vn(n),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Jv(r,zc(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||Zv(r,Xt())!=null,op(e,c,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pae{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new RT(r.getIndex()),o=Ose(r);this.processor_=sae(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(Ze.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(Ze.EMPTY_NODE,a.getNode(),null),u=new Nl(l,s.isFullyInitialized(),i.filtersNodes()),h=new Nl(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Y_(h,u),this.eventGenerator_=new jse(this.query_)}get query(){return this.query_}}function gae(t){return t.viewCache_.serverCache.getNode()}function mae(t){return Qv(t.viewCache_)}function yae(t,e){const n=zc(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!$t(e)&&!n.getImmediateChild(kt(e)).isEmpty())?n.getChild(e):null}function z2(t){return t.eventRegistrations_.length===0}function vae(t,e){t.eventRegistrations_.push(e)}function W2(t,e,n){const r=[];if(n){Te(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function H2(t,e,n,r){e.type===Yo.MERGE&&e.source.queryId!==null&&(Te(zc(t.viewCache_),"We should always have a full cache before handling merges"),Te(Qv(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=lae(t.processor_,i,e,n,r);return aae(t.processor_,o.viewCache),Te(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,E3(t,o.changes,o.viewCache.eventCache.getNode(),null)}function _ae(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Un,(o,s)=>{r.push(Yd(o,s))}),n.isFullyInitialized()&&r.push(h3(n.getNode())),E3(t,r,n.getNode(),e)}function E3(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Vse(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t0;class S3{constructor(){this.views=new Map}}function bae(t){Te(!t0,"__referenceConstructor has already been defined"),t0=t}function wae(){return Te(t0,"Reference.ts has not been loaded"),t0}function xae(t){return t.views.size===0}function DT(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return Te(o!=null,"SyncTree gave us an op for an invalid query."),H2(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(H2(s,e,n,r));return o}}function C3(t,e,n,r,i){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Jv(n,i?r:null),l=!1;a?l=!0:r instanceof Ze?(a=MT(n,r),l=!1):(a=Ze.EMPTY_NODE,l=!1);const c=Y_(new Nl(a,l,!1),new Nl(r,i,!1));return new pae(e,c)}return s}function Eae(t,e,n,r,i,o){const s=C3(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),vae(s,n),_ae(s,n)}function Sae(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=Dl(t);if(i==="default")for(const[l,c]of t.views.entries())s=s.concat(W2(c,n,r)),z2(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const l=t.views.get(i);l&&(s=s.concat(W2(l,n,r)),z2(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Dl(t)&&o.push(new(wae())(e._repo,e._path)),{removed:o,events:s}}function T3(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function wl(t,e){let n=null;for(const r of t.views.values())n=n||yae(r,e);return n}function I3(t,e){if(e._queryParams.loadsAllData())return Q_(t);{const r=e._queryIdentifier;return t.views.get(r)}}function R3(t,e){return I3(t,e)!=null}function Dl(t){return Q_(t)!=null}function Q_(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n0;function Cae(t){Te(!n0,"__referenceConstructor has already been defined"),n0=t}function Tae(){return Te(n0,"Reference.ts has not been loaded"),n0}let Iae=1;class G2{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Tn(null),this.pendingWriteTree_=nae(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function k3(t,e,n,r,i){return Hse(t.pendingWriteTree_,e,n,r,i),i?Fg(t,new Uc(p3(),e,n)):[]}function xc(t,e,n=!1){const r=Gse(t.pendingWriteTree_,e);if(Kse(t.pendingWriteTree_,e)){let o=new Tn(null);return r.snap!=null?o=o.set(Xt(),!0):Bi(r.children,s=>{o=o.set(new hn(s),!0)}),Fg(t,new Xv(r.path,o,n))}else return[]}function Lg(t,e,n){return Fg(t,new Uc(PT(),e,n))}function Rae(t,e,n){const r=Tn.fromObject(n);return Fg(t,new qp(PT(),e,r))}function kae(t,e){return Fg(t,new Kp(PT(),e))}function Pae(t,e,n){const r=LT(t,n);if(r){const i=FT(r),o=i.path,s=i.queryId,a=ui(o,e),l=new Kp(AT(s),a);return BT(t,o,l)}else return[]}function r0(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&(e._queryIdentifier==="default"||R3(s,e))){const l=Sae(s,e,n,r);xae(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(o,(f,p)=>Dl(p));if(u&&!h){const f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){const p=Oae(f);for(let m=0;m<p.length;++m){const x=p[m],S=x.query,_=O3(t,x);t.listenProvider_.startListening(ap(S),Yp(t,S),_.hashFn,_.onComplete)}}}!h&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(ap(e),null):c.forEach(f=>{const p=t.queryToTagMap.get(J_(f));t.listenProvider_.stopListening(ap(f),p)}))}Nae(t,c)}return a}function P3(t,e,n,r){const i=LT(t,r);if(i!=null){const o=FT(i),s=o.path,a=o.queryId,l=ui(s,e),c=new Uc(AT(a),l,n);return BT(t,s,c)}else return[]}function Aae(t,e,n,r){const i=LT(t,r);if(i){const o=FT(i),s=o.path,a=o.queryId,l=ui(s,e),c=Tn.fromObject(n),u=new qp(AT(a),l,c);return BT(t,s,u)}else return[]}function aS(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,p)=>{const m=ui(f,i);o=o||wl(p,m),s=s||Dl(p)});let a=t.syncPointTree_.get(i);a?(s=s||Dl(a),o=o||wl(a,Xt())):(a=new S3,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=Ze.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,m)=>{const x=wl(m,Xt());x&&(o=o.updateImmediateChild(p,x))}));const c=R3(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=J_(e);Te(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=Dae();t.queryToTagMap.set(f,p),t.tagToQueryMap.set(p,f)}const u=X_(t.pendingWriteTree_,i);let h=Eae(a,e,n,u,o,l);if(!c&&!s&&!r){const f=I3(a,e);h=h.concat($ae(t,e,f))}return h}function $T(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=ui(s,e),c=wl(a,l);if(c)return c});return v3(i,e,o,n,!0)}function Mae(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const h=ui(c,n);r=r||wl(u,h)});let i=t.syncPointTree_.get(n);i?r=r||wl(i,Xt()):(i=new S3,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=r!=null,s=o?new Nl(r,!0,!1):null,a=X_(t.pendingWriteTree_,e._path),l=C3(i,e,a,o?s.getNode():Ze.EMPTY_NODE,o);return mae(l)}function Fg(t,e){return A3(e,t.syncPointTree_,null,X_(t.pendingWriteTree_,Xt()))}function A3(t,e,n,r){if($t(t.path))return M3(t,e,n,r);{const i=e.get(Xt());n==null&&i!=null&&(n=wl(i,Xt()));let o=[];const s=kt(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const c=n?n.getImmediateChild(s):null,u=_3(r,s);o=o.concat(A3(a,l,c,u))}return i&&(o=o.concat(DT(i,t,r,n))),o}}function M3(t,e,n,r){const i=e.get(Xt());n==null&&i!=null&&(n=wl(i,Xt()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,c=_3(r,s),u=t.operationForChild(s);u&&(o=o.concat(M3(u,a,l,c)))}),i&&(o=o.concat(DT(i,t,r,n))),o}function O3(t,e){const n=e.query,r=Yp(t,n);return{hashFn:()=>(gae(e)||Ze.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Pae(t,n._path,r):kae(t,n._path);{const o=Moe(i,n);return r0(t,n,null,o)}}}}function Yp(t,e){const n=J_(e);return t.queryToTagMap.get(n)}function J_(t){return t._path.toString()+"$"+t._queryIdentifier}function LT(t,e){return t.tagToQueryMap.get(e)}function FT(t){const e=t.indexOf("$");return Te(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new hn(t.substr(0,e))}}function BT(t,e,n){const r=t.syncPointTree_.get(e);Te(r,"Missing sync point for query tag that we're tracking");const i=X_(t.pendingWriteTree_,e);return DT(r,n,i,null)}function Oae(t){return t.fold((e,n,r)=>{if(n&&Dl(n))return[Q_(n)];{let i=[];return n&&(i=T3(n)),Bi(r,(o,s)=>{i=i.concat(s)}),i}})}function ap(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Tae())(t._repo,t._path):t}function Nae(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=J_(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function Dae(){return Iae++}function $ae(t,e,n){const r=e._path,i=Yp(t,e),o=O3(t,n),s=t.listenProvider_.startListening(ap(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)Te(!Dl(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,h)=>{if(!$t(c)&&u&&Dl(u))return[Q_(u).query];{let f=[];return u&&(f=f.concat(T3(u).map(p=>p.query))),Bi(h,(p,m)=>{f=f.concat(m)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(ap(u),Yp(t,u))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new jT(n)}node(){return this.node_}}class VT{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=vr(this.path_,e);return new VT(this.syncTree_,n)}node(){return $T(this.syncTree_,this.path_)}}const Lae=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},K2=function(t,e,n){if(!t||typeof t!="object")return t;if(Te(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Fae(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Bae(t[".sv"],e);Te(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Fae=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Te(!1,"Unexpected server value: "+t)}},Bae=function(t,e,n){t.hasOwnProperty("increment")||Te(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Te(!1,"Unexpected increment value: "+r);const i=e.node();if(Te(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},jae=function(t,e,n,r){return UT(e,new VT(n,t),r)},N3=function(t,e,n){return UT(t,new jT(e),n)};function UT(t,e,n){const r=t.getPriority().val(),i=K2(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=K2(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Tr(a,Pr(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Tr(i))),s.forEachChild(Un,(a,l)=>{const c=UT(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function WT(t,e){let n=e instanceof hn?e:new hn(e),r=t,i=kt(n);for(;i!==null;){const o=Md(r.node.children,i)||{children:{},childCount:0};r=new zT(i,r,o),n=vn(n),i=kt(n)}return r}function _h(t){return t.node.value}function D3(t,e){t.node.value=e,lS(t)}function $3(t){return t.node.childCount>0}function Vae(t){return _h(t)===void 0&&!$3(t)}function Z_(t,e){Bi(t.node.children,(n,r)=>{e(new zT(n,t,r))})}function L3(t,e,n,r){n&&e(t),Z_(t,i=>{L3(i,e,!0)})}function Uae(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Bg(t){return new hn(t.parent===null?t.name:Bg(t.parent)+"/"+t.name)}function lS(t){t.parent!==null&&zae(t.parent,t.name,t)}function zae(t,e,n){const r=Vae(n),i=Ca(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,lS(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,lS(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wae=/[\[\].#$\/\u0000-\u001F\u007F]/,Hae=/[\[\].#$\u0000-\u001F\u007F]/,Lw=10*1024*1024,F3=function(t){return typeof t=="string"&&t.length!==0&&!Wae.test(t)},B3=function(t){return typeof t=="string"&&t.length!==0&&!Hae.test(t)},Gae=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),B3(t)},Kae=function(t,e,n,r){HT(AC(t,"value"),e,n)},HT=function(t,e,n){const r=n instanceof hn?new dse(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+hc(r));if(typeof e=="function")throw new Error(t+"contains a function "+hc(r)+" with contents = "+e.toString());if($4(e))throw new Error(t+"contains "+e.toString()+" "+hc(r));if(typeof e=="string"&&e.length>Lw/3&&D0(e)>Lw)throw new Error(t+"contains a string greater than "+Lw+" utf8 bytes "+hc(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Bi(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!F3(s)))throw new Error(t+" contains an invalid key ("+s+") "+hc(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);hse(r,s),HT(t,a,r),fse(r)}),i&&o)throw new Error(t+' contains ".value" child '+hc(r)+" in addition to actual children.")}},j3=function(t,e,n,r){if(!B3(n))throw new Error(AC(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},qae=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),j3(t,e,n)},V3=function(t,e){if(kt(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Yae=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!F3(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Gae(n))throw new Error(AC(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xae{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function GT(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!CT(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function U3(t,e,n){GT(t,n),z3(t,r=>CT(r,e))}function ks(t,e,n){GT(t,n),z3(t,r=>qo(r,e)||qo(e,r))}function z3(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(Qae(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Qae(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();rp&&Zr("event: "+n.toString()),vh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jae="repo_interrupt",Zae=25;class ele{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Xae,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Yv(),this.transactionQueueTree_=new zT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function tle(t,e,n){if(t.stats_=ET(t.repoInfo_),t.forceRestClient_||$oe())t.server_=new qv(t.repoInfo_,(r,i,o,s)=>{q2(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Y2(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{yr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new la(t.repoInfo_,e,(r,i,o,s)=>{q2(t,r,i,o,s)},r=>{Y2(t,r)},r=>{rle(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Voe(t.repoInfo_,()=>new Bse(t.stats_,t.server_)),t.infoData_=new Nse,t.infoSyncTree_=new G2({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Lg(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),qT(t,"connected",!1),t.serverSyncTree_=new G2({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const c=s(a,l);ks(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function nle(t){const n=t.infoData_.getNode(new hn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function KT(t){return Lae({timestamp:nle(t)})}function q2(t,e,n,r,i){t.dataUpdateCount++;const o=new hn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=fv(n,c=>Pr(c));s=Aae(t.serverSyncTree_,o,l,i)}else{const l=Pr(n);s=P3(t.serverSyncTree_,o,l,i)}else if(r){const l=fv(n,c=>Pr(c));s=Rae(t.serverSyncTree_,o,l)}else{const l=Pr(n);s=Lg(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=tb(t,o)),ks(t.eventQueue_,a,s)}function Y2(t,e){qT(t,"connected",e),e===!1&&sle(t)}function rle(t,e){Bi(e,(n,r)=>{qT(t,n,r)})}function qT(t,e,n){const r=new hn("/.info/"+e),i=Pr(n);t.infoData_.updateSnapshot(r,i);const o=Lg(t.infoSyncTree_,r,i);ks(t.eventQueue_,r,o)}function W3(t){return t.nextWriteId_++}function ile(t,e,n){const r=Mae(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const o=Pr(i).withIndex(e._queryParams.getIndex());aS(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=Lg(t.serverSyncTree_,e._path,o);else{const a=Yp(t.serverSyncTree_,e);s=P3(t.serverSyncTree_,e._path,o,a)}return ks(t.eventQueue_,e._path,s),r0(t.serverSyncTree_,e,n,null,!0),o},i=>(eb(t,"get for query "+yr(e)+" failed: "+i),Promise.reject(new Error(i))))}function ole(t,e,n,r,i){eb(t,"set",{path:e.toString(),value:n,priority:r});const o=KT(t),s=Pr(n,r),a=$T(t.serverSyncTree_,e),l=N3(s,a,o),c=W3(t),u=k3(t.serverSyncTree_,e,l,c,!0);GT(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(f,p)=>{const m=f==="ok";m||$i("set at "+e+" failed: "+f);const x=xc(t.serverSyncTree_,c,!m);ks(t.eventQueue_,e,x),cle(t,i,f,p)});const h=Y3(t,e);tb(t,h),ks(t.eventQueue_,h,[])}function sle(t){eb(t,"onDisconnectEvents");const e=KT(t),n=Yv();nS(t.onDisconnect_,Xt(),(i,o)=>{const s=jae(i,o,t.serverSyncTree_,e);f3(n,i,s)});let r=[];nS(n,Xt(),(i,o)=>{r=r.concat(Lg(t.serverSyncTree_,i,o));const s=Y3(t,i);tb(t,s)}),t.onDisconnect_=Yv(),ks(t.eventQueue_,Xt(),r)}function ale(t,e,n){let r;kt(e._path)===".info"?r=aS(t.infoSyncTree_,e,n):r=aS(t.serverSyncTree_,e,n),U3(t.eventQueue_,e._path,r)}function cS(t,e,n){let r;kt(e._path)===".info"?r=r0(t.infoSyncTree_,e,n):r=r0(t.serverSyncTree_,e,n),U3(t.eventQueue_,e._path,r)}function lle(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Jae)}function eb(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Zr(n,...e)}function cle(t,e,n,r){e&&vh(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function H3(t,e,n){return $T(t.serverSyncTree_,e,n)||Ze.EMPTY_NODE}function YT(t,e=t.transactionQueueTree_){if(e||nb(t,e),_h(e)){const n=K3(t,e);Te(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&ule(t,Bg(e),n)}else $3(e)&&Z_(e,n=>{YT(t,n)})}function ule(t,e,n){const r=n.map(c=>c.currentWriteId),i=H3(t,e,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const u=n[c];Te(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=ui(e,u.path);o=o.updateChild(h,u.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{eb(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(xc(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();nb(t,WT(t.transactionQueueTree_,e)),YT(t,t.transactionQueueTree_),ks(t.eventQueue_,e,u);for(let f=0;f<h.length;f++)vh(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{$i("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}tb(t,e)}},s)}function tb(t,e){const n=G3(t,e),r=Bg(n),i=K3(t,n);return dle(t,i,r),r}function dle(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=ui(n,l.path);let u=!1,h;if(Te(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,i=i.concat(xc(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Zae)u=!0,h="maxretry",i=i.concat(xc(t.serverSyncTree_,l.currentWriteId,!0));else{const f=H3(t,l.path,s);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){HT("transaction failed: Data returned ",p,l.path);let m=Pr(p);typeof p=="object"&&p!=null&&Ca(p,".priority")||(m=m.updatePriority(f.getPriority()));const S=l.currentWriteId,_=KT(t),w=N3(m,f,_);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=w,l.currentWriteId=W3(t),s.splice(s.indexOf(S),1),i=i.concat(k3(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(xc(t.serverSyncTree_,S,!0))}else u=!0,h="nodata",i=i.concat(xc(t.serverSyncTree_,l.currentWriteId,!0))}ks(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}nb(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)vh(r[a]);YT(t,t.transactionQueueTree_)}function G3(t,e){let n,r=t.transactionQueueTree_;for(n=kt(e);n!==null&&_h(r)===void 0;)r=WT(r,n),e=vn(e),n=kt(e);return r}function K3(t,e){const n=[];return q3(t,e,n),n.sort((r,i)=>r.order-i.order),n}function q3(t,e,n){const r=_h(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Z_(e,i=>{q3(t,i,n)})}function nb(t,e){const n=_h(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,D3(e,n.length>0?n:void 0)}Z_(e,r=>{nb(t,r)})}function Y3(t,e){const n=Bg(G3(t,e)),r=WT(t.transactionQueueTree_,e);return Uae(r,i=>{Fw(t,i)}),Fw(t,r),L3(r,i=>{Fw(t,i)}),n}function Fw(t,e){const n=_h(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(Te(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(Te(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(xc(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?D3(e,void 0):n.length=o+1,ks(t.eventQueue_,Bg(e),i);for(let s=0;s<r.length;s++)vh(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hle(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function fle(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):$i(`Invalid query segment '${n}' in query '${t}'`)}return e}const X2=function(t,e){const n=ple(t),r=n.namespace;n.domain==="firebase.com"&&Ea(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ea("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Ioe();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new q4(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new hn(n.pathString)}},ple=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(i=hle(t.substring(u,h)));const f=fle(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gle{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+yr(this.snapshot.exportVal())}}class mle{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Te(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return $t(this._path)?null:r3(this._path)}get ref(){return new Ta(this._repo,this._path)}get _queryIdentifier(){const e=D2(this._queryParams),n=wT(e);return n==="{}"?"default":n}get _queryObject(){return D2(this._queryParams)}isEqual(e){if(e=rn(e),!(e instanceof QT))return!1;const n=this._repo===e._repo,r=CT(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+use(this._path)}}class Ta extends QT{constructor(e,n){super(e,n,new kT,!1)}get parent(){const e=o3(this._path);return e===null?null:new Ta(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Xp{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new hn(e),r=dS(this.ref,e);return new Xp(this._node.getChild(n),r,Un)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Xp(i,dS(this.ref,r),Un)))}hasChild(e){const n=new hn(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function uS(t,e){return t=rn(t),t._checkNotDeleted("ref"),e!==void 0?dS(t._root,e):t._root}function dS(t,e){return t=rn(t),kt(t._path)===null?qae("child","path",e):j3("child","path",e),new Ta(t._repo,vr(t._path,e))}function Q2(t){return V3("remove",t._path),hS(t,null)}function hS(t,e){t=rn(t),V3("set",t._path),Kae("set",e,t._path);const n=new N0;return ole(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function yle(t){t=rn(t);const e=new XT(()=>{}),n=new jg(e);return ile(t._repo,t,n).then(r=>new Xp(r,new Ta(t._repo,t._path),t._queryParams.getIndex()))}class jg{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new gle("value",this,new Xp(e.snapshotNode,new Ta(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new mle(this,e,n):null}matches(e){return e instanceof jg?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function vle(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){const l=n,c=(u,h)=>{cS(t._repo,t,a),l(u,h)};c.userCallback=n.userCallback,c.context=n.context,n=c}const s=new XT(n,o||void 0),a=new jg(s);return ale(t._repo,t,a),()=>cS(t._repo,t,a)}function _le(t,e,n,r){return vle(t,"value",e,n,r)}function ble(t,e,n){let r=null;const i=n?new XT(n):null;r=new jg(i),cS(t._repo,t,r)}bae(Ta);Cae(Ta);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wle="FIREBASE_DATABASE_EMULATOR_HOST",fS={};let xle=!1;function Ele(t,e,n,r){t.repoInfo_=new q4(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function Sle(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Ea("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Zr("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=X2(o,i),a=s.repoInfo,l;typeof process<"u"&&y2&&(l=y2[wle]),l?(o=`http://${l}?ns=${a.namespace}`,s=X2(o,i),a=s.repoInfo):s.repoInfo.secure;const c=new Foe(t.name,t.options,e);Yae("Invalid Firebase Database URL",s),$t(s.path)||Ea("Database URL must point to the root of a Firebase Database (not including a child path).");const u=Tle(a,t,c,new Loe(t,n));return new Ile(u,t)}function Cle(t,e){const n=fS[e];(!n||n[t.key]!==t)&&Ea(`Database ${e}(${t.repoInfo_}) has already been deleted.`),lle(t),delete n[t.key]}function Tle(t,e,n,r){let i=fS[e.name];i||(i={},fS[e.name]=i);let o=i[t.toURLString()];return o&&Ea("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new ele(t,xle,n,r),i[t.toURLString()]=o,o}class Ile{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(tle(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ta(this._repo,Xt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Cle(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ea("Cannot call "+e+" on a deleted database.")}}function pS(t=L0(),e){const n=ug(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=RC("database");r&&Rle(n,...r)}return n}function Rle(t,e,n,r={}){t=rn(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&pa(r,o.repoInfo_.emulatorOptions))return;Ea("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Ea('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ly(Ly.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:kC(r.mockUserToken,t.app.options.projectId);s=new Ly(a)}Ele(o,i,r,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kle(t){woe(Vl),Sl(new ga("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return Sle(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),So(v2,_2,t),So(v2,_2,"esm2017")}la.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};la.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};kle();var rb={exports:{}},X3={};function Q3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Q3(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function J2(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Q3(t))&&(r&&(r+=" "),r+=e);return r}const Ple=Object.freeze(Object.defineProperty({__proto__:null,clsx:J2,default:J2},Symbol.toStringTag,{value:"Module"})),Ale=Lj(Ple);var Hn={},Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.dontSetMe=$le;Ns.findInArray=Mle;Ns.int=Dle;Ns.isFunction=Ole;Ns.isNum=Nle;function Mle(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function Ole(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function Nle(t){return typeof t=="number"&&!isNaN(t)}function Dle(t){return parseInt(t,10)}function $le(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var Zc={};Object.defineProperty(Zc,"__esModule",{value:!0});Zc.browserPrefixToKey=Z3;Zc.browserPrefixToStyle=Lle;Zc.default=void 0;Zc.getPrefix=J3;const Bw=["Moz","Webkit","O","ms"];function J3(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<Bw.length;r++)if(Z3(e,Bw[r])in n)return Bw[r];return""}function Z3(t,e){return e?"".concat(e).concat(Fle(t)):t}function Lle(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function Fle(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}Zc.default=J3();Object.defineProperty(Hn,"__esModule",{value:!0});Hn.addClassName=nB;Hn.addEvent=Vle;Hn.addUserSelectStyles=Jle;Hn.createCSSTransform=qle;Hn.createSVGTransform=Yle;Hn.getTouch=Xle;Hn.getTouchIdentifier=Qle;Hn.getTranslation=JT;Hn.innerHeight=Hle;Hn.innerWidth=Gle;Hn.matchesSelector=tB;Hn.matchesSelectorAndParentsTo=jle;Hn.offsetXYFromParent=Kle;Hn.outerHeight=zle;Hn.outerWidth=Wle;Hn.removeClassName=rB;Hn.removeEvent=Ule;Hn.removeUserSelectStyles=Zle;var so=Ns,Z2=Ble(Zc);function eB(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(eB=function(r){return r?n:e})(t)}function Ble(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=eB(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}let ey="";function tB(t,e){return ey||(ey=(0,so.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,so.isFunction)(t[n])})),(0,so.isFunction)(t[ey])?t[ey](e):!1}function jle(t,e,n){let r=t;do{if(tB(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function Vle(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,i):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function Ule(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function zle(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,so.int)(n.borderTopWidth),e+=(0,so.int)(n.borderBottomWidth),e}function Wle(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,so.int)(n.borderLeftWidth),e+=(0,so.int)(n.borderRightWidth),e}function Hle(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,so.int)(n.paddingTop),e-=(0,so.int)(n.paddingBottom),e}function Gle(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,so.int)(n.paddingLeft),e-=(0,so.int)(n.paddingRight),e}function Kle(t,e,n){const i=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),o=(t.clientX+e.scrollLeft-i.left)/n,s=(t.clientY+e.scrollTop-i.top)/n;return{x:o,y:s}}function qle(t,e){const n=JT(t,e,"px");return{[(0,Z2.browserPrefixToKey)("transform",Z2.default)]:n}}function Yle(t,e){return JT(t,e,"")}function JT(t,e,n){let{x:r,y:i}=t,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(e){const s="".concat(typeof e.x=="string"?e.x:e.x+n),a="".concat(typeof e.y=="string"?e.y:e.y+n);o="translate(".concat(s,", ").concat(a,")")+o}return o}function Xle(t,e){return t.targetTouches&&(0,so.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,so.findInArray)(t.changedTouches,n=>e===n.identifier)}function Qle(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function Jle(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&nB(t.body,"react-draggable-transparent-selection")}function Zle(t){if(t)try{if(t.body&&rB(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function nB(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function rB(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});Ds.canDragX=nce;Ds.canDragY=rce;Ds.createCoreData=oce;Ds.createDraggableData=sce;Ds.getBoundPosition=ece;Ds.getControlPosition=ice;Ds.snapToGrid=tce;var Wi=Ns,cd=Hn;function ece(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:ace(r);const i=ZT(t);if(typeof r=="string"){const{ownerDocument:o}=i,s=o.defaultView;let a;if(r==="parent"?a=i.parentNode:a=o.querySelector(r),!(a instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const l=a,c=s.getComputedStyle(i),u=s.getComputedStyle(l);r={left:-i.offsetLeft+(0,Wi.int)(u.paddingLeft)+(0,Wi.int)(c.marginLeft),top:-i.offsetTop+(0,Wi.int)(u.paddingTop)+(0,Wi.int)(c.marginTop),right:(0,cd.innerWidth)(l)-(0,cd.outerWidth)(i)-i.offsetLeft+(0,Wi.int)(u.paddingRight)-(0,Wi.int)(c.marginRight),bottom:(0,cd.innerHeight)(l)-(0,cd.outerHeight)(i)-i.offsetTop+(0,Wi.int)(u.paddingBottom)-(0,Wi.int)(c.marginBottom)}}return(0,Wi.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,Wi.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Wi.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,Wi.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function tce(t,e,n){const r=Math.round(e/t[0])*t[0],i=Math.round(n/t[1])*t[1];return[r,i]}function nce(t){return t.props.axis==="both"||t.props.axis==="x"}function rce(t){return t.props.axis==="both"||t.props.axis==="y"}function ice(t,e,n){const r=typeof e=="number"?(0,cd.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const i=ZT(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,cd.offsetXYFromParent)(r||t,o,n.props.scale)}function oce(t,e,n){const r=!(0,Wi.isNum)(t.lastX),i=ZT(t);return r?{node:i,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:i,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function sce(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function ace(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function ZT(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var ib={},ob={};Object.defineProperty(ob,"__esModule",{value:!0});ob.default=lce;function lce(){}Object.defineProperty(ib,"__esModule",{value:!0});ib.default=void 0;var jw=uce(g),xi=eI(z1),cce=eI(og),Kr=Hn,Ua=Ds,Vw=Ns,pf=eI(ob);function eI(t){return t&&t.__esModule?t:{default:t}}function iB(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(iB=function(r){return r?n:e})(t)}function uce(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=iB(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function ai(t,e,n){return e=dce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dce(t){var e=hce(t,"string");return typeof e=="symbol"?e:String(e)}function hce(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Vo={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let za=Vo.mouse,sb=class extends jw.Component{constructor(){super(...arguments),ai(this,"dragging",!1),ai(this,"lastX",NaN),ai(this,"lastY",NaN),ai(this,"touchIdentifier",null),ai(this,"mounted",!1),ai(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Kr.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,Kr.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const i=(0,Kr.getTouchIdentifier)(e);this.touchIdentifier=i;const o=(0,Ua.getControlPosition)(e,i,this);if(o==null)return;const{x:s,y:a}=o,l=(0,Ua.createCoreData)(this,s,a);(0,pf.default)("DraggableCore: handleDragStart: %j",l),(0,pf.default)("calling",this.props.onStart),!(this.props.onStart(e,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Kr.addUserSelectStyles)(r),this.dragging=!0,this.lastX=s,this.lastY=a,(0,Kr.addEvent)(r,za.move,this.handleDrag),(0,Kr.addEvent)(r,za.stop,this.handleDragStop))}),ai(this,"handleDrag",e=>{const n=(0,Ua.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,l=i-this.lastY;if([a,l]=(0,Ua.snapToGrid)(this.props.grid,a,l),!a&&!l)return;r=this.lastX+a,i=this.lastY+l}const o=(0,Ua.createCoreData)(this,r,i);if((0,pf.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(e,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=r,this.lastY=i}),ai(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,Ua.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX||0,c=i-this.lastY||0;[l,c]=(0,Ua.snapToGrid)(this.props.grid,l,c),r=this.lastX+l,i=this.lastY+c}const o=(0,Ua.createCoreData)(this,r,i);if(this.props.onStop(e,o)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,Kr.removeUserSelectStyles)(a.ownerDocument),(0,pf.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,pf.default)("DraggableCore: Removing handlers"),(0,Kr.removeEvent)(a.ownerDocument,za.move,this.handleDrag),(0,Kr.removeEvent)(a.ownerDocument,za.stop,this.handleDragStop))}),ai(this,"onMouseDown",e=>(za=Vo.mouse,this.handleDragStart(e))),ai(this,"onMouseUp",e=>(za=Vo.mouse,this.handleDragStop(e))),ai(this,"onTouchStart",e=>(za=Vo.touch,this.handleDragStart(e))),ai(this,"onTouchEnd",e=>(za=Vo.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Kr.addEvent)(e,Vo.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,Kr.removeEvent)(n,Vo.mouse.move,this.handleDrag),(0,Kr.removeEvent)(n,Vo.touch.move,this.handleDrag),(0,Kr.removeEvent)(n,Vo.mouse.stop,this.handleDragStop),(0,Kr.removeEvent)(n,Vo.touch.stop,this.handleDragStop),(0,Kr.removeEvent)(e,Vo.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Kr.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:cce.default.findDOMNode(this)}render(){return jw.cloneElement(jw.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};ib.default=sb;ai(sb,"displayName","DraggableCore");ai(sb,"propTypes",{allowAnyClick:xi.default.bool,children:xi.default.node.isRequired,disabled:xi.default.bool,enableUserSelectHack:xi.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:xi.default.arrayOf(xi.default.number),handle:xi.default.string,cancel:xi.default.string,nodeRef:xi.default.object,onStart:xi.default.func,onDrag:xi.default.func,onStop:xi.default.func,onMouseDown:xi.default.func,scale:xi.default.number,className:Vw.dontSetMe,style:Vw.dontSetMe,transform:Vw.dontSetMe});ai(sb,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var e=f(g),n=u(z1),r=u(og),i=u(Ale),o=Hn,s=Ds,a=Ns,l=u(ib),c=u(ob);function u(w){return w&&w.__esModule?w:{default:w}}function h(w){if(typeof WeakMap!="function")return null;var b=new WeakMap,C=new WeakMap;return(h=function(N){return N?C:b})(w)}function f(w,b){if(w&&w.__esModule)return w;if(w===null||typeof w!="object"&&typeof w!="function")return{default:w};var C=h(b);if(C&&C.has(w))return C.get(w);var N={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in w)if(E!=="default"&&Object.prototype.hasOwnProperty.call(w,E)){var k=$?Object.getOwnPropertyDescriptor(w,E):null;k&&(k.get||k.set)?Object.defineProperty(N,E,k):N[E]=w[E]}return N.default=w,C&&C.set(w,N),N}function p(){return p=Object.assign?Object.assign.bind():function(w){for(var b=1;b<arguments.length;b++){var C=arguments[b];for(var N in C)Object.prototype.hasOwnProperty.call(C,N)&&(w[N]=C[N])}return w},p.apply(this,arguments)}function m(w,b,C){return b=x(b),b in w?Object.defineProperty(w,b,{value:C,enumerable:!0,configurable:!0,writable:!0}):w[b]=C,w}function x(w){var b=S(w,"string");return typeof b=="symbol"?b:String(b)}function S(w,b){if(typeof w!="object"||w===null)return w;var C=w[Symbol.toPrimitive];if(C!==void 0){var N=C.call(w,b);if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(w)}class _ extends e.Component{static getDerivedStateFromProps(b,C){let{position:N}=b,{prevPropsPosition:$}=C;return N&&(!$||N.x!==$.x||N.y!==$.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:N,prevPropsPosition:$}),{x:N.x,y:N.y,prevPropsPosition:{...N}}):null}constructor(b){super(b),m(this,"onDragStart",(C,N)=>{if((0,c.default)("Draggable: onDragStart: %j",N),this.props.onStart(C,(0,s.createDraggableData)(this,N))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),m(this,"onDrag",(C,N)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",N);const $=(0,s.createDraggableData)(this,N),E={x:$.x,y:$.y,slackX:0,slackY:0};if(this.props.bounds){const{x:M,y:v}=E;E.x+=this.state.slackX,E.y+=this.state.slackY;const[P,D]=(0,s.getBoundPosition)(this,E.x,E.y);E.x=P,E.y=D,E.slackX=this.state.slackX+(M-E.x),E.slackY=this.state.slackY+(v-E.y),$.x=E.x,$.y=E.y,$.deltaX=E.x-this.state.x,$.deltaY=E.y-this.state.y}if(this.props.onDrag(C,$)===!1)return!1;this.setState(E)}),m(this,"onDragStop",(C,N)=>{if(!this.state.dragging||this.props.onStop(C,(0,s.createDraggableData)(this,N))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",N);const E={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:M,y:v}=this.props.position;E.x=M,E.y=v}this.setState(E)}),this.state={dragging:!1,dragged:!1,x:b.position?b.position.x:b.defaultPosition.x,y:b.position?b.position.y:b.defaultPosition.y,prevPropsPosition:{...b.position},slackX:0,slackY:0,isElementSVG:!1},b.position&&!(b.onDrag||b.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var b,C;return(b=(C=this.props)===null||C===void 0||(C=C.nodeRef)===null||C===void 0?void 0:C.current)!==null&&b!==void 0?b:r.default.findDOMNode(this)}render(){const{axis:b,bounds:C,children:N,defaultPosition:$,defaultClassName:E,defaultClassNameDragging:k,defaultClassNameDragged:M,position:v,positionOffset:P,scale:D,...O}=this.props;let J={},Q=null;const ce=!!!v||this.state.dragging,U=v||$,j={x:(0,s.canDragX)(this)&&ce?this.state.x:U.x,y:(0,s.canDragY)(this)&&ce?this.state.y:U.y};this.state.isElementSVG?Q=(0,o.createSVGTransform)(j,P):J=(0,o.createCSSTransform)(j,P);const z=(0,i.default)(N.props.className||"",E,{[k]:this.state.dragging,[M]:this.state.dragged});return e.createElement(l.default,p({},O,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(N),{className:z,style:{...N.props.style,...J},transform:Q}))}}t.default=_,m(_,"displayName","Draggable"),m(_,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),m(_,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(X3);const{default:oB,DraggableCore:fce}=X3;rb.exports=oB;rb.exports.default=oB;rb.exports.DraggableCore=fce;var pce=rb.exports;const gce=Zp(pce),eM=100,tM=40,mce=g.memo(({node:t,zoom:e,groupDelta:n,isHighlighted:r,currentUserEmail:i,selectedNodes:o,editingNodeId:s,editedText:a,handleResizeMouseDown:l,handleNodeClick:c,handleDoubleClick:u,handleTyping:h,handleTextBlur:f,setEditedText:p,setHoveredNodeId:m,linkingSource:x,onStart:S,onDrag:_,onStop:w,hoveredNodeId:b})=>{const C=o.includes(t.id),N=b===t.id,$=((t.width||eM)+(t.height||tM))/2,E=$*.02,M=Math.max(E,4),v=C?"#8896DD":N?"white":"transparent",P=o.includes(t.id)?t.x+n.x:t.x,D=o.includes(t.id)?t.y+n.y:t.y;t.bgColor||t.id,t.textColor;const O=$*.03,J=$*.1,Q=t.fontSize?parseFloat(t.fontSize):14,Z=Q*.1,ce=Q*.2,U=`${Z}px ${Z}px ${ce}px rgba(0, 0, 0, 0.7)`;return I.jsx(gce,{scale:e,position:{x:P,y:D},onStart:S,onDrag:_,onStop:w,children:I.jsxs("div",{onMouseEnter:()=>m(t.id),onMouseLeave:()=>m(null),onClick:j=>{j.stopPropagation(),c(t,j)},onDoubleClick:()=>u(t),style:{position:"absolute",transform:`translate3d(${t.x}px, ${t.y}px, 0)`,padding:"10px",backgroundColor:t.bgColor?t.bgColor:x===t.id?"#333":"#1e1e1e",color:t.textColor||"#fff",borderRadius:"8px",cursor:"grab",minWidth:"120px",width:t.width?`${t.width}px`:`${eM}px`,height:t.height?`${t.height}px`:`${tM}px`,overflow:"hidden",boxSizing:"border-box",fontSize:t.fontSize?`${t.fontSize}px`:"14px",textAlign:t.textAlign||"left",fontStyle:t.textStyle&&t.textStyle.includes("italic")?"italic":"normal",textDecoration:t.textStyle&&t.textStyle.includes("underline")?"underline":"none",fontWeight:t.textStyle&&t.textStyle.includes("bold")?"bold":"normal",fontFamily:t.fontFamily||"Arial, sans-serif",outlineWidth:`${M}px`,outlineStyle:"solid",outlineColor:v,outlineOffset:`${M}px`,transition:C?"outline-color 0.25s ease-in-out, box-shadow 0.2s ease-in-out, background-color 0.15s ease-in-out, color 0.15s ease-in-out":"none",boxShadow:`0 ${O}px ${J}px rgba(0, 0, 0, 0.5)`,textShadow:U},children:[s===t.id?I.jsx("textarea",{value:a,onChange:j=>{p(j.target.value),h(t.id)},onBlur:()=>f(t.id),autoFocus:!0,style:{backgroundColor:"inherit",width:"100%",height:"107%",fontSize:"inherit",color:"inherit",fontStyle:"inherit",fontFamily:"inherit",fontWeight:"inherit",textDecoration:"inherit",textAlign:"inherit",border:"none",outline:"none",resize:"none",textShadow:U,padding:0,margin:0,boxSizing:"border-box"}}):t.type==="image"?I.jsx("img",{src:t.imageUrl,alt:"Node content",style:{width:"100%",height:"100%",objectFit:"contain",pointerEvents:"none"}}):I.jsx("span",{style:{whiteSpace:"pre-wrap"},children:t.text}),t.lockedBy&&t.lockedBy!==i&&I.jsxs("div",{style:{position:"absolute",bottom:0,left:0,backgroundColor:"rgba(255,0,0,0.7)",color:"#fff",fontSize:"10px",padding:"2px",borderRadius:"2px"},children:["Locked by ",t.lockedBy]}),t.typing&&t.lockedBy&&t.lockedBy!==i&&I.jsx("div",{style:{position:"absolute",bottom:0,right:0,backgroundColor:"rgba(0,0,255,0.7)",color:"#fff",fontSize:"10px",padding:"2px",borderRadius:"2px"},children:"Typing..."})]})})}),yce=(t,e,n=150,r=800,i=1.5)=>{const o={},s=c=>{if(c.parent){if(o[c.parent]===void 0){const u=t.find(h=>h.id===c.parent);u?s(u):o[c.parent]=0}o[c.id]=o[c.parent]+1}else o[c.id]=0};t.forEach(c=>{o[c.id]===void 0&&s(c)});const a={};t.forEach(c=>{const u=o[c.id];a[u]||(a[u]=[]),a[u].push(c.id)});const l={};return Object.keys(a).forEach(c=>{const u=parseInt(c,10),h=a[u],f=h.length,p=r*Math.pow(i,u);h.forEach((m,x)=>{const _=(x+1)/(f+1)*p-p/2+r/2,w=u*n;l[m]={x:_,y:w}})}),{layout:l,levelMap:o}},vce=(t,e,n=100,r=400,i=300)=>{const o={},s=c=>{if(c.parent){if(o[c.parent]===void 0){const u=t.find(h=>h.id===c.parent);u?s(u):o[c.parent]=0}o[c.id]=o[c.parent]+1}else o[c.id]=0};t.forEach(c=>{o[c.id]===void 0&&s(c)});const a={};t.forEach(c=>{const u=o[c.id];a[u]||(a[u]=[]),a[u].push(c.id)});const l={};return Object.keys(a).forEach(c=>{const u=parseInt(c,10),h=a[u],f=h.length,p=u*n,m=2*Math.PI/f;let x=0;h.forEach(S=>{const _=r+p*Math.cos(x),w=i+p*Math.sin(x);l[S]={x:_,y:w},x+=m})}),{layout:l,levelMap:o}},_ce=(t,e,n=150,r=600,i=1.5)=>{const o={},s=c=>{if(c.parent){if(o[c.parent]===void 0){const u=t.find(h=>h.id===c.parent);u?s(u):o[c.parent]=0}o[c.id]=o[c.parent]+1}else o[c.id]=0};t.forEach(c=>{o[c.id]===void 0&&s(c)});const a={};t.forEach(c=>{const u=o[c.id];a[u]||(a[u]=[]),a[u].push(c.id)});const l={};return Object.keys(a).forEach(c=>{const u=parseInt(c,10),h=a[u],f=h.length,p=r*Math.pow(i,u);h.forEach((m,x)=>{const _=(x+1)/(f+1)*p-p/2+r/2,w=u*n;l[m]={x:w,y:_}})}),{layout:l,levelMap:o}},nM=Zn(I.jsx("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10c1.38 0 2.5-1.12 2.5-2.5 0-.61-.23-1.2-.64-1.67-.08-.1-.13-.21-.13-.33 0-.28.22-.5.5-.5H16c3.31 0 6-2.69 6-6 0-4.96-4.49-9-10-9m5.5 11c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m-3-4c-.83 0-1.5-.67-1.5-1.5S13.67 6 14.5 6s1.5.67 1.5 1.5S15.33 9 14.5 9M5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S7.33 13 6.5 13 5 12.33 5 11.5m6-4c0 .83-.67 1.5-1.5 1.5S8 8.33 8 7.5 8.67 6 9.5 6s1.5.67 1.5 1.5"}));var wo={},Vg={},bce=typeof tl=="object"&&tl&&tl.Object===Object&&tl,sB=bce,wce=sB,xce=typeof self=="object"&&self&&self.Object===Object&&self,Ece=wce||xce||Function("return this")(),$s=Ece,Sce=$s,Cce=Sce.Symbol,Ug=Cce,rM=Ug,aB=Object.prototype,Tce=aB.hasOwnProperty,Ice=aB.toString,gf=rM?rM.toStringTag:void 0;function Rce(t){var e=Tce.call(t,gf),n=t[gf];try{t[gf]=void 0;var r=!0}catch{}var i=Ice.call(t);return r&&(e?t[gf]=n:delete t[gf]),i}var kce=Rce,Pce=Object.prototype,Ace=Pce.toString;function Mce(t){return Ace.call(t)}var Oce=Mce,iM=Ug,Nce=kce,Dce=Oce,$ce="[object Null]",Lce="[object Undefined]",oM=iM?iM.toStringTag:void 0;function Fce(t){return t==null?t===void 0?Lce:$ce:oM&&oM in Object(t)?Nce(t):Dce(t)}var eu=Fce,Bce=Array.isArray,os=Bce;function jce(t){return t!=null&&typeof t=="object"}var Ia=jce,Vce=eu,Uce=os,zce=Ia,Wce="[object String]";function Hce(t){return typeof t=="string"||!Uce(t)&&zce(t)&&Vce(t)==Wce}var Gce=Hce;function Kce(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var qce=Kce,Yce=qce,Xce=Yce(),Qce=Xce;function Jce(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Zce=Jce,eue=eu,tue=Ia,nue="[object Arguments]";function rue(t){return tue(t)&&eue(t)==nue}var iue=rue,sM=iue,oue=Ia,lB=Object.prototype,sue=lB.hasOwnProperty,aue=lB.propertyIsEnumerable,lue=sM(function(){return arguments}())?sM:function(t){return oue(t)&&sue.call(t,"callee")&&!aue.call(t,"callee")},cB=lue,i0={exports:{}};function cue(){return!1}var uue=cue;i0.exports;(function(t,e){var n=$s,r=uue,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(i0,i0.exports);var tI=i0.exports,due=9007199254740991,hue=/^(?:0|[1-9]\d*)$/;function fue(t,e){var n=typeof t;return e=e??due,!!e&&(n=="number"||n!="symbol"&&hue.test(t))&&t>-1&&t%1==0&&t<e}var uB=fue,pue=9007199254740991;function gue(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=pue}var nI=gue,mue=eu,yue=nI,vue=Ia,_ue="[object Arguments]",bue="[object Array]",wue="[object Boolean]",xue="[object Date]",Eue="[object Error]",Sue="[object Function]",Cue="[object Map]",Tue="[object Number]",Iue="[object Object]",Rue="[object RegExp]",kue="[object Set]",Pue="[object String]",Aue="[object WeakMap]",Mue="[object ArrayBuffer]",Oue="[object DataView]",Nue="[object Float32Array]",Due="[object Float64Array]",$ue="[object Int8Array]",Lue="[object Int16Array]",Fue="[object Int32Array]",Bue="[object Uint8Array]",jue="[object Uint8ClampedArray]",Vue="[object Uint16Array]",Uue="[object Uint32Array]",Sn={};Sn[Nue]=Sn[Due]=Sn[$ue]=Sn[Lue]=Sn[Fue]=Sn[Bue]=Sn[jue]=Sn[Vue]=Sn[Uue]=!0;Sn[_ue]=Sn[bue]=Sn[Mue]=Sn[wue]=Sn[Oue]=Sn[xue]=Sn[Eue]=Sn[Sue]=Sn[Cue]=Sn[Tue]=Sn[Iue]=Sn[Rue]=Sn[kue]=Sn[Pue]=Sn[Aue]=!1;function zue(t){return vue(t)&&yue(t.length)&&!!Sn[mue(t)]}var Wue=zue;function Hue(t){return function(e){return t(e)}}var rI=Hue,o0={exports:{}};o0.exports;(function(t,e){var n=sB,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(o0,o0.exports);var iI=o0.exports,Gue=Wue,Kue=rI,aM=iI,lM=aM&&aM.isTypedArray,que=lM?Kue(lM):Gue,dB=que,Yue=Zce,Xue=cB,Que=os,Jue=tI,Zue=uB,ede=dB,tde=Object.prototype,nde=tde.hasOwnProperty;function rde(t,e){var n=Que(t),r=!n&&Xue(t),i=!n&&!r&&Jue(t),o=!n&&!r&&!i&&ede(t),s=n||r||i||o,a=s?Yue(t.length,String):[],l=a.length;for(var c in t)(e||nde.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Zue(c,l)))&&a.push(c);return a}var hB=rde,ide=Object.prototype;function ode(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ide;return t===n}var oI=ode;function sde(t,e){return function(n){return t(e(n))}}var fB=sde,ade=fB,lde=ade(Object.keys,Object),cde=lde,ude=oI,dde=cde,hde=Object.prototype,fde=hde.hasOwnProperty;function pde(t){if(!ude(t))return dde(t);var e=[];for(var n in Object(t))fde.call(t,n)&&n!="constructor"&&e.push(n);return e}var gde=pde;function mde(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var bh=mde,yde=eu,vde=bh,_de="[object AsyncFunction]",bde="[object Function]",wde="[object GeneratorFunction]",xde="[object Proxy]";function Ede(t){if(!vde(t))return!1;var e=yde(t);return e==bde||e==wde||e==_de||e==xde}var pB=Ede,Sde=pB,Cde=nI;function Tde(t){return t!=null&&Cde(t.length)&&!Sde(t)}var ab=Tde,Ide=hB,Rde=gde,kde=ab;function Pde(t){return kde(t)?Ide(t):Rde(t)}var zg=Pde,Ade=Qce,Mde=zg;function Ode(t,e){return t&&Ade(t,e,Mde)}var gB=Ode;function Nde(t){return t}var mB=Nde,Dde=mB;function $de(t){return typeof t=="function"?t:Dde}var Lde=$de,Fde=gB,Bde=Lde;function jde(t,e){return t&&Fde(t,Bde(e))}var sI=jde,Vde=fB,Ude=Vde(Object.getPrototypeOf,Object),aI=Ude,zde=eu,Wde=aI,Hde=Ia,Gde="[object Object]",Kde=Function.prototype,qde=Object.prototype,yB=Kde.toString,Yde=qde.hasOwnProperty,Xde=yB.call(Object);function Qde(t){if(!Hde(t)||zde(t)!=Gde)return!1;var e=Wde(t);if(e===null)return!0;var n=Yde.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&yB.call(n)==Xde}var Jde=Qde;function Zde(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var vB=Zde;function ehe(){this.__data__=[],this.size=0}var the=ehe;function nhe(t,e){return t===e||t!==t&&e!==e}var lI=nhe,rhe=lI;function ihe(t,e){for(var n=t.length;n--;)if(rhe(t[n][0],e))return n;return-1}var lb=ihe,ohe=lb,she=Array.prototype,ahe=she.splice;function lhe(t){var e=this.__data__,n=ohe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():ahe.call(e,n,1),--this.size,!0}var che=lhe,uhe=lb;function dhe(t){var e=this.__data__,n=uhe(e,t);return n<0?void 0:e[n][1]}var hhe=dhe,fhe=lb;function phe(t){return fhe(this.__data__,t)>-1}var ghe=phe,mhe=lb;function yhe(t,e){var n=this.__data__,r=mhe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var vhe=yhe,_he=the,bhe=che,whe=hhe,xhe=ghe,Ehe=vhe;function wh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wh.prototype.clear=_he;wh.prototype.delete=bhe;wh.prototype.get=whe;wh.prototype.has=xhe;wh.prototype.set=Ehe;var cb=wh,She=cb;function Che(){this.__data__=new She,this.size=0}var The=Che;function Ihe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Rhe=Ihe;function khe(t){return this.__data__.get(t)}var Phe=khe;function Ahe(t){return this.__data__.has(t)}var Mhe=Ahe,Ohe=$s,Nhe=Ohe["__core-js_shared__"],Dhe=Nhe,Uw=Dhe,cM=function(){var t=/[^.]+$/.exec(Uw&&Uw.keys&&Uw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function $he(t){return!!cM&&cM in t}var Lhe=$he,Fhe=Function.prototype,Bhe=Fhe.toString;function jhe(t){if(t!=null){try{return Bhe.call(t)}catch{}try{return t+""}catch{}}return""}var _B=jhe,Vhe=pB,Uhe=Lhe,zhe=bh,Whe=_B,Hhe=/[\\^$.*+?()[\]{}|]/g,Ghe=/^\[object .+?Constructor\]$/,Khe=Function.prototype,qhe=Object.prototype,Yhe=Khe.toString,Xhe=qhe.hasOwnProperty,Qhe=RegExp("^"+Yhe.call(Xhe).replace(Hhe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Jhe(t){if(!zhe(t)||Uhe(t))return!1;var e=Vhe(t)?Qhe:Ghe;return e.test(Whe(t))}var Zhe=Jhe;function efe(t,e){return t==null?void 0:t[e]}var tfe=efe,nfe=Zhe,rfe=tfe;function ife(t,e){var n=rfe(t,e);return nfe(n)?n:void 0}var tu=ife,ofe=tu,sfe=$s,afe=ofe(sfe,"Map"),cI=afe,lfe=tu,cfe=lfe(Object,"create"),ub=cfe,uM=ub;function ufe(){this.__data__=uM?uM(null):{},this.size=0}var dfe=ufe;function hfe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ffe=hfe,pfe=ub,gfe="__lodash_hash_undefined__",mfe=Object.prototype,yfe=mfe.hasOwnProperty;function vfe(t){var e=this.__data__;if(pfe){var n=e[t];return n===gfe?void 0:n}return yfe.call(e,t)?e[t]:void 0}var _fe=vfe,bfe=ub,wfe=Object.prototype,xfe=wfe.hasOwnProperty;function Efe(t){var e=this.__data__;return bfe?e[t]!==void 0:xfe.call(e,t)}var Sfe=Efe,Cfe=ub,Tfe="__lodash_hash_undefined__";function Ife(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Cfe&&e===void 0?Tfe:e,this}var Rfe=Ife,kfe=dfe,Pfe=ffe,Afe=_fe,Mfe=Sfe,Ofe=Rfe;function xh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xh.prototype.clear=kfe;xh.prototype.delete=Pfe;xh.prototype.get=Afe;xh.prototype.has=Mfe;xh.prototype.set=Ofe;var Nfe=xh,dM=Nfe,Dfe=cb,$fe=cI;function Lfe(){this.size=0,this.__data__={hash:new dM,map:new($fe||Dfe),string:new dM}}var Ffe=Lfe;function Bfe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var jfe=Bfe,Vfe=jfe;function Ufe(t,e){var n=t.__data__;return Vfe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var db=Ufe,zfe=db;function Wfe(t){var e=zfe(this,t).delete(t);return this.size-=e?1:0,e}var Hfe=Wfe,Gfe=db;function Kfe(t){return Gfe(this,t).get(t)}var qfe=Kfe,Yfe=db;function Xfe(t){return Yfe(this,t).has(t)}var Qfe=Xfe,Jfe=db;function Zfe(t,e){var n=Jfe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var epe=Zfe,tpe=Ffe,npe=Hfe,rpe=qfe,ipe=Qfe,ope=epe;function Eh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Eh.prototype.clear=tpe;Eh.prototype.delete=npe;Eh.prototype.get=rpe;Eh.prototype.has=ipe;Eh.prototype.set=ope;var uI=Eh,spe=cb,ape=cI,lpe=uI,cpe=200;function upe(t,e){var n=this.__data__;if(n instanceof spe){var r=n.__data__;if(!ape||r.length<cpe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new lpe(r)}return n.set(t,e),this.size=n.size,this}var dpe=upe,hpe=cb,fpe=The,ppe=Rhe,gpe=Phe,mpe=Mhe,ype=dpe;function Sh(t){var e=this.__data__=new hpe(t);this.size=e.size}Sh.prototype.clear=fpe;Sh.prototype.delete=ppe;Sh.prototype.get=gpe;Sh.prototype.has=mpe;Sh.prototype.set=ype;var dI=Sh,vpe="__lodash_hash_undefined__";function _pe(t){return this.__data__.set(t,vpe),this}var bpe=_pe;function wpe(t){return this.__data__.has(t)}var xpe=wpe,Epe=uI,Spe=bpe,Cpe=xpe;function s0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Epe;++e<n;)this.add(t[e])}s0.prototype.add=s0.prototype.push=Spe;s0.prototype.has=Cpe;var Tpe=s0;function Ipe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Rpe=Ipe;function kpe(t,e){return t.has(e)}var Ppe=kpe,Ape=Tpe,Mpe=Rpe,Ope=Ppe,Npe=1,Dpe=2;function $pe(t,e,n,r,i,o){var s=n&Npe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var h=-1,f=!0,p=n&Dpe?new Ape:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var m=t[h],x=e[h];if(r)var S=s?r(x,m,h,e,t,o):r(m,x,h,t,e,o);if(S!==void 0){if(S)continue;f=!1;break}if(p){if(!Mpe(e,function(_,w){if(!Ope(p,w)&&(m===_||i(m,_,n,r,o)))return p.push(w)})){f=!1;break}}else if(!(m===x||i(m,x,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}var bB=$pe,Lpe=$s,Fpe=Lpe.Uint8Array,wB=Fpe;function Bpe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var jpe=Bpe;function Vpe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Upe=Vpe,hM=Ug,fM=wB,zpe=lI,Wpe=bB,Hpe=jpe,Gpe=Upe,Kpe=1,qpe=2,Ype="[object Boolean]",Xpe="[object Date]",Qpe="[object Error]",Jpe="[object Map]",Zpe="[object Number]",ege="[object RegExp]",tge="[object Set]",nge="[object String]",rge="[object Symbol]",ige="[object ArrayBuffer]",oge="[object DataView]",pM=hM?hM.prototype:void 0,zw=pM?pM.valueOf:void 0;function sge(t,e,n,r,i,o,s){switch(n){case oge:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ige:return!(t.byteLength!=e.byteLength||!o(new fM(t),new fM(e)));case Ype:case Xpe:case Zpe:return zpe(+t,+e);case Qpe:return t.name==e.name&&t.message==e.message;case ege:case nge:return t==e+"";case Jpe:var a=Hpe;case tge:var l=r&Kpe;if(a||(a=Gpe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=qpe,s.set(t,e);var u=Wpe(a(t),a(e),r,i,o,s);return s.delete(t),u;case rge:if(zw)return zw.call(t)==zw.call(e)}return!1}var age=sge;function lge(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var xB=lge,cge=xB,uge=os;function dge(t,e,n){var r=e(t);return uge(t)?r:cge(r,n(t))}var EB=dge;function hge(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var fge=hge;function pge(){return[]}var SB=pge,gge=fge,mge=SB,yge=Object.prototype,vge=yge.propertyIsEnumerable,gM=Object.getOwnPropertySymbols,_ge=gM?function(t){return t==null?[]:(t=Object(t),gge(gM(t),function(e){return vge.call(t,e)}))}:mge,hI=_ge,bge=EB,wge=hI,xge=zg;function Ege(t){return bge(t,xge,wge)}var CB=Ege,mM=CB,Sge=1,Cge=Object.prototype,Tge=Cge.hasOwnProperty;function Ige(t,e,n,r,i,o){var s=n&Sge,a=mM(t),l=a.length,c=mM(e),u=c.length;if(l!=u&&!s)return!1;for(var h=l;h--;){var f=a[h];if(!(s?f in e:Tge.call(e,f)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var x=!0;o.set(t,e),o.set(e,t);for(var S=s;++h<l;){f=a[h];var _=t[f],w=e[f];if(r)var b=s?r(w,_,f,e,t,o):r(_,w,f,t,e,o);if(!(b===void 0?_===w||i(_,w,n,r,o):b)){x=!1;break}S||(S=f=="constructor")}if(x&&!S){var C=t.constructor,N=e.constructor;C!=N&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof N=="function"&&N instanceof N)&&(x=!1)}return o.delete(t),o.delete(e),x}var Rge=Ige,kge=tu,Pge=$s,Age=kge(Pge,"DataView"),Mge=Age,Oge=tu,Nge=$s,Dge=Oge(Nge,"Promise"),$ge=Dge,Lge=tu,Fge=$s,Bge=Lge(Fge,"Set"),jge=Bge,Vge=tu,Uge=$s,zge=Vge(Uge,"WeakMap"),Wge=zge,gS=Mge,mS=cI,yS=$ge,vS=jge,_S=Wge,TB=eu,Ch=_B,yM="[object Map]",Hge="[object Object]",vM="[object Promise]",_M="[object Set]",bM="[object WeakMap]",wM="[object DataView]",Gge=Ch(gS),Kge=Ch(mS),qge=Ch(yS),Yge=Ch(vS),Xge=Ch(_S),fc=TB;(gS&&fc(new gS(new ArrayBuffer(1)))!=wM||mS&&fc(new mS)!=yM||yS&&fc(yS.resolve())!=vM||vS&&fc(new vS)!=_M||_S&&fc(new _S)!=bM)&&(fc=function(t){var e=TB(t),n=e==Hge?t.constructor:void 0,r=n?Ch(n):"";if(r)switch(r){case Gge:return wM;case Kge:return yM;case qge:return vM;case Yge:return _M;case Xge:return bM}return e});var hb=fc,Ww=dI,Qge=bB,Jge=age,Zge=Rge,xM=hb,EM=os,SM=tI,eme=dB,tme=1,CM="[object Arguments]",TM="[object Array]",ty="[object Object]",nme=Object.prototype,IM=nme.hasOwnProperty;function rme(t,e,n,r,i,o){var s=EM(t),a=EM(e),l=s?TM:xM(t),c=a?TM:xM(e);l=l==CM?ty:l,c=c==CM?ty:c;var u=l==ty,h=c==ty,f=l==c;if(f&&SM(t)){if(!SM(e))return!1;s=!0,u=!1}if(f&&!u)return o||(o=new Ww),s||eme(t)?Qge(t,e,n,r,i,o):Jge(t,e,l,n,r,i,o);if(!(n&tme)){var p=u&&IM.call(t,"__wrapped__"),m=h&&IM.call(e,"__wrapped__");if(p||m){var x=p?t.value():t,S=m?e.value():e;return o||(o=new Ww),i(x,S,n,r,o)}}return f?(o||(o=new Ww),Zge(t,e,n,r,i,o)):!1}var ime=rme,ome=ime,RM=Ia;function IB(t,e,n,r,i){return t===e?!0:t==null||e==null||!RM(t)&&!RM(e)?t!==t&&e!==e:ome(t,e,n,r,IB,i)}var RB=IB,sme=dI,ame=RB,lme=1,cme=2;function ume(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],c=t[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in t))return!1}else{var h=new sme;if(r)var f=r(c,u,l,t,e,h);if(!(f===void 0?ame(u,c,lme|cme,r,h):f))return!1}}return!0}var dme=ume,hme=bh;function fme(t){return t===t&&!hme(t)}var kB=fme,pme=kB,gme=zg;function mme(t){for(var e=gme(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,pme(i)]}return e}var yme=mme;function vme(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var PB=vme,_me=dme,bme=yme,wme=PB;function xme(t){var e=bme(t);return e.length==1&&e[0][2]?wme(e[0][0],e[0][1]):function(n){return n===t||_me(n,t,e)}}var Eme=xme,Sme=eu,Cme=Ia,Tme="[object Symbol]";function Ime(t){return typeof t=="symbol"||Cme(t)&&Sme(t)==Tme}var fI=Ime,Rme=os,kme=fI,Pme=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ame=/^\w*$/;function Mme(t,e){if(Rme(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||kme(t)?!0:Ame.test(t)||!Pme.test(t)||e!=null&&t in Object(e)}var pI=Mme,AB=uI,Ome="Expected a function";function gI(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Ome);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(gI.Cache||AB),n}gI.Cache=AB;var Nme=gI,Dme=Nme,$me=500;function Lme(t){var e=Dme(t,function(r){return n.size===$me&&n.clear(),r}),n=e.cache;return e}var Fme=Lme,Bme=Fme,jme=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vme=/\\(\\)?/g,Ume=Bme(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(jme,function(n,r,i,o){e.push(i?o.replace(Vme,"$1"):r||n)}),e}),zme=Ume,kM=Ug,Wme=vB,Hme=os,Gme=fI,PM=kM?kM.prototype:void 0,AM=PM?PM.toString:void 0;function MB(t){if(typeof t=="string")return t;if(Hme(t))return Wme(t,MB)+"";if(Gme(t))return AM?AM.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Kme=MB,qme=Kme;function Yme(t){return t==null?"":qme(t)}var Xme=Yme,Qme=os,Jme=pI,Zme=zme,eye=Xme;function tye(t,e){return Qme(t)?t:Jme(t,e)?[t]:Zme(eye(t))}var OB=tye,nye=fI;function rye(t){if(typeof t=="string"||nye(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var fb=rye,iye=OB,oye=fb;function sye(t,e){e=iye(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[oye(e[n++])];return n&&n==r?t:void 0}var NB=sye,aye=NB;function lye(t,e,n){var r=t==null?void 0:aye(t,e);return r===void 0?n:r}var cye=lye;function uye(t,e){return t!=null&&e in Object(t)}var dye=uye,hye=OB,fye=cB,pye=os,gye=uB,mye=nI,yye=fb;function vye(t,e,n){e=hye(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=yye(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&mye(i)&&gye(s,i)&&(pye(t)||fye(t)))}var _ye=vye,bye=dye,wye=_ye;function xye(t,e){return t!=null&&wye(t,e,bye)}var Eye=xye,Sye=RB,Cye=cye,Tye=Eye,Iye=pI,Rye=kB,kye=PB,Pye=fb,Aye=1,Mye=2;function Oye(t,e){return Iye(t)&&Rye(e)?kye(Pye(t),e):function(n){var r=Cye(n,t);return r===void 0&&r===e?Tye(n,t):Sye(e,r,Aye|Mye)}}var Nye=Oye;function Dye(t){return function(e){return e==null?void 0:e[t]}}var $ye=Dye,Lye=NB;function Fye(t){return function(e){return Lye(e,t)}}var Bye=Fye,jye=$ye,Vye=Bye,Uye=pI,zye=fb;function Wye(t){return Uye(t)?jye(zye(t)):Vye(t)}var Hye=Wye,Gye=Eme,Kye=Nye,qye=mB,Yye=os,Xye=Hye;function Qye(t){return typeof t=="function"?t:t==null?qye:typeof t=="object"?Yye(t)?Kye(t[0],t[1]):Gye(t):Xye(t)}var Jye=Qye,Zye=ab;function eve(t,e){return function(n,r){if(n==null)return n;if(!Zye(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var tve=eve,nve=gB,rve=tve,ive=rve(nve),ove=ive,sve=ove,ave=ab;function lve(t,e){var n=-1,r=ave(t)?Array(t.length):[];return sve(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var cve=lve,uve=vB,dve=Jye,hve=cve,fve=os;function pve(t,e){var n=fve(t)?uve:hve;return n(t,dve(e))}var gve=pve;Object.defineProperty(Vg,"__esModule",{value:!0});Vg.flattenNames=void 0;var mve=Gce,yve=pb(mve),vve=sI,_ve=pb(vve),bve=Jde,wve=pb(bve),xve=gve,Eve=pb(xve);function pb(t){return t&&t.__esModule?t:{default:t}}var Sve=Vg.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,Eve.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,wve.default)(r)?(0,_ve.default)(r,function(i,o){i===!0&&n.push(o),n.push(o+"-"+i)}):(0,yve.default)(r)&&n.push(r)}),n};Vg.default=Sve;var Wg={};function Cve(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Tve=Cve,Ive=tu,Rve=function(){try{var t=Ive(Object,"defineProperty");return t({},"",{}),t}catch{}}(),kve=Rve,MM=kve;function Pve(t,e,n){e=="__proto__"&&MM?MM(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var DB=Pve,Ave=DB,Mve=lI,Ove=Object.prototype,Nve=Ove.hasOwnProperty;function Dve(t,e,n){var r=t[e];(!(Nve.call(t,e)&&Mve(r,n))||n===void 0&&!(e in t))&&Ave(t,e,n)}var $B=Dve,$ve=$B,Lve=DB;function Fve(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?Lve(n,a,l):$ve(n,a,l)}return n}var gb=Fve,Bve=gb,jve=zg;function Vve(t,e){return t&&Bve(e,jve(e),t)}var Uve=Vve;function zve(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Wve=zve,Hve=bh,Gve=oI,Kve=Wve,qve=Object.prototype,Yve=qve.hasOwnProperty;function Xve(t){if(!Hve(t))return Kve(t);var e=Gve(t),n=[];for(var r in t)r=="constructor"&&(e||!Yve.call(t,r))||n.push(r);return n}var Qve=Xve,Jve=hB,Zve=Qve,e0e=ab;function t0e(t){return e0e(t)?Jve(t,!0):Zve(t)}var mI=t0e,n0e=gb,r0e=mI;function i0e(t,e){return t&&n0e(e,r0e(e),t)}var o0e=i0e,a0={exports:{}};a0.exports;(function(t,e){var n=$s,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var h=c.length,f=a?a(h):new c.constructor(h);return c.copy(f),f}t.exports=l})(a0,a0.exports);var s0e=a0.exports;function a0e(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var l0e=a0e,c0e=gb,u0e=hI;function d0e(t,e){return c0e(t,u0e(t),e)}var h0e=d0e,f0e=xB,p0e=aI,g0e=hI,m0e=SB,y0e=Object.getOwnPropertySymbols,v0e=y0e?function(t){for(var e=[];t;)f0e(e,g0e(t)),t=p0e(t);return e}:m0e,LB=v0e,_0e=gb,b0e=LB;function w0e(t,e){return _0e(t,b0e(t),e)}var x0e=w0e,E0e=EB,S0e=LB,C0e=mI;function T0e(t){return E0e(t,C0e,S0e)}var I0e=T0e,R0e=Object.prototype,k0e=R0e.hasOwnProperty;function P0e(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&k0e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var A0e=P0e,OM=wB;function M0e(t){var e=new t.constructor(t.byteLength);return new OM(e).set(new OM(t)),e}var yI=M0e,O0e=yI;function N0e(t,e){var n=e?O0e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var D0e=N0e,$0e=/\w*$/;function L0e(t){var e=new t.constructor(t.source,$0e.exec(t));return e.lastIndex=t.lastIndex,e}var F0e=L0e,NM=Ug,DM=NM?NM.prototype:void 0,$M=DM?DM.valueOf:void 0;function B0e(t){return $M?Object($M.call(t)):{}}var j0e=B0e,V0e=yI;function U0e(t,e){var n=e?V0e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var z0e=U0e,W0e=yI,H0e=D0e,G0e=F0e,K0e=j0e,q0e=z0e,Y0e="[object Boolean]",X0e="[object Date]",Q0e="[object Map]",J0e="[object Number]",Z0e="[object RegExp]",e_e="[object Set]",t_e="[object String]",n_e="[object Symbol]",r_e="[object ArrayBuffer]",i_e="[object DataView]",o_e="[object Float32Array]",s_e="[object Float64Array]",a_e="[object Int8Array]",l_e="[object Int16Array]",c_e="[object Int32Array]",u_e="[object Uint8Array]",d_e="[object Uint8ClampedArray]",h_e="[object Uint16Array]",f_e="[object Uint32Array]";function p_e(t,e,n){var r=t.constructor;switch(e){case r_e:return W0e(t);case Y0e:case X0e:return new r(+t);case i_e:return H0e(t,n);case o_e:case s_e:case a_e:case l_e:case c_e:case u_e:case d_e:case h_e:case f_e:return q0e(t,n);case Q0e:return new r;case J0e:case t_e:return new r(t);case Z0e:return G0e(t);case e_e:return new r;case n_e:return K0e(t)}}var g_e=p_e,m_e=bh,LM=Object.create,y_e=function(){function t(){}return function(e){if(!m_e(e))return{};if(LM)return LM(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),v_e=y_e,__e=v_e,b_e=aI,w_e=oI;function x_e(t){return typeof t.constructor=="function"&&!w_e(t)?__e(b_e(t)):{}}var E_e=x_e,S_e=hb,C_e=Ia,T_e="[object Map]";function I_e(t){return C_e(t)&&S_e(t)==T_e}var R_e=I_e,k_e=R_e,P_e=rI,FM=iI,BM=FM&&FM.isMap,A_e=BM?P_e(BM):k_e,M_e=A_e,O_e=hb,N_e=Ia,D_e="[object Set]";function $_e(t){return N_e(t)&&O_e(t)==D_e}var L_e=$_e,F_e=L_e,B_e=rI,jM=iI,VM=jM&&jM.isSet,j_e=VM?B_e(VM):F_e,V_e=j_e,U_e=dI,z_e=Tve,W_e=$B,H_e=Uve,G_e=o0e,K_e=s0e,q_e=l0e,Y_e=h0e,X_e=x0e,Q_e=CB,J_e=I0e,Z_e=hb,ebe=A0e,tbe=g_e,nbe=E_e,rbe=os,ibe=tI,obe=M_e,sbe=bh,abe=V_e,lbe=zg,cbe=mI,ube=1,dbe=2,hbe=4,FB="[object Arguments]",fbe="[object Array]",pbe="[object Boolean]",gbe="[object Date]",mbe="[object Error]",BB="[object Function]",ybe="[object GeneratorFunction]",vbe="[object Map]",_be="[object Number]",jB="[object Object]",bbe="[object RegExp]",wbe="[object Set]",xbe="[object String]",Ebe="[object Symbol]",Sbe="[object WeakMap]",Cbe="[object ArrayBuffer]",Tbe="[object DataView]",Ibe="[object Float32Array]",Rbe="[object Float64Array]",kbe="[object Int8Array]",Pbe="[object Int16Array]",Abe="[object Int32Array]",Mbe="[object Uint8Array]",Obe="[object Uint8ClampedArray]",Nbe="[object Uint16Array]",Dbe="[object Uint32Array]",yn={};yn[FB]=yn[fbe]=yn[Cbe]=yn[Tbe]=yn[pbe]=yn[gbe]=yn[Ibe]=yn[Rbe]=yn[kbe]=yn[Pbe]=yn[Abe]=yn[vbe]=yn[_be]=yn[jB]=yn[bbe]=yn[wbe]=yn[xbe]=yn[Ebe]=yn[Mbe]=yn[Obe]=yn[Nbe]=yn[Dbe]=!0;yn[mbe]=yn[BB]=yn[Sbe]=!1;function Fy(t,e,n,r,i,o){var s,a=e&ube,l=e&dbe,c=e&hbe;if(n&&(s=i?n(t,r,i,o):n(t)),s!==void 0)return s;if(!sbe(t))return t;var u=rbe(t);if(u){if(s=ebe(t),!a)return q_e(t,s)}else{var h=Z_e(t),f=h==BB||h==ybe;if(ibe(t))return K_e(t,a);if(h==jB||h==FB||f&&!i){if(s=l||f?{}:nbe(t),!a)return l?X_e(t,G_e(s,t)):Y_e(t,H_e(s,t))}else{if(!yn[h])return i?t:{};s=tbe(t,h,a)}}o||(o=new U_e);var p=o.get(t);if(p)return p;o.set(t,s),abe(t)?t.forEach(function(S){s.add(Fy(S,e,n,S,t,o))}):obe(t)&&t.forEach(function(S,_){s.set(_,Fy(S,e,n,_,t,o))});var m=c?l?J_e:Q_e:l?cbe:lbe,x=u?void 0:m(t);return z_e(x||t,function(S,_){x&&(_=S,S=t[_]),W_e(s,_,Fy(S,e,n,_,t,o))}),s}var $be=Fy,Lbe=$be,Fbe=1,Bbe=4;function jbe(t){return Lbe(t,Fbe|Bbe)}var Vbe=jbe;Object.defineProperty(Wg,"__esModule",{value:!0});Wg.mergeClasses=void 0;var Ube=sI,zbe=VB(Ube),Wbe=Vbe,Hbe=VB(Wbe),Gbe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function VB(t){return t&&t.__esModule?t:{default:t}}var Kbe=Wg.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,Hbe.default)(e.default)||{};return n.map(function(i){var o=e[i];return o&&(0,zbe.default)(o,function(s,a){r[a]||(r[a]={}),r[a]=Gbe({},r[a],o[a])}),i}),r};Wg.default=Kbe;var Hg={};Object.defineProperty(Hg,"__esModule",{value:!0});Hg.autoprefix=void 0;var qbe=sI,UM=Xbe(qbe),Ybe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function Xbe(t){return t&&t.__esModule?t:{default:t}}var Qbe={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},Jbe=Hg.autoprefix=function(e){var n={};return(0,UM.default)(e,function(r,i){var o={};(0,UM.default)(r,function(s,a){var l=Qbe[a];l?o=Ybe({},o,l(s)):o[a]=s}),n[i]=o}),n};Hg.default=Jbe;var Gg={};Object.defineProperty(Gg,"__esModule",{value:!0});Gg.hover=void 0;var Zbe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ewe=g,Hw=twe(ewe);function twe(t){return t&&t.__esModule?t:{default:t}}function nwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zM(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function rwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var iwe=Gg.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){rwe(i,r);function i(){var o,s,a,l;nwe(this,i);for(var c=arguments.length,u=Array(c),h=0;h<c;h++)u[h]=arguments[h];return l=(s=(a=zM(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(u))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return Hw.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},Hw.default.createElement(e,Zbe({},a.props,a.state)))},s),zM(a,l)}return i}(Hw.default.Component)};Gg.default=iwe;var Kg={};Object.defineProperty(Kg,"__esModule",{value:!0});Kg.active=void 0;var owe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},swe=g,Gw=awe(swe);function awe(t){return t&&t.__esModule?t:{default:t}}function lwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WM(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function cwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var uwe=Kg.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){cwe(i,r);function i(){var o,s,a,l;lwe(this,i);for(var c=arguments.length,u=Array(c),h=0;h<c;h++)u[h]=arguments[h];return l=(s=(a=WM(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(u))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return Gw.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},Gw.default.createElement(e,owe({},a.props,a.state)))},s),WM(a,l)}return i}(Gw.default.Component)};Kg.default=uwe;var vI={};Object.defineProperty(vI,"__esModule",{value:!0});var dwe=function(e,n){var r={},i=function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[s]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};vI.default=dwe;Object.defineProperty(wo,"__esModule",{value:!0});wo.ReactCSS=wo.loop=wo.handleActive=_I=wo.handleHover=wo.hover=void 0;var hwe=Vg,fwe=Th(hwe),pwe=Wg,gwe=Th(pwe),mwe=Hg,ywe=Th(mwe),vwe=Gg,UB=Th(vwe),_we=Kg,bwe=Th(_we),wwe=vI,xwe=Th(wwe);function Th(t){return t&&t.__esModule?t:{default:t}}wo.hover=UB.default;var _I=wo.handleHover=UB.default;wo.handleActive=bwe.default;wo.loop=xwe.default;var Ewe=wo.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=(0,fwe.default)(r),s=(0,gwe.default)(e,o);return(0,ywe.default)(s)},st=wo.default=Ewe,Swe=function(e,n,r,i,o){var s=o.clientWidth,a=o.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=l-(o.getBoundingClientRect().left+window.pageXOffset),h=c-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var f=void 0;if(h<0?f=0:h>a?f=1:f=Math.round(h*100/a)/100,n.a!==f)return{h:n.h,s:n.s,l:n.l,a:f,source:"rgb"}}else{var p=void 0;if(u<0?p=0:u>s?p=1:p=Math.round(u*100/s)/100,i!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}return null},Kw={},Cwe=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var s=o.getContext("2d");return s?(s.fillStyle=e,s.fillRect(0,0,o.width,o.height),s.fillStyle=n,s.fillRect(0,0,r,r),s.translate(r,r),s.fillRect(0,0,r,r),o.toDataURL()):null},Twe=function(e,n,r,i){var o=e+"-"+n+"-"+r+(i?"-server":"");if(Kw[o])return Kw[o];var s=Cwe(e,n,r,i);return Kw[o]=s,s},HM=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ih=function(e){var n=e.white,r=e.grey,i=e.size,o=e.renderers,s=e.borderRadius,a=e.boxShadow,l=e.children,c=st({default:{grid:{borderRadius:s,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+Twe(n,r,i,o.canvas)+") center left"}}});return g.isValidElement(l)?B.cloneElement(l,HM({},l.props,{style:HM({},l.props.style,c.grid)})):B.createElement("div",{style:c.grid})};Ih.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var Iwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rwe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function kwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GM(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Pwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var bI=function(t){Pwe(e,t);function e(){var n,r,i,o;kwe(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=GM(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var u=Swe(c,i.props.hsl,i.props.direction,i.props.a,i.container);u&&typeof i.props.onChange=="function"&&i.props.onChange(u,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),GM(i,o)}return Rwe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=st({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:Iwe({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return B.createElement("div",{style:o.alpha},B.createElement("div",{style:o.checkboard},B.createElement(Ih,{renderers:this.props.renderers})),B.createElement("div",{style:o.gradient}),B.createElement("div",{style:o.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},B.createElement("div",{style:o.pointer},this.props.pointer?B.createElement(this.props.pointer,this.props):B.createElement("div",{style:o.slider}))))}}]),e}(g.PureComponent||g.Component),Awe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Mwe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Owe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nwe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Dwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var $we=1,zB=38,Lwe=40,Fwe=[zB,Lwe],Bwe=function(e){return Fwe.indexOf(e)>-1},jwe=function(e){return Number(String(e).replace(/%/g,""))},Vwe=1,Vt=function(t){Dwe(e,t);function e(n){Owe(this,e);var r=Nwe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=jwe(i.target.value);if(!isNaN(o)&&Bwe(i.keyCode)){var s=r.getArrowOffset(),a=i.keyCode===zB?o+s:o-s;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+Vwe++,r}return Awe(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return Mwe({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||$we}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=st({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return B.createElement("div",{style:i.wrap},B.createElement("input",{id:this.inputId,style:i.input,ref:function(s){return r.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?B.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(g.PureComponent||g.Component),Uwe=function(e,n,r,i){var o=i.clientWidth,s=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(i.getBoundingClientRect().left+window.pageXOffset),u=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var h=void 0;if(u<0)h=359;else if(u>s)h=0;else{var f=-(u*100/s)+100;h=360*f/100}if(r.h!==h)return{h,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var p=void 0;if(c<0)p=0;else if(c>o)p=359;else{var m=c*100/o;p=360*m/100}if(r.h!==p)return{h:p,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},zwe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Wwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KM(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Hwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Rh=function(t){Hwe(e,t);function e(){var n,r,i,o;Wwe(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=KM(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var u=Uwe(c,i.props.direction,i.props.hsl,i.container);u&&typeof i.props.onChange=="function"&&i.props.onChange(u,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),KM(i,o)}return zwe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,s=st({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return B.createElement("div",{style:s.hue},B.createElement("div",{className:"hue-"+o,style:s.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},B.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),B.createElement("div",{style:s.pointer},this.props.pointer?B.createElement(this.props.pointer,this.props):B.createElement("div",{style:s.slider}))))}}]),e}(g.PureComponent||g.Component);function Gwe(){this.__data__=[],this.size=0}function qg(t,e){return t===e||t!==t&&e!==e}function mb(t,e){for(var n=t.length;n--;)if(qg(t[n][0],e))return n;return-1}var Kwe=Array.prototype,qwe=Kwe.splice;function Ywe(t){var e=this.__data__,n=mb(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():qwe.call(e,n,1),--this.size,!0}function Xwe(t){var e=this.__data__,n=mb(e,t);return n<0?void 0:e[n][1]}function Qwe(t){return mb(this.__data__,t)>-1}function Jwe(t,e){var n=this.__data__,r=mb(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Ra(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ra.prototype.clear=Gwe;Ra.prototype.delete=Ywe;Ra.prototype.get=Xwe;Ra.prototype.has=Qwe;Ra.prototype.set=Jwe;function Zwe(){this.__data__=new Ra,this.size=0}function exe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function txe(t){return this.__data__.get(t)}function nxe(t){return this.__data__.has(t)}var WB=typeof global=="object"&&global&&global.Object===Object&&global,rxe=typeof self=="object"&&self&&self.Object===Object&&self,ss=WB||rxe||Function("return this")(),$l=ss.Symbol,HB=Object.prototype,ixe=HB.hasOwnProperty,oxe=HB.toString,mf=$l?$l.toStringTag:void 0;function sxe(t){var e=ixe.call(t,mf),n=t[mf];try{t[mf]=void 0;var r=!0}catch{}var i=oxe.call(t);return r&&(e?t[mf]=n:delete t[mf]),i}var axe=Object.prototype,lxe=axe.toString;function cxe(t){return lxe.call(t)}var uxe="[object Null]",dxe="[object Undefined]",qM=$l?$l.toStringTag:void 0;function nu(t){return t==null?t===void 0?dxe:uxe:qM&&qM in Object(t)?sxe(t):cxe(t)}function Mo(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var hxe="[object AsyncFunction]",fxe="[object Function]",pxe="[object GeneratorFunction]",gxe="[object Proxy]";function wI(t){if(!Mo(t))return!1;var e=nu(t);return e==fxe||e==pxe||e==hxe||e==gxe}var qw=ss["__core-js_shared__"],YM=function(){var t=/[^.]+$/.exec(qw&&qw.keys&&qw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function mxe(t){return!!YM&&YM in t}var yxe=Function.prototype,vxe=yxe.toString;function ru(t){if(t!=null){try{return vxe.call(t)}catch{}try{return t+""}catch{}}return""}var _xe=/[\\^$.*+?()[\]{}|]/g,bxe=/^\[object .+?Constructor\]$/,wxe=Function.prototype,xxe=Object.prototype,Exe=wxe.toString,Sxe=xxe.hasOwnProperty,Cxe=RegExp("^"+Exe.call(Sxe).replace(_xe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Txe(t){if(!Mo(t)||mxe(t))return!1;var e=wI(t)?Cxe:bxe;return e.test(ru(t))}function Ixe(t,e){return t==null?void 0:t[e]}function iu(t,e){var n=Ixe(t,e);return Txe(n)?n:void 0}var Qp=iu(ss,"Map"),Jp=iu(Object,"create");function Rxe(){this.__data__=Jp?Jp(null):{},this.size=0}function kxe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Pxe="__lodash_hash_undefined__",Axe=Object.prototype,Mxe=Axe.hasOwnProperty;function Oxe(t){var e=this.__data__;if(Jp){var n=e[t];return n===Pxe?void 0:n}return Mxe.call(e,t)?e[t]:void 0}var Nxe=Object.prototype,Dxe=Nxe.hasOwnProperty;function $xe(t){var e=this.__data__;return Jp?e[t]!==void 0:Dxe.call(e,t)}var Lxe="__lodash_hash_undefined__";function Fxe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Jp&&e===void 0?Lxe:e,this}function Wc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Wc.prototype.clear=Rxe;Wc.prototype.delete=kxe;Wc.prototype.get=Oxe;Wc.prototype.has=$xe;Wc.prototype.set=Fxe;function Bxe(){this.size=0,this.__data__={hash:new Wc,map:new(Qp||Ra),string:new Wc}}function jxe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function yb(t,e){var n=t.__data__;return jxe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Vxe(t){var e=yb(this,t).delete(t);return this.size-=e?1:0,e}function Uxe(t){return yb(this,t).get(t)}function zxe(t){return yb(this,t).has(t)}function Wxe(t,e){var n=yb(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ka(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ka.prototype.clear=Bxe;ka.prototype.delete=Vxe;ka.prototype.get=Uxe;ka.prototype.has=zxe;ka.prototype.set=Wxe;var Hxe=200;function Gxe(t,e){var n=this.__data__;if(n instanceof Ra){var r=n.__data__;if(!Qp||r.length<Hxe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ka(r)}return n.set(t,e),this.size=n.size,this}function Cs(t){var e=this.__data__=new Ra(t);this.size=e.size}Cs.prototype.clear=Zwe;Cs.prototype.delete=exe;Cs.prototype.get=txe;Cs.prototype.has=nxe;Cs.prototype.set=Gxe;var l0=function(){try{var t=iu(Object,"defineProperty");return t({},"",{}),t}catch{}}();function xI(t,e,n){e=="__proto__"&&l0?l0(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function bS(t,e,n){(n!==void 0&&!qg(t[e],n)||n===void 0&&!(e in t))&&xI(t,e,n)}function Kxe(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[++i];if(n(o[l],l,o)===!1)break}return e}}var GB=Kxe(),KB=typeof to=="object"&&to&&!to.nodeType&&to,XM=KB&&typeof no=="object"&&no&&!no.nodeType&&no,qxe=XM&&XM.exports===KB,QM=qxe?ss.Buffer:void 0;QM&&QM.allocUnsafe;function Yxe(t,e){return t.slice()}var c0=ss.Uint8Array;function Xxe(t){var e=new t.constructor(t.byteLength);return new c0(e).set(new c0(t)),e}function Qxe(t,e){var n=Xxe(t.buffer);return new t.constructor(n,t.byteOffset,t.length)}function Jxe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var JM=Object.create,Zxe=function(){function t(){}return function(e){if(!Mo(e))return{};if(JM)return JM(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function qB(t,e){return function(n){return t(e(n))}}var YB=qB(Object.getPrototypeOf,Object),eEe=Object.prototype;function EI(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||eEe;return t===n}function tEe(t){return typeof t.constructor=="function"&&!EI(t)?Zxe(YB(t)):{}}function Ll(t){return t!=null&&typeof t=="object"}var nEe="[object Arguments]";function ZM(t){return Ll(t)&&nu(t)==nEe}var XB=Object.prototype,rEe=XB.hasOwnProperty,iEe=XB.propertyIsEnumerable,u0=ZM(function(){return arguments}())?ZM:function(t){return Ll(t)&&rEe.call(t,"callee")&&!iEe.call(t,"callee")},co=Array.isArray,oEe=9007199254740991;function SI(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=oEe}function kh(t){return t!=null&&SI(t.length)&&!wI(t)}function sEe(t){return Ll(t)&&kh(t)}function aEe(){return!1}var QB=typeof to=="object"&&to&&!to.nodeType&&to,eO=QB&&typeof no=="object"&&no&&!no.nodeType&&no,lEe=eO&&eO.exports===QB,tO=lEe?ss.Buffer:void 0,cEe=tO?tO.isBuffer:void 0,d0=cEe||aEe,uEe="[object Object]",dEe=Function.prototype,hEe=Object.prototype,JB=dEe.toString,fEe=hEe.hasOwnProperty,pEe=JB.call(Object);function gEe(t){if(!Ll(t)||nu(t)!=uEe)return!1;var e=YB(t);if(e===null)return!0;var n=fEe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&JB.call(n)==pEe}var mEe="[object Arguments]",yEe="[object Array]",vEe="[object Boolean]",_Ee="[object Date]",bEe="[object Error]",wEe="[object Function]",xEe="[object Map]",EEe="[object Number]",SEe="[object Object]",CEe="[object RegExp]",TEe="[object Set]",IEe="[object String]",REe="[object WeakMap]",kEe="[object ArrayBuffer]",PEe="[object DataView]",AEe="[object Float32Array]",MEe="[object Float64Array]",OEe="[object Int8Array]",NEe="[object Int16Array]",DEe="[object Int32Array]",$Ee="[object Uint8Array]",LEe="[object Uint8ClampedArray]",FEe="[object Uint16Array]",BEe="[object Uint32Array]",Cn={};Cn[AEe]=Cn[MEe]=Cn[OEe]=Cn[NEe]=Cn[DEe]=Cn[$Ee]=Cn[LEe]=Cn[FEe]=Cn[BEe]=!0;Cn[mEe]=Cn[yEe]=Cn[kEe]=Cn[vEe]=Cn[PEe]=Cn[_Ee]=Cn[bEe]=Cn[wEe]=Cn[xEe]=Cn[EEe]=Cn[SEe]=Cn[CEe]=Cn[TEe]=Cn[IEe]=Cn[REe]=!1;function jEe(t){return Ll(t)&&SI(t.length)&&!!Cn[nu(t)]}function VEe(t){return function(e){return t(e)}}var ZB=typeof to=="object"&&to&&!to.nodeType&&to,lp=ZB&&typeof no=="object"&&no&&!no.nodeType&&no,UEe=lp&&lp.exports===ZB,Yw=UEe&&WB.process,nO=function(){try{var t=lp&&lp.require&&lp.require("util").types;return t||Yw&&Yw.binding&&Yw.binding("util")}catch{}}(),rO=nO&&nO.isTypedArray,CI=rO?VEe(rO):jEe;function wS(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var zEe=Object.prototype,WEe=zEe.hasOwnProperty;function HEe(t,e,n){var r=t[e];(!(WEe.call(t,e)&&qg(r,n))||n===void 0&&!(e in t))&&xI(t,e,n)}function GEe(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=void 0;l===void 0&&(l=t[a]),i?xI(n,a,l):HEe(n,a,l)}return n}function KEe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var qEe=9007199254740991,YEe=/^(?:0|[1-9]\d*)$/;function TI(t,e){var n=typeof t;return e=e??qEe,!!e&&(n=="number"||n!="symbol"&&YEe.test(t))&&t>-1&&t%1==0&&t<e}var XEe=Object.prototype,QEe=XEe.hasOwnProperty;function ej(t,e){var n=co(t),r=!n&&u0(t),i=!n&&!r&&d0(t),o=!n&&!r&&!i&&CI(t),s=n||r||i||o,a=s?KEe(t.length,String):[],l=a.length;for(var c in t)(e||QEe.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||TI(c,l)))&&a.push(c);return a}function JEe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var ZEe=Object.prototype,eSe=ZEe.hasOwnProperty;function tSe(t){if(!Mo(t))return JEe(t);var e=EI(t),n=[];for(var r in t)r=="constructor"&&(e||!eSe.call(t,r))||n.push(r);return n}function tj(t){return kh(t)?ej(t,!0):tSe(t)}function nSe(t){return GEe(t,tj(t))}function rSe(t,e,n,r,i,o,s){var a=wS(t,n),l=wS(e,n),c=s.get(l);if(c){bS(t,n,c);return}var u=o?o(a,l,n+"",t,e,s):void 0,h=u===void 0;if(h){var f=co(l),p=!f&&d0(l),m=!f&&!p&&CI(l);u=l,f||p||m?co(a)?u=a:sEe(a)?u=Jxe(a):p?(h=!1,u=Yxe(l)):m?(h=!1,u=Qxe(l)):u=[]:gEe(l)||u0(l)?(u=a,u0(a)?u=nSe(a):(!Mo(a)||wI(a))&&(u=tEe(l))):h=!1}h&&(s.set(l,u),i(u,l,r,o,s),s.delete(l)),bS(t,n,u)}function nj(t,e,n,r,i){t!==e&&GB(e,function(o,s){if(i||(i=new Cs),Mo(o))rSe(t,e,s,n,nj,r,i);else{var a=r?r(wS(t,s),o,s+"",t,e,i):void 0;a===void 0&&(a=o),bS(t,s,a)}},tj)}function vb(t){return t}function iSe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var iO=Math.max;function oSe(t,e,n){return e=iO(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=iO(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),iSe(t,this,a)}}function sSe(t){return function(){return t}}var aSe=l0?function(t,e){return l0(t,"toString",{configurable:!0,enumerable:!1,value:sSe(e),writable:!0})}:vb,lSe=800,cSe=16,uSe=Date.now;function dSe(t){var e=0,n=0;return function(){var r=uSe(),i=cSe-(r-n);if(n=r,i>0){if(++e>=lSe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var hSe=dSe(aSe);function fSe(t,e){return hSe(oSe(t,e,vb),t+"")}function pSe(t,e,n){if(!Mo(n))return!1;var r=typeof e;return(r=="number"?kh(n)&&TI(e,n.length):r=="string"&&e in n)?qg(n[e],t):!1}function gSe(t){return fSe(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&pSe(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}var ji=gSe(function(t,e,n){nj(t,e,n)}),Yg=function(e){var n=e.zDepth,r=e.radius,i=e.background,o=e.children,s=e.styles,a=s===void 0?{}:s,l=st(ji({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return B.createElement("div",{style:l.wrap},B.createElement("div",{style:l.bg}),B.createElement("div",{style:l.content},o))};Yg.propTypes={background:Pe.string,zDepth:Pe.oneOf([0,1,2,3,4,5]),radius:Pe.number,styles:Pe.object};Yg.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var Xw=function(){return ss.Date.now()},mSe=/\s/;function ySe(t){for(var e=t.length;e--&&mSe.test(t.charAt(e)););return e}var vSe=/^\s+/;function _Se(t){return t&&t.slice(0,ySe(t)+1).replace(vSe,"")}var bSe="[object Symbol]";function _b(t){return typeof t=="symbol"||Ll(t)&&nu(t)==bSe}var oO=NaN,wSe=/^[-+]0x[0-9a-f]+$/i,xSe=/^0b[01]+$/i,ESe=/^0o[0-7]+$/i,SSe=parseInt;function sO(t){if(typeof t=="number")return t;if(_b(t))return oO;if(Mo(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Mo(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=_Se(t);var n=xSe.test(t);return n||ESe.test(t)?SSe(t.slice(2),n?2:8):wSe.test(t)?oO:+t}var CSe="Expected a function",TSe=Math.max,ISe=Math.min;function rj(t,e,n){var r,i,o,s,a,l,c=0,u=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(CSe);e=sO(e)||0,Mo(n)&&(u=!!n.leading,h="maxWait"in n,o=h?TSe(sO(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function p($){var E=r,k=i;return r=i=void 0,c=$,s=t.apply(k,E),s}function m($){return c=$,a=setTimeout(_,e),u?p($):s}function x($){var E=$-l,k=$-c,M=e-E;return h?ISe(M,o-k):M}function S($){var E=$-l,k=$-c;return l===void 0||E>=e||E<0||h&&k>=o}function _(){var $=Xw();if(S($))return w($);a=setTimeout(_,x($))}function w($){return a=void 0,f&&r?p($):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function C(){return a===void 0?s:w(Xw())}function N(){var $=Xw(),E=S($);if(r=arguments,i=this,l=$,E){if(a===void 0)return m(l);if(h)return clearTimeout(a),a=setTimeout(_,e),p(l)}return a===void 0&&(a=setTimeout(_,e)),s}return N.cancel=b,N.flush=C,N}var RSe="Expected a function";function kSe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(RSe);return Mo(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),rj(t,e,{leading:r,maxWait:e,trailing:i})}var PSe=function(e,n,r){var i=r.getBoundingClientRect(),o=i.width,s=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>o&&(c=o),u<0?u=0:u>s&&(u=s);var h=c/o,f=1-u/s;return{h:n.h,s:h,v:f,a:n.a,source:"hsv"}},ASe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function MSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OSe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function NSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var bb=function(t){NSe(e,t);function e(n){MSe(this,e);var r=OSe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,PSe(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=kSe(function(i,o,s){i(o,s)},50),r}return ASe(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,s=i.white,a=i.black,l=i.pointer,c=i.circle,u=st({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:s,black:a,pointer:l,circle:c}},{custom:!!this.props.style});return B.createElement("div",{style:u.color,ref:function(f){return r.container=f},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},B.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),B.createElement("div",{style:u.white,className:"saturation-white"},B.createElement("div",{style:u.black,className:"saturation-black"}),B.createElement("div",{style:u.pointer},this.props.pointer?B.createElement(this.props.pointer,this.props):B.createElement("div",{style:u.circle}))))}}]),e}(g.PureComponent||g.Component);function DSe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var $Se=qB(Object.keys,Object),LSe=Object.prototype,FSe=LSe.hasOwnProperty;function BSe(t){if(!EI(t))return $Se(t);var e=[];for(var n in Object(t))FSe.call(t,n)&&n!="constructor"&&e.push(n);return e}function II(t){return kh(t)?ej(t):BSe(t)}function jSe(t,e){return t&&GB(t,e,II)}function VSe(t,e){return function(n,r){if(n==null)return n;if(!kh(n))return t(n,r);for(var i=n.length,o=-1,s=Object(n);++o<i&&r(s[o],o,s)!==!1;);return n}}var ij=VSe(jSe);function USe(t){return typeof t=="function"?t:vb}function zSe(t,e){var n=co(t)?DSe:ij;return n(t,USe(e))}function h0(t){"@babel/helpers - typeof";return h0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h0(t)}var WSe=/^\s+/,HSe=/\s+$/;function ze(t,e){if(t=t||"",e=e||{},t instanceof ze)return t;if(!(this instanceof ze))return new ze(t,e);var n=GSe(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}ze.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,o,s,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*s+.0722*a},setAlpha:function(e){return this._a=oj(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=lO(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=lO(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=aO(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=aO(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return cO(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return XSe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(An(this._r,255)*100)+"%",g:Math.round(An(this._g,255)*100)+"%",b:Math.round(An(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(An(this._r,255)*100)+"%, "+Math.round(An(this._g,255)*100)+"%, "+Math.round(An(this._b,255)*100)+"%)":"rgba("+Math.round(An(this._r,255)*100)+"%, "+Math.round(An(this._g,255)*100)+"%, "+Math.round(An(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:lCe[cO(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+uO(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var o=ze(e);r="#"+uO(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return ze(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(eCe,arguments)},brighten:function(){return this._applyModification(tCe,arguments)},darken:function(){return this._applyModification(nCe,arguments)},desaturate:function(){return this._applyModification(QSe,arguments)},saturate:function(){return this._applyModification(JSe,arguments)},greyscale:function(){return this._applyModification(ZSe,arguments)},spin:function(){return this._applyModification(rCe,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(sCe,arguments)},complement:function(){return this._applyCombination(iCe,arguments)},monochromatic:function(){return this._applyCombination(aCe,arguments)},splitcomplement:function(){return this._applyCombination(oCe,arguments)},triad:function(){return this._applyCombination(dO,[3])},tetrad:function(){return this._applyCombination(dO,[4])}};ze.fromRatio=function(t,e){if(h0(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=Mf(t[r]));t=n}return ze(t,e)};function GSe(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=hCe(t)),h0(t)=="object"&&(qs(t.r)&&qs(t.g)&&qs(t.b)?(e=KSe(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):qs(t.h)&&qs(t.s)&&qs(t.v)?(r=Mf(t.s),i=Mf(t.v),e=YSe(t.h,r,i),s=!0,a="hsv"):qs(t.h)&&qs(t.s)&&qs(t.l)&&(r=Mf(t.s),o=Mf(t.l),e=qSe(t.h,r,o),s=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=oj(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function KSe(t,e,n){return{r:An(t,255)*255,g:An(e,255)*255,b:An(n,255)*255}}function aO(t,e,n){t=An(t,255),e=An(e,255),n=An(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=(r+i)/2;if(r==i)o=s=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,l:a}}function qSe(t,e,n){var r,i,o;t=An(t,360),e=An(e,100),n=An(n,100);function s(c,u,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?c+(u-c)*6*h:h<1/2?u:h<2/3?c+(u-c)*(2/3-h)*6:c}if(e===0)r=i=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=s(l,a,t+1/3),i=s(l,a,t),o=s(l,a,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function lO(t,e,n){t=An(t,255),e=An(e,255),n=An(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=r,l=r-i;if(s=r===0?0:l/r,r==i)o=0;else{switch(r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,v:a}}function YSe(t,e,n){t=An(t,360)*6,e=An(e,100),n=An(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,c=[n,s,o,o,a,n][l],u=[a,n,n,s,o,o][l],h=[o,o,a,n,n,s][l];return{r:c*255,g:u*255,b:h*255}}function cO(t,e,n,r){var i=[Xo(Math.round(t).toString(16)),Xo(Math.round(e).toString(16)),Xo(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function XSe(t,e,n,r,i){var o=[Xo(Math.round(t).toString(16)),Xo(Math.round(e).toString(16)),Xo(Math.round(n).toString(16)),Xo(sj(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function uO(t,e,n,r){var i=[Xo(sj(r)),Xo(Math.round(t).toString(16)),Xo(Math.round(e).toString(16)),Xo(Math.round(n).toString(16))];return i.join("")}ze.equals=function(t,e){return!t||!e?!1:ze(t).toRgbString()==ze(e).toRgbString()};ze.random=function(){return ze.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function QSe(t,e){e=e===0?0:e||10;var n=ze(t).toHsl();return n.s-=e/100,n.s=wb(n.s),ze(n)}function JSe(t,e){e=e===0?0:e||10;var n=ze(t).toHsl();return n.s+=e/100,n.s=wb(n.s),ze(n)}function ZSe(t){return ze(t).desaturate(100)}function eCe(t,e){e=e===0?0:e||10;var n=ze(t).toHsl();return n.l+=e/100,n.l=wb(n.l),ze(n)}function tCe(t,e){e=e===0?0:e||10;var n=ze(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),ze(n)}function nCe(t,e){e=e===0?0:e||10;var n=ze(t).toHsl();return n.l-=e/100,n.l=wb(n.l),ze(n)}function rCe(t,e){var n=ze(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,ze(n)}function iCe(t){var e=ze(t).toHsl();return e.h=(e.h+180)%360,ze(e)}function dO(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=ze(t).toHsl(),r=[ze(t)],i=360/e,o=1;o<e;o++)r.push(ze({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function oCe(t){var e=ze(t).toHsl(),n=e.h;return[ze(t),ze({h:(n+72)%360,s:e.s,l:e.l}),ze({h:(n+216)%360,s:e.s,l:e.l})]}function sCe(t,e,n){e=e||6,n=n||30;var r=ze(t).toHsl(),i=360/n,o=[ze(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(ze(r));return o}function aCe(t,e){e=e||6;for(var n=ze(t).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;e--;)s.push(ze({h:r,s:i,v:o})),o=(o+a)%1;return s}ze.mix=function(t,e,n){n=n===0?0:n||50;var r=ze(t).toRgb(),i=ze(e).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return ze(s)};ze.readability=function(t,e){var n=ze(t),r=ze(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};ze.isReadable=function(t,e,n){var r=ze.readability(t,e),i,o;switch(o=!1,i=fCe(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};ze.mostReadable=function(t,e,n){var r=null,i=0,o,s,a,l;n=n||{},s=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<e.length;c++)o=ze.readability(t,e[c]),o>i&&(i=o,r=ze(e[c]));return ze.isReadable(t,r,{level:a,size:l})||!s?r:(n.includeFallbackColors=!1,ze.mostReadable(t,["#fff","#000"],n))};var xS=ze.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},lCe=ze.hexNames=cCe(xS);function cCe(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function oj(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function An(t,e){uCe(t)&&(t="100%");var n=dCe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function wb(t){return Math.min(1,Math.max(0,t))}function Hi(t){return parseInt(t,16)}function uCe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function dCe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Xo(t){return t.length==1?"0"+t:""+t}function Mf(t){return t<=1&&(t=t*100+"%"),t}function sj(t){return Math.round(parseFloat(t)*255).toString(16)}function hO(t){return Hi(t)/255}var Uo=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function qs(t){return!!Uo.CSS_UNIT.exec(t)}function hCe(t){t=t.replace(WSe,"").replace(HSe,"").toLowerCase();var e=!1;if(xS[t])t=xS[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Uo.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Uo.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Uo.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Uo.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Uo.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Uo.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Uo.hex8.exec(t))?{r:Hi(n[1]),g:Hi(n[2]),b:Hi(n[3]),a:hO(n[4]),format:e?"name":"hex8"}:(n=Uo.hex6.exec(t))?{r:Hi(n[1]),g:Hi(n[2]),b:Hi(n[3]),format:e?"name":"hex"}:(n=Uo.hex4.exec(t))?{r:Hi(n[1]+""+n[1]),g:Hi(n[2]+""+n[2]),b:Hi(n[3]+""+n[3]),a:hO(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Uo.hex3.exec(t))?{r:Hi(n[1]+""+n[1]),g:Hi(n[2]+""+n[2]),b:Hi(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function fCe(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var fO=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return zSe(n,function(o){if(e[o]&&(r+=1,isNaN(e[o])||(i+=1),o==="s"||o==="l")){var s=/^\d+%$/;s.test(e[o])&&(i+=1)}}),r===i?e:!1},Of=function(e,n){var r=e.hex?ze(e.hex):ze(e),i=r.toHsl(),o=r.toHsv(),s=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,o.h=n||0);var l=a==="000000"&&s.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:s,hsv:o,oldHue:e.h||n||i.h,source:e.source}},ql=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&ze(e).isValid()},RI=function(e){if(!e)return"#fff";var n=Of(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},Qw=function(e,n){var r=e.replace("°","");return ze(n+" ("+r+")")._ok},yf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pCe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function gCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mCe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function yCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Vi=function(e){var n=function(r){yCe(i,r);function i(o){gCe(this,i);var s=mCe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return s.handleChange=function(a,l){var c=fO(a);if(c){var u=Of(a,a.h||s.state.oldHue);s.setState(u),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,u,l),s.props.onChange&&s.props.onChange(u,l)}},s.handleSwatchHover=function(a,l){var c=fO(a);if(c){var u=Of(a,a.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(u,l)}},s.state=yf({},Of(o.color,0)),s.debounce=rj(function(a,l,c){a(l,c)},100),s}return pCe(i,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),B.createElement(e,yf({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return yf({},Of(s.color,a.oldHue))}}]),i}(g.PureComponent||g.Component);return n.propTypes=yf({},e.propTypes),n.defaultProps=yf({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},vCe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_Ce=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function bCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function wCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xCe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){wCe(i,r);function i(){var o,s,a,l;bCe(this,i);for(var c=arguments.length,u=Array(c),h=0;h<c;h++)u[h]=arguments[h];return l=(s=(a=pO(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(u))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},s),pO(a,l)}return _Ce(i,[{key:"render",value:function(){return B.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},B.createElement(e,vCe({},this.props,this.state)))}}]),i}(B.Component)},gO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ECe=13,SCe=function(e){var n=e.color,r=e.style,i=e.onClick,o=i===void 0?function(){}:i,s=e.onHover,a=e.title,l=a===void 0?n:a,c=e.children,u=e.focus,h=e.focusStyle,f=h===void 0?{}:h,p=n==="transparent",m=st({default:{swatch:gO({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,u?f:{})}}),x=function(C){return o(n,C)},S=function(C){return C.keyCode===ECe&&o(n,C)},_=function(C){return s(n,C)},w={};return s&&(w.onMouseOver=_),B.createElement("div",gO({style:m.swatch,onClick:x,title:l,tabIndex:0,onKeyDown:S},w),c,p&&B.createElement(Ih,{borderRadius:m.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const ou=xCe(SCe);var CCe=function(e){var n=e.direction,r=st({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return B.createElement("div",{style:r.picker})},TCe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aj=function(e){var n=e.rgb,r=e.hsl,i=e.width,o=e.height,s=e.onChange,a=e.direction,l=e.style,c=e.renderers,u=e.pointer,h=e.className,f=h===void 0?"":h,p=st({default:{picker:{position:"relative",width:i,height:o},alpha:{radius:"2px",style:l}}});return B.createElement("div",{style:p.picker,className:"alpha-picker "+f},B.createElement(bI,TCe({},p.alpha,{rgb:n,hsl:r,pointer:u,renderers:c,onChange:s,direction:a})))};aj.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:CCe};Vi(aj);function lj(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var ICe="__lodash_hash_undefined__";function RCe(t){return this.__data__.set(t,ICe),this}function kCe(t){return this.__data__.has(t)}function f0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ka;++e<n;)this.add(t[e])}f0.prototype.add=f0.prototype.push=RCe;f0.prototype.has=kCe;function PCe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function ACe(t,e){return t.has(e)}var MCe=1,OCe=2;function cj(t,e,n,r,i,o){var s=n&MCe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var h=-1,f=!0,p=n&OCe?new f0:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var m=t[h],x=e[h];if(r)var S=s?r(x,m,h,e,t,o):r(m,x,h,t,e,o);if(S!==void 0){if(S)continue;f=!1;break}if(p){if(!PCe(e,function(_,w){if(!ACe(p,w)&&(m===_||i(m,_,n,r,o)))return p.push(w)})){f=!1;break}}else if(!(m===x||i(m,x,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}function NCe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function DCe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var $Ce=1,LCe=2,FCe="[object Boolean]",BCe="[object Date]",jCe="[object Error]",VCe="[object Map]",UCe="[object Number]",zCe="[object RegExp]",WCe="[object Set]",HCe="[object String]",GCe="[object Symbol]",KCe="[object ArrayBuffer]",qCe="[object DataView]",mO=$l?$l.prototype:void 0,Jw=mO?mO.valueOf:void 0;function YCe(t,e,n,r,i,o,s){switch(n){case qCe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case KCe:return!(t.byteLength!=e.byteLength||!o(new c0(t),new c0(e)));case FCe:case BCe:case UCe:return qg(+t,+e);case jCe:return t.name==e.name&&t.message==e.message;case zCe:case HCe:return t==e+"";case VCe:var a=NCe;case WCe:var l=r&$Ce;if(a||(a=DCe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=LCe,s.set(t,e);var u=cj(a(t),a(e),r,i,o,s);return s.delete(t),u;case GCe:if(Jw)return Jw.call(t)==Jw.call(e)}return!1}function XCe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function QCe(t,e,n){var r=e(t);return co(t)?r:XCe(r,n(t))}function JCe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function ZCe(){return[]}var e1e=Object.prototype,t1e=e1e.propertyIsEnumerable,yO=Object.getOwnPropertySymbols,n1e=yO?function(t){return t==null?[]:(t=Object(t),JCe(yO(t),function(e){return t1e.call(t,e)}))}:ZCe;function vO(t){return QCe(t,II,n1e)}var r1e=1,i1e=Object.prototype,o1e=i1e.hasOwnProperty;function s1e(t,e,n,r,i,o){var s=n&r1e,a=vO(t),l=a.length,c=vO(e),u=c.length;if(l!=u&&!s)return!1;for(var h=l;h--;){var f=a[h];if(!(s?f in e:o1e.call(e,f)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var x=!0;o.set(t,e),o.set(e,t);for(var S=s;++h<l;){f=a[h];var _=t[f],w=e[f];if(r)var b=s?r(w,_,f,e,t,o):r(_,w,f,t,e,o);if(!(b===void 0?_===w||i(_,w,n,r,o):b)){x=!1;break}S||(S=f=="constructor")}if(x&&!S){var C=t.constructor,N=e.constructor;C!=N&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof N=="function"&&N instanceof N)&&(x=!1)}return o.delete(t),o.delete(e),x}var ES=iu(ss,"DataView"),SS=iu(ss,"Promise"),CS=iu(ss,"Set"),TS=iu(ss,"WeakMap"),_O="[object Map]",a1e="[object Object]",bO="[object Promise]",wO="[object Set]",xO="[object WeakMap]",EO="[object DataView]",l1e=ru(ES),c1e=ru(Qp),u1e=ru(SS),d1e=ru(CS),h1e=ru(TS),Ga=nu;(ES&&Ga(new ES(new ArrayBuffer(1)))!=EO||Qp&&Ga(new Qp)!=_O||SS&&Ga(SS.resolve())!=bO||CS&&Ga(new CS)!=wO||TS&&Ga(new TS)!=xO)&&(Ga=function(t){var e=nu(t),n=e==a1e?t.constructor:void 0,r=n?ru(n):"";if(r)switch(r){case l1e:return EO;case c1e:return _O;case u1e:return bO;case d1e:return wO;case h1e:return xO}return e});var f1e=1,SO="[object Arguments]",CO="[object Array]",ny="[object Object]",p1e=Object.prototype,TO=p1e.hasOwnProperty;function g1e(t,e,n,r,i,o){var s=co(t),a=co(e),l=s?CO:Ga(t),c=a?CO:Ga(e);l=l==SO?ny:l,c=c==SO?ny:c;var u=l==ny,h=c==ny,f=l==c;if(f&&d0(t)){if(!d0(e))return!1;s=!0,u=!1}if(f&&!u)return o||(o=new Cs),s||CI(t)?cj(t,e,n,r,i,o):YCe(t,e,l,n,r,i,o);if(!(n&f1e)){var p=u&&TO.call(t,"__wrapped__"),m=h&&TO.call(e,"__wrapped__");if(p||m){var x=p?t.value():t,S=m?e.value():e;return o||(o=new Cs),i(x,S,n,r,o)}}return f?(o||(o=new Cs),s1e(t,e,n,r,i,o)):!1}function kI(t,e,n,r,i){return t===e?!0:t==null||e==null||!Ll(t)&&!Ll(e)?t!==t&&e!==e:g1e(t,e,n,r,kI,i)}var m1e=1,y1e=2;function v1e(t,e,n,r){var i=n.length,o=i;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var a=s[0],l=t[a],c=s[1];if(s[2]){if(l===void 0&&!(a in t))return!1}else{var u=new Cs,h;if(!(h===void 0?kI(c,l,m1e|y1e,r,u):h))return!1}}return!0}function uj(t){return t===t&&!Mo(t)}function _1e(t){for(var e=II(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,uj(i)]}return e}function dj(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function b1e(t){var e=_1e(t);return e.length==1&&e[0][2]?dj(e[0][0],e[0][1]):function(n){return n===t||v1e(n,t,e)}}var w1e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,x1e=/^\w*$/;function PI(t,e){if(co(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||_b(t)?!0:x1e.test(t)||!w1e.test(t)||e!=null&&t in Object(e)}var E1e="Expected a function";function AI(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(E1e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(AI.Cache||ka),n}AI.Cache=ka;var S1e=500;function C1e(t){var e=AI(t,function(r){return n.size===S1e&&n.clear(),r}),n=e.cache;return e}var T1e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,I1e=/\\(\\)?/g,R1e=C1e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(T1e,function(n,r,i,o){e.push(i?o.replace(I1e,"$1"):r||n)}),e}),IO=$l?$l.prototype:void 0,RO=IO?IO.toString:void 0;function hj(t){if(typeof t=="string")return t;if(co(t))return lj(t,hj)+"";if(_b(t))return RO?RO.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function k1e(t){return t==null?"":hj(t)}function fj(t,e){return co(t)?t:PI(t,e)?[t]:R1e(k1e(t))}function xb(t){if(typeof t=="string"||_b(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function pj(t,e){e=fj(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[xb(e[n++])];return n&&n==r?t:void 0}function P1e(t,e,n){var r=t==null?void 0:pj(t,e);return r===void 0?n:r}function A1e(t,e){return t!=null&&e in Object(t)}function M1e(t,e,n){e=fj(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=xb(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&SI(i)&&TI(s,i)&&(co(t)||u0(t)))}function O1e(t,e){return t!=null&&M1e(t,e,A1e)}var N1e=1,D1e=2;function $1e(t,e){return PI(t)&&uj(e)?dj(xb(t),e):function(n){var r=P1e(n,t);return r===void 0&&r===e?O1e(n,t):kI(e,r,N1e|D1e)}}function L1e(t){return function(e){return e==null?void 0:e[t]}}function F1e(t){return function(e){return pj(e,t)}}function B1e(t){return PI(t)?L1e(xb(t)):F1e(t)}function j1e(t){return typeof t=="function"?t:t==null?vb:typeof t=="object"?co(t)?$1e(t[0],t[1]):b1e(t):B1e(t)}function V1e(t,e){var n=-1,r=kh(t)?Array(t.length):[];return ij(t,function(i,o,s){r[++n]=e(i,o,s)}),r}function su(t,e){var n=co(t)?lj:V1e;return n(t,j1e(e))}var U1e=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,o=st({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return B.createElement("div",{style:o.swatches},su(n,function(s){return B.createElement(ou,{key:s,color:s,style:o.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+s}})}),B.createElement("div",{style:o.clear}))},MI=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,u=e.className,h=u===void 0?"":u,f=i==="transparent",p=function(S,_){ql(S)&&n({hex:S,source:"hex"},_)},m=st(ji({default:{card:{width:s,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:RI(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":a==="hide"});return B.createElement("div",{style:m.card,className:"block-picker "+h},B.createElement("div",{style:m.triangle}),B.createElement("div",{style:m.head},f&&B.createElement(Ih,{borderRadius:"6px 6px 0 0"}),B.createElement("div",{style:m.label},i)),B.createElement("div",{style:m.body},B.createElement(U1e,{colors:o,onClick:p,onSwatchHover:r}),B.createElement(Vt,{style:{input:m.input},value:i,onChange:p})))};MI.propTypes={width:Pe.oneOfType([Pe.string,Pe.number]),colors:Pe.arrayOf(Pe.string),triangle:Pe.oneOf(["top","hide"]),styles:Pe.object};MI.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Vi(MI);var Ou={100:"#ffcdd2",300:"#e57373",500:"#f44336",700:"#d32f2f",900:"#b71c1c"},Nu={100:"#f8bbd0",300:"#f06292",500:"#e91e63",700:"#c2185b",900:"#880e4f"},Du={100:"#e1bee7",300:"#ba68c8",500:"#9c27b0",700:"#7b1fa2",900:"#4a148c"},$u={100:"#d1c4e9",300:"#9575cd",500:"#673ab7",700:"#512da8",900:"#311b92"},Lu={100:"#c5cae9",300:"#7986cb",500:"#3f51b5",700:"#303f9f",900:"#1a237e"},Fu={100:"#bbdefb",300:"#64b5f6",500:"#2196f3",700:"#1976d2",900:"#0d47a1"},Bu={100:"#b3e5fc",300:"#4fc3f7",500:"#03a9f4",700:"#0288d1",900:"#01579b"},ju={100:"#b2ebf2",300:"#4dd0e1",500:"#00bcd4",700:"#0097a7",900:"#006064"},Vu={100:"#b2dfdb",300:"#4db6ac",500:"#009688",700:"#00796b",900:"#004d40"},Nf={100:"#c8e6c9",300:"#81c784",500:"#4caf50",700:"#388e3c"},Uu={100:"#dcedc8",300:"#aed581",500:"#8bc34a",700:"#689f38",900:"#33691e"},zu={100:"#f0f4c3",300:"#dce775",500:"#cddc39",700:"#afb42b",900:"#827717"},Wu={100:"#fff9c4",300:"#fff176",500:"#ffeb3b",700:"#fbc02d",900:"#f57f17"},Hu={100:"#ffecb3",300:"#ffd54f",500:"#ffc107",700:"#ffa000",900:"#ff6f00"},Gu={100:"#ffe0b2",300:"#ffb74d",500:"#ff9800",700:"#f57c00",900:"#e65100"},Ku={100:"#ffccbc",300:"#ff8a65",500:"#ff5722",700:"#e64a19",900:"#bf360c"},qu={100:"#d7ccc8",300:"#a1887f",500:"#795548",700:"#5d4037",900:"#3e2723"},Yu={100:"#cfd8dc",300:"#90a4ae",500:"#607d8b",700:"#455a64",900:"#263238"},gj=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,o=e.hover,s=e.active,a=e.circleSize,l=e.circleSpacing,c=st({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:o,active:s});return B.createElement("div",{style:c.swatch},B.createElement(ou,{style:c.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+n}}))};gj.defaultProps={circleSize:28,circleSpacing:14};const z1e=_I(gj);var OI=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,o=e.colors,s=e.hex,a=e.circleSize,l=e.styles,c=l===void 0?{}:l,u=e.circleSpacing,h=e.className,f=h===void 0?"":h,p=st(ji({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},c)),m=function(S,_){return r({hex:S,source:"hex"},_)};return B.createElement("div",{style:p.card,className:"circle-picker "+f},su(o,function(x){return B.createElement(z1e,{key:x,color:x,onClick:m,onSwatchHover:i,active:s===x.toLowerCase(),circleSize:a,circleSpacing:u})}))};OI.propTypes={width:Pe.oneOfType([Pe.string,Pe.number]),circleSize:Pe.number,circleSpacing:Pe.number,styles:Pe.object};OI.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Ou[500],Nu[500],Du[500],$u[500],Lu[500],Fu[500],Bu[500],ju[500],Vu[500],Nf[500],Uu[500],zu[500],Wu[500],Hu[500],Gu[500],Ku[500],qu[500],Yu[500]],styles:{}};Vi(OI);function kO(t){return t===void 0}var mj={};Object.defineProperty(mj,"__esModule",{value:!0});var PO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W1e=g,AO=H1e(W1e);function H1e(t){return t&&t.__esModule?t:{default:t}}function G1e(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var ry=24,K1e=mj.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?ry:r,o=t.height,s=o===void 0?ry:o,a=t.style,l=a===void 0?{}:a,c=G1e(t,["fill","width","height","style"]);return AO.default.createElement("svg",PO({viewBox:"0 0 "+ry+" "+ry,style:PO({fill:n,width:i,height:s},l)},c),AO.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},q1e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Y1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X1e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Q1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var yj=function(t){Q1e(e,t);function e(n){Y1e(this,e);var r=X1e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?ql(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(kO(i.s)?r.props.hsl.s:i.s),l:Number(kO(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return q1e(e,[{key:"render",value:function(){var r=this,i=st({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=B.createElement("div",{style:i.fields,className:"flexbox-fix"},B.createElement("div",{style:i.field},B.createElement(Vt,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=B.createElement("div",{style:i.fields,className:"flexbox-fix"},B.createElement("div",{style:i.field},B.createElement(Vt,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),B.createElement("div",{style:i.field},B.createElement(Vt,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),B.createElement("div",{style:i.field},B.createElement(Vt,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),B.createElement("div",{style:i.alpha},B.createElement(Vt,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=B.createElement("div",{style:i.fields,className:"flexbox-fix"},B.createElement("div",{style:i.field},B.createElement(Vt,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),B.createElement("div",{style:i.field},B.createElement(Vt,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),B.createElement("div",{style:i.field},B.createElement(Vt,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),B.createElement("div",{style:i.alpha},B.createElement(Vt,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),B.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,B.createElement("div",{style:i.toggle},B.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},B.createElement(K1e,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(B.Component);yj.defaultProps={view:"hex"};var MO=function(){var e=st({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return B.createElement("div",{style:e.picker})},J1e=function(){var e=st({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return B.createElement("div",{style:e.picker})},NI=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,o=e.rgb,s=e.hsl,a=e.hsv,l=e.hex,c=e.renderers,u=e.styles,h=u===void 0?{}:u,f=e.className,p=f===void 0?"":f,m=e.defaultView,x=st(ji({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},h),{disableAlpha:i});return B.createElement("div",{style:x.picker,className:"chrome-picker "+p},B.createElement("div",{style:x.saturation},B.createElement(bb,{style:x.Saturation,hsl:s,hsv:a,pointer:J1e,onChange:r})),B.createElement("div",{style:x.body},B.createElement("div",{style:x.controls,className:"flexbox-fix"},B.createElement("div",{style:x.color},B.createElement("div",{style:x.swatch},B.createElement("div",{style:x.active}),B.createElement(Ih,{renderers:c}))),B.createElement("div",{style:x.toggles},B.createElement("div",{style:x.hue},B.createElement(Rh,{style:x.Hue,hsl:s,pointer:MO,onChange:r})),B.createElement("div",{style:x.alpha},B.createElement(bI,{style:x.Alpha,rgb:o,hsl:s,pointer:MO,renderers:c,onChange:r})))),B.createElement(yj,{rgb:o,hsl:s,hex:l,view:m,onChange:r,disableAlpha:i})))};NI.propTypes={width:Pe.oneOfType([Pe.string,Pe.number]),disableAlpha:Pe.bool,styles:Pe.object,defaultView:Pe.oneOf(["hex","rgb","hsl"])};NI.defaultProps={width:225,disableAlpha:!1,styles:{}};const OO=Vi(NI);var Z1e=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.active,a=st({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:RI(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:s,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return B.createElement(ou,{style:a.color,color:n,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},B.createElement("div",{style:a.dot}))},eTe=function(e){var n=e.hex,r=e.rgb,i=e.onChange,o=st({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),s=function(l,c){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},c):i({hex:l.hex,source:"hex"},c)};return B.createElement("div",{style:o.fields,className:"flexbox-fix"},B.createElement("div",{style:o.active}),B.createElement(Vt,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:n,onChange:s}),B.createElement(Vt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:s}),B.createElement(Vt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:s}),B.createElement(Vt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:s}))},DI=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,o=e.hex,s=e.rgb,a=e.styles,l=a===void 0?{}:a,c=e.className,u=c===void 0?"":c,h=st(ji({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),f=function(m,x){m.hex?ql(m.hex)&&n({hex:m.hex,source:"hex"},x):n(m,x)};return B.createElement(Yg,{style:h.Compact,styles:l},B.createElement("div",{style:h.compact,className:"compact-picker "+u},B.createElement("div",null,su(i,function(p){return B.createElement(Z1e,{key:p,color:p,active:p.toLowerCase()===o,onClick:f,onSwatchHover:r})}),B.createElement("div",{style:h.clear})),B.createElement(eTe,{hex:o,rgb:s,onChange:f})))};DI.propTypes={colors:Pe.arrayOf(Pe.string),styles:Pe.object};DI.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Vi(DI);var tTe=function(e){var n=e.hover,r=e.color,i=e.onClick,o=e.onSwatchHover,s={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=st({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:s}},{hover:n});return B.createElement("div",{style:a.swatch},B.createElement(ou,{color:r,onClick:i,onHover:o,focusStyle:s}))};const nTe=_I(tTe);var $I=function(e){var n=e.width,r=e.colors,i=e.onChange,o=e.onSwatchHover,s=e.triangle,a=e.styles,l=a===void 0?{}:a,c=e.className,u=c===void 0?"":c,h=st(ji({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right","bottom-left-triangle":s==="bottom-left","bottom-right-triangle":s==="bottom-right"}),f=function(m,x){return i({hex:m,source:"hex"},x)};return B.createElement("div",{style:h.card,className:"github-picker "+u},B.createElement("div",{style:h.triangleShadow}),B.createElement("div",{style:h.triangle}),su(r,function(p){return B.createElement(nTe,{color:p,key:p,onClick:f,onSwatchHover:o})}))};$I.propTypes={width:Pe.oneOfType([Pe.string,Pe.number]),colors:Pe.arrayOf(Pe.string),triangle:Pe.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:Pe.object};$I.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Vi($I);var rTe=function(e){var n=e.direction,r=st({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return B.createElement("div",{style:r.picker})},iTe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LI=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.hsl,s=e.direction,a=e.pointer,l=e.styles,c=l===void 0?{}:l,u=e.className,h=u===void 0?"":u,f=st(ji({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},c)),p=function(x){return i({a:1,h:x.h,l:.5,s:1})};return B.createElement("div",{style:f.picker,className:"hue-picker "+h},B.createElement(Rh,iTe({},f.hue,{hsl:o,pointer:a,onChange:p,direction:s})))};LI.propTypes={styles:Pe.object};LI.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:rTe,styles:{}};Vi(LI);var oTe=function(e){var n=e.onChange,r=e.hex,i=e.rgb,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,c=st(ji({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},s)),u=function(f,p){f.hex?ql(f.hex)&&n({hex:f.hex,source:"hex"},p):(f.r||f.g||f.b)&&n({r:f.r||i.r,g:f.g||i.g,b:f.b||i.b,source:"rgb"},p)};return B.createElement(Yg,{styles:s},B.createElement("div",{style:c.material,className:"material-picker "+l},B.createElement(Vt,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:r,onChange:u}),B.createElement("div",{style:c.split,className:"flexbox-fix"},B.createElement("div",{style:c.third},B.createElement(Vt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:i.r,onChange:u})),B.createElement("div",{style:c.third},B.createElement(Vt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:i.g,onChange:u})),B.createElement("div",{style:c.third},B.createElement(Vt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:i.b,onChange:u})))))};Vi(oTe);var sTe=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,o=e.hex,s=st({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(c,u){c["#"]?ql(c["#"])&&n({hex:c["#"],source:"hex"},u):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},u):(c.h||c.s||c.v)&&n({h:c.h||i.h,s:c.s||i.s,v:c.v||i.v,source:"hsv"},u)};return B.createElement("div",{style:s.fields},B.createElement(Vt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),B.createElement(Vt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),B.createElement(Vt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),B.createElement("div",{style:s.divider}),B.createElement(Vt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:a}),B.createElement(Vt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:a}),B.createElement(Vt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:a}),B.createElement("div",{style:s.divider}),B.createElement(Vt,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"#",value:o.replace("#",""),onChange:a}),B.createElement("div",{style:s.fieldSymbols},B.createElement("div",{style:s.symbol},"°"),B.createElement("div",{style:s.symbol},"%"),B.createElement("div",{style:s.symbol},"%")))},aTe=function(e){var n=e.hsl,r=st({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return B.createElement("div",{style:r.picker})},lTe=function(){var e=st({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return B.createElement("div",{style:e.pointer},B.createElement("div",{style:e.left},B.createElement("div",{style:e.leftInside})),B.createElement("div",{style:e.right},B.createElement("div",{style:e.rightInside})))},NO=function(e){var n=e.onClick,r=e.label,i=e.children,o=e.active,s=st({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return B.createElement("div",{style:s.button,onClick:n},r||i)},cTe=function(e){var n=e.rgb,r=e.currentColor,i=st({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return B.createElement("div",null,B.createElement("div",{style:i.label},"new"),B.createElement("div",{style:i.swatches},B.createElement("div",{style:i.new}),B.createElement("div",{style:i.current})),B.createElement("div",{style:i.label},"current"))},uTe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function dTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hTe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function fTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var FI=function(t){fTe(e,t);function e(n){dTe(this,e);var r=hTe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return uTe(e,[{key:"render",value:function(){var r=this.props,i=r.styles,o=i===void 0?{}:i,s=r.className,a=s===void 0?"":s,l=st(ji({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},o));return B.createElement("div",{style:l.picker,className:"photoshop-picker "+a},B.createElement("div",{style:l.head},this.props.header),B.createElement("div",{style:l.body,className:"flexbox-fix"},B.createElement("div",{style:l.saturation},B.createElement(bb,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:aTe,onChange:this.props.onChange})),B.createElement("div",{style:l.hue},B.createElement(Rh,{direction:"vertical",hsl:this.props.hsl,pointer:lTe,onChange:this.props.onChange})),B.createElement("div",{style:l.controls},B.createElement("div",{style:l.top,className:"flexbox-fix"},B.createElement("div",{style:l.previews},B.createElement(cTe,{rgb:this.props.rgb,currentColor:this.state.currentColor})),B.createElement("div",{style:l.actions},B.createElement(NO,{label:"OK",onClick:this.props.onAccept,active:!0}),B.createElement(NO,{label:"Cancel",onClick:this.props.onCancel}),B.createElement(sTe,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(B.Component);FI.propTypes={header:Pe.string,styles:Pe.object};FI.defaultProps={header:"Color Picker",styles:{}};Vi(FI);var pTe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.disableAlpha,a=st({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:s}),l=function(u,h){u.hex?ql(u.hex)&&n({hex:u.hex,source:"hex"},h):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,a:r.a,source:"rgb"},h):u.a&&(u.a<0?u.a=0:u.a>100&&(u.a=100),u.a/=100,n({h:i.h,s:i.s,l:i.l,a:u.a,source:"rgb"},h))};return B.createElement("div",{style:a.fields,className:"flexbox-fix"},B.createElement("div",{style:a.double},B.createElement(Vt,{style:{input:a.input,label:a.label},label:"hex",value:o.replace("#",""),onChange:l})),B.createElement("div",{style:a.single},B.createElement(Vt,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),B.createElement("div",{style:a.single},B.createElement(Vt,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),B.createElement("div",{style:a.single},B.createElement(Vt,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),B.createElement("div",{style:a.alpha},B.createElement(Vt,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},gTe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vj=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=st({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(c,u){i({hex:c,source:"hex"},u)};return B.createElement("div",{style:s.colors,className:"flexbox-fix"},n.map(function(l){var c=typeof l=="string"?{color:l}:l,u=""+c.color+(c.title||"");return B.createElement("div",{key:u,style:s.swatchWrap},B.createElement(ou,gTe({},c,{style:s.swatch,onClick:a,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+c.color}})))}))};vj.propTypes={colors:Pe.arrayOf(Pe.oneOfType([Pe.string,Pe.shape({color:Pe.string,title:Pe.string})])).isRequired};var mTe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BI=function(e){var n=e.width,r=e.rgb,i=e.hex,o=e.hsv,s=e.hsl,a=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,u=e.presetColors,h=e.renderers,f=e.styles,p=f===void 0?{}:f,m=e.className,x=m===void 0?"":m,S=st(ji({default:mTe({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:c});return B.createElement("div",{style:S.picker,className:"sketch-picker "+x},B.createElement("div",{style:S.saturation},B.createElement(bb,{style:S.Saturation,hsl:s,hsv:o,onChange:a})),B.createElement("div",{style:S.controls,className:"flexbox-fix"},B.createElement("div",{style:S.sliders},B.createElement("div",{style:S.hue},B.createElement(Rh,{style:S.Hue,hsl:s,onChange:a})),B.createElement("div",{style:S.alpha},B.createElement(bI,{style:S.Alpha,rgb:r,hsl:s,renderers:h,onChange:a}))),B.createElement("div",{style:S.color},B.createElement(Ih,null),B.createElement("div",{style:S.activeColor}))),B.createElement(pTe,{rgb:r,hsl:s,hex:i,onChange:a,disableAlpha:c}),B.createElement(vj,{colors:u,onClick:a,onSwatchHover:l}))};BI.propTypes={disableAlpha:Pe.bool,width:Pe.oneOfType([Pe.string,Pe.number]),styles:Pe.object};BI.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};Vi(BI);var vf=function(e){var n=e.hsl,r=e.offset,i=e.onClick,o=i===void 0?function(){}:i,s=e.active,a=e.first,l=e.last,c=st({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:a,last:l}),u=function(f){return o({h:n.h,s:.5,l:r,source:"hsl"},f)};return B.createElement("div",{style:c.swatch,onClick:u})},yTe=function(e){var n=e.onClick,r=e.hsl,i=st({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return B.createElement("div",{style:i.swatches},B.createElement("div",{style:i.swatch},B.createElement(vf,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<o&&Math.abs(r.s-.5)<o,onClick:n,first:!0})),B.createElement("div",{style:i.swatch},B.createElement(vf,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<o&&Math.abs(r.s-.5)<o,onClick:n})),B.createElement("div",{style:i.swatch},B.createElement(vf,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<o&&Math.abs(r.s-.5)<o,onClick:n})),B.createElement("div",{style:i.swatch},B.createElement(vf,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<o&&Math.abs(r.s-.5)<o,onClick:n})),B.createElement("div",{style:i.swatch},B.createElement(vf,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<o&&Math.abs(r.s-.5)<o,onClick:n,last:!0})),B.createElement("div",{style:i.clear}))},vTe=function(){var e=st({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return B.createElement("div",{style:e.picker})},jI=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,c=st(ji({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},s));return B.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},B.createElement("div",{style:c.hue},B.createElement(Rh,{style:c.Hue,hsl:n,pointer:i,onChange:r})),B.createElement("div",{style:c.swatches},B.createElement(yTe,{hsl:n,onClick:r})))};jI.propTypes={styles:Pe.object};jI.defaultProps={pointer:vTe,styles:{}};Vi(jI);var _j={};Object.defineProperty(_j,"__esModule",{value:!0});var DO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_Te=g,$O=bTe(_Te);function bTe(t){return t&&t.__esModule?t:{default:t}}function wTe(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var iy=24,xTe=_j.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?iy:r,o=t.height,s=o===void 0?iy:o,a=t.style,l=a===void 0?{}:a,c=wTe(t,["fill","width","height","style"]);return $O.default.createElement("svg",DO({viewBox:"0 0 "+iy+" "+iy,style:DO({fill:n,width:i,height:s},l)},c),$O.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},ETe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.first,a=e.last,l=e.active,c=st({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:RI(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:s,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return B.createElement(ou,{color:n,style:c.color,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},B.createElement("div",{style:c.check},B.createElement(xTe,null)))},STe=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,o=e.active,s=st({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return B.createElement("div",{style:s.group},su(i,function(a,l){return B.createElement(ETe,{key:a,color:a,active:a.toLowerCase()===o,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},VI=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.onSwatchHover,s=e.colors,a=e.hex,l=e.styles,c=l===void 0?{}:l,u=e.className,h=u===void 0?"":u,f=st(ji({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),p=function(x,S){return i({hex:x,source:"hex"},S)};return B.createElement("div",{style:f.picker,className:"swatches-picker "+h},B.createElement(Yg,null,B.createElement("div",{style:f.overflow},B.createElement("div",{style:f.body},su(s,function(m){return B.createElement(STe,{key:m.toString(),group:m,active:a,onClick:p,onSwatchHover:o})}),B.createElement("div",{style:f.clear})))))};VI.propTypes={width:Pe.oneOfType([Pe.string,Pe.number]),height:Pe.oneOfType([Pe.string,Pe.number]),colors:Pe.arrayOf(Pe.arrayOf(Pe.string)),styles:Pe.object};VI.defaultProps={width:320,height:240,colors:[[Ou[900],Ou[700],Ou[500],Ou[300],Ou[100]],[Nu[900],Nu[700],Nu[500],Nu[300],Nu[100]],[Du[900],Du[700],Du[500],Du[300],Du[100]],[$u[900],$u[700],$u[500],$u[300],$u[100]],[Lu[900],Lu[700],Lu[500],Lu[300],Lu[100]],[Fu[900],Fu[700],Fu[500],Fu[300],Fu[100]],[Bu[900],Bu[700],Bu[500],Bu[300],Bu[100]],[ju[900],ju[700],ju[500],ju[300],ju[100]],[Vu[900],Vu[700],Vu[500],Vu[300],Vu[100]],["#194D33",Nf[700],Nf[500],Nf[300],Nf[100]],[Uu[900],Uu[700],Uu[500],Uu[300],Uu[100]],[zu[900],zu[700],zu[500],zu[300],zu[100]],[Wu[900],Wu[700],Wu[500],Wu[300],Wu[100]],[Hu[900],Hu[700],Hu[500],Hu[300],Hu[100]],[Gu[900],Gu[700],Gu[500],Gu[300],Gu[100]],[Ku[900],Ku[700],Ku[500],Ku[300],Ku[100]],[qu[900],qu[700],qu[500],qu[300],qu[100]],[Yu[900],Yu[700],Yu[500],Yu[300],Yu[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Vi(VI);var UI=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,u=e.className,h=u===void 0?"":u,f=st(ji({default:{card:{width:s,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),p=function(x,S){ql(x)&&n({hex:x,source:"hex"},S)};return B.createElement("div",{style:f.card,className:"twitter-picker "+h},B.createElement("div",{style:f.triangleShadow}),B.createElement("div",{style:f.triangle}),B.createElement("div",{style:f.body},su(o,function(m,x){return B.createElement(ou,{key:x,color:m,hex:m,style:f.swatch,onClick:p,onHover:r,focusStyle:{boxShadow:"0 0 4px "+m}})}),B.createElement("div",{style:f.hash},"#"),B.createElement(Vt,{label:null,style:{input:f.input},value:i.replace("#",""),onChange:p}),B.createElement("div",{style:f.clear})))};UI.propTypes={width:Pe.oneOfType([Pe.string,Pe.number]),triangle:Pe.oneOf(["hide","top-left","top-right"]),colors:Pe.arrayOf(Pe.string),styles:Pe.object};UI.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Vi(UI);var zI=function(e){var n=st({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return B.createElement("div",{style:n.picker})};zI.propTypes={hsl:Pe.shape({h:Pe.number,s:Pe.number,l:Pe.number,a:Pe.number})};zI.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var WI=function(e){var n=st({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return B.createElement("div",{style:n.picker})};WI.propTypes={hsl:Pe.shape({h:Pe.number,s:Pe.number,l:Pe.number,a:Pe.number})};WI.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var CTe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.hsv,a=function(p,m){if(p.hex)ql(p.hex)&&n({hex:p.hex,source:"hex"},m);else if(p.rgb){var x=p.rgb.split(",");Qw(p.rgb,"rgb")&&n({r:x[0],g:x[1],b:x[2],a:1,source:"rgb"},m)}else if(p.hsv){var S=p.hsv.split(",");Qw(p.hsv,"hsv")&&(S[2]=S[2].replace("%",""),S[1]=S[1].replace("%",""),S[0]=S[0].replace("°",""),S[1]==1?S[1]=.01:S[2]==1&&(S[2]=.01),n({h:Number(S[0]),s:Number(S[1]),v:Number(S[2]),source:"hsv"},m))}else if(p.hsl){var _=p.hsl.split(",");Qw(p.hsl,"hsl")&&(_[2]=_[2].replace("%",""),_[1]=_[1].replace("%",""),_[0]=_[0].replace("°",""),h[1]==1?h[1]=.01:h[2]==1&&(h[2]=.01),n({h:Number(_[0]),s:Number(_[1]),v:Number(_[2]),source:"hsl"},m))}},l=st({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=r.r+", "+r.g+", "+r.b,u=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",h=Math.round(s.h)+"°, "+Math.round(s.s*100)+"%, "+Math.round(s.v*100)+"%";return B.createElement("div",{style:l.wrap,className:"flexbox-fix"},B.createElement("div",{style:l.fields},B.createElement("div",{style:l.double},B.createElement(Vt,{style:{input:l.input,label:l.label},label:"hex",value:o,onChange:a})),B.createElement("div",{style:l.column},B.createElement("div",{style:l.single},B.createElement(Vt,{style:{input:l.input2,label:l.label2},label:"rgb",value:c,onChange:a})),B.createElement("div",{style:l.single},B.createElement(Vt,{style:{input:l.input2,label:l.label2},label:"hsv",value:h,onChange:a})),B.createElement("div",{style:l.single},B.createElement(Vt,{style:{input:l.input2,label:l.label2},label:"hsl",value:u,onChange:a})))))},HI=function(e){var n=e.width,r=e.onChange,i=e.rgb,o=e.hsl,s=e.hsv,a=e.hex,l=e.header,c=e.styles,u=c===void 0?{}:c,h=e.className,f=h===void 0?"":h,p=st(ji({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},u));return B.createElement("div",{style:p.picker,className:"google-picker "+f},B.createElement("div",{style:p.head},l),B.createElement("div",{style:p.swatch}),B.createElement("div",{style:p.saturation},B.createElement(bb,{hsl:o,hsv:s,pointer:zI,onChange:r})),B.createElement("div",{style:p.body},B.createElement("div",{style:p.controls,className:"flexbox-fix"},B.createElement("div",{style:p.hue},B.createElement(Rh,{style:p.Hue,hsl:o,radius:"4px",pointer:WI,onChange:r}))),B.createElement(CTe,{rgb:i,hsl:o,hex:a,hsv:s,onChange:r})))};HI.propTypes={width:Pe.oneOfType([Pe.string,Pe.number]),styles:Pe.object,header:Pe.string};HI.defaultProps={width:652,styles:{},header:"Color picker"};Vi(HI);const TTe=Zn(I.jsx("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"})),ITe=Zn(I.jsx("path",{d:"m7 10 5 5 5-5z"})),RTe=Zn(I.jsx("path",{d:"m7 14 5-5 5 5z"})),kTe=Zn(I.jsx("path",{d:"M7 5h2V3H7zm0 8h2v-2H7zm0 8h2v-2H7zm4-4h2v-2h-2zm0 4h2v-2h-2zm-8 0h2v-2H3zm0-4h2v-2H3zm0-4h2v-2H3zm0-4h2V7H3zm0-4h2V3H3zm8 8h2v-2h-2zm8 4h2v-2h-2zm0-4h2v-2h-2zm0 8h2v-2h-2zm0-12h2V7h-2zm-8 0h2V7h-2zm8-6v2h2V3zm-8 2h2V3h-2zm4 16h2v-2h-2zm0-8h2v-2h-2zm0-8h2V3h-2z"})),PTe=Zn(I.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),LO=Zn(I.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"})),ATe=Zn(I.jsx("path",{d:"M7 15v2h10v-2zm-4 6h18v-2H3zm0-8h18v-2H3zm4-6v2h10V7zM3 3v2h18V3z"})),MTe=Zn(I.jsx("path",{d:"M15 15H3v2h12zm0-8H3v2h12zM3 13h18v-2H3zm0 8h18v-2H3zM3 3v2h18V3z"})),OTe=Zn(I.jsx("path",{d:"M3 21h18v-2H3zm6-4h12v-2H9zm-6-4h18v-2H3zm6-4h12V7H9zM3 3v2h18V3z"})),NTe=Zn(I.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"})),DTe=Zn(I.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"})),$Te=Zn(I.jsx("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6m-7 2v2h14v-2z"})),oy=async t=>{const e=pS(),n=uS(e,`Settings/${t}`);try{const r=await yle(n);if(r.exists())return r.val();throw new Error("API key not found in database")}catch(r){throw console.error("Error fetching API key:",r),r}},LTe=({localCursor:t,canvasCenter:e,mergeMindMapData:n,isChatOpen:r,setIsChatOpen:i,selectedNodes:o=[],nodes:s=[],setNodes:a,mindMapId:l,updateNodeText:c,addNode:u,addLink:h,pushToUndoStack:f})=>{const[p,m]=g.useState(""),[x,S]=g.useState(!1),[_,w]=g.useState([]),b=g.useRef(null),C=()=>{b.current&&setTimeout(()=>{b.current.scrollTop=b.current.scrollHeight},100)},N=async U=>{if(!c){console.error("updateNodeText function not provided");return}const j=U.filter(H=>{const W=s.some(ae=>ae.id===H.id);return W||console.warn(`Skipping edit for non-existent node: ${H.id}`),W});if(j.length===0){console.warn("No valid nodes to edit");return}f&&j.length>0&&f();for(const H of j)try{await c(H.id,H.newText)}catch(W){console.error(`Failed to update node ${H.id}:`,W)}const z=j.length,q=U.length-j.length;q>0&&console.log(`Updated ${z} nodes, skipped ${q} non-existent nodes`)},$=U=>{const j=["cursive","Microsoft Yahei","Arial","Times New Roman","Courier New"],z={...U};return z.fontFamily&&!j.includes(z.fontFamily)&&(console.warn(`Invalid fontFamily "${z.fontFamily}", using "Arial" instead`),z.fontFamily="Arial"),z},E=async U=>{if(!c){console.error("updateNodeText function not provided");return}const j=U.filter(H=>{const W=s.some(ae=>ae.id===H.id);return W||console.warn(`Skipping style for non-existent node: ${H.id}`),W});if(j.length===0){console.warn("No valid nodes to style");return}f&&j.length>0&&f();for(const H of j)try{const W=Rt(me,"mindMaps",l,"nodes",H.id),ae={lastModified:Ei()},{id:oe,...ve}=H,ke=$(ve);Object.keys(ke).forEach(ne=>{ke[ne]!==void 0&&ke[ne]!==null&&(ae[ne]=ke[ne])}),await mo(W,ae),a(ne=>ne.map(ge=>ge.id===H.id?{...ge,...ke}:ge))}catch(W){console.error(`Failed to style node ${H.id}:`,W)}const z=j.length,q=U.length-j.length;q>0&&console.log(`Styled ${z} nodes, skipped ${q} non-existent nodes`)},k=async U=>{if(!c){console.error("updateNodeText function not provided");return}const j=U.filter(H=>{const W=s.some(ae=>ae.id===H.id);return W||console.warn(`Skipping move for non-existent node: ${H.id}`),W});if(j.length===0){console.warn("No valid nodes to move");return}f&&j.length>0&&f();for(const H of j)try{const W=Rt(me,"mindMaps",l,"nodes",H.id);await mo(W,{x:H.x,y:H.y,lastModified:Ei()}),a(ae=>ae.map(oe=>oe.id===H.id?{...oe,x:H.x,y:H.y}:oe))}catch(W){console.error(`Failed to move node ${H.id}:`,W)}const z=j.length,q=U.length-j.length;q>0&&console.log(`Moved ${z} nodes, skipped ${q} non-existent nodes`)},M=async(U,j)=>{if(!u||!h){console.error("addNode or addLink functions not provided");return}f&&(U.length>0||j&&j.length>0)&&f();const z={},q=o.map(H=>{const W=s.find(ae=>ae.id===H);return W?{id:W.id,text:W.text||"Untitled",x:W.x,y:W.y,bgColor:W.bgColor,textColor:W.textColor,fontSize:W.fontSize,fontFamily:W.fontFamily,width:W.width,height:W.height,type:W.type,imageUrl:W.imageUrl,storagePath:W.storagePath}:(console.warn(`Selected node ${H} not found in nodes array`),null)}).filter(Boolean);o.length>0&&q.length===0&&console.warn("No valid selected nodes found");for(const H of U)if(H.imageData)try{const{downloadURL:W,storagePath:ae}=await v(H.imageData,H.id),oe={type:"image",imageUrl:W,storagePath:ae,x:H.x,y:H.y,width:H.width||200,height:H.height||150,lockedBy:null,typing:!1},ve=await u(oe);z[H.id]=ve}catch(W){console.error(`Failed to create image node ${H.id}:`,W)}else if(H.imagePrompt||H.imageEditPrompt)try{let W;if(H.imageEditPrompt){const ne=q.find(ge=>ge.type==="image"&&ge.imageUrl);if(ne){const ge=ne.imageUrl.includes("firebasestorage.googleapis.com")?`/firebase-storage${ne.imageUrl.split("firebasestorage.googleapis.com")[1]}`:ne.imageUrl,ee=await fetch(ge);if(ee.ok){const ue=await ee.blob(),Ae=await new Promise(We=>{const fe=new FileReader;fe.onloadend=()=>We(fe.result.split(",")[1]),fe.readAsDataURL(ue)});console.log(`Editing image for node ${H.id} with prompt: ${H.imageEditPrompt}`),W=await D(H.imageEditPrompt,Ae)}else throw new Error("Could not fetch original image for editing")}else throw new Error("No original image found for editing")}else console.log(`Generating image for node ${H.id} with prompt: ${H.imagePrompt}`),W=await D(H.imagePrompt);const{downloadURL:ae,storagePath:oe}=await v(W,H.id),ve={type:"image",imageUrl:ae,storagePath:oe,x:H.x,y:H.y,width:H.width||200,height:H.height||150,lockedBy:null,typing:!1},ke=await u(ve);z[H.id]=ke}catch(W){console.error(`Failed to create image node ${H.id}:`,W)}else{const{id:W,text:ae,x:oe,y:ve,imageData:ke,imagePrompt:ne,imageEditPrompt:ge,...ee}=H,ue=$(ee),Ae={id:W,text:ae,x:oe,y:ve,...ue},We=await u(Ae);z[H.id]=We}if(j)for(const H of j){const W=z[H.source]||H.source,ae=z[H.target]||H.target;await h({source:W,target:ae})}},v=async(U,j)=>{try{const z=atob(U),q=new Array(z.length);for(let ne=0;ne<z.length;ne++)q[ne]=z.charCodeAt(ne);const H=new Uint8Array(q),W=new Blob([H],{type:"image/png"}),oe=`images/generated_${Date.now()}_${j}.png`,ve=RE(kE,oe);return await TE(ve,W),{downloadURL:await IE(ve),storagePath:oe}}catch(z){throw console.error("Error uploading generated image:",z),z}},P=async(U,j=!1)=>{const z=await oy("Key");await oy("prompt1");const q=await oy("modelMax");if(!z)throw console.error("No API key found. Ensure Gemini API key is set."),new Error("API key missing");const H=o.map(ge=>{const ee=s.find(ue=>ue.id===ge);return ee?{id:ee.id,text:ee.text||"Untitled",x:ee.x,y:ee.y,bgColor:ee.bgColor,textColor:ee.textColor,fontSize:ee.fontSize,fontFamily:ee.fontFamily,width:ee.width,height:ee.height,type:ee.type,imageUrl:ee.imageUrl,storagePath:ee.storagePath}:(console.warn(`Selected node ${ge} not found in nodes array`),null)}).filter(Boolean);o.length>0&&H.length===0&&console.warn("No valid selected nodes found");const W=j&&t&&t.x!==void 0&&t.y!==void 0?t:e;let ae,oe=[];if(H.length>0){const ge=H.map(ue=>{let Ae=`- "${ue.text||"Untitled"}" (ID: ${ue.id})`;return ue.type==="image"&&ue.imageUrl&&(Ae+=" [IMAGE NODE - see attached image]"),Ae}).join(`
`),ee=H.some(ue=>ue.type==="image"&&ue.imageUrl);ae=`You are helping with a mind map that has selected nodes. Based on the user's request, decide whether they want to:
1. EDIT the text content of existing selected nodes, OR
2. ADD new nodes around/near the selected nodes, OR
3. GENERATE IMAGES for new nodes, OR
4. EDIT EXISTING IMAGES (when image nodes are selected)

CONTEXT: The user has selected ${H.length} existing node(s):
${ge}

${ee?`
IMAGE EDITING: Some selected nodes contain images that are attached to this message. When the user asks to modify, edit, or add text to these images, you should create NEW nodes with "imageEditPrompt" that describes how to modify the original image. The system will use the original image + your edit instructions to create the modified version.`:""}

ANALYZE the user's request and choose the appropriate action:

If the user wants to EDIT existing text nodes (modify text content, improve wording, change descriptions, etc.):
Return JSON with "editNodes" array containing objects with "id" and "newText" for each selected node.

If the user wants to STYLE existing nodes (change colors, fonts, sizes, appearance, etc.):
Return JSON with "styleNodes" array containing objects with "id" and style properties for each node.

If the user wants to MOVE/REPOSITION existing nodes (organize, arrange, layout, align, etc.):
Return JSON with "moveNodes" array containing objects with "id", "x", and "y" for each node to reposition.

If the user wants to ADD new nodes (create additional nodes, expand the map, add related concepts, etc.):
Return JSON with "addNodes" and "addLinks" arrays to create new nodes positioned around the selected ones.

If the user wants to EDIT EXISTING IMAGES (add text, modify colors, change elements in the uploaded image):
Return JSON with "addNodes" array where nodes include "imageEditPrompt" field with instructions for editing the original image.

If the user wants to GENERATE COMPLETELY NEW IMAGES:
Return JSON with "addNodes" array where nodes include "imagePrompt" field with a description for generating a new image from scratch.

USER REQUEST: "${U}"

Guidelines for IMAGE EDITING (when modifying existing images):
- Use "imageEditPrompt" instead of "imagePrompt" when editing existing images
- The imageEditPrompt should describe what changes to make to the original image
- Examples: "Add the text 'HELLO WORLD' in bold white letters across the center", "Change the background to blue", "Add a red border around the image"
- Keep the edit instructions simple and specific
- The original image will be used as the base for editing

Guidelines for NEW IMAGE GENERATION:
- Use "imagePrompt" for completely new images
- Provide detailed descriptions for new image creation
- Examples: "A cartoon cat wearing a hat", "A flowchart showing the water cycle"

Guidelines for EDITING:
- Focus on improving, changing, or updating the text content of the selected nodes
- Each selected node should get updated text that reflects the user's request
- Do NOT create new nodes, move positions, or change styling - only modify text content

Guidelines for STYLING:
- Change visual properties like colors, fonts, sizes, dimensions, etc.
- Available properties: 
  * bgColor (hex): background color like "#FF5733", "#3498DB", "#2ECC71"
  * textColor (hex): text color like "#FFFFFF", "#000000", "#FF0000"
  * fontSize (number): font size in pixels, typically 10-24
  * fontFamily (string): ONLY use these exact values: "cursive", "Microsoft Yahei", "Arial", "Times New Roman", "Courier New"
  * width (number): node width in pixels, typically 120-300
  * height (number): node height in pixels, typically 40-100
- Color suggestions: Red "#E74C3C", Blue "#3498DB", Green "#2ECC71", Orange "#F39C12", Purple "#9B59B6", Yellow "#F1C40F"
- Font family mapping: For serif use "Times New Roman", for sans-serif use "Arial", for monospace use "Courier New"
- CRITICAL: Never use "serif", "sans-serif", "monospace", "fantasy" - these will cause errors!
- Current styles: ${H.map(ue=>`${ue.id}: bg:${ue.bgColor||"default"}, text:${ue.textColor||"default"}, font:${ue.fontSize||"default"}px ${ue.fontFamily||"default"}`).join(", ")}
- Do NOT change text content or positions, only visual styling and dimensions

Guidelines for MOVING/REPOSITIONING:
- Calculate new x,y positions to organize the selected nodes in a better layout
- Consider requests like "organize", "arrange in a line", "make a circle", "align vertically", etc.
- Use the current positions as reference: ${H.map(ue=>`${ue.id}: (${ue.x}, ${ue.y})`).join(", ")}
- Keep nodes reasonably spaced (100-200 pixels apart)
- Do NOT change text content or styling, only positions

Guidelines for ADDING:
- Create 2-8 new nodes that relate to the user's request
- Position new nodes around the selected ones using their current positions as reference
- Current selected node positions: ${H.map(ue=>`${ue.id}: (${ue.x}, ${ue.y})`).join(", ")}
- Place new nodes 150-300 pixels away from existing ones
- Each new node should have: id, text, x, y coordinates
- Optionally include styling: bgColor, textColor, fontSize, fontFamily, width, height
- Create links connecting new nodes to the existing selected node IDs
- Consider the user's specific requests about positioning, number of nodes, styling, etc.
- You can style new nodes to match or complement existing selected nodes

Example EDIT response:
{
  "editNodes": [
    {"id": "nodeId1", "newText": "Updated text content"},
    {"id": "nodeId2", "newText": "Another updated text"}
  ]
}

Example STYLE response:
{
  "styleNodes": [
    {"id": "nodeId1", "bgColor": "#FF5733", "textColor": "#FFFFFF", "fontSize": 16, "fontFamily": "Times New Roman"},
    {"id": "nodeId2", "bgColor": "#3498DB", "textColor": "#FFFFFF", "width": 200, "height": 60},
    {"id": "nodeId3", "fontSize": 18, "fontFamily": "Courier New", "bgColor": "#2ECC71"}
  ]
}

Example MOVE response:
{
  "moveNodes": [
    {"id": "nodeId1", "x": 200, "y": 100},
    {"id": "nodeId2", "x": 400, "y": 100},
    {"id": "nodeId3", "x": 600, "y": 100}
  ]
}

Example ADD response:
{
  "addNodes": [
    {"id": "new1", "text": "Related concept 1", "x": 250, "y": 100, "bgColor": "#3498DB", "textColor": "#FFFFFF"},
    {"id": "new2", "text": "Related concept 2", "x": 450, "y": 150, "fontSize": 16, "fontFamily": "Arial"}
  ],
  "addLinks": [
    {"source": "existingNodeId", "target": "new1"},
    {"source": "existingNodeId", "target": "new2"}
  ]
}

Example IMAGE EDITING response (modifying existing image):
{
  "addNodes": [
    {"id": "img1", "text": "Edited Image", "x": 300, "y": 200, "width": 300, "height": 200, "imageEditPrompt": "Add the text 'PODCAST THING' in bold white letters across the center of the image"}
  ],
  "addLinks": [
    {"source": "existingNodeId", "target": "img1"}
  ]
}

Example NEW IMAGE GENERATION response:
{
  "addNodes": [
    {"id": "img1", "text": "New Image", "x": 300, "y": 200, "width": 300, "height": 200, "imagePrompt": "A cartoon cat wearing a red hat sitting on a blue chair"}
  ],
  "addLinks": [
    {"source": "existingNodeId", "target": "img1"}
  ]
}`,oe.push({text:ae});for(const ue of H)if(ue.type==="image"&&ue.imageUrl)try{const Ae=ue.imageUrl.includes("firebasestorage.googleapis.com")?`/firebase-storage${ue.imageUrl.split("firebasestorage.googleapis.com")[1]}`:ue.imageUrl,We=await fetch(Ae);if(We.ok){const fe=await We.blob(),Ee=await new Promise(Ut=>{const Se=new FileReader;Se.onloadend=()=>Ut(Se.result.split(",")[1]),Se.readAsDataURL(fe)});oe.push({inlineData:{mimeType:fe.type||"image/jpeg",data:Ee}}),console.log(`Successfully loaded image for node ${ue.id}`)}else oe.push({text:`[Note: Image node "${ue.text}" - unable to load image for analysis]`})}catch(Ae){console.warn(`Could not load image for node ${ue.id}:`,Ae),oe.push({text:`[Note: Image node "${ue.text}" - image analysis not available]`})}}else ae=`You are helping with a mind map. The user has NO nodes currently selected. Based on their request, analyze what they want to do and choose the appropriate action:

POSITIONING INFORMATION:
- Target position for new content: x=${Math.round(W.x)}, y=${Math.round(W.y)}
- This is either the mouse cursor position or screen center
- Position new nodes around this target location

AVAILABLE ACTIONS (No selection required):

1. GENERATE IMAGES: If user asks for images, pictures, drawings, visual content
   - Return JSON with "addNodes" array where nodes include "imagePrompt" field
   - Position images around target location (${Math.round(W.x)}, ${Math.round(W.y)})
   - Examples: "create an image of...", "generate a picture of...", "draw me..."

2. ADD TEXT NODES: If user wants to add individual text concepts, ideas, or notes
   - Return JSON with "addNodes" array with text nodes
   - Position nodes around target location (${Math.round(W.x)}, ${Math.round(W.y)})
   - Examples: "add a note about...", "create nodes for...", "add some ideas about..."

3. CREATE FULL MIND MAP: If user explicitly wants a complete mind map structure
   - Return JSON with comprehensive "nodes" and "links" arrays (traditional format)
   - Use this ONLY when user clearly asks for "mind map", "map about", "diagram of", etc.
   - Examples: "create a mind map about...", "make a diagram of...", "map out..."

4. RESPOND WITH TEXT: If request is unclear, asking for help, or needs clarification
   - Return JSON with "response" field containing helpful text
   - Examples: "what can you do?", "help me", unclear requests

USER REQUEST: "${U}"

IMPORTANT GUIDELINES:

For IMAGE GENERATION:
- Use "imagePrompt" field with detailed visual descriptions
- Make images reasonably sized (200-300px width/height)
- Position around target: spread within ±150px of (${Math.round(W.x)}, ${Math.round(W.y)})
- Examples: "A blue cat wearing a hat", "A flowchart showing water cycle"

For TEXT NODES:
- Create 1-5 individual nodes with meaningful text
- Each node should have: id, text, x, y coordinates
- Position around target: spread within ±150px of (${Math.round(W.x)}, ${Math.round(W.y)})
- Optionally add styling: bgColor, textColor, fontSize, fontFamily

For FULL MIND MAPS:
- Create comprehensive node structure with central topic
- Include meaningful links between related nodes
- Center the main topic around (${Math.round(W.x)}, ${Math.round(W.y)})
- Include 5-15 nodes typically

For TEXT RESPONSES:
- Provide helpful information or ask for clarification
- Use when user request is unclear or needs guidance

ANALYZE the request and determine the user's intent:

Example IMAGE GENERATION response (positioned around target):
{
  "addNodes": [
    {"id": "img1", "text": "Generated Image", "x": ${Math.round(W.x-50)}, "y": ${Math.round(W.y-50)}, "width": 250, "height": 200, "imagePrompt": "A cartoon cat wearing a red hat"},
    {"id": "img2", "text": "Another Image", "x": ${Math.round(W.x+50)}, "y": ${Math.round(W.y+50)}, "width": 250, "height": 200, "imagePrompt": "A blue ocean with waves"}
  ]
}

Example TEXT NODES response (positioned around target):
{
  "addNodes": [
    {"id": "note1", "text": "Important concept", "x": ${Math.round(W.x-100)}, "y": ${Math.round(W.y-50)}, "bgColor": "#3498DB", "textColor": "#FFFFFF"},
    {"id": "note2", "text": "Related idea", "x": ${Math.round(W.x+100)}, "y": ${Math.round(W.y)}, "bgColor": "#2ECC71", "textColor": "#FFFFFF"},
    {"id": "note3", "text": "Follow-up task", "x": ${Math.round(W.x)}, "y": ${Math.round(W.y+100)}, "bgColor": "#F39C12", "textColor": "#000000"}
  ],
  "addLinks": [
    {"source": "note1", "target": "note2"},
    {"source": "note2", "target": "note3"}
  ]
}

Example FULL MIND MAP response (centered around target):
{
  "nodes": [
    {"id": "center", "text": "Main Topic", "x": ${Math.round(W.x)}, "y": ${Math.round(W.y)}, "bgColor": "#E74C3C", "textColor": "#FFFFFF"},
    {"id": "branch1", "text": "Subtopic 1", "x": ${Math.round(W.x-150)}, "y": ${Math.round(W.y-100)}, "bgColor": "#3498DB", "textColor": "#FFFFFF"},
    {"id": "branch2", "text": "Subtopic 2", "x": ${Math.round(W.x+150)}, "y": ${Math.round(W.y-100)}, "bgColor": "#2ECC71", "textColor": "#FFFFFF"}
  ],
  "links": [
    {"source": "center", "target": "branch1"},
    {"source": "center", "target": "branch2"}
  ]
}

Example TEXT RESPONSE:
{
  "response": "I can help you create images, add individual nodes, or build complete mind maps. What would you like me to create for you?"
}

USER REQUEST: "${U}"`,oe.push({text:ae});const ve=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${z}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:oe}],generationConfig:{temperature:.7,maxOutputTokens:q}})});if(!ve.ok){const ge=await ve.text();throw console.error("API error details:",ve.status,ge),new Error(`Gemini API error: ${ve.statusText}`)}let ne=(await ve.json()).candidates[0].content.parts[0].text.trim();console.log("Raw content from AI:",ne),ne.startsWith("```json")?ne=ne.replace(/^```json\s*/,"").replace(/\s*```$/,""):ne.startsWith("```")&&(ne=ne.replace(/^```\s*/,"").replace(/\s*```$/,""));try{const ge=JSON.parse(ne);if(ge.addNodes){for(const ee of ge.addNodes)if(ee.imagePrompt)try{console.log(`Generating image for node ${ee.id} with prompt: ${ee.imagePrompt}`);const ue=await D(ee.imagePrompt);ee.imageData=ue,delete ee.imagePrompt}catch(ue){console.error(`Failed to generate image for node ${ee.id}:`,ue)}}return ge}catch(ge){throw console.error("Error parsing JSON:",ge),console.log("Cleaned content:",ne),ge}},D=async(U,j=null)=>{var z,q,H,W;try{const ae=await oy("Key"),oe=[];j?(oe.push({text:`Please edit this image: ${U}`}),oe.push({inlineData:{mimeType:"image/jpeg",data:j}})):oe.push({text:U});const ve=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-preview-image-generation:generateContent?key=${ae}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:oe}],generationConfig:{responseModalities:["TEXT","IMAGE"]}})});if(!ve.ok){const ne=await ve.text();throw console.error("Image generation failed:",ve.status,ne),new Error(`Image generation failed: ${ve.status}`)}const ke=await ve.json();if((H=(q=(z=ke.candidates)==null?void 0:z[0])==null?void 0:q.content)!=null&&H.parts){for(const ne of ke.candidates[0].content.parts)if((W=ne.inlineData)!=null&&W.data)return ne.inlineData.data}throw new Error("No image found in response")}catch(ae){throw console.error("Image generation error:",ae),ae}},O=async U=>{if(!p.trim()||x)return;S(!0);let j;o.length>0?j=`[AI analyzing ${o.length} selected node(s)]`:j="[AI ready to help]",w(z=>[...z,{from:"user",text:`${j} ${p}`}]),C();try{const z=await P(p,U);if(z.response)w(q=>[...q,{from:"ai",text:z.response}]),C();else if(z.editNodes){const q=z.editNodes.filter(oe=>s.some(ve=>ve.id===oe.id));await N(z.editNodes);const H=q.length,W=z.editNodes.length-q.length;let ae=`Updated ${H} node(s)`;W>0&&(ae+=` (${W} skipped)`),ae+=" (Ctrl+Z to undo)",w(oe=>[...oe,{from:"ai",text:ae,json:z}]),C()}else if(z.styleNodes){const q=z.styleNodes.filter(oe=>s.some(ve=>ve.id===oe.id));await E(z.styleNodes);const H=q.length,W=z.styleNodes.length-q.length;let ae=`Styled ${H} node(s)`;W>0&&(ae+=` (${W} skipped)`),ae+=" (Ctrl+Z to undo)",w(oe=>[...oe,{from:"ai",text:ae,json:z}]),C()}else if(z.moveNodes){const q=z.moveNodes.filter(oe=>s.some(ve=>ve.id===oe.id));await k(z.moveNodes);const H=q.length,W=z.moveNodes.length-q.length;let ae=`Repositioned ${H} node(s)`;W>0&&(ae+=` (${W} skipped)`),ae+=" (Ctrl+Z to undo)",w(oe=>[...oe,{from:"ai",text:ae,json:z}]),C()}else if(z.addNodes){const q=z.addNodes.filter(ae=>ae.imageData||ae.imagePrompt).length,H=z.addNodes.length-q;await M(z.addNodes,z.addLinks);let W=`Added ${z.addNodes.length} new node(s)`;q>0&&H>0?W+=` (${q} image${q>1?"s":""}, ${H} text)`:q>0&&(W+=` (${q} image${q>1?"s":""})`),W+=" (Ctrl+Z to undo)",w(ae=>[...ae,{from:"ai",text:W,json:z}]),C()}else if(z.nodes&&z.links){const q="Generated new mind map";w(W=>[...W,{from:"ai",text:`${q} (Ctrl+Z to undo)`,json:z}]),C(),await n(z,U?t:e,Z)}else{const q="Generated content";w(W=>[...W,{from:"ai",text:`${q} (Ctrl+Z to undo)`,json:z}]),C(),await n(z,U?t:e,Z)}}catch(z){console.error("Error calling Gemini API:",z),w(q=>[...q,{from:"ai",text:"Error generating content. Please try again."}]),C()}finally{S(!1),m("")}},J=U=>{U.key==="Enter"&&(U.preventDefault(),O(!0)),U.ctrlKey&&U.key==="v"&&U.stopPropagation()},Q=U=>{O(!1)},[Z,ce]=g.useState("bottomLay");return g.useEffect(()=>{C()},[_]),I.jsxs(I.Fragment,{children:[I.jsx("style",{children:`
          @keyframes pulse {
            0%, 50% { opacity: 1; }
            25%, 75% { opacity: 0.5; }
          }
        `}),I.jsxs("div",{style:{position:"fixed",bottom:r?"0":"-270px",left:"0",width:"300px",height:"300px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0.66) 0%, #0f1011 100%)",color:"#fff",borderTopRightRadius:"8px",transition:"bottom 0.3s ease",display:"flex",flexDirection:"column",zIndex:1e3},onWheel:U=>U.stopPropagation(),onKeyDown:U=>{(U.ctrlKey||U.metaKey)&&U.stopPropagation()},children:[I.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px 8px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0.66) 0%,rgb(27, 29, 31) 100%)",borderTopRightRadius:"8px"},children:[I.jsxs("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>i(U=>!U),children:[r?I.jsx(ITe,{}):I.jsx(RTe,{}),I.jsxs("span",{style:{marginLeft:"4px",fontWeight:"bold"},children:["MindMap Maker (AI)",o.length>0&&I.jsxs("span",{style:{marginLeft:"8px",fontSize:"0.8em",backgroundColor:"rgba(136, 150, 221, 0.3)",padding:"2px 6px",borderRadius:"4px",color:"#8896DD"},children:[o.length," selected"]})]})]}),I.jsx(PTe,{style:{cursor:"pointer"},onClick:()=>i(!1)})]}),I.jsxs("div",{ref:b,style:{flex:1,padding:"8px",overflowY:"auto",fontSize:"0.9rem",maxHeight:"200px"},onWheel:U=>{U.stopPropagation()},children:[_.map((U,j)=>I.jsxs("div",{style:{marginBottom:"12px",lineHeight:"1.4",padding:"6px 8px",borderRadius:"6px",backgroundColor:U.from==="user"?"rgba(136, 150, 221, 0.1)":"rgba(78, 205, 196, 0.1)",border:`1px solid ${U.from==="user"?"rgba(136, 150, 221, 0.2)":"rgba(78, 205, 196, 0.2)"}`},children:[I.jsx("strong",{style:{color:U.from==="user"?"#8896DD":"#4ECDC4"},children:U.from==="user"?"You:":"AI:"})," ",I.jsx("span",{style:{color:"#EAEAEA"},children:U.text})]},j)),x&&I.jsxs("div",{style:{marginBottom:"12px",lineHeight:"1.4",padding:"6px 8px",borderRadius:"6px",backgroundColor:"rgba(78, 205, 196, 0.1)",border:"1px solid rgba(78, 205, 196, 0.2)"},children:[I.jsx("strong",{style:{color:"#4ECDC4"},children:"AI:"})," ",I.jsxs("span",{style:{color:"#EAEAEA"},children:["Thinking",I.jsx("span",{style:{animation:"pulse 1.5s infinite"},children:"..."})]})]})]}),I.jsx("div",{style:{width:"16%",marginLeft:"83%",marginTop:"22%",background:"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)",color:"white",borderRadius:"8px",position:"absolute"},children:I.jsx("paper",{children:I.jsxs(JE,{value:Z,exclusive:!0,onChange:(U,j)=>{j!==null&&ce(j)},orientation:"vertical","aria-label":"text alignment",color:"info",size:"small",sx:{mx:.5,my:.5,background:"radial-gradient(circle at center,rgba(36, 39, 43, 0.5) 0%,rgba(108, 115, 121, 0.73) 130%)"},children:[I.jsx(Js,{value:"bottomLay","aria-label":"bottomLay",style:{transform:"rotate(180deg)"},children:I.jsx(LO,{})}),I.jsx(Js,{value:"rightLay","aria-label":"rightLay",style:{transform:"rotate(90deg)"},children:I.jsx(LO,{})}),I.jsx(Js,{value:"centerLay","aria-label":"centerLay",children:I.jsx(kTe,{})})]})})}),I.jsxs("div",{style:{padding:"7px",display:"flex"},children:[I.jsx(_l,{value:p,onChange:U=>m(U.target.value),onKeyDown:J,onPaste:U=>U.stopPropagation(),onCopy:U=>U.stopPropagation(),onCut:U=>U.stopPropagation(),onWheel:U=>U.stopPropagation(),variant:"filled",size:"small",placeholder:o.length>0?`Tell me what to do with ${o.length} selected node(s)... (can generate images!)`:"Create new mind map or generate images...",InputProps:{style:{background:"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)",color:"#fff"}},fullWidth:!0}),I.jsx(en,{variant:"contained",onClick:Q,disabled:x||!p.trim(),style:{marginLeft:"4px",background:x||!p.trim()?"rgba(60, 60, 60, 0.5)":"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)",minWidth:"60px"},children:x?"...":"Send"})]})]})]})},qt=100,Nt=40,FO=.1,Iu=5,BO=.1,FTe=(t,e,n)=>Math.min(Math.max(t,e),n),cn=typeof window<"u"&&(window.innerWidth<768||/Mobi|Android/i.test(navigator.userAgent));class BTe{constructor(){this.nodeMap=new Map,this.changeQueue=new Map,this.batchTimeout=null,this.subscribers=new Set}setNodes(e){this.nodeMap.clear(),e.forEach(n=>{this.nodeMap.set(n.id,n)}),this.notifySubscribers()}getNodes(){return Array.from(this.nodeMap.values())}getNode(e){return this.nodeMap.get(e)}updateNode(e,n,r=!1){const i=this.nodeMap.get(e);if(!i||!Object.keys(n).some(s=>i[s]!==n[s]))return!1;if(r){const s={...i,...n};return this.nodeMap.set(e,s),this.notifySubscribers(),!0}else return this.queueChange(e,n),!0}updateNodes(e,n=!1){let r=!1;for(const[i,o]of Object.entries(e)){const s=this.nodeMap.get(i);if(!(!s||!Object.keys(o).some(l=>s[l]!==o[l])))if(n){const l={...s,...o};this.nodeMap.set(i,l),r=!0}else this.queueChange(i,o),r=!0}return n&&r&&this.notifySubscribers(),r}queueChange(e,n){const r=this.changeQueue.get(e)||{};this.changeQueue.set(e,{...r,...n}),this.batchTimeout&&clearTimeout(this.batchTimeout),this.batchTimeout=setTimeout(()=>{this.processBatchedChanges()},16)}processBatchedChanges(){if(this.changeQueue.size===0)return;let e=!1;for(const[n,r]of this.changeQueue){const i=this.nodeMap.get(n);if(i){const o={...i,...r};this.nodeMap.set(n,o),e=!0}}this.changeQueue.clear(),this.batchTimeout=null,e&&this.notifySubscribers()}addNode(e){this.nodeMap.set(e.id,e),this.notifySubscribers()}removeNode(e){const n=this.nodeMap.delete(e);return n&&this.notifySubscribers(),n}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}notifySubscribers(){const e=this.getNodes();this.subscribers.forEach(n=>n(e))}flush(){this.batchTimeout&&(clearTimeout(this.batchTimeout),this.processBatchedChanges())}getNodesByIds(e){return e.map(n=>this.nodeMap.get(n)).filter(Boolean)}hasNode(e){return this.nodeMap.has(e)}size(){return this.nodeMap.size}}const jTe=(t=[])=>{const e=g.useRef(null),[n,r]=g.useState(t),[,i]=g.useState({});e.current||(e.current=new BTe,e.current.setNodes(t)),g.useEffect(()=>e.current.subscribe(p=>{r(p)}),[]),g.useEffect(()=>{e.current.setNodes(t)},[t]);const o=g.useCallback((f,p,m=!1)=>e.current.updateNode(f,p,m),[]),s=g.useCallback((f,p=!1)=>e.current.updateNodes(f,p),[]),a=g.useCallback(f=>{e.current.addNode(f)},[]),l=g.useCallback(f=>e.current.removeNode(f),[]),c=g.useCallback(f=>e.current.getNode(f),[]),u=g.useCallback(f=>e.current.getNodesByIds(f),[]),h=g.useCallback(()=>{e.current.flush()},[]);return{nodes:n,updateNode:o,updateNodes:s,addNode:a,removeNode:l,getNode:c,getNodesByIds:u,flush:h,stateManager:e.current}},VTe=(t,e,n,r)=>g.useMemo(()=>{if(!r.current||t.length===0)return t;const i=r.current.getBoundingClientRect(),o=Math.max(50,200/n),s=-e.x/n-o,a=-e.y/n-o,l=i.width/n+o*2,c=i.height/n+o*2;return t.filter(u=>{const h=u.width||qt,f=u.height||Nt;return u.x+h>=s&&u.x<=s+l&&u.y+f>=a&&u.y<=a+c})},[t,Math.round(e.x/50)*50,Math.round(e.y/50)*50,Math.round(n*20)/20,r]);class UTe{constructor(){this.linkMap=new Map,this.sourceMap=new Map,this.targetMap=new Map,this.changeQueue=new Map,this.batchTimeout=null,this.subscribers=new Set}setLinks(e){this.linkMap.clear(),this.sourceMap.clear(),this.targetMap.clear(),e.forEach(n=>{this.linkMap.set(n.id,n),this.sourceMap.has(n.source)||this.sourceMap.set(n.source,new Set),this.sourceMap.get(n.source).add(n.id),this.targetMap.has(n.target)||this.targetMap.set(n.target,new Set),this.targetMap.get(n.target).add(n.id)}),this.notifySubscribers()}getLinks(){return Array.from(this.linkMap.values())}getLink(e){return this.linkMap.get(e)}getLinksBySource(e){const n=this.sourceMap.get(e);return n?Array.from(n).map(r=>this.linkMap.get(r)).filter(Boolean):[]}getLinksByTarget(e){const n=this.targetMap.get(e);return n?Array.from(n).map(r=>this.linkMap.get(r)).filter(Boolean):[]}getLinksByNode(e){const n=this.getLinksBySource(e),r=this.getLinksByTarget(e);return[...n,...r].filter((o,s,a)=>s===a.findIndex(l=>l.id===o.id))}updateLink(e,n,r=!1){const i=this.linkMap.get(e);if(!i||!Object.keys(n).some(s=>i[s]!==n[s]))return!1;if(r){const s={...i,...n};return this._updateLinkInMaps(i,s),this.notifySubscribers(),!0}else return this.queueChange(e,n),!0}_updateLinkInMaps(e,n){if(e.source!==n.source){const r=this.sourceMap.get(e.source);r&&(r.delete(e.id),r.size===0&&this.sourceMap.delete(e.source)),this.sourceMap.has(n.source)||this.sourceMap.set(n.source,new Set),this.sourceMap.get(n.source).add(n.id)}if(e.target!==n.target){const r=this.targetMap.get(e.target);r&&(r.delete(e.id),r.size===0&&this.targetMap.delete(e.target)),this.targetMap.has(n.target)||this.targetMap.set(n.target,new Set),this.targetMap.get(n.target).add(n.id)}this.linkMap.set(n.id,n)}queueChange(e,n){const r=this.changeQueue.get(e)||{};this.changeQueue.set(e,{...r,...n}),this.batchTimeout&&clearTimeout(this.batchTimeout),this.batchTimeout=setTimeout(()=>{this.processBatchedChanges()},16)}processBatchedChanges(){if(this.changeQueue.size===0)return;let e=!1;for(const[n,r]of this.changeQueue){const i=this.linkMap.get(n);if(i){const o={...i,...r};this._updateLinkInMaps(i,o),e=!0}}this.changeQueue.clear(),this.batchTimeout=null,e&&this.notifySubscribers()}addLink(e){this.linkMap.set(e.id,e),this.sourceMap.has(e.source)||this.sourceMap.set(e.source,new Set),this.sourceMap.get(e.source).add(e.id),this.targetMap.has(e.target)||this.targetMap.set(e.target,new Set),this.targetMap.get(e.target).add(e.id),this.notifySubscribers()}removeLink(e){const n=this.linkMap.get(e);if(!n)return!1;this.linkMap.delete(e);const r=this.sourceMap.get(n.source);r&&(r.delete(e),r.size===0&&this.sourceMap.delete(n.source));const i=this.targetMap.get(n.target);return i&&(i.delete(e),i.size===0&&this.targetMap.delete(n.target)),this.notifySubscribers(),!0}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}notifySubscribers(){const e=this.getLinks();this.subscribers.forEach(n=>n(e))}flush(){this.batchTimeout&&(clearTimeout(this.batchTimeout),this.processBatchedChanges())}size(){return this.linkMap.size}hasLink(e){return this.linkMap.has(e)}removeLinksForNode(e){this.getLinksByNode(e).forEach(r=>this.removeLink(r.id))}}const zTe=(t=[])=>{const e=g.useRef(null),[n,r]=g.useState(t);e.current||(e.current=new UTe,e.current.setLinks(t)),g.useEffect(()=>e.current.subscribe(m=>{r(m)}),[]),g.useEffect(()=>{e.current.setLinks(t)},[t]);const i=g.useCallback((p,m,x=!1)=>e.current.updateLink(p,m,x),[]),o=g.useCallback(p=>{e.current.addLink(p)},[]),s=g.useCallback(p=>e.current.removeLink(p),[]),a=g.useCallback(p=>e.current.getLink(p),[]),l=g.useCallback(p=>e.current.getLinksBySource(p),[]),c=g.useCallback(p=>e.current.getLinksByTarget(p),[]),u=g.useCallback(p=>e.current.getLinksByNode(p),[]),h=g.useCallback(p=>e.current.removeLinksForNode(p),[]),f=g.useCallback(()=>{e.current.flush()},[]);return{links:n,updateLink:i,addLink:o,removeLink:s,getLink:a,getLinksBySource:l,getLinksByTarget:c,getLinksByNode:u,removeLinksForNode:h,flush:f,stateManager:e.current}},WTe=(t,e)=>g.useMemo(()=>!e||e.size===0?[]:t.filter(n=>e.has(n.source)||e.has(n.target)),[t,e]),HTe=g.memo(({nodes:t,zoom:e,pan:n,outerRef:r,visibleNodes:i,selectedNodes:o,groupDelta:s,editingNodeId:a,editedText:l,hoveredNodeId:c,linkingSource:u,currentUserEmail:h,isNodeHighlighted:f,handleResizeMouseDown:p,handleNodeClick:m,handleDoubleClick:x,handleTyping:S,handleTextBlur:_,setEditedText:w,setHoveredNodeId:b,dragStartRef:C,multiDragStartRef:N,setIsDragging:$,setNodes:E,setGroupDelta:k,mindMapId:M,pushSingleNodeToUndoStack:v,pushSelectionToUndoStack:P,setSelectedNodes:D,updateGroupDelta:O,panRef:J,zoomRef:Q})=>{g.useRef([]),g.useRef(new Map),g.useCallback(()=>{if(!r.current)return null;const U=r.current.getBoundingClientRect(),j=Q.current,z=J.current,q=Math.max(100,300/j);return{left:-z.x/j-q,top:-z.y/j-q,right:(-z.x+U.width)/j+q,bottom:(-z.y+U.height)/j+q}},[r,J,Q]);const Z=g.useMemo(()=>{if(!r.current)return i;const U=r.current.getBoundingClientRect(),j=e,z=n,q=Math.max(100,300/j),H={left:-z.x/j-q,top:-z.y/j-q,right:(-z.x+U.width)/j+q,bottom:(-z.y+U.height)/j+q};return i.filter(W=>{const ae=W.x+(W.width||qt),oe=W.y+(W.height||Nt);return!(W.x>H.right||ae<H.left||W.y>H.bottom||oe<H.top)})},[i,e,n,r]),ce=g.useCallback((U,j)=>I.jsx(mce,{node:U,zoom:Q.current,groupDelta:s,isHighlighted:f(U),currentUserEmail:h,selectedNodes:o,editingNodeId:a,editedText:l,handleResizeMouseDown:cn?()=>{}:p,handleNodeClick:cn?()=>{}:m,handleDoubleClick:cn?()=>{}:x,handleTyping:cn?()=>{}:S,handleTextBlur:cn?()=>{}:_,setEditedText:cn?()=>{}:w,setHoveredNodeId:cn?()=>{}:b,linkingSource:u,hoveredNodeId:c,onStart:cn?()=>!1:(z,q)=>{if(a===U.id)return!1;$(!0);const H=r.current.getBoundingClientRect(),W=(z.clientX-H.left-J.current.x)/Q.current,ae=(z.clientY-H.top-J.current.y)/Q.current,oe=W-U.x,ve=ae-U.y;C.current={offsetX:oe,offsetY:ve,initialX:U.x,initialY:U.y},(o.length<1||o.length<2)&&v(U),o.length>1&&o.includes(U.id)&&Object.keys(N.current).length===0&&o.forEach(ke=>{const ne=t.find(ge=>ge.id===ke);ne&&(N.current[ke]={x:ne.x,y:ne.y})})},onDrag:cn?()=>{}:(z,q)=>{const H=r.current.getBoundingClientRect(),W=(z.clientX-H.left-J.current.x)/Q.current,ae=(z.clientY-H.top-J.current.y)/Q.current,oe=W-C.current.offsetX,ve=ae-C.current.offsetY;o.length>1&&o.includes(U.id)?O({x:oe-C.current.initialX,y:ve-C.current.initialY}):E(ke=>ke.map(ne=>ne.id===U.id?{...ne,x:oe,y:ve}:ne))},onStop:cn?()=>{}:async(z,q)=>{const H=r.current.getBoundingClientRect(),W=(z.clientX-H.left-J.current.x)/Q.current,ae=(z.clientY-H.top-J.current.y)/Q.current,oe=W-C.current.offsetX,ve=ae-C.current.offsetY;if(Math.sqrt(Math.pow(oe-C.current.initialX,2)+Math.pow(ve-C.current.initialY,2))<.01){$(!1);return}if(o.length>1){P();const ge=oe-C.current.initialX,ee=ve-C.current.initialY,ue={};o.forEach(fe=>{const Ee=N.current[fe];Ee&&(ue[fe]={x:Ee.x+ge,y:Ee.y+ee})}),E(fe=>fe.map(Ee=>o.includes(Ee.id)&&ue[Ee.id]&&Ee.id!==U.id?{...Ee,x:ue[Ee.id].x,y:ue[Ee.id].y}:Ee));const Ae=gr(me);o.filter(fe=>t.some(Ee=>Ee.id===fe)).forEach(fe=>{if(ue[fe]){const Ee=Rt(me,"mindMaps",M,"nodes",fe);Ae.update(Ee,{x:ue[fe].x,y:ue[fe].y})}});try{await Ae.commit()}catch(fe){console.error("Error updating nodes in batch:",fe),D(Ee=>Ee.filter(Ut=>t.some(Se=>Se.id===Ut)))}N.current={},k({x:0,y:0})}else{E(ge=>ge.map(ee=>ee.id===U.id?{...ee,x:oe,y:ve}:ee));try{if(t.some(ee=>ee.id===U.id)){const ee=Rt(me,"mindMaps",M,"nodes",U.id);await mo(ee,{x:oe,y:ve})}}catch(ge){console.error("Error updating node position:",ge),D(ee=>ee.filter(ue=>t.some(Ae=>Ae.id===ue)))}}$(!1)}},`virtual-${U.id}-${j}`),[Q,s,f,h,o,a,l,p,m,x,S,_,w,b,u,c,t,r,J,C,N,$,E,k,M,v,P,D,O]);return I.jsx(I.Fragment,{children:Z.sort((U,j)=>(U.zIndex||1)-(j.zIndex||1)).map((U,j)=>ce(U,j))})}),GTe=()=>{const{id:t}=GU(),e=A0(),[n,r]=g.useState([]),{nodes:i,updateNode:o,updateNodes:s,stateManager:a}=jTe(n),[l,c]=g.useState([]),{links:u,updateLink:h,getLinksByNode:f,stateManager:p}=zTe(l),[m,x]=g.useState(null),[S,_]=g.useState(""),[w,b]=g.useState(!1),[C,N]=g.useState(null),[$,E]=g.useState([]),k=g.useCallback(()=>{b(T=>!T),N(null)},[]),[M,v]=g.useState(null),[P,D]=g.useState([]),[O,J]=g.useState(null),[Q,Z]=g.useState(!1),[ce,U]=g.useState(null),[j,z]=g.useState(null),[q,H]=g.useState([]),[W,ae]=g.useState({x:0,y:0}),[oe,ve]=g.useState([]),ke=g.useRef({x:0,y:0}),[ne,ge]=g.useState(1),[ee,ue]=g.useState({x:0,y:0}),Ae=g.useRef({x:0,y:0}),We=g.useRef({x:0,y:0}),fe=g.useRef(ne),Ee=g.useRef(ee),Ut=g.useRef(0),Se=g.useRef(null);g.useRef(!1);const[Mt,Ye]=g.useState(null),[_t,nt]=g.useState([]),[$e,tn]=g.useState([]),bt=g.useRef(null),at=g.useRef(null),It=VTe(i,ee,ne,at),Bt=g.useMemo(()=>new Set(It.map(T=>T.id)),[It]),pn=WTe(u,Bt),[jt,Ct]=g.useState("#1e1e1e"),[Qe,On]=g.useState("#fff"),[ur,Ui]=g.useState(""),[Le,wt]=g.useState(qt),[gn,er]=g.useState(Nt),[tr,dr]=g.useState("cursive"),[Gn,nr]=g.useState(14),[xr,Nn]=g.useState(1),rr=g.useCallback(T=>{if(typeof T=="function"){const A=a.getNodes(),F=T(A);r(F)}else r(T)},[a]);g.useCallback((T,A,F=!1)=>{if(o(T,A,F),F&&Object.keys(A).length>0){const V=Rt(me,"mindMaps",t,"nodes",T);mo(V,A).catch(console.error)}},[o,t]);const Er=g.useCallback((T,A=!1)=>{const F=s(T,A);if(A&&F){const V=gr(me);Object.entries(T).forEach(([G,Y])=>{if(Object.keys(Y).length>0){const se=Rt(me,"mindMaps",t,"nodes",G);V.update(se,Y)}}),V.commit().catch(console.error)}return F},[s,t]),ni=g.useCallback(async()=>{if(P.length===0)return;ir();const A=Math.max(...i.map(V=>V.zIndex||1),1)+1,F={};P.forEach(V=>{F[V]={zIndex:A}}),Er(F,!0)},[P,i,Er]),mi=g.useCallback(async()=>{if(P.length===0)return;ir();const T=Math.min(...i.map(V=>V.zIndex||1),1),A=Math.max(T-1,0),F={};P.forEach(V=>{F[V]={zIndex:A}}),Er(F,!0)},[P,i,Er]),Oe=g.useCallback(async T=>{if(P.length===0)return;ir();const A={};P.forEach(F=>{A[F]={zIndex:T}}),Er(A,!0)},[P,Er]),Ie=g.useRef({x:0,y:0}),pt=g.useRef({}),[tt,zt]=g.useState(!1),hr=g.useRef({x:0,y:0}),[Kn,fr]=g.useState({x:0,y:0}),yi=g.useRef(!1),Xe=g.useMemo(()=>P.length?i.find(T=>T.id===P[0]):null,[P,i]);g.useCallback((T,A)=>{Se.current&&cancelAnimationFrame(Se.current),Se.current=requestAnimationFrame(()=>{const F=performance.now();F-Ut.current<16||(T&&(ue(T),Ee.current=T),A!==void 0&&(ge(A),fe.current=A),Ut.current=F,Se.current=null)})},[]);const bn=g.useCallback(T=>{hr.current=T,yi.current||(yi.current=!0,requestAnimationFrame(()=>{fr({...hr.current}),yi.current=!1}))},[]),[vi,Ls]=g.useState("cursive"),[le,re]=g.useState(14),[Ne,rt]=g.useState([]),[it,Wt]=g.useState([]),[kn,Ur]=g.useState("left"),[$o,Fs]=g.useState("left"),[au,Bs]=g.useState("rectangle"),[Lo,xt]=g.useState(0),[ri,Fo]=g.useState("#ff0000"),[js,Ph]=g.useState(!1),[Eb,Xg]=g.useState(100),[Qg,Sb]=g.useState("#000000"),[Cb,GI]=g.useState(1),[KI,Tb]=g.useState(!1),[Ib,qI]=g.useState("#ff0000"),[Pa,as]=g.useState(1),[Ah,Mh]=g.useState(!1),[Rb,mn]=g.useState("none"),[Oh,lu]=g.useState(1),[cu,YI]=g.useState("#ff0000");g.useCallback((T,A)=>{rt(A)},[]),Ne.includes("bold"),Ne.includes("italic"),Ne.includes("underline");const Jg=[8,10,12,14,16,18,20,24,28,32],Zg=g.useRef(null),[Yl,em]=g.useState(!1),[kb,Xl]=g.useState(!1),[zr,Ql]=g.useState({visible:!1,x:0,y:0,type:null}),_i=g.useCallback(()=>Ql({visible:!1,x:0,y:0,type:null}),[]),tm=g.useCallback(T=>{if(Yl){T.preventDefault();return}if(P.length){Ql({visible:!0,x:T.clientX,y:T.clientY,type:"node"});return}T.target.closest(".mindmap-node")?Ql({visible:!0,x:T.clientX,y:T.clientY,type:"node"}):Ql({visible:!0,x:T.clientX,y:T.clientY,type:"canvas"})},[Yl,P.length]),ls=g.useCallback(()=>{ue({x:0,y:0}),Ee.current={x:0,y:0},ge(1),fe.current=1,console.log("Reset pan/zoom"),_i()},[_i]);g.useCallback(T=>{console.log("Processing key interaction:",T.key)},[]);const[nm,uu]=g.useState(!0),[rm,bi]=g.useState(null),[du,im]=g.useState(!1),[Aa,Bo]=g.useState(!1),[Nh,Vs]=g.useState(""),[Dr,Jl]=g.useState([]),[Us,wn]=g.useState(0),[Pb,Zl]=g.useState(!1),[Dh,$h]=g.useState(!0),[ec,Ma]=g.useState(!1),[tc,zi]=g.useState(!1),nc={Tab:"Add connected node to selected",Enter:"Edit selected node text",Escape:"Exit current mode/clear selection",Space:"Toggle pan mode","Ctrl+A":"Select all nodes","Ctrl+D":"Duplicate selected nodes","Ctrl+Z":"Undo last action","Ctrl+Y":"Redo last action","Ctrl+C":"Copy selected nodes","Ctrl+V":"Paste nodes","Delete/Backspace":"Delete selected nodes","Ctrl+F":"Search nodes",F3:"Find next search result","Shift+F3":"Find previous search result",Home:"Zoom to fit all nodes",0:"Reset zoom to 100%","+/=":"Zoom in","-":"Zoom out",F:"Focus on selected nodes","Ctrl+L":"Toggle linking mode","Ctrl+E":"Export mind map","Ctrl+/":"Show/hide hotkey help","Ctrl+Shift+A":"Auto-layout nodes",R:"Reset pan and zoom"},Ab=g.useCallback(T=>{if(!T.trim()){Jl([]);return}const A=i.filter(F=>F.text&&F.text.toLowerCase().includes(T.toLowerCase())).map(F=>F.id);Jl(A),wn(0),A.length>0&&(D([A[0]]),zs(A[0]))},[i]),zs=g.useCallback(T=>{const A=i.find(pe=>pe.id===T);if(!A)return;const F=at.current.getBoundingClientRect(),V=250,G=50,Y=F.width-V,se=F.height-G,Ce=A.x+(A.width||qt)/2,X=A.y+(A.height||Nt)/2,ye={x:Y/2-Ce*ne,y:se/2-X*ne};ue(ye),Ee.current=ye},[i,ne]),Ws=g.useCallback(T=>{if(Dr.length===0)return;let A;T==="next"?A=(Us+1)%Dr.length:A=Us===0?Dr.length-1:Us-1,wn(A),D([Dr[A]]),zs(Dr[A])},[Dr,Us,zs]),hu=g.useCallback(async()=>{if(i.length!==0){im(!0);try{const V=2*Math.PI/i.length,G=gr(me);i.forEach((Y,se)=>{const Ce=se*V,X=0+Math.cos(Ce)*200,ye=0+Math.sin(Ce)*200,pe=Rt(me,"mindMaps",t,"nodes",Y.id);G.update(pe,{x:X,y:ye})}),await G.commit()}catch(T){console.error("Error auto-layouting nodes:",T)}finally{im(!1)}}},[i,t]),rc=g.useCallback(()=>{D(i.map(T=>T.id))},[i]),Lh=g.useCallback(()=>{if(i.length===0)return;let T=1/0,A=1/0,F=-1/0,V=-1/0;i.forEach(ot=>{const mt=ot.width||qt,Et=ot.height||Nt;T=Math.min(T,ot.x),A=Math.min(A,ot.y),F=Math.max(F,ot.x+mt),V=Math.max(V,ot.y+Et)});const G=at.current.getBoundingClientRect(),Y=250,se=50,Ce=G.width-Y,X=G.height-se,ye=.8,pe=F-T,Me=V-A,je=Ce*ye/pe,He=X*ye/Me,Fe=Math.min(je,He,Iu),xe=(T+F)/2,Ge=(A+V)/2,gt={x:Ce/2-xe*Fe,y:X/2-Ge*Fe};ge(Fe),fe.current=Fe,ue(gt),Ee.current=gt},[i]),ic=g.useCallback(async()=>{if(P.length!==1)return;const T=i.find(A=>A.id===P[0]);if(T)try{const A=W.x||T.x+150,F=W.y||T.y,V=await Yn(lt(me,"mindMaps",t,"nodes"),{text:"New Node",x:A-qt/2,y:F-Nt/2,width:qt,height:Nt,lockedBy:null,typing:!1,textColor:"#EAEAEA",fontSize:14,fontFamily:"cursive",createdAt:Ei()});await QI(P[0],V.id),D([V.id]),setTimeout(()=>{x(V.id),_("New Node")},100)}catch(A){console.error("Error adding connected node:",A)}},[P,i,t,W]);g.useEffect(()=>{const T=C8(Tc,A=>{A?(U(A.email),z(A.uid)):bi("Please log in to access the mind map")});return()=>T()},[]),g.useEffect(()=>{if(!t)return;uu(!0);const T=Yr(lt(me,"mindMaps",t,"nodes")),A=Yf(T,F=>{try{const V=F.docs.map(G=>({id:G.id,...G.data()}));r(V),uu(!1),bi(null)}catch(V){console.error("Error processing nodes:",V),bi("Failed to load mind map data"),uu(!1)}},F=>{console.error("Error subscribing to nodes:",F),bi("Failed to connect to mind map"),uu(!1)});return()=>A()},[t]),g.useEffect(()=>{if(!t)return;const T=Yr(lt(me,"mindMaps",t,"links")),A=Yf(T,F=>{try{const V=F.docs.map(G=>({id:G.id,...G.data()}));c(V)}catch(V){console.error("Error processing links:",V)}},F=>{console.error("Error subscribing to links:",F)});return()=>A()},[t]),g.useEffect(()=>{if(!t||!j)return;const T=Rt(me,"mindMaps",t,"presence",j);HP(T,{email:ce,lastActive:Ei()},{merge:!0}).catch(console.error);const A=setInterval(()=>{HP(T,{lastActive:Ei()},{merge:!0}).catch(console.error)},5e3);return()=>{clearInterval(A),SE(T).catch(console.error)}},[t,j,ce]),g.useEffect(()=>{if(!t)return;const T=Yr(lt(me,"mindMaps",t,"presence")),A=Yf(T,F=>{const V=F.docs.map(G=>G.data());H(V)});return()=>A()},[t]),g.useEffect(()=>{if(!t||!j)return;const T=pS(),A=uS(T,`mindMaps/${t}/cursors/${j}`),F=bt.current;if(!F)return;const V=cf(se=>{const Ce=F.getBoundingClientRect(),X=se.clientX-Ce.left,ye=se.clientY-Ce.top;ke.current={x:X,y:ye},ae({x:X,y:ye})},16);F.addEventListener("mousemove",V);const G=setInterval(()=>{document.hidden||hS(A,{...ke.current,email:ce,lastActive:Date.now(),uid:j}).catch(console.error)},200),Y=()=>{document.hidden?A&&Q2(A).catch(console.error):hS(A,{...ke.current,email:ce,lastActive:Date.now(),uid:j}).catch(console.error)};return document.addEventListener("visibilitychange",Y),()=>{F.removeEventListener("mousemove",V),V.cancel(),clearInterval(G),document.removeEventListener("visibilitychange",Y),A&&Q2(A).catch(console.error)}},[t,j,ce]),g.useEffect(()=>{if(!t)return;const T=pS(),A=uS(T,`mindMaps/${t}/cursors`),F=V=>{const G=V.val()||{},Y=Object.entries(G).map(([se,Ce])=>({uid:se,...Ce}));ve(Y)};return _le(A,F,V=>{console.error("Error receiving remote cursor data:",V)}),()=>{ble(A,"value",F)}},[t]),g.useEffect(()=>{if(P.length>0){const T=i.map(F=>F.id),A=P.filter(F=>T.includes(F));A.length!==P.length&&(console.log(`Cleaning up selectedNodes: ${P.length-A.length} stale node IDs removed`),D(A))}},[i]),g.useEffect(()=>{if(!at.current)return;const T=cf(A=>{const V=at.current.getBoundingClientRect(),G=(A.clientX-V.left-ee.x)/ne,Y=(A.clientY-V.top-ee.y)/ne;ke.current={x:G,y:Y},ae({x:G,y:Y})},16);return document.addEventListener("mousemove",T),()=>{document.removeEventListener("mousemove",T),T.cancel()}},[ee,ne]);const Mb=(T,A)=>{A.stopPropagation(),w?C?C===T.id?N(null):QI(C,T.id).then(F=>{F&&N(null)}).catch(F=>{console.error("Error creating link:",F)}):N(T.id):A.ctrlKey||A.metaKey?D(F=>F.includes(T.id)?F.filter(V=>V!==T.id):[...F,T.id]):D([T.id])},ir=T=>{let A={};T?A=T:P.forEach(V=>{const G=i.find(Y=>Y.id===V);G&&(A[V]={...G})});const F=JSON.parse(JSON.stringify(A));Object.keys(F).length>0&&(nt(V=>[...V,F]),tn([]))},Oa=T=>{if(T){const A={[T.id]:{...T}};nt(F=>[...F,A]),tn([])}},om=async()=>{if(_t.length===0)return;const T=_t[_t.length-1],A=T.nodes?T.nodes:T,F={};Object.keys(A).forEach(G=>{const Y=i.find(se=>se.id===G);Y&&(F[G]={...Y})}),tn(G=>[...G,F]);const V=gr(me);for(const G of Object.keys(A)){const Y=A[G],se=Rt(me,"mindMaps",t,"nodes",G);if(Y&&Y.isNew){V.delete(se);const Ce=Yr(lt(me,"mindMaps",t,"links"),Gi("source","==",G));(await Ki(Ce)).docs.forEach(Me=>{const je=Rt(me,"mindMaps",t,"links",Me.id);V.delete(je)});const ye=Yr(lt(me,"mindMaps",t,"links"),Gi("target","==",G));(await Ki(ye)).docs.forEach(Me=>{const je=Rt(me,"mindMaps",t,"links",Me.id);V.delete(je)})}else Y&&V.set(se,Y,{merge:!0})}try{await V.commit(),console.log("Batch undo successful")}catch(G){console.error("Error during batch undo:",G)}rr(G=>G.filter(Y=>!(A[Y.id]&&A[Y.id].isNew))),nt(G=>G.slice(0,G.length-1))},sm=async()=>{if($e.length===0)return;const T=$e[$e.length-1];console.log("Redo snapshot:",T);const A={};Object.keys(T).forEach(V=>{const G=i.find(Y=>Y.id===V);G&&(A[V]={...G})}),nt(V=>[...V,A]);const F=gr(me);Object.keys(T).forEach(V=>{const G=Rt(me,"mindMaps",t,"nodes",V);F.set(G,T[V],{merge:!0})});try{await F.commit(),console.log("Batch redo successful")}catch(V){console.error("Error during batch redo:",V)}rr(V=>{const G=[...V];return Object.keys(T).forEach(Y=>{const se=G.findIndex(Ce=>Ce.id===Y);se===-1?G.push({id:Y,...T[Y]}):G[se]={...G[se],...T[Y]}}),G}),tn(V=>V.slice(0,V.length-1))},Fh=(T,A,F="se")=>{if(A.button!==0)return;const V=new Map(i.map(xe=>[xe.id,xe])),G=P.length>1&&P.includes(T.id)?P.map(xe=>V.get(xe)).filter(Boolean):[T];G.forEach(xe=>Oa(xe)),A.stopPropagation(),A.preventDefault();const Y=A.clientX,se=A.clientY,Ce=new Map(G.map(xe=>[xe.id,{id:xe.id,width:xe.width||qt,height:xe.height||Nt,x:xe.x,y:xe.y}]));let X={},ye=null,pe=0;const Me=(xe,Ge,gt,ot)=>{let mt=xe.width,Et=xe.height,Ke=xe.x,yt=xe.y;switch(ot){case"se":mt=Math.max(50,xe.width+Ge),Et=Math.max(20,xe.height+gt);break;case"sw":mt=Math.max(50,xe.width-Ge),Et=Math.max(20,xe.height+gt),Ke=xe.x+Math.min(Ge,xe.width-50);break;case"ne":mt=Math.max(50,xe.width+Ge),Et=Math.max(20,xe.height-gt),yt=xe.y+Math.min(gt,xe.height-20);break;case"nw":mt=Math.max(50,xe.width-Ge),Et=Math.max(20,xe.height-gt),Ke=xe.x+Math.min(Ge,xe.width-50),yt=xe.y+Math.min(gt,xe.height-20);break;case"n":Et=Math.max(20,xe.height-gt),yt=xe.y+Math.min(gt,xe.height-20);break;case"s":Et=Math.max(20,xe.height+gt);break;case"w":mt=Math.max(50,xe.width-Ge),Ke=xe.x+Math.min(Ge,xe.width-50);break;case"e":mt=Math.max(50,xe.width+Ge);break}return{newWidth:mt,newHeight:Et,newX:Ke,newY:yt}},je=(xe,Ge)=>{ye&&cancelAnimationFrame(ye),ye=requestAnimationFrame(()=>{const gt=new Map;for(const[ot,mt]of Ce){const Et=Me(mt,xe,Ge,F);gt.set(ot,Et),X[ot]=Et}rr(ot=>ot.map(mt=>{const Et=gt.get(mt.id);return Et?{...mt,width:Et.newWidth,height:Et.newHeight,x:Et.newX,y:Et.newY}:mt}))})},He=xe=>{const Ge=performance.now();if(Ge-pe<16)return;pe=Ge;const gt=(xe.clientX-Y)/ne,ot=(xe.clientY-se)/ne;je(gt,ot)},Fe=async()=>{document.removeEventListener("mousemove",He),document.removeEventListener("mouseup",Fe),ye&&cancelAnimationFrame(ye);try{if(Object.keys(X).length>0){const xe=gr(me);for(const[Ge,gt]of Object.entries(X)){const ot=Rt(me,"mindMaps",t,"nodes",Ge);xe.update(ot,gt)}await xe.commit()}}catch(xe){console.error("Error updating node sizes:",xe)}};document.addEventListener("mousemove",He,{passive:!0}),document.addEventListener("mouseup",Fe)},oc=()=>{ge(T=>{const A=Math.min(Iu,T+BO);return fe.current=A,A})},fu=()=>{ge(T=>{const A=Math.max(FO,T-BO);return fe.current=A,A})};g.useEffect(()=>{const T=at.current,A=bt.current;if(!T||!A)return;const F=cf(V=>{let G=V.shiftKey?1.15:1.05;V.preventDefault();const Y=T.getBoundingClientRect(),se=V.clientX-Y.left,Ce=V.clientY-Y.top,X=fe.current;let ye;V.deltaY<0?ye=Math.min(Iu,X*G):ye=X/G;const pe={x:(se-Ee.current.x)/X,y:(Ce-Ee.current.y)/X},Me={x:se-pe.x*ye,y:Ce-pe.y*ye};ge(ye),ue(Me),fe.current=ye,Ee.current=Me},8);return T.addEventListener("wheel",F,{passive:!1}),()=>{T.removeEventListener("wheel",F),F.cancel()}},[ne,ee]);const pu=T=>{T.preventDefault()},Bh=T=>{if(T.button!==2)return;document.activeElement.tagName==="INPUT"||document.activeElement.tagName==="TEXTAREA"||T.preventDefault(),Ae.current={...ee},Zg.current={x:T.clientX,y:T.clientY},We.current={x:T.clientX,y:T.clientY};const F=cf(V=>{const G=V.clientX-We.current.x,Y=V.clientY-We.current.y;Math.sqrt(G*G+Y*Y)>15&&em(!0),requestAnimationFrame(()=>{const Ce=V.clientX-We.current.x,X=V.clientY-We.current.y,ye=Ae.current.x+Ce,pe=Ae.current.y+X;ue({x:ye,y:pe}),Ee.current={x:ye,y:pe}})},16);document.addEventListener("mousemove",F),document.addEventListener("mouseup",function V(){document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",V),F.cancel()})},am=g.useCallback(async()=>{if(t&&!du)try{const T=Ee.current,A=fe.current,F=at.current.getBoundingClientRect(),V=250,G=50,Y=F.width-V,se=F.height-G,Ce=Y/2,X=se/2,ye=(Ce-T.x)/A,pe=(X-T.y)/A,Me=await Yn(lt(me,"mindMaps",t,"nodes"),{text:"New Node",x:ye,y:pe,width:qt,height:Nt,lockedBy:null,typing:!1,textColor:"#EAEAEA",fontSize:14,fontFamily:"cursive",createdAt:Ei()});D([Me.id])}catch(T){console.error("Error adding node:",T)}finally{}},[t,du]),Hs=g.useCallback(async()=>{if(t&&!du)try{const T=W.x,A=W.y,F=await Yn(lt(me,"mindMaps",t,"nodes"),{text:"New Node",x:T-qt/2,y:A-Nt/2,width:qt,height:Nt,lockedBy:null,typing:!1,textColor:"#EAEAEA",fontSize:14,fontFamily:"cursive",createdAt:Ei()});D([F.id])}catch(T){console.error("Error adding node:",T)}finally{}},[t,W]),gu=g.useCallback(T=>{if(w||T.type==="image"||T.lockedBy&&T.lockedBy!==ce||m===T.id)return;const A=Rt(me,"mindMaps",t,"nodes",T.id);mo(A,{lockedBy:ce,typing:!0}).catch(F=>{console.error("Error locking node:",F)}),x(T.id),_(T.text)},[w,ce,t,m]),lm=g.useCallback(async T=>{if(S.trim())try{P.includes(T),ir();const A=Rt(me,"mindMaps",t,"nodes",T);await mo(A,{text:S.trim(),lockedBy:null,typing:!1,lastModified:Ei()}),x(null),_("")}catch(A){console.error("Error updating node text:",A)}},[S,P,t]),cm=g.useCallback(T=>{const A=Rt(me,"mindMaps",t,"nodes",T);mo(A,{typing:!0}).catch(F=>{console.error("Error setting typing status:",F)})},[t]);g.useCallback(async(T,A)=>{try{ir();const F=Rt(me,"mindMaps",t,"nodes",T);await mo(F,{text:A.trim(),lastModified:Ei()}),rr(V=>V.map(G=>G.id===T?{...G,text:A.trim()}:G))}catch(F){throw console.error("Error updating node text:",F),F}},[t]);const um=g.useCallback(async(T,A)=>{try{const F=Rt(me,"mindMaps",t,"nodes",T);await mo(F,{text:A.trim(),lastModified:Ei()}),rr(V=>V.map(G=>G.id===T?{...G,text:A.trim()}:G))}catch(F){throw console.error("Error updating node text:",F),F}},[t]);g.useCallback(async T=>{try{return ir(),(await Yn(lt(me,"mindMaps",t,"nodes"),{text:T.text||"New Node",x:T.x||0,y:T.y||0,width:T.width||qt,height:T.height||Nt,lockedBy:null,typing:!1,textColor:T.textColor||"#EAEAEA",fontSize:T.fontSize||14,fontFamily:T.fontFamily||"cursive",bgColor:T.bgColor||null,type:T.type||"text",imageUrl:T.imageUrl||null,storagePath:T.storagePath||null,createdAt:Ei()})).id}catch(A){throw console.error("Error adding node:",A),A}},[t]),g.useCallback(async T=>{try{await Yn(lt(me,"mindMaps",t,"links"),{source:T.source,target:T.target})}catch(A){throw console.error("Error adding link:",A),A}},[t]);const mu=g.useCallback(async T=>{try{return(await Yn(lt(me,"mindMaps",t,"nodes"),{text:T.text||"New Node",x:T.x||0,y:T.y||0,width:T.width||qt,height:T.height||Nt,lockedBy:null,typing:!1,textColor:T.textColor||"#EAEAEA",fontSize:T.fontSize||14,fontFamily:T.fontFamily||"cursive",bgColor:T.bgColor||null,type:T.type||"text",imageUrl:T.imageUrl||null,storagePath:T.storagePath||null,createdAt:Ei()})).id}catch(A){throw console.error("Error adding node:",A),A}},[t]),ii=g.useCallback(async T=>{try{await Yn(lt(me,"mindMaps",t,"links"),{source:T.source,target:T.target})}catch(A){throw console.error("Error adding link:",A),A}},[t]);g.useEffect(()=>{const T=A=>{if(document.activeElement.tagName==="INPUT"||document.activeElement.tagName==="TEXTAREA"){A.key==="Escape"&&(A.target.blur(),x(null),Zl(!1),Bo(!1));return}if(A.ctrlKey&&A.key==="/"){A.preventDefault(),Bo(!Aa);return}if(A.ctrlKey&&A.key.toLowerCase()==="f"){A.preventDefault(),Zl(!0);return}if(A.key==="F3"){A.preventDefault(),A.shiftKey?Ws("prev"):Ws("next");return}if(A.key==="Home"){A.preventDefault(),Lh();return}if(A.key==="0"&&!A.ctrlKey){A.preventDefault(),ge(1),fe.current=1;return}if(A.key==="+"||A.key==="="){A.preventDefault(),oc();return}if(A.key==="-"){A.preventDefault(),fu();return}if(A.key.toLowerCase()==="r"&&!A.ctrlKey){A.preventDefault(),ls();return}if(A.ctrlKey&&A.key.toLowerCase()==="a"){A.preventDefault(),rc();return}if(A.key==="Escape"){A.preventDefault(),D([]),b(!1),N(null),Zl(!1),Bo(!1);return}if(A.key==="Tab"&&P.length===1){A.preventDefault(),ic();return}if(A.key==="Enter"&&P.length===1){A.preventDefault();const F=i.find(V=>V.id===P[0]);F&&gu(F);return}if(A.ctrlKey&&A.shiftKey&&A.key.toLowerCase()==="a"){A.preventDefault(),hu();return}if(A.ctrlKey&&A.key.toLowerCase()==="l"){A.preventDefault(),k();return}if(A.ctrlKey&&A.key.toLowerCase()==="e"){A.preventDefault(),pr();return}if(A.key.toLowerCase()==="f"&&P.length>0){A.preventDefault();const F=i.filter(Ke=>P.includes(Ke.id));if(!F.length)return;let V=1/0,G=1/0,Y=-1/0,se=-1/0;F.forEach(Ke=>{const yt=Ke.width||qt,Cr=Ke.height||Nt;V=Math.min(V,Ke.x),G=Math.min(G,Ke.y),Y=Math.max(Y,Ke.x+yt),se=Math.max(se,Ke.y+Cr)});const Ce={x:(V+Y)/2,y:(G+se)/2},X=at.current.getBoundingClientRect(),ye=-125,pe=50,Me=X.width-ye,je=X.height-pe,He=.6,Fe=Y-V,xe=se-G,Ge=Me*He/Fe,gt=je*He/xe,ot=Math.min(Ge,gt,Iu),mt={x:ye+Me/2,y:pe+je/2},Et={x:mt.x-Ce.x*ot,y:mt.y-Ce.y*ot};ge(ot),fe.current=ot,ue(Et),Ee.current=Et;return}if(A.ctrlKey&&A.key.toLowerCase()==="d"&&(A.preventDefault(),(async()=>{if(P.length>0){const V={};await Promise.all(P.map(async G=>{const Y=i.find(se=>se.id===G);if(Y){const se={x:Y.x+50,y:Y.y+50},Ce=await y(Y,se);Ce&&(V[Ce]={id:Ce,isNew:!0})}})),console.log("Control-D group undo snapshot:",V),Object.keys(V).length>0&&ir(V)}})()),A.key.toLowerCase()==="f"){if(P.length===0)return;const F=i.filter(Ke=>P.includes(Ke.id));if(!F.length)return;let V=1/0,G=1/0,Y=-1/0,se=-1/0;F.forEach(Ke=>{const yt=Ke.width||qt,Cr=Ke.height||Nt;V=Math.min(V,Ke.x),G=Math.min(G,Ke.y),Y=Math.max(Y,Ke.x+yt),se=Math.max(se,Ke.y+Cr)});const Ce={x:(V+Y)/2,y:(G+se)/2},X=at.current.getBoundingClientRect(),ye=-125,pe=50,Me=X.width-ye,je=X.height-pe,He=.6,Fe=Y-V,xe=se-G,Ge=Me*He/Fe,gt=je*He/xe,ot=Math.min(Ge,gt,Iu),mt={x:ye+Me/2,y:pe+je/2},Et={x:mt.x-Ce.x*ot,y:mt.y-Ce.y*ot};ge(ot),fe.current=ot,ue(Et),Ee.current=Et}!m&&P.length>0&&(A.key==="Backspace"||A.key==="Delete")&&(A.preventDefault(),window.confirm("Are you sure you want to delete the selected nodes?")&&(ir(),(async()=>{const F=gr(me);for(const V of P){const G=Rt(me,"mindMaps",t,"nodes",V);F.delete(G);const Y=Yr(lt(me,"mindMaps",t,"links"),Gi("source","==",V));(await Ki(Y)).docs.forEach(ye=>{const pe=Rt(me,"mindMaps",t,"links",ye.id);F.delete(pe)});const Ce=Yr(lt(me,"mindMaps",t,"links"),Gi("target","==",V));(await Ki(Ce)).docs.forEach(ye=>{const pe=Rt(me,"mindMaps",t,"links",ye.id);F.delete(pe)})}try{await F.commit(),console.log("Batch deletion (nodes and links) successful")}catch(V){console.error("Error deleting nodes and links:",V)}rr(V=>V.filter(G=>!P.includes(G.id))),D([])})())),A.ctrlKey&&A.key.toLowerCase()==="z"&&(console.log("undo"),A.preventDefault(),om()),A.ctrlKey&&A.key.toLowerCase()==="y"&&(A.preventDefault(),sm())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[i,P,_t,$e,Aa,Ws,Lh,oc,fu,ls,rc,ic,gu,hu,k]);const dm=(T,A)=>T.x<A.x+A.width&&T.x+T.width>A.x&&T.y<A.y+A.height&&T.y+T.height>A.y,hm=T=>{if(tt||T.button!==0)return;const A=at.current.getBoundingClientRect();Z(T.ctrlKey||T.metaKey);const F=(T.clientX-A.left-ee.x)/ne,V=(T.clientY-A.top-ee.y)/ne;J({startX:F,startY:V,x:F,y:V,width:0,height:0})},Na=T=>{if(!O||tt)return;const A=at.current.getBoundingClientRect(),F=(T.clientX-A.left-ee.x)/ne,V=(T.clientY-A.top-ee.y)/ne,G=Math.min(O.startX,F),Y=Math.min(O.startY,V),se=Math.abs(F-O.startX),Ce=Math.abs(V-O.startY),X={...O,x:G,y:Y,width:se,height:Ce};J(X);const ye=It.filter(pe=>{const Me={x:pe.x,y:pe.y,width:pe.width||qt,height:pe.height||Nt};return dm(Me,X)}).map(pe=>pe.id);P!=ye&&D(ye)},d=T=>{if(!O)return;const A=It.filter(F=>(F.width,F.height,F.x<O.x+O.width&&F.x+F.width>O.x&&F.y<O.y+O.height&&F.y+F.height>O.y)).map(F=>F.id);D(Q?F=>{const V=[...F];return A.forEach(G=>{V.includes(G)?V.splice(V.indexOf(G),1):V.push(G)}),V}:A),J(null)},y=async(T,A)=>{if(!t)return null;const{id:F,...V}=T;let G;try{G=(await Yn(lt(me,"mindMaps",t,"nodes"),{...V,x:A.x,y:A.y,lockedBy:null,typing:!1})).id;const se=Yr(lt(me,"mindMaps",t,"links"),Gi("source","==",F)),Ce=await Ki(se);for(const pe of Ce.docs){const Me=pe.data();await Yn(lt(me,"mindMaps",t,"links"),{...Me,source:G})}const X=Yr(lt(me,"mindMaps",t,"links"),Gi("target","==",F)),ye=await Ki(X);for(const pe of ye.docs){const Me=pe.data();await Yn(lt(me,"mindMaps",t,"links"),{...Me,target:G})}}catch(Y){return console.error("Error duplicating node and links:",Y),null}return G},R=async(T,A,F=null)=>{if(!t)return null;const{id:V,...G}=T;let Y;try{Y=(await Yn(lt(me,"mindMaps",t,"nodes"),{...G,x:A.x,y:A.y,lockedBy:null,typing:!1})).id;const Ce=Yr(lt(me,"mindMaps",t,"links"),Gi("source","==",V)),X=await Ki(Ce);for(const Me of X.docs){const je=Me.data(),He=F&&F[je.target]?F[je.target]:null;He&&await Yn(lt(me,"mindMaps",t,"links"),{...je,source:Y,target:He})}const ye=Yr(lt(me,"mindMaps",t,"links"),Gi("target","==",V)),pe=await Ki(ye);for(const Me of pe.docs){const je=Me.data(),He=F&&F[je.source]?F[je.source]:null;He&&await Yn(lt(me,"mindMaps",t,"links"),{...je,source:He,target:Y})}}catch(se){return console.error("Error duplicating node and links:",se),null}return Y},L=(T,A)=>{const F={};T.forEach(G=>{F[G.id]=G});let V=!1;return A.forEach(G=>{const Y=F[G.target];Y&&(Y.parent===void 0||Y.parent===null)&&(Y.parent=G.source,V=!0)}),T.forEach(G=>{G.parent===void 0&&(G.parent=null,V=!0)}),{nodes:T,modified:V}},K=async(T,A,F)=>{if(!T.nodes||!T.links)return;const{nodes:V}=L(T.nodes,T.links),G=F==="bottomLay"?yce(V,T.links,150,800,1.5):F==="rightLay"?_ce(V,T.links,150,800,1.5):vce(V,T.links,150,800,1.5),{layout:Y,levelMap:se}=G;let Ce=1/0,X=1/0,ye=-1/0,pe=-1/0;Object.values(Y).forEach(({x:Ke,y:yt})=>{Ke<Ce&&(Ce=Ke),yt<X&&(X=yt),Ke>ye&&(ye=Ke),yt>pe&&(pe=yt)});const Me=(Ce+ye)/2,je=(X+pe)/2,He=A.x-Me,Fe=A.y-je,xe=["#2C3E50","#1ABC9C","#3498DB","#9B59B6","#E74C3C"],Ge={},gt={},ot=gr(me);for(const Ke of V){const yt=Rt(lt(me,"mindMaps",t,"nodes")),Cr=Y[Ke.id]||{x:0,y:0},oi=se[Ke.id]||0,vu=oi%xe.length,Uh=xe[vu];let Fa=100,zh=40,JI=14;if(oi===0){const Wh=Ke.text?Ke.text.length:0;Fa=Math.max(180,Wh*1.25),zh=Math.max(60,Wh*1),JI=28}else{const Wh=Ke.text?Ke.text.length:0;Fa=Math.max(100,Wh*1.1),zh=Math.max(45,Wh*2)}const ZI={...Ke,x:Cr.x+He,y:Cr.y+Fe,id:yt.id,bgColor:Ke.bgColor||Uh,textColor:Ke.textColor||"#ECF0F1",width:Fa,height:zh,fontSize:JI};Ge[Ke.id]=yt.id,gt[yt.id]={newNodeData:ZI,isNew:!0},ot.set(yt,ZI)}await ot.commit(),console.log("Undo snapshot (nodes):",Ge);const mt={nodes:{...gt}};ir(mt);const Et=gr(me);for(const Ke of T.links){const yt=Ge[Ke.source],Cr=Ge[Ke.target];if(!yt||!Cr){console.error("Skipping link: missing mapping for source or target");continue}const oi=Rt(lt(me,"mindMaps",t,"links"));Et.set(oi,{...Ke,source:yt,target:Cr})}await Et.commit(),console.log("Merged AI-generated mind map at drop position:",A)},te=T=>{T.preventDefault()},Re=async T=>{T.preventDefault();const A=T.dataTransfer.files;if(!A||A.length===0)return;const F=A[0],V=at.current.getBoundingClientRect(),G=Ee.current,Y=fe.current,se=(T.clientX-V.left-G.x)/Y,Ce=(T.clientY-V.top-G.y)/Y,X={};if(F.type==="application/json"||F.name.endsWith(".json"))try{const ye=await F.text(),pe=JSON.parse(ye);if(!pe.nodes||!pe.links)throw new Error("Invalid file format");let Me=1/0,je=1/0,He=-1/0,Fe=-1/0;pe.nodes.forEach(yt=>{yt.x<Me&&(Me=yt.x),yt.y<je&&(je=yt.y),yt.x>He&&(He=yt.x),yt.y>Fe&&(Fe=yt.y)});const xe=(Me+He)/2,Ge=(je+Fe)/2,gt=se-xe,ot=Ce-Ge,mt={},Et=gr(me);pe.nodes.forEach(yt=>{const Cr=yt.id,oi=Rt(lt(me,"mindMaps",t,"nodes")),vu={...yt,x:yt.x+gt,y:yt.y+ot,id:oi.id};Et.set(oi,vu),mt[Cr]=oi.id,X[oi.id]={id:oi.id,isNew:!0}}),await Et.commit();const Ke=gr(me);pe.links.forEach(yt=>{const Cr=mt[yt.source],oi=mt[yt.target];if(!Cr||!oi){console.error("Skipping link: missing mapping for source or target");return}const{id:vu,...Uh}=yt,Fa=Rt(lt(me,"mindMaps",t,"links"));Ke.set(Fa,{...Uh,source:Cr,target:oi})}),await Ke.commit(),console.log("Imported mind map JSON file at cursor position using batch writes.")}catch(ye){console.error("Error importing mind map:",ye)}else if(F.type.startsWith("image/"))try{const ye=Date.now(),pe=F.name||"pastedImage.png",Me=`images/${ye}_${pe}`,je=RE(kE,Me);await TE(je,F);const He=await IE(je);await Yn(lt(me,"mindMaps",t,"nodes"),{type:"image",imageUrl:He,storagePath:Me,x:se-60/fe.current*.5,y:Ce-Nt/fe.current*.5,width:60/fe.current,height:Nt/fe.current,lockedBy:null,typing:!1}).then(Fe=>{Fe&&(X[Fe.id]={id:Fe.id,isNew:!0})})}catch(ye){console.error("Error uploading image:",ye)}Object.keys(X).length>0&&ir(X)},Qt=async T=>{if(!m&&P.length>0){const A=i.filter(V=>P.includes(V.id)),F=JSON.stringify(A);if(T.clipboardData)T.clipboardData.setData("application/json",F),T.clipboardData.setData("text/plain",F),T.preventDefault(),console.log("Copied nodes to clipboard:",A);else if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(F),console.log("Copied nodes to clipboard via navigator.clipboard:",A)}catch(V){console.error("Failed to copy nodes:",V)}else console.error("Clipboard API not available.")}};g.useEffect(()=>(document.addEventListener("copy",Qt),()=>document.removeEventListener("copy",Qt)),[P,i]);const qn=async()=>{if(!m)try{_i();let T={},A=null,F=!1;if(navigator.clipboard.read){const V=await navigator.clipboard.read();for(const G of V)for(const Y of G.types)if(Y.startsWith("image/")){F=!0;const se=await G.getType(Y);try{const Ce=Date.now(),X=se.name||"pastedImage.png",ye=`images/${Ce}_${X}`,pe=RE(kE,ye);await TE(pe,se);const Me=await IE(pe),je=W.x,He=W.y,Fe=await Yn(lt(me,"mindMaps",t,"nodes"),{type:"image",imageUrl:Me,storagePath:ye,x:je-60/fe.current*.5,y:He-Nt/fe.current*.5,width:60/fe.current,height:Nt/fe.current,lockedBy:null,typing:!1});Fe&&(T[Fe.id]={id:Fe.id,isNew:!0})}catch(Ce){console.error("Error uploading pasted image:",Ce)}break}if(!F){const Y=(await navigator.clipboard.readText()).trim();if(Y.startsWith("{")||Y.startsWith("["))try{A=JSON.parse(Y),Array.isArray(A)||(A=[A])}catch(se){console.error("Error parsing JSON, falling back to plain text:",se),A=null}}}else{const V=await navigator.clipboard.readText();try{A=JSON.parse(V),Array.isArray(A)||(A=[A])}catch{A=null}}if(A){const V=W.x,G=W.y;if(A.length===1){const Y=A[0],se=Y.width||qt,Ce=Y.height||Nt,X=Y.x+se/2,ye=Y.y+Ce/2,pe=V-X,Me=G-ye,je=await y(Y,{x:Y.x+pe,y:Y.y+Me});je&&(T[je]={id:je,isNew:!0})}else{let Y=1/0,se=1/0,Ce=-1/0,X=-1/0;A.forEach(Fe=>{Fe.x<Y&&(Y=Fe.x),Fe.y<se&&(se=Fe.y),Fe.x>Ce&&(Ce=Fe.x),Fe.y>X&&(X=Fe.y)});const ye=(Y+Ce)/2,pe=(se+X)/2,Me=V-ye,je=G-pe,He={};await Promise.all(A.map(async Fe=>{const xe={x:Fe.x+Me,y:Fe.y+je},Ge=await R(Fe,xe,{});Ge&&(He[Fe.id]=Ge,T[Ge]={id:Ge,isNew:!0})})),await Promise.all(A.map(async Fe=>{const xe=He[Fe.id];if(!xe)return;const Ge=Yr(lt(me,"mindMaps",t,"links"),Gi("source","==",Fe.id)),gt=await Ki(Ge);for(const ot of gt.docs){const mt=ot.data(),Et=He[mt.target];Et&&await Yn(lt(me,"mindMaps",t,"links"),{...mt,source:xe,target:Et})}}))}}else{const V=await navigator.clipboard.readText();if(V.trim()!==""){const G=W.x,Y=W.y;try{const se=await Yn(lt(me,"mindMaps",t,"nodes"),{type:"text",text:V,x:G-qt/fe.current*.5,y:Y-Nt/fe.current*.5,width:qt/fe.current,height:Nt/fe.current,fontSize:Math.floor(14/fe.current*.5),lockedBy:null,typing:!1});se&&(T[se.id]={id:se.id,isNew:!0})}catch(se){console.error("Error creating text node from pasted text:",se)}}}Object.keys(T).length>0&&ir(T)}catch(T){console.error("Error handling paste via context menu:",T)}};g.useEffect(()=>(window.addEventListener("paste",qn),()=>window.removeEventListener("paste",qn)),[t,W,Ee,fe,at,R,ir]);const Ht=async()=>{if(!P.length)return;ir();const T={};if(Xe&&(Xe.bgColor!==jt&&(T.bgColor=jt),Xe.textColor!==Qe&&(T.textColor=Qe),Xe.fontSize!==Gn&&(T.fontSize=Gn),JSON.stringify(Xe.textStyle)!==JSON.stringify(it)&&(T.textStyle=it),Xe.textAlign!==$o&&(T.textAlign=$o),Xe.fontFamily!==tr&&(T.fontFamily=tr),Xe.zIndex!==xr&&(T.zIndex=xr)),Object.keys(T).length===0)return;const A=gr(me),F=P.filter(V=>i.some(G=>G.id===V));if(F.length===0){console.warn("No valid nodes to update");return}F.forEach(V=>{const G=Rt(me,"mindMaps",t,"nodes",V);A.update(G,T)});try{await A.commit(),rr(V=>V.map(G=>F.includes(G.id)?{...G,...T}:G))}catch(V){console.error("Error updating nodes:",V),D(G=>G.filter(Y=>i.some(se=>se.id===Y)))}},Sr=async()=>{if(!(!P||P.length===0))try{const T=gr(me);for(const A of P){const F=Yr(lt(me,"mindMaps",t,"links"),Gi("source","==",A));(await Ki(F)).docs.forEach(se=>{const Ce=Rt(me,"mindMaps",t,"links",se.id);T.delete(Ce)});const G=Yr(lt(me,"mindMaps",t,"links"),Gi("target","==",A));(await Ki(G)).docs.forEach(se=>{const Ce=Rt(me,"mindMaps",t,"links",se.id);T.delete(Ce)})}await T.commit(),console.log("All links removed from the selected nodes.")}catch(T){console.error("Error removing links:",T)}};g.useEffect(()=>{Xe&&(Ct(Xe.bgColor||"#1e1e1e"),On(Xe.textColor||"#fff"),nr(Xe.fontSize||"14"),Wt(Xe.textStyle||[]),Fs(Xe.textAlign||"left"),dr(Xe.fontFamily||"cursive"),Nn(Xe.zIndex||1))},[Xe]);const pr=()=>{const A=JSON.stringify({nodes:i,links:u},null,2),F=new Blob([A],{type:"application/json"}),V=URL.createObjectURL(F),G=document.createElement("a");G.href=V,G.download=`mindmap_${t}.json`,G.click(),URL.revokeObjectURL(V)},Da=T=>Mt===T.id||P.includes(T.id);g.useMemo(()=>u.map(T=>{const A=i.find(Me=>Me.id===T.source),F=i.find(Me=>Me.id===T.target);if(!A||!F)return null;const V=A.width||qt,G=A.height||Nt,Y=F.width||qt,se=F.height||Nt,Ce=A.x+V/2,X=A.y+G/2,ye=F.x+Y/2,pe=F.y+se/2;return I.jsx("line",{x1:Ce,y1:X,x2:ye,y2:pe,stroke:"#fff",strokeWidth:"2"},T.id)}),[u,i]);const wi=()=>{const T=Date.now(),A=5e3,F=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8"];return oe.filter(V=>V.uid!==j&&T-V.lastActive<A).map((V,G)=>{const Y=V.x*ne+ee.x,se=V.y*ne+ee.y,Ce=F[G%F.length],X=V.email?V.email.split("@")[0]:"User";return I.jsxs("div",{style:{position:"absolute",top:se-10,left:Y+10,transition:"top 0.2s ease, left 0.2s ease",pointerEvents:"none",zIndex:150},children:[I.jsx("div",{style:{position:"absolute",top:0,left:-10,width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderBottom:`12px solid ${Ce}`,transform:"rotate(-45deg)"}}),I.jsx("div",{style:{backgroundColor:Ce,color:"#fff",padding:"3px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"500",whiteSpace:"nowrap",boxShadow:"0 2px 8px rgba(0,0,0,0.3)",marginTop:"8px"},children:X})]},V.uid)})},yu=()=>{if(!at.current)return{visibleLeft:0,visibleTop:0,visibleWidth:0,visibleHeight:0};const T=at.current.getBoundingClientRect(),A=-ee.x/ne,F=-ee.y/ne,V=T.width/ne,G=T.height/ne;return{visibleLeft:A,visibleTop:F,visibleWidth:V,visibleHeight:G}};g.useMemo(()=>{if(!at.current)return i;const{visibleLeft:T,visibleTop:A,visibleWidth:F,visibleHeight:V}=yu(),G=Math.max(50,200/ne);return i.filter(Y=>{const se=Y.width||qt,Ce=Y.height||Nt;return Y.x+se>=T-G&&Y.x<=T+F+G&&Y.y+Ce>=A-G&&Y.y<=A+V+G})},[i,Math.round(ee.x/50)*50,Math.round(ee.y/50)*50,Math.round(ne*20)/20]),g.useMemo(()=>{const T=new Set(It.map(A=>A.id));return u.filter(A=>T.has(A.source)||T.has(A.target))},[u,It]),g.useEffect(()=>{if(Xe&&(Xe.bgColor!==jt||Xe.textColor!==Qe||Xe.fontSize!==Gn||JSON.stringify(Xe.textStyle)!==JSON.stringify(it)||Xe.textAlign!==$o||Xe.fontFamily!==tr||Xe.zIndex!==xr)){const T=setTimeout(()=>{Ht()},300);return()=>clearTimeout(T)}},[jt,Qe,Gn,it,$o,tr,xr,Xe]);const jh=async T=>{try{if(!T||T.type!=="image"||!T.imageUrl){console.error("Invalid image node for download");return}const A=T.imageUrl.includes("firebasestorage.googleapis.com")?`/firebase-storage${T.imageUrl.split("firebasestorage.googleapis.com")[1]}`:T.imageUrl,F=await fetch(A);if(!F.ok)throw new Error("Failed to fetch image");const V=await F.blob(),G=URL.createObjectURL(V),Y=document.createElement("a");Y.href=G;const se=T.text?`${T.text.replace(/[^a-zA-Z0-9]/g,"_")}.png`:`mindmap_image_${Date.now()}.png`;Y.download=se,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(G),console.log(`Downloaded image: ${se}`)}catch(A){console.error("Error downloading image:",A)}},bj=()=>{if(!zr.visible||Yl)return null;const T=P.map(A=>i.find(F=>F.id===A)).filter(A=>A&&A.type==="image"&&A.imageUrl);return I.jsxs("div",{style:{position:"fixed",top:zr.y,left:zr.x,backgroundColor:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px",padding:"5px",zIndex:1e3,minWidth:"120px"},onContextMenu:A=>A.preventDefault(),children:[zr.type==="canvas"&&I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"context-menu-item",style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:A=>{A.preventDefault(),A.stopPropagation(),qn(),_i()},children:"Paste"}),I.jsx("div",{className:"context-menu-item",style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:A=>{A.preventDefault(),A.stopPropagation(),ls(),_i()},children:"Reset"})]}),zr.type==="node"&&I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"context-menu-item",style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:A=>{A.preventDefault(),A.stopPropagation(),Qt(A),_i()},children:"Copy"}),T.length>0&&I.jsxs("div",{className:"context-menu-item",style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:async A=>{A.preventDefault(),A.stopPropagation(),_i();for(const F of T)await jh(F),T.length>1&&await new Promise(V=>setTimeout(V,500))},children:["PNG Download ",T.length>1?`(${T.length})`:""]}),I.jsx("div",{className:"context-menu-item",style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:A=>{A.preventDefault(),A.stopPropagation(),ni(),_i()},children:"+ Bring to Front"}),I.jsx("div",{className:"context-menu-item",style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:A=>{A.preventDefault(),A.stopPropagation(),mi(),_i()},children:"- Send to Back"})]})]})},wj=()=>{if(!at.current)return{x:0,y:0};const T=at.current.getBoundingClientRect(),A=250,F=50,V=T.width-A,G=T.height-F,Y=A+V/2,se=F+G/2,Ce=(Y-Ee.current.x)/fe.current,X=(se-Ee.current.y)/fe.current;return{x:Ce,y:X}};g.useEffect(()=>{const T=A=>{zr.visible&&_i(),ec&&!A.target.closest('[data-color-picker="bg"]')&&Ma(!1),tc&&!A.target.closest('[data-color-picker="text"]')&&zi(!1)};return document.addEventListener("click",T),()=>document.removeEventListener("click",T)},[zr.visible,ec,tc]);const $a=g.useRef(null),Vh=g.useRef(null),xj=T=>{if(cn){if(T.touches.length===1)$a.current={x:T.touches[0].clientX,y:T.touches[0].clientY,pan:{...Ee.current}};else if(T.touches.length===2){const A=T.touches[0].clientX-T.touches[1].clientX,F=T.touches[0].clientY-T.touches[1].clientY;Vh.current=Math.sqrt(A*A+F*F),$a.current=null}}},Ej=g.useRef(cf(T=>{ge(T),fe.current=T},16)),Sj=T=>{if(cn){if(T.preventDefault(),T.touches.length===1&&$a.current){const A=T.touches[0].clientX-$a.current.x,F=T.touches[0].clientY-$a.current.y,V={x:$a.current.pan.x+A,y:$a.current.pan.y+F};ue(V),Ee.current=V}else if(T.touches.length===2&&Vh.current!==null){const A=T.touches[0].clientX-T.touches[1].clientX,F=T.touches[0].clientY-T.touches[1].clientY,V=Math.sqrt(A*A+F*F),G=V/Vh.current;let Y=FTe(fe.current*G,FO,Iu);Ej.current(Y),Vh.current=V}}},Cj=T=>{cn&&T.touches.length===0&&($a.current=null,Vh.current=null)},Tj=()=>!nm&&!du?null:I.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,flexDirection:"column"},children:[I.jsx("div",{style:{width:"50px",height:"50px",border:"4px solid #333",borderTop:"4px solid #fff",borderRadius:"50%",animation:"spin 1s linear infinite"}}),I.jsx(on,{variant:"h6",style:{color:"#fff",marginTop:"20px"},children:nm?"Loading mind map...":"Processing..."})]}),Ij=()=>rm?I.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#f44336",color:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",zIndex:2e3,textAlign:"center",maxWidth:"400px"},children:[I.jsx(on,{variant:"h6",style:{marginBottom:"10px"},children:"Error"}),I.jsx(on,{variant:"body1",style:{marginBottom:"20px"},children:rm}),I.jsx(en,{variant:"contained",onClick:()=>{bi(null),window.location.reload()},style:{backgroundColor:"#fff",color:"#f44336"},children:"Retry"})]}):null,Rj=()=>Pb?I.jsxs("div",{style:{position:"fixed",top:"70px",left:"20px",zIndex:1e3,backgroundColor:"rgba(0, 0, 0, 0.9)",padding:"15px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",minWidth:"300px"},children:[I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[I.jsx(_l,{placeholder:"Search nodes... (Ctrl+F)",value:Nh,onChange:T=>{Vs(T.target.value),Ab(T.target.value)},onKeyDown:T=>{T.key==="Enter"&&Ws("next"),T.key==="Escape"&&(Zl(!1),Vs(""),Jl([]))},size:"small",autoFocus:!0,sx:{flex:1,"& .MuiInputBase-root":{color:"#fff",backgroundColor:"#333"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"#555"},"& .MuiInputLabel-root":{color:"#ccc"}}}),I.jsx(en,{onMouseDown:T=>{T.preventDefault(),T.stopPropagation(),Zl(!1),Vs(""),Jl([])},size:"small",style:{color:"#fff",minWidth:"auto"},children:"✕"})]}),Dr.length>0&&I.jsxs("div",{style:{color:"#ccc",fontSize:"12px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[I.jsxs("span",{children:[Us+1," of ",Dr.length," results"]}),I.jsxs("div",{style:{display:"flex",gap:"5px"},children:[I.jsx(en,{onMouseDown:T=>{T.preventDefault(),T.stopPropagation(),Ws("prev")},size:"small",disabled:Dr.length===0,style:{color:"#fff",minWidth:"auto",padding:"2px 8px"},children:"↑"}),I.jsx(en,{onMouseDown:T=>{T.preventDefault(),T.stopPropagation(),Ws("next")},size:"small",disabled:Dr.length===0,style:{color:"#fff",minWidth:"auto",padding:"2px 8px"},children:"↓"})]})]}),Nh&&Dr.length===0&&I.jsx("div",{style:{color:"#999",fontSize:"12px"},children:"No results found"})]}):null,kj=()=>Aa?I.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},onClick:()=>Bo(!1),children:I.jsxs("div",{style:{backgroundColor:"#1e1e1e",color:"#fff",padding:"30px",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.5)",maxWidth:"600px",maxHeight:"80vh",overflow:"auto",border:"1px solid #333"},onClick:T=>T.stopPropagation(),children:[I.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[I.jsx(on,{variant:"h5",style:{color:"#fff",fontWeight:"bold"},children:"Keyboard Shortcuts"}),I.jsx(en,{onMouseDown:T=>{T.preventDefault(),T.stopPropagation(),Bo(!1)},style:{color:"#fff",minWidth:"auto"},children:"✕"})]}),I.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[I.jsxs("div",{children:[I.jsx(on,{variant:"h6",style:{color:"#4CAF50",marginBottom:"10px"},children:"Navigation"}),Object.entries(nc).filter(([T])=>["Home","0","+/=","-","F","R"].includes(T)).map(([T,A])=>I.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[I.jsx("span",{style:{fontFamily:"monospace",backgroundColor:"#333",padding:"2px 6px",borderRadius:"4px",fontSize:"12px"},children:T}),I.jsx("span",{style:{fontSize:"14px",color:"#ccc"},children:A})]},T)),I.jsx(on,{variant:"h6",style:{color:"#2196F3",marginTop:"20px",marginBottom:"10px"},children:"Selection & Editing"}),Object.entries(nc).filter(([T])=>["Tab","Enter","Escape","Ctrl+A","Delete/Backspace"].includes(T)).map(([T,A])=>I.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[I.jsx("span",{style:{fontFamily:"monospace",backgroundColor:"#333",padding:"2px 6px",borderRadius:"4px",fontSize:"12px"},children:T}),I.jsx("span",{style:{fontSize:"14px",color:"#ccc"},children:A})]},T))]}),I.jsxs("div",{children:[I.jsx(on,{variant:"h6",style:{color:"#FF9800",marginBottom:"10px"},children:"Actions"}),Object.entries(nc).filter(([T])=>["Ctrl+D","Ctrl+Z","Ctrl+Y","Ctrl+C","Ctrl+V","Ctrl+L","Ctrl+E"].includes(T)).map(([T,A])=>I.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[I.jsx("span",{style:{fontFamily:"monospace",backgroundColor:"#333",padding:"2px 6px",borderRadius:"4px",fontSize:"12px"},children:T}),I.jsx("span",{style:{fontSize:"14px",color:"#ccc"},children:A})]},T)),I.jsx(on,{variant:"h6",style:{color:"#9C27B0",marginTop:"20px",marginBottom:"10px"},children:"Search & Layout"}),Object.entries(nc).filter(([T])=>["Ctrl+F","F3","Shift+F3","Ctrl+Shift+A","Ctrl+/"].includes(T)).map(([T,A])=>I.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[I.jsx("span",{style:{fontFamily:"monospace",backgroundColor:"#333",padding:"2px 6px",borderRadius:"4px",fontSize:"12px"},children:T}),I.jsx("span",{style:{fontSize:"14px",color:"#ccc"},children:A})]},T))]})]}),I.jsx("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#333",borderRadius:"8px"},children:I.jsxs(on,{variant:"body2",style:{color:"#ccc",textAlign:"center"},children:["Press ",I.jsx("strong",{children:"Ctrl+/"})," anytime to toggle this help"]})})]})}):null,Pj=()=>{const T=g.useRef(null);g.useRef(null);const A=g.useRef(0),F=g.useMemo(()=>{if(i.length===0)return{minX:0,minY:0,maxX:200,maxY:150};let X=1/0,ye=1/0,pe=-1/0,Me=-1/0;for(let He=0;He<i.length;He++){const Fe=i[He],xe=Fe.width||qt,Ge=Fe.height||Nt,gt=Fe.x+xe,ot=Fe.y+Ge;Fe.x<X&&(X=Fe.x),Fe.y<ye&&(ye=Fe.y),gt>pe&&(pe=gt),ot>Me&&(Me=ot)}const je=50;return{minX:X-je,minY:ye-je,maxX:pe+je,maxY:Me+je}},[i.length,i.map(X=>`${X.x},${X.y},${X.width||qt},${X.height||Nt}`).join("|")]),V=g.useMemo(()=>{const pe=F.maxX-F.minX,Me=F.maxY-F.minY;return Math.min(200/pe,150/Me)},[F]),G=g.useCallback(X=>{if(X.target.tagName==="BUTTON"||X.target.closest("button"))return;X.preventDefault(),X.stopPropagation();const ye=Date.now();if(ye-A.current<100)return;A.current=ye;const pe=T.current.getBoundingClientRect(),Me=X.clientX-pe.left,je=X.clientY-pe.top-20;if(je<0)return;const He=T.current;He&&(He.style.transform="scale(0.98)",setTimeout(()=>{He&&(He.style.transform="scale(1)")},100));const Fe=F.minX+Me/V,xe=F.minY+je/V,Ge=at.current.getBoundingClientRect(),gt=250,ot=50,mt=Ge.width-gt,Et=Ge.height-ot,Ke={x:mt/2-Fe*ne,y:Et/2-xe*ne};ue(Ke),Ee.current=Ke},[F,V,ne]),Y=g.useMemo(()=>{var Ke;const X=(Ke=at.current)==null?void 0:Ke.getBoundingClientRect();if(!X)return{x:0,y:0,width:0,height:0};const ye=250,pe=50,Me=X.width-ye,je=X.height-pe,He=-ee.x/ne,Fe=-ee.y/ne,xe=He+Me/ne,Ge=Fe+je/ne,gt=(He-F.minX)*V,ot=(Fe-F.minY)*V,mt=(xe-He)*V,Et=(Ge-Fe)*V;return{x:gt,y:ot,width:mt,height:Et}},[Math.round(ee.x/10)*10,Math.round(ee.y/10)*10,Math.round(ne*100)/100,F,V]),se=g.useMemo(()=>i.map(X=>({id:X.id,x:(X.x-F.minX)*V,y:(X.y-F.minY)*V,width:Math.max(1,(X.width||qt)*V),height:Math.max(1,(X.height||Nt)*V),bgColor:X.bgColor||"#666",isSelected:P.includes(X.id),zIndex:X.zIndex||1})).filter(X=>X.x>-X.width&&X.y>-X.height&&X.x<200+X.width&&X.y<130+X.height),[i,F,V,P]),Ce=g.useMemo(()=>u.length>300?[]:u.map(X=>{const ye=i.find(xe=>xe.id===X.source),pe=i.find(xe=>xe.id===X.target);if(!ye||!pe)return null;const Me=(ye.x-F.minX)*V+(ye.width||qt)*V/2,je=(ye.y-F.minY)*V+(ye.height||Nt)*V/2,He=(pe.x-F.minX)*V+(pe.width||qt)*V/2,Fe=(pe.y-F.minY)*V+(pe.height||Nt)*V/2;return Me<0&&He<0||Me>200&&He>200||je<0&&Fe<0||je>130&&Fe>130?null:{id:X.id,x1:Math.max(0,Math.min(200,Me)),y1:Math.max(0,Math.min(130,je)),x2:Math.max(0,Math.min(200,He)),y2:Math.max(0,Math.min(130,Fe))}}).filter(Boolean),[u,i,F,V]);return!Dh||i.length===0?null:I.jsxs("div",{style:{position:"fixed",bottom:"20px",right:cn?"20px":"280px",width:"200px",height:"150px",backgroundColor:"rgba(0, 0, 0, 0.9)",border:"2px solid #444",borderRadius:"8px",overflow:"hidden",zIndex:1e3,cursor:"pointer",transition:"transform 0.1s ease-out, box-shadow 0.1s ease-out",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},onMouseDown:G,onMouseEnter:X=>{X.currentTarget.style.boxShadow="0 6px 16px rgba(0,0,0,0.4)"},onMouseLeave:X=>{X.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.3)"},ref:T,children:[I.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,height:"20px",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 8px",fontSize:"10px",color:"#ccc",zIndex:1001,cursor:"default"},onMouseDown:X=>{X.preventDefault(),X.stopPropagation()},onClick:X=>{X.preventDefault(),X.stopPropagation()},children:[I.jsxs("span",{children:["Mini Map (",se.length," nodes)"]}),I.jsx("button",{onMouseDown:X=>{X.preventDefault(),X.stopPropagation(),X.nativeEvent.stopImmediatePropagation(),$h(!1)},onClick:X=>{X.preventDefault(),X.stopPropagation(),X.nativeEvent.stopImmediatePropagation()},style:{background:"none",border:"none",color:"#ccc",cursor:"pointer",fontSize:"12px",padding:"2px 4px",borderRadius:"2px"},children:"✕"})]}),I.jsxs("svg",{width:"200",height:"150",style:{position:"absolute",top:"20px",cursor:"pointer",pointerEvents:"auto"},onMouseDown:X=>{X.stopPropagation(),G(X)},children:[se.sort((X,ye)=>(X.zIndex||1)-(ye.zIndex||1)).map(X=>I.jsx("rect",{x:X.x,y:X.y,width:X.width,height:X.height,fill:X.isSelected?"#4CAF50":X.bgColor,stroke:X.isSelected?"#8BC34A":"none",strokeWidth:X.isSelected?"0.5":"0",opacity:"0.8"},X.id)),Ce.map(X=>I.jsx("line",{x1:X.x1,y1:X.y1,x2:X.x2,y2:X.y2,stroke:"#555",strokeWidth:"0.5",opacity:"0.4"},X.id)),I.jsx("rect",{x:Math.max(0,Math.min(200,Y.x)),y:Math.max(0,Math.min(130,Y.y)),width:Math.max(0,Math.min(200-Math.max(0,Y.x),Y.width)),height:Math.max(0,Math.min(130-Math.max(0,Y.y),Y.height)),fill:"none",stroke:"#4CAF50",strokeWidth:"1",strokeDasharray:"2,2",opacity:"0.8"})]})]})},Aj=()=>{const T=i.length>1e3;return Dh||i.length===0?null:I.jsxs(en,{onMouseDown:A=>{A.preventDefault(),A.stopPropagation(),$h(!0)},style:{position:"fixed",bottom:"20px",right:cn?"20px":"280px",backgroundColor:"rgba(0, 0, 0, 0.8)",color:"#fff",minWidth:"auto",padding:"8px",borderRadius:"4px",zIndex:1e3,transition:"all 0.2s ease"},onMouseEnter:A=>{A.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.9)",A.currentTarget.style.transform="scale(1.05)"},onMouseLeave:A=>{A.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.8)",A.currentTarget.style.transform="scale(1)"},title:T?"Show Mini Map (Large dataset - may impact performance)":"Show Mini Map",children:["🗺️ ",T&&I.jsx("span",{style:{fontSize:"10px"},children:"⚠️"})]})},XI=()=>{if(P.length===0)return null;const T=P.map(Y=>i.find(se=>se.id===Y)).filter(Boolean);if(T.length===0)return null;let A=1/0,F=1/0,V=-1/0,G=-1/0;return T.forEach(Y=>{const se=Y.width||qt,Ce=Y.height||Nt,X=P.includes(Y.id),ye=Y.x+(X?Kn.x:0),pe=Y.y+(X?Kn.y:0);A=Math.min(A,ye),F=Math.min(F,pe),V=Math.max(V,ye+se),G=Math.max(G,pe+Ce)}),{x:A,y:F,width:V-A,height:G-F,nodes:T}},La=(T,A)=>{if(A.button!==0||P.length===0)return;const F=XI();if(!F)return;ir(),A.stopPropagation(),A.preventDefault();const V=A.clientX,G=A.clientY,Y=F.nodes.map(pe=>({id:pe.id,x:pe.x,y:pe.y,width:pe.width||qt,height:pe.height||Nt,fontSize:pe.fontSize||14,relativeX:(pe.x-F.x)/F.width,relativeY:(pe.y-F.y)/F.height,relativeWidth:(pe.width||qt)/F.width,relativeHeight:(pe.height||Nt)/F.height})),se={...F};let Ce={};const X=pe=>{const Me=(pe.clientX-V)/ne,je=(pe.clientY-G)/ne;let He=se.x,Fe=se.y,xe=se.width,Ge=se.height;switch(T){case"nw":He=se.x+Me,Fe=se.y+je,xe=Math.max(100,se.width-Me),Ge=Math.max(50,se.height-je);break;case"ne":Fe=se.y+je,xe=Math.max(100,se.width+Me),Ge=Math.max(50,se.height-je);break;case"sw":He=se.x+Me,xe=Math.max(100,se.width-Me),Ge=Math.max(50,se.height+je);break;case"se":xe=Math.max(100,se.width+Me),Ge=Math.max(50,se.height+je);break;case"n":Fe=se.y+je,Ge=Math.max(50,se.height-je);break;case"s":Ge=Math.max(50,se.height+je);break;case"w":He=se.x+Me,xe=Math.max(100,se.width-Me);break;case"e":xe=Math.max(100,se.width+Me);break}rr(gt=>gt.map(ot=>{const mt=Y.find(zh=>zh.id===ot.id);if(!mt)return ot;const Et=He+mt.relativeX*xe,Ke=Fe+mt.relativeY*Ge,yt=Math.max(50,mt.relativeWidth*xe),Cr=Math.max(20,mt.relativeHeight*Ge),oi=yt/mt.width,vu=Cr/mt.height,Uh=(oi+vu)/2,Fa=Math.max(8,Math.round(mt.fontSize*Uh));return Ce[ot.id]={x:Et,y:Ke,width:yt,height:Cr,fontSize:Fa},{...ot,x:Et,y:Ke,width:yt,height:Cr,fontSize:Fa}}))},ye=async()=>{document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",ye);try{const pe=Object.keys(Ce).map(async Me=>{const je=Ce[Me],He=Rt(me,"mindMaps",t,"nodes",Me);await mo(He,je)});await Promise.all(pe)}catch(pe){console.error("Error updating nodes:",pe)}};document.addEventListener("mousemove",X),document.addEventListener("mouseup",ye)},Mj=()=>{if(P.length===0)return null;const T=XI();return T?I.jsxs("div",{style:{position:"absolute",left:T.x-8,top:T.y-8,width:T.width+16,height:T.height+16,border:"2px dashed #8896DD",backgroundColor:"rgba(136, 150, 221, 0.05)",pointerEvents:"none",zIndex:999,transition:"none",boxSizing:"border-box"},children:[I.jsx("div",{className:"resize-handle unified nw",onMouseDown:A=>La("nw",A),style:{pointerEvents:"auto"}}),I.jsx("div",{className:"resize-handle unified ne",onMouseDown:A=>La("ne",A),style:{pointerEvents:"auto"}}),I.jsx("div",{className:"resize-handle unified sw",onMouseDown:A=>La("sw",A),style:{pointerEvents:"auto"}}),I.jsx("div",{className:"resize-handle unified se",onMouseDown:A=>La("se",A),style:{pointerEvents:"auto"}}),I.jsx("div",{className:"resize-handle unified n",onMouseDown:A=>La("n",A),style:{pointerEvents:"auto"}}),I.jsx("div",{className:"resize-handle unified s",onMouseDown:A=>La("s",A),style:{pointerEvents:"auto"}}),I.jsx("div",{className:"resize-handle unified w",onMouseDown:A=>La("w",A),style:{pointerEvents:"auto"}}),I.jsx("div",{className:"resize-handle unified e",onMouseDown:A=>La("e",A),style:{pointerEvents:"auto"}}),I.jsx("div",{style:{position:"absolute",top:0,left:8,right:8,height:"2px",backgroundColor:"#8896DD",opacity:.6}}),I.jsx("div",{style:{position:"absolute",bottom:0,left:8,right:8,height:"2px",backgroundColor:"#8896DD",opacity:.6}}),I.jsx("div",{style:{position:"absolute",left:0,top:8,bottom:8,width:"2px",backgroundColor:"#8896DD",opacity:.6}}),I.jsx("div",{style:{position:"absolute",right:0,top:8,bottom:8,width:"2px",backgroundColor:"#8896DD",opacity:.6}})]}):null};g.useCallback(T=>{if(typeof T=="function"){const A=p.getLinks(),F=T(A);c(F)}else c(T)},[p]),g.useCallback((T,A,F=!1)=>{if(h(T,A,F),F&&Object.keys(A).length>0){const V=Rt(me,"mindMaps",t,"links",T);mo(V,A).catch(console.error)}},[h,t]),g.useCallback((T,A=!1)=>{const F=h(T,A);if(A&&F){const V=gr(me);Object.entries(T).forEach(([G,Y])=>{if(Object.keys(Y).length>0){const se=Rt(me,"mindMaps",t,"links",G);V.update(se,Y)}}),V.commit().catch(console.error)}return F},[h,t]);const QI=g.useCallback(async(T,A)=>{try{const F={source:T,target:A};return(await Yn(lt(me,"mindMaps",t,"links"),F)).id}catch(F){return console.error("Error creating link:",F),null}},[t]);return g.useCallback(async T=>{try{return await SE(Rt(me,"mindMaps",t,"links",T)),!0}catch(A){return console.error("Error deleting link:",A),!1}},[t]),g.useCallback(async T=>{const A=f(T);if(A.length!==0)try{const F=gr(me);return A.forEach(V=>{const G=Rt(me,"mindMaps",t,"links",V.id);F.delete(G)}),await F.commit(),!0}catch(F){return console.error("Error deleting links for node:",F),!1}},[f,t]),I.jsxs("div",{style:{userSelect:"none",cursor:tt||Yl?"grabbing":"default",height:"100vh",position:"relative"},ref:at,onContextMenu:T=>T.preventDefault(),onMouseDown:T=>{if(!cn&&T.target===at.current){if(hm(T),T.button!==2)return;Bh(T)}},onDoubleClick:T=>{cn||T.target===at.current&&Hs()},onMouseMove:T=>{cn||Na(T)},onMouseUp:T=>{if(!cn&&(d(),T.button===2)){if(Zg.current=null,document.activeElement.tagName==="INPUT"||document.activeElement.tagName==="TEXTAREA")return;tm(T),Yl&&(setTimeout(()=>em(!1),0),_i())}},onDragOver:te,onDrop:Re,onTouchStart:xj,onTouchMove:Sj,onTouchEnd:Cj,children:[wi(),I.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,height:"50px",backgroundColor:"rgba(29,32,34,0.9)",background:"radial-gradient(circle at center, rgba(29,32,34,.4) 0%, rgba(15,16,17,.7) 100%)",display:"flex",alignItems:"center",padding:"0 20px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.4)",zIndex:300},children:[I.jsx(en,{variant:"contained",onMouseDown:T=>{T.preventDefault(),T.stopPropagation(),e("/dashboard")},style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:I.jsx(TTe,{})}),I.jsx(en,{variant:"contained",onMouseDown:T=>{T.preventDefault(),T.stopPropagation(),am()},style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:"Add Node"}),I.jsx(en,{variant:"contained",onMouseDown:T=>{T.preventDefault(),T.stopPropagation(),b(A=>!A),N(null)},style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:w?"Exit Linking Mode":"Link Nodes"}),I.jsx(en,{variant:"contained",onMouseDown:T=>{T.preventDefault(),T.stopPropagation(),pr()},style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:"Export"}),I.jsx(en,{variant:"contained",onMouseDown:T=>{T.preventDefault(),T.stopPropagation(),oc()},style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:"Zoom In"}),I.jsx(en,{variant:"contained",onMouseDown:T=>{T.preventDefault(),T.stopPropagation(),fu()},style:{background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:"Zoom Out"}),I.jsx(en,{variant:"contained",onMouseDown:T=>{T.preventDefault(),T.stopPropagation(),Bo(!0)},style:{marginLeft:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},title:"Keyboard Shortcuts (Ctrl+/)",children:"⌨️ Help"}),w&&I.jsx(on,{variant:"body2",style:{color:"#fff",marginLeft:"10px"},children:C?"Select target node...":"Select source node..."})]}),!cn&&I.jsx("div",{style:{position:"fixed",top:60,right:10,width:"250px",height:"calc(100% - 60px)",boxShadow:"0 2px 10px rgba(39, 39, 39, 0.6)",background:"radial-gradient(circle at center, #1D2022 0%, #0f1011 110%)",padding:"20px",boxSizing:"border-box",zIndex:300,overflowY:"auto",borderRadius:"8px"},onClick:T=>T.stopPropagation(),onMouseDown:T=>T.stopPropagation(),children:Xe?I.jsxs(I.Fragment,{children:[I.jsxs("div",{style:{marginBottom:"24px",textAlign:"center",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",paddingBottom:"16px"},children:[I.jsx(on,{variant:"h6",style:{color:"#ffffff",fontWeight:"600",fontSize:"18px",letterSpacing:"0.5px",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},children:"Node Customization"}),I.jsxs(on,{variant:"caption",style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"12px",display:"block",marginTop:"4px"},children:[P.length," node",P.length!==1?"s":""," selected"]})]}),I.jsxs("div",{style:{marginBottom:"20px"},children:[I.jsx(on,{variant:"subtitle1",style:{marginBottom:"12px",color:"rgba(255, 255, 255, 0.9)",fontWeight:"500",fontSize:"14px",letterSpacing:"0.3px",textTransform:"uppercase",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",paddingLeft:"12px"},children:"Typography"}),I.jsxs(gT,{variant:"filled",size:"small",sx:{minWidth:"100%",marginBottom:"16px","& .MuiFilledInput-root":{backgroundColor:"rgba(43, 43, 43, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px","&:hover":{backgroundColor:"rgba(43, 43, 43, 0.9)",borderColor:"rgba(255, 255, 255, 0.2)"},"&.Mui-focused":{backgroundColor:"rgba(43, 43, 43, 1)",borderColor:"rgba(255, 255, 255, 0.3)"}},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)",fontSize:"13px"},"& .MuiSelect-select":{color:"#fff",fontSize:"14px"}},children:[I.jsx(yT,{children:"Font Family"}),I.jsxs(K_,{value:tr,onChange:T=>dr(T.target.value),children:[I.jsx(el,{value:"cursive",children:"Cursive"}),I.jsx(el,{value:"Microsoft Yahei",children:"Microsoft Yahei"}),I.jsx(el,{value:"Arial",children:"Arial"}),I.jsx(el,{value:"Times New Roman",children:"Times New Roman"}),I.jsx(el,{value:"Courier New",children:"Courier New"})]})]}),I.jsx(on,{variant:"body2",style:{marginBottom:"8px",color:"rgba(255, 255, 255, 0.8)",fontSize:"13px",fontWeight:"500"},children:"Font Size"}),I.jsx(Xte,{freeSolo:!0,options:Jg,getOptionLabel:T=>T.toString(),value:Gn,onChange:(T,A)=>{let F;typeof A=="number"?F=A:typeof A=="string"&&A.trim()!==""&&(F=parseInt(A,10)),isNaN(F)||nr(F)},onInputChange:(T,A)=>{const F=parseInt(A,10);isNaN(F)||nr(F)},sx:{width:"100%",marginBottom:"16px","& .MuiInputBase-root":{color:"#fff"},"& .MuiFilledInput-root":{backgroundColor:"rgba(43, 43, 43, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px","&:hover":{backgroundColor:"rgba(43, 43, 43, 0.9)",borderColor:"rgba(255, 255, 255, 0.2)"},"&.Mui-focused":{backgroundColor:"rgba(43, 43, 43, 1)",borderColor:"rgba(255, 255, 255, 0.3)"}},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)",fontSize:"13px"},"& .MuiAutocomplete-popupIndicator":{color:"rgba(255, 255, 255, 0.6)"}},renderInput:T=>I.jsx(_l,{...T,label:"Font Size",variant:"filled"})}),I.jsxs("div",{style:{marginBottom:"16px"},children:[I.jsx(on,{variant:"body2",style:{marginBottom:"8px",color:"rgba(255, 255, 255, 0.8)",fontSize:"13px",fontWeight:"500"},children:"Text Style"}),I.jsxs(mie,{direction:"column",spacing:2,sx:{alignItems:"center"},children:[I.jsxs(JE,{color:"primary",value:it,onChange:(T,A)=>Wt(A),sx:{backgroundColor:"rgba(43, 43, 43, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px","& .MuiToggleButton-root":{color:"rgba(255, 255, 255, 0.7)",border:"none","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"},"&.Mui-selected":{backgroundColor:"rgba(255, 255, 255, 0.2)",color:"#fff"}}},"aria-label":"text style",size:"small",children:[I.jsx(Js,{value:"bold","aria-label":"bold",children:I.jsx(NTe,{})}),I.jsx(Js,{value:"italic","aria-label":"italic",children:I.jsx(DTe,{})}),I.jsx(Js,{value:"underline","aria-label":"underline",children:I.jsx($Te,{})})]}),I.jsxs(JE,{value:$o,color:"primary",exclusive:!0,onChange:(T,A)=>{A!==null&&Fs(A)},sx:{backgroundColor:"rgba(43, 43, 43, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px","& .MuiToggleButton-root":{color:"rgba(255, 255, 255, 0.7)",border:"none","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"},"&.Mui-selected":{backgroundColor:"rgba(255, 255, 255, 0.2)",color:"#fff"}}},"aria-label":"text alignment",size:"small",children:[I.jsx(Js,{value:"left","aria-label":"left",children:I.jsx(MTe,{})}),I.jsx(Js,{value:"center","aria-label":"center",children:I.jsx(ATe,{})}),I.jsx(Js,{value:"right","aria-label":"right",children:I.jsx(OTe,{})})]})]})]})]}),I.jsxs("div",{style:{marginBottom:"20px"},children:[I.jsx(on,{variant:"subtitle1",style:{marginBottom:"16px",color:"rgba(255, 255, 255, 0.9)",fontWeight:"500",fontSize:"14px",letterSpacing:"0.3px",textTransform:"uppercase",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",paddingLeft:"12px"},children:"Colors"}),I.jsxs("div",{"data-color-picker":"bg",style:{position:"relative",marginTop:"8px"},children:[I.jsxs("div",{onClick:()=>Ma(!ec),style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",backgroundColor:"#2b2b2b",borderRadius:"8px",border:"1px solid #444",cursor:"pointer",transition:"all 0.2s ease","&:hover":{borderColor:"#666"}},onMouseEnter:T=>T.target.style.borderColor="#666",onMouseLeave:T=>T.target.style.borderColor="#444",children:[I.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:jt,borderRadius:"8px",border:"2px solid #555",boxShadow:"inset 0 0 0 1px rgba(255,255,255,0.1)",position:"relative",overflow:"hidden"},children:I.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:`linear-gradient(45deg, 
                            transparent 25%, 
                            rgba(255,255,255,0.1) 25%, 
                            rgba(255,255,255,0.1) 50%, 
                            transparent 50%, 
                            transparent 75%, 
                            rgba(255,255,255,0.1) 75%)`,backgroundSize:"8px 8px"}})}),I.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[I.jsx("span",{style:{fontSize:"14px",color:"#fff",fontWeight:"500"},children:"Background"}),I.jsx("span",{style:{fontSize:"12px",color:"#999",fontFamily:"monospace"},children:jt.toUpperCase()})]}),I.jsx(nM,{style:{color:"#666",fontSize:"20px"}})]}),ec&&I.jsxs("div",{style:{position:"absolute",top:"100%",left:0,zIndex:1e3,marginTop:"8px",borderRadius:"8px",boxShadow:"0 8px 32px rgba(0,0,0,0.5)",border:"1px solid #444",overflow:"hidden"},children:[I.jsx(OO,{color:jt,onChange:T=>Ct(T.hex),disableAlpha:!0,styles:{default:{picker:{backgroundColor:"#1e1e1e",border:"none",borderRadius:"8px",boxShadow:"none",fontFamily:"Arial, sans-serif"},saturation:{borderRadius:"4px"},hue:{borderRadius:"4px"},input:{backgroundColor:"#2b2b2b",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"12px"},label:{color:"#ccc",fontSize:"11px"}}}}),I.jsx("div",{style:{padding:"8px",backgroundColor:"#1e1e1e",borderTop:"1px solid #333",display:"flex",justifyContent:"flex-end"},children:I.jsx(en,{size:"small",onClick:()=>Ma(!1),style:{color:"#fff",backgroundColor:"#333",fontSize:"11px",minWidth:"auto",padding:"4px 12px"},children:"Done"})})]})]}),I.jsxs("div",{"data-color-picker":"text",style:{position:"relative",marginTop:"8px"},children:[I.jsxs("div",{onClick:()=>zi(!tc),style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",backgroundColor:"#2b2b2b",borderRadius:"8px",border:"1px solid #444",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:T=>T.target.style.borderColor="#666",onMouseLeave:T=>T.target.style.borderColor="#444",children:[I.jsxs("div",{style:{width:"40px",height:"40px",backgroundColor:Qe,borderRadius:"8px",border:"2px solid #555",boxShadow:"inset 0 0 0 1px rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",fontWeight:"bold",color:jt,position:"relative",overflow:"hidden"},children:[I.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:`linear-gradient(45deg, 
                            transparent 25%, 
                            rgba(255,255,255,0.1) 25%, 
                            rgba(255,255,255,0.1) 50%, 
                            transparent 50%, 
                            transparent 75%, 
                            rgba(255,255,255,0.1) 75%)`,backgroundSize:"8px 8px"}}),I.jsx("span",{style:{position:"relative",zIndex:1},children:"Aa"})]}),I.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[I.jsx("span",{style:{fontSize:"14px",color:"#fff",fontWeight:"500"},children:"Font Color"}),I.jsx("span",{style:{fontSize:"12px",color:"#999",fontFamily:"monospace"},children:Qe.toUpperCase()})]}),I.jsx(nM,{style:{color:"#666",fontSize:"20px"}})]}),tc&&I.jsxs("div",{style:{position:"absolute",top:"100%",left:0,zIndex:1e3,marginTop:"8px",borderRadius:"8px",boxShadow:"0 8px 32px rgba(0,0,0,0.5)",border:"1px solid #444",overflow:"hidden"},children:[I.jsx(OO,{color:Qe,onChange:T=>On(T.hex),disableAlpha:!0,styles:{default:{picker:{backgroundColor:"#1e1e1e",border:"none",borderRadius:"8px",boxShadow:"none",fontFamily:"Arial, sans-serif"},saturation:{borderRadius:"4px"},hue:{borderRadius:"4px"},input:{backgroundColor:"#2b2b2b",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"12px"},label:{color:"#ccc",fontSize:"11px"}}}}),I.jsx("div",{style:{padding:"8px",backgroundColor:"#1e1e1e",borderTop:"1px solid #333",display:"flex",justifyContent:"flex-end"},children:I.jsx(en,{size:"small",onClick:()=>zi(!1),style:{color:"#fff",backgroundColor:"#333",fontSize:"11px",minWidth:"auto",padding:"4px 12px"},children:"Done"})})]})]})]}),I.jsxs("div",{style:{marginBottom:"20px"},children:[I.jsx(on,{variant:"subtitle1",style:{marginBottom:"12px",color:"rgba(255, 255, 255, 0.9)",fontWeight:"500",fontSize:"14px",letterSpacing:"0.3px",textTransform:"uppercase",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",paddingLeft:"12px"},children:"Layer Order"}),I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"8px"},children:[I.jsx(_l,{type:"number",value:xr,onChange:T=>{const A=parseInt(T.target.value)||1;Nn(A),Oe(A)},size:"small",sx:{flex:1,"& .MuiInputBase-root":{color:"#fff",backgroundColor:"rgba(43, 43, 43, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px"},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiInputBase-root:hover":{backgroundColor:"rgba(43, 43, 43, 0.9)",borderColor:"rgba(255, 255, 255, 0.2)"},"& .MuiInputBase-root.Mui-focused":{backgroundColor:"rgba(43, 43, 43, 1)",borderColor:"rgba(255, 255, 255, 0.3)"}},inputProps:{min:0,max:9999}}),I.jsx(en,{variant:"contained",size:"small",onClick:ni,sx:{backgroundColor:"rgba(43, 43, 43, 0.8)",color:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",minWidth:"auto",padding:"8px 12px",fontSize:"12px",fontWeight:"500","&:hover":{backgroundColor:"rgba(43, 43, 43, 0.9)",borderColor:"rgba(255, 255, 255, 0.2)"}},title:"Bring to Front",children:"Front"}),I.jsx(en,{variant:"contained",size:"small",onClick:mi,sx:{backgroundColor:"rgba(43, 43, 43, 0.8)",color:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",minWidth:"auto",padding:"8px 12px",fontSize:"12px",fontWeight:"500","&:hover":{backgroundColor:"rgba(43, 43, 43, 0.9)",borderColor:"rgba(255, 255, 255, 0.2)"}},title:"Send to Back",children:"Back"})]})]}),I.jsx("div",{style:{marginTop:"24px",paddingTop:"20px",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:I.jsx(en,{variant:"contained",onClick:Sr,sx:{width:"100%",backgroundColor:"rgba(170, 17, 17, 0.8)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",padding:"12px",fontSize:"13px",fontWeight:"500",textTransform:"none","&:hover":{backgroundColor:"rgba(170, 17, 17, 0.9)",borderColor:"rgba(255, 255, 255, 0.2)"}},children:"Remove All Links"})})]}):I.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"rgba(255, 255, 255, 0.6)"},children:[I.jsx(on,{variant:"h6",style:{color:"rgba(255, 255, 255, 0.8)",marginBottom:"8px",fontSize:"16px",fontWeight:"500"},children:"No Selection"}),I.jsx(on,{variant:"body2",style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"13px",lineHeight:"1.5"},children:"Select one or more nodes to customize their appearance and properties"})]})}),I.jsxs("div",{style:{position:"fixed",top:60,right:cn?10:290,background:"radial-gradient(circle at center,rgba(29, 32, 34, 0.9) 0%, #0f1011 100%)",color:"#fff",padding:"12px",borderRadius:"8px",zIndex:250,minWidth:"200px",maxWidth:"250px",border:"1px solid #333",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},children:[I.jsxs(on,{variant:"subtitle2",style:{fontWeight:"bold",marginBottom:"8px",color:"#4CAF50"},children:["Active Users (",q.length,")"]}),q.length===0?I.jsx(on,{variant:"caption",style:{color:"#999",fontStyle:"italic"},children:"No other users online"}):q.map((T,A)=>{const F=T.email===ce,V=F?"#4CAF50":"#2196F3";return I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"4px 0",borderBottom:A<q.length-1?"1px solid #333":"none"},children:[I.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:V,animation:"pulse 2s infinite"}}),I.jsx(on,{variant:"caption",style:{color:F?"#4CAF50":"#fff",fontWeight:F?"bold":"normal"},children:F?`${T.email} (You)`:T.email})]},A)}),I.jsx("div",{style:{marginTop:"8px",paddingTop:"8px",borderTop:"1px solid #333"},children:I.jsx(on,{variant:"caption",style:{color:"#999",fontSize:"10px"},children:"Connected • Real-time sync active"})})]}),wi(),I.jsxs("div",{ref:bt,onContextMenu:pu,onMouseDown:Bh,onClick:T=>{T.target===bt.current&&D([])},style:{position:"absolute",top:0,left:0,width:".1px",height:".1px",overflow:"visible",transform:`translate(${ee.x}px, ${ee.y}px) scale(${ne})`,transformOrigin:"top left"},children:[I.jsx("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",overflow:"visible"},children:pn.map(T=>{const A=i.find(gt=>gt.id===T.source),F=i.find(gt=>gt.id===T.target);if(!A||!F)return null;const V=A.width||qt,G=A.height||Nt,Y=F.width||qt,se=F.height||Nt,Ce=P.includes(A.id),X=P.includes(F.id),ye=A.x+(Ce?Kn.x:0),pe=A.y+(Ce?Kn.y:0),Me=F.x+(X?Kn.x:0),je=F.y+(X?Kn.y:0),He=ye+V/2,Fe=pe+G/2,xe=Me+Y/2,Ge=je+se/2;return I.jsx("line",{x1:He,y1:Fe,x2:xe,y2:Ge,stroke:"rgba(255, 255, 255, 0.29)",strokeWidth:"5"},T.id)})}),I.jsx(HTe,{nodes:i,zoom:fe.current,pan:ee,outerRef:at,visibleNodes:It,selectedNodes:P,groupDelta:Kn,editingNodeId:m,editedText:S,hoveredNodeId:Mt,linkingSource:C,currentUserEmail:ce,isNodeHighlighted:Da,handleResizeMouseDown:cn?()=>{}:Fh,handleNodeClick:cn?()=>{}:Mb,handleDoubleClick:cn?()=>{}:gu,handleTyping:cn?()=>{}:cm,handleTextBlur:cn?()=>{}:lm,setEditedText:cn?()=>{}:_,setHoveredNodeId:cn?()=>{}:Ye,dragStartRef:Ie,multiDragStartRef:pt,setIsDragging:zt,setNodes:rr,setGroupDelta:fr,mindMapId:t,pushSingleNodeToUndoStack:Oa,pushSelectionToUndoStack:ir,setSelectedNodes:D,updateGroupDelta:bn,panRef:Ee,zoomRef:fe}),I.jsx(Mj,{}),O&&(()=>{const T=(O.width+O.height)/2,A=Math.max(1,T*.02);return I.jsx("svg",{style:{position:"absolute",left:O.x,top:O.y,width:O.width,height:O.height,pointerEvents:"none",zIndex:500},children:I.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"rgba(128,128,128,0.1)",stroke:"white",strokeWidth:A})})})()]}),I.jsx(bj,{}),I.jsx(LTe,{localCursor:W,canvasCenter:wj(),mergeMindMapData:K,isChatOpen:kb,setIsChatOpen:Xl,selectedNodes:P,nodes:i,setNodes:rr,mindMapId:t,updateNodeText:um,addNode:mu,addLink:ii,pushToUndoStack:ir}),I.jsx(Tj,{}),I.jsx(Ij,{}),I.jsx(Rj,{}),I.jsx(kj,{}),I.jsx(Pj,{}),I.jsx(Aj,{})]})};function KTe(){return I.jsxs(az,{children:[I.jsx(vy,{path:"/",element:I.jsx(Qie,{})}),I.jsx(vy,{path:"/dashboard",element:I.jsx(noe,{})}),I.jsx(vy,{path:"/editor/:id",element:I.jsx(GTe,{})})]})}Zw.createRoot(document.getElementById("root")).render(I.jsx(Pz,{children:I.jsx(KTe,{})}))});export default qTe();
