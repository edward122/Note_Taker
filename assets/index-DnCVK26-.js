var lV=Object.defineProperty;var cV=(t,e,n)=>e in t?lV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var uV=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Vf=(t,e,n)=>cV(t,typeof e!="symbol"?e+"":e,n);var mTe=uV((qi,Yi)=>{function dV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ya=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fV(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var IN={exports:{}},u0={},RN={exports:{}},At={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp=Symbol.for("react.element"),hV=Symbol.for("react.portal"),pV=Symbol.for("react.fragment"),gV=Symbol.for("react.strict_mode"),mV=Symbol.for("react.profiler"),yV=Symbol.for("react.provider"),vV=Symbol.for("react.context"),_V=Symbol.for("react.forward_ref"),bV=Symbol.for("react.suspense"),wV=Symbol.for("react.memo"),xV=Symbol.for("react.lazy"),BI=Symbol.iterator;function EV(t){return t===null||typeof t!="object"?null:(t=BI&&t[BI]||t["@@iterator"],typeof t=="function"?t:null)}var PN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kN=Object.assign,AN={};function Gd(t,e,n){this.props=t,this.context=e,this.refs=AN,this.updater=n||PN}Gd.prototype.isReactComponent={};Gd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ON(){}ON.prototype=Gd.prototype;function mS(t,e,n){this.props=t,this.context=e,this.refs=AN,this.updater=n||PN}var yS=mS.prototype=new ON;yS.constructor=mS;kN(yS,Gd.prototype);yS.isPureReactComponent=!0;var VI=Array.isArray,NN=Object.prototype.hasOwnProperty,vS={current:null},MN={key:!0,ref:!0,__self:!0,__source:!0};function DN(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)NN.call(e,r)&&!MN.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:qp,type:t,key:o,ref:s,props:i,_owner:vS.current}}function SV(t,e){return{$$typeof:qp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _S(t){return typeof t=="object"&&t!==null&&t.$$typeof===qp}function CV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jI=/\/+/g;function Ib(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CV(""+t.key):e.toString(36)}function ry(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case qp:case hV:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Ib(s,0):r,VI(i)?(n="",t!=null&&(n=t.replace(jI,"$&/")+"/"),ry(i,e,n,"",function(c){return c})):i!=null&&(_S(i)&&(i=SV(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(jI,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",VI(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Ib(o,a);s+=ry(o,e,n,l,i)}else if(l=EV(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Ib(o,a++),s+=ry(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function um(t,e,n){if(t==null)return t;var r=[],i=0;return ry(t,r,"","",function(o){return e.call(n,o,i++)}),r}function TV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ci={current:null},iy={transition:null},IV={ReactCurrentDispatcher:ci,ReactCurrentBatchConfig:iy,ReactCurrentOwner:vS};At.Children={map:um,forEach:function(t,e,n){um(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return um(t,function(){e++}),e},toArray:function(t){return um(t,function(e){return e})||[]},only:function(t){if(!_S(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};At.Component=Gd;At.Fragment=pV;At.Profiler=mV;At.PureComponent=mS;At.StrictMode=gV;At.Suspense=bV;At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IV;At.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=kN({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=vS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)NN.call(e,l)&&!MN.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:qp,type:t.type,key:i,ref:o,props:r,_owner:s}};At.createContext=function(t){return t={$$typeof:vV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yV,_context:t},t.Consumer=t};At.createElement=DN;At.createFactory=function(t){var e=DN.bind(null,t);return e.type=t,e};At.createRef=function(){return{current:null}};At.forwardRef=function(t){return{$$typeof:_V,render:t}};At.isValidElement=_S;At.lazy=function(t){return{$$typeof:xV,_payload:{_status:-1,_result:t},_init:TV}};At.memo=function(t,e){return{$$typeof:wV,type:t,compare:e===void 0?null:e}};At.startTransition=function(t){var e=iy.transition;iy.transition={};try{t()}finally{iy.transition=e}};At.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};At.useCallback=function(t,e){return ci.current.useCallback(t,e)};At.useContext=function(t){return ci.current.useContext(t)};At.useDebugValue=function(){};At.useDeferredValue=function(t){return ci.current.useDeferredValue(t)};At.useEffect=function(t,e){return ci.current.useEffect(t,e)};At.useId=function(){return ci.current.useId()};At.useImperativeHandle=function(t,e,n){return ci.current.useImperativeHandle(t,e,n)};At.useInsertionEffect=function(t,e){return ci.current.useInsertionEffect(t,e)};At.useLayoutEffect=function(t,e){return ci.current.useLayoutEffect(t,e)};At.useMemo=function(t,e){return ci.current.useMemo(t,e)};At.useReducer=function(t,e,n){return ci.current.useReducer(t,e,n)};At.useRef=function(t){return ci.current.useRef(t)};At.useState=function(t){return ci.current.useState(t)};At.useSyncExternalStore=function(t,e,n){return ci.current.useSyncExternalStore(t,e,n)};At.useTransition=function(){return ci.current.useTransition()};At.version="18.2.0";RN.exports=At;var v=RN.exports;const F=Kp(v),$y=dV({__proto__:null,default:F},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RV=v,PV=Symbol.for("react.element"),kV=Symbol.for("react.fragment"),AV=Object.prototype.hasOwnProperty,OV=RV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NV={key:!0,ref:!0,__self:!0,__source:!0};function $N(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)AV.call(e,r)&&!NV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:PV,type:t,key:o,ref:s,props:i,_owner:OV.current}}u0.Fragment=kV;u0.jsx=$N;u0.jsxs=$N;IN.exports=u0;var P=IN.exports,Kw={},LN={exports:{}},ro={},FN={exports:{}},BN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,j){var G=K.length;K.push(j);e:for(;0<G;){var oe=G-1>>>1,re=K[oe];if(0<i(re,j))K[oe]=j,K[G]=re,G=oe;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var j=K[0],G=K.pop();if(G!==j){K[0]=G;e:for(var oe=0,re=K.length,ge=re>>>1;oe<ge;){var Ae=2*(oe+1)-1,xe=K[Ae],fe=Ae+1,be=K[fe];if(0>i(xe,G))fe<re&&0>i(be,xe)?(K[oe]=be,K[fe]=G,oe=fe):(K[oe]=xe,K[Ae]=G,oe=Ae);else if(fe<re&&0>i(be,G))K[oe]=be,K[fe]=G,oe=fe;else break e}}return j}function i(K,j){var G=K.sortIndex-j.sortIndex;return G!==0?G:K.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,f=null,h=3,p=!1,m=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(K){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=K)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function C(K){if(x=!1,g(K),!m)if(n(l)!==null)m=!0,q(N);else{var j=n(c);j!==null&&ie(C,j.startTime-K)}}function N(K,j){m=!1,x&&(x=!1,b(I),I=-1),p=!0;var G=h;try{for(g(j),f=n(l);f!==null&&(!(f.expirationTime>j)||K&&!O());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,h=f.priorityLevel;var re=oe(f.expirationTime<=j);j=t.unstable_now(),typeof re=="function"?f.callback=re:f===n(l)&&r(l),g(j)}else r(l);f=n(l)}if(f!==null)var ge=!0;else{var Ae=n(c);Ae!==null&&ie(C,Ae.startTime-j),ge=!1}return ge}finally{f=null,h=G,p=!1}}var M=!1,E=null,I=-1,k=5,_=-1;function O(){return!(t.unstable_now()-_<k)}function $(){if(E!==null){var K=t.unstable_now();_=K;var j=!0;try{j=E(!0,K)}finally{j?A():(M=!1,E=null)}}else M=!1}var A;if(typeof w=="function")A=function(){w($)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,W=Q.port2;Q.port1.onmessage=$,A=function(){W.postMessage(null)}}else A=function(){S($,0)};function q(K){E=K,M||(M=!0,A())}function ie(K,j){I=S(function(){K(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,q(N))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(K){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var G=h;h=j;try{return K()}finally{h=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,j){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var G=h;h=K;try{return j()}finally{h=G}},t.unstable_scheduleCallback=function(K,j,G){var oe=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?oe+G:oe):G=oe,K){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=G+re,K={id:u++,callback:j,priorityLevel:K,startTime:G,expirationTime:re,sortIndex:-1},G>oe?(K.sortIndex=G,e(c,K),n(l)===null&&K===n(c)&&(x?(b(I),I=-1):x=!0,ie(C,G-oe))):(K.sortIndex=re,e(l,K),m||p||(m=!0,q(N))),K},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(K){var j=h;return function(){var G=h;h=j;try{return K.apply(this,arguments)}finally{h=G}}}})(BN);FN.exports=BN;var MV=FN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VN=v,eo=MV;function ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jN=new Set,rp={};function $c(t,e){bd(t,e),bd(t+"Capture",e)}function bd(t,e){for(rp[t]=e,t=0;t<e.length;t++)jN.add(e[t])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qw=Object.prototype.hasOwnProperty,DV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,UI={},zI={};function $V(t){return qw.call(zI,t)?!0:qw.call(UI,t)?!1:DV.test(t)?zI[t]=!0:(UI[t]=!0,!1)}function LV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function FV(t,e,n,r){if(e===null||typeof e>"u"||LV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ui(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nr[t]=new ui(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nr[e]=new ui(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nr[t]=new ui(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nr[t]=new ui(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nr[t]=new ui(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nr[t]=new ui(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nr[t]=new ui(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nr[t]=new ui(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nr[t]=new ui(t,5,!1,t.toLowerCase(),null,!1,!1)});var bS=/[\-:]([a-z])/g;function wS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bS,wS);Nr[e]=new ui(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bS,wS);Nr[e]=new ui(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bS,wS);Nr[e]=new ui(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nr[t]=new ui(t,1,!1,t.toLowerCase(),null,!1,!1)});Nr.xlinkHref=new ui("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nr[t]=new ui(t,1,!1,t.toLowerCase(),null,!0,!0)});function xS(t,e,n,r){var i=Nr.hasOwnProperty(e)?Nr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(FV(e,n,i,r)&&(n=null),r||i===null?$V(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _a=VN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dm=Symbol.for("react.element"),Hu=Symbol.for("react.portal"),Gu=Symbol.for("react.fragment"),ES=Symbol.for("react.strict_mode"),Yw=Symbol.for("react.profiler"),UN=Symbol.for("react.provider"),zN=Symbol.for("react.context"),SS=Symbol.for("react.forward_ref"),Xw=Symbol.for("react.suspense"),Qw=Symbol.for("react.suspense_list"),CS=Symbol.for("react.memo"),La=Symbol.for("react.lazy"),WN=Symbol.for("react.offscreen"),WI=Symbol.iterator;function jf(t){return t===null||typeof t!="object"?null:(t=WI&&t[WI]||t["@@iterator"],typeof t=="function"?t:null)}var Dn=Object.assign,Rb;function hh(t){if(Rb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rb=e&&e[1]||""}return`
`+Rb+t}var Pb=!1;function kb(t,e){if(!t||Pb)return"";Pb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Pb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?hh(t):""}function BV(t){switch(t.tag){case 5:return hh(t.type);case 16:return hh("Lazy");case 13:return hh("Suspense");case 19:return hh("SuspenseList");case 0:case 2:case 15:return t=kb(t.type,!1),t;case 11:return t=kb(t.type.render,!1),t;case 1:return t=kb(t.type,!0),t;default:return""}}function Jw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gu:return"Fragment";case Hu:return"Portal";case Yw:return"Profiler";case ES:return"StrictMode";case Xw:return"Suspense";case Qw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zN:return(t.displayName||"Context")+".Consumer";case UN:return(t._context.displayName||"Context")+".Provider";case SS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case CS:return e=t.displayName||null,e!==null?e:Jw(t.type)||"Memo";case La:e=t._payload,t=t._init;try{return Jw(t(e))}catch{}}return null}function VV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jw(e);case 8:return e===ES?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ml(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function HN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jV(t){var e=HN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fm(t){t._valueTracker||(t._valueTracker=jV(t))}function GN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=HN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ly(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zw(t,e){var n=e.checked;return Dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function HI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ml(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function KN(t,e){e=e.checked,e!=null&&xS(t,"checked",e,!1)}function ex(t,e){KN(t,e);var n=ml(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tx(t,e.type,n):e.hasOwnProperty("defaultValue")&&tx(t,e.type,ml(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function GI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tx(t,e,n){(e!=="number"||Ly(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ph=Array.isArray;function od(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ml(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function nx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ue(91));return Dn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function KI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ue(92));if(ph(n)){if(1<n.length)throw Error(ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ml(n)}}function qN(t,e){var n=ml(e.value),r=ml(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function YN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?YN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hm,XN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hm=hm||document.createElement("div"),hm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ip(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ph={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UV=["Webkit","ms","Moz","O"];Object.keys(Ph).forEach(function(t){UV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ph[e]=Ph[t]})});function QN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ph.hasOwnProperty(t)&&Ph[t]?(""+e).trim():e+"px"}function JN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=QN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var zV=Dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ix(t,e){if(e){if(zV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ue(62))}}function ox(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sx=null;function TS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ax=null,sd=null,ad=null;function YI(t){if(t=Qp(t)){if(typeof ax!="function")throw Error(ue(280));var e=t.stateNode;e&&(e=g0(e),ax(t.stateNode,t.type,e))}}function ZN(t){sd?ad?ad.push(t):ad=[t]:sd=t}function eM(){if(sd){var t=sd,e=ad;if(ad=sd=null,YI(t),e)for(t=0;t<e.length;t++)YI(e[t])}}function tM(t,e){return t(e)}function nM(){}var Ab=!1;function rM(t,e,n){if(Ab)return t(e,n);Ab=!0;try{return tM(t,e,n)}finally{Ab=!1,(sd!==null||ad!==null)&&(nM(),eM())}}function op(t,e){var n=t.stateNode;if(n===null)return null;var r=g0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ue(231,e,typeof n));return n}var lx=!1;if(ia)try{var Uf={};Object.defineProperty(Uf,"passive",{get:function(){lx=!0}}),window.addEventListener("test",Uf,Uf),window.removeEventListener("test",Uf,Uf)}catch{lx=!1}function WV(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var kh=!1,Fy=null,By=!1,cx=null,HV={onError:function(t){kh=!0,Fy=t}};function GV(t,e,n,r,i,o,s,a,l){kh=!1,Fy=null,WV.apply(HV,arguments)}function KV(t,e,n,r,i,o,s,a,l){if(GV.apply(this,arguments),kh){if(kh){var c=Fy;kh=!1,Fy=null}else throw Error(ue(198));By||(By=!0,cx=c)}}function Lc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function iM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function XI(t){if(Lc(t)!==t)throw Error(ue(188))}function qV(t){var e=t.alternate;if(!e){if(e=Lc(t),e===null)throw Error(ue(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return XI(i),t;if(o===r)return XI(i),e;o=o.sibling}throw Error(ue(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ue(189))}}if(n.alternate!==r)throw Error(ue(190))}if(n.tag!==3)throw Error(ue(188));return n.stateNode.current===n?t:e}function oM(t){return t=qV(t),t!==null?sM(t):null}function sM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sM(t);if(e!==null)return e;t=t.sibling}return null}var aM=eo.unstable_scheduleCallback,QI=eo.unstable_cancelCallback,YV=eo.unstable_shouldYield,XV=eo.unstable_requestPaint,Kn=eo.unstable_now,QV=eo.unstable_getCurrentPriorityLevel,IS=eo.unstable_ImmediatePriority,lM=eo.unstable_UserBlockingPriority,Vy=eo.unstable_NormalPriority,JV=eo.unstable_LowPriority,cM=eo.unstable_IdlePriority,d0=null,ms=null;function ZV(t){if(ms&&typeof ms.onCommitFiberRoot=="function")try{ms.onCommitFiberRoot(d0,t,void 0,(t.current.flags&128)===128)}catch{}}var Yo=Math.clz32?Math.clz32:nj,ej=Math.log,tj=Math.LN2;function nj(t){return t>>>=0,t===0?32:31-(ej(t)/tj|0)|0}var pm=64,gm=4194304;function gh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=gh(a):(o&=s,o!==0&&(r=gh(o)))}else s=n&~i,s!==0?r=gh(s):o!==0&&(r=gh(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yo(e),i=1<<n,r|=t[n],e&=~i;return r}function rj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ij(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Yo(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=rj(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function ux(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function uM(){var t=pm;return pm<<=1,!(pm&4194240)&&(pm=64),t}function Ob(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yo(e),t[e]=n}function oj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yo(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function RS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var tn=0;function dM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fM,PS,hM,pM,gM,dx=!1,mm=[],Za=null,el=null,tl=null,sp=new Map,ap=new Map,ja=[],sj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JI(t,e){switch(t){case"focusin":case"focusout":Za=null;break;case"dragenter":case"dragleave":el=null;break;case"mouseover":case"mouseout":tl=null;break;case"pointerover":case"pointerout":sp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ap.delete(e.pointerId)}}function zf(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Qp(e),e!==null&&PS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function aj(t,e,n,r,i){switch(e){case"focusin":return Za=zf(Za,t,e,n,r,i),!0;case"dragenter":return el=zf(el,t,e,n,r,i),!0;case"mouseover":return tl=zf(tl,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return sp.set(o,zf(sp.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ap.set(o,zf(ap.get(o)||null,t,e,n,r,i)),!0}return!1}function mM(t){var e=ic(t.target);if(e!==null){var n=Lc(e);if(n!==null){if(e=n.tag,e===13){if(e=iM(n),e!==null){t.blockedOn=e,gM(t.priority,function(){hM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sx=r,n.target.dispatchEvent(r),sx=null}else return e=Qp(n),e!==null&&PS(e),t.blockedOn=n,!1;e.shift()}return!0}function ZI(t,e,n){oy(t)&&n.delete(e)}function lj(){dx=!1,Za!==null&&oy(Za)&&(Za=null),el!==null&&oy(el)&&(el=null),tl!==null&&oy(tl)&&(tl=null),sp.forEach(ZI),ap.forEach(ZI)}function Wf(t,e){t.blockedOn===e&&(t.blockedOn=null,dx||(dx=!0,eo.unstable_scheduleCallback(eo.unstable_NormalPriority,lj)))}function lp(t){function e(i){return Wf(i,t)}if(0<mm.length){Wf(mm[0],t);for(var n=1;n<mm.length;n++){var r=mm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Za!==null&&Wf(Za,t),el!==null&&Wf(el,t),tl!==null&&Wf(tl,t),sp.forEach(e),ap.forEach(e),n=0;n<ja.length;n++)r=ja[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ja.length&&(n=ja[0],n.blockedOn===null);)mM(n),n.blockedOn===null&&ja.shift()}var ld=_a.ReactCurrentBatchConfig,Uy=!0;function cj(t,e,n,r){var i=tn,o=ld.transition;ld.transition=null;try{tn=1,kS(t,e,n,r)}finally{tn=i,ld.transition=o}}function uj(t,e,n,r){var i=tn,o=ld.transition;ld.transition=null;try{tn=4,kS(t,e,n,r)}finally{tn=i,ld.transition=o}}function kS(t,e,n,r){if(Uy){var i=fx(t,e,n,r);if(i===null)Ub(t,e,r,zy,n),JI(t,r);else if(aj(i,t,e,n,r))r.stopPropagation();else if(JI(t,r),e&4&&-1<sj.indexOf(t)){for(;i!==null;){var o=Qp(i);if(o!==null&&fM(o),o=fx(t,e,n,r),o===null&&Ub(t,e,r,zy,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ub(t,e,r,null,n)}}var zy=null;function fx(t,e,n,r){if(zy=null,t=TS(r),t=ic(t),t!==null)if(e=Lc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=iM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zy=t,null}function yM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QV()){case IS:return 1;case lM:return 4;case Vy:case JV:return 16;case cM:return 536870912;default:return 16}default:return 16}}var Xa=null,AS=null,sy=null;function vM(){if(sy)return sy;var t,e=AS,n=e.length,r,i="value"in Xa?Xa.value:Xa.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return sy=i.slice(t,1<r?1-r:void 0)}function ay(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ym(){return!0}function eR(){return!1}function io(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ym:eR,this.isPropagationStopped=eR,this}return Dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ym)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ym)},persist:function(){},isPersistent:ym}),e}var Kd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},OS=io(Kd),Xp=Dn({},Kd,{view:0,detail:0}),dj=io(Xp),Nb,Mb,Hf,f0=Dn({},Xp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:NS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hf&&(Hf&&t.type==="mousemove"?(Nb=t.screenX-Hf.screenX,Mb=t.screenY-Hf.screenY):Mb=Nb=0,Hf=t),Nb)},movementY:function(t){return"movementY"in t?t.movementY:Mb}}),tR=io(f0),fj=Dn({},f0,{dataTransfer:0}),hj=io(fj),pj=Dn({},Xp,{relatedTarget:0}),Db=io(pj),gj=Dn({},Kd,{animationName:0,elapsedTime:0,pseudoElement:0}),mj=io(gj),yj=Dn({},Kd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vj=io(yj),_j=Dn({},Kd,{data:0}),nR=io(_j),bj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ej(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xj[t])?!!e[t]:!1}function NS(){return Ej}var Sj=Dn({},Xp,{key:function(t){if(t.key){var e=bj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ay(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:NS,charCode:function(t){return t.type==="keypress"?ay(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ay(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cj=io(Sj),Tj=Dn({},f0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rR=io(Tj),Ij=Dn({},Xp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:NS}),Rj=io(Ij),Pj=Dn({},Kd,{propertyName:0,elapsedTime:0,pseudoElement:0}),kj=io(Pj),Aj=Dn({},f0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Oj=io(Aj),Nj=[9,13,27,32],MS=ia&&"CompositionEvent"in window,Ah=null;ia&&"documentMode"in document&&(Ah=document.documentMode);var Mj=ia&&"TextEvent"in window&&!Ah,_M=ia&&(!MS||Ah&&8<Ah&&11>=Ah),iR=" ",oR=!1;function bM(t,e){switch(t){case"keyup":return Nj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ku=!1;function Dj(t,e){switch(t){case"compositionend":return wM(e);case"keypress":return e.which!==32?null:(oR=!0,iR);case"textInput":return t=e.data,t===iR&&oR?null:t;default:return null}}function $j(t,e){if(Ku)return t==="compositionend"||!MS&&bM(t,e)?(t=vM(),sy=AS=Xa=null,Ku=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _M&&e.locale!=="ko"?null:e.data;default:return null}}var Lj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Lj[t.type]:e==="textarea"}function xM(t,e,n,r){ZN(r),e=Wy(e,"onChange"),0<e.length&&(n=new OS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Oh=null,cp=null;function Fj(t){NM(t,0)}function h0(t){var e=Xu(t);if(GN(e))return t}function Bj(t,e){if(t==="change")return e}var EM=!1;if(ia){var $b;if(ia){var Lb="oninput"in document;if(!Lb){var aR=document.createElement("div");aR.setAttribute("oninput","return;"),Lb=typeof aR.oninput=="function"}$b=Lb}else $b=!1;EM=$b&&(!document.documentMode||9<document.documentMode)}function lR(){Oh&&(Oh.detachEvent("onpropertychange",SM),cp=Oh=null)}function SM(t){if(t.propertyName==="value"&&h0(cp)){var e=[];xM(e,cp,t,TS(t)),rM(Fj,e)}}function Vj(t,e,n){t==="focusin"?(lR(),Oh=e,cp=n,Oh.attachEvent("onpropertychange",SM)):t==="focusout"&&lR()}function jj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return h0(cp)}function Uj(t,e){if(t==="click")return h0(e)}function zj(t,e){if(t==="input"||t==="change")return h0(e)}function Wj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zo=typeof Object.is=="function"?Object.is:Wj;function up(t,e){if(Zo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!qw.call(e,i)||!Zo(t[i],e[i]))return!1}return!0}function cR(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uR(t,e){var n=cR(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cR(n)}}function CM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function TM(){for(var t=window,e=Ly();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ly(t.document)}return e}function DS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Hj(t){var e=TM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&CM(n.ownerDocument.documentElement,n)){if(r!==null&&DS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=uR(n,o);var s=uR(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Gj=ia&&"documentMode"in document&&11>=document.documentMode,qu=null,hx=null,Nh=null,px=!1;function dR(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;px||qu==null||qu!==Ly(r)||(r=qu,"selectionStart"in r&&DS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nh&&up(Nh,r)||(Nh=r,r=Wy(hx,"onSelect"),0<r.length&&(e=new OS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qu)))}function vm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yu={animationend:vm("Animation","AnimationEnd"),animationiteration:vm("Animation","AnimationIteration"),animationstart:vm("Animation","AnimationStart"),transitionend:vm("Transition","TransitionEnd")},Fb={},IM={};ia&&(IM=document.createElement("div").style,"AnimationEvent"in window||(delete Yu.animationend.animation,delete Yu.animationiteration.animation,delete Yu.animationstart.animation),"TransitionEvent"in window||delete Yu.transitionend.transition);function p0(t){if(Fb[t])return Fb[t];if(!Yu[t])return t;var e=Yu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in IM)return Fb[t]=e[n];return t}var RM=p0("animationend"),PM=p0("animationiteration"),kM=p0("animationstart"),AM=p0("transitionend"),OM=new Map,fR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ol(t,e){OM.set(t,e),$c(e,[t])}for(var Bb=0;Bb<fR.length;Bb++){var Vb=fR[Bb],Kj=Vb.toLowerCase(),qj=Vb[0].toUpperCase()+Vb.slice(1);Ol(Kj,"on"+qj)}Ol(RM,"onAnimationEnd");Ol(PM,"onAnimationIteration");Ol(kM,"onAnimationStart");Ol("dblclick","onDoubleClick");Ol("focusin","onFocus");Ol("focusout","onBlur");Ol(AM,"onTransitionEnd");bd("onMouseEnter",["mouseout","mouseover"]);bd("onMouseLeave",["mouseout","mouseover"]);bd("onPointerEnter",["pointerout","pointerover"]);bd("onPointerLeave",["pointerout","pointerover"]);$c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$c("onBeforeInput",["compositionend","keypress","textInput","paste"]);$c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yj=new Set("cancel close invalid load scroll toggle".split(" ").concat(mh));function hR(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,KV(r,e,void 0,t),t.currentTarget=null}function NM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;hR(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;hR(i,a,c),o=l}}}if(By)throw t=cx,By=!1,cx=null,t}function yn(t,e){var n=e[_x];n===void 0&&(n=e[_x]=new Set);var r=t+"__bubble";n.has(r)||(MM(e,t,2,!1),n.add(r))}function jb(t,e,n){var r=0;e&&(r|=4),MM(n,t,r,e)}var _m="_reactListening"+Math.random().toString(36).slice(2);function dp(t){if(!t[_m]){t[_m]=!0,jN.forEach(function(n){n!=="selectionchange"&&(Yj.has(n)||jb(n,!1,t),jb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_m]||(e[_m]=!0,jb("selectionchange",!1,e))}}function MM(t,e,n,r){switch(yM(e)){case 1:var i=cj;break;case 4:i=uj;break;default:i=kS}n=i.bind(null,e,n,t),i=void 0,!lx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ub(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ic(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}rM(function(){var c=o,u=TS(n),f=[];e:{var h=OM.get(t);if(h!==void 0){var p=OS,m=t;switch(t){case"keypress":if(ay(n)===0)break e;case"keydown":case"keyup":p=Cj;break;case"focusin":m="focus",p=Db;break;case"focusout":m="blur",p=Db;break;case"beforeblur":case"afterblur":p=Db;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=tR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=hj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Rj;break;case RM:case PM:case kM:p=mj;break;case AM:p=kj;break;case"scroll":p=dj;break;case"wheel":p=Oj;break;case"copy":case"cut":case"paste":p=vj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=rR}var x=(e&4)!==0,S=!x&&t==="scroll",b=x?h!==null?h+"Capture":null:h;x=[];for(var w=c,g;w!==null;){g=w;var C=g.stateNode;if(g.tag===5&&C!==null&&(g=C,b!==null&&(C=op(w,b),C!=null&&x.push(fp(w,C,g)))),S)break;w=w.return}0<x.length&&(h=new p(h,m,null,n,u),f.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==sx&&(m=n.relatedTarget||n.fromElement)&&(ic(m)||m[oa]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?ic(m):null,m!==null&&(S=Lc(m),m!==S||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(x=tR,C="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(x=rR,C="onPointerLeave",b="onPointerEnter",w="pointer"),S=p==null?h:Xu(p),g=m==null?h:Xu(m),h=new x(C,w+"leave",p,n,u),h.target=S,h.relatedTarget=g,C=null,ic(u)===c&&(x=new x(b,w+"enter",m,n,u),x.target=g,x.relatedTarget=S,C=x),S=C,p&&m)t:{for(x=p,b=m,w=0,g=x;g;g=hu(g))w++;for(g=0,C=b;C;C=hu(C))g++;for(;0<w-g;)x=hu(x),w--;for(;0<g-w;)b=hu(b),g--;for(;w--;){if(x===b||b!==null&&x===b.alternate)break t;x=hu(x),b=hu(b)}x=null}else x=null;p!==null&&pR(f,h,p,x,!1),m!==null&&S!==null&&pR(f,S,m,x,!0)}}e:{if(h=c?Xu(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var N=Bj;else if(sR(h))if(EM)N=zj;else{N=jj;var M=Vj}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=Uj);if(N&&(N=N(t,c))){xM(f,N,n,u);break e}M&&M(t,h,c),t==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&tx(h,"number",h.value)}switch(M=c?Xu(c):window,t){case"focusin":(sR(M)||M.contentEditable==="true")&&(qu=M,hx=c,Nh=null);break;case"focusout":Nh=hx=qu=null;break;case"mousedown":px=!0;break;case"contextmenu":case"mouseup":case"dragend":px=!1,dR(f,n,u);break;case"selectionchange":if(Gj)break;case"keydown":case"keyup":dR(f,n,u)}var E;if(MS)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ku?bM(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(_M&&n.locale!=="ko"&&(Ku||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ku&&(E=vM()):(Xa=u,AS="value"in Xa?Xa.value:Xa.textContent,Ku=!0)),M=Wy(c,I),0<M.length&&(I=new nR(I,t,null,n,u),f.push({event:I,listeners:M}),E?I.data=E:(E=wM(n),E!==null&&(I.data=E)))),(E=Mj?Dj(t,n):$j(t,n))&&(c=Wy(c,"onBeforeInput"),0<c.length&&(u=new nR("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=E))}NM(f,e)})}function fp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wy(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=op(t,n),o!=null&&r.unshift(fp(t,o,i)),o=op(t,e),o!=null&&r.push(fp(t,o,i))),t=t.return}return r}function hu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pR(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=op(n,o),l!=null&&s.unshift(fp(n,l,a))):i||(l=op(n,o),l!=null&&s.push(fp(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Xj=/\r\n?/g,Qj=/\u0000|\uFFFD/g;function gR(t){return(typeof t=="string"?t:""+t).replace(Xj,`
`).replace(Qj,"")}function bm(t,e,n){if(e=gR(e),gR(t)!==e&&n)throw Error(ue(425))}function Hy(){}var gx=null,mx=null;function yx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vx=typeof setTimeout=="function"?setTimeout:void 0,Jj=typeof clearTimeout=="function"?clearTimeout:void 0,mR=typeof Promise=="function"?Promise:void 0,Zj=typeof queueMicrotask=="function"?queueMicrotask:typeof mR<"u"?function(t){return mR.resolve(null).then(t).catch(eU)}:vx;function eU(t){setTimeout(function(){throw t})}function zb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),lp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);lp(e)}function nl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function yR(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qd=Math.random().toString(36).slice(2),hs="__reactFiber$"+qd,hp="__reactProps$"+qd,oa="__reactContainer$"+qd,_x="__reactEvents$"+qd,tU="__reactListeners$"+qd,nU="__reactHandles$"+qd;function ic(t){var e=t[hs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[oa]||n[hs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=yR(t);t!==null;){if(n=t[hs])return n;t=yR(t)}return e}t=n,n=t.parentNode}return null}function Qp(t){return t=t[hs]||t[oa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ue(33))}function g0(t){return t[hp]||null}var bx=[],Qu=-1;function Nl(t){return{current:t}}function xn(t){0>Qu||(t.current=bx[Qu],bx[Qu]=null,Qu--)}function pn(t,e){Qu++,bx[Qu]=t.current,t.current=e}var yl={},Kr=Nl(yl),Ei=Nl(!1),_c=yl;function wd(t,e){var n=t.type.contextTypes;if(!n)return yl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Si(t){return t=t.childContextTypes,t!=null}function Gy(){xn(Ei),xn(Kr)}function vR(t,e,n){if(Kr.current!==yl)throw Error(ue(168));pn(Kr,e),pn(Ei,n)}function DM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ue(108,VV(t)||"Unknown",i));return Dn({},n,r)}function Ky(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yl,_c=Kr.current,pn(Kr,t),pn(Ei,Ei.current),!0}function _R(t,e,n){var r=t.stateNode;if(!r)throw Error(ue(169));n?(t=DM(t,e,_c),r.__reactInternalMemoizedMergedChildContext=t,xn(Ei),xn(Kr),pn(Kr,t)):xn(Ei),pn(Ei,n)}var Gs=null,m0=!1,Wb=!1;function $M(t){Gs===null?Gs=[t]:Gs.push(t)}function rU(t){m0=!0,$M(t)}function Ml(){if(!Wb&&Gs!==null){Wb=!0;var t=0,e=tn;try{var n=Gs;for(tn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Gs=null,m0=!1}catch(i){throw Gs!==null&&(Gs=Gs.slice(t+1)),aM(IS,Ml),i}finally{tn=e,Wb=!1}}return null}var Ju=[],Zu=0,qy=null,Yy=0,po=[],go=0,bc=null,Ys=1,Xs="";function Ql(t,e){Ju[Zu++]=Yy,Ju[Zu++]=qy,qy=t,Yy=e}function LM(t,e,n){po[go++]=Ys,po[go++]=Xs,po[go++]=bc,bc=t;var r=Ys;t=Xs;var i=32-Yo(r)-1;r&=~(1<<i),n+=1;var o=32-Yo(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ys=1<<32-Yo(e)+i|n<<i|r,Xs=o+t}else Ys=1<<o|n<<i|r,Xs=t}function $S(t){t.return!==null&&(Ql(t,1),LM(t,1,0))}function LS(t){for(;t===qy;)qy=Ju[--Zu],Ju[Zu]=null,Yy=Ju[--Zu],Ju[Zu]=null;for(;t===bc;)bc=po[--go],po[go]=null,Xs=po[--go],po[go]=null,Ys=po[--go],po[go]=null}var Xi=null,Hi=null,An=!1,zo=null;function FM(t,e){var n=vo(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bR(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xi=t,Hi=nl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xi=t,Hi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bc!==null?{id:Ys,overflow:Xs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vo(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xi=t,Hi=null,!0):!1;default:return!1}}function wx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xx(t){if(An){var e=Hi;if(e){var n=e;if(!bR(t,e)){if(wx(t))throw Error(ue(418));e=nl(n.nextSibling);var r=Xi;e&&bR(t,e)?FM(r,n):(t.flags=t.flags&-4097|2,An=!1,Xi=t)}}else{if(wx(t))throw Error(ue(418));t.flags=t.flags&-4097|2,An=!1,Xi=t}}}function wR(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xi=t}function wm(t){if(t!==Xi)return!1;if(!An)return wR(t),An=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yx(t.type,t.memoizedProps)),e&&(e=Hi)){if(wx(t))throw BM(),Error(ue(418));for(;e;)FM(t,e),e=nl(e.nextSibling)}if(wR(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Hi=nl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Hi=null}}else Hi=Xi?nl(t.stateNode.nextSibling):null;return!0}function BM(){for(var t=Hi;t;)t=nl(t.nextSibling)}function xd(){Hi=Xi=null,An=!1}function FS(t){zo===null?zo=[t]:zo.push(t)}var iU=_a.ReactCurrentBatchConfig;function jo(t,e){if(t&&t.defaultProps){e=Dn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Xy=Nl(null),Qy=null,ed=null,BS=null;function VS(){BS=ed=Qy=null}function jS(t){var e=Xy.current;xn(Xy),t._currentValue=e}function Ex(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function cd(t,e){Qy=t,BS=ed=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_i=!0),t.firstContext=null)}function xo(t){var e=t._currentValue;if(BS!==t)if(t={context:t,memoizedValue:e,next:null},ed===null){if(Qy===null)throw Error(ue(308));ed=t,Qy.dependencies={lanes:0,firstContext:t}}else ed=ed.next=t;return e}var oc=null;function US(t){oc===null?oc=[t]:oc.push(t)}function VM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,US(e)):(n.next=i.next,i.next=n),e.interleaved=n,sa(t,r)}function sa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fa=!1;function zS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ea(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ft&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,sa(t,n)}return i=r.interleaved,i===null?(e.next=e,US(r)):(e.next=i.next,i.next=e),r.interleaved=e,sa(t,n)}function ly(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,RS(t,n)}}function xR(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Jy(t,e,n,r){var i=t.updateQueue;Fa=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,x=a;switch(h=e,p=n,x.tag){case 1:if(m=x.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=x.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Dn({},f,h);break e;case 2:Fa=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);xc|=s,t.lanes=s,t.memoizedState=f}}function ER(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ue(191,i));i.call(r)}}}var UM=new VN.Component().refs;function Sx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Dn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var y0={isMounted:function(t){return(t=t._reactInternals)?Lc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=si(),i=ol(t),o=ea(r,i);o.payload=e,n!=null&&(o.callback=n),e=rl(t,o,i),e!==null&&(Xo(e,t,i,r),ly(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=si(),i=ol(t),o=ea(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=rl(t,o,i),e!==null&&(Xo(e,t,i,r),ly(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=si(),r=ol(t),i=ea(n,r);i.tag=2,e!=null&&(i.callback=e),e=rl(t,i,r),e!==null&&(Xo(e,t,r,n),ly(e,t,r))}};function SR(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!up(n,r)||!up(i,o):!0}function zM(t,e,n){var r=!1,i=yl,o=e.contextType;return typeof o=="object"&&o!==null?o=xo(o):(i=Si(e)?_c:Kr.current,r=e.contextTypes,o=(r=r!=null)?wd(t,i):yl),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=y0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function CR(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&y0.enqueueReplaceState(e,e.state,null)}function Cx(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=UM,zS(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=xo(o):(o=Si(e)?_c:Kr.current,i.context=wd(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Sx(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&y0.enqueueReplaceState(i,i.state,null),Jy(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Gf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ue(309));var r=n.stateNode}if(!r)throw Error(ue(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===UM&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ue(284));if(!n._owner)throw Error(ue(290,t))}return t}function xm(t,e){throw t=Object.prototype.toString.call(e),Error(ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function TR(t){var e=t._init;return e(t._payload)}function WM(t){function e(b,w){if(t){var g=b.deletions;g===null?(b.deletions=[w],b.flags|=16):g.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=sl(b,w),b.index=0,b.sibling=null,b}function o(b,w,g){return b.index=g,t?(g=b.alternate,g!==null?(g=g.index,g<w?(b.flags|=2,w):g):(b.flags|=2,w)):(b.flags|=1048576,w)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,w,g,C){return w===null||w.tag!==6?(w=Qb(g,b.mode,C),w.return=b,w):(w=i(w,g),w.return=b,w)}function l(b,w,g,C){var N=g.type;return N===Gu?u(b,w,g.props.children,C,g.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===La&&TR(N)===w.type)?(C=i(w,g.props),C.ref=Gf(b,w,g),C.return=b,C):(C=py(g.type,g.key,g.props,null,b.mode,C),C.ref=Gf(b,w,g),C.return=b,C)}function c(b,w,g,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==g.containerInfo||w.stateNode.implementation!==g.implementation?(w=Jb(g,b.mode,C),w.return=b,w):(w=i(w,g.children||[]),w.return=b,w)}function u(b,w,g,C,N){return w===null||w.tag!==7?(w=pc(g,b.mode,C,N),w.return=b,w):(w=i(w,g),w.return=b,w)}function f(b,w,g){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Qb(""+w,b.mode,g),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case dm:return g=py(w.type,w.key,w.props,null,b.mode,g),g.ref=Gf(b,null,w),g.return=b,g;case Hu:return w=Jb(w,b.mode,g),w.return=b,w;case La:var C=w._init;return f(b,C(w._payload),g)}if(ph(w)||jf(w))return w=pc(w,b.mode,g,null),w.return=b,w;xm(b,w)}return null}function h(b,w,g,C){var N=w!==null?w.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return N!==null?null:a(b,w,""+g,C);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case dm:return g.key===N?l(b,w,g,C):null;case Hu:return g.key===N?c(b,w,g,C):null;case La:return N=g._init,h(b,w,N(g._payload),C)}if(ph(g)||jf(g))return N!==null?null:u(b,w,g,C,null);xm(b,g)}return null}function p(b,w,g,C,N){if(typeof C=="string"&&C!==""||typeof C=="number")return b=b.get(g)||null,a(w,b,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case dm:return b=b.get(C.key===null?g:C.key)||null,l(w,b,C,N);case Hu:return b=b.get(C.key===null?g:C.key)||null,c(w,b,C,N);case La:var M=C._init;return p(b,w,g,M(C._payload),N)}if(ph(C)||jf(C))return b=b.get(g)||null,u(w,b,C,N,null);xm(w,C)}return null}function m(b,w,g,C){for(var N=null,M=null,E=w,I=w=0,k=null;E!==null&&I<g.length;I++){E.index>I?(k=E,E=null):k=E.sibling;var _=h(b,E,g[I],C);if(_===null){E===null&&(E=k);break}t&&E&&_.alternate===null&&e(b,E),w=o(_,w,I),M===null?N=_:M.sibling=_,M=_,E=k}if(I===g.length)return n(b,E),An&&Ql(b,I),N;if(E===null){for(;I<g.length;I++)E=f(b,g[I],C),E!==null&&(w=o(E,w,I),M===null?N=E:M.sibling=E,M=E);return An&&Ql(b,I),N}for(E=r(b,E);I<g.length;I++)k=p(E,b,I,g[I],C),k!==null&&(t&&k.alternate!==null&&E.delete(k.key===null?I:k.key),w=o(k,w,I),M===null?N=k:M.sibling=k,M=k);return t&&E.forEach(function(O){return e(b,O)}),An&&Ql(b,I),N}function x(b,w,g,C){var N=jf(g);if(typeof N!="function")throw Error(ue(150));if(g=N.call(g),g==null)throw Error(ue(151));for(var M=N=null,E=w,I=w=0,k=null,_=g.next();E!==null&&!_.done;I++,_=g.next()){E.index>I?(k=E,E=null):k=E.sibling;var O=h(b,E,_.value,C);if(O===null){E===null&&(E=k);break}t&&E&&O.alternate===null&&e(b,E),w=o(O,w,I),M===null?N=O:M.sibling=O,M=O,E=k}if(_.done)return n(b,E),An&&Ql(b,I),N;if(E===null){for(;!_.done;I++,_=g.next())_=f(b,_.value,C),_!==null&&(w=o(_,w,I),M===null?N=_:M.sibling=_,M=_);return An&&Ql(b,I),N}for(E=r(b,E);!_.done;I++,_=g.next())_=p(E,b,I,_.value,C),_!==null&&(t&&_.alternate!==null&&E.delete(_.key===null?I:_.key),w=o(_,w,I),M===null?N=_:M.sibling=_,M=_);return t&&E.forEach(function($){return e(b,$)}),An&&Ql(b,I),N}function S(b,w,g,C){if(typeof g=="object"&&g!==null&&g.type===Gu&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case dm:e:{for(var N=g.key,M=w;M!==null;){if(M.key===N){if(N=g.type,N===Gu){if(M.tag===7){n(b,M.sibling),w=i(M,g.props.children),w.return=b,b=w;break e}}else if(M.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===La&&TR(N)===M.type){n(b,M.sibling),w=i(M,g.props),w.ref=Gf(b,M,g),w.return=b,b=w;break e}n(b,M);break}else e(b,M);M=M.sibling}g.type===Gu?(w=pc(g.props.children,b.mode,C,g.key),w.return=b,b=w):(C=py(g.type,g.key,g.props,null,b.mode,C),C.ref=Gf(b,w,g),C.return=b,b=C)}return s(b);case Hu:e:{for(M=g.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===g.containerInfo&&w.stateNode.implementation===g.implementation){n(b,w.sibling),w=i(w,g.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=Jb(g,b.mode,C),w.return=b,b=w}return s(b);case La:return M=g._init,S(b,w,M(g._payload),C)}if(ph(g))return m(b,w,g,C);if(jf(g))return x(b,w,g,C);xm(b,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,w!==null&&w.tag===6?(n(b,w.sibling),w=i(w,g),w.return=b,b=w):(n(b,w),w=Qb(g,b.mode,C),w.return=b,b=w),s(b)):n(b,w)}return S}var Ed=WM(!0),HM=WM(!1),Jp={},ys=Nl(Jp),pp=Nl(Jp),gp=Nl(Jp);function sc(t){if(t===Jp)throw Error(ue(174));return t}function WS(t,e){switch(pn(gp,e),pn(pp,t),pn(ys,Jp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rx(e,t)}xn(ys),pn(ys,e)}function Sd(){xn(ys),xn(pp),xn(gp)}function GM(t){sc(gp.current);var e=sc(ys.current),n=rx(e,t.type);e!==n&&(pn(pp,t),pn(ys,n))}function HS(t){pp.current===t&&(xn(ys),xn(pp))}var On=Nl(0);function Zy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hb=[];function GS(){for(var t=0;t<Hb.length;t++)Hb[t]._workInProgressVersionPrimary=null;Hb.length=0}var cy=_a.ReactCurrentDispatcher,Gb=_a.ReactCurrentBatchConfig,wc=0,Nn=null,ar=null,wr=null,ev=!1,Mh=!1,mp=0,oU=0;function Lr(){throw Error(ue(321))}function KS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Zo(t[n],e[n]))return!1;return!0}function qS(t,e,n,r,i,o){if(wc=o,Nn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cy.current=t===null||t.memoizedState===null?cU:uU,t=n(r,i),Mh){o=0;do{if(Mh=!1,mp=0,25<=o)throw Error(ue(301));o+=1,wr=ar=null,e.updateQueue=null,cy.current=dU,t=n(r,i)}while(Mh)}if(cy.current=tv,e=ar!==null&&ar.next!==null,wc=0,wr=ar=Nn=null,ev=!1,e)throw Error(ue(300));return t}function YS(){var t=mp!==0;return mp=0,t}function cs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?Nn.memoizedState=wr=t:wr=wr.next=t,wr}function Eo(){if(ar===null){var t=Nn.alternate;t=t!==null?t.memoizedState:null}else t=ar.next;var e=wr===null?Nn.memoizedState:wr.next;if(e!==null)wr=e,ar=t;else{if(t===null)throw Error(ue(310));ar=t,t={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},wr===null?Nn.memoizedState=wr=t:wr=wr.next=t}return wr}function yp(t,e){return typeof e=="function"?e(t):e}function Kb(t){var e=Eo(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=ar,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((wc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Nn.lanes|=u,xc|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Zo(r,e.memoizedState)||(_i=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Nn.lanes|=o,xc|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qb(t){var e=Eo(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Zo(o,e.memoizedState)||(_i=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function KM(){}function qM(t,e){var n=Nn,r=Eo(),i=e(),o=!Zo(r.memoizedState,i);if(o&&(r.memoizedState=i,_i=!0),r=r.queue,XS(QM.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||wr!==null&&wr.memoizedState.tag&1){if(n.flags|=2048,vp(9,XM.bind(null,n,r,i,e),void 0,null),Sr===null)throw Error(ue(349));wc&30||YM(n,e,i)}return i}function YM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Nn.updateQueue,e===null?(e={lastEffect:null,stores:null},Nn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function XM(t,e,n,r){e.value=n,e.getSnapshot=r,JM(e)&&ZM(t)}function QM(t,e,n){return n(function(){JM(e)&&ZM(t)})}function JM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Zo(t,n)}catch{return!0}}function ZM(t){var e=sa(t,1);e!==null&&Xo(e,t,1,-1)}function IR(t){var e=cs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yp,lastRenderedState:t},e.queue=t,t=t.dispatch=lU.bind(null,Nn,t),[e.memoizedState,t]}function vp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Nn.updateQueue,e===null?(e={lastEffect:null,stores:null},Nn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function eD(){return Eo().memoizedState}function uy(t,e,n,r){var i=cs();Nn.flags|=t,i.memoizedState=vp(1|e,n,void 0,r===void 0?null:r)}function v0(t,e,n,r){var i=Eo();r=r===void 0?null:r;var o=void 0;if(ar!==null){var s=ar.memoizedState;if(o=s.destroy,r!==null&&KS(r,s.deps)){i.memoizedState=vp(e,n,o,r);return}}Nn.flags|=t,i.memoizedState=vp(1|e,n,o,r)}function RR(t,e){return uy(8390656,8,t,e)}function XS(t,e){return v0(2048,8,t,e)}function tD(t,e){return v0(4,2,t,e)}function nD(t,e){return v0(4,4,t,e)}function rD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iD(t,e,n){return n=n!=null?n.concat([t]):null,v0(4,4,rD.bind(null,e,t),n)}function QS(){}function oD(t,e){var n=Eo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&KS(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sD(t,e){var n=Eo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&KS(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function aD(t,e,n){return wc&21?(Zo(n,e)||(n=uM(),Nn.lanes|=n,xc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_i=!0),t.memoizedState=n)}function sU(t,e){var n=tn;tn=n!==0&&4>n?n:4,t(!0);var r=Gb.transition;Gb.transition={};try{t(!1),e()}finally{tn=n,Gb.transition=r}}function lD(){return Eo().memoizedState}function aU(t,e,n){var r=ol(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cD(t))uD(e,n);else if(n=VM(t,e,n,r),n!==null){var i=si();Xo(n,t,r,i),dD(n,e,r)}}function lU(t,e,n){var r=ol(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cD(t))uD(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Zo(a,s)){var l=e.interleaved;l===null?(i.next=i,US(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=VM(t,e,i,r),n!==null&&(i=si(),Xo(n,t,r,i),dD(n,e,r))}}function cD(t){var e=t.alternate;return t===Nn||e!==null&&e===Nn}function uD(t,e){Mh=ev=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,RS(t,n)}}var tv={readContext:xo,useCallback:Lr,useContext:Lr,useEffect:Lr,useImperativeHandle:Lr,useInsertionEffect:Lr,useLayoutEffect:Lr,useMemo:Lr,useReducer:Lr,useRef:Lr,useState:Lr,useDebugValue:Lr,useDeferredValue:Lr,useTransition:Lr,useMutableSource:Lr,useSyncExternalStore:Lr,useId:Lr,unstable_isNewReconciler:!1},cU={readContext:xo,useCallback:function(t,e){return cs().memoizedState=[t,e===void 0?null:e],t},useContext:xo,useEffect:RR,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uy(4194308,4,rD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uy(4194308,4,t,e)},useInsertionEffect:function(t,e){return uy(4,2,t,e)},useMemo:function(t,e){var n=cs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=aU.bind(null,Nn,t),[r.memoizedState,t]},useRef:function(t){var e=cs();return t={current:t},e.memoizedState=t},useState:IR,useDebugValue:QS,useDeferredValue:function(t){return cs().memoizedState=t},useTransition:function(){var t=IR(!1),e=t[0];return t=sU.bind(null,t[1]),cs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Nn,i=cs();if(An){if(n===void 0)throw Error(ue(407));n=n()}else{if(n=e(),Sr===null)throw Error(ue(349));wc&30||YM(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,RR(QM.bind(null,r,o,t),[t]),r.flags|=2048,vp(9,XM.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=cs(),e=Sr.identifierPrefix;if(An){var n=Xs,r=Ys;n=(r&~(1<<32-Yo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=mp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=oU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uU={readContext:xo,useCallback:oD,useContext:xo,useEffect:XS,useImperativeHandle:iD,useInsertionEffect:tD,useLayoutEffect:nD,useMemo:sD,useReducer:Kb,useRef:eD,useState:function(){return Kb(yp)},useDebugValue:QS,useDeferredValue:function(t){var e=Eo();return aD(e,ar.memoizedState,t)},useTransition:function(){var t=Kb(yp)[0],e=Eo().memoizedState;return[t,e]},useMutableSource:KM,useSyncExternalStore:qM,useId:lD,unstable_isNewReconciler:!1},dU={readContext:xo,useCallback:oD,useContext:xo,useEffect:XS,useImperativeHandle:iD,useInsertionEffect:tD,useLayoutEffect:nD,useMemo:sD,useReducer:qb,useRef:eD,useState:function(){return qb(yp)},useDebugValue:QS,useDeferredValue:function(t){var e=Eo();return ar===null?e.memoizedState=t:aD(e,ar.memoizedState,t)},useTransition:function(){var t=qb(yp)[0],e=Eo().memoizedState;return[t,e]},useMutableSource:KM,useSyncExternalStore:qM,useId:lD,unstable_isNewReconciler:!1};function Cd(t,e){try{var n="",r=e;do n+=BV(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Yb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Tx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var fU=typeof WeakMap=="function"?WeakMap:Map;function fD(t,e,n){n=ea(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){rv||(rv=!0,$x=r),Tx(t,e)},n}function hD(t,e,n){n=ea(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Tx(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Tx(t,e),typeof r!="function"&&(il===null?il=new Set([this]):il.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function PR(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new fU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=TU.bind(null,t,e,n),e.then(t,t))}function kR(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function AR(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ea(-1,1),e.tag=2,rl(n,e,1))),n.lanes|=1),t)}var hU=_a.ReactCurrentOwner,_i=!1;function ri(t,e,n,r){e.child=t===null?HM(e,null,n,r):Ed(e,t.child,n,r)}function OR(t,e,n,r,i){n=n.render;var o=e.ref;return cd(e,i),r=qS(t,e,n,r,o,i),n=YS(),t!==null&&!_i?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,aa(t,e,i)):(An&&n&&$S(e),e.flags|=1,ri(t,e,r,i),e.child)}function NR(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!oC(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,pD(t,e,o,r,i)):(t=py(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:up,n(s,r)&&t.ref===e.ref)return aa(t,e,i)}return e.flags|=1,t=sl(o,r),t.ref=e.ref,t.return=e,e.child=t}function pD(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(up(o,r)&&t.ref===e.ref)if(_i=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(_i=!0);else return e.lanes=t.lanes,aa(t,e,i)}return Ix(t,e,n,r,i)}function gD(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pn(nd,ji),ji|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pn(nd,ji),ji|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,pn(nd,ji),ji|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,pn(nd,ji),ji|=r;return ri(t,e,i,n),e.child}function mD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ix(t,e,n,r,i){var o=Si(n)?_c:Kr.current;return o=wd(e,o),cd(e,i),n=qS(t,e,n,r,o,i),r=YS(),t!==null&&!_i?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,aa(t,e,i)):(An&&r&&$S(e),e.flags|=1,ri(t,e,n,i),e.child)}function MR(t,e,n,r,i){if(Si(n)){var o=!0;Ky(e)}else o=!1;if(cd(e,i),e.stateNode===null)dy(t,e),zM(e,n,r),Cx(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=xo(c):(c=Si(n)?_c:Kr.current,c=wd(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&CR(e,s,r,c),Fa=!1;var h=e.memoizedState;s.state=h,Jy(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Ei.current||Fa?(typeof u=="function"&&(Sx(e,n,u,r),l=e.memoizedState),(a=Fa||SR(e,n,a,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,jM(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:jo(e.type,a),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=xo(l):(l=Si(n)?_c:Kr.current,l=wd(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&CR(e,s,r,l),Fa=!1,h=e.memoizedState,s.state=h,Jy(e,r,s,i);var m=e.memoizedState;a!==f||h!==m||Ei.current||Fa?(typeof p=="function"&&(Sx(e,n,p,r),m=e.memoizedState),(c=Fa||SR(e,n,c,r,h,m,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Rx(t,e,n,r,o,i)}function Rx(t,e,n,r,i,o){mD(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&_R(e,n,!1),aa(t,e,o);r=e.stateNode,hU.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ed(e,t.child,null,o),e.child=Ed(e,null,a,o)):ri(t,e,a,o),e.memoizedState=r.state,i&&_R(e,n,!0),e.child}function yD(t){var e=t.stateNode;e.pendingContext?vR(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vR(t,e.context,!1),WS(t,e.containerInfo)}function DR(t,e,n,r,i){return xd(),FS(i),e.flags|=256,ri(t,e,n,r),e.child}var Px={dehydrated:null,treeContext:null,retryLane:0};function kx(t){return{baseLanes:t,cachePool:null,transitions:null}}function vD(t,e,n){var r=e.pendingProps,i=On.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pn(On,i&1),t===null)return xx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=w0(s,r,0,null),t=pc(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=kx(n),e.memoizedState=Px,t):JS(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return pU(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=sl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=sl(a,o):(o=pc(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?kx(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Px,r}return o=t.child,t=o.sibling,r=sl(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function JS(t,e){return e=w0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Em(t,e,n,r){return r!==null&&FS(r),Ed(e,t.child,null,n),t=JS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pU(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Yb(Error(ue(422))),Em(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=w0({mode:"visible",children:r.children},i,0,null),o=pc(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ed(e,t.child,null,s),e.child.memoizedState=kx(s),e.memoizedState=Px,o);if(!(e.mode&1))return Em(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ue(419)),r=Yb(o,r,void 0),Em(t,e,s,r)}if(a=(s&t.childLanes)!==0,_i||a){if(r=Sr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,sa(t,i),Xo(r,t,i,-1))}return iC(),r=Yb(Error(ue(421))),Em(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=IU.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Hi=nl(i.nextSibling),Xi=e,An=!0,zo=null,t!==null&&(po[go++]=Ys,po[go++]=Xs,po[go++]=bc,Ys=t.id,Xs=t.overflow,bc=e),e=JS(e,r.children),e.flags|=4096,e)}function $R(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ex(t.return,e,n)}function Xb(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function _D(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ri(t,e,r.children,n),r=On.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$R(t,n,e);else if(t.tag===19)$R(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pn(On,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Zy(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Xb(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zy(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Xb(e,!0,n,null,o);break;case"together":Xb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function aa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ue(153));if(e.child!==null){for(t=e.child,n=sl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=sl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function gU(t,e,n){switch(e.tag){case 3:yD(e),xd();break;case 5:GM(e);break;case 1:Si(e.type)&&Ky(e);break;case 4:WS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pn(Xy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pn(On,On.current&1),e.flags|=128,null):n&e.child.childLanes?vD(t,e,n):(pn(On,On.current&1),t=aa(t,e,n),t!==null?t.sibling:null);pn(On,On.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _D(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pn(On,On.current),r)break;return null;case 22:case 23:return e.lanes=0,gD(t,e,n)}return aa(t,e,n)}var bD,Ax,wD,xD;bD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ax=function(){};wD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,sc(ys.current);var o=null;switch(n){case"input":i=Zw(t,i),r=Zw(t,r),o=[];break;case"select":i=Dn({},i,{value:void 0}),r=Dn({},r,{value:void 0}),o=[];break;case"textarea":i=nx(t,i),r=nx(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hy)}ix(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(rp.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(rp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&yn("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};xD=function(t,e,n,r){n!==r&&(e.flags|=4)};function Kf(t,e){if(!An)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Fr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function mU(t,e,n){var r=e.pendingProps;switch(LS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fr(e),null;case 1:return Si(e.type)&&Gy(),Fr(e),null;case 3:return r=e.stateNode,Sd(),xn(Ei),xn(Kr),GS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zo!==null&&(Bx(zo),zo=null))),Ax(t,e),Fr(e),null;case 5:HS(e);var i=sc(gp.current);if(n=e.type,t!==null&&e.stateNode!=null)wD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ue(166));return Fr(e),null}if(t=sc(ys.current),wm(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[hs]=e,r[hp]=o,t=(e.mode&1)!==0,n){case"dialog":yn("cancel",r),yn("close",r);break;case"iframe":case"object":case"embed":yn("load",r);break;case"video":case"audio":for(i=0;i<mh.length;i++)yn(mh[i],r);break;case"source":yn("error",r);break;case"img":case"image":case"link":yn("error",r),yn("load",r);break;case"details":yn("toggle",r);break;case"input":HI(r,o),yn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},yn("invalid",r);break;case"textarea":KI(r,o),yn("invalid",r)}ix(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&bm(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&bm(r.textContent,a,t),i=["children",""+a]):rp.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&yn("scroll",r)}switch(n){case"input":fm(r),GI(r,o,!0);break;case"textarea":fm(r),qI(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Hy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=YN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[hs]=e,t[hp]=r,bD(t,e,!1,!1),e.stateNode=t;e:{switch(s=ox(n,r),n){case"dialog":yn("cancel",t),yn("close",t),i=r;break;case"iframe":case"object":case"embed":yn("load",t),i=r;break;case"video":case"audio":for(i=0;i<mh.length;i++)yn(mh[i],t);i=r;break;case"source":yn("error",t),i=r;break;case"img":case"image":case"link":yn("error",t),yn("load",t),i=r;break;case"details":yn("toggle",t),i=r;break;case"input":HI(t,r),i=Zw(t,r),yn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Dn({},r,{value:void 0}),yn("invalid",t);break;case"textarea":KI(t,r),i=nx(t,r),yn("invalid",t);break;default:i=r}ix(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?JN(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XN(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ip(t,l):typeof l=="number"&&ip(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(rp.hasOwnProperty(o)?l!=null&&o==="onScroll"&&yn("scroll",t):l!=null&&xS(t,o,l,s))}switch(n){case"input":fm(t),GI(t,r,!1);break;case"textarea":fm(t),qI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ml(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?od(t,!!r.multiple,o,!1):r.defaultValue!=null&&od(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Hy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Fr(e),null;case 6:if(t&&e.stateNode!=null)xD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ue(166));if(n=sc(gp.current),sc(ys.current),wm(e)){if(r=e.stateNode,n=e.memoizedProps,r[hs]=e,(o=r.nodeValue!==n)&&(t=Xi,t!==null))switch(t.tag){case 3:bm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bm(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hs]=e,e.stateNode=r}return Fr(e),null;case 13:if(xn(On),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(An&&Hi!==null&&e.mode&1&&!(e.flags&128))BM(),xd(),e.flags|=98560,o=!1;else if(o=wm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ue(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ue(317));o[hs]=e}else xd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fr(e),o=!1}else zo!==null&&(Bx(zo),zo=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||On.current&1?ur===0&&(ur=3):iC())),e.updateQueue!==null&&(e.flags|=4),Fr(e),null);case 4:return Sd(),Ax(t,e),t===null&&dp(e.stateNode.containerInfo),Fr(e),null;case 10:return jS(e.type._context),Fr(e),null;case 17:return Si(e.type)&&Gy(),Fr(e),null;case 19:if(xn(On),o=e.memoizedState,o===null)return Fr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Kf(o,!1);else{if(ur!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Zy(t),s!==null){for(e.flags|=128,Kf(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pn(On,On.current&1|2),e.child}t=t.sibling}o.tail!==null&&Kn()>Td&&(e.flags|=128,r=!0,Kf(o,!1),e.lanes=4194304)}else{if(!r)if(t=Zy(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Kf(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!An)return Fr(e),null}else 2*Kn()-o.renderingStartTime>Td&&n!==1073741824&&(e.flags|=128,r=!0,Kf(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Kn(),e.sibling=null,n=On.current,pn(On,r?n&1|2:n&1),e):(Fr(e),null);case 22:case 23:return rC(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ji&1073741824&&(Fr(e),e.subtreeFlags&6&&(e.flags|=8192)):Fr(e),null;case 24:return null;case 25:return null}throw Error(ue(156,e.tag))}function yU(t,e){switch(LS(e),e.tag){case 1:return Si(e.type)&&Gy(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sd(),xn(Ei),xn(Kr),GS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return HS(e),null;case 13:if(xn(On),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));xd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xn(On),null;case 4:return Sd(),null;case 10:return jS(e.type._context),null;case 22:case 23:return rC(),null;case 24:return null;default:return null}}var Sm=!1,Wr=!1,vU=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function td(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fn(t,e,r)}else n.current=null}function Ox(t,e,n){try{n()}catch(r){Fn(t,e,r)}}var LR=!1;function _U(t,e){if(gx=Uy,t=TM(),DS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(mx={focusedElem:t,selectionRange:n},Uy=!1,Oe=e;Oe!==null;)if(e=Oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Oe=t;else for(;Oe!==null;){e=Oe;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var x=m.memoizedProps,S=m.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?x:jo(e.type,x),S);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(C){Fn(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Oe=t;break}Oe=e.return}return m=LR,LR=!1,m}function Dh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ox(e,n,o)}i=i.next}while(i!==r)}}function _0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Nx(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ED(t){var e=t.alternate;e!==null&&(t.alternate=null,ED(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hs],delete e[hp],delete e[_x],delete e[tU],delete e[nU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function SD(t){return t.tag===5||t.tag===3||t.tag===4}function FR(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||SD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hy));else if(r!==4&&(t=t.child,t!==null))for(Mx(t,e,n),t=t.sibling;t!==null;)Mx(t,e,n),t=t.sibling}function Dx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Dx(t,e,n),t=t.sibling;t!==null;)Dx(t,e,n),t=t.sibling}var Pr=null,Uo=!1;function Oa(t,e,n){for(n=n.child;n!==null;)CD(t,e,n),n=n.sibling}function CD(t,e,n){if(ms&&typeof ms.onCommitFiberUnmount=="function")try{ms.onCommitFiberUnmount(d0,n)}catch{}switch(n.tag){case 5:Wr||td(n,e);case 6:var r=Pr,i=Uo;Pr=null,Oa(t,e,n),Pr=r,Uo=i,Pr!==null&&(Uo?(t=Pr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pr.removeChild(n.stateNode));break;case 18:Pr!==null&&(Uo?(t=Pr,n=n.stateNode,t.nodeType===8?zb(t.parentNode,n):t.nodeType===1&&zb(t,n),lp(t)):zb(Pr,n.stateNode));break;case 4:r=Pr,i=Uo,Pr=n.stateNode.containerInfo,Uo=!0,Oa(t,e,n),Pr=r,Uo=i;break;case 0:case 11:case 14:case 15:if(!Wr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Ox(n,e,s),i=i.next}while(i!==r)}Oa(t,e,n);break;case 1:if(!Wr&&(td(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fn(n,e,a)}Oa(t,e,n);break;case 21:Oa(t,e,n);break;case 22:n.mode&1?(Wr=(r=Wr)||n.memoizedState!==null,Oa(t,e,n),Wr=r):Oa(t,e,n);break;default:Oa(t,e,n)}}function BR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new vU),e.forEach(function(r){var i=RU.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Fo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Pr=a.stateNode,Uo=!1;break e;case 3:Pr=a.stateNode.containerInfo,Uo=!0;break e;case 4:Pr=a.stateNode.containerInfo,Uo=!0;break e}a=a.return}if(Pr===null)throw Error(ue(160));CD(o,s,i),Pr=null,Uo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Fn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)TD(e,t),e=e.sibling}function TD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fo(e,t),as(t),r&4){try{Dh(3,t,t.return),_0(3,t)}catch(x){Fn(t,t.return,x)}try{Dh(5,t,t.return)}catch(x){Fn(t,t.return,x)}}break;case 1:Fo(e,t),as(t),r&512&&n!==null&&td(n,n.return);break;case 5:if(Fo(e,t),as(t),r&512&&n!==null&&td(n,n.return),t.flags&32){var i=t.stateNode;try{ip(i,"")}catch(x){Fn(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&KN(i,o),ox(a,s);var c=ox(a,o);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?JN(i,f):u==="dangerouslySetInnerHTML"?XN(i,f):u==="children"?ip(i,f):xS(i,u,f,c)}switch(a){case"input":ex(i,o);break;case"textarea":qN(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?od(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?od(i,!!o.multiple,o.defaultValue,!0):od(i,!!o.multiple,o.multiple?[]:"",!1))}i[hp]=o}catch(x){Fn(t,t.return,x)}}break;case 6:if(Fo(e,t),as(t),r&4){if(t.stateNode===null)throw Error(ue(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(x){Fn(t,t.return,x)}}break;case 3:if(Fo(e,t),as(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lp(e.containerInfo)}catch(x){Fn(t,t.return,x)}break;case 4:Fo(e,t),as(t);break;case 13:Fo(e,t),as(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(tC=Kn())),r&4&&BR(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Wr=(c=Wr)||u,Fo(e,t),Wr=c):Fo(e,t),as(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Oe=t,u=t.child;u!==null;){for(f=Oe=u;Oe!==null;){switch(h=Oe,p=h.child,h.tag){case 0:case 11:case 14:case 15:Dh(4,h,h.return);break;case 1:td(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(x){Fn(r,n,x)}}break;case 5:td(h,h.return);break;case 22:if(h.memoizedState!==null){jR(f);continue}}p!==null?(p.return=h,Oe=p):jR(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=QN("display",s))}catch(x){Fn(t,t.return,x)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){Fn(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Fo(e,t),as(t),r&4&&BR(t);break;case 21:break;default:Fo(e,t),as(t)}}function as(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(SD(n)){var r=n;break e}n=n.return}throw Error(ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ip(i,""),r.flags&=-33);var o=FR(t);Dx(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=FR(t);Mx(t,a,s);break;default:throw Error(ue(161))}}catch(l){Fn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bU(t,e,n){Oe=t,ID(t)}function ID(t,e,n){for(var r=(t.mode&1)!==0;Oe!==null;){var i=Oe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Sm;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Wr;a=Sm;var c=Wr;if(Sm=s,(Wr=l)&&!c)for(Oe=i;Oe!==null;)s=Oe,l=s.child,s.tag===22&&s.memoizedState!==null?UR(i):l!==null?(l.return=s,Oe=l):UR(i);for(;o!==null;)Oe=o,ID(o),o=o.sibling;Oe=i,Sm=a,Wr=c}VR(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Oe=o):VR(t)}}function VR(t){for(;Oe!==null;){var e=Oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wr||_0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:jo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&ER(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ER(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&lp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}Wr||e.flags&512&&Nx(e)}catch(h){Fn(e,e.return,h)}}if(e===t){Oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Oe=n;break}Oe=e.return}}function jR(t){for(;Oe!==null;){var e=Oe;if(e===t){Oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Oe=n;break}Oe=e.return}}function UR(t){for(;Oe!==null;){var e=Oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_0(4,e)}catch(l){Fn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Fn(e,i,l)}}var o=e.return;try{Nx(e)}catch(l){Fn(e,o,l)}break;case 5:var s=e.return;try{Nx(e)}catch(l){Fn(e,s,l)}}}catch(l){Fn(e,e.return,l)}if(e===t){Oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Oe=a;break}Oe=e.return}}var wU=Math.ceil,nv=_a.ReactCurrentDispatcher,ZS=_a.ReactCurrentOwner,_o=_a.ReactCurrentBatchConfig,Ft=0,Sr=null,tr=null,Or=0,ji=0,nd=Nl(0),ur=0,_p=null,xc=0,b0=0,eC=0,$h=null,yi=null,tC=0,Td=1/0,Hs=null,rv=!1,$x=null,il=null,Cm=!1,Qa=null,iv=0,Lh=0,Lx=null,fy=-1,hy=0;function si(){return Ft&6?Kn():fy!==-1?fy:fy=Kn()}function ol(t){return t.mode&1?Ft&2&&Or!==0?Or&-Or:iU.transition!==null?(hy===0&&(hy=uM()),hy):(t=tn,t!==0||(t=window.event,t=t===void 0?16:yM(t.type)),t):1}function Xo(t,e,n,r){if(50<Lh)throw Lh=0,Lx=null,Error(ue(185));Yp(t,n,r),(!(Ft&2)||t!==Sr)&&(t===Sr&&(!(Ft&2)&&(b0|=n),ur===4&&Ua(t,Or)),Ci(t,r),n===1&&Ft===0&&!(e.mode&1)&&(Td=Kn()+500,m0&&Ml()))}function Ci(t,e){var n=t.callbackNode;ij(t,e);var r=jy(t,t===Sr?Or:0);if(r===0)n!==null&&QI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&QI(n),e===1)t.tag===0?rU(zR.bind(null,t)):$M(zR.bind(null,t)),Zj(function(){!(Ft&6)&&Ml()}),n=null;else{switch(dM(r)){case 1:n=IS;break;case 4:n=lM;break;case 16:n=Vy;break;case 536870912:n=cM;break;default:n=Vy}n=DD(n,RD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function RD(t,e){if(fy=-1,hy=0,Ft&6)throw Error(ue(327));var n=t.callbackNode;if(ud()&&t.callbackNode!==n)return null;var r=jy(t,t===Sr?Or:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ov(t,r);else{e=r;var i=Ft;Ft|=2;var o=kD();(Sr!==t||Or!==e)&&(Hs=null,Td=Kn()+500,hc(t,e));do try{SU();break}catch(a){PD(t,a)}while(!0);VS(),nv.current=o,Ft=i,tr!==null?e=0:(Sr=null,Or=0,e=ur)}if(e!==0){if(e===2&&(i=ux(t),i!==0&&(r=i,e=Fx(t,i))),e===1)throw n=_p,hc(t,0),Ua(t,r),Ci(t,Kn()),n;if(e===6)Ua(t,r);else{if(i=t.current.alternate,!(r&30)&&!xU(i)&&(e=ov(t,r),e===2&&(o=ux(t),o!==0&&(r=o,e=Fx(t,o))),e===1))throw n=_p,hc(t,0),Ua(t,r),Ci(t,Kn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ue(345));case 2:Jl(t,yi,Hs);break;case 3:if(Ua(t,r),(r&130023424)===r&&(e=tC+500-Kn(),10<e)){if(jy(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){si(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vx(Jl.bind(null,t,yi,Hs),e);break}Jl(t,yi,Hs);break;case 4:if(Ua(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Yo(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Kn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wU(r/1960))-r,10<r){t.timeoutHandle=vx(Jl.bind(null,t,yi,Hs),r);break}Jl(t,yi,Hs);break;case 5:Jl(t,yi,Hs);break;default:throw Error(ue(329))}}}return Ci(t,Kn()),t.callbackNode===n?RD.bind(null,t):null}function Fx(t,e){var n=$h;return t.current.memoizedState.isDehydrated&&(hc(t,e).flags|=256),t=ov(t,e),t!==2&&(e=yi,yi=n,e!==null&&Bx(e)),t}function Bx(t){yi===null?yi=t:yi.push.apply(yi,t)}function xU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Zo(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ua(t,e){for(e&=~eC,e&=~b0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yo(e),r=1<<n;t[n]=-1,e&=~r}}function zR(t){if(Ft&6)throw Error(ue(327));ud();var e=jy(t,0);if(!(e&1))return Ci(t,Kn()),null;var n=ov(t,e);if(t.tag!==0&&n===2){var r=ux(t);r!==0&&(e=r,n=Fx(t,r))}if(n===1)throw n=_p,hc(t,0),Ua(t,e),Ci(t,Kn()),n;if(n===6)throw Error(ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jl(t,yi,Hs),Ci(t,Kn()),null}function nC(t,e){var n=Ft;Ft|=1;try{return t(e)}finally{Ft=n,Ft===0&&(Td=Kn()+500,m0&&Ml())}}function Ec(t){Qa!==null&&Qa.tag===0&&!(Ft&6)&&ud();var e=Ft;Ft|=1;var n=_o.transition,r=tn;try{if(_o.transition=null,tn=1,t)return t()}finally{tn=r,_o.transition=n,Ft=e,!(Ft&6)&&Ml()}}function rC(){ji=nd.current,xn(nd)}function hc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Jj(n)),tr!==null)for(n=tr.return;n!==null;){var r=n;switch(LS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gy();break;case 3:Sd(),xn(Ei),xn(Kr),GS();break;case 5:HS(r);break;case 4:Sd();break;case 13:xn(On);break;case 19:xn(On);break;case 10:jS(r.type._context);break;case 22:case 23:rC()}n=n.return}if(Sr=t,tr=t=sl(t.current,null),Or=ji=e,ur=0,_p=null,eC=b0=xc=0,yi=$h=null,oc!==null){for(e=0;e<oc.length;e++)if(n=oc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}oc=null}return t}function PD(t,e){do{var n=tr;try{if(VS(),cy.current=tv,ev){for(var r=Nn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ev=!1}if(wc=0,wr=ar=Nn=null,Mh=!1,mp=0,ZS.current=null,n===null||n.return===null){ur=1,_p=e,tr=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Or,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=kR(s);if(p!==null){p.flags&=-257,AR(p,s,a,o,e),p.mode&1&&PR(o,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var x=new Set;x.add(l),e.updateQueue=x}else m.add(l);break e}else{if(!(e&1)){PR(o,c,e),iC();break e}l=Error(ue(426))}}else if(An&&a.mode&1){var S=kR(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),AR(S,s,a,o,e),FS(Cd(l,a));break e}}o=l=Cd(l,a),ur!==4&&(ur=2),$h===null?$h=[o]:$h.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=fD(o,l,e);xR(o,b);break e;case 1:a=l;var w=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(il===null||!il.has(g)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=hD(o,a,e);xR(o,C);break e}}o=o.return}while(o!==null)}OD(n)}catch(N){e=N,tr===n&&n!==null&&(tr=n=n.return);continue}break}while(!0)}function kD(){var t=nv.current;return nv.current=tv,t===null?tv:t}function iC(){(ur===0||ur===3||ur===2)&&(ur=4),Sr===null||!(xc&268435455)&&!(b0&268435455)||Ua(Sr,Or)}function ov(t,e){var n=Ft;Ft|=2;var r=kD();(Sr!==t||Or!==e)&&(Hs=null,hc(t,e));do try{EU();break}catch(i){PD(t,i)}while(!0);if(VS(),Ft=n,nv.current=r,tr!==null)throw Error(ue(261));return Sr=null,Or=0,ur}function EU(){for(;tr!==null;)AD(tr)}function SU(){for(;tr!==null&&!YV();)AD(tr)}function AD(t){var e=MD(t.alternate,t,ji);t.memoizedProps=t.pendingProps,e===null?OD(t):tr=e,ZS.current=null}function OD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=yU(n,e),n!==null){n.flags&=32767,tr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ur=6,tr=null;return}}else if(n=mU(n,e,ji),n!==null){tr=n;return}if(e=e.sibling,e!==null){tr=e;return}tr=e=t}while(e!==null);ur===0&&(ur=5)}function Jl(t,e,n){var r=tn,i=_o.transition;try{_o.transition=null,tn=1,CU(t,e,n,r)}finally{_o.transition=i,tn=r}return null}function CU(t,e,n,r){do ud();while(Qa!==null);if(Ft&6)throw Error(ue(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ue(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(oj(t,o),t===Sr&&(tr=Sr=null,Or=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cm||(Cm=!0,DD(Vy,function(){return ud(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=_o.transition,_o.transition=null;var s=tn;tn=1;var a=Ft;Ft|=4,ZS.current=null,_U(t,n),TD(n,t),Hj(mx),Uy=!!gx,mx=gx=null,t.current=n,bU(n),XV(),Ft=a,tn=s,_o.transition=o}else t.current=n;if(Cm&&(Cm=!1,Qa=t,iv=i),o=t.pendingLanes,o===0&&(il=null),ZV(n.stateNode),Ci(t,Kn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(rv)throw rv=!1,t=$x,$x=null,t;return iv&1&&t.tag!==0&&ud(),o=t.pendingLanes,o&1?t===Lx?Lh++:(Lh=0,Lx=t):Lh=0,Ml(),null}function ud(){if(Qa!==null){var t=dM(iv),e=_o.transition,n=tn;try{if(_o.transition=null,tn=16>t?16:t,Qa===null)var r=!1;else{if(t=Qa,Qa=null,iv=0,Ft&6)throw Error(ue(331));var i=Ft;for(Ft|=4,Oe=t.current;Oe!==null;){var o=Oe,s=o.child;if(Oe.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Oe=c;Oe!==null;){var u=Oe;switch(u.tag){case 0:case 11:case 15:Dh(8,u,o)}var f=u.child;if(f!==null)f.return=u,Oe=f;else for(;Oe!==null;){u=Oe;var h=u.sibling,p=u.return;if(ED(u),u===c){Oe=null;break}if(h!==null){h.return=p,Oe=h;break}Oe=p}}}var m=o.alternate;if(m!==null){var x=m.child;if(x!==null){m.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}Oe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Oe=s;else e:for(;Oe!==null;){if(o=Oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Dh(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,Oe=b;break e}Oe=o.return}}var w=t.current;for(Oe=w;Oe!==null;){s=Oe;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,Oe=g;else e:for(s=w;Oe!==null;){if(a=Oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_0(9,a)}}catch(N){Fn(a,a.return,N)}if(a===s){Oe=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Oe=C;break e}Oe=a.return}}if(Ft=i,Ml(),ms&&typeof ms.onPostCommitFiberRoot=="function")try{ms.onPostCommitFiberRoot(d0,t)}catch{}r=!0}return r}finally{tn=n,_o.transition=e}}return!1}function WR(t,e,n){e=Cd(n,e),e=fD(t,e,1),t=rl(t,e,1),e=si(),t!==null&&(Yp(t,1,e),Ci(t,e))}function Fn(t,e,n){if(t.tag===3)WR(t,t,n);else for(;e!==null;){if(e.tag===3){WR(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(il===null||!il.has(r))){t=Cd(n,t),t=hD(e,t,1),e=rl(e,t,1),t=si(),e!==null&&(Yp(e,1,t),Ci(e,t));break}}e=e.return}}function TU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=si(),t.pingedLanes|=t.suspendedLanes&n,Sr===t&&(Or&n)===n&&(ur===4||ur===3&&(Or&130023424)===Or&&500>Kn()-tC?hc(t,0):eC|=n),Ci(t,e)}function ND(t,e){e===0&&(t.mode&1?(e=gm,gm<<=1,!(gm&130023424)&&(gm=4194304)):e=1);var n=si();t=sa(t,e),t!==null&&(Yp(t,e,n),Ci(t,n))}function IU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ND(t,n)}function RU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ue(314))}r!==null&&r.delete(e),ND(t,n)}var MD;MD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ei.current)_i=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _i=!1,gU(t,e,n);_i=!!(t.flags&131072)}else _i=!1,An&&e.flags&1048576&&LM(e,Yy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;dy(t,e),t=e.pendingProps;var i=wd(e,Kr.current);cd(e,n),i=qS(null,e,r,t,i,n);var o=YS();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Si(r)?(o=!0,Ky(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zS(e),i.updater=y0,e.stateNode=i,i._reactInternals=e,Cx(e,r,t,n),e=Rx(null,e,r,!0,o,n)):(e.tag=0,An&&o&&$S(e),ri(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(dy(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=kU(r),t=jo(r,t),i){case 0:e=Ix(null,e,r,t,n);break e;case 1:e=MR(null,e,r,t,n);break e;case 11:e=OR(null,e,r,t,n);break e;case 14:e=NR(null,e,r,jo(r.type,t),n);break e}throw Error(ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jo(r,i),Ix(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jo(r,i),MR(t,e,r,i,n);case 3:e:{if(yD(e),t===null)throw Error(ue(387));r=e.pendingProps,o=e.memoizedState,i=o.element,jM(t,e),Jy(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Cd(Error(ue(423)),e),e=DR(t,e,r,n,i);break e}else if(r!==i){i=Cd(Error(ue(424)),e),e=DR(t,e,r,n,i);break e}else for(Hi=nl(e.stateNode.containerInfo.firstChild),Xi=e,An=!0,zo=null,n=HM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xd(),r===i){e=aa(t,e,n);break e}ri(t,e,r,n)}e=e.child}return e;case 5:return GM(e),t===null&&xx(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,yx(r,i)?s=null:o!==null&&yx(r,o)&&(e.flags|=32),mD(t,e),ri(t,e,s,n),e.child;case 6:return t===null&&xx(e),null;case 13:return vD(t,e,n);case 4:return WS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ed(e,null,r,n):ri(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jo(r,i),OR(t,e,r,i,n);case 7:return ri(t,e,e.pendingProps,n),e.child;case 8:return ri(t,e,e.pendingProps.children,n),e.child;case 12:return ri(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,pn(Xy,r._currentValue),r._currentValue=s,o!==null)if(Zo(o.value,s)){if(o.children===i.children&&!Ei.current){e=aa(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=ea(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ex(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ue(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ex(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ri(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,cd(e,n),i=xo(i),r=r(i),e.flags|=1,ri(t,e,r,n),e.child;case 14:return r=e.type,i=jo(r,e.pendingProps),i=jo(r.type,i),NR(t,e,r,i,n);case 15:return pD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jo(r,i),dy(t,e),e.tag=1,Si(r)?(t=!0,Ky(e)):t=!1,cd(e,n),zM(e,r,i),Cx(e,r,i,n),Rx(null,e,r,!0,t,n);case 19:return _D(t,e,n);case 22:return gD(t,e,n)}throw Error(ue(156,e.tag))};function DD(t,e){return aM(t,e)}function PU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vo(t,e,n,r){return new PU(t,e,n,r)}function oC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kU(t){if(typeof t=="function")return oC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===SS)return 11;if(t===CS)return 14}return 2}function sl(t,e){var n=t.alternate;return n===null?(n=vo(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function py(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")oC(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Gu:return pc(n.children,i,o,e);case ES:s=8,i|=8;break;case Yw:return t=vo(12,n,e,i|2),t.elementType=Yw,t.lanes=o,t;case Xw:return t=vo(13,n,e,i),t.elementType=Xw,t.lanes=o,t;case Qw:return t=vo(19,n,e,i),t.elementType=Qw,t.lanes=o,t;case WN:return w0(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case UN:s=10;break e;case zN:s=9;break e;case SS:s=11;break e;case CS:s=14;break e;case La:s=16,r=null;break e}throw Error(ue(130,t==null?t:typeof t,""))}return e=vo(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function pc(t,e,n,r){return t=vo(7,t,r,e),t.lanes=n,t}function w0(t,e,n,r){return t=vo(22,t,r,e),t.elementType=WN,t.lanes=n,t.stateNode={isHidden:!1},t}function Qb(t,e,n){return t=vo(6,t,null,e),t.lanes=n,t}function Jb(t,e,n){return e=vo(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function AU(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ob(0),this.expirationTimes=Ob(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ob(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sC(t,e,n,r,i,o,s,a,l){return t=new AU(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=vo(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zS(o),t}function OU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $D(t){if(!t)return yl;t=t._reactInternals;e:{if(Lc(t)!==t||t.tag!==1)throw Error(ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Si(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ue(171))}if(t.tag===1){var n=t.type;if(Si(n))return DM(t,n,e)}return e}function LD(t,e,n,r,i,o,s,a,l){return t=sC(n,r,!0,t,i,o,s,a,l),t.context=$D(null),n=t.current,r=si(),i=ol(n),o=ea(r,i),o.callback=e??null,rl(n,o,i),t.current.lanes=i,Yp(t,i,r),Ci(t,r),t}function x0(t,e,n,r){var i=e.current,o=si(),s=ol(i);return n=$D(n),e.context===null?e.context=n:e.pendingContext=n,e=ea(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=rl(i,e,s),t!==null&&(Xo(t,i,s,o),ly(t,i,s)),s}function sv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function HR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function aC(t,e){HR(t,e),(t=t.alternate)&&HR(t,e)}function NU(){return null}var FD=typeof reportError=="function"?reportError:function(t){console.error(t)};function lC(t){this._internalRoot=t}E0.prototype.render=lC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ue(409));x0(t,e,null,null)};E0.prototype.unmount=lC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ec(function(){x0(null,t,null,null)}),e[oa]=null}};function E0(t){this._internalRoot=t}E0.prototype.unstable_scheduleHydration=function(t){if(t){var e=pM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ja.length&&e!==0&&e<ja[n].priority;n++);ja.splice(n,0,t),n===0&&mM(t)}};function cC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function S0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function GR(){}function MU(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=sv(s);o.call(c)}}var s=LD(e,r,t,0,null,!1,!1,"",GR);return t._reactRootContainer=s,t[oa]=s.current,dp(t.nodeType===8?t.parentNode:t),Ec(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=sv(l);a.call(c)}}var l=sC(t,0,!1,null,null,!1,!1,"",GR);return t._reactRootContainer=l,t[oa]=l.current,dp(t.nodeType===8?t.parentNode:t),Ec(function(){x0(e,l,n,r)}),l}function C0(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=sv(s);a.call(l)}}x0(e,s,t,i)}else s=MU(n,e,t,i,r);return sv(s)}fM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gh(e.pendingLanes);n!==0&&(RS(e,n|1),Ci(e,Kn()),!(Ft&6)&&(Td=Kn()+500,Ml()))}break;case 13:Ec(function(){var r=sa(t,1);if(r!==null){var i=si();Xo(r,t,1,i)}}),aC(t,1)}};PS=function(t){if(t.tag===13){var e=sa(t,134217728);if(e!==null){var n=si();Xo(e,t,134217728,n)}aC(t,134217728)}};hM=function(t){if(t.tag===13){var e=ol(t),n=sa(t,e);if(n!==null){var r=si();Xo(n,t,e,r)}aC(t,e)}};pM=function(){return tn};gM=function(t,e){var n=tn;try{return tn=t,e()}finally{tn=n}};ax=function(t,e,n){switch(e){case"input":if(ex(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=g0(r);if(!i)throw Error(ue(90));GN(r),ex(r,i)}}}break;case"textarea":qN(t,n);break;case"select":e=n.value,e!=null&&od(t,!!n.multiple,e,!1)}};tM=nC;nM=Ec;var DU={usingClientEntryPoint:!1,Events:[Qp,Xu,g0,ZN,eM,nC]},qf={findFiberByHostInstance:ic,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},$U={bundleType:qf.bundleType,version:qf.version,rendererPackageName:qf.rendererPackageName,rendererConfig:qf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_a.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oM(t),t===null?null:t.stateNode},findFiberByHostInstance:qf.findFiberByHostInstance||NU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tm.isDisabled&&Tm.supportsFiber)try{d0=Tm.inject($U),ms=Tm}catch{}}ro.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DU;ro.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cC(e))throw Error(ue(200));return OU(t,e,null,n)};ro.createRoot=function(t,e){if(!cC(t))throw Error(ue(299));var n=!1,r="",i=FD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=sC(t,1,!1,null,null,n,!1,r,i),t[oa]=e.current,dp(t.nodeType===8?t.parentNode:t),new lC(e)};ro.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ue(188)):(t=Object.keys(t).join(","),Error(ue(268,t)));return t=oM(e),t=t===null?null:t.stateNode,t};ro.flushSync=function(t){return Ec(t)};ro.hydrate=function(t,e,n){if(!S0(e))throw Error(ue(200));return C0(null,t,e,!0,n)};ro.hydrateRoot=function(t,e,n){if(!cC(t))throw Error(ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=FD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=LD(e,null,t,1,n??null,i,!1,o,s),t[oa]=e.current,dp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new E0(e)};ro.render=function(t,e,n){if(!S0(e))throw Error(ue(200));return C0(null,t,e,!1,n)};ro.unmountComponentAtNode=function(t){if(!S0(t))throw Error(ue(40));return t._reactRootContainer?(Ec(function(){C0(null,null,t,!1,function(){t._reactRootContainer=null,t[oa]=null})}),!0):!1};ro.unstable_batchedUpdates=nC;ro.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!S0(n))throw Error(ue(200));if(t==null||t._reactInternals===void 0)throw Error(ue(38));return C0(t,e,n,!1,r)};ro.version="18.2.0-next-9e3b772b8-20220608";function BD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BD)}catch(t){console.error(t)}}BD(),LN.exports=ro;var Zp=LN.exports;const Im=Kp(Zp);var KR=Zp;Kw.createRoot=KR.createRoot,Kw.hydrateRoot=KR.hydrateRoot;var uC={};Object.defineProperty(uC,"__esModule",{value:!0});uC.parse=zU;uC.serialize=WU;const LU=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,FU=/^[\u0021-\u003A\u003C-\u007E]*$/,BU=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,VU=/^[\u0020-\u003A\u003D-\u007E]*$/,jU=Object.prototype.toString,UU=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function zU(t,e){const n=new UU,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||HU;let o=0;do{const s=t.indexOf("=",o);if(s===-1)break;const a=t.indexOf(";",o),l=a===-1?r:a;if(s>l){o=t.lastIndexOf(";",s-1)+1;continue}const c=qR(t,o,s),u=YR(t,s,c),f=t.slice(c,u);if(n[f]===void 0){let h=qR(t,s+1,l),p=YR(t,l,h);const m=i(t.slice(h,p));n[f]=m}o=l+1}while(o<r);return n}function qR(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function YR(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function WU(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!LU.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!FU.test(i))throw new TypeError(`argument val is invalid: ${e}`);let o=t+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!BU.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!VU.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!GU(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function HU(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function GU(t){return jU.call(t)==="[object Date]"}/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var XR="popstate";function KU(t={}){function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Vx("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:bp(i)}return YU(e,n,null,t)}function Mn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ss(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qU(){return Math.random().toString(36).substring(2,10)}function QR(t,e){return{usr:t.state,key:t.key,idx:e}}function Vx(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Yd(e):e,state:n,key:e&&e.key||r||qU()}}function bp({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function YU(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,c=u();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function u(){return(s.state||{idx:null}).idx}function f(){a="POP";let S=u(),b=S==null?null:S-c;c=S,l&&l({action:a,location:x.location,delta:b})}function h(S,b){a="PUSH";let w=Vx(x.location,S,b);c=u()+1;let g=QR(w,c),C=x.createHref(w);try{s.pushState(g,"",C)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(C)}o&&l&&l({action:a,location:x.location,delta:1})}function p(S,b){a="REPLACE";let w=Vx(x.location,S,b);c=u();let g=QR(w,c),C=x.createHref(w);s.replaceState(g,"",C),o&&l&&l({action:a,location:x.location,delta:0})}function m(S){let b=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof S=="string"?S:bp(S);return w=w.replace(/ $/,"%20"),Mn(b,`No window.location.(origin|href) available to create URL for href: ${w}`),new URL(w,b)}let x={get action(){return a},get location(){return t(i,s)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(XR,f),l=S,()=>{i.removeEventListener(XR,f),l=null}},createHref(S){return e(i,S)},createURL:m,encodeLocation(S){let b=m(S);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(S){return s.go(S)}};return x}function VD(t,e,n="/"){return XU(t,e,n,!1)}function XU(t,e,n,r){let i=typeof e=="string"?Yd(e):e,o=la(i.pathname||"/",n);if(o==null)return null;let s=jD(t);QU(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=l6(o);a=s6(s[l],c,r)}return a}function jD(t,e=[],n=[],r=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Mn(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=ta([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(Mn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),jD(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:i6(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of UD(o.path))i(o,s,l)}),e}function UD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=UD(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function QU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:o6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var JU=/^:[\w-]+$/,ZU=3,e6=2,t6=1,n6=10,r6=-2,JR=t=>t==="*";function i6(t,e){let n=t.split("/"),r=n.length;return n.some(JR)&&(r+=r6),e&&(r+=e6),n.filter(i=>!JR(i)).reduce((i,o)=>i+(JU.test(o)?ZU:o===""?t6:n6),r)}function o6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function s6(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",f=av({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=av({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:ta([o,f.pathname]),pathnameBase:f6(ta([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=ta([o,f.pathnameBase]))}return s}function av(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=a6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:f},h)=>{if(u==="*"){let m=a[h]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[h];return f&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function a6(t,e=!1,n=!0){Ss(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function l6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ss(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function la(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function c6(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Yd(t):t;return{pathname:n?n.startsWith("/")?n:u6(n,e):e,search:h6(r),hash:p6(i)}}function u6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Zb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function d6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zD(t){let e=d6(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function WD(t,e,n,r=!1){let i;typeof t=="string"?i=Yd(t):(i={...t},Mn(!i.pathname||!i.pathname.includes("?"),Zb("?","pathname","search",i)),Mn(!i.pathname||!i.pathname.includes("#"),Zb("#","pathname","hash",i)),Mn(!i.search||!i.search.includes("#"),Zb("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=c6(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var ta=t=>t.join("/").replace(/\/\/+/g,"/"),f6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),h6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,p6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function g6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var HD=["POST","PUT","PATCH","DELETE"];new Set(HD);var m6=["GET",...HD];new Set(m6);var Xd=v.createContext(null);Xd.displayName="DataRouter";var T0=v.createContext(null);T0.displayName="DataRouterState";var GD=v.createContext({isTransitioning:!1});GD.displayName="ViewTransition";var y6=v.createContext(new Map);y6.displayName="Fetchers";var v6=v.createContext(null);v6.displayName="Await";var Rs=v.createContext(null);Rs.displayName="Navigation";var eg=v.createContext(null);eg.displayName="Location";var Ps=v.createContext({outlet:null,matches:[],isDataRoute:!1});Ps.displayName="Route";var dC=v.createContext(null);dC.displayName="RouteError";function _6(t,{relative:e}={}){Mn(tg(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext(Rs),{hash:i,pathname:o,search:s}=ng(t,{relative:e}),a=o;return n!=="/"&&(a=o==="/"?n:ta([n,o])),r.createHref({pathname:a,search:s,hash:i})}function tg(){return v.useContext(eg)!=null}function Fc(){return Mn(tg(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(eg).location}var KD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qD(t){v.useContext(Rs).static||v.useLayoutEffect(t)}function I0(){let{isDataRoute:t}=v.useContext(Ps);return t?N6():b6()}function b6(){Mn(tg(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext(Xd),{basename:e,navigator:n}=v.useContext(Rs),{matches:r}=v.useContext(Ps),{pathname:i}=Fc(),o=JSON.stringify(zD(r)),s=v.useRef(!1);return qD(()=>{s.current=!0}),v.useCallback((l,c={})=>{if(Ss(s.current,KD),!s.current)return;if(typeof l=="number"){n.go(l);return}let u=WD(l,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:ta([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,o,i,t])}v.createContext(null);function w6(){let{matches:t}=v.useContext(Ps),e=t[t.length-1];return e?e.params:{}}function ng(t,{relative:e}={}){let{matches:n}=v.useContext(Ps),{pathname:r}=Fc(),i=JSON.stringify(zD(n));return v.useMemo(()=>WD(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function x6(t,e){return YD(t,e)}function YD(t,e,n,r){var w;Mn(tg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=v.useContext(Rs),{matches:s}=v.useContext(Ps),a=s[s.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",f=a&&a.route;{let g=f&&f.path||"";XD(c,!f||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let h=Fc(),p;if(e){let g=typeof e=="string"?Yd(e):e;Mn(u==="/"||((w=g.pathname)==null?void 0:w.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${g.pathname}" was given in the \`location\` prop.`),p=g}else p=h;let m=p.pathname||"/",x=m;if(u!=="/"){let g=u.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let S=!o&&n&&n.matches&&n.matches.length>0?n.matches:VD(t,{pathname:x});Ss(f||S!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Ss(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=I6(S&&S.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:ta([u,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:ta([u,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,n,r);return e&&b?v.createElement(eg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},b):b}function E6(){let t=O6(),e=g6(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:o},"ErrorBoundary")," or"," ",v.createElement("code",{style:o},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,s)}var S6=v.createElement(E6,null),C6=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?v.createElement(Ps.Provider,{value:this.props.routeContext},v.createElement(dC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function T6({routeContext:t,match:e,children:n}){let r=v.useContext(Xd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),v.createElement(Ps.Provider,{value:t},n)}function I6(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let l=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);Mn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:f}=n,h=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||h){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let f,h=!1,p=null,m=null;n&&(f=o&&c.route.id?o[c.route.id]:void 0,p=c.route.errorElement||S6,s&&(a<0&&u===0?(XD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,m=null):a===u&&(h=!0,m=c.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,u+1)),S=()=>{let b;return f?b=p:h?b=m:c.route.Component?b=v.createElement(c.route.Component,null):c.route.element?b=c.route.element:b=l,v.createElement(T6,{match:c,routeContext:{outlet:l,matches:x,isDataRoute:n!=null},children:b})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?v.createElement(C6,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:S(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):S()},null)}function fC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R6(t){let e=v.useContext(Xd);return Mn(e,fC(t)),e}function P6(t){let e=v.useContext(T0);return Mn(e,fC(t)),e}function k6(t){let e=v.useContext(Ps);return Mn(e,fC(t)),e}function hC(t){let e=k6(t),n=e.matches[e.matches.length-1];return Mn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function A6(){return hC("useRouteId")}function O6(){var r;let t=v.useContext(dC),e=P6("useRouteError"),n=hC("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function N6(){let{router:t}=R6("useNavigate"),e=hC("useNavigate"),n=v.useRef(!1);return qD(()=>{n.current=!0}),v.useCallback(async(i,o={})=>{Ss(n.current,KD),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var ZR={};function XD(t,e,n){!e&&!ZR[t]&&(ZR[t]=!0,Ss(!1,n))}v.memo(M6);function M6({routes:t,future:e,state:n}){return YD(t,void 0,n,e)}function gy(t){Mn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function D6({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Mn(!tg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),a=v.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=Yd(n));let{pathname:l="/",search:c="",hash:u="",state:f=null,key:h="default"}=n,p=v.useMemo(()=>{let m=la(l,s);return m==null?null:{location:{pathname:m,search:c,hash:u,state:f,key:h},navigationType:r}},[s,l,c,u,f,h,r]);return Ss(p!=null,`<Router basename="${s}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:v.createElement(Rs.Provider,{value:a},v.createElement(eg.Provider,{children:e,value:p}))}function $6({children:t,location:e}){return x6(jx(t),e)}function jx(t,e=[]){let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let o=[...e,i];if(r.type===v.Fragment){n.push.apply(n,jx(r.props.children,o));return}Mn(r.type===gy,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=jx(r.props.children,o)),n.push(s)}),n}var my="get",yy="application/x-www-form-urlencoded";function R0(t){return t!=null&&typeof t.tagName=="string"}function L6(t){return R0(t)&&t.tagName.toLowerCase()==="button"}function F6(t){return R0(t)&&t.tagName.toLowerCase()==="form"}function B6(t){return R0(t)&&t.tagName.toLowerCase()==="input"}function V6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function j6(t,e){return t.button===0&&(!e||e==="_self")&&!V6(t)}var Rm=null;function U6(){if(Rm===null)try{new FormData(document.createElement("form"),0),Rm=!1}catch{Rm=!0}return Rm}var z6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ew(t){return t!=null&&!z6.has(t)?(Ss(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yy}"`),null):t}function W6(t,e){let n,r,i,o,s;if(F6(t)){let a=t.getAttribute("action");r=a?la(a,e):null,n=t.getAttribute("method")||my,i=ew(t.getAttribute("enctype"))||yy,o=new FormData(t)}else if(L6(t)||B6(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?la(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||my,i=ew(t.getAttribute("formenctype"))||ew(a.getAttribute("enctype"))||yy,o=new FormData(a,t),!U6()){let{name:c,type:u,value:f}=t;if(u==="image"){let h=c?`${c}.`:"";o.append(`${h}x`,"0"),o.append(`${h}y`,"0")}else c&&o.append(c,f)}}else{if(R0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=my,r=null,i=yy,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function pC(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function H6(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function G6(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function K6(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await H6(o,n);return s.links?s.links():[]}return[]}));return Q6(r.flat(1).filter(G6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function eP(t,e,n,r,i,o){let s=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return o==="assets"?e.filter((l,c)=>s(l,c)||a(l,c)):o==="data"?e.filter((l,c)=>{var f;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(s(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function q6(t,e,{includeHydrateFallback:n}={}){return Y6(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function Y6(t){return[...new Set(t)]}function X6(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Q6(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(X6(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function J6(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&la(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function QD(){let t=v.useContext(Xd);return pC(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Z6(){let t=v.useContext(T0);return pC(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var gC=v.createContext(void 0);gC.displayName="FrameworkContext";function JD(){let t=v.useContext(gC);return pC(t,"You must render this element inside a <HydratedRouter> element"),t}function ez(t,e){let n=v.useContext(gC),[r,i]=v.useState(!1),[o,s]=v.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=e,h=v.useRef(null);v.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let x=b=>{b.forEach(w=>{s(w.isIntersecting)})},S=new IntersectionObserver(x,{threshold:.5});return h.current&&S.observe(h.current),()=>{S.disconnect()}}},[t]),v.useEffect(()=>{if(r){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,h,{}]:[o,h,{onFocus:Yf(a,p),onBlur:Yf(l,m),onMouseEnter:Yf(c,p),onMouseLeave:Yf(u,m),onTouchStart:Yf(f,p)}]:[!1,h,{}]}function Yf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function tz({page:t,...e}){let{router:n}=QD(),r=v.useMemo(()=>VD(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?v.createElement(rz,{page:t,matches:r,...e}):null}function nz(t){let{manifest:e,routeModules:n}=JD(),[r,i]=v.useState([]);return v.useEffect(()=>{let o=!1;return K6(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function rz({page:t,matches:e,...n}){let r=Fc(),{manifest:i,routeModules:o}=JD(),{basename:s}=QD(),{loaderData:a,matches:l}=Z6(),c=v.useMemo(()=>eP(t,e,l,i,r,"data"),[t,e,l,i,r]),u=v.useMemo(()=>eP(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=v.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let m=new Set,x=!1;if(e.forEach(b=>{var g;let w=i.routes[b.route.id];!w||!w.hasLoader||(!c.some(C=>C.route.id===b.route.id)&&b.route.id in a&&((g=o[b.route.id])!=null&&g.shouldRevalidate)||w.hasClientLoader?x=!0:m.add(b.route.id))}),m.size===0)return[];let S=J6(t,s);return x&&m.size>0&&S.searchParams.set("_routes",e.filter(b=>m.has(b.route.id)).map(b=>b.route.id).join(",")),[S.pathname+S.search]},[s,a,r,i,c,e,t,o]),h=v.useMemo(()=>q6(u,i),[u,i]),p=nz(u);return v.createElement(v.Fragment,null,f.map(m=>v.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),h.map(m=>v.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),p.map(({key:m,link:x})=>v.createElement("link",{key:m,...x})))}function iz(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ZD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZD&&(window.__reactRouterVersion="7.4.1")}catch{}function oz({basename:t,children:e,window:n}){let r=v.useRef();r.current==null&&(r.current=KU({window:n,v5Compat:!0}));let i=r.current,[o,s]=v.useState({action:i.action,location:i.location}),a=v.useCallback(l=>{v.startTransition(()=>s(l))},[s]);return v.useLayoutEffect(()=>i.listen(a),[i,a]),v.createElement(D6,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var e$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,t$=v.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f,...h},p){let{basename:m}=v.useContext(Rs),x=typeof c=="string"&&e$.test(c),S,b=!1;if(typeof c=="string"&&x&&(S=c,ZD))try{let k=new URL(window.location.href),_=c.startsWith("//")?new URL(k.protocol+c):new URL(c),O=la(_.pathname,m);_.origin===k.origin&&O!=null?c=O+_.search+_.hash:b=!0}catch{Ss(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=_6(c,{relative:i}),[g,C,N]=ez(r,h),M=cz(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:f});function E(k){e&&e(k),k.defaultPrevented||M(k)}let I=v.createElement("a",{...h,...N,href:S||w,onClick:b||o?e:E,ref:iz(p,C),target:l,"data-discover":!x&&n==="render"?"true":void 0});return g&&!x?v.createElement(v.Fragment,null,I,v.createElement(tz,{page:w})):I});t$.displayName="Link";var sz=v.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...c},u){let f=ng(s,{relative:c.relative}),h=Fc(),p=v.useContext(T0),{navigator:m,basename:x}=v.useContext(Rs),S=p!=null&&pz(f)&&a===!0,b=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,w=h.pathname,g=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(w=w.toLowerCase(),g=g?g.toLowerCase():null,b=b.toLowerCase()),g&&x&&(g=la(g,x)||g);const C=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let N=w===b||!i&&w.startsWith(b)&&w.charAt(C)==="/",M=g!=null&&(g===b||!i&&g.startsWith(b)&&g.charAt(b.length)==="/"),E={isActive:N,isPending:M,isTransitioning:S},I=N?e:void 0,k;typeof r=="function"?k=r(E):k=[r,N?"active":null,M?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let _=typeof o=="function"?o(E):o;return v.createElement(t$,{...c,"aria-current":I,className:k,ref:u,style:_,to:s,viewTransition:a},typeof l=="function"?l(E):l)});sz.displayName="NavLink";var az=v.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=my,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:f,...h},p)=>{let m=fz(),x=hz(a,{relative:c}),S=s.toLowerCase()==="get"?"get":"post",b=typeof a=="string"&&e$.test(a),w=g=>{if(l&&l(g),g.defaultPrevented)return;g.preventDefault();let C=g.nativeEvent.submitter,N=(C==null?void 0:C.getAttribute("formmethod"))||s;m(C||g.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:i,state:o,relative:c,preventScrollReset:u,viewTransition:f})};return v.createElement("form",{ref:p,method:S,action:x,onSubmit:r?l:w,...h,"data-discover":!b&&t==="render"?"true":void 0})});az.displayName="Form";function lz(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n$(t){let e=v.useContext(Xd);return Mn(e,lz(t)),e}function cz(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=I0(),l=Fc(),c=ng(t,{relative:o});return v.useCallback(u=>{if(j6(u,e)){u.preventDefault();let f=n!==void 0?n:bp(l)===bp(c);a(t,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,c,n,r,e,t,i,o,s])}var uz=0,dz=()=>`__${String(++uz)}__`;function fz(){let{router:t}=n$("useSubmit"),{basename:e}=v.useContext(Rs),n=A6();return v.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:c}=W6(r,e);if(i.navigate===!1){let u=i.fetcherKey||dz();await t.fetch(u,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function hz(t,{relative:e}={}){let{basename:n}=v.useContext(Rs),r=v.useContext(Ps);Mn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...ng(t||".",{relative:e})},s=Fc();if(t==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let u=a.toString();o.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ta([n,o.pathname])),bp(o)}function pz(t,e={}){let n=v.useContext(GD);Mn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=n$("useViewTransitionState"),i=ng(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=la(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=la(n.nextLocation.pathname,r)||n.nextLocation.pathname;return av(i.pathname,s)!=null||av(i.pathname,o)!=null}new TextEncoder;const gz=()=>{};var tP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r$={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me=function(t,e){if(!t)throw Qd(e)},Qd=function(t){return new Error("Firebase Database ("+r$.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mz=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},mC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new yz;const h=o<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),f!==64){const m=c<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o$=function(t){const e=i$(t);return mC.encodeByteArray(e,!0)},lv=function(t){return o$(t).replace(/\./g,"")},cv=function(t){try{return mC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vz(t){return s$(void 0,t)}function s$(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!_z(n)||(t[n]=s$(t[n],e[n]));return t}function _z(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wz=()=>bz().__FIREBASE_DEFAULTS__,xz=()=>{if(typeof process>"u"||typeof tP>"u")return;const t=tP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ez=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cv(t[1]);return e&&JSON.parse(e)},P0=()=>{try{return gz()||wz()||xz()||Ez()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},a$=t=>{var e,n;return(n=(e=P0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yC=t=>{const e=a$(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},l$=()=>{var t;return(t=P0())===null||t===void 0?void 0:t.config},c$=t=>{var e;return(e=P0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[lv(JSON.stringify(n)),lv(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _C(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qr())}function Sz(){var t;const e=(t=P0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Cz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Tz(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function u$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Iz(){const t=qr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Rz(){return r$.NODE_ADMIN===!0}function Pz(){return!Sz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kz(){try{return typeof indexedDB=="object"}catch{return!1}}function Az(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz="FirebaseError";class ks extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Oz,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rg.prototype.create)}}class rg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Nz(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ks(i,a,r)}}function Nz(t,e){return t.replace(Mz,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Mz=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t){return JSON.parse(t)}function lr(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=wp(cv(o[0])||""),n=wp(cv(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Dz=function(t){const e=d$(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},$z=function(t){const e=d$(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Id(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Ux(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uv(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ca(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(nP(o)&&nP(s)){if(!ca(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function nP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function vh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let f=0;f<80;f++){f<40?f<20?(c=a^o&(s^a),u=1518500249):(c=o^s^a,u=1859775393):f<60?(c=o&s|a&(o|s),u=2400959708):(c=o^s^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[f]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function Fz(t,e){const n=new Bz(t,e);return n.subscribe.bind(n)}class Bz{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Vz(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=tw),i.error===void 0&&(i.error=tw),i.complete===void 0&&(i.complete=tw);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vz(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tw(){}function bC(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,me(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},A0=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t){return t&&t._delegate?t._delegate:t}class ua{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new k0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Wz(e))try{this.getOrInitializeService({instanceIdentifier:Zl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Zl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zl){return this.instances.has(e)}getOptions(e=Zl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zz(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zl){return this.component?this.component.multipleInstances?e:Zl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zz(t){return t===Zl?void 0:t}function Wz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Uz(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(It||(It={}));const Gz={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},Kz=It.INFO,qz={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},Yz=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qz[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class O0{constructor(e){this.name=e,this._logLevel=Kz,this._logHandler=Yz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in It))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Gz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...e),this._logHandler(this,It.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...e),this._logHandler(this,It.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,It.INFO,...e),this._logHandler(this,It.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,It.WARN,...e),this._logHandler(this,It.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...e),this._logHandler(this,It.ERROR,...e)}}const Xz=(t,e)=>e.some(n=>t instanceof n);let rP,iP;function Qz(){return rP||(rP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Jz(){return iP||(iP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f$=new WeakMap,zx=new WeakMap,h$=new WeakMap,nw=new WeakMap,wC=new WeakMap;function Zz(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(al(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&f$.set(n,t)}).catch(()=>{}),wC.set(e,t),e}function e9(t){if(zx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});zx.set(t,e)}let Wx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||h$.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return al(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function t9(t){Wx=t(Wx)}function n9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(rw(this),e,...n);return h$.set(r,e.sort?e.sort():[e]),al(r)}:Jz().includes(t)?function(...e){return t.apply(rw(this),e),al(f$.get(this))}:function(...e){return al(t.apply(rw(this),e))}}function r9(t){return typeof t=="function"?n9(t):(t instanceof IDBTransaction&&e9(t),Xz(t,Qz())?new Proxy(t,Wx):t)}function al(t){if(t instanceof IDBRequest)return Zz(t);if(nw.has(t))return nw.get(t);const e=r9(t);return e!==t&&(nw.set(t,e),wC.set(e,t)),e}const rw=t=>wC.get(t);function i9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=al(s);return r&&s.addEventListener("upgradeneeded",l=>{r(al(s.result),l.oldVersion,l.newVersion,al(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const o9=["get","getKey","getAll","getAllKeys","count"],s9=["put","add","delete","clear"],iw=new Map;function oP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(iw.get(e))return iw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=s9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||o9.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return iw.set(e,o),o}t9(t=>({...t,get:(e,n,r)=>oP(e,n)||t.get(e,n,r),has:(e,n)=>!!oP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(l9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function l9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hx="@firebase/app",sP="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new O0("@firebase/app"),c9="@firebase/app-compat",u9="@firebase/analytics-compat",d9="@firebase/analytics",f9="@firebase/app-check-compat",h9="@firebase/app-check",p9="@firebase/auth",g9="@firebase/auth-compat",m9="@firebase/database",y9="@firebase/data-connect",v9="@firebase/database-compat",_9="@firebase/functions",b9="@firebase/functions-compat",w9="@firebase/installations",x9="@firebase/installations-compat",E9="@firebase/messaging",S9="@firebase/messaging-compat",C9="@firebase/performance",T9="@firebase/performance-compat",I9="@firebase/remote-config",R9="@firebase/remote-config-compat",P9="@firebase/storage",k9="@firebase/storage-compat",A9="@firebase/firestore",O9="@firebase/vertexai",N9="@firebase/firestore-compat",M9="firebase",D9="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="[DEFAULT]",$9={[Hx]:"fire-core",[c9]:"fire-core-compat",[d9]:"fire-analytics",[u9]:"fire-analytics-compat",[h9]:"fire-app-check",[f9]:"fire-app-check-compat",[p9]:"fire-auth",[g9]:"fire-auth-compat",[m9]:"fire-rtdb",[y9]:"fire-data-connect",[v9]:"fire-rtdb-compat",[_9]:"fire-fn",[b9]:"fire-fn-compat",[w9]:"fire-iid",[x9]:"fire-iid-compat",[E9]:"fire-fcm",[S9]:"fire-fcm-compat",[C9]:"fire-perf",[T9]:"fire-perf-compat",[I9]:"fire-rc",[R9]:"fire-rc-compat",[P9]:"fire-gcs",[k9]:"fire-gcs-compat",[A9]:"fire-fst",[N9]:"fire-fst-compat",[O9]:"fire-vertex","fire-js":"fire-js",[M9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=new Map,L9=new Map,Kx=new Map;function aP(t,e){try{t.container.addComponent(e)}catch(n){da.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vl(t){const e=t.name;if(Kx.has(e))return da.debug(`There were multiple attempts to register component ${e}.`),!1;Kx.set(e,t);for(const n of dv.values())aP(n,t);for(const n of L9.values())aP(n,t);return!0}function ig(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ii(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ll=new rg("app","Firebase",F9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ll.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=D9;function p$(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Gx,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ll.create("bad-app-name",{appName:String(i)});if(n||(n=l$()),!n)throw ll.create("no-options");const o=dv.get(i);if(o){if(ca(n,o.options)&&ca(r,o.config))return o;throw ll.create("duplicate-app",{appName:i})}const s=new Hz(i);for(const l of Kx.values())s.addComponent(l);const a=new B9(n,r,s);return dv.set(i,a),a}function N0(t=Gx){const e=dv.get(t);if(!e&&t===Gx&&l$())return p$();if(!e)throw ll.create("no-app",{appName:t});return e}function bo(t,e,n){var r;let i=(r=$9[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),da.warn(a.join(" "));return}vl(new ua(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9="firebase-heartbeat-database",j9=1,xp="firebase-heartbeat-store";let ow=null;function g$(){return ow||(ow=i9(V9,j9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xp)}catch(n){console.warn(n)}}}}).catch(t=>{throw ll.create("idb-open",{originalErrorMessage:t.message})})),ow}async function U9(t){try{const n=(await g$()).transaction(xp),r=await n.objectStore(xp).get(m$(t));return await n.done,r}catch(e){if(e instanceof ks)da.warn(e.message);else{const n=ll.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});da.warn(n.message)}}}async function lP(t,e){try{const r=(await g$()).transaction(xp,"readwrite");await r.objectStore(xp).put(e,m$(t)),await r.done}catch(n){if(n instanceof ks)da.warn(n.message);else{const r=ll.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});da.warn(r.message)}}}function m$(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=1024,W9=30;class H9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new K9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=cP();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>W9){const s=q9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){da.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cP(),{heartbeatsToSend:r,unsentEntries:i}=G9(this._heartbeatsCache.heartbeats),o=lv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return da.warn(n),""}}}function cP(){return new Date().toISOString().substring(0,10)}function G9(t,e=z9){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),uP(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),uP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class K9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kz()?Az().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await U9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return lP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return lP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function uP(t){return lv(JSON.stringify({version:2,heartbeats:t})).length}function q9(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(t){vl(new ua("platform-logger",e=>new a9(e),"PRIVATE")),vl(new ua("heartbeat",e=>new H9(e),"PRIVATE")),bo(Hx,sP,t),bo(Hx,sP,"esm2017"),bo("fire-js","")}Y9("");var X9="firebase",Q9="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bo(X9,Q9,"app");function xC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function y$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const J9=y$,v$=new rg("auth","Firebase",y$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=new O0("@firebase/auth");function Z9(t,...e){fv.logLevel<=It.WARN&&fv.warn(`Auth (${Dl}): ${t}`,...e)}function vy(t,...e){fv.logLevel<=It.ERROR&&fv.error(`Auth (${Dl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t,...e){throw SC(t,...e)}function Qo(t,...e){return SC(t,...e)}function EC(t,e,n){const r=Object.assign(Object.assign({},J9()),{[e]:n});return new rg("auth","Firebase",r).create(e,{appName:t.name})}function na(t){return EC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eW(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&So(t,"argument-error"),EC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function SC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return v$.create(t,...e)}function Ge(t,e,...n){if(!t)throw SC(e,...n)}function Qs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vy(e),new Error(e)}function fa(t,e){t||Qs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function tW(){return dP()==="http:"||dP()==="https:"}function dP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tW()||Tz()||"connection"in navigator)?navigator.onLine:!0}function rW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n){this.shortDelay=e,this.longDelay=n,fa(n>e,"Short delay should be less than long delay!"),this.isMobile=_C()||u$()}get(){return nW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(t,e){fa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oW=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sW=new og(3e4,6e4);function $l(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ll(t,e,n,r,i={}){return b$(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Jd(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},o);return Cz()||(c.referrerPolicy="no-referrer"),_$.fetch()(await w$(t,t.config.apiHost,n,a),c)})}async function b$(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},iW),e);try{const i=new lW(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Pm(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pm(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Pm(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Pm(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw EC(t,u,c);So(t,u)}}catch(i){if(i instanceof ks)throw i;So(t,"network-request-failed",{message:String(i)})}}async function sg(t,e,n,r,i={}){const o=await Ll(t,e,n,r,i);return"mfaPendingCredential"in o&&So(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function w$(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?CC(t.config,i):`${t.config.apiScheme}://${i}`;return oW.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function aW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lW{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qo(this.auth,"network-request-failed")),sW.get())})}}function Pm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qo(t,e,r);return i.customData._tokenResponse=n,i}function fP(t){return t!==void 0&&t.enterprise!==void 0}class cW{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return aW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uW(t,e){return Ll(t,"GET","/v2/recaptchaConfig",$l(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dW(t,e){return Ll(t,"POST","/v1/accounts:delete",e)}async function hv(t,e){return Ll(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fW(t,e=!1){const n=Xt(t),r=await n.getIdToken(e),i=TC(r);Ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Fh(sw(i.auth_time)),issuedAtTime:Fh(sw(i.iat)),expirationTime:Fh(sw(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function sw(t){return Number(t)*1e3}function TC(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vy("JWT malformed, contained fewer than 3 sections"),null;try{const i=cv(n);return i?JSON.parse(i):(vy("Failed to decode base64 JWT payload"),null)}catch(i){return vy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function hP(t){const e=TC(t);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ep(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ks&&hW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fh(this.lastLoginAt),this.creationTime=Fh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pv(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ep(t,hv(n,{idToken:r}));Ge(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?x$(o.providerUserInfo):[],a=mW(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Yx(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function gW(t){const e=Xt(t);await pv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mW(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function x$(t){return t.map(e=>{var{providerId:n}=e,r=xC(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yW(t,e){const n=await b$(t,{},async()=>{const r=Jd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await w$(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_$.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vW(t,e){return Ll(t,"POST","/v2/accounts:revokeToken",$l(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const n=hP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await yW(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new dd;return r&&(Ge(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ge(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ge(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dd,this.toJSON())}_performRefresh(){return Qs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t,e){Ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ho{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=xC(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Yx(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ep(this,this.stsTokenManager.getToken(this.auth,e));return Ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fW(this,e)}reload(){return gW(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ho(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(na(this.auth));const e=await this.getIdToken();return await Ep(this,dW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,c,u;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(s=n.photoURL)!==null&&s!==void 0?s:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:g,emailVerified:C,isAnonymous:N,providerData:M,stsTokenManager:E}=n;Ge(g&&E,e,"internal-error");const I=dd.fromJSON(this.name,E);Ge(typeof g=="string",e,"internal-error"),Na(f,e.name),Na(h,e.name),Ge(typeof C=="boolean",e,"internal-error"),Ge(typeof N=="boolean",e,"internal-error"),Na(p,e.name),Na(m,e.name),Na(x,e.name),Na(S,e.name),Na(b,e.name),Na(w,e.name);const k=new Ho({uid:g,auth:e,email:h,emailVerified:C,displayName:f,isAnonymous:N,photoURL:m,phoneNumber:p,tenantId:x,stsTokenManager:I,createdAt:b,lastLoginAt:w});return M&&Array.isArray(M)&&(k.providerData=M.map(_=>Object.assign({},_))),S&&(k._redirectEventId=S),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new dd;i.updateFromServerResponse(n);const o=new Ho({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await pv(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ge(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?x$(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new dd;a.updateFromIdToken(r);const l=new Ho({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Yx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=new Map;function Js(t){fa(t instanceof Function,"Expected a class definition");let e=pP.get(t);return e?(fa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}E$.type="NONE";const gP=E$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t,e,n){return`firebase:${t}:${e}:${n}`}class fd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=_y(this.userKey,i.apiKey,o),this.fullPersistenceKey=_y("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hv(this.auth,{idToken:e}).catch(()=>{});return n?Ho._fromGetAccountInfoResponse(this.auth,n,e):null}return Ho._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fd(Js(gP),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||Js(gP);const s=_y(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){let f;if(typeof u=="string"){const h=await hv(e,{idToken:u}).catch(()=>{});if(!h)break;f=await Ho._fromGetAccountInfoResponse(e,h,u)}else f=Ho._fromJSON(e,u);c!==o&&(a=f),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new fd(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new fd(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(S$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(P$(e))return"Blackberry";if(k$(e))return"Webos";if(C$(e))return"Safari";if((e.includes("chrome/")||T$(e))&&!e.includes("edge/"))return"Chrome";if(R$(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function S$(t=qr()){return/firefox\//i.test(t)}function C$(t=qr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function T$(t=qr()){return/crios\//i.test(t)}function I$(t=qr()){return/iemobile/i.test(t)}function R$(t=qr()){return/android/i.test(t)}function P$(t=qr()){return/blackberry/i.test(t)}function k$(t=qr()){return/webos/i.test(t)}function IC(t=qr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _W(t=qr()){var e;return IC(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bW(){return Iz()&&document.documentMode===10}function A$(t=qr()){return IC(t)||R$(t)||k$(t)||P$(t)||/windows phone/i.test(t)||I$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(t,e=[]){let n;switch(t){case"Browser":n=mP(qr());break;case"Worker":n=`${mP(qr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xW(t,e={}){return Ll(t,"GET","/v2/passwordPolicy",$l(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW=6;class SW{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:EW,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yP(this),this.idTokenSubscription=new yP(this),this.beforeStateQueue=new wW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Js(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await fd.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hv(this,{idToken:e}),r=await Ho._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ii(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pv(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(na(this));const n=e?Xt(e):null;return n&&Ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(na(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(na(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Js(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xW(this),n=new SW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rg("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await vW(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Js(e)||this._popupRedirectResolver;Ge(n,this,"argument-error"),this.redirectPersistenceManager=await fd.create(this,[Js(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Z9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fl(t){return Xt(t)}class yP{constructor(e){this.auth=e,this.observer=null,this.addObserver=Fz(n=>this.observer=n)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TW(t){M0=t}function N$(t){return M0.loadJS(t)}function IW(){return M0.recaptchaEnterpriseScript}function RW(){return M0.gapiScript}function PW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class kW{constructor(){this.enterprise=new AW}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class AW{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const OW="recaptcha-enterprise",M$="NO_RECAPTCHA";class NW{constructor(e){this.type=OW,this.auth=Fl(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{uW(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new cW(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;fP(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(M$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kW().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&fP(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=IW();l.length!==0&&(l+=a),N$(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function vP(t,e,n,r=!1,i=!1){const o=new NW(t);let s;if(i)s=M$;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Xx(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await vP(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await vP(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MW(t,e){const n=ig(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ca(o,e??{}))return i;So(i,"already-initialized")}return n.initialize({options:e})}function DW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Js);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function $W(t,e,n){const r=Fl(t);Ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=D$(e),{host:s,port:a}=LW(e),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ge(ca(c,r.config.emulator)&&ca(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,FW()}function D$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LW(t){const e=D$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:_P(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:_P(s)}}}function _P(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function FW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qs("not implemented")}_getIdTokenResponse(e){return Qs("not implemented")}_linkToIdToken(e,n){return Qs("not implemented")}_getReauthenticationResolver(e){return Qs("not implemented")}}async function BW(t,e){return Ll(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VW(t,e){return sg(t,"POST","/v1/accounts:signInWithPassword",$l(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jW(t,e){return sg(t,"POST","/v1/accounts:signInWithEmailLink",$l(t,e))}async function UW(t,e){return sg(t,"POST","/v1/accounts:signInWithEmailLink",$l(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp extends RC{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Sp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Sp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xx(e,n,"signInWithPassword",VW);case"emailLink":return jW(e,{email:this._email,oobCode:this._password});default:So(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xx(e,r,"signUpPassword",BW);case"emailLink":return UW(e,{idToken:n,email:this._email,oobCode:this._password});default:So(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hd(t,e){return sg(t,"POST","/v1/accounts:signInWithIdp",$l(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW="http://localhost";class Sc extends RC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Sc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):So("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=xC(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Sc(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return hd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,hd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hd(e,n)}buildRequest(){const e={requestUri:zW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HW(t){const e=yh(vh(t)).link,n=e?yh(vh(e)).deep_link_id:null,r=yh(vh(t)).deep_link_id;return(r?yh(vh(r)).link:null)||r||n||e||t}class PC{constructor(e){var n,r,i,o,s,a;const l=yh(vh(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,f=WW((i=l.mode)!==null&&i!==void 0?i:null);Ge(c&&u&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=HW(e);try{return new PC(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(){this.providerId=Zd.PROVIDER_ID}static credential(e,n){return Sp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=PC.parseLink(n);return Ge(r,"argument-error"),Sp._fromEmailAndCode(e,r.code,r.tenantId)}}Zd.PROVIDER_ID="password";Zd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends kC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends ag{constructor(){super("facebook.com")}static credential(e){return Sc._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return za.credential(e.oauthAccessToken)}catch{return null}}}za.FACEBOOK_SIGN_IN_METHOD="facebook.com";za.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends ag{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Sc._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qs.credential(n,r)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends ag{constructor(){super("github.com")}static credential(e){return Sc._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wa.credentialFromTaggedObject(e)}static credentialFromError(e){return Wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wa.credential(e.oauthAccessToken)}catch{return null}}}Wa.GITHUB_SIGN_IN_METHOD="github.com";Wa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends ag{constructor(){super("twitter.com")}static credential(e,n){return Sc._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ha.credentialFromTaggedObject(e)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ha.credential(n,r)}catch{return null}}}Ha.TWITTER_SIGN_IN_METHOD="twitter.com";Ha.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GW(t,e){return sg(t,"POST","/v1/accounts:signUp",$l(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Ho._fromIdTokenResponse(e,r,i),s=bP(r);return new Cc({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=bP(r);return new Cc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function bP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv extends ks{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gv.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new gv(e,n,r,i)}}function $$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?gv._fromErrorAndOperation(t,o,e,r):o})}async function KW(t,e,n=!1){const r=await Ep(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Cc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qW(t,e,n=!1){const{auth:r}=t;if(ii(r.app))return Promise.reject(na(r));const i="reauthenticate";try{const o=await Ep(t,$$(r,i,e,t),n);Ge(o.idToken,r,"internal-error");const s=TC(o.idToken);Ge(s,r,"internal-error");const{sub:a}=s;return Ge(t.uid===a,r,"user-mismatch"),Cc._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&So(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L$(t,e,n=!1){if(ii(t.app))return Promise.reject(na(t));const r="signIn",i=await $$(t,r,e),o=await Cc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function YW(t,e){return L$(Fl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F$(t){const e=Fl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function XW(t,e,n){if(ii(t.app))return Promise.reject(na(t));const r=Fl(t),s=await Xx(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GW).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&F$(t),l}),a=await Cc._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function QW(t,e,n){return ii(t.app)?Promise.reject(na(t)):YW(Xt(t),Zd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&F$(t),r})}function JW(t,e,n,r){return Xt(t).onIdTokenChanged(e,n,r)}function ZW(t,e,n){return Xt(t).beforeAuthStateChanged(e,n)}function eH(t,e,n,r){return Xt(t).onAuthStateChanged(e,n,r)}const mv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mv,"1"),this.storage.removeItem(mv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tH=1e3,nH=10;class V$ extends B${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);bW()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,nH):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},tH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}V$.type="LOCAL";const rH=V$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j$ extends B${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}j$.type="SESSION";const U$=j$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new D0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await iH(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}D0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=AC("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(){return window}function sH(t){vs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z$(){return typeof vs().WorkerGlobalScope<"u"&&typeof vs().importScripts=="function"}async function aH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function cH(){return z$()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$="firebaseLocalStorageDb",uH=1,yv="firebaseLocalStorage",H$="fbase_key";class lg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $0(t,e){return t.transaction([yv],e?"readwrite":"readonly").objectStore(yv)}function dH(){const t=indexedDB.deleteDatabase(W$);return new lg(t).toPromise()}function Qx(){const t=indexedDB.open(W$,uH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yv,{keyPath:H$})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yv)?e(r):(r.close(),await dH(),e(await Qx()))})})}async function wP(t,e,n){const r=$0(t,!0).put({[H$]:e,value:n});return new lg(r).toPromise()}async function fH(t,e){const n=$0(t,!1).get(e),r=await new lg(n).toPromise();return r===void 0?null:r.value}function xP(t,e){const n=$0(t,!0).delete(e);return new lg(n).toPromise()}const hH=800,pH=3;class G${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>pH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z$()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=D0._getInstance(cH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await aH(),!this.activeServiceWorker)return;this.sender=new oH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qx();return await wP(e,mv,"1"),await xP(e,mv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>fH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=$0(i,!1).getAll();return new lg(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G$.type="LOCAL";const gH=G$;new og(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K$(t,e){return e?Js(e):(Ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC extends RC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mH(t){return L$(t.auth,new OC(t),t.bypassAuthState)}function yH(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),qW(n,new OC(t),t.bypassAuthState)}async function vH(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),KW(n,new OC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mH;case"linkViaPopup":case"linkViaRedirect":return vH;case"reauthViaPopup":case"reauthViaRedirect":return yH;default:So(this.auth,"internal-error")}}resolve(e){fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _H=new og(2e3,1e4);async function bH(t,e,n){if(ii(t.app))return Promise.reject(Qo(t,"operation-not-supported-in-this-environment"));const r=Fl(t);eW(t,e,kC);const i=K$(r,n);return new ac(r,"signInViaPopup",e,i).executeNotNull()}class ac extends q${constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ac.currentPopupAction&&ac.currentPopupAction.cancel(),ac.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){fa(this.filter.length===1,"Popup operations only handle one event");const e=AC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ac.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_H.get())};e()}}ac.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH="pendingRedirect",by=new Map;class xH extends q${constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=by.get(this.auth._key());if(!e){try{const r=await EH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}by.set(this.auth._key(),e)}return this.bypassAuthState||by.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EH(t,e){const n=TH(e),r=CH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function SH(t,e){by.set(t._key(),e)}function CH(t){return Js(t._redirectPersistence)}function TH(t){return _y(wH,t.config.apiKey,t.name)}async function IH(t,e,n=!1){if(ii(t.app))return Promise.reject(na(t));const r=Fl(t),i=K$(r,e),s=await new xH(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH=10*60*1e3;class PH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Y$(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RH&&this.cachedEventUids.clear(),this.cachedEventUids.has(EP(e))}saveEventToCache(e){this.cachedEventUids.add(EP(e)),this.lastProcessedEventTime=Date.now()}}function EP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Y$({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AH(t,e={}){return Ll(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NH=/^https?/;async function MH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await AH(t);for(const n of e)try{if(DH(n))return}catch{}So(t,"unauthorized-domain")}function DH(t){const e=qx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!NH.test(n))return!1;if(OH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $H=new og(3e4,6e4);function SP(){const t=vs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function LH(t){return new Promise((e,n)=>{var r,i,o;function s(){SP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SP(),n(Qo(t,"network-request-failed"))},timeout:$H.get()})}if(!((i=(r=vs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=vs().gapi)===null||o===void 0)&&o.load)s();else{const a=PW("iframefcb");return vs()[a]=()=>{gapi.load?s():n(Qo(t,"network-request-failed"))},N$(`${RW()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw wy=null,e})}let wy=null;function FH(t){return wy=wy||LH(t),wy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH=new og(5e3,15e3),VH="__/auth/iframe",jH="emulator/auth/iframe",UH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WH(t){const e=t.config;Ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?CC(e,jH):`https://${t.config.authDomain}/${VH}`,r={apiKey:e.apiKey,appName:t.name,v:Dl},i=zH.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Jd(r).slice(1)}`}async function HH(t){const e=await FH(t),n=vs().gapi;return Ge(n,t,"internal-error"),e.open({where:document.body,url:WH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UH,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Qo(t,"network-request-failed"),a=vs().setTimeout(()=>{o(s)},BH.get());function l(){vs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KH=500,qH=600,YH="_blank",XH="http://localhost";class CP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QH(t,e,n,r=KH,i=qH){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},GH),{width:r.toString(),height:i.toString(),top:o,left:s}),c=qr().toLowerCase();n&&(a=T$(c)?YH:n),S$(c)&&(e=e||XH,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(_W(c)&&a!=="_self")return JH(e||"",a),new CP(null);const f=window.open(e||"",a,u);Ge(f,t,"popup-blocked");try{f.focus()}catch{}return new CP(f)}function JH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZH="__/auth/handler",e8="emulator/auth/handler",t8=encodeURIComponent("fac");async function TP(t,e,n,r,i,o){Ge(t.config.authDomain,t,"auth-domain-config-required"),Ge(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Dl,eventId:i};if(e instanceof kC){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Ux(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))s[u]=f}if(e instanceof ag){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${t8}=${encodeURIComponent(l)}`:"";return`${n8(t)}?${Jd(a).slice(1)}${c}`}function n8({config:t}){return t.emulator?CC(t,e8):`https://${t.authDomain}/${ZH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="webStorageSupport";class r8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U$,this._completeRedirectFn=IH,this._overrideRedirectResult=SH}async _openPopup(e,n,r,i){var o;fa((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await TP(e,n,r,qx(),i);return QH(e,s,AC())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await TP(e,n,r,qx(),i);return sH(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(fa(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await HH(e),r=new PH(e);return n.register("authEvent",i=>(Ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(aw,{type:aw},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[aw];s!==void 0&&n(!!s),So(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return A$()||C$()||IC()}}const i8=r8;var IP="@firebase/auth",RP="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a8(t){vl(new ua("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ge(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O$(t)},c=new CW(r,i,o,l);return DW(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vl(new ua("auth-internal",e=>{const n=Fl(e.getProvider("auth").getImmediate());return(r=>new o8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bo(IP,RP,s8(t)),bo(IP,RP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8=5*60,c8=c$("authIdTokenMaxAge")||l8;let PP=null;const u8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>c8)return;const i=n==null?void 0:n.token;PP!==i&&(PP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function d8(t=N0()){const e=ig(t,"auth");if(e.isInitialized())return e.getImmediate();const n=MW(t,{popupRedirectResolver:i8,persistence:[gH,rH,U$]}),r=c$("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=u8(o.toString());ZW(n,s,()=>s(n.currentUser)),JW(n,a=>s(a))}}const i=a$("auth");return i&&$W(n,`http://${i}`),n}function f8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}TW({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Qo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",f8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a8("Browser");var kP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cl,X$;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,I){function k(){}k.prototype=I.prototype,E.D=I.prototype,E.prototype=new k,E.prototype.constructor=E,E.C=function(_,O,$){for(var A=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)A[Q-2]=arguments[Q];return I.prototype[O].apply(_,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,I,k){k||(k=0);var _=Array(16);if(typeof I=="string")for(var O=0;16>O;++O)_[O]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(O=0;16>O;++O)_[O]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=E.g[0],k=E.g[1],O=E.g[2];var $=E.g[3],A=I+($^k&(O^$))+_[0]+3614090360&4294967295;I=k+(A<<7&4294967295|A>>>25),A=$+(O^I&(k^O))+_[1]+3905402710&4294967295,$=I+(A<<12&4294967295|A>>>20),A=O+(k^$&(I^k))+_[2]+606105819&4294967295,O=$+(A<<17&4294967295|A>>>15),A=k+(I^O&($^I))+_[3]+3250441966&4294967295,k=O+(A<<22&4294967295|A>>>10),A=I+($^k&(O^$))+_[4]+4118548399&4294967295,I=k+(A<<7&4294967295|A>>>25),A=$+(O^I&(k^O))+_[5]+1200080426&4294967295,$=I+(A<<12&4294967295|A>>>20),A=O+(k^$&(I^k))+_[6]+2821735955&4294967295,O=$+(A<<17&4294967295|A>>>15),A=k+(I^O&($^I))+_[7]+4249261313&4294967295,k=O+(A<<22&4294967295|A>>>10),A=I+($^k&(O^$))+_[8]+1770035416&4294967295,I=k+(A<<7&4294967295|A>>>25),A=$+(O^I&(k^O))+_[9]+2336552879&4294967295,$=I+(A<<12&4294967295|A>>>20),A=O+(k^$&(I^k))+_[10]+4294925233&4294967295,O=$+(A<<17&4294967295|A>>>15),A=k+(I^O&($^I))+_[11]+2304563134&4294967295,k=O+(A<<22&4294967295|A>>>10),A=I+($^k&(O^$))+_[12]+1804603682&4294967295,I=k+(A<<7&4294967295|A>>>25),A=$+(O^I&(k^O))+_[13]+4254626195&4294967295,$=I+(A<<12&4294967295|A>>>20),A=O+(k^$&(I^k))+_[14]+2792965006&4294967295,O=$+(A<<17&4294967295|A>>>15),A=k+(I^O&($^I))+_[15]+1236535329&4294967295,k=O+(A<<22&4294967295|A>>>10),A=I+(O^$&(k^O))+_[1]+4129170786&4294967295,I=k+(A<<5&4294967295|A>>>27),A=$+(k^O&(I^k))+_[6]+3225465664&4294967295,$=I+(A<<9&4294967295|A>>>23),A=O+(I^k&($^I))+_[11]+643717713&4294967295,O=$+(A<<14&4294967295|A>>>18),A=k+($^I&(O^$))+_[0]+3921069994&4294967295,k=O+(A<<20&4294967295|A>>>12),A=I+(O^$&(k^O))+_[5]+3593408605&4294967295,I=k+(A<<5&4294967295|A>>>27),A=$+(k^O&(I^k))+_[10]+38016083&4294967295,$=I+(A<<9&4294967295|A>>>23),A=O+(I^k&($^I))+_[15]+3634488961&4294967295,O=$+(A<<14&4294967295|A>>>18),A=k+($^I&(O^$))+_[4]+3889429448&4294967295,k=O+(A<<20&4294967295|A>>>12),A=I+(O^$&(k^O))+_[9]+568446438&4294967295,I=k+(A<<5&4294967295|A>>>27),A=$+(k^O&(I^k))+_[14]+3275163606&4294967295,$=I+(A<<9&4294967295|A>>>23),A=O+(I^k&($^I))+_[3]+4107603335&4294967295,O=$+(A<<14&4294967295|A>>>18),A=k+($^I&(O^$))+_[8]+1163531501&4294967295,k=O+(A<<20&4294967295|A>>>12),A=I+(O^$&(k^O))+_[13]+2850285829&4294967295,I=k+(A<<5&4294967295|A>>>27),A=$+(k^O&(I^k))+_[2]+4243563512&4294967295,$=I+(A<<9&4294967295|A>>>23),A=O+(I^k&($^I))+_[7]+1735328473&4294967295,O=$+(A<<14&4294967295|A>>>18),A=k+($^I&(O^$))+_[12]+2368359562&4294967295,k=O+(A<<20&4294967295|A>>>12),A=I+(k^O^$)+_[5]+4294588738&4294967295,I=k+(A<<4&4294967295|A>>>28),A=$+(I^k^O)+_[8]+2272392833&4294967295,$=I+(A<<11&4294967295|A>>>21),A=O+($^I^k)+_[11]+1839030562&4294967295,O=$+(A<<16&4294967295|A>>>16),A=k+(O^$^I)+_[14]+4259657740&4294967295,k=O+(A<<23&4294967295|A>>>9),A=I+(k^O^$)+_[1]+2763975236&4294967295,I=k+(A<<4&4294967295|A>>>28),A=$+(I^k^O)+_[4]+1272893353&4294967295,$=I+(A<<11&4294967295|A>>>21),A=O+($^I^k)+_[7]+4139469664&4294967295,O=$+(A<<16&4294967295|A>>>16),A=k+(O^$^I)+_[10]+3200236656&4294967295,k=O+(A<<23&4294967295|A>>>9),A=I+(k^O^$)+_[13]+681279174&4294967295,I=k+(A<<4&4294967295|A>>>28),A=$+(I^k^O)+_[0]+3936430074&4294967295,$=I+(A<<11&4294967295|A>>>21),A=O+($^I^k)+_[3]+3572445317&4294967295,O=$+(A<<16&4294967295|A>>>16),A=k+(O^$^I)+_[6]+76029189&4294967295,k=O+(A<<23&4294967295|A>>>9),A=I+(k^O^$)+_[9]+3654602809&4294967295,I=k+(A<<4&4294967295|A>>>28),A=$+(I^k^O)+_[12]+3873151461&4294967295,$=I+(A<<11&4294967295|A>>>21),A=O+($^I^k)+_[15]+530742520&4294967295,O=$+(A<<16&4294967295|A>>>16),A=k+(O^$^I)+_[2]+3299628645&4294967295,k=O+(A<<23&4294967295|A>>>9),A=I+(O^(k|~$))+_[0]+4096336452&4294967295,I=k+(A<<6&4294967295|A>>>26),A=$+(k^(I|~O))+_[7]+1126891415&4294967295,$=I+(A<<10&4294967295|A>>>22),A=O+(I^($|~k))+_[14]+2878612391&4294967295,O=$+(A<<15&4294967295|A>>>17),A=k+($^(O|~I))+_[5]+4237533241&4294967295,k=O+(A<<21&4294967295|A>>>11),A=I+(O^(k|~$))+_[12]+1700485571&4294967295,I=k+(A<<6&4294967295|A>>>26),A=$+(k^(I|~O))+_[3]+2399980690&4294967295,$=I+(A<<10&4294967295|A>>>22),A=O+(I^($|~k))+_[10]+4293915773&4294967295,O=$+(A<<15&4294967295|A>>>17),A=k+($^(O|~I))+_[1]+2240044497&4294967295,k=O+(A<<21&4294967295|A>>>11),A=I+(O^(k|~$))+_[8]+1873313359&4294967295,I=k+(A<<6&4294967295|A>>>26),A=$+(k^(I|~O))+_[15]+4264355552&4294967295,$=I+(A<<10&4294967295|A>>>22),A=O+(I^($|~k))+_[6]+2734768916&4294967295,O=$+(A<<15&4294967295|A>>>17),A=k+($^(O|~I))+_[13]+1309151649&4294967295,k=O+(A<<21&4294967295|A>>>11),A=I+(O^(k|~$))+_[4]+4149444226&4294967295,I=k+(A<<6&4294967295|A>>>26),A=$+(k^(I|~O))+_[11]+3174756917&4294967295,$=I+(A<<10&4294967295|A>>>22),A=O+(I^($|~k))+_[2]+718787259&4294967295,O=$+(A<<15&4294967295|A>>>17),A=k+($^(O|~I))+_[9]+3951481745&4294967295,E.g[0]=E.g[0]+I&4294967295,E.g[1]=E.g[1]+(O+(A<<21&4294967295|A>>>11))&4294967295,E.g[2]=E.g[2]+O&4294967295,E.g[3]=E.g[3]+$&4294967295}r.prototype.u=function(E,I){I===void 0&&(I=E.length);for(var k=I-this.blockSize,_=this.B,O=this.h,$=0;$<I;){if(O==0)for(;$<=k;)i(this,E,$),$+=this.blockSize;if(typeof E=="string"){for(;$<I;)if(_[O++]=E.charCodeAt($++),O==this.blockSize){i(this,_),O=0;break}}else for(;$<I;)if(_[O++]=E[$++],O==this.blockSize){i(this,_),O=0;break}}this.h=O,this.o+=I},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var I=1;I<E.length-8;++I)E[I]=0;var k=8*this.o;for(I=E.length-8;I<E.length;++I)E[I]=k&255,k/=256;for(this.u(E),E=Array(16),I=k=0;4>I;++I)for(var _=0;32>_;_+=8)E[k++]=this.g[I]>>>_&255;return E};function o(E,I){var k=a;return Object.prototype.hasOwnProperty.call(k,E)?k[E]:k[E]=I(E)}function s(E,I){this.h=I;for(var k=[],_=!0,O=E.length-1;0<=O;O--){var $=E[O]|0;_&&$==I||(k[O]=$,_=!1)}this.g=k}var a={};function l(E){return-128<=E&&128>E?o(E,function(I){return new s([I|0],0>I?-1:0)}):new s([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return S(c(-E));for(var I=[],k=1,_=0;E>=k;_++)I[_]=E/k|0,k*=4294967296;return new s(I,0)}function u(E,I){if(E.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(E.charAt(0)=="-")return S(u(E.substring(1),I));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(I,8)),_=f,O=0;O<E.length;O+=8){var $=Math.min(8,E.length-O),A=parseInt(E.substring(O,O+$),I);8>$?($=c(Math.pow(I,$)),_=_.j($).add(c(A))):(_=_.j(k),_=_.add(c(A)))}return _}var f=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(x(this))return-S(this).m();for(var E=0,I=1,k=0;k<this.g.length;k++){var _=this.i(k);E+=(0<=_?_:4294967296+_)*I,I*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(m(this))return"0";if(x(this))return"-"+S(this).toString(E);for(var I=c(Math.pow(E,6)),k=this,_="";;){var O=C(k,I).g;k=b(k,O.j(I));var $=((0<k.g.length?k.g[0]:k.h)>>>0).toString(E);if(k=O,m(k))return $+_;for(;6>$.length;)$="0"+$;_=$+_}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function m(E){if(E.h!=0)return!1;for(var I=0;I<E.g.length;I++)if(E.g[I]!=0)return!1;return!0}function x(E){return E.h==-1}t.l=function(E){return E=b(this,E),x(E)?-1:m(E)?0:1};function S(E){for(var I=E.g.length,k=[],_=0;_<I;_++)k[_]=~E.g[_];return new s(k,~E.h).add(h)}t.abs=function(){return x(this)?S(this):this},t.add=function(E){for(var I=Math.max(this.g.length,E.g.length),k=[],_=0,O=0;O<=I;O++){var $=_+(this.i(O)&65535)+(E.i(O)&65535),A=($>>>16)+(this.i(O)>>>16)+(E.i(O)>>>16);_=A>>>16,$&=65535,A&=65535,k[O]=A<<16|$}return new s(k,k[k.length-1]&-2147483648?-1:0)};function b(E,I){return E.add(S(I))}t.j=function(E){if(m(this)||m(E))return f;if(x(this))return x(E)?S(this).j(S(E)):S(S(this).j(E));if(x(E))return S(this.j(S(E)));if(0>this.l(p)&&0>E.l(p))return c(this.m()*E.m());for(var I=this.g.length+E.g.length,k=[],_=0;_<2*I;_++)k[_]=0;for(_=0;_<this.g.length;_++)for(var O=0;O<E.g.length;O++){var $=this.i(_)>>>16,A=this.i(_)&65535,Q=E.i(O)>>>16,W=E.i(O)&65535;k[2*_+2*O]+=A*W,w(k,2*_+2*O),k[2*_+2*O+1]+=$*W,w(k,2*_+2*O+1),k[2*_+2*O+1]+=A*Q,w(k,2*_+2*O+1),k[2*_+2*O+2]+=$*Q,w(k,2*_+2*O+2)}for(_=0;_<I;_++)k[_]=k[2*_+1]<<16|k[2*_];for(_=I;_<2*I;_++)k[_]=0;return new s(k,0)};function w(E,I){for(;(E[I]&65535)!=E[I];)E[I+1]+=E[I]>>>16,E[I]&=65535,I++}function g(E,I){this.g=E,this.h=I}function C(E,I){if(m(I))throw Error("division by zero");if(m(E))return new g(f,f);if(x(E))return I=C(S(E),I),new g(S(I.g),S(I.h));if(x(I))return I=C(E,S(I)),new g(S(I.g),I.h);if(30<E.g.length){if(x(E)||x(I))throw Error("slowDivide_ only works with positive integers.");for(var k=h,_=I;0>=_.l(E);)k=N(k),_=N(_);var O=M(k,1),$=M(_,1);for(_=M(_,2),k=M(k,2);!m(_);){var A=$.add(_);0>=A.l(E)&&(O=O.add(k),$=A),_=M(_,1),k=M(k,1)}return I=b(E,O.j(I)),new g(O,I)}for(O=f;0<=E.l(I);){for(k=Math.max(1,Math.floor(E.m()/I.m())),_=Math.ceil(Math.log(k)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),$=c(k),A=$.j(I);x(A)||0<A.l(E);)k-=_,$=c(k),A=$.j(I);m($)&&($=h),O=O.add($),E=b(E,A)}return new g(O,E)}t.A=function(E){return C(this,E).h},t.and=function(E){for(var I=Math.max(this.g.length,E.g.length),k=[],_=0;_<I;_++)k[_]=this.i(_)&E.i(_);return new s(k,this.h&E.h)},t.or=function(E){for(var I=Math.max(this.g.length,E.g.length),k=[],_=0;_<I;_++)k[_]=this.i(_)|E.i(_);return new s(k,this.h|E.h)},t.xor=function(E){for(var I=Math.max(this.g.length,E.g.length),k=[],_=0;_<I;_++)k[_]=this.i(_)^E.i(_);return new s(k,this.h^E.h)};function N(E){for(var I=E.g.length+1,k=[],_=0;_<I;_++)k[_]=E.i(_)<<1|E.i(_-1)>>>31;return new s(k,E.h)}function M(E,I){var k=I>>5;I%=32;for(var _=E.g.length-k,O=[],$=0;$<_;$++)O[$]=0<I?E.i($+k)>>>I|E.i($+k+1)<<32-I:E.i($+k);return new s(O,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,X$=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,cl=s}).apply(typeof kP<"u"?kP:typeof self<"u"?self:typeof window<"u"?window:{});var km=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Q$,_h,J$,xy,Jx,Z$,eL,tL;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,T){return d==Array.prototype||d==Object.prototype||(d[y]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof km=="object"&&km];for(var y=0;y<d.length;++y){var T=d[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(d,y){if(y)e:{var T=r;d=d.split(".");for(var L=0;L<d.length-1;L++){var U=d[L];if(!(U in T))break e;T=T[U]}d=d[d.length-1],L=T[d],y=y(L),y!=L&&y!=null&&e(T,d,{configurable:!0,writable:!0,value:y})}}function o(d,y){d instanceof String&&(d+="");var T=0,L=!1,U={next:function(){if(!L&&T<d.length){var Y=T++;return{value:y(Y,d[Y]),done:!1}}return L=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}i("Array.prototype.values",function(d){return d||function(){return o(this,function(y,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function c(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function u(d,y,T){return d.call.apply(d.bind,arguments)}function f(d,y,T){if(!d)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,L),d.apply(y,U)}}return function(){return d.apply(y,arguments)}}function h(d,y,T){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(d,y){var T=Array.prototype.slice.call(arguments,1);return function(){var L=T.slice();return L.push.apply(L,arguments),d.apply(this,L)}}function m(d,y){function T(){}T.prototype=y.prototype,d.aa=y.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(L,U,Y){for(var ye=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)ye[Jt-2]=arguments[Jt];return y.prototype[U].apply(L,ye)}}function x(d){const y=d.length;if(0<y){const T=Array(y);for(let L=0;L<y;L++)T[L]=d[L];return T}return[]}function S(d,y){for(let T=1;T<arguments.length;T++){const L=arguments[T];if(l(L)){const U=d.length||0,Y=L.length||0;d.length=U+Y;for(let ye=0;ye<Y;ye++)d[U+ye]=L[ye]}else d.push(L)}}class b{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function w(d){return/^[\s\xa0]*$/.test(d)}function g(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function C(d){return C[" "](d),d}C[" "]=function(){};var N=g().indexOf("Gecko")!=-1&&!(g().toLowerCase().indexOf("webkit")!=-1&&g().indexOf("Edge")==-1)&&!(g().indexOf("Trident")!=-1||g().indexOf("MSIE")!=-1)&&g().indexOf("Edge")==-1;function M(d,y,T){for(const L in d)y.call(T,d[L],L,d)}function E(d,y){for(const T in d)y.call(void 0,d[T],T,d)}function I(d){const y={};for(const T in d)y[T]=d[T];return y}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(d,y){let T,L;for(let U=1;U<arguments.length;U++){L=arguments[U];for(T in L)d[T]=L[T];for(let Y=0;Y<k.length;Y++)T=k[Y],Object.prototype.hasOwnProperty.call(L,T)&&(d[T]=L[T])}}function O(d){var y=1;d=d.split(":");const T=[];for(;0<y&&d.length;)T.push(d.shift()),y--;return d.length&&T.push(d.join(":")),T}function $(d){a.setTimeout(()=>{throw d},0)}function A(){var d=j;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class Q{constructor(){this.h=this.g=null}add(y,T){const L=W.get();L.set(y,T),this.h?this.h.next=L:this.g=L,this.h=L}}var W=new b(()=>new q,d=>d.reset());class q{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,K=!1,j=new Q,G=()=>{const d=a.Promise.resolve(void 0);ie=()=>{d.then(oe)}};var oe=()=>{for(var d;d=A();){try{d.h.call(d.g)}catch(T){$(T)}var y=W;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}K=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};a.addEventListener("test",T,y),a.removeEventListener("test",T,y)}catch{}return d}();function xe(d,y){if(ge.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,L=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(N){e:{try{C(y.nodeName);var U=!0;break e}catch{}U=!1}U||(y=null)}}else T=="mouseover"?y=d.fromElement:T=="mouseout"&&(y=d.toElement);this.relatedTarget=y,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:fe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&xe.aa.h.call(this)}}m(xe,ge);var fe={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function Be(d,y,T,L,U){this.listener=d,this.proxy=null,this.src=y,this.type=T,this.capture=!!L,this.ha=U,this.key=++Fe,this.da=this.fa=!1}function Ee(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ve(d){this.src=d,this.g={},this.h=0}Ve.prototype.add=function(d,y,T,L,U){var Y=d.toString();d=this.g[Y],d||(d=this.g[Y]=[],this.h++);var ye=Ye(d,y,L,U);return-1<ye?(y=d[ye],T||(y.fa=!1)):(y=new Be(y,this.src,Y,!!L,U),y.fa=T,d.push(y)),y};function De(d,y){var T=y.type;if(T in d.g){var L=d.g[T],U=Array.prototype.indexOf.call(L,y,void 0),Y;(Y=0<=U)&&Array.prototype.splice.call(L,U,1),Y&&(Ee(y),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Ye(d,y,T,L){for(var U=0;U<d.length;++U){var Y=d[U];if(!Y.da&&Y.listener==y&&Y.capture==!!T&&Y.ha==L)return U}return-1}var We="closure_lm_"+(1e6*Math.random()|0),Ue={};function Bt(d,y,T,L,U){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Bt(d,y[Y],T,L,U);return null}return T=zn(T),d&&d[be]?d.K(y,T,c(L)?!!L.capture:!1,U):se(d,y,T,!1,L,U)}function se(d,y,T,L,U,Y){if(!y)throw Error("Invalid event type");var ye=c(U)?!!U.capture:!!U,Jt=ln(d);if(Jt||(d[We]=Jt=new Ve(d)),T=Jt.add(y,T,L,ye,Y),T.proxy)return T;if(L=pt(),T.proxy=L,L.src=d,L.listener=T,d.addEventListener)Ae||(U=ye),U===void 0&&(U=!1),d.addEventListener(y.toString(),L,U);else if(d.attachEvent)d.attachEvent(it(y.toString()),L);else if(d.addListener&&d.removeListener)d.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return T}function pt(){function d(T){return y.call(d.src,d.listener,T)}const y=Me;return d}function ze(d,y,T,L,U){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)ze(d,y[Y],T,L,U);else L=c(L)?!!L.capture:!!L,T=zn(T),d&&d[be]?(d=d.i,y=String(y).toString(),y in d.g&&(Y=d.g[y],T=Ye(Y,T,L,U),-1<T&&(Ee(Y[T]),Array.prototype.splice.call(Y,T,1),Y.length==0&&(delete d.g[y],d.h--)))):d&&(d=ln(d))&&(y=d.g[y.toString()],d=-1,y&&(d=Ye(y,T,L,U)),(T=-1<d?y[d]:null)&&lt(T))}function lt(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[be])De(y.i,d);else{var T=d.type,L=d.proxy;y.removeEventListener?y.removeEventListener(T,L,d.capture):y.detachEvent?y.detachEvent(it(T),L):y.addListener&&y.removeListener&&y.removeListener(L),(T=ln(y))?(De(T,d),T.h==0&&(T.src=null,y[We]=null)):Ee(d)}}}function it(d){return d in Ue?Ue[d]:Ue[d]="on"+d}function Me(d,y){if(d.da)d=!0;else{y=new xe(y,this);var T=d.listener,L=d.ha||d.src;d.fa&&lt(d),d=T.call(L,y)}return d}function ln(d){return d=d[We],d instanceof Ve?d:null}var _t="__closure_events_fn_"+(1e9*Math.random()>>>0);function zn(d){return typeof d=="function"?d:(d[_t]||(d[_t]=function(y){return d.handleEvent(y)}),d[_t])}function Ut(){re.call(this),this.i=new Ve(this),this.M=this,this.F=null}m(Ut,re),Ut.prototype[be]=!0,Ut.prototype.removeEventListener=function(d,y,T,L){ze(this,d,y,T,L)};function Nt(d,y){var T,L=d.F;if(L)for(T=[];L;L=L.F)T.push(L);if(d=d.M,L=y.type||y,typeof y=="string")y=new ge(y,d);else if(y instanceof ge)y.target=y.target||d;else{var U=y;y=new ge(L,d),_(y,U)}if(U=!0,T)for(var Y=T.length-1;0<=Y;Y--){var ye=y.g=T[Y];U=Ht(ye,L,!0,y)&&U}if(ye=y.g=d,U=Ht(ye,L,!0,y)&&U,U=Ht(ye,L,!1,y)&&U,T)for(Y=0;Y<T.length;Y++)ye=y.g=T[Y],U=Ht(ye,L,!1,y)&&U}Ut.prototype.N=function(){if(Ut.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var T=d.g[y],L=0;L<T.length;L++)Ee(T[L]);delete d.g[y],d.h--}}this.F=null},Ut.prototype.K=function(d,y,T,L){return this.i.add(String(d),y,!1,T,L)},Ut.prototype.L=function(d,y,T,L){return this.i.add(String(d),y,!0,T,L)};function Ht(d,y,T,L){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,Y=0;Y<y.length;++Y){var ye=y[Y];if(ye&&!ye.da&&ye.capture==T){var Jt=ye.listener,sr=ye.ha||ye.src;ye.fa&&De(d.i,ye),U=Jt.call(sr,L)!==!1&&U}}return U&&!L.defaultPrevented}function Qt(d,y,T){if(typeof d=="function")T&&(d=h(d,T));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(d,y||0)}function dt(d){d.g=Qt(()=>{d.g=null,d.i&&(d.i=!1,dt(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Je extends re{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:dt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cn(d){re.call(this),this.h=d,this.g={}}m(cn,re);var Wn=[];function Yr(d){M(d.g,function(y,T){this.g.hasOwnProperty(T)&&lt(y)},d),d.g={}}cn.prototype.N=function(){cn.aa.N.call(this),Yr(this)},cn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pe=a.JSON.stringify,ct=a.JSON.parse,St=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function En(){}En.prototype.h=null;function hr(d){return d.h||(d.h=d.i())}function Yn(){}var pr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gr(){ge.call(this,"d")}m(gr,ge);function Xr(){ge.call(this,"c")}m(Xr,ge);var Sn={},Ct=null;function Mi(){return Ct=Ct||new Ut}Sn.La="serverreachability";function Di(d){ge.call(this,Sn.La,d)}m(Di,ge);function so(d){const y=Mi();Nt(y,new Di(y))}Sn.STAT_EVENT="statevent";function Ce(d,y){ge.call(this,Sn.STAT_EVENT,d),this.stat=y}m(Ce,ge);function _e(d){const y=Mi();Nt(y,new Ce(y,d))}Sn.Ma="timingevent";function Ze(d,y){ge.call(this,Sn.Ma,d),this.size=y}m(Ze,ge);function et(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},y)}function bt(){this.g=!0}bt.prototype.xa=function(){this.g=!1};function or(d,y,T,L,U,Y){d.info(function(){if(d.g)if(Y)for(var ye="",Jt=Y.split("&"),sr=0;sr<Jt.length;sr++){var Mt=Jt[sr].split("=");if(1<Mt.length){var mr=Mt[0];Mt=Mt[1];var R=mr.split("_");ye=2<=R.length&&R[1]=="type"?ye+(mr+"="+Mt+"&"):ye+(mr+"=redacted&")}}else ye=null;else ye=Y;return"XMLHTTP REQ ("+L+") [attempt "+U+"]: "+y+`
`+T+`
`+ye})}function di(d,y,T,L,U,Y,ye){d.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+U+"]: "+y+`
`+T+`
`+Y+" "+ye})}function Rr(d,y,T,L){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+gn(d,T)+(L?" "+L:"")})}function Dr(d,y){d.info(function(){return"TIMEOUT: "+y})}bt.prototype.info=function(){};function gn(d,y){if(!d.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var L=T[d];if(!(2>L.length)){var U=L[1];if(Array.isArray(U)&&!(1>U.length)){var Y=U[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ye=1;ye<U.length;ye++)U[ye]=""}}}}return Pe(T)}catch{return y}}var Cn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ds;function ee(){}m(ee,En),ee.prototype.g=function(){return new XMLHttpRequest},ee.prototype.i=function(){return{}},Ds=new ee;function J(d,y,T,L){this.j=d,this.i=y,this.l=T,this.R=L||1,this.U=new cn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ie}function Ie(){this.i=null,this.g="",this.h=!1}var tt={},ht={};function Vt(d,y,T){d.L=1,d.v=tu(Mo(y)),d.m=T,d.P=!0,Tn(d,null)}function Tn(d,y){d.F=Date.now(),zl(d),d.A=Mo(d.v);var T=d.A,L=d.R;Array.isArray(L)||(L=[String(L)]),Kl(T.i,"t",L),d.C=0,T=d.j.J,d.h=new Ie,d.g=Lf(d.j,T?y:null,!d.m),0<d.O&&(d.M=new Je(h(d.Y,d,d.g),d.O)),y=d.U,T=d.g,L=d.ca;var U="readystatechange";Array.isArray(U)||(U&&(Wn[0]=U.toString()),U=Wn);for(var Y=0;Y<U.length;Y++){var ye=Bt(T,U[Y],L||y.handleEvent,!1,y.h||y);if(!ye)break;y.g[ye.key]=ye}y=d.H?I(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),so(),or(d.i,d.u,d.A,d.l,d.R,d.m)}J.prototype.ca=function(d){d=d.target;const y=this.M;y&&Lo(d)==3?y.j():this.Y(d)},J.prototype.Y=function(d){try{if(d==this.g)e:{const R=Lo(this.g);var y=this.g.Ba();const D=this.g.Z();if(!(3>R)&&(R!=3||this.g&&(this.h.h||this.g.oa()||Af(this.g)))){this.J||R!=4||y==7||(y==8||0>=D?so(3):so(2)),$s(this);var T=this.g.Z();this.X=T;t:if($r(this)){var L=Af(this.g);d="";var U=L.length,Y=Lo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gt(this),Oo(this);var ye="";break t}this.h.i=new a.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,d+=this.h.i.decode(L[y],{stream:!(Y&&y==U-1)});L.length=0,this.h.g+=d,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=T==200,di(this.i,this.u,this.A,this.l,this.R,R,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Jt,sr=this.g;if((Jt=sr.g?sr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Jt)){var Mt=Jt;break t}}Mt=null}if(T=Mt)Rr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qr(this,T);else{this.o=!1,this.s=3,_e(12),gt(this),Oo(this);break e}}if(this.P){T=!0;let V;for(;!this.J&&this.C<ye.length;)if(V=Jc(this,ye),V==ht){R==4&&(this.s=4,_e(14),T=!1),Rr(this.i,this.l,null,"[Incomplete Response]");break}else if(V==tt){this.s=4,_e(15),Rr(this.i,this.l,ye,"[Invalid Chunk]"),T=!1;break}else Rr(this.i,this.l,V,null),Qr(this,V);if($r(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),R!=4||ye.length!=0||this.h.h||(this.s=1,_e(16),T=!1),this.o=this.o&&T,!T)Rr(this.i,this.l,ye,"[Invalid Chunked Response]"),gt(this),Oo(this);else if(0<ye.length&&!this.W){this.W=!0;var mr=this.j;mr.g==this&&mr.ba&&!mr.M&&(mr.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Df(mr),mr.M=!0,_e(11))}}else Rr(this.i,this.l,ye,null),Qr(this,ye);R==4&&gt(this),this.o&&!this.J&&(R==4?fu(this.j,this):(this.o=!1,zl(this)))}else Eb(this.g),T==400&&0<ye.indexOf("Unknown SID")?(this.s=3,_e(12)):(this.s=0,_e(13)),gt(this),Oo(this)}}}catch{}finally{}};function $r(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Jc(d,y){var T=d.C,L=y.indexOf(`
`,T);return L==-1?ht:(T=Number(y.substring(T,L)),isNaN(T)?tt:(L+=1,L+T>y.length?ht:(y=y.slice(L,L+T),d.C=L+T,y)))}J.prototype.cancel=function(){this.J=!0,gt(this)};function zl(d){d.S=Date.now()+d.I,Zc(d,d.I)}function Zc(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=et(h(d.ba,d),y)}function $s(d){d.B&&(a.clearTimeout(d.B),d.B=null)}J.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Dr(this.i,this.A),this.L!=2&&(so(),_e(17)),gt(this),this.s=2,Oo(this)):Zc(this,this.S-d)};function Oo(d){d.j.G==0||d.J||fu(d.j,d)}function gt(d){$s(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,Yr(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Qr(d,y){try{var T=d.j;if(T.G!=0&&(T.g==d||Wg(T.h,d))){if(!d.K&&Wg(T.h,d)&&T.G==3){try{var L=T.Da.g.parse(y)}catch{L=null}if(Array.isArray(L)&&L.length==3){var U=L;if(U[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)Aa(T),uu(T);else break e;Mf(T),_e(18)}}else T.za=U[1],0<T.za-T.T&&37500>U[2]&&T.F&&T.v==0&&!T.C&&(T.C=et(h(T.Za,T),6e3));if(1>=_b(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Vs(T,11)}else if((d.K||T.g==d)&&Aa(T),!w(y))for(U=T.Da.g.parse(y),y=0;y<U.length;y++){let Mt=U[y];if(T.T=Mt[0],Mt=Mt[1],T.G==2)if(Mt[0]=="c"){T.K=Mt[1],T.ia=Mt[2];const mr=Mt[3];mr!=null&&(T.la=mr,T.j.info("VER="+T.la));const R=Mt[4];R!=null&&(T.Aa=R,T.j.info("SVER="+T.Aa));const D=Mt[5];D!=null&&typeof D=="number"&&0<D&&(L=1.5*D,T.L=L,T.j.info("backChannelRequestTimeoutMs_="+L)),L=T;const V=d.g;if(V){const B=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(B){var Y=L.h;Y.g||B.indexOf("spdy")==-1&&B.indexOf("quic")==-1&&B.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Hg(Y,Y.h),Y.h=null))}if(L.D){const z=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;z&&(L.ya=z,Pt(L.I,L.D,z))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),L=T;var ye=d;if(L.qa=om(L,L.J?L.ia:null,L.W),ye.K){bb(L.h,ye);var Jt=ye,sr=L.L;sr&&(Jt.I=sr),Jt.B&&($s(Jt),zl(Jt)),L.g=ye}else nm(L);0<T.i.length&&du(T)}else Mt[0]!="stop"&&Mt[0]!="close"||Vs(T,7);else T.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?Vs(T,7):Of(T):Mt[0]!="noop"&&T.l&&T.l.ta(Mt),T.v=0)}}so(4)}catch{}}var No=class{constructor(d,y){this.g=d,this.map=y}};function Ls(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tf(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function _b(d){return d.h?1:d.g?d.g.size:0}function Wg(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Hg(d,y){d.g?d.g.add(y):d.h=y}function bb(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}Ls.prototype.cancel=function(){if(this.i=wb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function wb(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const T of d.g.values())y=y.concat(T.D);return y}return x(d.i)}function DI(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var y=[],T=d.length,L=0;L<T;L++)y.push(d[L]);return y}y=[],T=0;for(L in d)y[T++]=d[L];return y}function $I(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var y=[];d=d.length;for(var T=0;T<d;T++)y.push(T);return y}y=[],T=0;for(const L in d)y[T++]=L;return y}}}function Gg(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var T=$I(d),L=DI(d),U=L.length,Y=0;Y<U;Y++)y.call(void 0,L[Y],T&&T[Y],d)}var If=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wl(d,y){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var L=d[T].indexOf("="),U=null;if(0<=L){var Y=d[T].substring(0,L);U=d[T].substring(L+1)}else Y=d[T];y(Y,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function os(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof os){this.h=d.h,eu(this,d.j),this.o=d.o,this.g=d.g,ao(this,d.s),this.l=d.l;var y=d.i,T=new lo;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),Hl(this,T),this.m=d.m}else d&&(y=String(d).match(If))?(this.h=!1,eu(this,y[1]||"",!0),this.o=Fs(y[2]||""),this.g=Fs(y[3]||"",!0),ao(this,y[4]),this.l=Fs(y[5]||"",!0),Hl(this,y[6]||"",!0),this.m=Fs(y[7]||"")):(this.h=!1,this.i=new lo(null,this.h))}os.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Ca(y,Rf,!0),":");var T=this.g;return(T||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Ca(y,Rf,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Ca(T,T.charAt(0)=="/"?ru:Gl,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Ca(T,Pf)),d.join("")};function Mo(d){return new os(d)}function eu(d,y,T){d.j=T?Fs(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function ao(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function Hl(d,y,T){y instanceof lo?(d.i=y,qg(d.i,d.h)):(T||(y=Ca(y,Kg)),d.i=new lo(y,d.h))}function Pt(d,y,T){d.i.set(y,T)}function tu(d){return Pt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Fs(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ca(d,y,T){return typeof d=="string"?(d=encodeURI(d).replace(y,nu),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function nu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Rf=/[#\/\?@]/g,Gl=/[#\?:]/g,ru=/[#\?]/g,Kg=/[#\?@]/g,Pf=/#/g;function lo(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Do(d){d.g||(d.g=new Map,d.h=0,d.i&&Wl(d.i,function(y,T){d.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}t=lo.prototype,t.add=function(d,y){Do(this),this.i=null,d=co(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(y),this.h+=1,this};function iu(d,y){Do(d),y=co(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function hi(d,y){return Do(d),y=co(d,y),d.g.has(y)}t.forEach=function(d,y){Do(this),this.g.forEach(function(T,L){T.forEach(function(U){d.call(y,U,L,this)},this)},this)},t.na=function(){Do(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let L=0;L<y.length;L++){const U=d[L];for(let Y=0;Y<U.length;Y++)T.push(y[L])}return T},t.V=function(d){Do(this);let y=[];if(typeof d=="string")hi(this,d)&&(y=y.concat(this.g.get(co(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)y=y.concat(d[T])}return y},t.set=function(d,y){return Do(this),this.i=null,d=co(this,d),hi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function Kl(d,y,T){iu(d,y),0<T.length&&(d.i=null,d.g.set(co(d,y),x(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var L=y[T];const Y=encodeURIComponent(String(L)),ye=this.V(L);for(L=0;L<ye.length;L++){var U=Y;ye[L]!==""&&(U+="="+encodeURIComponent(String(ye[L]))),d.push(U)}}return this.i=d.join("&")};function co(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function qg(d,y){y&&!d.j&&(Do(d),d.i=null,d.g.forEach(function(T,L){var U=L.toLowerCase();L!=U&&(iu(this,L),Kl(this,U,T))},d)),d.j=y}function xb(d,y){const T=new bt;if(a.Image){const L=new Image;L.onload=p($o,T,"TestLoadImage: loaded",!0,y,L),L.onerror=p($o,T,"TestLoadImage: error",!1,y,L),L.onabort=p($o,T,"TestLoadImage: abort",!1,y,L),L.ontimeout=p($o,T,"TestLoadImage: timeout",!1,y,L),a.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=d}else y(!1)}function ql(d,y){const T=new bt,L=new AbortController,U=setTimeout(()=>{L.abort(),$o(T,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:L.signal}).then(Y=>{clearTimeout(U),Y.ok?$o(T,"TestPingServer: ok",!0,y):$o(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),$o(T,"TestPingServer: error",!1,y)})}function $o(d,y,T,L,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),L(T)}catch{}}function Yg(){this.g=new St}function ou(d,y,T){const L=T||"";try{Gg(d,function(U,Y){let ye=U;c(U)&&(ye=Pe(U)),y.push(L+Y+"="+encodeURIComponent(ye))})}catch(U){throw y.push(L+"type="+encodeURIComponent("_badmap")),U}}function su(d){this.l=d.Ub||null,this.j=d.eb||!1}m(su,En),su.prototype.g=function(){return new Ta(this.l,this.j)},su.prototype.i=function(d){return function(){return d}}({});function Ta(d,y){Ut.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Ta,Ut),t=Ta.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Ra(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ia(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ra(this)),this.g&&(this.readyState=3,Ra(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bs(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bs(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Ia(this):Ra(this),this.readyState==3&&Bs(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Ia(this))},t.Qa=function(d){this.g&&(this.response=d,Ia(this))},t.ga=function(){this.g&&Ia(this)};function Ia(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ra(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=y.next();return d.join(`\r
`)};function Ra(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function kf(d){let y="";return M(d,function(T,L){y+=L,y+=":",y+=T,y+=`\r
`}),y}function au(d,y,T){e:{for(L in T){var L=!1;break e}L=!0}L||(T=kf(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):Pt(d,y,T))}function In(d){Ut.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(In,Ut);var Jr=/^https?$/i,Xg=["POST","PUT"];t=In.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,T,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ds.g(),this.v=this.o?hr(this.o):hr(Ds),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(Y){Qg(this,Y);return}if(d=T||"",T=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var U in L)T.set(U,L[U]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const Y of L.keys())T.set(Y,L.get(Y));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(T.keys()).find(Y=>Y.toLowerCase()=="content-type"),U=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Xg,y,void 0))||L||U||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ye]of T)this.g.setRequestHeader(Y,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lu(this),this.u=!0,this.g.send(d),this.u=!1}catch(Y){Qg(this,Y)}};function Qg(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,Jg(d),Pa(d)}function Jg(d){d.A||(d.A=!0,Nt(d,"complete"),Nt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Nt(this,"complete"),Nt(this,"abort"),Pa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pa(this,!0)),In.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zg(this):this.bb())},t.bb=function(){Zg(this)};function Zg(d){if(d.h&&typeof s<"u"&&(!d.v[1]||Lo(d)!=4||d.Z()!=2)){if(d.u&&Lo(d)==4)Qt(d.Ea,0,d);else if(Nt(d,"readystatechange"),Lo(d)==4){d.h=!1;try{const ye=d.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var L;if(L=ye===0){var U=String(d.D).match(If)[1]||null;!U&&a.self&&a.self.location&&(U=a.self.location.protocol.slice(0,-1)),L=!Jr.test(U?U.toLowerCase():"")}T=L}if(T)Nt(d,"complete"),Nt(d,"success");else{d.m=6;try{var Y=2<Lo(d)?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.Z()+"]",Jg(d)}}finally{Pa(d)}}}}function Pa(d,y){if(d.g){lu(d);const T=d.g,L=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||Nt(d,"ready");try{T.onreadystatechange=L}catch{}}}function lu(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Lo(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Lo(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),ct(y)}};function Af(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Eb(d){const y={};d=(d.g&&2<=Lo(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<d.length;L++){if(w(d[L]))continue;var T=O(d[L]);const U=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Y=y[U]||[];y[U]=Y,Y.push(T)}E(y,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yl(d,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||y}function cu(d){this.Aa=0,this.i=[],this.j=new bt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yl("baseRetryDelayMs",5e3,d),this.cb=Yl("retryDelaySeedMs",1e4,d),this.Wa=Yl("forwardChannelMaxRetries",2,d),this.wa=Yl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ls(d&&d.concurrentRequestLimit),this.Da=new Yg,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=cu.prototype,t.la=8,t.G=1,t.connect=function(d,y,T,L){_e(0),this.W=d,this.H=y||{},T&&L!==void 0&&(this.H.OSID=T,this.H.OAID=L),this.F=this.X,this.I=om(this,null,this.W),du(this)};function Of(d){if(em(d),d.G==3){var y=d.U++,T=Mo(d.I);if(Pt(T,"SID",d.K),Pt(T,"RID",y),Pt(T,"TYPE","terminate"),ka(d,T),y=new J(d,d.j,y),y.L=2,y.v=tu(Mo(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=y.v,T=!0),T||(y.g=Lf(y.j,null),y.g.ea(y.v)),y.F=Date.now(),zl(y)}$f(d)}function uu(d){d.g&&(Df(d),d.g.cancel(),d.g=null)}function em(d){uu(d),d.u&&(a.clearTimeout(d.u),d.u=null),Aa(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function du(d){if(!Tf(d.h)&&!d.s){d.s=!0;var y=d.Ga;ie||G(),K||(ie(),K=!0),j.add(y,d),d.B=0}}function Sb(d,y){return _b(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=et(h(d.Ga,d,y),im(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const U=new J(this,this.j,d);let Y=this.o;if(this.S&&(Y?(Y=I(Y),_(Y,this.S)):Y=this.S),this.m!==null||this.O||(U.H=Y,Y=null),this.P)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var L=this.i[T];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(y+=L,4096<y){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=Nf(this,U,y),T=Mo(this.I),Pt(T,"RID",d),Pt(T,"CVER",22),this.D&&Pt(T,"X-HTTP-Session-Id",this.D),ka(this,T),Y&&(this.O?y="headers="+encodeURIComponent(String(kf(Y)))+"&"+y:this.m&&au(T,this.m,Y)),Hg(this.h,U),this.Ua&&Pt(T,"TYPE","init"),this.P?(Pt(T,"$req",y),Pt(T,"SID","null"),U.T=!0,Vt(U,T,null)):Vt(U,T,y),this.G=2}}else this.G==3&&(d?tm(this,d):this.i.length==0||Tf(this.h)||tm(this))};function tm(d,y){var T;y?T=y.l:T=d.U++;const L=Mo(d.I);Pt(L,"SID",d.K),Pt(L,"RID",T),Pt(L,"AID",d.T),ka(d,L),d.m&&d.o&&au(L,d.m,d.o),T=new J(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),y&&(d.i=y.D.concat(d.i)),y=Nf(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Hg(d.h,T),Vt(T,L,y)}function ka(d,y){d.H&&M(d.H,function(T,L){Pt(y,L,T)}),d.l&&Gg({},function(T,L){Pt(y,L,T)})}function Nf(d,y,T){T=Math.min(d.i.length,T);var L=d.l?h(d.l.Na,d.l,d):null;e:{var U=d.i;let Y=-1;for(;;){const ye=["count="+T];Y==-1?0<T?(Y=U[0].g,ye.push("ofs="+Y)):Y=0:ye.push("ofs="+Y);let Jt=!0;for(let sr=0;sr<T;sr++){let Mt=U[sr].g;const mr=U[sr].map;if(Mt-=Y,0>Mt)Y=Math.max(0,U[sr].g-100),Jt=!1;else try{ou(mr,ye,"req"+Mt+"_")}catch{L&&L(mr)}}if(Jt){L=ye.join("&");break e}}}return d=d.i.splice(0,T),y.D=d,L}function nm(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;ie||G(),K||(ie(),K=!0),j.add(y,d),d.v=0}}function Mf(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=et(h(d.Fa,d),im(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,rm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=et(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_e(10),uu(this),rm(this))};function Df(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function rm(d){d.g=new J(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=Mo(d.qa);Pt(y,"RID","rpc"),Pt(y,"SID",d.K),Pt(y,"AID",d.T),Pt(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Pt(y,"TO",d.ja),Pt(y,"TYPE","xmlhttp"),ka(d,y),d.m&&d.o&&au(y,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=tu(Mo(y)),T.m=null,T.P=!0,Tn(T,d)}t.Za=function(){this.C!=null&&(this.C=null,uu(this),Mf(this),_e(19))};function Aa(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function fu(d,y){var T=null;if(d.g==y){Aa(d),Df(d),d.g=null;var L=2}else if(Wg(d.h,y))T=y.D,bb(d.h,y),L=1;else return;if(d.G!=0){if(y.o)if(L==1){T=y.m?y.m.length:0,y=Date.now()-y.F;var U=d.B;L=Mi(),Nt(L,new Ze(L,T)),du(d)}else nm(d);else if(U=y.s,U==3||U==0&&0<y.X||!(L==1&&Sb(d,y)||L==2&&Mf(d)))switch(T&&0<T.length&&(y=d.h,y.i=y.i.concat(T)),U){case 1:Vs(d,5);break;case 4:Vs(d,10);break;case 3:Vs(d,6);break;default:Vs(d,2)}}}function im(d,y){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*y}function Vs(d,y){if(d.j.info("Error code "+y),y==2){var T=h(d.fb,d),L=d.Xa;const U=!L;L=new os(L||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||eu(L,"https"),tu(L),U?xb(L.toString(),T):ql(L.toString(),T)}else _e(2);d.G=0,d.l&&d.l.sa(y),$f(d),em(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function $f(d){if(d.G=0,d.ka=[],d.l){const y=wb(d.h);(y.length!=0||d.i.length!=0)&&(S(d.ka,y),S(d.ka,d.i),d.h.i.length=0,x(d.i),d.i.length=0),d.l.ra()}}function om(d,y,T){var L=T instanceof os?Mo(T):new os(T);if(L.g!="")y&&(L.g=y+"."+L.g),ao(L,L.s);else{var U=a.location;L=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var Y=new os(null);L&&eu(Y,L),y&&(Y.g=y),U&&ao(Y,U),T&&(Y.l=T),L=Y}return T=d.D,y=d.ya,T&&y&&Pt(L,T,y),Pt(L,"VER",d.la),ka(d,L),L}function Lf(d,y,T){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new In(new su({eb:T})):new In(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sm(){}t=sm.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ss(){}ss.prototype.g=function(d,y){return new Zr(d,y)};function Zr(d,y){Ut.call(this),this.g=new cu(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!w(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!w(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new ei(this)}m(Zr,Ut),Zr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zr.prototype.close=function(){Of(this.g)},Zr.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=Pe(d),d=T);y.i.push(new No(y.Ya++,d)),y.G==3&&du(y)},Zr.prototype.N=function(){this.g.l=null,delete this.j,Of(this.g),delete this.g,Zr.aa.N.call(this)};function am(d){gr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const T in y){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}m(am,gr);function lm(){Xr.call(this),this.status=1}m(lm,Xr);function ei(d){this.g=d}m(ei,sm),ei.prototype.ua=function(){Nt(this.g,"a")},ei.prototype.ta=function(d){Nt(this.g,new am(d))},ei.prototype.sa=function(d){Nt(this.g,new lm)},ei.prototype.ra=function(){Nt(this.g,"b")},ss.prototype.createWebChannel=ss.prototype.g,Zr.prototype.send=Zr.prototype.o,Zr.prototype.open=Zr.prototype.m,Zr.prototype.close=Zr.prototype.close,tL=function(){return new ss},eL=function(){return Mi()},Z$=Sn,Jx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cn.NO_ERROR=0,Cn.TIMEOUT=8,Cn.HTTP_ERROR=6,xy=Cn,fi.COMPLETE="complete",J$=fi,Yn.EventType=pr,pr.OPEN="a",pr.CLOSE="b",pr.ERROR="c",pr.MESSAGE="d",Ut.prototype.listen=Ut.prototype.K,_h=Yn,In.prototype.listenOnce=In.prototype.L,In.prototype.getLastError=In.prototype.Ka,In.prototype.getLastErrorCode=In.prototype.Ba,In.prototype.getStatus=In.prototype.Z,In.prototype.getResponseJson=In.prototype.Oa,In.prototype.getResponseText=In.prototype.oa,In.prototype.send=In.prototype.ea,In.prototype.setWithCredentials=In.prototype.Ha,Q$=In}).apply(typeof km<"u"?km:typeof self<"u"?self:typeof window<"u"?window:{});const AP="@firebase/firestore",OP="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zr.UNAUTHENTICATED=new zr(null),zr.GOOGLE_CREDENTIALS=new zr("google-credentials-uid"),zr.FIRST_PARTY=new zr("first-party-uid"),zr.MOCK_USER=new zr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ef="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new O0("@firebase/firestore");function xu(){return Tc.logLevel}function ke(t,...e){if(Tc.logLevel<=It.DEBUG){const n=e.map(NC);Tc.debug(`Firestore (${ef}): ${t}`,...n)}}function ha(t,...e){if(Tc.logLevel<=It.ERROR){const n=e.map(NC);Tc.error(`Firestore (${ef}): ${t}`,...n)}}function Rd(t,...e){if(Tc.logLevel<=It.WARN){const n=e.map(NC);Tc.warn(`Firestore (${ef}): ${t}`,...n)}}function NC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t="Unexpected state"){const e=`FIRESTORE (${ef}) INTERNAL ASSERTION FAILED: `+t;throw ha(e),new Error(e)}function Yt(t,e){t||qe()}function ot(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends ks{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zr.UNAUTHENTICATED))}shutdown(){}}class p8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class g8{constructor(e){this.t=e,this.currentUser=zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Yt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new ul;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ul,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ul)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yt(typeof r.accessToken=="string"),new nL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Yt(e===null||typeof e=="string"),new zr(e)}}class m8{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=zr.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class y8{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new m8(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v8{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ii(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Yt(this.o===void 0);const r=o=>{o.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ke("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new NP(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Yt(typeof n.token=="string"),this.R=n.token,new NP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=_8(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function vt(t,e){return t<e?-1:t>e?1:0}function Zx(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return vt(r,i);{const o=rL(),s=b8(o.encode(MP(t,n)),o.encode(MP(e,n)));return s!==0?s:vt(r,i)}}n+=r>65535?2:1}return vt(t.length,e.length)}function MP(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function b8(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return vt(t[n],e[n]);return vt(t.length,e.length)}function Pd(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=-62135596800,$P=1e6;class dr{static now(){return dr.fromMillis(Date.now())}static fromDate(e){return dr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*$P);return new dr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ne(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<DP)throw new Ne(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$P}_compareTo(e){return this.seconds===e.seconds?vt(this.nanoseconds,e.nanoseconds):vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-DP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{static fromTimestamp(e){return new nt(e)}static min(){return new nt(new dr(0,0))}static max(){return new nt(new dr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="__name__";class us{constructor(e,n,r){n===void 0?n=0:n>e.length&&qe(),r===void 0?r=e.length-n:r>e.length-n&&qe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return us.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof us?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=us.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return vt(e.length,n.length)}static compareSegments(e,n){const r=us.isNumericId(e),i=us.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?us.extractNumericId(e).compare(us.extractNumericId(n)):Zx(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cl.fromString(e.substring(4,e.length-2))}}class wn extends us{construct(e,n,r){return new wn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new wn(n)}static emptyPath(){return new wn([])}}const w8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ar extends us{construct(e,n,r){return new Ar(e,n,r)}static isValidIdentifier(e){return w8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ar.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LP}static keyField(){return new Ar([LP])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ne(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ne(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ne(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ne(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ar(n)}static emptyPath(){return new Ar([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(wn.fromString(e))}static fromName(e){return new je(wn.fromString(e).popFirst(5))}static empty(){return new je(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new wn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=-1;function x8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=nt.fromTimestamp(r===1e9?new dr(n+1,0):new dr(n,r));return new _l(i,je.empty(),e)}function E8(t){return new _l(t.readTime,t.key,Cp)}class _l{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _l(nt.min(),je.empty(),Cp)}static max(){return new _l(nt.max(),je.empty(),Cp)}}function S8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(t.documentKey,e.documentKey),n!==0?n:vt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tf(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==C8)throw t;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new te((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function I8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}L0.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=-1;function F0(t){return t==null}function vv(t){return t===0&&1/t==-1/0}function R8(t){return typeof t=="number"&&Number.isInteger(t)&&!vv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL="";function P8(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=FP(e)),e=k8(t.get(n),e);return FP(e)}function k8(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case oL:n+="";break;default:n+=o}}return n}function FP(t){return t+oL+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rr=class eE{constructor(e,n){this.comparator=e,this.root=n||dl.EMPTY}insert(e,n){return new eE(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dl.BLACK,null,null))}remove(e){return new eE(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dl.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Am(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Am(this.root,e,this.comparator,!1)}getReverseIterator(){return new Am(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Am(this.root,e,this.comparator,!0)}},Am=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},dl=class Ws{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ws.RED,this.left=i??Ws.EMPTY,this.right=o??Ws.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ws(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ws.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ws.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ws.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ws.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qe();const e=this.left.check();if(e!==this.right.check())throw qe();return e+(this.isRed()?0:1)}};dl.EMPTY=null,dl.RED=!0,dl.BLACK=!1;dl.EMPTY=new class{constructor(){this.size=0}get key(){throw qe()}get value(){throw qe()}get color(){throw qe()}get left(){throw qe()}get right(){throw qe()}copy(e,n,r,i,o){return this}insert(e,n,r){return new dl(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.comparator=e,this.data=new rr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VP(this.data.getIterator())}getIteratorFrom(e){return new VP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof fr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new fr(this.comparator);return n.data=e,n}}class VP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this.fields=e,e.sort(Ar.comparator)}static empty(){return new Gi([])}unionWith(e){let n=new fr(Ar.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pd(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new aL("Invalid base64 string: "+o):o}}(e);return new Mr(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Mr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mr.EMPTY_BYTE_STRING=new Mr("");const A8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bl(t){if(Yt(!!t),typeof t=="string"){let e=0;const n=A8.exec(t);if(Yt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gn(t.seconds),nanos:Gn(t.nanos)}}function Gn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wl(t){return typeof t=="string"?Mr.fromBase64String(t):Mr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL="server_timestamp",cL="__type__",uL="__previous_value__",dL="__local_write_time__";function DC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[cL])===null||n===void 0?void 0:n.stringValue)===lL}function B0(t){const e=t.mapValue.fields[uL];return DC(e)?B0(e):e}function Tp(t){const e=bl(t.mapValue.fields[dL].timestampValue);return new dr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const _v="(default)";class Ip{constructor(e,n){this.projectId=e,this.database=n||_v}static empty(){return new Ip("","")}get isDefaultDatabase(){return this.database===_v}isEqual(e){return e instanceof Ip&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="__type__",N8="__max__",Om={mapValue:{}},hL="__vector__",bv="value";function xl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?DC(t)?4:D8(t)?9007199254740991:M8(t)?10:11:qe()}function Cs(t,e){if(t===e)return!0;const n=xl(t);if(n!==xl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tp(t).isEqual(Tp(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=bl(i.timestampValue),a=bl(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return wl(i.bytesValue).isEqual(wl(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Gn(i.geoPointValue.latitude)===Gn(o.geoPointValue.latitude)&&Gn(i.geoPointValue.longitude)===Gn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Gn(i.integerValue)===Gn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Gn(i.doubleValue),a=Gn(o.doubleValue);return s===a?vv(s)===vv(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Pd(t.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(BP(s)!==BP(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Cs(s[l],a[l])))return!1;return!0}(t,e);default:return qe()}}function Rp(t,e){return(t.values||[]).find(n=>Cs(n,e))!==void 0}function kd(t,e){if(t===e)return 0;const n=xl(t),r=xl(e);if(n!==r)return vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Gn(o.integerValue||o.doubleValue),l=Gn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return jP(t.timestampValue,e.timestampValue);case 4:return jP(Tp(t),Tp(e));case 5:return Zx(t.stringValue,e.stringValue);case 6:return function(o,s){const a=wl(o),l=wl(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=vt(a[c],l[c]);if(u!==0)return u}return vt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=vt(Gn(o.latitude),Gn(s.latitude));return a!==0?a:vt(Gn(o.longitude),Gn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return UP(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,c,u;const f=o.fields||{},h=s.fields||{},p=(a=f[bv])===null||a===void 0?void 0:a.arrayValue,m=(l=h[bv])===null||l===void 0?void 0:l.arrayValue,x=vt(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return x!==0?x:UP(p,m)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Om.mapValue&&s===Om.mapValue)return 0;if(o===Om.mapValue)return 1;if(s===Om.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=Zx(l[f],u[f]);if(h!==0)return h;const p=kd(a[l[f]],c[u[f]]);if(p!==0)return p}return vt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw qe()}}function jP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return vt(t,e);const n=bl(t),r=bl(e),i=vt(n.seconds,r.seconds);return i!==0?i:vt(n.nanos,r.nanos)}function UP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=kd(n[i],r[i]);if(o)return o}return vt(n.length,r.length)}function Ad(t){return tE(t)}function tE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=bl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return wl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return je.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=tE(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${tE(n.fields[s])}`;return i+"}"}(t.mapValue):qe()}function Ey(t){switch(xl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=B0(t);return e?16+Ey(e):16;case 5:return 2*t.stringValue.length;case 6:return wl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Ey(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Bl(r.fields,(o,s)=>{i+=o.length+Ey(s)}),i}(t.mapValue);default:throw qe()}}function zP(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function nE(t){return!!t&&"integerValue"in t}function $C(t){return!!t&&"arrayValue"in t}function WP(t){return!!t&&"nullValue"in t}function HP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sy(t){return!!t&&"mapValue"in t}function M8(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[fL])===null||n===void 0?void 0:n.stringValue)===hL}function Bh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function D8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===N8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.value=e}static empty(){return new vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bh(n)}setAll(e){let n=Ar.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Bh(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Sy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bl(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new vi(Bh(this.value))}}function pL(t){const e=[];return Bl(t.fields,(n,r)=>{const i=new Ar([n]);if(Sy(r)){const o=pL(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Gi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Hr(e,0,nt.min(),nt.min(),nt.min(),vi.empty(),0)}static newFoundDocument(e,n,r,i){return new Hr(e,1,n,nt.min(),r,i,0)}static newNoDocument(e,n){return new Hr(e,2,n,nt.min(),nt.min(),vi.empty(),0)}static newUnknownDocument(e,n){return new Hr(e,3,n,nt.min(),nt.min(),vi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Hr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n){this.position=e,this.inclusive=n}}function GP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=je.comparator(je.fromName(s.referenceValue),n.key):r=kd(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function KP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n="asc"){this.field=e,this.dir=n}}function $8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{}class nr extends gL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new F8(e,n,r):n==="array-contains"?new j8(e,r):n==="in"?new U8(e,r):n==="not-in"?new z8(e,r):n==="array-contains-any"?new W8(e,r):new nr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new B8(e,r):new V8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(kd(n,this.value)):n!==null&&xl(this.value)===xl(n)&&this.matchesComparison(kd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class es extends gL{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new es(e,n)}matches(e){return mL(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function mL(t){return t.op==="and"}function yL(t){return L8(t)&&mL(t)}function L8(t){for(const e of t.filters)if(e instanceof es)return!1;return!0}function rE(t){if(t instanceof nr)return t.field.canonicalString()+t.op.toString()+Ad(t.value);if(yL(t))return t.filters.map(e=>rE(e)).join(",");{const e=t.filters.map(n=>rE(n)).join(",");return`${t.op}(${e})`}}function vL(t,e){return t instanceof nr?function(r,i){return i instanceof nr&&r.op===i.op&&r.field.isEqual(i.field)&&Cs(r.value,i.value)}(t,e):t instanceof es?function(r,i){return i instanceof es&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&vL(s,i.filters[a]),!0):!1}(t,e):void qe()}function _L(t){return t instanceof nr?function(n){return`${n.field.canonicalString()} ${n.op} ${Ad(n.value)}`}(t):t instanceof es?function(n){return n.op.toString()+" {"+n.getFilters().map(_L).join(" ,")+"}"}(t):"Filter"}class F8 extends nr{constructor(e,n,r){super(e,n,r),this.key=je.fromName(r.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.matchesComparison(n)}}class B8 extends nr{constructor(e,n){super(e,"in",n),this.keys=bL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class V8 extends nr{constructor(e,n){super(e,"not-in",n),this.keys=bL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>je.fromName(r.referenceValue))}class j8 extends nr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $C(n)&&Rp(n.arrayValue,this.value)}}class U8 extends nr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Rp(this.value.arrayValue,n)}}class z8 extends nr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Rp(this.value.arrayValue,n)}}class W8 extends nr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$C(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rp(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.le=null}}function qP(t,e=null,n=[],r=[],i=null,o=null,s=null){return new H8(t,e,n,r,i,o,s)}function LC(t){const e=ot(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>rE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),F0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ad(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ad(r)).join(",")),e.le=n}return e.le}function FC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KP(t.startAt,e.startAt)&&KP(t.endAt,e.endAt)}function iE(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function G8(t,e,n,r,i,o,s,a){return new cg(t,e,n,r,i,o,s,a)}function BC(t){return new cg(t)}function YP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wL(t){return t.collectionGroup!==null}function Vh(t){const e=ot(t);if(e.he===null){e.he=[];const n=new Set;for(const o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new fr(Ar.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new xv(o,r))}),n.has(Ar.keyField().canonicalString())||e.he.push(new xv(Ar.keyField(),r))}return e.he}function _s(t){const e=ot(t);return e.Pe||(e.Pe=K8(e,Vh(t))),e.Pe}function K8(t,e){if(t.limitType==="F")return qP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new xv(i.field,o)});const n=t.endAt?new wv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wv(t.startAt.position,t.startAt.inclusive):null;return qP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function oE(t,e){const n=t.filters.concat([e]);return new cg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sE(t,e,n){return new cg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function V0(t,e){return FC(_s(t),_s(e))&&t.limitType===e.limitType}function xL(t){return`${LC(_s(t))}|lt:${t.limitType}`}function Eu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_L(i)).join(", ")}]`),F0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ad(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ad(i)).join(",")),`Target(${r})`}(_s(t))}; limitType=${t.limitType})`}function j0(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):je.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Vh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=GP(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,Vh(r),i)||r.endAt&&!function(s,a,l){const c=GP(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,Vh(r),i))}(t,e)}function q8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function EL(t){return(e,n)=>{let r=!1;for(const i of Vh(t)){const o=Y8(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Y8(t,e,n){const r=t.field.isKeyField()?je.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?kd(l,c):qe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bl(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return sL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8=new rr(je.comparator);function pa(){return X8}const SL=new rr(je.comparator);function bh(...t){let e=SL;for(const n of t)e=e.insert(n.key,n);return e}function CL(t){let e=SL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function lc(){return jh()}function TL(){return jh()}function jh(){return new Bc(t=>t.toString(),(t,e)=>t.isEqual(e))}const Q8=new rr(je.comparator),J8=new fr(je.comparator);function kt(...t){let e=J8;for(const n of t)e=e.add(n);return e}const Z8=new fr(vt);function e7(){return Z8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vv(e)?"-0":e}}function IL(t){return{integerValue:""+t}}function t7(t,e){return R8(e)?IL(e):VC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(){this._=void 0}}function n7(t,e,n){return t instanceof Pp?function(i,o){const s={fields:{[cL]:{stringValue:lL},[dL]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&DC(o)&&(o=B0(o)),o&&(s.fields[uL]=o),{mapValue:s}}(n,e):t instanceof Od?PL(t,e):t instanceof kp?kL(t,e):function(i,o){const s=RL(i,o),a=XP(s)+XP(i.Ie);return nE(s)&&nE(i.Ie)?IL(a):VC(i.serializer,a)}(t,e)}function r7(t,e,n){return t instanceof Od?PL(t,e):t instanceof kp?kL(t,e):n}function RL(t,e){return t instanceof Ev?function(r){return nE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Pp extends U0{}class Od extends U0{constructor(e){super(),this.elements=e}}function PL(t,e){const n=AL(e);for(const r of t.elements)n.some(i=>Cs(i,r))||n.push(r);return{arrayValue:{values:n}}}class kp extends U0{constructor(e){super(),this.elements=e}}function kL(t,e){let n=AL(e);for(const r of t.elements)n=n.filter(i=>!Cs(i,r));return{arrayValue:{values:n}}}class Ev extends U0{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function XP(t){return Gn(t.integerValue||t.doubleValue)}function AL(t){return $C(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n){this.field=e,this.transform=n}}function i7(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Od&&i instanceof Od||r instanceof kp&&i instanceof kp?Pd(r.elements,i.elements,Cs):r instanceof Ev&&i instanceof Ev?Cs(r.Ie,i.Ie):r instanceof Pp&&i instanceof Pp}(t.transform,e.transform)}class o7{constructor(e,n){this.version=e,this.transformResults=n}}class ai{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class z0{}function NL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new W0(t.key,ai.none()):new ug(t.key,t.data,ai.none());{const n=t.data,r=vi.empty();let i=new fr(Ar.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Vl(t.key,r,new Gi(i.toArray()),ai.none())}}function s7(t,e,n){t instanceof ug?function(i,o,s){const a=i.value.clone(),l=JP(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Vl?function(i,o,s){if(!Cy(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=JP(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(ML(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Uh(t,e,n,r){return t instanceof ug?function(o,s,a,l){if(!Cy(o.precondition,s))return a;const c=o.value.clone(),u=ZP(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vl?function(o,s,a,l){if(!Cy(o.precondition,s))return a;const c=ZP(o.fieldTransforms,l,s),u=s.data;return u.setAll(ML(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Cy(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function a7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=RL(r.transform,i||null);o!=null&&(n===null&&(n=vi.empty()),n.set(r.field,o))}return n||null}function QP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Pd(r,i,(o,s)=>i7(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ug extends z0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vl extends z0{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ML(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function JP(t,e,n){const r=new Map;Yt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,r7(s,a,n[i]))}return r}function ZP(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,n7(o,s,e))}return r}class W0 extends z0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l7 extends z0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&s7(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Uh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Uh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TL();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=NL(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(nt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),kt())}isEqual(e){return this.batchId===e.batchId&&Pd(this.mutations,e.mutations,(n,r)=>QP(n,r))&&Pd(this.baseMutations,e.baseMutations,(n,r)=>QP(n,r))}}class jC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Yt(e.mutations.length===r.length);let i=function(){return Q8}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new jC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zn,$t;function f7(t){switch(t){case ne.OK:return qe();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return qe()}}function DL(t){if(t===void 0)return ha("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Zn.OK:return ne.OK;case Zn.CANCELLED:return ne.CANCELLED;case Zn.UNKNOWN:return ne.UNKNOWN;case Zn.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Zn.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Zn.INTERNAL:return ne.INTERNAL;case Zn.UNAVAILABLE:return ne.UNAVAILABLE;case Zn.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Zn.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Zn.NOT_FOUND:return ne.NOT_FOUND;case Zn.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Zn.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Zn.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Zn.ABORTED:return ne.ABORTED;case Zn.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Zn.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Zn.DATA_LOSS:return ne.DATA_LOSS;default:return qe()}}($t=Zn||(Zn={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7=new cl([4294967295,4294967295],0);function ek(t){const e=rL().encode(t),n=new X$;return n.update(e),new Uint8Array(n.digest())}function tk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new cl([n,r],0),new cl([i,o],0)]}class UC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wh(`Invalid padding: ${n}`);if(r<0)throw new wh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wh(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=cl.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(cl.fromNumber(r)));return i.compare(h7)===1&&(i=new cl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=ek(e),[r,i]=tk(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new UC(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ee===0)return;const n=ek(e),[r,i]=tk(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);this.Ve(s)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,dg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new H0(nt.min(),i,new rr(vt),pa(),kt())}}class dg{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new dg(r,n,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class $L{constructor(e,n){this.targetId=e,this.ge=n}}class LL{constructor(e,n,r=Mr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class nk{constructor(){this.pe=0,this.ye=rk(),this.we=Mr.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=kt(),n=kt(),r=kt();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:qe()}}),new dg(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=rk()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Yt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class p7{constructor(e){this.ke=e,this.qe=new Map,this.Qe=pa(),this.$e=Nm(),this.Ue=Nm(),this.Ke=new rr(vt)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:qe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const o=i.target;if(iE(o))if(r===0){const s=new je(o.path);this.ze(n,s,Hr.newNoDocument(s,nt.min()))}else Yt(r===1);else{const s=this.et(n);if(s!==r){const a=this.tt(e),l=a?this.nt(a,e,s):1;if(l!==0){this.Ye(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=wl(r).toUint8Array()}catch(l){if(l instanceof aL)return Rd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new UC(s,i,o)}catch(l){return Rd(l instanceof wh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ke.it(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,o,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((o,s)=>{const a=this.Xe(s);if(a){if(o.current&&iE(a.target)){const l=new je(a.target.path);this._t(l).has(s)||this.ut(s,l)||this.ze(s,l,Hr.newNoDocument(l,e))}o.ve&&(n.set(s,o.Fe()),o.Me())}});let r=kt();this.Ue.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(e));const i=new H0(e,n,this.Ke,this.Qe,r);return this.Qe=pa(),this.$e=Nm(),this.Ue=Nm(),this.Ke=new rr(vt),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new nk,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new fr(vt),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new fr(vt),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ke("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new nk),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Nm(){return new rr(je.comparator)}function rk(){return new rr(je.comparator)}const g7={asc:"ASCENDING",desc:"DESCENDING"},m7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y7={and:"AND",or:"OR"};class v7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function aE(t,e){return t.useProto3Json||F0(e)?e:{value:e}}function Sv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _7(t,e){return Sv(t,e.toTimestamp())}function bs(t){return Yt(!!t),nt.fromTimestamp(function(n){const r=bl(n);return new dr(r.seconds,r.nanos)}(t))}function zC(t,e){return lE(t,e).canonicalString()}function lE(t,e){const n=function(i){return new wn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function BL(t){const e=wn.fromString(t);return Yt(WL(e)),e}function cE(t,e){return zC(t.databaseId,e.path)}function lw(t,e){const n=BL(e);if(n.get(1)!==t.databaseId.projectId)throw new Ne(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ne(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new je(jL(n))}function VL(t,e){return zC(t.databaseId,e)}function b7(t){const e=BL(t);return e.length===4?wn.emptyPath():jL(e)}function uE(t){return new wn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jL(t){return Yt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ik(t,e,n){return{name:cE(t,e),fields:n.value.mapValue.fields}}function w7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:qe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(Yt(u===void 0||typeof u=="string"),Mr.fromBase64String(u||"")):(Yt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Mr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?ne.UNKNOWN:DL(c.code);return new Ne(u,c.message||"")}(s);n=new LL(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=lw(t,r.document.name),o=bs(r.document.updateTime),s=r.document.createTime?bs(r.document.createTime):nt.min(),a=new vi({mapValue:{fields:r.document.fields}}),l=Hr.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ty(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=lw(t,r.document),o=r.readTime?bs(r.readTime):nt.min(),s=Hr.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ty([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=lw(t,r.document),o=r.removedTargetIds||[];n=new Ty([],o,i,null)}else{if(!("filter"in e))return qe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new d7(i,o),a=r.targetId;n=new $L(a,s)}}return n}function x7(t,e){let n;if(e instanceof ug)n={update:ik(t,e.key,e.value)};else if(e instanceof W0)n={delete:cE(t,e.key)};else if(e instanceof Vl)n={update:ik(t,e.key,e.data),updateMask:A7(e.fieldMask)};else{if(!(e instanceof l7))return qe();n={verify:cE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Pp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Od)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof kp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ev)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw qe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:_7(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:qe()}(t,e.precondition)),n}function E7(t,e){return t&&t.length>0?(Yt(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?bs(i.updateTime):bs(o);return s.isEqual(nt.min())&&(s=bs(o)),new o7(s,i.transformResults||[])}(n,e))):[]}function S7(t,e){return{documents:[VL(t,e.path)]}}function C7(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=VL(t,i);const o=function(c){if(c.length!==0)return zL(es.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Su(h.field),direction:R7(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=aE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:i}}function T7(t){let e=b7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Yt(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(f){const h=UL(f);return h instanceof es&&yL(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(m){return new xv(Cu(m.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,F0(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new wv(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new wv(p,h)}(n.endAt)),G8(e,i,s,o,a,"F",l,c)}function I7(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function UL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Cu(n.unaryFilter.field);return nr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Cu(n.unaryFilter.field);return nr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Cu(n.unaryFilter.field);return nr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Cu(n.unaryFilter.field);return nr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return qe()}}(t):t.fieldFilter!==void 0?function(n){return nr.create(Cu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return es.create(n.compositeFilter.filters.map(r=>UL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe()}}(n.compositeFilter.op))}(t):qe()}function R7(t){return g7[t]}function P7(t){return m7[t]}function k7(t){return y7[t]}function Su(t){return{fieldPath:t.canonicalString()}}function Cu(t){return Ar.fromServerFormat(t.fieldPath)}function zL(t){return t instanceof nr?function(n){if(n.op==="=="){if(HP(n.value))return{unaryFilter:{field:Su(n.field),op:"IS_NAN"}};if(WP(n.value))return{unaryFilter:{field:Su(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(HP(n.value))return{unaryFilter:{field:Su(n.field),op:"IS_NOT_NAN"}};if(WP(n.value))return{unaryFilter:{field:Su(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Su(n.field),op:P7(n.op),value:n.value}}}(t):t instanceof es?function(n){const r=n.getFilters().map(i=>zL(i));return r.length===1?r[0]:{compositeFilter:{op:k7(n.op),filters:r}}}(t):qe()}function A7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n,r,i,o=nt.min(),s=nt.min(),a=Mr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e){this.Tt=e}}function N7(t){const e=T7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(){this.Tn=new D7}addToCollectionParentIndex(e,n){return this.Tn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(_l.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(_l.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class D7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new fr(wn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new fr(wn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HL=41943040;class mi{static withCacheSize(e){return new mi(e,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mi.DEFAULT_COLLECTION_PERCENTILE=10,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mi.DEFAULT=new mi(HL,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mi.DISABLED=new mi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Nd(0)}static Kn(){return new Nd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="LruGarbageCollector",$7=1048576;function ak([t,e],[n,r]){const i=vt(t,n);return i===0?vt(e,r):i}class L7{constructor(e){this.Hn=e,this.buffer=new fr(ak),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ak(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class F7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ke(sk,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nf(n)?ke(sk,"Ignoring IndexedDB error during garbage collection: ",n):await tf(n)}await this.er(3e5)})}}class B7{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return te.resolve(L0.ae);const r=new L7(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(ok)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ok):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),xu()<=It.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function V7(t,e){return new B7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(){this.changes=new Bc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Hr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Uh(r.mutation,i,Gi.empty(),dr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,kt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=kt()){const i=lc();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=bh();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=lc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,kt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=pa();const s=jh(),a=function(){return jh()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Vl)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Uh(u.mutation,c,u.mutation.getFieldMask(),dr.now())):s.set(c.key,Gi.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>{var f;return a.set(c,new U7(u,(f=s.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=jh();let i=new rr((s,a)=>s-a),o=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Gi.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(i.get(a.batchId)||kt()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=TL();u.forEach(h=>{if(!o.has(h)){const p=NL(n.get(h),r.get(h));p!==null&&f.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return te.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return je.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):te.resolve(lc());let a=Cp,l=o;return s.next(c=>te.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(u)?te.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,kt())).next(u=>({batchId:a,changes:CL(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next(r=>{let i=bh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=bh();return this.indexManager.getCollectionParents(e,o).next(a=>te.forEach(a,l=>{const c=function(f,h){return new cg(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Hr.newInvalidDocument(u)))});let a=bh();return s.forEach((l,c)=>{const u=o.get(l);u!==void 0&&Uh(u.mutation,c,Gi.empty(),dr.now()),j0(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return te.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:bs(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:N7(i.bundledQuery),readTime:bs(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(){this.overlays=new rr(je.comparator),this.Rr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=lc();return te.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Et(e,n,o)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=lc(),o=n.length+1,s=new je(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new rr((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=lc(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=lc(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return te.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new u7(n,r));let o=this.Rr.get(n);o===void 0&&(o=kt(),this.Rr.set(n,o)),this.Rr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(){this.sessionToken=Mr.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.Vr=new fr(br.mr),this.gr=new fr(br.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new br(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new br(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new je(new wn([])),r=new br(n,e),i=new br(n,e+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new je(new wn([])),r=new br(n,e),i=new br(n,e+1);let o=kt();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new br(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class br{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return je.comparator(e.key,n.key)||vt(e.Cr,n.Cr)}static pr(e,n){return vt(e.Cr,n.Cr)||je.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new fr(br.mr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new c7(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Mr=this.Mr.add(new br(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return te.resolve(s)}lookupMutationBatch(e,n){return te.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),o=i<0?0:i;return te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?MC:this.Fr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new br(n,0),i=new br(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{const a=this.Or(s.Cr);o.push(a)}),te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new fr(vt);return n.forEach(i=>{const o=new br(i,0),s=new br(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],a=>{r=r.add(a.Cr)})}),te.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;je.isDocumentKey(o)||(o=o.child(""));const s=new br(new je(o),0);let a=new fr(vt);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Cr)),!0)},s),te.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Yt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return te.forEach(n.mutations,i=>{const o=new br(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new br(n,0),i=this.Mr.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(e){this.kr=e,this.docs=function(){return new rr(je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():Hr.newInvalidDocument(n))}getEntries(e,n){let r=pa();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Hr.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=pa();const s=n.path,a=new je(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||S8(E8(u),r)<=0||(i.has(u.key)||j0(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return te.resolve(o)}getAllFromCollectionGroup(e,n,r,i){qe()}qr(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Y7(this)}getSize(e){return te.resolve(this.size)}}class Y7 extends j7{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e){this.persistence=e,this.Qr=new Bc(n=>LC(n),FC),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new WC,this.targetCount=0,this.Kr=Nd.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),te.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Nd(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.zn(n),te.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Qr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),te.waitFor(o).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),te.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new L0(0),this.zr=!1,this.zr=!0,this.jr=new G7,this.referenceDelegate=e(this),this.Hr=new X7(this),this.indexManager=new M7,this.remoteDocumentCache=function(i){return new q7(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new O7(n),this.Yr=new W7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new H7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new K7(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){ke("MemoryPersistence","Starting transaction:",e);const i=new Q7(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,n){return te.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class Q7 extends T8{constructor(e){super(),this.currentSequenceNumber=e}}class HC{constructor(e){this.persistence=e,this.ti=new WC,this.ni=null}static ri(e){return new HC(e)}get ii(){if(this.ni)return this.ni;throw qe()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),te.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ii,r=>{const i=je.fromPath(r);return this.si(e,i).next(o=>{o||n.removeEntry(i,nt.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return te.or([()=>te.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Cv{constructor(e,n){this.persistence=e,this.oi=new Bc(r=>P8(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=V7(this,n)}static ri(e,n){return new Cv(e,n)}Zr(){}Xr(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return te.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?te.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,n).next(a=>{a||(r++,o.removeEntry(s,nt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),te.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ey(e.data.value)),n}ar(e,n,r){return te.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=kt(),i=kt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new GC(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Pz()?8:I8(qr())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.rs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new J7;return this._s(e,n,s).next(a=>{if(o.result=a,this.Xi)return this.us(e,n,s,a.size)})}).next(()=>o.result)}us(e,n,r,i){return r.documentReadCount<this.es?(xu()<=It.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",Eu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),te.resolve()):(xu()<=It.DEBUG&&ke("QueryEngine","Query:",Eu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(xu()<=It.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",Eu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_s(n))):te.resolve())}rs(e,n){if(YP(n))return te.resolve(null);let r=_s(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=sE(n,null,"F"),r=_s(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=kt(...o);return this.ns.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(n,a);return this.ls(n,c,s,l.readTime)?this.rs(e,sE(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,r,i){return YP(n)||i.isEqual(nt.min())?te.resolve(null):this.ns.getDocuments(e,r).next(o=>{const s=this.cs(n,o);return this.ls(n,s,r,i)?te.resolve(null):(xu()<=It.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Eu(n)),this.hs(e,s,n,x8(i,Cp)).next(a=>a))})}cs(e,n){let r=new fr(EL(e));return n.forEach((i,o)=>{j0(e,o)&&(r=r.add(o))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,n,r){return xu()<=It.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",Eu(n)),this.ns.getDocumentsMatchingQuery(e,n,_l.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="LocalStore",eG=3e8;class tG{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new rr(vt),this.Is=new Bc(o=>LC(o),FC),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new z7(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function nG(t,e,n,r){return new tG(t,e,n,r)}async function KL(t,e){const n=ot(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=kt();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:s,addedBatchIds:a}))})})}function rG(t,e){const n=ot(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,h=f.keys();let p=te.resolve();return h.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(x=>{const S=c.docVersions.get(m);Yt(S!==null),x.version.compareTo(S)<0&&(f.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),u.addEntry(x)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=kt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function qL(t){const e=ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function iG(t,e){const n=ot(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;a.push(n.Hr.removeMatchingKeys(o,u.removedDocuments,f).next(()=>n.Hr.addMatchingKeys(o,u.addedDocuments,f)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Mr.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(f,p),function(x,S,b){return x.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=eG?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,p,u)&&a.push(n.Hr.updateTargetData(o,p))});let l=pa(),c=kt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(oG(o,s,e.documentUpdates).next(u=>{l=u.Vs,c=u.fs})),!r.isEqual(nt.min())){const u=n.Hr.getLastRemoteSnapshotVersion(o).next(f=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return te.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ts=i,o))}function oG(t,e,n){let r=kt(),i=kt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=pa();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(nt.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ke(KC,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:s,fs:i}})}function sG(t,e){const n=ot(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=MC),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function aG(t,e){const n=ot(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(o=>o?(i=o,te.resolve(i)):n.Hr.allocateTargetId(r).next(s=>(i=new Ja(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function dE(t,e,n){const r=ot(t),i=r.Ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!nf(s))throw s;ke(KC,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function lk(t,e,n){const r=ot(t);let i=nt.min(),o=kt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=ot(l),h=f.Is.get(u);return h!==void 0?te.resolve(f.Ts.get(h)):f.Hr.getTargetData(c,u)}(r,s,_s(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,e,n?i:nt.min(),n?o:kt())).next(a=>(lG(r,q8(e),a),{documents:a,gs:o})))}function lG(t,e,n){let r=t.Es.get(e)||nt.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Es.set(e,r)}class ck{constructor(){this.activeTargetIds=e7()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cG{constructor(){this.ho=new ck,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new ck,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk="ConnectivityMonitor";class dk{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ke(uk,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ke(uk,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mm=null;function fE(){return Mm===null?Mm=function(){return 268435456+Math.round(2147483648*Math.random())}():Mm++,"0x"+Mm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="RestConnection",dG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fG{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===_v?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,o){const s=fE(),a=this.bo(e,n.toUriEncodedString());ke(cw,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,o),this.vo(e,a,l,r).then(c=>(ke(cw,`Received RPC '${e}' ${s}: `,c),c),c=>{throw Rd(cw,`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,n,r,i,o,s){return this.So(e,n,r,i,o)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ef}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,n){const r=dG[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="WebChannelConnection";class pG extends fG{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const o=fE();return new Promise((s,a)=>{const l=new Q$;l.setWithCredentials(!0),l.listenOnce(J$.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case xy.NO_ERROR:const u=l.getResponseJson();ke(Br,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case xy.TIMEOUT:ke(Br,`RPC '${e}' ${o} timed out`),a(new Ne(ne.DEADLINE_EXCEEDED,"Request time out"));break;case xy.HTTP_ERROR:const f=l.getStatus();if(ke(Br,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(S){const b=S.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(b)>=0?b:ne.UNKNOWN}(p.status);a(new Ne(m,p.message))}else a(new Ne(ne.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ne(ne.UNAVAILABLE,"Connection failed."));break;default:qe()}}finally{ke(Br,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);ke(Br,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",c,r,15)})}Wo(e,n,r){const i=fE(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=tL(),a=eL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");ke(Br,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);let h=!1,p=!1;const m=new hG({Fo:S=>{p?ke(Br,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(h||(ke(Br,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ke(Br,`RPC '${e}' stream ${i} sending:`,S),f.send(S))},Mo:()=>f.close()}),x=(S,b,w)=>{S.listen(b,g=>{try{w(g)}catch(C){setTimeout(()=>{throw C},0)}})};return x(f,_h.EventType.OPEN,()=>{p||(ke(Br,`RPC '${e}' stream ${i} transport opened.`),m.Qo())}),x(f,_h.EventType.CLOSE,()=>{p||(p=!0,ke(Br,`RPC '${e}' stream ${i} transport closed`),m.Uo())}),x(f,_h.EventType.ERROR,S=>{p||(p=!0,Rd(Br,`RPC '${e}' stream ${i} transport errored:`,S),m.Uo(new Ne(ne.UNAVAILABLE,"The operation could not be completed")))}),x(f,_h.EventType.MESSAGE,S=>{var b;if(!p){const w=S.data[0];Yt(!!w);const g=w,C=(g==null?void 0:g.error)||((b=g[0])===null||b===void 0?void 0:b.error);if(C){ke(Br,`RPC '${e}' stream ${i} received error:`,C);const N=C.status;let M=function(k){const _=Zn[k];if(_!==void 0)return DL(_)}(N),E=C.message;M===void 0&&(M=ne.INTERNAL,E="Unknown error status: "+N+" with message "+C.message),p=!0,m.Uo(new Ne(M,E)),f.close()}else ke(Br,`RPC '${e}' stream ${i} received:`,w),m.Ko(w)}}),x(a,Z$.STAT_EVENT,S=>{S.stat===Jx.PROXY?ke(Br,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Jx.NOPROXY&&ke(Br,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.$o()},0),m}}function uw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t){return new v7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk="PersistentStream";class XL{constructor(e,n,r,i,o,s,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new YL(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(ha(n.toString()),ha("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new Ne(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ke(fk,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ke(fk,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gG extends XL{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=w7(this.serializer,e),r=function(o){if(!("targetChange"in o))return nt.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?nt.min():s.readTime?bs(s.readTime):nt.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=uE(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=iE(l)?{documents:S7(o,l)}:{query:C7(o,l).ht},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=FL(o,s.resumeToken);const c=aE(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(nt.min())>0){a.readTime=Sv(o,s.snapshotVersion.toTimestamp());const c=aE(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=I7(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=uE(this.serializer),n.removeTarget=e,this.I_(n)}}class mG extends XL{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Yt(!!e.streamToken),this.lastStreamToken=e.streamToken,Yt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=E7(e.writeResults,e.commitTime),r=bs(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=uE(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>x7(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{}class vG extends yG{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Ne(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,lE(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ne(ne.UNKNOWN,o.toString())})}Co(e,n,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(e,lE(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(ne.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class _G{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ha(n),this.N_=!1):ke("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic="RemoteStore";class bG{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(async()=>{Vc(this)&&(ke(Ic,"Restarting streams for network reachability change."),await async function(l){const c=ot(l);c.W_.add(4),await fg(c),c.j_.set("Unknown"),c.W_.delete(4),await K0(c)}(this))})}),this.j_=new _G(r,i)}}async function K0(t){if(Vc(t))for(const e of t.G_)await e(!0)}async function fg(t){for(const e of t.G_)await e(!1)}function QL(t,e){const n=ot(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),QC(n)?XC(n):rf(n).c_()&&YC(n,e))}function qC(t,e){const n=ot(t),r=rf(n);n.K_.delete(e),r.c_()&&JL(n,e),n.K_.size===0&&(r.c_()?r.P_():Vc(n)&&n.j_.set("Unknown"))}function YC(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(nt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rf(t).y_(e)}function JL(t,e){t.H_.Ne(e),rf(t).w_(e)}function XC(t){t.H_=new p7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),rf(t).start(),t.j_.B_()}function QC(t){return Vc(t)&&!rf(t).u_()&&t.K_.size>0}function Vc(t){return ot(t).W_.size===0}function ZL(t){t.H_=void 0}async function wG(t){t.j_.set("Online")}async function xG(t){t.K_.forEach((e,n)=>{YC(t,e)})}async function EG(t,e){ZL(t),QC(t)?(t.j_.q_(e),XC(t)):t.j_.set("Unknown")}async function SG(t,e,n){if(t.j_.set("Online"),e instanceof LL&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.K_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.K_.delete(a),i.H_.removeTarget(a))}(t,e)}catch(r){ke(Ic,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Tv(t,r)}else if(e instanceof Ty?t.H_.We(e):e instanceof $L?t.H_.Ze(e):t.H_.je(e),!n.isEqual(nt.min()))try{const r=await qL(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.H_.ot(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.K_.get(c);u&&o.K_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.K_.get(l);if(!u)return;o.K_.set(l,u.withResumeToken(Mr.EMPTY_BYTE_STRING,u.snapshotVersion)),JL(o,l);const f=new Ja(u.target,l,c,u.sequenceNumber);YC(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ke(Ic,"Failed to raise snapshot:",r),await Tv(t,r)}}async function Tv(t,e,n){if(!nf(e))throw e;t.W_.add(1),await fg(t),t.j_.set("Offline"),n||(n=()=>qL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ke(Ic,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await K0(t)})}function eF(t,e){return e().catch(n=>Tv(t,n,e))}async function q0(t){const e=ot(t),n=El(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:MC;for(;CG(e);)try{const i=await sG(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,TG(e,i)}catch(i){await Tv(e,i)}tF(e)&&nF(e)}function CG(t){return Vc(t)&&t.U_.length<10}function TG(t,e){t.U_.push(e);const n=El(t);n.c_()&&n.S_&&n.b_(e.mutations)}function tF(t){return Vc(t)&&!El(t).u_()&&t.U_.length>0}function nF(t){El(t).start()}async function IG(t){El(t).C_()}async function RG(t){const e=El(t);for(const n of t.U_)e.b_(n.mutations)}async function PG(t,e,n){const r=t.U_.shift(),i=jC.from(r,e,n);await eF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await q0(t)}async function kG(t,e){e&&El(t).S_&&await async function(r,i){if(function(s){return f7(s)&&s!==ne.ABORTED}(i.code)){const o=r.U_.shift();El(r).h_(),await eF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await q0(r)}}(t,e),tF(t)&&nF(t)}async function hk(t,e){const n=ot(t);n.asyncQueue.verifyOperationInProgress(),ke(Ic,"RemoteStore received new credentials");const r=Vc(n);n.W_.add(3),await fg(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await K0(n)}async function AG(t,e){const n=ot(t);e?(n.W_.delete(2),await K0(n)):e||(n.W_.add(2),await fg(n),n.j_.set("Unknown"))}function rf(t){return t.J_||(t.J_=function(n,r,i){const o=ot(n);return o.M_(),new gG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:wG.bind(null,t),No:xG.bind(null,t),Lo:EG.bind(null,t),p_:SG.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),QC(t)?XC(t):t.j_.set("Unknown")):(await t.J_.stop(),ZL(t))})),t.J_}function El(t){return t.Y_||(t.Y_=function(n,r,i){const o=ot(n);return o.M_(),new mG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:IG.bind(null,t),Lo:kG.bind(null,t),D_:RG.bind(null,t),v_:PG.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await q0(t)):(await t.Y_.stop(),t.U_.length>0&&(ke(Ic,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ul,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new JC(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ZC(t,e){if(ha("AsyncQueue",`${e}: ${t}`),nf(t))return new Ne(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{static emptySet(e){return new pd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||je.comparator(n.key,r.key):(n,r)=>je.comparator(n.key,r.key),this.keyedMap=bh(),this.sortedSet=new rr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this.Z_=new rr(je.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):qe():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Md{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Md(e,n,pd.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&V0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class NG{constructor(){this.queries=gk(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=ot(n),o=i.queries;i.queries=gk(),o.forEach((s,a)=>{for(const l of a.ta)l.onError(r)})})(this,new Ne(ne.ABORTED,"Firestore shutting down"))}}function gk(){return new Bc(t=>xL(t),V0)}async function rF(t,e){const n=ot(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new OG,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=ZC(s,`Initialization of query '${Eu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.ta.push(e),e.sa(n.onlineState),o.ea&&e.oa(o.ea)&&e1(n)}async function iF(t,e){const n=ot(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ta.indexOf(e);s>=0&&(o.ta.splice(s,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function MG(t,e){const n=ot(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.ta)a.oa(i)&&(r=!0);s.ea=i}}r&&e1(n)}function DG(t,e,n){const r=ot(t),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(e)}function e1(t){t.ia.forEach(e=>{e.next()})}var hE,mk;(mk=hE||(hE={}))._a="default",mk.Cache="cache";class oF{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Md(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Md.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==hE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e){this.key=e}}class aF{constructor(e){this.key=e}}class $G{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=kt(),this.mutatedKeys=kt(),this.ya=EL(e),this.wa=new pd(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new pk,i=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),p=j0(this.query,f)?f:null,m=!!h&&this.mutatedKeys.has(h.key),x=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let S=!1;h&&p?h.data.isEqual(p.data)?m!==x&&(r.track({type:3,doc:p}),S=!0):this.va(h,p)||(r.track({type:2,doc:p}),S=!0,(l&&this.ya(p,l)>0||c&&this.ya(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),S=!0):h&&!p&&(r.track({type:1,doc:h}),S=!0,(l||c)&&(a=!0)),S&&(p?(s=s.add(p),o=x?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{wa:s,Da:r,ls:a,mutatedKeys:o}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort((u,f)=>function(p,m){const x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe()}};return x(p)-x(m)}(u.type,f.type)||this.ya(u.doc,f.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,c=l!==this.ga;return this.ga=l,s.length!==0||c?{snapshot:new Md(this.query,e.wa,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new pk,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=kt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new aF(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new sF(r))}),n}Oa(e){this.fa=e.gs,this.pa=kt();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Md.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const t1="SyncEngine";class LG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class FG{constructor(e){this.key=e,this.Ba=!1}}class BG{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new Bc(a=>xL(a),V0),this.qa=new Map,this.Qa=new Set,this.$a=new rr(je.comparator),this.Ua=new Map,this.Ka=new WC,this.Wa={},this.Ga=new Map,this.za=Nd.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function VG(t,e,n=!0){const r=hF(t);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await lF(r,e,n,!0),i}async function jG(t,e){const n=hF(t);await lF(n,e,!0,!1)}async function lF(t,e,n,r){const i=await aG(t.localStore,_s(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await UG(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&QL(t.remoteStore,i),a}async function UG(t,e,n,r,i){t.Ha=(f,h,p)=>async function(x,S,b,w){let g=S.view.ba(b);g.ls&&(g=await lk(x.localStore,S.query,!1).then(({documents:E})=>S.view.ba(E,g)));const C=w&&w.targetChanges.get(S.targetId),N=w&&w.targetMismatches.get(S.targetId)!=null,M=S.view.applyChanges(g,x.isPrimaryClient,C,N);return vk(x,S.targetId,M.Ma),M.snapshot}(t,f,h,p);const o=await lk(t.localStore,e,!0),s=new $G(e,o.gs),a=s.ba(o.documents),l=dg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);vk(t,n,c.Ma);const u=new LG(e,n,s);return t.ka.set(e,u),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function zG(t,e,n){const r=ot(t),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!V0(s,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await dE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qC(r.remoteStore,i.targetId),pE(r,i.targetId)}).catch(tf)):(pE(r,i.targetId),await dE(r.localStore,i.targetId,!0))}async function WG(t,e){const n=ot(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qC(n.remoteStore,r.targetId))}async function HG(t,e,n){const r=JG(t);try{const i=await function(s,a){const l=ot(s),c=dr.now(),u=a.reduce((p,m)=>p.add(m.key),kt());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=pa(),x=kt();return l.ds.getEntries(p,u).next(S=>{m=S,m.forEach((b,w)=>{w.isValidDocument()||(x=x.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(S=>{f=S;const b=[];for(const w of a){const g=a7(w,f.get(w.key).overlayedDocument);g!=null&&b.push(new Vl(w.key,g,pL(g.value.mapValue),ai.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,b,a)}).next(S=>{h=S;const b=S.applyToLocalDocumentSet(f,x);return l.documentOverlayCache.saveOverlays(p,S.batchId,b)})}).then(()=>({batchId:h.batchId,changes:CL(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Wa[s.currentUser.toKey()];c||(c=new rr(vt)),c=c.insert(a,l),s.Wa[s.currentUser.toKey()]=c}(r,i.batchId,n),await hg(r,i.changes),await q0(r.remoteStore)}catch(i){const o=ZC(i,"Failed to persist write");n.reject(o)}}async function cF(t,e){const n=ot(t);try{const r=await iG(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ua.get(o);s&&(Yt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?Yt(s.Ba):i.removedDocuments.size>0&&(Yt(s.Ba),s.Ba=!1))}),await hg(n,r,e)}catch(r){await tf(r)}}function yk(t,e,n){const r=ot(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((o,s)=>{const a=s.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=ot(s);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.ta)h.sa(a)&&(c=!0)}),c&&e1(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function GG(t,e,n){const r=ot(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),o=i&&i.key;if(o){let s=new rr(je.comparator);s=s.insert(o,Hr.newNoDocument(o,nt.min()));const a=kt().add(o),l=new H0(nt.min(),new Map,new rr(vt),s,a);await cF(r,l),r.$a=r.$a.remove(o),r.Ua.delete(e),n1(r)}else await dE(r.localStore,e,!1).then(()=>pE(r,e,n)).catch(tf)}async function KG(t,e){const n=ot(t),r=e.batch.batchId;try{const i=await rG(n.localStore,e);dF(n,r,null),uF(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hg(n,i)}catch(i){await tf(i)}}async function qG(t,e,n){const r=ot(t);try{const i=await function(s,a){const l=ot(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Yt(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);dF(r,e,n),uF(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await hg(r,i)}catch(i){await tf(i)}}function uF(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function dF(t,e,n){const r=ot(t);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function pE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||fF(t,r)})}function fF(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(qC(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),n1(t))}function vk(t,e,n){for(const r of n)r instanceof sF?(t.Ka.addReference(r.key,e),YG(t,r)):r instanceof aF?(ke(t1,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||fF(t,r.key)):qe()}function YG(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(ke(t1,"New document in limbo: "+n),t.Qa.add(r),n1(t))}function n1(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new je(wn.fromString(e)),r=t.za.next();t.Ua.set(r,new FG(n)),t.$a=t.$a.insert(n,r),QL(t.remoteStore,new Ja(_s(BC(n.path)),r,"TargetPurposeLimboResolution",L0.ae))}}async function hg(t,e,n){const r=ot(t),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{s.push(r.Ha(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=GC.Yi(l.targetId,c);o.push(f)}}))}),await Promise.all(s),r.La.p_(i),await async function(l,c){const u=ot(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>te.forEach(c,h=>te.forEach(h.Hi,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>te.forEach(h.Ji,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!nf(f))throw f;ke(KC,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.Ts.get(h),m=p.snapshotVersion,x=p.withLastLimboFreeSnapshotVersion(m);u.Ts=u.Ts.insert(h,x)}}}(r.localStore,o))}async function XG(t,e){const n=ot(t);if(!n.currentUser.isEqual(e)){ke(t1,"User change. New user:",e.toKey());const r=await KL(n.localStore,e);n.currentUser=e,function(o,s){o.Ga.forEach(a=>{a.forEach(l=>{l.reject(new Ne(ne.CANCELLED,s))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hg(n,r.Rs)}}function QG(t,e){const n=ot(t),r=n.Ua.get(e);if(r&&r.Ba)return kt().add(r.key);{let i=kt();const o=n.qa.get(e);if(!o)return i;for(const s of o){const a=n.ka.get(s);i=i.unionWith(a.view.Sa)}return i}}function hF(t){const e=ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GG.bind(null,e),e.La.p_=MG.bind(null,e.eventManager),e.La.Ja=DG.bind(null,e.eventManager),e}function JG(t){const e=ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qG.bind(null,e),e}class Iv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=G0(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return nG(this.persistence,new Z7,e.initialUser,this.serializer)}Xa(e){return new GL(HC.ri,this.serializer)}Za(e){return new cG}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Iv.provider={build:()=>new Iv};class ZG extends Iv{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Yt(this.persistence.referenceDelegate instanceof Cv);const r=this.persistence.referenceDelegate.garbageCollector;return new F7(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?mi.withCacheSize(this.cacheSizeBytes):mi.DEFAULT;return new GL(r=>Cv.ri(r,n),this.serializer)}}class gE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XG.bind(null,this.syncEngine),await AG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NG}()}createDatastore(e){const n=G0(e.databaseInfo.databaseId),r=function(o){return new pG(o)}(e.databaseInfo);return function(o,s,a,l){return new vG(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new bG(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>yk(this.syncEngine,n,0),function(){return dk.D()?new dk:new uG}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,u){const f=new BG(i,o,s,a,l,c);return u&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ot(i);ke(Ic,"RemoteStore shutting down."),o.W_.add(5),await fg(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}gE.provider={build:()=>new gE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ha("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl="FirestoreClient";class eK{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zr.UNAUTHENTICATED,this.clientId=iL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{ke(Sl,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ke(Sl,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ul;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ZC(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function dw(t,e){t.asyncQueue.verifyOperationInProgress(),ke(Sl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await KL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _k(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tK(t);ke(Sl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>hk(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>hk(e.remoteStore,i)),t._onlineComponents=e}async function tK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ke(Sl,"Using user provided OfflineComponentProvider");try{await dw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Rd("Error using user provided cache. Falling back to memory cache: "+n),await dw(t,new Iv)}}else ke(Sl,"Using default OfflineComponentProvider"),await dw(t,new ZG(void 0));return t._offlineComponents}async function gF(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ke(Sl,"Using user provided OnlineComponentProvider"),await _k(t,t._uninitializedComponentsProvider._online)):(ke(Sl,"Using default OnlineComponentProvider"),await _k(t,new gE))),t._onlineComponents}function nK(t){return gF(t).then(e=>e.syncEngine)}async function mE(t){const e=await gF(t),n=e.eventManager;return n.onListen=VG.bind(null,e.syncEngine),n.onUnlisten=zG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=WG.bind(null,e.syncEngine),n}function rK(t,e,n={}){const r=new ul;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new pF({next:h=>{u.su(),s.enqueueAndForget(()=>iF(o,f)),h.fromCache&&l.source==="server"?c.reject(new Ne(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new oF(a,u,{includeMetadataChanges:!0,Ta:!0});return rF(o,f)}(await mE(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(t,e,n){if(!n)throw new Ne(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iK(t,e,n,r){if(e===!0&&r===!0)throw new Ne(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wk(t){if(!je.isDocumentKey(t))throw new Ne(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xk(t){if(je.isDocumentKey(t))throw new Ne(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Y0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe()}function Qi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ne(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Y0(t);throw new Ne(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF="firestore.googleapis.com",Ek=!0;class Sk{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vF,this.ssl=Ek}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Ek;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$7)throw new Ne(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ne(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ne(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ne(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class X0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sk(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new h8;switch(r.type){case"firstParty":return new y8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=bk.get(n);r&&(ke("ComponentProvider","Removing Datastore"),bk.delete(n),r.terminate())}(this),Promise.resolve()}}function oK(t,e,n,r={}){var i;const o=(t=Qi(t,X0))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;o.host!==vF&&o.host!==a&&Rd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!ca(l,s)&&(t._setSettings(l),r.mockUserToken)){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=zr.MOCK_USER;else{c=vC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Ne(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new zr(f)}t._authCredentials=new p8(new nL(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jc(this.firestore,e,this._query)}}class li{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new li(this.firestore,e,this._key)}}class fl extends jc{constructor(e,n,r){super(e,n,BC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new li(this.firestore,null,new je(e))}withConverter(e){return new fl(this.firestore,e,this._path)}}function ft(t,e,...n){if(t=Xt(t),yF("collection","path",e),t instanceof X0){const r=wn.fromString(e,...n);return xk(r),new fl(t,null,r)}{if(!(t instanceof li||t instanceof fl))throw new Ne(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wn.fromString(e,...n));return xk(r),new fl(t.firestore,null,r)}}function qt(t,e,...n){if(t=Xt(t),arguments.length===1&&(e=iL.newId()),yF("doc","path",e),t instanceof X0){const r=wn.fromString(e,...n);return wk(r),new li(t,null,new je(r))}{if(!(t instanceof li||t instanceof fl))throw new Ne(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wn.fromString(e,...n));return wk(r),new li(t.firestore,t instanceof fl?t.converter:null,new je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck="AsyncQueue";class Tk{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new YL(this,"async_queue_retry"),this.Su=()=>{const r=uw();r&&ke(Ck,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=uw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=uw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ul;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!nf(e))throw e;ke(Ck,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw ha("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=JC.createAndSchedule(this,e,n,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&qe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function Ik(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class ga extends X0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Tk,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tk(e),this._firestoreClient=void 0,await e}}}function sK(t,e){const n=typeof t=="object"?t:N0(),r=typeof t=="string"?t:_v,i=ig(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=yC("firestore");o&&oK(i,...o)}return i}function Q0(t){if(t._terminated)throw new Ne(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||aK(t),t._firestoreClient}function aK(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,c,u){return new O8(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,mF(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new eK(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dd(Mr.fromBase64String(e))}catch(n){throw new Ne(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dd(Mr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ne(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ne(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ne(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vt(this._lat,e._lat)||vt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lK=/^__.*__$/;class cK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vl(e,this.data,this.fieldMask,n,this.fieldTransforms):new ug(e,this.data,n,this.fieldTransforms)}}class _F{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Vl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe()}}class J0{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new J0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Rv(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(bF(this.Lu)&&lK.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class uK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||G0(e)}ju(e,n,r,i=!1){return new J0({Lu:e,methodName:n,zu:r,path:Ar.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mg(t){const e=t._freezeSettings(),n=G0(t._databaseId);return new uK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function o1(t,e,n,r,i,o={}){const s=t.ju(o.merge||o.mergeFields?2:0,e,n,i);l1("Data must be an object, but it was:",s,r);const a=EF(r,s);let l,c;if(o.merge)l=new Gi(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const f of o.mergeFields){const h=yE(e,f,n);if(!s.contains(h))throw new Ne(ne.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);CF(u,h)||u.push(h)}l=new Gi(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new cK(new vi(a),l,c)}class Z0 extends gg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Z0}}function dK(t,e,n){return new J0({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class s1 extends gg{_toFieldTransform(e){return new OL(e.path,new Pp)}isEqual(e){return e instanceof s1}}class a1 extends gg{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=dK(this,e,!0),r=this.Hu.map(o=>of(o,n)),i=new Od(r);return new OL(e.path,i)}isEqual(e){return e instanceof a1&&ca(this.Hu,e.Hu)}}function wF(t,e,n,r){const i=t.ju(1,e,n);l1("Data must be an object, but it was:",i,r);const o=[],s=vi.empty();Bl(r,(l,c)=>{const u=c1(e,l,n);c=Xt(c);const f=i.Uu(u);if(c instanceof Z0)o.push(u);else{const h=of(c,f);h!=null&&(o.push(u),s.set(u,h))}});const a=new Gi(o);return new _F(s,a,i.fieldTransforms)}function xF(t,e,n,r,i,o){const s=t.ju(1,e,n),a=[yE(e,r,n)],l=[i];if(o.length%2!=0)throw new Ne(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(yE(e,o[h])),l.push(o[h+1]);const c=[],u=vi.empty();for(let h=a.length-1;h>=0;--h)if(!CF(c,a[h])){const p=a[h];let m=l[h];m=Xt(m);const x=s.Uu(p);if(m instanceof Z0)c.push(p);else{const S=of(m,x);S!=null&&(c.push(p),u.set(p,S))}}const f=new Gi(c);return new _F(u,f,s.fieldTransforms)}function fK(t,e,n,r=!1){return of(n,t.ju(r?4:3,e))}function of(t,e){if(SF(t=Xt(t)))return l1("Unsupported field value:",e,t),EF(t,e);if(t instanceof gg)return function(r,i){if(!bF(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=of(a,i.Ku(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return t7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=dr.fromDate(r);return{timestampValue:Sv(i.serializer,o)}}if(r instanceof dr){const o=new dr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sv(i.serializer,o)}}if(r instanceof r1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dd)return{bytesValue:FL(i.serializer,r._byteString)};if(r instanceof li){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:zC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof i1)return function(s,a){return{mapValue:{fields:{[fL]:{stringValue:hL},[bv]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return VC(a.serializer,c)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Y0(r)}`)}(t,e)}function EF(t,e){const n={};return sL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bl(t,(r,i)=>{const o=of(i,e.qu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function SF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dr||t instanceof r1||t instanceof Dd||t instanceof li||t instanceof gg||t instanceof i1)}function l1(t,e,n){if(!SF(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Y0(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function yE(t,e,n){if((e=Xt(e))instanceof pg)return e._internalPath;if(typeof e=="string")return c1(t,e);throw Rv("Field path arguments must be of type string or ",t,!1,void 0,n)}const hK=new RegExp("[~\\*/\\[\\]]");function c1(t,e,n){if(e.search(hK)>=0)throw Rv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pg(...e.split("."))._internalPath}catch{throw Rv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rv(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Ne(ne.INVALID_ARGUMENT,a+t+l)}function CF(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new li(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(u1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pK extends TF{data(){return super.data()}}function u1(t,e){return typeof e=="string"?c1(t,e):e instanceof pg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ne(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d1{}class gK extends d1{}function Ur(t,e,...n){let r=[];e instanceof d1&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof f1).length,a=o.filter(l=>l instanceof e_).length;if(s>1||s>0&&a>0)throw new Ne(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class e_ extends gK{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new e_(e,n,r)}_apply(e){const n=this._parse(e);return RF(e._query,n),new jc(e.firestore,e.converter,oE(e._query,n))}_parse(e){const n=mg(e.firestore);return function(o,s,a,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ne(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Pk(f,u);const m=[];for(const x of f)m.push(Rk(l,o,x));h={arrayValue:{values:m}}}else h=Rk(l,o,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Pk(f,u),h=fK(a,s,f,u==="in"||u==="not-in");return nr.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Bi(t,e,n){const r=e,i=u1("where",t);return e_._create(i,r,n)}class f1 extends d1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new f1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:es.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)RF(s,l),s=oE(s,l)}(e._query,n),new jc(e.firestore,e.converter,oE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Rk(t,e,n){if(typeof(n=Xt(n))=="string"){if(n==="")throw new Ne(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wL(e)&&n.indexOf("/")!==-1)throw new Ne(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(wn.fromString(n));if(!je.isDocumentKey(r))throw new Ne(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zP(t,new je(r))}if(n instanceof li)return zP(t,n._key);throw new Ne(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Y0(n)}.`)}function Pk(t,e){if(!Array.isArray(t)||t.length===0)throw new Ne(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RF(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ne(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mK{convertValue(e,n="none"){switch(xl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw qe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bl(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[bv].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Gn(s.doubleValue));return new i1(o)}convertGeoPoint(e){return new r1(Gn(e.latitude),Gn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=B0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tp(e));default:return null}}convertTimestamp(e){const n=bl(e);return new dr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wn.fromString(e);Yt(WL(r));const i=new Ip(r.get(1),r.get(3)),o=new je(r.popFirst(5));return i.isEqual(n)||ha(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class PF extends TF{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Iy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(u1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Iy extends PF{data(e={}){return super.data(e)}}class kF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Iy(this._firestore,this._userDataWriter,r.key,r,new xh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Iy(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Iy(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:yK(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe()}}class p1 extends mK{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new li(this.firestore,null,n)}}function Vi(t){t=Qi(t,jc);const e=Qi(t.firestore,ga),n=Q0(e),r=new p1(e);return IF(t._query),rK(n,t._query).then(i=>new kF(e,r,t,i))}function kk(t,e,n){t=Qi(t,li);const r=Qi(t.firestore,ga),i=h1(t.converter,e,n);return yg(r,[o1(mg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ai.none())])}function Tu(t,e,n,...r){t=Qi(t,li);const i=Qi(t.firestore,ga),o=mg(i);let s;return s=typeof(e=Xt(e))=="string"||e instanceof pg?xF(o,"updateDoc",t._key,e,n,r):wF(o,"updateDoc",t._key,e),yg(i,[s.toMutation(t._key,ai.exists(!0))])}function AF(t){return yg(Qi(t.firestore,ga),[new W0(t._key,ai.none())])}function yr(t,e){const n=Qi(t.firestore,ga),r=qt(t),i=h1(t.converter,e);return yg(n,[o1(mg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ai.exists(!1))]).then(()=>r)}function zh(t,...e){var n,r,i;t=Xt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Ik(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Ik(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,u;if(t instanceof li)c=Qi(t.firestore,ga),u=BC(t._key.path),l={next:f=>{e[s]&&e[s](vK(c,t,f))},error:e[s+1],complete:e[s+2]};else{const f=Qi(t,jc);c=Qi(f.firestore,ga),u=f._query;const h=new p1(c);l={next:p=>{e[s]&&e[s](new kF(c,h,f,p))},error:e[s+1],complete:e[s+2]},IF(t._query)}return function(h,p,m,x){const S=new pF(x),b=new oF(p,S,m);return h.asyncQueue.enqueueAndForget(async()=>rF(await mE(h),b)),()=>{S.su(),h.asyncQueue.enqueueAndForget(async()=>iF(await mE(h),b))}}(Q0(c),u,a,l)}function yg(t,e){return function(r,i){const o=new ul;return r.asyncQueue.enqueueAndForget(async()=>HG(await nK(r),i,o)),o.promise}(Q0(t),e)}function vK(t,e,n){const r=n.docs.get(e._key),i=new p1(t);return new PF(t,i,e._key,r,new xh(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=mg(e)}set(e,n,r){this._verifyNotCommitted();const i=fw(e,this._firestore),o=h1(i.converter,n,r),s=o1(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,ai.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=fw(e,this._firestore);let s;return s=typeof(n=Xt(n))=="string"||n instanceof pg?xF(this._dataReader,"WriteBatch.update",o._key,n,r,i):wF(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,ai.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=fw(e,this._firestore);return this._mutations=this._mutations.concat(new W0(n._key,ai.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fw(t,e){if((t=Xt(t)).firestore!==e)throw new Ne(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ba(){return new s1("serverTimestamp")}function bK(...t){return new a1("arrayUnion",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t){return Q0(t=Qi(t,ga)),new _K(t,e=>yg(t,e))}(function(e,n=!0){(function(i){ef=i})(Dl),vl(new ua("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ga(new g8(r.getProvider("auth-internal")),new v8(s,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ne(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ip(c.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),bo(AP,OP,e),bo(AP,OP,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF="firebasestorage.googleapis.com",NF="storageBucket",wK=2*60*1e3,xK=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn extends ks{constructor(e,n,r=0){super(hw(e),`Firebase Storage: ${n} (${hw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,jn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return hw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Vn||(Vn={}));function hw(t){return"storage/"+t}function g1(){const t="An unknown error occurred, please check the error payload for server response.";return new jn(Vn.UNKNOWN,t)}function EK(t){return new jn(Vn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function SK(t){return new jn(Vn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function CK(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new jn(Vn.UNAUTHENTICATED,t)}function TK(){return new jn(Vn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function IK(t){return new jn(Vn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function RK(){return new jn(Vn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function PK(){return new jn(Vn.CANCELED,"User canceled the upload/download.")}function kK(t){return new jn(Vn.INVALID_URL,"Invalid URL '"+t+"'.")}function AK(t){return new jn(Vn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function OK(){return new jn(Vn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+NF+"' property when initializing the app?")}function NK(){return new jn(Vn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function MK(){return new jn(Vn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function DK(t){return new jn(Vn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function vE(t){return new jn(Vn.INVALID_ARGUMENT,t)}function MF(){return new jn(Vn.APP_DELETED,"The Firebase app was deleted.")}function $K(t){return new jn(Vn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wh(t,e){return new jn(Vn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Xf(t){throw new jn(Vn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ki.makeFromUrl(e,n)}catch{return new Ki(e,"")}if(r.path==="")return r;throw AK(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},x=n===OF?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",b=new RegExp(`^https?://${x}/${i}/${S}`,"i"),g=[{regex:a,indices:l,postModify:o},{regex:p,indices:m,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<g.length;C++){const N=g[C],M=N.regex.exec(e);if(M){const E=M[N.indices.bucket];let I=M[N.indices.path];I||(I=""),r=new Ki(E,I),N.postModify(r);break}}if(r==null)throw kK(e);return r}}class LK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FK(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let c=!1;function u(...S){c||(c=!0,e.apply(null,S))}function f(S){i=setTimeout(()=>{i=null,t(p,l())},S)}function h(){o&&clearTimeout(o)}function p(S,...b){if(c){h();return}if(S){h(),u.call(null,S,...b);return}if(l()||s){h(),u.call(null,S,...b);return}r<64&&(r*=2);let g;a===1?(a=2,g=0):g=(r+Math.random())*1e3,f(g)}let m=!1;function x(S){m||(m=!0,h(),!c&&(i!==null?(S||(a=2),clearTimeout(i),f(0)):S||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,x(!0)},n),x}function BK(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VK(t){return t!==void 0}function jK(t){return typeof t=="object"&&!Array.isArray(t)}function m1(t){return typeof t=="string"||t instanceof String}function Ak(t){return y1()&&t instanceof Blob}function y1(){return typeof Blob<"u"}function Ok(t,e,n,r){if(r<e)throw vE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw vE(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function DF(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var gc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(gc||(gc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UK(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zK{constructor(e,n,r,i,o,s,a,l,c,u,f,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Dm(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===gc.NO_ERROR,l=o.getStatus();if(!a||UK(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===gc.ABORT;r(!1,new Dm(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Dm(c,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());VK(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=g1();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?MF():PK();s(l)}else{const l=RK();s(l)}};this.canceled_?n(!1,new Dm(!1,null,!0)):this.backoffId_=FK(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&BK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function WK(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function HK(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function GK(t,e){e&&(t["X-Firebase-GMPID"]=e)}function KK(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function qK(t,e,n,r,i,o,s=!0){const a=DF(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return GK(c,e),WK(c,n),HK(c,o),KK(c,r),new zK(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YK(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function XK(...t){const e=YK();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(y1())return new Blob(t);throw new jn(Vn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function QK(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JK(t){if(typeof atob>"u")throw DK("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pw{constructor(e,n){this.data=e,this.contentType=n||null}}function ZK(t,e){switch(t){case gs.RAW:return new pw($F(e));case gs.BASE64:case gs.BASE64URL:return new pw(LF(t,e));case gs.DATA_URL:return new pw(tq(e),nq(e))}throw g1()}function $F(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function eq(t){let e;try{e=decodeURIComponent(t)}catch{throw Wh(gs.DATA_URL,"Malformed data URL.")}return $F(e)}function LF(t,e){switch(t){case gs.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Wh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case gs.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Wh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=JK(e)}catch(i){throw i.message.includes("polyfill")?i:Wh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class FF{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Wh(gs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=rq(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function tq(t){const e=new FF(t);return e.base64?LF(gs.BASE64,e.rest):eq(e.rest)}function nq(t){return new FF(t).contentType}function rq(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n){let r=0,i="";Ak(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Ak(this.data_)){const r=this.data_,i=QK(r,e,n);return i===null?null:new Ga(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ga(r,!0)}}static getBlob(...e){if(y1()){const n=e.map(r=>r instanceof Ga?r.data_:r);return new Ga(XK.apply(null,n))}else{const n=e.map(s=>m1(s)?ZK(gs.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Ga(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(t){let e;try{e=JSON.parse(t)}catch{return null}return jK(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iq(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function oq(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function VF(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sq(t,e){return e}class ti{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||sq}}let $m=null;function aq(t){return!m1(t)||t.length<2?t:VF(t)}function jF(){if($m)return $m;const t=[];t.push(new ti("bucket")),t.push(new ti("generation")),t.push(new ti("metageneration")),t.push(new ti("name","fullPath",!0));function e(o,s){return aq(s)}const n=new ti("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new ti("size");return i.xform=r,t.push(i),t.push(new ti("timeCreated")),t.push(new ti("updated")),t.push(new ti("md5Hash",null,!0)),t.push(new ti("cacheControl",null,!0)),t.push(new ti("contentDisposition",null,!0)),t.push(new ti("contentEncoding",null,!0)),t.push(new ti("contentLanguage",null,!0)),t.push(new ti("contentType",null,!0)),t.push(new ti("metadata","customMetadata",!0)),$m=t,$m}function lq(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Ki(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function cq(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return lq(r,t),r}function UF(t,e,n){const r=BF(e);return r===null?null:cq(t,r,n)}function uq(t,e,n,r){const i=BF(e);if(i===null||!m1(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const u=t.bucket,f=t.fullPath,h="/b/"+s(u)+"/o/"+s(f),p=v1(h,n,r),m=DF({alt:"media",token:c});return p+m})[0]}function dq(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class zF{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WF(t){if(!t)throw g1()}function fq(t,e){function n(r,i){const o=UF(t,i,e);return WF(o!==null),o}return n}function hq(t,e){function n(r,i){const o=UF(t,i,e);return WF(o!==null),uq(o,i,t.host,t._protocol)}return n}function HF(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=TK():i=CK():n.getStatus()===402?i=SK(t.bucket):n.getStatus()===403?i=IK(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function pq(t){const e=HF(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=EK(t.path)),o.serverResponse=i.serverResponse,o}return n}function gq(t,e,n){const r=e.fullServerUrl(),i=v1(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new zF(i,o,hq(t,n),s);return a.errorHandler=pq(e),a}function mq(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function yq(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=mq(null,e)),r}function vq(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let g="";for(let C=0;C<2;C++)g=g+Math.random().toString().slice(2);return g}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const c=yq(e,r,i),u=dq(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Ga.getBlob(f,r,h);if(p===null)throw NK();const m={name:c.fullPath},x=v1(o,t.host,t._protocol),S="POST",b=t.maxUploadRetryTime,w=new zF(x,S,fq(t,n),b);return w.urlParams=m,w.headers=s,w.body=p.uploadData(),w.errorHandler=HF(e),w}class _q{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=gc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=gc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Xf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class bq extends _q{initXhr(){this.xhr_.responseType="text"}}function GF(){return new bq}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n){this._service=e,n instanceof Ki?this._location=n:this._location=Ki.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Rc(e,n)}get root(){const e=new Ki(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VF(this._location.path)}get storage(){return this._service}get parent(){const e=iq(this._location.path);if(e===null)return null;const n=new Ki(this._location.bucket,e);return new Rc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw $K(e)}}function wq(t,e,n){t._throwIfRoot("uploadBytes");const r=vq(t.storage,t._location,jF(),new Ga(e,!0),n);return t.storage.makeRequestWithTokens(r,GF).then(i=>({metadata:i,ref:t}))}function xq(t){t._throwIfRoot("getDownloadURL");const e=gq(t.storage,t._location,jF());return t.storage.makeRequestWithTokens(e,GF).then(n=>{if(n===null)throw MK();return n})}function Eq(t,e){const n=oq(t._location.path,e),r=new Ki(t._location.bucket,n);return new Rc(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sq(t){return/^[A-Za-z]+:\/\//.test(t)}function Cq(t,e){return new Rc(t,e)}function KF(t,e){if(t instanceof _1){const n=t;if(n._bucket==null)throw OK();const r=new Rc(n,n._bucket);return e!=null?KF(r,e):r}else return e!==void 0?Eq(t,e):t}function Tq(t,e){if(e&&Sq(e)){if(t instanceof _1)return Cq(t,e);throw vE("To use ref(service, url), the first argument must be a Storage instance.")}else return KF(t,e)}function Nk(t,e){const n=e==null?void 0:e[NF];return n==null?null:Ki.makeFromBucketSpec(n,t)}function Iq(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:vC(i,t.app.options.projectId))}class _1{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=OF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=wK,this._maxUploadRetryTime=xK,this._requests=new Set,i!=null?this._bucket=Ki.makeFromBucketSpec(i,this._host):this._bucket=Nk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ki.makeFromBucketSpec(this._url,e):this._bucket=Nk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ok("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ok("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Rc(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new LK(MF());{const s=qK(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Mk="@firebase/storage",Dk="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF="storage";function $k(t,e,n){return t=Xt(t),wq(t,e,n)}function Lk(t){return t=Xt(t),xq(t)}function Fk(t,e){return t=Xt(t),Tq(t,e)}function Rq(t=N0(),e){t=Xt(t);const r=ig(t,qF).getImmediate({identifier:e}),i=yC("storage");return i&&Pq(r,...i),r}function Pq(t,e,n,r={}){Iq(t,e,n,r)}function kq(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new _1(n,r,i,e,Dl)}function Aq(){vl(new ua(qF,kq,"PUBLIC").setMultipleInstances(!0)),bo(Mk,Dk,""),bo(Mk,Dk,"esm2017")}Aq();const Oq={apiKey:"AIzaSyBwhJVoZ2nKnGrl9VJ7D6GXpcUha2IRN08",authDomain:"notetaker-f71ae.firebaseapp.com",databaseURL:"https://notetaker-f71ae-default-rtdb.firebaseio.com",projectId:"notetaker-f71ae",storageBucket:"notetaker-f71ae.firebasestorage.app",messagingSenderId:"466022334149",appId:"1:466022334149:web:bb9e6830f35a4b94b73aac",measurementId:"G-ZH0WYZKWKN"},b1=p$(Oq),mc=d8(b1),ve=sK(b1),Bk=Rq(b1),Ap={black:"#000",white:"#fff"},pu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},gu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},mu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},yu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},vu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Qf={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Nq={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function ma(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const vg="$$material";function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pv.apply(null,arguments)}function Mq(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Dq(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var $q=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Dq(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Mq(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),jr="-ms-",kv="-moz-",zt="-webkit-",YF="comm",w1="rule",x1="decl",Lq="@import",XF="@keyframes",Fq="@layer",Bq=Math.abs,t_=String.fromCharCode,Vq=Object.assign;function jq(t,e){return kr(t,0)^45?(((e<<2^kr(t,0))<<2^kr(t,1))<<2^kr(t,2))<<2^kr(t,3):0}function QF(t){return t.trim()}function Uq(t,e){return(t=e.exec(t))?t[0]:t}function Wt(t,e,n){return t.replace(e,n)}function _E(t,e){return t.indexOf(e)}function kr(t,e){return t.charCodeAt(e)|0}function Op(t,e,n){return t.slice(e,n)}function ds(t){return t.length}function E1(t){return t.length}function Lm(t,e){return e.push(t),t}function zq(t,e){return t.map(e).join("")}var n_=1,$d=1,JF=0,Pi=0,er=0,sf="";function r_(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:n_,column:$d,length:s,return:""}}function Jf(t,e){return Vq(r_("",null,null,"",null,null,0),t,{length:-t.length},e)}function Wq(){return er}function Hq(){return er=Pi>0?kr(sf,--Pi):0,$d--,er===10&&($d=1,n_--),er}function Ji(){return er=Pi<JF?kr(sf,Pi++):0,$d++,er===10&&($d=1,n_++),er}function ws(){return kr(sf,Pi)}function Ry(){return Pi}function _g(t,e){return Op(sf,t,e)}function Np(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ZF(t){return n_=$d=1,JF=ds(sf=t),Pi=0,[]}function e5(t){return sf="",t}function Py(t){return QF(_g(Pi-1,bE(t===91?t+2:t===40?t+1:t)))}function Gq(t){for(;(er=ws())&&er<33;)Ji();return Np(t)>2||Np(er)>3?"":" "}function Kq(t,e){for(;--e&&Ji()&&!(er<48||er>102||er>57&&er<65||er>70&&er<97););return _g(t,Ry()+(e<6&&ws()==32&&Ji()==32))}function bE(t){for(;Ji();)switch(er){case t:return Pi;case 34:case 39:t!==34&&t!==39&&bE(er);break;case 40:t===41&&bE(t);break;case 92:Ji();break}return Pi}function qq(t,e){for(;Ji()&&t+er!==57;)if(t+er===84&&ws()===47)break;return"/*"+_g(e,Pi-1)+"*"+t_(t===47?t:Ji())}function Yq(t){for(;!Np(ws());)Ji();return _g(t,Pi)}function Xq(t){return e5(ky("",null,null,null,[""],t=ZF(t),0,[0],t))}function ky(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,f=s,h=0,p=0,m=0,x=1,S=1,b=1,w=0,g="",C=i,N=o,M=r,E=g;S;)switch(m=w,w=Ji()){case 40:if(m!=108&&kr(E,f-1)==58){_E(E+=Wt(Py(w),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:E+=Py(w);break;case 9:case 10:case 13:case 32:E+=Gq(m);break;case 92:E+=Kq(Ry()-1,7);continue;case 47:switch(ws()){case 42:case 47:Lm(Qq(qq(Ji(),Ry()),e,n),l);break;default:E+="/"}break;case 123*x:a[c++]=ds(E)*b;case 125*x:case 59:case 0:switch(w){case 0:case 125:S=0;case 59+u:b==-1&&(E=Wt(E,/\f/g,"")),p>0&&ds(E)-f&&Lm(p>32?jk(E+";",r,n,f-1):jk(Wt(E," ","")+";",r,n,f-2),l);break;case 59:E+=";";default:if(Lm(M=Vk(E,e,n,c,u,i,a,g,C=[],N=[],f),o),w===123)if(u===0)ky(E,e,M,M,C,o,f,a,N);else switch(h===99&&kr(E,3)===110?100:h){case 100:case 108:case 109:case 115:ky(t,M,M,r&&Lm(Vk(t,M,M,0,0,i,a,g,i,C=[],f),N),i,N,f,a,r?C:N);break;default:ky(E,M,M,M,[""],N,0,a,N)}}c=u=p=0,x=b=1,g=E="",f=s;break;case 58:f=1+ds(E),p=m;default:if(x<1){if(w==123)--x;else if(w==125&&x++==0&&Hq()==125)continue}switch(E+=t_(w),w*x){case 38:b=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(ds(E)-1)*b,b=1;break;case 64:ws()===45&&(E+=Py(Ji())),h=ws(),u=f=ds(g=E+=Yq(Ry())),w++;break;case 45:m===45&&ds(E)==2&&(x=0)}}return o}function Vk(t,e,n,r,i,o,s,a,l,c,u){for(var f=i-1,h=i===0?o:[""],p=E1(h),m=0,x=0,S=0;m<r;++m)for(var b=0,w=Op(t,f+1,f=Bq(x=s[m])),g=t;b<p;++b)(g=QF(x>0?h[b]+" "+w:Wt(w,/&\f/g,h[b])))&&(l[S++]=g);return r_(t,e,n,i===0?w1:a,l,c,u)}function Qq(t,e,n){return r_(t,e,n,YF,t_(Wq()),Op(t,2,-2),0)}function jk(t,e,n,r){return r_(t,e,n,x1,Op(t,0,r),Op(t,r+1,-1),r)}function gd(t,e){for(var n="",r=E1(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Jq(t,e,n,r){switch(t.type){case Fq:if(t.children.length)break;case Lq:case x1:return t.return=t.return||t.value;case YF:return"";case XF:return t.return=t.value+"{"+gd(t.children,r)+"}";case w1:t.value=t.props.join(",")}return ds(n=gd(t.children,r))?t.return=t.value+"{"+n+"}":""}function Zq(t){var e=E1(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function eY(t){return function(e){e.root||(e=e.return)&&t(e)}}function t5(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var tY=function(e,n,r){for(var i=0,o=0;i=o,o=ws(),i===38&&o===12&&(n[r]=1),!Np(o);)Ji();return _g(e,Pi)},nY=function(e,n){var r=-1,i=44;do switch(Np(i)){case 0:i===38&&ws()===12&&(n[r]=1),e[r]+=tY(Pi-1,n,r);break;case 2:e[r]+=Py(i);break;case 4:if(i===44){e[++r]=ws()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=t_(i)}while(i=Ji());return e},rY=function(e,n){return e5(nY(ZF(e),n))},Uk=new WeakMap,iY=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Uk.get(r))&&!i){Uk.set(e,!0);for(var o=[],s=rY(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},oY=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function n5(t,e){switch(jq(t,e)){case 5103:return zt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return zt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return zt+t+kv+t+jr+t+t;case 6828:case 4268:return zt+t+jr+t+t;case 6165:return zt+t+jr+"flex-"+t+t;case 5187:return zt+t+Wt(t,/(\w+).+(:[^]+)/,zt+"box-$1$2"+jr+"flex-$1$2")+t;case 5443:return zt+t+jr+"flex-item-"+Wt(t,/flex-|-self/,"")+t;case 4675:return zt+t+jr+"flex-line-pack"+Wt(t,/align-content|flex-|-self/,"")+t;case 5548:return zt+t+jr+Wt(t,"shrink","negative")+t;case 5292:return zt+t+jr+Wt(t,"basis","preferred-size")+t;case 6060:return zt+"box-"+Wt(t,"-grow","")+zt+t+jr+Wt(t,"grow","positive")+t;case 4554:return zt+Wt(t,/([^-])(transform)/g,"$1"+zt+"$2")+t;case 6187:return Wt(Wt(Wt(t,/(zoom-|grab)/,zt+"$1"),/(image-set)/,zt+"$1"),t,"")+t;case 5495:case 3959:return Wt(t,/(image-set\([^]*)/,zt+"$1$`$1");case 4968:return Wt(Wt(t,/(.+:)(flex-)?(.*)/,zt+"box-pack:$3"+jr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+zt+t+t;case 4095:case 3583:case 4068:case 2532:return Wt(t,/(.+)-inline(.+)/,zt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ds(t)-1-e>6)switch(kr(t,e+1)){case 109:if(kr(t,e+4)!==45)break;case 102:return Wt(t,/(.+:)(.+)-([^]+)/,"$1"+zt+"$2-$3$1"+kv+(kr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~_E(t,"stretch")?n5(Wt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(kr(t,e+1)!==115)break;case 6444:switch(kr(t,ds(t)-3-(~_E(t,"!important")&&10))){case 107:return Wt(t,":",":"+zt)+t;case 101:return Wt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+zt+(kr(t,14)===45?"inline-":"")+"box$3$1"+zt+"$2$3$1"+jr+"$2box$3")+t}break;case 5936:switch(kr(t,e+11)){case 114:return zt+t+jr+Wt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return zt+t+jr+Wt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return zt+t+jr+Wt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return zt+t+jr+t+t}return t}var sY=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case x1:e.return=n5(e.value,e.length);break;case XF:return gd([Jf(e,{value:Wt(e.value,"@","@"+zt)})],i);case w1:if(e.length)return zq(e.props,function(o){switch(Uq(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return gd([Jf(e,{props:[Wt(o,/:(read-\w+)/,":"+kv+"$1")]})],i);case"::placeholder":return gd([Jf(e,{props:[Wt(o,/:(plac\w+)/,":"+zt+"input-$1")]}),Jf(e,{props:[Wt(o,/:(plac\w+)/,":"+kv+"$1")]}),Jf(e,{props:[Wt(o,/:(plac\w+)/,jr+"input-$1")]})],i)}return""})}},aY=[sY],lY=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var S=x.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var i=e.stylisPlugins||aY,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var S=x.getAttribute("data-emotion").split(" "),b=1;b<S.length;b++)o[S[b]]=!0;a.push(x)});var l,c=[iY,oY];{var u,f=[Jq,eY(function(x){u.insert(x)})],h=Zq(c.concat(i,f)),p=function(S){return gd(Xq(S),h)};l=function(S,b,w,g){u=w,p(S?S+"{"+b.styles+"}":b.styles),g&&(m.inserted[b.name]=!0)}}var m={key:n,sheet:new $q({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return m.sheet.hydrate(a),m},r5={exports:{}},nn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ir=typeof Symbol=="function"&&Symbol.for,S1=Ir?Symbol.for("react.element"):60103,C1=Ir?Symbol.for("react.portal"):60106,i_=Ir?Symbol.for("react.fragment"):60107,o_=Ir?Symbol.for("react.strict_mode"):60108,s_=Ir?Symbol.for("react.profiler"):60114,a_=Ir?Symbol.for("react.provider"):60109,l_=Ir?Symbol.for("react.context"):60110,T1=Ir?Symbol.for("react.async_mode"):60111,c_=Ir?Symbol.for("react.concurrent_mode"):60111,u_=Ir?Symbol.for("react.forward_ref"):60112,d_=Ir?Symbol.for("react.suspense"):60113,cY=Ir?Symbol.for("react.suspense_list"):60120,f_=Ir?Symbol.for("react.memo"):60115,h_=Ir?Symbol.for("react.lazy"):60116,uY=Ir?Symbol.for("react.block"):60121,dY=Ir?Symbol.for("react.fundamental"):60117,fY=Ir?Symbol.for("react.responder"):60118,hY=Ir?Symbol.for("react.scope"):60119;function oo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case S1:switch(t=t.type,t){case T1:case c_:case i_:case s_:case o_:case d_:return t;default:switch(t=t&&t.$$typeof,t){case l_:case u_:case h_:case f_:case a_:return t;default:return e}}case C1:return e}}}function i5(t){return oo(t)===c_}nn.AsyncMode=T1;nn.ConcurrentMode=c_;nn.ContextConsumer=l_;nn.ContextProvider=a_;nn.Element=S1;nn.ForwardRef=u_;nn.Fragment=i_;nn.Lazy=h_;nn.Memo=f_;nn.Portal=C1;nn.Profiler=s_;nn.StrictMode=o_;nn.Suspense=d_;nn.isAsyncMode=function(t){return i5(t)||oo(t)===T1};nn.isConcurrentMode=i5;nn.isContextConsumer=function(t){return oo(t)===l_};nn.isContextProvider=function(t){return oo(t)===a_};nn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===S1};nn.isForwardRef=function(t){return oo(t)===u_};nn.isFragment=function(t){return oo(t)===i_};nn.isLazy=function(t){return oo(t)===h_};nn.isMemo=function(t){return oo(t)===f_};nn.isPortal=function(t){return oo(t)===C1};nn.isProfiler=function(t){return oo(t)===s_};nn.isStrictMode=function(t){return oo(t)===o_};nn.isSuspense=function(t){return oo(t)===d_};nn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===i_||t===c_||t===s_||t===o_||t===d_||t===cY||typeof t=="object"&&t!==null&&(t.$$typeof===h_||t.$$typeof===f_||t.$$typeof===a_||t.$$typeof===l_||t.$$typeof===u_||t.$$typeof===dY||t.$$typeof===fY||t.$$typeof===hY||t.$$typeof===uY)};nn.typeOf=oo;r5.exports=nn;var pY=r5.exports,o5=pY,gY={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mY={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s5={};s5[o5.ForwardRef]=gY;s5[o5.Memo]=mY;var yY=!0;function a5(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var I1=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||yY===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},R1=function(e,n,r){I1(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function vY(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var _Y={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bY=/[A-Z]|^ms/g,wY=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l5=function(e){return e.charCodeAt(1)===45},zk=function(e){return e!=null&&typeof e!="boolean"},gw=t5(function(t){return l5(t)?t:t.replace(bY,"-$&").toLowerCase()}),Wk=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(wY,function(r,i,o){return fs={name:i,styles:o,next:fs},i})}return _Y[e]!==1&&!l5(e)&&typeof n=="number"&&n!==0?n+"px":n};function Mp(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return fs={name:i.name,styles:i.styles,next:fs},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)fs={name:s.name,styles:s.styles,next:fs},s=s.next;var a=o.styles+";";return a}return xY(t,e,n)}case"function":{if(t!==void 0){var l=fs,c=n(t);return fs=l,Mp(t,e,c)}break}}var u=n;if(e==null)return u;var f=e[u];return f!==void 0?f:u}function xY(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Mp(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":zk(a)&&(r+=gw(o)+":"+Wk(o,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)zk(s[l])&&(r+=gw(o)+":"+Wk(o,s[l])+";");else{var c=Mp(t,e,s);switch(o){case"animation":case"animationName":{r+=gw(o)+":"+c+";";break}default:r+=o+"{"+c+"}"}}}return r}var Hk=/label:\s*([^\s;{]+)\s*(;|$)/g,fs;function bg(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";fs=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=Mp(n,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=Mp(n,e,t[a]),r){var l=o;i+=l[a]}Hk.lastIndex=0;for(var c="",u;(u=Hk.exec(i))!==null;)c+="-"+u[1];var f=vY(i)+c;return{name:f,styles:i,next:fs}}var EY=function(e){return e()},c5=$y.useInsertionEffect?$y.useInsertionEffect:!1,u5=c5||EY,Gk=c5||v.useLayoutEffect,d5=v.createContext(typeof HTMLElement<"u"?lY({key:"css"}):null);d5.Provider;var P1=function(e){return v.forwardRef(function(n,r){var i=v.useContext(d5);return e(n,i,r)})},p_=v.createContext({}),k1={}.hasOwnProperty,wE="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",SY=function(e,n){var r={};for(var i in n)k1.call(n,i)&&(r[i]=n[i]);return r[wE]=e,r},CY=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return I1(n,r,i),u5(function(){return R1(n,r,i)}),null},TY=P1(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[wE],o=[r],s="";typeof t.className=="string"?s=a5(e.registered,o,t.className):t.className!=null&&(s=t.className+" ");var a=bg(o,void 0,v.useContext(p_));s+=e.key+"-"+a.name;var l={};for(var c in t)k1.call(t,c)&&c!=="css"&&c!==wE&&(l[c]=t[c]);return l.className=s,n&&(l.ref=n),v.createElement(v.Fragment,null,v.createElement(CY,{cache:e,serialized:a,isStringTag:typeof i=="string"}),v.createElement(i,l))}),IY=TY,Kk=function(e,n){var r=arguments;if(n==null||!k1.call(n,"css"))return v.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=IY,o[1]=SY(e,n);for(var s=2;s<i;s++)o[s]=r[s];return v.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Kk||(Kk={}));var RY=P1(function(t,e){var n=t.styles,r=bg([n],void 0,v.useContext(p_)),i=v.useRef();return Gk(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),Gk(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&R1(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function A1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return bg(e)}function wg(){var t=A1.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var PY=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,kY=t5(function(t){return PY.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),AY=kY,OY=function(e){return e!=="theme"},qk=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?AY:OY},Yk=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},NY=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return I1(n,r,i),u5(function(){return R1(n,r,i)}),null},MY=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=Yk(e,n,r),l=a||qk(i),c=!l("as");return function(){var u=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)f.push.apply(f,u);else{var h=u[0];f.push(h[0]);for(var p=u.length,m=1;m<p;m++)f.push(u[m],h[m])}var x=P1(function(S,b,w){var g=c&&S.as||i,C="",N=[],M=S;if(S.theme==null){M={};for(var E in S)M[E]=S[E];M.theme=v.useContext(p_)}typeof S.className=="string"?C=a5(b.registered,N,S.className):S.className!=null&&(C=S.className+" ");var I=bg(f.concat(N),b.registered,M);C+=b.key+"-"+I.name,s!==void 0&&(C+=" "+s);var k=c&&a===void 0?qk(g):l,_={};for(var O in S)c&&O==="as"||k(O)&&(_[O]=S[O]);return _.className=C,w&&(_.ref=w),v.createElement(v.Fragment,null,v.createElement(NY,{cache:b,serialized:I,isStringTag:typeof g=="string"}),v.createElement(g,_))});return x.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",x.defaultProps=e.defaultProps,x.__emotion_real=x,x.__emotion_base=i,x.__emotion_styles=f,x.__emotion_forwardProp=a,Object.defineProperty(x,"toString",{value:function(){return"."+s}}),x.withComponent=function(S,b){var w=t(S,Pv({},n,b,{shouldForwardProp:Yk(x,b,!0)}));return w.apply(void 0,f)},x}},DY=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],xE=MY.bind(null);DY.forEach(function(t){xE[t]=xE(t)});var f5={exports:{}},$Y="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",LY=$Y,FY=LY;function h5(){}function p5(){}p5.resetWarningCache=h5;var BY=function(){function t(r,i,o,s,a,l){if(l!==FY){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:p5,resetWarningCache:h5};return n.PropTypes=n,n};f5.exports=BY();var O1=f5.exports;const we=Kp(O1);function VY(t){return t==null||Object.keys(t).length===0}function jY(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(VY(i)?n:i):e;return P.jsx(RY,{styles:r})}function g5(t,e){return xE(t,e)}function UY(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const Xk=[];function Qk(t){return Xk[0]=t,bg(Xk)}var m5={exports:{}},an={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1=Symbol.for("react.transitional.element"),M1=Symbol.for("react.portal"),g_=Symbol.for("react.fragment"),m_=Symbol.for("react.strict_mode"),y_=Symbol.for("react.profiler"),v_=Symbol.for("react.consumer"),__=Symbol.for("react.context"),b_=Symbol.for("react.forward_ref"),w_=Symbol.for("react.suspense"),x_=Symbol.for("react.suspense_list"),E_=Symbol.for("react.memo"),S_=Symbol.for("react.lazy"),zY=Symbol.for("react.view_transition"),WY=Symbol.for("react.client.reference");function Po(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case N1:switch(t=t.type,t){case g_:case y_:case m_:case w_:case x_:case zY:return t;default:switch(t=t&&t.$$typeof,t){case __:case b_:case S_:case E_:return t;case v_:return t;default:return e}}case M1:return e}}}an.ContextConsumer=v_;an.ContextProvider=__;an.Element=N1;an.ForwardRef=b_;an.Fragment=g_;an.Lazy=S_;an.Memo=E_;an.Portal=M1;an.Profiler=y_;an.StrictMode=m_;an.Suspense=w_;an.SuspenseList=x_;an.isContextConsumer=function(t){return Po(t)===v_};an.isContextProvider=function(t){return Po(t)===__};an.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===N1};an.isForwardRef=function(t){return Po(t)===b_};an.isFragment=function(t){return Po(t)===g_};an.isLazy=function(t){return Po(t)===S_};an.isMemo=function(t){return Po(t)===E_};an.isPortal=function(t){return Po(t)===M1};an.isProfiler=function(t){return Po(t)===y_};an.isStrictMode=function(t){return Po(t)===m_};an.isSuspense=function(t){return Po(t)===w_};an.isSuspenseList=function(t){return Po(t)===x_};an.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===g_||t===y_||t===m_||t===w_||t===x_||typeof t=="object"&&t!==null&&(t.$$typeof===S_||t.$$typeof===E_||t.$$typeof===__||t.$$typeof===v_||t.$$typeof===b_||t.$$typeof===WY||t.getModuleId!==void 0)};an.typeOf=Po;m5.exports=an;var y5=m5.exports;function ps(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function v5(t){if(v.isValidElement(t)||y5.isValidElementType(t)||!ps(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=v5(t[n])}),e}function Cr(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return ps(t)&&ps(e)&&Object.keys(e).forEach(i=>{v.isValidElement(e[i])||y5.isValidElementType(e[i])?r[i]=e[i]:ps(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&ps(t[i])?r[i]=Cr(t[i],e[i],n):n.clone?r[i]=ps(e[i])?v5(e[i]):e[i]:r[i]=e[i]}),r}const HY=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function GY(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,o=HY(e),s=Object.keys(o);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function c(h,p){const m=s.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(m!==-1&&typeof e[s[m]]=="number"?e[s[m]]:p)-r/100}${n})`}function u(h){return s.indexOf(h)+1<s.length?c(h,s[s.indexOf(h)+1]):a(h)}function f(h){const p=s.indexOf(h);return p===0?a(s[1]):p===s.length-1?l(s[p]):c(h,s[s.indexOf(h)+1]).replace("@media","@media not all and")}return{keys:s,values:o,up:a,down:l,between:c,only:u,not:f,unit:n,...i}}function KY(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var s,a;const o=/min-width:\s*([0-9.]+)/;return+(((s=r.match(o))==null?void 0:s[1])||0)-+(((a=i.match(o))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function qY(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function YY(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(o)}function XY(t){const e=(o,s)=>o.replace("@media",s?`@container ${s}`:"@container");function n(o,s){o.up=(...a)=>e(t.breakpoints.up(...a),s),o.down=(...a)=>e(t.breakpoints.down(...a),s),o.between=(...a)=>e(t.breakpoints.between(...a),s),o.only=(...a)=>e(t.breakpoints.only(...a),s),o.not=(...a)=>{const l=e(t.breakpoints.not(...a),s);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=o=>(n(r,o),r);return n(i),{...t,containerQueries:i}}const QY={borderRadius:4};function Hh(t,e){return e?Cr(t,e,{clone:!1}):t}const C_={xs:0,sm:600,md:900,lg:1200,xl:1536},Jk={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${C_[t]}px)`},JY={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:C_[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function ts(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||Jk;return e.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(e[l]),s),{})}if(typeof e=="object"){const o=r.breakpoints||Jk;return Object.keys(e).reduce((s,a)=>{if(qY(o.keys,a)){const l=YY(r.containerQueries?r:JY,a);l&&(s[l]=n(e[a],a))}else if(Object.keys(o.values||C_).includes(a)){const l=o.up(a);s[l]=n(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return n(e)}function _5(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function b5(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function ZY(t,...e){const n=_5(t),r=[n,...e].reduce((i,o)=>Cr(i,o),{});return b5(Object.keys(n),r)}function eX(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,o)=>{o<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function mw({values:t,breakpoints:e,base:n}){const r=n||eX(t,e),i=Object.keys(r);if(i.length===0)return t;let o;return i.reduce((s,a,l)=>(Array.isArray(t)?(s[a]=t[l]!=null?t[l]:t[o],o=l):typeof t=="object"?(s[a]=t[a]!=null?t[a]:t[o],o=a):s[a]=t,s),{})}function de(t){if(typeof t!="string")throw new Error(ma(7));return t.charAt(0).toUpperCase()+t.slice(1)}function T_(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Av(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=T_(t,n)||r,e&&(i=e(i,r,t)),i}function qn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,c=T_(l,r)||{};return ts(s,a,f=>{let h=Av(c,i,f);return f===h&&typeof f=="string"&&(h=Av(c,i,`${e}${f==="default"?"":de(f)}`,f)),n===!1?h:{[n]:h}})};return o.propTypes={},o.filterProps=[e],o}function tX(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const nX={m:"margin",p:"padding"},rX={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Zk={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},iX=tX(t=>{if(t.length>2)if(Zk[t])t=Zk[t];else return[t];const[e,n]=t.split(""),r=nX[e],i=rX[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),D1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],$1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...D1,...$1];function xg(t,e,n,r){const i=T_(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const s=Math.abs(o),a=i[s];return o>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof i=="function"?i:()=>{}}function I_(t){return xg(t,"spacing",8)}function Pc(t,e){return typeof e=="string"||e==null?e:t(e)}function oX(t,e){return n=>t.reduce((r,i)=>(r[i]=Pc(e,n),r),{})}function sX(t,e,n,r){if(!e.includes(n))return null;const i=iX(n),o=oX(i,r),s=t[n];return ts(t,s,o)}function w5(t,e){const n=I_(t.theme);return Object.keys(t).map(r=>sX(t,e,r,n)).reduce(Hh,{})}function $n(t){return w5(t,D1)}$n.propTypes={};$n.filterProps=D1;function Ln(t){return w5(t,$1)}Ln.propTypes={};Ln.filterProps=$1;function x5(t=8,e=I_({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function R_(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?Hh(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function mo(t){return typeof t!="number"?t:`${t}px solid`}function ko(t,e){return qn({prop:t,themeKey:"borders",transform:e})}const aX=ko("border",mo),lX=ko("borderTop",mo),cX=ko("borderRight",mo),uX=ko("borderBottom",mo),dX=ko("borderLeft",mo),fX=ko("borderColor"),hX=ko("borderTopColor"),pX=ko("borderRightColor"),gX=ko("borderBottomColor"),mX=ko("borderLeftColor"),yX=ko("outline",mo),vX=ko("outlineColor"),P_=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=xg(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Pc(e,r)});return ts(t,t.borderRadius,n)}return null};P_.propTypes={};P_.filterProps=["borderRadius"];R_(aX,lX,cX,uX,dX,fX,hX,pX,gX,mX,P_,yX,vX);const k_=t=>{if(t.gap!==void 0&&t.gap!==null){const e=xg(t.theme,"spacing",8),n=r=>({gap:Pc(e,r)});return ts(t,t.gap,n)}return null};k_.propTypes={};k_.filterProps=["gap"];const A_=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=xg(t.theme,"spacing",8),n=r=>({columnGap:Pc(e,r)});return ts(t,t.columnGap,n)}return null};A_.propTypes={};A_.filterProps=["columnGap"];const O_=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=xg(t.theme,"spacing",8),n=r=>({rowGap:Pc(e,r)});return ts(t,t.rowGap,n)}return null};O_.propTypes={};O_.filterProps=["rowGap"];const _X=qn({prop:"gridColumn"}),bX=qn({prop:"gridRow"}),wX=qn({prop:"gridAutoFlow"}),xX=qn({prop:"gridAutoColumns"}),EX=qn({prop:"gridAutoRows"}),SX=qn({prop:"gridTemplateColumns"}),CX=qn({prop:"gridTemplateRows"}),TX=qn({prop:"gridTemplateAreas"}),IX=qn({prop:"gridArea"});R_(k_,A_,O_,_X,bX,wX,xX,EX,SX,CX,TX,IX);function md(t,e){return e==="grey"?e:t}const RX=qn({prop:"color",themeKey:"palette",transform:md}),PX=qn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:md}),kX=qn({prop:"backgroundColor",themeKey:"palette",transform:md});R_(RX,PX,kX);function Wi(t){return t<=1&&t!==0?`${t*100}%`:t}const AX=qn({prop:"width",transform:Wi}),L1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,o,s,a,l;const r=((s=(o=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:s[n])||C_[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Wi(n)}};return ts(t,t.maxWidth,e)}return null};L1.filterProps=["maxWidth"];const OX=qn({prop:"minWidth",transform:Wi}),NX=qn({prop:"height",transform:Wi}),MX=qn({prop:"maxHeight",transform:Wi}),DX=qn({prop:"minHeight",transform:Wi});qn({prop:"size",cssProperty:"width",transform:Wi});qn({prop:"size",cssProperty:"height",transform:Wi});const $X=qn({prop:"boxSizing"});R_(AX,L1,OX,NX,MX,DX,$X);const Eg={border:{themeKey:"borders",transform:mo},borderTop:{themeKey:"borders",transform:mo},borderRight:{themeKey:"borders",transform:mo},borderBottom:{themeKey:"borders",transform:mo},borderLeft:{themeKey:"borders",transform:mo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:mo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:P_},color:{themeKey:"palette",transform:md},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:md},backgroundColor:{themeKey:"palette",transform:md},p:{style:Ln},pt:{style:Ln},pr:{style:Ln},pb:{style:Ln},pl:{style:Ln},px:{style:Ln},py:{style:Ln},padding:{style:Ln},paddingTop:{style:Ln},paddingRight:{style:Ln},paddingBottom:{style:Ln},paddingLeft:{style:Ln},paddingX:{style:Ln},paddingY:{style:Ln},paddingInline:{style:Ln},paddingInlineStart:{style:Ln},paddingInlineEnd:{style:Ln},paddingBlock:{style:Ln},paddingBlockStart:{style:Ln},paddingBlockEnd:{style:Ln},m:{style:$n},mt:{style:$n},mr:{style:$n},mb:{style:$n},ml:{style:$n},mx:{style:$n},my:{style:$n},margin:{style:$n},marginTop:{style:$n},marginRight:{style:$n},marginBottom:{style:$n},marginLeft:{style:$n},marginX:{style:$n},marginY:{style:$n},marginInline:{style:$n},marginInlineStart:{style:$n},marginInlineEnd:{style:$n},marginBlock:{style:$n},marginBlockStart:{style:$n},marginBlockEnd:{style:$n},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:k_},rowGap:{style:O_},columnGap:{style:A_},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Wi},maxWidth:{style:L1},minWidth:{transform:Wi},height:{transform:Wi},maxHeight:{transform:Wi},minHeight:{transform:Wi},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function LX(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function FX(t,e){return typeof t=="function"?t(e):t}function BX(){function t(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:f}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=T_(i,c)||{};return f?f(s):ts(s,r,m=>{let x=Av(h,u,m);return m===x&&typeof m=="string"&&(x=Av(h,u,`${n}${m==="default"?"":de(m)}`,m)),l===!1?x:{[l]:x}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const o=i.unstable_sxConfig??Eg;function s(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const c=_5(i.breakpoints),u=Object.keys(c);let f=c;return Object.keys(l).forEach(h=>{const p=FX(l[h],i);if(p!=null)if(typeof p=="object")if(o[h])f=Hh(f,t(h,p,i,o));else{const m=ts({theme:i},p,x=>({[h]:x}));LX(m,p)?f[h]=e({sx:p,theme:i}):f=Hh(f,m)}else f=Hh(f,t(h,p,i,o))}),KY(i,b5(u,f))}return Array.isArray(r)?r.map(s):s(r)}return e}const kc=BX();kc.filterProps=["sx"];function VX(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function af(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={},...s}=t,a=GY(n),l=x5(i);let c=Cr({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...QY,...o}},s);return c=XY(c),c.applyStyles=VX,c=e.reduce((u,f)=>Cr(u,f),c),c.unstable_sxConfig={...Eg,...s==null?void 0:s.unstable_sxConfig},c.unstable_sx=function(f){return kc({sx:f,theme:this})},c}function jX(t){return Object.keys(t).length===0}function E5(t=null){const e=v.useContext(p_);return!e||jX(e)?t:e}const UX=af();function Sg(t=UX){return E5(t)}function zX({styles:t,themeId:e,defaultTheme:n={}}){const r=Sg(n),i=typeof t=="function"?t(e&&r[e]||r):t;return P.jsx(jY,{styles:i})}const WX=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??Eg;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function N_(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=WX(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return ps(a)?{...r,...a}:r}:o={...r,...e},{...i,sx:o}}const eA=t=>t,HX=()=>{let t=eA;return{configure(e){t=e},generate(e){return t(e)},reset(){t=eA}}},S5=HX();function C5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=C5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Te(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=C5(t))&&(r&&(r+=" "),r+=e);return r}function GX(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=g5("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(kc);return v.forwardRef(function(l,c){const u=Sg(n),{className:f,component:h="div",...p}=N_(l);return P.jsx(o,{as:h,ref:c,className:Te(f,i?i(r):r),theme:e&&u[e]||u,...p})})}const KX={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function st(t,e,n="Mui"){const r=KX[e];return r?`${n}-${r}`:`${S5.generate(t)}-${e}`}function rt(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=st(t,i,n)}),r}function T5(t){const{variants:e,...n}=t,r={variants:e,style:Qk(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=Qk(i.style))}),r}const qX=af();function yw(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function YX(t){return t?(e,n)=>n[t]:null}function XX(t,e,n){t.theme=JX(t.theme)?n:t.theme[e]||t.theme}function Ay(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>Ay(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...o}=n;r=o}return I5(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function I5(t,e,n=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const s=e[o];if(typeof s.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!s.props(r))continue}else for(const a in s.props)if(t[a]!==s.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==s.props[a])continue e;typeof s.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(s.style(r))):n.push(s.style)}return n}function R5(t={}){const{themeId:e,defaultTheme:n=qX,rootShouldForwardProp:r=yw,slotShouldForwardProp:i=yw}=t;function o(a){XX(a,e,n)}return(a,l={})=>{UY(a,N=>N.filter(M=>M!==kc));const{name:c,slot:u,skipVariantsResolver:f,skipSx:h,overridesResolver:p=YX(eQ(u)),...m}=l,x=f!==void 0?f:u&&u!=="Root"&&u!=="root"||!1,S=h||!1;let b=yw;u==="Root"||u==="root"?b=r:u?b=i:ZX(a)&&(b=void 0);const w=g5(a,{shouldForwardProp:b,label:QX(),...m}),g=N=>{if(typeof N=="function"&&N.__emotion_real!==N)return function(E){return Ay(E,N)};if(ps(N)){const M=T5(N);return M.variants?function(I){return Ay(I,M)}:M.style}return N},C=(...N)=>{const M=[],E=N.map(g),I=[];if(M.push(o),c&&p&&I.push(function($){var q,ie;const Q=(ie=(q=$.theme.components)==null?void 0:q[c])==null?void 0:ie.styleOverrides;if(!Q)return null;const W={};for(const K in Q)W[K]=Ay($,Q[K]);return p($,W)}),c&&!x&&I.push(function($){var W,q;const A=$.theme,Q=(q=(W=A==null?void 0:A.components)==null?void 0:W[c])==null?void 0:q.variants;return Q?I5($,Q):null}),S||I.push(kc),Array.isArray(E[0])){const O=E.shift(),$=new Array(M.length).fill(""),A=new Array(I.length).fill("");let Q;Q=[...$,...O,...A],Q.raw=[...$,...O.raw,...A],M.unshift(Q)}const k=[...M,...E,...I],_=w(...k);return a.muiName&&(_.muiName=a.muiName),_};return w.withConfig&&(C.withConfig=w.withConfig),C}}function QX(t,e){return void 0}function JX(t){for(const e in t)return!1;return!0}function ZX(t){return typeof t=="string"&&t.charCodeAt(0)>96}function eQ(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const F1=R5();function Ld(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const o=t[i],s=e[i];if(!s)n[i]=o||{};else if(!o)n[i]=s;else{n[i]={...s};for(const a in o)if(Object.prototype.hasOwnProperty.call(o,a)){const l=a;n[i][l]=Ld(o[l],s[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function P5(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Ld(e.components[n].defaultProps,r)}function B1({props:t,name:e,defaultTheme:n,themeId:r}){let i=Sg(n);return r&&(i=i[r]||i),P5({theme:i,name:e,props:t})}const Co=typeof window<"u"?v.useLayoutEffect:v.useEffect;function tQ(t,e,n,r,i){const[o,s]=v.useState(()=>i&&n?n(t).matches:r?r(t).matches:e);return Co(()=>{if(!n)return;const a=n(t),l=()=>{s(a.matches)};return l(),a.addEventListener("change",l),()=>{a.removeEventListener("change",l)}},[t,n]),o}const nQ={...$y},k5=nQ.useSyncExternalStore;function rQ(t,e,n,r,i){const o=v.useCallback(()=>e,[e]),s=v.useMemo(()=>{if(i&&n)return()=>n(t).matches;if(r!==null){const{matches:u}=r(t);return()=>u}return o},[o,t,r,i,n]),[a,l]=v.useMemo(()=>{if(n===null)return[o,()=>()=>{}];const u=n(t);return[()=>u.matches,f=>(u.addEventListener("change",f),()=>{u.removeEventListener("change",f)})]},[o,n,t]);return k5(l,a,s)}function A5(t={}){const{themeId:e}=t;return function(r,i={}){let o=E5();o&&e&&(o=o[e]||o);const s=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:a=!1,matchMedia:l=s?window.matchMedia:null,ssrMatchMedia:c=null,noSsr:u=!1}=P5({name:"MuiUseMediaQuery",props:i,theme:o});let f=typeof r=="function"?r(o):r;return f=f.replace(/^@media( ?)/m,""),(k5!==void 0?rQ:tQ)(f,a,l,c,u)}}A5();function iQ(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function V1(t,e=0,n=1){return iQ(t,e,n)}function oQ(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Cl(t){if(t.type)return t;if(t.charAt(0)==="#")return Cl(oQ(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(ma(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(ma(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const sQ=t=>{const e=Cl(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Eh=(t,e)=>{try{return sQ(t)}catch{return t}};function M_(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function O5(t){t=Cl(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(c,u=(c+n/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),M_({type:a,values:l})}function EE(t){t=Cl(t);let e=t.type==="hsl"||t.type==="hsla"?Cl(O5(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function aQ(t,e){const n=EE(t),r=EE(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Lt(t,e){return t=Cl(t),e=V1(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,M_(t)}function Fm(t,e,n){try{return Lt(t,e)}catch{return t}}function j1(t,e){if(t=Cl(t),e=V1(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return M_(t)}function rn(t,e,n){try{return j1(t,e)}catch{return t}}function U1(t,e){if(t=Cl(t),e=V1(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return M_(t)}function on(t,e,n){try{return U1(t,e)}catch{return t}}function lQ(t,e=.15){return EE(t)>.5?j1(t,e):U1(t,e)}function Bm(t,e,n){try{return lQ(t,e)}catch{return t}}function tA(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function D_(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function Oy(t,e){var n,r,i;return v.isValidElement(t)&&e.indexOf(t.type.muiName??((i=(r=(n=t.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function ki(t){return t&&t.ownerDocument||document}function ns(t){return ki(t).defaultView||window}function Ov(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let nA=0;function cQ(t){const[e,n]=v.useState(t),r=t||e;return v.useEffect(()=>{e==null&&(nA+=1,n(`mui-${nA}`))},[e]),r}const uQ={...$y},rA=uQ.useId;function lf(t){if(rA!==void 0){const e=rA();return t??e}return cQ(t)}function Gh({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=v.useRef(t!==void 0),[o,s]=v.useState(e),a=i?t:o,l=v.useCallback(c=>{i||s(c)},[]);return[a,l]}function bi(t){const e=v.useRef(t);return Co(()=>{e.current=t}),v.useRef((...n)=>(0,e.current)(...n)).current}function Tr(...t){return v.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Ov(n,e)})},t)}const iA={};function N5(t,e){const n=v.useRef(iA);return n.current===iA&&(n.current=t(e)),n}const dQ=[];function fQ(t){v.useEffect(t,dQ)}class z1{constructor(){Vf(this,"currentId",null);Vf(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Vf(this,"disposeEffect",()=>this.clear)}static create(){return new z1}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function M5(){const t=N5(z1.create).current;return fQ(t.disposeEffect),t}function oA(t){try{return t.matches(":focus-visible")}catch{}return!1}function D5(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}const hQ=t=>{const e=v.useRef({});return v.useEffect(()=>{e.current=t}),e.current};function pQ(t){return v.Children.toArray(t).filter(e=>v.isValidElement(e))}function at(t,e,n=void 0){const r={};for(const i in t){const o=t[i];let s="",a=!0;for(let l=0;l<o.length;l+=1){const c=o[l];c&&(s+=(a===!0?"":" ")+e(c),a=!1,n&&n[c]&&(s+=" "+n[c]))}r[i]=s}return r}function gQ(t){return typeof t=="string"}function $5(t,e,n){return t===void 0||gQ(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function L5(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function sA(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function F5(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const p=Te(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),m={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},x={...n,...i,...r};return p.length>0&&(x.className=p),Object.keys(m).length>0&&(x.style=m),{props:x,internalRef:void 0}}const s=L5({...i,...r}),a=sA(r),l=sA(i),c=e(s),u=Te(c==null?void 0:c.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),f={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},h={...c,...n,...l,...a};return u.length>0&&(h.className=u),Object.keys(f).length>0&&(h.style=f),{props:h,internalRef:c.ref}}function B5(t,e,n){return typeof t=="function"?t(e,n):t}function Fd(t){var f;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=t,s=i?{}:B5(n,r),{props:a,internalRef:l}=F5({...o,externalSlotProps:s}),c=Tr(l,s==null?void 0:s.ref,(f=t.additionalProps)==null?void 0:f.ref);return $5(e,{...a,ref:c},r)}function Cg(t){var e;return parseInt(v.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const mQ=v.createContext(),$_=()=>v.useContext(mQ)??!1,yQ=v.createContext(void 0);function vQ(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Ld(i.defaultProps,r):!i.styleOverrides&&!i.variants?Ld(i,r):r}function _Q({props:t,name:e}){const n=v.useContext(yQ);return vQ({props:t,name:e,theme:{components:n}})}const aA={theme:void 0};function bQ(t){let e,n;return function(i){let o=e;return(o===void 0||i.theme!==n)&&(aA.theme=i.theme,o=T5(t(aA)),e=o,n=i.theme),o}}function wQ(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const lA=(t,e,n,r=[])=>{let i=t;e.forEach((o,s)=>{s===e.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},xQ=(t,e,n)=>{function r(i,o=[],s=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...o,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...o,a],Array.isArray(l)?[...s,a]:s):e([...o,a],l,s))})}r(t)},EQ=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function vw(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},o={},s={};return xQ(t,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const u=`--${n?`${n}-`:""}${a.join("-")}`,f=EQ(a,l);Object.assign(i,{[u]:f}),lA(o,a,`var(${u})`,c),lA(s,a,`var(${u}, ${f})`,c)}},a=>a[0]==="vars"),{css:i,vars:o,varsWithDefaults:s}}function SQ(t,e={}){const{getSelector:n=S,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:s,defaultColorScheme:a="light",...l}=t,{vars:c,css:u,varsWithDefaults:f}=vw(l,e);let h=f;const p={},{[a]:m,...x}=o;if(Object.entries(x||{}).forEach(([g,C])=>{const{vars:N,css:M,varsWithDefaults:E}=vw(C,e);h=Cr(h,E),p[g]={css:M,vars:N}}),m){const{css:g,vars:C,varsWithDefaults:N}=vw(m,e);h=Cr(h,N),p[a]={css:g,vars:C}}function S(g,C){var M,E;let N=i;if(i==="class"&&(N=".%s"),i==="data"&&(N="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(N=`[${i}="%s"]`),g){if(N==="media")return t.defaultColorScheme===g?":root":{[`@media (prefers-color-scheme: ${((E=(M=o[g])==null?void 0:M.palette)==null?void 0:E.mode)||g})`]:{":root":C}};if(N)return t.defaultColorScheme===g?`:root, ${N.replace("%s",String(g))}`:N.replace("%s",String(g))}return":root"}return{vars:h,generateThemeVars:()=>{let g={...c};return Object.entries(p).forEach(([,{vars:C}])=>{g=Cr(g,C)}),g},generateStyleSheets:()=>{var I,k;const g=[],C=t.defaultColorScheme||"light";function N(_,O){Object.keys(O).length&&g.push(typeof _=="string"?{[_]:{...O}}:_)}N(n(void 0,{...u}),u);const{[C]:M,...E}=p;if(M){const{css:_}=M,O=(k=(I=o[C])==null?void 0:I.palette)==null?void 0:k.mode,$=!r&&O?{colorScheme:O,..._}:{..._};N(n(C,{...$}),$)}return Object.entries(E).forEach(([_,{css:O}])=>{var Q,W;const $=(W=(Q=o[_])==null?void 0:Q.palette)==null?void 0:W.mode,A=!r&&$?{colorScheme:$,...O}:{...O};N(n(_,{...A}),A)}),g}}}function CQ(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const TQ=af(),IQ=F1("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${de(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),RQ=t=>B1({props:t,name:"MuiContainer",defaultTheme:TQ}),PQ=(t,e)=>{const n=l=>st(e,l),{classes:r,fixed:i,disableGutters:o,maxWidth:s}=t,a={root:["root",s&&`maxWidth${de(String(s))}`,i&&"fixed",o&&"disableGutters"]};return at(a,n,r)};function kQ(t={}){const{createStyledComponent:e=IQ,useThemeProps:n=RQ,componentName:r="MuiContainer"}=t,i=e(({theme:s,ownerState:a})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((l,c)=>{const u=c,f=s.breakpoints.values[u];return f!==0&&(l[s.breakpoints.up(u)]={maxWidth:`${f}${s.breakpoints.unit}`}),l},{}),({theme:s,ownerState:a})=>({...a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},...a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}}));return v.forwardRef(function(a,l){const c=n(a),{className:u,component:f="div",disableGutters:h=!1,fixed:p=!1,maxWidth:m="lg",classes:x,...S}=c,b={...c,component:f,disableGutters:h,fixed:p,maxWidth:m},w=PQ(b,r);return P.jsx(i,{as:f,ownerState:b,className:Te(w.root,u),ref:l,...S})})}const AQ=(t,e)=>t.filter(n=>e.includes(n)),cf=(t,e,n)=>{const r=t.keys[0];Array.isArray(e)?e.forEach((i,o)=>{n((s,a)=>{o<=t.keys.length-1&&(o===0?Object.assign(s,a):s[t.up(t.keys[o])]=a)},i)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:AQ(t.keys,Object.keys(e))).forEach(o=>{if(t.keys.includes(o)){const s=e[o];s!==void 0&&n((a,l)=>{r===o?Object.assign(a,l):a[t.up(o)]=l},s)}}):(typeof e=="number"||typeof e=="string")&&n((i,o)=>{Object.assign(i,o)},e)};function Nv(t){return`--Grid-${t}Spacing`}function L_(t){return`--Grid-parent-${t}Spacing`}const cA="--Grid-columns",yd="--Grid-parent-columns",OQ=({theme:t,ownerState:e})=>{const n={};return cf(t.breakpoints,e.size,(r,i)=>{let o={};i==="grow"&&(o={flexBasis:0,flexGrow:1,maxWidth:"100%"}),i==="auto"&&(o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof i=="number"&&(o={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${i} / var(${yd}) - (var(${yd}) - ${i}) * (var(${L_("column")}) / var(${yd})))`}),r(n,o)}),n},NQ=({theme:t,ownerState:e})=>{const n={};return cf(t.breakpoints,e.offset,(r,i)=>{let o={};i==="auto"&&(o={marginLeft:"auto"}),typeof i=="number"&&(o={marginLeft:i===0?"0px":`calc(100% * ${i} / var(${yd}) + var(${L_("column")}) * ${i} / var(${yd}))`}),r(n,o)}),n},MQ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={[cA]:12};return cf(t.breakpoints,e.columns,(r,i)=>{const o=i??12;r(n,{[cA]:o,"> *":{[yd]:o}})}),n},DQ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return cf(t.breakpoints,e.rowSpacing,(r,i)=>{var s;const o=typeof i=="string"?i:(s=t.spacing)==null?void 0:s.call(t,i);r(n,{[Nv("row")]:o,"> *":{[L_("row")]:o}})}),n},$Q=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return cf(t.breakpoints,e.columnSpacing,(r,i)=>{var s;const o=typeof i=="string"?i:(s=t.spacing)==null?void 0:s.call(t,i);r(n,{[Nv("column")]:o,"> *":{[L_("column")]:o}})}),n},LQ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return cf(t.breakpoints,e.direction,(r,i)=>{r(n,{flexDirection:i})}),n},FQ=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${Nv("row")}) var(${Nv("column")})`}}),BQ=t=>{const e=[];return Object.entries(t).forEach(([n,r])=>{r!==!1&&r!==void 0&&e.push(`grid-${n}-${String(r)}`)}),e},VQ=(t,e="xs")=>{function n(r){return r===void 0?!1:typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number"&&r>0}if(n(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const r=[];return Object.entries(t).forEach(([i,o])=>{n(o)&&r.push(`spacing-${i}-${String(o)}`)}),r}return[]},jQ=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,n])=>`direction-${e}-${n}`):[`direction-xs-${String(t)}`];function UQ(t,e){t.item!==void 0&&delete t.item,t.zeroMinWidth!==void 0&&delete t.zeroMinWidth,e.keys.forEach(n=>{t[n]!==void 0&&delete t[n]})}const zQ=af(),WQ=F1("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>e.root});function HQ(t){return B1({props:t,name:"MuiGrid",defaultTheme:zQ})}function GQ(t={}){const{createStyledComponent:e=WQ,useThemeProps:n=HQ,useTheme:r=Sg,componentName:i="MuiGrid"}=t,o=(c,u)=>{const{container:f,direction:h,spacing:p,wrap:m,size:x}=c,S={root:["root",f&&"container",m!=="wrap"&&`wrap-xs-${String(m)}`,...jQ(h),...BQ(x),...f?VQ(p,u.breakpoints.keys[0]):[]]};return at(S,b=>st(i,b),{})};function s(c,u,f=()=>!0){const h={};return c===null||(Array.isArray(c)?c.forEach((p,m)=>{p!==null&&f(p)&&u.keys[m]&&(h[u.keys[m]]=p)}):typeof c=="object"?Object.keys(c).forEach(p=>{const m=c[p];m!=null&&f(m)&&(h[p]=m)}):h[u.keys[0]]=c),h}const a=e(MQ,$Q,DQ,OQ,LQ,FQ,NQ),l=v.forwardRef(function(u,f){const h=r(),p=n(u),m=N_(p);UQ(m,h.breakpoints);const{className:x,children:S,columns:b=12,container:w=!1,component:g="div",direction:C="row",wrap:N="wrap",size:M={},offset:E={},spacing:I=0,rowSpacing:k=I,columnSpacing:_=I,unstable_level:O=0,...$}=m,A=s(M,h.breakpoints,oe=>oe!==!1),Q=s(E,h.breakpoints),W=u.columns??(O?void 0:b),q=u.spacing??(O?void 0:I),ie=u.rowSpacing??u.spacing??(O?void 0:k),K=u.columnSpacing??u.spacing??(O?void 0:_),j={...m,level:O,columns:W,container:w,direction:C,wrap:N,spacing:q,rowSpacing:ie,columnSpacing:K,size:A,offset:Q},G=o(j,h);return P.jsx(a,{ref:f,as:g,ownerState:j,className:Te(G.root,x),...$,children:v.Children.map(S,oe=>{var re;return v.isValidElement(oe)&&Oy(oe,["Grid"])&&w&&oe.props.container?v.cloneElement(oe,{unstable_level:((re=oe.props)==null?void 0:re.unstable_level)??O+1}):oe})})});return l.muiName="Grid",l}const KQ=af(),qQ=F1("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function YQ(t){return B1({props:t,name:"MuiStack",defaultTheme:KQ})}function XQ(t,e){const n=v.Children.toArray(t).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(v.cloneElement(e,{key:`separator-${o}`})),r),[])}const QQ=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],JQ=({ownerState:t,theme:e})=>{let n={display:"flex",flexDirection:"column",...ts({theme:e},mw({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(t.spacing){const r=I_(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),o=mw({values:t.direction,base:i}),s=mw({values:t.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((l,c,u)=>{if(!o[l]){const h=c>0?o[u[c-1]]:"column";o[l]=h}}),n=Cr(n,ts({theme:e},s,(l,c)=>t.useFlexGap?{gap:Pc(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${QQ(c?o[c]:t.direction)}`]:Pc(r,l)}}))}return n=ZY(e.breakpoints,n),n};function ZQ(t={}){const{createStyledComponent:e=qQ,useThemeProps:n=YQ,componentName:r="MuiStack"}=t,i=()=>at({root:["root"]},l=>st(r,l),{}),o=e(JQ);return v.forwardRef(function(l,c){const u=n(l),f=N_(u),{component:h="div",direction:p="column",spacing:m=0,divider:x,children:S,className:b,useFlexGap:w=!1,...g}=f,C={direction:p,spacing:m,useFlexGap:w},N=i();return P.jsx(o,{as:h,ownerState:C,ref:c,className:Te(N.root,b),...g,children:x?XQ(S,x):S})})}function V5(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ap.white,default:Ap.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const eJ=V5();function j5(){return{text:{primary:Ap.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ap.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const uA=j5();function dA(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=U1(t.main,i):e==="dark"&&(t.dark=j1(t.main,o)))}function tJ(t="light"){return t==="dark"?{main:mu[200],light:mu[50],dark:mu[400]}:{main:mu[700],light:mu[400],dark:mu[800]}}function nJ(t="light"){return t==="dark"?{main:gu[200],light:gu[50],dark:gu[400]}:{main:gu[500],light:gu[300],dark:gu[700]}}function rJ(t="light"){return t==="dark"?{main:pu[500],light:pu[300],dark:pu[700]}:{main:pu[700],light:pu[400],dark:pu[800]}}function iJ(t="light"){return t==="dark"?{main:yu[400],light:yu[300],dark:yu[700]}:{main:yu[700],light:yu[500],dark:yu[900]}}function oJ(t="light"){return t==="dark"?{main:vu[400],light:vu[300],dark:vu[700]}:{main:vu[800],light:vu[500],dark:vu[900]}}function sJ(t="light"){return t==="dark"?{main:Qf[400],light:Qf[300],dark:Qf[700]}:{main:"#ed6c02",light:Qf[500],dark:Qf[900]}}function W1(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,o=t.primary||tJ(e),s=t.secondary||nJ(e),a=t.error||rJ(e),l=t.info||iJ(e),c=t.success||oJ(e),u=t.warning||sJ(e);function f(x){return aQ(x,uA.text.primary)>=n?uA.text.primary:eJ.text.primary}const h=({color:x,name:S,mainShade:b=500,lightShade:w=300,darkShade:g=700})=>{if(x={...x},!x.main&&x[b]&&(x.main=x[b]),!x.hasOwnProperty("main"))throw new Error(ma(11,S?` (${S})`:"",b));if(typeof x.main!="string")throw new Error(ma(12,S?` (${S})`:"",JSON.stringify(x.main)));return dA(x,"light",w,r),dA(x,"dark",g,r),x.contrastText||(x.contrastText=f(x.main)),x};let p;return e==="light"?p=V5():e==="dark"&&(p=j5()),Cr({common:{...Ap},mode:e,primary:h({color:o,name:"primary"}),secondary:h({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:Nq,contrastThreshold:n,getContrastText:f,augmentColor:h,tonalOffset:r,...p},i)}function aJ(t){const e={};return Object.entries(t).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function lJ(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function cJ(t){return Math.round(t*1e5)/1e5}const fA={textTransform:"uppercase"},hA='"Roboto", "Helvetica", "Arial", sans-serif';function uJ(t,e){const{fontFamily:n=hA,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:u,...f}=typeof e=="function"?e(t):e,h=r/14,p=u||(S=>`${S/l*h}rem`),m=(S,b,w,g,C)=>({fontFamily:n,fontWeight:S,fontSize:p(b),lineHeight:w,...n===hA?{letterSpacing:`${cJ(g/b)}em`}:{},...C,...c}),x={h1:m(i,96,1.167,-1.5),h2:m(i,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(s,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(s,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(s,14,1.75,.4,fA),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,fA),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Cr({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:a,...x},f,{clone:!1})}const dJ=.2,fJ=.14,hJ=.12;function Rn(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${dJ})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${fJ})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${hJ})`].join(",")}const pJ=["none",Rn(0,2,1,-1,0,1,1,0,0,1,3,0),Rn(0,3,1,-2,0,2,2,0,0,1,5,0),Rn(0,3,3,-2,0,3,4,0,0,1,8,0),Rn(0,2,4,-1,0,4,5,0,0,1,10,0),Rn(0,3,5,-1,0,5,8,0,0,1,14,0),Rn(0,3,5,-1,0,6,10,0,0,1,18,0),Rn(0,4,5,-2,0,7,10,1,0,2,16,1),Rn(0,5,5,-3,0,8,10,1,0,3,14,2),Rn(0,5,6,-3,0,9,12,1,0,3,16,2),Rn(0,6,6,-3,0,10,14,1,0,4,18,3),Rn(0,6,7,-4,0,11,15,1,0,4,20,3),Rn(0,7,8,-4,0,12,17,2,0,5,22,4),Rn(0,7,8,-4,0,13,19,2,0,5,24,4),Rn(0,7,9,-4,0,14,21,2,0,5,26,4),Rn(0,8,9,-5,0,15,22,2,0,6,28,5),Rn(0,8,10,-5,0,16,24,2,0,6,30,5),Rn(0,8,11,-5,0,17,26,2,0,6,32,5),Rn(0,9,11,-5,0,18,28,2,0,7,34,6),Rn(0,9,12,-6,0,19,29,2,0,7,36,6),Rn(0,10,13,-6,0,20,31,3,0,8,38,7),Rn(0,10,13,-6,0,21,33,3,0,8,40,7),Rn(0,10,14,-6,0,22,35,3,0,8,42,7),Rn(0,11,14,-7,0,23,36,3,0,9,44,8),Rn(0,11,15,-7,0,24,38,3,0,9,46,8)],gJ={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},mJ={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function pA(t){return`${Math.round(t)}ms`}function yJ(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function vJ(t){const e={...gJ,...t.easing},n={...mJ,...t.duration};return{getAutoHeightDuration:yJ,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=e.easeInOut,delay:l=0,...c}=o;return(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof s=="string"?s:pA(s)} ${a} ${typeof l=="string"?l:pA(l)}`).join(",")},...t,easing:e,duration:n}}const _J={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function bJ(t){return ps(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function U5(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[s,a]=i[o];!bJ(a)||s.startsWith("unstable_")?delete r[s]:ps(a)&&(r[s]={...a},n(r[s]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function SE(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:o={},transitions:s={},typography:a={},shape:l,...c}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(ma(20));const u=W1(o),f=af(t);let h=Cr(f,{mixins:lJ(f.breakpoints,r),palette:u,shadows:pJ.slice(),typography:uJ(u,a),transitions:vJ(s),zIndex:{..._J}});return h=Cr(h,c),h=e.reduce((p,m)=>Cr(p,m),h),h.unstable_sxConfig={...Eg,...c==null?void 0:c.unstable_sxConfig},h.unstable_sx=function(m){return kc({sx:m,theme:this})},h.toRuntimeSource=U5,h}function CE(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const wJ=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=CE(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function z5(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function W5(t){return t==="dark"?wJ:[]}function xJ(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,o=W1(e);return{palette:o,opacity:{...z5(o.mode),...n},overlays:r||W5(o.mode),...i}}function EJ(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const SJ=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],CJ=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const s={};return SJ(t.cssVarPrefix).forEach(a=>{s[a]=n[a],delete n[a]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:o?{[o.replace("%s",e)]:s,[`${r}, ${o.replace("%s",e)}`]:n}:{[r]:{...n,...s}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(o)return o.replace("%s",String(e))}return r};function TJ(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function Z(t,e,n){!t[e]&&n&&(t[e]=n)}function Sh(t){return typeof t!="string"||!t.startsWith("hsl")?t:O5(t)}function js(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Eh(Sh(t[e])))}function IJ(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const ls=t=>{try{return t()}catch{}},RJ=(t="mui")=>wQ(t);function _w(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=xJ({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...s}=SE({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:o,opacity:{...z5(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||W5(i)},s}function PJ(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:s=EJ,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...c}=t,u=Object.keys(n)[0],f=r||(n.light&&u!=="light"?"light":u),h=RJ(o),{[f]:p,light:m,dark:x,...S}=n,b={...S};let w=p;if((f==="dark"&&!("dark"in n)||f==="light"&&!("light"in n))&&(w=!0),!w)throw new Error(ma(21,f));const g=_w(b,w,c,f);m&&!b.light&&_w(b,m,void 0,"light"),x&&!b.dark&&_w(b,x,void 0,"dark");let C={defaultColorScheme:f,...g,cssVarPrefix:o,colorSchemeSelector:a,rootSelector:l,getCssVar:h,colorSchemes:b,font:{...aJ(g.typography),...g.font},spacing:IJ(c.spacing)};Object.keys(C.colorSchemes).forEach(k=>{const _=C.colorSchemes[k].palette,O=$=>{const A=$.split("-"),Q=A[1],W=A[2];return h($,_[Q][W])};if(_.mode==="light"&&(Z(_.common,"background","#fff"),Z(_.common,"onBackground","#000")),_.mode==="dark"&&(Z(_.common,"background","#000"),Z(_.common,"onBackground","#fff")),TJ(_,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),_.mode==="light"){Z(_.Alert,"errorColor",rn(_.error.light,.6)),Z(_.Alert,"infoColor",rn(_.info.light,.6)),Z(_.Alert,"successColor",rn(_.success.light,.6)),Z(_.Alert,"warningColor",rn(_.warning.light,.6)),Z(_.Alert,"errorFilledBg",O("palette-error-main")),Z(_.Alert,"infoFilledBg",O("palette-info-main")),Z(_.Alert,"successFilledBg",O("palette-success-main")),Z(_.Alert,"warningFilledBg",O("palette-warning-main")),Z(_.Alert,"errorFilledColor",ls(()=>_.getContrastText(_.error.main))),Z(_.Alert,"infoFilledColor",ls(()=>_.getContrastText(_.info.main))),Z(_.Alert,"successFilledColor",ls(()=>_.getContrastText(_.success.main))),Z(_.Alert,"warningFilledColor",ls(()=>_.getContrastText(_.warning.main))),Z(_.Alert,"errorStandardBg",on(_.error.light,.9)),Z(_.Alert,"infoStandardBg",on(_.info.light,.9)),Z(_.Alert,"successStandardBg",on(_.success.light,.9)),Z(_.Alert,"warningStandardBg",on(_.warning.light,.9)),Z(_.Alert,"errorIconColor",O("palette-error-main")),Z(_.Alert,"infoIconColor",O("palette-info-main")),Z(_.Alert,"successIconColor",O("palette-success-main")),Z(_.Alert,"warningIconColor",O("palette-warning-main")),Z(_.AppBar,"defaultBg",O("palette-grey-100")),Z(_.Avatar,"defaultBg",O("palette-grey-400")),Z(_.Button,"inheritContainedBg",O("palette-grey-300")),Z(_.Button,"inheritContainedHoverBg",O("palette-grey-A100")),Z(_.Chip,"defaultBorder",O("palette-grey-400")),Z(_.Chip,"defaultAvatarColor",O("palette-grey-700")),Z(_.Chip,"defaultIconColor",O("palette-grey-700")),Z(_.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Z(_.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Z(_.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Z(_.LinearProgress,"primaryBg",on(_.primary.main,.62)),Z(_.LinearProgress,"secondaryBg",on(_.secondary.main,.62)),Z(_.LinearProgress,"errorBg",on(_.error.main,.62)),Z(_.LinearProgress,"infoBg",on(_.info.main,.62)),Z(_.LinearProgress,"successBg",on(_.success.main,.62)),Z(_.LinearProgress,"warningBg",on(_.warning.main,.62)),Z(_.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.11)`),Z(_.Slider,"primaryTrack",on(_.primary.main,.62)),Z(_.Slider,"secondaryTrack",on(_.secondary.main,.62)),Z(_.Slider,"errorTrack",on(_.error.main,.62)),Z(_.Slider,"infoTrack",on(_.info.main,.62)),Z(_.Slider,"successTrack",on(_.success.main,.62)),Z(_.Slider,"warningTrack",on(_.warning.main,.62));const $=Bm(_.background.default,.8);Z(_.SnackbarContent,"bg",$),Z(_.SnackbarContent,"color",ls(()=>_.getContrastText($))),Z(_.SpeedDialAction,"fabHoverBg",Bm(_.background.paper,.15)),Z(_.StepConnector,"border",O("palette-grey-400")),Z(_.StepContent,"border",O("palette-grey-400")),Z(_.Switch,"defaultColor",O("palette-common-white")),Z(_.Switch,"defaultDisabledColor",O("palette-grey-100")),Z(_.Switch,"primaryDisabledColor",on(_.primary.main,.62)),Z(_.Switch,"secondaryDisabledColor",on(_.secondary.main,.62)),Z(_.Switch,"errorDisabledColor",on(_.error.main,.62)),Z(_.Switch,"infoDisabledColor",on(_.info.main,.62)),Z(_.Switch,"successDisabledColor",on(_.success.main,.62)),Z(_.Switch,"warningDisabledColor",on(_.warning.main,.62)),Z(_.TableCell,"border",on(Fm(_.divider,1),.88)),Z(_.Tooltip,"bg",Fm(_.grey[700],.92))}if(_.mode==="dark"){Z(_.Alert,"errorColor",on(_.error.light,.6)),Z(_.Alert,"infoColor",on(_.info.light,.6)),Z(_.Alert,"successColor",on(_.success.light,.6)),Z(_.Alert,"warningColor",on(_.warning.light,.6)),Z(_.Alert,"errorFilledBg",O("palette-error-dark")),Z(_.Alert,"infoFilledBg",O("palette-info-dark")),Z(_.Alert,"successFilledBg",O("palette-success-dark")),Z(_.Alert,"warningFilledBg",O("palette-warning-dark")),Z(_.Alert,"errorFilledColor",ls(()=>_.getContrastText(_.error.dark))),Z(_.Alert,"infoFilledColor",ls(()=>_.getContrastText(_.info.dark))),Z(_.Alert,"successFilledColor",ls(()=>_.getContrastText(_.success.dark))),Z(_.Alert,"warningFilledColor",ls(()=>_.getContrastText(_.warning.dark))),Z(_.Alert,"errorStandardBg",rn(_.error.light,.9)),Z(_.Alert,"infoStandardBg",rn(_.info.light,.9)),Z(_.Alert,"successStandardBg",rn(_.success.light,.9)),Z(_.Alert,"warningStandardBg",rn(_.warning.light,.9)),Z(_.Alert,"errorIconColor",O("palette-error-main")),Z(_.Alert,"infoIconColor",O("palette-info-main")),Z(_.Alert,"successIconColor",O("palette-success-main")),Z(_.Alert,"warningIconColor",O("palette-warning-main")),Z(_.AppBar,"defaultBg",O("palette-grey-900")),Z(_.AppBar,"darkBg",O("palette-background-paper")),Z(_.AppBar,"darkColor",O("palette-text-primary")),Z(_.Avatar,"defaultBg",O("palette-grey-600")),Z(_.Button,"inheritContainedBg",O("palette-grey-800")),Z(_.Button,"inheritContainedHoverBg",O("palette-grey-700")),Z(_.Chip,"defaultBorder",O("palette-grey-700")),Z(_.Chip,"defaultAvatarColor",O("palette-grey-300")),Z(_.Chip,"defaultIconColor",O("palette-grey-300")),Z(_.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Z(_.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Z(_.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Z(_.LinearProgress,"primaryBg",rn(_.primary.main,.5)),Z(_.LinearProgress,"secondaryBg",rn(_.secondary.main,.5)),Z(_.LinearProgress,"errorBg",rn(_.error.main,.5)),Z(_.LinearProgress,"infoBg",rn(_.info.main,.5)),Z(_.LinearProgress,"successBg",rn(_.success.main,.5)),Z(_.LinearProgress,"warningBg",rn(_.warning.main,.5)),Z(_.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.13)`),Z(_.Slider,"primaryTrack",rn(_.primary.main,.5)),Z(_.Slider,"secondaryTrack",rn(_.secondary.main,.5)),Z(_.Slider,"errorTrack",rn(_.error.main,.5)),Z(_.Slider,"infoTrack",rn(_.info.main,.5)),Z(_.Slider,"successTrack",rn(_.success.main,.5)),Z(_.Slider,"warningTrack",rn(_.warning.main,.5));const $=Bm(_.background.default,.98);Z(_.SnackbarContent,"bg",$),Z(_.SnackbarContent,"color",ls(()=>_.getContrastText($))),Z(_.SpeedDialAction,"fabHoverBg",Bm(_.background.paper,.15)),Z(_.StepConnector,"border",O("palette-grey-600")),Z(_.StepContent,"border",O("palette-grey-600")),Z(_.Switch,"defaultColor",O("palette-grey-300")),Z(_.Switch,"defaultDisabledColor",O("palette-grey-600")),Z(_.Switch,"primaryDisabledColor",rn(_.primary.main,.55)),Z(_.Switch,"secondaryDisabledColor",rn(_.secondary.main,.55)),Z(_.Switch,"errorDisabledColor",rn(_.error.main,.55)),Z(_.Switch,"infoDisabledColor",rn(_.info.main,.55)),Z(_.Switch,"successDisabledColor",rn(_.success.main,.55)),Z(_.Switch,"warningDisabledColor",rn(_.warning.main,.55)),Z(_.TableCell,"border",rn(Fm(_.divider,1),.68)),Z(_.Tooltip,"bg",Fm(_.grey[700],.92))}js(_.background,"default"),js(_.background,"paper"),js(_.common,"background"),js(_.common,"onBackground"),js(_,"divider"),Object.keys(_).forEach($=>{const A=_[$];$!=="tonalOffset"&&A&&typeof A=="object"&&(A.main&&Z(_[$],"mainChannel",Eh(Sh(A.main))),A.light&&Z(_[$],"lightChannel",Eh(Sh(A.light))),A.dark&&Z(_[$],"darkChannel",Eh(Sh(A.dark))),A.contrastText&&Z(_[$],"contrastTextChannel",Eh(Sh(A.contrastText))),$==="text"&&(js(_[$],"primary"),js(_[$],"secondary")),$==="action"&&(A.active&&js(_[$],"active"),A.selected&&js(_[$],"selected")))})}),C=e.reduce((k,_)=>Cr(k,_),C);const N={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:s,getSelector:CJ(C)},{vars:M,generateThemeVars:E,generateStyleSheets:I}=SQ(C,N);return C.vars=M,Object.entries(C.colorSchemes[C.defaultColorScheme]).forEach(([k,_])=>{C[k]=_}),C.generateThemeVars=E,C.generateStyleSheets=I,C.generateSpacing=function(){return x5(c.spacing,I_(this))},C.getColorSchemeSelector=CQ(a),C.spacing=C.generateSpacing(),C.shouldSkipGeneratingVar=s,C.unstable_sxConfig={...Eg,...c==null?void 0:c.unstable_sxConfig},C.unstable_sx=function(_){return kc({sx:_,theme:this})},C.toRuntimeSource=U5,C}function gA(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:W1({...n===!0?{}:n.palette,mode:e})})}function H5(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:o=n==null?void 0:n.mode,...s}=t,a=o||"light",l=i==null?void 0:i[a],c={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return SE(t,...e);let u=n;"palette"in t||c[a]&&(c[a]!==!0?u=c[a].palette:a==="dark"&&(u={mode:"dark"}));const f=SE({...t,palette:u},...e);return f.defaultColorScheme=a,f.colorSchemes=c,f.palette.mode==="light"&&(f.colorSchemes.light={...c.light!==!0&&c.light,palette:f.palette},gA(f,"dark",c.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:f.palette},gA(f,"light",c.light)),f}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),PJ({...s,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const H1=H5();function Uc(){const t=Sg(H1);return t[vg]||t}function G5(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Ao=t=>G5(t)&&t!=="classes",he=R5({themeId:vg,defaultTheme:H1,rootShouldForwardProp:Ao});function kJ(t){return P.jsx(zX,{...t,defaultTheme:H1,themeId:vg})}function AJ(t){return function(n){return P.jsx(kJ,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function OJ(){return N_}const Et=bQ;function ut(t){return _Q(t)}function NJ(t){return st("MuiSvgIcon",t)}rt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const MJ=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${de(e)}`,`fontSize${de(n)}`]};return at(i,NJ,r)},DJ=he("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${de(n.color)}`],e[`fontSize${de(n.fontSize)}`]]}})(Et(({theme:t})=>{var e,n,r,i,o,s,a,l,c,u,f,h,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:x=>!x.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((s=(o=t.typography)==null?void 0:o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((u=(c=t.typography)==null?void 0:c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,x])=>x&&x.main).map(([x])=>{var S,b;return{props:{color:x},style:{color:(b=(S=(t.vars??t).palette)==null?void 0:S[x])==null?void 0:b.main}}}),{props:{color:"action"},style:{color:(h=(f=(t.vars??t).palette)==null?void 0:f.action)==null?void 0:h.active}},{props:{color:"disabled"},style:{color:(m=(p=(t.vars??t).palette)==null?void 0:p.action)==null?void 0:m.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),TE=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:f,viewBox:h="0 0 24 24",...p}=r,m=v.isValidElement(i)&&i.type==="svg",x={...r,color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:m},S={};u||(S.viewBox=h);const b=MJ(x);return P.jsxs(DJ,{as:a,className:Te(b.root,o),focusable:"false",color:c,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n,...S,...p,...m&&i.props,ownerState:x,children:[m?i.props.children:i,f?P.jsx("title",{children:f}):null]})});TE.muiName="SvgIcon";function ir(t,e){function n(r,i){return P.jsx(TE,{"data-testid":void 0,ref:i,...r,children:t})}return n.muiName=TE.muiName,v.memo(v.forwardRef(n))}function $J(t,e){const n=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&n>=65&&n<=90&&typeof e=="function"}function LJ(t,e){if(!t)return e;function n(s,a){const l={};return Object.keys(a).forEach(c=>{$J(c,a[c])&&typeof s[c]=="function"&&(l[c]=(...u)=>{s[c](...u),a[c](...u)})}),l}if(typeof t=="function"||typeof e=="function")return s=>{const a=typeof e=="function"?e(s):e,l=typeof t=="function"?t({...s,...a}):t,c=Te(s==null?void 0:s.className,a==null?void 0:a.className,l==null?void 0:l.className),u=n(l,a);return{...a,...l,...u,...!!c&&{className:c},...(a==null?void 0:a.style)&&(l==null?void 0:l.style)&&{style:{...a.style,...l.style}},...(a==null?void 0:a.sx)&&(l==null?void 0:l.sx)&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(l.sx)?l.sx:[l.sx]]}}};const r=e,i=n(t,r),o=Te(r==null?void 0:r.className,t==null?void 0:t.className);return{...e,...t,...i,...!!o&&{className:o},...(r==null?void 0:r.style)&&(t==null?void 0:t.style)&&{style:{...r.style,...t.style}},...(r==null?void 0:r.sx)&&(t==null?void 0:t.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function K5(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function IE(t,e){return IE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},IE(t,e)}function q5(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,IE(t,e)}const mA={disabled:!1},Mv=F.createContext(null);var FJ=function(e){return e.scrollTop},Ch="unmounted",ec="exited",tc="entering",Iu="entered",RE="exiting",As=function(t){q5(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=ec,o.appearStatus=tc):l=Iu:r.unmountOnExit||r.mountOnEnter?l=Ch:l=ec,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Ch?{status:ec}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==tc&&s!==Iu&&(o=tc):(s===tc||s===Iu)&&(o=RE)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===tc){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Im.findDOMNode(this);s&&FJ(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ec&&this.setState({status:Ch})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Im.findDOMNode(this),a],c=l[0],u=l[1],f=this.getTimeouts(),h=a?f.appear:f.enter;if(!i&&!s||mA.disabled){this.safeSetState({status:Iu},function(){o.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:tc},function(){o.props.onEntering(c,u),o.onTransitionEnd(h,function(){o.safeSetState({status:Iu},function(){o.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Im.findDOMNode(this);if(!o||mA.disabled){this.safeSetState({status:ec},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:RE},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:ec},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Im.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Ch)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=K5(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return F.createElement(Mv.Provider,{value:null},typeof s=="function"?s(i,a):F.cloneElement(F.Children.only(s),a))},e}(F.Component);As.contextType=Mv;As.propTypes={};function _u(){}As.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:_u,onEntering:_u,onEntered:_u,onExit:_u,onExiting:_u,onExited:_u};As.UNMOUNTED=Ch;As.EXITED=ec;As.ENTERING=tc;As.ENTERED=Iu;As.EXITING=RE;function BJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G1(t,e){var n=function(o){return e&&v.isValidElement(o)?e(o):o},r=Object.create(null);return t&&v.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function VJ(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var c=r[l][s];a[r[l][s]]=n(c)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function cc(t,e,n){return n[e]!=null?n[e]:t.props[e]}function jJ(t,e){return G1(t.children,function(n){return v.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:cc(n,"appear",t),enter:cc(n,"enter",t),exit:cc(n,"exit",t)})})}function UJ(t,e,n){var r=G1(t.children),i=VJ(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(v.isValidElement(s)){var a=o in e,l=o in r,c=e[o],u=v.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[o]=v.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:cc(s,"exit",t),enter:cc(s,"enter",t)}):!l&&a&&!u?i[o]=v.cloneElement(s,{in:!1}):l&&a&&v.isValidElement(c)&&(i[o]=v.cloneElement(s,{onExited:n.bind(null,s),in:c.props.in,exit:cc(s,"exit",t),enter:cc(s,"enter",t)}))}}),i}var zJ=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},WJ={component:"div",childFactory:function(e){return e}},K1=function(t){q5(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(BJ(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?jJ(i,a):UJ(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=G1(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=Pv({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=K5(i,["component","childFactory"]),l=this.state.contextValue,c=zJ(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?F.createElement(Mv.Provider,{value:l},c):F.createElement(Mv.Provider,{value:l},F.createElement(o,a,c))},e}(F.Component);K1.propTypes={};K1.defaultProps=WJ;const Y5=t=>t.scrollTop;function Dv(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function HJ(t){return st("MuiPaper",t)}rt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const GJ=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return at(o,HJ,i)},KJ=he("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(Et(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),uf=v.forwardRef(function(e,n){var p;const r=ut({props:e,name:"MuiPaper"}),i=Uc(),{className:o,component:s="div",elevation:a=1,square:l=!1,variant:c="elevation",...u}=r,f={...r,component:s,elevation:a,square:l,variant:c},h=GJ(f);return P.jsx(KJ,{as:s,ownerState:f,className:Te(h.root,o),ref:n,...u,style:{...c==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(p=i.vars.overlays)==null?void 0:p[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Lt("#fff",CE(a))}, ${Lt("#fff",CE(a))})`}},...u.style}})});function en(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...l}=e,{component:c,slots:u={[t]:void 0},slotProps:f={[t]:void 0},...h}=o,p=u[t]||r,m=B5(f[t],i),{props:{component:x,...S},internalRef:b}=F5({className:n,...l,externalForwardedProps:t==="root"?h:void 0,externalSlotProps:m}),w=Tr(b,m==null?void 0:m.ref,e.ref),g=t==="root"?x||c:x,C=$5(p,{...t==="root"&&!c&&!u[t]&&s,...t!=="root"&&!u[t]&&s,...S,...g&&!a&&{as:g},...g&&a&&{component:g},ref:w},i);return[p,C]}class $v{constructor(){Vf(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new $v}static use(){const e=N5($v.create).current,[n,r]=v.useState(!1);return e.shouldMount=n,e.setShouldMount=r,v.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=YJ(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function qJ(){return $v.use()}function YJ(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function XJ(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:c}=t,[u,f]=v.useState(!1),h=Te(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},m=Te(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&f(!0),v.useEffect(()=>{if(!a&&l!=null){const x=setTimeout(l,c);return()=>{clearTimeout(x)}}},[l,a,c]),P.jsx("span",{className:h,style:p,children:P.jsx("span",{className:m})})}const ho=rt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),PE=550,QJ=80,JJ=wg`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,ZJ=wg`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,eZ=wg`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,tZ=he("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),nZ=he(XJ,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${ho.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${JJ};
    animation-duration: ${PE}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${ho.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${ho.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${ho.childLeaving} {
    opacity: 0;
    animation-name: ${ZJ};
    animation-duration: ${PE}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${ho.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${eZ};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,rZ=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s,...a}=r,[l,c]=v.useState([]),u=v.useRef(0),f=v.useRef(null);v.useEffect(()=>{f.current&&(f.current(),f.current=null)},[l]);const h=v.useRef(!1),p=M5(),m=v.useRef(null),x=v.useRef(null),S=v.useCallback(C=>{const{pulsate:N,rippleX:M,rippleY:E,rippleSize:I,cb:k}=C;c(_=>[..._,P.jsx(nZ,{classes:{ripple:Te(o.ripple,ho.ripple),rippleVisible:Te(o.rippleVisible,ho.rippleVisible),ripplePulsate:Te(o.ripplePulsate,ho.ripplePulsate),child:Te(o.child,ho.child),childLeaving:Te(o.childLeaving,ho.childLeaving),childPulsate:Te(o.childPulsate,ho.childPulsate)},timeout:PE,pulsate:N,rippleX:M,rippleY:E,rippleSize:I},u.current)]),u.current+=1,f.current=k},[o]),b=v.useCallback((C={},N={},M=()=>{})=>{const{pulsate:E=!1,center:I=i||N.pulsate,fakeElement:k=!1}=N;if((C==null?void 0:C.type)==="mousedown"&&h.current){h.current=!1;return}(C==null?void 0:C.type)==="touchstart"&&(h.current=!0);const _=k?null:x.current,O=_?_.getBoundingClientRect():{width:0,height:0,left:0,top:0};let $,A,Q;if(I||C===void 0||C.clientX===0&&C.clientY===0||!C.clientX&&!C.touches)$=Math.round(O.width/2),A=Math.round(O.height/2);else{const{clientX:W,clientY:q}=C.touches&&C.touches.length>0?C.touches[0]:C;$=Math.round(W-O.left),A=Math.round(q-O.top)}if(I)Q=Math.sqrt((2*O.width**2+O.height**2)/3),Q%2===0&&(Q+=1);else{const W=Math.max(Math.abs((_?_.clientWidth:0)-$),$)*2+2,q=Math.max(Math.abs((_?_.clientHeight:0)-A),A)*2+2;Q=Math.sqrt(W**2+q**2)}C!=null&&C.touches?m.current===null&&(m.current=()=>{S({pulsate:E,rippleX:$,rippleY:A,rippleSize:Q,cb:M})},p.start(QJ,()=>{m.current&&(m.current(),m.current=null)})):S({pulsate:E,rippleX:$,rippleY:A,rippleSize:Q,cb:M})},[i,S,p]),w=v.useCallback(()=>{b({},{pulsate:!0})},[b]),g=v.useCallback((C,N)=>{if(p.clear(),(C==null?void 0:C.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{g(C,N)});return}m.current=null,c(M=>M.length>0?M.slice(1):M),f.current=N},[p]);return v.useImperativeHandle(n,()=>({pulsate:w,start:b,stop:g}),[w,b,g]),P.jsx(tZ,{className:Te(ho.root,o.root,s),ref:x,...a,children:P.jsx(K1,{component:null,exit:!0,children:l})})});function iZ(t){return st("MuiButtonBase",t)}const oZ=rt("MuiButtonBase",["root","disabled","focusVisible"]),sZ=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=at({root:["root",e&&"disabled",n&&"focusVisible"]},iZ,i);return n&&r&&(s.root+=` ${r}`),s},aZ=he("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${oZ.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Tl=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:f=!1,focusRipple:h=!1,focusVisibleClassName:p,LinkComponent:m="a",onBlur:x,onClick:S,onContextMenu:b,onDragLeave:w,onFocus:g,onFocusVisible:C,onKeyDown:N,onKeyUp:M,onMouseDown:E,onMouseLeave:I,onMouseUp:k,onTouchEnd:_,onTouchMove:O,onTouchStart:$,tabIndex:A=0,TouchRippleProps:Q,touchRippleRef:W,type:q,...ie}=r,K=v.useRef(null),j=qJ(),G=Tr(j.ref,W),[oe,re]=v.useState(!1);c&&oe&&re(!1),v.useImperativeHandle(i,()=>({focusVisible:()=>{re(!0),K.current.focus()}}),[]);const ge=j.shouldMount&&!u&&!c;v.useEffect(()=>{oe&&h&&!u&&j.pulsate()},[u,h,oe,j]);const Ae=Us(j,"start",E,f),xe=Us(j,"stop",b,f),fe=Us(j,"stop",w,f),be=Us(j,"stop",k,f),Fe=Us(j,"stop",Me=>{oe&&Me.preventDefault(),I&&I(Me)},f),Be=Us(j,"start",$,f),Ee=Us(j,"stop",_,f),Ve=Us(j,"stop",O,f),De=Us(j,"stop",Me=>{oA(Me.target)||re(!1),x&&x(Me)},!1),Ye=bi(Me=>{K.current||(K.current=Me.currentTarget),oA(Me.target)&&(re(!0),C&&C(Me)),g&&g(Me)}),We=()=>{const Me=K.current;return l&&l!=="button"&&!(Me.tagName==="A"&&Me.href)},Ue=bi(Me=>{h&&!Me.repeat&&oe&&Me.key===" "&&j.stop(Me,()=>{j.start(Me)}),Me.target===Me.currentTarget&&We()&&Me.key===" "&&Me.preventDefault(),N&&N(Me),Me.target===Me.currentTarget&&We()&&Me.key==="Enter"&&!c&&(Me.preventDefault(),S&&S(Me))}),Bt=bi(Me=>{h&&Me.key===" "&&oe&&!Me.defaultPrevented&&j.stop(Me,()=>{j.pulsate(Me)}),M&&M(Me),S&&Me.target===Me.currentTarget&&We()&&Me.key===" "&&!Me.defaultPrevented&&S(Me)});let se=l;se==="button"&&(ie.href||ie.to)&&(se=m);const pt={};se==="button"?(pt.type=q===void 0?"button":q,pt.disabled=c):(!ie.href&&!ie.to&&(pt.role="button"),c&&(pt["aria-disabled"]=c));const ze=Tr(n,K),lt={...r,centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:f,focusRipple:h,tabIndex:A,focusVisible:oe},it=sZ(lt);return P.jsxs(aZ,{as:se,className:Te(it.root,a),ownerState:lt,onBlur:De,onClick:S,onContextMenu:xe,onFocus:Ye,onKeyDown:Ue,onKeyUp:Bt,onMouseDown:Ae,onMouseLeave:Fe,onMouseUp:be,onDragLeave:fe,onTouchEnd:Ee,onTouchMove:Ve,onTouchStart:Be,ref:ze,tabIndex:c?-1:A,type:q,...pt,...ie,children:[s,ge?P.jsx(rZ,{ref:G,center:o,...Q}):null]})});function Us(t,e,n,r=!1){return bi(i=>(n&&n(i),r||t[e](i),!0))}function lZ(t){return typeof t.main=="string"}function cZ(t,e=[]){if(!lZ(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function wi(t=[]){return([,e])=>e&&cZ(e,t)}function uZ(t){return st("MuiCircularProgress",t)}rt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Ma=44,kE=wg`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,AE=wg`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,dZ=typeof kE!="string"?A1`
        animation: ${kE} 1.4s linear infinite;
      `:null,fZ=typeof AE!="string"?A1`
        animation: ${AE} 1.4s ease-in-out infinite;
      `:null,hZ=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,`color${de(r)}`],svg:["svg"],circle:["circle",`circle${de(n)}`,i&&"circleDisableShrink"]};return at(o,uZ,e)},pZ=he("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${de(n.color)}`]]}})(Et(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:dZ||{animation:`${kE} 1.4s linear infinite`}},...Object.entries(t.palette).filter(wi()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),gZ=he("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),mZ=he("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${de(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(Et(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:fZ||{animation:`${AE} 1.4s ease-in-out infinite`}}]}))),X5=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:f="indeterminate",...h}=r,p={...r,color:o,disableShrink:s,size:a,thickness:c,value:u,variant:f},m=hZ(p),x={},S={},b={};if(f==="determinate"){const w=2*Math.PI*((Ma-c)/2);x.strokeDasharray=w.toFixed(3),b["aria-valuenow"]=Math.round(u),x.strokeDashoffset=`${((100-u)/100*w).toFixed(3)}px`,S.transform="rotate(-90deg)"}return P.jsx(pZ,{className:Te(m.root,i),style:{width:a,height:a,...S,...l},ownerState:p,ref:n,role:"progressbar",...b,...h,children:P.jsx(gZ,{className:m.svg,ownerState:p,viewBox:`${Ma/2} ${Ma/2} ${Ma} ${Ma}`,children:P.jsx(mZ,{className:m.circle,style:x,ownerState:p,cx:Ma,cy:Ma,r:(Ma-c)/2,fill:"none",strokeWidth:c})})})});function yZ(t){return st("MuiIconButton",t)}const yA=rt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),vZ=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o,loading:s}=t,a={root:["root",s&&"loading",n&&"disabled",r!=="default"&&`color${de(r)}`,i&&`edge${de(i)}`,`size${de(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return at(a,yZ,e)},_Z=he(Tl,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${de(n.color)}`],n.edge&&e[`edge${de(n.edge)}`],e[`size${de(n.size)}`]]}})(Et(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Lt(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Et(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(wi()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(wi()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Lt((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${yA.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${yA.loading}`]:{color:"transparent"}}))),bZ=he("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Lv=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium",id:f,loading:h=null,loadingIndicator:p,...m}=r,x=lf(f),S=p??P.jsx(X5,{"aria-labelledby":x,color:"inherit",size:16}),b={...r,edge:i,color:a,disabled:l,disableFocusRipple:c,loading:h,loadingIndicator:S,size:u},w=vZ(b);return P.jsxs(_Z,{id:h?x:f,className:Te(w.root,s),centerRipple:!0,focusRipple:!c,disabled:l||h,ref:n,...m,ownerState:b,children:[typeof h=="boolean"&&P.jsx("span",{className:w.loadingWrapper,style:{display:"contents"},children:P.jsx(bZ,{className:w.loadingIndicator,ownerState:b,children:h&&S})}),o]})}),wZ=ir(P.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function xZ(t){return st("MuiTypography",t)}rt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const EZ={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},SZ=OJ(),CZ=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=t,a={root:["root",o,t.align!=="inherit"&&`align${de(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return at(a,xZ,s)},TZ=he("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${de(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Et(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(wi()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${de(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),vA={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Pn=v.forwardRef(function(e,n){const{color:r,...i}=ut({props:e,name:"MuiTypography"}),o=!EZ[r],s=SZ({...i,...o&&{color:r}}),{align:a="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:f=!1,paragraph:h=!1,variant:p="body1",variantMapping:m=vA,...x}=s,S={...s,align:a,color:r,className:l,component:c,gutterBottom:u,noWrap:f,paragraph:h,variant:p,variantMapping:m},b=c||(h?"p":m[p]||vA[p])||"span",w=CZ(S);return P.jsx(TZ,{as:b,ref:n,className:Te(w.root,l),...x,ownerState:S,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...x.style}})});function _A(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function IZ(t={}){const{ignoreAccents:e=!0,ignoreCase:n=!0,limit:r,matchFrom:i="any",stringify:o,trim:s=!1}=t;return(a,{inputValue:l,getOptionLabel:c})=>{let u=s?l.trim():l;n&&(u=u.toLowerCase()),e&&(u=_A(u));const f=u?a.filter(h=>{let p=(o||c)(h);return n&&(p=p.toLowerCase()),e&&(p=_A(p)),i==="start"?p.startsWith(u):p.includes(u)}):a;return typeof r=="number"?f.slice(0,r):f}}const RZ=IZ(),PZ=5,kZ=t=>{var e;return t.current!==null&&((e=t.current.parentElement)==null?void 0:e.contains(document.activeElement))},AZ=[];function bA(t,e,n){if(e||t==null)return"";const r=n(t);return typeof r=="string"?r:""}function OZ(t){const{unstable_isActiveElementInListbox:e=kZ,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:i=!1,autoSelect:o=!1,blurOnSelect:s=!1,clearOnBlur:a=!t.freeSolo,clearOnEscape:l=!1,componentName:c="useAutocomplete",defaultValue:u=t.multiple?AZ:null,disableClearable:f=!1,disableCloseOnSelect:h=!1,disabled:p,disabledItemsFocusable:m=!1,disableListWrap:x=!1,filterOptions:S=RZ,filterSelectedOptions:b=!1,freeSolo:w=!1,getOptionDisabled:g,getOptionKey:C,getOptionLabel:N=ee=>ee.label??ee,groupBy:M,handleHomeEndKeys:E=!t.freeSolo,id:I,includeInputInList:k=!1,inputValue:_,isOptionEqualToValue:O=(ee,J)=>ee===J,multiple:$=!1,onChange:A,onClose:Q,onHighlightChange:W,onInputChange:q,onOpen:ie,open:K,openOnFocus:j=!1,options:G,readOnly:oe=!1,selectOnFocus:re=!t.freeSolo,value:ge}=t,Ae=lf(I);let xe=N;xe=ee=>{const J=N(ee);return typeof J!="string"?String(J):J};const fe=v.useRef(!1),be=v.useRef(!0),Fe=v.useRef(null),Be=v.useRef(null),[Ee,Ve]=v.useState(null),[De,Ye]=v.useState(-1),We=i?0:-1,Ue=v.useRef(We),Bt=v.useRef(bA(u,$,xe)).current,[se,pt]=Gh({controlled:ge,default:u,name:c}),[ze,lt]=Gh({controlled:_,default:Bt,name:c,state:"inputValue"}),[it,Me]=v.useState(!1),ln=v.useCallback((ee,J,Ie)=>{if(!($?se.length<J.length:J!==null)&&!a)return;const ht=bA(J,$,xe);ze!==ht&&(lt(ht),q&&q(ee,ht,Ie))},[xe,ze,$,q,lt,a,se]),[_t,zn]=Gh({controlled:K,default:!1,name:c,state:"open"}),[Ut,Nt]=v.useState(!0),Ht=!$&&se!=null&&ze===xe(se),Qt=_t&&!oe,dt=Qt?S(G.filter(ee=>!(b&&($?se:[se]).some(J=>J!==null&&O(ee,J)))),{inputValue:Ht&&Ut?"":ze,getOptionLabel:xe}):[],Je=hQ({filteredOptions:dt,value:se,inputValue:ze});v.useEffect(()=>{const ee=se!==Je.value;it&&!ee||w&&!ee||ln(null,se,"reset")},[se,ln,it,Je.value,w]);const cn=_t&&dt.length>0&&!oe,Wn=bi(ee=>{ee===-1?Fe.current.focus():Ee.querySelector(`[data-tag-index="${ee}"]`).focus()});v.useEffect(()=>{$&&De>se.length-1&&(Ye(-1),Wn(-1))},[se,$,De,Wn]);function Yr(ee,J){if(!Be.current||ee<0||ee>=dt.length)return-1;let Ie=ee;for(;;){const tt=Be.current.querySelector(`[data-option-index="${Ie}"]`),ht=m?!1:!tt||tt.disabled||tt.getAttribute("aria-disabled")==="true";if(tt&&tt.hasAttribute("tabindex")&&!ht)return Ie;if(J==="next"?Ie=(Ie+1)%dt.length:Ie=(Ie-1+dt.length)%dt.length,Ie===ee)return-1}}const Pe=bi(({event:ee,index:J,reason:Ie})=>{if(Ue.current=J,J===-1?Fe.current.removeAttribute("aria-activedescendant"):Fe.current.setAttribute("aria-activedescendant",`${Ae}-option-${J}`),W&&["mouse","keyboard","touch"].includes(Ie)&&W(ee,J===-1?null:dt[J],Ie),!Be.current)return;const tt=Be.current.querySelector(`[role="option"].${n}-focused`);tt&&(tt.classList.remove(`${n}-focused`),tt.classList.remove(`${n}-focusVisible`));let ht=Be.current;if(Be.current.getAttribute("role")!=="listbox"&&(ht=Be.current.parentElement.querySelector('[role="listbox"]')),!ht)return;if(J===-1){ht.scrollTop=0;return}const Vt=Be.current.querySelector(`[data-option-index="${J}"]`);if(Vt&&(Vt.classList.add(`${n}-focused`),Ie==="keyboard"&&Vt.classList.add(`${n}-focusVisible`),ht.scrollHeight>ht.clientHeight&&Ie!=="mouse"&&Ie!=="touch")){const Tn=Vt,$r=ht.clientHeight+ht.scrollTop,Jc=Tn.offsetTop+Tn.offsetHeight;Jc>$r?ht.scrollTop=Jc-ht.clientHeight:Tn.offsetTop-Tn.offsetHeight*(M?1.3:0)<ht.scrollTop&&(ht.scrollTop=Tn.offsetTop-Tn.offsetHeight*(M?1.3:0))}}),ct=bi(({event:ee,diff:J,direction:Ie="next",reason:tt})=>{if(!Qt)return;const Vt=Yr((()=>{const Tn=dt.length-1;if(J==="reset")return We;if(J==="start")return 0;if(J==="end")return Tn;const $r=Ue.current+J;return $r<0?$r===-1&&k?-1:x&&Ue.current!==-1||Math.abs(J)>1?0:Tn:$r>Tn?$r===Tn+1&&k?-1:x||Math.abs(J)>1?Tn:0:$r})(),Ie);if(Pe({index:Vt,reason:tt,event:ee}),r&&J!=="reset")if(Vt===-1)Fe.current.value=ze;else{const Tn=xe(dt[Vt]);Fe.current.value=Tn,Tn.toLowerCase().indexOf(ze.toLowerCase())===0&&ze.length>0&&Fe.current.setSelectionRange(ze.length,Tn.length)}}),St=()=>{const ee=(J,Ie)=>{const tt=J?xe(J):"",ht=Ie?xe(Ie):"";return tt===ht};if(Ue.current!==-1&&Je.filteredOptions&&Je.filteredOptions.length!==dt.length&&Je.inputValue===ze&&($?se.length===Je.value.length&&Je.value.every((J,Ie)=>xe(se[Ie])===xe(J)):ee(Je.value,se))){const J=Je.filteredOptions[Ue.current];if(J)return dt.findIndex(Ie=>xe(Ie)===xe(J))}return-1},En=v.useCallback(()=>{if(!Qt)return;const ee=St();if(ee!==-1){Ue.current=ee;return}const J=$?se[0]:se;if(dt.length===0||J==null){ct({diff:"reset"});return}if(Be.current){if(J!=null){const Ie=dt[Ue.current];if($&&Ie&&se.findIndex(ht=>O(Ie,ht))!==-1)return;const tt=dt.findIndex(ht=>O(ht,J));tt===-1?ct({diff:"reset"}):Pe({index:tt});return}if(Ue.current>=dt.length-1){Pe({index:dt.length-1});return}Pe({index:Ue.current})}},[dt.length,$?!1:se,b,ct,Pe,Qt,ze,$]),hr=bi(ee=>{Ov(Be,ee),ee&&En()});v.useEffect(()=>{En()},[En]);const Yn=ee=>{_t||(zn(!0),Nt(!0),ie&&ie(ee))},pr=(ee,J)=>{_t&&(zn(!1),Q&&Q(ee,J))},gr=(ee,J,Ie,tt)=>{if($){if(se.length===J.length&&se.every((ht,Vt)=>ht===J[Vt]))return}else if(se===J)return;A&&A(ee,J,Ie,tt),pt(J)},Xr=v.useRef(!1),Sn=(ee,J,Ie="selectOption",tt="options")=>{let ht=Ie,Vt=J;if($){Vt=Array.isArray(se)?se.slice():[];const Tn=Vt.findIndex($r=>O(J,$r));Tn===-1?Vt.push(J):tt!=="freeSolo"&&(Vt.splice(Tn,1),ht="removeOption")}ln(ee,Vt,ht),gr(ee,Vt,ht,{option:J}),!h&&(!ee||!ee.ctrlKey&&!ee.metaKey)&&pr(ee,ht),(s===!0||s==="touch"&&Xr.current||s==="mouse"&&!Xr.current)&&Fe.current.blur()};function Ct(ee,J){if(ee===-1)return-1;let Ie=ee;for(;;){if(J==="next"&&Ie===se.length||J==="previous"&&Ie===-1)return-1;const tt=Ee.querySelector(`[data-tag-index="${Ie}"]`);if(!tt||!tt.hasAttribute("tabindex")||tt.disabled||tt.getAttribute("aria-disabled")==="true")Ie+=J==="next"?1:-1;else return Ie}}const Mi=(ee,J)=>{if(!$)return;ze===""&&pr(ee,"toggleInput");let Ie=De;De===-1?ze===""&&J==="previous"&&(Ie=se.length-1):(Ie+=J==="next"?1:-1,Ie<0&&(Ie=0),Ie===se.length&&(Ie=-1)),Ie=Ct(Ie,J),Ye(Ie),Wn(Ie)},Di=ee=>{fe.current=!0,lt(""),q&&q(ee,"","clear"),gr(ee,$?[]:null,"clear")},so=ee=>J=>{if(ee.onKeyDown&&ee.onKeyDown(J),!J.defaultMuiPrevented&&(De!==-1&&!["ArrowLeft","ArrowRight"].includes(J.key)&&(Ye(-1),Wn(-1)),J.which!==229))switch(J.key){case"Home":Qt&&E&&(J.preventDefault(),ct({diff:"start",direction:"next",reason:"keyboard",event:J}));break;case"End":Qt&&E&&(J.preventDefault(),ct({diff:"end",direction:"previous",reason:"keyboard",event:J}));break;case"PageUp":J.preventDefault(),ct({diff:-5,direction:"previous",reason:"keyboard",event:J}),Yn(J);break;case"PageDown":J.preventDefault(),ct({diff:PZ,direction:"next",reason:"keyboard",event:J}),Yn(J);break;case"ArrowDown":J.preventDefault(),ct({diff:1,direction:"next",reason:"keyboard",event:J}),Yn(J);break;case"ArrowUp":J.preventDefault(),ct({diff:-1,direction:"previous",reason:"keyboard",event:J}),Yn(J);break;case"ArrowLeft":Mi(J,"previous");break;case"ArrowRight":Mi(J,"next");break;case"Enter":if(Ue.current!==-1&&Qt){const Ie=dt[Ue.current],tt=g?g(Ie):!1;if(J.preventDefault(),tt)return;Sn(J,Ie,"selectOption"),r&&Fe.current.setSelectionRange(Fe.current.value.length,Fe.current.value.length)}else w&&ze!==""&&Ht===!1&&($&&J.preventDefault(),Sn(J,ze,"createOption","freeSolo"));break;case"Escape":Qt?(J.preventDefault(),J.stopPropagation(),pr(J,"escape")):l&&(ze!==""||$&&se.length>0)&&(J.preventDefault(),J.stopPropagation(),Di(J));break;case"Backspace":if($&&!oe&&ze===""&&se.length>0){const Ie=De===-1?se.length-1:De,tt=se.slice();tt.splice(Ie,1),gr(J,tt,"removeOption",{option:se[Ie]})}break;case"Delete":if($&&!oe&&ze===""&&se.length>0&&De!==-1){const Ie=De,tt=se.slice();tt.splice(Ie,1),gr(J,tt,"removeOption",{option:se[Ie]})}break}},Ce=ee=>{Me(!0),j&&!fe.current&&Yn(ee)},_e=ee=>{if(e(Be)){Fe.current.focus();return}Me(!1),be.current=!0,fe.current=!1,o&&Ue.current!==-1&&Qt?Sn(ee,dt[Ue.current],"blur"):o&&w&&ze!==""?Sn(ee,ze,"blur","freeSolo"):a&&ln(ee,se,"blur"),pr(ee,"blur")},Ze=ee=>{const J=ee.target.value;ze!==J&&(lt(J),Nt(!1),q&&q(ee,J,"input")),J===""?!f&&!$&&gr(ee,null,"clear"):Yn(ee)},et=ee=>{const J=Number(ee.currentTarget.getAttribute("data-option-index"));Ue.current!==J&&Pe({event:ee,index:J,reason:"mouse"})},bt=ee=>{Pe({event:ee,index:Number(ee.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Xr.current=!0},or=ee=>{const J=Number(ee.currentTarget.getAttribute("data-option-index"));Sn(ee,dt[J],"selectOption"),Xr.current=!1},di=ee=>J=>{const Ie=se.slice();Ie.splice(ee,1),gr(J,Ie,"removeOption",{option:se[ee]})},Rr=ee=>{_t?pr(ee,"toggleInput"):Yn(ee)},Dr=ee=>{ee.currentTarget.contains(ee.target)&&ee.target.getAttribute("id")!==Ae&&ee.preventDefault()},gn=ee=>{ee.currentTarget.contains(ee.target)&&(Fe.current.focus(),re&&be.current&&Fe.current.selectionEnd-Fe.current.selectionStart===0&&Fe.current.select(),be.current=!1)},Cn=ee=>{!p&&(ze===""||!_t)&&Rr(ee)};let fi=w&&ze.length>0;fi=fi||($?se.length>0:se!==null);let Ds=dt;return M&&(Ds=dt.reduce((ee,J,Ie)=>{const tt=M(J);return ee.length>0&&ee[ee.length-1].group===tt?ee[ee.length-1].options.push(J):ee.push({key:Ie,index:Ie,group:tt,options:[J]}),ee},[])),p&&it&&_e(),{getRootProps:(ee={})=>({...ee,onKeyDown:so(ee),onMouseDown:Dr,onClick:gn}),getInputLabelProps:()=>({id:`${Ae}-label`,htmlFor:Ae}),getInputProps:()=>({id:Ae,value:ze,onBlur:_e,onFocus:Ce,onChange:Ze,onMouseDown:Cn,"aria-activedescendant":Qt?"":null,"aria-autocomplete":r?"both":"list","aria-controls":cn?`${Ae}-listbox`:void 0,"aria-expanded":cn,autoComplete:"off",ref:Fe,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:p}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Di}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Rr}),getTagProps:({index:ee})=>({key:ee,"data-tag-index":ee,tabIndex:-1,...!oe&&{onDelete:di(ee)}}),getListboxProps:()=>({role:"listbox",id:`${Ae}-listbox`,"aria-labelledby":`${Ae}-label`,ref:hr,onMouseDown:ee=>{ee.preventDefault()}}),getOptionProps:({index:ee,option:J})=>{const Ie=($?se:[se]).some(ht=>ht!=null&&O(J,ht)),tt=g?g(J):!1;return{key:(C==null?void 0:C(J))??xe(J),tabIndex:-1,role:"option",id:`${Ae}-option-${ee}`,onMouseMove:et,onClick:or,onTouchStart:bt,"data-option-index":ee,"aria-disabled":tt,"aria-selected":Ie}},id:Ae,inputValue:ze,value:se,dirty:fi,expanded:Qt&&Ee,popupOpen:Qt,focused:it||De!==-1,anchorEl:Ee,setAnchorEl:Ve,focusedTag:De,groupedOptions:Ds}}var Ti="top",To="bottom",Io="right",Ii="left",q1="auto",Tg=[Ti,To,Io,Ii],Bd="start",Dp="end",NZ="clippingParents",Q5="viewport",Zf="popper",MZ="reference",wA=Tg.reduce(function(t,e){return t.concat([e+"-"+Bd,e+"-"+Dp])},[]),J5=[].concat(Tg,[q1]).reduce(function(t,e){return t.concat([e,e+"-"+Bd,e+"-"+Dp])},[]),DZ="beforeRead",$Z="read",LZ="afterRead",FZ="beforeMain",BZ="main",VZ="afterMain",jZ="beforeWrite",UZ="write",zZ="afterWrite",WZ=[DZ,$Z,LZ,FZ,BZ,VZ,jZ,UZ,zZ];function Ts(t){return t?(t.nodeName||"").toLowerCase():null}function to(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ac(t){var e=to(t).Element;return t instanceof e||t instanceof Element}function wo(t){var e=to(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Y1(t){if(typeof ShadowRoot>"u")return!1;var e=to(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function HZ(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!wo(o)||!Ts(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function GZ(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,c){return l[c]="",l},{});!wo(i)||!Ts(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const KZ={name:"applyStyles",enabled:!0,phase:"write",fn:HZ,effect:GZ,requires:["computeStyles"]};function xs(t){return t.split("-")[0]}var yc=Math.max,Fv=Math.min,Vd=Math.round;function OE(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Z5(){return!/^((?!chrome|android).)*safari/i.test(OE())}function jd(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&wo(t)&&(i=t.offsetWidth>0&&Vd(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Vd(r.height)/t.offsetHeight||1);var s=Ac(t)?to(t):window,a=s.visualViewport,l=!Z5()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/o,f=r.width/i,h=r.height/o;return{width:f,height:h,top:u,right:c+f,bottom:u+h,left:c,x:c,y:u}}function X1(t){var e=jd(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function e4(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Y1(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ya(t){return to(t).getComputedStyle(t)}function qZ(t){return["table","td","th"].indexOf(Ts(t))>=0}function jl(t){return((Ac(t)?t.ownerDocument:t.document)||window.document).documentElement}function F_(t){return Ts(t)==="html"?t:t.assignedSlot||t.parentNode||(Y1(t)?t.host:null)||jl(t)}function xA(t){return!wo(t)||ya(t).position==="fixed"?null:t.offsetParent}function YZ(t){var e=/firefox/i.test(OE()),n=/Trident/i.test(OE());if(n&&wo(t)){var r=ya(t);if(r.position==="fixed")return null}var i=F_(t);for(Y1(i)&&(i=i.host);wo(i)&&["html","body"].indexOf(Ts(i))<0;){var o=ya(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Ig(t){for(var e=to(t),n=xA(t);n&&qZ(n)&&ya(n).position==="static";)n=xA(n);return n&&(Ts(n)==="html"||Ts(n)==="body"&&ya(n).position==="static")?e:n||YZ(t)||e}function Q1(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Kh(t,e,n){return yc(t,Fv(e,n))}function XZ(t,e,n){var r=Kh(t,e,n);return r>n?n:r}function t4(){return{top:0,right:0,bottom:0,left:0}}function n4(t){return Object.assign({},t4(),t)}function r4(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var QZ=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,n4(typeof e!="number"?e:r4(e,Tg))};function JZ(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=xs(n.placement),l=Q1(a),c=[Ii,Io].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!s)){var f=QZ(i.padding,n),h=X1(o),p=l==="y"?Ti:Ii,m=l==="y"?To:Io,x=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],S=s[l]-n.rects.reference[l],b=Ig(o),w=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,g=x/2-S/2,C=f[p],N=w-h[u]-f[m],M=w/2-h[u]/2+g,E=Kh(C,M,N),I=l;n.modifiersData[r]=(e={},e[I]=E,e.centerOffset=E-M,e)}}function ZZ(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||e4(e.elements.popper,i)&&(e.elements.arrow=i))}const eee={name:"arrow",enabled:!0,phase:"main",fn:JZ,effect:ZZ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ud(t){return t.split("-")[1]}var tee={top:"auto",right:"auto",bottom:"auto",left:"auto"};function nee(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Vd(n*i)/i||0,y:Vd(r*i)/i||0}}function EA(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,f=t.isFixed,h=s.x,p=h===void 0?0:h,m=s.y,x=m===void 0?0:m,S=typeof u=="function"?u({x:p,y:x}):{x:p,y:x};p=S.x,x=S.y;var b=s.hasOwnProperty("x"),w=s.hasOwnProperty("y"),g=Ii,C=Ti,N=window;if(c){var M=Ig(n),E="clientHeight",I="clientWidth";if(M===to(n)&&(M=jl(n),ya(M).position!=="static"&&a==="absolute"&&(E="scrollHeight",I="scrollWidth")),M=M,i===Ti||(i===Ii||i===Io)&&o===Dp){C=To;var k=f&&M===N&&N.visualViewport?N.visualViewport.height:M[E];x-=k-r.height,x*=l?1:-1}if(i===Ii||(i===Ti||i===To)&&o===Dp){g=Io;var _=f&&M===N&&N.visualViewport?N.visualViewport.width:M[I];p-=_-r.width,p*=l?1:-1}}var O=Object.assign({position:a},c&&tee),$=u===!0?nee({x:p,y:x},to(n)):{x:p,y:x};if(p=$.x,x=$.y,l){var A;return Object.assign({},O,(A={},A[C]=w?"0":"",A[g]=b?"0":"",A.transform=(N.devicePixelRatio||1)<=1?"translate("+p+"px, "+x+"px)":"translate3d("+p+"px, "+x+"px, 0)",A))}return Object.assign({},O,(e={},e[C]=w?x+"px":"",e[g]=b?p+"px":"",e.transform="",e))}function ree(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:xs(e.placement),variation:Ud(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,EA(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,EA(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const iee={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ree,data:{}};var Vm={passive:!0};function oee(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=to(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,Vm)}),a&&l.addEventListener("resize",n.update,Vm),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Vm)}),a&&l.removeEventListener("resize",n.update,Vm)}}const see={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:oee,data:{}};var aee={left:"right",right:"left",bottom:"top",top:"bottom"};function Ny(t){return t.replace(/left|right|bottom|top/g,function(e){return aee[e]})}var lee={start:"end",end:"start"};function SA(t){return t.replace(/start|end/g,function(e){return lee[e]})}function J1(t){var e=to(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Z1(t){return jd(jl(t)).left+J1(t).scrollLeft}function cee(t,e){var n=to(t),r=jl(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=Z5();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+Z1(t),y:l}}function uee(t){var e,n=jl(t),r=J1(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=yc(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=yc(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Z1(t),l=-r.scrollTop;return ya(i||n).direction==="rtl"&&(a+=yc(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function eT(t){var e=ya(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function i4(t){return["html","body","#document"].indexOf(Ts(t))>=0?t.ownerDocument.body:wo(t)&&eT(t)?t:i4(F_(t))}function qh(t,e){var n;e===void 0&&(e=[]);var r=i4(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=to(r),s=i?[o].concat(o.visualViewport||[],eT(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(qh(F_(s)))}function NE(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function dee(t,e){var n=jd(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function CA(t,e,n){return e===Q5?NE(cee(t,n)):Ac(e)?dee(e,n):NE(uee(jl(t)))}function fee(t){var e=qh(F_(t)),n=["absolute","fixed"].indexOf(ya(t).position)>=0,r=n&&wo(t)?Ig(t):t;return Ac(r)?e.filter(function(i){return Ac(i)&&e4(i,r)&&Ts(i)!=="body"}):[]}function hee(t,e,n,r){var i=e==="clippingParents"?fee(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,c){var u=CA(t,c,r);return l.top=yc(u.top,l.top),l.right=Fv(u.right,l.right),l.bottom=Fv(u.bottom,l.bottom),l.left=yc(u.left,l.left),l},CA(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function o4(t){var e=t.reference,n=t.element,r=t.placement,i=r?xs(r):null,o=r?Ud(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Ti:l={x:s,y:e.y-n.height};break;case To:l={x:s,y:e.y+e.height};break;case Io:l={x:e.x+e.width,y:a};break;case Ii:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?Q1(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case Bd:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Dp:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function $p(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?NZ:a,c=n.rootBoundary,u=c===void 0?Q5:c,f=n.elementContext,h=f===void 0?Zf:f,p=n.altBoundary,m=p===void 0?!1:p,x=n.padding,S=x===void 0?0:x,b=n4(typeof S!="number"?S:r4(S,Tg)),w=h===Zf?MZ:Zf,g=t.rects.popper,C=t.elements[m?w:h],N=hee(Ac(C)?C:C.contextElement||jl(t.elements.popper),l,u,s),M=jd(t.elements.reference),E=o4({reference:M,element:g,placement:i}),I=NE(Object.assign({},g,E)),k=h===Zf?I:M,_={top:N.top-k.top+b.top,bottom:k.bottom-N.bottom+b.bottom,left:N.left-k.left+b.left,right:k.right-N.right+b.right},O=t.modifiersData.offset;if(h===Zf&&O){var $=O[i];Object.keys(_).forEach(function(A){var Q=[Io,To].indexOf(A)>=0?1:-1,W=[Ti,To].indexOf(A)>=0?"y":"x";_[A]+=$[W]*Q})}return _}function pee(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?J5:l,u=Ud(r),f=u?a?wA:wA.filter(function(m){return Ud(m)===u}):Tg,h=f.filter(function(m){return c.indexOf(m)>=0});h.length===0&&(h=f);var p=h.reduce(function(m,x){return m[x]=$p(t,{placement:x,boundary:i,rootBoundary:o,padding:s})[xs(x)],m},{});return Object.keys(p).sort(function(m,x){return p[m]-p[x]})}function gee(t){if(xs(t)===q1)return[];var e=Ny(t);return[SA(t),e,SA(e)]}function mee(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,f=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,x=n.allowedAutoPlacements,S=e.options.placement,b=xs(S),w=b===S,g=l||(w||!m?[Ny(S)]:gee(S)),C=[S].concat(g).reduce(function(Ae,xe){return Ae.concat(xs(xe)===q1?pee(e,{placement:xe,boundary:u,rootBoundary:f,padding:c,flipVariations:m,allowedAutoPlacements:x}):xe)},[]),N=e.rects.reference,M=e.rects.popper,E=new Map,I=!0,k=C[0],_=0;_<C.length;_++){var O=C[_],$=xs(O),A=Ud(O)===Bd,Q=[Ti,To].indexOf($)>=0,W=Q?"width":"height",q=$p(e,{placement:O,boundary:u,rootBoundary:f,altBoundary:h,padding:c}),ie=Q?A?Io:Ii:A?To:Ti;N[W]>M[W]&&(ie=Ny(ie));var K=Ny(ie),j=[];if(o&&j.push(q[$]<=0),a&&j.push(q[ie]<=0,q[K]<=0),j.every(function(Ae){return Ae})){k=O,I=!1;break}E.set(O,j)}if(I)for(var G=m?3:1,oe=function(xe){var fe=C.find(function(be){var Fe=E.get(be);if(Fe)return Fe.slice(0,xe).every(function(Be){return Be})});if(fe)return k=fe,"break"},re=G;re>0;re--){var ge=oe(re);if(ge==="break")break}e.placement!==k&&(e.modifiersData[r]._skip=!0,e.placement=k,e.reset=!0)}}const yee={name:"flip",enabled:!0,phase:"main",fn:mee,requiresIfExists:["offset"],data:{_skip:!1}};function TA(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function IA(t){return[Ti,Io,To,Ii].some(function(e){return t[e]>=0})}function vee(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=$p(e,{elementContext:"reference"}),a=$p(e,{altBoundary:!0}),l=TA(s,r),c=TA(a,i,o),u=IA(l),f=IA(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const _ee={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:vee};function bee(t,e,n){var r=xs(t),i=[Ii,Ti].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Ii,Io].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function wee(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=J5.reduce(function(u,f){return u[f]=bee(f,e.rects,o),u},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}const xee={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:wee};function Eee(t){var e=t.state,n=t.name;e.modifiersData[n]=o4({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const See={name:"popperOffsets",enabled:!0,phase:"read",fn:Eee,data:{}};function Cee(t){return t==="x"?"y":"x"}function Tee(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,f=n.padding,h=n.tether,p=h===void 0?!0:h,m=n.tetherOffset,x=m===void 0?0:m,S=$p(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),b=xs(e.placement),w=Ud(e.placement),g=!w,C=Q1(b),N=Cee(C),M=e.modifiersData.popperOffsets,E=e.rects.reference,I=e.rects.popper,k=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,_=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,$={x:0,y:0};if(M){if(o){var A,Q=C==="y"?Ti:Ii,W=C==="y"?To:Io,q=C==="y"?"height":"width",ie=M[C],K=ie+S[Q],j=ie-S[W],G=p?-I[q]/2:0,oe=w===Bd?E[q]:I[q],re=w===Bd?-I[q]:-E[q],ge=e.elements.arrow,Ae=p&&ge?X1(ge):{width:0,height:0},xe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:t4(),fe=xe[Q],be=xe[W],Fe=Kh(0,E[q],Ae[q]),Be=g?E[q]/2-G-Fe-fe-_.mainAxis:oe-Fe-fe-_.mainAxis,Ee=g?-E[q]/2+G+Fe+be+_.mainAxis:re+Fe+be+_.mainAxis,Ve=e.elements.arrow&&Ig(e.elements.arrow),De=Ve?C==="y"?Ve.clientTop||0:Ve.clientLeft||0:0,Ye=(A=O==null?void 0:O[C])!=null?A:0,We=ie+Be-Ye-De,Ue=ie+Ee-Ye,Bt=Kh(p?Fv(K,We):K,ie,p?yc(j,Ue):j);M[C]=Bt,$[C]=Bt-ie}if(a){var se,pt=C==="x"?Ti:Ii,ze=C==="x"?To:Io,lt=M[N],it=N==="y"?"height":"width",Me=lt+S[pt],ln=lt-S[ze],_t=[Ti,Ii].indexOf(b)!==-1,zn=(se=O==null?void 0:O[N])!=null?se:0,Ut=_t?Me:lt-E[it]-I[it]-zn+_.altAxis,Nt=_t?lt+E[it]+I[it]-zn-_.altAxis:ln,Ht=p&&_t?XZ(Ut,lt,Nt):Kh(p?Ut:Me,lt,p?Nt:ln);M[N]=Ht,$[N]=Ht-lt}e.modifiersData[r]=$}}const Iee={name:"preventOverflow",enabled:!0,phase:"main",fn:Tee,requiresIfExists:["offset"]};function Ree(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Pee(t){return t===to(t)||!wo(t)?J1(t):Ree(t)}function kee(t){var e=t.getBoundingClientRect(),n=Vd(e.width)/t.offsetWidth||1,r=Vd(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Aee(t,e,n){n===void 0&&(n=!1);var r=wo(e),i=wo(e)&&kee(e),o=jl(e),s=jd(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Ts(e)!=="body"||eT(o))&&(a=Pee(e)),wo(e)?(l=jd(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=Z1(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Oee(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function Nee(t){var e=Oee(t);return WZ.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Mee(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Dee(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var RA={placement:"bottom",modifiers:[],strategy:"absolute"};function PA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function $ee(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?RA:i;return function(a,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},RA,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],h=!1,p={state:u,setOptions:function(b){var w=typeof b=="function"?b(u.options):b;x(),u.options=Object.assign({},o,u.options,w),u.scrollParents={reference:Ac(a)?qh(a):a.contextElement?qh(a.contextElement):[],popper:qh(l)};var g=Nee(Dee([].concat(r,u.options.modifiers)));return u.orderedModifiers=g.filter(function(C){return C.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var b=u.elements,w=b.reference,g=b.popper;if(PA(w,g)){u.rects={reference:Aee(w,Ig(g),u.options.strategy==="fixed"),popper:X1(g)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(_){return u.modifiersData[_.name]=Object.assign({},_.data)});for(var C=0;C<u.orderedModifiers.length;C++){if(u.reset===!0){u.reset=!1,C=-1;continue}var N=u.orderedModifiers[C],M=N.fn,E=N.options,I=E===void 0?{}:E,k=N.name;typeof M=="function"&&(u=M({state:u,options:I,name:k,instance:p})||u)}}}},update:Mee(function(){return new Promise(function(S){p.forceUpdate(),S(u)})}),destroy:function(){x(),h=!0}};if(!PA(a,l))return p;p.setOptions(c).then(function(S){!h&&c.onFirstUpdate&&c.onFirstUpdate(S)});function m(){u.orderedModifiers.forEach(function(S){var b=S.name,w=S.options,g=w===void 0?{}:w,C=S.effect;if(typeof C=="function"){var N=C({state:u,name:b,instance:p,options:g}),M=function(){};f.push(N||M)}})}function x(){f.forEach(function(S){return S()}),f=[]}return p}}var Lee=[see,See,iee,KZ,xee,yee,Iee,eee,_ee],Fee=$ee({defaultModifiers:Lee});function Bee(t){return typeof t=="function"?t():t}const s4=v.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=v.useState(null),l=Tr(v.isValidElement(r)?Cg(r):null,n);if(Co(()=>{o||a(Bee(i)||document.body)},[i,o]),Co(()=>{if(s&&!o)return Ov(n,s),()=>{Ov(n,null)}},[n,s,o]),o){if(v.isValidElement(r)){const c={ref:l};return v.cloneElement(r,c)}return r}return s&&Zp.createPortal(r,s)});function Vee(t){return st("MuiPopper",t)}rt("MuiPopper",["root"]);function jee(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function ME(t){return typeof t=="function"?t():t}function Uee(t){return t.nodeType!==void 0}const zee=t=>{const{classes:e}=t;return at({root:["root"]},Vee,e)},Wee={},Hee=v.forwardRef(function(e,n){const{anchorEl:r,children:i,direction:o,disablePortal:s,modifiers:a,open:l,placement:c,popperOptions:u,popperRef:f,slotProps:h={},slots:p={},TransitionProps:m,ownerState:x,...S}=e,b=v.useRef(null),w=Tr(b,n),g=v.useRef(null),C=Tr(g,f),N=v.useRef(C);Co(()=>{N.current=C},[C]),v.useImperativeHandle(f,()=>g.current,[]);const M=jee(c,o),[E,I]=v.useState(M),[k,_]=v.useState(ME(r));v.useEffect(()=>{g.current&&g.current.forceUpdate()}),v.useEffect(()=>{r&&_(ME(r))},[r]),Co(()=>{if(!k||!l)return;const W=K=>{I(K.placement)};let q=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:K})=>{W(K)}}];a!=null&&(q=q.concat(a)),u&&u.modifiers!=null&&(q=q.concat(u.modifiers));const ie=Fee(k,b.current,{placement:M,...u,modifiers:q});return N.current(ie),()=>{ie.destroy(),N.current(null)}},[k,s,a,l,u,M]);const O={placement:E};m!==null&&(O.TransitionProps=m);const $=zee(e),A=p.root??"div",Q=Fd({elementType:A,externalSlotProps:h.root,externalForwardedProps:S,additionalProps:{role:"tooltip",ref:w},ownerState:e,className:$.root});return P.jsx(A,{...Q,children:typeof i=="function"?i(O):i})}),Gee=v.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:f="bottom",popperOptions:h=Wee,popperRef:p,style:m,transition:x=!1,slotProps:S={},slots:b={},...w}=e,[g,C]=v.useState(!0),N=()=>{C(!1)},M=()=>{C(!0)};if(!l&&!u&&(!x||g))return null;let E;if(o)E=o;else if(r){const _=ME(r);E=_&&Uee(_)?ki(_).body:ki(null).body}const I=!u&&l&&(!x||g)?"none":void 0,k=x?{in:u,onEnter:N,onExited:M}:void 0;return P.jsx(s4,{disablePortal:a,container:E,children:P.jsx(Hee,{anchorEl:r,direction:s,disablePortal:a,modifiers:c,ref:n,open:x?!g:u,placement:f,popperOptions:h,popperRef:p,slotProps:S,slots:b,...w,style:{position:"fixed",top:0,left:0,display:I,...m},TransitionProps:k,children:i})})}),Kee=he(Gee,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),a4=v.forwardRef(function(e,n){const r=$_(),i=ut({props:e,name:"MuiPopper"}),{anchorEl:o,component:s,components:a,componentsProps:l,container:c,disablePortal:u,keepMounted:f,modifiers:h,open:p,placement:m,popperOptions:x,popperRef:S,transition:b,slots:w,slotProps:g,...C}=i,N=(w==null?void 0:w.root)??(a==null?void 0:a.Root),M={anchorEl:o,container:c,disablePortal:u,keepMounted:f,modifiers:h,open:p,placement:m,popperOptions:x,popperRef:S,transition:b,...C};return P.jsx(Kee,{as:s,direction:r?"rtl":"ltr",slots:{root:N},slotProps:g??l,...M,ref:n})});function qee(t){return st("MuiListSubheader",t)}rt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const Yee=t=>{const{classes:e,color:n,disableGutters:r,inset:i,disableSticky:o}=t,s={root:["root",n!=="default"&&`color${de(n)}`,!r&&"gutters",i&&"inset",!o&&"sticky"]};return at(s,qee,e)},Xee=he("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${de(n.color)}`],!n.disableGutters&&e.gutters,n.inset&&e.inset,!n.disableSticky&&e.sticky]}})(Et(({theme:t})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(t.vars||t).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:72}},{props:({ownerState:e})=>!e.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper}}]}))),DE=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiListSubheader"}),{className:i,color:o="default",component:s="li",disableGutters:a=!1,disableSticky:l=!1,inset:c=!1,...u}=r,f={...r,color:o,component:s,disableGutters:a,disableSticky:l,inset:c},h=Yee(f);return P.jsx(Xee,{as:s,className:Te(h.root,i),ref:n,ownerState:f,...u})});DE&&(DE.muiSkipListHighlight=!0);const Qee=ir(P.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function Jee(t){return st("MuiChip",t)}const Tt=rt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Zee=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=t,c={root:["root",l,n&&"disabled",`size${de(r)}`,`color${de(i)}`,a&&"clickable",a&&`clickableColor${de(i)}`,s&&"deletable",s&&`deletableColor${de(i)}`,`${l}${de(i)}`],label:["label",`label${de(r)}`],avatar:["avatar",`avatar${de(r)}`,`avatarColor${de(i)}`],icon:["icon",`icon${de(r)}`,`iconColor${de(o)}`],deleteIcon:["deleteIcon",`deleteIcon${de(r)}`,`deleteIconColor${de(i)}`,`deleteIcon${de(l)}Color${de(i)}`]};return at(c,Jee,e)},ete=he("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{[`& .${Tt.avatar}`]:e.avatar},{[`& .${Tt.avatar}`]:e[`avatar${de(a)}`]},{[`& .${Tt.avatar}`]:e[`avatarColor${de(r)}`]},{[`& .${Tt.icon}`]:e.icon},{[`& .${Tt.icon}`]:e[`icon${de(a)}`]},{[`& .${Tt.icon}`]:e[`iconColor${de(i)}`]},{[`& .${Tt.deleteIcon}`]:e.deleteIcon},{[`& .${Tt.deleteIcon}`]:e[`deleteIcon${de(a)}`]},{[`& .${Tt.deleteIcon}`]:e[`deleteIconColor${de(r)}`]},{[`& .${Tt.deleteIcon}`]:e[`deleteIcon${de(l)}Color${de(r)}`]},e.root,e[`size${de(a)}`],e[`color${de(r)}`],o&&e.clickable,o&&r!=="default"&&e[`clickableColor${de(r)})`],s&&e.deletable,s&&r!=="default"&&e[`deletableColor${de(r)}`],e[l],e[`${l}${de(r)}`]]}})(Et(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Tt.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Tt.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${Tt.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Tt.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Tt.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Tt.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Tt.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:Lt(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Lt(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Tt.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Tt.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(wi(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${Tt.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].contrastTextChannel} / 0.7)`:Lt(t.palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${Tt.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${Tt.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Tt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Lt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(wi(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${Tt.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Lt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${Tt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Lt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(wi(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${Tt.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Tt.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Tt.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Tt.avatar}`]:{marginLeft:4},[`& .${Tt.avatarSmall}`]:{marginLeft:2},[`& .${Tt.icon}`]:{marginLeft:4},[`& .${Tt.iconSmall}`]:{marginLeft:2},[`& .${Tt.deleteIcon}`]:{marginRight:5},[`& .${Tt.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(wi()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:Lt(t.palette[n].main,.7)}`,[`&.${Tt.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Lt(t.palette[n].main,t.palette.action.hoverOpacity)},[`&.${Tt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.focusOpacity})`:Lt(t.palette[n].main,t.palette.action.focusOpacity)},[`& .${Tt.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:Lt(t.palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}))]}})),tte=he("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${de(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function kA(t){return t.key==="Backspace"||t.key==="Delete"}const nte=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:f,label:h,onClick:p,onDelete:m,onKeyDown:x,onKeyUp:S,size:b="medium",variant:w="filled",tabIndex:g,skipFocusWhenDisabled:C=!1,...N}=r,M=v.useRef(null),E=Tr(M,n),I=j=>{j.stopPropagation(),m&&m(j)},k=j=>{j.currentTarget===j.target&&kA(j)&&j.preventDefault(),x&&x(j)},_=j=>{j.currentTarget===j.target&&m&&kA(j)&&m(j),S&&S(j)},O=s!==!1&&p?!0:s,$=O||m?Tl:l||"div",A={...r,component:$,disabled:u,size:b,color:a,iconColor:v.isValidElement(f)&&f.props.color||a,onDelete:!!m,clickable:O,variant:w},Q=Zee(A),W=$===Tl?{component:l||"div",focusVisibleClassName:Q.focusVisible,...m&&{disableRipple:!0}}:{};let q=null;m&&(q=c&&v.isValidElement(c)?v.cloneElement(c,{className:Te(c.props.className,Q.deleteIcon),onClick:I}):P.jsx(Qee,{className:Te(Q.deleteIcon),onClick:I}));let ie=null;i&&v.isValidElement(i)&&(ie=v.cloneElement(i,{className:Te(Q.avatar,i.props.className)}));let K=null;return f&&v.isValidElement(f)&&(K=v.cloneElement(f,{className:Te(Q.icon,f.props.className)})),P.jsxs(ete,{as:$,className:Te(Q.root,o),disabled:O&&u?!0:void 0,onClick:p,onKeyDown:k,onKeyUp:_,ref:E,tabIndex:C&&u?-1:g,ownerState:A,...W,...N,children:[ie||K,P.jsx(tte,{className:Te(Q.label),ownerState:A,children:h}),q]})});function jm(t){return parseInt(t,10)||0}const rte={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function ite(t){for(const e in t)return!1;return!0}function AA(t){return ite(t)||t.outerHeightStyle===0&&!t.overflowing}const ote=v.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a,...l}=e,{current:c}=v.useRef(a!=null),u=v.useRef(null),f=Tr(n,u),h=v.useRef(null),p=v.useRef(null),m=v.useCallback(()=>{const g=u.current,C=p.current;if(!g||!C)return;const M=ns(g).getComputedStyle(g);if(M.width==="0px")return{outerHeightStyle:0,overflowing:!1};C.style.width=M.width,C.value=g.value||e.placeholder||"x",C.value.slice(-1)===`
`&&(C.value+=" ");const E=M.boxSizing,I=jm(M.paddingBottom)+jm(M.paddingTop),k=jm(M.borderBottomWidth)+jm(M.borderTopWidth),_=C.scrollHeight;C.value="x";const O=C.scrollHeight;let $=_;o&&($=Math.max(Number(o)*O,$)),i&&($=Math.min(Number(i)*O,$)),$=Math.max($,O);const A=$+(E==="border-box"?I+k:0),Q=Math.abs($-_)<=1;return{outerHeightStyle:A,overflowing:Q}},[i,o,e.placeholder]),x=bi(()=>{const g=u.current,C=m();if(!g||!C||AA(C))return!1;const N=C.outerHeightStyle;return h.current!=null&&h.current!==N}),S=v.useCallback(()=>{const g=u.current,C=m();if(!g||!C||AA(C))return;const N=C.outerHeightStyle;h.current!==N&&(h.current=N,g.style.height=`${N}px`),g.style.overflow=C.overflowing?"hidden":""},[m]),b=v.useRef(-1);Co(()=>{const g=D_(S),C=u==null?void 0:u.current;if(!C)return;const N=ns(C);N.addEventListener("resize",g);let M;return typeof ResizeObserver<"u"&&(M=new ResizeObserver(()=>{x()&&(M.unobserve(C),cancelAnimationFrame(b.current),S(),b.current=requestAnimationFrame(()=>{M.observe(C)}))}),M.observe(C)),()=>{g.clear(),cancelAnimationFrame(b.current),N.removeEventListener("resize",g),M&&M.disconnect()}},[m,S,x]),Co(()=>{S()});const w=g=>{c||S(),r&&r(g)};return P.jsxs(v.Fragment,{children:[P.jsx("textarea",{value:a,onChange:w,ref:f,rows:o,style:s,...l}),P.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:{...rte.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function $E(t){return typeof t=="string"}function df({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const tT=v.createContext(void 0);function ff(){return v.useContext(tT)}function OA(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Bv(t,e=!1){return t&&(OA(t.value)&&t.value!==""||e&&OA(t.defaultValue)&&t.defaultValue!=="")}function ste(t){return t.startAdornment}function ate(t){return st("MuiInputBase",t)}const Ui=rt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var NA;const B_=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${de(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},V_=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},lte=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:f,size:h,startAdornment:p,type:m}=t,x={root:["root",`color${de(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&h!=="medium"&&`size${de(h)}`,u&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",u&&"inputMultiline",h==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",f&&"readOnly"]};return at(x,ate,e)},j_=he("div",{name:"MuiInputBase",slot:"Root",overridesResolver:B_})(Et(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Ui.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),U_=he("input",{name:"MuiInputBase",slot:"Input",overridesResolver:V_})(Et(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Ui.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Ui.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),MA=AJ({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),nT=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:s,className:a,color:l,components:c={},componentsProps:u={},defaultValue:f,disabled:h,disableInjectingGlobalStyles:p,endAdornment:m,error:x,fullWidth:S=!1,id:b,inputComponent:w="input",inputProps:g={},inputRef:C,margin:N,maxRows:M,minRows:E,multiline:I=!1,name:k,onBlur:_,onChange:O,onClick:$,onFocus:A,onKeyDown:Q,onKeyUp:W,placeholder:q,readOnly:ie,renderSuffix:K,rows:j,size:G,slotProps:oe={},slots:re={},startAdornment:ge,type:Ae="text",value:xe,...fe}=r,be=g.value!=null?g.value:xe,{current:Fe}=v.useRef(be!=null),Be=v.useRef(),Ee=v.useCallback(Je=>{},[]),Ve=Tr(Be,C,g.ref,Ee),[De,Ye]=v.useState(!1),We=ff(),Ue=df({props:r,muiFormControl:We,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ue.focused=We?We.focused:De,v.useEffect(()=>{!We&&h&&De&&(Ye(!1),_&&_())},[We,h,De,_]);const Bt=We&&We.onFilled,se=We&&We.onEmpty,pt=v.useCallback(Je=>{Bv(Je)?Bt&&Bt():se&&se()},[Bt,se]);Co(()=>{Fe&&pt({value:be})},[be,pt,Fe]);const ze=Je=>{A&&A(Je),g.onFocus&&g.onFocus(Je),We&&We.onFocus?We.onFocus(Je):Ye(!0)},lt=Je=>{_&&_(Je),g.onBlur&&g.onBlur(Je),We&&We.onBlur?We.onBlur(Je):Ye(!1)},it=(Je,...cn)=>{if(!Fe){const Wn=Je.target||Be.current;if(Wn==null)throw new Error(ma(1));pt({value:Wn.value})}g.onChange&&g.onChange(Je,...cn),O&&O(Je,...cn)};v.useEffect(()=>{pt(Be.current)},[]);const Me=Je=>{Be.current&&Je.currentTarget===Je.target&&Be.current.focus(),$&&$(Je)};let ln=w,_t=g;I&&ln==="input"&&(j?_t={type:void 0,minRows:j,maxRows:j,..._t}:_t={type:void 0,maxRows:M,minRows:E,..._t},ln=ote);const zn=Je=>{pt(Je.animationName==="mui-auto-fill-cancel"?Be.current:{value:"x"})};v.useEffect(()=>{We&&We.setAdornedStart(!!ge)},[We,ge]);const Ut={...r,color:Ue.color||"primary",disabled:Ue.disabled,endAdornment:m,error:Ue.error,focused:Ue.focused,formControl:We,fullWidth:S,hiddenLabel:Ue.hiddenLabel,multiline:I,size:Ue.size,startAdornment:ge,type:Ae},Nt=lte(Ut),Ht=re.root||c.Root||j_,Qt=oe.root||u.root||{},dt=re.input||c.Input||U_;return _t={..._t,...oe.input??u.input},P.jsxs(v.Fragment,{children:[!p&&typeof MA=="function"&&(NA||(NA=P.jsx(MA,{}))),P.jsxs(Ht,{...Qt,ref:n,onClick:Me,...fe,...!$E(Ht)&&{ownerState:{...Ut,...Qt.ownerState}},className:Te(Nt.root,Qt.className,a,ie&&"MuiInputBase-readOnly"),children:[ge,P.jsx(tT.Provider,{value:null,children:P.jsx(dt,{"aria-invalid":Ue.error,"aria-describedby":i,autoComplete:o,autoFocus:s,defaultValue:f,disabled:Ue.disabled,id:b,onAnimationStart:zn,name:k,placeholder:q,readOnly:ie,required:Ue.required,rows:j,value:be,onKeyDown:Q,onKeyUp:W,type:Ae,..._t,...!$E(dt)&&{as:ln,ownerState:{...Ut,..._t.ownerState}},ref:Ve,className:Te(Nt.input,_t.className,ie&&"MuiInputBase-readOnly"),onBlur:lt,onChange:it,onFocus:ze})}),m,K?K({...Ue,startAdornment:ge}):null]})]})});function cte(t){return st("MuiInput",t)}const Ka={...Ui,...rt("MuiInput",["root","underline","input"])};function ute(t){return st("MuiOutlinedInput",t)}const fo={...Ui,...rt("MuiOutlinedInput",["root","notchedOutline","input"])};function dte(t){return st("MuiFilledInput",t)}const zi={...Ui,...rt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},l4=ir(P.jsx("path",{d:"M7 10l5 5 5-5z"}));function fte(t){return st("MuiAutocomplete",t)}const mt=rt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var DA,$A;const hte=t=>{const{classes:e,disablePortal:n,expanded:r,focused:i,fullWidth:o,hasClearIcon:s,hasPopupIcon:a,inputFocused:l,popupOpen:c,size:u}=t,f={root:["root",r&&"expanded",i&&"focused",o&&"fullWidth",s&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${de(u)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return at(f,fte,e)},pte=he("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{fullWidth:r,hasClearIcon:i,hasPopupIcon:o,inputFocused:s,size:a}=n;return[{[`& .${mt.tag}`]:e.tag},{[`& .${mt.tag}`]:e[`tagSize${de(a)}`]},{[`& .${mt.inputRoot}`]:e.inputRoot},{[`& .${mt.input}`]:e.input},{[`& .${mt.input}`]:s&&e.inputFocused},e.root,r&&e.fullWidth,o&&e.hasPopupIcon,i&&e.hasClearIcon]}})({[`&.${mt.focused} .${mt.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${mt.clearIndicator}`]:{visibility:"visible"}},[`& .${mt.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${mt.inputRoot}`]:{[`.${mt.hasPopupIcon}&, .${mt.hasClearIcon}&`]:{paddingRight:30},[`.${mt.hasPopupIcon}.${mt.hasClearIcon}&`]:{paddingRight:56},[`& .${mt.input}`]:{width:0,minWidth:30}},[`& .${Ka.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Ka.root}.${Ui.sizeSmall}`]:{[`& .${Ka.input}`]:{padding:"2px 4px 3px 0"}},[`& .${fo.root}`]:{padding:9,[`.${mt.hasPopupIcon}&, .${mt.hasClearIcon}&`]:{paddingRight:39},[`.${mt.hasPopupIcon}.${mt.hasClearIcon}&`]:{paddingRight:65},[`& .${mt.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${mt.endAdornment}`]:{right:9}},[`& .${fo.root}.${Ui.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${mt.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${zi.root}`]:{paddingTop:19,paddingLeft:8,[`.${mt.hasPopupIcon}&, .${mt.hasClearIcon}&`]:{paddingRight:39},[`.${mt.hasPopupIcon}.${mt.hasClearIcon}&`]:{paddingRight:65},[`& .${zi.input}`]:{padding:"7px 4px"},[`& .${mt.endAdornment}`]:{right:9}},[`& .${zi.root}.${Ui.sizeSmall}`]:{paddingBottom:1,[`& .${zi.input}`]:{padding:"2.5px 4px"}},[`& .${Ui.hiddenLabel}`]:{paddingTop:8},[`& .${zi.root}.${Ui.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${mt.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${zi.root}.${Ui.hiddenLabel}.${Ui.sizeSmall}`]:{[`& .${mt.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${mt.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${mt.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${mt.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${mt.inputRoot}`]:{flexWrap:"wrap"}}}]}),gte=he("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(t,e)=>e.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),mte=he(Lv,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(t,e)=>e.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),yte=he(Lv,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popupIndicator,n.popupOpen&&e.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),vte=he(a4,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${mt.option}`]:e.option},e.popper,n.disablePortal&&e.popperDisablePortal]}})(Et(({theme:t})=>({zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),_te=he(uf,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(t,e)=>e.paper})(Et(({theme:t})=>({...t.typography.body1,overflow:"auto"}))),bte=he("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(t,e)=>e.loading})(Et(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),wte=he("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(t,e)=>e.noOptions})(Et(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),xte=he("ul",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(t,e)=>e.listbox})(Et(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${mt.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${mt.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${mt.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Lt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${mt.focused}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Lt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${mt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Lt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}}}))),Ete=he(DE,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(t,e)=>e.groupLabel})(Et(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8}))),Ste=he("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(t,e)=>e.groupUl})({padding:0,[`& .${mt.option}`]:{paddingLeft:24}}),Cte=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:o=!1,autoSelect:s=!1,blurOnSelect:a=!1,ChipProps:l,className:c,clearIcon:u=DA||(DA=P.jsx(wZ,{fontSize:"small"})),clearOnBlur:f=!r.freeSolo,clearOnEscape:h=!1,clearText:p="Clear",closeText:m="Close",componentsProps:x,defaultValue:S=r.multiple?[]:null,disableClearable:b=!1,disableCloseOnSelect:w=!1,disabled:g=!1,disabledItemsFocusable:C=!1,disableListWrap:N=!1,disablePortal:M=!1,filterOptions:E,filterSelectedOptions:I=!1,forcePopupIcon:k="auto",freeSolo:_=!1,fullWidth:O=!1,getLimitTagsText:$=gt=>`+${gt}`,getOptionDisabled:A,getOptionKey:Q,getOptionLabel:W,isOptionEqualToValue:q,groupBy:ie,handleHomeEndKeys:K=!r.freeSolo,id:j,includeInputInList:G=!1,inputValue:oe,limitTags:re=-1,ListboxComponent:ge,ListboxProps:Ae,loading:xe=!1,loadingText:fe="Loading",multiple:be=!1,noOptionsText:Fe="No options",onChange:Be,onClose:Ee,onHighlightChange:Ve,onInputChange:De,onOpen:Ye,open:We,openOnFocus:Ue=!1,openText:Bt="Open",options:se,PaperComponent:pt,PopperComponent:ze,popupIcon:lt=$A||($A=P.jsx(l4,{})),readOnly:it=!1,renderGroup:Me,renderInput:ln,renderOption:_t,renderTags:zn,selectOnFocus:Ut=!r.freeSolo,size:Nt="medium",slots:Ht={},slotProps:Qt={},value:dt,...Je}=r,{getRootProps:cn,getInputProps:Wn,getInputLabelProps:Yr,getPopupIndicatorProps:Pe,getClearProps:ct,getTagProps:St,getListboxProps:En,getOptionProps:hr,value:Yn,dirty:pr,expanded:gr,id:Xr,popupOpen:Sn,focused:Ct,focusedTag:Mi,anchorEl:Di,setAnchorEl:so,inputValue:Ce,groupedOptions:_e}=OZ({...r,componentName:"Autocomplete"}),Ze=!b&&!g&&pr&&!it,et=(!_||k===!0)&&k!==!1,{onMouseDown:bt}=Wn(),{ref:or,...di}=En(),Dr=W||(gt=>gt.label??gt),gn={...r,disablePortal:M,expanded:gr,focused:Ct,fullWidth:O,getOptionLabel:Dr,hasClearIcon:Ze,hasPopupIcon:et,inputFocused:Mi===-1,popupOpen:Sn,size:Nt},Cn=hte(gn),fi={slots:{paper:pt,popper:ze,...Ht},slotProps:{chip:l,listbox:Ae,...x,...Qt}},[Ds,ee]=en("listbox",{elementType:xte,externalForwardedProps:fi,ownerState:gn,className:Cn.listbox,additionalProps:di,ref:or}),[J,Ie]=en("paper",{elementType:uf,externalForwardedProps:fi,ownerState:gn,className:Cn.paper}),[tt,ht]=en("popper",{elementType:a4,externalForwardedProps:fi,ownerState:gn,className:Cn.popper,additionalProps:{disablePortal:M,style:{width:Di?Di.clientWidth:null},role:"presentation",anchorEl:Di,open:Sn}});let Vt;if(be&&Yn.length>0){const gt=Qr=>({className:Cn.tag,disabled:g,...St(Qr)});zn?Vt=zn(Yn,gt,gn):Vt=Yn.map((Qr,No)=>{const{key:Ls,...Tf}=gt({index:No});return P.jsx(nte,{label:Dr(Qr),size:Nt,...Tf,...fi.slotProps.chip},Ls)})}if(re>-1&&Array.isArray(Vt)){const gt=Vt.length-re;!Ct&&gt>0&&(Vt=Vt.splice(0,re),Vt.push(P.jsx("span",{className:Cn.tag,children:$(gt)},Vt.length)))}const $r=Me||(gt=>P.jsxs("li",{children:[P.jsx(Ete,{className:Cn.groupLabel,ownerState:gn,component:"div",children:gt.group}),P.jsx(Ste,{className:Cn.groupUl,ownerState:gn,children:gt.children})]},gt.key)),zl=_t||((gt,Qr)=>{const{key:No,...Ls}=gt;return P.jsx("li",{...Ls,children:Dr(Qr)},No)}),Zc=(gt,Qr)=>{const No=hr({option:gt,index:Qr});return zl({...No,className:Cn.option},gt,{selected:No["aria-selected"],index:Qr,inputValue:Ce},gn)},$s=fi.slotProps.clearIndicator,Oo=fi.slotProps.popupIndicator;return P.jsxs(v.Fragment,{children:[P.jsx(pte,{ref:n,className:Te(Cn.root,c),ownerState:gn,...cn(Je),children:ln({id:Xr,disabled:g,fullWidth:!0,size:Nt==="small"?"small":void 0,InputLabelProps:Yr(),InputProps:{ref:so,className:Cn.inputRoot,startAdornment:Vt,onMouseDown:gt=>{gt.target===gt.currentTarget&&bt(gt)},...(Ze||et)&&{endAdornment:P.jsxs(gte,{className:Cn.endAdornment,ownerState:gn,children:[Ze?P.jsx(mte,{...ct(),"aria-label":p,title:p,ownerState:gn,...$s,className:Te(Cn.clearIndicator,$s==null?void 0:$s.className),children:u}):null,et?P.jsx(yte,{...Pe(),disabled:g,"aria-label":Sn?m:Bt,title:Sn?m:Bt,ownerState:gn,...Oo,className:Te(Cn.popupIndicator,Oo==null?void 0:Oo.className),children:lt}):null]})}},inputProps:{className:Cn.input,disabled:g,readOnly:it,...Wn()}})}),Di?P.jsx(vte,{as:tt,...ht,children:P.jsxs(_te,{as:J,...Ie,children:[xe&&_e.length===0?P.jsx(bte,{className:Cn.loading,ownerState:gn,children:fe}):null,_e.length===0&&!_&&!xe?P.jsx(wte,{className:Cn.noOptions,ownerState:gn,role:"presentation",onMouseDown:gt=>{gt.preventDefault()},children:Fe}):null,_e.length>0?P.jsx(Ds,{as:ge,...ee,children:_e.map((gt,Qr)=>ie?$r({key:gt.key,group:gt.group,children:gt.options.map((No,Ls)=>Zc(No,gt.index+Ls))}):Zc(gt,Qr))}):null]})}):null]})}),Tte={entering:{opacity:1},entered:{opacity:1}},LE=v.forwardRef(function(e,n){const r=Uc(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:f,onEntering:h,onExit:p,onExited:m,onExiting:x,style:S,timeout:b=i,TransitionComponent:w=As,...g}=e,C=v.useRef(null),N=Tr(C,Cg(a),n),M=Q=>W=>{if(Q){const q=C.current;W===void 0?Q(q):Q(q,W)}},E=M(h),I=M((Q,W)=>{Y5(Q);const q=Dv({style:S,timeout:b,easing:l},{mode:"enter"});Q.style.webkitTransition=r.transitions.create("opacity",q),Q.style.transition=r.transitions.create("opacity",q),u&&u(Q,W)}),k=M(f),_=M(x),O=M(Q=>{const W=Dv({style:S,timeout:b,easing:l},{mode:"exit"});Q.style.webkitTransition=r.transitions.create("opacity",W),Q.style.transition=r.transitions.create("opacity",W),p&&p(Q)}),$=M(m),A=Q=>{o&&o(C.current,Q)};return P.jsx(w,{appear:s,in:c,nodeRef:C,onEnter:I,onEntered:k,onEntering:E,onExit:O,onExited:$,onExiting:_,addEndListener:A,timeout:b,...g,children:(Q,{ownerState:W,...q})=>v.cloneElement(a,{style:{opacity:0,visibility:Q==="exited"&&!c?"hidden":void 0,...Tte[Q],...S,...a.props.style},ref:N,...q})})});function Ite(t){return st("MuiBackdrop",t)}rt("MuiBackdrop",["root","invisible"]);const Rte=t=>{const{classes:e,invisible:n}=t;return at({root:["root",n&&"invisible"]},Ite,e)},Pte=he("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),c4=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiBackdrop"}),{children:i,className:o,component:s="div",invisible:a=!1,open:l,components:c={},componentsProps:u={},slotProps:f={},slots:h={},TransitionComponent:p,transitionDuration:m,...x}=r,S={...r,component:s,invisible:a},b=Rte(S),w={transition:p,root:c.Root,...h},g={...u,...f},C={slots:w,slotProps:g},[N,M]=en("root",{elementType:Pte,externalForwardedProps:C,className:Te(b.root,o),ownerState:S}),[E,I]=en("transition",{elementType:LE,externalForwardedProps:C,ownerState:S});return P.jsx(E,{in:l,timeout:m,...x,...I,children:P.jsx(N,{"aria-hidden":!0,...M,classes:b,ref:n,children:i})})}),kte=rt("MuiBox",["root"]),Ate=H5(),vc=GX({themeId:vg,defaultTheme:Ate,defaultClassName:kte.root,generateClassName:S5.generate});function Ote(t){return st("MuiButton",t)}const Xl=rt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),Nte=v.createContext({}),Mte=v.createContext(void 0),Dte=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,loading:s,loadingPosition:a,classes:l}=t,c={root:["root",s&&"loading",o,`${o}${de(e)}`,`size${de(i)}`,`${o}Size${de(i)}`,`color${de(e)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${de(a)}`],startIcon:["icon","startIcon",`iconSize${de(i)}`],endIcon:["icon","endIcon",`iconSize${de(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},u=at(c,Ote,l);return{...l,...u}},u4=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],$te=he(Tl,{shouldForwardProp:t=>Ao(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${de(n.color)}`],e[`size${de(n.size)}`],e[`${n.variant}Size${de(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(Et(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Xl.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Xl.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Xl.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Xl.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(wi()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:Lt(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Lt(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Lt(t.palette[r].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Lt(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Lt(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Xl.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Xl.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Xl.loading}`]:{color:"transparent"}}}]}})),Lte=he("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${de(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...u4]})),Fte=he("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${de(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...u4]})),Bte=he("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),LA=he("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),Zt=v.forwardRef(function(e,n){const r=v.useContext(Nte),i=v.useContext(Mte),o=Ld(r,e),s=ut({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:f=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:x,fullWidth:S=!1,id:b,loading:w=null,loadingIndicator:g,loadingPosition:C="center",size:N="medium",startIcon:M,type:E,variant:I="text",...k}=s,_=lf(b),O=g??P.jsx(X5,{"aria-labelledby":_,color:"inherit",size:16}),$={...s,color:l,component:c,disabled:f,disableElevation:h,disableFocusRipple:p,fullWidth:S,loading:w,loadingIndicator:O,loadingPosition:C,size:N,type:E,variant:I},A=Dte($),Q=(M||w&&C==="start")&&P.jsx(Lte,{className:A.startIcon,ownerState:$,children:M||P.jsx(LA,{className:A.loadingIconPlaceholder,ownerState:$})}),W=(m||w&&C==="end")&&P.jsx(Fte,{className:A.endIcon,ownerState:$,children:m||P.jsx(LA,{className:A.loadingIconPlaceholder,ownerState:$})}),q=i||"",ie=typeof w=="boolean"?P.jsx("span",{className:A.loadingWrapper,style:{display:"contents"},children:w&&P.jsx(Bte,{className:A.loadingIndicator,ownerState:$,children:O})}):null;return P.jsxs($te,{ownerState:$,className:Te(r.className,A.root,u,q),component:c,disabled:f||w,focusRipple:!p,focusVisibleClassName:Te(A.focusVisible,x),ref:n,type:E,id:w?_:b,...k,classes:A,children:[Q,C!=="end"&&ie,a,C==="end"&&ie,W]})});function Vte(t){return st("MuiCard",t)}rt("MuiCard",["root"]);const jte=t=>{const{classes:e}=t;return at({root:["root"]},Vte,e)},Ute=he(uf,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})({overflow:"hidden"}),zte=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiCard"}),{className:i,raised:o=!1,...s}=r,a={...r,raised:o},l=jte(a);return P.jsx(Ute,{className:Te(l.root,i),elevation:o?8:void 0,ref:n,ownerState:a,...s})});function Wte(t){return st("MuiCardActions",t)}rt("MuiCardActions",["root","spacing"]);const Hte=t=>{const{classes:e,disableSpacing:n}=t;return at({root:["root",!n&&"spacing"]},Wte,e)},Gte=he("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Kte=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiCardActions"}),{disableSpacing:i=!1,className:o,...s}=r,a={...r,disableSpacing:i},l=Hte(a);return P.jsx(Gte,{className:Te(l.root,o),ownerState:a,ref:n,...s})});function qte(t){return st("MuiCardContent",t)}rt("MuiCardContent",["root"]);const Yte=t=>{const{classes:e}=t;return at({root:["root"]},qte,e)},Xte=he("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:16,"&:last-child":{paddingBottom:24}}),Qte=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiCardContent"}),{className:i,component:o="div",...s}=r,a={...r,component:o},l=Yte(a);return P.jsx(Xte,{as:o,className:Te(l.root,i),ownerState:a,ref:n,...s})}),Jte=kQ({createStyledComponent:he("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${de(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>ut({props:t,name:"MuiContainer"})});function Zte(t){const e=ki(t);return e.body===t?ns(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Yh(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function FA(t){return parseInt(ns(t).getComputedStyle(t).paddingRight,10)||0}function ene(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function BA(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,s=>{const a=!o.includes(s),l=!ene(s);a&&l&&Yh(s,i)})}function bw(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function tne(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(Zte(r)){const s=D5(ns(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${FA(r)+s}px`;const a=ki(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${FA(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=ki(r).body;else{const s=r.parentElement,a=ns(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function nne(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class rne{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Yh(e.modalRef,!1);const i=nne(n);BA(n,e.mount,e.modalRef,i,!0);const o=bw(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=bw(this.containers,o=>o.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=tne(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=bw(this.containers,s=>s.modals.includes(e)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&Yh(e.modalRef,n),BA(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&Yh(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const ine=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function one(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function sne(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function ane(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||sne(t))}function lne(t){const e=[],n=[];return Array.from(t.querySelectorAll(ine)).forEach((r,i)=>{const o=one(r);o===-1||!ane(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function cne(){return!0}function une(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=lne,isEnabled:s=cne,open:a}=t,l=v.useRef(!1),c=v.useRef(null),u=v.useRef(null),f=v.useRef(null),h=v.useRef(null),p=v.useRef(!1),m=v.useRef(null),x=Tr(Cg(e),m),S=v.useRef(null);v.useEffect(()=>{!a||!m.current||(p.current=!n)},[n,a]),v.useEffect(()=>{if(!a||!m.current)return;const g=ki(m.current);return m.current.contains(g.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{i||(f.current&&f.current.focus&&(l.current=!0,f.current.focus()),f.current=null)}},[a]),v.useEffect(()=>{if(!a||!m.current)return;const g=ki(m.current),C=E=>{S.current=E,!(r||!s()||E.key!=="Tab")&&g.activeElement===m.current&&E.shiftKey&&(l.current=!0,u.current&&u.current.focus())},N=()=>{var k,_;const E=m.current;if(E===null)return;if(!g.hasFocus()||!s()||l.current){l.current=!1;return}if(E.contains(g.activeElement)||r&&g.activeElement!==c.current&&g.activeElement!==u.current)return;if(g.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let I=[];if((g.activeElement===c.current||g.activeElement===u.current)&&(I=o(m.current)),I.length>0){const O=!!((k=S.current)!=null&&k.shiftKey&&((_=S.current)==null?void 0:_.key)==="Tab"),$=I[0],A=I[I.length-1];typeof $!="string"&&typeof A!="string"&&(O?A.focus():$.focus())}else E.focus()};g.addEventListener("focusin",N),g.addEventListener("keydown",C,!0);const M=setInterval(()=>{g.activeElement&&g.activeElement.tagName==="BODY"&&N()},50);return()=>{clearInterval(M),g.removeEventListener("focusin",N),g.removeEventListener("keydown",C,!0)}},[n,r,i,s,a,o]);const b=g=>{f.current===null&&(f.current=g.relatedTarget),p.current=!0,h.current=g.target;const C=e.props.onFocus;C&&C(g)},w=g=>{f.current===null&&(f.current=g.relatedTarget),p.current=!0};return P.jsxs(v.Fragment,{children:[P.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:c,"data-testid":"sentinelStart"}),v.cloneElement(e,{ref:x,onFocus:b}),P.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:u,"data-testid":"sentinelEnd"})]})}function dne(t){return typeof t=="function"?t():t}function fne(t){return t?t.props.hasOwnProperty("in"):!1}const VA=()=>{},Um=new rne;function hne(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:s,children:a,onClose:l,open:c,rootRef:u}=t,f=v.useRef({}),h=v.useRef(null),p=v.useRef(null),m=Tr(p,u),[x,S]=v.useState(!c),b=fne(a);let w=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(w=!1);const g=()=>ki(h.current),C=()=>(f.current.modalRef=p.current,f.current.mount=h.current,f.current),N=()=>{Um.mount(C(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},M=bi(()=>{const W=dne(e)||g().body;Um.add(C(),W),p.current&&N()}),E=()=>Um.isTopModal(C()),I=bi(W=>{h.current=W,W&&(c&&E()?N():p.current&&Yh(p.current,w))}),k=v.useCallback(()=>{Um.remove(C(),w)},[w]);v.useEffect(()=>()=>{k()},[k]),v.useEffect(()=>{c?M():(!b||!i)&&k()},[c,k,b,i,M]);const _=W=>q=>{var ie;(ie=W.onKeyDown)==null||ie.call(W,q),!(q.key!=="Escape"||q.which===229||!E())&&(n||(q.stopPropagation(),l&&l(q,"escapeKeyDown")))},O=W=>q=>{var ie;(ie=W.onClick)==null||ie.call(W,q),q.target===q.currentTarget&&l&&l(q,"backdropClick")};return{getRootProps:(W={})=>{const q=L5(t);delete q.onTransitionEnter,delete q.onTransitionExited;const ie={...q,...W};return{role:"presentation",...ie,onKeyDown:_(ie),ref:m}},getBackdropProps:(W={})=>{const q=W;return{"aria-hidden":!0,...q,onClick:O(q),open:c}},getTransitionProps:()=>{const W=()=>{S(!1),o&&o()},q=()=>{S(!0),s&&s(),i&&k()};return{onEnter:tA(W,(a==null?void 0:a.props.onEnter)??VA),onExited:tA(q,(a==null?void 0:a.props.onExited)??VA)}},rootRef:m,portalRef:I,isTopModal:E,exited:x,hasTransition:b}}function pne(t){return st("MuiModal",t)}rt("MuiModal",["root","hidden","backdrop"]);const gne=t=>{const{open:e,exited:n,classes:r}=t;return at({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},pne,r)},mne=he("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(Et(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),yne=he(c4,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),d4=v.forwardRef(function(e,n){const r=ut({name:"MuiModal",props:e}),{BackdropComponent:i=yne,BackdropProps:o,classes:s,className:a,closeAfterTransition:l=!1,children:c,container:u,component:f,components:h={},componentsProps:p={},disableAutoFocus:m=!1,disableEnforceFocus:x=!1,disableEscapeKeyDown:S=!1,disablePortal:b=!1,disableRestoreFocus:w=!1,disableScrollLock:g=!1,hideBackdrop:C=!1,keepMounted:N=!1,onClose:M,onTransitionEnter:E,onTransitionExited:I,open:k,slotProps:_={},slots:O={},theme:$,...A}=r,Q={...r,closeAfterTransition:l,disableAutoFocus:m,disableEnforceFocus:x,disableEscapeKeyDown:S,disablePortal:b,disableRestoreFocus:w,disableScrollLock:g,hideBackdrop:C,keepMounted:N},{getRootProps:W,getBackdropProps:q,getTransitionProps:ie,portalRef:K,isTopModal:j,exited:G,hasTransition:oe}=hne({...Q,rootRef:n}),re={...Q,exited:G},ge=gne(re),Ae={};if(c.props.tabIndex===void 0&&(Ae.tabIndex="-1"),oe){const{onEnter:Ee,onExited:Ve}=ie();Ae.onEnter=Ee,Ae.onExited=Ve}const xe={slots:{root:h.Root,backdrop:h.Backdrop,...O},slotProps:{...p,..._}},[fe,be]=en("root",{ref:n,elementType:mne,externalForwardedProps:{...xe,...A,component:f},getSlotProps:W,ownerState:re,className:Te(a,ge==null?void 0:ge.root,!re.open&&re.exited&&(ge==null?void 0:ge.hidden))}),[Fe,Be]=en("backdrop",{ref:o==null?void 0:o.ref,elementType:i,externalForwardedProps:xe,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:Ee=>q({...Ee,onClick:Ve=>{Ee!=null&&Ee.onClick&&Ee.onClick(Ve)}}),className:Te(o==null?void 0:o.className,ge==null?void 0:ge.backdrop),ownerState:re});return!N&&!k&&(!oe||G)?null:P.jsx(s4,{ref:K,container:u,disablePortal:b,children:P.jsxs(fe,{...be,children:[!C&&i?P.jsx(Fe,{...Be}):null,P.jsx(une,{disableEnforceFocus:x,disableAutoFocus:m,disableRestoreFocus:w,isEnabled:j,open:k,children:v.cloneElement(c,Ae)})]})})});function vne(t){return st("MuiDialog",t)}const ww=rt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),f4=v.createContext({}),_ne=he(c4,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),bne=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=t,s={root:["root"],container:["container",`scroll${de(n)}`],paper:["paper",`paperScroll${de(n)}`,`paperWidth${de(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return at(s,vne,e)},wne=he(d4,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),xne=he("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${de(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Ene=he(uf,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${de(n.scroll)}`],e[`paperWidth${de(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(Et(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${ww.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${ww.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${ww.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),zm=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiDialog"}),i=Uc(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:c,BackdropProps:u,children:f,className:h,disableEscapeKeyDown:p=!1,fullScreen:m=!1,fullWidth:x=!1,maxWidth:S="sm",onClick:b,onClose:w,open:g,PaperComponent:C=uf,PaperProps:N={},scroll:M="paper",slots:E={},slotProps:I={},TransitionComponent:k=LE,transitionDuration:_=o,TransitionProps:O,...$}=r,A={...r,disableEscapeKeyDown:p,fullScreen:m,fullWidth:x,maxWidth:S,scroll:M},Q=bne(A),W=v.useRef(),q=Ye=>{W.current=Ye.target===Ye.currentTarget},ie=Ye=>{b&&b(Ye),W.current&&(W.current=null,w&&w(Ye,"backdropClick"))},K=lf(a),j=v.useMemo(()=>({titleId:K}),[K]),G={transition:k,...E},oe={transition:O,paper:N,backdrop:u,...I},re={slots:G,slotProps:oe},[ge,Ae]=en("root",{elementType:wne,shouldForwardComponentProp:!0,externalForwardedProps:re,ownerState:A,className:Te(Q.root,h),ref:n}),[xe,fe]=en("backdrop",{elementType:_ne,shouldForwardComponentProp:!0,externalForwardedProps:re,ownerState:A}),[be,Fe]=en("paper",{elementType:Ene,shouldForwardComponentProp:!0,externalForwardedProps:re,ownerState:A,className:Te(Q.paper,N.className)}),[Be,Ee]=en("container",{elementType:xne,externalForwardedProps:re,ownerState:A,className:Te(Q.container)}),[Ve,De]=en("transition",{elementType:LE,externalForwardedProps:re,ownerState:A,additionalProps:{appear:!0,in:g,timeout:_,role:"presentation"}});return P.jsx(ge,{closeAfterTransition:!0,slots:{backdrop:xe},slotProps:{backdrop:{transitionDuration:_,as:c,...fe}},disableEscapeKeyDown:p,onClose:w,open:g,onClick:ie,...Ae,...$,children:P.jsx(Ve,{...De,children:P.jsx(Be,{onMouseDown:q,...Ee,children:P.jsx(be,{as:C,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":K,"aria-modal":l,...Fe,children:P.jsx(f4.Provider,{value:j,children:f})})})})})});function Sne(t){return st("MuiDialogActions",t)}rt("MuiDialogActions",["root","spacing"]);const Cne=t=>{const{classes:e,disableSpacing:n}=t;return at({root:["root",!n&&"spacing"]},Sne,e)},Tne=he("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Wm=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1,...s}=r,a={...r,disableSpacing:o},l=Cne(a);return P.jsx(Tne,{className:Te(l.root,i),ownerState:a,ref:n,...s})});function Ine(t){return st("MuiDialogContent",t)}rt("MuiDialogContent",["root","dividers"]);function Rne(t){return st("MuiDialogTitle",t)}const Pne=rt("MuiDialogTitle",["root"]),kne=t=>{const{classes:e,dividers:n}=t;return at({root:["root",n&&"dividers"]},Ine,e)},Ane=he("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(Et(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${Pne.root} + &`]:{paddingTop:0}}}]}))),Hm=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiDialogContent"}),{className:i,dividers:o=!1,...s}=r,a={...r,dividers:o},l=kne(a);return P.jsx(Ane,{className:Te(l.root,i),ownerState:a,ref:n,...s})}),One=t=>{const{classes:e}=t;return at({root:["root"]},Rne,e)},Nne=he(Pn,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),Gm=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiDialogTitle"}),{className:i,id:o,...s}=r,a=r,l=One(a),{titleId:c=o}=v.useContext(f4);return P.jsx(Nne,{component:"h2",className:Te(l.root,i),ownerState:a,ref:n,variant:"h6",id:o??c,...s})}),jA=rt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Mne=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:s,multiline:a}=t,l={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${de(o)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},c=at(l,dte,e);return{...e,...c}},Dne=he(j_,{shouldForwardProp:t=>Ao(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...B_(t,e),!n.disableUnderline&&e.underline]}})(Et(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${zi.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${zi.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${zi.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${zi.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${zi.disabled}, .${zi.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${zi.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(wi()).map(([s])=>{var a;return{props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[s])==null?void 0:a.main}`}}}}),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:a})=>s.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),$ne=he(U_,{name:"MuiFilledInput",slot:"Input",overridesResolver:V_})(Et(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),rT=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,hiddenLabel:l,inputComponent:c="input",multiline:u=!1,slotProps:f,slots:h={},type:p="text",...m}=r,x={...r,disableUnderline:i,fullWidth:a,inputComponent:c,multiline:u,type:p},S=Mne(r),b={root:{ownerState:x},input:{ownerState:x}},w=f??s?Cr(b,f??s):b,g=h.root??o.Root??Dne,C=h.input??o.Input??$ne;return P.jsx(nT,{slots:{root:g,input:C},slotProps:w,fullWidth:a,inputComponent:c,multiline:u,ref:n,type:p,...m,classes:S})});rT.muiName="Input";function Lne(t){return st("MuiFormControl",t)}rt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Fne=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${de(n)}`,r&&"fullWidth"]};return at(i,Lne,e)},Bne=he("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${de(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),iT=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:f=!1,hiddenLabel:h=!1,margin:p="none",required:m=!1,size:x="medium",variant:S="outlined",...b}=r,w={...r,color:s,component:a,disabled:l,error:c,fullWidth:f,hiddenLabel:h,margin:p,required:m,size:x,variant:S},g=Fne(w),[C,N]=v.useState(()=>{let W=!1;return i&&v.Children.forEach(i,q=>{if(!Oy(q,["Input","Select"]))return;const ie=Oy(q,["Select"])?q.props.input:q;ie&&ste(ie.props)&&(W=!0)}),W}),[M,E]=v.useState(()=>{let W=!1;return i&&v.Children.forEach(i,q=>{Oy(q,["Input","Select"])&&(Bv(q.props,!0)||Bv(q.props.inputProps,!0))&&(W=!0)}),W}),[I,k]=v.useState(!1);l&&I&&k(!1);const _=u!==void 0&&!l?u:I;let O;v.useRef(!1);const $=v.useCallback(()=>{E(!0)},[]),A=v.useCallback(()=>{E(!1)},[]),Q=v.useMemo(()=>({adornedStart:C,setAdornedStart:N,color:s,disabled:l,error:c,filled:M,focused:_,fullWidth:f,hiddenLabel:h,size:x,onBlur:()=>{k(!1)},onFocus:()=>{k(!0)},onEmpty:A,onFilled:$,registerEffect:O,required:m,variant:S}),[C,s,l,c,M,_,f,h,O,A,$,m,x,S]);return P.jsx(tT.Provider,{value:Q,children:P.jsx(Bne,{as:a,ownerState:w,className:Te(g.root,o),ref:n,...b,children:i})})});function Vne(t){return st("MuiFormHelperText",t)}const UA=rt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var zA;const jne=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=t,c={root:["root",i&&"disabled",o&&"error",r&&`size${de(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return at(c,Vne,e)},Une=he("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${de(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(Et(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${UA.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${UA.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),zne=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p",disabled:a,error:l,filled:c,focused:u,margin:f,required:h,variant:p,...m}=r,x=ff(),S=df({props:r,muiFormControl:x,states:["variant","size","disabled","error","filled","focused","required"]}),b={...r,component:s,contained:S.variant==="filled"||S.variant==="outlined",variant:S.variant,size:S.size,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required};delete b.ownerState;const w=jne(b);return P.jsx(Une,{as:s,className:Te(w.root,o),ref:n,...m,ownerState:b,children:i===" "?zA||(zA=P.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})});function Wne(t){return st("MuiFormLabel",t)}const Xh=rt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Hne=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=t,l={root:["root",`color${de(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return at(l,Wne,e)},Gne=he("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(Et(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(wi()).map(([e])=>({props:{color:e},style:{[`&.${Xh.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${Xh.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Xh.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),Kne=he("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(Et(({theme:t})=>({[`&.${Xh.error}`]:{color:(t.vars||t).palette.error.main}}))),qne=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiFormLabel"}),{children:i,className:o,color:s,component:a="label",disabled:l,error:c,filled:u,focused:f,required:h,...p}=r,m=ff(),x=df({props:r,muiFormControl:m,states:["color","required","focused","disabled","error","filled"]}),S={...r,color:x.color||"primary",component:a,disabled:x.disabled,error:x.error,filled:x.filled,focused:x.focused,required:x.required},b=Hne(S);return P.jsxs(Gne,{as:a,ownerState:S,className:Te(b.root,o),ref:n,...p,children:[i,x.required&&P.jsxs(Kne,{ownerState:S,"aria-hidden":!0,className:b.asterisk,children:["","*"]})]})}),WA=GQ({createStyledComponent:he("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:t=>ut({props:t,name:"MuiGrid"}),useTheme:Uc});function FE(t){return`scale(${t}, ${t**2})`}const Yne={entering:{opacity:1,transform:FE(1)},entered:{opacity:1,transform:"none"}},xw=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),BE=v.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:f,onExited:h,onExiting:p,style:m,timeout:x="auto",TransitionComponent:S=As,...b}=e,w=M5(),g=v.useRef(),C=Uc(),N=v.useRef(null),M=Tr(N,Cg(o),n),E=W=>q=>{if(W){const ie=N.current;q===void 0?W(ie):W(ie,q)}},I=E(u),k=E((W,q)=>{Y5(W);const{duration:ie,delay:K,easing:j}=Dv({style:m,timeout:x,easing:s},{mode:"enter"});let G;x==="auto"?(G=C.transitions.getAutoHeightDuration(W.clientHeight),g.current=G):G=ie,W.style.transition=[C.transitions.create("opacity",{duration:G,delay:K}),C.transitions.create("transform",{duration:xw?G:G*.666,delay:K,easing:j})].join(","),l&&l(W,q)}),_=E(c),O=E(p),$=E(W=>{const{duration:q,delay:ie,easing:K}=Dv({style:m,timeout:x,easing:s},{mode:"exit"});let j;x==="auto"?(j=C.transitions.getAutoHeightDuration(W.clientHeight),g.current=j):j=q,W.style.transition=[C.transitions.create("opacity",{duration:j,delay:ie}),C.transitions.create("transform",{duration:xw?j:j*.666,delay:xw?ie:ie||j*.333,easing:K})].join(","),W.style.opacity=0,W.style.transform=FE(.75),f&&f(W)}),A=E(h),Q=W=>{x==="auto"&&w.start(g.current||0,W),r&&r(N.current,W)};return P.jsx(S,{appear:i,in:a,nodeRef:N,onEnter:k,onEntered:_,onEntering:I,onExit:$,onExited:A,onExiting:O,addEndListener:Q,timeout:x==="auto"?null:x,...b,children:(W,{ownerState:q,...ie})=>v.cloneElement(o,{style:{opacity:0,transform:FE(.75),visibility:W==="exited"&&!a?"hidden":void 0,...Yne[W],...m,...o.props.style},ref:M,...ie})})});BE&&(BE.muiSupportAuto=!0);const Xne=t=>{const{classes:e,disableUnderline:n}=t,i=at({root:["root",!n&&"underline"],input:["input"]},cte,e);return{...e,...i}},Qne=he(j_,{shouldForwardProp:t=>Ao(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...B_(t,e),!n.disableUnderline&&e.underline]}})(Et(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ka.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ka.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ka.disabled}, .${Ka.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Ka.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(wi()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),Jne=he(U_,{name:"MuiInput",slot:"Input",overridesResolver:V_})({}),oT=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,inputComponent:l="input",multiline:c=!1,slotProps:u,slots:f={},type:h="text",...p}=r,m=Xne(r),S={root:{ownerState:{disableUnderline:i}}},b=u??s?Cr(u??s,S):S,w=f.root??o.Root??Qne,g=f.input??o.Input??Jne;return P.jsx(nT,{slots:{root:w,input:g},slotProps:b,fullWidth:a,inputComponent:l,multiline:c,ref:n,type:h,...p,classes:m})});oT.muiName="Input";function Zne(t){return st("MuiInputLabel",t)}rt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const ere=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=t,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="medium"&&`size${de(r)}`,s],asterisk:[a&&"asterisk"]},c=at(l,Zne,e);return{...e,...c}},tre=he(qne,{shouldForwardProp:t=>Ao(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Xh.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(Et(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),sT=v.forwardRef(function(e,n){const r=ut({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:o,shrink:s,variant:a,className:l,...c}=r,u=ff();let f=s;typeof f>"u"&&u&&(f=u.filled||u.focused||u.adornedStart);const h=df({props:r,muiFormControl:u,states:["size","variant","required","focused"]}),p={...r,disableAnimation:i,formControl:u,shrink:f,size:h.size,variant:h.variant,required:h.required,focused:h.focused},m=ere(p);return P.jsx(tre,{"data-shrink":f,ref:n,className:Te(m.root,l),...c,ownerState:p,classes:m})}),VE=v.createContext({});function nre(t){return st("MuiList",t)}rt("MuiList",["root","padding","dense","subheader"]);const rre=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return at({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},nre,e)},ire=he("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),ore=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c,...u}=r,f=v.useMemo(()=>({dense:a}),[a]),h={...r,component:s,dense:a,disablePadding:l},p=rre(h);return P.jsx(VE.Provider,{value:f,children:P.jsxs(ire,{as:s,className:Te(p.root,o),ref:n,ownerState:h,...u,children:[c,i]})})}),HA=rt("MuiListItemIcon",["root","alignItemsFlexStart"]),GA=rt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function Ew(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function KA(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function h4(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function eh(t,e,n,r,i,o){let s=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!h4(a,o)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const sre=v.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:f="selectedMenu",...h}=e,p=v.useRef(null),m=v.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Co(()=>{i&&p.current.focus()},[i]),v.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(g,{direction:C})=>{const N=!p.current.style.width;if(g.clientHeight<p.current.clientHeight&&N){const M=`${D5(ns(g))}px`;p.current.style[C==="rtl"?"paddingLeft":"paddingRight"]=M,p.current.style.width=`calc(100% + ${M})`}return p.current}}),[]);const x=g=>{const C=p.current,N=g.key;if(g.ctrlKey||g.metaKey||g.altKey){u&&u(g);return}const E=ki(C).activeElement;if(N==="ArrowDown")g.preventDefault(),eh(C,E,c,l,Ew);else if(N==="ArrowUp")g.preventDefault(),eh(C,E,c,l,KA);else if(N==="Home")g.preventDefault(),eh(C,null,c,l,Ew);else if(N==="End")g.preventDefault(),eh(C,null,c,l,KA);else if(N.length===1){const I=m.current,k=N.toLowerCase(),_=performance.now();I.keys.length>0&&(_-I.lastTime>500?(I.keys=[],I.repeating=!0,I.previousKeyMatched=!0):I.repeating&&k!==I.keys[0]&&(I.repeating=!1)),I.lastTime=_,I.keys.push(k);const O=E&&!I.repeating&&h4(E,I);I.previousKeyMatched&&(O||eh(C,E,!1,l,Ew,I))?g.preventDefault():I.previousKeyMatched=!1}u&&u(g)},S=Tr(p,n);let b=-1;v.Children.forEach(s,(g,C)=>{if(!v.isValidElement(g)){b===C&&(b+=1,b>=s.length&&(b=-1));return}g.props.disabled||(f==="selectedMenu"&&g.props.selected||b===-1)&&(b=C),b===C&&(g.props.disabled||g.props.muiSkipListHighlight||g.type.muiSkipListHighlight)&&(b+=1,b>=s.length&&(b=-1))});const w=v.Children.map(s,(g,C)=>{if(C===b){const N={};return o&&(N.autoFocus=!0),g.props.tabIndex===void 0&&f==="selectedMenu"&&(N.tabIndex=0),v.cloneElement(g,N)}return g});return P.jsx(ore,{role:"menu",ref:S,className:a,onKeyDown:x,tabIndex:i?0:-1,...h,children:w})});function are(t){return st("MuiPopover",t)}rt("MuiPopover",["root","paper"]);function qA(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function YA(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function XA(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Km(t){return typeof t=="function"?t():t}const lre=t=>{const{classes:e}=t;return at({root:["root"],paper:["paper"]},are,e)},cre=he(d4,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),p4=he(uf,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),ure=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:c,className:u,container:f,elevation:h=8,marginThreshold:p=16,open:m,PaperProps:x={},slots:S={},slotProps:b={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:g,transitionDuration:C="auto",TransitionProps:N={},disableScrollLock:M=!1,...E}=r,I=v.useRef(),k={...r,anchorOrigin:s,anchorReference:l,elevation:h,marginThreshold:p,transformOrigin:w,TransitionComponent:g,transitionDuration:C,TransitionProps:N},_=lre(k),O=v.useCallback(()=>{if(l==="anchorPosition")return a;const Ee=Km(o),De=(Ee&&Ee.nodeType===1?Ee:ki(I.current).body).getBoundingClientRect();return{top:De.top+qA(De,s.vertical),left:De.left+YA(De,s.horizontal)}},[o,s.horizontal,s.vertical,a,l]),$=v.useCallback(Ee=>({vertical:qA(Ee,w.vertical),horizontal:YA(Ee,w.horizontal)}),[w.horizontal,w.vertical]),A=v.useCallback(Ee=>{const Ve={width:Ee.offsetWidth,height:Ee.offsetHeight},De=$(Ve);if(l==="none")return{top:null,left:null,transformOrigin:XA(De)};const Ye=O();let We=Ye.top-De.vertical,Ue=Ye.left-De.horizontal;const Bt=We+Ve.height,se=Ue+Ve.width,pt=ns(Km(o)),ze=pt.innerHeight-p,lt=pt.innerWidth-p;if(p!==null&&We<p){const it=We-p;We-=it,De.vertical+=it}else if(p!==null&&Bt>ze){const it=Bt-ze;We-=it,De.vertical+=it}if(p!==null&&Ue<p){const it=Ue-p;Ue-=it,De.horizontal+=it}else if(se>lt){const it=se-lt;Ue-=it,De.horizontal+=it}return{top:`${Math.round(We)}px`,left:`${Math.round(Ue)}px`,transformOrigin:XA(De)}},[o,l,O,$,p]),[Q,W]=v.useState(m),q=v.useCallback(()=>{const Ee=I.current;if(!Ee)return;const Ve=A(Ee);Ve.top!==null&&Ee.style.setProperty("top",Ve.top),Ve.left!==null&&(Ee.style.left=Ve.left),Ee.style.transformOrigin=Ve.transformOrigin,W(!0)},[A]);v.useEffect(()=>(M&&window.addEventListener("scroll",q),()=>window.removeEventListener("scroll",q)),[o,M,q]);const ie=()=>{q()},K=()=>{W(!1)};v.useEffect(()=>{m&&q()}),v.useImperativeHandle(i,()=>m?{updatePosition:()=>{q()}}:null,[m,q]),v.useEffect(()=>{if(!m)return;const Ee=D_(()=>{q()}),Ve=ns(Km(o));return Ve.addEventListener("resize",Ee),()=>{Ee.clear(),Ve.removeEventListener("resize",Ee)}},[o,m,q]);let j=C;const G={slots:{transition:g,...S},slotProps:{transition:N,paper:x,...b}},[oe,re]=en("transition",{elementType:BE,externalForwardedProps:G,ownerState:k,getSlotProps:Ee=>({...Ee,onEntering:(Ve,De)=>{var Ye;(Ye=Ee.onEntering)==null||Ye.call(Ee,Ve,De),ie()},onExited:Ve=>{var De;(De=Ee.onExited)==null||De.call(Ee,Ve),K()}}),additionalProps:{appear:!0,in:m}});C==="auto"&&!oe.muiSupportAuto&&(j=void 0);const ge=f||(o?ki(Km(o)).body:void 0),[Ae,{slots:xe,slotProps:fe,...be}]=en("root",{ref:n,elementType:cre,externalForwardedProps:{...G,...E},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:S.backdrop},slotProps:{backdrop:LJ(typeof b.backdrop=="function"?b.backdrop(k):b.backdrop,{invisible:!0})},container:ge,open:m},ownerState:k,className:Te(_.root,u)}),[Fe,Be]=en("paper",{ref:I,className:_.paper,elementType:p4,externalForwardedProps:G,shouldForwardComponentProp:!0,additionalProps:{elevation:h,style:Q?void 0:{opacity:0}},ownerState:k});return P.jsx(Ae,{...be,...!$E(Ae)&&{slots:xe,slotProps:fe,disableScrollLock:M},children:P.jsx(oe,{...re,timeout:j,children:P.jsx(Fe,{...Be,children:c})})})});function dre(t){return st("MuiMenu",t)}rt("MuiMenu",["root","paper","list"]);const fre={vertical:"top",horizontal:"right"},hre={vertical:"top",horizontal:"left"},pre=t=>{const{classes:e}=t;return at({root:["root"],paper:["paper"],list:["list"]},dre,e)},gre=he(ure,{shouldForwardProp:t=>Ao(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),mre=he(p4,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),yre=he(sre,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),vre=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:s,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:c,open:u,PaperProps:f={},PopoverClasses:h,transitionDuration:p="auto",TransitionProps:{onEntering:m,...x}={},variant:S="selectedMenu",slots:b={},slotProps:w={},...g}=r,C=$_(),N={...r,autoFocus:i,disableAutoFocusItem:a,MenuListProps:l,onEntering:m,PaperProps:f,transitionDuration:p,TransitionProps:x,variant:S},M=pre(N),E=i&&!a&&u,I=v.useRef(null),k=(j,G)=>{I.current&&I.current.adjustStyleForScrollbar(j,{direction:C?"rtl":"ltr"}),m&&m(j,G)},_=j=>{j.key==="Tab"&&(j.preventDefault(),c&&c(j,"tabKeyDown"))};let O=-1;v.Children.map(o,(j,G)=>{v.isValidElement(j)&&(j.props.disabled||(S==="selectedMenu"&&j.props.selected||O===-1)&&(O=G))});const $={slots:b,slotProps:{list:l,transition:x,paper:f,...w}},A=Fd({elementType:b.root,externalSlotProps:w.root,ownerState:N,className:[M.root,s]}),[Q,W]=en("paper",{className:M.paper,elementType:mre,externalForwardedProps:$,shouldForwardComponentProp:!0,ownerState:N}),[q,ie]=en("list",{className:Te(M.list,l.className),elementType:yre,shouldForwardComponentProp:!0,externalForwardedProps:$,getSlotProps:j=>({...j,onKeyDown:G=>{var oe;_(G),(oe=j.onKeyDown)==null||oe.call(j,G)}}),ownerState:N}),K=typeof $.slotProps.transition=="function"?$.slotProps.transition(N):$.slotProps.transition;return P.jsx(gre,{onClose:c,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?fre:hre,slots:{root:b.root,paper:Q,backdrop:b.backdrop,...b.transition&&{transition:b.transition}},slotProps:{root:A,paper:W,backdrop:typeof w.backdrop=="function"?w.backdrop(N):w.backdrop,transition:{...K,onEntering:(...j)=>{var G;k(...j),(G=K==null?void 0:K.onEntering)==null||G.call(K,...j)}}},open:u,ref:n,transitionDuration:p,ownerState:N,...g,classes:h,children:P.jsx(q,{actions:I,autoFocus:i&&(O===-1||a),autoFocusItem:E,variant:S,...ie,children:o})})});function _re(t){return st("MuiMenuItem",t)}const th=rt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),bre=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},wre=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=t,l=at({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},_re,s);return{...s,...l}},xre=he(Tl,{shouldForwardProp:t=>Ao(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:bre})(Et(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${th.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Lt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${th.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Lt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${th.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Lt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Lt(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${th.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${th.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${jA.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${jA.inset}`]:{marginLeft:52},[`& .${GA.root}`]:{marginTop:0,marginBottom:0},[`& .${GA.inset}`]:{paddingLeft:36},[`& .${HA.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${HA.root} svg`]:{fontSize:"1.25rem"}}}]}))),qa=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:f,className:h,...p}=r,m=v.useContext(VE),x=v.useMemo(()=>({dense:s||m.dense||!1,disableGutters:l}),[m.dense,s,l]),S=v.useRef(null);Co(()=>{i&&S.current&&S.current.focus()},[i]);const b={...r,dense:x.dense,divider:a,disableGutters:l},w=wre(r),g=Tr(S,n);let C;return r.disabled||(C=f!==void 0?f:-1),P.jsx(VE.Provider,{value:x,children:P.jsx(xre,{ref:g,role:u,tabIndex:C,component:o,focusVisibleClassName:Te(w.focusVisible,c),className:Te(w.root,h),...p,ownerState:b,classes:w})})});function Ere(t){return st("MuiNativeSelect",t)}const aT=rt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Sre=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${de(n)}`,o&&"iconOpen",r&&"disabled"]};return at(a,Ere,e)},g4=he("select")(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${aT.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),Cre=he(g4,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ao,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${aT.multiple}`]:e.multiple}]}})({}),m4=he("svg")(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${aT.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),Tre=he(m4,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${de(n.variant)}`],n.open&&e.iconOpen]}})({}),Ire=v.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard",...c}=e,u={...e,disabled:i,variant:l,error:o},f=Sre(u);return P.jsxs(v.Fragment,{children:[P.jsx(Cre,{ownerState:u,className:Te(f.select,r),disabled:i,ref:a||n,...c}),e.multiple?null:P.jsx(Tre,{as:s,ownerState:u,className:f.icon})]})});var QA;const Rre=he("fieldset",{shouldForwardProp:Ao})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Pre=he("legend",{shouldForwardProp:Ao})(Et(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function kre(t){const{children:e,classes:n,className:r,label:i,notched:o,...s}=t,a=i!=null&&i!=="",l={...t,notched:o,withLabel:a};return P.jsx(Rre,{"aria-hidden":!0,className:r,ownerState:l,...s,children:P.jsx(Pre,{ownerState:l,children:a?P.jsx("span",{children:i}):QA||(QA=P.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const Are=t=>{const{classes:e}=t,r=at({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},ute,e);return{...e,...r}},Ore=he(j_,{shouldForwardProp:t=>Ao(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:B_})(Et(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${fo.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${fo.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${fo.focused} .${fo.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(wi()).map(([n])=>({props:{color:n},style:{[`&.${fo.focused} .${fo.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${fo.error} .${fo.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${fo.disabled} .${fo.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),Nre=he(kre,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(Et(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),Mre=he(U_,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:V_})(Et(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),lT=v.forwardRef(function(e,n){var r;const i=ut({props:e,name:"MuiOutlinedInput"}),{components:o={},fullWidth:s=!1,inputComponent:a="input",label:l,multiline:c=!1,notched:u,slots:f={},type:h="text",...p}=i,m=Are(i),x=ff(),S=df({props:i,muiFormControl:x,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),b={...i,color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:x,fullWidth:s,hiddenLabel:S.hiddenLabel,multiline:c,size:S.size,type:h},w=f.root??o.Root??Ore,g=f.input??o.Input??Mre;return P.jsx(nT,{slots:{root:w,input:g},renderSuffix:C=>P.jsx(Nre,{ownerState:b,className:m.notchedOutline,label:l!=null&&l!==""&&S.required?r||(r=P.jsxs(v.Fragment,{children:[l,"","*"]})):l,notched:typeof u<"u"?u:!!(C.startAdornment||C.filled||C.focused)}),fullWidth:s,inputComponent:a,multiline:c,ref:n,type:h,...p,classes:{...m,notchedOutline:null}})});lT.muiName="Input";function y4(t){return st("MuiSelect",t)}const nh=rt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var JA;const Dre=he(g4,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${nh.select}`]:e.select},{[`&.${nh.select}`]:e[n.variant]},{[`&.${nh.error}`]:e.error},{[`&.${nh.multiple}`]:e.multiple}]}})({[`&.${nh.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),$re=he(m4,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${de(n.variant)}`],n.open&&e.iconOpen]}})({}),Lre=he("input",{shouldForwardProp:t=>G5(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function ZA(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Fre(t){return t==null||typeof t=="string"&&!t.trim()}const Bre=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${de(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return at(a,y4,e)},Vre=v.forwardRef(function(e,n){var Yr;const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:s,children:a,className:l,defaultOpen:c,defaultValue:u,disabled:f,displayEmpty:h,error:p=!1,IconComponent:m,inputRef:x,labelId:S,MenuProps:b={},multiple:w,name:g,onBlur:C,onChange:N,onClose:M,onFocus:E,onOpen:I,open:k,readOnly:_,renderValue:O,required:$,SelectDisplayProps:A={},tabIndex:Q,type:W,value:q,variant:ie="standard",...K}=e,[j,G]=Gh({controlled:q,default:u,name:"Select"}),[oe,re]=Gh({controlled:k,default:c,name:"Select"}),ge=v.useRef(null),Ae=v.useRef(null),[xe,fe]=v.useState(null),{current:be}=v.useRef(k!=null),[Fe,Be]=v.useState(),Ee=Tr(n,x),Ve=v.useCallback(Pe=>{Ae.current=Pe,Pe&&fe(Pe)},[]),De=xe==null?void 0:xe.parentNode;v.useImperativeHandle(Ee,()=>({focus:()=>{Ae.current.focus()},node:ge.current,value:j}),[j]),v.useEffect(()=>{c&&oe&&xe&&!be&&(Be(s?null:De.clientWidth),Ae.current.focus())},[xe,s]),v.useEffect(()=>{o&&Ae.current.focus()},[o]),v.useEffect(()=>{if(!S)return;const Pe=ki(Ae.current).getElementById(S);if(Pe){const ct=()=>{getSelection().isCollapsed&&Ae.current.focus()};return Pe.addEventListener("click",ct),()=>{Pe.removeEventListener("click",ct)}}},[S]);const Ye=(Pe,ct)=>{Pe?I&&I(ct):M&&M(ct),be||(Be(s?null:De.clientWidth),re(Pe))},We=Pe=>{Pe.button===0&&(Pe.preventDefault(),Ae.current.focus(),Ye(!0,Pe))},Ue=Pe=>{Ye(!1,Pe)},Bt=v.Children.toArray(a),se=Pe=>{const ct=Bt.find(St=>St.props.value===Pe.target.value);ct!==void 0&&(G(ct.props.value),N&&N(Pe,ct))},pt=Pe=>ct=>{let St;if(ct.currentTarget.hasAttribute("tabindex")){if(w){St=Array.isArray(j)?j.slice():[];const En=j.indexOf(Pe.props.value);En===-1?St.push(Pe.props.value):St.splice(En,1)}else St=Pe.props.value;if(Pe.props.onClick&&Pe.props.onClick(ct),j!==St&&(G(St),N)){const En=ct.nativeEvent||ct,hr=new En.constructor(En.type,En);Object.defineProperty(hr,"target",{writable:!0,value:{value:St,name:g}}),N(hr,Pe)}w||Ye(!1,ct)}},ze=Pe=>{_||[" ","ArrowUp","ArrowDown","Enter"].includes(Pe.key)&&(Pe.preventDefault(),Ye(!0,Pe))},lt=xe!==null&&oe,it=Pe=>{!lt&&C&&(Object.defineProperty(Pe,"target",{writable:!0,value:{value:j,name:g}}),C(Pe))};delete K["aria-invalid"];let Me,ln;const _t=[];let zn=!1;(Bv({value:j})||h)&&(O?Me=O(j):zn=!0);const Ut=Bt.map(Pe=>{if(!v.isValidElement(Pe))return null;let ct;if(w){if(!Array.isArray(j))throw new Error(ma(2));ct=j.some(St=>ZA(St,Pe.props.value)),ct&&zn&&_t.push(Pe.props.children)}else ct=ZA(j,Pe.props.value),ct&&zn&&(ln=Pe.props.children);return v.cloneElement(Pe,{"aria-selected":ct?"true":"false",onClick:pt(Pe),onKeyUp:St=>{St.key===" "&&St.preventDefault(),Pe.props.onKeyUp&&Pe.props.onKeyUp(St)},role:"option",selected:ct,value:void 0,"data-value":Pe.props.value})});zn&&(w?_t.length===0?Me=null:Me=_t.reduce((Pe,ct,St)=>(Pe.push(ct),St<_t.length-1&&Pe.push(", "),Pe),[]):Me=ln);let Nt=Fe;!s&&be&&xe&&(Nt=De.clientWidth);let Ht;typeof Q<"u"?Ht=Q:Ht=f?null:0;const Qt=A.id||(g?`mui-component-select-${g}`:void 0),dt={...e,variant:ie,value:j,open:lt,error:p},Je=Bre(dt),cn={...b.PaperProps,...(Yr=b.slotProps)==null?void 0:Yr.paper},Wn=lf();return P.jsxs(v.Fragment,{children:[P.jsx(Dre,{as:"div",ref:Ve,tabIndex:Ht,role:"combobox","aria-controls":lt?Wn:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":lt?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[S,Qt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":$?"true":void 0,"aria-invalid":p?"true":void 0,onKeyDown:ze,onMouseDown:f||_?null:We,onBlur:it,onFocus:E,...A,ownerState:dt,className:Te(A.className,Je.select,l),id:Qt,children:Fre(Me)?JA||(JA=P.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Me}),P.jsx(Lre,{"aria-invalid":p,value:Array.isArray(j)?j.join(","):j,name:g,ref:ge,"aria-hidden":!0,onChange:se,tabIndex:-1,disabled:f,className:Je.nativeInput,autoFocus:o,required:$,...K,ownerState:dt}),P.jsx($re,{as:m,className:Je.icon,ownerState:dt}),P.jsx(vre,{id:`menu-${g||""}`,anchorEl:De,open:lt,onClose:Ue,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...b,slotProps:{...b.slotProps,list:{"aria-labelledby":S,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:Wn,...b.MenuListProps},paper:{...cn,style:{minWidth:Nt,...cn!=null?cn.style:null}}},children:Ut})]})}),jre=t=>{const{classes:e}=t,r=at({root:["root"]},y4,e);return{...e,...r}},cT={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Ao(t)&&t!=="variant",slot:"Root"},Ure=he(oT,cT)(""),zre=he(lT,cT)(""),Wre=he(rT,cT)(""),z_=v.forwardRef(function(e,n){const r=ut({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=l4,id:f,input:h,inputProps:p,label:m,labelId:x,MenuProps:S,multiple:b=!1,native:w=!1,onClose:g,onOpen:C,open:N,renderValue:M,SelectDisplayProps:E,variant:I="outlined",...k}=r,_=w?Ire:Vre,O=ff(),$=df({props:r,muiFormControl:O,states:["variant","error"]}),A=$.variant||I,Q={...r,variant:A,classes:s},W=jre(Q),{root:q,...ie}=W,K=h||{standard:P.jsx(Ure,{ownerState:Q}),outlined:P.jsx(zre,{label:m,ownerState:Q}),filled:P.jsx(Wre,{ownerState:Q})}[A],j=Tr(n,Cg(K));return P.jsx(v.Fragment,{children:v.cloneElement(K,{inputComponent:_,inputProps:{children:o,error:$.error,IconComponent:u,variant:A,type:void 0,multiple:b,...w?{id:f}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:x,MenuProps:S,onClose:g,onOpen:C,open:N,renderValue:M,SelectDisplayProps:{id:f,...E}},...p,classes:p?Cr(ie,p.classes):ie,...h?h.props.inputProps:{}},...(b&&w||c)&&A==="outlined"?{notched:!0}:{},ref:j,className:Te(K.props.className,a,W.root),...!h&&{variant:A},...k})})});z_.muiName="Select";const Hre=ZQ({createStyledComponent:he("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>ut({props:t,name:"MuiStack"})});function Gre(t){return st("MuiTab",t)}const uo=rt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),Kre=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:i,icon:o,label:s,selected:a,disabled:l}=t,c={root:["root",o&&s&&"labelIcon",`textColor${de(n)}`,r&&"fullWidth",i&&"wrapped",a&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]};return at(c,Gre,e)},qre=he(Tl,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${de(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped,{[`& .${uo.iconWrapper}`]:e.iconWrapper},{[`& .${uo.icon}`]:e.icon}]}})(Et(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="top",style:{[`& > .${uo.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="bottom",style:{[`& > .${uo.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="start",style:{[`& > .${uo.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="end",style:{[`& > .${uo.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${uo.selected}`]:{opacity:1},[`&.${uo.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${uo.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${uo.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${uo.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${uo.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),e2=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:s=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:u,label:f,onChange:h,onClick:p,onFocus:m,selected:x,selectionFollowsFocus:S,textColor:b="inherit",value:w,wrapped:g=!1,...C}=r,N={...r,disabled:o,disableFocusRipple:s,selected:x,icon:!!l,iconPosition:c,label:!!f,fullWidth:a,textColor:b,wrapped:g},M=Kre(N),E=l&&f&&v.isValidElement(l)?v.cloneElement(l,{className:Te(M.icon,l.props.className)}):l,I=_=>{!x&&h&&h(_,w),p&&p(_)},k=_=>{S&&!x&&h&&h(_,w),m&&m(_)};return P.jsxs(qre,{focusRipple:!s,className:Te(M.root,i),ref:n,role:"tab","aria-selected":x,disabled:o,onClick:I,onFocus:k,ownerState:N,tabIndex:x?0:-1,...C,children:[c==="top"||c==="start"?P.jsxs(v.Fragment,{children:[E,f]}):P.jsxs(v.Fragment,{children:[f,E]}),u]})}),Yre=ir(P.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),Xre=ir(P.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function Qre(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function Jre(t,e,n,r={},i=()=>{}){const{ease:o=Qre,duration:s=300}=r;let a=null;const l=e[t];let c=!1;const u=()=>{c=!0},f=h=>{if(c){i(new Error("Animation cancelled"));return}a===null&&(a=h);const p=Math.min(1,(h-a)/s);if(e[t]=o(p)*(n-l)+l,p>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(f)};return l===n?(i(new Error("Element already at target position")),u):(requestAnimationFrame(f),u)}const Zre={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function eie(t){const{onChange:e,...n}=t,r=v.useRef(),i=v.useRef(null),o=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return Co(()=>{const s=D_(()=>{const l=r.current;o(),l!==r.current&&e(r.current)}),a=ns(i.current);return a.addEventListener("resize",s),()=>{s.clear(),a.removeEventListener("resize",s)}},[e]),v.useEffect(()=>{o(),e(r.current)},[e]),P.jsx("div",{style:Zre,...n,ref:i})}function tie(t){return st("MuiTabScrollButton",t)}const nie=rt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),rie=t=>{const{classes:e,orientation:n,disabled:r}=t;return at({root:["root",n,r&&"disabled"]},tie,e)},iie=he(Tl,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${nie.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),oie=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiTabScrollButton"}),{className:i,slots:o={},slotProps:s={},direction:a,orientation:l,disabled:c,...u}=r,f=$_(),h={isRtl:f,...r},p=rie(h),m=o.StartScrollButtonIcon??Yre,x=o.EndScrollButtonIcon??Xre,S=Fd({elementType:m,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h}),b=Fd({elementType:x,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h});return P.jsx(iie,{component:"div",className:Te(p.root,i),ref:n,role:null,ownerState:h,tabIndex:null,...u,style:{...u.style,...l==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${f?-90:90}deg)`}},children:a==="left"?P.jsx(m,{...S}):P.jsx(x,{...b})})});function sie(t){return st("MuiTabs",t)}const Sw=rt("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),t2=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,n2=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,qm=(t,e,n)=>{let r=!1,i=n(t,e);for(;i;){if(i===t.firstChild){if(r)return;r=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=n(t,i);else{i.focus();return}}},aie=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:s,scrollButtonsHideMobile:a,classes:l}=t;return at({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},sie,l)},lie=he("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Sw.scrollButtons}`]:e.scrollButtons},{[`& .${Sw.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(Et(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${Sw.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),cie=he("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),uie=he("div",{name:"MuiTabs",slot:"List",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.list,e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),die=he("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(Et(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),fie=he(eie)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),r2={},hie=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiTabs"}),i=Uc(),o=$_(),{"aria-label":s,"aria-labelledby":a,action:l,centered:c=!1,children:u,className:f,component:h="div",allowScrollButtonsMobile:p=!1,indicatorColor:m="primary",onChange:x,orientation:S="horizontal",ScrollButtonComponent:b,scrollButtons:w="auto",selectionFollowsFocus:g,slots:C={},slotProps:N={},TabIndicatorProps:M={},TabScrollButtonProps:E={},textColor:I="primary",value:k,variant:_="standard",visibleScrollbar:O=!1,...$}=r,A=_==="scrollable",Q=S==="vertical",W=Q?"scrollTop":"scrollLeft",q=Q?"top":"left",ie=Q?"bottom":"right",K=Q?"clientHeight":"clientWidth",j=Q?"height":"width",G={...r,component:h,allowScrollButtonsMobile:p,indicatorColor:m,orientation:S,vertical:Q,scrollButtons:w,textColor:I,variant:_,visibleScrollbar:O,fixed:!A,hideScrollbar:A&&!O,scrollableX:A&&!Q,scrollableY:A&&Q,centered:c&&!A,scrollButtonsHideMobile:!p},oe=aie(G),re=Fd({elementType:C.StartScrollButtonIcon,externalSlotProps:N.startScrollButtonIcon,ownerState:G}),ge=Fd({elementType:C.EndScrollButtonIcon,externalSlotProps:N.endScrollButtonIcon,ownerState:G}),[Ae,xe]=v.useState(!1),[fe,be]=v.useState(r2),[Fe,Be]=v.useState(!1),[Ee,Ve]=v.useState(!1),[De,Ye]=v.useState(!1),[We,Ue]=v.useState({overflow:"hidden",scrollbarWidth:0}),Bt=new Map,se=v.useRef(null),pt=v.useRef(null),ze={slots:C,slotProps:{indicator:M,scrollButton:E,...N}},lt=()=>{const Ce=se.current;let _e;if(Ce){const et=Ce.getBoundingClientRect();_e={clientWidth:Ce.clientWidth,scrollLeft:Ce.scrollLeft,scrollTop:Ce.scrollTop,scrollWidth:Ce.scrollWidth,top:et.top,bottom:et.bottom,left:et.left,right:et.right}}let Ze;if(Ce&&k!==!1){const et=pt.current.children;if(et.length>0){const bt=et[Bt.get(k)];Ze=bt?bt.getBoundingClientRect():null}}return{tabsMeta:_e,tabMeta:Ze}},it=bi(()=>{const{tabsMeta:Ce,tabMeta:_e}=lt();let Ze=0,et;Q?(et="top",_e&&Ce&&(Ze=_e.top-Ce.top+Ce.scrollTop)):(et=o?"right":"left",_e&&Ce&&(Ze=(o?-1:1)*(_e[et]-Ce[et]+Ce.scrollLeft)));const bt={[et]:Ze,[j]:_e?_e[j]:0};if(typeof fe[et]!="number"||typeof fe[j]!="number")be(bt);else{const or=Math.abs(fe[et]-bt[et]),di=Math.abs(fe[j]-bt[j]);(or>=1||di>=1)&&be(bt)}}),Me=(Ce,{animation:_e=!0}={})=>{_e?Jre(W,se.current,Ce,{duration:i.transitions.duration.standard}):se.current[W]=Ce},ln=Ce=>{let _e=se.current[W];Q?_e+=Ce:_e+=Ce*(o?-1:1),Me(_e)},_t=()=>{const Ce=se.current[K];let _e=0;const Ze=Array.from(pt.current.children);for(let et=0;et<Ze.length;et+=1){const bt=Ze[et];if(_e+bt[K]>Ce){et===0&&(_e=Ce);break}_e+=bt[K]}return _e},zn=()=>{ln(-1*_t())},Ut=()=>{ln(_t())},[Nt,{onChange:Ht,...Qt}]=en("scrollbar",{className:Te(oe.scrollableX,oe.hideScrollbar),elementType:fie,shouldForwardComponentProp:!0,externalForwardedProps:ze,ownerState:G}),dt=v.useCallback(Ce=>{Ht==null||Ht(Ce),Ue({overflow:null,scrollbarWidth:Ce})},[Ht]),[Je,cn]=en("scrollButtons",{className:Te(oe.scrollButtons,E.className),elementType:oie,externalForwardedProps:ze,ownerState:G,additionalProps:{orientation:S,slots:{StartScrollButtonIcon:C.startScrollButtonIcon||C.StartScrollButtonIcon,EndScrollButtonIcon:C.endScrollButtonIcon||C.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:re,endScrollButtonIcon:ge}}}),Wn=()=>{const Ce={};Ce.scrollbarSizeListener=A?P.jsx(Nt,{...Qt,onChange:dt}):null;const Ze=A&&(w==="auto"&&(Fe||Ee)||w===!0);return Ce.scrollButtonStart=Ze?P.jsx(Je,{direction:o?"right":"left",onClick:zn,disabled:!Fe,...cn}):null,Ce.scrollButtonEnd=Ze?P.jsx(Je,{direction:o?"left":"right",onClick:Ut,disabled:!Ee,...cn}):null,Ce},Yr=bi(Ce=>{const{tabsMeta:_e,tabMeta:Ze}=lt();if(!(!Ze||!_e)){if(Ze[q]<_e[q]){const et=_e[W]+(Ze[q]-_e[q]);Me(et,{animation:Ce})}else if(Ze[ie]>_e[ie]){const et=_e[W]+(Ze[ie]-_e[ie]);Me(et,{animation:Ce})}}}),Pe=bi(()=>{A&&w!==!1&&Ye(!De)});v.useEffect(()=>{const Ce=D_(()=>{se.current&&it()});let _e;const Ze=or=>{or.forEach(di=>{di.removedNodes.forEach(Rr=>{_e==null||_e.unobserve(Rr)}),di.addedNodes.forEach(Rr=>{_e==null||_e.observe(Rr)})}),Ce(),Pe()},et=ns(se.current);et.addEventListener("resize",Ce);let bt;return typeof ResizeObserver<"u"&&(_e=new ResizeObserver(Ce),Array.from(pt.current.children).forEach(or=>{_e.observe(or)})),typeof MutationObserver<"u"&&(bt=new MutationObserver(Ze),bt.observe(pt.current,{childList:!0})),()=>{Ce.clear(),et.removeEventListener("resize",Ce),bt==null||bt.disconnect(),_e==null||_e.disconnect()}},[it,Pe]),v.useEffect(()=>{const Ce=Array.from(pt.current.children),_e=Ce.length;if(typeof IntersectionObserver<"u"&&_e>0&&A&&w!==!1){const Ze=Ce[0],et=Ce[_e-1],bt={root:se.current,threshold:.99},or=gn=>{Be(!gn[0].isIntersecting)},di=new IntersectionObserver(or,bt);di.observe(Ze);const Rr=gn=>{Ve(!gn[0].isIntersecting)},Dr=new IntersectionObserver(Rr,bt);return Dr.observe(et),()=>{di.disconnect(),Dr.disconnect()}}},[A,w,De,u==null?void 0:u.length]),v.useEffect(()=>{xe(!0)},[]),v.useEffect(()=>{it()}),v.useEffect(()=>{Yr(r2!==fe)},[Yr,fe]),v.useImperativeHandle(l,()=>({updateIndicator:it,updateScrollButtons:Pe}),[it,Pe]);const[ct,St]=en("indicator",{className:Te(oe.indicator,M.className),elementType:die,externalForwardedProps:ze,ownerState:G,additionalProps:{style:fe}}),En=P.jsx(ct,{...St});let hr=0;const Yn=v.Children.map(u,Ce=>{if(!v.isValidElement(Ce))return null;const _e=Ce.props.value===void 0?hr:Ce.props.value;Bt.set(_e,hr);const Ze=_e===k;return hr+=1,v.cloneElement(Ce,{fullWidth:_==="fullWidth",indicator:Ze&&!Ae&&En,selected:Ze,selectionFollowsFocus:g,onChange:x,textColor:I,value:_e,...hr===1&&k===!1&&!Ce.props.tabIndex?{tabIndex:0}:{}})}),pr=Ce=>{if(Ce.altKey||Ce.shiftKey||Ce.ctrlKey||Ce.metaKey)return;const _e=pt.current,Ze=ki(_e).activeElement;if(Ze.getAttribute("role")!=="tab")return;let bt=S==="horizontal"?"ArrowLeft":"ArrowUp",or=S==="horizontal"?"ArrowRight":"ArrowDown";switch(S==="horizontal"&&o&&(bt="ArrowRight",or="ArrowLeft"),Ce.key){case bt:Ce.preventDefault(),qm(_e,Ze,n2);break;case or:Ce.preventDefault(),qm(_e,Ze,t2);break;case"Home":Ce.preventDefault(),qm(_e,null,t2);break;case"End":Ce.preventDefault(),qm(_e,null,n2);break}},gr=Wn(),[Xr,Sn]=en("root",{ref:n,className:Te(oe.root,f),elementType:lie,externalForwardedProps:{...ze,...$,component:h},ownerState:G}),[Ct,Mi]=en("scroller",{ref:se,className:oe.scroller,elementType:cie,externalForwardedProps:ze,ownerState:G,additionalProps:{style:{overflow:We.overflow,[Q?`margin${o?"Left":"Right"}`:"marginBottom"]:O?void 0:-We.scrollbarWidth}}}),[Di,so]=en("list",{ref:pt,className:Te(oe.list,oe.flexContainer),elementType:uie,externalForwardedProps:ze,ownerState:G,getSlotProps:Ce=>({...Ce,onKeyDown:_e=>{var Ze;pr(_e),(Ze=Ce.onKeyDown)==null||Ze.call(Ce,_e)}})});return P.jsxs(Xr,{...Sn,children:[gr.scrollButtonStart,gr.scrollbarSizeListener,P.jsxs(Ct,{...Mi,children:[P.jsx(Di,{"aria-label":s,"aria-labelledby":a,"aria-orientation":S==="vertical"?"vertical":null,role:"tablist",...so,children:Yn}),Ae&&En]}),gr.scrollButtonEnd]})});function pie(t){return st("MuiTextField",t)}rt("MuiTextField",["root"]);const gie={standard:oT,filled:rT,outlined:lT},mie=t=>{const{classes:e}=t;return at({root:["root"]},pie,e)},yie=he(iT,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),hl=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:f=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:m,id:x,InputLabelProps:S,inputProps:b,InputProps:w,inputRef:g,label:C,maxRows:N,minRows:M,multiline:E=!1,name:I,onBlur:k,onChange:_,onFocus:O,placeholder:$,required:A=!1,rows:Q,select:W=!1,SelectProps:q,slots:ie={},slotProps:K={},type:j,value:G,variant:oe="outlined",...re}=r,ge={...r,autoFocus:o,color:l,disabled:u,error:f,fullWidth:p,multiline:E,required:A,select:W,variant:oe},Ae=mie(ge),xe=lf(x),fe=m&&xe?`${xe}-helper-text`:void 0,be=C&&xe?`${xe}-label`:void 0,Fe=gie[oe],Be={slots:ie,slotProps:{input:w,inputLabel:S,htmlInput:b,formHelperText:h,select:q,...K}},Ee={},Ve=Be.slotProps.inputLabel;oe==="outlined"&&(Ve&&typeof Ve.shrink<"u"&&(Ee.notched=Ve.shrink),Ee.label=C),W&&((!q||!q.native)&&(Ee.id=void 0),Ee["aria-describedby"]=void 0);const[De,Ye]=en("root",{elementType:yie,shouldForwardComponentProp:!0,externalForwardedProps:{...Be,...re},ownerState:ge,className:Te(Ae.root,a),ref:n,additionalProps:{disabled:u,error:f,fullWidth:p,required:A,color:l,variant:oe}}),[We,Ue]=en("input",{elementType:Fe,externalForwardedProps:Be,additionalProps:Ee,ownerState:ge}),[Bt,se]=en("inputLabel",{elementType:sT,externalForwardedProps:Be,ownerState:ge}),[pt,ze]=en("htmlInput",{elementType:"input",externalForwardedProps:Be,ownerState:ge}),[lt,it]=en("formHelperText",{elementType:zne,externalForwardedProps:Be,ownerState:ge}),[Me,ln]=en("select",{elementType:z_,externalForwardedProps:Be,ownerState:ge}),_t=P.jsx(We,{"aria-describedby":fe,autoComplete:i,autoFocus:o,defaultValue:c,fullWidth:p,multiline:E,name:I,rows:Q,maxRows:N,minRows:M,type:j,value:G,id:xe,inputRef:g,onBlur:k,onChange:_,onFocus:O,placeholder:$,inputProps:ze,slots:{input:ie.htmlInput?pt:void 0},...Ue});return P.jsxs(De,{...Ye,children:[C!=null&&C!==""&&P.jsx(Bt,{htmlFor:xe,id:be,...se,children:C}),W?P.jsx(Me,{"aria-describedby":fe,id:xe,labelId:be,value:G,input:_t,...ln,children:s}):_t,m&&P.jsx(lt,{id:fe,...it,children:m})]})});function vie(t){return st("MuiToggleButton",t)}const uc=rt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),v4=v.createContext({}),_4=v.createContext(void 0);function _ie(t,e){return e===void 0||t===void 0?!1:Array.isArray(e)?e.includes(t):t===e}const bie=t=>{const{classes:e,fullWidth:n,selected:r,disabled:i,size:o,color:s}=t,a={root:["root",r&&"selected",i&&"disabled",n&&"fullWidth",`size${de(o)}`,s]};return at(a,vie,e)},wie=he(Tl,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`size${de(n.size)}`]]}})(Et(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${uc.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Lt(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${uc.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:Lt(t.palette.text.primary,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Lt(t.palette.text.primary,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:Lt(t.palette.text.primary,t.palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(wi()).map(([e])=>({props:{color:e},style:{[`&.${uc.selected}`]:{color:(t.vars||t).palette[e].main,backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Lt(t.palette[e].main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Lt(t.palette[e].main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Lt(t.palette[e].main,t.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),Ks=v.forwardRef(function(e,n){const{value:r,...i}=v.useContext(v4),o=v.useContext(_4),s=Ld({...i,selected:_ie(e.value,r)},e),a=ut({props:s,name:"MuiToggleButton"}),{children:l,className:c,color:u="standard",disabled:f=!1,disableFocusRipple:h=!1,fullWidth:p=!1,onChange:m,onClick:x,selected:S,size:b="medium",value:w,...g}=a,C={...a,color:u,disabled:f,disableFocusRipple:h,fullWidth:p,size:b},N=bie(C),M=I=>{x&&(x(I,w),I.defaultPrevented)||m&&m(I,w)},E=o||"";return P.jsx(wie,{className:Te(i.className,N.root,c,E),disabled:f,focusRipple:!h,ref:n,onClick:M,onChange:m,value:w,ownerState:C,"aria-pressed":S,...g,children:l})});function xie(t){return st("MuiToggleButtonGroup",t)}const mn=rt("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),Eie=t=>{const{classes:e,orientation:n,fullWidth:r,disabled:i}=t,o={root:["root",n,r&&"fullWidth"],grouped:["grouped",`grouped${de(n)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return at(o,xie,e)},Sie=he("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${mn.grouped}`]:e.grouped},{[`& .${mn.grouped}`]:e[`grouped${de(n.orientation)}`]},{[`& .${mn.firstButton}`]:e.firstButton},{[`& .${mn.lastButton}`]:e.lastButton},{[`& .${mn.middleButton}`]:e.middleButton},e.root,n.orientation==="vertical"&&e.vertical,n.fullWidth&&e.fullWidth]}})(Et(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${mn.grouped}`]:{[`&.${mn.selected} + .${mn.grouped}.${mn.selected}`]:{borderTop:0,marginTop:0}},[`& .${mn.firstButton},& .${mn.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${mn.lastButton},& .${mn.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${mn.lastButton}.${uc.disabled},& .${mn.middleButton}.${uc.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${mn.grouped}`]:{[`&.${mn.selected} + .${mn.grouped}.${mn.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${mn.firstButton},& .${mn.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${mn.lastButton},& .${mn.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${mn.lastButton}.${uc.disabled},& .${mn.middleButton}.${uc.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),jE=v.forwardRef(function(e,n){const r=ut({props:e,name:"MuiToggleButtonGroup"}),{children:i,className:o,color:s="standard",disabled:a=!1,exclusive:l=!1,fullWidth:c=!1,onChange:u,orientation:f="horizontal",size:h="medium",value:p,...m}=r,x={...r,disabled:a,fullWidth:c,orientation:f,size:h},S=Eie(x),b=v.useCallback((E,I)=>{if(!u)return;const k=p&&p.indexOf(I);let _;p&&k>=0?(_=p.slice(),_.splice(k,1)):_=p?p.concat(I):[I],u(E,_)},[u,p]),w=v.useCallback((E,I)=>{u&&u(E,p===I?null:I)},[u,p]),g=v.useMemo(()=>({className:S.grouped,onChange:l?w:b,value:p,size:h,fullWidth:c,color:s,disabled:a}),[S.grouped,l,w,b,p,h,c,s,a]),C=pQ(i),N=C.length,M=E=>{const I=E===0,k=E===N-1;return I&&k?"":I?S.firstButton:k?S.lastButton:S.middleButton};return P.jsx(Sie,{role:"group",className:Te(S.root,o),ref:n,ownerState:x,...m,children:P.jsx(v4.Provider,{value:g,children:C.map((E,I)=>P.jsx(_4.Provider,{value:M(I),children:E},I))})})}),Cie=A5({themeId:vg}),Tie=()=>{const[t,e]=v.useState(0),[n,r]=v.useState(""),[i,o]=v.useState(""),[s,a]=v.useState(""),l=I0(),c=(h,p)=>{e(p),a("")},u=async h=>{h.preventDefault(),a("");try{t===0?await QW(mc,n,i):await XW(mc,n,i),l("/dashboard")}catch(p){a(p.message)}},f=async()=>{const h=new qs;try{await bH(mc,h),l("/dashboard")}catch(p){a(p.message)}};return P.jsx(Jte,{maxWidth:"sm",sx:{backgroundColor:"#121212",minHeight:"100vh",width:"100%",display:"flex",alignItems:"center"},children:P.jsxs(vc,{sx:{mt:8,p:4,backgroundColor:"#424242",borderRadius:2,boxShadow:3,color:"#fff"},children:[P.jsxs(hie,{value:t,onChange:c,variant:"fullWidth",textColor:"inherit",indicatorColor:"primary",children:[P.jsx(e2,{label:"Login"}),P.jsx(e2,{label:"Signup"})]}),P.jsxs("form",{onSubmit:u,children:[P.jsx(hl,{margin:"normal",fullWidth:!0,label:"Email",type:"email",value:n,onChange:h=>r(h.target.value),required:!0,variant:"filled",InputLabelProps:{style:{color:"#fff"}},InputProps:{style:{backgroundColor:"#333",color:"#fff"}}}),P.jsx(hl,{margin:"normal",fullWidth:!0,label:"Password",type:"password",value:i,onChange:h=>o(h.target.value),required:!0,variant:"filled",InputLabelProps:{style:{color:"#fff"}},InputProps:{style:{backgroundColor:"#333",color:"#fff"}}}),s&&P.jsx(Pn,{color:"error",variant:"body2",children:s}),P.jsx(Zt,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:2,backgroundColor:"#1976d2"},children:t===0?"Login":"Signup"})]}),P.jsxs(vc,{textAlign:"center",sx:{mt:2},children:[P.jsx(Pn,{variant:"body1",children:"or"}),P.jsx(Zt,{variant:"outlined",onClick:f,sx:{mt:1,color:"#fff",borderColor:"#fff"},children:"Sign in with Google"})]})]})})},Iie=ir(P.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),Rie=ir(P.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),Pie=ir(P.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"})),kie={blank:[],brainstorm:[{text:"Idea 1",x:150,y:150},{text:"Idea 2",x:300,y:150},{text:"Idea 3",x:150,y:300}],project:[{text:"Goal",x:150,y:100},{text:"Task 1",x:100,y:200},{text:"Task 2",x:200,y:200}]},Aie=()=>{const[t,e]=v.useState([]),[n,r]=v.useState(null),[i,o]=v.useState(!1),[s,a]=v.useState(!1),[l,c]=v.useState(!1),[u,f]=v.useState(""),[h,p]=v.useState("blank"),[m,x]=v.useState(!1),[S,b]=v.useState(null),[w,g]=v.useState(""),C=I0(),N=v.useRef(null),M=Uc(),E=Cie(M.breakpoints.down("sm"));v.useEffect(()=>{const j=mc.onAuthStateChanged(G=>{if(!G){C("/");return}const oe=Ur(ft(ve,"mindMaps"),Bi("userId","==",G.uid)),re=Ur(ft(ve,"mindMaps"),Bi("collaborators","array-contains",G.email)),ge=zh(oe,xe=>{const fe=xe.docs.map(be=>({id:be.id,...be.data()}));e(be=>[...fe,...be.filter(Be=>Be.userId!==G.uid)])}),Ae=zh(re,xe=>{const fe=xe.docs.map(be=>({id:be.id,...be.data()}));e(be=>[...be,...fe].filter((Ee,Ve,De)=>Ve===De.findIndex(Ye=>Ye.id===Ee.id)))});return()=>{ge(),Ae()}});return()=>j()},[C]);const I=()=>{c(!0)},k=async()=>{const j=mc.currentUser;if(j)try{const G=await yr(ft(ve,"mindMaps"),{title:u||"Untitled Mind Map",userId:j.uid,createdAt:Ba()}),oe=kie[h];for(const re of oe)await yr(ft(ve,"mindMaps",G.id,"nodes"),re);c(!1),f(""),p("blank"),C(`/editor/${G.id}`)}catch(G){console.error("Error creating mind map:",G)}},_=j=>{r(j),o(!0)},O=()=>{o(!1),a(!0)},$=async()=>{try{const j=await Vi(ft(ve,"mindMaps",n,"nodes")),G=vr(ve);j.forEach(ge=>{G.delete(ge.ref)}),await G.commit();const oe=await Vi(ft(ve,"mindMaps",n,"links")),re=vr(ve);oe.forEach(ge=>{re.delete(ge.ref)}),await re.commit(),await AF(qt(ve,"mindMaps",n)),a(!1),r(null)}catch(j){console.error("Error deleting mind map:",j)}},A=()=>{o(!1),a(!1),r(null)},Q=j=>{b(j),x(!0)},W=async()=>{if(!(!w.trim()||!S))try{const j=qt(ve,"mindMaps",S);await Tu(j,{collaborators:bK(w.trim())}),g(""),x(!1),b(null)}catch(j){console.error("Error sharing mind map:",j)}},q=j=>{C(`/editor/${j}`)},ie=()=>{N.current&&N.current.click()},K=async j=>{const G=j.target.files[0];if(G)try{const oe=await G.text(),re=JSON.parse(oe);if(!re.nodes||!re.links)throw new Error("Invalid file format");const ge=mc.currentUser,Ae=await yr(ft(ve,"mindMaps"),{title:G.name,userId:ge.uid,createdAt:Ba()}),xe={},fe=vr(ve);re.nodes.forEach(Fe=>{const Be=Fe.id,Ee=qt(ft(ve,"mindMaps",Ae.id,"nodes")),Ve={...Fe,id:Ee.id};fe.set(Ee,Ve),xe[Be]=Ee.id}),await fe.commit();const be=vr(ve);re.links.forEach(Fe=>{const Be=xe[Fe.source],Ee=xe[Fe.target];if(!Be||!Ee){console.error("Skipping link: missing mapping for source or target");return}const{id:Ve,...De}=Fe,Ye=qt(ft(ve,"mindMaps",Ae.id,"links"));be.set(Ye,{...De,source:Be,target:Ee})}),await be.commit(),C(`/editor/${Ae.id}`)}catch(oe){console.error("Error importing mind map:",oe)}};return P.jsxs(vc,{sx:{p:E?1:3,background:"radial-gradient(circle at center, #1D2022 0%, #0f1011 100%)",minHeight:"100vh",color:"#fff",border:E?"none":"5px solid #262626",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[P.jsxs(vc,{sx:{mb:E?1:3,display:"flex",flexDirection:E?"column":"row",alignItems:E?"stretch":"center",width:E?"100%":"auto"},children:[P.jsx(Zt,{variant:"contained",startIcon:P.jsx(Rie,{}),onClick:I,sx:{mr:E?0:2,mb:E?1:0,width:E?"100%":"auto",background:"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)"},children:"New Mind Map"}),P.jsx(Zt,{variant:"contained",onClick:ie,sx:{mr:E?0:1,mb:E?1:0,width:E?"100%":"auto",background:"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)"},children:"Import Mind Map"})]}),P.jsx(WA,{container:!0,spacing:E?1:2,sx:{mt:E?1:2,mb:E?1:3,width:"100%"},justifyContent:E?"center":"flex-start",children:t.map(j=>P.jsx(WA,{item:!0,xs:12,sm:6,md:4,lg:3,sx:{display:"flex",justifyContent:E?"center":"flex-start"},children:P.jsxs(zte,{sx:{background:"linear-gradient(135deg, #23272f 60%, #23272f 100%)",color:"#fff",p:E?1:2,borderRadius:"14px",border:"none",boxShadow:E?"0 1px 4px 1px rgba(0,0,0,0.3)":"0 2px 8px 2px rgba(0,0,0,0.5)",transition:"transform 0.3s, box-shadow 0.2s, border 0.3s",height:E?"auto":"120px",width:E?"100%":"260px",maxWidth:"100%",minWidth:E?"0":"200px",display:"flex",flexDirection:"column",justifyContent:"space-between","&:hover":{border:"2px solid #007bff",transform:E?"none":"translateY(-4px) scale(1.02)",boxShadow:E?"0 2px 8px 2px rgba(0,0,0,0.4)":"0 4px 16px 4px rgba(0,0,0,0.7)"}},children:[P.jsx(Qte,{onClick:()=>q(j.id),sx:{cursor:"pointer",p:E?1:2,pb:"8px !important",textAlign:E?"center":"left",display:"flex",alignItems:"flex-start",minHeight:E?"auto":"50px"},children:P.jsx(Pn,{variant:"h6",sx:{fontWeight:900,fontSize:E?"1.1rem":"1.2rem",wordBreak:"break-word",letterSpacing:"-0.5px",lineHeight:1.2,textShadow:"0 2px 8px #000a"},children:j.title})}),P.jsxs(Kte,{sx:{border:"0px solid white",color:"#fff",borderRadius:"10%",justifyContent:E?"center":"flex-end",p:E?.5:1,pt:0,gap:E?1:2},children:[P.jsx(Lv,{onClick:()=>Q(j.id),color:"primary",size:E?"small":"medium",sx:{mx:.5},children:P.jsx(Pie,{fontSize:E?"small":"medium"})}),P.jsx(Lv,{onClick:()=>_(j.id),color:"error",size:E?"small":"medium",sx:{mx:.5},children:P.jsx(Iie,{fontSize:E?"small":"medium"})})]})]})},j.id))}),P.jsx("input",{type:"file",accept:"application/json",ref:N,style:{display:"none"},onChange:K}),P.jsxs(zm,{open:l,onClose:()=>c(!1),fullWidth:!0,maxWidth:E?"xs":"sm",PaperProps:{sx:{backgroundColor:"#424242",color:"#fff",borderRadius:E?2:3,p:E?1:2}},children:[P.jsx(Gm,{sx:{fontSize:E?"1.1rem":"1.3rem"},children:"Create New Mind Map"}),P.jsxs(Hm,{children:[P.jsx(hl,{autoFocus:!0,margin:"dense",label:"Mind Map Name",type:"text",fullWidth:!0,value:u,onChange:j=>f(j.target.value),variant:"filled",InputLabelProps:{style:{color:"#fff"}},sx:{backgroundColor:"#555",fontSize:E?"1rem":"1.1rem"}}),P.jsxs(iT,{fullWidth:!0,margin:"dense",variant:"filled",children:[P.jsx(sT,{id:"template-select-label",sx:{color:"#fff"},children:"Template"}),P.jsxs(z_,{labelId:"template-select-label",value:h,label:"Template",onChange:j=>p(j.target.value),sx:{backgroundColor:"#555",color:"#fff"},children:[P.jsx(qa,{value:"blank",children:"Blank"}),P.jsx(qa,{value:"brainstorm",children:"Brainstorm"}),P.jsx(qa,{value:"project",children:"Project"})]})]})]}),P.jsxs(Wm,{sx:{flexDirection:E?"column":"row",gap:E?1:0},children:[P.jsx(Zt,{onClick:()=>c(!1),sx:{color:"#fff",width:E?"100%":"auto"},children:"Cancel"}),P.jsx(Zt,{onClick:k,variant:"contained",sx:{width:E?"100%":"auto"},children:"Create"})]})]}),P.jsxs(zm,{open:i,onClose:A,fullWidth:!0,maxWidth:E?"xs":"sm",PaperProps:{sx:{backgroundColor:"#424242",color:"#fff",borderRadius:E?2:3,p:E?1:2}},children:[P.jsx(Gm,{sx:{fontSize:E?"1.1rem":"1.3rem"},children:"Confirm Delete"}),P.jsx(Hm,{children:P.jsx(Pn,{sx:{fontSize:E?"1rem":"1.1rem"},children:"Are you sure you want to delete this mind map?"})}),P.jsxs(Wm,{sx:{flexDirection:E?"column":"row",gap:E?1:0},children:[P.jsx(Zt,{onClick:A,sx:{color:"#fff",width:E?"100%":"auto"},children:"Cancel"}),P.jsx(Zt,{onClick:O,color:"primary",sx:{width:E?"100%":"auto"},children:"Yes"})]})]}),P.jsxs(zm,{open:s,onClose:A,fullWidth:!0,maxWidth:E?"xs":"sm",PaperProps:{sx:{backgroundColor:"#424242",color:"#fff",borderRadius:E?2:3,p:E?1:2}},children:[P.jsx(Gm,{sx:{fontSize:E?"1.1rem":"1.3rem"},children:"Confirm Delete Again"}),P.jsx(Hm,{children:P.jsx(Pn,{sx:{fontSize:E?"1rem":"1.1rem"},children:"This action cannot be undone. Are you really sure?"})}),P.jsxs(Wm,{sx:{flexDirection:E?"column":"row",gap:E?1:0},children:[P.jsx(Zt,{onClick:A,sx:{color:"#fff",width:E?"100%":"auto"},children:"Cancel"}),P.jsx(Zt,{onClick:$,color:"error",sx:{width:E?"100%":"auto"},children:"Delete"})]})]}),P.jsxs(zm,{open:m,onClose:()=>x(!1),fullWidth:!0,maxWidth:E?"xs":"sm",PaperProps:{sx:{backgroundColor:"#424242",color:"#fff",borderRadius:E?2:3,p:E?1:2}},children:[P.jsx(Gm,{sx:{fontSize:E?"1.1rem":"1.3rem"},children:"Share Mind Map"}),P.jsx(Hm,{children:P.jsx(hl,{label:"Collaborator Email",fullWidth:!0,value:w,onChange:j=>g(j.target.value),variant:"filled",InputLabelProps:{style:{color:"#fff"}},sx:{backgroundColor:"#555",fontSize:E?"1rem":"1.1rem"}})}),P.jsxs(Wm,{sx:{flexDirection:E?"column":"row",gap:E?1:0},children:[P.jsx(Zt,{onClick:()=>x(!1),sx:{color:"#fff",width:E?"100%":"auto"},children:"Cancel"}),P.jsx(Zt,{onClick:W,variant:"contained",sx:{width:E?"100%":"auto"},children:"Share"})]})]})]})};var b4="Expected a function",i2=NaN,Oie="[object Symbol]",Nie=/^\s+|\s+$/g,Mie=/^[-+]0x[0-9a-f]+$/i,Die=/^0b[01]+$/i,$ie=/^0o[0-7]+$/i,Lie=parseInt,Fie=typeof Ya=="object"&&Ya&&Ya.Object===Object&&Ya,Bie=typeof self=="object"&&self&&self.Object===Object&&self,Vie=Fie||Bie||Function("return this")(),jie=Object.prototype,Uie=jie.toString,zie=Math.max,Wie=Math.min,Cw=function(){return Vie.Date.now()};function Hie(t,e,n){var r,i,o,s,a,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(b4);e=o2(e)||0,Vv(n)&&(u=!!n.leading,f="maxWait"in n,o=f?zie(o2(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(M){var E=r,I=i;return r=i=void 0,c=M,s=t.apply(I,E),s}function m(M){return c=M,a=setTimeout(b,e),u?p(M):s}function x(M){var E=M-l,I=M-c,k=e-E;return f?Wie(k,o-I):k}function S(M){var E=M-l,I=M-c;return l===void 0||E>=e||E<0||f&&I>=o}function b(){var M=Cw();if(S(M))return w(M);a=setTimeout(b,x(M))}function w(M){return a=void 0,h&&r?p(M):(r=i=void 0,s)}function g(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function C(){return a===void 0?s:w(Cw())}function N(){var M=Cw(),E=S(M);if(r=arguments,i=this,l=M,E){if(a===void 0)return m(l);if(f)return a=setTimeout(b,e),p(l)}return a===void 0&&(a=setTimeout(b,e)),s}return N.cancel=g,N.flush=C,N}function Gie(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(b4);return Vv(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Hie(t,e,{leading:r,maxWait:e,trailing:i})}function Vv(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Kie(t){return!!t&&typeof t=="object"}function qie(t){return typeof t=="symbol"||Kie(t)&&Uie.call(t)==Oie}function o2(t){if(typeof t=="number")return t;if(qie(t))return i2;if(Vv(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Vv(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Nie,"");var n=Die.test(t);return n||$ie.test(t)?Lie(t.slice(2),n?2:8):Mie.test(t)?i2:+t}var Yie=Gie;const rh=Kp(Yie);var s2={};const a2="@firebase/database",l2="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w4="";function Xie(t){w4=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qie{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),lr(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:wp(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jie{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ba(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Qie(e)}}catch{}return new Jie},dc=x4("localStorage"),Zie=x4("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=new O0("@firebase/database"),eoe=function(){let t=1;return function(){return t++}}(),E4=function(t){const e=jz(t),n=new Lz;n.update(e);const r=n.digest();return mC.encodeByteArray(r)},Rg=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Rg.apply(null,r):typeof r=="object"?e+=lr(r):e+=r,e+=" "}return e};let Qh=null,c2=!0;const toe=function(t,e){me(!0,"Can't turn on custom loggers persistently."),vd.logLevel=It.VERBOSE,Qh=vd.log.bind(vd)},Gr=function(...t){if(c2===!0&&(c2=!1,Qh===null&&Zie.get("logging_enabled")===!0&&toe()),Qh){const e=Rg.apply(null,t);Qh(e)}},Pg=function(t){return function(...e){Gr(t,...e)}},UE=function(...t){const e="FIREBASE INTERNAL ERROR: "+Rg(...t);vd.error(e)},va=function(...t){const e=`FIREBASE FATAL ERROR: ${Rg(...t)}`;throw vd.error(e),new Error(e)},Ri=function(...t){const e="FIREBASE WARNING: "+Rg(...t);vd.warn(e)},noe=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ri("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},S4=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},roe=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},zd="[MIN_NAME]",Oc="[MAX_NAME]",hf=function(t,e){if(t===e)return 0;if(t===zd||e===Oc)return-1;if(e===zd||t===Oc)return 1;{const n=u2(t),r=u2(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},ioe=function(t,e){return t===e?0:t<e?-1:1},ih=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+lr(e))},uT=function(t){if(typeof t!="object"||t===null)return lr(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=lr(e[r]),n+=":",n+=uT(t[e[r]]);return n+="}",n},C4=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ai(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const T4=function(t){me(!S4(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();const u=c.join("");let f="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},ooe=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},soe=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function aoe(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const loe=new RegExp("^-?(0*)\\d{1,10}$"),coe=-2147483648,uoe=2147483647,u2=function(t){if(loe.test(t)){const e=Number(t);if(e>=coe&&e<=uoe)return e}return null},pf=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ri("Exception was thrown by user callback.",n),e},Math.floor(0))}},doe=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Jh=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class foe{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,ii(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ri(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hoe{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Gr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ri(e)}}class My{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}My.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="5",I4="v",R4="s",P4="r",k4="f",A4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,O4="ls",N4="p",zE="ac",M4="websocket",D4="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=dc.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&dc.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function poe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function L4(t,e,n){me(typeof e=="string","typeof type must == string"),me(typeof n=="object","typeof params must == object");let r;if(e===M4)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===D4)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);poe(t)&&(n.ns=t.namespace);const i=[];return Ai(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class goe{constructor(){this.counters_={}}incrementCounter(e,n=1){ba(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return vz(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw={},Iw={};function fT(t){const e=t.toString();return Tw[e]||(Tw[e]=new goe),Tw[e]}function moe(t,e){const n=t.toString();return Iw[n]||(Iw[n]=e()),Iw[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yoe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&pf(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="start",voe="close",_oe="pLPCommand",boe="pRTLPCB",F4="id",B4="pw",V4="ser",woe="cb",xoe="seg",Eoe="ts",Soe="d",Coe="dframe",j4=1870,U4=30,Toe=j4-U4,Ioe=25e3,Roe=3e4;class rd{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pg(e),this.stats_=fT(n),this.urlFn=l=>(this.appCheckToken&&(l[zE]=this.appCheckToken),L4(n,D4,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new yoe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Roe)),roe(()=>{if(this.isClosed_)return;this.scriptTagHolder=new hT((...o)=>{const[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===d2)this.id=a,this.password=l;else if(s===voe)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[d2]="t",r[V4]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[woe]=this.scriptTagHolder.uniqueCallbackIdentifier),r[I4]=dT,this.transportSessionId&&(r[R4]=this.transportSessionId),this.lastSessionId&&(r[O4]=this.lastSessionId),this.applicationId&&(r[N4]=this.applicationId),this.appCheckToken&&(r[zE]=this.appCheckToken),typeof location<"u"&&location.hostname&&A4.test(location.hostname)&&(r[P4]=k4);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){rd.forceAllow_=!0}static forceDisallow(){rd.forceDisallow_=!0}static isAvailable(){return rd.forceAllow_?!0:!rd.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ooe()&&!soe()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=lr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=o$(n),i=C4(r,Toe);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Coe]="t",r[F4]=e,r[B4]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=lr(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class hT{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=eoe(),window[_oe+this.uniqueCallbackIdentifier]=e,window[boe+this.uniqueCallbackIdentifier]=n,this.myIFrame=hT.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Gr("frame writing exception"),a.stack&&Gr(a.stack),Gr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Gr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[F4]=this.myID,e[B4]=this.myPW,e[V4]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+U4+r.length<=j4;){const s=this.pendingSegs.shift();r=r+"&"+xoe+i+"="+s.seg+"&"+Eoe+i+"="+s.ts+"&"+Soe+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Ioe)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Gr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Poe=16384,koe=45e3;let jv=null;typeof MozWebSocket<"u"?jv=MozWebSocket:typeof WebSocket<"u"&&(jv=WebSocket);class Wo{constructor(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pg(this.connId),this.stats_=fT(n),this.connURL=Wo.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[I4]=dT,typeof location<"u"&&location.hostname&&A4.test(location.hostname)&&(s[P4]=k4),n&&(s[R4]=n),r&&(s[O4]=r),i&&(s[zE]=i),o&&(s[N4]=o),L4(e,M4,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,dc.set("previous_websocket_failure",!0);try{let r;Rz(),this.mySock=new jv(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Wo.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&jv!==null&&!Wo.forceDisallow_}static previouslyFailed(){return dc.isInMemoryStorage||dc.get("previous_websocket_failure")===!0}markConnectionHealthy(){dc.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=wp(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(me(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=lr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=C4(n,Poe);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(koe))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Wo.responsesRequiredToBeHealthy=2;Wo.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{static get ALL_TRANSPORTS(){return[rd,Wo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Wo&&Wo.isAvailable();let r=n&&!Wo.previouslyFailed();if(e.webSocketOnly&&(n||Ri("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Wo];else{const i=this.transports_=[];for(const o of Lp.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);Lp.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Lp.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aoe=6e4,Ooe=5e3,Noe=10*1024,Moe=100*1024,Rw="t",f2="d",Doe="s",h2="r",$oe="e",p2="o",g2="a",m2="n",y2="p",Loe="h";class Foe{constructor(e,n,r,i,o,s,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pg("c:"+this.id+":"),this.transportManager_=new Lp(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Jh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Moe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Noe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Rw in e){const n=e[Rw];n===g2?this.upgradeIfSecondaryHealthy_():n===h2?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===p2&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ih("t",e),r=ih("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:y2,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:g2,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:m2,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ih("t",e),r=ih("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ih(Rw,e);if(f2 in e){const r=e[f2];if(n===Loe){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===m2){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Doe?this.onConnectionShutdown_(r):n===h2?this.onReset_(r):n===$oe?UE("Server Error: "+r):n===p2?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):UE("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),dT!==r&&Ri("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Jh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Aoe))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Jh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Ooe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:y2,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(dc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.allowedEvents_=e,this.listeners_={},me(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){me(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv extends W4{static getInstance(){return new Uv}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!_C()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return me(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=32,_2=768;class sn{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function jt(){return new sn("")}function wt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Il(t){return t.pieces_.length-t.pieceNum_}function hn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new sn(t.pieces_,e)}function H4(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Boe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function G4(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function K4(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new sn(e,0)}function cr(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof sn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new sn(n,0)}function Rt(t){return t.pieceNum_>=t.pieces_.length}function oi(t,e){const n=wt(t),r=wt(e);if(n===null)return e;if(n===r)return oi(hn(t),hn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function pT(t,e){if(Il(t)!==Il(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Go(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Il(t)>Il(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Voe{constructor(e,n){this.errorPrefix_=n,this.parts_=G4(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=A0(this.parts_[r]);q4(this)}}function joe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=A0(e),q4(t)}function Uoe(t){const e=t.parts_.pop();t.byteLength_-=A0(e),t.parts_.length>0&&(t.byteLength_-=1)}function q4(t){if(t.byteLength_>_2)throw new Error(t.errorPrefix_+"has a key path longer than "+_2+" bytes ("+t.byteLength_+").");if(t.parts_.length>v2)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+v2+") or object contains a cycle "+nc(t))}function nc(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT extends W4{static getInstance(){return new gT}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return me(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=1e3,zoe=60*5*1e3,b2=30*1e3,Woe=1.3,Hoe=3e4,Goe="server_kill",w2=3;class ra extends z4{constructor(e,n,r,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=ra.nextPersistentConnectionId_++,this.log_=Pg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=oh,this.maxReconnectDelay_=zoe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");gT.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Uv.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(lr(o)),me(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new k0,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),me(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),me(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,c=a.s;ra.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ba(e,"w")){const r=Id(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Ri(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||$z(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=b2)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Dz(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),me(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+lr(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):UE("Unrecognized action received from server: "+lr(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){me(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=oh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=oh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Hoe&&(this.reconnectDelay_=oh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Woe)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ra.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},c=function(f){me(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?Gr("getToken() completed but was canceled"):(Gr("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,a=new Foe(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Ri(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Goe)},o))}catch(f){this.log_("Failed to get token: "+f),s||(this.repoInfo_.nodeAdmin&&Ri(f),l())}}}interrupt(e){Gr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Gr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ux(this.interruptReasons_)&&(this.reconnectDelay_=oh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>uT(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new sn(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Gr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=w2&&(this.reconnectDelay_=b2,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Gr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=w2&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+w4.replace(/\./g,"-")]=1,_C()?e["framework.cordova"]=1:u$()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Uv.getInstance().currentlyOnline();return Ux(this.interruptReasons_)&&e}}ra.nextPersistentConnectionId_=0;ra.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new xt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new xt(zd,e),i=new xt(zd,n);return this.compare(r,i)!==0}minPost(){return xt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ym;class Y4 extends W_{static get __EMPTY_NODE(){return Ym}static set __EMPTY_NODE(e){Ym=e}compare(e,n){return hf(e.name,n.name)}isDefinedOn(e){throw Qd("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return xt.MIN}maxPost(){return new xt(Oc,Ym)}makePost(e,n){return me(typeof e=="string","KeyIndex indexValue must always be a string."),new xt(e,Ym)}toString(){return".key"}}const _d=new Y4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class xr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??xr.RED,this.left=i??xi.EMPTY_NODE,this.right=o??xi.EMPTY_NODE}copy(e,n,r,i,o){return new xr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return xi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return xi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}xr.RED=!0;xr.BLACK=!1;class Koe{copy(e,n,r,i,o){return this}insert(e,n,r){return new xr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xi{constructor(e,n=xi.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new xi(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,xr.BLACK,null,null))}remove(e){return new xi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,xr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Xm(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Xm(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Xm(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Xm(this.root_,null,this.comparator_,!0,e)}}xi.EMPTY_NODE=new Koe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qoe(t,e){return hf(t.name,e.name)}function mT(t,e){return hf(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WE;function Yoe(t){WE=t}const X4=function(t){return typeof t=="number"?"number:"+T4(t):"string:"+t},Q4=function(t){if(t.isLeafNode()){const e=t.val();me(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ba(e,".sv"),"Priority must be a string or number.")}else me(t===WE||t.isEmpty(),"priority of unexpected type.");me(t===WE||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x2;class _r{static set __childrenNodeConstructor(e){x2=e}static get __childrenNodeConstructor(){return x2}constructor(e,n=_r.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,me(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Q4(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new _r(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:_r.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Rt(e)?this:wt(e)===".priority"?this.priorityNode_:_r.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:_r.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=wt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(me(r!==".priority"||Il(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,_r.__childrenNodeConstructor.EMPTY_NODE.updateChild(hn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+X4(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=T4(this.value_):e+=this.value_,this.lazyHash_=E4(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===_r.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof _r.__childrenNodeConstructor?-1:(me(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=_r.VALUE_TYPE_ORDER.indexOf(n),o=_r.VALUE_TYPE_ORDER.indexOf(r);return me(i>=0,"Unknown leaf type: "+n),me(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}_r.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J4,Z4;function Xoe(t){J4=t}function Qoe(t){Z4=t}class Joe extends W_{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?hf(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return xt.MIN}maxPost(){return new xt(Oc,new _r("[PRIORITY-POST]",Z4))}makePost(e,n){const r=J4(e);return new xt(n,new _r("[PRIORITY-POST]",r))}toString(){return".priority"}}const Bn=new Joe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zoe=Math.log(2);class ese{constructor(e){const n=o=>parseInt(Math.log(o)/Zoe,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const zv=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let f,h;if(u===0)return null;if(u===1)return f=t[l],h=n?n(f):f,new xr(h,f.node,xr.BLACK,null,null);{const p=parseInt(u/2,10)+l,m=i(l,p),x=i(p+1,c);return f=t[p],h=n?n(f):f,new xr(h,f.node,xr.BLACK,m,x)}},o=function(l){let c=null,u=null,f=t.length;const h=function(m,x){const S=f-m,b=f;f-=m;const w=i(S+1,b),g=t[S],C=n?n(g):g;p(new xr(C,g.node,x,null,w))},p=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const x=l.nextBitIsOne(),S=Math.pow(2,l.count-(m+1));x?h(S,xr.BLACK):(h(S,xr.BLACK),h(S,xr.RED))}return u},s=new ese(t.length),a=o(s);return new xi(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pw;const bu={};class Zs{static get Default(){return me(bu&&Bn,"ChildrenNode.ts has not been loaded"),Pw=Pw||new Zs({".priority":bu},{".priority":Bn}),Pw}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Id(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof xi?n:null}hasIndex(e){return ba(this.indexSet_,e.toString())}addIndex(e,n){me(e!==_d,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(xt.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=zv(r,e.getCompare()):a=bu;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Zs(u,c)}addToIndexes(e,n){const r=uv(this.indexes_,(i,o)=>{const s=Id(this.indexSet_,o);if(me(s,"Missing index implementation for "+o),i===bu)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(xt.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),zv(a,s.getCompare())}else return bu;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new xt(e.name,a))),l.insert(e,e.node)}});return new Zs(r,this.indexSet_)}removeFromIndexes(e,n){const r=uv(this.indexes_,i=>{if(i===bu)return i;{const o=n.get(e.name);return o?i.remove(new xt(e.name,o)):i}});return new Zs(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh;class Ke{static get EMPTY_NODE(){return sh||(sh=new Ke(new xi(mT),null,Zs.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Q4(this.priorityNode_),this.children_.isEmpty()&&me(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||sh}updatePriority(e){return this.children_.isEmpty()?this:new Ke(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?sh:n}}getChild(e){const n=wt(e);return n===null?this:this.getImmediateChild(n).getChild(hn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(me(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new xt(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?sh:this.priorityNode_;return new Ke(i,s,o)}}updateChild(e,n){const r=wt(e);if(r===null)return n;{me(wt(e)!==".priority"||Il(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(hn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(Bn,(s,a)=>{n[s]=a.val(e),r++,o&&Ke.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+X4(this.getPriority().val())+":"),this.forEachChild(Bn,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":E4(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new xt(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new xt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new xt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,xt.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,xt.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===kg?-1:0}withIndex(e){if(e===_d||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ke(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===_d||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Bn),i=n.getIterator(Bn);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===_d?null:this.indexMap_.get(e.toString())}}Ke.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class tse extends Ke{constructor(){super(new xi(mT),Ke.EMPTY_NODE,Zs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ke.EMPTY_NODE}isEmpty(){return!1}}const kg=new tse;Object.defineProperties(xt,{MIN:{value:new xt(zd,Ke.EMPTY_NODE)},MAX:{value:new xt(Oc,kg)}});Y4.__EMPTY_NODE=Ke.EMPTY_NODE;_r.__childrenNodeConstructor=Ke;Yoe(kg);Qoe(kg);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nse=!0;function Er(t,e=null){if(t===null)return Ke.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),me(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new _r(n,Er(e))}if(!(t instanceof Array)&&nse){const n=[];let r=!1;if(Ai(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=Er(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new xt(s,l)))}}),n.length===0)return Ke.EMPTY_NODE;const o=zv(n,qoe,s=>s.name,mT);if(r){const s=zv(n,Bn.getCompare());return new Ke(o,Er(e),new Zs({".priority":s},{".priority":Bn}))}else return new Ke(o,Er(e),Zs.Default)}else{let n=Ke.EMPTY_NODE;return Ai(t,(r,i)=>{if(ba(t,r)&&r.substring(0,1)!=="."){const o=Er(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Er(e))}}Xoe(Er);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rse extends W_{constructor(e){super(),this.indexPath_=e,me(!Rt(e)&&wt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?hf(e.name,n.name):o}makePost(e,n){const r=Er(e),i=Ke.EMPTY_NODE.updateChild(this.indexPath_,r);return new xt(n,i)}maxPost(){const e=Ke.EMPTY_NODE.updateChild(this.indexPath_,kg);return new xt(Oc,e)}toString(){return G4(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ise extends W_{compare(e,n){const r=e.node.compareTo(n.node);return r===0?hf(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return xt.MIN}maxPost(){return xt.MAX}makePost(e,n){const r=Er(e);return new xt(n,r)}toString(){return".value"}}const ose=new ise;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(t){return{type:"value",snapshotNode:t}}function Wd(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Fp(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Bp(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function sse(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){me(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Fp(n,a)):me(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Wd(n,r)):s.trackChildChange(Bp(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Bn,(i,o)=>{n.hasChild(i)||r.trackChildChange(Fp(i,o))}),n.isLeafNode()||n.forEachChild(Bn,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Bp(i,o,s))}else r.trackChildChange(Wd(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ke.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e){this.indexedFilter_=new yT(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Vp.getStartPost_(e),this.endPost_=Vp.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new xt(n,r))||(r=Ke.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Ke.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Ke.EMPTY_NODE);const o=this;return n.forEachChild(Bn,(s,a)=>{o.matches(new xt(s,a))||(i=i.updateImmediateChild(s,Ke.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ase{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Vp(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new xt(n,r))||(r=Ke.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Ke.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ke.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ke.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,Ke.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const f=this.index_.getCompare();s=(h,p)=>f(p,h)}else s=this.index_.getCompare();const a=e;me(a.numChildren()===this.limit_,"");const l=new xt(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const f=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const p=h==null?1:s(h,l);if(u&&!r.isEmpty()&&p>=0)return o!=null&&o.trackChildChange(Bp(n,r,f)),a.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(Fp(n,f));const x=a.updateImmediateChild(n,Ke.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o!=null&&o.trackChildChange(Wd(h.name,h.node)),x.updateImmediateChild(h.name,h.node)):x}}else return r.isEmpty()?e:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(Fp(c.name,c.node)),o.trackChildChange(Wd(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,Ke.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Bn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return me(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return me(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zd}hasEnd(){return this.endSet_}getIndexEndValue(){return me(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return me(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Oc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return me(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Bn}copy(){const e=new vT;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function lse(t){return t.loadsAllData()?new yT(t.getIndex()):t.hasLimit()?new ase(t):new Vp(t)}function E2(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Bn?n="$priority":t.index_===ose?n="$value":t.index_===_d?n="$key":(me(t.index_ instanceof rse,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=lr(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=lr(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+lr(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=lr(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+lr(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function S2(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Bn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv extends z4{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(me(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Pg("p:rest:"),this.listens_={}}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Wv.getListenId_(e,r),a={};this.listens_[s]=a;const l=E2(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let f=u;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(o,f,!1,r),Id(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const r=Wv.getListenId_(e,n);delete this.listens_[r]}get(e){const n=E2(e._queryParams),r=e._path.toString(),i=new k0;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Jd(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=wp(a.responseText)}catch{Ri("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Ri("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cse{constructor(){this.rootNode_=Ke.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(){return{value:null,children:new Map}}function t3(t,e,n){if(Rt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=wt(e);t.children.has(r)||t.children.set(r,Hv());const i=t.children.get(r);e=hn(e),t3(i,e,n)}}function HE(t,e,n){t.value!==null?n(e,t.value):use(t,(r,i)=>{const o=new sn(e.toString()+"/"+r);HE(i,o,n)})}function use(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dse{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ai(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=10*1e3,fse=30*1e3,hse=5*60*1e3;class pse{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new dse(e);const r=C2+(fse-C2)*Math.random();Jh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ai(e,(i,o)=>{o>0&&ba(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Jh(this.reportStats_.bind(this),Math.floor(Math.random()*2*hse))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ko;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ko||(Ko={}));function n3(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function _T(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function bT(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ko.ACK_USER_WRITE,this.source=n3()}operationForChild(e){if(Rt(this.path)){if(this.affectedTree.value!=null)return me(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new sn(e));return new Gv(jt(),n,this.revert)}}else return me(wt(this.path)===e,"operationForChild called for unrelated child."),new Gv(hn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n){this.source=e,this.path=n,this.type=Ko.LISTEN_COMPLETE}operationForChild(e){return Rt(this.path)?new jp(this.source,jt()):new jp(this.source,hn(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ko.OVERWRITE}operationForChild(e){return Rt(this.path)?new Nc(this.source,jt(),this.snap.getImmediateChild(e)):new Nc(this.source,hn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ko.MERGE}operationForChild(e){if(Rt(this.path)){const n=this.children.subtree(new sn(e));return n.isEmpty()?null:n.value?new Nc(this.source,jt(),n.value):new Up(this.source,jt(),n)}else return me(wt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Up(this.source,hn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Rt(e))return this.isFullyInitialized()&&!this.filtered_;const n=wt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gse{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function mse(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(sse(s.childName,s.snapshotNode))}),ah(t,i,"child_removed",e,r,n),ah(t,i,"child_added",e,r,n),ah(t,i,"child_moved",o,r,n),ah(t,i,"child_changed",e,r,n),ah(t,i,"value",e,r,n),i}function ah(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>vse(t,a,l)),s.forEach(a=>{const l=yse(t,a,o);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function yse(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function vse(t,e,n){if(e.childName==null||n.childName==null)throw Qd("Should only compare child_ events.");const r=new xt(e.childName,e.snapshotNode),i=new xt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(t,e){return{eventCache:t,serverCache:e}}function Zh(t,e,n,r){return H_(new Rl(e,n,r),t.serverCache)}function r3(t,e,n,r){return H_(t.eventCache,new Rl(e,n,r))}function Kv(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Mc(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kw;const _se=()=>(kw||(kw=new xi(ioe)),kw);class bn{static fromObject(e){let n=new bn(null);return Ai(e,(r,i)=>{n=n.set(new sn(r),i)}),n}constructor(e,n=_se()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:jt(),value:this.value};if(Rt(e))return null;{const r=wt(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(hn(e),n);return o!=null?{path:cr(new sn(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Rt(e))return this;{const n=wt(e),r=this.children.get(n);return r!==null?r.subtree(hn(e)):new bn(null)}}set(e,n){if(Rt(e))return new bn(n,this.children);{const r=wt(e),o=(this.children.get(r)||new bn(null)).set(hn(e),n),s=this.children.insert(r,o);return new bn(this.value,s)}}remove(e){if(Rt(e))return this.children.isEmpty()?new bn(null):new bn(null,this.children);{const n=wt(e),r=this.children.get(n);if(r){const i=r.remove(hn(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new bn(null):new bn(this.value,o)}else return this}}get(e){if(Rt(e))return this.value;{const n=wt(e),r=this.children.get(n);return r?r.get(hn(e)):null}}setTree(e,n){if(Rt(e))return n;{const r=wt(e),o=(this.children.get(r)||new bn(null)).setTree(hn(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new bn(this.value,s)}}fold(e){return this.fold_(jt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(cr(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,jt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Rt(e))return null;{const o=wt(e),s=this.children.get(o);return s?s.findOnPath_(hn(e),cr(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,jt(),n)}foreachOnPath_(e,n,r){if(Rt(e))return this;{this.value&&r(n,this.value);const i=wt(e),o=this.children.get(i);return o?o.foreachOnPath_(hn(e),cr(n,i),r):new bn(null)}}foreach(e){this.foreach_(jt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(cr(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.writeTree_=e}static empty(){return new Jo(new bn(null))}}function ep(t,e,n){if(Rt(e))return new Jo(new bn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=oi(i,e);return o=o.updateChild(s,n),new Jo(t.writeTree_.set(i,o))}else{const i=new bn(n),o=t.writeTree_.setTree(e,i);return new Jo(o)}}}function T2(t,e,n){let r=t;return Ai(n,(i,o)=>{r=ep(r,cr(e,i),o)}),r}function I2(t,e){if(Rt(e))return Jo.empty();{const n=t.writeTree_.setTree(e,new bn(null));return new Jo(n)}}function GE(t,e){return zc(t,e)!=null}function zc(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(oi(n.path,e)):null}function R2(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Bn,(r,i)=>{e.push(new xt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new xt(r,i.value))}),e}function pl(t,e){if(Rt(e))return t;{const n=zc(t,e);return n!=null?new Jo(new bn(n)):new Jo(t.writeTree_.subtree(e))}}function KE(t){return t.writeTree_.isEmpty()}function Hd(t,e){return i3(jt(),t.writeTree_,e)}function i3(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(me(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=i3(cr(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(cr(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(t,e){return l3(e,t)}function bse(t,e,n,r,i){me(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ep(t.visibleWrites,e,n)),t.lastWriteId=r}function wse(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function xse(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);me(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&Ese(a,r.path)?i=!1:Go(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return Sse(t),!0;if(r.snap)t.visibleWrites=I2(t.visibleWrites,r.path);else{const a=r.children;Ai(a,l=>{t.visibleWrites=I2(t.visibleWrites,cr(r.path,l))})}return!0}else return!1}function Ese(t,e){if(t.snap)return Go(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Go(cr(t.path,n),e))return!0;return!1}function Sse(t){t.visibleWrites=o3(t.allWrites,Cse,jt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Cse(t){return t.visible}function o3(t,e,n){let r=Jo.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)Go(n,s)?(a=oi(n,s),r=ep(r,a,o.snap)):Go(s,n)&&(a=oi(s,n),r=ep(r,jt(),o.snap.getChild(a)));else if(o.children){if(Go(n,s))a=oi(n,s),r=T2(r,a,o.children);else if(Go(s,n))if(a=oi(s,n),Rt(a))r=T2(r,jt(),o.children);else{const l=Id(o.children,wt(a));if(l){const c=l.getChild(hn(a));r=ep(r,jt(),c)}}}else throw Qd("WriteRecord should have .snap or .children")}}return r}function s3(t,e,n,r,i){if(!r&&!i){const o=zc(t.visibleWrites,e);if(o!=null)return o;{const s=pl(t.visibleWrites,e);if(KE(s))return n;if(n==null&&!GE(s,jt()))return null;{const a=n||Ke.EMPTY_NODE;return Hd(s,a)}}}else{const o=pl(t.visibleWrites,e);if(!i&&KE(o))return n;if(!i&&n==null&&!GE(o,jt()))return null;{const s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Go(c.path,e)||Go(e,c.path))},a=o3(t.allWrites,s,e),l=n||Ke.EMPTY_NODE;return Hd(a,l)}}}function Tse(t,e,n){let r=Ke.EMPTY_NODE;const i=zc(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Bn,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=pl(t.visibleWrites,e);return n.forEachChild(Bn,(s,a)=>{const l=Hd(pl(o,new sn(s)),a);r=r.updateImmediateChild(s,l)}),R2(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=pl(t.visibleWrites,e);return R2(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function Ise(t,e,n,r,i){me(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=cr(e,n);if(GE(t.visibleWrites,o))return null;{const s=pl(t.visibleWrites,o);return KE(s)?i.getChild(n):Hd(s,i.getChild(n))}}function Rse(t,e,n,r){const i=cr(e,n),o=zc(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=pl(t.visibleWrites,i);return Hd(s,r.getNode().getImmediateChild(n))}else return null}function Pse(t,e){return zc(t.visibleWrites,e)}function kse(t,e,n,r,i,o,s){let a;const l=pl(t.visibleWrites,e),c=zc(l,jt());if(c!=null)a=c;else if(n!=null)a=Hd(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const u=[],f=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let p=h.getNext();for(;p&&u.length<i;)f(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function Ase(){return{visibleWrites:Jo.empty(),allWrites:[],lastWriteId:-1}}function qv(t,e,n,r){return s3(t.writeTree,t.treePath,e,n,r)}function wT(t,e){return Tse(t.writeTree,t.treePath,e)}function P2(t,e,n,r){return Ise(t.writeTree,t.treePath,e,n,r)}function Yv(t,e){return Pse(t.writeTree,cr(t.treePath,e))}function Ose(t,e,n,r,i,o){return kse(t.writeTree,t.treePath,e,n,r,i,o)}function xT(t,e,n){return Rse(t.writeTree,t.treePath,e,n)}function a3(t,e){return l3(cr(t.treePath,e),t.writeTree)}function l3(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nse{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;me(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),me(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Bp(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Fp(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Wd(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Bp(r,e.snapshotNode,i.oldSnap));else throw Qd("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mse{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const c3=new Mse;class ET{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Rl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xT(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Mc(this.viewCache_),o=Ose(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dse(t){return{filter:t}}function $se(t,e){me(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),me(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Lse(t,e,n,r,i){const o=new Nse;let s,a;if(n.type===Ko.OVERWRITE){const c=n;c.source.fromUser?s=qE(t,e,c.path,c.snap,r,i,o):(me(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Rt(c.path),s=Xv(t,e,c.path,c.snap,r,i,a,o))}else if(n.type===Ko.MERGE){const c=n;c.source.fromUser?s=Bse(t,e,c.path,c.children,r,i,o):(me(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=YE(t,e,c.path,c.children,r,i,a,o))}else if(n.type===Ko.ACK_USER_WRITE){const c=n;c.revert?s=Use(t,e,c.path,r,i,o):s=Vse(t,e,c.path,c.affectedTree,r,i,o)}else if(n.type===Ko.LISTEN_COMPLETE)s=jse(t,e,n.path,r,o);else throw Qd("Unknown operation type: "+n.type);const l=o.getChanges();return Fse(e,s,l),{viewCache:s,changes:l}}function Fse(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Kv(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(e3(Kv(e)))}}function u3(t,e,n,r,i,o){const s=e.eventCache;if(Yv(r,n)!=null)return e;{let a,l;if(Rt(n))if(me(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Mc(e),u=c instanceof Ke?c:Ke.EMPTY_NODE,f=wT(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const c=qv(r,Mc(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const c=wt(n);if(c===".priority"){me(Il(n)===1,"Can't have a priority with additional path components");const u=s.getNode();l=e.serverCache.getNode();const f=P2(r,n,u,l);f!=null?a=t.filter.updatePriority(u,f):a=s.getNode()}else{const u=hn(n);let f;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();const h=P2(r,n,s.getNode(),l);h!=null?f=s.getNode().getImmediateChild(c).updateChild(u,h):f=s.getNode().getImmediateChild(c)}else f=xT(r,c,e.serverCache);f!=null?a=t.filter.updateChild(s.getNode(),c,f,u,i,o):a=s.getNode()}}return Zh(e,a,s.isFullyInitialized()||Rt(n),t.filter.filtersNodes())}}function Xv(t,e,n,r,i,o,s,a){const l=e.serverCache;let c;const u=s?t.filter:t.filter.getIndexedFilter();if(Rt(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=wt(n);if(!l.isCompleteForPath(n)&&Il(n)>1)return e;const m=hn(n),S=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=u.updatePriority(l.getNode(),S):c=u.updateChild(l.getNode(),p,S,m,c3,null)}const f=r3(e,c,l.isFullyInitialized()||Rt(n),u.filtersNodes()),h=new ET(i,f,o);return u3(t,f,n,i,h,a)}function qE(t,e,n,r,i,o,s){const a=e.eventCache;let l,c;const u=new ET(i,e,o);if(Rt(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=Zh(e,c,!0,t.filter.filtersNodes());else{const f=wt(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Zh(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=hn(n),p=a.getNode().getImmediateChild(f);let m;if(Rt(h))m=r;else{const x=u.getCompleteChild(f);x!=null?H4(h)===".priority"&&x.getChild(K4(h)).isEmpty()?m=x:m=x.updateChild(h,r):m=Ke.EMPTY_NODE}if(p.equals(m))l=e;else{const x=t.filter.updateChild(a.getNode(),f,m,h,u,s);l=Zh(e,x,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function k2(t,e){return t.eventCache.isCompleteForChild(e)}function Bse(t,e,n,r,i,o,s){let a=e;return r.foreach((l,c)=>{const u=cr(n,l);k2(e,wt(u))&&(a=qE(t,a,u,c,i,o,s))}),r.foreach((l,c)=>{const u=cr(n,l);k2(e,wt(u))||(a=qE(t,a,u,c,i,o,s))}),a}function A2(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function YE(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Rt(n)?c=r:c=new bn(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((f,h)=>{if(u.hasChild(f)){const p=e.serverCache.getNode().getImmediateChild(f),m=A2(t,p,h);l=Xv(t,l,new sn(f),m,i,o,s,a)}}),c.children.inorderTraversal((f,h)=>{const p=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!u.hasChild(f)&&!p){const m=e.serverCache.getNode().getImmediateChild(f),x=A2(t,m,h);l=Xv(t,l,new sn(f),x,i,o,s,a)}}),l}function Vse(t,e,n,r,i,o,s){if(Yv(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Rt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Xv(t,e,n,l.getNode().getChild(n),i,o,a,s);if(Rt(n)){let c=new bn(null);return l.getNode().forEachChild(_d,(u,f)=>{c=c.set(new sn(u),f)}),YE(t,e,n,c,i,o,a,s)}else return e}else{let c=new bn(null);return r.foreach((u,f)=>{const h=cr(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),YE(t,e,n,c,i,o,a,s)}}function jse(t,e,n,r,i){const o=e.serverCache,s=r3(e,o.getNode(),o.isFullyInitialized()||Rt(n),o.isFiltered());return u3(t,s,n,r,c3,i)}function Use(t,e,n,r,i,o){let s;if(Yv(r,n)!=null)return e;{const a=new ET(r,e,i),l=e.eventCache.getNode();let c;if(Rt(n)||wt(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=qv(r,Mc(e));else{const f=e.serverCache.getNode();me(f instanceof Ke,"serverChildren would be complete if leaf node"),u=wT(r,f)}u=u,c=t.filter.updateFullNode(l,u,o)}else{const u=wt(n);let f=xT(r,u,e.serverCache);f==null&&e.serverCache.isCompleteForChild(u)&&(f=l.getImmediateChild(u)),f!=null?c=t.filter.updateChild(l,u,f,hn(n),a,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Ke.EMPTY_NODE,hn(n),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=qv(r,Mc(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||Yv(r,jt())!=null,Zh(e,c,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zse{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new yT(r.getIndex()),o=lse(r);this.processor_=Dse(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(Ke.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(Ke.EMPTY_NODE,a.getNode(),null),u=new Rl(l,s.isFullyInitialized(),i.filtersNodes()),f=new Rl(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=H_(f,u),this.eventGenerator_=new gse(this.query_)}get query(){return this.query_}}function Wse(t){return t.viewCache_.serverCache.getNode()}function Hse(t){return Kv(t.viewCache_)}function Gse(t,e){const n=Mc(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Rt(e)&&!n.getImmediateChild(wt(e)).isEmpty())?n.getChild(e):null}function O2(t){return t.eventRegistrations_.length===0}function Kse(t,e){t.eventRegistrations_.push(e)}function N2(t,e,n){const r=[];if(n){me(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function M2(t,e,n,r){e.type===Ko.MERGE&&e.source.queryId!==null&&(me(Mc(t.viewCache_),"We should always have a full cache before handling merges"),me(Kv(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=Lse(t.processor_,i,e,n,r);return $se(t.processor_,o.viewCache),me(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,d3(t,o.changes,o.viewCache.eventCache.getNode(),null)}function qse(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Bn,(o,s)=>{r.push(Wd(o,s))}),n.isFullyInitialized()&&r.push(e3(n.getNode())),d3(t,r,n.getNode(),e)}function d3(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return mse(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qv;class f3{constructor(){this.views=new Map}}function Yse(t){me(!Qv,"__referenceConstructor has already been defined"),Qv=t}function Xse(){return me(Qv,"Reference.ts has not been loaded"),Qv}function Qse(t){return t.views.size===0}function ST(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return me(o!=null,"SyncTree gave us an op for an invalid query."),M2(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(M2(s,e,n,r));return o}}function h3(t,e,n,r,i){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=qv(n,i?r:null),l=!1;a?l=!0:r instanceof Ke?(a=wT(n,r),l=!1):(a=Ke.EMPTY_NODE,l=!1);const c=H_(new Rl(a,l,!1),new Rl(r,i,!1));return new zse(e,c)}return s}function Jse(t,e,n,r,i,o){const s=h3(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),Kse(s,n),qse(s,n)}function Zse(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=Pl(t);if(i==="default")for(const[l,c]of t.views.entries())s=s.concat(N2(c,n,r)),O2(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const l=t.views.get(i);l&&(s=s.concat(N2(l,n,r)),O2(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Pl(t)&&o.push(new(Xse())(e._repo,e._path)),{removed:o,events:s}}function p3(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function gl(t,e){let n=null;for(const r of t.views.values())n=n||Gse(r,e);return n}function g3(t,e){if(e._queryParams.loadsAllData())return K_(t);{const r=e._queryIdentifier;return t.views.get(r)}}function m3(t,e){return g3(t,e)!=null}function Pl(t){return K_(t)!=null}function K_(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jv;function eae(t){me(!Jv,"__referenceConstructor has already been defined"),Jv=t}function tae(){return me(Jv,"Reference.ts has not been loaded"),Jv}let nae=1;class D2{constructor(e){this.listenProvider_=e,this.syncPointTree_=new bn(null),this.pendingWriteTree_=Ase(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function y3(t,e,n,r,i){return bse(t.pendingWriteTree_,e,n,r,i),i?Og(t,new Nc(n3(),e,n)):[]}function fc(t,e,n=!1){const r=wse(t.pendingWriteTree_,e);if(xse(t.pendingWriteTree_,e)){let o=new bn(null);return r.snap!=null?o=o.set(jt(),!0):Ai(r.children,s=>{o=o.set(new sn(s),!0)}),Og(t,new Gv(r.path,o,n))}else return[]}function Ag(t,e,n){return Og(t,new Nc(_T(),e,n))}function rae(t,e,n){const r=bn.fromObject(n);return Og(t,new Up(_T(),e,r))}function iae(t,e){return Og(t,new jp(_T(),e))}function oae(t,e,n){const r=TT(t,n);if(r){const i=IT(r),o=i.path,s=i.queryId,a=oi(o,e),l=new jp(bT(s),a);return RT(t,o,l)}else return[]}function Zv(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&(e._queryIdentifier==="default"||m3(s,e))){const l=Zse(s,e,n,r);Qse(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(o,(h,p)=>Pl(p));if(u&&!f){const h=t.syncPointTree_.subtree(o);if(!h.isEmpty()){const p=lae(h);for(let m=0;m<p.length;++m){const x=p[m],S=x.query,b=w3(t,x);t.listenProvider_.startListening(tp(S),zp(t,S),b.hashFn,b.onComplete)}}}!f&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(tp(e),null):c.forEach(h=>{const p=t.queryToTagMap.get(q_(h));t.listenProvider_.stopListening(tp(h),p)}))}cae(t,c)}return a}function v3(t,e,n,r){const i=TT(t,r);if(i!=null){const o=IT(i),s=o.path,a=o.queryId,l=oi(s,e),c=new Nc(bT(a),l,n);return RT(t,s,c)}else return[]}function sae(t,e,n,r){const i=TT(t,r);if(i){const o=IT(i),s=o.path,a=o.queryId,l=oi(s,e),c=bn.fromObject(n),u=new Up(bT(a),l,c);return RT(t,s,u)}else return[]}function XE(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(h,p)=>{const m=oi(h,i);o=o||gl(p,m),s=s||Pl(p)});let a=t.syncPointTree_.get(i);a?(s=s||Pl(a),o=o||gl(a,jt())):(a=new f3,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=Ke.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,m)=>{const x=gl(m,jt());x&&(o=o.updateImmediateChild(p,x))}));const c=m3(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=q_(e);me(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const p=uae();t.queryToTagMap.set(h,p),t.tagToQueryMap.set(p,h)}const u=G_(t.pendingWriteTree_,i);let f=Jse(a,e,n,u,o,l);if(!c&&!s&&!r){const h=g3(a,e);f=f.concat(dae(t,e,h))}return f}function CT(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=oi(s,e),c=gl(a,l);if(c)return c});return s3(i,e,o,n,!0)}function aae(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const f=oi(c,n);r=r||gl(u,f)});let i=t.syncPointTree_.get(n);i?r=r||gl(i,jt()):(i=new f3,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=r!=null,s=o?new Rl(r,!0,!1):null,a=G_(t.pendingWriteTree_,e._path),l=h3(i,e,a,o?s.getNode():Ke.EMPTY_NODE,o);return Hse(l)}function Og(t,e){return _3(e,t.syncPointTree_,null,G_(t.pendingWriteTree_,jt()))}function _3(t,e,n,r){if(Rt(t.path))return b3(t,e,n,r);{const i=e.get(jt());n==null&&i!=null&&(n=gl(i,jt()));let o=[];const s=wt(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const c=n?n.getImmediateChild(s):null,u=a3(r,s);o=o.concat(_3(a,l,c,u))}return i&&(o=o.concat(ST(i,t,r,n))),o}}function b3(t,e,n,r){const i=e.get(jt());n==null&&i!=null&&(n=gl(i,jt()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,c=a3(r,s),u=t.operationForChild(s);u&&(o=o.concat(b3(u,a,l,c)))}),i&&(o=o.concat(ST(i,t,r,n))),o}function w3(t,e){const n=e.query,r=zp(t,n);return{hashFn:()=>(Wse(e)||Ke.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?oae(t,n._path,r):iae(t,n._path);{const o=aoe(i,n);return Zv(t,n,null,o)}}}}function zp(t,e){const n=q_(e);return t.queryToTagMap.get(n)}function q_(t){return t._path.toString()+"$"+t._queryIdentifier}function TT(t,e){return t.tagToQueryMap.get(e)}function IT(t){const e=t.indexOf("$");return me(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new sn(t.substr(0,e))}}function RT(t,e,n){const r=t.syncPointTree_.get(e);me(r,"Missing sync point for query tag that we're tracking");const i=G_(t.pendingWriteTree_,e);return ST(r,n,i,null)}function lae(t){return t.fold((e,n,r)=>{if(n&&Pl(n))return[K_(n)];{let i=[];return n&&(i=p3(n)),Ai(r,(o,s)=>{i=i.concat(s)}),i}})}function tp(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(tae())(t._repo,t._path):t}function cae(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=q_(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function uae(){return nae++}function dae(t,e,n){const r=e._path,i=zp(t,e),o=w3(t,n),s=t.listenProvider_.startListening(tp(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)me(!Pl(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,f)=>{if(!Rt(c)&&u&&Pl(u))return[K_(u).query];{let h=[];return u&&(h=h.concat(p3(u).map(p=>p.query))),Ai(f,(p,m)=>{h=h.concat(m)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(tp(u),zp(t,u))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new PT(n)}node(){return this.node_}}class kT{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=cr(this.path_,e);return new kT(this.syncTree_,n)}node(){return CT(this.syncTree_,this.path_)}}const fae=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},$2=function(t,e,n){if(!t||typeof t!="object")return t;if(me(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return hae(t[".sv"],e,n);if(typeof t[".sv"]=="object")return pae(t[".sv"],e);me(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},hae=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:me(!1,"Unexpected server value: "+t)}},pae=function(t,e,n){t.hasOwnProperty("increment")||me(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&me(!1,"Unexpected increment value: "+r);const i=e.node();if(me(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},gae=function(t,e,n,r){return AT(e,new kT(n,t),r)},x3=function(t,e,n){return AT(t,new PT(e),n)};function AT(t,e,n){const r=t.getPriority().val(),i=$2(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=$2(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new _r(a,Er(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new _r(i))),s.forEachChild(Bn,(a,l)=>{const c=AT(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function NT(t,e){let n=e instanceof sn?e:new sn(e),r=t,i=wt(n);for(;i!==null;){const o=Id(r.node.children,i)||{children:{},childCount:0};r=new OT(i,r,o),n=hn(n),i=wt(n)}return r}function gf(t){return t.node.value}function E3(t,e){t.node.value=e,QE(t)}function S3(t){return t.node.childCount>0}function mae(t){return gf(t)===void 0&&!S3(t)}function Y_(t,e){Ai(t.node.children,(n,r)=>{e(new OT(n,t,r))})}function C3(t,e,n,r){n&&e(t),Y_(t,i=>{C3(i,e,!0)})}function yae(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ng(t){return new sn(t.parent===null?t.name:Ng(t.parent)+"/"+t.name)}function QE(t){t.parent!==null&&vae(t.parent,t.name,t)}function vae(t,e,n){const r=mae(n),i=ba(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,QE(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,QE(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ae=/[\[\].#$\/\u0000-\u001F\u007F]/,bae=/[\[\].#$\u0000-\u001F\u007F]/,Aw=10*1024*1024,T3=function(t){return typeof t=="string"&&t.length!==0&&!_ae.test(t)},I3=function(t){return typeof t=="string"&&t.length!==0&&!bae.test(t)},wae=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),I3(t)},xae=function(t,e,n,r){MT(bC(t,"value"),e,n)},MT=function(t,e,n){const r=n instanceof sn?new Voe(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+nc(r));if(typeof e=="function")throw new Error(t+"contains a function "+nc(r)+" with contents = "+e.toString());if(S4(e))throw new Error(t+"contains "+e.toString()+" "+nc(r));if(typeof e=="string"&&e.length>Aw/3&&A0(e)>Aw)throw new Error(t+"contains a string greater than "+Aw+" utf8 bytes "+nc(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Ai(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!T3(s)))throw new Error(t+" contains an invalid key ("+s+") "+nc(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);joe(r,s),MT(t,a,r),Uoe(r)}),i&&o)throw new Error(t+' contains ".value" child '+nc(r)+" in addition to actual children.")}},R3=function(t,e,n,r){if(!I3(n))throw new Error(bC(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Eae=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),R3(t,e,n)},P3=function(t,e){if(wt(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Sae=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!T3(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!wae(n))throw new Error(bC(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cae{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function DT(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!pT(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function k3(t,e,n){DT(t,n),A3(t,r=>pT(r,e))}function Is(t,e,n){DT(t,n),A3(t,r=>Go(r,e)||Go(e,r))}function A3(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(Tae(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Tae(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Qh&&Gr("event: "+n.toString()),pf(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iae="repo_interrupt",Rae=25;class Pae{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Cae,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Hv(),this.transactionQueueTree_=new OT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function kae(t,e,n){if(t.stats_=fT(t.repoInfo_),t.forceRestClient_||doe())t.server_=new Wv(t.repoInfo_,(r,i,o,s)=>{L2(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>F2(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{lr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ra(t.repoInfo_,e,(r,i,o,s)=>{L2(t,r,i,o,s)},r=>{F2(t,r)},r=>{Oae(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=moe(t.repoInfo_,()=>new pse(t.stats_,t.server_)),t.infoData_=new cse,t.infoSyncTree_=new D2({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Ag(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),LT(t,"connected",!1),t.serverSyncTree_=new D2({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const c=s(a,l);Is(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Aae(t){const n=t.infoData_.getNode(new sn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function $T(t){return fae({timestamp:Aae(t)})}function L2(t,e,n,r,i){t.dataUpdateCount++;const o=new sn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=uv(n,c=>Er(c));s=sae(t.serverSyncTree_,o,l,i)}else{const l=Er(n);s=v3(t.serverSyncTree_,o,l,i)}else if(r){const l=uv(n,c=>Er(c));s=rae(t.serverSyncTree_,o,l)}else{const l=Er(n);s=Ag(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Q_(t,o)),Is(t.eventQueue_,a,s)}function F2(t,e){LT(t,"connected",e),e===!1&&Dae(t)}function Oae(t,e){Ai(e,(n,r)=>{LT(t,n,r)})}function LT(t,e,n){const r=new sn("/.info/"+e),i=Er(n);t.infoData_.updateSnapshot(r,i);const o=Ag(t.infoSyncTree_,r,i);Is(t.eventQueue_,r,o)}function O3(t){return t.nextWriteId_++}function Nae(t,e,n){const r=aae(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const o=Er(i).withIndex(e._queryParams.getIndex());XE(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=Ag(t.serverSyncTree_,e._path,o);else{const a=zp(t.serverSyncTree_,e);s=v3(t.serverSyncTree_,e._path,o,a)}return Is(t.eventQueue_,e._path,s),Zv(t.serverSyncTree_,e,n,null,!0),o},i=>(X_(t,"get for query "+lr(e)+" failed: "+i),Promise.reject(new Error(i))))}function Mae(t,e,n,r,i){X_(t,"set",{path:e.toString(),value:n,priority:r});const o=$T(t),s=Er(n,r),a=CT(t.serverSyncTree_,e),l=x3(s,a,o),c=O3(t),u=y3(t.serverSyncTree_,e,l,c,!0);DT(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(h,p)=>{const m=h==="ok";m||Ri("set at "+e+" failed: "+h);const x=fc(t.serverSyncTree_,c,!m);Is(t.eventQueue_,e,x),Fae(t,i,h,p)});const f=L3(t,e);Q_(t,f),Is(t.eventQueue_,f,[])}function Dae(t){X_(t,"onDisconnectEvents");const e=$T(t),n=Hv();HE(t.onDisconnect_,jt(),(i,o)=>{const s=gae(i,o,t.serverSyncTree_,e);t3(n,i,s)});let r=[];HE(n,jt(),(i,o)=>{r=r.concat(Ag(t.serverSyncTree_,i,o));const s=L3(t,i);Q_(t,s)}),t.onDisconnect_=Hv(),Is(t.eventQueue_,jt(),r)}function $ae(t,e,n){let r;wt(e._path)===".info"?r=XE(t.infoSyncTree_,e,n):r=XE(t.serverSyncTree_,e,n),k3(t.eventQueue_,e._path,r)}function JE(t,e,n){let r;wt(e._path)===".info"?r=Zv(t.infoSyncTree_,e,n):r=Zv(t.serverSyncTree_,e,n),k3(t.eventQueue_,e._path,r)}function Lae(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Iae)}function X_(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Gr(n,...e)}function Fae(t,e,n,r){e&&pf(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function N3(t,e,n){return CT(t.serverSyncTree_,e,n)||Ke.EMPTY_NODE}function FT(t,e=t.transactionQueueTree_){if(e||J_(t,e),gf(e)){const n=D3(t,e);me(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Bae(t,Ng(e),n)}else S3(e)&&Y_(e,n=>{FT(t,n)})}function Bae(t,e,n){const r=n.map(c=>c.currentWriteId),i=N3(t,e,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const u=n[c];me(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=oi(e,u.path);o=o.updateChild(f,u.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{X_(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(fc(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();J_(t,NT(t.transactionQueueTree_,e)),FT(t,t.transactionQueueTree_),Is(t.eventQueue_,e,u);for(let h=0;h<f.length;h++)pf(f[h])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Ri("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}Q_(t,e)}},s)}function Q_(t,e){const n=M3(t,e),r=Ng(n),i=D3(t,n);return Vae(t,i,r),r}function Vae(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=oi(n,l.path);let u=!1,f;if(me(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,f=l.abortReason,i=i.concat(fc(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Rae)u=!0,f="maxretry",i=i.concat(fc(t.serverSyncTree_,l.currentWriteId,!0));else{const h=N3(t,l.path,s);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){MT("transaction failed: Data returned ",p,l.path);let m=Er(p);typeof p=="object"&&p!=null&&ba(p,".priority")||(m=m.updatePriority(h.getPriority()));const S=l.currentWriteId,b=$T(t),w=x3(m,h,b);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=w,l.currentWriteId=O3(t),s.splice(s.indexOf(S),1),i=i.concat(y3(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(fc(t.serverSyncTree_,S,!0))}else u=!0,f="nodata",i=i.concat(fc(t.serverSyncTree_,l.currentWriteId,!0))}Is(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}J_(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)pf(r[a]);FT(t,t.transactionQueueTree_)}function M3(t,e){let n,r=t.transactionQueueTree_;for(n=wt(e);n!==null&&gf(r)===void 0;)r=NT(r,n),e=hn(e),n=wt(e);return r}function D3(t,e){const n=[];return $3(t,e,n),n.sort((r,i)=>r.order-i.order),n}function $3(t,e,n){const r=gf(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Y_(e,i=>{$3(t,i,n)})}function J_(t,e){const n=gf(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,E3(e,n.length>0?n:void 0)}Y_(e,r=>{J_(t,r)})}function L3(t,e){const n=Ng(M3(t,e)),r=NT(t.transactionQueueTree_,e);return yae(r,i=>{Ow(t,i)}),Ow(t,r),C3(r,i=>{Ow(t,i)}),n}function Ow(t,e){const n=gf(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(me(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(me(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(fc(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?E3(e,void 0):n.length=o+1,Is(t.eventQueue_,Ng(e),i);for(let s=0;s<r.length;s++)pf(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jae(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Uae(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ri(`Invalid query segment '${n}' in query '${t}'`)}return e}const B2=function(t,e){const n=zae(t),r=n.namespace;n.domain==="firebase.com"&&va(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&va("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||noe();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new $4(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new sn(n.pathString)}},zae=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(u,f)),u<f&&(i=jae(t.substring(u,f)));const h=Uae(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wae{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+lr(this.snapshot.exportVal())}}class Hae{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return me(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Rt(this._path)?null:H4(this._path)}get ref(){return new wa(this._repo,this._path)}get _queryIdentifier(){const e=S2(this._queryParams),n=uT(e);return n==="{}"?"default":n}get _queryObject(){return S2(this._queryParams)}isEqual(e){if(e=Xt(e),!(e instanceof VT))return!1;const n=this._repo===e._repo,r=pT(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Boe(this._path)}}class wa extends VT{constructor(e,n){super(e,n,new vT,!1)}get parent(){const e=K4(this._path);return e===null?null:new wa(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Wp{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new sn(e),r=eS(this.ref,e);return new Wp(this._node.getChild(n),r,Bn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Wp(i,eS(this.ref,r),Bn)))}hasChild(e){const n=new sn(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ZE(t,e){return t=Xt(t),t._checkNotDeleted("ref"),e!==void 0?eS(t._root,e):t._root}function eS(t,e){return t=Xt(t),wt(t._path)===null?Eae("child","path",e):R3("child","path",e),new wa(t._repo,cr(t._path,e))}function V2(t){return P3("remove",t._path),tS(t,null)}function tS(t,e){t=Xt(t),P3("set",t._path),xae("set",e,t._path);const n=new k0;return Mae(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Gae(t){t=Xt(t);const e=new BT(()=>{}),n=new Mg(e);return Nae(t._repo,t,n).then(r=>new Wp(r,new wa(t._repo,t._path),t._queryParams.getIndex()))}class Mg{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new Wae("value",this,new Wp(e.snapshotNode,new wa(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Hae(this,e,n):null}matches(e){return e instanceof Mg?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Kae(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){const l=n,c=(u,f)=>{JE(t._repo,t,a),l(u,f)};c.userCallback=n.userCallback,c.context=n.context,n=c}const s=new BT(n,o||void 0),a=new Mg(s);return $ae(t._repo,t,a),()=>JE(t._repo,t,a)}function qae(t,e,n,r){return Kae(t,"value",e,n,r)}function Yae(t,e,n){let r=null;const i=n?new BT(n):null;r=new Mg(i),JE(t._repo,t,r)}Yse(wa);eae(wa);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xae="FIREBASE_DATABASE_EMULATOR_HOST",nS={};let Qae=!1;function Jae(t,e,n,r){t.repoInfo_=new $4(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function Zae(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||va("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Gr("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=B2(o,i),a=s.repoInfo,l;typeof process<"u"&&s2&&(l=s2[Xae]),l?(o=`http://${l}?ns=${a.namespace}`,s=B2(o,i),a=s.repoInfo):s.repoInfo.secure;const c=new hoe(t.name,t.options,e);Sae("Invalid Firebase Database URL",s),Rt(s.path)||va("Database URL must point to the root of a Firebase Database (not including a child path).");const u=tle(a,t,c,new foe(t,n));return new nle(u,t)}function ele(t,e){const n=nS[e];(!n||n[t.key]!==t)&&va(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Lae(t),delete n[t.key]}function tle(t,e,n,r){let i=nS[e.name];i||(i={},nS[e.name]=i);let o=i[t.toURLString()];return o&&va("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Pae(t,Qae,n,r),i[t.toURLString()]=o,o}class nle{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(kae(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new wa(this._repo,jt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(ele(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&va("Cannot call "+e+" on a deleted database.")}}function rS(t=N0(),e){const n=ig(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=yC("database");r&&rle(n,...r)}return n}function rle(t,e,n,r={}){t=Xt(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&ca(r,o.repoInfo_.emulatorOptions))return;va("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&va('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new My(My.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:vC(r.mockUserToken,t.app.options.projectId);s=new My(a)}Jae(o,i,r,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ile(t){Xie(Dl),vl(new ua("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return Zae(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),bo(a2,l2,t),bo(a2,l2,"esm2017")}ra.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ra.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};ile();var Z_={exports:{}},F3={};function B3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=B3(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function j2(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=B3(t))&&(r&&(r+=" "),r+=e);return r}const ole=Object.freeze(Object.defineProperty({__proto__:null,clsx:j2,default:j2},Symbol.toStringTag,{value:"Module"})),sle=fV(ole);var Un={},Os={};Object.defineProperty(Os,"__esModule",{value:!0});Os.dontSetMe=dle;Os.findInArray=ale;Os.int=ule;Os.isFunction=lle;Os.isNum=cle;function ale(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function lle(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function cle(t){return typeof t=="number"&&!isNaN(t)}function ule(t){return parseInt(t,10)}function dle(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var Wc={};Object.defineProperty(Wc,"__esModule",{value:!0});Wc.browserPrefixToKey=j3;Wc.browserPrefixToStyle=fle;Wc.default=void 0;Wc.getPrefix=V3;const Nw=["Moz","Webkit","O","ms"];function V3(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<Nw.length;r++)if(j3(e,Nw[r])in n)return Nw[r];return""}function j3(t,e){return e?"".concat(e).concat(hle(t)):t}function fle(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function hle(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}Wc.default=V3();Object.defineProperty(Un,"__esModule",{value:!0});Un.addClassName=W3;Un.addEvent=mle;Un.addUserSelectStyles=Ile;Un.createCSSTransform=Ele;Un.createSVGTransform=Sle;Un.getTouch=Cle;Un.getTouchIdentifier=Tle;Un.getTranslation=jT;Un.innerHeight=ble;Un.innerWidth=wle;Un.matchesSelector=z3;Un.matchesSelectorAndParentsTo=gle;Un.offsetXYFromParent=xle;Un.outerHeight=vle;Un.outerWidth=_le;Un.removeClassName=H3;Un.removeEvent=yle;Un.removeUserSelectStyles=Rle;var Zi=Os,U2=ple(Wc);function U3(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(U3=function(r){return r?n:e})(t)}function ple(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=U3(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}let Qm="";function z3(t,e){return Qm||(Qm=(0,Zi.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Zi.isFunction)(t[n])})),(0,Zi.isFunction)(t[Qm])?t[Qm](e):!1}function gle(t,e,n){let r=t;do{if(z3(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function mle(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,i):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function yle(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function vle(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Zi.int)(n.borderTopWidth),e+=(0,Zi.int)(n.borderBottomWidth),e}function _le(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Zi.int)(n.borderLeftWidth),e+=(0,Zi.int)(n.borderRightWidth),e}function ble(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Zi.int)(n.paddingTop),e-=(0,Zi.int)(n.paddingBottom),e}function wle(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Zi.int)(n.paddingLeft),e-=(0,Zi.int)(n.paddingRight),e}function xle(t,e,n){const i=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),o=(t.clientX+e.scrollLeft-i.left)/n,s=(t.clientY+e.scrollTop-i.top)/n;return{x:o,y:s}}function Ele(t,e){const n=jT(t,e,"px");return{[(0,U2.browserPrefixToKey)("transform",U2.default)]:n}}function Sle(t,e){return jT(t,e,"")}function jT(t,e,n){let{x:r,y:i}=t,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(e){const s="".concat(typeof e.x=="string"?e.x:e.x+n),a="".concat(typeof e.y=="string"?e.y:e.y+n);o="translate(".concat(s,", ").concat(a,")")+o}return o}function Cle(t,e){return t.targetTouches&&(0,Zi.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,Zi.findInArray)(t.changedTouches,n=>e===n.identifier)}function Tle(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function Ile(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&W3(t.body,"react-draggable-transparent-selection")}function Rle(t){if(t)try{if(t.body&&H3(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function W3(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function H3(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.canDragX=Ale;Ns.canDragY=Ole;Ns.createCoreData=Mle;Ns.createDraggableData=Dle;Ns.getBoundPosition=Ple;Ns.getControlPosition=Nle;Ns.snapToGrid=kle;var Li=Os,id=Un;function Ple(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:$le(r);const i=UT(t);if(typeof r=="string"){const{ownerDocument:o}=i,s=o.defaultView;let a;if(r==="parent"?a=i.parentNode:a=o.querySelector(r),!(a instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const l=a,c=s.getComputedStyle(i),u=s.getComputedStyle(l);r={left:-i.offsetLeft+(0,Li.int)(u.paddingLeft)+(0,Li.int)(c.marginLeft),top:-i.offsetTop+(0,Li.int)(u.paddingTop)+(0,Li.int)(c.marginTop),right:(0,id.innerWidth)(l)-(0,id.outerWidth)(i)-i.offsetLeft+(0,Li.int)(u.paddingRight)-(0,Li.int)(c.marginRight),bottom:(0,id.innerHeight)(l)-(0,id.outerHeight)(i)-i.offsetTop+(0,Li.int)(u.paddingBottom)-(0,Li.int)(c.marginBottom)}}return(0,Li.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,Li.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Li.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,Li.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function kle(t,e,n){const r=Math.round(e/t[0])*t[0],i=Math.round(n/t[1])*t[1];return[r,i]}function Ale(t){return t.props.axis==="both"||t.props.axis==="x"}function Ole(t){return t.props.axis==="both"||t.props.axis==="y"}function Nle(t,e,n){const r=typeof e=="number"?(0,id.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const i=UT(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,id.offsetXYFromParent)(r||t,o,n.props.scale)}function Mle(t,e,n){const r=!(0,Li.isNum)(t.lastX),i=UT(t);return r?{node:i,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:i,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function Dle(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function $le(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function UT(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var eb={},tb={};Object.defineProperty(tb,"__esModule",{value:!0});tb.default=Lle;function Lle(){}Object.defineProperty(eb,"__esModule",{value:!0});eb.default=void 0;var Mw=Ble(v),gi=zT(O1),Fle=zT(Zp),Vr=Un,Da=Ns,Dw=Os,lh=zT(tb);function zT(t){return t&&t.__esModule?t:{default:t}}function G3(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(G3=function(r){return r?n:e})(t)}function Ble(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=G3(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function ni(t,e,n){return e=Vle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vle(t){var e=jle(t,"string");return typeof e=="symbol"?e:String(e)}function jle(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Bo={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let $a=Bo.mouse,nb=class extends Mw.Component{constructor(){super(...arguments),ni(this,"dragging",!1),ni(this,"lastX",NaN),ni(this,"lastY",NaN),ni(this,"touchIdentifier",null),ni(this,"mounted",!1),ni(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Vr.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,Vr.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const i=(0,Vr.getTouchIdentifier)(e);this.touchIdentifier=i;const o=(0,Da.getControlPosition)(e,i,this);if(o==null)return;const{x:s,y:a}=o,l=(0,Da.createCoreData)(this,s,a);(0,lh.default)("DraggableCore: handleDragStart: %j",l),(0,lh.default)("calling",this.props.onStart),!(this.props.onStart(e,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Vr.addUserSelectStyles)(r),this.dragging=!0,this.lastX=s,this.lastY=a,(0,Vr.addEvent)(r,$a.move,this.handleDrag),(0,Vr.addEvent)(r,$a.stop,this.handleDragStop))}),ni(this,"handleDrag",e=>{const n=(0,Da.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,l=i-this.lastY;if([a,l]=(0,Da.snapToGrid)(this.props.grid,a,l),!a&&!l)return;r=this.lastX+a,i=this.lastY+l}const o=(0,Da.createCoreData)(this,r,i);if((0,lh.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(e,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=r,this.lastY=i}),ni(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,Da.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX||0,c=i-this.lastY||0;[l,c]=(0,Da.snapToGrid)(this.props.grid,l,c),r=this.lastX+l,i=this.lastY+c}const o=(0,Da.createCoreData)(this,r,i);if(this.props.onStop(e,o)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,Vr.removeUserSelectStyles)(a.ownerDocument),(0,lh.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,lh.default)("DraggableCore: Removing handlers"),(0,Vr.removeEvent)(a.ownerDocument,$a.move,this.handleDrag),(0,Vr.removeEvent)(a.ownerDocument,$a.stop,this.handleDragStop))}),ni(this,"onMouseDown",e=>($a=Bo.mouse,this.handleDragStart(e))),ni(this,"onMouseUp",e=>($a=Bo.mouse,this.handleDragStop(e))),ni(this,"onTouchStart",e=>($a=Bo.touch,this.handleDragStart(e))),ni(this,"onTouchEnd",e=>($a=Bo.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Vr.addEvent)(e,Bo.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,Vr.removeEvent)(n,Bo.mouse.move,this.handleDrag),(0,Vr.removeEvent)(n,Bo.touch.move,this.handleDrag),(0,Vr.removeEvent)(n,Bo.mouse.stop,this.handleDragStop),(0,Vr.removeEvent)(n,Bo.touch.stop,this.handleDragStop),(0,Vr.removeEvent)(e,Bo.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Vr.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:Fle.default.findDOMNode(this)}render(){return Mw.cloneElement(Mw.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};eb.default=nb;ni(nb,"displayName","DraggableCore");ni(nb,"propTypes",{allowAnyClick:gi.default.bool,children:gi.default.node.isRequired,disabled:gi.default.bool,enableUserSelectHack:gi.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:gi.default.arrayOf(gi.default.number),handle:gi.default.string,cancel:gi.default.string,nodeRef:gi.default.object,onStart:gi.default.func,onDrag:gi.default.func,onStop:gi.default.func,onMouseDown:gi.default.func,scale:gi.default.number,className:Dw.dontSetMe,style:Dw.dontSetMe,transform:Dw.dontSetMe});ni(nb,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var e=h(v),n=u(O1),r=u(Zp),i=u(sle),o=Un,s=Ns,a=Os,l=u(eb),c=u(tb);function u(w){return w&&w.__esModule?w:{default:w}}function f(w){if(typeof WeakMap!="function")return null;var g=new WeakMap,C=new WeakMap;return(f=function(N){return N?C:g})(w)}function h(w,g){if(w&&w.__esModule)return w;if(w===null||typeof w!="object"&&typeof w!="function")return{default:w};var C=f(g);if(C&&C.has(w))return C.get(w);var N={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in w)if(E!=="default"&&Object.prototype.hasOwnProperty.call(w,E)){var I=M?Object.getOwnPropertyDescriptor(w,E):null;I&&(I.get||I.set)?Object.defineProperty(N,E,I):N[E]=w[E]}return N.default=w,C&&C.set(w,N),N}function p(){return p=Object.assign?Object.assign.bind():function(w){for(var g=1;g<arguments.length;g++){var C=arguments[g];for(var N in C)Object.prototype.hasOwnProperty.call(C,N)&&(w[N]=C[N])}return w},p.apply(this,arguments)}function m(w,g,C){return g=x(g),g in w?Object.defineProperty(w,g,{value:C,enumerable:!0,configurable:!0,writable:!0}):w[g]=C,w}function x(w){var g=S(w,"string");return typeof g=="symbol"?g:String(g)}function S(w,g){if(typeof w!="object"||w===null)return w;var C=w[Symbol.toPrimitive];if(C!==void 0){var N=C.call(w,g);if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(w)}class b extends e.Component{static getDerivedStateFromProps(g,C){let{position:N}=g,{prevPropsPosition:M}=C;return N&&(!M||N.x!==M.x||N.y!==M.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:N,prevPropsPosition:M}),{x:N.x,y:N.y,prevPropsPosition:{...N}}):null}constructor(g){super(g),m(this,"onDragStart",(C,N)=>{if((0,c.default)("Draggable: onDragStart: %j",N),this.props.onStart(C,(0,s.createDraggableData)(this,N))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),m(this,"onDrag",(C,N)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",N);const M=(0,s.createDraggableData)(this,N),E={x:M.x,y:M.y,slackX:0,slackY:0};if(this.props.bounds){const{x:k,y:_}=E;E.x+=this.state.slackX,E.y+=this.state.slackY;const[O,$]=(0,s.getBoundPosition)(this,E.x,E.y);E.x=O,E.y=$,E.slackX=this.state.slackX+(k-E.x),E.slackY=this.state.slackY+(_-E.y),M.x=E.x,M.y=E.y,M.deltaX=E.x-this.state.x,M.deltaY=E.y-this.state.y}if(this.props.onDrag(C,M)===!1)return!1;this.setState(E)}),m(this,"onDragStop",(C,N)=>{if(!this.state.dragging||this.props.onStop(C,(0,s.createDraggableData)(this,N))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",N);const E={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:k,y:_}=this.props.position;E.x=k,E.y=_}this.setState(E)}),this.state={dragging:!1,dragged:!1,x:g.position?g.position.x:g.defaultPosition.x,y:g.position?g.position.y:g.defaultPosition.y,prevPropsPosition:{...g.position},slackX:0,slackY:0,isElementSVG:!1},g.position&&!(g.onDrag||g.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var g,C;return(g=(C=this.props)===null||C===void 0||(C=C.nodeRef)===null||C===void 0?void 0:C.current)!==null&&g!==void 0?g:r.default.findDOMNode(this)}render(){const{axis:g,bounds:C,children:N,defaultPosition:M,defaultClassName:E,defaultClassNameDragging:I,defaultClassNameDragged:k,position:_,positionOffset:O,scale:$,...A}=this.props;let Q={},W=null;const ie=!!!_||this.state.dragging,K=_||M,j={x:(0,s.canDragX)(this)&&ie?this.state.x:K.x,y:(0,s.canDragY)(this)&&ie?this.state.y:K.y};this.state.isElementSVG?W=(0,o.createSVGTransform)(j,O):Q=(0,o.createCSSTransform)(j,O);const G=(0,i.default)(N.props.className||"",E,{[I]:this.state.dragging,[k]:this.state.dragged});return e.createElement(l.default,p({},A,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(N),{className:G,style:{...N.props.style,...Q},transform:W}))}}t.default=b,m(b,"displayName","Draggable"),m(b,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),m(b,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(F3);const{default:K3,DraggableCore:Ule}=F3;Z_.exports=K3;Z_.exports.default=K3;Z_.exports.DraggableCore=Ule;var zle=Z_.exports;const Wle=Kp(zle),z2=100,W2=40,Hle=v.memo(({node:t,zoom:e,groupDelta:n,isHighlighted:r,currentUserEmail:i,selectedNodes:o,editingNodeId:s,editedText:a,handleResizeMouseDown:l,handleNodeClick:c,handleDoubleClick:u,handleTyping:f,handleTextBlur:h,setEditedText:p,setHoveredNodeId:m,linkingSource:x,onStart:S,onDrag:b,onStop:w,hoveredNodeId:g})=>{const C=o.includes(t.id),N=g===t.id,M=((t.width||z2)+(t.height||W2))/2,E=M*.02,k=Math.max(E,4),_=C?"#8896DD":N?"white":"transparent",O=o.includes(t.id)?t.x+n.x:t.x,$=o.includes(t.id)?t.y+n.y:t.y;t.bgColor||t.id,t.textColor;const A=M*.03,Q=M*.1,W=t.fontSize?parseFloat(t.fontSize):14,q=W*.1,ie=W*.2,K=`${q}px ${q}px ${ie}px rgba(0, 0, 0, 0.7)`;return P.jsx(Wle,{scale:e,position:{x:O,y:$},onStart:S,onDrag:b,onStop:w,children:P.jsxs("div",{onMouseEnter:()=>m(t.id),onMouseLeave:()=>m(null),onClick:j=>{j.stopPropagation(),c(t,j)},onDoubleClick:()=>u(t),style:{position:"absolute",transform:`translate3d(${t.x}px, ${t.y}px, 0)`,padding:"10px",backgroundColor:t.bgColor?t.bgColor:x===t.id?"#333":"#1e1e1e",color:t.textColor||"#fff",borderRadius:"8px",cursor:"grab",minWidth:"120px",width:t.width?`${t.width}px`:`${z2}px`,height:t.height?`${t.height}px`:`${W2}px`,overflow:"hidden",boxSizing:"border-box",fontSize:t.fontSize?`${t.fontSize}px`:"14px",textAlign:t.textAlign||"left",fontStyle:t.textStyle&&t.textStyle.includes("italic")?"italic":"normal",textDecoration:t.textStyle&&t.textStyle.includes("underline")?"underline":"none",fontWeight:t.textStyle&&t.textStyle.includes("bold")?"bold":"normal",fontFamily:t.fontFamily||"Arial, sans-serif",outlineWidth:`${k}px`,outlineStyle:"solid",outlineColor:_,outlineOffset:`${k}px`,transition:C?"outline-color 0.25s ease-in-out, box-shadow 0.2s ease-in-out, background-color 0.15s ease-in-out, color 0.15s ease-in-out":"none",boxShadow:`0 ${A}px ${Q}px rgba(0, 0, 0, 0.5)`,textShadow:K},children:[s===t.id?P.jsx("textarea",{value:a,onChange:j=>{p(j.target.value),f(t.id)},onBlur:()=>h(t.id),autoFocus:!0,style:{backgroundColor:"inherit",width:"100%",height:"107%",fontSize:"inherit",color:"inherit",fontStyle:"inherit",fontFamily:"inherit",fontWeight:"inherit",textDecoration:"inherit",textAlign:"inherit",border:"none",outline:"none",resize:"none",textShadow:K,padding:0,margin:0,boxSizing:"border-box"}}):t.type==="image"?P.jsx("img",{src:t.imageUrl,alt:"Node content",style:{width:"100%",height:"100%",objectFit:"contain",pointerEvents:"none"}}):P.jsx("span",{style:{whiteSpace:"pre-wrap"},children:t.text}),t.lockedBy&&t.lockedBy!==i&&P.jsxs("div",{style:{position:"absolute",bottom:0,left:0,backgroundColor:"rgba(255,0,0,0.7)",color:"#fff",fontSize:"10px",padding:"2px",borderRadius:"2px"},children:["Locked by ",t.lockedBy]}),t.typing&&t.lockedBy&&t.lockedBy!==i&&P.jsx("div",{style:{position:"absolute",bottom:0,right:0,backgroundColor:"rgba(0,0,255,0.7)",color:"#fff",fontSize:"10px",padding:"2px",borderRadius:"2px"},children:"Typing..."}),P.jsx("div",{onMouseDown:j=>l(t,j),style:{position:"absolute",bottom:0,right:0,width:"10%",height:"10%",opacity:.5,cursor:"nwse-resize",backgroundColor:"#ccc"}})]})})}),Gle=(t,e,n=150,r=800,i=1.5)=>{const o={},s=c=>{if(c.parent){if(o[c.parent]===void 0){const u=t.find(f=>f.id===c.parent);u?s(u):o[c.parent]=0}o[c.id]=o[c.parent]+1}else o[c.id]=0};t.forEach(c=>{o[c.id]===void 0&&s(c)});const a={};t.forEach(c=>{const u=o[c.id];a[u]||(a[u]=[]),a[u].push(c.id)});const l={};return Object.keys(a).forEach(c=>{const u=parseInt(c,10),f=a[u],h=f.length,p=r*Math.pow(i,u);f.forEach((m,x)=>{const b=(x+1)/(h+1)*p-p/2+r/2,w=u*n;l[m]={x:b,y:w}})}),{layout:l,levelMap:o}},Kle=(t,e,n=100,r=400,i=300)=>{const o={},s=c=>{if(c.parent){if(o[c.parent]===void 0){const u=t.find(f=>f.id===c.parent);u?s(u):o[c.parent]=0}o[c.id]=o[c.parent]+1}else o[c.id]=0};t.forEach(c=>{o[c.id]===void 0&&s(c)});const a={};t.forEach(c=>{const u=o[c.id];a[u]||(a[u]=[]),a[u].push(c.id)});const l={};return Object.keys(a).forEach(c=>{const u=parseInt(c,10),f=a[u],h=f.length,p=u*n,m=2*Math.PI/h;let x=0;f.forEach(S=>{const b=r+p*Math.cos(x),w=i+p*Math.sin(x);l[S]={x:b,y:w},x+=m})}),{layout:l,levelMap:o}},qle=(t,e,n=150,r=600,i=1.5)=>{const o={},s=c=>{if(c.parent){if(o[c.parent]===void 0){const u=t.find(f=>f.id===c.parent);u?s(u):o[c.parent]=0}o[c.id]=o[c.parent]+1}else o[c.id]=0};t.forEach(c=>{o[c.id]===void 0&&s(c)});const a={};t.forEach(c=>{const u=o[c.id];a[u]||(a[u]=[]),a[u].push(c.id)});const l={};return Object.keys(a).forEach(c=>{const u=parseInt(c,10),f=a[u],h=f.length,p=r*Math.pow(i,u);f.forEach((m,x)=>{const b=(x+1)/(h+1)*p-p/2+r/2,w=u*n;l[m]={x:w,y:b}})}),{layout:l,levelMap:o}};var yo={},Dg={},Yle=typeof Ya=="object"&&Ya&&Ya.Object===Object&&Ya,q3=Yle,Xle=q3,Qle=typeof self=="object"&&self&&self.Object===Object&&self,Jle=Xle||Qle||Function("return this")(),Ms=Jle,Zle=Ms,ece=Zle.Symbol,$g=ece,H2=$g,Y3=Object.prototype,tce=Y3.hasOwnProperty,nce=Y3.toString,ch=H2?H2.toStringTag:void 0;function rce(t){var e=tce.call(t,ch),n=t[ch];try{t[ch]=void 0;var r=!0}catch{}var i=nce.call(t);return r&&(e?t[ch]=n:delete t[ch]),i}var ice=rce,oce=Object.prototype,sce=oce.toString;function ace(t){return sce.call(t)}var lce=ace,G2=$g,cce=ice,uce=lce,dce="[object Null]",fce="[object Undefined]",K2=G2?G2.toStringTag:void 0;function hce(t){return t==null?t===void 0?fce:dce:K2&&K2 in Object(t)?cce(t):uce(t)}var Hc=hce,pce=Array.isArray,rs=pce;function gce(t){return t!=null&&typeof t=="object"}var xa=gce,mce=Hc,yce=rs,vce=xa,_ce="[object String]";function bce(t){return typeof t=="string"||!yce(t)&&vce(t)&&mce(t)==_ce}var wce=bce;function xce(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var Ece=xce,Sce=Ece,Cce=Sce(),Tce=Cce;function Ice(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Rce=Ice,Pce=Hc,kce=xa,Ace="[object Arguments]";function Oce(t){return kce(t)&&Pce(t)==Ace}var Nce=Oce,q2=Nce,Mce=xa,X3=Object.prototype,Dce=X3.hasOwnProperty,$ce=X3.propertyIsEnumerable,Lce=q2(function(){return arguments}())?q2:function(t){return Mce(t)&&Dce.call(t,"callee")&&!$ce.call(t,"callee")},Q3=Lce,e0={exports:{}};function Fce(){return!1}var Bce=Fce;e0.exports;(function(t,e){var n=Ms,r=Bce,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(e0,e0.exports);var WT=e0.exports,Vce=9007199254740991,jce=/^(?:0|[1-9]\d*)$/;function Uce(t,e){var n=typeof t;return e=e??Vce,!!e&&(n=="number"||n!="symbol"&&jce.test(t))&&t>-1&&t%1==0&&t<e}var J3=Uce,zce=9007199254740991;function Wce(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=zce}var HT=Wce,Hce=Hc,Gce=HT,Kce=xa,qce="[object Arguments]",Yce="[object Array]",Xce="[object Boolean]",Qce="[object Date]",Jce="[object Error]",Zce="[object Function]",eue="[object Map]",tue="[object Number]",nue="[object Object]",rue="[object RegExp]",iue="[object Set]",oue="[object String]",sue="[object WeakMap]",aue="[object ArrayBuffer]",lue="[object DataView]",cue="[object Float32Array]",uue="[object Float64Array]",due="[object Int8Array]",fue="[object Int16Array]",hue="[object Int32Array]",pue="[object Uint8Array]",gue="[object Uint8ClampedArray]",mue="[object Uint16Array]",yue="[object Uint32Array]",vn={};vn[cue]=vn[uue]=vn[due]=vn[fue]=vn[hue]=vn[pue]=vn[gue]=vn[mue]=vn[yue]=!0;vn[qce]=vn[Yce]=vn[aue]=vn[Xce]=vn[lue]=vn[Qce]=vn[Jce]=vn[Zce]=vn[eue]=vn[tue]=vn[nue]=vn[rue]=vn[iue]=vn[oue]=vn[sue]=!1;function vue(t){return Kce(t)&&Gce(t.length)&&!!vn[Hce(t)]}var _ue=vue;function bue(t){return function(e){return t(e)}}var GT=bue,t0={exports:{}};t0.exports;(function(t,e){var n=q3,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(t0,t0.exports);var KT=t0.exports,wue=_ue,xue=GT,Y2=KT,X2=Y2&&Y2.isTypedArray,Eue=X2?xue(X2):wue,Z3=Eue,Sue=Rce,Cue=Q3,Tue=rs,Iue=WT,Rue=J3,Pue=Z3,kue=Object.prototype,Aue=kue.hasOwnProperty;function Oue(t,e){var n=Tue(t),r=!n&&Cue(t),i=!n&&!r&&Iue(t),o=!n&&!r&&!i&&Pue(t),s=n||r||i||o,a=s?Sue(t.length,String):[],l=a.length;for(var c in t)(e||Aue.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Rue(c,l)))&&a.push(c);return a}var eB=Oue,Nue=Object.prototype;function Mue(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Nue;return t===n}var qT=Mue;function Due(t,e){return function(n){return t(e(n))}}var tB=Due,$ue=tB,Lue=$ue(Object.keys,Object),Fue=Lue,Bue=qT,Vue=Fue,jue=Object.prototype,Uue=jue.hasOwnProperty;function zue(t){if(!Bue(t))return Vue(t);var e=[];for(var n in Object(t))Uue.call(t,n)&&n!="constructor"&&e.push(n);return e}var Wue=zue;function Hue(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var mf=Hue,Gue=Hc,Kue=mf,que="[object AsyncFunction]",Yue="[object Function]",Xue="[object GeneratorFunction]",Que="[object Proxy]";function Jue(t){if(!Kue(t))return!1;var e=Gue(t);return e==Yue||e==Xue||e==que||e==Que}var nB=Jue,Zue=nB,ede=HT;function tde(t){return t!=null&&ede(t.length)&&!Zue(t)}var rb=tde,nde=eB,rde=Wue,ide=rb;function ode(t){return ide(t)?nde(t):rde(t)}var Lg=ode,sde=Tce,ade=Lg;function lde(t,e){return t&&sde(t,e,ade)}var rB=lde;function cde(t){return t}var iB=cde,ude=iB;function dde(t){return typeof t=="function"?t:ude}var fde=dde,hde=rB,pde=fde;function gde(t,e){return t&&hde(t,pde(e))}var YT=gde,mde=tB,yde=mde(Object.getPrototypeOf,Object),XT=yde,vde=Hc,_de=XT,bde=xa,wde="[object Object]",xde=Function.prototype,Ede=Object.prototype,oB=xde.toString,Sde=Ede.hasOwnProperty,Cde=oB.call(Object);function Tde(t){if(!bde(t)||vde(t)!=wde)return!1;var e=_de(t);if(e===null)return!0;var n=Sde.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&oB.call(n)==Cde}var Ide=Tde;function Rde(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var sB=Rde;function Pde(){this.__data__=[],this.size=0}var kde=Pde;function Ade(t,e){return t===e||t!==t&&e!==e}var QT=Ade,Ode=QT;function Nde(t,e){for(var n=t.length;n--;)if(Ode(t[n][0],e))return n;return-1}var ib=Nde,Mde=ib,Dde=Array.prototype,$de=Dde.splice;function Lde(t){var e=this.__data__,n=Mde(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():$de.call(e,n,1),--this.size,!0}var Fde=Lde,Bde=ib;function Vde(t){var e=this.__data__,n=Bde(e,t);return n<0?void 0:e[n][1]}var jde=Vde,Ude=ib;function zde(t){return Ude(this.__data__,t)>-1}var Wde=zde,Hde=ib;function Gde(t,e){var n=this.__data__,r=Hde(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Kde=Gde,qde=kde,Yde=Fde,Xde=jde,Qde=Wde,Jde=Kde;function yf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yf.prototype.clear=qde;yf.prototype.delete=Yde;yf.prototype.get=Xde;yf.prototype.has=Qde;yf.prototype.set=Jde;var ob=yf,Zde=ob;function efe(){this.__data__=new Zde,this.size=0}var tfe=efe;function nfe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var rfe=nfe;function ife(t){return this.__data__.get(t)}var ofe=ife;function sfe(t){return this.__data__.has(t)}var afe=sfe,lfe=Ms,cfe=lfe["__core-js_shared__"],ufe=cfe,$w=ufe,Q2=function(){var t=/[^.]+$/.exec($w&&$w.keys&&$w.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function dfe(t){return!!Q2&&Q2 in t}var ffe=dfe,hfe=Function.prototype,pfe=hfe.toString;function gfe(t){if(t!=null){try{return pfe.call(t)}catch{}try{return t+""}catch{}}return""}var aB=gfe,mfe=nB,yfe=ffe,vfe=mf,_fe=aB,bfe=/[\\^$.*+?()[\]{}|]/g,wfe=/^\[object .+?Constructor\]$/,xfe=Function.prototype,Efe=Object.prototype,Sfe=xfe.toString,Cfe=Efe.hasOwnProperty,Tfe=RegExp("^"+Sfe.call(Cfe).replace(bfe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ife(t){if(!vfe(t)||yfe(t))return!1;var e=mfe(t)?Tfe:wfe;return e.test(_fe(t))}var Rfe=Ife;function Pfe(t,e){return t==null?void 0:t[e]}var kfe=Pfe,Afe=Rfe,Ofe=kfe;function Nfe(t,e){var n=Ofe(t,e);return Afe(n)?n:void 0}var Gc=Nfe,Mfe=Gc,Dfe=Ms,$fe=Mfe(Dfe,"Map"),JT=$fe,Lfe=Gc,Ffe=Lfe(Object,"create"),sb=Ffe,J2=sb;function Bfe(){this.__data__=J2?J2(null):{},this.size=0}var Vfe=Bfe;function jfe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Ufe=jfe,zfe=sb,Wfe="__lodash_hash_undefined__",Hfe=Object.prototype,Gfe=Hfe.hasOwnProperty;function Kfe(t){var e=this.__data__;if(zfe){var n=e[t];return n===Wfe?void 0:n}return Gfe.call(e,t)?e[t]:void 0}var qfe=Kfe,Yfe=sb,Xfe=Object.prototype,Qfe=Xfe.hasOwnProperty;function Jfe(t){var e=this.__data__;return Yfe?e[t]!==void 0:Qfe.call(e,t)}var Zfe=Jfe,ehe=sb,the="__lodash_hash_undefined__";function nhe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ehe&&e===void 0?the:e,this}var rhe=nhe,ihe=Vfe,ohe=Ufe,she=qfe,ahe=Zfe,lhe=rhe;function vf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vf.prototype.clear=ihe;vf.prototype.delete=ohe;vf.prototype.get=she;vf.prototype.has=ahe;vf.prototype.set=lhe;var che=vf,Z2=che,uhe=ob,dhe=JT;function fhe(){this.size=0,this.__data__={hash:new Z2,map:new(dhe||uhe),string:new Z2}}var hhe=fhe;function phe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var ghe=phe,mhe=ghe;function yhe(t,e){var n=t.__data__;return mhe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var ab=yhe,vhe=ab;function _he(t){var e=vhe(this,t).delete(t);return this.size-=e?1:0,e}var bhe=_he,whe=ab;function xhe(t){return whe(this,t).get(t)}var Ehe=xhe,She=ab;function Che(t){return She(this,t).has(t)}var The=Che,Ihe=ab;function Rhe(t,e){var n=Ihe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Phe=Rhe,khe=hhe,Ahe=bhe,Ohe=Ehe,Nhe=The,Mhe=Phe;function _f(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_f.prototype.clear=khe;_f.prototype.delete=Ahe;_f.prototype.get=Ohe;_f.prototype.has=Nhe;_f.prototype.set=Mhe;var ZT=_f,Dhe=ob,$he=JT,Lhe=ZT,Fhe=200;function Bhe(t,e){var n=this.__data__;if(n instanceof Dhe){var r=n.__data__;if(!$he||r.length<Fhe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Lhe(r)}return n.set(t,e),this.size=n.size,this}var Vhe=Bhe,jhe=ob,Uhe=tfe,zhe=rfe,Whe=ofe,Hhe=afe,Ghe=Vhe;function bf(t){var e=this.__data__=new jhe(t);this.size=e.size}bf.prototype.clear=Uhe;bf.prototype.delete=zhe;bf.prototype.get=Whe;bf.prototype.has=Hhe;bf.prototype.set=Ghe;var eI=bf,Khe="__lodash_hash_undefined__";function qhe(t){return this.__data__.set(t,Khe),this}var Yhe=qhe;function Xhe(t){return this.__data__.has(t)}var Qhe=Xhe,Jhe=ZT,Zhe=Yhe,epe=Qhe;function n0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Jhe;++e<n;)this.add(t[e])}n0.prototype.add=n0.prototype.push=Zhe;n0.prototype.has=epe;var tpe=n0;function npe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var rpe=npe;function ipe(t,e){return t.has(e)}var ope=ipe,spe=tpe,ape=rpe,lpe=ope,cpe=1,upe=2;function dpe(t,e,n,r,i,o){var s=n&cpe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=n&upe?new spe:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var m=t[f],x=e[f];if(r)var S=s?r(x,m,f,e,t,o):r(m,x,f,t,e,o);if(S!==void 0){if(S)continue;h=!1;break}if(p){if(!ape(e,function(b,w){if(!lpe(p,w)&&(m===b||i(m,b,n,r,o)))return p.push(w)})){h=!1;break}}else if(!(m===x||i(m,x,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var lB=dpe,fpe=Ms,hpe=fpe.Uint8Array,cB=hpe;function ppe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var gpe=ppe;function mpe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var ype=mpe,eO=$g,tO=cB,vpe=QT,_pe=lB,bpe=gpe,wpe=ype,xpe=1,Epe=2,Spe="[object Boolean]",Cpe="[object Date]",Tpe="[object Error]",Ipe="[object Map]",Rpe="[object Number]",Ppe="[object RegExp]",kpe="[object Set]",Ape="[object String]",Ope="[object Symbol]",Npe="[object ArrayBuffer]",Mpe="[object DataView]",nO=eO?eO.prototype:void 0,Lw=nO?nO.valueOf:void 0;function Dpe(t,e,n,r,i,o,s){switch(n){case Mpe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Npe:return!(t.byteLength!=e.byteLength||!o(new tO(t),new tO(e)));case Spe:case Cpe:case Rpe:return vpe(+t,+e);case Tpe:return t.name==e.name&&t.message==e.message;case Ppe:case Ape:return t==e+"";case Ipe:var a=bpe;case kpe:var l=r&xpe;if(a||(a=wpe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=Epe,s.set(t,e);var u=_pe(a(t),a(e),r,i,o,s);return s.delete(t),u;case Ope:if(Lw)return Lw.call(t)==Lw.call(e)}return!1}var $pe=Dpe;function Lpe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var uB=Lpe,Fpe=uB,Bpe=rs;function Vpe(t,e,n){var r=e(t);return Bpe(t)?r:Fpe(r,n(t))}var dB=Vpe;function jpe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var Upe=jpe;function zpe(){return[]}var fB=zpe,Wpe=Upe,Hpe=fB,Gpe=Object.prototype,Kpe=Gpe.propertyIsEnumerable,rO=Object.getOwnPropertySymbols,qpe=rO?function(t){return t==null?[]:(t=Object(t),Wpe(rO(t),function(e){return Kpe.call(t,e)}))}:Hpe,tI=qpe,Ype=dB,Xpe=tI,Qpe=Lg;function Jpe(t){return Ype(t,Qpe,Xpe)}var hB=Jpe,iO=hB,Zpe=1,ege=Object.prototype,tge=ege.hasOwnProperty;function nge(t,e,n,r,i,o){var s=n&Zpe,a=iO(t),l=a.length,c=iO(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:tge.call(e,h)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var x=!0;o.set(t,e),o.set(e,t);for(var S=s;++f<l;){h=a[f];var b=t[h],w=e[h];if(r)var g=s?r(w,b,h,e,t,o):r(b,w,h,t,e,o);if(!(g===void 0?b===w||i(b,w,n,r,o):g)){x=!1;break}S||(S=h=="constructor")}if(x&&!S){var C=t.constructor,N=e.constructor;C!=N&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof N=="function"&&N instanceof N)&&(x=!1)}return o.delete(t),o.delete(e),x}var rge=nge,ige=Gc,oge=Ms,sge=ige(oge,"DataView"),age=sge,lge=Gc,cge=Ms,uge=lge(cge,"Promise"),dge=uge,fge=Gc,hge=Ms,pge=fge(hge,"Set"),gge=pge,mge=Gc,yge=Ms,vge=mge(yge,"WeakMap"),_ge=vge,iS=age,oS=JT,sS=dge,aS=gge,lS=_ge,pB=Hc,wf=aB,oO="[object Map]",bge="[object Object]",sO="[object Promise]",aO="[object Set]",lO="[object WeakMap]",cO="[object DataView]",wge=wf(iS),xge=wf(oS),Ege=wf(sS),Sge=wf(aS),Cge=wf(lS),rc=pB;(iS&&rc(new iS(new ArrayBuffer(1)))!=cO||oS&&rc(new oS)!=oO||sS&&rc(sS.resolve())!=sO||aS&&rc(new aS)!=aO||lS&&rc(new lS)!=lO)&&(rc=function(t){var e=pB(t),n=e==bge?t.constructor:void 0,r=n?wf(n):"";if(r)switch(r){case wge:return cO;case xge:return oO;case Ege:return sO;case Sge:return aO;case Cge:return lO}return e});var lb=rc,Fw=eI,Tge=lB,Ige=$pe,Rge=rge,uO=lb,dO=rs,fO=WT,Pge=Z3,kge=1,hO="[object Arguments]",pO="[object Array]",Jm="[object Object]",Age=Object.prototype,gO=Age.hasOwnProperty;function Oge(t,e,n,r,i,o){var s=dO(t),a=dO(e),l=s?pO:uO(t),c=a?pO:uO(e);l=l==hO?Jm:l,c=c==hO?Jm:c;var u=l==Jm,f=c==Jm,h=l==c;if(h&&fO(t)){if(!fO(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new Fw),s||Pge(t)?Tge(t,e,n,r,i,o):Ige(t,e,l,n,r,i,o);if(!(n&kge)){var p=u&&gO.call(t,"__wrapped__"),m=f&&gO.call(e,"__wrapped__");if(p||m){var x=p?t.value():t,S=m?e.value():e;return o||(o=new Fw),i(x,S,n,r,o)}}return h?(o||(o=new Fw),Rge(t,e,n,r,i,o)):!1}var Nge=Oge,Mge=Nge,mO=xa;function gB(t,e,n,r,i){return t===e?!0:t==null||e==null||!mO(t)&&!mO(e)?t!==t&&e!==e:Mge(t,e,n,r,gB,i)}var mB=gB,Dge=eI,$ge=mB,Lge=1,Fge=2;function Bge(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],c=t[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new Dge;if(r)var h=r(c,u,l,t,e,f);if(!(h===void 0?$ge(u,c,Lge|Fge,r,f):h))return!1}}return!0}var Vge=Bge,jge=mf;function Uge(t){return t===t&&!jge(t)}var yB=Uge,zge=yB,Wge=Lg;function Hge(t){for(var e=Wge(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,zge(i)]}return e}var Gge=Hge;function Kge(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var vB=Kge,qge=Vge,Yge=Gge,Xge=vB;function Qge(t){var e=Yge(t);return e.length==1&&e[0][2]?Xge(e[0][0],e[0][1]):function(n){return n===t||qge(n,t,e)}}var Jge=Qge,Zge=Hc,eme=xa,tme="[object Symbol]";function nme(t){return typeof t=="symbol"||eme(t)&&Zge(t)==tme}var nI=nme,rme=rs,ime=nI,ome=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sme=/^\w*$/;function ame(t,e){if(rme(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||ime(t)?!0:sme.test(t)||!ome.test(t)||e!=null&&t in Object(e)}var rI=ame,_B=ZT,lme="Expected a function";function iI(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(lme);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(iI.Cache||_B),n}iI.Cache=_B;var cme=iI,ume=cme,dme=500;function fme(t){var e=ume(t,function(r){return n.size===dme&&n.clear(),r}),n=e.cache;return e}var hme=fme,pme=hme,gme=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mme=/\\(\\)?/g,yme=pme(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(gme,function(n,r,i,o){e.push(i?o.replace(mme,"$1"):r||n)}),e}),vme=yme,yO=$g,_me=sB,bme=rs,wme=nI,vO=yO?yO.prototype:void 0,_O=vO?vO.toString:void 0;function bB(t){if(typeof t=="string")return t;if(bme(t))return _me(t,bB)+"";if(wme(t))return _O?_O.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var xme=bB,Eme=xme;function Sme(t){return t==null?"":Eme(t)}var Cme=Sme,Tme=rs,Ime=rI,Rme=vme,Pme=Cme;function kme(t,e){return Tme(t)?t:Ime(t,e)?[t]:Rme(Pme(t))}var wB=kme,Ame=nI;function Ome(t){if(typeof t=="string"||Ame(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var cb=Ome,Nme=wB,Mme=cb;function Dme(t,e){e=Nme(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Mme(e[n++])];return n&&n==r?t:void 0}var xB=Dme,$me=xB;function Lme(t,e,n){var r=t==null?void 0:$me(t,e);return r===void 0?n:r}var Fme=Lme;function Bme(t,e){return t!=null&&e in Object(t)}var Vme=Bme,jme=wB,Ume=Q3,zme=rs,Wme=J3,Hme=HT,Gme=cb;function Kme(t,e,n){e=jme(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=Gme(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Hme(i)&&Wme(s,i)&&(zme(t)||Ume(t)))}var qme=Kme,Yme=Vme,Xme=qme;function Qme(t,e){return t!=null&&Xme(t,e,Yme)}var Jme=Qme,Zme=mB,eye=Fme,tye=Jme,nye=rI,rye=yB,iye=vB,oye=cb,sye=1,aye=2;function lye(t,e){return nye(t)&&rye(e)?iye(oye(t),e):function(n){var r=eye(n,t);return r===void 0&&r===e?tye(n,t):Zme(e,r,sye|aye)}}var cye=lye;function uye(t){return function(e){return e==null?void 0:e[t]}}var dye=uye,fye=xB;function hye(t){return function(e){return fye(e,t)}}var pye=hye,gye=dye,mye=pye,yye=rI,vye=cb;function _ye(t){return yye(t)?gye(vye(t)):mye(t)}var bye=_ye,wye=Jge,xye=cye,Eye=iB,Sye=rs,Cye=bye;function Tye(t){return typeof t=="function"?t:t==null?Eye:typeof t=="object"?Sye(t)?xye(t[0],t[1]):wye(t):Cye(t)}var Iye=Tye,Rye=rb;function Pye(t,e){return function(n,r){if(n==null)return n;if(!Rye(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var kye=Pye,Aye=rB,Oye=kye,Nye=Oye(Aye),Mye=Nye,Dye=Mye,$ye=rb;function Lye(t,e){var n=-1,r=$ye(t)?Array(t.length):[];return Dye(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var Fye=Lye,Bye=sB,Vye=Iye,jye=Fye,Uye=rs;function zye(t,e){var n=Uye(t)?Bye:jye;return n(t,Vye(e))}var Wye=zye;Object.defineProperty(Dg,"__esModule",{value:!0});Dg.flattenNames=void 0;var Hye=wce,Gye=ub(Hye),Kye=YT,qye=ub(Kye),Yye=Ide,Xye=ub(Yye),Qye=Wye,Jye=ub(Qye);function ub(t){return t&&t.__esModule?t:{default:t}}var Zye=Dg.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,Jye.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,Xye.default)(r)?(0,qye.default)(r,function(i,o){i===!0&&n.push(o),n.push(o+"-"+i)}):(0,Gye.default)(r)&&n.push(r)}),n};Dg.default=Zye;var Fg={};function eve(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var tve=eve,nve=Gc,rve=function(){try{var t=nve(Object,"defineProperty");return t({},"",{}),t}catch{}}(),ive=rve,bO=ive;function ove(t,e,n){e=="__proto__"&&bO?bO(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var EB=ove,sve=EB,ave=QT,lve=Object.prototype,cve=lve.hasOwnProperty;function uve(t,e,n){var r=t[e];(!(cve.call(t,e)&&ave(r,n))||n===void 0&&!(e in t))&&sve(t,e,n)}var SB=uve,dve=SB,fve=EB;function hve(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?fve(n,a,l):dve(n,a,l)}return n}var db=hve,pve=db,gve=Lg;function mve(t,e){return t&&pve(e,gve(e),t)}var yve=mve;function vve(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var _ve=vve,bve=mf,wve=qT,xve=_ve,Eve=Object.prototype,Sve=Eve.hasOwnProperty;function Cve(t){if(!bve(t))return xve(t);var e=wve(t),n=[];for(var r in t)r=="constructor"&&(e||!Sve.call(t,r))||n.push(r);return n}var Tve=Cve,Ive=eB,Rve=Tve,Pve=rb;function kve(t){return Pve(t)?Ive(t,!0):Rve(t)}var oI=kve,Ave=db,Ove=oI;function Nve(t,e){return t&&Ave(e,Ove(e),t)}var Mve=Nve,r0={exports:{}};r0.exports;(function(t,e){var n=Ms,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var f=c.length,h=a?a(f):new c.constructor(f);return c.copy(h),h}t.exports=l})(r0,r0.exports);var Dve=r0.exports;function $ve(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Lve=$ve,Fve=db,Bve=tI;function Vve(t,e){return Fve(t,Bve(t),e)}var jve=Vve,Uve=uB,zve=XT,Wve=tI,Hve=fB,Gve=Object.getOwnPropertySymbols,Kve=Gve?function(t){for(var e=[];t;)Uve(e,Wve(t)),t=zve(t);return e}:Hve,CB=Kve,qve=db,Yve=CB;function Xve(t,e){return qve(t,Yve(t),e)}var Qve=Xve,Jve=dB,Zve=CB,e0e=oI;function t0e(t){return Jve(t,e0e,Zve)}var n0e=t0e,r0e=Object.prototype,i0e=r0e.hasOwnProperty;function o0e(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&i0e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var s0e=o0e,wO=cB;function a0e(t){var e=new t.constructor(t.byteLength);return new wO(e).set(new wO(t)),e}var sI=a0e,l0e=sI;function c0e(t,e){var n=e?l0e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var u0e=c0e,d0e=/\w*$/;function f0e(t){var e=new t.constructor(t.source,d0e.exec(t));return e.lastIndex=t.lastIndex,e}var h0e=f0e,xO=$g,EO=xO?xO.prototype:void 0,SO=EO?EO.valueOf:void 0;function p0e(t){return SO?Object(SO.call(t)):{}}var g0e=p0e,m0e=sI;function y0e(t,e){var n=e?m0e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var v0e=y0e,_0e=sI,b0e=u0e,w0e=h0e,x0e=g0e,E0e=v0e,S0e="[object Boolean]",C0e="[object Date]",T0e="[object Map]",I0e="[object Number]",R0e="[object RegExp]",P0e="[object Set]",k0e="[object String]",A0e="[object Symbol]",O0e="[object ArrayBuffer]",N0e="[object DataView]",M0e="[object Float32Array]",D0e="[object Float64Array]",$0e="[object Int8Array]",L0e="[object Int16Array]",F0e="[object Int32Array]",B0e="[object Uint8Array]",V0e="[object Uint8ClampedArray]",j0e="[object Uint16Array]",U0e="[object Uint32Array]";function z0e(t,e,n){var r=t.constructor;switch(e){case O0e:return _0e(t);case S0e:case C0e:return new r(+t);case N0e:return b0e(t,n);case M0e:case D0e:case $0e:case L0e:case F0e:case B0e:case V0e:case j0e:case U0e:return E0e(t,n);case T0e:return new r;case I0e:case k0e:return new r(t);case R0e:return w0e(t);case P0e:return new r;case A0e:return x0e(t)}}var W0e=z0e,H0e=mf,CO=Object.create,G0e=function(){function t(){}return function(e){if(!H0e(e))return{};if(CO)return CO(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),K0e=G0e,q0e=K0e,Y0e=XT,X0e=qT;function Q0e(t){return typeof t.constructor=="function"&&!X0e(t)?q0e(Y0e(t)):{}}var J0e=Q0e,Z0e=lb,e_e=xa,t_e="[object Map]";function n_e(t){return e_e(t)&&Z0e(t)==t_e}var r_e=n_e,i_e=r_e,o_e=GT,TO=KT,IO=TO&&TO.isMap,s_e=IO?o_e(IO):i_e,a_e=s_e,l_e=lb,c_e=xa,u_e="[object Set]";function d_e(t){return c_e(t)&&l_e(t)==u_e}var f_e=d_e,h_e=f_e,p_e=GT,RO=KT,PO=RO&&RO.isSet,g_e=PO?p_e(PO):h_e,m_e=g_e,y_e=eI,v_e=tve,__e=SB,b_e=yve,w_e=Mve,x_e=Dve,E_e=Lve,S_e=jve,C_e=Qve,T_e=hB,I_e=n0e,R_e=lb,P_e=s0e,k_e=W0e,A_e=J0e,O_e=rs,N_e=WT,M_e=a_e,D_e=mf,$_e=m_e,L_e=Lg,F_e=oI,B_e=1,V_e=2,j_e=4,TB="[object Arguments]",U_e="[object Array]",z_e="[object Boolean]",W_e="[object Date]",H_e="[object Error]",IB="[object Function]",G_e="[object GeneratorFunction]",K_e="[object Map]",q_e="[object Number]",RB="[object Object]",Y_e="[object RegExp]",X_e="[object Set]",Q_e="[object String]",J_e="[object Symbol]",Z_e="[object WeakMap]",ebe="[object ArrayBuffer]",tbe="[object DataView]",nbe="[object Float32Array]",rbe="[object Float64Array]",ibe="[object Int8Array]",obe="[object Int16Array]",sbe="[object Int32Array]",abe="[object Uint8Array]",lbe="[object Uint8ClampedArray]",cbe="[object Uint16Array]",ube="[object Uint32Array]",fn={};fn[TB]=fn[U_e]=fn[ebe]=fn[tbe]=fn[z_e]=fn[W_e]=fn[nbe]=fn[rbe]=fn[ibe]=fn[obe]=fn[sbe]=fn[K_e]=fn[q_e]=fn[RB]=fn[Y_e]=fn[X_e]=fn[Q_e]=fn[J_e]=fn[abe]=fn[lbe]=fn[cbe]=fn[ube]=!0;fn[H_e]=fn[IB]=fn[Z_e]=!1;function Dy(t,e,n,r,i,o){var s,a=e&B_e,l=e&V_e,c=e&j_e;if(n&&(s=i?n(t,r,i,o):n(t)),s!==void 0)return s;if(!D_e(t))return t;var u=O_e(t);if(u){if(s=P_e(t),!a)return E_e(t,s)}else{var f=R_e(t),h=f==IB||f==G_e;if(N_e(t))return x_e(t,a);if(f==RB||f==TB||h&&!i){if(s=l||h?{}:A_e(t),!a)return l?C_e(t,w_e(s,t)):S_e(t,b_e(s,t))}else{if(!fn[f])return i?t:{};s=k_e(t,f,a)}}o||(o=new y_e);var p=o.get(t);if(p)return p;o.set(t,s),$_e(t)?t.forEach(function(S){s.add(Dy(S,e,n,S,t,o))}):M_e(t)&&t.forEach(function(S,b){s.set(b,Dy(S,e,n,b,t,o))});var m=c?l?I_e:T_e:l?F_e:L_e,x=u?void 0:m(t);return v_e(x||t,function(S,b){x&&(b=S,S=t[b]),__e(s,b,Dy(S,e,n,b,t,o))}),s}var dbe=Dy,fbe=dbe,hbe=1,pbe=4;function gbe(t){return fbe(t,hbe|pbe)}var mbe=gbe;Object.defineProperty(Fg,"__esModule",{value:!0});Fg.mergeClasses=void 0;var ybe=YT,vbe=PB(ybe),_be=mbe,bbe=PB(_be),wbe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function PB(t){return t&&t.__esModule?t:{default:t}}var xbe=Fg.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,bbe.default)(e.default)||{};return n.map(function(i){var o=e[i];return o&&(0,vbe.default)(o,function(s,a){r[a]||(r[a]={}),r[a]=wbe({},r[a],o[a])}),i}),r};Fg.default=xbe;var Bg={};Object.defineProperty(Bg,"__esModule",{value:!0});Bg.autoprefix=void 0;var Ebe=YT,kO=Cbe(Ebe),Sbe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function Cbe(t){return t&&t.__esModule?t:{default:t}}var Tbe={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},Ibe=Bg.autoprefix=function(e){var n={};return(0,kO.default)(e,function(r,i){var o={};(0,kO.default)(r,function(s,a){var l=Tbe[a];l?o=Sbe({},o,l(s)):o[a]=s}),n[i]=o}),n};Bg.default=Ibe;var Vg={};Object.defineProperty(Vg,"__esModule",{value:!0});Vg.hover=void 0;var Rbe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pbe=v,Bw=kbe(Pbe);function kbe(t){return t&&t.__esModule?t:{default:t}}function Abe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Obe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Nbe=Vg.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Obe(i,r);function i(){var o,s,a,l;Abe(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(s=(a=AO(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(u))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return Bw.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},Bw.default.createElement(e,Rbe({},a.props,a.state)))},s),AO(a,l)}return i}(Bw.default.Component)};Vg.default=Nbe;var jg={};Object.defineProperty(jg,"__esModule",{value:!0});jg.active=void 0;var Mbe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dbe=v,Vw=$be(Dbe);function $be(t){return t&&t.__esModule?t:{default:t}}function Lbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Fbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Bbe=jg.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Fbe(i,r);function i(){var o,s,a,l;Lbe(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(s=(a=OO(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(u))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return Vw.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},Vw.default.createElement(e,Mbe({},a.props,a.state)))},s),OO(a,l)}return i}(Vw.default.Component)};jg.default=Bbe;var aI={};Object.defineProperty(aI,"__esModule",{value:!0});var Vbe=function(e,n){var r={},i=function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[s]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};aI.default=Vbe;Object.defineProperty(yo,"__esModule",{value:!0});yo.ReactCSS=yo.loop=yo.handleActive=lI=yo.handleHover=yo.hover=void 0;var jbe=Dg,Ube=xf(jbe),zbe=Fg,Wbe=xf(zbe),Hbe=Bg,Gbe=xf(Hbe),Kbe=Vg,kB=xf(Kbe),qbe=jg,Ybe=xf(qbe),Xbe=aI,Qbe=xf(Xbe);function xf(t){return t&&t.__esModule?t:{default:t}}yo.hover=kB.default;var lI=yo.handleHover=kB.default;yo.handleActive=Ybe.default;yo.loop=Qbe.default;var Jbe=yo.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=(0,Ube.default)(r),s=(0,Wbe.default)(e,o);return(0,Gbe.default)(s)},Qe=yo.default=Jbe,Zbe=function(e,n,r,i,o){var s=o.clientWidth,a=o.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=l-(o.getBoundingClientRect().left+window.pageXOffset),f=c-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var h=void 0;if(f<0?h=0:f>a?h=1:h=Math.round(f*100/a)/100,n.a!==h)return{h:n.h,s:n.s,l:n.l,a:h,source:"rgb"}}else{var p=void 0;if(u<0?p=0:u>s?p=1:p=Math.round(u*100/s)/100,i!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}return null},jw={},ewe=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var s=o.getContext("2d");return s?(s.fillStyle=e,s.fillRect(0,0,o.width,o.height),s.fillStyle=n,s.fillRect(0,0,r,r),s.translate(r,r),s.fillRect(0,0,r,r),o.toDataURL()):null},twe=function(e,n,r,i){var o=e+"-"+n+"-"+r+(i?"-server":"");if(jw[o])return jw[o];var s=ewe(e,n,r,i);return jw[o]=s,s},NO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ef=function(e){var n=e.white,r=e.grey,i=e.size,o=e.renderers,s=e.borderRadius,a=e.boxShadow,l=e.children,c=Qe({default:{grid:{borderRadius:s,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+twe(n,r,i,o.canvas)+") center left"}}});return v.isValidElement(l)?F.cloneElement(l,NO({},l.props,{style:NO({},l.props.style,c.grid)})):F.createElement("div",{style:c.grid})};Ef.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var nwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rwe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function iwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function owe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var cI=function(t){owe(e,t);function e(){var n,r,i,o;iwe(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=MO(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var u=Zbe(c,i.props.hsl,i.props.direction,i.props.a,i.container);u&&typeof i.props.onChange=="function"&&i.props.onChange(u,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),MO(i,o)}return rwe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=Qe({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:nwe({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return F.createElement("div",{style:o.alpha},F.createElement("div",{style:o.checkboard},F.createElement(Ef,{renderers:this.props.renderers})),F.createElement("div",{style:o.gradient}),F.createElement("div",{style:o.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},F.createElement("div",{style:o.pointer},this.props.pointer?F.createElement(this.props.pointer,this.props):F.createElement("div",{style:o.slider}))))}}]),e}(v.PureComponent||v.Component),swe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function awe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cwe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function uwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var dwe=1,AB=38,fwe=40,hwe=[AB,fwe],pwe=function(e){return hwe.indexOf(e)>-1},gwe=function(e){return Number(String(e).replace(/%/g,""))},mwe=1,Ot=function(t){uwe(e,t);function e(n){lwe(this,e);var r=cwe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=gwe(i.target.value);if(!isNaN(o)&&pwe(i.keyCode)){var s=r.getArrowOffset(),a=i.keyCode===AB?o+s:o-s;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+mwe++,r}return swe(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return awe({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||dwe}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=Qe({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return F.createElement("div",{style:i.wrap},F.createElement("input",{id:this.inputId,style:i.input,ref:function(s){return r.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?F.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(v.PureComponent||v.Component),ywe=function(e,n,r,i){var o=i.clientWidth,s=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(i.getBoundingClientRect().left+window.pageXOffset),u=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var f=void 0;if(u<0)f=359;else if(u>s)f=0;else{var h=-(u*100/s)+100;f=360*h/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var p=void 0;if(c<0)p=0;else if(c>o)p=359;else{var m=c*100/o;p=360*m/100}if(r.h!==p)return{h:p,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},vwe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function _we(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Sf=function(t){bwe(e,t);function e(){var n,r,i,o;_we(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=DO(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var u=ywe(c,i.props.direction,i.props.hsl,i.container);u&&typeof i.props.onChange=="function"&&i.props.onChange(u,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),DO(i,o)}return vwe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,s=Qe({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return F.createElement("div",{style:s.hue},F.createElement("div",{className:"hue-"+o,style:s.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},F.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),F.createElement("div",{style:s.pointer},this.props.pointer?F.createElement(this.props.pointer,this.props):F.createElement("div",{style:s.slider}))))}}]),e}(v.PureComponent||v.Component);function wwe(){this.__data__=[],this.size=0}function Ug(t,e){return t===e||t!==t&&e!==e}function fb(t,e){for(var n=t.length;n--;)if(Ug(t[n][0],e))return n;return-1}var xwe=Array.prototype,Ewe=xwe.splice;function Swe(t){var e=this.__data__,n=fb(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Ewe.call(e,n,1),--this.size,!0}function Cwe(t){var e=this.__data__,n=fb(e,t);return n<0?void 0:e[n][1]}function Twe(t){return fb(this.__data__,t)>-1}function Iwe(t,e){var n=this.__data__,r=fb(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Ea(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ea.prototype.clear=wwe;Ea.prototype.delete=Swe;Ea.prototype.get=Cwe;Ea.prototype.has=Twe;Ea.prototype.set=Iwe;function Rwe(){this.__data__=new Ea,this.size=0}function Pwe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function kwe(t){return this.__data__.get(t)}function Awe(t){return this.__data__.has(t)}var OB=typeof global=="object"&&global&&global.Object===Object&&global,Owe=typeof self=="object"&&self&&self.Object===Object&&self,is=OB||Owe||Function("return this")(),kl=is.Symbol,NB=Object.prototype,Nwe=NB.hasOwnProperty,Mwe=NB.toString,uh=kl?kl.toStringTag:void 0;function Dwe(t){var e=Nwe.call(t,uh),n=t[uh];try{t[uh]=void 0;var r=!0}catch{}var i=Mwe.call(t);return r&&(e?t[uh]=n:delete t[uh]),i}var $we=Object.prototype,Lwe=$we.toString;function Fwe(t){return Lwe.call(t)}var Bwe="[object Null]",Vwe="[object Undefined]",$O=kl?kl.toStringTag:void 0;function Kc(t){return t==null?t===void 0?Vwe:Bwe:$O&&$O in Object(t)?Dwe(t):Fwe(t)}function Ro(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var jwe="[object AsyncFunction]",Uwe="[object Function]",zwe="[object GeneratorFunction]",Wwe="[object Proxy]";function uI(t){if(!Ro(t))return!1;var e=Kc(t);return e==Uwe||e==zwe||e==jwe||e==Wwe}var Uw=is["__core-js_shared__"],LO=function(){var t=/[^.]+$/.exec(Uw&&Uw.keys&&Uw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Hwe(t){return!!LO&&LO in t}var Gwe=Function.prototype,Kwe=Gwe.toString;function qc(t){if(t!=null){try{return Kwe.call(t)}catch{}try{return t+""}catch{}}return""}var qwe=/[\\^$.*+?()[\]{}|]/g,Ywe=/^\[object .+?Constructor\]$/,Xwe=Function.prototype,Qwe=Object.prototype,Jwe=Xwe.toString,Zwe=Qwe.hasOwnProperty,exe=RegExp("^"+Jwe.call(Zwe).replace(qwe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function txe(t){if(!Ro(t)||Hwe(t))return!1;var e=uI(t)?exe:Ywe;return e.test(qc(t))}function nxe(t,e){return t==null?void 0:t[e]}function Yc(t,e){var n=nxe(t,e);return txe(n)?n:void 0}var Hp=Yc(is,"Map"),Gp=Yc(Object,"create");function rxe(){this.__data__=Gp?Gp(null):{},this.size=0}function ixe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var oxe="__lodash_hash_undefined__",sxe=Object.prototype,axe=sxe.hasOwnProperty;function lxe(t){var e=this.__data__;if(Gp){var n=e[t];return n===oxe?void 0:n}return axe.call(e,t)?e[t]:void 0}var cxe=Object.prototype,uxe=cxe.hasOwnProperty;function dxe(t){var e=this.__data__;return Gp?e[t]!==void 0:uxe.call(e,t)}var fxe="__lodash_hash_undefined__";function hxe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Gp&&e===void 0?fxe:e,this}function Dc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Dc.prototype.clear=rxe;Dc.prototype.delete=ixe;Dc.prototype.get=lxe;Dc.prototype.has=dxe;Dc.prototype.set=hxe;function pxe(){this.size=0,this.__data__={hash:new Dc,map:new(Hp||Ea),string:new Dc}}function gxe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function hb(t,e){var n=t.__data__;return gxe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function mxe(t){var e=hb(this,t).delete(t);return this.size-=e?1:0,e}function yxe(t){return hb(this,t).get(t)}function vxe(t){return hb(this,t).has(t)}function _xe(t,e){var n=hb(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Sa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Sa.prototype.clear=pxe;Sa.prototype.delete=mxe;Sa.prototype.get=yxe;Sa.prototype.has=vxe;Sa.prototype.set=_xe;var bxe=200;function wxe(t,e){var n=this.__data__;if(n instanceof Ea){var r=n.__data__;if(!Hp||r.length<bxe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Sa(r)}return n.set(t,e),this.size=n.size,this}function Es(t){var e=this.__data__=new Ea(t);this.size=e.size}Es.prototype.clear=Rwe;Es.prototype.delete=Pwe;Es.prototype.get=kwe;Es.prototype.has=Awe;Es.prototype.set=wxe;var i0=function(){try{var t=Yc(Object,"defineProperty");return t({},"",{}),t}catch{}}();function dI(t,e,n){e=="__proto__"&&i0?i0(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function cS(t,e,n){(n!==void 0&&!Ug(t[e],n)||n===void 0&&!(e in t))&&dI(t,e,n)}function xxe(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[++i];if(n(o[l],l,o)===!1)break}return e}}var MB=xxe(),DB=typeof qi=="object"&&qi&&!qi.nodeType&&qi,FO=DB&&typeof Yi=="object"&&Yi&&!Yi.nodeType&&Yi,Exe=FO&&FO.exports===DB,BO=Exe?is.Buffer:void 0;BO&&BO.allocUnsafe;function Sxe(t,e){return t.slice()}var o0=is.Uint8Array;function Cxe(t){var e=new t.constructor(t.byteLength);return new o0(e).set(new o0(t)),e}function Txe(t,e){var n=Cxe(t.buffer);return new t.constructor(n,t.byteOffset,t.length)}function Ixe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var VO=Object.create,Rxe=function(){function t(){}return function(e){if(!Ro(e))return{};if(VO)return VO(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function $B(t,e){return function(n){return t(e(n))}}var LB=$B(Object.getPrototypeOf,Object),Pxe=Object.prototype;function fI(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Pxe;return t===n}function kxe(t){return typeof t.constructor=="function"&&!fI(t)?Rxe(LB(t)):{}}function Al(t){return t!=null&&typeof t=="object"}var Axe="[object Arguments]";function jO(t){return Al(t)&&Kc(t)==Axe}var FB=Object.prototype,Oxe=FB.hasOwnProperty,Nxe=FB.propertyIsEnumerable,s0=jO(function(){return arguments}())?jO:function(t){return Al(t)&&Oxe.call(t,"callee")&&!Nxe.call(t,"callee")},no=Array.isArray,Mxe=9007199254740991;function hI(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Mxe}function Cf(t){return t!=null&&hI(t.length)&&!uI(t)}function Dxe(t){return Al(t)&&Cf(t)}function $xe(){return!1}var BB=typeof qi=="object"&&qi&&!qi.nodeType&&qi,UO=BB&&typeof Yi=="object"&&Yi&&!Yi.nodeType&&Yi,Lxe=UO&&UO.exports===BB,zO=Lxe?is.Buffer:void 0,Fxe=zO?zO.isBuffer:void 0,a0=Fxe||$xe,Bxe="[object Object]",Vxe=Function.prototype,jxe=Object.prototype,VB=Vxe.toString,Uxe=jxe.hasOwnProperty,zxe=VB.call(Object);function Wxe(t){if(!Al(t)||Kc(t)!=Bxe)return!1;var e=LB(t);if(e===null)return!0;var n=Uxe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&VB.call(n)==zxe}var Hxe="[object Arguments]",Gxe="[object Array]",Kxe="[object Boolean]",qxe="[object Date]",Yxe="[object Error]",Xxe="[object Function]",Qxe="[object Map]",Jxe="[object Number]",Zxe="[object Object]",eEe="[object RegExp]",tEe="[object Set]",nEe="[object String]",rEe="[object WeakMap]",iEe="[object ArrayBuffer]",oEe="[object DataView]",sEe="[object Float32Array]",aEe="[object Float64Array]",lEe="[object Int8Array]",cEe="[object Int16Array]",uEe="[object Int32Array]",dEe="[object Uint8Array]",fEe="[object Uint8ClampedArray]",hEe="[object Uint16Array]",pEe="[object Uint32Array]",_n={};_n[sEe]=_n[aEe]=_n[lEe]=_n[cEe]=_n[uEe]=_n[dEe]=_n[fEe]=_n[hEe]=_n[pEe]=!0;_n[Hxe]=_n[Gxe]=_n[iEe]=_n[Kxe]=_n[oEe]=_n[qxe]=_n[Yxe]=_n[Xxe]=_n[Qxe]=_n[Jxe]=_n[Zxe]=_n[eEe]=_n[tEe]=_n[nEe]=_n[rEe]=!1;function gEe(t){return Al(t)&&hI(t.length)&&!!_n[Kc(t)]}function mEe(t){return function(e){return t(e)}}var jB=typeof qi=="object"&&qi&&!qi.nodeType&&qi,np=jB&&typeof Yi=="object"&&Yi&&!Yi.nodeType&&Yi,yEe=np&&np.exports===jB,zw=yEe&&OB.process,WO=function(){try{var t=np&&np.require&&np.require("util").types;return t||zw&&zw.binding&&zw.binding("util")}catch{}}(),HO=WO&&WO.isTypedArray,pI=HO?mEe(HO):gEe;function uS(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var vEe=Object.prototype,_Ee=vEe.hasOwnProperty;function bEe(t,e,n){var r=t[e];(!(_Ee.call(t,e)&&Ug(r,n))||n===void 0&&!(e in t))&&dI(t,e,n)}function wEe(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=void 0;l===void 0&&(l=t[a]),i?dI(n,a,l):bEe(n,a,l)}return n}function xEe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var EEe=9007199254740991,SEe=/^(?:0|[1-9]\d*)$/;function gI(t,e){var n=typeof t;return e=e??EEe,!!e&&(n=="number"||n!="symbol"&&SEe.test(t))&&t>-1&&t%1==0&&t<e}var CEe=Object.prototype,TEe=CEe.hasOwnProperty;function UB(t,e){var n=no(t),r=!n&&s0(t),i=!n&&!r&&a0(t),o=!n&&!r&&!i&&pI(t),s=n||r||i||o,a=s?xEe(t.length,String):[],l=a.length;for(var c in t)(e||TEe.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||gI(c,l)))&&a.push(c);return a}function IEe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var REe=Object.prototype,PEe=REe.hasOwnProperty;function kEe(t){if(!Ro(t))return IEe(t);var e=fI(t),n=[];for(var r in t)r=="constructor"&&(e||!PEe.call(t,r))||n.push(r);return n}function zB(t){return Cf(t)?UB(t,!0):kEe(t)}function AEe(t){return wEe(t,zB(t))}function OEe(t,e,n,r,i,o,s){var a=uS(t,n),l=uS(e,n),c=s.get(l);if(c){cS(t,n,c);return}var u=o?o(a,l,n+"",t,e,s):void 0,f=u===void 0;if(f){var h=no(l),p=!h&&a0(l),m=!h&&!p&&pI(l);u=l,h||p||m?no(a)?u=a:Dxe(a)?u=Ixe(a):p?(f=!1,u=Sxe(l)):m?(f=!1,u=Txe(l)):u=[]:Wxe(l)||s0(l)?(u=a,s0(a)?u=AEe(a):(!Ro(a)||uI(a))&&(u=kxe(l))):f=!1}f&&(s.set(l,u),i(u,l,r,o,s),s.delete(l)),cS(t,n,u)}function WB(t,e,n,r,i){t!==e&&MB(e,function(o,s){if(i||(i=new Es),Ro(o))OEe(t,e,s,n,WB,r,i);else{var a=r?r(uS(t,s),o,s+"",t,e,i):void 0;a===void 0&&(a=o),cS(t,s,a)}},zB)}function pb(t){return t}function NEe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var GO=Math.max;function MEe(t,e,n){return e=GO(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=GO(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),NEe(t,this,a)}}function DEe(t){return function(){return t}}var $Ee=i0?function(t,e){return i0(t,"toString",{configurable:!0,enumerable:!1,value:DEe(e),writable:!0})}:pb,LEe=800,FEe=16,BEe=Date.now;function VEe(t){var e=0,n=0;return function(){var r=BEe(),i=FEe-(r-n);if(n=r,i>0){if(++e>=LEe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var jEe=VEe($Ee);function UEe(t,e){return jEe(MEe(t,e,pb),t+"")}function zEe(t,e,n){if(!Ro(n))return!1;var r=typeof e;return(r=="number"?Cf(n)&&gI(e,n.length):r=="string"&&e in n)?Ug(n[e],t):!1}function WEe(t){return UEe(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&zEe(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}var Oi=WEe(function(t,e,n){WB(t,e,n)}),zg=function(e){var n=e.zDepth,r=e.radius,i=e.background,o=e.children,s=e.styles,a=s===void 0?{}:s,l=Qe(Oi({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return F.createElement("div",{style:l.wrap},F.createElement("div",{style:l.bg}),F.createElement("div",{style:l.content},o))};zg.propTypes={background:we.string,zDepth:we.oneOf([0,1,2,3,4,5]),radius:we.number,styles:we.object};zg.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var Ww=function(){return is.Date.now()},HEe=/\s/;function GEe(t){for(var e=t.length;e--&&HEe.test(t.charAt(e)););return e}var KEe=/^\s+/;function qEe(t){return t&&t.slice(0,GEe(t)+1).replace(KEe,"")}var YEe="[object Symbol]";function gb(t){return typeof t=="symbol"||Al(t)&&Kc(t)==YEe}var KO=NaN,XEe=/^[-+]0x[0-9a-f]+$/i,QEe=/^0b[01]+$/i,JEe=/^0o[0-7]+$/i,ZEe=parseInt;function qO(t){if(typeof t=="number")return t;if(gb(t))return KO;if(Ro(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ro(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=qEe(t);var n=QEe.test(t);return n||JEe.test(t)?ZEe(t.slice(2),n?2:8):XEe.test(t)?KO:+t}var eSe="Expected a function",tSe=Math.max,nSe=Math.min;function HB(t,e,n){var r,i,o,s,a,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(eSe);e=qO(e)||0,Ro(n)&&(u=!!n.leading,f="maxWait"in n,o=f?tSe(qO(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(M){var E=r,I=i;return r=i=void 0,c=M,s=t.apply(I,E),s}function m(M){return c=M,a=setTimeout(b,e),u?p(M):s}function x(M){var E=M-l,I=M-c,k=e-E;return f?nSe(k,o-I):k}function S(M){var E=M-l,I=M-c;return l===void 0||E>=e||E<0||f&&I>=o}function b(){var M=Ww();if(S(M))return w(M);a=setTimeout(b,x(M))}function w(M){return a=void 0,h&&r?p(M):(r=i=void 0,s)}function g(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function C(){return a===void 0?s:w(Ww())}function N(){var M=Ww(),E=S(M);if(r=arguments,i=this,l=M,E){if(a===void 0)return m(l);if(f)return clearTimeout(a),a=setTimeout(b,e),p(l)}return a===void 0&&(a=setTimeout(b,e)),s}return N.cancel=g,N.flush=C,N}var rSe="Expected a function";function iSe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(rSe);return Ro(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),HB(t,e,{leading:r,maxWait:e,trailing:i})}var oSe=function(e,n,r){var i=r.getBoundingClientRect(),o=i.width,s=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>o&&(c=o),u<0?u=0:u>s&&(u=s);var f=c/o,h=1-u/s;return{h:n.h,s:f,v:h,a:n.a,source:"hsv"}},sSe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function aSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lSe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function cSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var mb=function(t){cSe(e,t);function e(n){aSe(this,e);var r=lSe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,oSe(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=iSe(function(i,o,s){i(o,s)},50),r}return sSe(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,s=i.white,a=i.black,l=i.pointer,c=i.circle,u=Qe({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:s,black:a,pointer:l,circle:c}},{custom:!!this.props.style});return F.createElement("div",{style:u.color,ref:function(h){return r.container=h},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},F.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),F.createElement("div",{style:u.white,className:"saturation-white"},F.createElement("div",{style:u.black,className:"saturation-black"}),F.createElement("div",{style:u.pointer},this.props.pointer?F.createElement(this.props.pointer,this.props):F.createElement("div",{style:u.circle}))))}}]),e}(v.PureComponent||v.Component);function uSe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var dSe=$B(Object.keys,Object),fSe=Object.prototype,hSe=fSe.hasOwnProperty;function pSe(t){if(!fI(t))return dSe(t);var e=[];for(var n in Object(t))hSe.call(t,n)&&n!="constructor"&&e.push(n);return e}function mI(t){return Cf(t)?UB(t):pSe(t)}function gSe(t,e){return t&&MB(t,e,mI)}function mSe(t,e){return function(n,r){if(n==null)return n;if(!Cf(n))return t(n,r);for(var i=n.length,o=-1,s=Object(n);++o<i&&r(s[o],o,s)!==!1;);return n}}var GB=mSe(gSe);function ySe(t){return typeof t=="function"?t:pb}function vSe(t,e){var n=no(t)?uSe:GB;return n(t,ySe(e))}function l0(t){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l0(t)}var _Se=/^\s+/,bSe=/\s+$/;function Le(t,e){if(t=t||"",e=e||{},t instanceof Le)return t;if(!(this instanceof Le))return new Le(t,e);var n=wSe(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Le.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,o,s,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*s+.0722*a},setAlpha:function(e){return this._a=KB(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=XO(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=XO(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=YO(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=YO(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return QO(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return CSe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(kn(this._r,255)*100)+"%",g:Math.round(kn(this._g,255)*100)+"%",b:Math.round(kn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(kn(this._r,255)*100)+"%, "+Math.round(kn(this._g,255)*100)+"%, "+Math.round(kn(this._b,255)*100)+"%)":"rgba("+Math.round(kn(this._r,255)*100)+"%, "+Math.round(kn(this._g,255)*100)+"%, "+Math.round(kn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:LSe[QO(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+JO(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var o=Le(e);r="#"+JO(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Le(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(PSe,arguments)},brighten:function(){return this._applyModification(kSe,arguments)},darken:function(){return this._applyModification(ASe,arguments)},desaturate:function(){return this._applyModification(TSe,arguments)},saturate:function(){return this._applyModification(ISe,arguments)},greyscale:function(){return this._applyModification(RSe,arguments)},spin:function(){return this._applyModification(OSe,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(DSe,arguments)},complement:function(){return this._applyCombination(NSe,arguments)},monochromatic:function(){return this._applyCombination($Se,arguments)},splitcomplement:function(){return this._applyCombination(MSe,arguments)},triad:function(){return this._applyCombination(ZO,[3])},tetrad:function(){return this._applyCombination(ZO,[4])}};Le.fromRatio=function(t,e){if(l0(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=Th(t[r]));t=n}return Le(t,e)};function wSe(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=jSe(t)),l0(t)=="object"&&(zs(t.r)&&zs(t.g)&&zs(t.b)?(e=xSe(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):zs(t.h)&&zs(t.s)&&zs(t.v)?(r=Th(t.s),i=Th(t.v),e=SSe(t.h,r,i),s=!0,a="hsv"):zs(t.h)&&zs(t.s)&&zs(t.l)&&(r=Th(t.s),o=Th(t.l),e=ESe(t.h,r,o),s=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=KB(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function xSe(t,e,n){return{r:kn(t,255)*255,g:kn(e,255)*255,b:kn(n,255)*255}}function YO(t,e,n){t=kn(t,255),e=kn(e,255),n=kn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=(r+i)/2;if(r==i)o=s=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,l:a}}function ESe(t,e,n){var r,i,o;t=kn(t,360),e=kn(e,100),n=kn(n,100);function s(c,u,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?c+(u-c)*6*f:f<1/2?u:f<2/3?c+(u-c)*(2/3-f)*6:c}if(e===0)r=i=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=s(l,a,t+1/3),i=s(l,a,t),o=s(l,a,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function XO(t,e,n){t=kn(t,255),e=kn(e,255),n=kn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=r,l=r-i;if(s=r===0?0:l/r,r==i)o=0;else{switch(r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,v:a}}function SSe(t,e,n){t=kn(t,360)*6,e=kn(e,100),n=kn(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,c=[n,s,o,o,a,n][l],u=[a,n,n,s,o,o][l],f=[o,o,a,n,n,s][l];return{r:c*255,g:u*255,b:f*255}}function QO(t,e,n,r){var i=[qo(Math.round(t).toString(16)),qo(Math.round(e).toString(16)),qo(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function CSe(t,e,n,r,i){var o=[qo(Math.round(t).toString(16)),qo(Math.round(e).toString(16)),qo(Math.round(n).toString(16)),qo(qB(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function JO(t,e,n,r){var i=[qo(qB(r)),qo(Math.round(t).toString(16)),qo(Math.round(e).toString(16)),qo(Math.round(n).toString(16))];return i.join("")}Le.equals=function(t,e){return!t||!e?!1:Le(t).toRgbString()==Le(e).toRgbString()};Le.random=function(){return Le.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function TSe(t,e){e=e===0?0:e||10;var n=Le(t).toHsl();return n.s-=e/100,n.s=yb(n.s),Le(n)}function ISe(t,e){e=e===0?0:e||10;var n=Le(t).toHsl();return n.s+=e/100,n.s=yb(n.s),Le(n)}function RSe(t){return Le(t).desaturate(100)}function PSe(t,e){e=e===0?0:e||10;var n=Le(t).toHsl();return n.l+=e/100,n.l=yb(n.l),Le(n)}function kSe(t,e){e=e===0?0:e||10;var n=Le(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Le(n)}function ASe(t,e){e=e===0?0:e||10;var n=Le(t).toHsl();return n.l-=e/100,n.l=yb(n.l),Le(n)}function OSe(t,e){var n=Le(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Le(n)}function NSe(t){var e=Le(t).toHsl();return e.h=(e.h+180)%360,Le(e)}function ZO(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Le(t).toHsl(),r=[Le(t)],i=360/e,o=1;o<e;o++)r.push(Le({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function MSe(t){var e=Le(t).toHsl(),n=e.h;return[Le(t),Le({h:(n+72)%360,s:e.s,l:e.l}),Le({h:(n+216)%360,s:e.s,l:e.l})]}function DSe(t,e,n){e=e||6,n=n||30;var r=Le(t).toHsl(),i=360/n,o=[Le(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(Le(r));return o}function $Se(t,e){e=e||6;for(var n=Le(t).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;e--;)s.push(Le({h:r,s:i,v:o})),o=(o+a)%1;return s}Le.mix=function(t,e,n){n=n===0?0:n||50;var r=Le(t).toRgb(),i=Le(e).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return Le(s)};Le.readability=function(t,e){var n=Le(t),r=Le(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Le.isReadable=function(t,e,n){var r=Le.readability(t,e),i,o;switch(o=!1,i=USe(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};Le.mostReadable=function(t,e,n){var r=null,i=0,o,s,a,l;n=n||{},s=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<e.length;c++)o=Le.readability(t,e[c]),o>i&&(i=o,r=Le(e[c]));return Le.isReadable(t,r,{level:a,size:l})||!s?r:(n.includeFallbackColors=!1,Le.mostReadable(t,["#fff","#000"],n))};var dS=Le.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},LSe=Le.hexNames=FSe(dS);function FSe(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function KB(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function kn(t,e){BSe(t)&&(t="100%");var n=VSe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function yb(t){return Math.min(1,Math.max(0,t))}function Fi(t){return parseInt(t,16)}function BSe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function VSe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function qo(t){return t.length==1?"0"+t:""+t}function Th(t){return t<=1&&(t=t*100+"%"),t}function qB(t){return Math.round(parseFloat(t)*255).toString(16)}function eN(t){return Fi(t)/255}var Vo=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function zs(t){return!!Vo.CSS_UNIT.exec(t)}function jSe(t){t=t.replace(_Se,"").replace(bSe,"").toLowerCase();var e=!1;if(dS[t])t=dS[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Vo.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Vo.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Vo.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Vo.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Vo.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Vo.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Vo.hex8.exec(t))?{r:Fi(n[1]),g:Fi(n[2]),b:Fi(n[3]),a:eN(n[4]),format:e?"name":"hex8"}:(n=Vo.hex6.exec(t))?{r:Fi(n[1]),g:Fi(n[2]),b:Fi(n[3]),format:e?"name":"hex"}:(n=Vo.hex4.exec(t))?{r:Fi(n[1]+""+n[1]),g:Fi(n[2]+""+n[2]),b:Fi(n[3]+""+n[3]),a:eN(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Vo.hex3.exec(t))?{r:Fi(n[1]+""+n[1]),g:Fi(n[2]+""+n[2]),b:Fi(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function USe(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var tN=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return vSe(n,function(o){if(e[o]&&(r+=1,isNaN(e[o])||(i+=1),o==="s"||o==="l")){var s=/^\d+%$/;s.test(e[o])&&(i+=1)}}),r===i?e:!1},Ih=function(e,n){var r=e.hex?Le(e.hex):Le(e),i=r.toHsl(),o=r.toHsv(),s=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,o.h=n||0);var l=a==="000000"&&s.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:s,hsv:o,oldHue:e.h||n||i.h,source:e.source}},Ul=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&Le(e).isValid()},yI=function(e){if(!e)return"#fff";var n=Ih(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},Hw=function(e,n){var r=e.replace("","");return Le(n+" ("+r+")")._ok},dh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zSe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function WSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HSe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function GSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ni=function(e){var n=function(r){GSe(i,r);function i(o){WSe(this,i);var s=HSe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return s.handleChange=function(a,l){var c=tN(a);if(c){var u=Ih(a,a.h||s.state.oldHue);s.setState(u),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,u,l),s.props.onChange&&s.props.onChange(u,l)}},s.handleSwatchHover=function(a,l){var c=tN(a);if(c){var u=Ih(a,a.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(u,l)}},s.state=dh({},Ih(o.color,0)),s.debounce=HB(function(a,l,c){a(l,c)},100),s}return zSe(i,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),F.createElement(e,dh({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return dh({},Ih(s.color,a.oldHue))}}]),i}(v.PureComponent||v.Component);return n.propTypes=dh({},e.propTypes),n.defaultProps=dh({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},KSe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qSe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function YSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nN(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function XSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var QSe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){XSe(i,r);function i(){var o,s,a,l;YSe(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(s=(a=nN(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(u))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},s),nN(a,l)}return qSe(i,[{key:"render",value:function(){return F.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},F.createElement(e,KSe({},this.props,this.state)))}}]),i}(F.Component)},rN=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JSe=13,ZSe=function(e){var n=e.color,r=e.style,i=e.onClick,o=i===void 0?function(){}:i,s=e.onHover,a=e.title,l=a===void 0?n:a,c=e.children,u=e.focus,f=e.focusStyle,h=f===void 0?{}:f,p=n==="transparent",m=Qe({default:{swatch:rN({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,u?h:{})}}),x=function(C){return o(n,C)},S=function(C){return C.keyCode===JSe&&o(n,C)},b=function(C){return s(n,C)},w={};return s&&(w.onMouseOver=b),F.createElement("div",rN({style:m.swatch,onClick:x,title:l,tabIndex:0,onKeyDown:S},w),c,p&&F.createElement(Ef,{borderRadius:m.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Xc=QSe(ZSe);var eCe=function(e){var n=e.direction,r=Qe({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return F.createElement("div",{style:r.picker})},tCe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YB=function(e){var n=e.rgb,r=e.hsl,i=e.width,o=e.height,s=e.onChange,a=e.direction,l=e.style,c=e.renderers,u=e.pointer,f=e.className,h=f===void 0?"":f,p=Qe({default:{picker:{position:"relative",width:i,height:o},alpha:{radius:"2px",style:l}}});return F.createElement("div",{style:p.picker,className:"alpha-picker "+h},F.createElement(cI,tCe({},p.alpha,{rgb:n,hsl:r,pointer:u,renderers:c,onChange:s,direction:a})))};YB.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:eCe};Ni(YB);function XB(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var nCe="__lodash_hash_undefined__";function rCe(t){return this.__data__.set(t,nCe),this}function iCe(t){return this.__data__.has(t)}function c0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Sa;++e<n;)this.add(t[e])}c0.prototype.add=c0.prototype.push=rCe;c0.prototype.has=iCe;function oCe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function sCe(t,e){return t.has(e)}var aCe=1,lCe=2;function QB(t,e,n,r,i,o){var s=n&aCe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=n&lCe?new c0:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var m=t[f],x=e[f];if(r)var S=s?r(x,m,f,e,t,o):r(m,x,f,t,e,o);if(S!==void 0){if(S)continue;h=!1;break}if(p){if(!oCe(e,function(b,w){if(!sCe(p,w)&&(m===b||i(m,b,n,r,o)))return p.push(w)})){h=!1;break}}else if(!(m===x||i(m,x,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}function cCe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function uCe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var dCe=1,fCe=2,hCe="[object Boolean]",pCe="[object Date]",gCe="[object Error]",mCe="[object Map]",yCe="[object Number]",vCe="[object RegExp]",_Ce="[object Set]",bCe="[object String]",wCe="[object Symbol]",xCe="[object ArrayBuffer]",ECe="[object DataView]",iN=kl?kl.prototype:void 0,Gw=iN?iN.valueOf:void 0;function SCe(t,e,n,r,i,o,s){switch(n){case ECe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case xCe:return!(t.byteLength!=e.byteLength||!o(new o0(t),new o0(e)));case hCe:case pCe:case yCe:return Ug(+t,+e);case gCe:return t.name==e.name&&t.message==e.message;case vCe:case bCe:return t==e+"";case mCe:var a=cCe;case _Ce:var l=r&dCe;if(a||(a=uCe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=fCe,s.set(t,e);var u=QB(a(t),a(e),r,i,o,s);return s.delete(t),u;case wCe:if(Gw)return Gw.call(t)==Gw.call(e)}return!1}function CCe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function TCe(t,e,n){var r=e(t);return no(t)?r:CCe(r,n(t))}function ICe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function RCe(){return[]}var PCe=Object.prototype,kCe=PCe.propertyIsEnumerable,oN=Object.getOwnPropertySymbols,ACe=oN?function(t){return t==null?[]:(t=Object(t),ICe(oN(t),function(e){return kCe.call(t,e)}))}:RCe;function sN(t){return TCe(t,mI,ACe)}var OCe=1,NCe=Object.prototype,MCe=NCe.hasOwnProperty;function DCe(t,e,n,r,i,o){var s=n&OCe,a=sN(t),l=a.length,c=sN(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:MCe.call(e,h)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var x=!0;o.set(t,e),o.set(e,t);for(var S=s;++f<l;){h=a[f];var b=t[h],w=e[h];if(r)var g=s?r(w,b,h,e,t,o):r(b,w,h,t,e,o);if(!(g===void 0?b===w||i(b,w,n,r,o):g)){x=!1;break}S||(S=h=="constructor")}if(x&&!S){var C=t.constructor,N=e.constructor;C!=N&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof N=="function"&&N instanceof N)&&(x=!1)}return o.delete(t),o.delete(e),x}var fS=Yc(is,"DataView"),hS=Yc(is,"Promise"),pS=Yc(is,"Set"),gS=Yc(is,"WeakMap"),aN="[object Map]",$Ce="[object Object]",lN="[object Promise]",cN="[object Set]",uN="[object WeakMap]",dN="[object DataView]",LCe=qc(fS),FCe=qc(Hp),BCe=qc(hS),VCe=qc(pS),jCe=qc(gS),Va=Kc;(fS&&Va(new fS(new ArrayBuffer(1)))!=dN||Hp&&Va(new Hp)!=aN||hS&&Va(hS.resolve())!=lN||pS&&Va(new pS)!=cN||gS&&Va(new gS)!=uN)&&(Va=function(t){var e=Kc(t),n=e==$Ce?t.constructor:void 0,r=n?qc(n):"";if(r)switch(r){case LCe:return dN;case FCe:return aN;case BCe:return lN;case VCe:return cN;case jCe:return uN}return e});var UCe=1,fN="[object Arguments]",hN="[object Array]",Zm="[object Object]",zCe=Object.prototype,pN=zCe.hasOwnProperty;function WCe(t,e,n,r,i,o){var s=no(t),a=no(e),l=s?hN:Va(t),c=a?hN:Va(e);l=l==fN?Zm:l,c=c==fN?Zm:c;var u=l==Zm,f=c==Zm,h=l==c;if(h&&a0(t)){if(!a0(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new Es),s||pI(t)?QB(t,e,n,r,i,o):SCe(t,e,l,n,r,i,o);if(!(n&UCe)){var p=u&&pN.call(t,"__wrapped__"),m=f&&pN.call(e,"__wrapped__");if(p||m){var x=p?t.value():t,S=m?e.value():e;return o||(o=new Es),i(x,S,n,r,o)}}return h?(o||(o=new Es),DCe(t,e,n,r,i,o)):!1}function vI(t,e,n,r,i){return t===e?!0:t==null||e==null||!Al(t)&&!Al(e)?t!==t&&e!==e:WCe(t,e,n,r,vI,i)}var HCe=1,GCe=2;function KCe(t,e,n,r){var i=n.length,o=i;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var a=s[0],l=t[a],c=s[1];if(s[2]){if(l===void 0&&!(a in t))return!1}else{var u=new Es,f;if(!(f===void 0?vI(c,l,HCe|GCe,r,u):f))return!1}}return!0}function JB(t){return t===t&&!Ro(t)}function qCe(t){for(var e=mI(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,JB(i)]}return e}function ZB(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function YCe(t){var e=qCe(t);return e.length==1&&e[0][2]?ZB(e[0][0],e[0][1]):function(n){return n===t||KCe(n,t,e)}}var XCe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,QCe=/^\w*$/;function _I(t,e){if(no(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||gb(t)?!0:QCe.test(t)||!XCe.test(t)||e!=null&&t in Object(e)}var JCe="Expected a function";function bI(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(JCe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(bI.Cache||Sa),n}bI.Cache=Sa;var ZCe=500;function e1e(t){var e=bI(t,function(r){return n.size===ZCe&&n.clear(),r}),n=e.cache;return e}var t1e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n1e=/\\(\\)?/g,r1e=e1e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(t1e,function(n,r,i,o){e.push(i?o.replace(n1e,"$1"):r||n)}),e}),gN=kl?kl.prototype:void 0,mN=gN?gN.toString:void 0;function eV(t){if(typeof t=="string")return t;if(no(t))return XB(t,eV)+"";if(gb(t))return mN?mN.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function i1e(t){return t==null?"":eV(t)}function tV(t,e){return no(t)?t:_I(t,e)?[t]:r1e(i1e(t))}function vb(t){if(typeof t=="string"||gb(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function nV(t,e){e=tV(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[vb(e[n++])];return n&&n==r?t:void 0}function o1e(t,e,n){var r=t==null?void 0:nV(t,e);return r===void 0?n:r}function s1e(t,e){return t!=null&&e in Object(t)}function a1e(t,e,n){e=tV(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=vb(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&hI(i)&&gI(s,i)&&(no(t)||s0(t)))}function l1e(t,e){return t!=null&&a1e(t,e,s1e)}var c1e=1,u1e=2;function d1e(t,e){return _I(t)&&JB(e)?ZB(vb(t),e):function(n){var r=o1e(n,t);return r===void 0&&r===e?l1e(n,t):vI(e,r,c1e|u1e)}}function f1e(t){return function(e){return e==null?void 0:e[t]}}function h1e(t){return function(e){return nV(e,t)}}function p1e(t){return _I(t)?f1e(vb(t)):h1e(t)}function g1e(t){return typeof t=="function"?t:t==null?pb:typeof t=="object"?no(t)?d1e(t[0],t[1]):YCe(t):p1e(t)}function m1e(t,e){var n=-1,r=Cf(t)?Array(t.length):[];return GB(t,function(i,o,s){r[++n]=e(i,o,s)}),r}function Qc(t,e){var n=no(t)?XB:m1e;return n(t,g1e(e))}var y1e=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,o=Qe({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return F.createElement("div",{style:o.swatches},Qc(n,function(s){return F.createElement(Xc,{key:s,color:s,style:o.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+s}})}),F.createElement("div",{style:o.clear}))},wI=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,h=i==="transparent",p=function(S,b){Ul(S)&&n({hex:S,source:"hex"},b)},m=Qe(Oi({default:{card:{width:s,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:yI(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":a==="hide"});return F.createElement("div",{style:m.card,className:"block-picker "+f},F.createElement("div",{style:m.triangle}),F.createElement("div",{style:m.head},h&&F.createElement(Ef,{borderRadius:"6px 6px 0 0"}),F.createElement("div",{style:m.label},i)),F.createElement("div",{style:m.body},F.createElement(y1e,{colors:o,onClick:p,onSwatchHover:r}),F.createElement(Ot,{style:{input:m.input},value:i,onChange:p})))};wI.propTypes={width:we.oneOfType([we.string,we.number]),colors:we.arrayOf(we.string),triangle:we.oneOf(["top","hide"]),styles:we.object};wI.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Ni(wI);var Ru={100:"#ffcdd2",300:"#e57373",500:"#f44336",700:"#d32f2f",900:"#b71c1c"},Pu={100:"#f8bbd0",300:"#f06292",500:"#e91e63",700:"#c2185b",900:"#880e4f"},ku={100:"#e1bee7",300:"#ba68c8",500:"#9c27b0",700:"#7b1fa2",900:"#4a148c"},Au={100:"#d1c4e9",300:"#9575cd",500:"#673ab7",700:"#512da8",900:"#311b92"},Ou={100:"#c5cae9",300:"#7986cb",500:"#3f51b5",700:"#303f9f",900:"#1a237e"},Nu={100:"#bbdefb",300:"#64b5f6",500:"#2196f3",700:"#1976d2",900:"#0d47a1"},Mu={100:"#b3e5fc",300:"#4fc3f7",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Du={100:"#b2ebf2",300:"#4dd0e1",500:"#00bcd4",700:"#0097a7",900:"#006064"},$u={100:"#b2dfdb",300:"#4db6ac",500:"#009688",700:"#00796b",900:"#004d40"},Rh={100:"#c8e6c9",300:"#81c784",500:"#4caf50",700:"#388e3c"},Lu={100:"#dcedc8",300:"#aed581",500:"#8bc34a",700:"#689f38",900:"#33691e"},Fu={100:"#f0f4c3",300:"#dce775",500:"#cddc39",700:"#afb42b",900:"#827717"},Bu={100:"#fff9c4",300:"#fff176",500:"#ffeb3b",700:"#fbc02d",900:"#f57f17"},Vu={100:"#ffecb3",300:"#ffd54f",500:"#ffc107",700:"#ffa000",900:"#ff6f00"},ju={100:"#ffe0b2",300:"#ffb74d",500:"#ff9800",700:"#f57c00",900:"#e65100"},Uu={100:"#ffccbc",300:"#ff8a65",500:"#ff5722",700:"#e64a19",900:"#bf360c"},zu={100:"#d7ccc8",300:"#a1887f",500:"#795548",700:"#5d4037",900:"#3e2723"},Wu={100:"#cfd8dc",300:"#90a4ae",500:"#607d8b",700:"#455a64",900:"#263238"},rV=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,o=e.hover,s=e.active,a=e.circleSize,l=e.circleSpacing,c=Qe({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:o,active:s});return F.createElement("div",{style:c.swatch},F.createElement(Xc,{style:c.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+n}}))};rV.defaultProps={circleSize:28,circleSpacing:14};const v1e=lI(rV);var xI=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,o=e.colors,s=e.hex,a=e.circleSize,l=e.styles,c=l===void 0?{}:l,u=e.circleSpacing,f=e.className,h=f===void 0?"":f,p=Qe(Oi({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},c)),m=function(S,b){return r({hex:S,source:"hex"},b)};return F.createElement("div",{style:p.card,className:"circle-picker "+h},Qc(o,function(x){return F.createElement(v1e,{key:x,color:x,onClick:m,onSwatchHover:i,active:s===x.toLowerCase(),circleSize:a,circleSpacing:u})}))};xI.propTypes={width:we.oneOfType([we.string,we.number]),circleSize:we.number,circleSpacing:we.number,styles:we.object};xI.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Ru[500],Pu[500],ku[500],Au[500],Ou[500],Nu[500],Mu[500],Du[500],$u[500],Rh[500],Lu[500],Fu[500],Bu[500],Vu[500],ju[500],Uu[500],zu[500],Wu[500]],styles:{}};Ni(xI);function yN(t){return t===void 0}var iV={};Object.defineProperty(iV,"__esModule",{value:!0});var vN=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_1e=v,_N=b1e(_1e);function b1e(t){return t&&t.__esModule?t:{default:t}}function w1e(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var ey=24,x1e=iV.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?ey:r,o=t.height,s=o===void 0?ey:o,a=t.style,l=a===void 0?{}:a,c=w1e(t,["fill","width","height","style"]);return _N.default.createElement("svg",vN({viewBox:"0 0 "+ey+" "+ey,style:vN({fill:n,width:i,height:s},l)},c),_N.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},E1e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function S1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C1e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function T1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var oV=function(t){T1e(e,t);function e(n){S1e(this,e);var r=C1e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?Ul(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(yN(i.s)?r.props.hsl.s:i.s),l:Number(yN(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return E1e(e,[{key:"render",value:function(){var r=this,i=Qe({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=F.createElement("div",{style:i.fields,className:"flexbox-fix"},F.createElement("div",{style:i.field},F.createElement(Ot,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=F.createElement("div",{style:i.fields,className:"flexbox-fix"},F.createElement("div",{style:i.field},F.createElement(Ot,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),F.createElement("div",{style:i.field},F.createElement(Ot,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),F.createElement("div",{style:i.field},F.createElement(Ot,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),F.createElement("div",{style:i.alpha},F.createElement(Ot,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=F.createElement("div",{style:i.fields,className:"flexbox-fix"},F.createElement("div",{style:i.field},F.createElement(Ot,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),F.createElement("div",{style:i.field},F.createElement(Ot,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),F.createElement("div",{style:i.field},F.createElement(Ot,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),F.createElement("div",{style:i.alpha},F.createElement(Ot,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),F.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,F.createElement("div",{style:i.toggle},F.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},F.createElement(x1e,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(F.Component);oV.defaultProps={view:"hex"};var bN=function(){var e=Qe({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return F.createElement("div",{style:e.picker})},I1e=function(){var e=Qe({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return F.createElement("div",{style:e.picker})},EI=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,o=e.rgb,s=e.hsl,a=e.hsv,l=e.hex,c=e.renderers,u=e.styles,f=u===void 0?{}:u,h=e.className,p=h===void 0?"":h,m=e.defaultView,x=Qe(Oi({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},f),{disableAlpha:i});return F.createElement("div",{style:x.picker,className:"chrome-picker "+p},F.createElement("div",{style:x.saturation},F.createElement(mb,{style:x.Saturation,hsl:s,hsv:a,pointer:I1e,onChange:r})),F.createElement("div",{style:x.body},F.createElement("div",{style:x.controls,className:"flexbox-fix"},F.createElement("div",{style:x.color},F.createElement("div",{style:x.swatch},F.createElement("div",{style:x.active}),F.createElement(Ef,{renderers:c}))),F.createElement("div",{style:x.toggles},F.createElement("div",{style:x.hue},F.createElement(Sf,{style:x.Hue,hsl:s,pointer:bN,onChange:r})),F.createElement("div",{style:x.alpha},F.createElement(cI,{style:x.Alpha,rgb:o,hsl:s,pointer:bN,renderers:c,onChange:r})))),F.createElement(oV,{rgb:o,hsl:s,hex:l,view:m,onChange:r,disableAlpha:i})))};EI.propTypes={width:we.oneOfType([we.string,we.number]),disableAlpha:we.bool,styles:we.object,defaultView:we.oneOf(["hex","rgb","hsl"])};EI.defaultProps={width:225,disableAlpha:!1,styles:{}};Ni(EI);var R1e=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.active,a=Qe({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:yI(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:s,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return F.createElement(Xc,{style:a.color,color:n,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},F.createElement("div",{style:a.dot}))},P1e=function(e){var n=e.hex,r=e.rgb,i=e.onChange,o=Qe({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),s=function(l,c){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},c):i({hex:l.hex,source:"hex"},c)};return F.createElement("div",{style:o.fields,className:"flexbox-fix"},F.createElement("div",{style:o.active}),F.createElement(Ot,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:n,onChange:s}),F.createElement(Ot,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:s}),F.createElement(Ot,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:s}),F.createElement(Ot,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:s}))},SI=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,o=e.hex,s=e.rgb,a=e.styles,l=a===void 0?{}:a,c=e.className,u=c===void 0?"":c,f=Qe(Oi({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),h=function(m,x){m.hex?Ul(m.hex)&&n({hex:m.hex,source:"hex"},x):n(m,x)};return F.createElement(zg,{style:f.Compact,styles:l},F.createElement("div",{style:f.compact,className:"compact-picker "+u},F.createElement("div",null,Qc(i,function(p){return F.createElement(R1e,{key:p,color:p,active:p.toLowerCase()===o,onClick:h,onSwatchHover:r})}),F.createElement("div",{style:f.clear})),F.createElement(P1e,{hex:o,rgb:s,onChange:h})))};SI.propTypes={colors:we.arrayOf(we.string),styles:we.object};SI.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Ni(SI);var k1e=function(e){var n=e.hover,r=e.color,i=e.onClick,o=e.onSwatchHover,s={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=Qe({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:s}},{hover:n});return F.createElement("div",{style:a.swatch},F.createElement(Xc,{color:r,onClick:i,onHover:o,focusStyle:s}))};const A1e=lI(k1e);var CI=function(e){var n=e.width,r=e.colors,i=e.onChange,o=e.onSwatchHover,s=e.triangle,a=e.styles,l=a===void 0?{}:a,c=e.className,u=c===void 0?"":c,f=Qe(Oi({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right","bottom-left-triangle":s==="bottom-left","bottom-right-triangle":s==="bottom-right"}),h=function(m,x){return i({hex:m,source:"hex"},x)};return F.createElement("div",{style:f.card,className:"github-picker "+u},F.createElement("div",{style:f.triangleShadow}),F.createElement("div",{style:f.triangle}),Qc(r,function(p){return F.createElement(A1e,{color:p,key:p,onClick:h,onSwatchHover:o})}))};CI.propTypes={width:we.oneOfType([we.string,we.number]),colors:we.arrayOf(we.string),triangle:we.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:we.object};CI.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Ni(CI);var O1e=function(e){var n=e.direction,r=Qe({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return F.createElement("div",{style:r.picker})},N1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TI=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.hsl,s=e.direction,a=e.pointer,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,h=Qe(Oi({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},c)),p=function(x){return i({a:1,h:x.h,l:.5,s:1})};return F.createElement("div",{style:h.picker,className:"hue-picker "+f},F.createElement(Sf,N1e({},h.hue,{hsl:o,pointer:a,onChange:p,direction:s})))};TI.propTypes={styles:we.object};TI.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:O1e,styles:{}};Ni(TI);var M1e=function(e){var n=e.onChange,r=e.hex,i=e.rgb,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,c=Qe(Oi({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},s)),u=function(h,p){h.hex?Ul(h.hex)&&n({hex:h.hex,source:"hex"},p):(h.r||h.g||h.b)&&n({r:h.r||i.r,g:h.g||i.g,b:h.b||i.b,source:"rgb"},p)};return F.createElement(zg,{styles:s},F.createElement("div",{style:c.material,className:"material-picker "+l},F.createElement(Ot,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:r,onChange:u}),F.createElement("div",{style:c.split,className:"flexbox-fix"},F.createElement("div",{style:c.third},F.createElement(Ot,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:i.r,onChange:u})),F.createElement("div",{style:c.third},F.createElement(Ot,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:i.g,onChange:u})),F.createElement("div",{style:c.third},F.createElement(Ot,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:i.b,onChange:u})))))};Ni(M1e);var D1e=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,o=e.hex,s=Qe({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(c,u){c["#"]?Ul(c["#"])&&n({hex:c["#"],source:"hex"},u):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},u):(c.h||c.s||c.v)&&n({h:c.h||i.h,s:c.s||i.s,v:c.v||i.v,source:"hsv"},u)};return F.createElement("div",{style:s.fields},F.createElement(Ot,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),F.createElement(Ot,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),F.createElement(Ot,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),F.createElement("div",{style:s.divider}),F.createElement(Ot,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:a}),F.createElement(Ot,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:a}),F.createElement(Ot,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:a}),F.createElement("div",{style:s.divider}),F.createElement(Ot,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"#",value:o.replace("#",""),onChange:a}),F.createElement("div",{style:s.fieldSymbols},F.createElement("div",{style:s.symbol},""),F.createElement("div",{style:s.symbol},"%"),F.createElement("div",{style:s.symbol},"%")))},$1e=function(e){var n=e.hsl,r=Qe({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return F.createElement("div",{style:r.picker})},L1e=function(){var e=Qe({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return F.createElement("div",{style:e.pointer},F.createElement("div",{style:e.left},F.createElement("div",{style:e.leftInside})),F.createElement("div",{style:e.right},F.createElement("div",{style:e.rightInside})))},wN=function(e){var n=e.onClick,r=e.label,i=e.children,o=e.active,s=Qe({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return F.createElement("div",{style:s.button,onClick:n},r||i)},F1e=function(e){var n=e.rgb,r=e.currentColor,i=Qe({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return F.createElement("div",null,F.createElement("div",{style:i.label},"new"),F.createElement("div",{style:i.swatches},F.createElement("div",{style:i.new}),F.createElement("div",{style:i.current})),F.createElement("div",{style:i.label},"current"))},B1e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function V1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j1e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function U1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var II=function(t){U1e(e,t);function e(n){V1e(this,e);var r=j1e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return B1e(e,[{key:"render",value:function(){var r=this.props,i=r.styles,o=i===void 0?{}:i,s=r.className,a=s===void 0?"":s,l=Qe(Oi({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},o));return F.createElement("div",{style:l.picker,className:"photoshop-picker "+a},F.createElement("div",{style:l.head},this.props.header),F.createElement("div",{style:l.body,className:"flexbox-fix"},F.createElement("div",{style:l.saturation},F.createElement(mb,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:$1e,onChange:this.props.onChange})),F.createElement("div",{style:l.hue},F.createElement(Sf,{direction:"vertical",hsl:this.props.hsl,pointer:L1e,onChange:this.props.onChange})),F.createElement("div",{style:l.controls},F.createElement("div",{style:l.top,className:"flexbox-fix"},F.createElement("div",{style:l.previews},F.createElement(F1e,{rgb:this.props.rgb,currentColor:this.state.currentColor})),F.createElement("div",{style:l.actions},F.createElement(wN,{label:"OK",onClick:this.props.onAccept,active:!0}),F.createElement(wN,{label:"Cancel",onClick:this.props.onCancel}),F.createElement(D1e,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(F.Component);II.propTypes={header:we.string,styles:we.object};II.defaultProps={header:"Color Picker",styles:{}};Ni(II);var z1e=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.disableAlpha,a=Qe({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:s}),l=function(u,f){u.hex?Ul(u.hex)&&n({hex:u.hex,source:"hex"},f):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,a:r.a,source:"rgb"},f):u.a&&(u.a<0?u.a=0:u.a>100&&(u.a=100),u.a/=100,n({h:i.h,s:i.s,l:i.l,a:u.a,source:"rgb"},f))};return F.createElement("div",{style:a.fields,className:"flexbox-fix"},F.createElement("div",{style:a.double},F.createElement(Ot,{style:{input:a.input,label:a.label},label:"hex",value:o.replace("#",""),onChange:l})),F.createElement("div",{style:a.single},F.createElement(Ot,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),F.createElement("div",{style:a.single},F.createElement(Ot,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),F.createElement("div",{style:a.single},F.createElement(Ot,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),F.createElement("div",{style:a.alpha},F.createElement(Ot,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},W1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sV=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=Qe({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(c,u){i({hex:c,source:"hex"},u)};return F.createElement("div",{style:s.colors,className:"flexbox-fix"},n.map(function(l){var c=typeof l=="string"?{color:l}:l,u=""+c.color+(c.title||"");return F.createElement("div",{key:u,style:s.swatchWrap},F.createElement(Xc,W1e({},c,{style:s.swatch,onClick:a,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+c.color}})))}))};sV.propTypes={colors:we.arrayOf(we.oneOfType([we.string,we.shape({color:we.string,title:we.string})])).isRequired};var H1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RI=function(e){var n=e.width,r=e.rgb,i=e.hex,o=e.hsv,s=e.hsl,a=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,u=e.presetColors,f=e.renderers,h=e.styles,p=h===void 0?{}:h,m=e.className,x=m===void 0?"":m,S=Qe(Oi({default:H1e({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:c});return F.createElement("div",{style:S.picker,className:"sketch-picker "+x},F.createElement("div",{style:S.saturation},F.createElement(mb,{style:S.Saturation,hsl:s,hsv:o,onChange:a})),F.createElement("div",{style:S.controls,className:"flexbox-fix"},F.createElement("div",{style:S.sliders},F.createElement("div",{style:S.hue},F.createElement(Sf,{style:S.Hue,hsl:s,onChange:a})),F.createElement("div",{style:S.alpha},F.createElement(cI,{style:S.Alpha,rgb:r,hsl:s,renderers:f,onChange:a}))),F.createElement("div",{style:S.color},F.createElement(Ef,null),F.createElement("div",{style:S.activeColor}))),F.createElement(z1e,{rgb:r,hsl:s,hex:i,onChange:a,disableAlpha:c}),F.createElement(sV,{colors:u,onClick:a,onSwatchHover:l}))};RI.propTypes={disableAlpha:we.bool,width:we.oneOfType([we.string,we.number]),styles:we.object};RI.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};Ni(RI);var fh=function(e){var n=e.hsl,r=e.offset,i=e.onClick,o=i===void 0?function(){}:i,s=e.active,a=e.first,l=e.last,c=Qe({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:a,last:l}),u=function(h){return o({h:n.h,s:.5,l:r,source:"hsl"},h)};return F.createElement("div",{style:c.swatch,onClick:u})},G1e=function(e){var n=e.onClick,r=e.hsl,i=Qe({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return F.createElement("div",{style:i.swatches},F.createElement("div",{style:i.swatch},F.createElement(fh,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<o&&Math.abs(r.s-.5)<o,onClick:n,first:!0})),F.createElement("div",{style:i.swatch},F.createElement(fh,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<o&&Math.abs(r.s-.5)<o,onClick:n})),F.createElement("div",{style:i.swatch},F.createElement(fh,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<o&&Math.abs(r.s-.5)<o,onClick:n})),F.createElement("div",{style:i.swatch},F.createElement(fh,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<o&&Math.abs(r.s-.5)<o,onClick:n})),F.createElement("div",{style:i.swatch},F.createElement(fh,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<o&&Math.abs(r.s-.5)<o,onClick:n,last:!0})),F.createElement("div",{style:i.clear}))},K1e=function(){var e=Qe({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return F.createElement("div",{style:e.picker})},PI=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,c=Qe(Oi({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},s));return F.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},F.createElement("div",{style:c.hue},F.createElement(Sf,{style:c.Hue,hsl:n,pointer:i,onChange:r})),F.createElement("div",{style:c.swatches},F.createElement(G1e,{hsl:n,onClick:r})))};PI.propTypes={styles:we.object};PI.defaultProps={pointer:K1e,styles:{}};Ni(PI);var aV={};Object.defineProperty(aV,"__esModule",{value:!0});var xN=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q1e=v,EN=Y1e(q1e);function Y1e(t){return t&&t.__esModule?t:{default:t}}function X1e(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var ty=24,Q1e=aV.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?ty:r,o=t.height,s=o===void 0?ty:o,a=t.style,l=a===void 0?{}:a,c=X1e(t,["fill","width","height","style"]);return EN.default.createElement("svg",xN({viewBox:"0 0 "+ty+" "+ty,style:xN({fill:n,width:i,height:s},l)},c),EN.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},J1e=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.first,a=e.last,l=e.active,c=Qe({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:yI(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:s,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return F.createElement(Xc,{color:n,style:c.color,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},F.createElement("div",{style:c.check},F.createElement(Q1e,null)))},Z1e=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,o=e.active,s=Qe({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return F.createElement("div",{style:s.group},Qc(i,function(a,l){return F.createElement(J1e,{key:a,color:a,active:a.toLowerCase()===o,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},kI=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.onSwatchHover,s=e.colors,a=e.hex,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,h=Qe(Oi({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),p=function(x,S){return i({hex:x,source:"hex"},S)};return F.createElement("div",{style:h.picker,className:"swatches-picker "+f},F.createElement(zg,null,F.createElement("div",{style:h.overflow},F.createElement("div",{style:h.body},Qc(s,function(m){return F.createElement(Z1e,{key:m.toString(),group:m,active:a,onClick:p,onSwatchHover:o})}),F.createElement("div",{style:h.clear})))))};kI.propTypes={width:we.oneOfType([we.string,we.number]),height:we.oneOfType([we.string,we.number]),colors:we.arrayOf(we.arrayOf(we.string)),styles:we.object};kI.defaultProps={width:320,height:240,colors:[[Ru[900],Ru[700],Ru[500],Ru[300],Ru[100]],[Pu[900],Pu[700],Pu[500],Pu[300],Pu[100]],[ku[900],ku[700],ku[500],ku[300],ku[100]],[Au[900],Au[700],Au[500],Au[300],Au[100]],[Ou[900],Ou[700],Ou[500],Ou[300],Ou[100]],[Nu[900],Nu[700],Nu[500],Nu[300],Nu[100]],[Mu[900],Mu[700],Mu[500],Mu[300],Mu[100]],[Du[900],Du[700],Du[500],Du[300],Du[100]],[$u[900],$u[700],$u[500],$u[300],$u[100]],["#194D33",Rh[700],Rh[500],Rh[300],Rh[100]],[Lu[900],Lu[700],Lu[500],Lu[300],Lu[100]],[Fu[900],Fu[700],Fu[500],Fu[300],Fu[100]],[Bu[900],Bu[700],Bu[500],Bu[300],Bu[100]],[Vu[900],Vu[700],Vu[500],Vu[300],Vu[100]],[ju[900],ju[700],ju[500],ju[300],ju[100]],[Uu[900],Uu[700],Uu[500],Uu[300],Uu[100]],[zu[900],zu[700],zu[500],zu[300],zu[100]],[Wu[900],Wu[700],Wu[500],Wu[300],Wu[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Ni(kI);var AI=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,h=Qe(Oi({default:{card:{width:s,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),p=function(x,S){Ul(x)&&n({hex:x,source:"hex"},S)};return F.createElement("div",{style:h.card,className:"twitter-picker "+f},F.createElement("div",{style:h.triangleShadow}),F.createElement("div",{style:h.triangle}),F.createElement("div",{style:h.body},Qc(o,function(m,x){return F.createElement(Xc,{key:x,color:m,hex:m,style:h.swatch,onClick:p,onHover:r,focusStyle:{boxShadow:"0 0 4px "+m}})}),F.createElement("div",{style:h.hash},"#"),F.createElement(Ot,{label:null,style:{input:h.input},value:i.replace("#",""),onChange:p}),F.createElement("div",{style:h.clear})))};AI.propTypes={width:we.oneOfType([we.string,we.number]),triangle:we.oneOf(["hide","top-left","top-right"]),colors:we.arrayOf(we.string),styles:we.object};AI.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Ni(AI);var OI=function(e){var n=Qe({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return F.createElement("div",{style:n.picker})};OI.propTypes={hsl:we.shape({h:we.number,s:we.number,l:we.number,a:we.number})};OI.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var NI=function(e){var n=Qe({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return F.createElement("div",{style:n.picker})};NI.propTypes={hsl:we.shape({h:we.number,s:we.number,l:we.number,a:we.number})};NI.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var eTe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.hsv,a=function(p,m){if(p.hex)Ul(p.hex)&&n({hex:p.hex,source:"hex"},m);else if(p.rgb){var x=p.rgb.split(",");Hw(p.rgb,"rgb")&&n({r:x[0],g:x[1],b:x[2],a:1,source:"rgb"},m)}else if(p.hsv){var S=p.hsv.split(",");Hw(p.hsv,"hsv")&&(S[2]=S[2].replace("%",""),S[1]=S[1].replace("%",""),S[0]=S[0].replace("",""),S[1]==1?S[1]=.01:S[2]==1&&(S[2]=.01),n({h:Number(S[0]),s:Number(S[1]),v:Number(S[2]),source:"hsv"},m))}else if(p.hsl){var b=p.hsl.split(",");Hw(p.hsl,"hsl")&&(b[2]=b[2].replace("%",""),b[1]=b[1].replace("%",""),b[0]=b[0].replace("",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),n({h:Number(b[0]),s:Number(b[1]),v:Number(b[2]),source:"hsl"},m))}},l=Qe({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=r.r+", "+r.g+", "+r.b,u=Math.round(i.h)+", "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",f=Math.round(s.h)+", "+Math.round(s.s*100)+"%, "+Math.round(s.v*100)+"%";return F.createElement("div",{style:l.wrap,className:"flexbox-fix"},F.createElement("div",{style:l.fields},F.createElement("div",{style:l.double},F.createElement(Ot,{style:{input:l.input,label:l.label},label:"hex",value:o,onChange:a})),F.createElement("div",{style:l.column},F.createElement("div",{style:l.single},F.createElement(Ot,{style:{input:l.input2,label:l.label2},label:"rgb",value:c,onChange:a})),F.createElement("div",{style:l.single},F.createElement(Ot,{style:{input:l.input2,label:l.label2},label:"hsv",value:f,onChange:a})),F.createElement("div",{style:l.single},F.createElement(Ot,{style:{input:l.input2,label:l.label2},label:"hsl",value:u,onChange:a})))))},MI=function(e){var n=e.width,r=e.onChange,i=e.rgb,o=e.hsl,s=e.hsv,a=e.hex,l=e.header,c=e.styles,u=c===void 0?{}:c,f=e.className,h=f===void 0?"":f,p=Qe(Oi({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},u));return F.createElement("div",{style:p.picker,className:"google-picker "+h},F.createElement("div",{style:p.head},l),F.createElement("div",{style:p.swatch}),F.createElement("div",{style:p.saturation},F.createElement(mb,{hsl:o,hsv:s,pointer:OI,onChange:r})),F.createElement("div",{style:p.body},F.createElement("div",{style:p.controls,className:"flexbox-fix"},F.createElement("div",{style:p.hue},F.createElement(Sf,{style:p.Hue,hsl:o,radius:"4px",pointer:NI,onChange:r}))),F.createElement(eTe,{rgb:i,hsl:o,hex:a,hsv:s,onChange:r})))};MI.propTypes={width:we.oneOfType([we.string,we.number]),styles:we.object,header:we.string};MI.defaultProps={width:652,styles:{},header:"Color picker"};Ni(MI);const tTe=ir(P.jsx("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"})),nTe=ir(P.jsx("path",{d:"m7 10 5 5 5-5z"})),rTe=ir(P.jsx("path",{d:"m7 14 5-5 5 5z"})),iTe=ir(P.jsx("path",{d:"M7 5h2V3H7zm0 8h2v-2H7zm0 8h2v-2H7zm4-4h2v-2h-2zm0 4h2v-2h-2zm-8 0h2v-2H3zm0-4h2v-2H3zm0-4h2v-2H3zm0-4h2V7H3zm0-4h2V3H3zm8 8h2v-2h-2zm8 4h2v-2h-2zm0-4h2v-2h-2zm0 8h2v-2h-2zm0-12h2V7h-2zm-8 0h2V7h-2zm8-6v2h2V3zm-8 2h2V3h-2zm4 16h2v-2h-2zm0-8h2v-2h-2zm0-8h2V3h-2z"})),oTe=ir(P.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),SN=ir(P.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"})),sTe=ir(P.jsx("path",{d:"M7 15v2h10v-2zm-4 6h18v-2H3zm0-8h18v-2H3zm4-6v2h10V7zM3 3v2h18V3z"})),aTe=ir(P.jsx("path",{d:"M15 15H3v2h12zm0-8H3v2h12zM3 13h18v-2H3zm0 8h18v-2H3zM3 3v2h18V3z"})),lTe=ir(P.jsx("path",{d:"M3 21h18v-2H3zm6-4h12v-2H9zm-6-4h18v-2H3zm6-4h12V7H9zM3 3v2h18V3z"})),cTe=ir(P.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"})),uTe=ir(P.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"})),dTe=ir(P.jsx("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6m-7 2v2h14v-2z"})),ny=async t=>{const e=rS(),n=ZE(e,`Settings/${t}`);try{const r=await Gae(n);if(r.exists())return r.val();throw new Error("API key not found in database")}catch(r){throw console.error("Error fetching API key:",r),r}},fTe=({localCursor:t,canvasCenter:e,mergeMindMapData:n,isChatOpen:r,setIsChatOpen:i})=>{const[o,s]=v.useState(""),[a,l]=v.useState(!1),[c,u]=v.useState([]),f=async b=>{const w=await ny("Key"),g=await ny("prompt1"),C=await ny("model"),N=await ny("modelMax");if(!w)throw console.error("No API key found. Ensure VITE_OPENAI_API_KEY is set."),new Error("API key missing");const M=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`},body:JSON.stringify({model:C,messages:[{role:"system",content:g},{role:"user",content:b}],temperature:.7,max_tokens:N})});if(!M.ok){const k=await M.text();throw console.error("API error details:",M.status,k),new Error(`OpenAI API error: ${M.statusText}`)}const I=(await M.json()).choices[0].message.content.trim();console.log("Raw content from AI:",I);try{return JSON.parse(I)}catch(k){throw console.error("Error parsing JSON:",k),console.log("Raw content:",I),k}},h=async b=>{if(o.trim()&&!a){l(!0),u(w=>[...w,{from:"user",text:o}]);try{const w=await f(o);u(C=>[...C,{from:"ai",text:"Generated mind map JSON",json:w}]),await n(w,b?t:e,x)}catch(w){console.error("Error calling OpenAI API:",w),u(g=>[...g,{from:"ai",text:"Error generating mind map"}])}finally{l(!1),s("")}}},p=b=>{b.key==="Enter"&&(b.preventDefault(),h(!0))},m=b=>{h(!1)},[x,S]=v.useState("bottomLay");return P.jsxs("div",{style:{position:"fixed",bottom:r?"0":"-270px",left:"0",width:"300px",height:"300px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0.66) 0%, #0f1011 100%)",color:"#fff",borderTopRightRadius:"8px",transition:"bottom 0.3s ease",display:"flex",flexDirection:"column",zIndex:1e3},children:[P.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px 8px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0.66) 0%,rgb(27, 29, 31) 100%)",borderTopRightRadius:"8px"},children:[P.jsxs("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>i(b=>!b),children:[r?P.jsx(nTe,{}):P.jsx(rTe,{}),P.jsx("span",{style:{marginLeft:"4px",fontWeight:"bold"},children:"MindMap Maker (Ai)"})]}),P.jsx(oTe,{style:{cursor:"pointer"},onClick:()=>i(!1)})]}),P.jsx("div",{style:{flex:1,padding:"8px",overflowY:"auto",fontSize:"0.9rem"},children:c.map((b,w)=>P.jsxs("div",{style:{marginBottom:"4px"},children:[P.jsx("strong",{children:b.from==="user"?"You:":"AI:"})," ",b.text]},w))}),P.jsx("div",{style:{width:"16%",marginLeft:"83%",marginTop:"22%",background:"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)",color:"white",borderRadius:"8px",position:"absolute"},children:P.jsx("paper",{children:P.jsxs(jE,{value:x,exclusive:!0,onChange:(b,w)=>{w!==null&&S(w)},orientation:"vertical","aria-label":"text alignment",color:"info",size:"small",sx:{mx:.5,my:.5,background:"radial-gradient(circle at center,rgba(36, 39, 43, 0.5) 0%,rgba(108, 115, 121, 0.73) 130%)"},children:[P.jsx(Ks,{value:"bottomLay","aria-label":"bottomLay",style:{transform:"rotate(180deg)"},children:P.jsx(SN,{})}),P.jsx(Ks,{value:"rightLay","aria-label":"rightLay",style:{transform:"rotate(90deg)"},children:P.jsx(SN,{})}),P.jsx(Ks,{value:"centerLay","aria-label":"centerLay",children:P.jsx(iTe,{})})]})})}),P.jsxs("div",{style:{padding:"7px",display:"flex"},children:[P.jsx(hl,{value:o,onChange:b=>s(b.target.value),onKeyDown:p,variant:"filled",size:"small",placeholder:"Enter prompt...",InputProps:{style:{background:"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)",color:"#fff"}},fullWidth:!0}),P.jsx(Zt,{variant:"contained",onClick:m,disabled:a,style:{marginLeft:"4px",background:"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)"},children:a?"...":"Send"})]})]})},dn=100,Kt=40,CN=.1,wu=5,TN=.1,hTe=(t,e,n)=>Math.min(Math.max(t,e),n),Hn=typeof window<"u"&&(window.innerWidth<768||/Mobi|Android/i.test(navigator.userAgent)),pTe=()=>{const{id:t}=w6(),e=I0(),[n,r]=v.useState([]),[i,o]=v.useState([]),[s,a]=v.useState(null),[l,c]=v.useState(""),[u,f]=v.useState(!1),[h,p]=v.useState(null),[m,x]=v.useState([]),S=v.useCallback(()=>{f(R=>!R),p(null)},[]),[b,w]=v.useState(null),[g,C]=v.useState([]),[N,M]=v.useState(null),[E,I]=v.useState(!1),[k,_]=v.useState(null),[O,$]=v.useState(null),[A,Q]=v.useState([]),[W,q]=v.useState({x:0,y:0}),[ie,K]=v.useState([]),j=v.useRef({x:0,y:0}),[G,oe]=v.useState(1),[re,ge]=v.useState({x:0,y:0}),Ae=v.useRef({x:0,y:0}),xe=v.useRef({x:0,y:0}),fe=v.useRef(G),be=v.useRef(re),Fe=v.useRef(0),Be=v.useRef(null);v.useRef(!1);const[Ee,Ve]=v.useState(null),[De,Ye]=v.useState([]),[We,Ue]=v.useState([]),Bt=v.useRef(null),se=v.useRef(null),[pt,ze]=v.useState("#1e1e1e"),[lt,it]=v.useState("#fff"),[Me,ln]=v.useState(""),[_t,zn]=v.useState(dn),[Ut,Nt]=v.useState(Kt),[Ht,Qt]=v.useState("cursive"),[dt,Je]=v.useState(14),[cn,Wn]=v.useState(1),Yr=v.useCallback(async()=>{if(g.length===0)return;Jr();const D=Math.max(...n.map(B=>B.zIndex||1),1)+1,V=vr(ve);g.forEach(B=>{const z=qt(ve,"mindMaps",t,"nodes",B);V.update(z,{zIndex:D})});try{await V.commit(),r(B=>B.map(z=>g.includes(z.id)?{...z,zIndex:D}:z))}catch(B){console.error("Error updating z-index:",B)}},[g,n,t]),Pe=v.useCallback(async()=>{if(g.length===0)return;Jr();const R=Math.min(...n.map(B=>B.zIndex||1),1),D=Math.max(R-1,0),V=vr(ve);g.forEach(B=>{const z=qt(ve,"mindMaps",t,"nodes",B);V.update(z,{zIndex:D})});try{await V.commit(),r(B=>B.map(z=>g.includes(z.id)?{...z,zIndex:D}:z))}catch(B){console.error("Error updating z-index:",B)}},[g,n,t]),ct=v.useCallback(async R=>{if(g.length===0)return;Jr();const D=vr(ve);g.forEach(V=>{const B=qt(ve,"mindMaps",t,"nodes",V);D.update(B,{zIndex:R})});try{await D.commit(),r(V=>V.map(B=>g.includes(B.id)?{...B,zIndex:R}:B))}catch(V){console.error("Error updating z-index:",V)}},[g,t]),St=v.useRef({x:0,y:0}),En=v.useRef({}),[hr,Yn]=v.useState(!1),pr=v.useRef({x:0,y:0}),[gr,Xr]=v.useState({x:0,y:0}),Sn=v.useRef(!1),Ct=v.useMemo(()=>g.length?n.find(R=>R.id===g[0]):null,[g,n]);v.useCallback((R,D)=>{Be.current&&cancelAnimationFrame(Be.current),Be.current=requestAnimationFrame(()=>{const V=performance.now();V-Fe.current<16||(R&&(ge(R),be.current=R),D!==void 0&&(oe(D),fe.current=D),Fe.current=V,Be.current=null)})},[]);const Mi=v.useCallback(R=>{pr.current=R,Sn.current||(Sn.current=!0,requestAnimationFrame(()=>{Xr({...pr.current}),Sn.current=!1}))},[]),[Di,so]=v.useState("cursive"),[Ce,_e]=v.useState(14),[Ze,et]=v.useState([]),[bt,or]=v.useState([]),[di,Rr]=v.useState("left"),[Dr,gn]=v.useState("left"),[Cn,fi]=v.useState("rectangle"),[Ds,ee]=v.useState(0),[J,Ie]=v.useState("#ff0000"),[tt,ht]=v.useState(!1),[Vt,Tn]=v.useState(100),[$r,Jc]=v.useState("#000000"),[zl,Zc]=v.useState(1),[$s,Oo]=v.useState(!1),[gt,Qr]=v.useState("#ff0000"),[No,Ls]=v.useState(1),[Tf,_b]=v.useState(!1),[Wg,Hg]=v.useState("none"),[bb,wb]=v.useState(1),[DI,$I]=v.useState("#ff0000");v.useCallback((R,D)=>{et(D)},[]),Ze.includes("bold"),Ze.includes("italic"),Ze.includes("underline");const Gg=[8,10,12,14,16,18,20,24,28,32],If=v.useRef(null),[Wl,os]=v.useState(!1),[Mo,eu]=v.useState(!1),[ao,Hl]=v.useState({visible:!1,x:0,y:0,type:null}),Pt=v.useCallback(()=>Hl({visible:!1,x:0,y:0,type:null}),[]),tu=v.useCallback(R=>{if(Wl){R.preventDefault();return}if(g.length){Hl({visible:!0,x:R.clientX,y:R.clientY,type:"node"});return}R.target.closest(".mindmap-node")?Hl({visible:!0,x:R.clientX,y:R.clientY,type:"node"}):Hl({visible:!0,x:R.clientX,y:R.clientY,type:"canvas"})},[Wl,g.length]),Fs=v.useCallback(()=>{ge({x:0,y:0}),be.current={x:0,y:0},oe(1),fe.current=1,console.log("Reset pan/zoom"),Pt()},[Pt]);v.useCallback(R=>{console.log("Processing key interaction:",R.key)},[]);const[Ca,nu]=v.useState(!0),[Rf,Gl]=v.useState(null),[ru,Kg]=v.useState(!1),[Pf,lo]=v.useState(!1),[Do,iu]=v.useState(""),[hi,Kl]=v.useState([]),[co,qg]=v.useState(0),[xb,ql]=v.useState(!1),[$o,Yg]=v.useState(!0),ou={Tab:"Add connected node to selected",Enter:"Edit selected node text",Escape:"Exit current mode/clear selection",Space:"Toggle pan mode","Ctrl+A":"Select all nodes","Ctrl+D":"Duplicate selected nodes","Ctrl+Z":"Undo last action","Ctrl+Y":"Redo last action","Ctrl+C":"Copy selected nodes","Ctrl+V":"Paste nodes","Delete/Backspace":"Delete selected nodes","Ctrl+F":"Search nodes",F3:"Find next search result","Shift+F3":"Find previous search result",Home:"Zoom to fit all nodes",0:"Reset zoom to 100%","+/=":"Zoom in","-":"Zoom out",F:"Focus on selected nodes","Ctrl+L":"Toggle linking mode","Ctrl+E":"Export mind map","Ctrl+/":"Show/hide hotkey help","Ctrl+Shift+A":"Auto-layout nodes",R:"Reset pan and zoom"},su=v.useCallback(R=>{if(!R.trim()){Kl([]);return}const D=n.filter(V=>V.text&&V.text.toLowerCase().includes(R.toLowerCase())).map(V=>V.id);Kl(D),qg(0),D.length>0&&(C([D[0]]),Ta(D[0]))},[n]),Ta=v.useCallback(R=>{const D=n.find(ce=>ce.id===R);if(!D)return;const V=se.current.getBoundingClientRect(),B=250,z=50,X=V.width-B,ae=V.height-z,pe=D.x+(D.width||dn)/2,H=D.y+(D.height||Kt)/2,le={x:X/2-pe*G,y:ae/2-H*G};ge(le),be.current=le},[n,G]),Bs=v.useCallback(R=>{if(hi.length===0)return;let D;R==="next"?D=(co+1)%hi.length:D=co===0?hi.length-1:co-1,qg(D),C([hi[D]]),Ta(hi[D])},[hi,co,Ta]),Ia=v.useCallback(async()=>{if(n.length!==0){Kg(!0);try{const B=2*Math.PI/n.length,z=vr(ve);n.forEach((X,ae)=>{const pe=ae*B,H=0+Math.cos(pe)*200,le=0+Math.sin(pe)*200,ce=qt(ve,"mindMaps",t,"nodes",X.id);z.update(ce,{x:H,y:le})}),await z.commit()}catch(R){console.error("Error auto-layouting nodes:",R)}finally{Kg(!1)}}},[n,t]),Ra=v.useCallback(()=>{C(n.map(R=>R.id))},[n]),kf=v.useCallback(()=>{if(n.length===0)return;let R=1/0,D=1/0,V=-1/0,B=-1/0;n.forEach(Gt=>{const Qn=Gt.width||dn,Jn=Gt.height||Kt;R=Math.min(R,Gt.x),D=Math.min(D,Gt.y),V=Math.max(V,Gt.x+Qn),B=Math.max(B,Gt.y+Jn)});const z=se.current.getBoundingClientRect(),X=250,ae=50,pe=z.width-X,H=z.height-ae,le=.8,ce=V-R,Re=B-D,$e=pe*le/ce,He=H*le/Re,Se=Math.min($e,He,wu),yt=(R+V)/2,un=(D+B)/2,Xn={x:pe/2-yt*Se,y:H/2-un*Se};oe(Se),fe.current=Se,ge(Xn),be.current=Xn},[n]),au=v.useCallback(async()=>{if(g.length!==1)return;const R=n.find(D=>D.id===g[0]);if(R)try{const D=W.x||R.x+150,V=W.y||R.y,B=await yr(ft(ve,"mindMaps",t,"nodes"),{text:"New Node",x:D-dn/2,y:V-Kt/2,width:dn,height:Kt,lockedBy:null,typing:!1,textColor:"#EAEAEA",fontSize:14,fontFamily:"cursive",createdAt:Ba()});await yr(ft(ve,"mindMaps",t,"links"),{source:g[0],target:B.id}),C([B.id]),setTimeout(()=>{a(B.id),c("New Node")},100)}catch(D){console.error("Error adding connected node:",D)}},[g,n,t,W]);v.useEffect(()=>{const R=eH(mc,D=>{D?(_(D.email),$(D.uid)):Gl("Please log in to access the mind map")});return()=>R()},[]),v.useEffect(()=>{if(!t)return;nu(!0);const R=Ur(ft(ve,"mindMaps",t,"nodes")),D=zh(R,V=>{try{const B=V.docs.map(z=>({id:z.id,...z.data()}));r(B),nu(!1),Gl(null)}catch(B){console.error("Error processing nodes:",B),Gl("Failed to load mind map data"),nu(!1)}},V=>{console.error("Error subscribing to nodes:",V),Gl("Failed to connect to mind map"),nu(!1)});return()=>D()},[t]),v.useEffect(()=>{if(!t)return;const R=Ur(ft(ve,"mindMaps",t,"links")),D=zh(R,V=>{try{const B=V.docs.map(z=>({id:z.id,...z.data()}));o(B)}catch(B){console.error("Error processing links:",B)}},V=>{console.error("Error subscribing to links:",V)});return()=>D()},[t]),v.useEffect(()=>{if(!t||!O)return;const R=qt(ve,"mindMaps",t,"presence",O);kk(R,{email:k,lastActive:Ba()},{merge:!0}).catch(console.error);const D=setInterval(()=>{kk(R,{lastActive:Ba()},{merge:!0}).catch(console.error)},5e3);return()=>{clearInterval(D),AF(R).catch(console.error)}},[t,O,k]),v.useEffect(()=>{if(!t)return;const R=Ur(ft(ve,"mindMaps",t,"presence")),D=zh(R,V=>{const B=V.docs.map(z=>z.data());Q(B)});return()=>D()},[t]),v.useEffect(()=>{if(!t||!O)return;const R=rS(),D=ZE(R,`mindMaps/${t}/cursors/${O}`),V=Bt.current;if(!V)return;const B=rh(ae=>{const pe=V.getBoundingClientRect(),H=ae.clientX-pe.left,le=ae.clientY-pe.top;j.current={x:H,y:le},q({x:H,y:le})},16);V.addEventListener("mousemove",B);const z=setInterval(()=>{document.hidden||tS(D,{...j.current,email:k,lastActive:Date.now(),uid:O}).catch(console.error)},200),X=()=>{document.hidden?D&&V2(D).catch(console.error):tS(D,{...j.current,email:k,lastActive:Date.now(),uid:O}).catch(console.error)};return document.addEventListener("visibilitychange",X),()=>{V.removeEventListener("mousemove",B),B.cancel(),clearInterval(z),document.removeEventListener("visibilitychange",X),D&&V2(D).catch(console.error)}},[t,O,k]),v.useEffect(()=>{if(!t)return;const R=rS(),D=ZE(R,`mindMaps/${t}/cursors`),V=B=>{const z=B.val()||{},X=Object.entries(z).map(([ae,pe])=>({uid:ae,...pe}));K(X)};return qae(D,V,B=>{console.error("Error receiving remote cursor data:",B)}),()=>{Yae(D,"value",V)}},[t]),v.useEffect(()=>{if(!se.current)return;const R=rh(D=>{const B=se.current.getBoundingClientRect(),z=(D.clientX-B.left-re.x)/G,X=(D.clientY-B.top-re.y)/G;j.current={x:z,y:X},q({x:z,y:X})},16);return document.addEventListener("mousemove",R),()=>{document.removeEventListener("mousemove",R),R.cancel()}},[re,G]);const In=(R,D)=>{D.stopPropagation(),u?h?h===R.id?p(null):yr(ft(ve,"mindMaps",t,"links"),{source:h,target:R.id}).then(()=>{p(null)}).catch(V=>{console.error("Error creating link:",V)}):p(R.id):D.ctrlKey||D.metaKey?C(V=>V.includes(R.id)?V.filter(B=>B!==R.id):[...V,R.id]):C([R.id])},Jr=R=>{let D={};R?D=R:g.forEach(B=>{const z=n.find(X=>X.id===B);z&&(D[B]={...z})});const V=JSON.parse(JSON.stringify(D));Object.keys(V).length>0&&(Ye(B=>[...B,V]),Ue([]))},Xg=R=>{if(R){const D={[R.id]:{...R}};Ye(V=>[...V,D]),Ue([])}},Qg=async()=>{if(De.length===0)return;const R=De[De.length-1],D=R.nodes?R.nodes:R,V={};Object.keys(D).forEach(z=>{const X=n.find(ae=>ae.id===z);X&&(V[z]={...X})}),Ue(z=>[...z,V]);const B=vr(ve);for(const z of Object.keys(D)){const X=D[z],ae=qt(ve,"mindMaps",t,"nodes",z);if(X&&X.isNew){B.delete(ae);const pe=Ur(ft(ve,"mindMaps",t,"links"),Bi("source","==",z));(await Vi(pe)).docs.forEach(Re=>{const $e=qt(ve,"mindMaps",t,"links",Re.id);B.delete($e)});const le=Ur(ft(ve,"mindMaps",t,"links"),Bi("target","==",z));(await Vi(le)).docs.forEach(Re=>{const $e=qt(ve,"mindMaps",t,"links",Re.id);B.delete($e)})}else X&&B.set(ae,X,{merge:!0})}try{await B.commit(),console.log("Batch undo successful")}catch(z){console.error("Error during batch undo:",z)}r(z=>z.filter(X=>!(D[X.id]&&D[X.id].isNew))),Ye(z=>z.slice(0,z.length-1))},Jg=async()=>{if(We.length===0)return;const R=We[We.length-1];console.log("Redo snapshot:",R);const D={};Object.keys(R).forEach(B=>{const z=n.find(X=>X.id===B);z&&(D[B]={...z})}),Ye(B=>[...B,D]);const V=vr(ve);Object.keys(R).forEach(B=>{const z=qt(ve,"mindMaps",t,"nodes",B);V.set(z,R[B],{merge:!0})});try{await V.commit(),console.log("Batch redo successful")}catch(B){console.error("Error during batch redo:",B)}r(B=>{const z=[...B];return Object.keys(R).forEach(X=>{const ae=z.findIndex(pe=>pe.id===X);ae===-1?z.push({id:X,...R[X]}):z[ae]={...z[ae],...R[X]}}),z}),Ue(B=>B.slice(0,B.length-1))},Zg=(R,D)=>{if(D.button!==0)return;Xg(R),D.stopPropagation(),D.preventDefault();const V=D.clientX,B=D.clientY,z=R.width||dn,X=R.height||Kt;let ae=z,pe=X;const H=ce=>{const Re=ce.clientX-V,$e=ce.clientY-B;ae=Math.max(50,z+Re/G),pe=Math.max(20,X+$e/G),r(He=>He.map(Se=>Se.id===R.id?{...Se,width:ae,height:pe}:Se))},le=async()=>{document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",le);try{const ce=qt(ve,"mindMaps",t,"nodes",R.id);await Tu(ce,{width:ae,height:pe})}catch(ce){console.error("Error updating node size:",ce)}};document.addEventListener("mousemove",H),document.addEventListener("mouseup",le)},Pa=()=>{oe(R=>{const D=Math.min(wu,R+TN);return fe.current=D,D})},lu=()=>{oe(R=>{const D=Math.max(CN,R-TN);return fe.current=D,D})};v.useEffect(()=>{const R=se.current,D=Bt.current;if(!R||!D)return;const V=rh(B=>{let z=B.shiftKey?1.15:1.05;B.preventDefault();const X=R.getBoundingClientRect(),ae=B.clientX-X.left,pe=B.clientY-X.top,H=fe.current;let le;B.deltaY<0?le=Math.min(wu,H*z):le=H/z;const ce={x:(ae-be.current.x)/H,y:(pe-be.current.y)/H},Re={x:ae-ce.x*le,y:pe-ce.y*le};oe(le),ge(Re),fe.current=le,be.current=Re},8);return R.addEventListener("wheel",V,{passive:!1}),()=>{R.removeEventListener("wheel",V),V.cancel()}},[G,re]);const Lo=R=>{R.preventDefault()},Af=R=>{if(R.button!==2)return;document.activeElement.tagName==="INPUT"||document.activeElement.tagName==="TEXTAREA"||R.preventDefault(),Ae.current={...re},If.current={x:R.clientX,y:R.clientY},xe.current={x:R.clientX,y:R.clientY};const V=rh(B=>{const z=B.clientX-xe.current.x,X=B.clientY-xe.current.y;Math.sqrt(z*z+X*X)>15&&os(!0),requestAnimationFrame(()=>{const pe=B.clientX-xe.current.x,H=B.clientY-xe.current.y,le=Ae.current.x+pe,ce=Ae.current.y+H;ge({x:le,y:ce}),be.current={x:le,y:ce}})},16);document.addEventListener("mousemove",V),document.addEventListener("mouseup",function B(){document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",B),V.cancel()})},Eb=v.useCallback(async()=>{if(t&&!ru)try{const R=be.current,D=fe.current,V=se.current.getBoundingClientRect(),B=250,z=50,X=V.width-B,ae=V.height-z,pe=X/2,H=ae/2,le=(pe-R.x)/D,ce=(H-R.y)/D,Re=await yr(ft(ve,"mindMaps",t,"nodes"),{text:"New Node",x:le,y:ce,width:dn,height:Kt,lockedBy:null,typing:!1,textColor:"#EAEAEA",fontSize:14,fontFamily:"cursive",createdAt:Ba()});C([Re.id])}catch(R){console.error("Error adding node:",R)}finally{}},[t,ru]),Yl=v.useCallback(async()=>{if(t&&!ru)try{const R=W.x,D=W.y,V=await yr(ft(ve,"mindMaps",t,"nodes"),{text:"New Node",x:R-dn/2,y:D-Kt/2,width:dn,height:Kt,lockedBy:null,typing:!1,textColor:"#EAEAEA",fontSize:14,fontFamily:"cursive",createdAt:Ba()});C([V.id])}catch(R){console.error("Error adding node:",R)}finally{}},[t,W]),cu=v.useCallback(R=>{if(u||R.type==="image"||R.lockedBy&&R.lockedBy!==k)return;const D=qt(ve,"mindMaps",t,"nodes",R.id);Tu(D,{lockedBy:k,typing:!0}).catch(V=>{console.error("Error locking node:",V)}),a(R.id),c(R.text)},[u,k,t]),Of=v.useCallback(async R=>{if(l.trim())try{g.includes(R),Jr();const D=qt(ve,"mindMaps",t,"nodes",R);await Tu(D,{text:l.trim(),lockedBy:null,typing:!1,lastModified:Ba()}),a(null),c("")}catch(D){console.error("Error updating node text:",D)}},[l,g,t]),uu=v.useCallback(R=>{const D=qt(ve,"mindMaps",t,"nodes",R);Tu(D,{typing:!0}).catch(V=>{console.error("Error setting typing status:",V)})},[t]);v.useEffect(()=>{const R=D=>{if(document.activeElement.tagName==="INPUT"||document.activeElement.tagName==="TEXTAREA"){D.key==="Escape"&&(D.target.blur(),a(null),ql(!1),lo(!1));return}if(D.ctrlKey&&D.key==="/"){D.preventDefault(),lo(!Pf);return}if(D.ctrlKey&&D.key.toLowerCase()==="f"){D.preventDefault(),ql(!0);return}if(D.key==="F3"){D.preventDefault(),D.shiftKey?Bs("prev"):Bs("next");return}if(D.key==="Home"){D.preventDefault(),kf();return}if(D.key==="0"&&!D.ctrlKey){D.preventDefault(),oe(1),fe.current=1;return}if(D.key==="+"||D.key==="="){D.preventDefault(),Pa();return}if(D.key==="-"){D.preventDefault(),lu();return}if(D.key.toLowerCase()==="r"&&!D.ctrlKey){D.preventDefault(),Fs();return}if(D.ctrlKey&&D.key.toLowerCase()==="a"){D.preventDefault(),Ra();return}if(D.key==="Escape"){D.preventDefault(),C([]),f(!1),p(null),ql(!1),lo(!1);return}if(D.key==="Tab"&&g.length===1){D.preventDefault(),au();return}if(D.key==="Enter"&&g.length===1){D.preventDefault();const V=n.find(B=>B.id===g[0]);V&&cu(V);return}if(D.ctrlKey&&D.shiftKey&&D.key.toLowerCase()==="a"){D.preventDefault(),Ia();return}if(D.ctrlKey&&D.key.toLowerCase()==="l"){D.preventDefault(),S();return}if(D.ctrlKey&&D.key.toLowerCase()==="e"){D.preventDefault(),$f();return}if(D.key.toLowerCase()==="f"&&g.length>0){D.preventDefault();const V=n.filter(Xe=>g.includes(Xe.id));if(!V.length)return;let B=1/0,z=1/0,X=-1/0,ae=-1/0;V.forEach(Xe=>{const Dt=Xe.width||dn,pi=Xe.height||Kt;B=Math.min(B,Xe.x),z=Math.min(z,Xe.y),X=Math.max(X,Xe.x+Dt),ae=Math.max(ae,Xe.y+pi)});const pe={x:(B+X)/2,y:(z+ae)/2},H=se.current.getBoundingClientRect(),le=-125,ce=50,Re=H.width-le,$e=H.height-ce,He=.6,Se=X-B,yt=ae-z,un=Re*He/Se,Xn=$e*He/yt,Gt=Math.min(un,Xn,wu),Qn={x:le+Re/2,y:ce+$e/2},Jn={x:Qn.x-pe.x*Gt,y:Qn.y-pe.y*Gt};oe(Gt),fe.current=Gt,ge(Jn),be.current=Jn;return}if(D.ctrlKey&&D.key.toLowerCase()==="d"&&(D.preventDefault(),(async()=>{if(g.length>0){const B={};await Promise.all(g.map(async z=>{const X=n.find(ae=>ae.id===z);if(X){const ae={x:X.x+50,y:X.y+50},pe=await ka(X,ae);pe&&(B[pe]={id:pe,isNew:!0})}})),console.log("Control-D group undo snapshot:",B),Object.keys(B).length>0&&Jr(B)}})()),D.key.toLowerCase()==="f"){if(g.length===0)return;const V=n.filter(Xe=>g.includes(Xe.id));if(!V.length)return;let B=1/0,z=1/0,X=-1/0,ae=-1/0;V.forEach(Xe=>{const Dt=Xe.width||dn,pi=Xe.height||Kt;B=Math.min(B,Xe.x),z=Math.min(z,Xe.y),X=Math.max(X,Xe.x+Dt),ae=Math.max(ae,Xe.y+pi)});const pe={x:(B+X)/2,y:(z+ae)/2},H=se.current.getBoundingClientRect(),le=-125,ce=50,Re=H.width-le,$e=H.height-ce,He=.6,Se=X-B,yt=ae-z,un=Re*He/Se,Xn=$e*He/yt,Gt=Math.min(un,Xn,wu),Qn={x:le+Re/2,y:ce+$e/2},Jn={x:Qn.x-pe.x*Gt,y:Qn.y-pe.y*Gt};oe(Gt),fe.current=Gt,ge(Jn),be.current=Jn}!s&&g.length>0&&(D.key==="Backspace"||D.key==="Delete")&&(D.preventDefault(),window.confirm("Are you sure you want to delete the selected nodes?")&&(Jr(),(async()=>{const V=vr(ve);for(const B of g){const z=qt(ve,"mindMaps",t,"nodes",B);V.delete(z);const X=Ur(ft(ve,"mindMaps",t,"links"),Bi("source","==",B));(await Vi(X)).docs.forEach(le=>{const ce=qt(ve,"mindMaps",t,"links",le.id);V.delete(ce)});const pe=Ur(ft(ve,"mindMaps",t,"links"),Bi("target","==",B));(await Vi(pe)).docs.forEach(le=>{const ce=qt(ve,"mindMaps",t,"links",le.id);V.delete(ce)})}try{await V.commit(),console.log("Batch deletion (nodes and links) successful")}catch(B){console.error("Error deleting nodes and links:",B)}r(B=>B.filter(z=>!g.includes(z.id))),C([])})())),D.ctrlKey&&D.key.toLowerCase()==="z"&&(console.log("undo"),D.preventDefault(),Qg()),D.ctrlKey&&D.key.toLowerCase()==="y"&&(D.preventDefault(),Jg())};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[n,g,De,We,Pf,Bs,kf,Pa,lu,Fs,Ra,au,cu,Ia,S]);const em=(R,D)=>R.x<D.x+D.width&&R.x+R.width>D.x&&R.y<D.y+D.height&&R.y+R.height>D.y,du=R=>{if(hr||R.button!==0)return;const D=se.current.getBoundingClientRect();I(R.ctrlKey||R.metaKey);const V=(R.clientX-D.left-re.x)/G,B=(R.clientY-D.top-re.y)/G;M({startX:V,startY:B,x:V,y:B,width:0,height:0})},Sb=R=>{if(!N||hr)return;const D=se.current.getBoundingClientRect(),V=(R.clientX-D.left-re.x)/G,B=(R.clientY-D.top-re.y)/G,z=Math.min(N.startX,V),X=Math.min(N.startY,B),ae=Math.abs(V-N.startX),pe=Math.abs(B-N.startY),H={...N,x:z,y:X,width:ae,height:pe};M(H);const le=ss.filter(ce=>{const Re={x:ce.x,y:ce.y,width:ce.width||dn,height:ce.height||Kt};return em(Re,H)}).map(ce=>ce.id);g!=le&&C(le)},tm=R=>{if(!N)return;const D=ss.filter(V=>(V.width,V.height,V.x<N.x+N.width&&V.x+V.width>N.x&&V.y<N.y+N.height&&V.y+V.height>N.y)).map(V=>V.id);C(E?V=>{const B=[...V];return D.forEach(z=>{B.includes(z)?B.splice(B.indexOf(z),1):B.push(z)}),B}:D),M(null)},ka=async(R,D)=>{if(!t)return null;const{id:V,...B}=R;let z;try{z=(await yr(ft(ve,"mindMaps",t,"nodes"),{...B,x:D.x,y:D.y,lockedBy:null,typing:!1})).id;const ae=Ur(ft(ve,"mindMaps",t,"links"),Bi("source","==",V)),pe=await Vi(ae);for(const ce of pe.docs){const Re=ce.data();await yr(ft(ve,"mindMaps",t,"links"),{...Re,source:z})}const H=Ur(ft(ve,"mindMaps",t,"links"),Bi("target","==",V)),le=await Vi(H);for(const ce of le.docs){const Re=ce.data();await yr(ft(ve,"mindMaps",t,"links"),{...Re,target:z})}}catch(X){return console.error("Error duplicating node and links:",X),null}return z},Nf=async(R,D,V=null)=>{if(!t)return null;const{id:B,...z}=R;let X;try{X=(await yr(ft(ve,"mindMaps",t,"nodes"),{...z,x:D.x,y:D.y,lockedBy:null,typing:!1})).id;const pe=Ur(ft(ve,"mindMaps",t,"links"),Bi("source","==",B)),H=await Vi(pe);for(const Re of H.docs){const $e=Re.data(),He=V&&V[$e.target]?V[$e.target]:null;He&&await yr(ft(ve,"mindMaps",t,"links"),{...$e,source:X,target:He})}const le=Ur(ft(ve,"mindMaps",t,"links"),Bi("target","==",B)),ce=await Vi(le);for(const Re of ce.docs){const $e=Re.data(),He=V&&V[$e.source]?V[$e.source]:null;He&&await yr(ft(ve,"mindMaps",t,"links"),{...$e,source:He,target:X})}}catch(ae){return console.error("Error duplicating node and links:",ae),null}return X},nm=(R,D)=>{const V={};R.forEach(z=>{V[z.id]=z});let B=!1;return D.forEach(z=>{const X=V[z.target];X&&(X.parent===void 0||X.parent===null)&&(X.parent=z.source,B=!0)}),R.forEach(z=>{z.parent===void 0&&(z.parent=null,B=!0)}),{nodes:R,modified:B}},Mf=async(R,D,V)=>{if(!R.nodes||!R.links)return;const{nodes:B}=nm(R.nodes,R.links),z=V==="bottomLay"?Gle(B,R.links,150,800,1.5):V==="rightLay"?qle(B,R.links,150,800,1.5):Kle(B,R.links,150,800,1.5),{layout:X,levelMap:ae}=z;let pe=1/0,H=1/0,le=-1/0,ce=-1/0;Object.values(X).forEach(({x:Xe,y:Dt})=>{Xe<pe&&(pe=Xe),Dt<H&&(H=Dt),Xe>le&&(le=Xe),Dt>ce&&(ce=Dt)});const Re=(pe+le)/2,$e=(H+ce)/2,He=D.x-Re,Se=D.y-$e,yt=["#2C3E50","#1ABC9C","#3498DB","#9B59B6","#E74C3C"],un={},Xn={},Gt=vr(ve);for(const Xe of B){const Dt=qt(ft(ve,"mindMaps",t,"nodes")),pi=X[Xe.id]||{x:0,y:0},$i=ae[Xe.id]||0,cm=$i%yt.length,Cb=yt[cm];let Ff=100,Tb=40,LI=14;if($i===0){const Bf=Xe.text?Xe.text.length:0;Ff=Math.max(180,Bf*1.25),Tb=Math.max(60,Bf*1),LI=28}else{const Bf=Xe.text?Xe.text.length:0;Ff=Math.max(100,Bf*1.1),Tb=Math.max(45,Bf*2)}const FI={...Xe,x:pi.x+He,y:pi.y+Se,id:Dt.id,bgColor:Xe.bgColor||Cb,textColor:Xe.textColor||"#ECF0F1",width:Ff,height:Tb,fontSize:LI};un[Xe.id]=Dt.id,Xn[Dt.id]={newNodeData:FI,isNew:!0},Gt.set(Dt,FI)}await Gt.commit(),console.log("Undo snapshot (nodes):",un);const Qn={nodes:{...Xn}};Jr(Qn);const Jn=vr(ve);for(const Xe of R.links){const Dt=un[Xe.source],pi=un[Xe.target];if(!Dt||!pi){console.error("Skipping link: missing mapping for source or target");continue}const $i=qt(ft(ve,"mindMaps",t,"links"));Jn.set($i,{...Xe,source:Dt,target:pi})}await Jn.commit(),console.log("Merged AI-generated mind map at drop position:",D)},Df=R=>{R.preventDefault()},rm=async R=>{R.preventDefault();const D=R.dataTransfer.files;if(!D||D.length===0)return;const V=D[0],B=se.current.getBoundingClientRect(),z=be.current,X=fe.current,ae=(R.clientX-B.left-z.x)/X,pe=(R.clientY-B.top-z.y)/X,H={};if(V.type==="application/json"||V.name.endsWith(".json"))try{const le=await V.text(),ce=JSON.parse(le);if(!ce.nodes||!ce.links)throw new Error("Invalid file format");let Re=1/0,$e=1/0,He=-1/0,Se=-1/0;ce.nodes.forEach(Dt=>{Dt.x<Re&&(Re=Dt.x),Dt.y<$e&&($e=Dt.y),Dt.x>He&&(He=Dt.x),Dt.y>Se&&(Se=Dt.y)});const yt=(Re+He)/2,un=($e+Se)/2,Xn=ae-yt,Gt=pe-un,Qn={},Jn=vr(ve);ce.nodes.forEach(Dt=>{const pi=Dt.id,$i=qt(ft(ve,"mindMaps",t,"nodes")),cm={...Dt,x:Dt.x+Xn,y:Dt.y+Gt,id:$i.id};Jn.set($i,cm),Qn[pi]=$i.id,H[$i.id]={id:$i.id,isNew:!0}}),await Jn.commit();const Xe=vr(ve);ce.links.forEach(Dt=>{const pi=Qn[Dt.source],$i=Qn[Dt.target];if(!pi||!$i){console.error("Skipping link: missing mapping for source or target");return}const{id:cm,...Cb}=Dt,Ff=qt(ft(ve,"mindMaps",t,"links"));Xe.set(Ff,{...Cb,source:pi,target:$i})}),await Xe.commit(),console.log("Imported mind map JSON file at cursor position using batch writes.")}catch(le){console.error("Error importing mind map:",le)}else if(V.type.startsWith("image/"))try{const le=Date.now(),ce=V.name||"pastedImage.png",Re=`images/${le}_${ce}`,$e=Fk(Bk,Re);await $k($e,V);const He=await Lk($e);await yr(ft(ve,"mindMaps",t,"nodes"),{type:"image",imageUrl:He,storagePath:Re,x:ae-60/fe.current*.5,y:pe-Kt/fe.current*.5,width:60/fe.current,height:Kt/fe.current,lockedBy:null,typing:!1}).then(Se=>{Se&&(H[Se.id]={id:Se.id,isNew:!0})})}catch(le){console.error("Error uploading image:",le)}Object.keys(H).length>0&&Jr(H)},Aa=async R=>{if(!s&&g.length>0){const D=n.filter(B=>g.includes(B.id)),V=JSON.stringify(D);if(R.clipboardData)R.clipboardData.setData("application/json",V),R.clipboardData.setData("text/plain",V),R.preventDefault(),console.log("Copied nodes to clipboard:",D);else if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(V),console.log("Copied nodes to clipboard via navigator.clipboard:",D)}catch(B){console.error("Failed to copy nodes:",B)}else console.error("Clipboard API not available.")}};v.useEffect(()=>(document.addEventListener("copy",Aa),()=>document.removeEventListener("copy",Aa)),[g,n]);const fu=async()=>{if(!s)try{Pt();let R={},D=null,V=!1;if(navigator.clipboard.read){const B=await navigator.clipboard.read();for(const z of B)for(const X of z.types)if(X.startsWith("image/")){V=!0;const ae=await z.getType(X);try{const pe=Date.now(),H=ae.name||"pastedImage.png",le=`images/${pe}_${H}`,ce=Fk(Bk,le);await $k(ce,ae);const Re=await Lk(ce),$e=W.x,He=W.y,Se=await yr(ft(ve,"mindMaps",t,"nodes"),{type:"image",imageUrl:Re,storagePath:le,x:$e-60/fe.current*.5,y:He-Kt/fe.current*.5,width:60/fe.current,height:Kt/fe.current,lockedBy:null,typing:!1});Se&&(R[Se.id]={id:Se.id,isNew:!0})}catch(pe){console.error("Error uploading pasted image:",pe)}break}if(!V){const X=(await navigator.clipboard.readText()).trim();if(X.startsWith("{")||X.startsWith("["))try{D=JSON.parse(X),Array.isArray(D)||(D=[D])}catch(ae){console.error("Error parsing JSON, falling back to plain text:",ae),D=null}}}else{const B=await navigator.clipboard.readText();try{D=JSON.parse(B),Array.isArray(D)||(D=[D])}catch{D=null}}if(D){const B=W.x,z=W.y;if(D.length===1){const X=D[0],ae=X.width||dn,pe=X.height||Kt,H=X.x+ae/2,le=X.y+pe/2,ce=B-H,Re=z-le,$e=await ka(X,{x:X.x+ce,y:X.y+Re});$e&&(R[$e]={id:$e,isNew:!0})}else{let X=1/0,ae=1/0,pe=-1/0,H=-1/0;D.forEach(Se=>{Se.x<X&&(X=Se.x),Se.y<ae&&(ae=Se.y),Se.x>pe&&(pe=Se.x),Se.y>H&&(H=Se.y)});const le=(X+pe)/2,ce=(ae+H)/2,Re=B-le,$e=z-ce,He={};await Promise.all(D.map(async Se=>{const yt={x:Se.x+Re,y:Se.y+$e},un=await Nf(Se,yt,{});un&&(He[Se.id]=un,R[un]={id:un,isNew:!0})})),await Promise.all(D.map(async Se=>{const yt=He[Se.id];if(!yt)return;const un=Ur(ft(ve,"mindMaps",t,"links"),Bi("source","==",Se.id)),Xn=await Vi(un);for(const Gt of Xn.docs){const Qn=Gt.data(),Jn=He[Qn.target];Jn&&await yr(ft(ve,"mindMaps",t,"links"),{...Qn,source:yt,target:Jn})}}))}}else{const B=await navigator.clipboard.readText();if(B.trim()!==""){const z=W.x,X=W.y;try{const ae=await yr(ft(ve,"mindMaps",t,"nodes"),{type:"text",text:B,x:z-dn/fe.current*.5,y:X-Kt/fe.current*.5,width:dn/fe.current,height:Kt/fe.current,fontSize:Math.floor(14/fe.current*.5),lockedBy:null,typing:!1});ae&&(R[ae.id]={id:ae.id,isNew:!0})}catch(ae){console.error("Error creating text node from pasted text:",ae)}}}Object.keys(R).length>0&&Jr(R)}catch(R){console.error("Error handling paste via context menu:",R)}};v.useEffect(()=>(window.addEventListener("paste",fu),()=>window.removeEventListener("paste",fu)),[t,W,be,fe,se,Nf,Jr]);const im=async()=>{if(!g.length)return;Jr();const R={};if(Ct&&(Ct.bgColor!==pt&&(R.bgColor=pt),Ct.textColor!==lt&&(R.textColor=lt),Ct.fontSize!==dt&&(R.fontSize=dt),JSON.stringify(Ct.textStyle)!==JSON.stringify(bt)&&(R.textStyle=bt),Ct.textAlign!==Dr&&(R.textAlign=Dr),Ct.fontFamily!==Ht&&(R.fontFamily=Ht),Ct.zIndex!==cn&&(R.zIndex=cn)),Object.keys(R).length===0)return;const D=vr(ve);g.forEach(V=>{const B=qt(ve,"mindMaps",t,"nodes",V);D.update(B,R)});try{await D.commit(),r(V=>V.map(B=>g.includes(B.id)?{...B,...R}:B))}catch(V){console.error("Error updating nodes:",V)}},Vs=async()=>{if(!(!g||g.length===0))try{const R=vr(ve);for(const D of g){const V=Ur(ft(ve,"mindMaps",t,"links"),Bi("source","==",D));(await Vi(V)).docs.forEach(ae=>{const pe=qt(ve,"mindMaps",t,"links",ae.id);R.delete(pe)});const z=Ur(ft(ve,"mindMaps",t,"links"),Bi("target","==",D));(await Vi(z)).docs.forEach(ae=>{const pe=qt(ve,"mindMaps",t,"links",ae.id);R.delete(pe)})}await R.commit(),console.log("All links removed from the selected nodes.")}catch(R){console.error("Error removing links:",R)}};v.useEffect(()=>{Ct&&(ze(Ct.bgColor||"#1e1e1e"),it(Ct.textColor||"#fff"),Je(Ct.fontSize||"14"),or(Ct.textStyle||[]),gn(Ct.textAlign||"left"),Qt(Ct.fontFamily||"cursive"),Wn(Ct.zIndex||1))},[Ct]);const $f=()=>{const D=JSON.stringify({nodes:n,links:i},null,2),V=new Blob([D],{type:"application/json"}),B=URL.createObjectURL(V),z=document.createElement("a");z.href=B,z.download=`mindmap_${t}.json`,z.click(),URL.revokeObjectURL(B)},om=R=>Ee===R.id||g.includes(R.id);v.useMemo(()=>i.map(R=>{const D=n.find(Re=>Re.id===R.source),V=n.find(Re=>Re.id===R.target);if(!D||!V)return null;const B=D.width||dn,z=D.height||Kt,X=V.width||dn,ae=V.height||Kt,pe=D.x+B/2,H=D.y+z/2,le=V.x+X/2,ce=V.y+ae/2;return P.jsx("line",{x1:pe,y1:H,x2:le,y2:ce,stroke:"#fff",strokeWidth:"2"},R.id)}),[i,n]);const Lf=()=>{const R=Date.now(),D=5e3,V=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8"];return ie.filter(B=>B.uid!==O&&R-B.lastActive<D).map((B,z)=>{const X=B.x*G+re.x,ae=B.y*G+re.y,pe=V[z%V.length],H=B.email?B.email.split("@")[0]:"User";return P.jsxs("div",{style:{position:"absolute",top:ae-10,left:X+10,transition:"top 0.2s ease, left 0.2s ease",pointerEvents:"none",zIndex:150},children:[P.jsx("div",{style:{position:"absolute",top:0,left:-10,width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderBottom:`12px solid ${pe}`,transform:"rotate(-45deg)"}}),P.jsx("div",{style:{backgroundColor:pe,color:"#fff",padding:"3px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"500",whiteSpace:"nowrap",boxShadow:"0 2px 8px rgba(0,0,0,0.3)",marginTop:"8px"},children:H})]},B.uid)})},sm=()=>{if(!se.current)return{visibleLeft:0,visibleTop:0,visibleWidth:0,visibleHeight:0};const R=se.current.getBoundingClientRect(),D=-re.x/G,V=-re.y/G,B=R.width/G,z=R.height/G;return{visibleLeft:D,visibleTop:V,visibleWidth:B,visibleHeight:z}},ss=v.useMemo(()=>{if(!se.current)return n;const{visibleLeft:R,visibleTop:D,visibleWidth:V,visibleHeight:B}=sm(),z=Math.max(50,200/G);return n.filter(X=>{const ae=X.width||dn,pe=X.height||Kt;return X.x+ae>=R-z&&X.x<=R+V+z&&X.y+pe>=D-z&&X.y<=D+B+z})},[n,Math.round(re.x/50)*50,Math.round(re.y/50)*50,Math.round(G*20)/20]),Zr=v.useMemo(()=>{const R=new Set(ss.map(D=>D.id));return i.filter(D=>R.has(D.source)||R.has(D.target))},[i,ss]);v.useEffect(()=>{if(Ct&&(Ct.bgColor!==pt||Ct.textColor!==lt||Ct.fontSize!==dt||JSON.stringify(Ct.textStyle)!==JSON.stringify(bt)||Ct.textAlign!==Dr||Ct.fontFamily!==Ht||Ct.zIndex!==cn)){const R=setTimeout(()=>{im()},300);return()=>clearTimeout(R)}},[pt,lt,dt,bt,Dr,Ht,cn,Ct]);const am=()=>!ao.visible||Wl?null:P.jsxs("div",{style:{position:"fixed",top:ao.y,left:ao.x,backgroundColor:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px",padding:"5px",zIndex:1e3,minWidth:"120px"},onContextMenu:R=>R.preventDefault(),children:[ao.type==="canvas"&&P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"context-menu-item",style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:R=>{R.preventDefault(),R.stopPropagation(),fu(),Pt()},children:"Paste"}),P.jsx("div",{className:"context-menu-item",style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:R=>{R.preventDefault(),R.stopPropagation(),Fs(),Pt()},children:"Reset"})]}),ao.type==="node"&&P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"context-menu-item",style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:R=>{R.preventDefault(),R.stopPropagation(),Aa(R),Pt()},children:"Copy"}),P.jsx("div",{className:"context-menu-item",style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:R=>{R.preventDefault(),R.stopPropagation(),Yr(),Pt()},children:"+ Bring to Front"}),P.jsx("div",{className:"context-menu-item",style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:R=>{R.preventDefault(),R.stopPropagation(),Pe(),Pt()},children:"- Send to Back"})]})]}),lm=()=>{if(!se.current)return{x:0,y:0};const R=se.current.getBoundingClientRect(),D=250,V=50,B=R.width-D,z=R.height-V,X=D+B/2,ae=V+z/2,pe=(X-be.current.x)/fe.current,H=(ae-be.current.y)/fe.current;return{x:pe,y:H}};v.useEffect(()=>{const R=()=>{ao.visible&&Pt()};return document.addEventListener("click",R),()=>document.removeEventListener("click",R)},[ao.visible]);const ei=v.useRef(null),d=v.useRef(null),y=R=>{if(Hn){if(R.touches.length===1)ei.current={x:R.touches[0].clientX,y:R.touches[0].clientY,pan:{...be.current}};else if(R.touches.length===2){const D=R.touches[0].clientX-R.touches[1].clientX,V=R.touches[0].clientY-R.touches[1].clientY;d.current=Math.sqrt(D*D+V*V),ei.current=null}}},T=v.useRef(rh(R=>{oe(R),fe.current=R},16)),L=R=>{if(Hn){if(R.preventDefault(),R.touches.length===1&&ei.current){const D=R.touches[0].clientX-ei.current.x,V=R.touches[0].clientY-ei.current.y,B={x:ei.current.pan.x+D,y:ei.current.pan.y+V};ge(B),be.current=B}else if(R.touches.length===2&&d.current!==null){const D=R.touches[0].clientX-R.touches[1].clientX,V=R.touches[0].clientY-R.touches[1].clientY,B=Math.sqrt(D*D+V*V),z=B/d.current;let X=hTe(fe.current*z,CN,wu);T.current(X),d.current=B}}},U=R=>{Hn&&R.touches.length===0&&(ei.current=null,d.current=null)},Y=()=>!Ca&&!ru?null:P.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,flexDirection:"column"},children:[P.jsx("div",{style:{width:"50px",height:"50px",border:"4px solid #333",borderTop:"4px solid #fff",borderRadius:"50%",animation:"spin 1s linear infinite"}}),P.jsx(Pn,{variant:"h6",style:{color:"#fff",marginTop:"20px"},children:Ca?"Loading mind map...":"Processing..."})]}),ye=()=>Rf?P.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#f44336",color:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",zIndex:2e3,textAlign:"center",maxWidth:"400px"},children:[P.jsx(Pn,{variant:"h6",style:{marginBottom:"10px"},children:"Error"}),P.jsx(Pn,{variant:"body1",style:{marginBottom:"20px"},children:Rf}),P.jsx(Zt,{variant:"contained",onClick:()=>{Gl(null),window.location.reload()},style:{backgroundColor:"#fff",color:"#f44336"},children:"Retry"})]}):null,Jt=()=>xb?P.jsxs("div",{style:{position:"fixed",top:"70px",left:"20px",zIndex:1e3,backgroundColor:"rgba(0, 0, 0, 0.9)",padding:"15px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",minWidth:"300px"},children:[P.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[P.jsx(hl,{placeholder:"Search nodes... (Ctrl+F)",value:Do,onChange:R=>{iu(R.target.value),su(R.target.value)},onKeyDown:R=>{R.key==="Enter"&&Bs("next"),R.key==="Escape"&&(ql(!1),iu(""),Kl([]))},size:"small",autoFocus:!0,sx:{flex:1,"& .MuiInputBase-root":{color:"#fff",backgroundColor:"#333"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"#555"},"& .MuiInputLabel-root":{color:"#ccc"}}}),P.jsx(Zt,{onMouseDown:R=>{R.preventDefault(),R.stopPropagation(),ql(!1),iu(""),Kl([])},size:"small",style:{color:"#fff",minWidth:"auto"},children:""})]}),hi.length>0&&P.jsxs("div",{style:{color:"#ccc",fontSize:"12px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[P.jsxs("span",{children:[co+1," of ",hi.length," results"]}),P.jsxs("div",{style:{display:"flex",gap:"5px"},children:[P.jsx(Zt,{onMouseDown:R=>{R.preventDefault(),R.stopPropagation(),Bs("prev")},size:"small",disabled:hi.length===0,style:{color:"#fff",minWidth:"auto",padding:"2px 8px"},children:""}),P.jsx(Zt,{onMouseDown:R=>{R.preventDefault(),R.stopPropagation(),Bs("next")},size:"small",disabled:hi.length===0,style:{color:"#fff",minWidth:"auto",padding:"2px 8px"},children:""})]})]}),Do&&hi.length===0&&P.jsx("div",{style:{color:"#999",fontSize:"12px"},children:"No results found"})]}):null,sr=()=>Pf?P.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},onClick:()=>lo(!1),children:P.jsxs("div",{style:{backgroundColor:"#1e1e1e",color:"#fff",padding:"30px",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.5)",maxWidth:"600px",maxHeight:"80vh",overflow:"auto",border:"1px solid #333"},onClick:R=>R.stopPropagation(),children:[P.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[P.jsx(Pn,{variant:"h5",style:{color:"#fff",fontWeight:"bold"},children:"Keyboard Shortcuts"}),P.jsx(Zt,{onMouseDown:R=>{R.preventDefault(),R.stopPropagation(),lo(!1)},style:{color:"#fff",minWidth:"auto"},children:""})]}),P.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[P.jsxs("div",{children:[P.jsx(Pn,{variant:"h6",style:{color:"#4CAF50",marginBottom:"10px"},children:"Navigation"}),Object.entries(ou).filter(([R])=>["Home","0","+/=","-","F","R"].includes(R)).map(([R,D])=>P.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[P.jsx("span",{style:{fontFamily:"monospace",backgroundColor:"#333",padding:"2px 6px",borderRadius:"4px",fontSize:"12px"},children:R}),P.jsx("span",{style:{fontSize:"14px",color:"#ccc"},children:D})]},R)),P.jsx(Pn,{variant:"h6",style:{color:"#2196F3",marginTop:"20px",marginBottom:"10px"},children:"Selection & Editing"}),Object.entries(ou).filter(([R])=>["Tab","Enter","Escape","Ctrl+A","Delete/Backspace"].includes(R)).map(([R,D])=>P.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[P.jsx("span",{style:{fontFamily:"monospace",backgroundColor:"#333",padding:"2px 6px",borderRadius:"4px",fontSize:"12px"},children:R}),P.jsx("span",{style:{fontSize:"14px",color:"#ccc"},children:D})]},R))]}),P.jsxs("div",{children:[P.jsx(Pn,{variant:"h6",style:{color:"#FF9800",marginBottom:"10px"},children:"Actions"}),Object.entries(ou).filter(([R])=>["Ctrl+D","Ctrl+Z","Ctrl+Y","Ctrl+C","Ctrl+V","Ctrl+L","Ctrl+E"].includes(R)).map(([R,D])=>P.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[P.jsx("span",{style:{fontFamily:"monospace",backgroundColor:"#333",padding:"2px 6px",borderRadius:"4px",fontSize:"12px"},children:R}),P.jsx("span",{style:{fontSize:"14px",color:"#ccc"},children:D})]},R)),P.jsx(Pn,{variant:"h6",style:{color:"#9C27B0",marginTop:"20px",marginBottom:"10px"},children:"Search & Layout"}),Object.entries(ou).filter(([R])=>["Ctrl+F","F3","Shift+F3","Ctrl+Shift+A","Ctrl+/"].includes(R)).map(([R,D])=>P.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[P.jsx("span",{style:{fontFamily:"monospace",backgroundColor:"#333",padding:"2px 6px",borderRadius:"4px",fontSize:"12px"},children:R}),P.jsx("span",{style:{fontSize:"14px",color:"#ccc"},children:D})]},R))]})]}),P.jsx("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#333",borderRadius:"8px"},children:P.jsxs(Pn,{variant:"body2",style:{color:"#ccc",textAlign:"center"},children:["Press ",P.jsx("strong",{children:"Ctrl+/"})," anytime to toggle this help"]})})]})}):null,Mt=()=>{const R=v.useRef(null);v.useRef(null);const D=v.useRef(0),V=v.useMemo(()=>{if(n.length===0)return{minX:0,minY:0,maxX:200,maxY:150};let H=1/0,le=1/0,ce=-1/0,Re=-1/0;for(let He=0;He<n.length;He++){const Se=n[He],yt=Se.width||dn,un=Se.height||Kt,Xn=Se.x+yt,Gt=Se.y+un;Se.x<H&&(H=Se.x),Se.y<le&&(le=Se.y),Xn>ce&&(ce=Xn),Gt>Re&&(Re=Gt)}const $e=50;return{minX:H-$e,minY:le-$e,maxX:ce+$e,maxY:Re+$e}},[n.length,n.map(H=>`${H.x},${H.y},${H.width||dn},${H.height||Kt}`).join("|")]),B=v.useMemo(()=>{const ce=V.maxX-V.minX,Re=V.maxY-V.minY;return Math.min(200/ce,150/Re)},[V]),z=v.useCallback(H=>{if(H.target.tagName==="BUTTON"||H.target.closest("button"))return;H.preventDefault(),H.stopPropagation();const le=Date.now();if(le-D.current<100)return;D.current=le;const ce=R.current.getBoundingClientRect(),Re=H.clientX-ce.left,$e=H.clientY-ce.top-20;if($e<0)return;const He=R.current;He&&(He.style.transform="scale(0.98)",setTimeout(()=>{He&&(He.style.transform="scale(1)")},100));const Se=V.minX+Re/B,yt=V.minY+$e/B,un=se.current.getBoundingClientRect(),Xn=250,Gt=50,Qn=un.width-Xn,Jn=un.height-Gt,Xe={x:Qn/2-Se*G,y:Jn/2-yt*G};ge(Xe),be.current=Xe},[V,B,G]),X=v.useMemo(()=>{var Xe;const H=(Xe=se.current)==null?void 0:Xe.getBoundingClientRect();if(!H)return{x:0,y:0,width:0,height:0};const le=250,ce=50,Re=H.width-le,$e=H.height-ce,He=-re.x/G,Se=-re.y/G,yt=He+Re/G,un=Se+$e/G,Xn=(He-V.minX)*B,Gt=(Se-V.minY)*B,Qn=(yt-He)*B,Jn=(un-Se)*B;return{x:Xn,y:Gt,width:Qn,height:Jn}},[Math.round(re.x/10)*10,Math.round(re.y/10)*10,Math.round(G*100)/100,V,B]),ae=v.useMemo(()=>n.map(H=>({id:H.id,x:(H.x-V.minX)*B,y:(H.y-V.minY)*B,width:Math.max(1,(H.width||dn)*B),height:Math.max(1,(H.height||Kt)*B),bgColor:H.bgColor||"#666",isSelected:g.includes(H.id),zIndex:H.zIndex||1})).filter(H=>H.x>-H.width&&H.y>-H.height&&H.x<200+H.width&&H.y<130+H.height),[n,V,B,g]),pe=v.useMemo(()=>i.length>300?[]:i.map(H=>{const le=n.find(yt=>yt.id===H.source),ce=n.find(yt=>yt.id===H.target);if(!le||!ce)return null;const Re=(le.x-V.minX)*B+(le.width||dn)*B/2,$e=(le.y-V.minY)*B+(le.height||Kt)*B/2,He=(ce.x-V.minX)*B+(ce.width||dn)*B/2,Se=(ce.y-V.minY)*B+(ce.height||Kt)*B/2;return Re<0&&He<0||Re>200&&He>200||$e<0&&Se<0||$e>130&&Se>130?null:{id:H.id,x1:Math.max(0,Math.min(200,Re)),y1:Math.max(0,Math.min(130,$e)),x2:Math.max(0,Math.min(200,He)),y2:Math.max(0,Math.min(130,Se))}}).filter(Boolean),[i,n,V,B]);return!$o||n.length===0?null:P.jsxs("div",{style:{position:"fixed",bottom:"20px",right:Hn?"20px":"280px",width:"200px",height:"150px",backgroundColor:"rgba(0, 0, 0, 0.9)",border:"2px solid #444",borderRadius:"8px",overflow:"hidden",zIndex:1e3,cursor:"pointer",transition:"transform 0.1s ease-out, box-shadow 0.1s ease-out",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},onMouseDown:z,onMouseEnter:H=>{H.currentTarget.style.boxShadow="0 6px 16px rgba(0,0,0,0.4)"},onMouseLeave:H=>{H.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.3)"},ref:R,children:[P.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,height:"20px",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 8px",fontSize:"10px",color:"#ccc",zIndex:1001,cursor:"default"},onMouseDown:H=>{H.preventDefault(),H.stopPropagation()},onClick:H=>{H.preventDefault(),H.stopPropagation()},children:[P.jsxs("span",{children:["Mini Map (",ae.length," nodes)"]}),P.jsx("button",{onMouseDown:H=>{H.preventDefault(),H.stopPropagation(),H.nativeEvent.stopImmediatePropagation(),Yg(!1)},onClick:H=>{H.preventDefault(),H.stopPropagation(),H.nativeEvent.stopImmediatePropagation()},style:{background:"none",border:"none",color:"#ccc",cursor:"pointer",fontSize:"12px",padding:"2px 4px",borderRadius:"2px"},children:""})]}),P.jsxs("svg",{width:"200",height:"150",style:{position:"absolute",top:"20px",cursor:"pointer",pointerEvents:"auto"},onMouseDown:H=>{H.stopPropagation(),z(H)},children:[ae.sort((H,le)=>(H.zIndex||1)-(le.zIndex||1)).map(H=>P.jsx("rect",{x:H.x,y:H.y,width:H.width,height:H.height,fill:H.isSelected?"#4CAF50":H.bgColor,stroke:H.isSelected?"#8BC34A":"none",strokeWidth:H.isSelected?"0.5":"0",opacity:"0.8"},H.id)),pe.map(H=>P.jsx("line",{x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,stroke:"#555",strokeWidth:"0.5",opacity:"0.4"},H.id)),P.jsx("rect",{x:Math.max(0,Math.min(200,X.x)),y:Math.max(0,Math.min(130,X.y)),width:Math.max(0,Math.min(200-Math.max(0,X.x),X.width)),height:Math.max(0,Math.min(130-Math.max(0,X.y),X.height)),fill:"none",stroke:"#4CAF50",strokeWidth:"1",strokeDasharray:"2,2",opacity:"0.8"})]})]})},mr=()=>{const R=n.length>1e3;return $o||n.length===0?null:P.jsxs(Zt,{onMouseDown:D=>{D.preventDefault(),D.stopPropagation(),Yg(!0)},style:{position:"fixed",bottom:"20px",right:Hn?"20px":"280px",backgroundColor:"rgba(0, 0, 0, 0.8)",color:"#fff",minWidth:"auto",padding:"8px",borderRadius:"4px",zIndex:1e3,transition:"all 0.2s ease"},onMouseEnter:D=>{D.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.9)",D.currentTarget.style.transform="scale(1.05)"},onMouseLeave:D=>{D.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.8)",D.currentTarget.style.transform="scale(1)"},title:R?"Show Mini Map (Large dataset - may impact performance)":"Show Mini Map",children:[" ",R&&P.jsx("span",{style:{fontSize:"10px"},children:""})]})};return P.jsxs("div",{style:{userSelect:"none",cursor:hr||Wl?"grabbing":"default",height:"100vh",position:"relative"},ref:se,onContextMenu:R=>R.preventDefault(),onMouseDown:R=>{if(!Hn&&R.target===se.current){if(du(R),R.button!==2)return;Af(R)}},onDoubleClick:R=>{Hn||R.target===se.current&&Yl()},onMouseMove:R=>{Hn||Sb(R)},onMouseUp:R=>{if(!Hn&&(tm(),R.button===2)){if(If.current=null,document.activeElement.tagName==="INPUT"||document.activeElement.tagName==="TEXTAREA")return;tu(R),Wl&&(setTimeout(()=>os(!1),0),Pt())}},onDragOver:Df,onDrop:rm,onTouchStart:y,onTouchMove:L,onTouchEnd:U,children:[Lf(),P.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,height:"50px",backgroundColor:"rgba(29,32,34,0.9)",background:"radial-gradient(circle at center, rgba(29,32,34,.4) 0%, rgba(15,16,17,.7) 100%)",display:"flex",alignItems:"center",padding:"0 20px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.4)",zIndex:300},children:[P.jsx(Zt,{variant:"contained",onMouseDown:R=>{R.preventDefault(),R.stopPropagation(),e("/dashboard")},style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:P.jsx(tTe,{})}),P.jsx(Zt,{variant:"contained",onMouseDown:R=>{R.preventDefault(),R.stopPropagation(),Eb()},style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:"Add Node"}),P.jsx(Zt,{variant:"contained",onMouseDown:R=>{R.preventDefault(),R.stopPropagation(),f(D=>!D),p(null)},style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:u?"Exit Linking Mode":"Link Nodes"}),P.jsx(Zt,{variant:"contained",onMouseDown:R=>{R.preventDefault(),R.stopPropagation(),$f()},style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:"Export"}),P.jsx(Zt,{variant:"contained",onMouseDown:R=>{R.preventDefault(),R.stopPropagation(),Pa()},style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:"Zoom In"}),P.jsx(Zt,{variant:"contained",onMouseDown:R=>{R.preventDefault(),R.stopPropagation(),lu()},style:{background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:"Zoom Out"}),P.jsx(Zt,{variant:"contained",onMouseDown:R=>{R.preventDefault(),R.stopPropagation(),lo(!0)},style:{marginLeft:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},title:"Keyboard Shortcuts (Ctrl+/)",children:" Help"}),u&&P.jsx(Pn,{variant:"body2",style:{color:"#fff",marginLeft:"10px"},children:h?"Select target node...":"Select source node..."})]}),!Hn&&P.jsx("div",{style:{position:"fixed",top:60,right:10,width:"250px",height:"calc(100% - 60px)",boxShadow:"0 2px 10px rgba(39, 39, 39, 0.6)",background:"radial-gradient(circle at center, #1D2022 0%, #0f1011 110%)",padding:"20px",boxSizing:"border-box",zIndex:300,overflowY:"auto",borderRadius:"8px"},onClick:R=>R.stopPropagation(),onMouseDown:R=>R.stopPropagation(),children:Ct?P.jsxs(P.Fragment,{children:[P.jsx(Pn,{variant:"h6",style:{marginBottom:"10px",color:"#fff",fontWeight:"bold",textAlign:"center"},children:"Customize Menu"}),P.jsx(Pn,{variant:"subtitle1",style:{marginBottom:"4px",color:"#ccc",fontWeight:400,fontFamily:"Arial"},children:"Font"}),P.jsxs(iT,{variant:"filled",size:"small",sx:{minWidth:210},style:{marginBottom:"10px"},children:[P.jsx(sT,{style:{color:"#ccc"},children:"Font"}),P.jsxs(z_,{value:Ht,onChange:R=>Qt(R.target.value),style:{color:"#fff",backgroundColor:"#2b2b2b",width:"100%"},children:[P.jsx(qa,{value:"cursive",children:"Cursive"}),P.jsx(qa,{value:"Microsoft Yahei",children:"Microsoft Yahei"}),P.jsx(qa,{value:"Arial",children:"Arial"}),P.jsx(qa,{value:"Times New Roman",children:"Times New Roman"}),P.jsx(qa,{value:"Courier New",children:"Courier New"})]})]}),P.jsx(Pn,{variant:"subtitle1",style:{marginBottom:"4px",color:"#ccc",fontWeight:400},children:"Font size"}),P.jsx(Cte,{freeSolo:!0,options:Gg,getOptionLabel:R=>R.toString(),value:dt,onChange:(R,D)=>{let V;typeof D=="number"?V=D:typeof D=="string"&&D.trim()!==""&&(V=parseInt(D,10)),isNaN(V)||Je(V)},onInputChange:(R,D)=>{const V=parseInt(D,10);isNaN(V)||Je(V)},sx:{width:"100%","& .MuiInputBase-root":{color:"#fff"},"& .MuiFilledInput-root":{backgroundColor:"#2b2b2b"},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiAutocomplete-popupIndicator":{color:"#fff"}},renderInput:R=>P.jsx(hl,{...R,label:"Font Size",variant:"filled",InputLabelProps:{style:{color:"#ccc"}}}),style:{marginBottom:"12px",boxShadow:"inset 0 0 4px rgba(0,0,0,0.6)",borderRadius:"6px",color:"white"}}),P.jsxs(Hre,{direction:"column",spacing:1,sx:{alignItems:"center"},children:[P.jsxs(jE,{color:"primary",value:bt,onChange:(R,D)=>or(D),style:{backgroundColor:"#2b2b2b",marginBottom:"8px",borderRadius:"6px"},"aria-label":"text style",size:"small",children:[P.jsx(Ks,{value:"bold","aria-label":"bold",children:P.jsx(cTe,{})}),P.jsx(Ks,{value:"italic","aria-label":"italic",children:P.jsx(uTe,{})}),P.jsx(Ks,{value:"underline","aria-label":"underline",children:P.jsx(dTe,{})})]}),P.jsxs(jE,{value:Dr,color:"primary",exclusive:!0,onChange:(R,D)=>{D!==null&&gn(D)},style:{backgroundColor:"#2b2b2b",borderRadius:"6px"},"aria-label":"text alignment",size:"small",children:[P.jsx(Ks,{value:"left","aria-label":"left",children:P.jsx(aTe,{})}),P.jsx(Ks,{value:"center","aria-label":"center",children:P.jsx(sTe,{})}),P.jsx(Ks,{value:"right","aria-label":"right",children:P.jsx(lTe,{})})]})]}),P.jsxs(vc,{component:"div",sx:{fontSize:"1rem",marginTop:"12px",color:"#ccc",fontWeight:400,fontFamily:"Arial"},variant:"subtitle1",children:["Background",P.jsx("input",{type:"color",value:pt,onChange:R=>ze(R.target.value),style:{display:"block",width:"100%",height:"40px",marginTop:"5px",border:"none",backgroundColor:"transparent",padding:0,borderRadius:"6px",cursor:"pointer"}})]}),P.jsxs(vc,{component:"div",sx:{fontSize:"1rem",marginTop:"12px",color:"#ccc",fontWeight:400,fontFamily:"Arial"},variant:"subtitle1",children:["Font Color",P.jsx("input",{type:"color",value:lt,onChange:R=>it(R.target.value),style:{display:"block",width:"100%",height:"40px",border:"none",background:"transparent",padding:0,marginTop:"5px",borderRadius:"6px",cursor:"pointer"}})]}),P.jsxs(vc,{component:"div",sx:{fontSize:"1rem",marginTop:"12px",marginBottom:"12px",color:"#ccc",fontWeight:400,fontFamily:"Arial"},variant:"subtitle1",children:["Layer Order (Z-Index)",P.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"8px"},children:[P.jsx(hl,{type:"number",value:cn,onChange:R=>{const D=parseInt(R.target.value)||1;Wn(D),ct(D)},size:"small",sx:{flex:1,"& .MuiInputBase-root":{color:"#fff",backgroundColor:"#2b2b2b"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"#555"}},inputProps:{min:0,max:9999}}),P.jsx(Zt,{variant:"contained",size:"small",onClick:Yr,style:{backgroundColor:"#333",color:"#ccc",minWidth:"auto",padding:"4px 8px",fontSize:"14px",border:"1px solid #555"},title:"Bring to Front",children:"+"}),P.jsx(Zt,{variant:"contained",size:"small",onClick:Pe,style:{backgroundColor:"#333",color:"#ccc",minWidth:"auto",padding:"4px 8px",fontSize:"14px",border:"1px solid #555"},title:"Send to Back",children:"-"})]})]}),P.jsx(Zt,{variant:"contained",onClick:Vs,style:{marginTop:"30px",backgroundColor:"#a11",color:"#fff",width:"100%"},children:"Remove All Links"})]}):P.jsx(Pn,{variant:"body2",style:{color:"#fff"},children:"Select a node to customize..."})}),P.jsxs("div",{style:{position:"fixed",top:60,right:Hn?10:290,background:"radial-gradient(circle at center,rgba(29, 32, 34, 0.9) 0%, #0f1011 100%)",color:"#fff",padding:"12px",borderRadius:"8px",zIndex:250,minWidth:"200px",maxWidth:"250px",border:"1px solid #333",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},children:[P.jsxs(Pn,{variant:"subtitle2",style:{fontWeight:"bold",marginBottom:"8px",color:"#4CAF50"},children:[" Active Users (",A.length,")"]}),A.length===0?P.jsx(Pn,{variant:"caption",style:{color:"#999",fontStyle:"italic"},children:"No other users online"}):A.map((R,D)=>{const V=R.email===k,B=V?"#4CAF50":"#2196F3";return P.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"4px 0",borderBottom:D<A.length-1?"1px solid #333":"none"},children:[P.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:B,animation:"pulse 2s infinite"}}),P.jsx(Pn,{variant:"caption",style:{color:V?"#4CAF50":"#fff",fontWeight:V?"bold":"normal"},children:V?`${R.email} (You)`:R.email})]},D)}),P.jsx("div",{style:{marginTop:"8px",paddingTop:"8px",borderTop:"1px solid #333"},children:P.jsx(Pn,{variant:"caption",style:{color:"#999",fontSize:"10px"},children:" Connected  Real-time sync active"})})]}),Lf(),P.jsxs("div",{ref:Bt,onContextMenu:Lo,onMouseDown:Af,onClick:R=>{R.target===Bt.current&&C([])},style:{position:"absolute",top:0,left:0,width:".1px",height:".1px",overflow:"visible",transform:`translate(${re.x}px, ${re.y}px) scale(${G})`,transformOrigin:"top left"},children:[P.jsx("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",overflow:"visible"},children:Zr.map(R=>{const D=n.find(Re=>Re.id===R.source),V=n.find(Re=>Re.id===R.target);if(!D||!V)return null;const B=D.width||dn,z=D.height||Kt,X=V.width||dn,ae=V.height||Kt,pe=D.x+B/2,H=D.y+z/2,le=V.x+X/2,ce=V.y+ae/2;return P.jsx("line",{x1:pe,y1:H,x2:le,y2:ce,stroke:"rgba(255, 255, 255, 0.29)",strokeWidth:"5"},R.id)})}),ss.sort((R,D)=>(R.zIndex||1)-(D.zIndex||1)).map(R=>P.jsx(Hle,{node:R,zoom:fe.current,groupDelta:gr,isHighlighted:om(R),currentUserEmail:k,selectedNodes:g,editingNodeId:s,editedText:l,handleResizeMouseDown:Hn?()=>{}:Zg,handleNodeClick:Hn?()=>{}:In,handleDoubleClick:Hn?()=>{}:cu,handleTyping:Hn?()=>{}:uu,handleTextBlur:Hn?()=>{}:Of,setEditedText:Hn?()=>{}:c,setHoveredNodeId:Hn?()=>{}:Ve,linkingSource:h,hoveredNodeId:Ee,onStart:Hn?()=>!1:(D,V)=>{if(s===R.id)return!1;Yn(!0);const B=se.current.getBoundingClientRect(),z=(D.clientX-B.left-be.current.x)/fe.current,X=(D.clientY-B.top-be.current.y)/fe.current,ae=z-R.x,pe=X-R.y;St.current={offsetX:ae,offsetY:pe,initialX:R.x,initialY:R.y},(g.length<1||g.length<2)&&Xg(R),g.length>1&&g.includes(R.id)&&Object.keys(En.current).length===0&&g.forEach(H=>{const le=n.find(ce=>ce.id===H);le&&(En.current[H]={x:le.x,y:le.y})})},onDrag:Hn?()=>{}:(D,V)=>{const B=se.current.getBoundingClientRect(),z=(D.clientX-B.left-be.current.x)/fe.current,X=(D.clientY-B.top-be.current.y)/fe.current,ae=z-St.current.offsetX,pe=X-St.current.offsetY;g.length>1&&g.includes(R.id)?Mi({x:ae-St.current.initialX,y:pe-St.current.initialY}):r(H=>H.map(le=>le.id===R.id?{...le,x:ae,y:pe}:le))},onStop:Hn?()=>{}:async(D,V)=>{const B=se.current.getBoundingClientRect(),z=(D.clientX-B.left-be.current.x)/fe.current,X=(D.clientY-B.top-be.current.y)/fe.current,ae=z-St.current.offsetX,pe=X-St.current.offsetY;if(Math.sqrt(Math.pow(ae-St.current.initialX,2)+Math.pow(pe-St.current.initialY,2))<.01){Yn(!1);return}if(g.length>1){Jr();const ce=ae-St.current.initialX,Re=pe-St.current.initialY,$e={};g.forEach(Se=>{const yt=En.current[Se];yt&&($e[Se]={x:yt.x+ce,y:yt.y+Re})}),r(Se=>Se.map(yt=>g.includes(yt.id)&&$e[yt.id]&&yt.id!==R.id?{...yt,x:$e[yt.id].x,y:$e[yt.id].y}:yt));const He=vr(ve);g.forEach(Se=>{if($e[Se]){const yt=qt(ve,"mindMaps",t,"nodes",Se);He.update(yt,{x:$e[Se].x,y:$e[Se].y})}});try{await He.commit()}catch(Se){console.error("Error updating nodes in batch:",Se)}En.current={},Xr({x:0,y:0})}else{r(ce=>ce.map(Re=>Re.id===R.id?{...Re,x:ae,y:pe}:Re));try{const ce=qt(ve,"mindMaps",t,"nodes",R.id);await Tu(ce,{x:ae,y:pe})}catch(ce){console.error("Error updating node position:",ce)}}Yn(!1)}},R.id)),N&&(()=>{const R=(N.width+N.height)/2,D=Math.max(1,R*.02);return P.jsx("svg",{style:{position:"absolute",left:N.x,top:N.y,width:N.width,height:N.height,pointerEvents:"none",zIndex:500},children:P.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"rgba(128,128,128,0.1)",stroke:"white",strokeWidth:D})})})()]}),P.jsx(am,{}),P.jsx(fTe,{localCursor:W,canvasCenter:lm(),mergeMindMapData:Mf,isChatOpen:Mo,setIsChatOpen:eu}),P.jsx(Y,{}),P.jsx(ye,{}),P.jsx(Jt,{}),P.jsx(sr,{}),P.jsx(Mt,{}),P.jsx(mr,{})]})};function gTe(){return P.jsxs($6,{children:[P.jsx(gy,{path:"/",element:P.jsx(Tie,{})}),P.jsx(gy,{path:"/dashboard",element:P.jsx(Aie,{})}),P.jsx(gy,{path:"/editor/:id",element:P.jsx(pTe,{})})]})}Kw.createRoot(document.getElementById("root")).render(P.jsx(oz,{children:P.jsx(gTe,{})}))});export default mTe();
