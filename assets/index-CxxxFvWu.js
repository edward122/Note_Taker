var DB=Object.defineProperty;var $B=(t,e,n)=>e in t?DB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var LB=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var bf=(t,e,n)=>$B(t,typeof e!="symbol"?e+"":e,n);var z1e=LB((Hi,Gi)=>{function FB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ja=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function BB(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var eN={exports:{}},$v={},tN={exports:{}},Tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip=Symbol.for("react.element"),VB=Symbol.for("react.portal"),UB=Symbol.for("react.fragment"),jB=Symbol.for("react.strict_mode"),zB=Symbol.for("react.profiler"),WB=Symbol.for("react.provider"),HB=Symbol.for("react.context"),GB=Symbol.for("react.forward_ref"),qB=Symbol.for("react.suspense"),KB=Symbol.for("react.memo"),YB=Symbol.for("react.lazy"),fI=Symbol.iterator;function XB(t){return t===null||typeof t!="object"?null:(t=fI&&t[fI]||t["@@iterator"],typeof t=="function"?t:null)}var nN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rN=Object.assign,iN={};function Dd(t,e,n){this.props=t,this.context=e,this.refs=iN,this.updater=n||nN}Dd.prototype.isReactComponent={};Dd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Dd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function oN(){}oN.prototype=Dd.prototype;function qE(t,e,n){this.props=t,this.context=e,this.refs=iN,this.updater=n||nN}var KE=qE.prototype=new oN;KE.constructor=qE;rN(KE,Dd.prototype);KE.isPureReactComponent=!0;var hI=Array.isArray,sN=Object.prototype.hasOwnProperty,YE={current:null},aN={key:!0,ref:!0,__self:!0,__source:!0};function lN(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)sN.call(e,r)&&!aN.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ip,type:t,key:o,ref:s,props:i,_owner:YE.current}}function QB(t,e){return{$$typeof:Ip,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function XE(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ip}function JB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var pI=/\/+/g;function ib(t,e){return typeof t=="object"&&t!==null&&t.key!=null?JB(""+t.key):e.toString(36)}function Rm(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ip:case VB:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+ib(s,0):r,hI(i)?(n="",t!=null&&(n=t.replace(pI,"$&/")+"/"),Rm(i,e,n,"",function(c){return c})):i!=null&&(XE(i)&&(i=QB(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(pI,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",hI(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+ib(o,a);s+=Rm(o,e,n,l,i)}else if(l=XB(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+ib(o,a++),s+=Rm(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ng(t,e,n){if(t==null)return t;var r=[],i=0;return Rm(t,r,"","",function(o){return e.call(n,o,i++)}),r}function ZB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ii={current:null},Pm={transition:null},eV={ReactCurrentDispatcher:ii,ReactCurrentBatchConfig:Pm,ReactCurrentOwner:YE};Tt.Children={map:Ng,forEach:function(t,e,n){Ng(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ng(t,function(){e++}),e},toArray:function(t){return Ng(t,function(e){return e})||[]},only:function(t){if(!XE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Tt.Component=Dd;Tt.Fragment=UB;Tt.Profiler=zB;Tt.PureComponent=qE;Tt.StrictMode=jB;Tt.Suspense=qB;Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eV;Tt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rN({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=YE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)sN.call(e,l)&&!aN.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ip,type:t.type,key:i,ref:o,props:r,_owner:s}};Tt.createContext=function(t){return t={$$typeof:HB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:WB,_context:t},t.Consumer=t};Tt.createElement=lN;Tt.createFactory=function(t){var e=lN.bind(null,t);return e.type=t,e};Tt.createRef=function(){return{current:null}};Tt.forwardRef=function(t){return{$$typeof:GB,render:t}};Tt.isValidElement=XE;Tt.lazy=function(t){return{$$typeof:YB,_payload:{_status:-1,_result:t},_init:ZB}};Tt.memo=function(t,e){return{$$typeof:KB,type:t,compare:e===void 0?null:e}};Tt.startTransition=function(t){var e=Pm.transition;Pm.transition={};try{t()}finally{Pm.transition=e}};Tt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Tt.useCallback=function(t,e){return ii.current.useCallback(t,e)};Tt.useContext=function(t){return ii.current.useContext(t)};Tt.useDebugValue=function(){};Tt.useDeferredValue=function(t){return ii.current.useDeferredValue(t)};Tt.useEffect=function(t,e){return ii.current.useEffect(t,e)};Tt.useId=function(){return ii.current.useId()};Tt.useImperativeHandle=function(t,e,n){return ii.current.useImperativeHandle(t,e,n)};Tt.useInsertionEffect=function(t,e){return ii.current.useInsertionEffect(t,e)};Tt.useLayoutEffect=function(t,e){return ii.current.useLayoutEffect(t,e)};Tt.useMemo=function(t,e){return ii.current.useMemo(t,e)};Tt.useReducer=function(t,e,n){return ii.current.useReducer(t,e,n)};Tt.useRef=function(t){return ii.current.useRef(t)};Tt.useState=function(t){return ii.current.useState(t)};Tt.useSyncExternalStore=function(t,e,n){return ii.current.useSyncExternalStore(t,e,n)};Tt.useTransition=function(){return ii.current.useTransition()};Tt.version="18.2.0";tN.exports=Tt;var w=tN.exports;const L=Tp(w),ay=FB({__proto__:null,default:L},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tV=w,nV=Symbol.for("react.element"),rV=Symbol.for("react.fragment"),iV=Object.prototype.hasOwnProperty,oV=tV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sV={key:!0,ref:!0,__self:!0,__source:!0};function cN(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)iV.call(e,r)&&!sV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:nV,type:t,key:o,ref:s,props:i,_owner:oV.current}}$v.Fragment=rV;$v.jsx=cN;$v.jsxs=cN;eN.exports=$v;var A=eN.exports,Sw={},uN={exports:{}},eo={},dN={exports:{}},fN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,F){var K=j.length;j.push(F);e:for(;0<K;){var re=K-1>>>1,ue=j[re];if(0<i(ue,F))j[re]=F,j[K]=ue,K=re;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var F=j[0],K=j.pop();if(K!==F){j[0]=K;e:for(var re=0,ue=j.length,ge=ue>>>1;re<ge;){var ie=2*(re+1)-1,oe=j[ie],Ve=ie+1,Le=j[Ve];if(0>i(oe,K))Ve<ue&&0>i(Le,oe)?(j[re]=Le,j[Ve]=K,re=Ve):(j[re]=oe,j[ie]=K,re=ie);else if(Ve<ue&&0>i(Le,K))j[re]=Le,j[Ve]=K,re=Ve;else break e}}return F}function i(j,F){var K=j.sortIndex-F.sortIndex;return K!==0?K:j.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,f=null,h=3,p=!1,g=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(j){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=j)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function C(j){if(x=!1,_(j),!g)if(n(l)!==null)g=!0,W(O);else{var F=n(c);F!==null&&ne(C,F.startTime-j)}}function O(j,F){g=!1,x&&(x=!1,y(I),I=-1),p=!0;var K=h;try{for(_(F),f=n(l);f!==null&&(!(f.expirationTime>F)||j&&!k());){var re=f.callback;if(typeof re=="function"){f.callback=null,h=f.priorityLevel;var ue=re(f.expirationTime<=F);F=t.unstable_now(),typeof ue=="function"?f.callback=ue:f===n(l)&&r(l),_(F)}else r(l);f=n(l)}if(f!==null)var ge=!0;else{var ie=n(c);ie!==null&&ne(C,ie.startTime-F),ge=!1}return ge}finally{f=null,h=K,p=!1}}var N=!1,E=null,I=-1,R=5,v=-1;function k(){return!(t.unstable_now()-v<R)}function M(){if(E!==null){var j=t.unstable_now();v=j;var F=!0;try{F=E(!0,j)}finally{F?P():(N=!1,E=null)}}else N=!1}var P;if(typeof b=="function")P=function(){b(M)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,H=Y.port2;Y.port1.onmessage=M,P=function(){H.postMessage(null)}}else P=function(){S(M,0)};function W(j){E=j,N||(N=!0,P())}function ne(j,F){I=S(function(){j(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,W(O))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var K=h;h=F;try{return j()}finally{h=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,F){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var K=h;h=j;try{return F()}finally{h=K}},t.unstable_scheduleCallback=function(j,F,K){var re=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?re+K:re):K=re,j){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=K+ue,j={id:u++,callback:F,priorityLevel:j,startTime:K,expirationTime:ue,sortIndex:-1},K>re?(j.sortIndex=K,e(c,j),n(l)===null&&j===n(c)&&(x?(y(I),I=-1):x=!0,ne(C,K-re))):(j.sortIndex=ue,e(l,j),g||p||(g=!0,W(O))),j},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(j){var F=h;return function(){var K=h;h=F;try{return j.apply(this,arguments)}finally{h=K}}}})(fN);dN.exports=fN;var aV=dN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hN=w,Qi=aV;function se(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pN=new Set,$h={};function Tc(t,e){ad(t,e),ad(t+"Capture",e)}function ad(t,e){for($h[t]=e,t=0;t<e.length;t++)pN.add(e[t])}var Zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cw=Object.prototype.hasOwnProperty,lV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gI={},mI={};function cV(t){return Cw.call(mI,t)?!0:Cw.call(gI,t)?!1:lV.test(t)?mI[t]=!0:(gI[t]=!0,!1)}function uV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dV(t,e,n,r){if(e===null||typeof e>"u"||uV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function oi(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Cr[t]=new oi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Cr[e]=new oi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Cr[t]=new oi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Cr[t]=new oi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Cr[t]=new oi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Cr[t]=new oi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Cr[t]=new oi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Cr[t]=new oi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Cr[t]=new oi(t,5,!1,t.toLowerCase(),null,!1,!1)});var QE=/[\-:]([a-z])/g;function JE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(QE,JE);Cr[e]=new oi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(QE,JE);Cr[e]=new oi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(QE,JE);Cr[e]=new oi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Cr[t]=new oi(t,1,!1,t.toLowerCase(),null,!1,!1)});Cr.xlinkHref=new oi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Cr[t]=new oi(t,1,!1,t.toLowerCase(),null,!0,!0)});function ZE(t,e,n,r){var i=Cr.hasOwnProperty(e)?Cr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dV(e,n,i,r)&&(n=null),r||i===null?cV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pa=hN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mg=Symbol.for("react.element"),Ou=Symbol.for("react.portal"),Nu=Symbol.for("react.fragment"),eS=Symbol.for("react.strict_mode"),Tw=Symbol.for("react.profiler"),gN=Symbol.for("react.provider"),mN=Symbol.for("react.context"),tS=Symbol.for("react.forward_ref"),Iw=Symbol.for("react.suspense"),Rw=Symbol.for("react.suspense_list"),nS=Symbol.for("react.memo"),Aa=Symbol.for("react.lazy"),yN=Symbol.for("react.offscreen"),yI=Symbol.iterator;function wf(t){return t===null||typeof t!="object"?null:(t=yI&&t[yI]||t["@@iterator"],typeof t=="function"?t:null)}var Rn=Object.assign,ob;function Gf(t){if(ob===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ob=e&&e[1]||""}return`
`+ob+t}var sb=!1;function ab(t,e){if(!t||sb)return"";sb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{sb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gf(t):""}function fV(t){switch(t.tag){case 5:return Gf(t.type);case 16:return Gf("Lazy");case 13:return Gf("Suspense");case 19:return Gf("SuspenseList");case 0:case 2:case 15:return t=ab(t.type,!1),t;case 11:return t=ab(t.type.render,!1),t;case 1:return t=ab(t.type,!0),t;default:return""}}function Pw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Nu:return"Fragment";case Ou:return"Portal";case Tw:return"Profiler";case eS:return"StrictMode";case Iw:return"Suspense";case Rw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mN:return(t.displayName||"Context")+".Consumer";case gN:return(t._context.displayName||"Context")+".Provider";case tS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nS:return e=t.displayName||null,e!==null?e:Pw(t.type)||"Memo";case Aa:e=t._payload,t=t._init;try{return Pw(t(e))}catch{}}return null}function hV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pw(e);case 8:return e===eS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ll(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pV(t){var e=vN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dg(t){t._valueTracker||(t._valueTracker=pV(t))}function _N(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=vN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ly(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kw(t,e){var n=e.checked;return Rn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function vI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ll(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bN(t,e){e=e.checked,e!=null&&ZE(t,"checked",e,!1)}function Aw(t,e){bN(t,e);var n=ll(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ow(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ow(t,e.type,ll(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _I(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ow(t,e,n){(e!=="number"||ly(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qf=Array.isArray;function Gu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ll(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Nw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(se(91));return Rn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(se(92));if(qf(n)){if(1<n.length)throw Error(se(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ll(n)}}function wN(t,e){var n=ll(e.value),r=ll(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $g,EN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($g=$g||document.createElement("div"),$g.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$g.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Lh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var lh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gV=["Webkit","ms","Moz","O"];Object.keys(lh).forEach(function(t){gV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lh[e]=lh[t]})});function SN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||lh.hasOwnProperty(t)&&lh[t]?(""+e).trim():e+"px"}function CN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=SN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var mV=Rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dw(t,e){if(e){if(mV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(se(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(se(62))}}function $w(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lw=null;function rS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fw=null,qu=null,Ku=null;function xI(t){if(t=kp(t)){if(typeof Fw!="function")throw Error(se(280));var e=t.stateNode;e&&(e=Uv(e),Fw(t.stateNode,t.type,e))}}function TN(t){qu?Ku?Ku.push(t):Ku=[t]:qu=t}function IN(){if(qu){var t=qu,e=Ku;if(Ku=qu=null,xI(t),e)for(t=0;t<e.length;t++)xI(e[t])}}function RN(t,e){return t(e)}function PN(){}var lb=!1;function kN(t,e,n){if(lb)return t(e,n);lb=!0;try{return RN(t,e,n)}finally{lb=!1,(qu!==null||Ku!==null)&&(PN(),IN())}}function Fh(t,e){var n=t.stateNode;if(n===null)return null;var r=Uv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(se(231,e,typeof n));return n}var Bw=!1;if(Zs)try{var xf={};Object.defineProperty(xf,"passive",{get:function(){Bw=!0}}),window.addEventListener("test",xf,xf),window.removeEventListener("test",xf,xf)}catch{Bw=!1}function yV(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var ch=!1,cy=null,uy=!1,Vw=null,vV={onError:function(t){ch=!0,cy=t}};function _V(t,e,n,r,i,o,s,a,l){ch=!1,cy=null,yV.apply(vV,arguments)}function bV(t,e,n,r,i,o,s,a,l){if(_V.apply(this,arguments),ch){if(ch){var c=cy;ch=!1,cy=null}else throw Error(se(198));uy||(uy=!0,Vw=c)}}function Ic(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function AN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function EI(t){if(Ic(t)!==t)throw Error(se(188))}function wV(t){var e=t.alternate;if(!e){if(e=Ic(t),e===null)throw Error(se(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return EI(i),t;if(o===r)return EI(i),e;o=o.sibling}throw Error(se(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?t:e}function ON(t){return t=wV(t),t!==null?NN(t):null}function NN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=NN(t);if(e!==null)return e;t=t.sibling}return null}var MN=Qi.unstable_scheduleCallback,SI=Qi.unstable_cancelCallback,xV=Qi.unstable_shouldYield,EV=Qi.unstable_requestPaint,Ln=Qi.unstable_now,SV=Qi.unstable_getCurrentPriorityLevel,iS=Qi.unstable_ImmediatePriority,DN=Qi.unstable_UserBlockingPriority,dy=Qi.unstable_NormalPriority,CV=Qi.unstable_LowPriority,$N=Qi.unstable_IdlePriority,Lv=null,hs=null;function TV(t){if(hs&&typeof hs.onCommitFiberRoot=="function")try{hs.onCommitFiberRoot(Lv,t,void 0,(t.current.flags&128)===128)}catch{}}var Ho=Math.clz32?Math.clz32:PV,IV=Math.log,RV=Math.LN2;function PV(t){return t>>>=0,t===0?32:31-(IV(t)/RV|0)|0}var Lg=64,Fg=4194304;function Kf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Kf(a):(o&=s,o!==0&&(r=Kf(o)))}else s=n&~i,s!==0?r=Kf(s):o!==0&&(r=Kf(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ho(e),i=1<<n,r|=t[n],e&=~i;return r}function kV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Ho(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=kV(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Uw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function LN(){var t=Lg;return Lg<<=1,!(Lg&4194240)&&(Lg=64),t}function cb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ho(e),t[e]=n}function OV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ho(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function oS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ho(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var qt=0;function FN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var BN,sS,VN,UN,jN,jw=!1,Bg=[],Ga=null,qa=null,Ka=null,Bh=new Map,Vh=new Map,Ma=[],NV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function CI(t,e){switch(t){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":Bh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vh.delete(e.pointerId)}}function Ef(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=kp(e),e!==null&&sS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function MV(t,e,n,r,i){switch(e){case"focusin":return Ga=Ef(Ga,t,e,n,r,i),!0;case"dragenter":return qa=Ef(qa,t,e,n,r,i),!0;case"mouseover":return Ka=Ef(Ka,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Bh.set(o,Ef(Bh.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Vh.set(o,Ef(Vh.get(o)||null,t,e,n,r,i)),!0}return!1}function zN(t){var e=Yl(t.target);if(e!==null){var n=Ic(e);if(n!==null){if(e=n.tag,e===13){if(e=AN(n),e!==null){t.blockedOn=e,jN(t.priority,function(){VN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function km(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Lw=r,n.target.dispatchEvent(r),Lw=null}else return e=kp(n),e!==null&&sS(e),t.blockedOn=n,!1;e.shift()}return!0}function TI(t,e,n){km(t)&&n.delete(e)}function DV(){jw=!1,Ga!==null&&km(Ga)&&(Ga=null),qa!==null&&km(qa)&&(qa=null),Ka!==null&&km(Ka)&&(Ka=null),Bh.forEach(TI),Vh.forEach(TI)}function Sf(t,e){t.blockedOn===e&&(t.blockedOn=null,jw||(jw=!0,Qi.unstable_scheduleCallback(Qi.unstable_NormalPriority,DV)))}function Uh(t){function e(i){return Sf(i,t)}if(0<Bg.length){Sf(Bg[0],t);for(var n=1;n<Bg.length;n++){var r=Bg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ga!==null&&Sf(Ga,t),qa!==null&&Sf(qa,t),Ka!==null&&Sf(Ka,t),Bh.forEach(e),Vh.forEach(e),n=0;n<Ma.length;n++)r=Ma[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ma.length&&(n=Ma[0],n.blockedOn===null);)zN(n),n.blockedOn===null&&Ma.shift()}var Yu=pa.ReactCurrentBatchConfig,hy=!0;function $V(t,e,n,r){var i=qt,o=Yu.transition;Yu.transition=null;try{qt=1,aS(t,e,n,r)}finally{qt=i,Yu.transition=o}}function LV(t,e,n,r){var i=qt,o=Yu.transition;Yu.transition=null;try{qt=4,aS(t,e,n,r)}finally{qt=i,Yu.transition=o}}function aS(t,e,n,r){if(hy){var i=zw(t,e,n,r);if(i===null)_b(t,e,r,py,n),CI(t,r);else if(MV(i,t,e,n,r))r.stopPropagation();else if(CI(t,r),e&4&&-1<NV.indexOf(t)){for(;i!==null;){var o=kp(i);if(o!==null&&BN(o),o=zw(t,e,n,r),o===null&&_b(t,e,r,py,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else _b(t,e,r,null,n)}}var py=null;function zw(t,e,n,r){if(py=null,t=rS(r),t=Yl(t),t!==null)if(e=Ic(t),e===null)t=null;else if(n=e.tag,n===13){if(t=AN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return py=t,null}function WN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SV()){case iS:return 1;case DN:return 4;case dy:case CV:return 16;case $N:return 536870912;default:return 16}default:return 16}}var za=null,lS=null,Am=null;function HN(){if(Am)return Am;var t,e=lS,n=e.length,r,i="value"in za?za.value:za.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Am=i.slice(t,1<r?1-r:void 0)}function Om(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vg(){return!0}function II(){return!1}function to(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Vg:II,this.isPropagationStopped=II,this}return Rn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vg)},persist:function(){},isPersistent:Vg}),e}var $d={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cS=to($d),Pp=Rn({},$d,{view:0,detail:0}),FV=to(Pp),ub,db,Cf,Fv=Rn({},Pp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cf&&(Cf&&t.type==="mousemove"?(ub=t.screenX-Cf.screenX,db=t.screenY-Cf.screenY):db=ub=0,Cf=t),ub)},movementY:function(t){return"movementY"in t?t.movementY:db}}),RI=to(Fv),BV=Rn({},Fv,{dataTransfer:0}),VV=to(BV),UV=Rn({},Pp,{relatedTarget:0}),fb=to(UV),jV=Rn({},$d,{animationName:0,elapsedTime:0,pseudoElement:0}),zV=to(jV),WV=Rn({},$d,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),HV=to(WV),GV=Rn({},$d,{data:0}),PI=to(GV),qV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=YV[t])?!!e[t]:!1}function uS(){return XV}var QV=Rn({},Pp,{key:function(t){if(t.key){var e=qV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Om(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uS,charCode:function(t){return t.type==="keypress"?Om(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Om(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),JV=to(QV),ZV=Rn({},Fv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kI=to(ZV),eU=Rn({},Pp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uS}),tU=to(eU),nU=Rn({},$d,{propertyName:0,elapsedTime:0,pseudoElement:0}),rU=to(nU),iU=Rn({},Fv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oU=to(iU),sU=[9,13,27,32],dS=Zs&&"CompositionEvent"in window,uh=null;Zs&&"documentMode"in document&&(uh=document.documentMode);var aU=Zs&&"TextEvent"in window&&!uh,GN=Zs&&(!dS||uh&&8<uh&&11>=uh),AI=" ",OI=!1;function qN(t,e){switch(t){case"keyup":return sU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mu=!1;function lU(t,e){switch(t){case"compositionend":return KN(e);case"keypress":return e.which!==32?null:(OI=!0,AI);case"textInput":return t=e.data,t===AI&&OI?null:t;default:return null}}function cU(t,e){if(Mu)return t==="compositionend"||!dS&&qN(t,e)?(t=HN(),Am=lS=za=null,Mu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return GN&&e.locale!=="ko"?null:e.data;default:return null}}var uU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uU[t.type]:e==="textarea"}function YN(t,e,n,r){TN(r),e=gy(e,"onChange"),0<e.length&&(n=new cS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var dh=null,jh=null;function dU(t){sM(t,0)}function Bv(t){var e=Lu(t);if(_N(e))return t}function fU(t,e){if(t==="change")return e}var XN=!1;if(Zs){var hb;if(Zs){var pb="oninput"in document;if(!pb){var MI=document.createElement("div");MI.setAttribute("oninput","return;"),pb=typeof MI.oninput=="function"}hb=pb}else hb=!1;XN=hb&&(!document.documentMode||9<document.documentMode)}function DI(){dh&&(dh.detachEvent("onpropertychange",QN),jh=dh=null)}function QN(t){if(t.propertyName==="value"&&Bv(jh)){var e=[];YN(e,jh,t,rS(t)),kN(dU,e)}}function hU(t,e,n){t==="focusin"?(DI(),dh=e,jh=n,dh.attachEvent("onpropertychange",QN)):t==="focusout"&&DI()}function pU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bv(jh)}function gU(t,e){if(t==="click")return Bv(e)}function mU(t,e){if(t==="input"||t==="change")return Bv(e)}function yU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yo=typeof Object.is=="function"?Object.is:yU;function zh(t,e){if(Yo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cw.call(e,i)||!Yo(t[i],e[i]))return!1}return!0}function $I(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function LI(t,e){var n=$I(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$I(n)}}function JN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?JN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ZN(){for(var t=window,e=ly();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ly(t.document)}return e}function fS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vU(t){var e=ZN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&JN(n.ownerDocument.documentElement,n)){if(r!==null&&fS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=LI(n,o);var s=LI(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _U=Zs&&"documentMode"in document&&11>=document.documentMode,Du=null,Ww=null,fh=null,Hw=!1;function FI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hw||Du==null||Du!==ly(r)||(r=Du,"selectionStart"in r&&fS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fh&&zh(fh,r)||(fh=r,r=gy(Ww,"onSelect"),0<r.length&&(e=new cS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Du)))}function Ug(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $u={animationend:Ug("Animation","AnimationEnd"),animationiteration:Ug("Animation","AnimationIteration"),animationstart:Ug("Animation","AnimationStart"),transitionend:Ug("Transition","TransitionEnd")},gb={},eM={};Zs&&(eM=document.createElement("div").style,"AnimationEvent"in window||(delete $u.animationend.animation,delete $u.animationiteration.animation,delete $u.animationstart.animation),"TransitionEvent"in window||delete $u.transitionend.transition);function Vv(t){if(gb[t])return gb[t];if(!$u[t])return t;var e=$u[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in eM)return gb[t]=e[n];return t}var tM=Vv("animationend"),nM=Vv("animationiteration"),rM=Vv("animationstart"),iM=Vv("transitionend"),oM=new Map,BI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sl(t,e){oM.set(t,e),Tc(e,[t])}for(var mb=0;mb<BI.length;mb++){var yb=BI[mb],bU=yb.toLowerCase(),wU=yb[0].toUpperCase()+yb.slice(1);Sl(bU,"on"+wU)}Sl(tM,"onAnimationEnd");Sl(nM,"onAnimationIteration");Sl(rM,"onAnimationStart");Sl("dblclick","onDoubleClick");Sl("focusin","onFocus");Sl("focusout","onBlur");Sl(iM,"onTransitionEnd");ad("onMouseEnter",["mouseout","mouseover"]);ad("onMouseLeave",["mouseout","mouseover"]);ad("onPointerEnter",["pointerout","pointerover"]);ad("onPointerLeave",["pointerout","pointerover"]);Tc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yf));function VI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,bV(r,e,void 0,t),t.currentTarget=null}function sM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;VI(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;VI(i,a,c),o=l}}}if(uy)throw t=Vw,uy=!1,Vw=null,t}function un(t,e){var n=e[Xw];n===void 0&&(n=e[Xw]=new Set);var r=t+"__bubble";n.has(r)||(aM(e,t,2,!1),n.add(r))}function vb(t,e,n){var r=0;e&&(r|=4),aM(n,t,r,e)}var jg="_reactListening"+Math.random().toString(36).slice(2);function Wh(t){if(!t[jg]){t[jg]=!0,pN.forEach(function(n){n!=="selectionchange"&&(xU.has(n)||vb(n,!1,t),vb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jg]||(e[jg]=!0,vb("selectionchange",!1,e))}}function aM(t,e,n,r){switch(WN(e)){case 1:var i=$V;break;case 4:i=LV;break;default:i=aS}n=i.bind(null,e,n,t),i=void 0,!Bw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function _b(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Yl(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}kN(function(){var c=o,u=rS(n),f=[];e:{var h=oM.get(t);if(h!==void 0){var p=cS,g=t;switch(t){case"keypress":if(Om(n)===0)break e;case"keydown":case"keyup":p=JV;break;case"focusin":g="focus",p=fb;break;case"focusout":g="blur",p=fb;break;case"beforeblur":case"afterblur":p=fb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=RI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=VV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=tU;break;case tM:case nM:case rM:p=zV;break;case iM:p=rU;break;case"scroll":p=FV;break;case"wheel":p=oU;break;case"copy":case"cut":case"paste":p=HV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=kI}var x=(e&4)!==0,S=!x&&t==="scroll",y=x?h!==null?h+"Capture":null:h;x=[];for(var b=c,_;b!==null;){_=b;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,y!==null&&(C=Fh(b,y),C!=null&&x.push(Hh(b,C,_)))),S)break;b=b.return}0<x.length&&(h=new p(h,g,null,n,u),f.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Lw&&(g=n.relatedTarget||n.fromElement)&&(Yl(g)||g[ea]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?Yl(g):null,g!==null&&(S=Ic(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(x=RI,C="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(x=kI,C="onPointerLeave",y="onPointerEnter",b="pointer"),S=p==null?h:Lu(p),_=g==null?h:Lu(g),h=new x(C,b+"leave",p,n,u),h.target=S,h.relatedTarget=_,C=null,Yl(u)===c&&(x=new x(y,b+"enter",g,n,u),x.target=_,x.relatedTarget=S,C=x),S=C,p&&g)t:{for(x=p,y=g,b=0,_=x;_;_=tu(_))b++;for(_=0,C=y;C;C=tu(C))_++;for(;0<b-_;)x=tu(x),b--;for(;0<_-b;)y=tu(y),_--;for(;b--;){if(x===y||y!==null&&x===y.alternate)break t;x=tu(x),y=tu(y)}x=null}else x=null;p!==null&&UI(f,h,p,x,!1),g!==null&&S!==null&&UI(f,S,g,x,!0)}}e:{if(h=c?Lu(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var O=fU;else if(NI(h))if(XN)O=mU;else{O=pU;var N=hU}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=gU);if(O&&(O=O(t,c))){YN(f,O,n,u);break e}N&&N(t,h,c),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Ow(h,"number",h.value)}switch(N=c?Lu(c):window,t){case"focusin":(NI(N)||N.contentEditable==="true")&&(Du=N,Ww=c,fh=null);break;case"focusout":fh=Ww=Du=null;break;case"mousedown":Hw=!0;break;case"contextmenu":case"mouseup":case"dragend":Hw=!1,FI(f,n,u);break;case"selectionchange":if(_U)break;case"keydown":case"keyup":FI(f,n,u)}var E;if(dS)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Mu?qN(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(GN&&n.locale!=="ko"&&(Mu||I!=="onCompositionStart"?I==="onCompositionEnd"&&Mu&&(E=HN()):(za=u,lS="value"in za?za.value:za.textContent,Mu=!0)),N=gy(c,I),0<N.length&&(I=new PI(I,t,null,n,u),f.push({event:I,listeners:N}),E?I.data=E:(E=KN(n),E!==null&&(I.data=E)))),(E=aU?lU(t,n):cU(t,n))&&(c=gy(c,"onBeforeInput"),0<c.length&&(u=new PI("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=E))}sM(f,e)})}function Hh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gy(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Fh(t,n),o!=null&&r.unshift(Hh(t,o,i)),o=Fh(t,e),o!=null&&r.push(Hh(t,o,i))),t=t.return}return r}function tu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function UI(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Fh(n,o),l!=null&&s.unshift(Hh(n,l,a))):i||(l=Fh(n,o),l!=null&&s.push(Hh(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var EU=/\r\n?/g,SU=/\u0000|\uFFFD/g;function jI(t){return(typeof t=="string"?t:""+t).replace(EU,`
`).replace(SU,"")}function zg(t,e,n){if(e=jI(e),jI(t)!==e&&n)throw Error(se(425))}function my(){}var Gw=null,qw=null;function Kw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yw=typeof setTimeout=="function"?setTimeout:void 0,CU=typeof clearTimeout=="function"?clearTimeout:void 0,zI=typeof Promise=="function"?Promise:void 0,TU=typeof queueMicrotask=="function"?queueMicrotask:typeof zI<"u"?function(t){return zI.resolve(null).then(t).catch(IU)}:Yw;function IU(t){setTimeout(function(){throw t})}function bb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Uh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Uh(e)}function Ya(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function WI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ld=Math.random().toString(36).slice(2),us="__reactFiber$"+Ld,Gh="__reactProps$"+Ld,ea="__reactContainer$"+Ld,Xw="__reactEvents$"+Ld,RU="__reactListeners$"+Ld,PU="__reactHandles$"+Ld;function Yl(t){var e=t[us];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ea]||n[us]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=WI(t);t!==null;){if(n=t[us])return n;t=WI(t)}return e}t=n,n=t.parentNode}return null}function kp(t){return t=t[us]||t[ea],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Lu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(se(33))}function Uv(t){return t[Gh]||null}var Qw=[],Fu=-1;function Cl(t){return{current:t}}function gn(t){0>Fu||(t.current=Qw[Fu],Qw[Fu]=null,Fu--)}function ln(t,e){Fu++,Qw[Fu]=t.current,t.current=e}var cl={},Wr=Cl(cl),_i=Cl(!1),cc=cl;function ld(t,e){var n=t.type.contextTypes;if(!n)return cl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bi(t){return t=t.childContextTypes,t!=null}function yy(){gn(_i),gn(Wr)}function HI(t,e,n){if(Wr.current!==cl)throw Error(se(168));ln(Wr,e),ln(_i,n)}function lM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(se(108,hV(t)||"Unknown",i));return Rn({},n,r)}function vy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cl,cc=Wr.current,ln(Wr,t),ln(_i,_i.current),!0}function GI(t,e,n){var r=t.stateNode;if(!r)throw Error(se(169));n?(t=lM(t,e,cc),r.__reactInternalMemoizedMergedChildContext=t,gn(_i),gn(Wr),ln(Wr,t)):gn(_i),ln(_i,n)}var Us=null,jv=!1,wb=!1;function cM(t){Us===null?Us=[t]:Us.push(t)}function kU(t){jv=!0,cM(t)}function Tl(){if(!wb&&Us!==null){wb=!0;var t=0,e=qt;try{var n=Us;for(qt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Us=null,jv=!1}catch(i){throw Us!==null&&(Us=Us.slice(t+1)),MN(iS,Tl),i}finally{qt=e,wb=!1}}return null}var Bu=[],Vu=0,_y=null,by=0,uo=[],fo=0,uc=null,Ws=1,Hs="";function jl(t,e){Bu[Vu++]=by,Bu[Vu++]=_y,_y=t,by=e}function uM(t,e,n){uo[fo++]=Ws,uo[fo++]=Hs,uo[fo++]=uc,uc=t;var r=Ws;t=Hs;var i=32-Ho(r)-1;r&=~(1<<i),n+=1;var o=32-Ho(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ws=1<<32-Ho(e)+i|n<<i|r,Hs=o+t}else Ws=1<<o|n<<i|r,Hs=t}function hS(t){t.return!==null&&(jl(t,1),uM(t,1,0))}function pS(t){for(;t===_y;)_y=Bu[--Vu],Bu[Vu]=null,by=Bu[--Vu],Bu[Vu]=null;for(;t===uc;)uc=uo[--fo],uo[fo]=null,Hs=uo[--fo],uo[fo]=null,Ws=uo[--fo],uo[fo]=null}var qi=null,ji=null,wn=!1,Bo=null;function dM(t,e){var n=go(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qi=t,ji=Ya(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qi=t,ji=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=uc!==null?{id:Ws,overflow:Hs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=go(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qi=t,ji=null,!0):!1;default:return!1}}function Jw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zw(t){if(wn){var e=ji;if(e){var n=e;if(!qI(t,e)){if(Jw(t))throw Error(se(418));e=Ya(n.nextSibling);var r=qi;e&&qI(t,e)?dM(r,n):(t.flags=t.flags&-4097|2,wn=!1,qi=t)}}else{if(Jw(t))throw Error(se(418));t.flags=t.flags&-4097|2,wn=!1,qi=t}}}function KI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qi=t}function Wg(t){if(t!==qi)return!1;if(!wn)return KI(t),wn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kw(t.type,t.memoizedProps)),e&&(e=ji)){if(Jw(t))throw fM(),Error(se(418));for(;e;)dM(t,e),e=Ya(e.nextSibling)}if(KI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ji=Ya(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ji=null}}else ji=qi?Ya(t.stateNode.nextSibling):null;return!0}function fM(){for(var t=ji;t;)t=Ya(t.nextSibling)}function cd(){ji=qi=null,wn=!1}function gS(t){Bo===null?Bo=[t]:Bo.push(t)}var AU=pa.ReactCurrentBatchConfig;function Lo(t,e){if(t&&t.defaultProps){e=Rn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var wy=Cl(null),xy=null,Uu=null,mS=null;function yS(){mS=Uu=xy=null}function vS(t){var e=wy.current;gn(wy),t._currentValue=e}function ex(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xu(t,e){xy=t,mS=Uu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gi=!0),t.firstContext=null)}function _o(t){var e=t._currentValue;if(mS!==t)if(t={context:t,memoizedValue:e,next:null},Uu===null){if(xy===null)throw Error(se(308));Uu=t,xy.dependencies={lanes:0,firstContext:t}}else Uu=Uu.next=t;return e}var Xl=null;function _S(t){Xl===null?Xl=[t]:Xl.push(t)}function hM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,_S(e)):(n.next=i.next,i.next=n),e.interleaved=n,ta(t,r)}function ta(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Oa=!1;function bS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ys(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Dt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ta(t,n)}return i=r.interleaved,i===null?(e.next=e,_S(r)):(e.next=i.next,i.next=e),r.interleaved=e,ta(t,n)}function Nm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oS(t,n)}}function YI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ey(t,e,n,r){var i=t.updateQueue;Oa=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,x=a;switch(h=e,p=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=Rn({},f,h);break e;case 2:Oa=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);fc|=s,t.lanes=s,t.memoizedState=f}}function XI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(se(191,i));i.call(r)}}}var gM=new hN.Component().refs;function tx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Rn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zv={isMounted:function(t){return(t=t._reactInternals)?Ic(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ti(),i=Ja(t),o=Ys(r,i);o.payload=e,n!=null&&(o.callback=n),e=Xa(t,o,i),e!==null&&(Go(e,t,i,r),Nm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ti(),i=Ja(t),o=Ys(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Xa(t,o,i),e!==null&&(Go(e,t,i,r),Nm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ti(),r=Ja(t),i=Ys(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xa(t,i,r),e!==null&&(Go(e,t,r,n),Nm(e,t,r))}};function QI(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!zh(n,r)||!zh(i,o):!0}function mM(t,e,n){var r=!1,i=cl,o=e.contextType;return typeof o=="object"&&o!==null?o=_o(o):(i=bi(e)?cc:Wr.current,r=e.contextTypes,o=(r=r!=null)?ld(t,i):cl),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function JI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zv.enqueueReplaceState(e,e.state,null)}function nx(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=gM,bS(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=_o(o):(o=bi(e)?cc:Wr.current,i.context=ld(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(tx(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&zv.enqueueReplaceState(i,i.state,null),Ey(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Tf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(se(309));var r=n.stateNode}if(!r)throw Error(se(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===gM&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(se(284));if(!n._owner)throw Error(se(290,t))}return t}function Hg(t,e){throw t=Object.prototype.toString.call(e),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ZI(t){var e=t._init;return e(t._payload)}function yM(t){function e(y,b){if(t){var _=y.deletions;_===null?(y.deletions=[b],y.flags|=16):_.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Za(y,b),y.index=0,y.sibling=null,y}function o(y,b,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<b?(y.flags|=2,b):_):(y.flags|=2,b)):(y.flags|=1048576,b)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,b,_,C){return b===null||b.tag!==6?(b=Rb(_,y.mode,C),b.return=y,b):(b=i(b,_),b.return=y,b)}function l(y,b,_,C){var O=_.type;return O===Nu?u(y,b,_.props.children,C,_.key):b!==null&&(b.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Aa&&ZI(O)===b.type)?(C=i(b,_.props),C.ref=Tf(y,b,_),C.return=y,C):(C=Bm(_.type,_.key,_.props,null,y.mode,C),C.ref=Tf(y,b,_),C.return=y,C)}function c(y,b,_,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=Pb(_,y.mode,C),b.return=y,b):(b=i(b,_.children||[]),b.return=y,b)}function u(y,b,_,C,O){return b===null||b.tag!==7?(b=oc(_,y.mode,C,O),b.return=y,b):(b=i(b,_),b.return=y,b)}function f(y,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Rb(""+b,y.mode,_),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Mg:return _=Bm(b.type,b.key,b.props,null,y.mode,_),_.ref=Tf(y,null,b),_.return=y,_;case Ou:return b=Pb(b,y.mode,_),b.return=y,b;case Aa:var C=b._init;return f(y,C(b._payload),_)}if(qf(b)||wf(b))return b=oc(b,y.mode,_,null),b.return=y,b;Hg(y,b)}return null}function h(y,b,_,C){var O=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return O!==null?null:a(y,b,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Mg:return _.key===O?l(y,b,_,C):null;case Ou:return _.key===O?c(y,b,_,C):null;case Aa:return O=_._init,h(y,b,O(_._payload),C)}if(qf(_)||wf(_))return O!==null?null:u(y,b,_,C,null);Hg(y,_)}return null}function p(y,b,_,C,O){if(typeof C=="string"&&C!==""||typeof C=="number")return y=y.get(_)||null,a(b,y,""+C,O);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Mg:return y=y.get(C.key===null?_:C.key)||null,l(b,y,C,O);case Ou:return y=y.get(C.key===null?_:C.key)||null,c(b,y,C,O);case Aa:var N=C._init;return p(y,b,_,N(C._payload),O)}if(qf(C)||wf(C))return y=y.get(_)||null,u(b,y,C,O,null);Hg(b,C)}return null}function g(y,b,_,C){for(var O=null,N=null,E=b,I=b=0,R=null;E!==null&&I<_.length;I++){E.index>I?(R=E,E=null):R=E.sibling;var v=h(y,E,_[I],C);if(v===null){E===null&&(E=R);break}t&&E&&v.alternate===null&&e(y,E),b=o(v,b,I),N===null?O=v:N.sibling=v,N=v,E=R}if(I===_.length)return n(y,E),wn&&jl(y,I),O;if(E===null){for(;I<_.length;I++)E=f(y,_[I],C),E!==null&&(b=o(E,b,I),N===null?O=E:N.sibling=E,N=E);return wn&&jl(y,I),O}for(E=r(y,E);I<_.length;I++)R=p(E,y,I,_[I],C),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?I:R.key),b=o(R,b,I),N===null?O=R:N.sibling=R,N=R);return t&&E.forEach(function(k){return e(y,k)}),wn&&jl(y,I),O}function x(y,b,_,C){var O=wf(_);if(typeof O!="function")throw Error(se(150));if(_=O.call(_),_==null)throw Error(se(151));for(var N=O=null,E=b,I=b=0,R=null,v=_.next();E!==null&&!v.done;I++,v=_.next()){E.index>I?(R=E,E=null):R=E.sibling;var k=h(y,E,v.value,C);if(k===null){E===null&&(E=R);break}t&&E&&k.alternate===null&&e(y,E),b=o(k,b,I),N===null?O=k:N.sibling=k,N=k,E=R}if(v.done)return n(y,E),wn&&jl(y,I),O;if(E===null){for(;!v.done;I++,v=_.next())v=f(y,v.value,C),v!==null&&(b=o(v,b,I),N===null?O=v:N.sibling=v,N=v);return wn&&jl(y,I),O}for(E=r(y,E);!v.done;I++,v=_.next())v=p(E,y,I,v.value,C),v!==null&&(t&&v.alternate!==null&&E.delete(v.key===null?I:v.key),b=o(v,b,I),N===null?O=v:N.sibling=v,N=v);return t&&E.forEach(function(M){return e(y,M)}),wn&&jl(y,I),O}function S(y,b,_,C){if(typeof _=="object"&&_!==null&&_.type===Nu&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Mg:e:{for(var O=_.key,N=b;N!==null;){if(N.key===O){if(O=_.type,O===Nu){if(N.tag===7){n(y,N.sibling),b=i(N,_.props.children),b.return=y,y=b;break e}}else if(N.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Aa&&ZI(O)===N.type){n(y,N.sibling),b=i(N,_.props),b.ref=Tf(y,N,_),b.return=y,y=b;break e}n(y,N);break}else e(y,N);N=N.sibling}_.type===Nu?(b=oc(_.props.children,y.mode,C,_.key),b.return=y,y=b):(C=Bm(_.type,_.key,_.props,null,y.mode,C),C.ref=Tf(y,b,_),C.return=y,y=C)}return s(y);case Ou:e:{for(N=_.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(y,b.sibling),b=i(b,_.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else e(y,b);b=b.sibling}b=Pb(_,y.mode,C),b.return=y,y=b}return s(y);case Aa:return N=_._init,S(y,b,N(_._payload),C)}if(qf(_))return g(y,b,_,C);if(wf(_))return x(y,b,_,C);Hg(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(n(y,b.sibling),b=i(b,_),b.return=y,y=b):(n(y,b),b=Rb(_,y.mode,C),b.return=y,y=b),s(y)):n(y,b)}return S}var ud=yM(!0),vM=yM(!1),Ap={},ps=Cl(Ap),qh=Cl(Ap),Kh=Cl(Ap);function Ql(t){if(t===Ap)throw Error(se(174));return t}function wS(t,e){switch(ln(Kh,e),ln(qh,t),ln(ps,Ap),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Mw(e,t)}gn(ps),ln(ps,e)}function dd(){gn(ps),gn(qh),gn(Kh)}function _M(t){Ql(Kh.current);var e=Ql(ps.current),n=Mw(e,t.type);e!==n&&(ln(qh,t),ln(ps,n))}function xS(t){qh.current===t&&(gn(ps),gn(qh))}var Cn=Cl(0);function Sy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xb=[];function ES(){for(var t=0;t<xb.length;t++)xb[t]._workInProgressVersionPrimary=null;xb.length=0}var Mm=pa.ReactCurrentDispatcher,Eb=pa.ReactCurrentBatchConfig,dc=0,Tn=null,Qn=null,lr=null,Cy=!1,hh=!1,Yh=0,OU=0;function Or(){throw Error(se(321))}function SS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yo(t[n],e[n]))return!1;return!0}function CS(t,e,n,r,i,o){if(dc=o,Tn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Mm.current=t===null||t.memoizedState===null?$U:LU,t=n(r,i),hh){o=0;do{if(hh=!1,Yh=0,25<=o)throw Error(se(301));o+=1,lr=Qn=null,e.updateQueue=null,Mm.current=FU,t=n(r,i)}while(hh)}if(Mm.current=Ty,e=Qn!==null&&Qn.next!==null,dc=0,lr=Qn=Tn=null,Cy=!1,e)throw Error(se(300));return t}function TS(){var t=Yh!==0;return Yh=0,t}function ss(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?Tn.memoizedState=lr=t:lr=lr.next=t,lr}function bo(){if(Qn===null){var t=Tn.alternate;t=t!==null?t.memoizedState:null}else t=Qn.next;var e=lr===null?Tn.memoizedState:lr.next;if(e!==null)lr=e,Qn=t;else{if(t===null)throw Error(se(310));Qn=t,t={memoizedState:Qn.memoizedState,baseState:Qn.baseState,baseQueue:Qn.baseQueue,queue:Qn.queue,next:null},lr===null?Tn.memoizedState=lr=t:lr=lr.next=t}return lr}function Xh(t,e){return typeof e=="function"?e(t):e}function Sb(t){var e=bo(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=Qn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((dc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Tn.lanes|=u,fc|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Yo(r,e.memoizedState)||(gi=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Tn.lanes|=o,fc|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cb(t){var e=bo(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Yo(o,e.memoizedState)||(gi=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function bM(){}function wM(t,e){var n=Tn,r=bo(),i=e(),o=!Yo(r.memoizedState,i);if(o&&(r.memoizedState=i,gi=!0),r=r.queue,IS(SM.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||lr!==null&&lr.memoizedState.tag&1){if(n.flags|=2048,Qh(9,EM.bind(null,n,r,i,e),void 0,null),dr===null)throw Error(se(349));dc&30||xM(n,e,i)}return i}function xM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function EM(t,e,n,r){e.value=n,e.getSnapshot=r,CM(e)&&TM(t)}function SM(t,e,n){return n(function(){CM(e)&&TM(t)})}function CM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yo(t,n)}catch{return!0}}function TM(t){var e=ta(t,1);e!==null&&Go(e,t,1,-1)}function eR(t){var e=ss();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xh,lastRenderedState:t},e.queue=t,t=t.dispatch=DU.bind(null,Tn,t),[e.memoizedState,t]}function Qh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function IM(){return bo().memoizedState}function Dm(t,e,n,r){var i=ss();Tn.flags|=t,i.memoizedState=Qh(1|e,n,void 0,r===void 0?null:r)}function Wv(t,e,n,r){var i=bo();r=r===void 0?null:r;var o=void 0;if(Qn!==null){var s=Qn.memoizedState;if(o=s.destroy,r!==null&&SS(r,s.deps)){i.memoizedState=Qh(e,n,o,r);return}}Tn.flags|=t,i.memoizedState=Qh(1|e,n,o,r)}function tR(t,e){return Dm(8390656,8,t,e)}function IS(t,e){return Wv(2048,8,t,e)}function RM(t,e){return Wv(4,2,t,e)}function PM(t,e){return Wv(4,4,t,e)}function kM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function AM(t,e,n){return n=n!=null?n.concat([t]):null,Wv(4,4,kM.bind(null,e,t),n)}function RS(){}function OM(t,e){var n=bo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&SS(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function NM(t,e){var n=bo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&SS(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function MM(t,e,n){return dc&21?(Yo(n,e)||(n=LN(),Tn.lanes|=n,fc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gi=!0),t.memoizedState=n)}function NU(t,e){var n=qt;qt=n!==0&&4>n?n:4,t(!0);var r=Eb.transition;Eb.transition={};try{t(!1),e()}finally{qt=n,Eb.transition=r}}function DM(){return bo().memoizedState}function MU(t,e,n){var r=Ja(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$M(t))LM(e,n);else if(n=hM(t,e,n,r),n!==null){var i=ti();Go(n,t,r,i),FM(n,e,r)}}function DU(t,e,n){var r=Ja(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($M(t))LM(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Yo(a,s)){var l=e.interleaved;l===null?(i.next=i,_S(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=hM(t,e,i,r),n!==null&&(i=ti(),Go(n,t,r,i),FM(n,e,r))}}function $M(t){var e=t.alternate;return t===Tn||e!==null&&e===Tn}function LM(t,e){hh=Cy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function FM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oS(t,n)}}var Ty={readContext:_o,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useInsertionEffect:Or,useLayoutEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useMutableSource:Or,useSyncExternalStore:Or,useId:Or,unstable_isNewReconciler:!1},$U={readContext:_o,useCallback:function(t,e){return ss().memoizedState=[t,e===void 0?null:e],t},useContext:_o,useEffect:tR,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Dm(4194308,4,kM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Dm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Dm(4,2,t,e)},useMemo:function(t,e){var n=ss();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ss();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=MU.bind(null,Tn,t),[r.memoizedState,t]},useRef:function(t){var e=ss();return t={current:t},e.memoizedState=t},useState:eR,useDebugValue:RS,useDeferredValue:function(t){return ss().memoizedState=t},useTransition:function(){var t=eR(!1),e=t[0];return t=NU.bind(null,t[1]),ss().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Tn,i=ss();if(wn){if(n===void 0)throw Error(se(407));n=n()}else{if(n=e(),dr===null)throw Error(se(349));dc&30||xM(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,tR(SM.bind(null,r,o,t),[t]),r.flags|=2048,Qh(9,EM.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ss(),e=dr.identifierPrefix;if(wn){var n=Hs,r=Ws;n=(r&~(1<<32-Ho(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=OU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LU={readContext:_o,useCallback:OM,useContext:_o,useEffect:IS,useImperativeHandle:AM,useInsertionEffect:RM,useLayoutEffect:PM,useMemo:NM,useReducer:Sb,useRef:IM,useState:function(){return Sb(Xh)},useDebugValue:RS,useDeferredValue:function(t){var e=bo();return MM(e,Qn.memoizedState,t)},useTransition:function(){var t=Sb(Xh)[0],e=bo().memoizedState;return[t,e]},useMutableSource:bM,useSyncExternalStore:wM,useId:DM,unstable_isNewReconciler:!1},FU={readContext:_o,useCallback:OM,useContext:_o,useEffect:IS,useImperativeHandle:AM,useInsertionEffect:RM,useLayoutEffect:PM,useMemo:NM,useReducer:Cb,useRef:IM,useState:function(){return Cb(Xh)},useDebugValue:RS,useDeferredValue:function(t){var e=bo();return Qn===null?e.memoizedState=t:MM(e,Qn.memoizedState,t)},useTransition:function(){var t=Cb(Xh)[0],e=bo().memoizedState;return[t,e]},useMutableSource:bM,useSyncExternalStore:wM,useId:DM,unstable_isNewReconciler:!1};function fd(t,e){try{var n="",r=e;do n+=fV(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Tb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BU=typeof WeakMap=="function"?WeakMap:Map;function BM(t,e,n){n=Ys(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ry||(Ry=!0,hx=r),rx(t,e)},n}function VM(t,e,n){n=Ys(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){rx(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){rx(t,e),typeof r!="function"&&(Qa===null?Qa=new Set([this]):Qa.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function nR(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new BU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ZU.bind(null,t,e,n),e.then(t,t))}function rR(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function iR(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ys(-1,1),e.tag=2,Xa(n,e,1))),n.lanes|=1),t)}var VU=pa.ReactCurrentOwner,gi=!1;function Jr(t,e,n,r){e.child=t===null?vM(e,null,n,r):ud(e,t.child,n,r)}function oR(t,e,n,r,i){n=n.render;var o=e.ref;return Xu(e,i),r=CS(t,e,n,r,o,i),n=TS(),t!==null&&!gi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,na(t,e,i)):(wn&&n&&hS(e),e.flags|=1,Jr(t,e,r,i),e.child)}function sR(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!$S(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,UM(t,e,o,r,i)):(t=Bm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:zh,n(s,r)&&t.ref===e.ref)return na(t,e,i)}return e.flags|=1,t=Za(o,r),t.ref=e.ref,t.return=e,e.child=t}function UM(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(zh(o,r)&&t.ref===e.ref)if(gi=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(gi=!0);else return e.lanes=t.lanes,na(t,e,i)}return ix(t,e,n,r,i)}function jM(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ln(zu,Li),Li|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ln(zu,Li),Li|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ln(zu,Li),Li|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ln(zu,Li),Li|=r;return Jr(t,e,i,n),e.child}function zM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ix(t,e,n,r,i){var o=bi(n)?cc:Wr.current;return o=ld(e,o),Xu(e,i),n=CS(t,e,n,r,o,i),r=TS(),t!==null&&!gi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,na(t,e,i)):(wn&&r&&hS(e),e.flags|=1,Jr(t,e,n,i),e.child)}function aR(t,e,n,r,i){if(bi(n)){var o=!0;vy(e)}else o=!1;if(Xu(e,i),e.stateNode===null)$m(t,e),mM(e,n,r),nx(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=_o(c):(c=bi(n)?cc:Wr.current,c=ld(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&JI(e,s,r,c),Oa=!1;var h=e.memoizedState;s.state=h,Ey(e,r,s,i),l=e.memoizedState,a!==r||h!==l||_i.current||Oa?(typeof u=="function"&&(tx(e,n,u,r),l=e.memoizedState),(a=Oa||QI(e,n,a,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,pM(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Lo(e.type,a),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=_o(l):(l=bi(n)?cc:Wr.current,l=ld(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&JI(e,s,r,l),Oa=!1,h=e.memoizedState,s.state=h,Ey(e,r,s,i);var g=e.memoizedState;a!==f||h!==g||_i.current||Oa?(typeof p=="function"&&(tx(e,n,p,r),g=e.memoizedState),(c=Oa||QI(e,n,c,r,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return ox(t,e,n,r,o,i)}function ox(t,e,n,r,i,o){zM(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&GI(e,n,!1),na(t,e,o);r=e.stateNode,VU.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ud(e,t.child,null,o),e.child=ud(e,null,a,o)):Jr(t,e,a,o),e.memoizedState=r.state,i&&GI(e,n,!0),e.child}function WM(t){var e=t.stateNode;e.pendingContext?HI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&HI(t,e.context,!1),wS(t,e.containerInfo)}function lR(t,e,n,r,i){return cd(),gS(i),e.flags|=256,Jr(t,e,n,r),e.child}var sx={dehydrated:null,treeContext:null,retryLane:0};function ax(t){return{baseLanes:t,cachePool:null,transitions:null}}function HM(t,e,n){var r=e.pendingProps,i=Cn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ln(Cn,i&1),t===null)return Zw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=qv(s,r,0,null),t=oc(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=ax(n),e.memoizedState=sx,t):PS(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return UU(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Za(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Za(a,o):(o=oc(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?ax(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=sx,r}return o=t.child,t=o.sibling,r=Za(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function PS(t,e){return e=qv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gg(t,e,n,r){return r!==null&&gS(r),ud(e,t.child,null,n),t=PS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function UU(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Tb(Error(se(422))),Gg(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=qv({mode:"visible",children:r.children},i,0,null),o=oc(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ud(e,t.child,null,s),e.child.memoizedState=ax(s),e.memoizedState=sx,o);if(!(e.mode&1))return Gg(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(se(419)),r=Tb(o,r,void 0),Gg(t,e,s,r)}if(a=(s&t.childLanes)!==0,gi||a){if(r=dr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ta(t,i),Go(r,t,i,-1))}return DS(),r=Tb(Error(se(421))),Gg(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ej.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ji=Ya(i.nextSibling),qi=e,wn=!0,Bo=null,t!==null&&(uo[fo++]=Ws,uo[fo++]=Hs,uo[fo++]=uc,Ws=t.id,Hs=t.overflow,uc=e),e=PS(e,r.children),e.flags|=4096,e)}function cR(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ex(t.return,e,n)}function Ib(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function GM(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Jr(t,e,r.children,n),r=Cn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cR(t,n,e);else if(t.tag===19)cR(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ln(Cn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Sy(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ib(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Sy(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ib(e,!0,n,null,o);break;case"together":Ib(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $m(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function na(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(se(153));if(e.child!==null){for(t=e.child,n=Za(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Za(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jU(t,e,n){switch(e.tag){case 3:WM(e),cd();break;case 5:_M(e);break;case 1:bi(e.type)&&vy(e);break;case 4:wS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ln(wy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ln(Cn,Cn.current&1),e.flags|=128,null):n&e.child.childLanes?HM(t,e,n):(ln(Cn,Cn.current&1),t=na(t,e,n),t!==null?t.sibling:null);ln(Cn,Cn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return GM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ln(Cn,Cn.current),r)break;return null;case 22:case 23:return e.lanes=0,jM(t,e,n)}return na(t,e,n)}var qM,lx,KM,YM;qM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lx=function(){};KM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ql(ps.current);var o=null;switch(n){case"input":i=kw(t,i),r=kw(t,r),o=[];break;case"select":i=Rn({},i,{value:void 0}),r=Rn({},r,{value:void 0}),o=[];break;case"textarea":i=Nw(t,i),r=Nw(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=my)}Dw(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&($h.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&($h.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&un("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};YM=function(t,e,n,r){n!==r&&(e.flags|=4)};function If(t,e){if(!wn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zU(t,e,n){var r=e.pendingProps;switch(pS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nr(e),null;case 1:return bi(e.type)&&yy(),Nr(e),null;case 3:return r=e.stateNode,dd(),gn(_i),gn(Wr),ES(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bo!==null&&(mx(Bo),Bo=null))),lx(t,e),Nr(e),null;case 5:xS(e);var i=Ql(Kh.current);if(n=e.type,t!==null&&e.stateNode!=null)KM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(se(166));return Nr(e),null}if(t=Ql(ps.current),Wg(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[us]=e,r[Gh]=o,t=(e.mode&1)!==0,n){case"dialog":un("cancel",r),un("close",r);break;case"iframe":case"object":case"embed":un("load",r);break;case"video":case"audio":for(i=0;i<Yf.length;i++)un(Yf[i],r);break;case"source":un("error",r);break;case"img":case"image":case"link":un("error",r),un("load",r);break;case"details":un("toggle",r);break;case"input":vI(r,o),un("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},un("invalid",r);break;case"textarea":bI(r,o),un("invalid",r)}Dw(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&zg(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&zg(r.textContent,a,t),i=["children",""+a]):$h.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&un("scroll",r)}switch(n){case"input":Dg(r),_I(r,o,!0);break;case"textarea":Dg(r),wI(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=my)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[us]=e,t[Gh]=r,qM(t,e,!1,!1),e.stateNode=t;e:{switch(s=$w(n,r),n){case"dialog":un("cancel",t),un("close",t),i=r;break;case"iframe":case"object":case"embed":un("load",t),i=r;break;case"video":case"audio":for(i=0;i<Yf.length;i++)un(Yf[i],t);i=r;break;case"source":un("error",t),i=r;break;case"img":case"image":case"link":un("error",t),un("load",t),i=r;break;case"details":un("toggle",t),i=r;break;case"input":vI(t,r),i=kw(t,r),un("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Rn({},r,{value:void 0}),un("invalid",t);break;case"textarea":bI(t,r),i=Nw(t,r),un("invalid",t);break;default:i=r}Dw(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?CN(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&EN(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Lh(t,l):typeof l=="number"&&Lh(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&($h.hasOwnProperty(o)?l!=null&&o==="onScroll"&&un("scroll",t):l!=null&&ZE(t,o,l,s))}switch(n){case"input":Dg(t),_I(t,r,!1);break;case"textarea":Dg(t),wI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ll(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Gu(t,!!r.multiple,o,!1):r.defaultValue!=null&&Gu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=my)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nr(e),null;case 6:if(t&&e.stateNode!=null)YM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(se(166));if(n=Ql(Kh.current),Ql(ps.current),Wg(e)){if(r=e.stateNode,n=e.memoizedProps,r[us]=e,(o=r.nodeValue!==n)&&(t=qi,t!==null))switch(t.tag){case 3:zg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zg(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[us]=e,e.stateNode=r}return Nr(e),null;case 13:if(gn(Cn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wn&&ji!==null&&e.mode&1&&!(e.flags&128))fM(),cd(),e.flags|=98560,o=!1;else if(o=Wg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(se(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(se(317));o[us]=e}else cd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nr(e),o=!1}else Bo!==null&&(mx(Bo),Bo=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Cn.current&1?er===0&&(er=3):DS())),e.updateQueue!==null&&(e.flags|=4),Nr(e),null);case 4:return dd(),lx(t,e),t===null&&Wh(e.stateNode.containerInfo),Nr(e),null;case 10:return vS(e.type._context),Nr(e),null;case 17:return bi(e.type)&&yy(),Nr(e),null;case 19:if(gn(Cn),o=e.memoizedState,o===null)return Nr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)If(o,!1);else{if(er!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Sy(t),s!==null){for(e.flags|=128,If(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ln(Cn,Cn.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ln()>hd&&(e.flags|=128,r=!0,If(o,!1),e.lanes=4194304)}else{if(!r)if(t=Sy(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),If(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!wn)return Nr(e),null}else 2*Ln()-o.renderingStartTime>hd&&n!==1073741824&&(e.flags|=128,r=!0,If(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ln(),e.sibling=null,n=Cn.current,ln(Cn,r?n&1|2:n&1),e):(Nr(e),null);case 22:case 23:return MS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Li&1073741824&&(Nr(e),e.subtreeFlags&6&&(e.flags|=8192)):Nr(e),null;case 24:return null;case 25:return null}throw Error(se(156,e.tag))}function WU(t,e){switch(pS(e),e.tag){case 1:return bi(e.type)&&yy(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return dd(),gn(_i),gn(Wr),ES(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xS(e),null;case 13:if(gn(Cn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(se(340));cd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return gn(Cn),null;case 4:return dd(),null;case 10:return vS(e.type._context),null;case 22:case 23:return MS(),null;case 24:return null;default:return null}}var qg=!1,Ur=!1,HU=typeof WeakSet=="function"?WeakSet:Set,Re=null;function ju(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){An(t,e,r)}else n.current=null}function cx(t,e,n){try{n()}catch(r){An(t,e,r)}}var uR=!1;function GU(t,e){if(Gw=hy,t=ZN(),fS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qw={focusedElem:t,selectionRange:n},hy=!1,Re=e;Re!==null;)if(e=Re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Re=t;else for(;Re!==null;){e=Re;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,S=g.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:Lo(e.type,x),S);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(C){An(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Re=t;break}Re=e.return}return g=uR,uR=!1,g}function ph(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&cx(e,n,o)}i=i.next}while(i!==r)}}function Hv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ux(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function XM(t){var e=t.alternate;e!==null&&(t.alternate=null,XM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[us],delete e[Gh],delete e[Xw],delete e[RU],delete e[PU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function QM(t){return t.tag===5||t.tag===3||t.tag===4}function dR(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||QM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=my));else if(r!==4&&(t=t.child,t!==null))for(dx(t,e,n),t=t.sibling;t!==null;)dx(t,e,n),t=t.sibling}function fx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(fx(t,e,n),t=t.sibling;t!==null;)fx(t,e,n),t=t.sibling}var wr=null,Fo=!1;function Ta(t,e,n){for(n=n.child;n!==null;)JM(t,e,n),n=n.sibling}function JM(t,e,n){if(hs&&typeof hs.onCommitFiberUnmount=="function")try{hs.onCommitFiberUnmount(Lv,n)}catch{}switch(n.tag){case 5:Ur||ju(n,e);case 6:var r=wr,i=Fo;wr=null,Ta(t,e,n),wr=r,Fo=i,wr!==null&&(Fo?(t=wr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wr.removeChild(n.stateNode));break;case 18:wr!==null&&(Fo?(t=wr,n=n.stateNode,t.nodeType===8?bb(t.parentNode,n):t.nodeType===1&&bb(t,n),Uh(t)):bb(wr,n.stateNode));break;case 4:r=wr,i=Fo,wr=n.stateNode.containerInfo,Fo=!0,Ta(t,e,n),wr=r,Fo=i;break;case 0:case 11:case 14:case 15:if(!Ur&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&cx(n,e,s),i=i.next}while(i!==r)}Ta(t,e,n);break;case 1:if(!Ur&&(ju(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){An(n,e,a)}Ta(t,e,n);break;case 21:Ta(t,e,n);break;case 22:n.mode&1?(Ur=(r=Ur)||n.memoizedState!==null,Ta(t,e,n),Ur=r):Ta(t,e,n);break;default:Ta(t,e,n)}}function fR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new HU),e.forEach(function(r){var i=tj.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:wr=a.stateNode,Fo=!1;break e;case 3:wr=a.stateNode.containerInfo,Fo=!0;break e;case 4:wr=a.stateNode.containerInfo,Fo=!0;break e}a=a.return}if(wr===null)throw Error(se(160));JM(o,s,i),wr=null,Fo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){An(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ZM(e,t),e=e.sibling}function ZM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mo(e,t),is(t),r&4){try{ph(3,t,t.return),Hv(3,t)}catch(x){An(t,t.return,x)}try{ph(5,t,t.return)}catch(x){An(t,t.return,x)}}break;case 1:Mo(e,t),is(t),r&512&&n!==null&&ju(n,n.return);break;case 5:if(Mo(e,t),is(t),r&512&&n!==null&&ju(n,n.return),t.flags&32){var i=t.stateNode;try{Lh(i,"")}catch(x){An(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&bN(i,o),$w(a,s);var c=$w(a,o);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?CN(i,f):u==="dangerouslySetInnerHTML"?EN(i,f):u==="children"?Lh(i,f):ZE(i,u,f,c)}switch(a){case"input":Aw(i,o);break;case"textarea":wN(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Gu(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Gu(i,!!o.multiple,o.defaultValue,!0):Gu(i,!!o.multiple,o.multiple?[]:"",!1))}i[Gh]=o}catch(x){An(t,t.return,x)}}break;case 6:if(Mo(e,t),is(t),r&4){if(t.stateNode===null)throw Error(se(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(x){An(t,t.return,x)}}break;case 3:if(Mo(e,t),is(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Uh(e.containerInfo)}catch(x){An(t,t.return,x)}break;case 4:Mo(e,t),is(t);break;case 13:Mo(e,t),is(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(OS=Ln())),r&4&&fR(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ur=(c=Ur)||u,Mo(e,t),Ur=c):Mo(e,t),is(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Re=t,u=t.child;u!==null;){for(f=Re=u;Re!==null;){switch(h=Re,p=h.child,h.tag){case 0:case 11:case 14:case 15:ph(4,h,h.return);break;case 1:ju(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){An(r,n,x)}}break;case 5:ju(h,h.return);break;case 22:if(h.memoizedState!==null){pR(f);continue}}p!==null?(p.return=h,Re=p):pR(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=SN("display",s))}catch(x){An(t,t.return,x)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){An(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Mo(e,t),is(t),r&4&&fR(t);break;case 21:break;default:Mo(e,t),is(t)}}function is(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(QM(n)){var r=n;break e}n=n.return}throw Error(se(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Lh(i,""),r.flags&=-33);var o=dR(t);fx(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=dR(t);dx(t,a,s);break;default:throw Error(se(161))}}catch(l){An(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qU(t,e,n){Re=t,eD(t)}function eD(t,e,n){for(var r=(t.mode&1)!==0;Re!==null;){var i=Re,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||qg;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ur;a=qg;var c=Ur;if(qg=s,(Ur=l)&&!c)for(Re=i;Re!==null;)s=Re,l=s.child,s.tag===22&&s.memoizedState!==null?gR(i):l!==null?(l.return=s,Re=l):gR(i);for(;o!==null;)Re=o,eD(o),o=o.sibling;Re=i,qg=a,Ur=c}hR(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Re=o):hR(t)}}function hR(t){for(;Re!==null;){var e=Re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ur||Hv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ur)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Lo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&XI(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}XI(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Uh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}Ur||e.flags&512&&ux(e)}catch(h){An(e,e.return,h)}}if(e===t){Re=null;break}if(n=e.sibling,n!==null){n.return=e.return,Re=n;break}Re=e.return}}function pR(t){for(;Re!==null;){var e=Re;if(e===t){Re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Re=n;break}Re=e.return}}function gR(t){for(;Re!==null;){var e=Re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hv(4,e)}catch(l){An(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){An(e,i,l)}}var o=e.return;try{ux(e)}catch(l){An(e,o,l)}break;case 5:var s=e.return;try{ux(e)}catch(l){An(e,s,l)}}}catch(l){An(e,e.return,l)}if(e===t){Re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Re=a;break}Re=e.return}}var KU=Math.ceil,Iy=pa.ReactCurrentDispatcher,kS=pa.ReactCurrentOwner,mo=pa.ReactCurrentBatchConfig,Dt=0,dr=null,Gn=null,Sr=0,Li=0,zu=Cl(0),er=0,Jh=null,fc=0,Gv=0,AS=0,gh=null,hi=null,OS=0,hd=1/0,Vs=null,Ry=!1,hx=null,Qa=null,Kg=!1,Wa=null,Py=0,mh=0,px=null,Lm=-1,Fm=0;function ti(){return Dt&6?Ln():Lm!==-1?Lm:Lm=Ln()}function Ja(t){return t.mode&1?Dt&2&&Sr!==0?Sr&-Sr:AU.transition!==null?(Fm===0&&(Fm=LN()),Fm):(t=qt,t!==0||(t=window.event,t=t===void 0?16:WN(t.type)),t):1}function Go(t,e,n,r){if(50<mh)throw mh=0,px=null,Error(se(185));Rp(t,n,r),(!(Dt&2)||t!==dr)&&(t===dr&&(!(Dt&2)&&(Gv|=n),er===4&&Da(t,Sr)),wi(t,r),n===1&&Dt===0&&!(e.mode&1)&&(hd=Ln()+500,jv&&Tl()))}function wi(t,e){var n=t.callbackNode;AV(t,e);var r=fy(t,t===dr?Sr:0);if(r===0)n!==null&&SI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&SI(n),e===1)t.tag===0?kU(mR.bind(null,t)):cM(mR.bind(null,t)),TU(function(){!(Dt&6)&&Tl()}),n=null;else{switch(FN(r)){case 1:n=iS;break;case 4:n=DN;break;case 16:n=dy;break;case 536870912:n=$N;break;default:n=dy}n=lD(n,tD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function tD(t,e){if(Lm=-1,Fm=0,Dt&6)throw Error(se(327));var n=t.callbackNode;if(Qu()&&t.callbackNode!==n)return null;var r=fy(t,t===dr?Sr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ky(t,r);else{e=r;var i=Dt;Dt|=2;var o=rD();(dr!==t||Sr!==e)&&(Vs=null,hd=Ln()+500,ic(t,e));do try{QU();break}catch(a){nD(t,a)}while(!0);yS(),Iy.current=o,Dt=i,Gn!==null?e=0:(dr=null,Sr=0,e=er)}if(e!==0){if(e===2&&(i=Uw(t),i!==0&&(r=i,e=gx(t,i))),e===1)throw n=Jh,ic(t,0),Da(t,r),wi(t,Ln()),n;if(e===6)Da(t,r);else{if(i=t.current.alternate,!(r&30)&&!YU(i)&&(e=ky(t,r),e===2&&(o=Uw(t),o!==0&&(r=o,e=gx(t,o))),e===1))throw n=Jh,ic(t,0),Da(t,r),wi(t,Ln()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(se(345));case 2:zl(t,hi,Vs);break;case 3:if(Da(t,r),(r&130023424)===r&&(e=OS+500-Ln(),10<e)){if(fy(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ti(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Yw(zl.bind(null,t,hi,Vs),e);break}zl(t,hi,Vs);break;case 4:if(Da(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Ho(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ln()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KU(r/1960))-r,10<r){t.timeoutHandle=Yw(zl.bind(null,t,hi,Vs),r);break}zl(t,hi,Vs);break;case 5:zl(t,hi,Vs);break;default:throw Error(se(329))}}}return wi(t,Ln()),t.callbackNode===n?tD.bind(null,t):null}function gx(t,e){var n=gh;return t.current.memoizedState.isDehydrated&&(ic(t,e).flags|=256),t=ky(t,e),t!==2&&(e=hi,hi=n,e!==null&&mx(e)),t}function mx(t){hi===null?hi=t:hi.push.apply(hi,t)}function YU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Yo(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Da(t,e){for(e&=~AS,e&=~Gv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ho(e),r=1<<n;t[n]=-1,e&=~r}}function mR(t){if(Dt&6)throw Error(se(327));Qu();var e=fy(t,0);if(!(e&1))return wi(t,Ln()),null;var n=ky(t,e);if(t.tag!==0&&n===2){var r=Uw(t);r!==0&&(e=r,n=gx(t,r))}if(n===1)throw n=Jh,ic(t,0),Da(t,e),wi(t,Ln()),n;if(n===6)throw Error(se(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zl(t,hi,Vs),wi(t,Ln()),null}function NS(t,e){var n=Dt;Dt|=1;try{return t(e)}finally{Dt=n,Dt===0&&(hd=Ln()+500,jv&&Tl())}}function hc(t){Wa!==null&&Wa.tag===0&&!(Dt&6)&&Qu();var e=Dt;Dt|=1;var n=mo.transition,r=qt;try{if(mo.transition=null,qt=1,t)return t()}finally{qt=r,mo.transition=n,Dt=e,!(Dt&6)&&Tl()}}function MS(){Li=zu.current,gn(zu)}function ic(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,CU(n)),Gn!==null)for(n=Gn.return;n!==null;){var r=n;switch(pS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yy();break;case 3:dd(),gn(_i),gn(Wr),ES();break;case 5:xS(r);break;case 4:dd();break;case 13:gn(Cn);break;case 19:gn(Cn);break;case 10:vS(r.type._context);break;case 22:case 23:MS()}n=n.return}if(dr=t,Gn=t=Za(t.current,null),Sr=Li=e,er=0,Jh=null,AS=Gv=fc=0,hi=gh=null,Xl!==null){for(e=0;e<Xl.length;e++)if(n=Xl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Xl=null}return t}function nD(t,e){do{var n=Gn;try{if(yS(),Mm.current=Ty,Cy){for(var r=Tn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cy=!1}if(dc=0,lr=Qn=Tn=null,hh=!1,Yh=0,kS.current=null,n===null||n.return===null){er=1,Jh=e,Gn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Sr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=rR(s);if(p!==null){p.flags&=-257,iR(p,s,a,o,e),p.mode&1&&nR(o,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var x=new Set;x.add(l),e.updateQueue=x}else g.add(l);break e}else{if(!(e&1)){nR(o,c,e),DS();break e}l=Error(se(426))}}else if(wn&&a.mode&1){var S=rR(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),iR(S,s,a,o,e),gS(fd(l,a));break e}}o=l=fd(l,a),er!==4&&(er=2),gh===null?gh=[o]:gh.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=BM(o,l,e);YI(o,y);break e;case 1:a=l;var b=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Qa===null||!Qa.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=VM(o,a,e);YI(o,C);break e}}o=o.return}while(o!==null)}oD(n)}catch(O){e=O,Gn===n&&n!==null&&(Gn=n=n.return);continue}break}while(!0)}function rD(){var t=Iy.current;return Iy.current=Ty,t===null?Ty:t}function DS(){(er===0||er===3||er===2)&&(er=4),dr===null||!(fc&268435455)&&!(Gv&268435455)||Da(dr,Sr)}function ky(t,e){var n=Dt;Dt|=2;var r=rD();(dr!==t||Sr!==e)&&(Vs=null,ic(t,e));do try{XU();break}catch(i){nD(t,i)}while(!0);if(yS(),Dt=n,Iy.current=r,Gn!==null)throw Error(se(261));return dr=null,Sr=0,er}function XU(){for(;Gn!==null;)iD(Gn)}function QU(){for(;Gn!==null&&!xV();)iD(Gn)}function iD(t){var e=aD(t.alternate,t,Li);t.memoizedProps=t.pendingProps,e===null?oD(t):Gn=e,kS.current=null}function oD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WU(n,e),n!==null){n.flags&=32767,Gn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{er=6,Gn=null;return}}else if(n=zU(n,e,Li),n!==null){Gn=n;return}if(e=e.sibling,e!==null){Gn=e;return}Gn=e=t}while(e!==null);er===0&&(er=5)}function zl(t,e,n){var r=qt,i=mo.transition;try{mo.transition=null,qt=1,JU(t,e,n,r)}finally{mo.transition=i,qt=r}return null}function JU(t,e,n,r){do Qu();while(Wa!==null);if(Dt&6)throw Error(se(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(se(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(OV(t,o),t===dr&&(Gn=dr=null,Sr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Kg||(Kg=!0,lD(dy,function(){return Qu(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=mo.transition,mo.transition=null;var s=qt;qt=1;var a=Dt;Dt|=4,kS.current=null,GU(t,n),ZM(n,t),vU(qw),hy=!!Gw,qw=Gw=null,t.current=n,qU(n),EV(),Dt=a,qt=s,mo.transition=o}else t.current=n;if(Kg&&(Kg=!1,Wa=t,Py=i),o=t.pendingLanes,o===0&&(Qa=null),TV(n.stateNode),wi(t,Ln()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ry)throw Ry=!1,t=hx,hx=null,t;return Py&1&&t.tag!==0&&Qu(),o=t.pendingLanes,o&1?t===px?mh++:(mh=0,px=t):mh=0,Tl(),null}function Qu(){if(Wa!==null){var t=FN(Py),e=mo.transition,n=qt;try{if(mo.transition=null,qt=16>t?16:t,Wa===null)var r=!1;else{if(t=Wa,Wa=null,Py=0,Dt&6)throw Error(se(331));var i=Dt;for(Dt|=4,Re=t.current;Re!==null;){var o=Re,s=o.child;if(Re.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Re=c;Re!==null;){var u=Re;switch(u.tag){case 0:case 11:case 15:ph(8,u,o)}var f=u.child;if(f!==null)f.return=u,Re=f;else for(;Re!==null;){u=Re;var h=u.sibling,p=u.return;if(XM(u),u===c){Re=null;break}if(h!==null){h.return=p,Re=h;break}Re=p}}}var g=o.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}Re=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Re=s;else e:for(;Re!==null;){if(o=Re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ph(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Re=y;break e}Re=o.return}}var b=t.current;for(Re=b;Re!==null;){s=Re;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,Re=_;else e:for(s=b;Re!==null;){if(a=Re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hv(9,a)}}catch(O){An(a,a.return,O)}if(a===s){Re=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Re=C;break e}Re=a.return}}if(Dt=i,Tl(),hs&&typeof hs.onPostCommitFiberRoot=="function")try{hs.onPostCommitFiberRoot(Lv,t)}catch{}r=!0}return r}finally{qt=n,mo.transition=e}}return!1}function yR(t,e,n){e=fd(n,e),e=BM(t,e,1),t=Xa(t,e,1),e=ti(),t!==null&&(Rp(t,1,e),wi(t,e))}function An(t,e,n){if(t.tag===3)yR(t,t,n);else for(;e!==null;){if(e.tag===3){yR(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qa===null||!Qa.has(r))){t=fd(n,t),t=VM(e,t,1),e=Xa(e,t,1),t=ti(),e!==null&&(Rp(e,1,t),wi(e,t));break}}e=e.return}}function ZU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ti(),t.pingedLanes|=t.suspendedLanes&n,dr===t&&(Sr&n)===n&&(er===4||er===3&&(Sr&130023424)===Sr&&500>Ln()-OS?ic(t,0):AS|=n),wi(t,e)}function sD(t,e){e===0&&(t.mode&1?(e=Fg,Fg<<=1,!(Fg&130023424)&&(Fg=4194304)):e=1);var n=ti();t=ta(t,e),t!==null&&(Rp(t,e,n),wi(t,n))}function ej(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sD(t,n)}function tj(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(se(314))}r!==null&&r.delete(e),sD(t,n)}var aD;aD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_i.current)gi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gi=!1,jU(t,e,n);gi=!!(t.flags&131072)}else gi=!1,wn&&e.flags&1048576&&uM(e,by,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$m(t,e),t=e.pendingProps;var i=ld(e,Wr.current);Xu(e,n),i=CS(null,e,r,t,i,n);var o=TS();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bi(r)?(o=!0,vy(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bS(e),i.updater=zv,e.stateNode=i,i._reactInternals=e,nx(e,r,t,n),e=ox(null,e,r,!0,o,n)):(e.tag=0,wn&&o&&hS(e),Jr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch($m(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=rj(r),t=Lo(r,t),i){case 0:e=ix(null,e,r,t,n);break e;case 1:e=aR(null,e,r,t,n);break e;case 11:e=oR(null,e,r,t,n);break e;case 14:e=sR(null,e,r,Lo(r.type,t),n);break e}throw Error(se(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lo(r,i),ix(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lo(r,i),aR(t,e,r,i,n);case 3:e:{if(WM(e),t===null)throw Error(se(387));r=e.pendingProps,o=e.memoizedState,i=o.element,pM(t,e),Ey(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=fd(Error(se(423)),e),e=lR(t,e,r,n,i);break e}else if(r!==i){i=fd(Error(se(424)),e),e=lR(t,e,r,n,i);break e}else for(ji=Ya(e.stateNode.containerInfo.firstChild),qi=e,wn=!0,Bo=null,n=vM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cd(),r===i){e=na(t,e,n);break e}Jr(t,e,r,n)}e=e.child}return e;case 5:return _M(e),t===null&&Zw(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Kw(r,i)?s=null:o!==null&&Kw(r,o)&&(e.flags|=32),zM(t,e),Jr(t,e,s,n),e.child;case 6:return t===null&&Zw(e),null;case 13:return HM(t,e,n);case 4:return wS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ud(e,null,r,n):Jr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lo(r,i),oR(t,e,r,i,n);case 7:return Jr(t,e,e.pendingProps,n),e.child;case 8:return Jr(t,e,e.pendingProps.children,n),e.child;case 12:return Jr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ln(wy,r._currentValue),r._currentValue=s,o!==null)if(Yo(o.value,s)){if(o.children===i.children&&!_i.current){e=na(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ys(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ex(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(se(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),ex(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Jr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xu(e,n),i=_o(i),r=r(i),e.flags|=1,Jr(t,e,r,n),e.child;case 14:return r=e.type,i=Lo(r,e.pendingProps),i=Lo(r.type,i),sR(t,e,r,i,n);case 15:return UM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lo(r,i),$m(t,e),e.tag=1,bi(r)?(t=!0,vy(e)):t=!1,Xu(e,n),mM(e,r,i),nx(e,r,i,n),ox(null,e,r,!0,t,n);case 19:return GM(t,e,n);case 22:return jM(t,e,n)}throw Error(se(156,e.tag))};function lD(t,e){return MN(t,e)}function nj(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function go(t,e,n,r){return new nj(t,e,n,r)}function $S(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rj(t){if(typeof t=="function")return $S(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tS)return 11;if(t===nS)return 14}return 2}function Za(t,e){var n=t.alternate;return n===null?(n=go(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bm(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")$S(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Nu:return oc(n.children,i,o,e);case eS:s=8,i|=8;break;case Tw:return t=go(12,n,e,i|2),t.elementType=Tw,t.lanes=o,t;case Iw:return t=go(13,n,e,i),t.elementType=Iw,t.lanes=o,t;case Rw:return t=go(19,n,e,i),t.elementType=Rw,t.lanes=o,t;case yN:return qv(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gN:s=10;break e;case mN:s=9;break e;case tS:s=11;break e;case nS:s=14;break e;case Aa:s=16,r=null;break e}throw Error(se(130,t==null?t:typeof t,""))}return e=go(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function oc(t,e,n,r){return t=go(7,t,r,e),t.lanes=n,t}function qv(t,e,n,r){return t=go(22,t,r,e),t.elementType=yN,t.lanes=n,t.stateNode={isHidden:!1},t}function Rb(t,e,n){return t=go(6,t,null,e),t.lanes=n,t}function Pb(t,e,n){return e=go(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ij(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cb(0),this.expirationTimes=cb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function LS(t,e,n,r,i,o,s,a,l){return t=new ij(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=go(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bS(o),t}function oj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ou,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cD(t){if(!t)return cl;t=t._reactInternals;e:{if(Ic(t)!==t||t.tag!==1)throw Error(se(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(se(171))}if(t.tag===1){var n=t.type;if(bi(n))return lM(t,n,e)}return e}function uD(t,e,n,r,i,o,s,a,l){return t=LS(n,r,!0,t,i,o,s,a,l),t.context=cD(null),n=t.current,r=ti(),i=Ja(n),o=Ys(r,i),o.callback=e??null,Xa(n,o,i),t.current.lanes=i,Rp(t,i,r),wi(t,r),t}function Kv(t,e,n,r){var i=e.current,o=ti(),s=Ja(i);return n=cD(n),e.context===null?e.context=n:e.pendingContext=n,e=Ys(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xa(i,e,s),t!==null&&(Go(t,i,s,o),Nm(t,i,s)),s}function Ay(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function FS(t,e){vR(t,e),(t=t.alternate)&&vR(t,e)}function sj(){return null}var dD=typeof reportError=="function"?reportError:function(t){console.error(t)};function BS(t){this._internalRoot=t}Yv.prototype.render=BS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(se(409));Kv(t,e,null,null)};Yv.prototype.unmount=BS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hc(function(){Kv(null,t,null,null)}),e[ea]=null}};function Yv(t){this._internalRoot=t}Yv.prototype.unstable_scheduleHydration=function(t){if(t){var e=UN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ma.length&&e!==0&&e<Ma[n].priority;n++);Ma.splice(n,0,t),n===0&&zN(t)}};function VS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _R(){}function aj(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Ay(s);o.call(c)}}var s=uD(e,r,t,0,null,!1,!1,"",_R);return t._reactRootContainer=s,t[ea]=s.current,Wh(t.nodeType===8?t.parentNode:t),hc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ay(l);a.call(c)}}var l=LS(t,0,!1,null,null,!1,!1,"",_R);return t._reactRootContainer=l,t[ea]=l.current,Wh(t.nodeType===8?t.parentNode:t),hc(function(){Kv(e,l,n,r)}),l}function Qv(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Ay(s);a.call(l)}}Kv(e,s,t,i)}else s=aj(n,e,t,i,r);return Ay(s)}BN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Kf(e.pendingLanes);n!==0&&(oS(e,n|1),wi(e,Ln()),!(Dt&6)&&(hd=Ln()+500,Tl()))}break;case 13:hc(function(){var r=ta(t,1);if(r!==null){var i=ti();Go(r,t,1,i)}}),FS(t,1)}};sS=function(t){if(t.tag===13){var e=ta(t,134217728);if(e!==null){var n=ti();Go(e,t,134217728,n)}FS(t,134217728)}};VN=function(t){if(t.tag===13){var e=Ja(t),n=ta(t,e);if(n!==null){var r=ti();Go(n,t,e,r)}FS(t,e)}};UN=function(){return qt};jN=function(t,e){var n=qt;try{return qt=t,e()}finally{qt=n}};Fw=function(t,e,n){switch(e){case"input":if(Aw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Uv(r);if(!i)throw Error(se(90));_N(r),Aw(r,i)}}}break;case"textarea":wN(t,n);break;case"select":e=n.value,e!=null&&Gu(t,!!n.multiple,e,!1)}};RN=NS;PN=hc;var lj={usingClientEntryPoint:!1,Events:[kp,Lu,Uv,TN,IN,NS]},Rf={findFiberByHostInstance:Yl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cj={bundleType:Rf.bundleType,version:Rf.version,rendererPackageName:Rf.rendererPackageName,rendererConfig:Rf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ON(t),t===null?null:t.stateNode},findFiberByHostInstance:Rf.findFiberByHostInstance||sj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yg.isDisabled&&Yg.supportsFiber)try{Lv=Yg.inject(cj),hs=Yg}catch{}}eo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lj;eo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!VS(e))throw Error(se(200));return oj(t,e,null,n)};eo.createRoot=function(t,e){if(!VS(t))throw Error(se(299));var n=!1,r="",i=dD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=LS(t,1,!1,null,null,n,!1,r,i),t[ea]=e.current,Wh(t.nodeType===8?t.parentNode:t),new BS(e)};eo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(se(188)):(t=Object.keys(t).join(","),Error(se(268,t)));return t=ON(e),t=t===null?null:t.stateNode,t};eo.flushSync=function(t){return hc(t)};eo.hydrate=function(t,e,n){if(!Xv(e))throw Error(se(200));return Qv(null,t,e,!0,n)};eo.hydrateRoot=function(t,e,n){if(!VS(t))throw Error(se(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=dD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=uD(e,null,t,1,n??null,i,!1,o,s),t[ea]=e.current,Wh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Yv(e)};eo.render=function(t,e,n){if(!Xv(e))throw Error(se(200));return Qv(null,t,e,!1,n)};eo.unmountComponentAtNode=function(t){if(!Xv(t))throw Error(se(40));return t._reactRootContainer?(hc(function(){Qv(null,null,t,!1,function(){t._reactRootContainer=null,t[ea]=null})}),!0):!1};eo.unstable_batchedUpdates=NS;eo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xv(n))throw Error(se(200));if(t==null||t._reactInternals===void 0)throw Error(se(38));return Qv(t,e,n,!1,r)};eo.version="18.2.0-next-9e3b772b8-20220608";function fD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fD)}catch(t){console.error(t)}}fD(),uN.exports=eo;var Op=uN.exports;const Xg=Tp(Op);var bR=Op;Sw.createRoot=bR.createRoot,Sw.hydrateRoot=bR.hydrateRoot;var US={};Object.defineProperty(US,"__esModule",{value:!0});US.parse=mj;US.serialize=yj;const uj=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,dj=/^[\u0021-\u003A\u003C-\u007E]*$/,fj=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,hj=/^[\u0020-\u003A\u003D-\u007E]*$/,pj=Object.prototype.toString,gj=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function mj(t,e){const n=new gj,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||vj;let o=0;do{const s=t.indexOf("=",o);if(s===-1)break;const a=t.indexOf(";",o),l=a===-1?r:a;if(s>l){o=t.lastIndexOf(";",s-1)+1;continue}const c=wR(t,o,s),u=xR(t,s,c),f=t.slice(c,u);if(n[f]===void 0){let h=wR(t,s+1,l),p=xR(t,l,h);const g=i(t.slice(h,p));n[f]=g}o=l+1}while(o<r);return n}function wR(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function xR(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function yj(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!uj.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!dj.test(i))throw new TypeError(`argument val is invalid: ${e}`);let o=t+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!fj.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!hj.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!_j(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function vj(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function _j(t){return pj.call(t)==="[object Date]"}/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ER="popstate";function bj(t={}){function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return yx("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Zh(i)}return xj(e,n,null,t)}function In(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ws(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wj(){return Math.random().toString(36).substring(2,10)}function SR(t,e){return{usr:t.state,key:t.key,idx:e}}function yx(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Fd(e):e,state:n,key:e&&e.key||r||wj()}}function Zh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Fd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function xj(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,c=u();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function u(){return(s.state||{idx:null}).idx}function f(){a="POP";let S=u(),y=S==null?null:S-c;c=S,l&&l({action:a,location:x.location,delta:y})}function h(S,y){a="PUSH";let b=yx(x.location,S,y);c=u()+1;let _=SR(b,c),C=x.createHref(b);try{s.pushState(_,"",C)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(C)}o&&l&&l({action:a,location:x.location,delta:1})}function p(S,y){a="REPLACE";let b=yx(x.location,S,y);c=u();let _=SR(b,c),C=x.createHref(b);s.replaceState(_,"",C),o&&l&&l({action:a,location:x.location,delta:0})}function g(S){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof S=="string"?S:Zh(S);return b=b.replace(/ $/,"%20"),In(y,`No window.location.(origin|href) available to create URL for href: ${b}`),new URL(b,y)}let x={get action(){return a},get location(){return t(i,s)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ER,f),l=S,()=>{i.removeEventListener(ER,f),l=null}},createHref(S){return e(i,S)},createURL:g,encodeLocation(S){let y=g(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(S){return s.go(S)}};return x}function hD(t,e,n="/"){return Ej(t,e,n,!1)}function Ej(t,e,n,r){let i=typeof e=="string"?Fd(e):e,o=ra(i.pathname||"/",n);if(o==null)return null;let s=pD(t);Sj(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=Dj(o);a=Nj(s[l],c,r)}return a}function pD(t,e=[],n=[],r=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(In(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=Xs([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(In(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),pD(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:Aj(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of gD(o.path))i(o,s,l)}),e}function gD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=gD(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Sj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Oj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Cj=/^:[\w-]+$/,Tj=3,Ij=2,Rj=1,Pj=10,kj=-2,CR=t=>t==="*";function Aj(t,e){let n=t.split("/"),r=n.length;return n.some(CR)&&(r+=kj),e&&(r+=Ij),n.filter(i=>!CR(i)).reduce((i,o)=>i+(Cj.test(o)?Tj:o===""?Rj:Pj),r)}function Oj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Nj(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",f=Oy({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Oy({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Xs([o,f.pathname]),pathnameBase:Bj(Xs([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Xs([o,f.pathnameBase]))}return s}function Oy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Mj(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:f},h)=>{if(u==="*"){let g=a[h]||"";s=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[h];return f&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function Mj(t,e=!1,n=!0){ws(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Dj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ws(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ra(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $j(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Fd(t):t;return{pathname:n?n.startsWith("/")?n:Lj(n,e):e,search:Vj(r),hash:Uj(i)}}function Lj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function kb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mD(t){let e=Fj(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function yD(t,e,n,r=!1){let i;typeof t=="string"?i=Fd(t):(i={...t},In(!i.pathname||!i.pathname.includes("?"),kb("?","pathname","search",i)),In(!i.pathname||!i.pathname.includes("#"),kb("#","pathname","hash",i)),In(!i.search||!i.search.includes("#"),kb("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=$j(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Xs=t=>t.join("/").replace(/\/\/+/g,"/"),Bj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Vj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Uj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var vD=["POST","PUT","PATCH","DELETE"];new Set(vD);var zj=["GET",...vD];new Set(zj);var Bd=w.createContext(null);Bd.displayName="DataRouter";var Jv=w.createContext(null);Jv.displayName="DataRouterState";var _D=w.createContext({isTransitioning:!1});_D.displayName="ViewTransition";var Wj=w.createContext(new Map);Wj.displayName="Fetchers";var Hj=w.createContext(null);Hj.displayName="Await";var Cs=w.createContext(null);Cs.displayName="Navigation";var Np=w.createContext(null);Np.displayName="Location";var Ts=w.createContext({outlet:null,matches:[],isDataRoute:!1});Ts.displayName="Route";var jS=w.createContext(null);jS.displayName="RouteError";function Gj(t,{relative:e}={}){In(Mp(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(Cs),{hash:i,pathname:o,search:s}=Dp(t,{relative:e}),a=o;return n!=="/"&&(a=o==="/"?n:Xs([n,o])),r.createHref({pathname:a,search:s,hash:i})}function Mp(){return w.useContext(Np)!=null}function Rc(){return In(Mp(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Np).location}var bD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wD(t){w.useContext(Cs).static||w.useLayoutEffect(t)}function Zv(){let{isDataRoute:t}=w.useContext(Ts);return t?s6():qj()}function qj(){In(Mp(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Bd),{basename:e,navigator:n}=w.useContext(Cs),{matches:r}=w.useContext(Ts),{pathname:i}=Rc(),o=JSON.stringify(mD(r)),s=w.useRef(!1);return wD(()=>{s.current=!0}),w.useCallback((l,c={})=>{if(ws(s.current,bD),!s.current)return;if(typeof l=="number"){n.go(l);return}let u=yD(l,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Xs([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,o,i,t])}w.createContext(null);function Kj(){let{matches:t}=w.useContext(Ts),e=t[t.length-1];return e?e.params:{}}function Dp(t,{relative:e}={}){let{matches:n}=w.useContext(Ts),{pathname:r}=Rc(),i=JSON.stringify(mD(n));return w.useMemo(()=>yD(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Yj(t,e){return xD(t,e)}function xD(t,e,n,r){var b;In(Mp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=w.useContext(Cs),{matches:s}=w.useContext(Ts),a=s[s.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",f=a&&a.route;{let _=f&&f.path||"";ED(c,!f||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let h=Rc(),p;if(e){let _=typeof e=="string"?Fd(e):e;In(u==="/"||((b=_.pathname)==null?void 0:b.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${_.pathname}" was given in the \`location\` prop.`),p=_}else p=h;let g=p.pathname||"/",x=g;if(u!=="/"){let _=u.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let S=!o&&n&&n.matches&&n.matches.length>0?n.matches:hD(t,{pathname:x});ws(f||S!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),ws(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=e6(S&&S.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Xs([u,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:Xs([u,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&y?w.createElement(Np.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},y):y}function Xj(){let t=o6(),e=jj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:o},"ErrorBoundary")," or"," ",w.createElement("code",{style:o},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,s)}var Qj=w.createElement(Xj,null),Jj=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?w.createElement(Ts.Provider,{value:this.props.routeContext},w.createElement(jS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Zj({routeContext:t,match:e,children:n}){let r=w.useContext(Bd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Ts.Provider,{value:t},n)}function e6(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let l=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);In(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:f}=n,h=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||h){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let f,h=!1,p=null,g=null;n&&(f=o&&c.route.id?o[c.route.id]:void 0,p=c.route.errorElement||Qj,s&&(a<0&&u===0?(ED("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,g=null):a===u&&(h=!0,g=c.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,u+1)),S=()=>{let y;return f?y=p:h?y=g:c.route.Component?y=w.createElement(c.route.Component,null):c.route.element?y=c.route.element:y=l,w.createElement(Zj,{match:c,routeContext:{outlet:l,matches:x,isDataRoute:n!=null},children:y})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?w.createElement(Jj,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:S(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):S()},null)}function zS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t6(t){let e=w.useContext(Bd);return In(e,zS(t)),e}function n6(t){let e=w.useContext(Jv);return In(e,zS(t)),e}function r6(t){let e=w.useContext(Ts);return In(e,zS(t)),e}function WS(t){let e=r6(t),n=e.matches[e.matches.length-1];return In(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function i6(){return WS("useRouteId")}function o6(){var r;let t=w.useContext(jS),e=n6("useRouteError"),n=WS("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function s6(){let{router:t}=t6("useNavigate"),e=WS("useNavigate"),n=w.useRef(!1);return wD(()=>{n.current=!0}),w.useCallback(async(i,o={})=>{ws(n.current,bD),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var TR={};function ED(t,e,n){!e&&!TR[t]&&(TR[t]=!0,ws(!1,n))}w.memo(a6);function a6({routes:t,future:e,state:n}){return xD(t,void 0,n,e)}function Vm(t){In(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function l6({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){In(!Mp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),a=w.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=Fd(n));let{pathname:l="/",search:c="",hash:u="",state:f=null,key:h="default"}=n,p=w.useMemo(()=>{let g=ra(l,s);return g==null?null:{location:{pathname:g,search:c,hash:u,state:f,key:h},navigationType:r}},[s,l,c,u,f,h,r]);return ws(p!=null,`<Router basename="${s}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:w.createElement(Cs.Provider,{value:a},w.createElement(Np.Provider,{children:e,value:p}))}function c6({children:t,location:e}){return Yj(vx(t),e)}function vx(t,e=[]){let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let o=[...e,i];if(r.type===w.Fragment){n.push.apply(n,vx(r.props.children,o));return}In(r.type===Vm,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),In(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=vx(r.props.children,o)),n.push(s)}),n}var Um="get",jm="application/x-www-form-urlencoded";function e0(t){return t!=null&&typeof t.tagName=="string"}function u6(t){return e0(t)&&t.tagName.toLowerCase()==="button"}function d6(t){return e0(t)&&t.tagName.toLowerCase()==="form"}function f6(t){return e0(t)&&t.tagName.toLowerCase()==="input"}function h6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function p6(t,e){return t.button===0&&(!e||e==="_self")&&!h6(t)}var Qg=null;function g6(){if(Qg===null)try{new FormData(document.createElement("form"),0),Qg=!1}catch{Qg=!0}return Qg}var m6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ab(t){return t!=null&&!m6.has(t)?(ws(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jm}"`),null):t}function y6(t,e){let n,r,i,o,s;if(d6(t)){let a=t.getAttribute("action");r=a?ra(a,e):null,n=t.getAttribute("method")||Um,i=Ab(t.getAttribute("enctype"))||jm,o=new FormData(t)}else if(u6(t)||f6(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?ra(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Um,i=Ab(t.getAttribute("formenctype"))||Ab(a.getAttribute("enctype"))||jm,o=new FormData(a,t),!g6()){let{name:c,type:u,value:f}=t;if(u==="image"){let h=c?`${c}.`:"";o.append(`${h}x`,"0"),o.append(`${h}y`,"0")}else c&&o.append(c,f)}}else{if(e0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Um,r=null,i=jm,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function HS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function v6(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _6(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function b6(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await v6(o,n);return s.links?s.links():[]}return[]}));return S6(r.flat(1).filter(_6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function IR(t,e,n,r,i,o){let s=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return o==="assets"?e.filter((l,c)=>s(l,c)||a(l,c)):o==="data"?e.filter((l,c)=>{var f;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(s(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function w6(t,e,{includeHydrateFallback:n}={}){return x6(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function x6(t){return[...new Set(t)]}function E6(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function S6(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(E6(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function C6(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ra(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function SD(){let t=w.useContext(Bd);return HS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function T6(){let t=w.useContext(Jv);return HS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var GS=w.createContext(void 0);GS.displayName="FrameworkContext";function CD(){let t=w.useContext(GS);return HS(t,"You must render this element inside a <HydratedRouter> element"),t}function I6(t,e){let n=w.useContext(GS),[r,i]=w.useState(!1),[o,s]=w.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=e,h=w.useRef(null);w.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let x=y=>{y.forEach(b=>{s(b.isIntersecting)})},S=new IntersectionObserver(x,{threshold:.5});return h.current&&S.observe(h.current),()=>{S.disconnect()}}},[t]),w.useEffect(()=>{if(r){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[r]);let p=()=>{i(!0)},g=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,h,{}]:[o,h,{onFocus:Pf(a,p),onBlur:Pf(l,g),onMouseEnter:Pf(c,p),onMouseLeave:Pf(u,g),onTouchStart:Pf(f,p)}]:[!1,h,{}]}function Pf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function R6({page:t,...e}){let{router:n}=SD(),r=w.useMemo(()=>hD(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(k6,{page:t,matches:r,...e}):null}function P6(t){let{manifest:e,routeModules:n}=CD(),[r,i]=w.useState([]);return w.useEffect(()=>{let o=!1;return b6(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function k6({page:t,matches:e,...n}){let r=Rc(),{manifest:i,routeModules:o}=CD(),{basename:s}=SD(),{loaderData:a,matches:l}=T6(),c=w.useMemo(()=>IR(t,e,l,i,r,"data"),[t,e,l,i,r]),u=w.useMemo(()=>IR(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let g=new Set,x=!1;if(e.forEach(y=>{var _;let b=i.routes[y.route.id];!b||!b.hasLoader||(!c.some(C=>C.route.id===y.route.id)&&y.route.id in a&&((_=o[y.route.id])!=null&&_.shouldRevalidate)||b.hasClientLoader?x=!0:g.add(y.route.id))}),g.size===0)return[];let S=C6(t,s);return x&&g.size>0&&S.searchParams.set("_routes",e.filter(y=>g.has(y.route.id)).map(y=>y.route.id).join(",")),[S.pathname+S.search]},[s,a,r,i,c,e,t,o]),h=w.useMemo(()=>w6(u,i),[u,i]),p=P6(u);return w.createElement(w.Fragment,null,f.map(g=>w.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),h.map(g=>w.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),p.map(({key:g,link:x})=>w.createElement("link",{key:g,...x})))}function A6(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var TD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{TD&&(window.__reactRouterVersion="7.4.1")}catch{}function O6({basename:t,children:e,window:n}){let r=w.useRef();r.current==null&&(r.current=bj({window:n,v5Compat:!0}));let i=r.current,[o,s]=w.useState({action:i.action,location:i.location}),a=w.useCallback(l=>{w.startTransition(()=>s(l))},[s]);return w.useLayoutEffect(()=>i.listen(a),[i,a]),w.createElement(l6,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var ID=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RD=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f,...h},p){let{basename:g}=w.useContext(Cs),x=typeof c=="string"&&ID.test(c),S,y=!1;if(typeof c=="string"&&x&&(S=c,TD))try{let R=new URL(window.location.href),v=c.startsWith("//")?new URL(R.protocol+c):new URL(c),k=ra(v.pathname,g);v.origin===R.origin&&k!=null?c=k+v.search+v.hash:y=!0}catch{ws(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=Gj(c,{relative:i}),[_,C,O]=I6(r,h),N=$6(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:f});function E(R){e&&e(R),R.defaultPrevented||N(R)}let I=w.createElement("a",{...h,...O,href:S||b,onClick:y||o?e:E,ref:A6(p,C),target:l,"data-discover":!x&&n==="render"?"true":void 0});return _&&!x?w.createElement(w.Fragment,null,I,w.createElement(R6,{page:b})):I});RD.displayName="Link";var N6=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...c},u){let f=Dp(s,{relative:c.relative}),h=Rc(),p=w.useContext(Jv),{navigator:g,basename:x}=w.useContext(Cs),S=p!=null&&U6(f)&&a===!0,y=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=h.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(b=b.toLowerCase(),_=_?_.toLowerCase():null,y=y.toLowerCase()),_&&x&&(_=ra(_,x)||_);const C=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let O=b===y||!i&&b.startsWith(y)&&b.charAt(C)==="/",N=_!=null&&(_===y||!i&&_.startsWith(y)&&_.charAt(y.length)==="/"),E={isActive:O,isPending:N,isTransitioning:S},I=O?e:void 0,R;typeof r=="function"?R=r(E):R=[r,O?"active":null,N?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let v=typeof o=="function"?o(E):o;return w.createElement(RD,{...c,"aria-current":I,className:R,ref:u,style:v,to:s,viewTransition:a},typeof l=="function"?l(E):l)});N6.displayName="NavLink";var M6=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=Um,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:f,...h},p)=>{let g=B6(),x=V6(a,{relative:c}),S=s.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&ID.test(a),b=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let C=_.nativeEvent.submitter,O=(C==null?void 0:C.getAttribute("formmethod"))||s;g(C||_.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:o,relative:c,preventScrollReset:u,viewTransition:f})};return w.createElement("form",{ref:p,method:S,action:x,onSubmit:r?l:b,...h,"data-discover":!y&&t==="render"?"true":void 0})});M6.displayName="Form";function D6(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PD(t){let e=w.useContext(Bd);return In(e,D6(t)),e}function $6(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=Zv(),l=Rc(),c=Dp(t,{relative:o});return w.useCallback(u=>{if(p6(u,e)){u.preventDefault();let f=n!==void 0?n:Zh(l)===Zh(c);a(t,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,c,n,r,e,t,i,o,s])}var L6=0,F6=()=>`__${String(++L6)}__`;function B6(){let{router:t}=PD("useSubmit"),{basename:e}=w.useContext(Cs),n=i6();return w.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:c}=y6(r,e);if(i.navigate===!1){let u=i.fetcherKey||F6();await t.fetch(u,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function V6(t,{relative:e}={}){let{basename:n}=w.useContext(Cs),r=w.useContext(Ts);In(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Dp(t||".",{relative:e})},s=Rc();if(t==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let u=a.toString();o.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Xs([n,o.pathname])),Zh(o)}function U6(t,e={}){let n=w.useContext(_D);In(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=PD("useViewTransitionState"),i=Dp(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=ra(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=ra(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Oy(i.pathname,s)!=null||Oy(i.pathname,o)!=null}new TextEncoder;const j6=()=>{};var RR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de=function(t,e){if(!t)throw Vd(e)},Vd=function(t){return new Error("Firebase Database ("+kD.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},z6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},qS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):z6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new W6;const h=o<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),f!==64){const g=c<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class W6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OD=function(t){const e=AD(t);return qS.encodeByteArray(e,!0)},Ny=function(t){return OD(t).replace(/\./g,"")},My=function(t){try{return qS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t){return ND(void 0,t)}function ND(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!G6(n)||(t[n]=ND(t[n],e[n]));return t}function G6(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=()=>q6().__FIREBASE_DEFAULTS__,Y6=()=>{if(typeof process>"u"||typeof RR>"u")return;const t=RR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},X6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&My(t[1]);return e&&JSON.parse(e)},t0=()=>{try{return j6()||K6()||Y6()||X6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},MD=t=>{var e,n;return(n=(e=t0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},KS=t=>{const e=MD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},DD=()=>{var t;return(t=t0())===null||t===void 0?void 0:t.config},$D=t=>{var e;return(e=t0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ny(JSON.stringify(n)),Ny(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hr())}function Q6(){var t;const e=(t=t0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function LD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function e9(){const t=Hr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function t9(){return kD.NODE_ADMIN===!0}function n9(){return!Q6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function r9(){try{return typeof indexedDB=="object"}catch{return!1}}function i9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9="FirebaseError";class Is extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=o9,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$p.prototype.create)}}class $p{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?s9(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Is(i,a,r)}}function s9(t,e){return t.replace(a9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const a9=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(t){return JSON.parse(t)}function Jn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=ep(My(o[0])||""),n=ep(My(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},l9=function(t){const e=FD(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},c9=function(t){const e=FD(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function pd(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function _x(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Dy(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ia(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(PR(o)&&PR(s)){if(!ia(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function PR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Qf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let f=0;f<80;f++){f<40?f<20?(c=a^o&(s^a),u=1518500249):(c=o^s^a,u=1859775393):f<60?(c=o&s|a&(o|s),u=2400959708):(c=o^s^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[f]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function d9(t,e){const n=new f9(t,e);return n.subscribe.bind(n)}class f9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");h9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ob),i.error===void 0&&(i.error=Ob),i.complete===void 0&&(i.complete=Ob);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function h9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ob(){}function QS(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,de(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},r0=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t){return t&&t._delegate?t._delegate:t}class oa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new n0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(y9(e))try{this.getOrInitializeService({instanceIdentifier:Wl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Wl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wl){return this.instances.has(e)}getOptions(e=Wl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:m9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wl){return this.component?this.component.multipleInstances?e:Wl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m9(t){return t===Wl?void 0:t}function y9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new g9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(wt||(wt={}));const _9={debug:wt.DEBUG,verbose:wt.VERBOSE,info:wt.INFO,warn:wt.WARN,error:wt.ERROR,silent:wt.SILENT},b9=wt.INFO,w9={[wt.DEBUG]:"log",[wt.VERBOSE]:"log",[wt.INFO]:"info",[wt.WARN]:"warn",[wt.ERROR]:"error"},x9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=w9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class i0{constructor(e){this.name=e,this._logLevel=b9,this._logHandler=x9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wt.DEBUG,...e),this._logHandler(this,wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wt.VERBOSE,...e),this._logHandler(this,wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wt.INFO,...e),this._logHandler(this,wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wt.WARN,...e),this._logHandler(this,wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wt.ERROR,...e),this._logHandler(this,wt.ERROR,...e)}}const E9=(t,e)=>e.some(n=>t instanceof n);let kR,AR;function S9(){return kR||(kR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function C9(){return AR||(AR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BD=new WeakMap,bx=new WeakMap,VD=new WeakMap,Nb=new WeakMap,JS=new WeakMap;function T9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(el(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&BD.set(n,t)}).catch(()=>{}),JS.set(e,t),e}function I9(t){if(bx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});bx.set(t,e)}let wx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return el(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function R9(t){wx=t(wx)}function P9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mb(this),e,...n);return VD.set(r,e.sort?e.sort():[e]),el(r)}:C9().includes(t)?function(...e){return t.apply(Mb(this),e),el(BD.get(this))}:function(...e){return el(t.apply(Mb(this),e))}}function k9(t){return typeof t=="function"?P9(t):(t instanceof IDBTransaction&&I9(t),E9(t,S9())?new Proxy(t,wx):t)}function el(t){if(t instanceof IDBRequest)return T9(t);if(Nb.has(t))return Nb.get(t);const e=k9(t);return e!==t&&(Nb.set(t,e),JS.set(e,t)),e}const Mb=t=>JS.get(t);function A9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=el(s);return r&&s.addEventListener("upgradeneeded",l=>{r(el(s.result),l.oldVersion,l.newVersion,el(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const O9=["get","getKey","getAll","getAllKeys","count"],N9=["put","add","delete","clear"],Db=new Map;function OR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Db.get(e))return Db.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=N9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||O9.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Db.set(e,o),o}R9(t=>({...t,get:(e,n,r)=>OR(e,n)||t.get(e,n,r),has:(e,n)=>!!OR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(D9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function D9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xx="@firebase/app",NR="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new i0("@firebase/app"),$9="@firebase/app-compat",L9="@firebase/analytics-compat",F9="@firebase/analytics",B9="@firebase/app-check-compat",V9="@firebase/app-check",U9="@firebase/auth",j9="@firebase/auth-compat",z9="@firebase/database",W9="@firebase/data-connect",H9="@firebase/database-compat",G9="@firebase/functions",q9="@firebase/functions-compat",K9="@firebase/installations",Y9="@firebase/installations-compat",X9="@firebase/messaging",Q9="@firebase/messaging-compat",J9="@firebase/performance",Z9="@firebase/performance-compat",ez="@firebase/remote-config",tz="@firebase/remote-config-compat",nz="@firebase/storage",rz="@firebase/storage-compat",iz="@firebase/firestore",oz="@firebase/vertexai",sz="@firebase/firestore-compat",az="firebase",lz="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="[DEFAULT]",cz={[xx]:"fire-core",[$9]:"fire-core-compat",[F9]:"fire-analytics",[L9]:"fire-analytics-compat",[V9]:"fire-app-check",[B9]:"fire-app-check-compat",[U9]:"fire-auth",[j9]:"fire-auth-compat",[z9]:"fire-rtdb",[W9]:"fire-data-connect",[H9]:"fire-rtdb-compat",[G9]:"fire-fn",[q9]:"fire-fn-compat",[K9]:"fire-iid",[Y9]:"fire-iid-compat",[X9]:"fire-fcm",[Q9]:"fire-fcm-compat",[J9]:"fire-perf",[Z9]:"fire-perf-compat",[ez]:"fire-rc",[tz]:"fire-rc-compat",[nz]:"fire-gcs",[rz]:"fire-gcs-compat",[iz]:"fire-fst",[sz]:"fire-fst-compat",[oz]:"fire-vertex","fire-js":"fire-js",[az]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=new Map,uz=new Map,Sx=new Map;function MR(t,e){try{t.container.addComponent(e)}catch(n){sa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ul(t){const e=t.name;if(Sx.has(e))return sa.debug(`There were multiple attempts to register component ${e}.`),!1;Sx.set(e,t);for(const n of $y.values())MR(n,t);for(const n of uz.values())MR(n,t);return!0}function Lp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tl=new $p("app","Firebase",dz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=lz;function UD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ex,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw tl.create("bad-app-name",{appName:String(i)});if(n||(n=DD()),!n)throw tl.create("no-options");const o=$y.get(i);if(o){if(ia(n,o.options)&&ia(r,o.config))return o;throw tl.create("duplicate-app",{appName:i})}const s=new v9(i);for(const l of Sx.values())s.addComponent(l);const a=new fz(n,r,s);return $y.set(i,a),a}function o0(t=Ex){const e=$y.get(t);if(!e&&t===Ex&&DD())return UD();if(!e)throw tl.create("no-app",{appName:t});return e}function yo(t,e,n){var r;let i=(r=cz[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sa.warn(a.join(" "));return}ul(new oa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz="firebase-heartbeat-database",pz=1,tp="firebase-heartbeat-store";let $b=null;function jD(){return $b||($b=A9(hz,pz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tp)}catch(n){console.warn(n)}}}}).catch(t=>{throw tl.create("idb-open",{originalErrorMessage:t.message})})),$b}async function gz(t){try{const n=(await jD()).transaction(tp),r=await n.objectStore(tp).get(zD(t));return await n.done,r}catch(e){if(e instanceof Is)sa.warn(e.message);else{const n=tl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});sa.warn(n.message)}}}async function DR(t,e){try{const r=(await jD()).transaction(tp,"readwrite");await r.objectStore(tp).put(e,zD(t)),await r.done}catch(n){if(n instanceof Is)sa.warn(n.message);else{const r=tl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});sa.warn(r.message)}}}function zD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=1024,yz=30;class vz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=$R();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>yz){const s=wz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){sa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$R(),{heartbeatsToSend:r,unsentEntries:i}=_z(this._heartbeatsCache.heartbeats),o=Ny(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return sa.warn(n),""}}}function $R(){return new Date().toISOString().substring(0,10)}function _z(t,e=mz){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),LR(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),LR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return r9()?i9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gz(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return DR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return DR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function LR(t){return Ny(JSON.stringify({version:2,heartbeats:t})).length}function wz(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xz(t){ul(new oa("platform-logger",e=>new M9(e),"PRIVATE")),ul(new oa("heartbeat",e=>new vz(e),"PRIVATE")),yo(xx,NR,t),yo(xx,NR,"esm2017"),yo("fire-js","")}xz("");var Ez="firebase",Sz="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yo(Ez,Sz,"app");function ZS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function WD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Cz=WD,HD=new $p("auth","Firebase",WD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=new i0("@firebase/auth");function Tz(t,...e){Ly.logLevel<=wt.WARN&&Ly.warn(`Auth (${Il}): ${t}`,...e)}function zm(t,...e){Ly.logLevel<=wt.ERROR&&Ly.error(`Auth (${Il}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t,...e){throw tC(t,...e)}function qo(t,...e){return tC(t,...e)}function eC(t,e,n){const r=Object.assign(Object.assign({},Cz()),{[e]:n});return new $p("auth","Firebase",r).create(e,{appName:t.name})}function Qs(t){return eC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Iz(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&wo(t,"argument-error"),eC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HD.create(t,...e)}function Ge(t,e,...n){if(!t)throw tC(e,...n)}function Gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zm(e),new Error(e)}function aa(t,e){t||Gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Rz(){return FR()==="http:"||FR()==="https:"}function FR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Rz()||Z6()||"connection"in navigator)?navigator.onLine:!0}function kz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this.shortDelay=e,this.longDelay=n,aa(n>e,"Short delay should be less than long delay!"),this.isMobile=XS()||LD()}get(){return Pz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t,e){aa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Az={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Nz=new Fp(3e4,6e4);function Rl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Pl(t,e,n,r,i={}){return qD(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Ud(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},o);return J6()||(c.referrerPolicy="no-referrer"),GD.fetch()(await KD(t,t.config.apiHost,n,a),c)})}async function qD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Az),e);try{const i=new Dz(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Jg(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jg(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Jg(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Jg(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw eC(t,u,c);wo(t,u)}}catch(i){if(i instanceof Is)throw i;wo(t,"network-request-failed",{message:String(i)})}}async function Bp(t,e,n,r,i={}){const o=await Pl(t,e,n,r,i);return"mfaPendingCredential"in o&&wo(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function KD(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?nC(t.config,i):`${t.config.apiScheme}://${i}`;return Oz.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function Mz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Dz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qo(this.auth,"network-request-failed")),Nz.get())})}}function Jg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=qo(t,e,r);return i.customData._tokenResponse=n,i}function BR(t){return t!==void 0&&t.enterprise!==void 0}class $z{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Mz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Lz(t,e){return Pl(t,"GET","/v2/recaptchaConfig",Rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fz(t,e){return Pl(t,"POST","/v1/accounts:delete",e)}async function Fy(t,e){return Pl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Bz(t,e=!1){const n=Wt(t),r=await n.getIdToken(e),i=rC(r);Ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:yh(Lb(i.auth_time)),issuedAtTime:yh(Lb(i.iat)),expirationTime:yh(Lb(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Lb(t){return Number(t)*1e3}function rC(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zm("JWT malformed, contained fewer than 3 sections"),null;try{const i=My(n);return i?JSON.parse(i):(zm("Failed to decode base64 JWT payload"),null)}catch(i){return zm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function VR(t){const e=rC(t);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function np(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Is&&Vz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Vz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yh(this.lastLoginAt),this.creationTime=yh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function By(t){var e;const n=t.auth,r=await t.getIdToken(),i=await np(t,Fy(n,{idToken:r}));Ge(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?YD(o.providerUserInfo):[],a=zz(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Tx(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function jz(t){const e=Wt(t);await By(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function YD(t){return t.map(e=>{var{providerId:n}=e,r=ZS(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wz(t,e){const n=await qD(t,{},async()=>{const r=Ud({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await KD(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",GD.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Hz(t,e){return Pl(t,"POST","/v2/accounts:revokeToken",Rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const n=VR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Wz(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Ju;return r&&(Ge(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ge(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ge(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ju,this.toJSON())}_performRefresh(){return Gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(t,e){Ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Uo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=ZS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Uz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tx(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await np(this,this.stsTokenManager.getToken(this.auth,e));return Ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Bz(this,e)}reload(){return jz(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Uo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await By(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zr(this.auth.app))return Promise.reject(Qs(this.auth));const e=await this.getIdToken();return await np(this,Fz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,c,u;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,b=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:C,isAnonymous:O,providerData:N,stsTokenManager:E}=n;Ge(_&&E,e,"internal-error");const I=Ju.fromJSON(this.name,E);Ge(typeof _=="string",e,"internal-error"),Ia(f,e.name),Ia(h,e.name),Ge(typeof C=="boolean",e,"internal-error"),Ge(typeof O=="boolean",e,"internal-error"),Ia(p,e.name),Ia(g,e.name),Ia(x,e.name),Ia(S,e.name),Ia(y,e.name),Ia(b,e.name);const R=new Uo({uid:_,auth:e,email:h,emailVerified:C,displayName:f,isAnonymous:O,photoURL:g,phoneNumber:p,tenantId:x,stsTokenManager:I,createdAt:y,lastLoginAt:b});return N&&Array.isArray(N)&&(R.providerData=N.map(v=>Object.assign({},v))),S&&(R._redirectEventId=S),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ju;i.updateFromServerResponse(n);const o=new Uo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await By(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ge(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?YD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Ju;a.updateFromIdToken(r);const l=new Uo({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Tx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=new Map;function qs(t){aa(t instanceof Function,"Expected a class definition");let e=UR.get(t);return e?(aa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,UR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XD.type="NONE";const jR=XD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t,e,n){return`firebase:${t}:${e}:${n}`}class Zu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Wm(this.userKey,i.apiKey,o),this.fullPersistenceKey=Wm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fy(this.auth,{idToken:e}).catch(()=>{});return n?Uo._fromGetAccountInfoResponse(this.auth,n,e):null}return Uo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Zu(qs(jR),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||qs(jR);const s=Wm(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){let f;if(typeof u=="string"){const h=await Fy(e,{idToken:u}).catch(()=>{});if(!h)break;f=await Uo._fromGetAccountInfoResponse(e,h,u)}else f=Uo._fromJSON(e,u);c!==o&&(a=f),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Zu(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new Zu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(e$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(n$(e))return"Blackberry";if(r$(e))return"Webos";if(JD(e))return"Safari";if((e.includes("chrome/")||ZD(e))&&!e.includes("edge/"))return"Chrome";if(t$(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function QD(t=Hr()){return/firefox\//i.test(t)}function JD(t=Hr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZD(t=Hr()){return/crios\//i.test(t)}function e$(t=Hr()){return/iemobile/i.test(t)}function t$(t=Hr()){return/android/i.test(t)}function n$(t=Hr()){return/blackberry/i.test(t)}function r$(t=Hr()){return/webos/i.test(t)}function iC(t=Hr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Gz(t=Hr()){var e;return iC(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qz(){return e9()&&document.documentMode===10}function i$(t=Hr()){return iC(t)||t$(t)||r$(t)||n$(t)||/windows phone/i.test(t)||e$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(t,e=[]){let n;switch(t){case"Browser":n=zR(Hr());break;case"Worker":n=`${zR(Hr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Il}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yz(t,e={}){return Pl(t,"GET","/v2/passwordPolicy",Rl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=6;class Qz{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Xz,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WR(this),this.idTokenSubscription=new WR(this),this.beforeStateQueue=new Kz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qs(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Zu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fy(this,{idToken:e}),r=await Uo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Zr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await By(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zr(this.app))return Promise.reject(Qs(this));const n=e?Wt(e):null;return n&&Ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zr(this.app)?Promise.reject(Qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zr(this.app)?Promise.reject(Qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Yz(this),n=new Qz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $p("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Hz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qs(e)||this._popupRedirectResolver;Ge(n,this,"argument-error"),this.redirectPersistenceManager=await Zu.create(this,[qs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=o$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Tz(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function kl(t){return Wt(t)}class WR{constructor(e){this.auth=e,this.observer=null,this.addObserver=d9(n=>this.observer=n)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zz(t){s0=t}function s$(t){return s0.loadJS(t)}function eW(){return s0.recaptchaEnterpriseScript}function tW(){return s0.gapiScript}function nW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class rW{constructor(){this.enterprise=new iW}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class iW{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const oW="recaptcha-enterprise",a$="NO_RECAPTCHA";class sW{constructor(e){this.type=oW,this.auth=kl(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{Lz(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new $z(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;BR(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(a$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rW().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&BR(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=eW();l.length!==0&&(l+=a),s$(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function HR(t,e,n,r=!1,i=!1){const o=new sW(t);let s;if(i)s=a$;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ix(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await HR(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await HR(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aW(t,e){const n=Lp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ia(o,e??{}))return i;wo(i,"already-initialized")}return n.initialize({options:e})}function lW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cW(t,e,n){const r=kl(t);Ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=l$(e),{host:s,port:a}=uW(e),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ge(ia(c,r.config.emulator)&&ia(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,dW()}function l$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uW(t){const e=l$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:GR(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:GR(s)}}}function GR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gs("not implemented")}_getIdTokenResponse(e){return Gs("not implemented")}_linkToIdToken(e,n){return Gs("not implemented")}_getReauthenticationResolver(e){return Gs("not implemented")}}async function fW(t,e){return Pl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hW(t,e){return Bp(t,"POST","/v1/accounts:signInWithPassword",Rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pW(t,e){return Bp(t,"POST","/v1/accounts:signInWithEmailLink",Rl(t,e))}async function gW(t,e){return Bp(t,"POST","/v1/accounts:signInWithEmailLink",Rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp extends oC{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new rp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new rp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ix(e,n,"signInWithPassword",hW);case"emailLink":return pW(e,{email:this._email,oobCode:this._password});default:wo(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ix(e,r,"signUpPassword",fW);case"emailLink":return gW(e,{idToken:n,email:this._email,oobCode:this._password});default:wo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(t,e){return Bp(t,"POST","/v1/accounts:signInWithIdp",Rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mW="http://localhost";class pc extends oC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=ZS(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new pc(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ed(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ed(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ed(e,n)}buildRequest(){const e={requestUri:mW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ud(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vW(t){const e=Xf(Qf(t)).link,n=e?Xf(Qf(e)).deep_link_id:null,r=Xf(Qf(t)).deep_link_id;return(r?Xf(Qf(r)).link:null)||r||n||e||t}class sC{constructor(e){var n,r,i,o,s,a;const l=Xf(Qf(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,f=yW((i=l.mode)!==null&&i!==void 0?i:null);Ge(c&&u&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=vW(e);try{return new sC(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this.providerId=jd.PROVIDER_ID}static credential(e,n){return rp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=sC.parseLink(n);return Ge(r,"argument-error"),rp._fromEmailAndCode(e,r.code,r.tenantId)}}jd.PROVIDER_ID="password";jd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp extends aC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends Vp{constructor(){super("facebook.com")}static credential(e){return pc._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $a.credentialFromTaggedObject(e)}static credentialFromError(e){return $a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $a.credential(e.oauthAccessToken)}catch{return null}}}$a.FACEBOOK_SIGN_IN_METHOD="facebook.com";$a.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Vp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pc._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zs.credential(n,r)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends Vp{constructor(){super("github.com")}static credential(e){return pc._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return La.credentialFromTaggedObject(e)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return La.credential(e.oauthAccessToken)}catch{return null}}}La.GITHUB_SIGN_IN_METHOD="github.com";La.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends Vp{constructor(){super("twitter.com")}static credential(e,n){return pc._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fa.credentialFromTaggedObject(e)}static credentialFromError(e){return Fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fa.credential(n,r)}catch{return null}}}Fa.TWITTER_SIGN_IN_METHOD="twitter.com";Fa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _W(t,e){return Bp(t,"POST","/v1/accounts:signUp",Rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Uo._fromIdTokenResponse(e,r,i),s=qR(r);return new gc({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=qR(r);return new gc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function qR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy extends Is{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vy.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Vy(e,n,r,i)}}function c$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Vy._fromErrorAndOperation(t,o,e,r):o})}async function bW(t,e,n=!1){const r=await np(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wW(t,e,n=!1){const{auth:r}=t;if(Zr(r.app))return Promise.reject(Qs(r));const i="reauthenticate";try{const o=await np(t,c$(r,i,e,t),n);Ge(o.idToken,r,"internal-error");const s=rC(o.idToken);Ge(s,r,"internal-error");const{sub:a}=s;return Ge(t.uid===a,r,"user-mismatch"),gc._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&wo(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u$(t,e,n=!1){if(Zr(t.app))return Promise.reject(Qs(t));const r="signIn",i=await c$(t,r,e),o=await gc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function xW(t,e){return u$(kl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d$(t){const e=kl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function EW(t,e,n){if(Zr(t.app))return Promise.reject(Qs(t));const r=kl(t),s=await Ix(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_W).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&d$(t),l}),a=await gc._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function SW(t,e,n){return Zr(t.app)?Promise.reject(Qs(t)):xW(Wt(t),jd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&d$(t),r})}function CW(t,e,n,r){return Wt(t).onIdTokenChanged(e,n,r)}function TW(t,e,n){return Wt(t).beforeAuthStateChanged(e,n)}function IW(t,e,n,r){return Wt(t).onAuthStateChanged(e,n,r)}const Uy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uy,"1"),this.storage.removeItem(Uy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RW=1e3,PW=10;class h$ extends f${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=i$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);qz()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,PW):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},RW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}h$.type="LOCAL";const kW=h$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p$ extends f${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}p$.type="SESSION";const g$=p$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new a0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await AW(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}a0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=lC("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(){return window}function NW(t){gs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m$(){return typeof gs().WorkerGlobalScope<"u"&&typeof gs().importScripts=="function"}async function MW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $W(){return m$()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y$="firebaseLocalStorageDb",LW=1,jy="firebaseLocalStorage",v$="fbase_key";class Up{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function l0(t,e){return t.transaction([jy],e?"readwrite":"readonly").objectStore(jy)}function FW(){const t=indexedDB.deleteDatabase(y$);return new Up(t).toPromise()}function Rx(){const t=indexedDB.open(y$,LW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jy,{keyPath:v$})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jy)?e(r):(r.close(),await FW(),e(await Rx()))})})}async function KR(t,e,n){const r=l0(t,!0).put({[v$]:e,value:n});return new Up(r).toPromise()}async function BW(t,e){const n=l0(t,!1).get(e),r=await new Up(n).toPromise();return r===void 0?null:r.value}function YR(t,e){const n=l0(t,!0).delete(e);return new Up(n).toPromise()}const VW=800,UW=3;class _${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>UW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return m$()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=a0._getInstance($W()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await MW(),!this.activeServiceWorker)return;this.sender=new OW(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rx();return await KR(e,Uy,"1"),await YR(e,Uy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>KR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>BW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>YR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=l0(i,!1).getAll();return new Up(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_$.type="LOCAL";const jW=_$;new Fp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t,e){return e?qs(e):(Ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC extends oC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ed(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ed(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ed(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zW(t){return u$(t.auth,new cC(t),t.bypassAuthState)}function WW(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),wW(n,new cC(t),t.bypassAuthState)}async function HW(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),bW(n,new cC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zW;case"linkViaPopup":case"linkViaRedirect":return HW;case"reauthViaPopup":case"reauthViaRedirect":return WW;default:wo(this.auth,"internal-error")}}resolve(e){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GW=new Fp(2e3,1e4);async function qW(t,e,n){if(Zr(t.app))return Promise.reject(qo(t,"operation-not-supported-in-this-environment"));const r=kl(t);Iz(t,e,aC);const i=b$(r,n);return new Jl(r,"signInViaPopup",e,i).executeNotNull()}class Jl extends w${constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Jl.currentPopupAction&&Jl.currentPopupAction.cancel(),Jl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){aa(this.filter.length===1,"Popup operations only handle one event");const e=lC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GW.get())};e()}}Jl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KW="pendingRedirect",Hm=new Map;class YW extends w${constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Hm.get(this.auth._key());if(!e){try{const r=await XW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hm.set(this.auth._key(),e)}return this.bypassAuthState||Hm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XW(t,e){const n=ZW(e),r=JW(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function QW(t,e){Hm.set(t._key(),e)}function JW(t){return qs(t._redirectPersistence)}function ZW(t){return Wm(KW,t.config.apiKey,t.name)}async function eH(t,e,n=!1){if(Zr(t.app))return Promise.reject(Qs(t));const r=kl(t),i=b$(r,e),s=await new YW(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tH=10*60*1e3;class nH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!x$(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(qo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tH&&this.cachedEventUids.clear(),this.cachedEventUids.has(XR(e))}saveEventToCache(e){this.cachedEventUids.add(XR(e)),this.lastProcessedEventTime=Date.now()}}function XR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function x$({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return x$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iH(t,e={}){return Pl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sH=/^https?/;async function aH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iH(t);for(const n of e)try{if(lH(n))return}catch{}wo(t,"unauthorized-domain")}function lH(t){const e=Cx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!sH.test(n))return!1;if(oH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH=new Fp(3e4,6e4);function QR(){const t=gs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uH(t){return new Promise((e,n)=>{var r,i,o;function s(){QR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QR(),n(qo(t,"network-request-failed"))},timeout:cH.get()})}if(!((i=(r=gs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=gs().gapi)===null||o===void 0)&&o.load)s();else{const a=nW("iframefcb");return gs()[a]=()=>{gapi.load?s():n(qo(t,"network-request-failed"))},s$(`${tW()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Gm=null,e})}let Gm=null;function dH(t){return Gm=Gm||uH(t),Gm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fH=new Fp(5e3,15e3),hH="__/auth/iframe",pH="emulator/auth/iframe",gH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yH(t){const e=t.config;Ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?nC(e,pH):`https://${t.config.authDomain}/${hH}`,r={apiKey:e.apiKey,appName:t.name,v:Il},i=mH.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ud(r).slice(1)}`}async function vH(t){const e=await dH(t),n=gs().gapi;return Ge(n,t,"internal-error"),e.open({where:document.body,url:yH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gH,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=qo(t,"network-request-failed"),a=gs().setTimeout(()=>{o(s)},fH.get());function l(){gs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _H={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bH=500,wH=600,xH="_blank",EH="http://localhost";class JR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SH(t,e,n,r=bH,i=wH){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},_H),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Hr().toLowerCase();n&&(a=ZD(c)?xH:n),QD(c)&&(e=e||EH,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(Gz(c)&&a!=="_self")return CH(e||"",a),new JR(null);const f=window.open(e||"",a,u);Ge(f,t,"popup-blocked");try{f.focus()}catch{}return new JR(f)}function CH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TH="__/auth/handler",IH="emulator/auth/handler",RH=encodeURIComponent("fac");async function ZR(t,e,n,r,i,o){Ge(t.config.authDomain,t,"auth-domain-config-required"),Ge(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Il,eventId:i};if(e instanceof aC){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",_x(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))s[u]=f}if(e instanceof Vp){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${RH}=${encodeURIComponent(l)}`:"";return`${PH(t)}?${Ud(a).slice(1)}${c}`}function PH({config:t}){return t.emulator?nC(t,IH):`https://${t.authDomain}/${TH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="webStorageSupport";class kH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=g$,this._completeRedirectFn=eH,this._overrideRedirectResult=QW}async _openPopup(e,n,r,i){var o;aa((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await ZR(e,n,r,Cx(),i);return SH(e,s,lC())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await ZR(e,n,r,Cx(),i);return NW(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(aa(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await vH(e),r=new nH(e);return n.register("authEvent",i=>(Ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fb,{type:Fb},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Fb];s!==void 0&&n(!!s),wo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return i$()||JD()||iC()}}const AH=kH;var eP="@firebase/auth",tP="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MH(t){ul(new oa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ge(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o$(t)},c=new Jz(r,i,o,l);return lW(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ul(new oa("auth-internal",e=>{const n=kl(e.getProvider("auth").getImmediate());return(r=>new OH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yo(eP,tP,NH(t)),yo(eP,tP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH=5*60,$H=$D("authIdTokenMaxAge")||DH;let nP=null;const LH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$H)return;const i=n==null?void 0:n.token;nP!==i&&(nP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function FH(t=o0()){const e=Lp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aW(t,{popupRedirectResolver:AH,persistence:[jW,kW,g$]}),r=$D("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=LH(o.toString());TW(n,s,()=>s(n.currentUser)),CW(n,a=>s(a))}}const i=MD("auth");return i&&cW(n,`http://${i}`),n}function BH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Zz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=qo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",BH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MH("Browser");var rP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nl,E$;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,I){function R(){}R.prototype=I.prototype,E.D=I.prototype,E.prototype=new R,E.prototype.constructor=E,E.C=function(v,k,M){for(var P=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)P[Y-2]=arguments[Y];return I.prototype[k].apply(v,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,I,R){R||(R=0);var v=Array(16);if(typeof I=="string")for(var k=0;16>k;++k)v[k]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(k=0;16>k;++k)v[k]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=E.g[0],R=E.g[1],k=E.g[2];var M=E.g[3],P=I+(M^R&(k^M))+v[0]+3614090360&4294967295;I=R+(P<<7&4294967295|P>>>25),P=M+(k^I&(R^k))+v[1]+3905402710&4294967295,M=I+(P<<12&4294967295|P>>>20),P=k+(R^M&(I^R))+v[2]+606105819&4294967295,k=M+(P<<17&4294967295|P>>>15),P=R+(I^k&(M^I))+v[3]+3250441966&4294967295,R=k+(P<<22&4294967295|P>>>10),P=I+(M^R&(k^M))+v[4]+4118548399&4294967295,I=R+(P<<7&4294967295|P>>>25),P=M+(k^I&(R^k))+v[5]+1200080426&4294967295,M=I+(P<<12&4294967295|P>>>20),P=k+(R^M&(I^R))+v[6]+2821735955&4294967295,k=M+(P<<17&4294967295|P>>>15),P=R+(I^k&(M^I))+v[7]+4249261313&4294967295,R=k+(P<<22&4294967295|P>>>10),P=I+(M^R&(k^M))+v[8]+1770035416&4294967295,I=R+(P<<7&4294967295|P>>>25),P=M+(k^I&(R^k))+v[9]+2336552879&4294967295,M=I+(P<<12&4294967295|P>>>20),P=k+(R^M&(I^R))+v[10]+4294925233&4294967295,k=M+(P<<17&4294967295|P>>>15),P=R+(I^k&(M^I))+v[11]+2304563134&4294967295,R=k+(P<<22&4294967295|P>>>10),P=I+(M^R&(k^M))+v[12]+1804603682&4294967295,I=R+(P<<7&4294967295|P>>>25),P=M+(k^I&(R^k))+v[13]+4254626195&4294967295,M=I+(P<<12&4294967295|P>>>20),P=k+(R^M&(I^R))+v[14]+2792965006&4294967295,k=M+(P<<17&4294967295|P>>>15),P=R+(I^k&(M^I))+v[15]+1236535329&4294967295,R=k+(P<<22&4294967295|P>>>10),P=I+(k^M&(R^k))+v[1]+4129170786&4294967295,I=R+(P<<5&4294967295|P>>>27),P=M+(R^k&(I^R))+v[6]+3225465664&4294967295,M=I+(P<<9&4294967295|P>>>23),P=k+(I^R&(M^I))+v[11]+643717713&4294967295,k=M+(P<<14&4294967295|P>>>18),P=R+(M^I&(k^M))+v[0]+3921069994&4294967295,R=k+(P<<20&4294967295|P>>>12),P=I+(k^M&(R^k))+v[5]+3593408605&4294967295,I=R+(P<<5&4294967295|P>>>27),P=M+(R^k&(I^R))+v[10]+38016083&4294967295,M=I+(P<<9&4294967295|P>>>23),P=k+(I^R&(M^I))+v[15]+3634488961&4294967295,k=M+(P<<14&4294967295|P>>>18),P=R+(M^I&(k^M))+v[4]+3889429448&4294967295,R=k+(P<<20&4294967295|P>>>12),P=I+(k^M&(R^k))+v[9]+568446438&4294967295,I=R+(P<<5&4294967295|P>>>27),P=M+(R^k&(I^R))+v[14]+3275163606&4294967295,M=I+(P<<9&4294967295|P>>>23),P=k+(I^R&(M^I))+v[3]+4107603335&4294967295,k=M+(P<<14&4294967295|P>>>18),P=R+(M^I&(k^M))+v[8]+1163531501&4294967295,R=k+(P<<20&4294967295|P>>>12),P=I+(k^M&(R^k))+v[13]+2850285829&4294967295,I=R+(P<<5&4294967295|P>>>27),P=M+(R^k&(I^R))+v[2]+4243563512&4294967295,M=I+(P<<9&4294967295|P>>>23),P=k+(I^R&(M^I))+v[7]+1735328473&4294967295,k=M+(P<<14&4294967295|P>>>18),P=R+(M^I&(k^M))+v[12]+2368359562&4294967295,R=k+(P<<20&4294967295|P>>>12),P=I+(R^k^M)+v[5]+4294588738&4294967295,I=R+(P<<4&4294967295|P>>>28),P=M+(I^R^k)+v[8]+2272392833&4294967295,M=I+(P<<11&4294967295|P>>>21),P=k+(M^I^R)+v[11]+1839030562&4294967295,k=M+(P<<16&4294967295|P>>>16),P=R+(k^M^I)+v[14]+4259657740&4294967295,R=k+(P<<23&4294967295|P>>>9),P=I+(R^k^M)+v[1]+2763975236&4294967295,I=R+(P<<4&4294967295|P>>>28),P=M+(I^R^k)+v[4]+1272893353&4294967295,M=I+(P<<11&4294967295|P>>>21),P=k+(M^I^R)+v[7]+4139469664&4294967295,k=M+(P<<16&4294967295|P>>>16),P=R+(k^M^I)+v[10]+3200236656&4294967295,R=k+(P<<23&4294967295|P>>>9),P=I+(R^k^M)+v[13]+681279174&4294967295,I=R+(P<<4&4294967295|P>>>28),P=M+(I^R^k)+v[0]+3936430074&4294967295,M=I+(P<<11&4294967295|P>>>21),P=k+(M^I^R)+v[3]+3572445317&4294967295,k=M+(P<<16&4294967295|P>>>16),P=R+(k^M^I)+v[6]+76029189&4294967295,R=k+(P<<23&4294967295|P>>>9),P=I+(R^k^M)+v[9]+3654602809&4294967295,I=R+(P<<4&4294967295|P>>>28),P=M+(I^R^k)+v[12]+3873151461&4294967295,M=I+(P<<11&4294967295|P>>>21),P=k+(M^I^R)+v[15]+530742520&4294967295,k=M+(P<<16&4294967295|P>>>16),P=R+(k^M^I)+v[2]+3299628645&4294967295,R=k+(P<<23&4294967295|P>>>9),P=I+(k^(R|~M))+v[0]+4096336452&4294967295,I=R+(P<<6&4294967295|P>>>26),P=M+(R^(I|~k))+v[7]+1126891415&4294967295,M=I+(P<<10&4294967295|P>>>22),P=k+(I^(M|~R))+v[14]+2878612391&4294967295,k=M+(P<<15&4294967295|P>>>17),P=R+(M^(k|~I))+v[5]+4237533241&4294967295,R=k+(P<<21&4294967295|P>>>11),P=I+(k^(R|~M))+v[12]+1700485571&4294967295,I=R+(P<<6&4294967295|P>>>26),P=M+(R^(I|~k))+v[3]+2399980690&4294967295,M=I+(P<<10&4294967295|P>>>22),P=k+(I^(M|~R))+v[10]+4293915773&4294967295,k=M+(P<<15&4294967295|P>>>17),P=R+(M^(k|~I))+v[1]+2240044497&4294967295,R=k+(P<<21&4294967295|P>>>11),P=I+(k^(R|~M))+v[8]+1873313359&4294967295,I=R+(P<<6&4294967295|P>>>26),P=M+(R^(I|~k))+v[15]+4264355552&4294967295,M=I+(P<<10&4294967295|P>>>22),P=k+(I^(M|~R))+v[6]+2734768916&4294967295,k=M+(P<<15&4294967295|P>>>17),P=R+(M^(k|~I))+v[13]+1309151649&4294967295,R=k+(P<<21&4294967295|P>>>11),P=I+(k^(R|~M))+v[4]+4149444226&4294967295,I=R+(P<<6&4294967295|P>>>26),P=M+(R^(I|~k))+v[11]+3174756917&4294967295,M=I+(P<<10&4294967295|P>>>22),P=k+(I^(M|~R))+v[2]+718787259&4294967295,k=M+(P<<15&4294967295|P>>>17),P=R+(M^(k|~I))+v[9]+3951481745&4294967295,E.g[0]=E.g[0]+I&4294967295,E.g[1]=E.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,E.g[2]=E.g[2]+k&4294967295,E.g[3]=E.g[3]+M&4294967295}r.prototype.u=function(E,I){I===void 0&&(I=E.length);for(var R=I-this.blockSize,v=this.B,k=this.h,M=0;M<I;){if(k==0)for(;M<=R;)i(this,E,M),M+=this.blockSize;if(typeof E=="string"){for(;M<I;)if(v[k++]=E.charCodeAt(M++),k==this.blockSize){i(this,v),k=0;break}}else for(;M<I;)if(v[k++]=E[M++],k==this.blockSize){i(this,v),k=0;break}}this.h=k,this.o+=I},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var I=1;I<E.length-8;++I)E[I]=0;var R=8*this.o;for(I=E.length-8;I<E.length;++I)E[I]=R&255,R/=256;for(this.u(E),E=Array(16),I=R=0;4>I;++I)for(var v=0;32>v;v+=8)E[R++]=this.g[I]>>>v&255;return E};function o(E,I){var R=a;return Object.prototype.hasOwnProperty.call(R,E)?R[E]:R[E]=I(E)}function s(E,I){this.h=I;for(var R=[],v=!0,k=E.length-1;0<=k;k--){var M=E[k]|0;v&&M==I||(R[k]=M,v=!1)}this.g=R}var a={};function l(E){return-128<=E&&128>E?o(E,function(I){return new s([I|0],0>I?-1:0)}):new s([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return S(c(-E));for(var I=[],R=1,v=0;E>=R;v++)I[v]=E/R|0,R*=4294967296;return new s(I,0)}function u(E,I){if(E.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(E.charAt(0)=="-")return S(u(E.substring(1),I));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(I,8)),v=f,k=0;k<E.length;k+=8){var M=Math.min(8,E.length-k),P=parseInt(E.substring(k,k+M),I);8>M?(M=c(Math.pow(I,M)),v=v.j(M).add(c(P))):(v=v.j(R),v=v.add(c(P)))}return v}var f=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(x(this))return-S(this).m();for(var E=0,I=1,R=0;R<this.g.length;R++){var v=this.i(R);E+=(0<=v?v:4294967296+v)*I,I*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(g(this))return"0";if(x(this))return"-"+S(this).toString(E);for(var I=c(Math.pow(E,6)),R=this,v="";;){var k=C(R,I).g;R=y(R,k.j(I));var M=((0<R.g.length?R.g[0]:R.h)>>>0).toString(E);if(R=k,g(R))return M+v;for(;6>M.length;)M="0"+M;v=M+v}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function g(E){if(E.h!=0)return!1;for(var I=0;I<E.g.length;I++)if(E.g[I]!=0)return!1;return!0}function x(E){return E.h==-1}t.l=function(E){return E=y(this,E),x(E)?-1:g(E)?0:1};function S(E){for(var I=E.g.length,R=[],v=0;v<I;v++)R[v]=~E.g[v];return new s(R,~E.h).add(h)}t.abs=function(){return x(this)?S(this):this},t.add=function(E){for(var I=Math.max(this.g.length,E.g.length),R=[],v=0,k=0;k<=I;k++){var M=v+(this.i(k)&65535)+(E.i(k)&65535),P=(M>>>16)+(this.i(k)>>>16)+(E.i(k)>>>16);v=P>>>16,M&=65535,P&=65535,R[k]=P<<16|M}return new s(R,R[R.length-1]&-2147483648?-1:0)};function y(E,I){return E.add(S(I))}t.j=function(E){if(g(this)||g(E))return f;if(x(this))return x(E)?S(this).j(S(E)):S(S(this).j(E));if(x(E))return S(this.j(S(E)));if(0>this.l(p)&&0>E.l(p))return c(this.m()*E.m());for(var I=this.g.length+E.g.length,R=[],v=0;v<2*I;v++)R[v]=0;for(v=0;v<this.g.length;v++)for(var k=0;k<E.g.length;k++){var M=this.i(v)>>>16,P=this.i(v)&65535,Y=E.i(k)>>>16,H=E.i(k)&65535;R[2*v+2*k]+=P*H,b(R,2*v+2*k),R[2*v+2*k+1]+=M*H,b(R,2*v+2*k+1),R[2*v+2*k+1]+=P*Y,b(R,2*v+2*k+1),R[2*v+2*k+2]+=M*Y,b(R,2*v+2*k+2)}for(v=0;v<I;v++)R[v]=R[2*v+1]<<16|R[2*v];for(v=I;v<2*I;v++)R[v]=0;return new s(R,0)};function b(E,I){for(;(E[I]&65535)!=E[I];)E[I+1]+=E[I]>>>16,E[I]&=65535,I++}function _(E,I){this.g=E,this.h=I}function C(E,I){if(g(I))throw Error("division by zero");if(g(E))return new _(f,f);if(x(E))return I=C(S(E),I),new _(S(I.g),S(I.h));if(x(I))return I=C(E,S(I)),new _(S(I.g),I.h);if(30<E.g.length){if(x(E)||x(I))throw Error("slowDivide_ only works with positive integers.");for(var R=h,v=I;0>=v.l(E);)R=O(R),v=O(v);var k=N(R,1),M=N(v,1);for(v=N(v,2),R=N(R,2);!g(v);){var P=M.add(v);0>=P.l(E)&&(k=k.add(R),M=P),v=N(v,1),R=N(R,1)}return I=y(E,k.j(I)),new _(k,I)}for(k=f;0<=E.l(I);){for(R=Math.max(1,Math.floor(E.m()/I.m())),v=Math.ceil(Math.log(R)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),M=c(R),P=M.j(I);x(P)||0<P.l(E);)R-=v,M=c(R),P=M.j(I);g(M)&&(M=h),k=k.add(M),E=y(E,P)}return new _(k,E)}t.A=function(E){return C(this,E).h},t.and=function(E){for(var I=Math.max(this.g.length,E.g.length),R=[],v=0;v<I;v++)R[v]=this.i(v)&E.i(v);return new s(R,this.h&E.h)},t.or=function(E){for(var I=Math.max(this.g.length,E.g.length),R=[],v=0;v<I;v++)R[v]=this.i(v)|E.i(v);return new s(R,this.h|E.h)},t.xor=function(E){for(var I=Math.max(this.g.length,E.g.length),R=[],v=0;v<I;v++)R[v]=this.i(v)^E.i(v);return new s(R,this.h^E.h)};function O(E){for(var I=E.g.length+1,R=[],v=0;v<I;v++)R[v]=E.i(v)<<1|E.i(v-1)>>>31;return new s(R,E.h)}function N(E,I){var R=I>>5;I%=32;for(var v=E.g.length-R,k=[],M=0;M<v;M++)k[M]=0<I?E.i(M+R)>>>I|E.i(M+R+1)<<32-I:E.i(M+R);return new s(k,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,E$=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,nl=s}).apply(typeof rP<"u"?rP:typeof self<"u"?self:typeof window<"u"?window:{});var Zg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var S$,Jf,C$,qm,Px,T$,I$,R$;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,m,T){return d==Array.prototype||d==Object.prototype||(d[m]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zg=="object"&&Zg];for(var m=0;m<d.length;++m){var T=d[m];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(d,m){if(m)e:{var T=r;d=d.split(".");for(var D=0;D<d.length-1;D++){var U=d[D];if(!(U in T))break e;T=T[U]}d=d[d.length-1],D=T[d],m=m(D),m!=D&&m!=null&&e(T,d,{configurable:!0,writable:!0,value:m})}}function o(d,m){d instanceof String&&(d+="");var T=0,D=!1,U={next:function(){if(!D&&T<d.length){var q=T++;return{value:m(q,d[q]),done:!1}}return D=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}i("Array.prototype.values",function(d){return d||function(){return o(this,function(m,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(d){var m=typeof d;return m=m!="object"?m:d?Array.isArray(d)?"array":m:"null",m=="array"||m=="object"&&typeof d.length=="number"}function c(d){var m=typeof d;return m=="object"&&d!=null||m=="function"}function u(d,m,T){return d.call.apply(d.bind,arguments)}function f(d,m,T){if(!d)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,D),d.apply(m,U)}}return function(){return d.apply(m,arguments)}}function h(d,m,T){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(d,m){var T=Array.prototype.slice.call(arguments,1);return function(){var D=T.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function g(d,m){function T(){}T.prototype=m.prototype,d.aa=m.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(D,U,q){for(var he=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)he[Qt-2]=arguments[Qt];return m.prototype[U].apply(D,he)}}function x(d){const m=d.length;if(0<m){const T=Array(m);for(let D=0;D<m;D++)T[D]=d[D];return T}return[]}function S(d,m){for(let T=1;T<arguments.length;T++){const D=arguments[T];if(l(D)){const U=d.length||0,q=D.length||0;d.length=U+q;for(let he=0;he<q;he++)d[U+he]=D[he]}else d.push(D)}}class y{constructor(m,T){this.i=m,this.j=T,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function b(d){return/^[\s\xa0]*$/.test(d)}function _(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function C(d){return C[" "](d),d}C[" "]=function(){};var O=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function N(d,m,T){for(const D in d)m.call(T,d[D],D,d)}function E(d,m){for(const T in d)m.call(void 0,d[T],T,d)}function I(d){const m={};for(const T in d)m[T]=d[T];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(d,m){let T,D;for(let U=1;U<arguments.length;U++){D=arguments[U];for(T in D)d[T]=D[T];for(let q=0;q<R.length;q++)T=R[q],Object.prototype.hasOwnProperty.call(D,T)&&(d[T]=D[T])}}function k(d){var m=1;d=d.split(":");const T=[];for(;0<m&&d.length;)T.push(d.shift()),m--;return d.length&&T.push(d.join(":")),T}function M(d){a.setTimeout(()=>{throw d},0)}function P(){var d=F;let m=null;return d.g&&(m=d.g,d.g=d.g.next,d.g||(d.h=null),m.next=null),m}class Y{constructor(){this.h=this.g=null}add(m,T){const D=H.get();D.set(m,T),this.h?this.h.next=D:this.g=D,this.h=D}}var H=new y(()=>new W,d=>d.reset());class W{constructor(){this.next=this.g=this.h=null}set(m,T){this.h=m,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,j=!1,F=new Y,K=()=>{const d=a.Promise.resolve(void 0);ne=()=>{d.then(re)}};var re=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(T){M(T)}var m=H;m.j(d),100>m.h&&(m.h++,d.next=m.g,m.g=d)}j=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(d,m){this.type=d,this.g=this.target=m,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,m=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};a.addEventListener("test",T,m),a.removeEventListener("test",T,m)}catch{}return d}();function oe(d,m){if(ge.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=m,m=d.relatedTarget){if(O){e:{try{C(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else T=="mouseover"?m=d.fromElement:T=="mouseout"&&(m=d.toElement);this.relatedTarget=m,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ve[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&oe.aa.h.call(this)}}g(oe,ge);var Ve={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function $e(d,m,T,D,U){this.listener=d,this.proxy=null,this.src=m,this.type=T,this.capture=!!D,this.ha=U,this.key=++Ne,this.da=this.fa=!1}function me(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Fe(d){this.src=d,this.g={},this.h=0}Fe.prototype.add=function(d,m,T,D,U){var q=d.toString();d=this.g[q],d||(d=this.g[q]=[],this.h++);var he=Oe(d,m,D,U);return-1<he?(m=d[he],T||(m.fa=!1)):(m=new $e(m,this.src,q,!!D,U),m.fa=T,d.push(m)),m};function Ae(d,m){var T=m.type;if(T in d.g){var D=d.g[T],U=Array.prototype.indexOf.call(D,m,void 0),q;(q=0<=U)&&Array.prototype.splice.call(D,U,1),q&&(me(m),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Oe(d,m,T,D){for(var U=0;U<d.length;++U){var q=d[U];if(!q.da&&q.listener==m&&q.capture==!!T&&q.ha==D)return U}return-1}var je="closure_lm_"+(1e6*Math.random()|0),We={};function Nt(d,m,T,D,U){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Nt(d,m[q],T,D,U);return null}return T=xn(T),d&&d[Le]?d.K(m,T,c(D)?!!D.capture:!1,U):ye(d,m,T,!1,D,U)}function ye(d,m,T,D,U,q){if(!m)throw Error("Invalid event type");var he=c(U)?!!U.capture:!!U,Qt=nn(d);if(Qt||(d[je]=Qt=new Fe(d)),T=Qt.add(m,T,D,he,q),T.proxy)return T;if(D=It(),T.proxy=D,D.src=d,D.listener=T,d.addEventListener)ie||(U=he),U===void 0&&(U=!1),d.addEventListener(m.toString(),D,U);else if(d.attachEvent)d.attachEvent(at(m.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return T}function It(){function d(T){return m.call(d.src,d.listener,T)}const m=ke;return d}function He(d,m,T,D,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)He(d,m[q],T,D,U);else D=c(D)?!!D.capture:!!D,T=xn(T),d&&d[Le]?(d=d.i,m=String(m).toString(),m in d.g&&(q=d.g[m],T=Oe(q,T,D,U),-1<T&&(me(q[T]),Array.prototype.splice.call(q,T,1),q.length==0&&(delete d.g[m],d.h--)))):d&&(d=nn(d))&&(m=d.g[m.toString()],d=-1,m&&(d=Oe(m,T,D,U)),(T=-1<d?m[d]:null)&&gt(T))}function gt(d){if(typeof d!="number"&&d&&!d.da){var m=d.src;if(m&&m[Le])Ae(m.i,d);else{var T=d.type,D=d.proxy;m.removeEventListener?m.removeEventListener(T,D,d.capture):m.detachEvent?m.detachEvent(at(T),D):m.addListener&&m.removeListener&&m.removeListener(D),(T=nn(m))?(Ae(T,d),T.h==0&&(T.src=null,m[je]=null)):me(d)}}}function at(d){return d in We?We[d]:We[d]="on"+d}function ke(d,m){if(d.da)d=!0;else{m=new oe(m,this);var T=d.listener,D=d.ha||d.src;d.fa&&gt(d),d=T.call(D,m)}return d}function nn(d){return d=d[je],d instanceof Fe?d:null}var ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function xn(d){return typeof d=="function"?d:(d[ot]||(d[ot]=function(m){return d.handleEvent(m)}),d[ot])}function Et(){ue.call(this),this.i=new Fe(this),this.M=this,this.F=null}g(Et,ue),Et.prototype[Le]=!0,Et.prototype.removeEventListener=function(d,m,T,D){He(this,d,m,T,D)};function _t(d,m){var T,D=d.F;if(D)for(T=[];D;D=D.F)T.push(D);if(d=d.M,D=m.type||m,typeof m=="string")m=new ge(m,d);else if(m instanceof ge)m.target=m.target||d;else{var U=m;m=new ge(D,d),v(m,U)}if(U=!0,T)for(var q=T.length-1;0<=q;q--){var he=m.g=T[q];U=St(he,D,!0,m)&&U}if(he=m.g=d,U=St(he,D,!0,m)&&U,U=St(he,D,!1,m)&&U,T)for(q=0;q<T.length;q++)he=m.g=T[q],U=St(he,D,!1,m)&&U}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var d=this.i,m;for(m in d.g){for(var T=d.g[m],D=0;D<T.length;D++)me(T[D]);delete d.g[m],d.h--}}this.F=null},Et.prototype.K=function(d,m,T,D){return this.i.add(String(d),m,!1,T,D)},Et.prototype.L=function(d,m,T,D){return this.i.add(String(d),m,!0,T,D)};function St(d,m,T,D){if(m=d.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,q=0;q<m.length;++q){var he=m[q];if(he&&!he.da&&he.capture==T){var Qt=he.listener,br=he.ha||he.src;he.fa&&Ae(d.i,he),U=Qt.call(br,D)!==!1&&U}}return U&&!D.defaultPrevented}function Bt(d,m,T){if(typeof d=="function")T&&(d=h(d,T));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(d,m||0)}function ut(d){d.g=Bt(()=>{d.g=null,d.i&&(d.i=!1,ut(d))},d.l);const m=d.h;d.h=null,d.m.apply(null,m)}class Xe extends ue{constructor(m,T){super(),this.m=m,this.l=T,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ut(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function En(d){ue.call(this),this.h=d,this.g={}}g(En,ue);var Bn=[];function Gr(d){N(d.g,function(m,T){this.g.hasOwnProperty(T)&&gt(m)},d),d.g={}}En.prototype.N=function(){En.aa.N.call(this),Gr(this)},En.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xe=a.JSON.stringify,Ie=a.JSON.parse,Yt=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Vn(){}Vn.prototype.h=null;function qr(d){return d.h||(d.h=d.i())}function gr(){}var Ir={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Un(){ge.call(this,"d")}g(Un,ge);function ki(){ge.call(this,"c")}g(ki,ge);var rn={},ro=null;function io(){return ro=ro||new Et}rn.La="serverreachability";function Ai(d){ge.call(this,rn.La,d)}g(Ai,ge);function mr(d){const m=io();_t(m,new Ai(m))}rn.STAT_EVENT="statevent";function _e(d,m){ge.call(this,rn.STAT_EVENT,d),this.stat=m}g(_e,ge);function fe(d){const m=io();_t(m,new _e(m,d))}rn.Ma="timingevent";function lt(d,m){ge.call(this,rn.Ma,d),this.size=m}g(lt,ge);function et(d,m){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},m)}function Mt(){this.g=!0}Mt.prototype.xa=function(){this.g=!1};function yr(d,m,T,D,U,q){d.info(function(){if(d.g)if(q)for(var he="",Qt=q.split("&"),br=0;br<Qt.length;br++){var Lt=Qt[br].split("=");if(1<Lt.length){var kr=Lt[0];Lt=Lt[1];var Ar=kr.split("_");he=2<=Ar.length&&Ar[1]=="type"?he+(kr+"="+Lt+"&"):he+(kr+"=redacted&")}}else he=null;else he=q;return"XMLHTTP REQ ("+D+") [attempt "+U+"]: "+m+`
`+T+`
`+he})}function si(d,m,T,D,U,q,he){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+U+"]: "+m+`
`+T+`
`+q+" "+he})}function vr(d,m,T,D){d.info(function(){return"XMLHTTP TEXT ("+m+"): "+Sn(d,T)+(D?" "+D:"")})}function Po(d,m){d.info(function(){return"TIMEOUT: "+m})}Mt.prototype.info=function(){};function Sn(d,m){if(!d.g)return m;if(!m)return null;try{var T=JSON.parse(m);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var D=T[d];if(!(2>D.length)){var U=D[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var he=1;he<U.length;he++)U[he]=""}}}}return xe(T)}catch{return m}}var mn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Os;function J(){}g(J,Vn),J.prototype.g=function(){return new XMLHttpRequest},J.prototype.i=function(){return{}},Os=new J;function X(d,m,T,D){this.j=d,this.i=m,this.l=T,this.R=D||1,this.U=new En(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ee}function Ee(){this.i=null,this.g="",this.h=!1}var Qe={},ct={};function $t(d,m,T){d.L=1,d.v=Yc(oo(m)),d.m=T,d.P=!0,yn(d,null)}function yn(d,m){d.F=Date.now(),Dl(d),d.A=oo(d.v);var T=d.A,D=d.R;Array.isArray(D)||(D=[String(D)]),yf(T.i,"t",D),d.C=0,T=d.j.J,d.h=new Ee,d.g=Yr(d.j,T?m:null,!d.m),0<d.O&&(d.M=new Xe(h(d.Y,d,d.g),d.O)),m=d.U,T=d.g,D=d.ca;var U="readystatechange";Array.isArray(U)||(U&&(Bn[0]=U.toString()),U=Bn);for(var q=0;q<U.length;q++){var he=Nt(T,U[q],D||m.handleEvent,!1,m.h||m);if(!he)break;m.g[he.key]=he}m=d.H?I(d.H):{},d.m?(d.u||(d.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,m)):(d.u="GET",d.g.ea(d.A,d.u,null,m)),mr(),yr(d.i,d.u,d.A,d.l,d.R,d.m)}X.prototype.ca=function(d){d=d.target;const m=this.M;m&&$(d)==3?m.j():this.Y(d)},X.prototype.Y=function(d){try{if(d==this.g)e:{const Ar=$(this.g);var m=this.g.Ba();const eu=this.g.Z();if(!(3>Ar)&&(Ar!=3||this.g&&(this.h.h||this.g.oa()||B(this.g)))){this.J||Ar!=4||m==7||(m==8||0>=eu?mr(3):mr(2)),Ns(this);var T=this.g.Z();this.X=T;t:if(Rr(this)){var D=B(this.g);d="";var U=D.length,q=$(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dt(this),ko(this);var he="";break t}this.h.i=new a.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,d+=this.h.i.decode(D[m],{stream:!(q&&m==U-1)});D.length=0,this.h.g+=d,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=T==200,si(this.i,this.u,this.A,this.l,this.R,Ar,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Qt,br=this.g;if((Qt=br.g?br.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Qt)){var Lt=Qt;break t}}Lt=null}if(T=Lt)vr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kr(this,T);else{this.o=!1,this.s=3,fe(12),dt(this),ko(this);break e}}if(this.P){T=!0;let No;for(;!this.J&&this.C<he.length;)if(No=jc(this,he),No==ct){Ar==4&&(this.s=4,fe(14),T=!1),vr(this.i,this.l,null,"[Incomplete Response]");break}else if(No==Qe){this.s=4,fe(15),vr(this.i,this.l,he,"[Invalid Chunk]"),T=!1;break}else vr(this.i,this.l,No,null),Kr(this,No);if(Rr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ar!=4||he.length!=0||this.h.h||(this.s=1,fe(16),T=!1),this.o=this.o&&T,!T)vr(this.i,this.l,he,"[Invalid Chunked Response]"),dt(this),ko(this);else if(0<he.length&&!this.W){this.W=!0;var kr=this.j;kr.g==this&&kr.ba&&!kr.M&&(kr.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Ht(kr),kr.M=!0,fe(11))}}else vr(this.i,this.l,he,null),Kr(this,he);Ar==4&&dt(this),this.o&&!this.J&&(Ar==4?li(this.j,this):(this.o=!1,Dl(this)))}else z(this.g),T==400&&0<he.indexOf("Unknown SID")?(this.s=3,fe(12)):(this.s=0,fe(13)),dt(this),ko(this)}}}catch{}finally{}};function Rr(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function jc(d,m){var T=d.C,D=m.indexOf(`
`,T);return D==-1?ct:(T=Number(m.substring(T,D)),isNaN(T)?Qe:(D+=1,D+T>m.length?ct:(m=m.slice(D,D+T),d.C=D+T,m)))}X.prototype.cancel=function(){this.J=!0,dt(this)};function Dl(d){d.S=Date.now()+d.I,zc(d,d.I)}function zc(d,m){if(d.B!=null)throw Error("WatchDog timer not null");d.B=et(h(d.ba,d),m)}function Ns(d){d.B&&(a.clearTimeout(d.B),d.B=null)}X.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Po(this.i,this.A),this.L!=2&&(mr(),fe(17)),dt(this),this.s=2,ko(this)):zc(this,this.S-d)};function ko(d){d.j.G==0||d.J||li(d.j,d)}function dt(d){Ns(d);var m=d.M;m&&typeof m.ma=="function"&&m.ma(),d.M=null,Gr(d.U),d.g&&(m=d.g,d.g=null,m.abort(),m.ma())}function Kr(d,m){try{var T=d.j;if(T.G!=0&&(T.g==d||Wc(T.h,d))){if(!d.K&&Wc(T.h,d)&&T.G==3){try{var D=T.Da.g.parse(m)}catch{D=null}if(Array.isArray(D)&&D.length==3){var U=D;if(U[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)Oi(T),ce(T);else break e;ze(T),fe(18)}}else T.za=U[1],0<T.za-T.T&&37500>U[2]&&T.F&&T.v==0&&!T.C&&(T.C=et(h(T.Za,T),6e3));if(1>=Ll(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Xn(T,11)}else if((d.K||T.g==d)&&Oi(T),!b(m))for(U=T.Da.g.parse(m),m=0;m<U.length;m++){let Lt=U[m];if(T.T=Lt[0],Lt=Lt[1],T.G==2)if(Lt[0]=="c"){T.K=Lt[1],T.ia=Lt[2];const kr=Lt[3];kr!=null&&(T.la=kr,T.j.info("VER="+T.la));const Ar=Lt[4];Ar!=null&&(T.Aa=Ar,T.j.info("SVER="+T.Aa));const eu=Lt[5];eu!=null&&typeof eu=="number"&&0<eu&&(D=1.5*eu,T.L=D,T.j.info("backChannelRequestTimeoutMs_="+D)),D=T;const No=d.g;if(No){const Og=No.g?No.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Og){var q=D.h;q.g||Og.indexOf("spdy")==-1&&Og.indexOf("quic")==-1&&Og.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(gf(q,q.h),q.h=null))}if(D.D){const rb=No.g?No.g.getResponseHeader("X-HTTP-Session-Id"):null;rb&&(D.ya=rb,Xt(D.I,D.D,rb))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),D=T;var he=d;if(D.qa=Rt(D,D.J?D.ia:null,D.W),he.K){Eg(D.h,he);var Qt=he,br=D.L;br&&(Qt.I=br),Qt.B&&(Ns(Qt),Dl(Qt)),D.g=he}else jt(D);0<T.i.length&&Me(T)}else Lt[0]!="stop"&&Lt[0]!="close"||Xn(T,7);else T.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Xn(T,7):Z(T):Lt[0]!="noop"&&T.l&&T.l.ta(Lt),T.v=0)}}mr(4)}catch{}}var Ao=class{constructor(d,m){this.g=d,this.map=m}};function ts(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $l(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ll(d){return d.h?1:d.g?d.g.size:0}function Wc(d,m){return d.h?d.h==m:d.g?d.g.has(m):!1}function gf(d,m){d.g?d.g.add(m):d.h=m}function Eg(d,m){d.h&&d.h==m?d.h=null:d.g&&d.g.has(m)&&d.g.delete(m)}ts.prototype.cancel=function(){if(this.i=ns(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ns(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let m=d.i;for(const T of d.g.values())m=m.concat(T.D);return m}return x(d.i)}function Hc(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var m=[],T=d.length,D=0;D<T;D++)m.push(d[D]);return m}m=[],T=0;for(D in d)m[T++]=d[D];return m}function Gc(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var m=[];d=d.length;for(var T=0;T<d;T++)m.push(T);return m}m=[],T=0;for(const D in d)m[T++]=D;return m}}}function Sg(d,m){if(d.forEach&&typeof d.forEach=="function")d.forEach(m,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,m,void 0);else for(var T=Gc(d),D=Hc(d),U=D.length,q=0;q<U;q++)m.call(void 0,D[q],T&&T[q],d)}var Cg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function H_(d,m){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var D=d[T].indexOf("="),U=null;if(0<=D){var q=d[T].substring(0,D);U=d[T].substring(D+1)}else q=d[T];m(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function rr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof rr){this.h=d.h,qc(this,d.j),this.o=d.o,this.g=d.g,Kc(this,d.s),this.l=d.l;var m=d.i,T=new Bl;T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),Tg(this,T),this.m=d.m}else d&&(m=String(d).match(Cg))?(this.h=!1,qc(this,m[1]||"",!0),this.o=Fl(m[2]||""),this.g=Fl(m[3]||"",!0),Kc(this,m[4]),this.l=Fl(m[5]||"",!0),Tg(this,m[6]||"",!0),this.m=Fl(m[7]||"")):(this.h=!1,this.i=new Bl(null,this.h))}rr.prototype.toString=function(){var d=[],m=this.j;m&&d.push(ba(m,Ig,!0),":");var T=this.g;return(T||m=="file")&&(d.push("//"),(m=this.o)&&d.push(ba(m,Ig,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(ba(T,T.charAt(0)=="/"?K_:q_,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",ba(T,X_)),d.join("")};function oo(d){return new rr(d)}function qc(d,m,T){d.j=T?Fl(m,!0):m,d.j&&(d.j=d.j.replace(/:$/,""))}function Kc(d,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);d.s=m}else d.s=null}function Tg(d,m,T){m instanceof Bl?(d.i=m,Q_(d.i,d.h)):(T||(m=ba(m,Y_)),d.i=new Bl(m,d.h))}function Xt(d,m,T){d.i.set(m,T)}function Yc(d){return Xt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Fl(d,m){return d?m?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ba(d,m,T){return typeof d=="string"?(d=encodeURI(d).replace(m,G_),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function G_(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ig=/[#\/\?@]/g,q_=/[#\?:]/g,K_=/[#\?]/g,Y_=/[#\?@]/g,X_=/#/g;function Bl(d,m){this.h=this.g=null,this.i=d||null,this.j=!!m}function rs(d){d.g||(d.g=new Map,d.h=0,d.i&&H_(d.i,function(m,T){d.add(decodeURIComponent(m.replace(/\+/g," ")),T)}))}t=Bl.prototype,t.add=function(d,m){rs(this),this.i=null,d=wa(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(m),this.h+=1,this};function Rg(d,m){rs(d),m=wa(d,m),d.g.has(m)&&(d.i=null,d.h-=d.g.get(m).length,d.g.delete(m))}function mf(d,m){return rs(d),m=wa(d,m),d.g.has(m)}t.forEach=function(d,m){rs(this),this.g.forEach(function(T,D){T.forEach(function(U){d.call(m,U,D,this)},this)},this)},t.na=function(){rs(this);const d=Array.from(this.g.values()),m=Array.from(this.g.keys()),T=[];for(let D=0;D<m.length;D++){const U=d[D];for(let q=0;q<U.length;q++)T.push(m[D])}return T},t.V=function(d){rs(this);let m=[];if(typeof d=="string")mf(this,d)&&(m=m.concat(this.g.get(wa(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)m=m.concat(d[T])}return m},t.set=function(d,m){return rs(this),this.i=null,d=wa(this,d),mf(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[m]),this.h+=1,this},t.get=function(d,m){return d?(d=this.V(d),0<d.length?String(d[0]):m):m};function yf(d,m,T){Rg(d,m),0<T.length&&(d.i=null,d.g.set(wa(d,m),x(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],m=Array.from(this.g.keys());for(var T=0;T<m.length;T++){var D=m[T];const q=encodeURIComponent(String(D)),he=this.V(D);for(D=0;D<he.length;D++){var U=q;he[D]!==""&&(U+="="+encodeURIComponent(String(he[D]))),d.push(U)}}return this.i=d.join("&")};function wa(d,m){return m=String(m),d.j&&(m=m.toLowerCase()),m}function Q_(d,m){m&&!d.j&&(rs(d),d.i=null,d.g.forEach(function(T,D){var U=D.toLowerCase();D!=U&&(Rg(this,D),yf(this,U,T))},d)),d.j=m}function J_(d,m){const T=new Mt;if(a.Image){const D=new Image;D.onload=p(so,T,"TestLoadImage: loaded",!0,m,D),D.onerror=p(so,T,"TestLoadImage: error",!1,m,D),D.onabort=p(so,T,"TestLoadImage: abort",!1,m,D),D.ontimeout=p(so,T,"TestLoadImage: timeout",!1,m,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else m(!1)}function Z_(d,m){const T=new Mt,D=new AbortController,U=setTimeout(()=>{D.abort(),so(T,"TestPingServer: timeout",!1,m)},1e4);fetch(d,{signal:D.signal}).then(q=>{clearTimeout(U),q.ok?so(T,"TestPingServer: ok",!0,m):so(T,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),so(T,"TestPingServer: error",!1,m)})}function so(d,m,T,D,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),D(T)}catch{}}function vf(){this.g=new Yt}function eb(d,m,T){const D=T||"";try{Sg(d,function(U,q){let he=U;c(U)&&(he=xe(U)),m.push(D+q+"="+encodeURIComponent(he))})}catch(U){throw m.push(D+"type="+encodeURIComponent("_badmap")),U}}function Xc(d){this.l=d.Ub||null,this.j=d.eb||!1}g(Xc,Vn),Xc.prototype.g=function(){return new Qc(this.l,this.j)},Xc.prototype.i=function(d){return function(){return d}}({});function Qc(d,m){Et.call(this),this.D=d,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Qc,Et),t=Qc.prototype,t.open=function(d,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=m,this.readyState=1,Vl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(m.body=d),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xa(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Vl(this)),this.g&&(this.readyState=3,Vl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pg(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pg(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var m=d.value?d.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!d.done}))&&(this.response=this.responseText+=m)}d.done?xa(this):Vl(this),this.readyState==3&&Pg(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,xa(this))},t.Qa=function(d){this.g&&(this.response=d,xa(this))},t.ga=function(){this.g&&xa(this)};function xa(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Vl(d)}t.setRequestHeader=function(d,m){this.u.append(d,m)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],m=this.h.entries();for(var T=m.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=m.next();return d.join(`\r
`)};function Vl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Qc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Ea(d){let m="";return N(d,function(T,D){m+=D,m+=":",m+=T,m+=`\r
`}),m}function _f(d,m,T){e:{for(D in T){var D=!1;break e}D=!0}D||(T=Ea(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):Xt(d,m,T))}function vn(d){Et.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(vn,Et);var tb=/^https?$/i,nb=["POST","PUT"];t=vn.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,m,T,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);m=m?m.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Os.g(),this.v=this.o?qr(this.o):qr(Os),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(m,String(d),!0),this.B=!1}catch(q){Oo(this,q);return}if(d=T||"",T=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var U in D)T.set(U,D[U]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const q of D.keys())T.set(q,D.get(q));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(T.keys()).find(q=>q.toLowerCase()=="content-type"),U=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(nb,m,void 0))||D||U||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,he]of T)this.g.setRequestHeader(q,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ag(this),this.u=!0,this.g.send(d),this.u=!1}catch(q){Oo(this,q)}};function Oo(d,m){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=m,d.m=5,Sa(d),Jc(d)}function Sa(d){d.A||(d.A=!0,_t(d,"complete"),_t(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,_t(this,"complete"),_t(this,"abort"),Jc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jc(this,!0)),vn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?kg(this):this.bb())},t.bb=function(){kg(this)};function kg(d){if(d.h&&typeof s<"u"&&(!d.v[1]||$(d)!=4||d.Z()!=2)){if(d.u&&$(d)==4)Bt(d.Ea,0,d);else if(_t(d,"readystatechange"),$(d)==4){d.h=!1;try{const he=d.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var T;if(!(T=m)){var D;if(D=he===0){var U=String(d.D).match(Cg)[1]||null;!U&&a.self&&a.self.location&&(U=a.self.location.protocol.slice(0,-1)),D=!tb.test(U?U.toLowerCase():"")}T=D}if(T)_t(d,"complete"),_t(d,"success");else{d.m=6;try{var q=2<$(d)?d.g.statusText:""}catch{q=""}d.l=q+" ["+d.Z()+"]",Sa(d)}}finally{Jc(d)}}}}function Jc(d,m){if(d.g){Ag(d);const T=d.g,D=d.v[0]?()=>{}:null;d.g=null,d.v=null,m||_t(d,"ready");try{T.onreadystatechange=D}catch{}}}function Ag(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function $(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<$(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var m=this.g.responseText;return d&&m.indexOf(d)==0&&(m=m.substring(d.length)),Ie(m)}};function B(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function z(d){const m={};d=(d.g&&2<=$(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(b(d[D]))continue;var T=k(d[D]);const U=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const q=m[U]||[];m[U]=q,q.push(T)}E(m,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function V(d,m,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||m}function G(d){this.Aa=0,this.i=[],this.j=new Mt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=V("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=V("baseRetryDelayMs",5e3,d),this.cb=V("retryDelaySeedMs",1e4,d),this.Wa=V("forwardChannelMaxRetries",2,d),this.wa=V("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ts(d&&d.concurrentRequestLimit),this.Da=new vf,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=G.prototype,t.la=8,t.G=1,t.connect=function(d,m,T,D){fe(0),this.W=d,this.H=m||{},T&&D!==void 0&&(this.H.OSID=T,this.H.OAID=D),this.F=this.X,this.I=Rt(this,null,this.W),Me(this)};function Z(d){if(ve(d),d.G==3){var m=d.U++,T=oo(d.I);if(Xt(T,"SID",d.K),Xt(T,"RID",m),Xt(T,"TYPE","terminate"),Be(d,T),m=new X(d,d.j,m),m.L=2,m.v=Yc(oo(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=m.v,T=!0),T||(m.g=Yr(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Dl(m)}kt(d)}function ce(d){d.g&&(Ht(d),d.g.cancel(),d.g=null)}function ve(d){ce(d),d.u&&(a.clearTimeout(d.u),d.u=null),Oi(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Me(d){if(!$l(d.h)&&!d.s){d.s=!0;var m=d.Ga;ne||K(),j||(ne(),j=!0),F.add(m,d),d.B=0}}function Te(d,m){return Ll(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=m.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=et(h(d.Ga,d,m),ci(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const U=new X(this,this.j,d);let q=this.o;if(this.S&&(q?(q=I(q),v(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)e:{for(var m=0,T=0;T<this.i.length;T++){t:{var D=this.i[T];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(m+=D,4096<m){m=T;break e}if(m===4096||T===this.i.length-1){m=T+1;break e}}m=1e3}else m=1e3;m=tt(this,U,m),T=oo(this.I),Xt(T,"RID",d),Xt(T,"CVER",22),this.D&&Xt(T,"X-HTTP-Session-Id",this.D),Be(this,T),q&&(this.O?m="headers="+encodeURIComponent(String(Ea(q)))+"&"+m:this.m&&_f(T,this.m,q)),gf(this.h,U),this.Ua&&Xt(T,"TYPE","init"),this.P?(Xt(T,"$req",m),Xt(T,"SID","null"),U.T=!0,$t(U,T,null)):$t(U,T,m),this.G=2}}else this.G==3&&(d?Se(this,d):this.i.length==0||$l(this.h)||Se(this))};function Se(d,m){var T;m?T=m.l:T=d.U++;const D=oo(d.I);Xt(D,"SID",d.K),Xt(D,"RID",T),Xt(D,"AID",d.T),Be(d,D),d.m&&d.o&&_f(D,d.m,d.o),T=new X(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),m&&(d.i=m.D.concat(d.i)),m=tt(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),gf(d.h,T),$t(T,D,m)}function Be(d,m){d.H&&N(d.H,function(T,D){Xt(m,D,T)}),d.l&&Sg({},function(T,D){Xt(m,D,T)})}function tt(d,m,T){T=Math.min(d.i.length,T);var D=d.l?h(d.l.Na,d.l,d):null;e:{var U=d.i;let q=-1;for(;;){const he=["count="+T];q==-1?0<T?(q=U[0].g,he.push("ofs="+q)):q=0:he.push("ofs="+q);let Qt=!0;for(let br=0;br<T;br++){let Lt=U[br].g;const kr=U[br].map;if(Lt-=q,0>Lt)q=Math.max(0,U[br].g-100),Qt=!1;else try{eb(kr,he,"req"+Lt+"_")}catch{D&&D(kr)}}if(Qt){D=he.join("&");break e}}}return d=d.i.splice(0,T),m.D=d,D}function jt(d){if(!d.g&&!d.u){d.Y=1;var m=d.Fa;ne||K(),j||(ne(),j=!0),F.add(m,d),d.v=0}}function ze(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=et(h(d.Fa,d),ci(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,ir(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=et(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fe(10),ce(this),ir(this))};function Ht(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function ir(d){d.g=new X(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var m=oo(d.qa);Xt(m,"RID","rpc"),Xt(m,"SID",d.K),Xt(m,"AID",d.T),Xt(m,"CI",d.F?"0":"1"),!d.F&&d.ja&&Xt(m,"TO",d.ja),Xt(m,"TYPE","xmlhttp"),Be(d,m),d.m&&d.o&&_f(m,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=Yc(oo(m)),T.m=null,T.P=!0,yn(T,d)}t.Za=function(){this.C!=null&&(this.C=null,ce(this),ze(this),fe(19))};function Oi(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function li(d,m){var T=null;if(d.g==m){Oi(d),Ht(d),d.g=null;var D=2}else if(Wc(d.h,m))T=m.D,Eg(d.h,m),D=1;else return;if(d.G!=0){if(m.o)if(D==1){T=m.m?m.m.length:0,m=Date.now()-m.F;var U=d.B;D=io(),_t(D,new lt(D,T)),Me(d)}else jt(d);else if(U=m.s,U==3||U==0&&0<m.X||!(D==1&&Te(d,m)||D==2&&ze(d)))switch(T&&0<T.length&&(m=d.h,m.i=m.i.concat(T)),U){case 1:Xn(d,5);break;case 4:Xn(d,10);break;case 3:Xn(d,6);break;default:Xn(d,2)}}}function ci(d,m){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*m}function Xn(d,m){if(d.j.info("Error code "+m),m==2){var T=h(d.fb,d),D=d.Xa;const U=!D;D=new rr(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||qc(D,"https"),Yc(D),U?J_(D.toString(),T):Z_(D.toString(),T)}else fe(2);d.G=0,d.l&&d.l.sa(m),kt(d),ve(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),fe(2)):(this.j.info("Failed to ping google.com"),fe(1))};function kt(d){if(d.G=0,d.ka=[],d.l){const m=ns(d.h);(m.length!=0||d.i.length!=0)&&(S(d.ka,m),S(d.ka,d.i),d.h.i.length=0,x(d.i),d.i.length=0),d.l.ra()}}function Rt(d,m,T){var D=T instanceof rr?oo(T):new rr(T);if(D.g!="")m&&(D.g=m+"."+D.g),Kc(D,D.s);else{var U=a.location;D=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var q=new rr(null);D&&qc(q,D),m&&(q.g=m),U&&Kc(q,U),T&&(q.l=T),D=q}return T=d.D,m=d.ya,T&&m&&Xt(D,T,m),Xt(D,"VER",d.la),Be(d,D),D}function Yr(d,m,T){if(m&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=d.Ca&&!d.pa?new vn(new Xc({eb:T})):new vn(d.pa),m.Ha(d.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pr(){}t=Pr.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ms(){}Ms.prototype.g=function(d,m){return new _r(d,m)};function _r(d,m){Et.call(this),this.g=new G(m),this.l=d,this.h=m&&m.messageUrlParams||null,d=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(d?d["X-WebChannel-Content-Type"]=m.messageContentType:d={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(d?d["X-WebChannel-Client-Profile"]=m.va:d={"X-WebChannel-Client-Profile":m.va}),this.g.S=d,(d=m&&m.Sb)&&!b(d)&&(this.g.m=d),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!b(m)&&(this.g.D=m,d=this.h,d!==null&&m in d&&(d=this.h,m in d&&delete d[m])),this.j=new Ds(this)}g(_r,Et),_r.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_r.prototype.close=function(){Z(this.g)},_r.prototype.o=function(d){var m=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=xe(d),d=T);m.i.push(new Ao(m.Ya++,d)),m.G==3&&Me(m)},_r.prototype.N=function(){this.g.l=null,delete this.j,Z(this.g),delete this.g,_r.aa.N.call(this)};function Ca(d){Un.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var m=d.__sm__;if(m){e:{for(const T in m){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,m=m!==null&&d in m?m[d]:void 0),this.data=m}else this.data=d}g(Ca,Un);function Zc(){ki.call(this),this.status=1}g(Zc,ki);function Ds(d){this.g=d}g(Ds,Pr),Ds.prototype.ua=function(){_t(this.g,"a")},Ds.prototype.ta=function(d){_t(this.g,new Ca(d))},Ds.prototype.sa=function(d){_t(this.g,new Zc)},Ds.prototype.ra=function(){_t(this.g,"b")},Ms.prototype.createWebChannel=Ms.prototype.g,_r.prototype.send=_r.prototype.o,_r.prototype.open=_r.prototype.m,_r.prototype.close=_r.prototype.close,R$=function(){return new Ms},I$=function(){return io()},T$=rn,Px={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mn.NO_ERROR=0,mn.TIMEOUT=8,mn.HTTP_ERROR=6,qm=mn,ai.COMPLETE="complete",C$=ai,gr.EventType=Ir,Ir.OPEN="a",Ir.CLOSE="b",Ir.ERROR="c",Ir.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Jf=gr,vn.prototype.listenOnce=vn.prototype.L,vn.prototype.getLastError=vn.prototype.Ka,vn.prototype.getLastErrorCode=vn.prototype.Ba,vn.prototype.getStatus=vn.prototype.Z,vn.prototype.getResponseJson=vn.prototype.Oa,vn.prototype.getResponseText=vn.prototype.oa,vn.prototype.send=vn.prototype.ea,vn.prototype.setWithCredentials=vn.prototype.Ha,S$=vn}).apply(typeof Zg<"u"?Zg:typeof self<"u"?self:typeof window<"u"?window:{});const iP="@firebase/firestore",oP="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vr.UNAUTHENTICATED=new Vr(null),Vr.GOOGLE_CREDENTIALS=new Vr("google-credentials-uid"),Vr.FIRST_PARTY=new Vr("first-party-uid"),Vr.MOCK_USER=new Vr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=new i0("@firebase/firestore");function cu(){return mc.logLevel}function Ce(t,...e){if(mc.logLevel<=wt.DEBUG){const n=e.map(uC);mc.debug(`Firestore (${zd}): ${t}`,...n)}}function la(t,...e){if(mc.logLevel<=wt.ERROR){const n=e.map(uC);mc.error(`Firestore (${zd}): ${t}`,...n)}}function gd(t,...e){if(mc.logLevel<=wt.WARN){const n=e.map(uC);mc.warn(`Firestore (${zd}): ${t}`,...n)}}function uC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t="Unexpected state"){const e=`FIRESTORE (${zd}) INTERNAL ASSERTION FAILED: `+t;throw la(e),new Error(e)}function zt(t,e){t||Ke()}function nt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends Is{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vr.UNAUTHENTICATED))}shutdown(){}}class UH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jH{constructor(e){this.t=e,this.currentUser=Vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){zt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new rl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new rl,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new rl)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(zt(typeof r.accessToken=="string"),new P$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return zt(e===null||typeof e=="string"),new Vr(e)}}class zH{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Vr.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class WH{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new zH(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HH{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Zr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){zt(this.o===void 0);const r=o=>{o.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Ce("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new sP(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(zt(typeof n.token=="string"),this.R=n.token,new sP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=GH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function pt(t,e){return t<e?-1:t>e?1:0}function kx(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return pt(r,i);{const o=k$(),s=qH(o.encode(aP(t,n)),o.encode(aP(e,n)));return s!==0?s:pt(r,i)}}n+=r>65535?2:1}return pt(t.length,e.length)}function aP(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function qH(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return pt(t[n],e[n]);return pt(t.length,e.length)}function md(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=-62135596800,cP=1e6;class tr{static now(){return tr.fromMillis(Date.now())}static fromDate(e){return tr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*cP);return new tr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lP)throw new Pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cP}_compareTo(e){return this.seconds===e.seconds?pt(this.nanoseconds,e.nanoseconds):pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-lP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{static fromTimestamp(e){return new Je(e)}static min(){return new Je(new tr(0,0))}static max(){return new Je(new tr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP="__name__";class as{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ke(),r===void 0?r=e.length-n:r>e.length-n&&Ke(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return as.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof as?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=as.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return pt(e.length,n.length)}static compareSegments(e,n){const r=as.isNumericId(e),i=as.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?as.extractNumericId(e).compare(as.extractNumericId(n)):kx(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return nl.fromString(e.substring(4,e.length-2))}}class pn extends as{construct(e,n,r){return new pn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pn(n)}static emptyPath(){return new pn([])}}const KH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Er extends as{construct(e,n,r){return new Er(e,n,r)}static isValidIdentifier(e){return KH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Er.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uP}static keyField(){return new Er([uP])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Pe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Pe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Pe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Pe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Er(n)}static emptyPath(){return new Er([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(pn.fromString(e))}static fromName(e){return new Ue(pn.fromString(e).popFirst(5))}static empty(){return new Ue(pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new pn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=-1;function YH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Je.fromTimestamp(r===1e9?new tr(n+1,0):new tr(n,r));return new dl(i,Ue.empty(),e)}function XH(t){return new dl(t.readTime,t.key,ip)}class dl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new dl(Je.min(),Ue.empty(),ip)}static max(){return new dl(Je.max(),Ue.empty(),ip)}}function QH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ue.comparator(t.documentKey,e.documentKey),n!==0?n:pt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wd(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==JH)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new ee((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function e8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}c0.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=-1;function u0(t){return t==null}function zy(t){return t===0&&1/t==-1/0}function t8(t){return typeof t=="number"&&Number.isInteger(t)&&!zy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$="";function n8(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dP(e)),e=r8(t.get(n),e);return dP(e)}function r8(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case O$:n+="";break;default:n+=o}}return n}function dP(t){return t+O$+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Al(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function N$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kn=class Ax{constructor(e,n){this.comparator=e,this.root=n||il.EMPTY}insert(e,n){return new Ax(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,il.BLACK,null,null))}remove(e){return new Ax(this.comparator,this.root.remove(e,this.comparator).copy(null,null,il.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new em(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new em(this.root,e,this.comparator,!1)}getReverseIterator(){return new em(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new em(this.root,e,this.comparator,!0)}},em=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},il=class Bs{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Bs.RED,this.left=i??Bs.EMPTY,this.right=o??Bs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Bs(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Bs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ke();const e=this.left.check();if(e!==this.right.check())throw Ke();return e+(this.isRed()?0:1)}};il.EMPTY=null,il.RED=!0,il.BLACK=!1;il.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(e,n,r,i,o){return this}insert(e,n,r){return new il(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.comparator=e,this.data=new Kn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hP(this.data.getIterator())}getIteratorFrom(e){return new hP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nr(this.comparator);return n.data=e,n}}class hP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.fields=e,e.sort(Er.comparator)}static empty(){return new zi([])}unionWith(e){let n=new nr(Er.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return md(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new M$("Invalid base64 string: "+o):o}}(e);return new Tr(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Tr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const i8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fl(t){if(zt(!!t),typeof t=="string"){let e=0;const n=i8.exec(t);if(zt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$n(t.seconds),nanos:$n(t.nanos)}}function $n(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hl(t){return typeof t=="string"?Tr.fromBase64String(t):Tr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$="server_timestamp",$$="__type__",L$="__previous_value__",F$="__local_write_time__";function fC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[$$])===null||n===void 0?void 0:n.stringValue)===D$}function d0(t){const e=t.mapValue.fields[L$];return fC(e)?d0(e):e}function op(t){const e=fl(t.mapValue.fields[F$].timestampValue);return new tr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const Wy="(default)";class sp{constructor(e,n){this.projectId=e,this.database=n||Wy}static empty(){return new sp("","")}get isDefaultDatabase(){return this.database===Wy}isEqual(e){return e instanceof sp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$="__type__",s8="__max__",tm={mapValue:{}},V$="__vector__",Hy="value";function pl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fC(t)?4:l8(t)?9007199254740991:a8(t)?10:11:Ke()}function xs(t,e){if(t===e)return!0;const n=pl(t);if(n!==pl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return op(t).isEqual(op(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=fl(i.timestampValue),a=fl(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return hl(i.bytesValue).isEqual(hl(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return $n(i.geoPointValue.latitude)===$n(o.geoPointValue.latitude)&&$n(i.geoPointValue.longitude)===$n(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return $n(i.integerValue)===$n(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=$n(i.doubleValue),a=$n(o.doubleValue);return s===a?zy(s)===zy(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return md(t.arrayValue.values||[],e.arrayValue.values||[],xs);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(fP(s)!==fP(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!xs(s[l],a[l])))return!1;return!0}(t,e);default:return Ke()}}function ap(t,e){return(t.values||[]).find(n=>xs(n,e))!==void 0}function yd(t,e){if(t===e)return 0;const n=pl(t),r=pl(e);if(n!==r)return pt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=$n(o.integerValue||o.doubleValue),l=$n(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return pP(t.timestampValue,e.timestampValue);case 4:return pP(op(t),op(e));case 5:return kx(t.stringValue,e.stringValue);case 6:return function(o,s){const a=hl(o),l=hl(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=pt(a[c],l[c]);if(u!==0)return u}return pt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=pt($n(o.latitude),$n(s.latitude));return a!==0?a:pt($n(o.longitude),$n(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return gP(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,c,u;const f=o.fields||{},h=s.fields||{},p=(a=f[Hy])===null||a===void 0?void 0:a.arrayValue,g=(l=h[Hy])===null||l===void 0?void 0:l.arrayValue,x=pt(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return x!==0?x:gP(p,g)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===tm.mapValue&&s===tm.mapValue)return 0;if(o===tm.mapValue)return 1;if(s===tm.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=kx(l[f],u[f]);if(h!==0)return h;const p=yd(a[l[f]],c[u[f]]);if(p!==0)return p}return pt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ke()}}function pP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pt(t,e);const n=fl(t),r=fl(e),i=pt(n.seconds,r.seconds);return i!==0?i:pt(n.nanos,r.nanos)}function gP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=yd(n[i],r[i]);if(o)return o}return pt(n.length,r.length)}function vd(t){return Ox(t)}function Ox(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=fl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return hl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Ox(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Ox(n.fields[s])}`;return i+"}"}(t.mapValue):Ke()}function Km(t){switch(pl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=d0(t);return e?16+Km(e):16;case 5:return 2*t.stringValue.length;case 6:return hl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Km(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Al(r.fields,(o,s)=>{i+=o.length+Km(s)}),i}(t.mapValue);default:throw Ke()}}function mP(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Nx(t){return!!t&&"integerValue"in t}function hC(t){return!!t&&"arrayValue"in t}function yP(t){return!!t&&"nullValue"in t}function vP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ym(t){return!!t&&"mapValue"in t}function a8(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[B$])===null||n===void 0?void 0:n.stringValue)===V$}function vh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Al(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function l8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===s8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.value=e}static empty(){return new pi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ym(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vh(n)}setAll(e){let n=Er.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=vh(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Ym(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ym(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Al(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new pi(vh(this.value))}}function U$(t){const e=[];return Al(t.fields,(n,r)=>{const i=new Er([n]);if(Ym(r)){const o=U$(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new zi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new jr(e,0,Je.min(),Je.min(),Je.min(),pi.empty(),0)}static newFoundDocument(e,n,r,i){return new jr(e,1,n,Je.min(),r,i,0)}static newNoDocument(e,n){return new jr(e,2,n,Je.min(),Je.min(),pi.empty(),0)}static newUnknownDocument(e,n){return new jr(e,3,n,Je.min(),Je.min(),pi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n){this.position=e,this.inclusive=n}}function _P(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Ue.comparator(Ue.fromName(s.referenceValue),n.key):r=yd(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function bP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n="asc"){this.field=e,this.dir=n}}function c8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${}class qn extends j${constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new d8(e,n,r):n==="array-contains"?new p8(e,r):n==="in"?new g8(e,r):n==="not-in"?new m8(e,r):n==="array-contains-any"?new y8(e,r):new qn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new f8(e,r):new h8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(yd(n,this.value)):n!==null&&pl(this.value)===pl(n)&&this.matchesComparison(yd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xo extends j${constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Xo(e,n)}matches(e){return z$(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function z$(t){return t.op==="and"}function W$(t){return u8(t)&&z$(t)}function u8(t){for(const e of t.filters)if(e instanceof Xo)return!1;return!0}function Mx(t){if(t instanceof qn)return t.field.canonicalString()+t.op.toString()+vd(t.value);if(W$(t))return t.filters.map(e=>Mx(e)).join(",");{const e=t.filters.map(n=>Mx(n)).join(",");return`${t.op}(${e})`}}function H$(t,e){return t instanceof qn?function(r,i){return i instanceof qn&&r.op===i.op&&r.field.isEqual(i.field)&&xs(r.value,i.value)}(t,e):t instanceof Xo?function(r,i){return i instanceof Xo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&H$(s,i.filters[a]),!0):!1}(t,e):void Ke()}function G$(t){return t instanceof qn?function(n){return`${n.field.canonicalString()} ${n.op} ${vd(n.value)}`}(t):t instanceof Xo?function(n){return n.op.toString()+" {"+n.getFilters().map(G$).join(" ,")+"}"}(t):"Filter"}class d8 extends qn{constructor(e,n,r){super(e,n,r),this.key=Ue.fromName(r.referenceValue)}matches(e){const n=Ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class f8 extends qn{constructor(e,n){super(e,"in",n),this.keys=q$("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class h8 extends qn{constructor(e,n){super(e,"not-in",n),this.keys=q$("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function q$(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ue.fromName(r.referenceValue))}class p8 extends qn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hC(n)&&ap(n.arrayValue,this.value)}}class g8 extends qn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ap(this.value.arrayValue,n)}}class m8 extends qn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ap(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ap(this.value.arrayValue,n)}}class y8 extends qn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hC(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ap(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.le=null}}function wP(t,e=null,n=[],r=[],i=null,o=null,s=null){return new v8(t,e,n,r,i,o,s)}function pC(t){const e=nt(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Mx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),u0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vd(r)).join(",")),e.le=n}return e.le}function gC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!c8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!H$(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bP(t.startAt,e.startAt)&&bP(t.endAt,e.endAt)}function Dx(t){return Ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function _8(t,e,n,r,i,o,s,a){return new jp(t,e,n,r,i,o,s,a)}function mC(t){return new jp(t)}function xP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function K$(t){return t.collectionGroup!==null}function _h(t){const e=nt(t);if(e.he===null){e.he=[];const n=new Set;for(const o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new nr(Er.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new qy(o,r))}),n.has(Er.keyField().canonicalString())||e.he.push(new qy(Er.keyField(),r))}return e.he}function ms(t){const e=nt(t);return e.Pe||(e.Pe=b8(e,_h(t))),e.Pe}function b8(t,e){if(t.limitType==="F")return wP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new qy(i.field,o)});const n=t.endAt?new Gy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gy(t.startAt.position,t.startAt.inclusive):null;return wP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $x(t,e){const n=t.filters.concat([e]);return new jp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Lx(t,e,n){return new jp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function f0(t,e){return gC(ms(t),ms(e))&&t.limitType===e.limitType}function Y$(t){return`${pC(ms(t))}|lt:${t.limitType}`}function uu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>G$(i)).join(", ")}]`),u0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>vd(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>vd(i)).join(",")),`Target(${r})`}(ms(t))}; limitType=${t.limitType})`}function h0(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ue.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of _h(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=_P(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,_h(r),i)||r.endAt&&!function(s,a,l){const c=_P(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,_h(r),i))}(t,e)}function w8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function X$(t){return(e,n)=>{let r=!1;for(const i of _h(t)){const o=x8(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function x8(t,e,n){const r=t.field.isKeyField()?Ue.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?yd(l,c):Ke()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Al(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return N$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8=new Kn(Ue.comparator);function ca(){return E8}const Q$=new Kn(Ue.comparator);function Zf(...t){let e=Q$;for(const n of t)e=e.insert(n.key,n);return e}function J$(t){let e=Q$;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zl(){return bh()}function Z$(){return bh()}function bh(){return new Pc(t=>t.toString(),(t,e)=>t.isEqual(e))}const S8=new Kn(Ue.comparator),C8=new nr(Ue.comparator);function Ct(...t){let e=C8;for(const n of t)e=e.add(n);return e}const T8=new nr(pt);function I8(){return T8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zy(e)?"-0":e}}function eL(t){return{integerValue:""+t}}function R8(t,e){return t8(e)?eL(e):yC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this._=void 0}}function P8(t,e,n){return t instanceof lp?function(i,o){const s={fields:{[$$]:{stringValue:D$},[F$]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&fC(o)&&(o=d0(o)),o&&(s.fields[L$]=o),{mapValue:s}}(n,e):t instanceof _d?nL(t,e):t instanceof cp?rL(t,e):function(i,o){const s=tL(i,o),a=EP(s)+EP(i.Ie);return Nx(s)&&Nx(i.Ie)?eL(a):yC(i.serializer,a)}(t,e)}function k8(t,e,n){return t instanceof _d?nL(t,e):t instanceof cp?rL(t,e):n}function tL(t,e){return t instanceof Ky?function(r){return Nx(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class lp extends p0{}class _d extends p0{constructor(e){super(),this.elements=e}}function nL(t,e){const n=iL(e);for(const r of t.elements)n.some(i=>xs(i,r))||n.push(r);return{arrayValue:{values:n}}}class cp extends p0{constructor(e){super(),this.elements=e}}function rL(t,e){let n=iL(e);for(const r of t.elements)n=n.filter(i=>!xs(i,r));return{arrayValue:{values:n}}}class Ky extends p0{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function EP(t){return $n(t.integerValue||t.doubleValue)}function iL(t){return hC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n){this.field=e,this.transform=n}}function A8(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof _d&&i instanceof _d||r instanceof cp&&i instanceof cp?md(r.elements,i.elements,xs):r instanceof Ky&&i instanceof Ky?xs(r.Ie,i.Ie):r instanceof lp&&i instanceof lp}(t.transform,e.transform)}class O8{constructor(e,n){this.version=e,this.transformResults=n}}class ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class g0{}function sL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new m0(t.key,ni.none()):new zp(t.key,t.data,ni.none());{const n=t.data,r=pi.empty();let i=new nr(Er.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ol(t.key,r,new zi(i.toArray()),ni.none())}}function N8(t,e,n){t instanceof zp?function(i,o,s){const a=i.value.clone(),l=CP(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ol?function(i,o,s){if(!Xm(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=CP(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(aL(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function wh(t,e,n,r){return t instanceof zp?function(o,s,a,l){if(!Xm(o.precondition,s))return a;const c=o.value.clone(),u=TP(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ol?function(o,s,a,l){if(!Xm(o.precondition,s))return a;const c=TP(o.fieldTransforms,l,s),u=s.data;return u.setAll(aL(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Xm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function M8(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=tL(r.transform,i||null);o!=null&&(n===null&&(n=pi.empty()),n.set(r.field,o))}return n||null}function SP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&md(r,i,(o,s)=>A8(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zp extends g0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ol extends g0{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function aL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function CP(t,e,n){const r=new Map;zt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,k8(s,a,n[i]))}return r}function TP(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,P8(o,s,e))}return r}class m0 extends g0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class D8 extends g0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&N8(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Z$();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=sL(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Je.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ct())}isEqual(e){return this.batchId===e.batchId&&md(this.mutations,e.mutations,(n,r)=>SP(n,r))&&md(this.baseMutations,e.baseMutations,(n,r)=>SP(n,r))}}class vC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){zt(e.mutations.length===r.length);let i=function(){return S8}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new vC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn,At;function B8(t){switch(t){case te.OK:return Ke();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ke()}}function lL(t){if(t===void 0)return la("GRPC error has no .code"),te.UNKNOWN;switch(t){case zn.OK:return te.OK;case zn.CANCELLED:return te.CANCELLED;case zn.UNKNOWN:return te.UNKNOWN;case zn.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case zn.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case zn.INTERNAL:return te.INTERNAL;case zn.UNAVAILABLE:return te.UNAVAILABLE;case zn.UNAUTHENTICATED:return te.UNAUTHENTICATED;case zn.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case zn.NOT_FOUND:return te.NOT_FOUND;case zn.ALREADY_EXISTS:return te.ALREADY_EXISTS;case zn.PERMISSION_DENIED:return te.PERMISSION_DENIED;case zn.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case zn.ABORTED:return te.ABORTED;case zn.OUT_OF_RANGE:return te.OUT_OF_RANGE;case zn.UNIMPLEMENTED:return te.UNIMPLEMENTED;case zn.DATA_LOSS:return te.DATA_LOSS;default:return Ke()}}(At=zn||(zn={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8=new nl([4294967295,4294967295],0);function IP(t){const e=k$().encode(t),n=new E$;return n.update(e),new Uint8Array(n.digest())}function RP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new nl([n,r],0),new nl([i,o],0)]}class _C{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new eh(`Invalid padding: ${n}`);if(r<0)throw new eh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new eh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new eh(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=nl.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(nl.fromNumber(r)));return i.compare(V8)===1&&(i=new nl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=IP(e),[r,i]=RP(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new _C(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ee===0)return;const n=IP(e),[r,i]=RP(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);this.Ve(s)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class eh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Wp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new y0(Je.min(),i,new Kn(pt),ca(),Ct())}}class Wp{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wp(r,n,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class cL{constructor(e,n){this.targetId=e,this.ge=n}}class uL{constructor(e,n,r=Tr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class PP{constructor(){this.pe=0,this.ye=kP(),this.we=Tr.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ct(),n=Ct(),r=Ct();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ke()}}),new Wp(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=kP()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,zt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class U8{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ca(),this.$e=nm(),this.Ue=nm(),this.Ke=new Kn(pt)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Ke()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const o=i.target;if(Dx(o))if(r===0){const s=new Ue(o.path);this.ze(n,s,jr.newNoDocument(s,Je.min()))}else zt(r===1);else{const s=this.et(n);if(s!==r){const a=this.tt(e),l=a?this.nt(a,e,s):1;if(l!==0){this.Ye(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=hl(r).toUint8Array()}catch(l){if(l instanceof M$)return gd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new _C(s,i,o)}catch(l){return gd(l instanceof eh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ke.it(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,o,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((o,s)=>{const a=this.Xe(s);if(a){if(o.current&&Dx(a.target)){const l=new Ue(a.target.path);this._t(l).has(s)||this.ut(s,l)||this.ze(s,l,jr.newNoDocument(l,e))}o.ve&&(n.set(s,o.Fe()),o.Me())}});let r=Ct();this.Ue.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(e));const i=new y0(e,n,this.Ke,this.Qe,r);return this.Qe=ca(),this.$e=nm(),this.Ue=nm(),this.Ke=new Kn(pt),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new PP,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new nr(pt),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new nr(pt),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new PP),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function nm(){return new Kn(Ue.comparator)}function kP(){return new Kn(Ue.comparator)}const j8={asc:"ASCENDING",desc:"DESCENDING"},z8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W8={and:"AND",or:"OR"};class H8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fx(t,e){return t.useProto3Json||u0(e)?e:{value:e}}function Yy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function G8(t,e){return Yy(t,e.toTimestamp())}function ys(t){return zt(!!t),Je.fromTimestamp(function(n){const r=fl(n);return new tr(r.seconds,r.nanos)}(t))}function bC(t,e){return Bx(t,e).canonicalString()}function Bx(t,e){const n=function(i){return new pn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fL(t){const e=pn.fromString(t);return zt(yL(e)),e}function Vx(t,e){return bC(t.databaseId,e.path)}function Bb(t,e){const n=fL(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ue(pL(n))}function hL(t,e){return bC(t.databaseId,e)}function q8(t){const e=fL(t);return e.length===4?pn.emptyPath():pL(e)}function Ux(t){return new pn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pL(t){return zt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function AP(t,e,n){return{name:Vx(t,e),fields:n.value.mapValue.fields}}function K8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(zt(u===void 0||typeof u=="string"),Tr.fromBase64String(u||"")):(zt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Tr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?te.UNKNOWN:lL(c.code);return new Pe(u,c.message||"")}(s);n=new uL(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Bb(t,r.document.name),o=ys(r.document.updateTime),s=r.document.createTime?ys(r.document.createTime):Je.min(),a=new pi({mapValue:{fields:r.document.fields}}),l=jr.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Qm(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Bb(t,r.document),o=r.readTime?ys(r.readTime):Je.min(),s=jr.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Qm([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Bb(t,r.document),o=r.removedTargetIds||[];n=new Qm([],o,i,null)}else{if(!("filter"in e))return Ke();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new F8(i,o),a=r.targetId;n=new cL(a,s)}}return n}function Y8(t,e){let n;if(e instanceof zp)n={update:AP(t,e.key,e.value)};else if(e instanceof m0)n={delete:Vx(t,e.key)};else if(e instanceof Ol)n={update:AP(t,e.key,e.data),updateMask:i7(e.fieldMask)};else{if(!(e instanceof D8))return Ke();n={verify:Vx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof lp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof _d)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ky)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Ke()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:G8(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ke()}(t,e.precondition)),n}function X8(t,e){return t&&t.length>0?(zt(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?ys(i.updateTime):ys(o);return s.isEqual(Je.min())&&(s=ys(o)),new O8(s,i.transformResults||[])}(n,e))):[]}function Q8(t,e){return{documents:[hL(t,e.path)]}}function J8(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hL(t,i);const o=function(c){if(c.length!==0)return mL(Xo.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:du(h.field),direction:t7(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Fx(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:i}}function Z8(t){let e=q8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){zt(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(f){const h=gL(f);return h instanceof Xo&&W$(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(g){return new qy(fu(g.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,u0(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new Gy(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new Gy(p,h)}(n.endAt)),_8(e,i,s,o,a,"F",l,c)}function e7(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fu(n.unaryFilter.field);return qn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fu(n.unaryFilter.field);return qn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=fu(n.unaryFilter.field);return qn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=fu(n.unaryFilter.field);return qn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ke()}}(t):t.fieldFilter!==void 0?function(n){return qn.create(fu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ke()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xo.create(n.compositeFilter.filters.map(r=>gL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ke()}}(n.compositeFilter.op))}(t):Ke()}function t7(t){return j8[t]}function n7(t){return z8[t]}function r7(t){return W8[t]}function du(t){return{fieldPath:t.canonicalString()}}function fu(t){return Er.fromServerFormat(t.fieldPath)}function mL(t){return t instanceof qn?function(n){if(n.op==="=="){if(vP(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NAN"}};if(yP(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vP(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NOT_NAN"}};if(yP(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:du(n.field),op:n7(n.op),value:n.value}}}(t):t instanceof Xo?function(n){const r=n.getFilters().map(i=>mL(i));return r.length===1?r[0]:{compositeFilter:{op:r7(n.op),filters:r}}}(t):Ke()}function i7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n,r,i,o=Je.min(),s=Je.min(),a=Tr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ha(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e){this.Tt=e}}function s7(t){const e=Z8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(){this.Tn=new l7}addToCollectionParentIndex(e,n){return this.Tn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(dl.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(dl.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class l7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nr(pn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nr(pn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vL=41943040;class fi{static withCacheSize(e){return new fi(e,fi.DEFAULT_COLLECTION_PERCENTILE,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fi.DEFAULT_COLLECTION_PERCENTILE=10,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fi.DEFAULT=new fi(vL,fi.DEFAULT_COLLECTION_PERCENTILE,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fi.DISABLED=new fi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new bd(0)}static Kn(){return new bd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP="LruGarbageCollector",c7=1048576;function MP([t,e],[n,r]){const i=pt(t,n);return i===0?pt(e,r):i}class u7{constructor(e){this.Hn=e,this.buffer=new nr(MP),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();MP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class d7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ce(NP,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Hd(n)?Ce(NP,"Ignoring IndexedDB error during garbage collection: ",n):await Wd(n)}await this.er(3e5)})}}class f7{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(c0.ae);const r=new u7(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(OP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OP):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),cu()<=wt.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function h7(t,e){return new f7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(){this.changes=new Pc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&wh(r.mutation,i,zi.empty(),tr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ct()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ct()){const i=Zl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Zf();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Zl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ct()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=ca();const s=bh(),a=function(){return bh()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Ol)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),wh(u.mutation,c,u.mutation.getFieldMask(),tr.now())):s.set(c.key,zi.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>{var f;return a.set(c,new g7(u,(f=s.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=bh();let i=new Kn((s,a)=>s-a),o=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||zi.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(i.get(a.batchId)||Ct()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=Z$();u.forEach(h=>{if(!o.has(h)){const p=sL(n.get(h),r.get(h));p!==null&&f.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return ee.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Ue.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):K$(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ee.resolve(Zl());let a=ip,l=o;return s.next(c=>ee.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(u)?ee.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Ct())).next(u=>({batchId:a,changes:J$(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ue(n)).next(r=>{let i=Zf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Zf();return this.indexManager.getCollectionParents(e,o).next(a=>ee.forEach(a,l=>{const c=function(f,h){return new jp(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,jr.newInvalidDocument(u)))});let a=Zf();return s.forEach((l,c)=>{const u=o.get(l);u!==void 0&&wh(u.mutation,c,zi.empty(),tr.now()),h0(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ee.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ys(i.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:s7(i.bundledQuery),readTime:ys(i.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(){this.overlays=new Kn(Ue.comparator),this.Rr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zl();return ee.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Et(e,n,o)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=Zl(),o=n.length+1,s=new Ue(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Kn((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=Zl(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Zl(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return ee.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new L8(n,r));let o=this.Rr.get(n);o===void 0&&(o=Ct(),this.Rr.set(n,o)),this.Rr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(){this.sessionToken=Tr.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.Vr=new nr(ar.mr),this.gr=new nr(ar.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new ar(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new ar(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new Ue(new pn([])),r=new ar(n,e),i=new ar(n,e+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ue(new pn([])),r=new ar(n,e),i=new ar(n,e+1);let o=Ct();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new ar(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ar{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ue.comparator(e.key,n.key)||pt(e.Cr,n.Cr)}static pr(e,n){return pt(e.Cr,n.Cr)||Ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new nr(ar.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new $8(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Mr=this.Mr.add(new ar(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ee.resolve(s)}lookupMutationBatch(e,n){return ee.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),o=i<0?0:i;return ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?dC:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ar(n,0),i=new ar(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{const a=this.Or(s.Cr);o.push(a)}),ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nr(pt);return n.forEach(i=>{const o=new ar(i,0),s=new ar(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],a=>{r=r.add(a.Cr)})}),ee.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Ue.isDocumentKey(o)||(o=o.child(""));const s=new ar(new Ue(o),0);let a=new nr(pt);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Cr)),!0)},s),ee.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){zt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ee.forEach(n.mutations,i=>{const o=new ar(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new ar(n,0),i=this.Mr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(e){this.kr=e,this.docs=function(){return new Kn(Ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():jr.newInvalidDocument(n))}getEntries(e,n){let r=ca();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():jr.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ca();const s=n.path,a=new Ue(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||QH(XH(u),r)<=0||(i.has(u.key)||h0(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return ee.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ke()}qr(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new x7(this)}getSize(e){return ee.resolve(this.size)}}class x7 extends p7{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e){this.persistence=e,this.Qr=new Pc(n=>pC(n),gC),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.$r=0,this.Ur=new wC,this.targetCount=0,this.Kr=bd.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),ee.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new bd(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.zn(n),ee.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Qr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ee.waitFor(o).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ee.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new c0(0),this.zr=!1,this.zr=!0,this.jr=new _7,this.referenceDelegate=e(this),this.Hr=new E7(this),this.indexManager=new a7,this.remoteDocumentCache=function(i){return new w7(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new o7(n),this.Yr=new y7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new v7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new b7(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){Ce("MemoryPersistence","Starting transaction:",e);const i=new S7(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,n){return ee.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class S7 extends ZH{constructor(e){super(),this.currentSequenceNumber=e}}class xC{constructor(e){this.persistence=e,this.ti=new wC,this.ni=null}static ri(e){return new xC(e)}get ii(){if(this.ni)return this.ni;throw Ke()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ee.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,r=>{const i=Ue.fromPath(r);return this.si(e,i).next(o=>{o||n.removeEntry(i,Je.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ee.or([()=>ee.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Xy{constructor(e,n){this.persistence=e,this.oi=new Pc(r=>n8(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=h7(this,n)}static ri(e,n){return new Xy(e,n)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return ee.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?ee.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,n).next(a=>{a||(r++,o.removeEntry(s,Je.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Km(e.data.value)),n}ar(e,n,r){return ee.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=Ct(),i=Ct();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new EC(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return n9()?8:e8(Hr())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.rs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new C7;return this._s(e,n,s).next(a=>{if(o.result=a,this.Xi)return this.us(e,n,s,a.size)})}).next(()=>o.result)}us(e,n,r,i){return r.documentReadCount<this.es?(cu()<=wt.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",uu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(cu()<=wt.DEBUG&&Ce("QueryEngine","Query:",uu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(cu()<=wt.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",uu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ms(n))):ee.resolve())}rs(e,n){if(xP(n))return ee.resolve(null);let r=ms(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Lx(n,null,"F"),r=ms(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ct(...o);return this.ns.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(n,a);return this.ls(n,c,s,l.readTime)?this.rs(e,Lx(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,r,i){return xP(n)||i.isEqual(Je.min())?ee.resolve(null):this.ns.getDocuments(e,r).next(o=>{const s=this.cs(n,o);return this.ls(n,s,r,i)?ee.resolve(null):(cu()<=wt.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uu(n)),this.hs(e,s,n,YH(i,ip)).next(a=>a))})}cs(e,n){let r=new nr(X$(e));return n.forEach((i,o)=>{h0(e,o)&&(r=r.add(o))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,n,r){return cu()<=wt.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",uu(n)),this.ns.getDocumentsMatchingQuery(e,n,dl.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="LocalStore",I7=3e8;class R7{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Kn(pt),this.Is=new Pc(o=>pC(o),gC),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m7(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function P7(t,e,n,r){return new R7(t,e,n,r)}async function bL(t,e){const n=nt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ct();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:s,addedBatchIds:a}))})})}function k7(t,e){const n=nt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,h=f.keys();let p=ee.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(x=>{const S=c.docVersions.get(g);zt(S!==null),x.version.compareTo(S)<0&&(f.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),u.addEntry(x)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ct();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function wL(t){const e=nt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function A7(t,e){const n=nt(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;a.push(n.Hr.removeMatchingKeys(o,u.removedDocuments,f).next(()=>n.Hr.addMatchingKeys(o,u.addedDocuments,f)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Tr.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(f,p),function(x,S,y){return x.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=I7?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,u)&&a.push(n.Hr.updateTargetData(o,p))});let l=ca(),c=Ct();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(O7(o,s,e.documentUpdates).next(u=>{l=u.Vs,c=u.fs})),!r.isEqual(Je.min())){const u=n.Hr.getLastRemoteSnapshotVersion(o).next(f=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return ee.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ts=i,o))}function O7(t,e,n){let r=Ct(),i=Ct();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=ca();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Je.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Ce(SC,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:s,fs:i}})}function N7(t,e){const n=nt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=dC),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function M7(t,e){const n=nt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(o=>o?(i=o,ee.resolve(i)):n.Hr.allocateTargetId(r).next(s=>(i=new Ha(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function jx(t,e,n){const r=nt(t),i=r.Ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Hd(s))throw s;Ce(SC,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function DP(t,e,n){const r=nt(t);let i=Je.min(),o=Ct();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=nt(l),h=f.Is.get(u);return h!==void 0?ee.resolve(f.Ts.get(h)):f.Hr.getTargetData(c,u)}(r,s,ms(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,e,n?i:Je.min(),n?o:Ct())).next(a=>(D7(r,w8(e),a),{documents:a,gs:o})))}function D7(t,e,n){let r=t.Es.get(e)||Je.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Es.set(e,r)}class $P{constructor(){this.activeTargetIds=I8()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $7{constructor(){this.ho=new $P,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new $P,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="ConnectivityMonitor";class FP{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ce(LP,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ce(LP,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rm=null;function zx(){return rm===null?rm=function(){return 268435456+Math.round(2147483648*Math.random())}():rm++,"0x"+rm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="RestConnection",F7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class B7{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Wy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,o){const s=zx(),a=this.bo(e,n.toUriEncodedString());Ce(Vb,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,o),this.vo(e,a,l,r).then(c=>(Ce(Vb,`Received RPC '${e}' ${s}: `,c),c),c=>{throw gd(Vb,`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,n,r,i,o,s){return this.So(e,n,r,i,o)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,n){const r=F7[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="WebChannelConnection";class U7 extends B7{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const o=zx();return new Promise((s,a)=>{const l=new S$;l.setWithCredentials(!0),l.listenOnce(C$.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case qm.NO_ERROR:const u=l.getResponseJson();Ce(Mr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case qm.TIMEOUT:Ce(Mr,`RPC '${e}' ${o} timed out`),a(new Pe(te.DEADLINE_EXCEEDED,"Request time out"));break;case qm.HTTP_ERROR:const f=l.getStatus();if(Ce(Mr,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const g=function(S){const y=S.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(y)>=0?y:te.UNKNOWN}(p.status);a(new Pe(g,p.message))}else a(new Pe(te.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Pe(te.UNAVAILABLE,"Connection failed."));break;default:Ke()}}finally{Ce(Mr,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);Ce(Mr,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",c,r,15)})}Wo(e,n,r){const i=zx(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=R$(),a=I$(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");Ce(Mr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);let h=!1,p=!1;const g=new V7({Fo:S=>{p?Ce(Mr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(h||(Ce(Mr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Ce(Mr,`RPC '${e}' stream ${i} sending:`,S),f.send(S))},Mo:()=>f.close()}),x=(S,y,b)=>{S.listen(y,_=>{try{b(_)}catch(C){setTimeout(()=>{throw C},0)}})};return x(f,Jf.EventType.OPEN,()=>{p||(Ce(Mr,`RPC '${e}' stream ${i} transport opened.`),g.Qo())}),x(f,Jf.EventType.CLOSE,()=>{p||(p=!0,Ce(Mr,`RPC '${e}' stream ${i} transport closed`),g.Uo())}),x(f,Jf.EventType.ERROR,S=>{p||(p=!0,gd(Mr,`RPC '${e}' stream ${i} transport errored:`,S),g.Uo(new Pe(te.UNAVAILABLE,"The operation could not be completed")))}),x(f,Jf.EventType.MESSAGE,S=>{var y;if(!p){const b=S.data[0];zt(!!b);const _=b,C=(_==null?void 0:_.error)||((y=_[0])===null||y===void 0?void 0:y.error);if(C){Ce(Mr,`RPC '${e}' stream ${i} received error:`,C);const O=C.status;let N=function(R){const v=zn[R];if(v!==void 0)return lL(v)}(O),E=C.message;N===void 0&&(N=te.INTERNAL,E="Unknown error status: "+O+" with message "+C.message),p=!0,g.Uo(new Pe(N,E)),f.close()}else Ce(Mr,`RPC '${e}' stream ${i} received:`,b),g.Ko(b)}}),x(a,T$.STAT_EVENT,S=>{S.stat===Px.PROXY?Ce(Mr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Px.NOPROXY&&Ce(Mr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.$o()},0),g}}function Ub(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t){return new H8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="PersistentStream";class EL{constructor(e,n,r,i,o,s,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new xL(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(la(n.toString()),la("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new Pe(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ce(BP,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Ce(BP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class j7 extends EL{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=K8(this.serializer,e),r=function(o){if(!("targetChange"in o))return Je.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Je.min():s.readTime?ys(s.readTime):Je.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Ux(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Dx(l)?{documents:Q8(o,l)}:{query:J8(o,l).ht},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=dL(o,s.resumeToken);const c=Fx(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Je.min())>0){a.readTime=Yy(o,s.snapshotVersion.toTimestamp());const c=Fx(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=e7(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Ux(this.serializer),n.removeTarget=e,this.I_(n)}}class z7 extends EL{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return zt(!!e.streamToken),this.lastStreamToken=e.streamToken,zt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){zt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=X8(e.writeResults,e.commitTime),r=ys(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Ux(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Y8(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{}class H7 extends W7{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Pe(te.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,Bx(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(te.UNKNOWN,o.toString())})}Co(e,n,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(e,Bx(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pe(te.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class G7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(la(n),this.N_=!1):Ce("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc="RemoteStore";class q7{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(async()=>{kc(this)&&(Ce(yc,"Restarting streams for network reachability change."),await async function(l){const c=nt(l);c.W_.add(4),await Hp(c),c.j_.set("Unknown"),c.W_.delete(4),await _0(c)}(this))})}),this.j_=new G7(r,i)}}async function _0(t){if(kc(t))for(const e of t.G_)await e(!0)}async function Hp(t){for(const e of t.G_)await e(!1)}function SL(t,e){const n=nt(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),RC(n)?IC(n):Gd(n).c_()&&TC(n,e))}function CC(t,e){const n=nt(t),r=Gd(n);n.K_.delete(e),r.c_()&&CL(n,e),n.K_.size===0&&(r.c_()?r.P_():kc(n)&&n.j_.set("Unknown"))}function TC(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gd(t).y_(e)}function CL(t,e){t.H_.Ne(e),Gd(t).w_(e)}function IC(t){t.H_=new U8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Gd(t).start(),t.j_.B_()}function RC(t){return kc(t)&&!Gd(t).u_()&&t.K_.size>0}function kc(t){return nt(t).W_.size===0}function TL(t){t.H_=void 0}async function K7(t){t.j_.set("Online")}async function Y7(t){t.K_.forEach((e,n)=>{TC(t,e)})}async function X7(t,e){TL(t),RC(t)?(t.j_.q_(e),IC(t)):t.j_.set("Unknown")}async function Q7(t,e,n){if(t.j_.set("Online"),e instanceof uL&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.K_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.K_.delete(a),i.H_.removeTarget(a))}(t,e)}catch(r){Ce(yc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qy(t,r)}else if(e instanceof Qm?t.H_.We(e):e instanceof cL?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Je.min()))try{const r=await wL(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.H_.ot(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.K_.get(c);u&&o.K_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.K_.get(l);if(!u)return;o.K_.set(l,u.withResumeToken(Tr.EMPTY_BYTE_STRING,u.snapshotVersion)),CL(o,l);const f=new Ha(u.target,l,c,u.sequenceNumber);TC(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ce(yc,"Failed to raise snapshot:",r),await Qy(t,r)}}async function Qy(t,e,n){if(!Hd(e))throw e;t.W_.add(1),await Hp(t),t.j_.set("Offline"),n||(n=()=>wL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ce(yc,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await _0(t)})}function IL(t,e){return e().catch(n=>Qy(t,n,e))}async function b0(t){const e=nt(t),n=gl(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:dC;for(;J7(e);)try{const i=await N7(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,Z7(e,i)}catch(i){await Qy(e,i)}RL(e)&&PL(e)}function J7(t){return kc(t)&&t.U_.length<10}function Z7(t,e){t.U_.push(e);const n=gl(t);n.c_()&&n.S_&&n.b_(e.mutations)}function RL(t){return kc(t)&&!gl(t).u_()&&t.U_.length>0}function PL(t){gl(t).start()}async function eG(t){gl(t).C_()}async function tG(t){const e=gl(t);for(const n of t.U_)e.b_(n.mutations)}async function nG(t,e,n){const r=t.U_.shift(),i=vC.from(r,e,n);await IL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await b0(t)}async function rG(t,e){e&&gl(t).S_&&await async function(r,i){if(function(s){return B8(s)&&s!==te.ABORTED}(i.code)){const o=r.U_.shift();gl(r).h_(),await IL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await b0(r)}}(t,e),RL(t)&&PL(t)}async function VP(t,e){const n=nt(t);n.asyncQueue.verifyOperationInProgress(),Ce(yc,"RemoteStore received new credentials");const r=kc(n);n.W_.add(3),await Hp(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await _0(n)}async function iG(t,e){const n=nt(t);e?(n.W_.delete(2),await _0(n)):e||(n.W_.add(2),await Hp(n),n.j_.set("Unknown"))}function Gd(t){return t.J_||(t.J_=function(n,r,i){const o=nt(n);return o.M_(),new j7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:K7.bind(null,t),No:Y7.bind(null,t),Lo:X7.bind(null,t),p_:Q7.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),RC(t)?IC(t):t.j_.set("Unknown")):(await t.J_.stop(),TL(t))})),t.J_}function gl(t){return t.Y_||(t.Y_=function(n,r,i){const o=nt(n);return o.M_(),new z7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:eG.bind(null,t),Lo:rG.bind(null,t),D_:tG.bind(null,t),v_:nG.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await b0(t)):(await t.Y_.stop(),t.U_.length>0&&(Ce(yc,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new rl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new PC(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kC(t,e){if(la("AsyncQueue",`${e}: ${t}`),Hd(t))return new Pe(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{static emptySet(e){return new td(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ue.comparator(n.key,r.key):(n,r)=>Ue.comparator(n.key,r.key),this.keyedMap=Zf(),this.sortedSet=new Kn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof td)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new td;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(){this.Z_=new Kn(Ue.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ke():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class wd{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new wd(e,n,td.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&f0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class sG{constructor(){this.queries=jP(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=nt(n),o=i.queries;i.queries=jP(),o.forEach((s,a)=>{for(const l of a.ta)l.onError(r)})})(this,new Pe(te.ABORTED,"Firestore shutting down"))}}function jP(){return new Pc(t=>Y$(t),f0)}async function kL(t,e){const n=nt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new oG,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=kC(s,`Initialization of query '${uu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.ta.push(e),e.sa(n.onlineState),o.ea&&e.oa(o.ea)&&AC(n)}async function AL(t,e){const n=nt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ta.indexOf(e);s>=0&&(o.ta.splice(s,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function aG(t,e){const n=nt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.ta)a.oa(i)&&(r=!0);s.ea=i}}r&&AC(n)}function lG(t,e,n){const r=nt(t),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(e)}function AC(t){t.ia.forEach(e=>{e.next()})}var Wx,zP;(zP=Wx||(Wx={}))._a="default",zP.Cache="cache";class OL{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new wd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=wd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Wx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e){this.key=e}}class ML{constructor(e){this.key=e}}class cG{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ct(),this.mutatedKeys=Ct(),this.ya=X$(e),this.wa=new td(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new UP,i=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),p=h0(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),x=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let S=!1;h&&p?h.data.isEqual(p.data)?g!==x&&(r.track({type:3,doc:p}),S=!0):this.va(h,p)||(r.track({type:2,doc:p}),S=!0,(l&&this.ya(p,l)>0||c&&this.ya(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),S=!0):h&&!p&&(r.track({type:1,doc:h}),S=!0,(l||c)&&(a=!0)),S&&(p?(s=s.add(p),o=x?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{wa:s,Da:r,ls:a,mutatedKeys:o}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort((u,f)=>function(p,g){const x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke()}};return x(p)-x(g)}(u.type,f.type)||this.ya(u.doc,f.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,c=l!==this.ga;return this.ga=l,s.length!==0||c?{snapshot:new wd(this.query,e.wa,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new UP,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ct(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new ML(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new NL(r))}),n}Oa(e){this.fa=e.gs,this.pa=Ct();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return wd.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const OC="SyncEngine";class uG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dG{constructor(e){this.key=e,this.Ba=!1}}class fG{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new Pc(a=>Y$(a),f0),this.qa=new Map,this.Qa=new Set,this.$a=new Kn(Ue.comparator),this.Ua=new Map,this.Ka=new wC,this.Wa={},this.Ga=new Map,this.za=bd.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function hG(t,e,n=!0){const r=VL(t);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await DL(r,e,n,!0),i}async function pG(t,e){const n=VL(t);await DL(n,e,!0,!1)}async function DL(t,e,n,r){const i=await M7(t.localStore,ms(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await gG(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&SL(t.remoteStore,i),a}async function gG(t,e,n,r,i){t.Ha=(f,h,p)=>async function(x,S,y,b){let _=S.view.ba(y);_.ls&&(_=await DP(x.localStore,S.query,!1).then(({documents:E})=>S.view.ba(E,_)));const C=b&&b.targetChanges.get(S.targetId),O=b&&b.targetMismatches.get(S.targetId)!=null,N=S.view.applyChanges(_,x.isPrimaryClient,C,O);return HP(x,S.targetId,N.Ma),N.snapshot}(t,f,h,p);const o=await DP(t.localStore,e,!0),s=new cG(e,o.gs),a=s.ba(o.documents),l=Wp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);HP(t,n,c.Ma);const u=new uG(e,n,s);return t.ka.set(e,u),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function mG(t,e,n){const r=nt(t),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!f0(s,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await jx(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&CC(r.remoteStore,i.targetId),Hx(r,i.targetId)}).catch(Wd)):(Hx(r,i.targetId),await jx(r.localStore,i.targetId,!0))}async function yG(t,e){const n=nt(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),CC(n.remoteStore,r.targetId))}async function vG(t,e,n){const r=CG(t);try{const i=await function(s,a){const l=nt(s),c=tr.now(),u=a.reduce((p,g)=>p.add(g.key),Ct());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=ca(),x=Ct();return l.ds.getEntries(p,u).next(S=>{g=S,g.forEach((y,b)=>{b.isValidDocument()||(x=x.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(S=>{f=S;const y=[];for(const b of a){const _=M8(b,f.get(b.key).overlayedDocument);_!=null&&y.push(new Ol(b.key,_,U$(_.value.mapValue),ni.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,y,a)}).next(S=>{h=S;const y=S.applyToLocalDocumentSet(f,x);return l.documentOverlayCache.saveOverlays(p,S.batchId,y)})}).then(()=>({batchId:h.batchId,changes:J$(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Wa[s.currentUser.toKey()];c||(c=new Kn(pt)),c=c.insert(a,l),s.Wa[s.currentUser.toKey()]=c}(r,i.batchId,n),await Gp(r,i.changes),await b0(r.remoteStore)}catch(i){const o=kC(i,"Failed to persist write");n.reject(o)}}async function $L(t,e){const n=nt(t);try{const r=await A7(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ua.get(o);s&&(zt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?zt(s.Ba):i.removedDocuments.size>0&&(zt(s.Ba),s.Ba=!1))}),await Gp(n,r,e)}catch(r){await Wd(r)}}function WP(t,e,n){const r=nt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((o,s)=>{const a=s.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=nt(s);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.ta)h.sa(a)&&(c=!0)}),c&&AC(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _G(t,e,n){const r=nt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),o=i&&i.key;if(o){let s=new Kn(Ue.comparator);s=s.insert(o,jr.newNoDocument(o,Je.min()));const a=Ct().add(o),l=new y0(Je.min(),new Map,new Kn(pt),s,a);await $L(r,l),r.$a=r.$a.remove(o),r.Ua.delete(e),NC(r)}else await jx(r.localStore,e,!1).then(()=>Hx(r,e,n)).catch(Wd)}async function bG(t,e){const n=nt(t),r=e.batch.batchId;try{const i=await k7(n.localStore,e);FL(n,r,null),LL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gp(n,i)}catch(i){await Wd(i)}}async function wG(t,e,n){const r=nt(t);try{const i=await function(s,a){const l=nt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(zt(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);FL(r,e,n),LL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gp(r,i)}catch(i){await Wd(i)}}function LL(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function FL(t,e,n){const r=nt(t);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Hx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||BL(t,r)})}function BL(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(CC(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),NC(t))}function HP(t,e,n){for(const r of n)r instanceof NL?(t.Ka.addReference(r.key,e),xG(t,r)):r instanceof ML?(Ce(OC,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||BL(t,r.key)):Ke()}function xG(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(Ce(OC,"New document in limbo: "+n),t.Qa.add(r),NC(t))}function NC(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Ue(pn.fromString(e)),r=t.za.next();t.Ua.set(r,new dG(n)),t.$a=t.$a.insert(n,r),SL(t.remoteStore,new Ha(ms(mC(n.path)),r,"TargetPurposeLimboResolution",c0.ae))}}async function Gp(t,e,n){const r=nt(t),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{s.push(r.Ha(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=EC.Yi(l.targetId,c);o.push(f)}}))}),await Promise.all(s),r.La.p_(i),await async function(l,c){const u=nt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ee.forEach(c,h=>ee.forEach(h.Hi,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>ee.forEach(h.Ji,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Hd(f))throw f;Ce(SC,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.Ts.get(h),g=p.snapshotVersion,x=p.withLastLimboFreeSnapshotVersion(g);u.Ts=u.Ts.insert(h,x)}}}(r.localStore,o))}async function EG(t,e){const n=nt(t);if(!n.currentUser.isEqual(e)){Ce(OC,"User change. New user:",e.toKey());const r=await bL(n.localStore,e);n.currentUser=e,function(o,s){o.Ga.forEach(a=>{a.forEach(l=>{l.reject(new Pe(te.CANCELLED,s))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gp(n,r.Rs)}}function SG(t,e){const n=nt(t),r=n.Ua.get(e);if(r&&r.Ba)return Ct().add(r.key);{let i=Ct();const o=n.qa.get(e);if(!o)return i;for(const s of o){const a=n.ka.get(s);i=i.unionWith(a.view.Sa)}return i}}function VL(t){const e=nt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$L.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_G.bind(null,e),e.La.p_=aG.bind(null,e.eventManager),e.La.Ja=lG.bind(null,e.eventManager),e}function CG(t){const e=nt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wG.bind(null,e),e}class Jy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=v0(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return P7(this.persistence,new T7,e.initialUser,this.serializer)}Xa(e){return new _L(xC.ri,this.serializer)}Za(e){return new $7}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jy.provider={build:()=>new Jy};class TG extends Jy{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){zt(this.persistence.referenceDelegate instanceof Xy);const r=this.persistence.referenceDelegate.garbageCollector;return new d7(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?fi.withCacheSize(this.cacheSizeBytes):fi.DEFAULT;return new _L(r=>Xy.ri(r,n),this.serializer)}}class Gx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>WP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EG.bind(null,this.syncEngine),await iG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sG}()}createDatastore(e){const n=v0(e.databaseInfo.databaseId),r=function(o){return new U7(o)}(e.databaseInfo);return function(o,s,a,l){return new H7(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new q7(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>WP(this.syncEngine,n,0),function(){return FP.D()?new FP:new L7}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,u){const f=new fG(i,o,s,a,l,c);return u&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=nt(i);Ce(yc,"RemoteStore shutting down."),o.W_.add(5),await Hp(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Gx.provider={build:()=>new Gx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):la("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml="FirestoreClient";class IG{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vr.UNAUTHENTICATED,this.clientId=A$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Ce(ml,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ce(ml,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=kC(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function jb(t,e){t.asyncQueue.verifyOperationInProgress(),Ce(ml,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await bL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function GP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await RG(t);Ce(ml,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>VP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>VP(e.remoteStore,i)),t._onlineComponents=e}async function RG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce(ml,"Using user provided OfflineComponentProvider");try{await jb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;gd("Error using user provided cache. Falling back to memory cache: "+n),await jb(t,new Jy)}}else Ce(ml,"Using default OfflineComponentProvider"),await jb(t,new TG(void 0));return t._offlineComponents}async function jL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce(ml,"Using user provided OnlineComponentProvider"),await GP(t,t._uninitializedComponentsProvider._online)):(Ce(ml,"Using default OnlineComponentProvider"),await GP(t,new Gx))),t._onlineComponents}function PG(t){return jL(t).then(e=>e.syncEngine)}async function qx(t){const e=await jL(t),n=e.eventManager;return n.onListen=hG.bind(null,e.syncEngine),n.onUnlisten=mG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yG.bind(null,e.syncEngine),n}function kG(t,e,n={}){const r=new rl;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new UL({next:h=>{u.su(),s.enqueueAndForget(()=>AL(o,f)),h.fromCache&&l.source==="server"?c.reject(new Pe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new OL(a,u,{includeMetadataChanges:!0,Ta:!0});return kL(o,f)}(await qx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t,e,n){if(!n)throw new Pe(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function AG(t,e,n,r){if(e===!0&&r===!0)throw new Pe(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KP(t){if(!Ue.isDocumentKey(t))throw new Pe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function YP(t){if(Ue.isDocumentKey(t))throw new Pe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function w0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ke()}function Ki(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=w0(t);throw new Pe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL="firestore.googleapis.com",XP=!0;class QP{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HL,this.ssl=XP}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:XP;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<c7)throw new Pe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class x0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new VH;switch(r.type){case"firstParty":return new WH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=qP.get(n);r&&(Ce("ComponentProvider","Removing Datastore"),qP.delete(n),r.terminate())}(this),Promise.resolve()}}function OG(t,e,n,r={}){var i;const o=(t=Ki(t,x0))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;o.host!==HL&&o.host!==a&&gd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!ia(l,s)&&(t._setSettings(l),r.mockUserToken)){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Vr.MOCK_USER;else{c=YS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Pe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Vr(f)}t._authCredentials=new UH(new P$(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ac(this.firestore,e,this._query)}}class ri{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ol(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ri(this.firestore,e,this._key)}}class ol extends Ac{constructor(e,n,r){super(e,n,mC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ri(this.firestore,null,new Ue(e))}withConverter(e){return new ol(this.firestore,e,this._path)}}function ht(t,e,...n){if(t=Wt(t),WL("collection","path",e),t instanceof x0){const r=pn.fromString(e,...n);return YP(r),new ol(t,null,r)}{if(!(t instanceof ri||t instanceof ol))throw new Pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pn.fromString(e,...n));return YP(r),new ol(t.firestore,null,r)}}function sn(t,e,...n){if(t=Wt(t),arguments.length===1&&(e=A$.newId()),WL("doc","path",e),t instanceof x0){const r=pn.fromString(e,...n);return KP(r),new ri(t,null,new Ue(r))}{if(!(t instanceof ri||t instanceof ol))throw new Pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pn.fromString(e,...n));return KP(r),new ri(t.firestore,t instanceof ol?t.converter:null,new Ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP="AsyncQueue";class ZP{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new xL(this,"async_queue_retry"),this.Su=()=>{const r=Ub();r&&Ce(JP,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=Ub();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Ub();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new rl;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Hd(e))throw e;Ce(JP,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw la("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=PC.createAndSchedule(this,e,n,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&Ke()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function ek(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class ua extends x0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ZP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZP(e),this._firestoreClient=void 0,await e}}}function NG(t,e){const n=typeof t=="object"?t:o0(),r=typeof t=="string"?t:Wy,i=Lp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=KS("firestore");o&&OG(i,...o)}return i}function E0(t){if(t._terminated)throw new Pe(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||MG(t),t._firestoreClient}function MG(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,c,u){return new o8(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,zL(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new IG(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xd(Tr.fromBase64String(e))}catch(n){throw new Pe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xd(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pt(this._lat,e._lat)||pt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG=/^__.*__$/;class $G{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ol(e,this.data,this.fieldMask,n,this.fieldTransforms):new zp(e,this.data,n,this.fieldTransforms)}}class GL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ol(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke()}}class S0{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new S0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Zy(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(qL(this.Lu)&&DG.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class LG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||v0(e)}ju(e,n,r,i=!1){return new S0({Lu:e,methodName:n,zu:r,path:Er.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yp(t){const e=t._freezeSettings(),n=v0(t._databaseId);return new LG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $C(t,e,n,r,i,o={}){const s=t.ju(o.merge||o.mergeFields?2:0,e,n,i);BC("Data must be an object, but it was:",s,r);const a=XL(r,s);let l,c;if(o.merge)l=new zi(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const f of o.mergeFields){const h=Kx(e,f,n);if(!s.contains(h))throw new Pe(te.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);JL(u,h)||u.push(h)}l=new zi(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new $G(new pi(a),l,c)}class C0 extends Kp{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof C0}}function FG(t,e,n){return new S0({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class LC extends Kp{_toFieldTransform(e){return new oL(e.path,new lp)}isEqual(e){return e instanceof LC}}class FC extends Kp{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=FG(this,e,!0),r=this.Hu.map(o=>qd(o,n)),i=new _d(r);return new oL(e.path,i)}isEqual(e){return e instanceof FC&&ia(this.Hu,e.Hu)}}function KL(t,e,n,r){const i=t.ju(1,e,n);BC("Data must be an object, but it was:",i,r);const o=[],s=pi.empty();Al(r,(l,c)=>{const u=VC(e,l,n);c=Wt(c);const f=i.Uu(u);if(c instanceof C0)o.push(u);else{const h=qd(c,f);h!=null&&(o.push(u),s.set(u,h))}});const a=new zi(o);return new GL(s,a,i.fieldTransforms)}function YL(t,e,n,r,i,o){const s=t.ju(1,e,n),a=[Kx(e,r,n)],l=[i];if(o.length%2!=0)throw new Pe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(Kx(e,o[h])),l.push(o[h+1]);const c=[],u=pi.empty();for(let h=a.length-1;h>=0;--h)if(!JL(c,a[h])){const p=a[h];let g=l[h];g=Wt(g);const x=s.Uu(p);if(g instanceof C0)c.push(p);else{const S=qd(g,x);S!=null&&(c.push(p),u.set(p,S))}}const f=new zi(c);return new GL(u,f,s.fieldTransforms)}function BG(t,e,n,r=!1){return qd(n,t.ju(r?4:3,e))}function qd(t,e){if(QL(t=Wt(t)))return BC("Unsupported field value:",e,t),XL(t,e);if(t instanceof Kp)return function(r,i){if(!qL(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=qd(a,i.Ku(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return R8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=tr.fromDate(r);return{timestampValue:Yy(i.serializer,o)}}if(r instanceof tr){const o=new tr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yy(i.serializer,o)}}if(r instanceof MC)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xd)return{bytesValue:dL(i.serializer,r._byteString)};if(r instanceof ri){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:bC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof DC)return function(s,a){return{mapValue:{fields:{[B$]:{stringValue:V$},[Hy]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return yC(a.serializer,c)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${w0(r)}`)}(t,e)}function XL(t,e){const n={};return N$(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Al(t,(r,i)=>{const o=qd(i,e.qu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function QL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tr||t instanceof MC||t instanceof xd||t instanceof ri||t instanceof Kp||t instanceof DC)}function BC(t,e,n){if(!QL(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=w0(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function Kx(t,e,n){if((e=Wt(e))instanceof qp)return e._internalPath;if(typeof e=="string")return VC(t,e);throw Zy("Field path arguments must be of type string or ",t,!1,void 0,n)}const VG=new RegExp("[~\\*/\\[\\]]");function VC(t,e,n){if(e.search(VG)>=0)throw Zy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qp(...e.split("."))._internalPath}catch{throw Zy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zy(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Pe(te.INVALID_ARGUMENT,a+t+l)}function JL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ri(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(UC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UG extends ZL{data(){return super.data()}}function UC(t,e){return typeof e=="string"?VC(t,e):e instanceof qp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jC{}class jG extends jC{}function Fr(t,e,...n){let r=[];e instanceof jC&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof zC).length,a=o.filter(l=>l instanceof T0).length;if(s>1||s>0&&a>0)throw new Pe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class T0 extends jG{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new T0(e,n,r)}_apply(e){const n=this._parse(e);return tF(e._query,n),new Ac(e.firestore,e.converter,$x(e._query,n))}_parse(e){const n=Yp(e.firestore);return function(o,s,a,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Pe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){nk(f,u);const g=[];for(const x of f)g.push(tk(l,o,x));h={arrayValue:{values:g}}}else h=tk(l,o,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||nk(f,u),h=BG(a,s,f,u==="in"||u==="not-in");return qn.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Di(t,e,n){const r=e,i=UC("where",t);return T0._create(i,r,n)}class zC extends jC{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zC(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xo.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)tF(s,l),s=$x(s,l)}(e._query,n),new Ac(e.firestore,e.converter,$x(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function tk(t,e,n){if(typeof(n=Wt(n))=="string"){if(n==="")throw new Pe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!K$(e)&&n.indexOf("/")!==-1)throw new Pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pn.fromString(n));if(!Ue.isDocumentKey(r))throw new Pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mP(t,new Ue(r))}if(n instanceof ri)return mP(t,n._key);throw new Pe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${w0(n)}.`)}function nk(t,e){if(!Array.isArray(t)||t.length===0)throw new Pe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tF(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zG{convertValue(e,n="none"){switch(pl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Al(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Hy].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>$n(s.doubleValue));return new DC(o)}convertGeoPoint(e){return new MC($n(e.latitude),$n(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=d0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(op(e));default:return null}}convertTimestamp(e){const n=fl(e);return new tr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pn.fromString(e);zt(yL(r));const i=new sp(r.get(1),r.get(3)),o=new Ue(r.popFirst(5));return i.isEqual(n)||la(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nF extends ZL{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(UC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Jm extends nF{data(e={}){return super.data(e)}}class rF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new th(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Jm(this._firestore,this._userDataWriter,r.key,r,new th(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Jm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new th(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Jm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new th(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:WG(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function WG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke()}}class HC extends zG{constructor(e){super(),this.firestore=e}convertBytes(e){return new xd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ri(this.firestore,null,n)}}function $i(t){t=Ki(t,Ac);const e=Ki(t.firestore,ua),n=E0(e),r=new HC(e);return eF(t._query),kG(n,t._query).then(i=>new rF(e,r,t,i))}function rk(t,e,n){t=Ki(t,ri);const r=Ki(t.firestore,ua),i=WC(t.converter,e,n);return Xp(r,[$C(Yp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ni.none())])}function hu(t,e,n,...r){t=Ki(t,ri);const i=Ki(t.firestore,ua),o=Yp(i);let s;return s=typeof(e=Wt(e))=="string"||e instanceof qp?YL(o,"updateDoc",t._key,e,n,r):KL(o,"updateDoc",t._key,e),Xp(i,[s.toMutation(t._key,ni.exists(!0))])}function iF(t){return Xp(Ki(t.firestore,ua),[new m0(t._key,ni.none())])}function Br(t,e){const n=Ki(t.firestore,ua),r=sn(t),i=WC(t.converter,e);return Xp(n,[$C(Yp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ni.exists(!1))]).then(()=>r)}function xh(t,...e){var n,r,i;t=Wt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||ek(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(ek(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,u;if(t instanceof ri)c=Ki(t.firestore,ua),u=mC(t._key.path),l={next:f=>{e[s]&&e[s](HG(c,t,f))},error:e[s+1],complete:e[s+2]};else{const f=Ki(t,Ac);c=Ki(f.firestore,ua),u=f._query;const h=new HC(c);l={next:p=>{e[s]&&e[s](new rF(c,h,f,p))},error:e[s+1],complete:e[s+2]},eF(t._query)}return function(h,p,g,x){const S=new UL(x),y=new OL(p,S,g);return h.asyncQueue.enqueueAndForget(async()=>kL(await qx(h),y)),()=>{S.su(),h.asyncQueue.enqueueAndForget(async()=>AL(await qx(h),y))}}(E0(c),u,a,l)}function Xp(t,e){return function(r,i){const o=new rl;return r.asyncQueue.enqueueAndForget(async()=>vG(await PG(r),i,o)),o.promise}(E0(t),e)}function HG(t,e,n){const r=n.docs.get(e._key),i=new HC(t);return new nF(t,i,e._key,r,new th(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Yp(e)}set(e,n,r){this._verifyNotCommitted();const i=zb(e,this._firestore),o=WC(i.converter,n,r),s=$C(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,ni.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=zb(e,this._firestore);let s;return s=typeof(n=Wt(n))=="string"||n instanceof qp?YL(this._dataReader,"WriteBatch.update",o._key,n,r,i):KL(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,ni.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=zb(e,this._firestore);return this._mutations=this._mutations.concat(new m0(n._key,ni.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zb(t,e){if((t=Wt(t)).firestore!==e)throw new Pe(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function ev(){return new LC("serverTimestamp")}function qG(...t){return new FC("arrayUnion",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t){return E0(t=Ki(t,ua)),new GG(t,e=>Xp(t,e))}(function(e,n=!0){(function(i){zd=i})(Il),ul(new oa("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ua(new jH(r.getProvider("auth-internal")),new HH(s,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Pe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sp(c.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),yo(iP,oP,e),yo(iP,oP,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF="firebasestorage.googleapis.com",sF="storageBucket",KG=2*60*1e3,YG=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn extends Is{constructor(e,n,r=0){super(Wb(e),`Firebase Storage: ${n} (${Wb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Nn||(Nn={}));function Wb(t){return"storage/"+t}function GC(){const t="An unknown error occurred, please check the error payload for server response.";return new Mn(Nn.UNKNOWN,t)}function XG(t){return new Mn(Nn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function QG(t){return new Mn(Nn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function JG(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mn(Nn.UNAUTHENTICATED,t)}function ZG(){return new Mn(Nn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function eq(t){return new Mn(Nn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function tq(){return new Mn(Nn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nq(){return new Mn(Nn.CANCELED,"User canceled the upload/download.")}function rq(t){return new Mn(Nn.INVALID_URL,"Invalid URL '"+t+"'.")}function iq(t){return new Mn(Nn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function oq(){return new Mn(Nn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sF+"' property when initializing the app?")}function sq(){return new Mn(Nn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function aq(){return new Mn(Nn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function lq(t){return new Mn(Nn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Yx(t){return new Mn(Nn.INVALID_ARGUMENT,t)}function aF(){return new Mn(Nn.APP_DELETED,"The Firebase app was deleted.")}function cq(t){return new Mn(Nn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Eh(t,e){return new Mn(Nn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function kf(t){throw new Mn(Nn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Wi.makeFromUrl(e,n)}catch{return new Wi(e,"")}if(r.path==="")return r;throw iq(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},x=n===oF?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",y=new RegExp(`^https?://${x}/${i}/${S}`,"i"),_=[{regex:a,indices:l,postModify:o},{regex:p,indices:g,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<_.length;C++){const O=_[C],N=O.regex.exec(e);if(N){const E=N[O.indices.bucket];let I=N[O.indices.path];I||(I=""),r=new Wi(E,I),O.postModify(r);break}}if(r==null)throw rq(e);return r}}class uq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dq(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let c=!1;function u(...S){c||(c=!0,e.apply(null,S))}function f(S){i=setTimeout(()=>{i=null,t(p,l())},S)}function h(){o&&clearTimeout(o)}function p(S,...y){if(c){h();return}if(S){h(),u.call(null,S,...y);return}if(l()||s){h(),u.call(null,S,...y);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,f(_)}let g=!1;function x(S){g||(g=!0,h(),!c&&(i!==null?(S||(a=2),clearTimeout(i),f(0)):S||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,x(!0)},n),x}function fq(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hq(t){return t!==void 0}function pq(t){return typeof t=="object"&&!Array.isArray(t)}function qC(t){return typeof t=="string"||t instanceof String}function ik(t){return KC()&&t instanceof Blob}function KC(){return typeof Blob<"u"}function ok(t,e,n,r){if(r<e)throw Yx(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Yx(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function lF(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var sc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(sc||(sc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gq(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(e,n,r,i,o,s,a,l,c,u,f,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new im(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===sc.NO_ERROR,l=o.getStatus();if(!a||gq(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===sc.ABORT;r(!1,new im(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new im(c,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());hq(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=GC();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?aF():nq();s(l)}else{const l=tq();s(l)}};this.canceled_?n(!1,new im(!1,null,!0)):this.backoffId_=dq(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&fq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class im{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function yq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function vq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _q(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function wq(t,e,n,r,i,o,s=!0){const a=lF(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return _q(c,e),yq(c,n),vq(c,o),bq(c,r),new mq(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Eq(...t){const e=xq();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(KC())return new Blob(t);throw new Mn(Nn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Sq(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cq(t){if(typeof atob>"u")throw lq("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hb{constructor(e,n){this.data=e,this.contentType=n||null}}function Tq(t,e){switch(t){case fs.RAW:return new Hb(cF(e));case fs.BASE64:case fs.BASE64URL:return new Hb(uF(t,e));case fs.DATA_URL:return new Hb(Rq(e),Pq(e))}throw GC()}function cF(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Iq(t){let e;try{e=decodeURIComponent(t)}catch{throw Eh(fs.DATA_URL,"Malformed data URL.")}return cF(e)}function uF(t,e){switch(t){case fs.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Eh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case fs.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Eh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Cq(e)}catch(i){throw i.message.includes("polyfill")?i:Eh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class dF{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Eh(fs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=kq(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Rq(t){const e=new dF(t);return e.base64?uF(fs.BASE64,e.rest):Iq(e.rest)}function Pq(t){return new dF(t).contentType}function kq(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n){let r=0,i="";ik(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(ik(this.data_)){const r=this.data_,i=Sq(r,e,n);return i===null?null:new Ba(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ba(r,!0)}}static getBlob(...e){if(KC()){const n=e.map(r=>r instanceof Ba?r.data_:r);return new Ba(Eq.apply(null,n))}else{const n=e.map(s=>qC(s)?Tq(fs.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Ba(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(t){let e;try{e=JSON.parse(t)}catch{return null}return pq(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aq(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Oq(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function hF(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq(t,e){return e}class Xr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Nq}}let om=null;function Mq(t){return!qC(t)||t.length<2?t:hF(t)}function pF(){if(om)return om;const t=[];t.push(new Xr("bucket")),t.push(new Xr("generation")),t.push(new Xr("metageneration")),t.push(new Xr("name","fullPath",!0));function e(o,s){return Mq(s)}const n=new Xr("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Xr("size");return i.xform=r,t.push(i),t.push(new Xr("timeCreated")),t.push(new Xr("updated")),t.push(new Xr("md5Hash",null,!0)),t.push(new Xr("cacheControl",null,!0)),t.push(new Xr("contentDisposition",null,!0)),t.push(new Xr("contentEncoding",null,!0)),t.push(new Xr("contentLanguage",null,!0)),t.push(new Xr("contentType",null,!0)),t.push(new Xr("metadata","customMetadata",!0)),om=t,om}function Dq(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Wi(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function $q(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return Dq(r,t),r}function gF(t,e,n){const r=fF(e);return r===null?null:$q(t,r,n)}function Lq(t,e,n,r){const i=fF(e);if(i===null||!qC(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const u=t.bucket,f=t.fullPath,h="/b/"+s(u)+"/o/"+s(f),p=YC(h,n,r),g=lF({alt:"media",token:c});return p+g})[0]}function Fq(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class mF{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(t){if(!t)throw GC()}function Bq(t,e){function n(r,i){const o=gF(t,i,e);return yF(o!==null),o}return n}function Vq(t,e){function n(r,i){const o=gF(t,i,e);return yF(o!==null),Lq(o,i,t.host,t._protocol)}return n}function vF(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=ZG():i=JG():n.getStatus()===402?i=QG(t.bucket):n.getStatus()===403?i=eq(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Uq(t){const e=vF(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=XG(t.path)),o.serverResponse=i.serverResponse,o}return n}function jq(t,e,n){const r=e.fullServerUrl(),i=YC(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new mF(i,o,Vq(t,n),s);return a.errorHandler=Uq(e),a}function zq(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Wq(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=zq(null,e)),r}function Hq(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let C=0;C<2;C++)_=_+Math.random().toString().slice(2);return _}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const c=Wq(e,r,i),u=Fq(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Ba.getBlob(f,r,h);if(p===null)throw sq();const g={name:c.fullPath},x=YC(o,t.host,t._protocol),S="POST",y=t.maxUploadRetryTime,b=new mF(x,S,Bq(t,n),y);return b.urlParams=g,b.headers=s,b.body=p.uploadData(),b.errorHandler=vF(e),b}class Gq{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=sc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=sc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=sc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw kf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw kf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw kf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw kf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw kf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class qq extends Gq{initXhr(){this.xhr_.responseType="text"}}function _F(){return new qq}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n){this._service=e,n instanceof Wi?this._location=n:this._location=Wi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new vc(e,n)}get root(){const e=new Wi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hF(this._location.path)}get storage(){return this._service}get parent(){const e=Aq(this._location.path);if(e===null)return null;const n=new Wi(this._location.bucket,e);return new vc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw cq(e)}}function Kq(t,e,n){t._throwIfRoot("uploadBytes");const r=Hq(t.storage,t._location,pF(),new Ba(e,!0),n);return t.storage.makeRequestWithTokens(r,_F).then(i=>({metadata:i,ref:t}))}function Yq(t){t._throwIfRoot("getDownloadURL");const e=jq(t.storage,t._location,pF());return t.storage.makeRequestWithTokens(e,_F).then(n=>{if(n===null)throw aq();return n})}function Xq(t,e){const n=Oq(t._location.path,e),r=new Wi(t._location.bucket,n);return new vc(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qq(t){return/^[A-Za-z]+:\/\//.test(t)}function Jq(t,e){return new vc(t,e)}function bF(t,e){if(t instanceof XC){const n=t;if(n._bucket==null)throw oq();const r=new vc(n,n._bucket);return e!=null?bF(r,e):r}else return e!==void 0?Xq(t,e):t}function Zq(t,e){if(e&&Qq(e)){if(t instanceof XC)return Jq(t,e);throw Yx("To use ref(service, url), the first argument must be a Storage instance.")}else return bF(t,e)}function sk(t,e){const n=e==null?void 0:e[sF];return n==null?null:Wi.makeFromBucketSpec(n,t)}function eK(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:YS(i,t.app.options.projectId))}class XC{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=oF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KG,this._maxUploadRetryTime=YG,this._requests=new Set,i!=null?this._bucket=Wi.makeFromBucketSpec(i,this._host):this._bucket=sk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wi.makeFromBucketSpec(this._url,e):this._bucket=sk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ok("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ok("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vc(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new uq(aF());{const s=wq(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const ak="@firebase/storage",lk="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF="storage";function ck(t,e,n){return t=Wt(t),Kq(t,e,n)}function uk(t){return t=Wt(t),Yq(t)}function dk(t,e){return t=Wt(t),Zq(t,e)}function tK(t=o0(),e){t=Wt(t);const r=Lp(t,wF).getImmediate({identifier:e}),i=KS("storage");return i&&nK(r,...i),r}function nK(t,e,n,r={}){eK(t,e,n,r)}function rK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new XC(n,r,i,e,Il)}function iK(){ul(new oa(wF,rK,"PUBLIC").setMultipleInstances(!0)),yo(ak,lk,""),yo(ak,lk,"esm2017")}iK();const oK={apiKey:"AIzaSyBwhJVoZ2nKnGrl9VJ7D6GXpcUha2IRN08",authDomain:"notetaker-f71ae.firebaseapp.com",databaseURL:"https://notetaker-f71ae-default-rtdb.firebaseio.com",projectId:"notetaker-f71ae",storageBucket:"notetaker-f71ae.firebasestorage.app",messagingSenderId:"466022334149",appId:"1:466022334149:web:bb9e6830f35a4b94b73aac",measurementId:"G-ZH0WYZKWKN"},QC=UD(oK),ac=FH(QC),be=NG(QC),fk=tK(QC),up={black:"#000",white:"#fff"},nu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},ru={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},iu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},ou={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},su={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Af={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},sK={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function da(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const Qp="$$material";function tv(){return tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tv.apply(null,arguments)}function aK(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function lK(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var cK=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(lK(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=aK(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Lr="-ms-",nv="-moz-",Vt="-webkit-",xF="comm",JC="rule",ZC="decl",uK="@import",EF="@keyframes",dK="@layer",fK=Math.abs,I0=String.fromCharCode,hK=Object.assign;function pK(t,e){return xr(t,0)^45?(((e<<2^xr(t,0))<<2^xr(t,1))<<2^xr(t,2))<<2^xr(t,3):0}function SF(t){return t.trim()}function gK(t,e){return(t=e.exec(t))?t[0]:t}function Ut(t,e,n){return t.replace(e,n)}function Xx(t,e){return t.indexOf(e)}function xr(t,e){return t.charCodeAt(e)|0}function dp(t,e,n){return t.slice(e,n)}function ls(t){return t.length}function e1(t){return t.length}function sm(t,e){return e.push(t),t}function mK(t,e){return t.map(e).join("")}var R0=1,Ed=1,CF=0,Ci=0,Hn=0,Kd="";function P0(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:R0,column:Ed,length:s,return:""}}function Of(t,e){return hK(P0("",null,null,"",null,null,0),t,{length:-t.length},e)}function yK(){return Hn}function vK(){return Hn=Ci>0?xr(Kd,--Ci):0,Ed--,Hn===10&&(Ed=1,R0--),Hn}function Yi(){return Hn=Ci<CF?xr(Kd,Ci++):0,Ed++,Hn===10&&(Ed=1,R0++),Hn}function vs(){return xr(Kd,Ci)}function Zm(){return Ci}function Jp(t,e){return dp(Kd,t,e)}function fp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function TF(t){return R0=Ed=1,CF=ls(Kd=t),Ci=0,[]}function IF(t){return Kd="",t}function ey(t){return SF(Jp(Ci-1,Qx(t===91?t+2:t===40?t+1:t)))}function _K(t){for(;(Hn=vs())&&Hn<33;)Yi();return fp(t)>2||fp(Hn)>3?"":" "}function bK(t,e){for(;--e&&Yi()&&!(Hn<48||Hn>102||Hn>57&&Hn<65||Hn>70&&Hn<97););return Jp(t,Zm()+(e<6&&vs()==32&&Yi()==32))}function Qx(t){for(;Yi();)switch(Hn){case t:return Ci;case 34:case 39:t!==34&&t!==39&&Qx(Hn);break;case 40:t===41&&Qx(t);break;case 92:Yi();break}return Ci}function wK(t,e){for(;Yi()&&t+Hn!==57;)if(t+Hn===84&&vs()===47)break;return"/*"+Jp(e,Ci-1)+"*"+I0(t===47?t:Yi())}function xK(t){for(;!fp(vs());)Yi();return Jp(t,Ci)}function EK(t){return IF(ty("",null,null,null,[""],t=TF(t),0,[0],t))}function ty(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,f=s,h=0,p=0,g=0,x=1,S=1,y=1,b=0,_="",C=i,O=o,N=r,E=_;S;)switch(g=b,b=Yi()){case 40:if(g!=108&&xr(E,f-1)==58){Xx(E+=Ut(ey(b),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:E+=ey(b);break;case 9:case 10:case 13:case 32:E+=_K(g);break;case 92:E+=bK(Zm()-1,7);continue;case 47:switch(vs()){case 42:case 47:sm(SK(wK(Yi(),Zm()),e,n),l);break;default:E+="/"}break;case 123*x:a[c++]=ls(E)*y;case 125*x:case 59:case 0:switch(b){case 0:case 125:S=0;case 59+u:y==-1&&(E=Ut(E,/\f/g,"")),p>0&&ls(E)-f&&sm(p>32?pk(E+";",r,n,f-1):pk(Ut(E," ","")+";",r,n,f-2),l);break;case 59:E+=";";default:if(sm(N=hk(E,e,n,c,u,i,a,_,C=[],O=[],f),o),b===123)if(u===0)ty(E,e,N,N,C,o,f,a,O);else switch(h===99&&xr(E,3)===110?100:h){case 100:case 108:case 109:case 115:ty(t,N,N,r&&sm(hk(t,N,N,0,0,i,a,_,i,C=[],f),O),i,O,f,a,r?C:O);break;default:ty(E,N,N,N,[""],O,0,a,O)}}c=u=p=0,x=y=1,_=E="",f=s;break;case 58:f=1+ls(E),p=g;default:if(x<1){if(b==123)--x;else if(b==125&&x++==0&&vK()==125)continue}switch(E+=I0(b),b*x){case 38:y=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(ls(E)-1)*y,y=1;break;case 64:vs()===45&&(E+=ey(Yi())),h=vs(),u=f=ls(_=E+=xK(Zm())),b++;break;case 45:g===45&&ls(E)==2&&(x=0)}}return o}function hk(t,e,n,r,i,o,s,a,l,c,u){for(var f=i-1,h=i===0?o:[""],p=e1(h),g=0,x=0,S=0;g<r;++g)for(var y=0,b=dp(t,f+1,f=fK(x=s[g])),_=t;y<p;++y)(_=SF(x>0?h[y]+" "+b:Ut(b,/&\f/g,h[y])))&&(l[S++]=_);return P0(t,e,n,i===0?JC:a,l,c,u)}function SK(t,e,n){return P0(t,e,n,xF,I0(yK()),dp(t,2,-2),0)}function pk(t,e,n,r){return P0(t,e,n,ZC,dp(t,0,r),dp(t,r+1,-1),r)}function nd(t,e){for(var n="",r=e1(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function CK(t,e,n,r){switch(t.type){case dK:if(t.children.length)break;case uK:case ZC:return t.return=t.return||t.value;case xF:return"";case EF:return t.return=t.value+"{"+nd(t.children,r)+"}";case JC:t.value=t.props.join(",")}return ls(n=nd(t.children,r))?t.return=t.value+"{"+n+"}":""}function TK(t){var e=e1(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function IK(t){return function(e){e.root||(e=e.return)&&t(e)}}function RF(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var RK=function(e,n,r){for(var i=0,o=0;i=o,o=vs(),i===38&&o===12&&(n[r]=1),!fp(o);)Yi();return Jp(e,Ci)},PK=function(e,n){var r=-1,i=44;do switch(fp(i)){case 0:i===38&&vs()===12&&(n[r]=1),e[r]+=RK(Ci-1,n,r);break;case 2:e[r]+=ey(i);break;case 4:if(i===44){e[++r]=vs()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=I0(i)}while(i=Yi());return e},kK=function(e,n){return IF(PK(TF(e),n))},gk=new WeakMap,AK=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!gk.get(r))&&!i){gk.set(e,!0);for(var o=[],s=kK(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},OK=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function PF(t,e){switch(pK(t,e)){case 5103:return Vt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Vt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Vt+t+nv+t+Lr+t+t;case 6828:case 4268:return Vt+t+Lr+t+t;case 6165:return Vt+t+Lr+"flex-"+t+t;case 5187:return Vt+t+Ut(t,/(\w+).+(:[^]+)/,Vt+"box-$1$2"+Lr+"flex-$1$2")+t;case 5443:return Vt+t+Lr+"flex-item-"+Ut(t,/flex-|-self/,"")+t;case 4675:return Vt+t+Lr+"flex-line-pack"+Ut(t,/align-content|flex-|-self/,"")+t;case 5548:return Vt+t+Lr+Ut(t,"shrink","negative")+t;case 5292:return Vt+t+Lr+Ut(t,"basis","preferred-size")+t;case 6060:return Vt+"box-"+Ut(t,"-grow","")+Vt+t+Lr+Ut(t,"grow","positive")+t;case 4554:return Vt+Ut(t,/([^-])(transform)/g,"$1"+Vt+"$2")+t;case 6187:return Ut(Ut(Ut(t,/(zoom-|grab)/,Vt+"$1"),/(image-set)/,Vt+"$1"),t,"")+t;case 5495:case 3959:return Ut(t,/(image-set\([^]*)/,Vt+"$1$`$1");case 4968:return Ut(Ut(t,/(.+:)(flex-)?(.*)/,Vt+"box-pack:$3"+Lr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Vt+t+t;case 4095:case 3583:case 4068:case 2532:return Ut(t,/(.+)-inline(.+)/,Vt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ls(t)-1-e>6)switch(xr(t,e+1)){case 109:if(xr(t,e+4)!==45)break;case 102:return Ut(t,/(.+:)(.+)-([^]+)/,"$1"+Vt+"$2-$3$1"+nv+(xr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Xx(t,"stretch")?PF(Ut(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(xr(t,e+1)!==115)break;case 6444:switch(xr(t,ls(t)-3-(~Xx(t,"!important")&&10))){case 107:return Ut(t,":",":"+Vt)+t;case 101:return Ut(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Vt+(xr(t,14)===45?"inline-":"")+"box$3$1"+Vt+"$2$3$1"+Lr+"$2box$3")+t}break;case 5936:switch(xr(t,e+11)){case 114:return Vt+t+Lr+Ut(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Vt+t+Lr+Ut(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Vt+t+Lr+Ut(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Vt+t+Lr+t+t}return t}var NK=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case ZC:e.return=PF(e.value,e.length);break;case EF:return nd([Of(e,{value:Ut(e.value,"@","@"+Vt)})],i);case JC:if(e.length)return mK(e.props,function(o){switch(gK(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return nd([Of(e,{props:[Ut(o,/:(read-\w+)/,":"+nv+"$1")]})],i);case"::placeholder":return nd([Of(e,{props:[Ut(o,/:(plac\w+)/,":"+Vt+"input-$1")]}),Of(e,{props:[Ut(o,/:(plac\w+)/,":"+nv+"$1")]}),Of(e,{props:[Ut(o,/:(plac\w+)/,Lr+"input-$1")]})],i)}return""})}},MK=[NK],DK=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var S=x.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var i=e.stylisPlugins||MK,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var S=x.getAttribute("data-emotion").split(" "),y=1;y<S.length;y++)o[S[y]]=!0;a.push(x)});var l,c=[AK,OK];{var u,f=[CK,IK(function(x){u.insert(x)})],h=TK(c.concat(i,f)),p=function(S){return nd(EK(S),h)};l=function(S,y,b,_){u=b,p(S?S+"{"+y.styles+"}":y.styles),_&&(g.inserted[y.name]=!0)}}var g={key:n,sheet:new cK({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return g.sheet.hydrate(a),g},kF={exports:{}},Kt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pr=typeof Symbol=="function"&&Symbol.for,t1=pr?Symbol.for("react.element"):60103,n1=pr?Symbol.for("react.portal"):60106,k0=pr?Symbol.for("react.fragment"):60107,A0=pr?Symbol.for("react.strict_mode"):60108,O0=pr?Symbol.for("react.profiler"):60114,N0=pr?Symbol.for("react.provider"):60109,M0=pr?Symbol.for("react.context"):60110,r1=pr?Symbol.for("react.async_mode"):60111,D0=pr?Symbol.for("react.concurrent_mode"):60111,$0=pr?Symbol.for("react.forward_ref"):60112,L0=pr?Symbol.for("react.suspense"):60113,$K=pr?Symbol.for("react.suspense_list"):60120,F0=pr?Symbol.for("react.memo"):60115,B0=pr?Symbol.for("react.lazy"):60116,LK=pr?Symbol.for("react.block"):60121,FK=pr?Symbol.for("react.fundamental"):60117,BK=pr?Symbol.for("react.responder"):60118,VK=pr?Symbol.for("react.scope"):60119;function no(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case t1:switch(t=t.type,t){case r1:case D0:case k0:case O0:case A0:case L0:return t;default:switch(t=t&&t.$$typeof,t){case M0:case $0:case B0:case F0:case N0:return t;default:return e}}case n1:return e}}}function AF(t){return no(t)===D0}Kt.AsyncMode=r1;Kt.ConcurrentMode=D0;Kt.ContextConsumer=M0;Kt.ContextProvider=N0;Kt.Element=t1;Kt.ForwardRef=$0;Kt.Fragment=k0;Kt.Lazy=B0;Kt.Memo=F0;Kt.Portal=n1;Kt.Profiler=O0;Kt.StrictMode=A0;Kt.Suspense=L0;Kt.isAsyncMode=function(t){return AF(t)||no(t)===r1};Kt.isConcurrentMode=AF;Kt.isContextConsumer=function(t){return no(t)===M0};Kt.isContextProvider=function(t){return no(t)===N0};Kt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===t1};Kt.isForwardRef=function(t){return no(t)===$0};Kt.isFragment=function(t){return no(t)===k0};Kt.isLazy=function(t){return no(t)===B0};Kt.isMemo=function(t){return no(t)===F0};Kt.isPortal=function(t){return no(t)===n1};Kt.isProfiler=function(t){return no(t)===O0};Kt.isStrictMode=function(t){return no(t)===A0};Kt.isSuspense=function(t){return no(t)===L0};Kt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===k0||t===D0||t===O0||t===A0||t===L0||t===$K||typeof t=="object"&&t!==null&&(t.$$typeof===B0||t.$$typeof===F0||t.$$typeof===N0||t.$$typeof===M0||t.$$typeof===$0||t.$$typeof===FK||t.$$typeof===BK||t.$$typeof===VK||t.$$typeof===LK)};Kt.typeOf=no;kF.exports=Kt;var UK=kF.exports,OF=UK,jK={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},zK={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},NF={};NF[OF.ForwardRef]=jK;NF[OF.Memo]=zK;var WK=!0;function MF(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var i1=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||WK===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},o1=function(e,n,r){i1(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function HK(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var GK={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qK=/[A-Z]|^ms/g,KK=/_EMO_([^_]+?)_([^]*?)_EMO_/g,DF=function(e){return e.charCodeAt(1)===45},mk=function(e){return e!=null&&typeof e!="boolean"},Gb=RF(function(t){return DF(t)?t:t.replace(qK,"-$&").toLowerCase()}),yk=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(KK,function(r,i,o){return cs={name:i,styles:o,next:cs},i})}return GK[e]!==1&&!DF(e)&&typeof n=="number"&&n!==0?n+"px":n};function hp(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return cs={name:i.name,styles:i.styles,next:cs},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)cs={name:s.name,styles:s.styles,next:cs},s=s.next;var a=o.styles+";";return a}return YK(t,e,n)}case"function":{if(t!==void 0){var l=cs,c=n(t);return cs=l,hp(t,e,c)}break}}var u=n;if(e==null)return u;var f=e[u];return f!==void 0?f:u}function YK(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=hp(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":mk(a)&&(r+=Gb(o)+":"+yk(o,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)mk(s[l])&&(r+=Gb(o)+":"+yk(o,s[l])+";");else{var c=hp(t,e,s);switch(o){case"animation":case"animationName":{r+=Gb(o)+":"+c+";";break}default:r+=o+"{"+c+"}"}}}return r}var vk=/label:\s*([^\s;{]+)\s*(;|$)/g,cs;function Zp(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";cs=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=hp(n,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=hp(n,e,t[a]),r){var l=o;i+=l[a]}vk.lastIndex=0;for(var c="",u;(u=vk.exec(i))!==null;)c+="-"+u[1];var f=HK(i)+c;return{name:f,styles:i,next:cs}}var XK=function(e){return e()},$F=ay.useInsertionEffect?ay.useInsertionEffect:!1,LF=$F||XK,_k=$F||w.useLayoutEffect,FF=w.createContext(typeof HTMLElement<"u"?DK({key:"css"}):null);FF.Provider;var s1=function(e){return w.forwardRef(function(n,r){var i=w.useContext(FF);return e(n,i,r)})},V0=w.createContext({}),a1={}.hasOwnProperty,Jx="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",QK=function(e,n){var r={};for(var i in n)a1.call(n,i)&&(r[i]=n[i]);return r[Jx]=e,r},JK=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return i1(n,r,i),LF(function(){return o1(n,r,i)}),null},ZK=s1(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Jx],o=[r],s="";typeof t.className=="string"?s=MF(e.registered,o,t.className):t.className!=null&&(s=t.className+" ");var a=Zp(o,void 0,w.useContext(V0));s+=e.key+"-"+a.name;var l={};for(var c in t)a1.call(t,c)&&c!=="css"&&c!==Jx&&(l[c]=t[c]);return l.className=s,n&&(l.ref=n),w.createElement(w.Fragment,null,w.createElement(JK,{cache:e,serialized:a,isStringTag:typeof i=="string"}),w.createElement(i,l))}),eY=ZK,bk=function(e,n){var r=arguments;if(n==null||!a1.call(n,"css"))return w.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=eY,o[1]=QK(e,n);for(var s=2;s<i;s++)o[s]=r[s];return w.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(bk||(bk={}));var tY=s1(function(t,e){var n=t.styles,r=Zp([n],void 0,w.useContext(V0)),i=w.useRef();return _k(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),_k(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&o1(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function l1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Zp(e)}function eg(){var t=l1.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var nY=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,rY=RF(function(t){return nY.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),iY=rY,oY=function(e){return e!=="theme"},wk=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?iY:oY},xk=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},sY=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return i1(n,r,i),LF(function(){return o1(n,r,i)}),null},aY=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=xk(e,n,r),l=a||wk(i),c=!l("as");return function(){var u=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)f.push.apply(f,u);else{var h=u[0];f.push(h[0]);for(var p=u.length,g=1;g<p;g++)f.push(u[g],h[g])}var x=s1(function(S,y,b){var _=c&&S.as||i,C="",O=[],N=S;if(S.theme==null){N={};for(var E in S)N[E]=S[E];N.theme=w.useContext(V0)}typeof S.className=="string"?C=MF(y.registered,O,S.className):S.className!=null&&(C=S.className+" ");var I=Zp(f.concat(O),y.registered,N);C+=y.key+"-"+I.name,s!==void 0&&(C+=" "+s);var R=c&&a===void 0?wk(_):l,v={};for(var k in S)c&&k==="as"||R(k)&&(v[k]=S[k]);return v.className=C,b&&(v.ref=b),w.createElement(w.Fragment,null,w.createElement(sY,{cache:y,serialized:I,isStringTag:typeof _=="string"}),w.createElement(_,v))});return x.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",x.defaultProps=e.defaultProps,x.__emotion_real=x,x.__emotion_base=i,x.__emotion_styles=f,x.__emotion_forwardProp=a,Object.defineProperty(x,"toString",{value:function(){return"."+s}}),x.withComponent=function(S,y){var b=t(S,tv({},n,y,{shouldForwardProp:xk(x,y,!0)}));return b.apply(void 0,f)},x}},lY=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Zx=aY.bind(null);lY.forEach(function(t){Zx[t]=Zx(t)});var BF={exports:{}},cY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",uY=cY,dY=uY;function VF(){}function UF(){}UF.resetWarningCache=VF;var fY=function(){function t(r,i,o,s,a,l){if(l!==dY){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:UF,resetWarningCache:VF};return n.PropTypes=n,n};BF.exports=fY();var c1=BF.exports;const pe=Tp(c1);function hY(t){return t==null||Object.keys(t).length===0}function pY(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(hY(i)?n:i):e;return A.jsx(tY,{styles:r})}function jF(t,e){return Zx(t,e)}function gY(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const Ek=[];function Sk(t){return Ek[0]=t,Zp(Ek)}var zF={exports:{}},tn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1=Symbol.for("react.transitional.element"),d1=Symbol.for("react.portal"),U0=Symbol.for("react.fragment"),j0=Symbol.for("react.strict_mode"),z0=Symbol.for("react.profiler"),W0=Symbol.for("react.consumer"),H0=Symbol.for("react.context"),G0=Symbol.for("react.forward_ref"),q0=Symbol.for("react.suspense"),K0=Symbol.for("react.suspense_list"),Y0=Symbol.for("react.memo"),X0=Symbol.for("react.lazy"),mY=Symbol.for("react.view_transition"),yY=Symbol.for("react.client.reference");function To(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case u1:switch(t=t.type,t){case U0:case z0:case j0:case q0:case K0:case mY:return t;default:switch(t=t&&t.$$typeof,t){case H0:case G0:case X0:case Y0:return t;case W0:return t;default:return e}}case d1:return e}}}tn.ContextConsumer=W0;tn.ContextProvider=H0;tn.Element=u1;tn.ForwardRef=G0;tn.Fragment=U0;tn.Lazy=X0;tn.Memo=Y0;tn.Portal=d1;tn.Profiler=z0;tn.StrictMode=j0;tn.Suspense=q0;tn.SuspenseList=K0;tn.isContextConsumer=function(t){return To(t)===W0};tn.isContextProvider=function(t){return To(t)===H0};tn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===u1};tn.isForwardRef=function(t){return To(t)===G0};tn.isFragment=function(t){return To(t)===U0};tn.isLazy=function(t){return To(t)===X0};tn.isMemo=function(t){return To(t)===Y0};tn.isPortal=function(t){return To(t)===d1};tn.isProfiler=function(t){return To(t)===z0};tn.isStrictMode=function(t){return To(t)===j0};tn.isSuspense=function(t){return To(t)===q0};tn.isSuspenseList=function(t){return To(t)===K0};tn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===U0||t===z0||t===j0||t===q0||t===K0||typeof t=="object"&&t!==null&&(t.$$typeof===X0||t.$$typeof===Y0||t.$$typeof===H0||t.$$typeof===W0||t.$$typeof===G0||t.$$typeof===yY||t.getModuleId!==void 0)};tn.typeOf=To;zF.exports=tn;var WF=zF.exports;function ds(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function HF(t){if(w.isValidElement(t)||WF.isValidElementType(t)||!ds(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=HF(t[n])}),e}function fr(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return ds(t)&&ds(e)&&Object.keys(e).forEach(i=>{w.isValidElement(e[i])||WF.isValidElementType(e[i])?r[i]=e[i]:ds(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&ds(t[i])?r[i]=fr(t[i],e[i],n):n.clone?r[i]=ds(e[i])?HF(e[i]):e[i]:r[i]=e[i]}),r}const vY=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function _Y(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,o=vY(e),s=Object.keys(o);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function c(h,p){const g=s.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(g!==-1&&typeof e[s[g]]=="number"?e[s[g]]:p)-r/100}${n})`}function u(h){return s.indexOf(h)+1<s.length?c(h,s[s.indexOf(h)+1]):a(h)}function f(h){const p=s.indexOf(h);return p===0?a(s[1]):p===s.length-1?l(s[p]):c(h,s[s.indexOf(h)+1]).replace("@media","@media not all and")}return{keys:s,values:o,up:a,down:l,between:c,only:u,not:f,unit:n,...i}}function bY(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var s,a;const o=/min-width:\s*([0-9.]+)/;return+(((s=r.match(o))==null?void 0:s[1])||0)-+(((a=i.match(o))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function wY(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function xY(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(o)}function EY(t){const e=(o,s)=>o.replace("@media",s?`@container ${s}`:"@container");function n(o,s){o.up=(...a)=>e(t.breakpoints.up(...a),s),o.down=(...a)=>e(t.breakpoints.down(...a),s),o.between=(...a)=>e(t.breakpoints.between(...a),s),o.only=(...a)=>e(t.breakpoints.only(...a),s),o.not=(...a)=>{const l=e(t.breakpoints.not(...a),s);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=o=>(n(r,o),r);return n(i),{...t,containerQueries:i}}const SY={borderRadius:4};function Sh(t,e){return e?fr(t,e,{clone:!1}):t}const Q0={xs:0,sm:600,md:900,lg:1200,xl:1536},Ck={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Q0[t]}px)`},CY={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:Q0[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Qo(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||Ck;return e.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(e[l]),s),{})}if(typeof e=="object"){const o=r.breakpoints||Ck;return Object.keys(e).reduce((s,a)=>{if(wY(o.keys,a)){const l=xY(r.containerQueries?r:CY,a);l&&(s[l]=n(e[a],a))}else if(Object.keys(o.values||Q0).includes(a)){const l=o.up(a);s[l]=n(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return n(e)}function GF(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function qF(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function TY(t,...e){const n=GF(t),r=[n,...e].reduce((i,o)=>fr(i,o),{});return qF(Object.keys(n),r)}function IY(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,o)=>{o<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function qb({values:t,breakpoints:e,base:n}){const r=n||IY(t,e),i=Object.keys(r);if(i.length===0)return t;let o;return i.reduce((s,a,l)=>(Array.isArray(t)?(s[a]=t[l]!=null?t[l]:t[o],o=l):typeof t=="object"?(s[a]=t[a]!=null?t[a]:t[o],o=a):s[a]=t,s),{})}function ae(t){if(typeof t!="string")throw new Error(da(7));return t.charAt(0).toUpperCase()+t.slice(1)}function J0(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function rv(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=J0(t,n)||r,e&&(i=e(i,r,t)),i}function Fn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,c=J0(l,r)||{};return Qo(s,a,f=>{let h=rv(c,i,f);return f===h&&typeof f=="string"&&(h=rv(c,i,`${e}${f==="default"?"":ae(f)}`,f)),n===!1?h:{[n]:h}})};return o.propTypes={},o.filterProps=[e],o}function RY(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const PY={m:"margin",p:"padding"},kY={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Tk={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},AY=RY(t=>{if(t.length>2)if(Tk[t])t=Tk[t];else return[t];const[e,n]=t.split(""),r=PY[e],i=kY[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),f1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...f1,...h1];function tg(t,e,n,r){const i=J0(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const s=Math.abs(o),a=i[s];return o>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof i=="function"?i:()=>{}}function Z0(t){return tg(t,"spacing",8)}function _c(t,e){return typeof e=="string"||e==null?e:t(e)}function OY(t,e){return n=>t.reduce((r,i)=>(r[i]=_c(e,n),r),{})}function NY(t,e,n,r){if(!e.includes(n))return null;const i=AY(n),o=OY(i,r),s=t[n];return Qo(t,s,o)}function KF(t,e){const n=Z0(t.theme);return Object.keys(t).map(r=>NY(t,e,r,n)).reduce(Sh,{})}function Pn(t){return KF(t,f1)}Pn.propTypes={};Pn.filterProps=f1;function kn(t){return KF(t,h1)}kn.propTypes={};kn.filterProps=h1;function YF(t=8,e=Z0({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function e_(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?Sh(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function ho(t){return typeof t!="number"?t:`${t}px solid`}function Io(t,e){return Fn({prop:t,themeKey:"borders",transform:e})}const MY=Io("border",ho),DY=Io("borderTop",ho),$Y=Io("borderRight",ho),LY=Io("borderBottom",ho),FY=Io("borderLeft",ho),BY=Io("borderColor"),VY=Io("borderTopColor"),UY=Io("borderRightColor"),jY=Io("borderBottomColor"),zY=Io("borderLeftColor"),WY=Io("outline",ho),HY=Io("outlineColor"),t_=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=tg(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:_c(e,r)});return Qo(t,t.borderRadius,n)}return null};t_.propTypes={};t_.filterProps=["borderRadius"];e_(MY,DY,$Y,LY,FY,BY,VY,UY,jY,zY,t_,WY,HY);const n_=t=>{if(t.gap!==void 0&&t.gap!==null){const e=tg(t.theme,"spacing",8),n=r=>({gap:_c(e,r)});return Qo(t,t.gap,n)}return null};n_.propTypes={};n_.filterProps=["gap"];const r_=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=tg(t.theme,"spacing",8),n=r=>({columnGap:_c(e,r)});return Qo(t,t.columnGap,n)}return null};r_.propTypes={};r_.filterProps=["columnGap"];const i_=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=tg(t.theme,"spacing",8),n=r=>({rowGap:_c(e,r)});return Qo(t,t.rowGap,n)}return null};i_.propTypes={};i_.filterProps=["rowGap"];const GY=Fn({prop:"gridColumn"}),qY=Fn({prop:"gridRow"}),KY=Fn({prop:"gridAutoFlow"}),YY=Fn({prop:"gridAutoColumns"}),XY=Fn({prop:"gridAutoRows"}),QY=Fn({prop:"gridTemplateColumns"}),JY=Fn({prop:"gridTemplateRows"}),ZY=Fn({prop:"gridTemplateAreas"}),eX=Fn({prop:"gridArea"});e_(n_,r_,i_,GY,qY,KY,YY,XY,QY,JY,ZY,eX);function rd(t,e){return e==="grey"?e:t}const tX=Fn({prop:"color",themeKey:"palette",transform:rd}),nX=Fn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:rd}),rX=Fn({prop:"backgroundColor",themeKey:"palette",transform:rd});e_(tX,nX,rX);function Ui(t){return t<=1&&t!==0?`${t*100}%`:t}const iX=Fn({prop:"width",transform:Ui}),p1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,o,s,a,l;const r=((s=(o=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:s[n])||Q0[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ui(n)}};return Qo(t,t.maxWidth,e)}return null};p1.filterProps=["maxWidth"];const oX=Fn({prop:"minWidth",transform:Ui}),sX=Fn({prop:"height",transform:Ui}),aX=Fn({prop:"maxHeight",transform:Ui}),lX=Fn({prop:"minHeight",transform:Ui});Fn({prop:"size",cssProperty:"width",transform:Ui});Fn({prop:"size",cssProperty:"height",transform:Ui});const cX=Fn({prop:"boxSizing"});e_(iX,p1,oX,sX,aX,lX,cX);const ng={border:{themeKey:"borders",transform:ho},borderTop:{themeKey:"borders",transform:ho},borderRight:{themeKey:"borders",transform:ho},borderBottom:{themeKey:"borders",transform:ho},borderLeft:{themeKey:"borders",transform:ho},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ho},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:t_},color:{themeKey:"palette",transform:rd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:rd},backgroundColor:{themeKey:"palette",transform:rd},p:{style:kn},pt:{style:kn},pr:{style:kn},pb:{style:kn},pl:{style:kn},px:{style:kn},py:{style:kn},padding:{style:kn},paddingTop:{style:kn},paddingRight:{style:kn},paddingBottom:{style:kn},paddingLeft:{style:kn},paddingX:{style:kn},paddingY:{style:kn},paddingInline:{style:kn},paddingInlineStart:{style:kn},paddingInlineEnd:{style:kn},paddingBlock:{style:kn},paddingBlockStart:{style:kn},paddingBlockEnd:{style:kn},m:{style:Pn},mt:{style:Pn},mr:{style:Pn},mb:{style:Pn},ml:{style:Pn},mx:{style:Pn},my:{style:Pn},margin:{style:Pn},marginTop:{style:Pn},marginRight:{style:Pn},marginBottom:{style:Pn},marginLeft:{style:Pn},marginX:{style:Pn},marginY:{style:Pn},marginInline:{style:Pn},marginInlineStart:{style:Pn},marginInlineEnd:{style:Pn},marginBlock:{style:Pn},marginBlockStart:{style:Pn},marginBlockEnd:{style:Pn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:n_},rowGap:{style:i_},columnGap:{style:r_},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ui},maxWidth:{style:p1},minWidth:{transform:Ui},height:{transform:Ui},maxHeight:{transform:Ui},minHeight:{transform:Ui},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function uX(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function dX(t,e){return typeof t=="function"?t(e):t}function fX(){function t(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:f}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=J0(i,c)||{};return f?f(s):Qo(s,r,g=>{let x=rv(h,u,g);return g===x&&typeof g=="string"&&(x=rv(h,u,`${n}${g==="default"?"":ae(g)}`,g)),l===!1?x:{[l]:x}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const o=i.unstable_sxConfig??ng;function s(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const c=GF(i.breakpoints),u=Object.keys(c);let f=c;return Object.keys(l).forEach(h=>{const p=dX(l[h],i);if(p!=null)if(typeof p=="object")if(o[h])f=Sh(f,t(h,p,i,o));else{const g=Qo({theme:i},p,x=>({[h]:x}));uX(g,p)?f[h]=e({sx:p,theme:i}):f=Sh(f,g)}else f=Sh(f,t(h,p,i,o))}),bY(i,qF(u,f))}return Array.isArray(r)?r.map(s):s(r)}return e}const bc=fX();bc.filterProps=["sx"];function hX(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function Yd(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={},...s}=t,a=_Y(n),l=YF(i);let c=fr({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...SY,...o}},s);return c=EY(c),c.applyStyles=hX,c=e.reduce((u,f)=>fr(u,f),c),c.unstable_sxConfig={...ng,...s==null?void 0:s.unstable_sxConfig},c.unstable_sx=function(f){return bc({sx:f,theme:this})},c}function pX(t){return Object.keys(t).length===0}function XF(t=null){const e=w.useContext(V0);return!e||pX(e)?t:e}const gX=Yd();function rg(t=gX){return XF(t)}function mX({styles:t,themeId:e,defaultTheme:n={}}){const r=rg(n),i=typeof t=="function"?t(e&&r[e]||r):t;return A.jsx(pY,{styles:i})}const yX=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??ng;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function o_(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=yX(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return ds(a)?{...r,...a}:r}:o={...r,...e},{...i,sx:o}}const Ik=t=>t,vX=()=>{let t=Ik;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Ik}}},QF=vX();function JF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=JF(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function we(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=JF(t))&&(r&&(r+=" "),r+=e);return r}function _X(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=jF("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(bc);return w.forwardRef(function(l,c){const u=rg(n),{className:f,component:h="div",...p}=o_(l);return A.jsx(o,{as:h,ref:c,className:we(f,i?i(r):r),theme:e&&u[e]||u,...p})})}const bX={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function rt(t,e,n="Mui"){const r=bX[e];return r?`${n}-${r}`:`${QF.generate(t)}-${e}`}function Ze(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=rt(t,i,n)}),r}function ZF(t){const{variants:e,...n}=t,r={variants:e,style:Sk(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=Sk(i.style))}),r}const wX=Yd();function Kb(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function xX(t){return t?(e,n)=>n[t]:null}function EX(t,e,n){t.theme=CX(t.theme)?n:t.theme[e]||t.theme}function ny(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>ny(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...o}=n;r=o}return e4(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function e4(t,e,n=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const s=e[o];if(typeof s.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!s.props(r))continue}else for(const a in s.props)if(t[a]!==s.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==s.props[a])continue e;typeof s.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(s.style(r))):n.push(s.style)}return n}function t4(t={}){const{themeId:e,defaultTheme:n=wX,rootShouldForwardProp:r=Kb,slotShouldForwardProp:i=Kb}=t;function o(a){EX(a,e,n)}return(a,l={})=>{gY(a,O=>O.filter(N=>N!==bc));const{name:c,slot:u,skipVariantsResolver:f,skipSx:h,overridesResolver:p=xX(IX(u)),...g}=l,x=f!==void 0?f:u&&u!=="Root"&&u!=="root"||!1,S=h||!1;let y=Kb;u==="Root"||u==="root"?y=r:u?y=i:TX(a)&&(y=void 0);const b=jF(a,{shouldForwardProp:y,label:SX(),...g}),_=O=>{if(typeof O=="function"&&O.__emotion_real!==O)return function(E){return ny(E,O)};if(ds(O)){const N=ZF(O);return N.variants?function(I){return ny(I,N)}:N.style}return O},C=(...O)=>{const N=[],E=O.map(_),I=[];if(N.push(o),c&&p&&I.push(function(M){var W,ne;const Y=(ne=(W=M.theme.components)==null?void 0:W[c])==null?void 0:ne.styleOverrides;if(!Y)return null;const H={};for(const j in Y)H[j]=ny(M,Y[j]);return p(M,H)}),c&&!x&&I.push(function(M){var H,W;const P=M.theme,Y=(W=(H=P==null?void 0:P.components)==null?void 0:H[c])==null?void 0:W.variants;return Y?e4(M,Y):null}),S||I.push(bc),Array.isArray(E[0])){const k=E.shift(),M=new Array(N.length).fill(""),P=new Array(I.length).fill("");let Y;Y=[...M,...k,...P],Y.raw=[...M,...k.raw,...P],N.unshift(Y)}const R=[...N,...E,...I],v=b(...R);return a.muiName&&(v.muiName=a.muiName),v};return b.withConfig&&(C.withConfig=b.withConfig),C}}function SX(t,e){return void 0}function CX(t){for(const e in t)return!1;return!0}function TX(t){return typeof t=="string"&&t.charCodeAt(0)>96}function IX(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const g1=t4();function Sd(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const o=t[i],s=e[i];if(!s)n[i]=o||{};else if(!o)n[i]=s;else{n[i]={...s};for(const a in o)if(Object.prototype.hasOwnProperty.call(o,a)){const l=a;n[i][l]=Sd(o[l],s[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function n4(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Sd(e.components[n].defaultProps,r)}function m1({props:t,name:e,defaultTheme:n,themeId:r}){let i=rg(n);return r&&(i=i[r]||i),n4({theme:i,name:e,props:t})}const xo=typeof window<"u"?w.useLayoutEffect:w.useEffect;function RX(t,e,n,r,i){const[o,s]=w.useState(()=>i&&n?n(t).matches:r?r(t).matches:e);return xo(()=>{if(!n)return;const a=n(t),l=()=>{s(a.matches)};return l(),a.addEventListener("change",l),()=>{a.removeEventListener("change",l)}},[t,n]),o}const PX={...ay},r4=PX.useSyncExternalStore;function kX(t,e,n,r,i){const o=w.useCallback(()=>e,[e]),s=w.useMemo(()=>{if(i&&n)return()=>n(t).matches;if(r!==null){const{matches:u}=r(t);return()=>u}return o},[o,t,r,i,n]),[a,l]=w.useMemo(()=>{if(n===null)return[o,()=>()=>{}];const u=n(t);return[()=>u.matches,f=>(u.addEventListener("change",f),()=>{u.removeEventListener("change",f)})]},[o,n,t]);return r4(l,a,s)}function i4(t={}){const{themeId:e}=t;return function(r,i={}){let o=XF();o&&e&&(o=o[e]||o);const s=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:a=!1,matchMedia:l=s?window.matchMedia:null,ssrMatchMedia:c=null,noSsr:u=!1}=n4({name:"MuiUseMediaQuery",props:i,theme:o});let f=typeof r=="function"?r(o):r;return f=f.replace(/^@media( ?)/m,""),(r4!==void 0?kX:RX)(f,a,l,c,u)}}i4();function AX(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function y1(t,e=0,n=1){return AX(t,e,n)}function OX(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function yl(t){if(t.type)return t;if(t.charAt(0)==="#")return yl(OX(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(da(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(da(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const NX=t=>{const e=yl(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},nh=(t,e)=>{try{return NX(t)}catch{return t}};function s_(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function o4(t){t=yl(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(c,u=(c+n/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),s_({type:a,values:l})}function eE(t){t=yl(t);let e=t.type==="hsl"||t.type==="hsla"?yl(o4(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function MX(t,e){const n=eE(t),r=eE(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Ot(t,e){return t=yl(t),e=y1(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,s_(t)}function am(t,e,n){try{return Ot(t,e)}catch{return t}}function v1(t,e){if(t=yl(t),e=y1(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return s_(t)}function Jt(t,e,n){try{return v1(t,e)}catch{return t}}function _1(t,e){if(t=yl(t),e=y1(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return s_(t)}function Zt(t,e,n){try{return _1(t,e)}catch{return t}}function DX(t,e=.15){return eE(t)>.5?v1(t,e):_1(t,e)}function lm(t,e,n){try{return DX(t,e)}catch{return t}}function Rk(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function a_(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function ry(t,e){var n,r,i;return w.isValidElement(t)&&e.indexOf(t.type.muiName??((i=(r=(n=t.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function Ti(t){return t&&t.ownerDocument||document}function Jo(t){return Ti(t).defaultView||window}function iv(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let Pk=0;function $X(t){const[e,n]=w.useState(t),r=t||e;return w.useEffect(()=>{e==null&&(Pk+=1,n(`mui-${Pk}`))},[e]),r}const LX={...ay},kk=LX.useId;function Xd(t){if(kk!==void 0){const e=kk();return t??e}return $X(t)}function Ch({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=w.useRef(t!==void 0),[o,s]=w.useState(e),a=i?t:o,l=w.useCallback(c=>{i||s(c)},[]);return[a,l]}function mi(t){const e=w.useRef(t);return xo(()=>{e.current=t}),w.useRef((...n)=>(0,e.current)(...n)).current}function hr(...t){return w.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{iv(n,e)})},t)}const Ak={};function s4(t,e){const n=w.useRef(Ak);return n.current===Ak&&(n.current=t(e)),n}const FX=[];function BX(t){w.useEffect(t,FX)}class b1{constructor(){bf(this,"currentId",null);bf(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});bf(this,"disposeEffect",()=>this.clear)}static create(){return new b1}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function a4(){const t=s4(b1.create).current;return BX(t.disposeEffect),t}function Ok(t){try{return t.matches(":focus-visible")}catch{}return!1}function l4(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}const VX=t=>{const e=w.useRef({});return w.useEffect(()=>{e.current=t}),e.current};function UX(t){return w.Children.toArray(t).filter(e=>w.isValidElement(e))}function it(t,e,n=void 0){const r={};for(const i in t){const o=t[i];let s="",a=!0;for(let l=0;l<o.length;l+=1){const c=o[l];c&&(s+=(a===!0?"":" ")+e(c),a=!1,n&&n[c]&&(s+=" "+n[c]))}r[i]=s}return r}function jX(t){return typeof t=="string"}function c4(t,e,n){return t===void 0||jX(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function u4(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function Nk(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function d4(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const p=we(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),g={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},x={...n,...i,...r};return p.length>0&&(x.className=p),Object.keys(g).length>0&&(x.style=g),{props:x,internalRef:void 0}}const s=u4({...i,...r}),a=Nk(r),l=Nk(i),c=e(s),u=we(c==null?void 0:c.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),f={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},h={...c,...n,...l,...a};return u.length>0&&(h.className=u),Object.keys(f).length>0&&(h.style=f),{props:h,internalRef:c.ref}}function f4(t,e,n){return typeof t=="function"?t(e,n):t}function Cd(t){var f;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=t,s=i?{}:f4(n,r),{props:a,internalRef:l}=d4({...o,externalSlotProps:s}),c=hr(l,s==null?void 0:s.ref,(f=t.additionalProps)==null?void 0:f.ref);return c4(e,{...a,ref:c},r)}function ig(t){var e;return parseInt(w.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const zX=w.createContext(),l_=()=>w.useContext(zX)??!1,WX=w.createContext(void 0);function HX(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Sd(i.defaultProps,r):!i.styleOverrides&&!i.variants?Sd(i,r):r}function GX({props:t,name:e}){const n=w.useContext(WX);return HX({props:t,name:e,theme:{components:n}})}const Mk={theme:void 0};function qX(t){let e,n;return function(i){let o=e;return(o===void 0||i.theme!==n)&&(Mk.theme=i.theme,o=ZF(t(Mk)),e=o,n=i.theme),o}}function KX(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const Dk=(t,e,n,r=[])=>{let i=t;e.forEach((o,s)=>{s===e.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},YX=(t,e,n)=>{function r(i,o=[],s=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...o,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...o,a],Array.isArray(l)?[...s,a]:s):e([...o,a],l,s))})}r(t)},XX=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Yb(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},o={},s={};return YX(t,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const u=`--${n?`${n}-`:""}${a.join("-")}`,f=XX(a,l);Object.assign(i,{[u]:f}),Dk(o,a,`var(${u})`,c),Dk(s,a,`var(${u}, ${f})`,c)}},a=>a[0]==="vars"),{css:i,vars:o,varsWithDefaults:s}}function QX(t,e={}){const{getSelector:n=S,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:s,defaultColorScheme:a="light",...l}=t,{vars:c,css:u,varsWithDefaults:f}=Yb(l,e);let h=f;const p={},{[a]:g,...x}=o;if(Object.entries(x||{}).forEach(([_,C])=>{const{vars:O,css:N,varsWithDefaults:E}=Yb(C,e);h=fr(h,E),p[_]={css:N,vars:O}}),g){const{css:_,vars:C,varsWithDefaults:O}=Yb(g,e);h=fr(h,O),p[a]={css:_,vars:C}}function S(_,C){var N,E;let O=i;if(i==="class"&&(O=".%s"),i==="data"&&(O="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(O=`[${i}="%s"]`),_){if(O==="media")return t.defaultColorScheme===_?":root":{[`@media (prefers-color-scheme: ${((E=(N=o[_])==null?void 0:N.palette)==null?void 0:E.mode)||_})`]:{":root":C}};if(O)return t.defaultColorScheme===_?`:root, ${O.replace("%s",String(_))}`:O.replace("%s",String(_))}return":root"}return{vars:h,generateThemeVars:()=>{let _={...c};return Object.entries(p).forEach(([,{vars:C}])=>{_=fr(_,C)}),_},generateStyleSheets:()=>{var I,R;const _=[],C=t.defaultColorScheme||"light";function O(v,k){Object.keys(k).length&&_.push(typeof v=="string"?{[v]:{...k}}:v)}O(n(void 0,{...u}),u);const{[C]:N,...E}=p;if(N){const{css:v}=N,k=(R=(I=o[C])==null?void 0:I.palette)==null?void 0:R.mode,M=!r&&k?{colorScheme:k,...v}:{...v};O(n(C,{...M}),M)}return Object.entries(E).forEach(([v,{css:k}])=>{var Y,H;const M=(H=(Y=o[v])==null?void 0:Y.palette)==null?void 0:H.mode,P=!r&&M?{colorScheme:M,...k}:{...k};O(n(v,{...P}),P)}),_}}}function JX(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const ZX=Yd(),eQ=g1("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${ae(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),tQ=t=>m1({props:t,name:"MuiContainer",defaultTheme:ZX}),nQ=(t,e)=>{const n=l=>rt(e,l),{classes:r,fixed:i,disableGutters:o,maxWidth:s}=t,a={root:["root",s&&`maxWidth${ae(String(s))}`,i&&"fixed",o&&"disableGutters"]};return it(a,n,r)};function rQ(t={}){const{createStyledComponent:e=eQ,useThemeProps:n=tQ,componentName:r="MuiContainer"}=t,i=e(({theme:s,ownerState:a})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((l,c)=>{const u=c,f=s.breakpoints.values[u];return f!==0&&(l[s.breakpoints.up(u)]={maxWidth:`${f}${s.breakpoints.unit}`}),l},{}),({theme:s,ownerState:a})=>({...a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},...a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}}));return w.forwardRef(function(a,l){const c=n(a),{className:u,component:f="div",disableGutters:h=!1,fixed:p=!1,maxWidth:g="lg",classes:x,...S}=c,y={...c,component:f,disableGutters:h,fixed:p,maxWidth:g},b=nQ(y,r);return A.jsx(i,{as:f,ownerState:y,className:we(b.root,u),ref:l,...S})})}const iQ=(t,e)=>t.filter(n=>e.includes(n)),Qd=(t,e,n)=>{const r=t.keys[0];Array.isArray(e)?e.forEach((i,o)=>{n((s,a)=>{o<=t.keys.length-1&&(o===0?Object.assign(s,a):s[t.up(t.keys[o])]=a)},i)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:iQ(t.keys,Object.keys(e))).forEach(o=>{if(t.keys.includes(o)){const s=e[o];s!==void 0&&n((a,l)=>{r===o?Object.assign(a,l):a[t.up(o)]=l},s)}}):(typeof e=="number"||typeof e=="string")&&n((i,o)=>{Object.assign(i,o)},e)};function ov(t){return`--Grid-${t}Spacing`}function c_(t){return`--Grid-parent-${t}Spacing`}const $k="--Grid-columns",id="--Grid-parent-columns",oQ=({theme:t,ownerState:e})=>{const n={};return Qd(t.breakpoints,e.size,(r,i)=>{let o={};i==="grow"&&(o={flexBasis:0,flexGrow:1,maxWidth:"100%"}),i==="auto"&&(o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof i=="number"&&(o={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${i} / var(${id}) - (var(${id}) - ${i}) * (var(${c_("column")}) / var(${id})))`}),r(n,o)}),n},sQ=({theme:t,ownerState:e})=>{const n={};return Qd(t.breakpoints,e.offset,(r,i)=>{let o={};i==="auto"&&(o={marginLeft:"auto"}),typeof i=="number"&&(o={marginLeft:i===0?"0px":`calc(100% * ${i} / var(${id}) + var(${c_("column")}) * ${i} / var(${id}))`}),r(n,o)}),n},aQ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={[$k]:12};return Qd(t.breakpoints,e.columns,(r,i)=>{const o=i??12;r(n,{[$k]:o,"> *":{[id]:o}})}),n},lQ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return Qd(t.breakpoints,e.rowSpacing,(r,i)=>{var s;const o=typeof i=="string"?i:(s=t.spacing)==null?void 0:s.call(t,i);r(n,{[ov("row")]:o,"> *":{[c_("row")]:o}})}),n},cQ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return Qd(t.breakpoints,e.columnSpacing,(r,i)=>{var s;const o=typeof i=="string"?i:(s=t.spacing)==null?void 0:s.call(t,i);r(n,{[ov("column")]:o,"> *":{[c_("column")]:o}})}),n},uQ=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return Qd(t.breakpoints,e.direction,(r,i)=>{r(n,{flexDirection:i})}),n},dQ=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${ov("row")}) var(${ov("column")})`}}),fQ=t=>{const e=[];return Object.entries(t).forEach(([n,r])=>{r!==!1&&r!==void 0&&e.push(`grid-${n}-${String(r)}`)}),e},hQ=(t,e="xs")=>{function n(r){return r===void 0?!1:typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number"&&r>0}if(n(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const r=[];return Object.entries(t).forEach(([i,o])=>{n(o)&&r.push(`spacing-${i}-${String(o)}`)}),r}return[]},pQ=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,n])=>`direction-${e}-${n}`):[`direction-xs-${String(t)}`];function gQ(t,e){t.item!==void 0&&delete t.item,t.zeroMinWidth!==void 0&&delete t.zeroMinWidth,e.keys.forEach(n=>{t[n]!==void 0&&delete t[n]})}const mQ=Yd(),yQ=g1("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>e.root});function vQ(t){return m1({props:t,name:"MuiGrid",defaultTheme:mQ})}function _Q(t={}){const{createStyledComponent:e=yQ,useThemeProps:n=vQ,useTheme:r=rg,componentName:i="MuiGrid"}=t,o=(c,u)=>{const{container:f,direction:h,spacing:p,wrap:g,size:x}=c,S={root:["root",f&&"container",g!=="wrap"&&`wrap-xs-${String(g)}`,...pQ(h),...fQ(x),...f?hQ(p,u.breakpoints.keys[0]):[]]};return it(S,y=>rt(i,y),{})};function s(c,u,f=()=>!0){const h={};return c===null||(Array.isArray(c)?c.forEach((p,g)=>{p!==null&&f(p)&&u.keys[g]&&(h[u.keys[g]]=p)}):typeof c=="object"?Object.keys(c).forEach(p=>{const g=c[p];g!=null&&f(g)&&(h[p]=g)}):h[u.keys[0]]=c),h}const a=e(aQ,cQ,lQ,oQ,uQ,dQ,sQ),l=w.forwardRef(function(u,f){const h=r(),p=n(u),g=o_(p);gQ(g,h.breakpoints);const{className:x,children:S,columns:y=12,container:b=!1,component:_="div",direction:C="row",wrap:O="wrap",size:N={},offset:E={},spacing:I=0,rowSpacing:R=I,columnSpacing:v=I,unstable_level:k=0,...M}=g,P=s(N,h.breakpoints,re=>re!==!1),Y=s(E,h.breakpoints),H=u.columns??(k?void 0:y),W=u.spacing??(k?void 0:I),ne=u.rowSpacing??u.spacing??(k?void 0:R),j=u.columnSpacing??u.spacing??(k?void 0:v),F={...g,level:k,columns:H,container:b,direction:C,wrap:O,spacing:W,rowSpacing:ne,columnSpacing:j,size:P,offset:Y},K=o(F,h);return A.jsx(a,{ref:f,as:_,ownerState:F,className:we(K.root,x),...M,children:w.Children.map(S,re=>{var ue;return w.isValidElement(re)&&ry(re,["Grid"])&&b&&re.props.container?w.cloneElement(re,{unstable_level:((ue=re.props)==null?void 0:ue.unstable_level)??k+1}):re})})});return l.muiName="Grid",l}const bQ=Yd(),wQ=g1("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function xQ(t){return m1({props:t,name:"MuiStack",defaultTheme:bQ})}function EQ(t,e){const n=w.Children.toArray(t).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(w.cloneElement(e,{key:`separator-${o}`})),r),[])}const SQ=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],CQ=({ownerState:t,theme:e})=>{let n={display:"flex",flexDirection:"column",...Qo({theme:e},qb({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(t.spacing){const r=Z0(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),o=qb({values:t.direction,base:i}),s=qb({values:t.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((l,c,u)=>{if(!o[l]){const h=c>0?o[u[c-1]]:"column";o[l]=h}}),n=fr(n,Qo({theme:e},s,(l,c)=>t.useFlexGap?{gap:_c(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${SQ(c?o[c]:t.direction)}`]:_c(r,l)}}))}return n=TY(e.breakpoints,n),n};function TQ(t={}){const{createStyledComponent:e=wQ,useThemeProps:n=xQ,componentName:r="MuiStack"}=t,i=()=>it({root:["root"]},l=>rt(r,l),{}),o=e(CQ);return w.forwardRef(function(l,c){const u=n(l),f=o_(u),{component:h="div",direction:p="column",spacing:g=0,divider:x,children:S,className:y,useFlexGap:b=!1,..._}=f,C={direction:p,spacing:g,useFlexGap:b},O=i();return A.jsx(o,{as:h,ownerState:C,ref:c,className:we(O.root,y),..._,children:x?EQ(S,x):S})})}function h4(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:up.white,default:up.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const IQ=h4();function p4(){return{text:{primary:up.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:up.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Lk=p4();function Fk(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=_1(t.main,i):e==="dark"&&(t.dark=v1(t.main,o)))}function RQ(t="light"){return t==="dark"?{main:iu[200],light:iu[50],dark:iu[400]}:{main:iu[700],light:iu[400],dark:iu[800]}}function PQ(t="light"){return t==="dark"?{main:ru[200],light:ru[50],dark:ru[400]}:{main:ru[500],light:ru[300],dark:ru[700]}}function kQ(t="light"){return t==="dark"?{main:nu[500],light:nu[300],dark:nu[700]}:{main:nu[700],light:nu[400],dark:nu[800]}}function AQ(t="light"){return t==="dark"?{main:ou[400],light:ou[300],dark:ou[700]}:{main:ou[700],light:ou[500],dark:ou[900]}}function OQ(t="light"){return t==="dark"?{main:su[400],light:su[300],dark:su[700]}:{main:su[800],light:su[500],dark:su[900]}}function NQ(t="light"){return t==="dark"?{main:Af[400],light:Af[300],dark:Af[700]}:{main:"#ed6c02",light:Af[500],dark:Af[900]}}function w1(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,o=t.primary||RQ(e),s=t.secondary||PQ(e),a=t.error||kQ(e),l=t.info||AQ(e),c=t.success||OQ(e),u=t.warning||NQ(e);function f(x){return MX(x,Lk.text.primary)>=n?Lk.text.primary:IQ.text.primary}const h=({color:x,name:S,mainShade:y=500,lightShade:b=300,darkShade:_=700})=>{if(x={...x},!x.main&&x[y]&&(x.main=x[y]),!x.hasOwnProperty("main"))throw new Error(da(11,S?` (${S})`:"",y));if(typeof x.main!="string")throw new Error(da(12,S?` (${S})`:"",JSON.stringify(x.main)));return Fk(x,"light",b,r),Fk(x,"dark",_,r),x.contrastText||(x.contrastText=f(x.main)),x};let p;return e==="light"?p=h4():e==="dark"&&(p=p4()),fr({common:{...up},mode:e,primary:h({color:o,name:"primary"}),secondary:h({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:sK,contrastThreshold:n,getContrastText:f,augmentColor:h,tonalOffset:r,...p},i)}function MQ(t){const e={};return Object.entries(t).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function DQ(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function $Q(t){return Math.round(t*1e5)/1e5}const Bk={textTransform:"uppercase"},Vk='"Roboto", "Helvetica", "Arial", sans-serif';function LQ(t,e){const{fontFamily:n=Vk,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:u,...f}=typeof e=="function"?e(t):e,h=r/14,p=u||(S=>`${S/l*h}rem`),g=(S,y,b,_,C)=>({fontFamily:n,fontWeight:S,fontSize:p(y),lineHeight:b,...n===Vk?{letterSpacing:`${$Q(_/y)}em`}:{},...C,...c}),x={h1:g(i,96,1.167,-1.5),h2:g(i,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(s,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(s,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(s,14,1.75,.4,Bk),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,Bk),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return fr({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:a,...x},f,{clone:!1})}const FQ=.2,BQ=.14,VQ=.12;function _n(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${FQ})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${BQ})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${VQ})`].join(",")}const UQ=["none",_n(0,2,1,-1,0,1,1,0,0,1,3,0),_n(0,3,1,-2,0,2,2,0,0,1,5,0),_n(0,3,3,-2,0,3,4,0,0,1,8,0),_n(0,2,4,-1,0,4,5,0,0,1,10,0),_n(0,3,5,-1,0,5,8,0,0,1,14,0),_n(0,3,5,-1,0,6,10,0,0,1,18,0),_n(0,4,5,-2,0,7,10,1,0,2,16,1),_n(0,5,5,-3,0,8,10,1,0,3,14,2),_n(0,5,6,-3,0,9,12,1,0,3,16,2),_n(0,6,6,-3,0,10,14,1,0,4,18,3),_n(0,6,7,-4,0,11,15,1,0,4,20,3),_n(0,7,8,-4,0,12,17,2,0,5,22,4),_n(0,7,8,-4,0,13,19,2,0,5,24,4),_n(0,7,9,-4,0,14,21,2,0,5,26,4),_n(0,8,9,-5,0,15,22,2,0,6,28,5),_n(0,8,10,-5,0,16,24,2,0,6,30,5),_n(0,8,11,-5,0,17,26,2,0,6,32,5),_n(0,9,11,-5,0,18,28,2,0,7,34,6),_n(0,9,12,-6,0,19,29,2,0,7,36,6),_n(0,10,13,-6,0,20,31,3,0,8,38,7),_n(0,10,13,-6,0,21,33,3,0,8,40,7),_n(0,10,14,-6,0,22,35,3,0,8,42,7),_n(0,11,14,-7,0,23,36,3,0,9,44,8),_n(0,11,15,-7,0,24,38,3,0,9,46,8)],jQ={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},zQ={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Uk(t){return`${Math.round(t)}ms`}function WQ(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function HQ(t){const e={...jQ,...t.easing},n={...zQ,...t.duration};return{getAutoHeightDuration:WQ,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=e.easeInOut,delay:l=0,...c}=o;return(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof s=="string"?s:Uk(s)} ${a} ${typeof l=="string"?l:Uk(l)}`).join(",")},...t,easing:e,duration:n}}const GQ={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function qQ(t){return ds(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function g4(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[s,a]=i[o];!qQ(a)||s.startsWith("unstable_")?delete r[s]:ds(a)&&(r[s]={...a},n(r[s]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function tE(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:o={},transitions:s={},typography:a={},shape:l,...c}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(da(20));const u=w1(o),f=Yd(t);let h=fr(f,{mixins:DQ(f.breakpoints,r),palette:u,shadows:UQ.slice(),typography:LQ(u,a),transitions:HQ(s),zIndex:{...GQ}});return h=fr(h,c),h=e.reduce((p,g)=>fr(p,g),h),h.unstable_sxConfig={...ng,...c==null?void 0:c.unstable_sxConfig},h.unstable_sx=function(g){return bc({sx:g,theme:this})},h.toRuntimeSource=g4,h}function nE(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const KQ=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=nE(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function m4(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function y4(t){return t==="dark"?KQ:[]}function YQ(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,o=w1(e);return{palette:o,opacity:{...m4(o.mode),...n},overlays:r||y4(o.mode),...i}}function XQ(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const QQ=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],JQ=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const s={};return QQ(t.cssVarPrefix).forEach(a=>{s[a]=n[a],delete n[a]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:o?{[o.replace("%s",e)]:s,[`${r}, ${o.replace("%s",e)}`]:n}:{[r]:{...n,...s}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(o)return o.replace("%s",String(e))}return r};function ZQ(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function Q(t,e,n){!t[e]&&n&&(t[e]=n)}function rh(t){return typeof t!="string"||!t.startsWith("hsl")?t:o4(t)}function $s(t,e){`${e}Channel`in t||(t[`${e}Channel`]=nh(rh(t[e])))}function eJ(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const os=t=>{try{return t()}catch{}},tJ=(t="mui")=>KX(t);function Xb(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=YQ({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...s}=tE({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:o,opacity:{...m4(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||y4(i)},s}function nJ(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:s=XQ,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...c}=t,u=Object.keys(n)[0],f=r||(n.light&&u!=="light"?"light":u),h=tJ(o),{[f]:p,light:g,dark:x,...S}=n,y={...S};let b=p;if((f==="dark"&&!("dark"in n)||f==="light"&&!("light"in n))&&(b=!0),!b)throw new Error(da(21,f));const _=Xb(y,b,c,f);g&&!y.light&&Xb(y,g,void 0,"light"),x&&!y.dark&&Xb(y,x,void 0,"dark");let C={defaultColorScheme:f,..._,cssVarPrefix:o,colorSchemeSelector:a,rootSelector:l,getCssVar:h,colorSchemes:y,font:{...MQ(_.typography),..._.font},spacing:eJ(c.spacing)};Object.keys(C.colorSchemes).forEach(R=>{const v=C.colorSchemes[R].palette,k=M=>{const P=M.split("-"),Y=P[1],H=P[2];return h(M,v[Y][H])};if(v.mode==="light"&&(Q(v.common,"background","#fff"),Q(v.common,"onBackground","#000")),v.mode==="dark"&&(Q(v.common,"background","#000"),Q(v.common,"onBackground","#fff")),ZQ(v,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),v.mode==="light"){Q(v.Alert,"errorColor",Jt(v.error.light,.6)),Q(v.Alert,"infoColor",Jt(v.info.light,.6)),Q(v.Alert,"successColor",Jt(v.success.light,.6)),Q(v.Alert,"warningColor",Jt(v.warning.light,.6)),Q(v.Alert,"errorFilledBg",k("palette-error-main")),Q(v.Alert,"infoFilledBg",k("palette-info-main")),Q(v.Alert,"successFilledBg",k("palette-success-main")),Q(v.Alert,"warningFilledBg",k("palette-warning-main")),Q(v.Alert,"errorFilledColor",os(()=>v.getContrastText(v.error.main))),Q(v.Alert,"infoFilledColor",os(()=>v.getContrastText(v.info.main))),Q(v.Alert,"successFilledColor",os(()=>v.getContrastText(v.success.main))),Q(v.Alert,"warningFilledColor",os(()=>v.getContrastText(v.warning.main))),Q(v.Alert,"errorStandardBg",Zt(v.error.light,.9)),Q(v.Alert,"infoStandardBg",Zt(v.info.light,.9)),Q(v.Alert,"successStandardBg",Zt(v.success.light,.9)),Q(v.Alert,"warningStandardBg",Zt(v.warning.light,.9)),Q(v.Alert,"errorIconColor",k("palette-error-main")),Q(v.Alert,"infoIconColor",k("palette-info-main")),Q(v.Alert,"successIconColor",k("palette-success-main")),Q(v.Alert,"warningIconColor",k("palette-warning-main")),Q(v.AppBar,"defaultBg",k("palette-grey-100")),Q(v.Avatar,"defaultBg",k("palette-grey-400")),Q(v.Button,"inheritContainedBg",k("palette-grey-300")),Q(v.Button,"inheritContainedHoverBg",k("palette-grey-A100")),Q(v.Chip,"defaultBorder",k("palette-grey-400")),Q(v.Chip,"defaultAvatarColor",k("palette-grey-700")),Q(v.Chip,"defaultIconColor",k("palette-grey-700")),Q(v.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Q(v.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Q(v.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Q(v.LinearProgress,"primaryBg",Zt(v.primary.main,.62)),Q(v.LinearProgress,"secondaryBg",Zt(v.secondary.main,.62)),Q(v.LinearProgress,"errorBg",Zt(v.error.main,.62)),Q(v.LinearProgress,"infoBg",Zt(v.info.main,.62)),Q(v.LinearProgress,"successBg",Zt(v.success.main,.62)),Q(v.LinearProgress,"warningBg",Zt(v.warning.main,.62)),Q(v.Skeleton,"bg",`rgba(${k("palette-text-primaryChannel")} / 0.11)`),Q(v.Slider,"primaryTrack",Zt(v.primary.main,.62)),Q(v.Slider,"secondaryTrack",Zt(v.secondary.main,.62)),Q(v.Slider,"errorTrack",Zt(v.error.main,.62)),Q(v.Slider,"infoTrack",Zt(v.info.main,.62)),Q(v.Slider,"successTrack",Zt(v.success.main,.62)),Q(v.Slider,"warningTrack",Zt(v.warning.main,.62));const M=lm(v.background.default,.8);Q(v.SnackbarContent,"bg",M),Q(v.SnackbarContent,"color",os(()=>v.getContrastText(M))),Q(v.SpeedDialAction,"fabHoverBg",lm(v.background.paper,.15)),Q(v.StepConnector,"border",k("palette-grey-400")),Q(v.StepContent,"border",k("palette-grey-400")),Q(v.Switch,"defaultColor",k("palette-common-white")),Q(v.Switch,"defaultDisabledColor",k("palette-grey-100")),Q(v.Switch,"primaryDisabledColor",Zt(v.primary.main,.62)),Q(v.Switch,"secondaryDisabledColor",Zt(v.secondary.main,.62)),Q(v.Switch,"errorDisabledColor",Zt(v.error.main,.62)),Q(v.Switch,"infoDisabledColor",Zt(v.info.main,.62)),Q(v.Switch,"successDisabledColor",Zt(v.success.main,.62)),Q(v.Switch,"warningDisabledColor",Zt(v.warning.main,.62)),Q(v.TableCell,"border",Zt(am(v.divider,1),.88)),Q(v.Tooltip,"bg",am(v.grey[700],.92))}if(v.mode==="dark"){Q(v.Alert,"errorColor",Zt(v.error.light,.6)),Q(v.Alert,"infoColor",Zt(v.info.light,.6)),Q(v.Alert,"successColor",Zt(v.success.light,.6)),Q(v.Alert,"warningColor",Zt(v.warning.light,.6)),Q(v.Alert,"errorFilledBg",k("palette-error-dark")),Q(v.Alert,"infoFilledBg",k("palette-info-dark")),Q(v.Alert,"successFilledBg",k("palette-success-dark")),Q(v.Alert,"warningFilledBg",k("palette-warning-dark")),Q(v.Alert,"errorFilledColor",os(()=>v.getContrastText(v.error.dark))),Q(v.Alert,"infoFilledColor",os(()=>v.getContrastText(v.info.dark))),Q(v.Alert,"successFilledColor",os(()=>v.getContrastText(v.success.dark))),Q(v.Alert,"warningFilledColor",os(()=>v.getContrastText(v.warning.dark))),Q(v.Alert,"errorStandardBg",Jt(v.error.light,.9)),Q(v.Alert,"infoStandardBg",Jt(v.info.light,.9)),Q(v.Alert,"successStandardBg",Jt(v.success.light,.9)),Q(v.Alert,"warningStandardBg",Jt(v.warning.light,.9)),Q(v.Alert,"errorIconColor",k("palette-error-main")),Q(v.Alert,"infoIconColor",k("palette-info-main")),Q(v.Alert,"successIconColor",k("palette-success-main")),Q(v.Alert,"warningIconColor",k("palette-warning-main")),Q(v.AppBar,"defaultBg",k("palette-grey-900")),Q(v.AppBar,"darkBg",k("palette-background-paper")),Q(v.AppBar,"darkColor",k("palette-text-primary")),Q(v.Avatar,"defaultBg",k("palette-grey-600")),Q(v.Button,"inheritContainedBg",k("palette-grey-800")),Q(v.Button,"inheritContainedHoverBg",k("palette-grey-700")),Q(v.Chip,"defaultBorder",k("palette-grey-700")),Q(v.Chip,"defaultAvatarColor",k("palette-grey-300")),Q(v.Chip,"defaultIconColor",k("palette-grey-300")),Q(v.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Q(v.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Q(v.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Q(v.LinearProgress,"primaryBg",Jt(v.primary.main,.5)),Q(v.LinearProgress,"secondaryBg",Jt(v.secondary.main,.5)),Q(v.LinearProgress,"errorBg",Jt(v.error.main,.5)),Q(v.LinearProgress,"infoBg",Jt(v.info.main,.5)),Q(v.LinearProgress,"successBg",Jt(v.success.main,.5)),Q(v.LinearProgress,"warningBg",Jt(v.warning.main,.5)),Q(v.Skeleton,"bg",`rgba(${k("palette-text-primaryChannel")} / 0.13)`),Q(v.Slider,"primaryTrack",Jt(v.primary.main,.5)),Q(v.Slider,"secondaryTrack",Jt(v.secondary.main,.5)),Q(v.Slider,"errorTrack",Jt(v.error.main,.5)),Q(v.Slider,"infoTrack",Jt(v.info.main,.5)),Q(v.Slider,"successTrack",Jt(v.success.main,.5)),Q(v.Slider,"warningTrack",Jt(v.warning.main,.5));const M=lm(v.background.default,.98);Q(v.SnackbarContent,"bg",M),Q(v.SnackbarContent,"color",os(()=>v.getContrastText(M))),Q(v.SpeedDialAction,"fabHoverBg",lm(v.background.paper,.15)),Q(v.StepConnector,"border",k("palette-grey-600")),Q(v.StepContent,"border",k("palette-grey-600")),Q(v.Switch,"defaultColor",k("palette-grey-300")),Q(v.Switch,"defaultDisabledColor",k("palette-grey-600")),Q(v.Switch,"primaryDisabledColor",Jt(v.primary.main,.55)),Q(v.Switch,"secondaryDisabledColor",Jt(v.secondary.main,.55)),Q(v.Switch,"errorDisabledColor",Jt(v.error.main,.55)),Q(v.Switch,"infoDisabledColor",Jt(v.info.main,.55)),Q(v.Switch,"successDisabledColor",Jt(v.success.main,.55)),Q(v.Switch,"warningDisabledColor",Jt(v.warning.main,.55)),Q(v.TableCell,"border",Jt(am(v.divider,1),.68)),Q(v.Tooltip,"bg",am(v.grey[700],.92))}$s(v.background,"default"),$s(v.background,"paper"),$s(v.common,"background"),$s(v.common,"onBackground"),$s(v,"divider"),Object.keys(v).forEach(M=>{const P=v[M];M!=="tonalOffset"&&P&&typeof P=="object"&&(P.main&&Q(v[M],"mainChannel",nh(rh(P.main))),P.light&&Q(v[M],"lightChannel",nh(rh(P.light))),P.dark&&Q(v[M],"darkChannel",nh(rh(P.dark))),P.contrastText&&Q(v[M],"contrastTextChannel",nh(rh(P.contrastText))),M==="text"&&($s(v[M],"primary"),$s(v[M],"secondary")),M==="action"&&(P.active&&$s(v[M],"active"),P.selected&&$s(v[M],"selected")))})}),C=e.reduce((R,v)=>fr(R,v),C);const O={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:s,getSelector:JQ(C)},{vars:N,generateThemeVars:E,generateStyleSheets:I}=QX(C,O);return C.vars=N,Object.entries(C.colorSchemes[C.defaultColorScheme]).forEach(([R,v])=>{C[R]=v}),C.generateThemeVars=E,C.generateStyleSheets=I,C.generateSpacing=function(){return YF(c.spacing,Z0(this))},C.getColorSchemeSelector=JX(a),C.spacing=C.generateSpacing(),C.shouldSkipGeneratingVar=s,C.unstable_sxConfig={...ng,...c==null?void 0:c.unstable_sxConfig},C.unstable_sx=function(v){return bc({sx:v,theme:this})},C.toRuntimeSource=g4,C}function jk(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:w1({...n===!0?{}:n.palette,mode:e})})}function v4(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:o=n==null?void 0:n.mode,...s}=t,a=o||"light",l=i==null?void 0:i[a],c={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return tE(t,...e);let u=n;"palette"in t||c[a]&&(c[a]!==!0?u=c[a].palette:a==="dark"&&(u={mode:"dark"}));const f=tE({...t,palette:u},...e);return f.defaultColorScheme=a,f.colorSchemes=c,f.palette.mode==="light"&&(f.colorSchemes.light={...c.light!==!0&&c.light,palette:f.palette},jk(f,"dark",c.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:f.palette},jk(f,"light",c.light)),f}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),nJ({...s,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const x1=v4();function Oc(){const t=rg(x1);return t[Qp]||t}function _4(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Ro=t=>_4(t)&&t!=="classes",le=t4({themeId:Qp,defaultTheme:x1,rootShouldForwardProp:Ro});function rJ(t){return A.jsx(mX,{...t,defaultTheme:x1,themeId:Qp})}function iJ(t){return function(n){return A.jsx(rJ,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function oJ(){return o_}const vt=qX;function st(t){return GX(t)}function sJ(t){return rt("MuiSvgIcon",t)}Ze("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const aJ=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${ae(e)}`,`fontSize${ae(n)}`]};return it(i,sJ,r)},lJ=le("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${ae(n.color)}`],e[`fontSize${ae(n.fontSize)}`]]}})(vt(({theme:t})=>{var e,n,r,i,o,s,a,l,c,u,f,h,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:x=>!x.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((s=(o=t.typography)==null?void 0:o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((u=(c=t.typography)==null?void 0:c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,x])=>x&&x.main).map(([x])=>{var S,y;return{props:{color:x},style:{color:(y=(S=(t.vars??t).palette)==null?void 0:S[x])==null?void 0:y.main}}}),{props:{color:"action"},style:{color:(h=(f=(t.vars??t).palette)==null?void 0:f.action)==null?void 0:h.active}},{props:{color:"disabled"},style:{color:(g=(p=(t.vars??t).palette)==null?void 0:p.action)==null?void 0:g.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),rE=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:f,viewBox:h="0 0 24 24",...p}=r,g=w.isValidElement(i)&&i.type==="svg",x={...r,color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:g},S={};u||(S.viewBox=h);const y=aJ(x);return A.jsxs(lJ,{as:a,className:we(y.root,o),focusable:"false",color:c,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n,...S,...p,...g&&i.props,ownerState:x,children:[g?i.props.children:i,f?A.jsx("title",{children:f}):null]})});rE.muiName="SvgIcon";function Yn(t,e){function n(r,i){return A.jsx(rE,{"data-testid":void 0,ref:i,...r,children:t})}return n.muiName=rE.muiName,w.memo(w.forwardRef(n))}function cJ(t,e){const n=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&n>=65&&n<=90&&typeof e=="function"}function uJ(t,e){if(!t)return e;function n(s,a){const l={};return Object.keys(a).forEach(c=>{cJ(c,a[c])&&typeof s[c]=="function"&&(l[c]=(...u)=>{s[c](...u),a[c](...u)})}),l}if(typeof t=="function"||typeof e=="function")return s=>{const a=typeof e=="function"?e(s):e,l=typeof t=="function"?t({...s,...a}):t,c=we(s==null?void 0:s.className,a==null?void 0:a.className,l==null?void 0:l.className),u=n(l,a);return{...a,...l,...u,...!!c&&{className:c},...(a==null?void 0:a.style)&&(l==null?void 0:l.style)&&{style:{...a.style,...l.style}},...(a==null?void 0:a.sx)&&(l==null?void 0:l.sx)&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(l.sx)?l.sx:[l.sx]]}}};const r=e,i=n(t,r),o=we(r==null?void 0:r.className,t==null?void 0:t.className);return{...e,...t,...i,...!!o&&{className:o},...(r==null?void 0:r.style)&&(t==null?void 0:t.style)&&{style:{...r.style,...t.style}},...(r==null?void 0:r.sx)&&(t==null?void 0:t.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function b4(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function iE(t,e){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},iE(t,e)}function w4(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,iE(t,e)}const zk={disabled:!1},sv=L.createContext(null);var dJ=function(e){return e.scrollTop},ih="unmounted",Hl="exited",Gl="entering",pu="entered",oE="exiting",Rs=function(t){w4(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=Hl,o.appearStatus=Gl):l=pu:r.unmountOnExit||r.mountOnEnter?l=ih:l=Hl,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===ih?{status:Hl}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Gl&&s!==pu&&(o=Gl):(s===Gl||s===pu)&&(o=oE)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Gl){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Xg.findDOMNode(this);s&&dJ(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Hl&&this.setState({status:ih})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Xg.findDOMNode(this),a],c=l[0],u=l[1],f=this.getTimeouts(),h=a?f.appear:f.enter;if(!i&&!s||zk.disabled){this.safeSetState({status:pu},function(){o.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Gl},function(){o.props.onEntering(c,u),o.onTransitionEnd(h,function(){o.safeSetState({status:pu},function(){o.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Xg.findDOMNode(this);if(!o||zk.disabled){this.safeSetState({status:Hl},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:oE},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Hl},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Xg.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ih)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=b4(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return L.createElement(sv.Provider,{value:null},typeof s=="function"?s(i,a):L.cloneElement(L.Children.only(s),a))},e}(L.Component);Rs.contextType=sv;Rs.propTypes={};function au(){}Rs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:au,onEntering:au,onEntered:au,onExit:au,onExiting:au,onExited:au};Rs.UNMOUNTED=ih;Rs.EXITED=Hl;Rs.ENTERING=Gl;Rs.ENTERED=pu;Rs.EXITING=oE;function fJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E1(t,e){var n=function(o){return e&&w.isValidElement(o)?e(o):o},r=Object.create(null);return t&&w.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function hJ(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var c=r[l][s];a[r[l][s]]=n(c)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function ec(t,e,n){return n[e]!=null?n[e]:t.props[e]}function pJ(t,e){return E1(t.children,function(n){return w.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:ec(n,"appear",t),enter:ec(n,"enter",t),exit:ec(n,"exit",t)})})}function gJ(t,e,n){var r=E1(t.children),i=hJ(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(w.isValidElement(s)){var a=o in e,l=o in r,c=e[o],u=w.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[o]=w.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:ec(s,"exit",t),enter:ec(s,"enter",t)}):!l&&a&&!u?i[o]=w.cloneElement(s,{in:!1}):l&&a&&w.isValidElement(c)&&(i[o]=w.cloneElement(s,{onExited:n.bind(null,s),in:c.props.in,exit:ec(s,"exit",t),enter:ec(s,"enter",t)}))}}),i}var mJ=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},yJ={component:"div",childFactory:function(e){return e}},S1=function(t){w4(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(fJ(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?pJ(i,a):gJ(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=E1(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=tv({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=b4(i,["component","childFactory"]),l=this.state.contextValue,c=mJ(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?L.createElement(sv.Provider,{value:l},c):L.createElement(sv.Provider,{value:l},L.createElement(o,a,c))},e}(L.Component);S1.propTypes={};S1.defaultProps=yJ;const x4=t=>t.scrollTop;function av(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function vJ(t){return rt("MuiPaper",t)}Ze("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _J=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return it(o,vJ,i)},bJ=le("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(vt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Jd=w.forwardRef(function(e,n){var p;const r=st({props:e,name:"MuiPaper"}),i=Oc(),{className:o,component:s="div",elevation:a=1,square:l=!1,variant:c="elevation",...u}=r,f={...r,component:s,elevation:a,square:l,variant:c},h=_J(f);return A.jsx(bJ,{as:s,ownerState:f,className:we(h.root,o),ref:n,...u,style:{...c==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(p=i.vars.overlays)==null?void 0:p[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Ot("#fff",nE(a))}, ${Ot("#fff",nE(a))})`}},...u.style}})});function Gt(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...l}=e,{component:c,slots:u={[t]:void 0},slotProps:f={[t]:void 0},...h}=o,p=u[t]||r,g=f4(f[t],i),{props:{component:x,...S},internalRef:y}=d4({className:n,...l,externalForwardedProps:t==="root"?h:void 0,externalSlotProps:g}),b=hr(y,g==null?void 0:g.ref,e.ref),_=t==="root"?x||c:x,C=c4(p,{...t==="root"&&!c&&!u[t]&&s,...t!=="root"&&!u[t]&&s,...S,..._&&!a&&{as:_},..._&&a&&{component:_},ref:b},i);return[p,C]}class lv{constructor(){bf(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new lv}static use(){const e=s4(lv.create).current,[n,r]=w.useState(!1);return e.shouldMount=n,e.setShouldMount=r,w.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=xJ(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function wJ(){return lv.use()}function xJ(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function EJ(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:c}=t,[u,f]=w.useState(!1),h=we(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},g=we(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&f(!0),w.useEffect(()=>{if(!a&&l!=null){const x=setTimeout(l,c);return()=>{clearTimeout(x)}}},[l,a,c]),A.jsx("span",{className:h,style:p,children:A.jsx("span",{className:g})})}const co=Ze("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),sE=550,SJ=80,CJ=eg`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,TJ=eg`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,IJ=eg`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,RJ=le("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),PJ=le(EJ,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${co.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${CJ};
    animation-duration: ${sE}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${co.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${co.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${co.childLeaving} {
    opacity: 0;
    animation-name: ${TJ};
    animation-duration: ${sE}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${co.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${IJ};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,kJ=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s,...a}=r,[l,c]=w.useState([]),u=w.useRef(0),f=w.useRef(null);w.useEffect(()=>{f.current&&(f.current(),f.current=null)},[l]);const h=w.useRef(!1),p=a4(),g=w.useRef(null),x=w.useRef(null),S=w.useCallback(C=>{const{pulsate:O,rippleX:N,rippleY:E,rippleSize:I,cb:R}=C;c(v=>[...v,A.jsx(PJ,{classes:{ripple:we(o.ripple,co.ripple),rippleVisible:we(o.rippleVisible,co.rippleVisible),ripplePulsate:we(o.ripplePulsate,co.ripplePulsate),child:we(o.child,co.child),childLeaving:we(o.childLeaving,co.childLeaving),childPulsate:we(o.childPulsate,co.childPulsate)},timeout:sE,pulsate:O,rippleX:N,rippleY:E,rippleSize:I},u.current)]),u.current+=1,f.current=R},[o]),y=w.useCallback((C={},O={},N=()=>{})=>{const{pulsate:E=!1,center:I=i||O.pulsate,fakeElement:R=!1}=O;if((C==null?void 0:C.type)==="mousedown"&&h.current){h.current=!1;return}(C==null?void 0:C.type)==="touchstart"&&(h.current=!0);const v=R?null:x.current,k=v?v.getBoundingClientRect():{width:0,height:0,left:0,top:0};let M,P,Y;if(I||C===void 0||C.clientX===0&&C.clientY===0||!C.clientX&&!C.touches)M=Math.round(k.width/2),P=Math.round(k.height/2);else{const{clientX:H,clientY:W}=C.touches&&C.touches.length>0?C.touches[0]:C;M=Math.round(H-k.left),P=Math.round(W-k.top)}if(I)Y=Math.sqrt((2*k.width**2+k.height**2)/3),Y%2===0&&(Y+=1);else{const H=Math.max(Math.abs((v?v.clientWidth:0)-M),M)*2+2,W=Math.max(Math.abs((v?v.clientHeight:0)-P),P)*2+2;Y=Math.sqrt(H**2+W**2)}C!=null&&C.touches?g.current===null&&(g.current=()=>{S({pulsate:E,rippleX:M,rippleY:P,rippleSize:Y,cb:N})},p.start(SJ,()=>{g.current&&(g.current(),g.current=null)})):S({pulsate:E,rippleX:M,rippleY:P,rippleSize:Y,cb:N})},[i,S,p]),b=w.useCallback(()=>{y({},{pulsate:!0})},[y]),_=w.useCallback((C,O)=>{if(p.clear(),(C==null?void 0:C.type)==="touchend"&&g.current){g.current(),g.current=null,p.start(0,()=>{_(C,O)});return}g.current=null,c(N=>N.length>0?N.slice(1):N),f.current=O},[p]);return w.useImperativeHandle(n,()=>({pulsate:b,start:y,stop:_}),[b,y,_]),A.jsx(RJ,{className:we(co.root,o.root,s),ref:x,...a,children:A.jsx(S1,{component:null,exit:!0,children:l})})});function AJ(t){return rt("MuiButtonBase",t)}const OJ=Ze("MuiButtonBase",["root","disabled","focusVisible"]),NJ=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=it({root:["root",e&&"disabled",n&&"focusVisible"]},AJ,i);return n&&r&&(s.root+=` ${r}`),s},MJ=le("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${OJ.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),vl=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:f=!1,focusRipple:h=!1,focusVisibleClassName:p,LinkComponent:g="a",onBlur:x,onClick:S,onContextMenu:y,onDragLeave:b,onFocus:_,onFocusVisible:C,onKeyDown:O,onKeyUp:N,onMouseDown:E,onMouseLeave:I,onMouseUp:R,onTouchEnd:v,onTouchMove:k,onTouchStart:M,tabIndex:P=0,TouchRippleProps:Y,touchRippleRef:H,type:W,...ne}=r,j=w.useRef(null),F=wJ(),K=hr(F.ref,H),[re,ue]=w.useState(!1);c&&re&&ue(!1),w.useImperativeHandle(i,()=>({focusVisible:()=>{ue(!0),j.current.focus()}}),[]);const ge=F.shouldMount&&!u&&!c;w.useEffect(()=>{re&&h&&!u&&F.pulsate()},[u,h,re,F]);const ie=Ls(F,"start",E,f),oe=Ls(F,"stop",y,f),Ve=Ls(F,"stop",b,f),Le=Ls(F,"stop",R,f),Ne=Ls(F,"stop",ke=>{re&&ke.preventDefault(),I&&I(ke)},f),$e=Ls(F,"start",M,f),me=Ls(F,"stop",v,f),Fe=Ls(F,"stop",k,f),Ae=Ls(F,"stop",ke=>{Ok(ke.target)||ue(!1),x&&x(ke)},!1),Oe=mi(ke=>{j.current||(j.current=ke.currentTarget),Ok(ke.target)&&(ue(!0),C&&C(ke)),_&&_(ke)}),je=()=>{const ke=j.current;return l&&l!=="button"&&!(ke.tagName==="A"&&ke.href)},We=mi(ke=>{h&&!ke.repeat&&re&&ke.key===" "&&F.stop(ke,()=>{F.start(ke)}),ke.target===ke.currentTarget&&je()&&ke.key===" "&&ke.preventDefault(),O&&O(ke),ke.target===ke.currentTarget&&je()&&ke.key==="Enter"&&!c&&(ke.preventDefault(),S&&S(ke))}),Nt=mi(ke=>{h&&ke.key===" "&&re&&!ke.defaultPrevented&&F.stop(ke,()=>{F.pulsate(ke)}),N&&N(ke),S&&ke.target===ke.currentTarget&&je()&&ke.key===" "&&!ke.defaultPrevented&&S(ke)});let ye=l;ye==="button"&&(ne.href||ne.to)&&(ye=g);const It={};ye==="button"?(It.type=W===void 0?"button":W,It.disabled=c):(!ne.href&&!ne.to&&(It.role="button"),c&&(It["aria-disabled"]=c));const He=hr(n,j),gt={...r,centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:f,focusRipple:h,tabIndex:P,focusVisible:re},at=NJ(gt);return A.jsxs(MJ,{as:ye,className:we(at.root,a),ownerState:gt,onBlur:Ae,onClick:S,onContextMenu:oe,onFocus:Oe,onKeyDown:We,onKeyUp:Nt,onMouseDown:ie,onMouseLeave:Ne,onMouseUp:Le,onDragLeave:Ve,onTouchEnd:me,onTouchMove:Fe,onTouchStart:$e,ref:He,tabIndex:c?-1:P,type:W,...It,...ne,children:[s,ge?A.jsx(kJ,{ref:K,center:o,...Y}):null]})});function Ls(t,e,n,r=!1){return mi(i=>(n&&n(i),r||t[e](i),!0))}function DJ(t){return typeof t.main=="string"}function $J(t,e=[]){if(!DJ(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function yi(t=[]){return([,e])=>e&&$J(e,t)}function LJ(t){return rt("MuiCircularProgress",t)}Ze("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Ra=44,aE=eg`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,lE=eg`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,FJ=typeof aE!="string"?l1`
        animation: ${aE} 1.4s linear infinite;
      `:null,BJ=typeof lE!="string"?l1`
        animation: ${lE} 1.4s ease-in-out infinite;
      `:null,VJ=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,`color${ae(r)}`],svg:["svg"],circle:["circle",`circle${ae(n)}`,i&&"circleDisableShrink"]};return it(o,LJ,e)},UJ=le("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${ae(n.color)}`]]}})(vt(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:FJ||{animation:`${aE} 1.4s linear infinite`}},...Object.entries(t.palette).filter(yi()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),jJ=le("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),zJ=le("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${ae(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(vt(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:BJ||{animation:`${lE} 1.4s ease-in-out infinite`}}]}))),E4=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:f="indeterminate",...h}=r,p={...r,color:o,disableShrink:s,size:a,thickness:c,value:u,variant:f},g=VJ(p),x={},S={},y={};if(f==="determinate"){const b=2*Math.PI*((Ra-c)/2);x.strokeDasharray=b.toFixed(3),y["aria-valuenow"]=Math.round(u),x.strokeDashoffset=`${((100-u)/100*b).toFixed(3)}px`,S.transform="rotate(-90deg)"}return A.jsx(UJ,{className:we(g.root,i),style:{width:a,height:a,...S,...l},ownerState:p,ref:n,role:"progressbar",...y,...h,children:A.jsx(jJ,{className:g.svg,ownerState:p,viewBox:`${Ra/2} ${Ra/2} ${Ra} ${Ra}`,children:A.jsx(zJ,{className:g.circle,style:x,ownerState:p,cx:Ra,cy:Ra,r:(Ra-c)/2,fill:"none",strokeWidth:c})})})});function WJ(t){return rt("MuiIconButton",t)}const Wk=Ze("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),HJ=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o,loading:s}=t,a={root:["root",s&&"loading",n&&"disabled",r!=="default"&&`color${ae(r)}`,i&&`edge${ae(i)}`,`size${ae(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return it(a,WJ,e)},GJ=le(vl,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${ae(n.color)}`],n.edge&&e[`edge${ae(n.edge)}`],e[`size${ae(n.size)}`]]}})(vt(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),vt(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(yi()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(yi()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${Wk.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${Wk.loading}`]:{color:"transparent"}}))),qJ=le("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),cv=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium",id:f,loading:h=null,loadingIndicator:p,...g}=r,x=Xd(f),S=p??A.jsx(E4,{"aria-labelledby":x,color:"inherit",size:16}),y={...r,edge:i,color:a,disabled:l,disableFocusRipple:c,loading:h,loadingIndicator:S,size:u},b=HJ(y);return A.jsxs(GJ,{id:h?x:f,className:we(b.root,s),centerRipple:!0,focusRipple:!c,disabled:l||h,ref:n,...g,ownerState:y,children:[typeof h=="boolean"&&A.jsx("span",{className:b.loadingWrapper,style:{display:"contents"},children:A.jsx(qJ,{className:b.loadingIndicator,ownerState:y,children:h&&S})}),o]})}),KJ=Yn(A.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function YJ(t){return rt("MuiTypography",t)}Ze("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const XJ={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},QJ=oJ(),JJ=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=t,a={root:["root",o,t.align!=="inherit"&&`align${ae(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return it(a,YJ,s)},ZJ=le("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${ae(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(vt(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(yi()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${ae(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),Hk={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Fi=w.forwardRef(function(e,n){const{color:r,...i}=st({props:e,name:"MuiTypography"}),o=!XJ[r],s=QJ({...i,...o&&{color:r}}),{align:a="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:f=!1,paragraph:h=!1,variant:p="body1",variantMapping:g=Hk,...x}=s,S={...s,align:a,color:r,className:l,component:c,gutterBottom:u,noWrap:f,paragraph:h,variant:p,variantMapping:g},y=c||(h?"p":g[p]||Hk[p])||"span",b=JJ(S);return A.jsx(ZJ,{as:y,ref:n,className:we(b.root,l),...x,ownerState:S,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...x.style}})});function Gk(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function eZ(t={}){const{ignoreAccents:e=!0,ignoreCase:n=!0,limit:r,matchFrom:i="any",stringify:o,trim:s=!1}=t;return(a,{inputValue:l,getOptionLabel:c})=>{let u=s?l.trim():l;n&&(u=u.toLowerCase()),e&&(u=Gk(u));const f=u?a.filter(h=>{let p=(o||c)(h);return n&&(p=p.toLowerCase()),e&&(p=Gk(p)),i==="start"?p.startsWith(u):p.includes(u)}):a;return typeof r=="number"?f.slice(0,r):f}}const tZ=eZ(),nZ=5,rZ=t=>{var e;return t.current!==null&&((e=t.current.parentElement)==null?void 0:e.contains(document.activeElement))},iZ=[];function qk(t,e,n){if(e||t==null)return"";const r=n(t);return typeof r=="string"?r:""}function oZ(t){const{unstable_isActiveElementInListbox:e=rZ,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:i=!1,autoSelect:o=!1,blurOnSelect:s=!1,clearOnBlur:a=!t.freeSolo,clearOnEscape:l=!1,componentName:c="useAutocomplete",defaultValue:u=t.multiple?iZ:null,disableClearable:f=!1,disableCloseOnSelect:h=!1,disabled:p,disabledItemsFocusable:g=!1,disableListWrap:x=!1,filterOptions:S=tZ,filterSelectedOptions:y=!1,freeSolo:b=!1,getOptionDisabled:_,getOptionKey:C,getOptionLabel:O=J=>J.label??J,groupBy:N,handleHomeEndKeys:E=!t.freeSolo,id:I,includeInputInList:R=!1,inputValue:v,isOptionEqualToValue:k=(J,X)=>J===X,multiple:M=!1,onChange:P,onClose:Y,onHighlightChange:H,onInputChange:W,onOpen:ne,open:j,openOnFocus:F=!1,options:K,readOnly:re=!1,selectOnFocus:ue=!t.freeSolo,value:ge}=t,ie=Xd(I);let oe=O;oe=J=>{const X=O(J);return typeof X!="string"?String(X):X};const Ve=w.useRef(!1),Le=w.useRef(!0),Ne=w.useRef(null),$e=w.useRef(null),[me,Fe]=w.useState(null),[Ae,Oe]=w.useState(-1),je=i?0:-1,We=w.useRef(je),Nt=w.useRef(qk(u,M,oe)).current,[ye,It]=Ch({controlled:ge,default:u,name:c}),[He,gt]=Ch({controlled:v,default:Nt,name:c,state:"inputValue"}),[at,ke]=w.useState(!1),nn=w.useCallback((J,X,Ee)=>{if(!(M?ye.length<X.length:X!==null)&&!a)return;const ct=qk(X,M,oe);He!==ct&&(gt(ct),W&&W(J,ct,Ee))},[oe,He,M,W,gt,a,ye]),[ot,xn]=Ch({controlled:j,default:!1,name:c,state:"open"}),[Et,_t]=w.useState(!0),St=!M&&ye!=null&&He===oe(ye),Bt=ot&&!re,ut=Bt?S(K.filter(J=>!(y&&(M?ye:[ye]).some(X=>X!==null&&k(J,X)))),{inputValue:St&&Et?"":He,getOptionLabel:oe}):[],Xe=VX({filteredOptions:ut,value:ye,inputValue:He});w.useEffect(()=>{const J=ye!==Xe.value;at&&!J||b&&!J||nn(null,ye,"reset")},[ye,nn,at,Xe.value,b]);const En=ot&&ut.length>0&&!re,Bn=mi(J=>{J===-1?Ne.current.focus():me.querySelector(`[data-tag-index="${J}"]`).focus()});w.useEffect(()=>{M&&Ae>ye.length-1&&(Oe(-1),Bn(-1))},[ye,M,Ae,Bn]);function Gr(J,X){if(!$e.current||J<0||J>=ut.length)return-1;let Ee=J;for(;;){const Qe=$e.current.querySelector(`[data-option-index="${Ee}"]`),ct=g?!1:!Qe||Qe.disabled||Qe.getAttribute("aria-disabled")==="true";if(Qe&&Qe.hasAttribute("tabindex")&&!ct)return Ee;if(X==="next"?Ee=(Ee+1)%ut.length:Ee=(Ee-1+ut.length)%ut.length,Ee===J)return-1}}const xe=mi(({event:J,index:X,reason:Ee})=>{if(We.current=X,X===-1?Ne.current.removeAttribute("aria-activedescendant"):Ne.current.setAttribute("aria-activedescendant",`${ie}-option-${X}`),H&&["mouse","keyboard","touch"].includes(Ee)&&H(J,X===-1?null:ut[X],Ee),!$e.current)return;const Qe=$e.current.querySelector(`[role="option"].${n}-focused`);Qe&&(Qe.classList.remove(`${n}-focused`),Qe.classList.remove(`${n}-focusVisible`));let ct=$e.current;if($e.current.getAttribute("role")!=="listbox"&&(ct=$e.current.parentElement.querySelector('[role="listbox"]')),!ct)return;if(X===-1){ct.scrollTop=0;return}const $t=$e.current.querySelector(`[data-option-index="${X}"]`);if($t&&($t.classList.add(`${n}-focused`),Ee==="keyboard"&&$t.classList.add(`${n}-focusVisible`),ct.scrollHeight>ct.clientHeight&&Ee!=="mouse"&&Ee!=="touch")){const yn=$t,Rr=ct.clientHeight+ct.scrollTop,jc=yn.offsetTop+yn.offsetHeight;jc>Rr?ct.scrollTop=jc-ct.clientHeight:yn.offsetTop-yn.offsetHeight*(N?1.3:0)<ct.scrollTop&&(ct.scrollTop=yn.offsetTop-yn.offsetHeight*(N?1.3:0))}}),Ie=mi(({event:J,diff:X,direction:Ee="next",reason:Qe})=>{if(!Bt)return;const $t=Gr((()=>{const yn=ut.length-1;if(X==="reset")return je;if(X==="start")return 0;if(X==="end")return yn;const Rr=We.current+X;return Rr<0?Rr===-1&&R?-1:x&&We.current!==-1||Math.abs(X)>1?0:yn:Rr>yn?Rr===yn+1&&R?-1:x||Math.abs(X)>1?yn:0:Rr})(),Ee);if(xe({index:$t,reason:Qe,event:J}),r&&X!=="reset")if($t===-1)Ne.current.value=He;else{const yn=oe(ut[$t]);Ne.current.value=yn,yn.toLowerCase().indexOf(He.toLowerCase())===0&&He.length>0&&Ne.current.setSelectionRange(He.length,yn.length)}}),Yt=()=>{const J=(X,Ee)=>{const Qe=X?oe(X):"",ct=Ee?oe(Ee):"";return Qe===ct};if(We.current!==-1&&Xe.filteredOptions&&Xe.filteredOptions.length!==ut.length&&Xe.inputValue===He&&(M?ye.length===Xe.value.length&&Xe.value.every((X,Ee)=>oe(ye[Ee])===oe(X)):J(Xe.value,ye))){const X=Xe.filteredOptions[We.current];if(X)return ut.findIndex(Ee=>oe(Ee)===oe(X))}return-1},Vn=w.useCallback(()=>{if(!Bt)return;const J=Yt();if(J!==-1){We.current=J;return}const X=M?ye[0]:ye;if(ut.length===0||X==null){Ie({diff:"reset"});return}if($e.current){if(X!=null){const Ee=ut[We.current];if(M&&Ee&&ye.findIndex(ct=>k(Ee,ct))!==-1)return;const Qe=ut.findIndex(ct=>k(ct,X));Qe===-1?Ie({diff:"reset"}):xe({index:Qe});return}if(We.current>=ut.length-1){xe({index:ut.length-1});return}xe({index:We.current})}},[ut.length,M?!1:ye,y,Ie,xe,Bt,He,M]),qr=mi(J=>{iv($e,J),J&&Vn()});w.useEffect(()=>{Vn()},[Vn]);const gr=J=>{ot||(xn(!0),_t(!0),ne&&ne(J))},Ir=(J,X)=>{ot&&(xn(!1),Y&&Y(J,X))},Un=(J,X,Ee,Qe)=>{if(M){if(ye.length===X.length&&ye.every((ct,$t)=>ct===X[$t]))return}else if(ye===X)return;P&&P(J,X,Ee,Qe),It(X)},ki=w.useRef(!1),rn=(J,X,Ee="selectOption",Qe="options")=>{let ct=Ee,$t=X;if(M){$t=Array.isArray(ye)?ye.slice():[];const yn=$t.findIndex(Rr=>k(X,Rr));yn===-1?$t.push(X):Qe!=="freeSolo"&&($t.splice(yn,1),ct="removeOption")}nn(J,$t,ct),Un(J,$t,ct,{option:X}),!h&&(!J||!J.ctrlKey&&!J.metaKey)&&Ir(J,ct),(s===!0||s==="touch"&&ki.current||s==="mouse"&&!ki.current)&&Ne.current.blur()};function ro(J,X){if(J===-1)return-1;let Ee=J;for(;;){if(X==="next"&&Ee===ye.length||X==="previous"&&Ee===-1)return-1;const Qe=me.querySelector(`[data-tag-index="${Ee}"]`);if(!Qe||!Qe.hasAttribute("tabindex")||Qe.disabled||Qe.getAttribute("aria-disabled")==="true")Ee+=X==="next"?1:-1;else return Ee}}const io=(J,X)=>{if(!M)return;He===""&&Ir(J,"toggleInput");let Ee=Ae;Ae===-1?He===""&&X==="previous"&&(Ee=ye.length-1):(Ee+=X==="next"?1:-1,Ee<0&&(Ee=0),Ee===ye.length&&(Ee=-1)),Ee=ro(Ee,X),Oe(Ee),Bn(Ee)},Ai=J=>{Ve.current=!0,gt(""),W&&W(J,"","clear"),Un(J,M?[]:null,"clear")},mr=J=>X=>{if(J.onKeyDown&&J.onKeyDown(X),!X.defaultMuiPrevented&&(Ae!==-1&&!["ArrowLeft","ArrowRight"].includes(X.key)&&(Oe(-1),Bn(-1)),X.which!==229))switch(X.key){case"Home":Bt&&E&&(X.preventDefault(),Ie({diff:"start",direction:"next",reason:"keyboard",event:X}));break;case"End":Bt&&E&&(X.preventDefault(),Ie({diff:"end",direction:"previous",reason:"keyboard",event:X}));break;case"PageUp":X.preventDefault(),Ie({diff:-5,direction:"previous",reason:"keyboard",event:X}),gr(X);break;case"PageDown":X.preventDefault(),Ie({diff:nZ,direction:"next",reason:"keyboard",event:X}),gr(X);break;case"ArrowDown":X.preventDefault(),Ie({diff:1,direction:"next",reason:"keyboard",event:X}),gr(X);break;case"ArrowUp":X.preventDefault(),Ie({diff:-1,direction:"previous",reason:"keyboard",event:X}),gr(X);break;case"ArrowLeft":io(X,"previous");break;case"ArrowRight":io(X,"next");break;case"Enter":if(We.current!==-1&&Bt){const Ee=ut[We.current],Qe=_?_(Ee):!1;if(X.preventDefault(),Qe)return;rn(X,Ee,"selectOption"),r&&Ne.current.setSelectionRange(Ne.current.value.length,Ne.current.value.length)}else b&&He!==""&&St===!1&&(M&&X.preventDefault(),rn(X,He,"createOption","freeSolo"));break;case"Escape":Bt?(X.preventDefault(),X.stopPropagation(),Ir(X,"escape")):l&&(He!==""||M&&ye.length>0)&&(X.preventDefault(),X.stopPropagation(),Ai(X));break;case"Backspace":if(M&&!re&&He===""&&ye.length>0){const Ee=Ae===-1?ye.length-1:Ae,Qe=ye.slice();Qe.splice(Ee,1),Un(X,Qe,"removeOption",{option:ye[Ee]})}break;case"Delete":if(M&&!re&&He===""&&ye.length>0&&Ae!==-1){const Ee=Ae,Qe=ye.slice();Qe.splice(Ee,1),Un(X,Qe,"removeOption",{option:ye[Ee]})}break}},_e=J=>{ke(!0),F&&!Ve.current&&gr(J)},fe=J=>{if(e($e)){Ne.current.focus();return}ke(!1),Le.current=!0,Ve.current=!1,o&&We.current!==-1&&Bt?rn(J,ut[We.current],"blur"):o&&b&&He!==""?rn(J,He,"blur","freeSolo"):a&&nn(J,ye,"blur"),Ir(J,"blur")},lt=J=>{const X=J.target.value;He!==X&&(gt(X),_t(!1),W&&W(J,X,"input")),X===""?!f&&!M&&Un(J,null,"clear"):gr(J)},et=J=>{const X=Number(J.currentTarget.getAttribute("data-option-index"));We.current!==X&&xe({event:J,index:X,reason:"mouse"})},Mt=J=>{xe({event:J,index:Number(J.currentTarget.getAttribute("data-option-index")),reason:"touch"}),ki.current=!0},yr=J=>{const X=Number(J.currentTarget.getAttribute("data-option-index"));rn(J,ut[X],"selectOption"),ki.current=!1},si=J=>X=>{const Ee=ye.slice();Ee.splice(J,1),Un(X,Ee,"removeOption",{option:ye[J]})},vr=J=>{ot?Ir(J,"toggleInput"):gr(J)},Po=J=>{J.currentTarget.contains(J.target)&&J.target.getAttribute("id")!==ie&&J.preventDefault()},Sn=J=>{J.currentTarget.contains(J.target)&&(Ne.current.focus(),ue&&Le.current&&Ne.current.selectionEnd-Ne.current.selectionStart===0&&Ne.current.select(),Le.current=!1)},mn=J=>{!p&&(He===""||!ot)&&vr(J)};let ai=b&&He.length>0;ai=ai||(M?ye.length>0:ye!==null);let Os=ut;return N&&(Os=ut.reduce((J,X,Ee)=>{const Qe=N(X);return J.length>0&&J[J.length-1].group===Qe?J[J.length-1].options.push(X):J.push({key:Ee,index:Ee,group:Qe,options:[X]}),J},[])),p&&at&&fe(),{getRootProps:(J={})=>({...J,onKeyDown:mr(J),onMouseDown:Po,onClick:Sn}),getInputLabelProps:()=>({id:`${ie}-label`,htmlFor:ie}),getInputProps:()=>({id:ie,value:He,onBlur:fe,onFocus:_e,onChange:lt,onMouseDown:mn,"aria-activedescendant":Bt?"":null,"aria-autocomplete":r?"both":"list","aria-controls":En?`${ie}-listbox`:void 0,"aria-expanded":En,autoComplete:"off",ref:Ne,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:p}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Ai}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:vr}),getTagProps:({index:J})=>({key:J,"data-tag-index":J,tabIndex:-1,...!re&&{onDelete:si(J)}}),getListboxProps:()=>({role:"listbox",id:`${ie}-listbox`,"aria-labelledby":`${ie}-label`,ref:qr,onMouseDown:J=>{J.preventDefault()}}),getOptionProps:({index:J,option:X})=>{const Ee=(M?ye:[ye]).some(ct=>ct!=null&&k(X,ct)),Qe=_?_(X):!1;return{key:(C==null?void 0:C(X))??oe(X),tabIndex:-1,role:"option",id:`${ie}-option-${J}`,onMouseMove:et,onClick:yr,onTouchStart:Mt,"data-option-index":J,"aria-disabled":Qe,"aria-selected":Ee}},id:ie,inputValue:He,value:ye,dirty:ai,expanded:Bt&&me,popupOpen:Bt,focused:at||Ae!==-1,anchorEl:me,setAnchorEl:Fe,focusedTag:Ae,groupedOptions:Os}}var xi="top",Eo="bottom",So="right",Ei="left",C1="auto",og=[xi,Eo,So,Ei],Td="start",pp="end",sZ="clippingParents",S4="viewport",Nf="popper",aZ="reference",Kk=og.reduce(function(t,e){return t.concat([e+"-"+Td,e+"-"+pp])},[]),C4=[].concat(og,[C1]).reduce(function(t,e){return t.concat([e,e+"-"+Td,e+"-"+pp])},[]),lZ="beforeRead",cZ="read",uZ="afterRead",dZ="beforeMain",fZ="main",hZ="afterMain",pZ="beforeWrite",gZ="write",mZ="afterWrite",yZ=[lZ,cZ,uZ,dZ,fZ,hZ,pZ,gZ,mZ];function Es(t){return t?(t.nodeName||"").toLowerCase():null}function Ji(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function wc(t){var e=Ji(t).Element;return t instanceof e||t instanceof Element}function vo(t){var e=Ji(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function T1(t){if(typeof ShadowRoot>"u")return!1;var e=Ji(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function vZ(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!vo(o)||!Es(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function _Z(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,c){return l[c]="",l},{});!vo(i)||!Es(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const bZ={name:"applyStyles",enabled:!0,phase:"write",fn:vZ,effect:_Z,requires:["computeStyles"]};function _s(t){return t.split("-")[0]}var lc=Math.max,uv=Math.min,Id=Math.round;function cE(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function T4(){return!/^((?!chrome|android).)*safari/i.test(cE())}function Rd(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&vo(t)&&(i=t.offsetWidth>0&&Id(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Id(r.height)/t.offsetHeight||1);var s=wc(t)?Ji(t):window,a=s.visualViewport,l=!T4()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/o,f=r.width/i,h=r.height/o;return{width:f,height:h,top:u,right:c+f,bottom:u+h,left:c,x:c,y:u}}function I1(t){var e=Rd(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function I4(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&T1(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function fa(t){return Ji(t).getComputedStyle(t)}function wZ(t){return["table","td","th"].indexOf(Es(t))>=0}function Nl(t){return((wc(t)?t.ownerDocument:t.document)||window.document).documentElement}function u_(t){return Es(t)==="html"?t:t.assignedSlot||t.parentNode||(T1(t)?t.host:null)||Nl(t)}function Yk(t){return!vo(t)||fa(t).position==="fixed"?null:t.offsetParent}function xZ(t){var e=/firefox/i.test(cE()),n=/Trident/i.test(cE());if(n&&vo(t)){var r=fa(t);if(r.position==="fixed")return null}var i=u_(t);for(T1(i)&&(i=i.host);vo(i)&&["html","body"].indexOf(Es(i))<0;){var o=fa(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function sg(t){for(var e=Ji(t),n=Yk(t);n&&wZ(n)&&fa(n).position==="static";)n=Yk(n);return n&&(Es(n)==="html"||Es(n)==="body"&&fa(n).position==="static")?e:n||xZ(t)||e}function R1(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Th(t,e,n){return lc(t,uv(e,n))}function EZ(t,e,n){var r=Th(t,e,n);return r>n?n:r}function R4(){return{top:0,right:0,bottom:0,left:0}}function P4(t){return Object.assign({},R4(),t)}function k4(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var SZ=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,P4(typeof e!="number"?e:k4(e,og))};function CZ(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=_s(n.placement),l=R1(a),c=[Ei,So].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!s)){var f=SZ(i.padding,n),h=I1(o),p=l==="y"?xi:Ei,g=l==="y"?Eo:So,x=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],S=s[l]-n.rects.reference[l],y=sg(o),b=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,_=x/2-S/2,C=f[p],O=b-h[u]-f[g],N=b/2-h[u]/2+_,E=Th(C,N,O),I=l;n.modifiersData[r]=(e={},e[I]=E,e.centerOffset=E-N,e)}}function TZ(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||I4(e.elements.popper,i)&&(e.elements.arrow=i))}const IZ={name:"arrow",enabled:!0,phase:"main",fn:CZ,effect:TZ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Pd(t){return t.split("-")[1]}var RZ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function PZ(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Id(n*i)/i||0,y:Id(r*i)/i||0}}function Xk(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,f=t.isFixed,h=s.x,p=h===void 0?0:h,g=s.y,x=g===void 0?0:g,S=typeof u=="function"?u({x:p,y:x}):{x:p,y:x};p=S.x,x=S.y;var y=s.hasOwnProperty("x"),b=s.hasOwnProperty("y"),_=Ei,C=xi,O=window;if(c){var N=sg(n),E="clientHeight",I="clientWidth";if(N===Ji(n)&&(N=Nl(n),fa(N).position!=="static"&&a==="absolute"&&(E="scrollHeight",I="scrollWidth")),N=N,i===xi||(i===Ei||i===So)&&o===pp){C=Eo;var R=f&&N===O&&O.visualViewport?O.visualViewport.height:N[E];x-=R-r.height,x*=l?1:-1}if(i===Ei||(i===xi||i===Eo)&&o===pp){_=So;var v=f&&N===O&&O.visualViewport?O.visualViewport.width:N[I];p-=v-r.width,p*=l?1:-1}}var k=Object.assign({position:a},c&&RZ),M=u===!0?PZ({x:p,y:x},Ji(n)):{x:p,y:x};if(p=M.x,x=M.y,l){var P;return Object.assign({},k,(P={},P[C]=b?"0":"",P[_]=y?"0":"",P.transform=(O.devicePixelRatio||1)<=1?"translate("+p+"px, "+x+"px)":"translate3d("+p+"px, "+x+"px, 0)",P))}return Object.assign({},k,(e={},e[C]=b?x+"px":"",e[_]=y?p+"px":"",e.transform="",e))}function kZ(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:_s(e.placement),variation:Pd(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Xk(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Xk(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const AZ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:kZ,data:{}};var cm={passive:!0};function OZ(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=Ji(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,cm)}),a&&l.addEventListener("resize",n.update,cm),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,cm)}),a&&l.removeEventListener("resize",n.update,cm)}}const NZ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:OZ,data:{}};var MZ={left:"right",right:"left",bottom:"top",top:"bottom"};function iy(t){return t.replace(/left|right|bottom|top/g,function(e){return MZ[e]})}var DZ={start:"end",end:"start"};function Qk(t){return t.replace(/start|end/g,function(e){return DZ[e]})}function P1(t){var e=Ji(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function k1(t){return Rd(Nl(t)).left+P1(t).scrollLeft}function $Z(t,e){var n=Ji(t),r=Nl(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=T4();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+k1(t),y:l}}function LZ(t){var e,n=Nl(t),r=P1(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=lc(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=lc(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+k1(t),l=-r.scrollTop;return fa(i||n).direction==="rtl"&&(a+=lc(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function A1(t){var e=fa(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function A4(t){return["html","body","#document"].indexOf(Es(t))>=0?t.ownerDocument.body:vo(t)&&A1(t)?t:A4(u_(t))}function Ih(t,e){var n;e===void 0&&(e=[]);var r=A4(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Ji(r),s=i?[o].concat(o.visualViewport||[],A1(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(Ih(u_(s)))}function uE(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function FZ(t,e){var n=Rd(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Jk(t,e,n){return e===S4?uE($Z(t,n)):wc(e)?FZ(e,n):uE(LZ(Nl(t)))}function BZ(t){var e=Ih(u_(t)),n=["absolute","fixed"].indexOf(fa(t).position)>=0,r=n&&vo(t)?sg(t):t;return wc(r)?e.filter(function(i){return wc(i)&&I4(i,r)&&Es(i)!=="body"}):[]}function VZ(t,e,n,r){var i=e==="clippingParents"?BZ(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,c){var u=Jk(t,c,r);return l.top=lc(u.top,l.top),l.right=uv(u.right,l.right),l.bottom=uv(u.bottom,l.bottom),l.left=lc(u.left,l.left),l},Jk(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function O4(t){var e=t.reference,n=t.element,r=t.placement,i=r?_s(r):null,o=r?Pd(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case xi:l={x:s,y:e.y-n.height};break;case Eo:l={x:s,y:e.y+e.height};break;case So:l={x:e.x+e.width,y:a};break;case Ei:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?R1(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case Td:l[c]=l[c]-(e[u]/2-n[u]/2);break;case pp:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function gp(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?sZ:a,c=n.rootBoundary,u=c===void 0?S4:c,f=n.elementContext,h=f===void 0?Nf:f,p=n.altBoundary,g=p===void 0?!1:p,x=n.padding,S=x===void 0?0:x,y=P4(typeof S!="number"?S:k4(S,og)),b=h===Nf?aZ:Nf,_=t.rects.popper,C=t.elements[g?b:h],O=VZ(wc(C)?C:C.contextElement||Nl(t.elements.popper),l,u,s),N=Rd(t.elements.reference),E=O4({reference:N,element:_,placement:i}),I=uE(Object.assign({},_,E)),R=h===Nf?I:N,v={top:O.top-R.top+y.top,bottom:R.bottom-O.bottom+y.bottom,left:O.left-R.left+y.left,right:R.right-O.right+y.right},k=t.modifiersData.offset;if(h===Nf&&k){var M=k[i];Object.keys(v).forEach(function(P){var Y=[So,Eo].indexOf(P)>=0?1:-1,H=[xi,Eo].indexOf(P)>=0?"y":"x";v[P]+=M[H]*Y})}return v}function UZ(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?C4:l,u=Pd(r),f=u?a?Kk:Kk.filter(function(g){return Pd(g)===u}):og,h=f.filter(function(g){return c.indexOf(g)>=0});h.length===0&&(h=f);var p=h.reduce(function(g,x){return g[x]=gp(t,{placement:x,boundary:i,rootBoundary:o,padding:s})[_s(x)],g},{});return Object.keys(p).sort(function(g,x){return p[g]-p[x]})}function jZ(t){if(_s(t)===C1)return[];var e=iy(t);return[Qk(t),e,Qk(e)]}function zZ(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,f=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,g=p===void 0?!0:p,x=n.allowedAutoPlacements,S=e.options.placement,y=_s(S),b=y===S,_=l||(b||!g?[iy(S)]:jZ(S)),C=[S].concat(_).reduce(function(ie,oe){return ie.concat(_s(oe)===C1?UZ(e,{placement:oe,boundary:u,rootBoundary:f,padding:c,flipVariations:g,allowedAutoPlacements:x}):oe)},[]),O=e.rects.reference,N=e.rects.popper,E=new Map,I=!0,R=C[0],v=0;v<C.length;v++){var k=C[v],M=_s(k),P=Pd(k)===Td,Y=[xi,Eo].indexOf(M)>=0,H=Y?"width":"height",W=gp(e,{placement:k,boundary:u,rootBoundary:f,altBoundary:h,padding:c}),ne=Y?P?So:Ei:P?Eo:xi;O[H]>N[H]&&(ne=iy(ne));var j=iy(ne),F=[];if(o&&F.push(W[M]<=0),a&&F.push(W[ne]<=0,W[j]<=0),F.every(function(ie){return ie})){R=k,I=!1;break}E.set(k,F)}if(I)for(var K=g?3:1,re=function(oe){var Ve=C.find(function(Le){var Ne=E.get(Le);if(Ne)return Ne.slice(0,oe).every(function($e){return $e})});if(Ve)return R=Ve,"break"},ue=K;ue>0;ue--){var ge=re(ue);if(ge==="break")break}e.placement!==R&&(e.modifiersData[r]._skip=!0,e.placement=R,e.reset=!0)}}const WZ={name:"flip",enabled:!0,phase:"main",fn:zZ,requiresIfExists:["offset"],data:{_skip:!1}};function Zk(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function eA(t){return[xi,So,Eo,Ei].some(function(e){return t[e]>=0})}function HZ(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=gp(e,{elementContext:"reference"}),a=gp(e,{altBoundary:!0}),l=Zk(s,r),c=Zk(a,i,o),u=eA(l),f=eA(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const GZ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:HZ};function qZ(t,e,n){var r=_s(t),i=[Ei,xi].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Ei,So].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function KZ(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=C4.reduce(function(u,f){return u[f]=qZ(f,e.rects,o),u},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}const YZ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:KZ};function XZ(t){var e=t.state,n=t.name;e.modifiersData[n]=O4({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const QZ={name:"popperOffsets",enabled:!0,phase:"read",fn:XZ,data:{}};function JZ(t){return t==="x"?"y":"x"}function ZZ(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,f=n.padding,h=n.tether,p=h===void 0?!0:h,g=n.tetherOffset,x=g===void 0?0:g,S=gp(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),y=_s(e.placement),b=Pd(e.placement),_=!b,C=R1(y),O=JZ(C),N=e.modifiersData.popperOffsets,E=e.rects.reference,I=e.rects.popper,R=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,v=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),k=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(N){if(o){var P,Y=C==="y"?xi:Ei,H=C==="y"?Eo:So,W=C==="y"?"height":"width",ne=N[C],j=ne+S[Y],F=ne-S[H],K=p?-I[W]/2:0,re=b===Td?E[W]:I[W],ue=b===Td?-I[W]:-E[W],ge=e.elements.arrow,ie=p&&ge?I1(ge):{width:0,height:0},oe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:R4(),Ve=oe[Y],Le=oe[H],Ne=Th(0,E[W],ie[W]),$e=_?E[W]/2-K-Ne-Ve-v.mainAxis:re-Ne-Ve-v.mainAxis,me=_?-E[W]/2+K+Ne+Le+v.mainAxis:ue+Ne+Le+v.mainAxis,Fe=e.elements.arrow&&sg(e.elements.arrow),Ae=Fe?C==="y"?Fe.clientTop||0:Fe.clientLeft||0:0,Oe=(P=k==null?void 0:k[C])!=null?P:0,je=ne+$e-Oe-Ae,We=ne+me-Oe,Nt=Th(p?uv(j,je):j,ne,p?lc(F,We):F);N[C]=Nt,M[C]=Nt-ne}if(a){var ye,It=C==="x"?xi:Ei,He=C==="x"?Eo:So,gt=N[O],at=O==="y"?"height":"width",ke=gt+S[It],nn=gt-S[He],ot=[xi,Ei].indexOf(y)!==-1,xn=(ye=k==null?void 0:k[O])!=null?ye:0,Et=ot?ke:gt-E[at]-I[at]-xn+v.altAxis,_t=ot?gt+E[at]+I[at]-xn-v.altAxis:nn,St=p&&ot?EZ(Et,gt,_t):Th(p?Et:ke,gt,p?_t:nn);N[O]=St,M[O]=St-gt}e.modifiersData[r]=M}}const eee={name:"preventOverflow",enabled:!0,phase:"main",fn:ZZ,requiresIfExists:["offset"]};function tee(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function nee(t){return t===Ji(t)||!vo(t)?P1(t):tee(t)}function ree(t){var e=t.getBoundingClientRect(),n=Id(e.width)/t.offsetWidth||1,r=Id(e.height)/t.offsetHeight||1;return n!==1||r!==1}function iee(t,e,n){n===void 0&&(n=!1);var r=vo(e),i=vo(e)&&ree(e),o=Nl(e),s=Rd(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Es(e)!=="body"||A1(o))&&(a=nee(e)),vo(e)?(l=Rd(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=k1(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function oee(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function see(t){var e=oee(t);return yZ.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function aee(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function lee(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var tA={placement:"bottom",modifiers:[],strategy:"absolute"};function nA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function cee(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?tA:i;return function(a,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},tA,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],h=!1,p={state:u,setOptions:function(y){var b=typeof y=="function"?y(u.options):y;x(),u.options=Object.assign({},o,u.options,b),u.scrollParents={reference:wc(a)?Ih(a):a.contextElement?Ih(a.contextElement):[],popper:Ih(l)};var _=see(lee([].concat(r,u.options.modifiers)));return u.orderedModifiers=_.filter(function(C){return C.enabled}),g(),p.update()},forceUpdate:function(){if(!h){var y=u.elements,b=y.reference,_=y.popper;if(nA(b,_)){u.rects={reference:iee(b,sg(_),u.options.strategy==="fixed"),popper:I1(_)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(v){return u.modifiersData[v.name]=Object.assign({},v.data)});for(var C=0;C<u.orderedModifiers.length;C++){if(u.reset===!0){u.reset=!1,C=-1;continue}var O=u.orderedModifiers[C],N=O.fn,E=O.options,I=E===void 0?{}:E,R=O.name;typeof N=="function"&&(u=N({state:u,options:I,name:R,instance:p})||u)}}}},update:aee(function(){return new Promise(function(S){p.forceUpdate(),S(u)})}),destroy:function(){x(),h=!0}};if(!nA(a,l))return p;p.setOptions(c).then(function(S){!h&&c.onFirstUpdate&&c.onFirstUpdate(S)});function g(){u.orderedModifiers.forEach(function(S){var y=S.name,b=S.options,_=b===void 0?{}:b,C=S.effect;if(typeof C=="function"){var O=C({state:u,name:y,instance:p,options:_}),N=function(){};f.push(O||N)}})}function x(){f.forEach(function(S){return S()}),f=[]}return p}}var uee=[NZ,QZ,AZ,bZ,YZ,WZ,eee,IZ,GZ],dee=cee({defaultModifiers:uee});function fee(t){return typeof t=="function"?t():t}const N4=w.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=w.useState(null),l=hr(w.isValidElement(r)?ig(r):null,n);if(xo(()=>{o||a(fee(i)||document.body)},[i,o]),xo(()=>{if(s&&!o)return iv(n,s),()=>{iv(n,null)}},[n,s,o]),o){if(w.isValidElement(r)){const c={ref:l};return w.cloneElement(r,c)}return r}return s&&Op.createPortal(r,s)});function hee(t){return rt("MuiPopper",t)}Ze("MuiPopper",["root"]);function pee(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function dE(t){return typeof t=="function"?t():t}function gee(t){return t.nodeType!==void 0}const mee=t=>{const{classes:e}=t;return it({root:["root"]},hee,e)},yee={},vee=w.forwardRef(function(e,n){const{anchorEl:r,children:i,direction:o,disablePortal:s,modifiers:a,open:l,placement:c,popperOptions:u,popperRef:f,slotProps:h={},slots:p={},TransitionProps:g,ownerState:x,...S}=e,y=w.useRef(null),b=hr(y,n),_=w.useRef(null),C=hr(_,f),O=w.useRef(C);xo(()=>{O.current=C},[C]),w.useImperativeHandle(f,()=>_.current,[]);const N=pee(c,o),[E,I]=w.useState(N),[R,v]=w.useState(dE(r));w.useEffect(()=>{_.current&&_.current.forceUpdate()}),w.useEffect(()=>{r&&v(dE(r))},[r]),xo(()=>{if(!R||!l)return;const H=j=>{I(j.placement)};let W=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:j})=>{H(j)}}];a!=null&&(W=W.concat(a)),u&&u.modifiers!=null&&(W=W.concat(u.modifiers));const ne=dee(R,y.current,{placement:N,...u,modifiers:W});return O.current(ne),()=>{ne.destroy(),O.current(null)}},[R,s,a,l,u,N]);const k={placement:E};g!==null&&(k.TransitionProps=g);const M=mee(e),P=p.root??"div",Y=Cd({elementType:P,externalSlotProps:h.root,externalForwardedProps:S,additionalProps:{role:"tooltip",ref:b},ownerState:e,className:M.root});return A.jsx(P,{...Y,children:typeof i=="function"?i(k):i})}),_ee=w.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:f="bottom",popperOptions:h=yee,popperRef:p,style:g,transition:x=!1,slotProps:S={},slots:y={},...b}=e,[_,C]=w.useState(!0),O=()=>{C(!1)},N=()=>{C(!0)};if(!l&&!u&&(!x||_))return null;let E;if(o)E=o;else if(r){const v=dE(r);E=v&&gee(v)?Ti(v).body:Ti(null).body}const I=!u&&l&&(!x||_)?"none":void 0,R=x?{in:u,onEnter:O,onExited:N}:void 0;return A.jsx(N4,{disablePortal:a,container:E,children:A.jsx(vee,{anchorEl:r,direction:s,disablePortal:a,modifiers:c,ref:n,open:x?!_:u,placement:f,popperOptions:h,popperRef:p,slotProps:S,slots:y,...b,style:{position:"fixed",top:0,left:0,display:I,...g},TransitionProps:R,children:i})})}),bee=le(_ee,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),M4=w.forwardRef(function(e,n){const r=l_(),i=st({props:e,name:"MuiPopper"}),{anchorEl:o,component:s,components:a,componentsProps:l,container:c,disablePortal:u,keepMounted:f,modifiers:h,open:p,placement:g,popperOptions:x,popperRef:S,transition:y,slots:b,slotProps:_,...C}=i,O=(b==null?void 0:b.root)??(a==null?void 0:a.Root),N={anchorEl:o,container:c,disablePortal:u,keepMounted:f,modifiers:h,open:p,placement:g,popperOptions:x,popperRef:S,transition:y,...C};return A.jsx(bee,{as:s,direction:r?"rtl":"ltr",slots:{root:O},slotProps:_??l,...N,ref:n})});function wee(t){return rt("MuiListSubheader",t)}Ze("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const xee=t=>{const{classes:e,color:n,disableGutters:r,inset:i,disableSticky:o}=t,s={root:["root",n!=="default"&&`color${ae(n)}`,!r&&"gutters",i&&"inset",!o&&"sticky"]};return it(s,wee,e)},Eee=le("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${ae(n.color)}`],!n.disableGutters&&e.gutters,n.inset&&e.inset,!n.disableSticky&&e.sticky]}})(vt(({theme:t})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(t.vars||t).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:72}},{props:({ownerState:e})=>!e.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper}}]}))),fE=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiListSubheader"}),{className:i,color:o="default",component:s="li",disableGutters:a=!1,disableSticky:l=!1,inset:c=!1,...u}=r,f={...r,color:o,component:s,disableGutters:a,disableSticky:l,inset:c},h=xee(f);return A.jsx(Eee,{as:s,className:we(h.root,i),ref:n,ownerState:f,...u})});fE&&(fE.muiSkipListHighlight=!0);const See=Yn(A.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function Cee(t){return rt("MuiChip",t)}const bt=Ze("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Tee=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=t,c={root:["root",l,n&&"disabled",`size${ae(r)}`,`color${ae(i)}`,a&&"clickable",a&&`clickableColor${ae(i)}`,s&&"deletable",s&&`deletableColor${ae(i)}`,`${l}${ae(i)}`],label:["label",`label${ae(r)}`],avatar:["avatar",`avatar${ae(r)}`,`avatarColor${ae(i)}`],icon:["icon",`icon${ae(r)}`,`iconColor${ae(o)}`],deleteIcon:["deleteIcon",`deleteIcon${ae(r)}`,`deleteIconColor${ae(i)}`,`deleteIcon${ae(l)}Color${ae(i)}`]};return it(c,Cee,e)},Iee=le("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{[`& .${bt.avatar}`]:e.avatar},{[`& .${bt.avatar}`]:e[`avatar${ae(a)}`]},{[`& .${bt.avatar}`]:e[`avatarColor${ae(r)}`]},{[`& .${bt.icon}`]:e.icon},{[`& .${bt.icon}`]:e[`icon${ae(a)}`]},{[`& .${bt.icon}`]:e[`iconColor${ae(i)}`]},{[`& .${bt.deleteIcon}`]:e.deleteIcon},{[`& .${bt.deleteIcon}`]:e[`deleteIcon${ae(a)}`]},{[`& .${bt.deleteIcon}`]:e[`deleteIconColor${ae(r)}`]},{[`& .${bt.deleteIcon}`]:e[`deleteIcon${ae(l)}Color${ae(r)}`]},e.root,e[`size${ae(a)}`],e[`color${ae(r)}`],o&&e.clickable,o&&r!=="default"&&e[`clickableColor${ae(r)})`],s&&e.deletable,s&&r!=="default"&&e[`deletableColor${ae(r)}`],e[l],e[`${l}${ae(r)}`]]}})(vt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${bt.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${bt.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${bt.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${bt.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${bt.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${bt.icon}`]:{marginLeft:5,marginRight:-6},[`& .${bt.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:Ot(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Ot(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${bt.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${bt.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(yi(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${bt.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].contrastTextChannel} / 0.7)`:Ot(t.palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${bt.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${bt.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${bt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ot(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(yi(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${bt.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ot(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${bt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ot(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(yi(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${bt.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${bt.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${bt.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${bt.avatar}`]:{marginLeft:4},[`& .${bt.avatarSmall}`]:{marginLeft:2},[`& .${bt.icon}`]:{marginLeft:4},[`& .${bt.iconSmall}`]:{marginLeft:2},[`& .${bt.deleteIcon}`]:{marginRight:5},[`& .${bt.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(yi()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:Ot(t.palette[n].main,.7)}`,[`&.${bt.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette[n].main,t.palette.action.hoverOpacity)},[`&.${bt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.focusOpacity})`:Ot(t.palette[n].main,t.palette.action.focusOpacity)},[`& .${bt.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:Ot(t.palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}))]}})),Ree=le("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${ae(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function rA(t){return t.key==="Backspace"||t.key==="Delete"}const Pee=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:f,label:h,onClick:p,onDelete:g,onKeyDown:x,onKeyUp:S,size:y="medium",variant:b="filled",tabIndex:_,skipFocusWhenDisabled:C=!1,...O}=r,N=w.useRef(null),E=hr(N,n),I=F=>{F.stopPropagation(),g&&g(F)},R=F=>{F.currentTarget===F.target&&rA(F)&&F.preventDefault(),x&&x(F)},v=F=>{F.currentTarget===F.target&&g&&rA(F)&&g(F),S&&S(F)},k=s!==!1&&p?!0:s,M=k||g?vl:l||"div",P={...r,component:M,disabled:u,size:y,color:a,iconColor:w.isValidElement(f)&&f.props.color||a,onDelete:!!g,clickable:k,variant:b},Y=Tee(P),H=M===vl?{component:l||"div",focusVisibleClassName:Y.focusVisible,...g&&{disableRipple:!0}}:{};let W=null;g&&(W=c&&w.isValidElement(c)?w.cloneElement(c,{className:we(c.props.className,Y.deleteIcon),onClick:I}):A.jsx(See,{className:we(Y.deleteIcon),onClick:I}));let ne=null;i&&w.isValidElement(i)&&(ne=w.cloneElement(i,{className:we(Y.avatar,i.props.className)}));let j=null;return f&&w.isValidElement(f)&&(j=w.cloneElement(f,{className:we(Y.icon,f.props.className)})),A.jsxs(Iee,{as:M,className:we(Y.root,o),disabled:k&&u?!0:void 0,onClick:p,onKeyDown:R,onKeyUp:v,ref:E,tabIndex:C&&u?-1:_,ownerState:P,...H,...O,children:[ne||j,A.jsx(Ree,{className:we(Y.label),ownerState:P,children:h}),W]})});function um(t){return parseInt(t,10)||0}const kee={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Aee(t){for(const e in t)return!1;return!0}function iA(t){return Aee(t)||t.outerHeightStyle===0&&!t.overflowing}const Oee=w.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a,...l}=e,{current:c}=w.useRef(a!=null),u=w.useRef(null),f=hr(n,u),h=w.useRef(null),p=w.useRef(null),g=w.useCallback(()=>{const _=u.current,C=p.current;if(!_||!C)return;const N=Jo(_).getComputedStyle(_);if(N.width==="0px")return{outerHeightStyle:0,overflowing:!1};C.style.width=N.width,C.value=_.value||e.placeholder||"x",C.value.slice(-1)===`
`&&(C.value+=" ");const E=N.boxSizing,I=um(N.paddingBottom)+um(N.paddingTop),R=um(N.borderBottomWidth)+um(N.borderTopWidth),v=C.scrollHeight;C.value="x";const k=C.scrollHeight;let M=v;o&&(M=Math.max(Number(o)*k,M)),i&&(M=Math.min(Number(i)*k,M)),M=Math.max(M,k);const P=M+(E==="border-box"?I+R:0),Y=Math.abs(M-v)<=1;return{outerHeightStyle:P,overflowing:Y}},[i,o,e.placeholder]),x=mi(()=>{const _=u.current,C=g();if(!_||!C||iA(C))return!1;const O=C.outerHeightStyle;return h.current!=null&&h.current!==O}),S=w.useCallback(()=>{const _=u.current,C=g();if(!_||!C||iA(C))return;const O=C.outerHeightStyle;h.current!==O&&(h.current=O,_.style.height=`${O}px`),_.style.overflow=C.overflowing?"hidden":""},[g]),y=w.useRef(-1);xo(()=>{const _=a_(S),C=u==null?void 0:u.current;if(!C)return;const O=Jo(C);O.addEventListener("resize",_);let N;return typeof ResizeObserver<"u"&&(N=new ResizeObserver(()=>{x()&&(N.unobserve(C),cancelAnimationFrame(y.current),S(),y.current=requestAnimationFrame(()=>{N.observe(C)}))}),N.observe(C)),()=>{_.clear(),cancelAnimationFrame(y.current),O.removeEventListener("resize",_),N&&N.disconnect()}},[g,S,x]),xo(()=>{S()});const b=_=>{c||S(),r&&r(_)};return A.jsxs(w.Fragment,{children:[A.jsx("textarea",{value:a,onChange:b,ref:f,rows:o,style:s,...l}),A.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:{...kee.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function hE(t){return typeof t=="string"}function Zd({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const O1=w.createContext(void 0);function ef(){return w.useContext(O1)}function oA(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function dv(t,e=!1){return t&&(oA(t.value)&&t.value!==""||e&&oA(t.defaultValue)&&t.defaultValue!=="")}function Nee(t){return t.startAdornment}function Mee(t){return rt("MuiInputBase",t)}const Bi=Ze("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var sA;const d_=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${ae(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},f_=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},Dee=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:f,size:h,startAdornment:p,type:g}=t,x={root:["root",`color${ae(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&h!=="medium"&&`size${ae(h)}`,u&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled",g==="search"&&"inputTypeSearch",u&&"inputMultiline",h==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",f&&"readOnly"]};return it(x,Mee,e)},h_=le("div",{name:"MuiInputBase",slot:"Root",overridesResolver:d_})(vt(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Bi.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),p_=le("input",{name:"MuiInputBase",slot:"Input",overridesResolver:f_})(vt(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Bi.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Bi.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),aA=iJ({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),N1=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:s,className:a,color:l,components:c={},componentsProps:u={},defaultValue:f,disabled:h,disableInjectingGlobalStyles:p,endAdornment:g,error:x,fullWidth:S=!1,id:y,inputComponent:b="input",inputProps:_={},inputRef:C,margin:O,maxRows:N,minRows:E,multiline:I=!1,name:R,onBlur:v,onChange:k,onClick:M,onFocus:P,onKeyDown:Y,onKeyUp:H,placeholder:W,readOnly:ne,renderSuffix:j,rows:F,size:K,slotProps:re={},slots:ue={},startAdornment:ge,type:ie="text",value:oe,...Ve}=r,Le=_.value!=null?_.value:oe,{current:Ne}=w.useRef(Le!=null),$e=w.useRef(),me=w.useCallback(Xe=>{},[]),Fe=hr($e,C,_.ref,me),[Ae,Oe]=w.useState(!1),je=ef(),We=Zd({props:r,muiFormControl:je,states:["color","disabled","error","hiddenLabel","size","required","filled"]});We.focused=je?je.focused:Ae,w.useEffect(()=>{!je&&h&&Ae&&(Oe(!1),v&&v())},[je,h,Ae,v]);const Nt=je&&je.onFilled,ye=je&&je.onEmpty,It=w.useCallback(Xe=>{dv(Xe)?Nt&&Nt():ye&&ye()},[Nt,ye]);xo(()=>{Ne&&It({value:Le})},[Le,It,Ne]);const He=Xe=>{P&&P(Xe),_.onFocus&&_.onFocus(Xe),je&&je.onFocus?je.onFocus(Xe):Oe(!0)},gt=Xe=>{v&&v(Xe),_.onBlur&&_.onBlur(Xe),je&&je.onBlur?je.onBlur(Xe):Oe(!1)},at=(Xe,...En)=>{if(!Ne){const Bn=Xe.target||$e.current;if(Bn==null)throw new Error(da(1));It({value:Bn.value})}_.onChange&&_.onChange(Xe,...En),k&&k(Xe,...En)};w.useEffect(()=>{It($e.current)},[]);const ke=Xe=>{$e.current&&Xe.currentTarget===Xe.target&&$e.current.focus(),M&&M(Xe)};let nn=b,ot=_;I&&nn==="input"&&(F?ot={type:void 0,minRows:F,maxRows:F,...ot}:ot={type:void 0,maxRows:N,minRows:E,...ot},nn=Oee);const xn=Xe=>{It(Xe.animationName==="mui-auto-fill-cancel"?$e.current:{value:"x"})};w.useEffect(()=>{je&&je.setAdornedStart(!!ge)},[je,ge]);const Et={...r,color:We.color||"primary",disabled:We.disabled,endAdornment:g,error:We.error,focused:We.focused,formControl:je,fullWidth:S,hiddenLabel:We.hiddenLabel,multiline:I,size:We.size,startAdornment:ge,type:ie},_t=Dee(Et),St=ue.root||c.Root||h_,Bt=re.root||u.root||{},ut=ue.input||c.Input||p_;return ot={...ot,...re.input??u.input},A.jsxs(w.Fragment,{children:[!p&&typeof aA=="function"&&(sA||(sA=A.jsx(aA,{}))),A.jsxs(St,{...Bt,ref:n,onClick:ke,...Ve,...!hE(St)&&{ownerState:{...Et,...Bt.ownerState}},className:we(_t.root,Bt.className,a,ne&&"MuiInputBase-readOnly"),children:[ge,A.jsx(O1.Provider,{value:null,children:A.jsx(ut,{"aria-invalid":We.error,"aria-describedby":i,autoComplete:o,autoFocus:s,defaultValue:f,disabled:We.disabled,id:y,onAnimationStart:xn,name:R,placeholder:W,readOnly:ne,required:We.required,rows:F,value:Le,onKeyDown:Y,onKeyUp:H,type:ie,...ot,...!hE(ut)&&{as:nn,ownerState:{...Et,...ot.ownerState}},ref:Fe,className:we(_t.input,ot.className,ne&&"MuiInputBase-readOnly"),onBlur:gt,onChange:at,onFocus:He})}),g,j?j({...We,startAdornment:ge}):null]})]})});function $ee(t){return rt("MuiInput",t)}const Va={...Bi,...Ze("MuiInput",["root","underline","input"])};function Lee(t){return rt("MuiOutlinedInput",t)}const lo={...Bi,...Ze("MuiOutlinedInput",["root","notchedOutline","input"])};function Fee(t){return rt("MuiFilledInput",t)}const Vi={...Bi,...Ze("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},D4=Yn(A.jsx("path",{d:"M7 10l5 5 5-5z"}));function Bee(t){return rt("MuiAutocomplete",t)}const ft=Ze("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var lA,cA;const Vee=t=>{const{classes:e,disablePortal:n,expanded:r,focused:i,fullWidth:o,hasClearIcon:s,hasPopupIcon:a,inputFocused:l,popupOpen:c,size:u}=t,f={root:["root",r&&"expanded",i&&"focused",o&&"fullWidth",s&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${ae(u)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return it(f,Bee,e)},Uee=le("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{fullWidth:r,hasClearIcon:i,hasPopupIcon:o,inputFocused:s,size:a}=n;return[{[`& .${ft.tag}`]:e.tag},{[`& .${ft.tag}`]:e[`tagSize${ae(a)}`]},{[`& .${ft.inputRoot}`]:e.inputRoot},{[`& .${ft.input}`]:e.input},{[`& .${ft.input}`]:s&&e.inputFocused},e.root,r&&e.fullWidth,o&&e.hasPopupIcon,i&&e.hasClearIcon]}})({[`&.${ft.focused} .${ft.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${ft.clearIndicator}`]:{visibility:"visible"}},[`& .${ft.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${ft.inputRoot}`]:{[`.${ft.hasPopupIcon}&, .${ft.hasClearIcon}&`]:{paddingRight:30},[`.${ft.hasPopupIcon}.${ft.hasClearIcon}&`]:{paddingRight:56},[`& .${ft.input}`]:{width:0,minWidth:30}},[`& .${Va.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Va.root}.${Bi.sizeSmall}`]:{[`& .${Va.input}`]:{padding:"2px 4px 3px 0"}},[`& .${lo.root}`]:{padding:9,[`.${ft.hasPopupIcon}&, .${ft.hasClearIcon}&`]:{paddingRight:39},[`.${ft.hasPopupIcon}.${ft.hasClearIcon}&`]:{paddingRight:65},[`& .${ft.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${ft.endAdornment}`]:{right:9}},[`& .${lo.root}.${Bi.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${ft.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Vi.root}`]:{paddingTop:19,paddingLeft:8,[`.${ft.hasPopupIcon}&, .${ft.hasClearIcon}&`]:{paddingRight:39},[`.${ft.hasPopupIcon}.${ft.hasClearIcon}&`]:{paddingRight:65},[`& .${Vi.input}`]:{padding:"7px 4px"},[`& .${ft.endAdornment}`]:{right:9}},[`& .${Vi.root}.${Bi.sizeSmall}`]:{paddingBottom:1,[`& .${Vi.input}`]:{padding:"2.5px 4px"}},[`& .${Bi.hiddenLabel}`]:{paddingTop:8},[`& .${Vi.root}.${Bi.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${ft.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Vi.root}.${Bi.hiddenLabel}.${Bi.sizeSmall}`]:{[`& .${ft.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${ft.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${ft.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${ft.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${ft.inputRoot}`]:{flexWrap:"wrap"}}}]}),jee=le("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(t,e)=>e.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),zee=le(cv,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(t,e)=>e.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Wee=le(cv,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popupIndicator,n.popupOpen&&e.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),Hee=le(M4,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${ft.option}`]:e.option},e.popper,n.disablePortal&&e.popperDisablePortal]}})(vt(({theme:t})=>({zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),Gee=le(Jd,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(t,e)=>e.paper})(vt(({theme:t})=>({...t.typography.body1,overflow:"auto"}))),qee=le("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(t,e)=>e.loading})(vt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),Kee=le("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(t,e)=>e.noOptions})(vt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),Yee=le("ul",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(t,e)=>e.listbox})(vt(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${ft.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${ft.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${ft.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${ft.focused}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${ft.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}}}))),Xee=le(fE,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(t,e)=>e.groupLabel})(vt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8}))),Qee=le("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(t,e)=>e.groupUl})({padding:0,[`& .${ft.option}`]:{paddingLeft:24}}),Jee=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:o=!1,autoSelect:s=!1,blurOnSelect:a=!1,ChipProps:l,className:c,clearIcon:u=lA||(lA=A.jsx(KJ,{fontSize:"small"})),clearOnBlur:f=!r.freeSolo,clearOnEscape:h=!1,clearText:p="Clear",closeText:g="Close",componentsProps:x,defaultValue:S=r.multiple?[]:null,disableClearable:y=!1,disableCloseOnSelect:b=!1,disabled:_=!1,disabledItemsFocusable:C=!1,disableListWrap:O=!1,disablePortal:N=!1,filterOptions:E,filterSelectedOptions:I=!1,forcePopupIcon:R="auto",freeSolo:v=!1,fullWidth:k=!1,getLimitTagsText:M=dt=>`+${dt}`,getOptionDisabled:P,getOptionKey:Y,getOptionLabel:H,isOptionEqualToValue:W,groupBy:ne,handleHomeEndKeys:j=!r.freeSolo,id:F,includeInputInList:K=!1,inputValue:re,limitTags:ue=-1,ListboxComponent:ge,ListboxProps:ie,loading:oe=!1,loadingText:Ve="Loading…",multiple:Le=!1,noOptionsText:Ne="No options",onChange:$e,onClose:me,onHighlightChange:Fe,onInputChange:Ae,onOpen:Oe,open:je,openOnFocus:We=!1,openText:Nt="Open",options:ye,PaperComponent:It,PopperComponent:He,popupIcon:gt=cA||(cA=A.jsx(D4,{})),readOnly:at=!1,renderGroup:ke,renderInput:nn,renderOption:ot,renderTags:xn,selectOnFocus:Et=!r.freeSolo,size:_t="medium",slots:St={},slotProps:Bt={},value:ut,...Xe}=r,{getRootProps:En,getInputProps:Bn,getInputLabelProps:Gr,getPopupIndicatorProps:xe,getClearProps:Ie,getTagProps:Yt,getListboxProps:Vn,getOptionProps:qr,value:gr,dirty:Ir,expanded:Un,id:ki,popupOpen:rn,focused:ro,focusedTag:io,anchorEl:Ai,setAnchorEl:mr,inputValue:_e,groupedOptions:fe}=oZ({...r,componentName:"Autocomplete"}),lt=!y&&!_&&Ir&&!at,et=(!v||R===!0)&&R!==!1,{onMouseDown:Mt}=Bn(),{ref:yr,...si}=Vn(),Po=H||(dt=>dt.label??dt),Sn={...r,disablePortal:N,expanded:Un,focused:ro,fullWidth:k,getOptionLabel:Po,hasClearIcon:lt,hasPopupIcon:et,inputFocused:io===-1,popupOpen:rn,size:_t},mn=Vee(Sn),ai={slots:{paper:It,popper:He,...St},slotProps:{chip:l,listbox:ie,...x,...Bt}},[Os,J]=Gt("listbox",{elementType:Yee,externalForwardedProps:ai,ownerState:Sn,className:mn.listbox,additionalProps:si,ref:yr}),[X,Ee]=Gt("paper",{elementType:Jd,externalForwardedProps:ai,ownerState:Sn,className:mn.paper}),[Qe,ct]=Gt("popper",{elementType:M4,externalForwardedProps:ai,ownerState:Sn,className:mn.popper,additionalProps:{disablePortal:N,style:{width:Ai?Ai.clientWidth:null},role:"presentation",anchorEl:Ai,open:rn}});let $t;if(Le&&gr.length>0){const dt=Kr=>({className:mn.tag,disabled:_,...Yt(Kr)});xn?$t=xn(gr,dt,Sn):$t=gr.map((Kr,Ao)=>{const{key:ts,...$l}=dt({index:Ao});return A.jsx(Pee,{label:Po(Kr),size:_t,...$l,...ai.slotProps.chip},ts)})}if(ue>-1&&Array.isArray($t)){const dt=$t.length-ue;!ro&&dt>0&&($t=$t.splice(0,ue),$t.push(A.jsx("span",{className:mn.tag,children:M(dt)},$t.length)))}const Rr=ke||(dt=>A.jsxs("li",{children:[A.jsx(Xee,{className:mn.groupLabel,ownerState:Sn,component:"div",children:dt.group}),A.jsx(Qee,{className:mn.groupUl,ownerState:Sn,children:dt.children})]},dt.key)),Dl=ot||((dt,Kr)=>{const{key:Ao,...ts}=dt;return A.jsx("li",{...ts,children:Po(Kr)},Ao)}),zc=(dt,Kr)=>{const Ao=qr({option:dt,index:Kr});return Dl({...Ao,className:mn.option},dt,{selected:Ao["aria-selected"],index:Kr,inputValue:_e},Sn)},Ns=ai.slotProps.clearIndicator,ko=ai.slotProps.popupIndicator;return A.jsxs(w.Fragment,{children:[A.jsx(Uee,{ref:n,className:we(mn.root,c),ownerState:Sn,...En(Xe),children:nn({id:ki,disabled:_,fullWidth:!0,size:_t==="small"?"small":void 0,InputLabelProps:Gr(),InputProps:{ref:mr,className:mn.inputRoot,startAdornment:$t,onMouseDown:dt=>{dt.target===dt.currentTarget&&Mt(dt)},...(lt||et)&&{endAdornment:A.jsxs(jee,{className:mn.endAdornment,ownerState:Sn,children:[lt?A.jsx(zee,{...Ie(),"aria-label":p,title:p,ownerState:Sn,...Ns,className:we(mn.clearIndicator,Ns==null?void 0:Ns.className),children:u}):null,et?A.jsx(Wee,{...xe(),disabled:_,"aria-label":rn?g:Nt,title:rn?g:Nt,ownerState:Sn,...ko,className:we(mn.popupIndicator,ko==null?void 0:ko.className),children:gt}):null]})}},inputProps:{className:mn.input,disabled:_,readOnly:at,...Bn()}})}),Ai?A.jsx(Hee,{as:Qe,...ct,children:A.jsxs(Gee,{as:X,...Ee,children:[oe&&fe.length===0?A.jsx(qee,{className:mn.loading,ownerState:Sn,children:Ve}):null,fe.length===0&&!v&&!oe?A.jsx(Kee,{className:mn.noOptions,ownerState:Sn,role:"presentation",onMouseDown:dt=>{dt.preventDefault()},children:Ne}):null,fe.length>0?A.jsx(Os,{as:ge,...J,children:fe.map((dt,Kr)=>ne?Rr({key:dt.key,group:dt.group,children:dt.options.map((Ao,ts)=>zc(Ao,dt.index+ts))}):zc(dt,Kr))}):null]})}):null]})}),Zee={entering:{opacity:1},entered:{opacity:1}},pE=w.forwardRef(function(e,n){const r=Oc(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:f,onEntering:h,onExit:p,onExited:g,onExiting:x,style:S,timeout:y=i,TransitionComponent:b=Rs,..._}=e,C=w.useRef(null),O=hr(C,ig(a),n),N=Y=>H=>{if(Y){const W=C.current;H===void 0?Y(W):Y(W,H)}},E=N(h),I=N((Y,H)=>{x4(Y);const W=av({style:S,timeout:y,easing:l},{mode:"enter"});Y.style.webkitTransition=r.transitions.create("opacity",W),Y.style.transition=r.transitions.create("opacity",W),u&&u(Y,H)}),R=N(f),v=N(x),k=N(Y=>{const H=av({style:S,timeout:y,easing:l},{mode:"exit"});Y.style.webkitTransition=r.transitions.create("opacity",H),Y.style.transition=r.transitions.create("opacity",H),p&&p(Y)}),M=N(g),P=Y=>{o&&o(C.current,Y)};return A.jsx(b,{appear:s,in:c,nodeRef:C,onEnter:I,onEntered:R,onEntering:E,onExit:k,onExited:M,onExiting:v,addEndListener:P,timeout:y,..._,children:(Y,{ownerState:H,...W})=>w.cloneElement(a,{style:{opacity:0,visibility:Y==="exited"&&!c?"hidden":void 0,...Zee[Y],...S,...a.props.style},ref:O,...W})})});function ete(t){return rt("MuiBackdrop",t)}Ze("MuiBackdrop",["root","invisible"]);const tte=t=>{const{classes:e,invisible:n}=t;return it({root:["root",n&&"invisible"]},ete,e)},nte=le("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),$4=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiBackdrop"}),{children:i,className:o,component:s="div",invisible:a=!1,open:l,components:c={},componentsProps:u={},slotProps:f={},slots:h={},TransitionComponent:p,transitionDuration:g,...x}=r,S={...r,component:s,invisible:a},y=tte(S),b={transition:p,root:c.Root,...h},_={...u,...f},C={slots:b,slotProps:_},[O,N]=Gt("root",{elementType:nte,externalForwardedProps:C,className:we(y.root,o),ownerState:S}),[E,I]=Gt("transition",{elementType:pE,externalForwardedProps:C,ownerState:S});return A.jsx(E,{in:l,timeout:g,...x,...I,children:A.jsx(O,{"aria-hidden":!0,...N,classes:y,ref:n,children:i})})}),rte=Ze("MuiBox",["root"]),ite=v4(),kd=_X({themeId:Qp,defaultTheme:ite,defaultClassName:rte.root,generateClassName:QF.generate});function ote(t){return rt("MuiButton",t)}const Ul=Ze("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),ste=w.createContext({}),ate=w.createContext(void 0),lte=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,loading:s,loadingPosition:a,classes:l}=t,c={root:["root",s&&"loading",o,`${o}${ae(e)}`,`size${ae(i)}`,`${o}Size${ae(i)}`,`color${ae(e)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${ae(a)}`],startIcon:["icon","startIcon",`iconSize${ae(i)}`],endIcon:["icon","endIcon",`iconSize${ae(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},u=it(c,ote,l);return{...l,...u}},L4=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],cte=le(vl,{shouldForwardProp:t=>Ro(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${ae(n.color)}`],e[`size${ae(n.size)}`],e[`${n.variant}Size${ae(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(vt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Ul.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Ul.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Ul.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Ul.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(yi()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:Ot(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette[r].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Ul.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Ul.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Ul.loading}`]:{color:"transparent"}}}]}})),ute=le("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${ae(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...L4]})),dte=le("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${ae(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...L4]})),fte=le("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),uA=le("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),Wn=w.forwardRef(function(e,n){const r=w.useContext(ste),i=w.useContext(ate),o=Sd(r,e),s=st({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:f=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:g,focusVisibleClassName:x,fullWidth:S=!1,id:y,loading:b=null,loadingIndicator:_,loadingPosition:C="center",size:O="medium",startIcon:N,type:E,variant:I="text",...R}=s,v=Xd(y),k=_??A.jsx(E4,{"aria-labelledby":v,color:"inherit",size:16}),M={...s,color:l,component:c,disabled:f,disableElevation:h,disableFocusRipple:p,fullWidth:S,loading:b,loadingIndicator:k,loadingPosition:C,size:O,type:E,variant:I},P=lte(M),Y=(N||b&&C==="start")&&A.jsx(ute,{className:P.startIcon,ownerState:M,children:N||A.jsx(uA,{className:P.loadingIconPlaceholder,ownerState:M})}),H=(g||b&&C==="end")&&A.jsx(dte,{className:P.endIcon,ownerState:M,children:g||A.jsx(uA,{className:P.loadingIconPlaceholder,ownerState:M})}),W=i||"",ne=typeof b=="boolean"?A.jsx("span",{className:P.loadingWrapper,style:{display:"contents"},children:b&&A.jsx(fte,{className:P.loadingIndicator,ownerState:M,children:k})}):null;return A.jsxs(cte,{ownerState:M,className:we(r.className,P.root,u,W),component:c,disabled:f||b,focusRipple:!p,focusVisibleClassName:we(P.focusVisible,x),ref:n,type:E,id:b?v:y,...R,classes:P,children:[Y,C!=="end"&&ne,a,C==="end"&&ne,H]})});function hte(t){return rt("MuiCard",t)}Ze("MuiCard",["root"]);const pte=t=>{const{classes:e}=t;return it({root:["root"]},hte,e)},gte=le(Jd,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})({overflow:"hidden"}),mte=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiCard"}),{className:i,raised:o=!1,...s}=r,a={...r,raised:o},l=pte(a);return A.jsx(gte,{className:we(l.root,i),elevation:o?8:void 0,ref:n,ownerState:a,...s})});function yte(t){return rt("MuiCardActions",t)}Ze("MuiCardActions",["root","spacing"]);const vte=t=>{const{classes:e,disableSpacing:n}=t;return it({root:["root",!n&&"spacing"]},yte,e)},_te=le("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),bte=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiCardActions"}),{disableSpacing:i=!1,className:o,...s}=r,a={...r,disableSpacing:i},l=vte(a);return A.jsx(_te,{className:we(l.root,o),ownerState:a,ref:n,...s})});function wte(t){return rt("MuiCardContent",t)}Ze("MuiCardContent",["root"]);const xte=t=>{const{classes:e}=t;return it({root:["root"]},wte,e)},Ete=le("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:16,"&:last-child":{paddingBottom:24}}),Ste=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiCardContent"}),{className:i,component:o="div",...s}=r,a={...r,component:o},l=xte(a);return A.jsx(Ete,{as:o,className:we(l.root,i),ownerState:a,ref:n,...s})}),Cte=rQ({createStyledComponent:le("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${ae(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>st({props:t,name:"MuiContainer"})});function Tte(t){const e=Ti(t);return e.body===t?Jo(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Rh(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function dA(t){return parseInt(Jo(t).getComputedStyle(t).paddingRight,10)||0}function Ite(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function fA(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,s=>{const a=!o.includes(s),l=!Ite(s);a&&l&&Rh(s,i)})}function Qb(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function Rte(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(Tte(r)){const s=l4(Jo(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${dA(r)+s}px`;const a=Ti(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${dA(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Ti(r).body;else{const s=r.parentElement,a=Jo(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function Pte(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class kte{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Rh(e.modalRef,!1);const i=Pte(n);fA(n,e.mount,e.modalRef,i,!0);const o=Qb(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Qb(this.containers,o=>o.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=Rte(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Qb(this.containers,s=>s.modals.includes(e)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&Rh(e.modalRef,n),fA(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&Rh(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const Ate=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Ote(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Nte(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Mte(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Nte(t))}function Dte(t){const e=[],n=[];return Array.from(t.querySelectorAll(Ate)).forEach((r,i)=>{const o=Ote(r);o===-1||!Mte(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function $te(){return!0}function Lte(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=Dte,isEnabled:s=$te,open:a}=t,l=w.useRef(!1),c=w.useRef(null),u=w.useRef(null),f=w.useRef(null),h=w.useRef(null),p=w.useRef(!1),g=w.useRef(null),x=hr(ig(e),g),S=w.useRef(null);w.useEffect(()=>{!a||!g.current||(p.current=!n)},[n,a]),w.useEffect(()=>{if(!a||!g.current)return;const _=Ti(g.current);return g.current.contains(_.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),p.current&&g.current.focus()),()=>{i||(f.current&&f.current.focus&&(l.current=!0,f.current.focus()),f.current=null)}},[a]),w.useEffect(()=>{if(!a||!g.current)return;const _=Ti(g.current),C=E=>{S.current=E,!(r||!s()||E.key!=="Tab")&&_.activeElement===g.current&&E.shiftKey&&(l.current=!0,u.current&&u.current.focus())},O=()=>{var R,v;const E=g.current;if(E===null)return;if(!_.hasFocus()||!s()||l.current){l.current=!1;return}if(E.contains(_.activeElement)||r&&_.activeElement!==c.current&&_.activeElement!==u.current)return;if(_.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let I=[];if((_.activeElement===c.current||_.activeElement===u.current)&&(I=o(g.current)),I.length>0){const k=!!((R=S.current)!=null&&R.shiftKey&&((v=S.current)==null?void 0:v.key)==="Tab"),M=I[0],P=I[I.length-1];typeof M!="string"&&typeof P!="string"&&(k?P.focus():M.focus())}else E.focus()};_.addEventListener("focusin",O),_.addEventListener("keydown",C,!0);const N=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&O()},50);return()=>{clearInterval(N),_.removeEventListener("focusin",O),_.removeEventListener("keydown",C,!0)}},[n,r,i,s,a,o]);const y=_=>{f.current===null&&(f.current=_.relatedTarget),p.current=!0,h.current=_.target;const C=e.props.onFocus;C&&C(_)},b=_=>{f.current===null&&(f.current=_.relatedTarget),p.current=!0};return A.jsxs(w.Fragment,{children:[A.jsx("div",{tabIndex:a?0:-1,onFocus:b,ref:c,"data-testid":"sentinelStart"}),w.cloneElement(e,{ref:x,onFocus:y}),A.jsx("div",{tabIndex:a?0:-1,onFocus:b,ref:u,"data-testid":"sentinelEnd"})]})}function Fte(t){return typeof t=="function"?t():t}function Bte(t){return t?t.props.hasOwnProperty("in"):!1}const hA=()=>{},dm=new kte;function Vte(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:s,children:a,onClose:l,open:c,rootRef:u}=t,f=w.useRef({}),h=w.useRef(null),p=w.useRef(null),g=hr(p,u),[x,S]=w.useState(!c),y=Bte(a);let b=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(b=!1);const _=()=>Ti(h.current),C=()=>(f.current.modalRef=p.current,f.current.mount=h.current,f.current),O=()=>{dm.mount(C(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},N=mi(()=>{const H=Fte(e)||_().body;dm.add(C(),H),p.current&&O()}),E=()=>dm.isTopModal(C()),I=mi(H=>{h.current=H,H&&(c&&E()?O():p.current&&Rh(p.current,b))}),R=w.useCallback(()=>{dm.remove(C(),b)},[b]);w.useEffect(()=>()=>{R()},[R]),w.useEffect(()=>{c?N():(!y||!i)&&R()},[c,R,y,i,N]);const v=H=>W=>{var ne;(ne=H.onKeyDown)==null||ne.call(H,W),!(W.key!=="Escape"||W.which===229||!E())&&(n||(W.stopPropagation(),l&&l(W,"escapeKeyDown")))},k=H=>W=>{var ne;(ne=H.onClick)==null||ne.call(H,W),W.target===W.currentTarget&&l&&l(W,"backdropClick")};return{getRootProps:(H={})=>{const W=u4(t);delete W.onTransitionEnter,delete W.onTransitionExited;const ne={...W,...H};return{role:"presentation",...ne,onKeyDown:v(ne),ref:g}},getBackdropProps:(H={})=>{const W=H;return{"aria-hidden":!0,...W,onClick:k(W),open:c}},getTransitionProps:()=>{const H=()=>{S(!1),o&&o()},W=()=>{S(!0),s&&s(),i&&R()};return{onEnter:Rk(H,(a==null?void 0:a.props.onEnter)??hA),onExited:Rk(W,(a==null?void 0:a.props.onExited)??hA)}},rootRef:g,portalRef:I,isTopModal:E,exited:x,hasTransition:y}}function Ute(t){return rt("MuiModal",t)}Ze("MuiModal",["root","hidden","backdrop"]);const jte=t=>{const{open:e,exited:n,classes:r}=t;return it({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},Ute,r)},zte=le("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(vt(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),Wte=le($4,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),F4=w.forwardRef(function(e,n){const r=st({name:"MuiModal",props:e}),{BackdropComponent:i=Wte,BackdropProps:o,classes:s,className:a,closeAfterTransition:l=!1,children:c,container:u,component:f,components:h={},componentsProps:p={},disableAutoFocus:g=!1,disableEnforceFocus:x=!1,disableEscapeKeyDown:S=!1,disablePortal:y=!1,disableRestoreFocus:b=!1,disableScrollLock:_=!1,hideBackdrop:C=!1,keepMounted:O=!1,onClose:N,onTransitionEnter:E,onTransitionExited:I,open:R,slotProps:v={},slots:k={},theme:M,...P}=r,Y={...r,closeAfterTransition:l,disableAutoFocus:g,disableEnforceFocus:x,disableEscapeKeyDown:S,disablePortal:y,disableRestoreFocus:b,disableScrollLock:_,hideBackdrop:C,keepMounted:O},{getRootProps:H,getBackdropProps:W,getTransitionProps:ne,portalRef:j,isTopModal:F,exited:K,hasTransition:re}=Vte({...Y,rootRef:n}),ue={...Y,exited:K},ge=jte(ue),ie={};if(c.props.tabIndex===void 0&&(ie.tabIndex="-1"),re){const{onEnter:me,onExited:Fe}=ne();ie.onEnter=me,ie.onExited=Fe}const oe={slots:{root:h.Root,backdrop:h.Backdrop,...k},slotProps:{...p,...v}},[Ve,Le]=Gt("root",{ref:n,elementType:zte,externalForwardedProps:{...oe,...P,component:f},getSlotProps:H,ownerState:ue,className:we(a,ge==null?void 0:ge.root,!ue.open&&ue.exited&&(ge==null?void 0:ge.hidden))}),[Ne,$e]=Gt("backdrop",{ref:o==null?void 0:o.ref,elementType:i,externalForwardedProps:oe,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:me=>W({...me,onClick:Fe=>{me!=null&&me.onClick&&me.onClick(Fe)}}),className:we(o==null?void 0:o.className,ge==null?void 0:ge.backdrop),ownerState:ue});return!O&&!R&&(!re||K)?null:A.jsx(N4,{ref:j,container:u,disablePortal:y,children:A.jsxs(Ve,{...Le,children:[!C&&i?A.jsx(Ne,{...$e}):null,A.jsx(Lte,{disableEnforceFocus:x,disableAutoFocus:g,disableRestoreFocus:b,isEnabled:F,open:R,children:w.cloneElement(c,ie)})]})})});function Hte(t){return rt("MuiDialog",t)}const Jb=Ze("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),B4=w.createContext({}),Gte=le($4,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),qte=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=t,s={root:["root"],container:["container",`scroll${ae(n)}`],paper:["paper",`paperScroll${ae(n)}`,`paperWidth${ae(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return it(s,Hte,e)},Kte=le(F4,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),Yte=le("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${ae(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Xte=le(Jd,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${ae(n.scroll)}`],e[`paperWidth${ae(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(vt(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Jb.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${Jb.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Jb.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),fm=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiDialog"}),i=Oc(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:c,BackdropProps:u,children:f,className:h,disableEscapeKeyDown:p=!1,fullScreen:g=!1,fullWidth:x=!1,maxWidth:S="sm",onClick:y,onClose:b,open:_,PaperComponent:C=Jd,PaperProps:O={},scroll:N="paper",slots:E={},slotProps:I={},TransitionComponent:R=pE,transitionDuration:v=o,TransitionProps:k,...M}=r,P={...r,disableEscapeKeyDown:p,fullScreen:g,fullWidth:x,maxWidth:S,scroll:N},Y=qte(P),H=w.useRef(),W=Oe=>{H.current=Oe.target===Oe.currentTarget},ne=Oe=>{y&&y(Oe),H.current&&(H.current=null,b&&b(Oe,"backdropClick"))},j=Xd(a),F=w.useMemo(()=>({titleId:j}),[j]),K={transition:R,...E},re={transition:k,paper:O,backdrop:u,...I},ue={slots:K,slotProps:re},[ge,ie]=Gt("root",{elementType:Kte,shouldForwardComponentProp:!0,externalForwardedProps:ue,ownerState:P,className:we(Y.root,h),ref:n}),[oe,Ve]=Gt("backdrop",{elementType:Gte,shouldForwardComponentProp:!0,externalForwardedProps:ue,ownerState:P}),[Le,Ne]=Gt("paper",{elementType:Xte,shouldForwardComponentProp:!0,externalForwardedProps:ue,ownerState:P,className:we(Y.paper,O.className)}),[$e,me]=Gt("container",{elementType:Yte,externalForwardedProps:ue,ownerState:P,className:we(Y.container)}),[Fe,Ae]=Gt("transition",{elementType:pE,externalForwardedProps:ue,ownerState:P,additionalProps:{appear:!0,in:_,timeout:v,role:"presentation"}});return A.jsx(ge,{closeAfterTransition:!0,slots:{backdrop:oe},slotProps:{backdrop:{transitionDuration:v,as:c,...Ve}},disableEscapeKeyDown:p,onClose:b,open:_,onClick:ne,...ie,...M,children:A.jsx(Fe,{...Ae,children:A.jsx($e,{onMouseDown:W,...me,children:A.jsx(Le,{as:C,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":j,"aria-modal":l,...Ne,children:A.jsx(B4.Provider,{value:F,children:f})})})})})});function Qte(t){return rt("MuiDialogActions",t)}Ze("MuiDialogActions",["root","spacing"]);const Jte=t=>{const{classes:e,disableSpacing:n}=t;return it({root:["root",!n&&"spacing"]},Qte,e)},Zte=le("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),hm=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1,...s}=r,a={...r,disableSpacing:o},l=Jte(a);return A.jsx(Zte,{className:we(l.root,i),ownerState:a,ref:n,...s})});function ene(t){return rt("MuiDialogContent",t)}Ze("MuiDialogContent",["root","dividers"]);function tne(t){return rt("MuiDialogTitle",t)}const nne=Ze("MuiDialogTitle",["root"]),rne=t=>{const{classes:e,dividers:n}=t;return it({root:["root",n&&"dividers"]},ene,e)},ine=le("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(vt(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${nne.root} + &`]:{paddingTop:0}}}]}))),pm=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiDialogContent"}),{className:i,dividers:o=!1,...s}=r,a={...r,dividers:o},l=rne(a);return A.jsx(ine,{className:we(l.root,i),ownerState:a,ref:n,...s})}),one=t=>{const{classes:e}=t;return it({root:["root"]},tne,e)},sne=le(Fi,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),gm=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiDialogTitle"}),{className:i,id:o,...s}=r,a=r,l=one(a),{titleId:c=o}=w.useContext(B4);return A.jsx(sne,{component:"h2",className:we(l.root,i),ownerState:a,ref:n,variant:"h6",id:o??c,...s})}),pA=Ze("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),ane=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:s,multiline:a}=t,l={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${ae(o)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},c=it(l,Fee,e);return{...e,...c}},lne=le(h_,{shouldForwardProp:t=>Ro(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...d_(t,e),!n.disableUnderline&&e.underline]}})(vt(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${Vi.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${Vi.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Vi.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Vi.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Vi.disabled}, .${Vi.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Vi.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(yi()).map(([s])=>{var a;return{props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[s])==null?void 0:a.main}`}}}}),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:a})=>s.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),cne=le(p_,{name:"MuiFilledInput",slot:"Input",overridesResolver:f_})(vt(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),M1=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,hiddenLabel:l,inputComponent:c="input",multiline:u=!1,slotProps:f,slots:h={},type:p="text",...g}=r,x={...r,disableUnderline:i,fullWidth:a,inputComponent:c,multiline:u,type:p},S=ane(r),y={root:{ownerState:x},input:{ownerState:x}},b=f??s?fr(y,f??s):y,_=h.root??o.Root??lne,C=h.input??o.Input??cne;return A.jsx(N1,{slots:{root:_,input:C},slotProps:b,fullWidth:a,inputComponent:c,multiline:u,ref:n,type:p,...g,classes:S})});M1.muiName="Input";function une(t){return rt("MuiFormControl",t)}Ze("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const dne=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${ae(n)}`,r&&"fullWidth"]};return it(i,une,e)},fne=le("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${ae(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),D1=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:f=!1,hiddenLabel:h=!1,margin:p="none",required:g=!1,size:x="medium",variant:S="outlined",...y}=r,b={...r,color:s,component:a,disabled:l,error:c,fullWidth:f,hiddenLabel:h,margin:p,required:g,size:x,variant:S},_=dne(b),[C,O]=w.useState(()=>{let H=!1;return i&&w.Children.forEach(i,W=>{if(!ry(W,["Input","Select"]))return;const ne=ry(W,["Select"])?W.props.input:W;ne&&Nee(ne.props)&&(H=!0)}),H}),[N,E]=w.useState(()=>{let H=!1;return i&&w.Children.forEach(i,W=>{ry(W,["Input","Select"])&&(dv(W.props,!0)||dv(W.props.inputProps,!0))&&(H=!0)}),H}),[I,R]=w.useState(!1);l&&I&&R(!1);const v=u!==void 0&&!l?u:I;let k;w.useRef(!1);const M=w.useCallback(()=>{E(!0)},[]),P=w.useCallback(()=>{E(!1)},[]),Y=w.useMemo(()=>({adornedStart:C,setAdornedStart:O,color:s,disabled:l,error:c,filled:N,focused:v,fullWidth:f,hiddenLabel:h,size:x,onBlur:()=>{R(!1)},onFocus:()=>{R(!0)},onEmpty:P,onFilled:M,registerEffect:k,required:g,variant:S}),[C,s,l,c,N,v,f,h,k,P,M,g,x,S]);return A.jsx(O1.Provider,{value:Y,children:A.jsx(fne,{as:a,ownerState:b,className:we(_.root,o),ref:n,...y,children:i})})});function hne(t){return rt("MuiFormHelperText",t)}const gA=Ze("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var mA;const pne=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=t,c={root:["root",i&&"disabled",o&&"error",r&&`size${ae(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return it(c,hne,e)},gne=le("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${ae(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(vt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${gA.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${gA.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),mne=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p",disabled:a,error:l,filled:c,focused:u,margin:f,required:h,variant:p,...g}=r,x=ef(),S=Zd({props:r,muiFormControl:x,states:["variant","size","disabled","error","filled","focused","required"]}),y={...r,component:s,contained:S.variant==="filled"||S.variant==="outlined",variant:S.variant,size:S.size,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required};delete y.ownerState;const b=pne(y);return A.jsx(gne,{as:s,className:we(b.root,o),ref:n,...g,ownerState:y,children:i===" "?mA||(mA=A.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):i})});function yne(t){return rt("MuiFormLabel",t)}const Ph=Ze("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),vne=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=t,l={root:["root",`color${ae(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return it(l,yne,e)},_ne=le("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(vt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(yi()).map(([e])=>({props:{color:e},style:{[`&.${Ph.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${Ph.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Ph.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),bne=le("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(vt(({theme:t})=>({[`&.${Ph.error}`]:{color:(t.vars||t).palette.error.main}}))),wne=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiFormLabel"}),{children:i,className:o,color:s,component:a="label",disabled:l,error:c,filled:u,focused:f,required:h,...p}=r,g=ef(),x=Zd({props:r,muiFormControl:g,states:["color","required","focused","disabled","error","filled"]}),S={...r,color:x.color||"primary",component:a,disabled:x.disabled,error:x.error,filled:x.filled,focused:x.focused,required:x.required},y=vne(S);return A.jsxs(_ne,{as:a,ownerState:S,className:we(y.root,o),ref:n,...p,children:[i,x.required&&A.jsxs(bne,{ownerState:S,"aria-hidden":!0,className:y.asterisk,children:[" ","*"]})]})}),yA=_Q({createStyledComponent:le("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:t=>st({props:t,name:"MuiGrid"}),useTheme:Oc});function gE(t){return`scale(${t}, ${t**2})`}const xne={entering:{opacity:1,transform:gE(1)},entered:{opacity:1,transform:"none"}},Zb=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),mE=w.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:f,onExited:h,onExiting:p,style:g,timeout:x="auto",TransitionComponent:S=Rs,...y}=e,b=a4(),_=w.useRef(),C=Oc(),O=w.useRef(null),N=hr(O,ig(o),n),E=H=>W=>{if(H){const ne=O.current;W===void 0?H(ne):H(ne,W)}},I=E(u),R=E((H,W)=>{x4(H);const{duration:ne,delay:j,easing:F}=av({style:g,timeout:x,easing:s},{mode:"enter"});let K;x==="auto"?(K=C.transitions.getAutoHeightDuration(H.clientHeight),_.current=K):K=ne,H.style.transition=[C.transitions.create("opacity",{duration:K,delay:j}),C.transitions.create("transform",{duration:Zb?K:K*.666,delay:j,easing:F})].join(","),l&&l(H,W)}),v=E(c),k=E(p),M=E(H=>{const{duration:W,delay:ne,easing:j}=av({style:g,timeout:x,easing:s},{mode:"exit"});let F;x==="auto"?(F=C.transitions.getAutoHeightDuration(H.clientHeight),_.current=F):F=W,H.style.transition=[C.transitions.create("opacity",{duration:F,delay:ne}),C.transitions.create("transform",{duration:Zb?F:F*.666,delay:Zb?ne:ne||F*.333,easing:j})].join(","),H.style.opacity=0,H.style.transform=gE(.75),f&&f(H)}),P=E(h),Y=H=>{x==="auto"&&b.start(_.current||0,H),r&&r(O.current,H)};return A.jsx(S,{appear:i,in:a,nodeRef:O,onEnter:R,onEntered:v,onEntering:I,onExit:M,onExited:P,onExiting:k,addEndListener:Y,timeout:x==="auto"?null:x,...y,children:(H,{ownerState:W,...ne})=>w.cloneElement(o,{style:{opacity:0,transform:gE(.75),visibility:H==="exited"&&!a?"hidden":void 0,...xne[H],...g,...o.props.style},ref:N,...ne})})});mE&&(mE.muiSupportAuto=!0);const Ene=t=>{const{classes:e,disableUnderline:n}=t,i=it({root:["root",!n&&"underline"],input:["input"]},$ee,e);return{...e,...i}},Sne=le(h_,{shouldForwardProp:t=>Ro(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...d_(t,e),!n.disableUnderline&&e.underline]}})(vt(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Va.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Va.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Va.disabled}, .${Va.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Va.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(yi()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),Cne=le(p_,{name:"MuiInput",slot:"Input",overridesResolver:f_})({}),$1=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,inputComponent:l="input",multiline:c=!1,slotProps:u,slots:f={},type:h="text",...p}=r,g=Ene(r),S={root:{ownerState:{disableUnderline:i}}},y=u??s?fr(u??s,S):S,b=f.root??o.Root??Sne,_=f.input??o.Input??Cne;return A.jsx(N1,{slots:{root:b,input:_},slotProps:y,fullWidth:a,inputComponent:l,multiline:c,ref:n,type:h,...p,classes:g})});$1.muiName="Input";function Tne(t){return rt("MuiInputLabel",t)}Ze("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Ine=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=t,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="medium"&&`size${ae(r)}`,s],asterisk:[a&&"asterisk"]},c=it(l,Tne,e);return{...e,...c}},Rne=le(wne,{shouldForwardProp:t=>Ro(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Ph.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(vt(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),L1=w.forwardRef(function(e,n){const r=st({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:o,shrink:s,variant:a,className:l,...c}=r,u=ef();let f=s;typeof f>"u"&&u&&(f=u.filled||u.focused||u.adornedStart);const h=Zd({props:r,muiFormControl:u,states:["size","variant","required","focused"]}),p={...r,disableAnimation:i,formControl:u,shrink:f,size:h.size,variant:h.variant,required:h.required,focused:h.focused},g=Ine(p);return A.jsx(Rne,{"data-shrink":f,ref:n,className:we(g.root,l),...c,ownerState:p,classes:g})}),yE=w.createContext({});function Pne(t){return rt("MuiList",t)}Ze("MuiList",["root","padding","dense","subheader"]);const kne=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return it({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},Pne,e)},Ane=le("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),One=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c,...u}=r,f=w.useMemo(()=>({dense:a}),[a]),h={...r,component:s,dense:a,disablePadding:l},p=kne(h);return A.jsx(yE.Provider,{value:f,children:A.jsxs(Ane,{as:s,className:we(p.root,o),ref:n,ownerState:h,...u,children:[c,i]})})}),vA=Ze("MuiListItemIcon",["root","alignItemsFlexStart"]),_A=Ze("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function ew(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function bA(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function V4(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function Mf(t,e,n,r,i,o){let s=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!V4(a,o)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const Nne=w.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:f="selectedMenu",...h}=e,p=w.useRef(null),g=w.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});xo(()=>{i&&p.current.focus()},[i]),w.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(_,{direction:C})=>{const O=!p.current.style.width;if(_.clientHeight<p.current.clientHeight&&O){const N=`${l4(Jo(_))}px`;p.current.style[C==="rtl"?"paddingLeft":"paddingRight"]=N,p.current.style.width=`calc(100% + ${N})`}return p.current}}),[]);const x=_=>{const C=p.current,O=_.key;if(_.ctrlKey||_.metaKey||_.altKey){u&&u(_);return}const E=Ti(C).activeElement;if(O==="ArrowDown")_.preventDefault(),Mf(C,E,c,l,ew);else if(O==="ArrowUp")_.preventDefault(),Mf(C,E,c,l,bA);else if(O==="Home")_.preventDefault(),Mf(C,null,c,l,ew);else if(O==="End")_.preventDefault(),Mf(C,null,c,l,bA);else if(O.length===1){const I=g.current,R=O.toLowerCase(),v=performance.now();I.keys.length>0&&(v-I.lastTime>500?(I.keys=[],I.repeating=!0,I.previousKeyMatched=!0):I.repeating&&R!==I.keys[0]&&(I.repeating=!1)),I.lastTime=v,I.keys.push(R);const k=E&&!I.repeating&&V4(E,I);I.previousKeyMatched&&(k||Mf(C,E,!1,l,ew,I))?_.preventDefault():I.previousKeyMatched=!1}u&&u(_)},S=hr(p,n);let y=-1;w.Children.forEach(s,(_,C)=>{if(!w.isValidElement(_)){y===C&&(y+=1,y>=s.length&&(y=-1));return}_.props.disabled||(f==="selectedMenu"&&_.props.selected||y===-1)&&(y=C),y===C&&(_.props.disabled||_.props.muiSkipListHighlight||_.type.muiSkipListHighlight)&&(y+=1,y>=s.length&&(y=-1))});const b=w.Children.map(s,(_,C)=>{if(C===y){const O={};return o&&(O.autoFocus=!0),_.props.tabIndex===void 0&&f==="selectedMenu"&&(O.tabIndex=0),w.cloneElement(_,O)}return _});return A.jsx(One,{role:"menu",ref:S,className:a,onKeyDown:x,tabIndex:i?0:-1,...h,children:b})});function Mne(t){return rt("MuiPopover",t)}Ze("MuiPopover",["root","paper"]);function wA(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function xA(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function EA(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function mm(t){return typeof t=="function"?t():t}const Dne=t=>{const{classes:e}=t;return it({root:["root"],paper:["paper"]},Mne,e)},$ne=le(F4,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),U4=le(Jd,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Lne=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:c,className:u,container:f,elevation:h=8,marginThreshold:p=16,open:g,PaperProps:x={},slots:S={},slotProps:y={},transformOrigin:b={vertical:"top",horizontal:"left"},TransitionComponent:_,transitionDuration:C="auto",TransitionProps:O={},disableScrollLock:N=!1,...E}=r,I=w.useRef(),R={...r,anchorOrigin:s,anchorReference:l,elevation:h,marginThreshold:p,transformOrigin:b,TransitionComponent:_,transitionDuration:C,TransitionProps:O},v=Dne(R),k=w.useCallback(()=>{if(l==="anchorPosition")return a;const me=mm(o),Ae=(me&&me.nodeType===1?me:Ti(I.current).body).getBoundingClientRect();return{top:Ae.top+wA(Ae,s.vertical),left:Ae.left+xA(Ae,s.horizontal)}},[o,s.horizontal,s.vertical,a,l]),M=w.useCallback(me=>({vertical:wA(me,b.vertical),horizontal:xA(me,b.horizontal)}),[b.horizontal,b.vertical]),P=w.useCallback(me=>{const Fe={width:me.offsetWidth,height:me.offsetHeight},Ae=M(Fe);if(l==="none")return{top:null,left:null,transformOrigin:EA(Ae)};const Oe=k();let je=Oe.top-Ae.vertical,We=Oe.left-Ae.horizontal;const Nt=je+Fe.height,ye=We+Fe.width,It=Jo(mm(o)),He=It.innerHeight-p,gt=It.innerWidth-p;if(p!==null&&je<p){const at=je-p;je-=at,Ae.vertical+=at}else if(p!==null&&Nt>He){const at=Nt-He;je-=at,Ae.vertical+=at}if(p!==null&&We<p){const at=We-p;We-=at,Ae.horizontal+=at}else if(ye>gt){const at=ye-gt;We-=at,Ae.horizontal+=at}return{top:`${Math.round(je)}px`,left:`${Math.round(We)}px`,transformOrigin:EA(Ae)}},[o,l,k,M,p]),[Y,H]=w.useState(g),W=w.useCallback(()=>{const me=I.current;if(!me)return;const Fe=P(me);Fe.top!==null&&me.style.setProperty("top",Fe.top),Fe.left!==null&&(me.style.left=Fe.left),me.style.transformOrigin=Fe.transformOrigin,H(!0)},[P]);w.useEffect(()=>(N&&window.addEventListener("scroll",W),()=>window.removeEventListener("scroll",W)),[o,N,W]);const ne=()=>{W()},j=()=>{H(!1)};w.useEffect(()=>{g&&W()}),w.useImperativeHandle(i,()=>g?{updatePosition:()=>{W()}}:null,[g,W]),w.useEffect(()=>{if(!g)return;const me=a_(()=>{W()}),Fe=Jo(mm(o));return Fe.addEventListener("resize",me),()=>{me.clear(),Fe.removeEventListener("resize",me)}},[o,g,W]);let F=C;const K={slots:{transition:_,...S},slotProps:{transition:O,paper:x,...y}},[re,ue]=Gt("transition",{elementType:mE,externalForwardedProps:K,ownerState:R,getSlotProps:me=>({...me,onEntering:(Fe,Ae)=>{var Oe;(Oe=me.onEntering)==null||Oe.call(me,Fe,Ae),ne()},onExited:Fe=>{var Ae;(Ae=me.onExited)==null||Ae.call(me,Fe),j()}}),additionalProps:{appear:!0,in:g}});C==="auto"&&!re.muiSupportAuto&&(F=void 0);const ge=f||(o?Ti(mm(o)).body:void 0),[ie,{slots:oe,slotProps:Ve,...Le}]=Gt("root",{ref:n,elementType:$ne,externalForwardedProps:{...K,...E},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:S.backdrop},slotProps:{backdrop:uJ(typeof y.backdrop=="function"?y.backdrop(R):y.backdrop,{invisible:!0})},container:ge,open:g},ownerState:R,className:we(v.root,u)}),[Ne,$e]=Gt("paper",{ref:I,className:v.paper,elementType:U4,externalForwardedProps:K,shouldForwardComponentProp:!0,additionalProps:{elevation:h,style:Y?void 0:{opacity:0}},ownerState:R});return A.jsx(ie,{...Le,...!hE(ie)&&{slots:oe,slotProps:Ve,disableScrollLock:N},children:A.jsx(re,{...ue,timeout:F,children:A.jsx(Ne,{...$e,children:c})})})});function Fne(t){return rt("MuiMenu",t)}Ze("MuiMenu",["root","paper","list"]);const Bne={vertical:"top",horizontal:"right"},Vne={vertical:"top",horizontal:"left"},Une=t=>{const{classes:e}=t;return it({root:["root"],paper:["paper"],list:["list"]},Fne,e)},jne=le(Lne,{shouldForwardProp:t=>Ro(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),zne=le(U4,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Wne=le(Nne,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Hne=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:s,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:c,open:u,PaperProps:f={},PopoverClasses:h,transitionDuration:p="auto",TransitionProps:{onEntering:g,...x}={},variant:S="selectedMenu",slots:y={},slotProps:b={},..._}=r,C=l_(),O={...r,autoFocus:i,disableAutoFocusItem:a,MenuListProps:l,onEntering:g,PaperProps:f,transitionDuration:p,TransitionProps:x,variant:S},N=Une(O),E=i&&!a&&u,I=w.useRef(null),R=(F,K)=>{I.current&&I.current.adjustStyleForScrollbar(F,{direction:C?"rtl":"ltr"}),g&&g(F,K)},v=F=>{F.key==="Tab"&&(F.preventDefault(),c&&c(F,"tabKeyDown"))};let k=-1;w.Children.map(o,(F,K)=>{w.isValidElement(F)&&(F.props.disabled||(S==="selectedMenu"&&F.props.selected||k===-1)&&(k=K))});const M={slots:y,slotProps:{list:l,transition:x,paper:f,...b}},P=Cd({elementType:y.root,externalSlotProps:b.root,ownerState:O,className:[N.root,s]}),[Y,H]=Gt("paper",{className:N.paper,elementType:zne,externalForwardedProps:M,shouldForwardComponentProp:!0,ownerState:O}),[W,ne]=Gt("list",{className:we(N.list,l.className),elementType:Wne,shouldForwardComponentProp:!0,externalForwardedProps:M,getSlotProps:F=>({...F,onKeyDown:K=>{var re;v(K),(re=F.onKeyDown)==null||re.call(F,K)}}),ownerState:O}),j=typeof M.slotProps.transition=="function"?M.slotProps.transition(O):M.slotProps.transition;return A.jsx(jne,{onClose:c,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?Bne:Vne,slots:{root:y.root,paper:Y,backdrop:y.backdrop,...y.transition&&{transition:y.transition}},slotProps:{root:P,paper:H,backdrop:typeof b.backdrop=="function"?b.backdrop(O):b.backdrop,transition:{...j,onEntering:(...F)=>{var K;R(...F),(K=j==null?void 0:j.onEntering)==null||K.call(j,...F)}}},open:u,ref:n,transitionDuration:p,ownerState:O,..._,classes:h,children:A.jsx(W,{actions:I,autoFocus:i&&(k===-1||a),autoFocusItem:E,variant:S,...ne,children:o})})});function Gne(t){return rt("MuiMenuItem",t)}const Df=Ze("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),qne=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Kne=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=t,l=it({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},Gne,s);return{...s,...l}},Yne=le(vl,{shouldForwardProp:t=>Ro(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:qne})(vt(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Df.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Df.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Df.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Df.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Df.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${pA.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${pA.inset}`]:{marginLeft:52},[`& .${_A.root}`]:{marginTop:0,marginBottom:0},[`& .${_A.inset}`]:{paddingLeft:36},[`& .${vA.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${vA.root} svg`]:{fontSize:"1.25rem"}}}]}))),Ua=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:f,className:h,...p}=r,g=w.useContext(yE),x=w.useMemo(()=>({dense:s||g.dense||!1,disableGutters:l}),[g.dense,s,l]),S=w.useRef(null);xo(()=>{i&&S.current&&S.current.focus()},[i]);const y={...r,dense:x.dense,divider:a,disableGutters:l},b=Kne(r),_=hr(S,n);let C;return r.disabled||(C=f!==void 0?f:-1),A.jsx(yE.Provider,{value:x,children:A.jsx(Yne,{ref:_,role:u,tabIndex:C,component:o,focusVisibleClassName:we(b.focusVisible,c),className:we(b.root,h),...p,ownerState:y,classes:b})})});function Xne(t){return rt("MuiNativeSelect",t)}const F1=Ze("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Qne=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${ae(n)}`,o&&"iconOpen",r&&"disabled"]};return it(a,Xne,e)},j4=le("select")(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${F1.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),Jne=le(j4,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ro,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${F1.multiple}`]:e.multiple}]}})({}),z4=le("svg")(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${F1.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),Zne=le(z4,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ae(n.variant)}`],n.open&&e.iconOpen]}})({}),ere=w.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard",...c}=e,u={...e,disabled:i,variant:l,error:o},f=Qne(u);return A.jsxs(w.Fragment,{children:[A.jsx(Jne,{ownerState:u,className:we(f.select,r),disabled:i,ref:a||n,...c}),e.multiple?null:A.jsx(Zne,{as:s,ownerState:u,className:f.icon})]})});var SA;const tre=le("fieldset",{shouldForwardProp:Ro})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),nre=le("legend",{shouldForwardProp:Ro})(vt(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function rre(t){const{children:e,classes:n,className:r,label:i,notched:o,...s}=t,a=i!=null&&i!=="",l={...t,notched:o,withLabel:a};return A.jsx(tre,{"aria-hidden":!0,className:r,ownerState:l,...s,children:A.jsx(nre,{ownerState:l,children:a?A.jsx("span",{children:i}):SA||(SA=A.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const ire=t=>{const{classes:e}=t,r=it({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Lee,e);return{...e,...r}},ore=le(h_,{shouldForwardProp:t=>Ro(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:d_})(vt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${lo.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${lo.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${lo.focused} .${lo.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(yi()).map(([n])=>({props:{color:n},style:{[`&.${lo.focused} .${lo.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${lo.error} .${lo.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${lo.disabled} .${lo.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),sre=le(rre,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(vt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),are=le(p_,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:f_})(vt(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),B1=w.forwardRef(function(e,n){var r;const i=st({props:e,name:"MuiOutlinedInput"}),{components:o={},fullWidth:s=!1,inputComponent:a="input",label:l,multiline:c=!1,notched:u,slots:f={},type:h="text",...p}=i,g=ire(i),x=ef(),S=Zd({props:i,muiFormControl:x,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),y={...i,color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:x,fullWidth:s,hiddenLabel:S.hiddenLabel,multiline:c,size:S.size,type:h},b=f.root??o.Root??ore,_=f.input??o.Input??are;return A.jsx(N1,{slots:{root:b,input:_},renderSuffix:C=>A.jsx(sre,{ownerState:y,className:g.notchedOutline,label:l!=null&&l!==""&&S.required?r||(r=A.jsxs(w.Fragment,{children:[l," ","*"]})):l,notched:typeof u<"u"?u:!!(C.startAdornment||C.filled||C.focused)}),fullWidth:s,inputComponent:a,multiline:c,ref:n,type:h,...p,classes:{...g,notchedOutline:null}})});B1.muiName="Input";function W4(t){return rt("MuiSelect",t)}const $f=Ze("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var CA;const lre=le(j4,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${$f.select}`]:e.select},{[`&.${$f.select}`]:e[n.variant]},{[`&.${$f.error}`]:e.error},{[`&.${$f.multiple}`]:e.multiple}]}})({[`&.${$f.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),cre=le(z4,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ae(n.variant)}`],n.open&&e.iconOpen]}})({}),ure=le("input",{shouldForwardProp:t=>_4(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function TA(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function dre(t){return t==null||typeof t=="string"&&!t.trim()}const fre=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${ae(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return it(a,W4,e)},hre=w.forwardRef(function(e,n){var Gr;const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:s,children:a,className:l,defaultOpen:c,defaultValue:u,disabled:f,displayEmpty:h,error:p=!1,IconComponent:g,inputRef:x,labelId:S,MenuProps:y={},multiple:b,name:_,onBlur:C,onChange:O,onClose:N,onFocus:E,onOpen:I,open:R,readOnly:v,renderValue:k,required:M,SelectDisplayProps:P={},tabIndex:Y,type:H,value:W,variant:ne="standard",...j}=e,[F,K]=Ch({controlled:W,default:u,name:"Select"}),[re,ue]=Ch({controlled:R,default:c,name:"Select"}),ge=w.useRef(null),ie=w.useRef(null),[oe,Ve]=w.useState(null),{current:Le}=w.useRef(R!=null),[Ne,$e]=w.useState(),me=hr(n,x),Fe=w.useCallback(xe=>{ie.current=xe,xe&&Ve(xe)},[]),Ae=oe==null?void 0:oe.parentNode;w.useImperativeHandle(me,()=>({focus:()=>{ie.current.focus()},node:ge.current,value:F}),[F]),w.useEffect(()=>{c&&re&&oe&&!Le&&($e(s?null:Ae.clientWidth),ie.current.focus())},[oe,s]),w.useEffect(()=>{o&&ie.current.focus()},[o]),w.useEffect(()=>{if(!S)return;const xe=Ti(ie.current).getElementById(S);if(xe){const Ie=()=>{getSelection().isCollapsed&&ie.current.focus()};return xe.addEventListener("click",Ie),()=>{xe.removeEventListener("click",Ie)}}},[S]);const Oe=(xe,Ie)=>{xe?I&&I(Ie):N&&N(Ie),Le||($e(s?null:Ae.clientWidth),ue(xe))},je=xe=>{xe.button===0&&(xe.preventDefault(),ie.current.focus(),Oe(!0,xe))},We=xe=>{Oe(!1,xe)},Nt=w.Children.toArray(a),ye=xe=>{const Ie=Nt.find(Yt=>Yt.props.value===xe.target.value);Ie!==void 0&&(K(Ie.props.value),O&&O(xe,Ie))},It=xe=>Ie=>{let Yt;if(Ie.currentTarget.hasAttribute("tabindex")){if(b){Yt=Array.isArray(F)?F.slice():[];const Vn=F.indexOf(xe.props.value);Vn===-1?Yt.push(xe.props.value):Yt.splice(Vn,1)}else Yt=xe.props.value;if(xe.props.onClick&&xe.props.onClick(Ie),F!==Yt&&(K(Yt),O)){const Vn=Ie.nativeEvent||Ie,qr=new Vn.constructor(Vn.type,Vn);Object.defineProperty(qr,"target",{writable:!0,value:{value:Yt,name:_}}),O(qr,xe)}b||Oe(!1,Ie)}},He=xe=>{v||[" ","ArrowUp","ArrowDown","Enter"].includes(xe.key)&&(xe.preventDefault(),Oe(!0,xe))},gt=oe!==null&&re,at=xe=>{!gt&&C&&(Object.defineProperty(xe,"target",{writable:!0,value:{value:F,name:_}}),C(xe))};delete j["aria-invalid"];let ke,nn;const ot=[];let xn=!1;(dv({value:F})||h)&&(k?ke=k(F):xn=!0);const Et=Nt.map(xe=>{if(!w.isValidElement(xe))return null;let Ie;if(b){if(!Array.isArray(F))throw new Error(da(2));Ie=F.some(Yt=>TA(Yt,xe.props.value)),Ie&&xn&&ot.push(xe.props.children)}else Ie=TA(F,xe.props.value),Ie&&xn&&(nn=xe.props.children);return w.cloneElement(xe,{"aria-selected":Ie?"true":"false",onClick:It(xe),onKeyUp:Yt=>{Yt.key===" "&&Yt.preventDefault(),xe.props.onKeyUp&&xe.props.onKeyUp(Yt)},role:"option",selected:Ie,value:void 0,"data-value":xe.props.value})});xn&&(b?ot.length===0?ke=null:ke=ot.reduce((xe,Ie,Yt)=>(xe.push(Ie),Yt<ot.length-1&&xe.push(", "),xe),[]):ke=nn);let _t=Ne;!s&&Le&&oe&&(_t=Ae.clientWidth);let St;typeof Y<"u"?St=Y:St=f?null:0;const Bt=P.id||(_?`mui-component-select-${_}`:void 0),ut={...e,variant:ne,value:F,open:gt,error:p},Xe=fre(ut),En={...y.PaperProps,...(Gr=y.slotProps)==null?void 0:Gr.paper},Bn=Xd();return A.jsxs(w.Fragment,{children:[A.jsx(lre,{as:"div",ref:Fe,tabIndex:St,role:"combobox","aria-controls":gt?Bn:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":gt?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[S,Bt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":M?"true":void 0,"aria-invalid":p?"true":void 0,onKeyDown:He,onMouseDown:f||v?null:je,onBlur:at,onFocus:E,...P,ownerState:ut,className:we(P.className,Xe.select,l),id:Bt,children:dre(ke)?CA||(CA=A.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):ke}),A.jsx(ure,{"aria-invalid":p,value:Array.isArray(F)?F.join(","):F,name:_,ref:ge,"aria-hidden":!0,onChange:ye,tabIndex:-1,disabled:f,className:Xe.nativeInput,autoFocus:o,required:M,...j,ownerState:ut}),A.jsx(cre,{as:g,className:Xe.icon,ownerState:ut}),A.jsx(Hne,{id:`menu-${_||""}`,anchorEl:Ae,open:gt,onClose:We,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...y,slotProps:{...y.slotProps,list:{"aria-labelledby":S,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:Bn,...y.MenuListProps},paper:{...En,style:{minWidth:_t,...En!=null?En.style:null}}},children:Et})]})}),pre=t=>{const{classes:e}=t,r=it({root:["root"]},W4,e);return{...e,...r}},V1={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Ro(t)&&t!=="variant",slot:"Root"},gre=le($1,V1)(""),mre=le(B1,V1)(""),yre=le(M1,V1)(""),g_=w.forwardRef(function(e,n){const r=st({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=D4,id:f,input:h,inputProps:p,label:g,labelId:x,MenuProps:S,multiple:y=!1,native:b=!1,onClose:_,onOpen:C,open:O,renderValue:N,SelectDisplayProps:E,variant:I="outlined",...R}=r,v=b?ere:hre,k=ef(),M=Zd({props:r,muiFormControl:k,states:["variant","error"]}),P=M.variant||I,Y={...r,variant:P,classes:s},H=pre(Y),{root:W,...ne}=H,j=h||{standard:A.jsx(gre,{ownerState:Y}),outlined:A.jsx(mre,{label:g,ownerState:Y}),filled:A.jsx(yre,{ownerState:Y})}[P],F=hr(n,ig(j));return A.jsx(w.Fragment,{children:w.cloneElement(j,{inputComponent:v,inputProps:{children:o,error:M.error,IconComponent:u,variant:P,type:void 0,multiple:y,...b?{id:f}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:x,MenuProps:S,onClose:_,onOpen:C,open:O,renderValue:N,SelectDisplayProps:{id:f,...E}},...p,classes:p?fr(ne,p.classes):ne,...h?h.props.inputProps:{}},...(y&&b||c)&&P==="outlined"?{notched:!0}:{},ref:F,className:we(j.props.className,a,H.root),...!h&&{variant:P},...R})})});g_.muiName="Select";const vre=TQ({createStyledComponent:le("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>st({props:t,name:"MuiStack"})});function _re(t){return rt("MuiTab",t)}const ao=Ze("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),bre=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:i,icon:o,label:s,selected:a,disabled:l}=t,c={root:["root",o&&s&&"labelIcon",`textColor${ae(n)}`,r&&"fullWidth",i&&"wrapped",a&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]};return it(c,_re,e)},wre=le(vl,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${ae(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped,{[`& .${ao.iconWrapper}`]:e.iconWrapper},{[`& .${ao.icon}`]:e.icon}]}})(vt(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="top",style:{[`& > .${ao.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="bottom",style:{[`& > .${ao.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="start",style:{[`& > .${ao.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="end",style:{[`& > .${ao.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${ao.selected}`]:{opacity:1},[`&.${ao.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${ao.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${ao.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${ao.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${ao.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),IA=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:s=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:u,label:f,onChange:h,onClick:p,onFocus:g,selected:x,selectionFollowsFocus:S,textColor:y="inherit",value:b,wrapped:_=!1,...C}=r,O={...r,disabled:o,disableFocusRipple:s,selected:x,icon:!!l,iconPosition:c,label:!!f,fullWidth:a,textColor:y,wrapped:_},N=bre(O),E=l&&f&&w.isValidElement(l)?w.cloneElement(l,{className:we(N.icon,l.props.className)}):l,I=v=>{!x&&h&&h(v,b),p&&p(v)},R=v=>{S&&!x&&h&&h(v,b),g&&g(v)};return A.jsxs(wre,{focusRipple:!s,className:we(N.root,i),ref:n,role:"tab","aria-selected":x,disabled:o,onClick:I,onFocus:R,ownerState:O,tabIndex:x?0:-1,...C,children:[c==="top"||c==="start"?A.jsxs(w.Fragment,{children:[E,f]}):A.jsxs(w.Fragment,{children:[f,E]}),u]})}),xre=Yn(A.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),Ere=Yn(A.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function Sre(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function Cre(t,e,n,r={},i=()=>{}){const{ease:o=Sre,duration:s=300}=r;let a=null;const l=e[t];let c=!1;const u=()=>{c=!0},f=h=>{if(c){i(new Error("Animation cancelled"));return}a===null&&(a=h);const p=Math.min(1,(h-a)/s);if(e[t]=o(p)*(n-l)+l,p>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(f)};return l===n?(i(new Error("Element already at target position")),u):(requestAnimationFrame(f),u)}const Tre={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Ire(t){const{onChange:e,...n}=t,r=w.useRef(),i=w.useRef(null),o=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return xo(()=>{const s=a_(()=>{const l=r.current;o(),l!==r.current&&e(r.current)}),a=Jo(i.current);return a.addEventListener("resize",s),()=>{s.clear(),a.removeEventListener("resize",s)}},[e]),w.useEffect(()=>{o(),e(r.current)},[e]),A.jsx("div",{style:Tre,...n,ref:i})}function Rre(t){return rt("MuiTabScrollButton",t)}const Pre=Ze("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),kre=t=>{const{classes:e,orientation:n,disabled:r}=t;return it({root:["root",n,r&&"disabled"]},Rre,e)},Are=le(vl,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${Pre.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),Ore=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiTabScrollButton"}),{className:i,slots:o={},slotProps:s={},direction:a,orientation:l,disabled:c,...u}=r,f=l_(),h={isRtl:f,...r},p=kre(h),g=o.StartScrollButtonIcon??xre,x=o.EndScrollButtonIcon??Ere,S=Cd({elementType:g,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h}),y=Cd({elementType:x,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h});return A.jsx(Are,{component:"div",className:we(p.root,i),ref:n,role:null,ownerState:h,tabIndex:null,...u,style:{...u.style,...l==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${f?-90:90}deg)`}},children:a==="left"?A.jsx(g,{...S}):A.jsx(x,{...y})})});function Nre(t){return rt("MuiTabs",t)}const tw=Ze("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),RA=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,PA=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,ym=(t,e,n)=>{let r=!1,i=n(t,e);for(;i;){if(i===t.firstChild){if(r)return;r=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=n(t,i);else{i.focus();return}}},Mre=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:s,scrollButtonsHideMobile:a,classes:l}=t;return it({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},Nre,l)},Dre=le("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${tw.scrollButtons}`]:e.scrollButtons},{[`& .${tw.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(vt(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${tw.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),$re=le("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),Lre=le("div",{name:"MuiTabs",slot:"List",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.list,e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),Fre=le("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(vt(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),Bre=le(Ire)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),kA={},Vre=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiTabs"}),i=Oc(),o=l_(),{"aria-label":s,"aria-labelledby":a,action:l,centered:c=!1,children:u,className:f,component:h="div",allowScrollButtonsMobile:p=!1,indicatorColor:g="primary",onChange:x,orientation:S="horizontal",ScrollButtonComponent:y,scrollButtons:b="auto",selectionFollowsFocus:_,slots:C={},slotProps:O={},TabIndicatorProps:N={},TabScrollButtonProps:E={},textColor:I="primary",value:R,variant:v="standard",visibleScrollbar:k=!1,...M}=r,P=v==="scrollable",Y=S==="vertical",H=Y?"scrollTop":"scrollLeft",W=Y?"top":"left",ne=Y?"bottom":"right",j=Y?"clientHeight":"clientWidth",F=Y?"height":"width",K={...r,component:h,allowScrollButtonsMobile:p,indicatorColor:g,orientation:S,vertical:Y,scrollButtons:b,textColor:I,variant:v,visibleScrollbar:k,fixed:!P,hideScrollbar:P&&!k,scrollableX:P&&!Y,scrollableY:P&&Y,centered:c&&!P,scrollButtonsHideMobile:!p},re=Mre(K),ue=Cd({elementType:C.StartScrollButtonIcon,externalSlotProps:O.startScrollButtonIcon,ownerState:K}),ge=Cd({elementType:C.EndScrollButtonIcon,externalSlotProps:O.endScrollButtonIcon,ownerState:K}),[ie,oe]=w.useState(!1),[Ve,Le]=w.useState(kA),[Ne,$e]=w.useState(!1),[me,Fe]=w.useState(!1),[Ae,Oe]=w.useState(!1),[je,We]=w.useState({overflow:"hidden",scrollbarWidth:0}),Nt=new Map,ye=w.useRef(null),It=w.useRef(null),He={slots:C,slotProps:{indicator:N,scrollButton:E,...O}},gt=()=>{const _e=ye.current;let fe;if(_e){const et=_e.getBoundingClientRect();fe={clientWidth:_e.clientWidth,scrollLeft:_e.scrollLeft,scrollTop:_e.scrollTop,scrollWidth:_e.scrollWidth,top:et.top,bottom:et.bottom,left:et.left,right:et.right}}let lt;if(_e&&R!==!1){const et=It.current.children;if(et.length>0){const Mt=et[Nt.get(R)];lt=Mt?Mt.getBoundingClientRect():null}}return{tabsMeta:fe,tabMeta:lt}},at=mi(()=>{const{tabsMeta:_e,tabMeta:fe}=gt();let lt=0,et;Y?(et="top",fe&&_e&&(lt=fe.top-_e.top+_e.scrollTop)):(et=o?"right":"left",fe&&_e&&(lt=(o?-1:1)*(fe[et]-_e[et]+_e.scrollLeft)));const Mt={[et]:lt,[F]:fe?fe[F]:0};if(typeof Ve[et]!="number"||typeof Ve[F]!="number")Le(Mt);else{const yr=Math.abs(Ve[et]-Mt[et]),si=Math.abs(Ve[F]-Mt[F]);(yr>=1||si>=1)&&Le(Mt)}}),ke=(_e,{animation:fe=!0}={})=>{fe?Cre(H,ye.current,_e,{duration:i.transitions.duration.standard}):ye.current[H]=_e},nn=_e=>{let fe=ye.current[H];Y?fe+=_e:fe+=_e*(o?-1:1),ke(fe)},ot=()=>{const _e=ye.current[j];let fe=0;const lt=Array.from(It.current.children);for(let et=0;et<lt.length;et+=1){const Mt=lt[et];if(fe+Mt[j]>_e){et===0&&(fe=_e);break}fe+=Mt[j]}return fe},xn=()=>{nn(-1*ot())},Et=()=>{nn(ot())},[_t,{onChange:St,...Bt}]=Gt("scrollbar",{className:we(re.scrollableX,re.hideScrollbar),elementType:Bre,shouldForwardComponentProp:!0,externalForwardedProps:He,ownerState:K}),ut=w.useCallback(_e=>{St==null||St(_e),We({overflow:null,scrollbarWidth:_e})},[St]),[Xe,En]=Gt("scrollButtons",{className:we(re.scrollButtons,E.className),elementType:Ore,externalForwardedProps:He,ownerState:K,additionalProps:{orientation:S,slots:{StartScrollButtonIcon:C.startScrollButtonIcon||C.StartScrollButtonIcon,EndScrollButtonIcon:C.endScrollButtonIcon||C.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:ue,endScrollButtonIcon:ge}}}),Bn=()=>{const _e={};_e.scrollbarSizeListener=P?A.jsx(_t,{...Bt,onChange:ut}):null;const lt=P&&(b==="auto"&&(Ne||me)||b===!0);return _e.scrollButtonStart=lt?A.jsx(Xe,{direction:o?"right":"left",onClick:xn,disabled:!Ne,...En}):null,_e.scrollButtonEnd=lt?A.jsx(Xe,{direction:o?"left":"right",onClick:Et,disabled:!me,...En}):null,_e},Gr=mi(_e=>{const{tabsMeta:fe,tabMeta:lt}=gt();if(!(!lt||!fe)){if(lt[W]<fe[W]){const et=fe[H]+(lt[W]-fe[W]);ke(et,{animation:_e})}else if(lt[ne]>fe[ne]){const et=fe[H]+(lt[ne]-fe[ne]);ke(et,{animation:_e})}}}),xe=mi(()=>{P&&b!==!1&&Oe(!Ae)});w.useEffect(()=>{const _e=a_(()=>{ye.current&&at()});let fe;const lt=yr=>{yr.forEach(si=>{si.removedNodes.forEach(vr=>{fe==null||fe.unobserve(vr)}),si.addedNodes.forEach(vr=>{fe==null||fe.observe(vr)})}),_e(),xe()},et=Jo(ye.current);et.addEventListener("resize",_e);let Mt;return typeof ResizeObserver<"u"&&(fe=new ResizeObserver(_e),Array.from(It.current.children).forEach(yr=>{fe.observe(yr)})),typeof MutationObserver<"u"&&(Mt=new MutationObserver(lt),Mt.observe(It.current,{childList:!0})),()=>{_e.clear(),et.removeEventListener("resize",_e),Mt==null||Mt.disconnect(),fe==null||fe.disconnect()}},[at,xe]),w.useEffect(()=>{const _e=Array.from(It.current.children),fe=_e.length;if(typeof IntersectionObserver<"u"&&fe>0&&P&&b!==!1){const lt=_e[0],et=_e[fe-1],Mt={root:ye.current,threshold:.99},yr=Sn=>{$e(!Sn[0].isIntersecting)},si=new IntersectionObserver(yr,Mt);si.observe(lt);const vr=Sn=>{Fe(!Sn[0].isIntersecting)},Po=new IntersectionObserver(vr,Mt);return Po.observe(et),()=>{si.disconnect(),Po.disconnect()}}},[P,b,Ae,u==null?void 0:u.length]),w.useEffect(()=>{oe(!0)},[]),w.useEffect(()=>{at()}),w.useEffect(()=>{Gr(kA!==Ve)},[Gr,Ve]),w.useImperativeHandle(l,()=>({updateIndicator:at,updateScrollButtons:xe}),[at,xe]);const[Ie,Yt]=Gt("indicator",{className:we(re.indicator,N.className),elementType:Fre,externalForwardedProps:He,ownerState:K,additionalProps:{style:Ve}}),Vn=A.jsx(Ie,{...Yt});let qr=0;const gr=w.Children.map(u,_e=>{if(!w.isValidElement(_e))return null;const fe=_e.props.value===void 0?qr:_e.props.value;Nt.set(fe,qr);const lt=fe===R;return qr+=1,w.cloneElement(_e,{fullWidth:v==="fullWidth",indicator:lt&&!ie&&Vn,selected:lt,selectionFollowsFocus:_,onChange:x,textColor:I,value:fe,...qr===1&&R===!1&&!_e.props.tabIndex?{tabIndex:0}:{}})}),Ir=_e=>{if(_e.altKey||_e.shiftKey||_e.ctrlKey||_e.metaKey)return;const fe=It.current,lt=Ti(fe).activeElement;if(lt.getAttribute("role")!=="tab")return;let Mt=S==="horizontal"?"ArrowLeft":"ArrowUp",yr=S==="horizontal"?"ArrowRight":"ArrowDown";switch(S==="horizontal"&&o&&(Mt="ArrowRight",yr="ArrowLeft"),_e.key){case Mt:_e.preventDefault(),ym(fe,lt,PA);break;case yr:_e.preventDefault(),ym(fe,lt,RA);break;case"Home":_e.preventDefault(),ym(fe,null,RA);break;case"End":_e.preventDefault(),ym(fe,null,PA);break}},Un=Bn(),[ki,rn]=Gt("root",{ref:n,className:we(re.root,f),elementType:Dre,externalForwardedProps:{...He,...M,component:h},ownerState:K}),[ro,io]=Gt("scroller",{ref:ye,className:re.scroller,elementType:$re,externalForwardedProps:He,ownerState:K,additionalProps:{style:{overflow:je.overflow,[Y?`margin${o?"Left":"Right"}`:"marginBottom"]:k?void 0:-je.scrollbarWidth}}}),[Ai,mr]=Gt("list",{ref:It,className:we(re.list,re.flexContainer),elementType:Lre,externalForwardedProps:He,ownerState:K,getSlotProps:_e=>({..._e,onKeyDown:fe=>{var lt;Ir(fe),(lt=_e.onKeyDown)==null||lt.call(_e,fe)}})});return A.jsxs(ki,{...rn,children:[Un.scrollButtonStart,Un.scrollbarSizeListener,A.jsxs(ro,{...io,children:[A.jsx(Ai,{"aria-label":s,"aria-labelledby":a,"aria-orientation":S==="vertical"?"vertical":null,role:"tablist",...mr,children:gr}),ie&&Vn]}),Un.scrollButtonEnd]})});function Ure(t){return rt("MuiTextField",t)}Ze("MuiTextField",["root"]);const jre={standard:$1,filled:M1,outlined:B1},zre=t=>{const{classes:e}=t;return it({root:["root"]},Ure,e)},Wre=le(D1,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Ad=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:f=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:g,id:x,InputLabelProps:S,inputProps:y,InputProps:b,inputRef:_,label:C,maxRows:O,minRows:N,multiline:E=!1,name:I,onBlur:R,onChange:v,onFocus:k,placeholder:M,required:P=!1,rows:Y,select:H=!1,SelectProps:W,slots:ne={},slotProps:j={},type:F,value:K,variant:re="outlined",...ue}=r,ge={...r,autoFocus:o,color:l,disabled:u,error:f,fullWidth:p,multiline:E,required:P,select:H,variant:re},ie=zre(ge),oe=Xd(x),Ve=g&&oe?`${oe}-helper-text`:void 0,Le=C&&oe?`${oe}-label`:void 0,Ne=jre[re],$e={slots:ne,slotProps:{input:b,inputLabel:S,htmlInput:y,formHelperText:h,select:W,...j}},me={},Fe=$e.slotProps.inputLabel;re==="outlined"&&(Fe&&typeof Fe.shrink<"u"&&(me.notched=Fe.shrink),me.label=C),H&&((!W||!W.native)&&(me.id=void 0),me["aria-describedby"]=void 0);const[Ae,Oe]=Gt("root",{elementType:Wre,shouldForwardComponentProp:!0,externalForwardedProps:{...$e,...ue},ownerState:ge,className:we(ie.root,a),ref:n,additionalProps:{disabled:u,error:f,fullWidth:p,required:P,color:l,variant:re}}),[je,We]=Gt("input",{elementType:Ne,externalForwardedProps:$e,additionalProps:me,ownerState:ge}),[Nt,ye]=Gt("inputLabel",{elementType:L1,externalForwardedProps:$e,ownerState:ge}),[It,He]=Gt("htmlInput",{elementType:"input",externalForwardedProps:$e,ownerState:ge}),[gt,at]=Gt("formHelperText",{elementType:mne,externalForwardedProps:$e,ownerState:ge}),[ke,nn]=Gt("select",{elementType:g_,externalForwardedProps:$e,ownerState:ge}),ot=A.jsx(je,{"aria-describedby":Ve,autoComplete:i,autoFocus:o,defaultValue:c,fullWidth:p,multiline:E,name:I,rows:Y,maxRows:O,minRows:N,type:F,value:K,id:oe,inputRef:_,onBlur:R,onChange:v,onFocus:k,placeholder:M,inputProps:He,slots:{input:ne.htmlInput?It:void 0},...We});return A.jsxs(Ae,{...Oe,children:[C!=null&&C!==""&&A.jsx(Nt,{htmlFor:oe,id:Le,...ye,children:C}),H?A.jsx(ke,{"aria-describedby":Ve,id:oe,labelId:Le,value:K,input:ot,...nn,children:s}):ot,g&&A.jsx(gt,{id:Ve,...at,children:g})]})});function Hre(t){return rt("MuiToggleButton",t)}const tc=Ze("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),H4=w.createContext({}),G4=w.createContext(void 0);function Gre(t,e){return e===void 0||t===void 0?!1:Array.isArray(e)?e.includes(t):t===e}const qre=t=>{const{classes:e,fullWidth:n,selected:r,disabled:i,size:o,color:s}=t,a={root:["root",r&&"selected",i&&"disabled",n&&"fullWidth",`size${ae(o)}`,s]};return it(a,Hre,e)},Kre=le(vl,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`size${ae(n.size)}`]]}})(vt(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${tc.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ot(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${tc.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette.text.primary,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ot(t.palette.text.primary,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette.text.primary,t.palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(yi()).map(([e])=>({props:{color:e},style:{[`&.${tc.selected}`]:{color:(t.vars||t).palette[e].main,backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette[e].main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ot(t.palette[e].main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ot(t.palette[e].main,t.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),js=w.forwardRef(function(e,n){const{value:r,...i}=w.useContext(H4),o=w.useContext(G4),s=Sd({...i,selected:Gre(e.value,r)},e),a=st({props:s,name:"MuiToggleButton"}),{children:l,className:c,color:u="standard",disabled:f=!1,disableFocusRipple:h=!1,fullWidth:p=!1,onChange:g,onClick:x,selected:S,size:y="medium",value:b,..._}=a,C={...a,color:u,disabled:f,disableFocusRipple:h,fullWidth:p,size:y},O=qre(C),N=I=>{x&&(x(I,b),I.defaultPrevented)||g&&g(I,b)},E=o||"";return A.jsx(Kre,{className:we(i.className,O.root,c,E),disabled:f,focusRipple:!h,ref:n,onClick:N,onChange:g,value:b,ownerState:C,"aria-pressed":S,..._,children:l})});function Yre(t){return rt("MuiToggleButtonGroup",t)}const cn=Ze("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),Xre=t=>{const{classes:e,orientation:n,fullWidth:r,disabled:i}=t,o={root:["root",n,r&&"fullWidth"],grouped:["grouped",`grouped${ae(n)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return it(o,Yre,e)},Qre=le("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${cn.grouped}`]:e.grouped},{[`& .${cn.grouped}`]:e[`grouped${ae(n.orientation)}`]},{[`& .${cn.firstButton}`]:e.firstButton},{[`& .${cn.lastButton}`]:e.lastButton},{[`& .${cn.middleButton}`]:e.middleButton},e.root,n.orientation==="vertical"&&e.vertical,n.fullWidth&&e.fullWidth]}})(vt(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${cn.grouped}`]:{[`&.${cn.selected} + .${cn.grouped}.${cn.selected}`]:{borderTop:0,marginTop:0}},[`& .${cn.firstButton},& .${cn.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${cn.lastButton},& .${cn.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${cn.lastButton}.${tc.disabled},& .${cn.middleButton}.${tc.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${cn.grouped}`]:{[`&.${cn.selected} + .${cn.grouped}.${cn.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${cn.firstButton},& .${cn.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${cn.lastButton},& .${cn.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${cn.lastButton}.${tc.disabled},& .${cn.middleButton}.${tc.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),vE=w.forwardRef(function(e,n){const r=st({props:e,name:"MuiToggleButtonGroup"}),{children:i,className:o,color:s="standard",disabled:a=!1,exclusive:l=!1,fullWidth:c=!1,onChange:u,orientation:f="horizontal",size:h="medium",value:p,...g}=r,x={...r,disabled:a,fullWidth:c,orientation:f,size:h},S=Xre(x),y=w.useCallback((E,I)=>{if(!u)return;const R=p&&p.indexOf(I);let v;p&&R>=0?(v=p.slice(),v.splice(R,1)):v=p?p.concat(I):[I],u(E,v)},[u,p]),b=w.useCallback((E,I)=>{u&&u(E,p===I?null:I)},[u,p]),_=w.useMemo(()=>({className:S.grouped,onChange:l?b:y,value:p,size:h,fullWidth:c,color:s,disabled:a}),[S.grouped,l,b,y,p,h,c,s,a]),C=UX(i),O=C.length,N=E=>{const I=E===0,R=E===O-1;return I&&R?"":I?S.firstButton:R?S.lastButton:S.middleButton};return A.jsx(Qre,{role:"group",className:we(S.root,o),ref:n,ownerState:x,...g,children:A.jsx(H4.Provider,{value:_,children:C.map((E,I)=>A.jsx(G4.Provider,{value:N(I),children:E},I))})})}),Jre=i4({themeId:Qp}),Zre=()=>{const[t,e]=w.useState(0),[n,r]=w.useState(""),[i,o]=w.useState(""),[s,a]=w.useState(""),l=Zv(),c=(h,p)=>{e(p),a("")},u=async h=>{h.preventDefault(),a("");try{t===0?await SW(ac,n,i):await EW(ac,n,i),l("/dashboard")}catch(p){a(p.message)}},f=async()=>{const h=new zs;try{await qW(ac,h),l("/dashboard")}catch(p){a(p.message)}};return A.jsx(Cte,{maxWidth:"sm",sx:{backgroundColor:"#121212",minHeight:"100vh",width:"100%",display:"flex",alignItems:"center"},children:A.jsxs(kd,{sx:{mt:8,p:4,backgroundColor:"#424242",borderRadius:2,boxShadow:3,color:"#fff"},children:[A.jsxs(Vre,{value:t,onChange:c,variant:"fullWidth",textColor:"inherit",indicatorColor:"primary",children:[A.jsx(IA,{label:"Login"}),A.jsx(IA,{label:"Signup"})]}),A.jsxs("form",{onSubmit:u,children:[A.jsx(Ad,{margin:"normal",fullWidth:!0,label:"Email",type:"email",value:n,onChange:h=>r(h.target.value),required:!0,variant:"filled",InputLabelProps:{style:{color:"#fff"}},InputProps:{style:{backgroundColor:"#333",color:"#fff"}}}),A.jsx(Ad,{margin:"normal",fullWidth:!0,label:"Password",type:"password",value:i,onChange:h=>o(h.target.value),required:!0,variant:"filled",InputLabelProps:{style:{color:"#fff"}},InputProps:{style:{backgroundColor:"#333",color:"#fff"}}}),s&&A.jsx(Fi,{color:"error",variant:"body2",children:s}),A.jsx(Wn,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:2,backgroundColor:"#1976d2"},children:t===0?"Login":"Signup"})]}),A.jsxs(kd,{textAlign:"center",sx:{mt:2},children:[A.jsx(Fi,{variant:"body1",children:"or"}),A.jsx(Wn,{variant:"outlined",onClick:f,sx:{mt:1,color:"#fff",borderColor:"#fff"},children:"Sign in with Google"})]})]})})},eie=Yn(A.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),tie=Yn(A.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),nie=Yn(A.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"})),rie={blank:[],brainstorm:[{text:"Idea 1",x:150,y:150},{text:"Idea 2",x:300,y:150},{text:"Idea 3",x:150,y:300}],project:[{text:"Goal",x:150,y:100},{text:"Task 1",x:100,y:200},{text:"Task 2",x:200,y:200}]},iie=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(null),[i,o]=w.useState(!1),[s,a]=w.useState(!1),[l,c]=w.useState(!1),[u,f]=w.useState(""),[h,p]=w.useState("blank"),[g,x]=w.useState(!1),[S,y]=w.useState(null),[b,_]=w.useState(""),C=Zv(),O=w.useRef(null),N=Oc(),E=Jre(N.breakpoints.down("sm"));w.useEffect(()=>{const F=ac.onAuthStateChanged(K=>{if(!K){C("/");return}const re=Fr(ht(be,"mindMaps"),Di("userId","==",K.uid)),ue=Fr(ht(be,"mindMaps"),Di("collaborators","array-contains",K.email)),ge=xh(re,oe=>{const Ve=oe.docs.map(Le=>({id:Le.id,...Le.data()}));e(Le=>[...Ve,...Le.filter($e=>$e.userId!==K.uid)])}),ie=xh(ue,oe=>{const Ve=oe.docs.map(Le=>({id:Le.id,...Le.data()}));e(Le=>[...Le,...Ve].filter((me,Fe,Ae)=>Fe===Ae.findIndex(Oe=>Oe.id===me.id)))});return()=>{ge(),ie()}});return()=>F()},[C]);const I=()=>{c(!0)},R=async()=>{const F=ac.currentUser;if(F)try{const K=await Br(ht(be,"mindMaps"),{title:u||"Untitled Mind Map",userId:F.uid,createdAt:ev()}),re=rie[h];for(const ue of re)await Br(ht(be,"mindMaps",K.id,"nodes"),ue);c(!1),f(""),p("blank"),C(`/editor/${K.id}`)}catch(K){console.error("Error creating mind map:",K)}},v=F=>{r(F),o(!0)},k=()=>{o(!1),a(!0)},M=async()=>{try{const F=await $i(ht(be,"mindMaps",n,"nodes")),K=di(be);F.forEach(ge=>{K.delete(ge.ref)}),await K.commit();const re=await $i(ht(be,"mindMaps",n,"links")),ue=di(be);re.forEach(ge=>{ue.delete(ge.ref)}),await ue.commit(),await iF(sn(be,"mindMaps",n)),a(!1),r(null)}catch(F){console.error("Error deleting mind map:",F)}},P=()=>{o(!1),a(!1),r(null)},Y=F=>{y(F),x(!0)},H=async()=>{if(!(!b.trim()||!S))try{const F=sn(be,"mindMaps",S);await hu(F,{collaborators:qG(b.trim())}),_(""),x(!1),y(null)}catch(F){console.error("Error sharing mind map:",F)}},W=F=>{C(`/editor/${F}`)},ne=()=>{O.current&&O.current.click()},j=async F=>{const K=F.target.files[0];if(K)try{const re=await K.text(),ue=JSON.parse(re);if(!ue.nodes||!ue.links)throw new Error("Invalid file format");const ge=ac.currentUser,ie=await Br(ht(be,"mindMaps"),{title:K.name,userId:ge.uid,createdAt:ev()}),oe={},Ve=di(be);ue.nodes.forEach(Ne=>{const $e=Ne.id,me=sn(ht(be,"mindMaps",ie.id,"nodes")),Fe={...Ne,id:me.id};Ve.set(me,Fe),oe[$e]=me.id}),await Ve.commit();const Le=di(be);ue.links.forEach(Ne=>{const $e=oe[Ne.source],me=oe[Ne.target];if(!$e||!me){console.error("Skipping link: missing mapping for source or target");return}const{id:Fe,...Ae}=Ne,Oe=sn(ht(be,"mindMaps",ie.id,"links"));Le.set(Oe,{...Ae,source:$e,target:me})}),await Le.commit(),C(`/editor/${ie.id}`)}catch(re){console.error("Error importing mind map:",re)}};return A.jsxs(kd,{sx:{p:E?1:3,background:"radial-gradient(circle at center, #1D2022 0%, #0f1011 100%)",minHeight:"100vh",color:"#fff",border:E?"none":"5px solid #262626",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[A.jsxs(kd,{sx:{mb:E?1:3,display:"flex",flexDirection:E?"column":"row",alignItems:E?"stretch":"center",width:E?"100%":"auto"},children:[A.jsx(Wn,{variant:"contained",startIcon:A.jsx(tie,{}),onClick:I,sx:{mr:E?0:2,mb:E?1:0,width:E?"100%":"auto",background:"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)"},children:"New Mind Map"}),A.jsx(Wn,{variant:"contained",onClick:ne,sx:{mr:E?0:1,mb:E?1:0,width:E?"100%":"auto",background:"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)"},children:"Import Mind Map"})]}),A.jsx(yA,{container:!0,spacing:E?1:2,sx:{mt:E?1:2,mb:E?1:3,width:"100%"},justifyContent:E?"center":"flex-start",children:t.map(F=>A.jsx(yA,{item:!0,xs:12,sm:6,md:4,lg:3,sx:{display:"flex",justifyContent:E?"center":"flex-start"},children:A.jsxs(mte,{sx:{background:"linear-gradient(135deg, #23272f 60%, #23272f 100%)",color:"#fff",p:E?1:2,borderRadius:"14px",border:"none",boxShadow:E?"0 1px 4px 1px rgba(0,0,0,0.3)":"0 2px 8px 2px rgba(0,0,0,0.5)",transition:"transform 0.3s, box-shadow 0.2s, border 0.3s",height:E?"auto":"120px",width:E?"100%":"260px",maxWidth:"100%",minWidth:E?"0":"200px",display:"flex",flexDirection:"column",justifyContent:"space-between","&:hover":{border:"2px solid #007bff",transform:E?"none":"translateY(-4px) scale(1.02)",boxShadow:E?"0 2px 8px 2px rgba(0,0,0,0.4)":"0 4px 16px 4px rgba(0,0,0,0.7)"}},children:[A.jsx(Ste,{onClick:()=>W(F.id),sx:{cursor:"pointer",p:E?1:2,pb:"8px !important",textAlign:E?"center":"left",display:"flex",alignItems:"flex-start",minHeight:E?"auto":"50px"},children:A.jsx(Fi,{variant:"h6",sx:{fontWeight:900,fontSize:E?"1.1rem":"1.2rem",wordBreak:"break-word",letterSpacing:"-0.5px",lineHeight:1.2,textShadow:"0 2px 8px #000a"},children:F.title})}),A.jsxs(bte,{sx:{border:"0px solid white",color:"#fff",borderRadius:"10%",justifyContent:E?"center":"flex-end",p:E?.5:1,pt:0,gap:E?1:2},children:[A.jsx(cv,{onClick:()=>Y(F.id),color:"primary",size:E?"small":"medium",sx:{mx:.5},children:A.jsx(nie,{fontSize:E?"small":"medium"})}),A.jsx(cv,{onClick:()=>v(F.id),color:"error",size:E?"small":"medium",sx:{mx:.5},children:A.jsx(eie,{fontSize:E?"small":"medium"})})]})]})},F.id))}),A.jsx("input",{type:"file",accept:"application/json",ref:O,style:{display:"none"},onChange:j}),A.jsxs(fm,{open:l,onClose:()=>c(!1),fullWidth:!0,maxWidth:E?"xs":"sm",PaperProps:{sx:{backgroundColor:"#424242",color:"#fff",borderRadius:E?2:3,p:E?1:2}},children:[A.jsx(gm,{sx:{fontSize:E?"1.1rem":"1.3rem"},children:"Create New Mind Map"}),A.jsxs(pm,{children:[A.jsx(Ad,{autoFocus:!0,margin:"dense",label:"Mind Map Name",type:"text",fullWidth:!0,value:u,onChange:F=>f(F.target.value),variant:"filled",InputLabelProps:{style:{color:"#fff"}},sx:{backgroundColor:"#555",fontSize:E?"1rem":"1.1rem"}}),A.jsxs(D1,{fullWidth:!0,margin:"dense",variant:"filled",children:[A.jsx(L1,{id:"template-select-label",sx:{color:"#fff"},children:"Template"}),A.jsxs(g_,{labelId:"template-select-label",value:h,label:"Template",onChange:F=>p(F.target.value),sx:{backgroundColor:"#555",color:"#fff"},children:[A.jsx(Ua,{value:"blank",children:"Blank"}),A.jsx(Ua,{value:"brainstorm",children:"Brainstorm"}),A.jsx(Ua,{value:"project",children:"Project"})]})]})]}),A.jsxs(hm,{sx:{flexDirection:E?"column":"row",gap:E?1:0},children:[A.jsx(Wn,{onClick:()=>c(!1),sx:{color:"#fff",width:E?"100%":"auto"},children:"Cancel"}),A.jsx(Wn,{onClick:R,variant:"contained",sx:{width:E?"100%":"auto"},children:"Create"})]})]}),A.jsxs(fm,{open:i,onClose:P,fullWidth:!0,maxWidth:E?"xs":"sm",PaperProps:{sx:{backgroundColor:"#424242",color:"#fff",borderRadius:E?2:3,p:E?1:2}},children:[A.jsx(gm,{sx:{fontSize:E?"1.1rem":"1.3rem"},children:"Confirm Delete"}),A.jsx(pm,{children:A.jsx(Fi,{sx:{fontSize:E?"1rem":"1.1rem"},children:"Are you sure you want to delete this mind map?"})}),A.jsxs(hm,{sx:{flexDirection:E?"column":"row",gap:E?1:0},children:[A.jsx(Wn,{onClick:P,sx:{color:"#fff",width:E?"100%":"auto"},children:"Cancel"}),A.jsx(Wn,{onClick:k,color:"primary",sx:{width:E?"100%":"auto"},children:"Yes"})]})]}),A.jsxs(fm,{open:s,onClose:P,fullWidth:!0,maxWidth:E?"xs":"sm",PaperProps:{sx:{backgroundColor:"#424242",color:"#fff",borderRadius:E?2:3,p:E?1:2}},children:[A.jsx(gm,{sx:{fontSize:E?"1.1rem":"1.3rem"},children:"Confirm Delete Again"}),A.jsx(pm,{children:A.jsx(Fi,{sx:{fontSize:E?"1rem":"1.1rem"},children:"This action cannot be undone. Are you really sure?"})}),A.jsxs(hm,{sx:{flexDirection:E?"column":"row",gap:E?1:0},children:[A.jsx(Wn,{onClick:P,sx:{color:"#fff",width:E?"100%":"auto"},children:"Cancel"}),A.jsx(Wn,{onClick:M,color:"error",sx:{width:E?"100%":"auto"},children:"Delete"})]})]}),A.jsxs(fm,{open:g,onClose:()=>x(!1),fullWidth:!0,maxWidth:E?"xs":"sm",PaperProps:{sx:{backgroundColor:"#424242",color:"#fff",borderRadius:E?2:3,p:E?1:2}},children:[A.jsx(gm,{sx:{fontSize:E?"1.1rem":"1.3rem"},children:"Share Mind Map"}),A.jsx(pm,{children:A.jsx(Ad,{label:"Collaborator Email",fullWidth:!0,value:b,onChange:F=>_(F.target.value),variant:"filled",InputLabelProps:{style:{color:"#fff"}},sx:{backgroundColor:"#555",fontSize:E?"1rem":"1.1rem"}})}),A.jsxs(hm,{sx:{flexDirection:E?"column":"row",gap:E?1:0},children:[A.jsx(Wn,{onClick:()=>x(!1),sx:{color:"#fff",width:E?"100%":"auto"},children:"Cancel"}),A.jsx(Wn,{onClick:H,variant:"contained",sx:{width:E?"100%":"auto"},children:"Share"})]})]})]})};var q4="Expected a function",AA=NaN,oie="[object Symbol]",sie=/^\s+|\s+$/g,aie=/^[-+]0x[0-9a-f]+$/i,lie=/^0b[01]+$/i,cie=/^0o[0-7]+$/i,uie=parseInt,die=typeof ja=="object"&&ja&&ja.Object===Object&&ja,fie=typeof self=="object"&&self&&self.Object===Object&&self,hie=die||fie||Function("return this")(),pie=Object.prototype,gie=pie.toString,mie=Math.max,yie=Math.min,nw=function(){return hie.Date.now()};function vie(t,e,n){var r,i,o,s,a,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(q4);e=OA(e)||0,fv(n)&&(u=!!n.leading,f="maxWait"in n,o=f?mie(OA(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(N){var E=r,I=i;return r=i=void 0,c=N,s=t.apply(I,E),s}function g(N){return c=N,a=setTimeout(y,e),u?p(N):s}function x(N){var E=N-l,I=N-c,R=e-E;return f?yie(R,o-I):R}function S(N){var E=N-l,I=N-c;return l===void 0||E>=e||E<0||f&&I>=o}function y(){var N=nw();if(S(N))return b(N);a=setTimeout(y,x(N))}function b(N){return a=void 0,h&&r?p(N):(r=i=void 0,s)}function _(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function C(){return a===void 0?s:b(nw())}function O(){var N=nw(),E=S(N);if(r=arguments,i=this,l=N,E){if(a===void 0)return g(l);if(f)return a=setTimeout(y,e),p(l)}return a===void 0&&(a=setTimeout(y,e)),s}return O.cancel=_,O.flush=C,O}function _ie(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(q4);return fv(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),vie(t,e,{leading:r,maxWait:e,trailing:i})}function fv(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function bie(t){return!!t&&typeof t=="object"}function wie(t){return typeof t=="symbol"||bie(t)&&gie.call(t)==oie}function OA(t){if(typeof t=="number")return t;if(wie(t))return AA;if(fv(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=fv(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(sie,"");var n=lie.test(t);return n||cie.test(t)?uie(t.slice(2),n?2:8):aie.test(t)?AA:+t}var xie=_ie;const vm=Tp(xie);var NA={};const MA="@firebase/database",DA="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K4="";function Eie(t){K4=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sie{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Jn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ep(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cie{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ga(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Sie(e)}}catch{}return new Cie},nc=Y4("localStorage"),Tie=Y4("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=new i0("@firebase/database"),Iie=function(){let t=1;return function(){return t++}}(),X4=function(t){const e=p9(t),n=new u9;n.update(e);const r=n.digest();return qS.encodeByteArray(r)},ag=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ag.apply(null,r):typeof r=="object"?e+=Jn(r):e+=r,e+=" "}return e};let kh=null,$A=!0;const Rie=function(t,e){de(!0,"Can't turn on custom loggers persistently."),od.logLevel=wt.VERBOSE,kh=od.log.bind(od)},zr=function(...t){if($A===!0&&($A=!1,kh===null&&Tie.get("logging_enabled")===!0&&Rie()),kh){const e=ag.apply(null,t);kh(e)}},lg=function(t){return function(...e){zr(t,...e)}},_E=function(...t){const e="FIREBASE INTERNAL ERROR: "+ag(...t);od.error(e)},ha=function(...t){const e=`FIREBASE FATAL ERROR: ${ag(...t)}`;throw od.error(e),new Error(e)},Si=function(...t){const e="FIREBASE WARNING: "+ag(...t);od.warn(e)},Pie=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Si("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Q4=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},kie=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Od="[MIN_NAME]",xc="[MAX_NAME]",tf=function(t,e){if(t===e)return 0;if(t===Od||e===xc)return-1;if(e===Od||t===xc)return 1;{const n=LA(t),r=LA(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Aie=function(t,e){return t===e?0:t<e?-1:1},Lf=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Jn(e))},U1=function(t){if(typeof t!="object"||t===null)return Jn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Jn(e[r]),n+=":",n+=U1(t[e[r]]);return n+="}",n},J4=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ii(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Z4=function(t){de(!Q4(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();const u=c.join("");let f="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},Oie=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Nie=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Mie(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Die=new RegExp("^-?(0*)\\d{1,10}$"),$ie=-2147483648,Lie=2147483647,LA=function(t){if(Die.test(t)){const e=Number(t);if(e>=$ie&&e<=Lie)return e}return null},nf=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Si("Exception was thrown by user callback.",n),e},Math.floor(0))}},Fie=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ah=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bie{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Zr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Si(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vie{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(zr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Si(e)}}class oy{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}oy.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="5",e5="v",t5="s",n5="r",r5="f",i5=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,o5="ls",s5="p",bE="ac",a5="websocket",l5="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=nc.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&nc.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Uie(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function u5(t,e,n){de(typeof e=="string","typeof type must == string"),de(typeof n=="object","typeof params must == object");let r;if(e===a5)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===l5)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Uie(t)&&(n.ns=t.namespace);const i=[];return Ii(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jie{constructor(){this.counters_={}}incrementCounter(e,n=1){ga(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return H6(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw={},iw={};function z1(t){const e=t.toString();return rw[e]||(rw[e]=new jie),rw[e]}function zie(t,e){const n=t.toString();return iw[n]||(iw[n]=e()),iw[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wie{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&nf(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="start",Hie="close",Gie="pLPCommand",qie="pRTLPCB",d5="id",f5="pw",h5="ser",Kie="cb",Yie="seg",Xie="ts",Qie="d",Jie="dframe",p5=1870,g5=30,Zie=p5-g5,eoe=25e3,toe=3e4;class Wu{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=lg(e),this.stats_=z1(n),this.urlFn=l=>(this.appCheckToken&&(l[bE]=this.appCheckToken),u5(n,l5,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Wie(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(toe)),kie(()=>{if(this.isClosed_)return;this.scriptTagHolder=new W1((...o)=>{const[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===FA)this.id=a,this.password=l;else if(s===Hie)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[FA]="t",r[h5]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Kie]=this.scriptTagHolder.uniqueCallbackIdentifier),r[e5]=j1,this.transportSessionId&&(r[t5]=this.transportSessionId),this.lastSessionId&&(r[o5]=this.lastSessionId),this.applicationId&&(r[s5]=this.applicationId),this.appCheckToken&&(r[bE]=this.appCheckToken),typeof location<"u"&&location.hostname&&i5.test(location.hostname)&&(r[n5]=r5);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wu.forceAllow_=!0}static forceDisallow(){Wu.forceDisallow_=!0}static isAvailable(){return Wu.forceAllow_?!0:!Wu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Oie()&&!Nie()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Jn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=OD(n),i=J4(r,Zie);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Jie]="t",r[d5]=e,r[f5]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Jn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class W1{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Iie(),window[Gie+this.uniqueCallbackIdentifier]=e,window[qie+this.uniqueCallbackIdentifier]=n,this.myIFrame=W1.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){zr("frame writing exception"),a.stack&&zr(a.stack),zr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||zr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[d5]=this.myID,e[f5]=this.myPW,e[h5]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+g5+r.length<=p5;){const s=this.pendingSegs.shift();r=r+"&"+Yie+i+"="+s.seg+"&"+Xie+i+"="+s.ts+"&"+Qie+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(eoe)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{zr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const noe=16384,roe=45e3;let hv=null;typeof MozWebSocket<"u"?hv=MozWebSocket:typeof WebSocket<"u"&&(hv=WebSocket);class Vo{constructor(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=lg(this.connId),this.stats_=z1(n),this.connURL=Vo.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[e5]=j1,typeof location<"u"&&location.hostname&&i5.test(location.hostname)&&(s[n5]=r5),n&&(s[t5]=n),r&&(s[o5]=r),i&&(s[bE]=i),o&&(s[s5]=o),u5(e,a5,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,nc.set("previous_websocket_failure",!0);try{let r;t9(),this.mySock=new hv(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Vo.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&hv!==null&&!Vo.forceDisallow_}static previouslyFailed(){return nc.isInMemoryStorage||nc.get("previous_websocket_failure")===!0}markConnectionHealthy(){nc.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ep(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(de(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Jn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=J4(n,noe);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(roe))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Vo.responsesRequiredToBeHealthy=2;Vo.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{static get ALL_TRANSPORTS(){return[Wu,Vo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Vo&&Vo.isAvailable();let r=n&&!Vo.previouslyFailed();if(e.webSocketOnly&&(n||Si("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Vo];else{const i=this.transports_=[];for(const o of mp.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);mp.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}mp.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ioe=6e4,ooe=5e3,soe=10*1024,aoe=100*1024,ow="t",BA="d",loe="s",VA="r",coe="e",UA="o",jA="a",zA="n",WA="p",uoe="h";class doe{constructor(e,n,r,i,o,s,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=lg("c:"+this.id+":"),this.transportManager_=new mp(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ah(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>aoe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>soe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ow in e){const n=e[ow];n===jA?this.upgradeIfSecondaryHealthy_():n===VA?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===UA&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Lf("t",e),r=Lf("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:WA,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:jA,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:zA,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Lf("t",e),r=Lf("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Lf(ow,e);if(BA in e){const r=e[BA];if(n===uoe){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===zA){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===loe?this.onConnectionShutdown_(r):n===VA?this.onReset_(r):n===coe?_E("Server Error: "+r):n===UA?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):_E("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),j1!==r&&Si("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ah(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ioe))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ah(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(ooe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:WA,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(nc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e){this.allowedEvents_=e,this.listeners_={},de(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){de(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv extends y5{static getInstance(){return new pv}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!XS()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return de(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=32,GA=768;class en{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ft(){return new en("")}function mt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function _l(t){return t.pieces_.length-t.pieceNum_}function an(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new en(t.pieces_,e)}function v5(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function foe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function _5(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function b5(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new en(e,0)}function Zn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof en)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new en(n,0)}function xt(t){return t.pieceNum_>=t.pieces_.length}function ei(t,e){const n=mt(t),r=mt(e);if(n===null)return e;if(n===r)return ei(an(t),an(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function H1(t,e){if(_l(t)!==_l(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function jo(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(_l(t)>_l(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class hoe{constructor(e,n){this.errorPrefix_=n,this.parts_=_5(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=r0(this.parts_[r]);w5(this)}}function poe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=r0(e),w5(t)}function goe(t){const e=t.parts_.pop();t.byteLength_-=r0(e),t.parts_.length>0&&(t.byteLength_-=1)}function w5(t){if(t.byteLength_>GA)throw new Error(t.errorPrefix_+"has a key path longer than "+GA+" bytes ("+t.byteLength_+").");if(t.parts_.length>HA)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+HA+") or object contains a cycle "+ql(t))}function ql(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1 extends y5{static getInstance(){return new G1}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return de(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff=1e3,moe=60*5*1e3,qA=30*1e3,yoe=1.3,voe=3e4,_oe="server_kill",KA=3;class Js extends m5{constructor(e,n,r,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Js.nextPersistentConnectionId_++,this.log_=lg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ff,this.maxReconnectDelay_=moe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");G1.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&pv.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(Jn(o)),de(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new n0,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),de(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),de(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,c=a.s;Js.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ga(e,"w")){const r=pd(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Si(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||c9(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=qA)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=l9(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),de(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Jn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):_E("Unrecognized action received from server: "+Jn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){de(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ff,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ff,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>voe&&(this.reconnectDelay_=Ff),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*yoe)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Js.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},c=function(f){de(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?zr("getToken() completed but was canceled"):(zr("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,a=new doe(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Si(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(_oe)},o))}catch(f){this.log_("Failed to get token: "+f),s||(this.repoInfo_.nodeAdmin&&Si(f),l())}}}interrupt(e){zr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){zr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],_x(this.interruptReasons_)&&(this.reconnectDelay_=Ff,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>U1(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new en(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){zr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=KA&&(this.reconnectDelay_=qA,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){zr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=KA&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+K4.replace(/\./g,"-")]=1,XS()?e["framework.cordova"]=1:LD()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=pv.getInstance().currentlyOnline();return _x(this.interruptReasons_)&&e}}Js.nextPersistentConnectionId_=0;Js.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new yt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new yt(Od,e),i=new yt(Od,n);return this.compare(r,i)!==0}minPost(){return yt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m;class x5 extends m_{static get __EMPTY_NODE(){return _m}static set __EMPTY_NODE(e){_m=e}compare(e,n){return tf(e.name,n.name)}isDefinedOn(e){throw Vd("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return yt.MIN}maxPost(){return new yt(xc,_m)}makePost(e,n){return de(typeof e=="string","KeyIndex indexValue must always be a string."),new yt(e,_m)}toString(){return".key"}}const sd=new x5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class cr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??cr.RED,this.left=i??vi.EMPTY_NODE,this.right=o??vi.EMPTY_NODE}copy(e,n,r,i,o){return new cr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return vi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return vi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,cr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,cr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}cr.RED=!0;cr.BLACK=!1;class boe{copy(e,n,r,i,o){return this}insert(e,n,r){return new cr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class vi{constructor(e,n=vi.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new vi(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,cr.BLACK,null,null))}remove(e){return new vi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,cr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new bm(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new bm(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new bm(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new bm(this.root_,null,this.comparator_,!0,e)}}vi.EMPTY_NODE=new boe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function woe(t,e){return tf(t.name,e.name)}function q1(t,e){return tf(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wE;function xoe(t){wE=t}const E5=function(t){return typeof t=="number"?"number:"+Z4(t):"string:"+t},S5=function(t){if(t.isLeafNode()){const e=t.val();de(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ga(e,".sv"),"Priority must be a string or number.")}else de(t===wE||t.isEmpty(),"priority of unexpected type.");de(t===wE||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YA;class sr{static set __childrenNodeConstructor(e){YA=e}static get __childrenNodeConstructor(){return YA}constructor(e,n=sr.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,de(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),S5(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new sr(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:sr.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xt(e)?this:mt(e)===".priority"?this.priorityNode_:sr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:sr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=mt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(de(r!==".priority"||_l(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,sr.__childrenNodeConstructor.EMPTY_NODE.updateChild(an(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+E5(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Z4(this.value_):e+=this.value_,this.lazyHash_=X4(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===sr.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof sr.__childrenNodeConstructor?-1:(de(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=sr.VALUE_TYPE_ORDER.indexOf(n),o=sr.VALUE_TYPE_ORDER.indexOf(r);return de(i>=0,"Unknown leaf type: "+n),de(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}sr.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C5,T5;function Eoe(t){C5=t}function Soe(t){T5=t}class Coe extends m_{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?tf(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return yt.MIN}maxPost(){return new yt(xc,new sr("[PRIORITY-POST]",T5))}makePost(e,n){const r=C5(e);return new yt(n,new sr("[PRIORITY-POST]",r))}toString(){return".priority"}}const On=new Coe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Toe=Math.log(2);class Ioe{constructor(e){const n=o=>parseInt(Math.log(o)/Toe,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const gv=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let f,h;if(u===0)return null;if(u===1)return f=t[l],h=n?n(f):f,new cr(h,f.node,cr.BLACK,null,null);{const p=parseInt(u/2,10)+l,g=i(l,p),x=i(p+1,c);return f=t[p],h=n?n(f):f,new cr(h,f.node,cr.BLACK,g,x)}},o=function(l){let c=null,u=null,f=t.length;const h=function(g,x){const S=f-g,y=f;f-=g;const b=i(S+1,y),_=t[S],C=n?n(_):_;p(new cr(C,_.node,x,null,b))},p=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const x=l.nextBitIsOne(),S=Math.pow(2,l.count-(g+1));x?h(S,cr.BLACK):(h(S,cr.BLACK),h(S,cr.RED))}return u},s=new Ioe(t.length),a=o(s);return new vi(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sw;const lu={};class Ks{static get Default(){return de(lu&&On,"ChildrenNode.ts has not been loaded"),sw=sw||new Ks({".priority":lu},{".priority":On}),sw}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=pd(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof vi?n:null}hasIndex(e){return ga(this.indexSet_,e.toString())}addIndex(e,n){de(e!==sd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(yt.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=gv(r,e.getCompare()):a=lu;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Ks(u,c)}addToIndexes(e,n){const r=Dy(this.indexes_,(i,o)=>{const s=pd(this.indexSet_,o);if(de(s,"Missing index implementation for "+o),i===lu)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(yt.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),gv(a,s.getCompare())}else return lu;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new yt(e.name,a))),l.insert(e,e.node)}});return new Ks(r,this.indexSet_)}removeFromIndexes(e,n){const r=Dy(this.indexes_,i=>{if(i===lu)return i;{const o=n.get(e.name);return o?i.remove(new yt(e.name,o)):i}});return new Ks(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bf;class qe{static get EMPTY_NODE(){return Bf||(Bf=new qe(new vi(q1),null,Ks.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&S5(this.priorityNode_),this.children_.isEmpty()&&de(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bf}updatePriority(e){return this.children_.isEmpty()?this:new qe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Bf:n}}getChild(e){const n=mt(e);return n===null?this:this.getImmediateChild(n).getChild(an(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(de(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new yt(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?Bf:this.priorityNode_;return new qe(i,s,o)}}updateChild(e,n){const r=mt(e);if(r===null)return n;{de(mt(e)!==".priority"||_l(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(an(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(On,(s,a)=>{n[s]=a.val(e),r++,o&&qe.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+E5(this.getPriority().val())+":"),this.forEachChild(On,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":X4(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new yt(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new yt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new yt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,yt.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,yt.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===cg?-1:0}withIndex(e){if(e===sd||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new qe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===sd||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(On),i=n.getIterator(On);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===sd?null:this.indexMap_.get(e.toString())}}qe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Roe extends qe{constructor(){super(new vi(q1),qe.EMPTY_NODE,Ks.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return qe.EMPTY_NODE}isEmpty(){return!1}}const cg=new Roe;Object.defineProperties(yt,{MIN:{value:new yt(Od,qe.EMPTY_NODE)},MAX:{value:new yt(xc,cg)}});x5.__EMPTY_NODE=qe.EMPTY_NODE;sr.__childrenNodeConstructor=qe;xoe(cg);Soe(cg);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Poe=!0;function ur(t,e=null){if(t===null)return qe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),de(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new sr(n,ur(e))}if(!(t instanceof Array)&&Poe){const n=[];let r=!1;if(Ii(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=ur(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new yt(s,l)))}}),n.length===0)return qe.EMPTY_NODE;const o=gv(n,woe,s=>s.name,q1);if(r){const s=gv(n,On.getCompare());return new qe(o,ur(e),new Ks({".priority":s},{".priority":On}))}else return new qe(o,ur(e),Ks.Default)}else{let n=qe.EMPTY_NODE;return Ii(t,(r,i)=>{if(ga(t,r)&&r.substring(0,1)!=="."){const o=ur(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(ur(e))}}Eoe(ur);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class koe extends m_{constructor(e){super(),this.indexPath_=e,de(!xt(e)&&mt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?tf(e.name,n.name):o}makePost(e,n){const r=ur(e),i=qe.EMPTY_NODE.updateChild(this.indexPath_,r);return new yt(n,i)}maxPost(){const e=qe.EMPTY_NODE.updateChild(this.indexPath_,cg);return new yt(xc,e)}toString(){return _5(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aoe extends m_{compare(e,n){const r=e.node.compareTo(n.node);return r===0?tf(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return yt.MIN}maxPost(){return yt.MAX}makePost(e,n){const r=ur(e);return new yt(n,r)}toString(){return".value"}}const Ooe=new Aoe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(t){return{type:"value",snapshotNode:t}}function Nd(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function yp(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function vp(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Noe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){de(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(yp(n,a)):de(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Nd(n,r)):s.trackChildChange(vp(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(On,(i,o)=>{n.hasChild(i)||r.trackChildChange(yp(i,o))}),n.isLeafNode()||n.forEachChild(On,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(vp(i,o,s))}else r.trackChildChange(Nd(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?qe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e){this.indexedFilter_=new K1(e.getIndex()),this.index_=e.getIndex(),this.startPost_=_p.getStartPost_(e),this.endPost_=_p.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new yt(n,r))||(r=qe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=qe.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(qe.EMPTY_NODE);const o=this;return n.forEachChild(On,(s,a)=>{o.matches(new yt(s,a))||(i=i.updateImmediateChild(s,qe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Moe{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new _p(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new yt(n,r))||(r=qe.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=qe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=qe.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(qe.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,qe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const f=this.index_.getCompare();s=(h,p)=>f(p,h)}else s=this.index_.getCompare();const a=e;de(a.numChildren()===this.limit_,"");const l=new yt(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const f=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const p=h==null?1:s(h,l);if(u&&!r.isEmpty()&&p>=0)return o!=null&&o.trackChildChange(vp(n,r,f)),a.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(yp(n,f));const x=a.updateImmediateChild(n,qe.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o!=null&&o.trackChildChange(Nd(h.name,h.node)),x.updateImmediateChild(h.name,h.node)):x}}else return r.isEmpty()?e:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(yp(c.name,c.node)),o.trackChildChange(Nd(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,qe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=On}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return de(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return de(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Od}hasEnd(){return this.endSet_}getIndexEndValue(){return de(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return de(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return de(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===On}copy(){const e=new Y1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Doe(t){return t.loadsAllData()?new K1(t.getIndex()):t.hasLimit()?new Moe(t):new _p(t)}function XA(t){const e={};if(t.isDefault())return e;let n;if(t.index_===On?n="$priority":t.index_===Ooe?n="$value":t.index_===sd?n="$key":(de(t.index_ instanceof koe,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Jn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Jn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Jn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Jn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Jn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function QA(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==On&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv extends m5{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(de(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=lg("p:rest:"),this.listens_={}}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=mv.getListenId_(e,r),a={};this.listens_[s]=a;const l=XA(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let f=u;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(o,f,!1,r),pd(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const r=mv.getListenId_(e,n);delete this.listens_[r]}get(e){const n=XA(e._queryParams),r=e._path.toString(),i=new n0;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ud(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ep(a.responseText)}catch{Si("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Si("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $oe{constructor(){this.rootNode_=qe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(){return{value:null,children:new Map}}function R5(t,e,n){if(xt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=mt(e);t.children.has(r)||t.children.set(r,yv());const i=t.children.get(r);e=an(e),R5(i,e,n)}}function xE(t,e,n){t.value!==null?n(e,t.value):Loe(t,(r,i)=>{const o=new en(e.toString()+"/"+r);xE(i,o,n)})}function Loe(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Foe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ii(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=10*1e3,Boe=30*1e3,Voe=5*60*1e3;class Uoe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Foe(e);const r=JA+(Boe-JA)*Math.random();Ah(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ii(e,(i,o)=>{o>0&&ga(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Ah(this.reportStats_.bind(this),Math.floor(Math.random()*2*Voe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zo;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(zo||(zo={}));function P5(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function X1(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Q1(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=zo.ACK_USER_WRITE,this.source=P5()}operationForChild(e){if(xt(this.path)){if(this.affectedTree.value!=null)return de(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new en(e));return new vv(Ft(),n,this.revert)}}else return de(mt(this.path)===e,"operationForChild called for unrelated child."),new vv(an(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n){this.source=e,this.path=n,this.type=zo.LISTEN_COMPLETE}operationForChild(e){return xt(this.path)?new bp(this.source,Ft()):new bp(this.source,an(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=zo.OVERWRITE}operationForChild(e){return xt(this.path)?new Ec(this.source,Ft(),this.snap.getImmediateChild(e)):new Ec(this.source,an(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=zo.MERGE}operationForChild(e){if(xt(this.path)){const n=this.children.subtree(new en(e));return n.isEmpty()?null:n.value?new Ec(this.source,Ft(),n.value):new wp(this.source,Ft(),n)}else return de(mt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new wp(this.source,an(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(xt(e))return this.isFullyInitialized()&&!this.filtered_;const n=mt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class joe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function zoe(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(Noe(s.childName,s.snapshotNode))}),Vf(t,i,"child_removed",e,r,n),Vf(t,i,"child_added",e,r,n),Vf(t,i,"child_moved",o,r,n),Vf(t,i,"child_changed",e,r,n),Vf(t,i,"value",e,r,n),i}function Vf(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>Hoe(t,a,l)),s.forEach(a=>{const l=Woe(t,a,o);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Woe(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Hoe(t,e,n){if(e.childName==null||n.childName==null)throw Vd("Should only compare child_ events.");const r=new yt(e.childName,e.snapshotNode),i=new yt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t,e){return{eventCache:t,serverCache:e}}function Oh(t,e,n,r){return y_(new bl(e,n,r),t.serverCache)}function k5(t,e,n,r){return y_(t.eventCache,new bl(e,n,r))}function _v(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Sc(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aw;const Goe=()=>(aw||(aw=new vi(Aie)),aw);class hn{static fromObject(e){let n=new hn(null);return Ii(e,(r,i)=>{n=n.set(new en(r),i)}),n}constructor(e,n=Goe()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ft(),value:this.value};if(xt(e))return null;{const r=mt(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(an(e),n);return o!=null?{path:Zn(new en(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(xt(e))return this;{const n=mt(e),r=this.children.get(n);return r!==null?r.subtree(an(e)):new hn(null)}}set(e,n){if(xt(e))return new hn(n,this.children);{const r=mt(e),o=(this.children.get(r)||new hn(null)).set(an(e),n),s=this.children.insert(r,o);return new hn(this.value,s)}}remove(e){if(xt(e))return this.children.isEmpty()?new hn(null):new hn(null,this.children);{const n=mt(e),r=this.children.get(n);if(r){const i=r.remove(an(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new hn(null):new hn(this.value,o)}else return this}}get(e){if(xt(e))return this.value;{const n=mt(e),r=this.children.get(n);return r?r.get(an(e)):null}}setTree(e,n){if(xt(e))return n;{const r=mt(e),o=(this.children.get(r)||new hn(null)).setTree(an(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new hn(this.value,s)}}fold(e){return this.fold_(Ft(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Zn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ft(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(xt(e))return null;{const o=mt(e),s=this.children.get(o);return s?s.findOnPath_(an(e),Zn(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ft(),n)}foreachOnPath_(e,n,r){if(xt(e))return this;{this.value&&r(n,this.value);const i=mt(e),o=this.children.get(i);return o?o.foreachOnPath_(an(e),Zn(n,i),r):new hn(null)}}foreach(e){this.foreach_(Ft(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Zn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.writeTree_=e}static empty(){return new Ko(new hn(null))}}function Nh(t,e,n){if(xt(e))return new Ko(new hn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=ei(i,e);return o=o.updateChild(s,n),new Ko(t.writeTree_.set(i,o))}else{const i=new hn(n),o=t.writeTree_.setTree(e,i);return new Ko(o)}}}function ZA(t,e,n){let r=t;return Ii(n,(i,o)=>{r=Nh(r,Zn(e,i),o)}),r}function e2(t,e){if(xt(e))return Ko.empty();{const n=t.writeTree_.setTree(e,new hn(null));return new Ko(n)}}function EE(t,e){return Nc(t,e)!=null}function Nc(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ei(n.path,e)):null}function t2(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(On,(r,i)=>{e.push(new yt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new yt(r,i.value))}),e}function sl(t,e){if(xt(e))return t;{const n=Nc(t,e);return n!=null?new Ko(new hn(n)):new Ko(t.writeTree_.subtree(e))}}function SE(t){return t.writeTree_.isEmpty()}function Md(t,e){return A5(Ft(),t.writeTree_,e)}function A5(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(de(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=A5(Zn(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Zn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t,e){return D5(e,t)}function qoe(t,e,n,r,i){de(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Nh(t.visibleWrites,e,n)),t.lastWriteId=r}function Koe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Yoe(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);de(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&Xoe(a,r.path)?i=!1:jo(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return Qoe(t),!0;if(r.snap)t.visibleWrites=e2(t.visibleWrites,r.path);else{const a=r.children;Ii(a,l=>{t.visibleWrites=e2(t.visibleWrites,Zn(r.path,l))})}return!0}else return!1}function Xoe(t,e){if(t.snap)return jo(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&jo(Zn(t.path,n),e))return!0;return!1}function Qoe(t){t.visibleWrites=O5(t.allWrites,Joe,Ft()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Joe(t){return t.visible}function O5(t,e,n){let r=Ko.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)jo(n,s)?(a=ei(n,s),r=Nh(r,a,o.snap)):jo(s,n)&&(a=ei(s,n),r=Nh(r,Ft(),o.snap.getChild(a)));else if(o.children){if(jo(n,s))a=ei(n,s),r=ZA(r,a,o.children);else if(jo(s,n))if(a=ei(s,n),xt(a))r=ZA(r,Ft(),o.children);else{const l=pd(o.children,mt(a));if(l){const c=l.getChild(an(a));r=Nh(r,Ft(),c)}}}else throw Vd("WriteRecord should have .snap or .children")}}return r}function N5(t,e,n,r,i){if(!r&&!i){const o=Nc(t.visibleWrites,e);if(o!=null)return o;{const s=sl(t.visibleWrites,e);if(SE(s))return n;if(n==null&&!EE(s,Ft()))return null;{const a=n||qe.EMPTY_NODE;return Md(s,a)}}}else{const o=sl(t.visibleWrites,e);if(!i&&SE(o))return n;if(!i&&n==null&&!EE(o,Ft()))return null;{const s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(jo(c.path,e)||jo(e,c.path))},a=O5(t.allWrites,s,e),l=n||qe.EMPTY_NODE;return Md(a,l)}}}function Zoe(t,e,n){let r=qe.EMPTY_NODE;const i=Nc(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(On,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=sl(t.visibleWrites,e);return n.forEachChild(On,(s,a)=>{const l=Md(sl(o,new en(s)),a);r=r.updateImmediateChild(s,l)}),t2(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=sl(t.visibleWrites,e);return t2(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function ese(t,e,n,r,i){de(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Zn(e,n);if(EE(t.visibleWrites,o))return null;{const s=sl(t.visibleWrites,o);return SE(s)?i.getChild(n):Md(s,i.getChild(n))}}function tse(t,e,n,r){const i=Zn(e,n),o=Nc(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=sl(t.visibleWrites,i);return Md(s,r.getNode().getImmediateChild(n))}else return null}function nse(t,e){return Nc(t.visibleWrites,e)}function rse(t,e,n,r,i,o,s){let a;const l=sl(t.visibleWrites,e),c=Nc(l,Ft());if(c!=null)a=c;else if(n!=null)a=Md(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const u=[],f=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let p=h.getNext();for(;p&&u.length<i;)f(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function ise(){return{visibleWrites:Ko.empty(),allWrites:[],lastWriteId:-1}}function bv(t,e,n,r){return N5(t.writeTree,t.treePath,e,n,r)}function J1(t,e){return Zoe(t.writeTree,t.treePath,e)}function n2(t,e,n,r){return ese(t.writeTree,t.treePath,e,n,r)}function wv(t,e){return nse(t.writeTree,Zn(t.treePath,e))}function ose(t,e,n,r,i,o){return rse(t.writeTree,t.treePath,e,n,r,i,o)}function Z1(t,e,n){return tse(t.writeTree,t.treePath,e,n)}function M5(t,e){return D5(Zn(t.treePath,e),t.writeTree)}function D5(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sse{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;de(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),de(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,vp(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,yp(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Nd(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,vp(r,e.snapshotNode,i.oldSnap));else throw Vd("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ase{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const $5=new ase;class eT{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new bl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Z1(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Sc(this.viewCache_),o=ose(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lse(t){return{filter:t}}function cse(t,e){de(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),de(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function use(t,e,n,r,i){const o=new sse;let s,a;if(n.type===zo.OVERWRITE){const c=n;c.source.fromUser?s=CE(t,e,c.path,c.snap,r,i,o):(de(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!xt(c.path),s=xv(t,e,c.path,c.snap,r,i,a,o))}else if(n.type===zo.MERGE){const c=n;c.source.fromUser?s=fse(t,e,c.path,c.children,r,i,o):(de(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=TE(t,e,c.path,c.children,r,i,a,o))}else if(n.type===zo.ACK_USER_WRITE){const c=n;c.revert?s=gse(t,e,c.path,r,i,o):s=hse(t,e,c.path,c.affectedTree,r,i,o)}else if(n.type===zo.LISTEN_COMPLETE)s=pse(t,e,n.path,r,o);else throw Vd("Unknown operation type: "+n.type);const l=o.getChanges();return dse(e,s,l),{viewCache:s,changes:l}}function dse(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=_v(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(I5(_v(e)))}}function L5(t,e,n,r,i,o){const s=e.eventCache;if(wv(r,n)!=null)return e;{let a,l;if(xt(n))if(de(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Sc(e),u=c instanceof qe?c:qe.EMPTY_NODE,f=J1(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const c=bv(r,Sc(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const c=mt(n);if(c===".priority"){de(_l(n)===1,"Can't have a priority with additional path components");const u=s.getNode();l=e.serverCache.getNode();const f=n2(r,n,u,l);f!=null?a=t.filter.updatePriority(u,f):a=s.getNode()}else{const u=an(n);let f;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();const h=n2(r,n,s.getNode(),l);h!=null?f=s.getNode().getImmediateChild(c).updateChild(u,h):f=s.getNode().getImmediateChild(c)}else f=Z1(r,c,e.serverCache);f!=null?a=t.filter.updateChild(s.getNode(),c,f,u,i,o):a=s.getNode()}}return Oh(e,a,s.isFullyInitialized()||xt(n),t.filter.filtersNodes())}}function xv(t,e,n,r,i,o,s,a){const l=e.serverCache;let c;const u=s?t.filter:t.filter.getIndexedFilter();if(xt(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=mt(n);if(!l.isCompleteForPath(n)&&_l(n)>1)return e;const g=an(n),S=l.getNode().getImmediateChild(p).updateChild(g,r);p===".priority"?c=u.updatePriority(l.getNode(),S):c=u.updateChild(l.getNode(),p,S,g,$5,null)}const f=k5(e,c,l.isFullyInitialized()||xt(n),u.filtersNodes()),h=new eT(i,f,o);return L5(t,f,n,i,h,a)}function CE(t,e,n,r,i,o,s){const a=e.eventCache;let l,c;const u=new eT(i,e,o);if(xt(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=Oh(e,c,!0,t.filter.filtersNodes());else{const f=mt(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Oh(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=an(n),p=a.getNode().getImmediateChild(f);let g;if(xt(h))g=r;else{const x=u.getCompleteChild(f);x!=null?v5(h)===".priority"&&x.getChild(b5(h)).isEmpty()?g=x:g=x.updateChild(h,r):g=qe.EMPTY_NODE}if(p.equals(g))l=e;else{const x=t.filter.updateChild(a.getNode(),f,g,h,u,s);l=Oh(e,x,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function r2(t,e){return t.eventCache.isCompleteForChild(e)}function fse(t,e,n,r,i,o,s){let a=e;return r.foreach((l,c)=>{const u=Zn(n,l);r2(e,mt(u))&&(a=CE(t,a,u,c,i,o,s))}),r.foreach((l,c)=>{const u=Zn(n,l);r2(e,mt(u))||(a=CE(t,a,u,c,i,o,s))}),a}function i2(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function TE(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;xt(n)?c=r:c=new hn(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((f,h)=>{if(u.hasChild(f)){const p=e.serverCache.getNode().getImmediateChild(f),g=i2(t,p,h);l=xv(t,l,new en(f),g,i,o,s,a)}}),c.children.inorderTraversal((f,h)=>{const p=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!u.hasChild(f)&&!p){const g=e.serverCache.getNode().getImmediateChild(f),x=i2(t,g,h);l=xv(t,l,new en(f),x,i,o,s,a)}}),l}function hse(t,e,n,r,i,o,s){if(wv(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(xt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return xv(t,e,n,l.getNode().getChild(n),i,o,a,s);if(xt(n)){let c=new hn(null);return l.getNode().forEachChild(sd,(u,f)=>{c=c.set(new en(u),f)}),TE(t,e,n,c,i,o,a,s)}else return e}else{let c=new hn(null);return r.foreach((u,f)=>{const h=Zn(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),TE(t,e,n,c,i,o,a,s)}}function pse(t,e,n,r,i){const o=e.serverCache,s=k5(e,o.getNode(),o.isFullyInitialized()||xt(n),o.isFiltered());return L5(t,s,n,r,$5,i)}function gse(t,e,n,r,i,o){let s;if(wv(r,n)!=null)return e;{const a=new eT(r,e,i),l=e.eventCache.getNode();let c;if(xt(n)||mt(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=bv(r,Sc(e));else{const f=e.serverCache.getNode();de(f instanceof qe,"serverChildren would be complete if leaf node"),u=J1(r,f)}u=u,c=t.filter.updateFullNode(l,u,o)}else{const u=mt(n);let f=Z1(r,u,e.serverCache);f==null&&e.serverCache.isCompleteForChild(u)&&(f=l.getImmediateChild(u)),f!=null?c=t.filter.updateChild(l,u,f,an(n),a,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,qe.EMPTY_NODE,an(n),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=bv(r,Sc(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||wv(r,Ft())!=null,Oh(e,c,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mse{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new K1(r.getIndex()),o=Doe(r);this.processor_=lse(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(qe.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(qe.EMPTY_NODE,a.getNode(),null),u=new bl(l,s.isFullyInitialized(),i.filtersNodes()),f=new bl(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=y_(f,u),this.eventGenerator_=new joe(this.query_)}get query(){return this.query_}}function yse(t){return t.viewCache_.serverCache.getNode()}function vse(t){return _v(t.viewCache_)}function _se(t,e){const n=Sc(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!xt(e)&&!n.getImmediateChild(mt(e)).isEmpty())?n.getChild(e):null}function o2(t){return t.eventRegistrations_.length===0}function bse(t,e){t.eventRegistrations_.push(e)}function s2(t,e,n){const r=[];if(n){de(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function a2(t,e,n,r){e.type===zo.MERGE&&e.source.queryId!==null&&(de(Sc(t.viewCache_),"We should always have a full cache before handling merges"),de(_v(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=use(t.processor_,i,e,n,r);return cse(t.processor_,o.viewCache),de(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,F5(t,o.changes,o.viewCache.eventCache.getNode(),null)}function wse(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(On,(o,s)=>{r.push(Nd(o,s))}),n.isFullyInitialized()&&r.push(I5(n.getNode())),F5(t,r,n.getNode(),e)}function F5(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return zoe(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ev;class B5{constructor(){this.views=new Map}}function xse(t){de(!Ev,"__referenceConstructor has already been defined"),Ev=t}function Ese(){return de(Ev,"Reference.ts has not been loaded"),Ev}function Sse(t){return t.views.size===0}function tT(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return de(o!=null,"SyncTree gave us an op for an invalid query."),a2(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(a2(s,e,n,r));return o}}function V5(t,e,n,r,i){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=bv(n,i?r:null),l=!1;a?l=!0:r instanceof qe?(a=J1(n,r),l=!1):(a=qe.EMPTY_NODE,l=!1);const c=y_(new bl(a,l,!1),new bl(r,i,!1));return new mse(e,c)}return s}function Cse(t,e,n,r,i,o){const s=V5(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),bse(s,n),wse(s,n)}function Tse(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=wl(t);if(i==="default")for(const[l,c]of t.views.entries())s=s.concat(s2(c,n,r)),o2(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const l=t.views.get(i);l&&(s=s.concat(s2(l,n,r)),o2(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!wl(t)&&o.push(new(Ese())(e._repo,e._path)),{removed:o,events:s}}function U5(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function al(t,e){let n=null;for(const r of t.views.values())n=n||_se(r,e);return n}function j5(t,e){if(e._queryParams.loadsAllData())return __(t);{const r=e._queryIdentifier;return t.views.get(r)}}function z5(t,e){return j5(t,e)!=null}function wl(t){return __(t)!=null}function __(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sv;function Ise(t){de(!Sv,"__referenceConstructor has already been defined"),Sv=t}function Rse(){return de(Sv,"Reference.ts has not been loaded"),Sv}let Pse=1;class l2{constructor(e){this.listenProvider_=e,this.syncPointTree_=new hn(null),this.pendingWriteTree_=ise(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function W5(t,e,n,r,i){return qoe(t.pendingWriteTree_,e,n,r,i),i?dg(t,new Ec(P5(),e,n)):[]}function rc(t,e,n=!1){const r=Koe(t.pendingWriteTree_,e);if(Yoe(t.pendingWriteTree_,e)){let o=new hn(null);return r.snap!=null?o=o.set(Ft(),!0):Ii(r.children,s=>{o=o.set(new en(s),!0)}),dg(t,new vv(r.path,o,n))}else return[]}function ug(t,e,n){return dg(t,new Ec(X1(),e,n))}function kse(t,e,n){const r=hn.fromObject(n);return dg(t,new wp(X1(),e,r))}function Ase(t,e){return dg(t,new bp(X1(),e))}function Ose(t,e,n){const r=rT(t,n);if(r){const i=iT(r),o=i.path,s=i.queryId,a=ei(o,e),l=new bp(Q1(s),a);return oT(t,o,l)}else return[]}function Cv(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&(e._queryIdentifier==="default"||z5(s,e))){const l=Tse(s,e,n,r);Sse(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(o,(h,p)=>wl(p));if(u&&!f){const h=t.syncPointTree_.subtree(o);if(!h.isEmpty()){const p=Dse(h);for(let g=0;g<p.length;++g){const x=p[g],S=x.query,y=K5(t,x);t.listenProvider_.startListening(Mh(S),xp(t,S),y.hashFn,y.onComplete)}}}!f&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(Mh(e),null):c.forEach(h=>{const p=t.queryToTagMap.get(b_(h));t.listenProvider_.stopListening(Mh(h),p)}))}$se(t,c)}return a}function H5(t,e,n,r){const i=rT(t,r);if(i!=null){const o=iT(i),s=o.path,a=o.queryId,l=ei(s,e),c=new Ec(Q1(a),l,n);return oT(t,s,c)}else return[]}function Nse(t,e,n,r){const i=rT(t,r);if(i){const o=iT(i),s=o.path,a=o.queryId,l=ei(s,e),c=hn.fromObject(n),u=new wp(Q1(a),l,c);return oT(t,s,u)}else return[]}function IE(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(h,p)=>{const g=ei(h,i);o=o||al(p,g),s=s||wl(p)});let a=t.syncPointTree_.get(i);a?(s=s||wl(a),o=o||al(a,Ft())):(a=new B5,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=qe.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,g)=>{const x=al(g,Ft());x&&(o=o.updateImmediateChild(p,x))}));const c=z5(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=b_(e);de(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const p=Lse();t.queryToTagMap.set(h,p),t.tagToQueryMap.set(p,h)}const u=v_(t.pendingWriteTree_,i);let f=Cse(a,e,n,u,o,l);if(!c&&!s&&!r){const h=j5(a,e);f=f.concat(Fse(t,e,h))}return f}function nT(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=ei(s,e),c=al(a,l);if(c)return c});return N5(i,e,o,n,!0)}function Mse(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const f=ei(c,n);r=r||al(u,f)});let i=t.syncPointTree_.get(n);i?r=r||al(i,Ft()):(i=new B5,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=r!=null,s=o?new bl(r,!0,!1):null,a=v_(t.pendingWriteTree_,e._path),l=V5(i,e,a,o?s.getNode():qe.EMPTY_NODE,o);return vse(l)}function dg(t,e){return G5(e,t.syncPointTree_,null,v_(t.pendingWriteTree_,Ft()))}function G5(t,e,n,r){if(xt(t.path))return q5(t,e,n,r);{const i=e.get(Ft());n==null&&i!=null&&(n=al(i,Ft()));let o=[];const s=mt(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const c=n?n.getImmediateChild(s):null,u=M5(r,s);o=o.concat(G5(a,l,c,u))}return i&&(o=o.concat(tT(i,t,r,n))),o}}function q5(t,e,n,r){const i=e.get(Ft());n==null&&i!=null&&(n=al(i,Ft()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,c=M5(r,s),u=t.operationForChild(s);u&&(o=o.concat(q5(u,a,l,c)))}),i&&(o=o.concat(tT(i,t,r,n))),o}function K5(t,e){const n=e.query,r=xp(t,n);return{hashFn:()=>(yse(e)||qe.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Ose(t,n._path,r):Ase(t,n._path);{const o=Mie(i,n);return Cv(t,n,null,o)}}}}function xp(t,e){const n=b_(e);return t.queryToTagMap.get(n)}function b_(t){return t._path.toString()+"$"+t._queryIdentifier}function rT(t,e){return t.tagToQueryMap.get(e)}function iT(t){const e=t.indexOf("$");return de(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new en(t.substr(0,e))}}function oT(t,e,n){const r=t.syncPointTree_.get(e);de(r,"Missing sync point for query tag that we're tracking");const i=v_(t.pendingWriteTree_,e);return tT(r,n,i,null)}function Dse(t){return t.fold((e,n,r)=>{if(n&&wl(n))return[__(n)];{let i=[];return n&&(i=U5(n)),Ii(r,(o,s)=>{i=i.concat(s)}),i}})}function Mh(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Rse())(t._repo,t._path):t}function $se(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=b_(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function Lse(){return Pse++}function Fse(t,e,n){const r=e._path,i=xp(t,e),o=K5(t,n),s=t.listenProvider_.startListening(Mh(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)de(!wl(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,f)=>{if(!xt(c)&&u&&wl(u))return[__(u).query];{let h=[];return u&&(h=h.concat(U5(u).map(p=>p.query))),Ii(f,(p,g)=>{h=h.concat(g)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Mh(u),xp(t,u))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new sT(n)}node(){return this.node_}}class aT{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Zn(this.path_,e);return new aT(this.syncTree_,n)}node(){return nT(this.syncTree_,this.path_)}}const Bse=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},c2=function(t,e,n){if(!t||typeof t!="object")return t;if(de(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Vse(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Use(t[".sv"],e);de(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Vse=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:de(!1,"Unexpected server value: "+t)}},Use=function(t,e,n){t.hasOwnProperty("increment")||de(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&de(!1,"Unexpected increment value: "+r);const i=e.node();if(de(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},jse=function(t,e,n,r){return lT(e,new aT(n,t),r)},Y5=function(t,e,n){return lT(t,new sT(e),n)};function lT(t,e,n){const r=t.getPriority().val(),i=c2(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=c2(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new sr(a,ur(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new sr(i))),s.forEachChild(On,(a,l)=>{const c=lT(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function uT(t,e){let n=e instanceof en?e:new en(e),r=t,i=mt(n);for(;i!==null;){const o=pd(r.node.children,i)||{children:{},childCount:0};r=new cT(i,r,o),n=an(n),i=mt(n)}return r}function rf(t){return t.node.value}function X5(t,e){t.node.value=e,RE(t)}function Q5(t){return t.node.childCount>0}function zse(t){return rf(t)===void 0&&!Q5(t)}function w_(t,e){Ii(t.node.children,(n,r)=>{e(new cT(n,t,r))})}function J5(t,e,n,r){n&&e(t),w_(t,i=>{J5(i,e,!0)})}function Wse(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function fg(t){return new en(t.parent===null?t.name:fg(t.parent)+"/"+t.name)}function RE(t){t.parent!==null&&Hse(t.parent,t.name,t)}function Hse(t,e,n){const r=zse(n),i=ga(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,RE(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,RE(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gse=/[\[\].#$\/\u0000-\u001F\u007F]/,qse=/[\[\].#$\u0000-\u001F\u007F]/,lw=10*1024*1024,Z5=function(t){return typeof t=="string"&&t.length!==0&&!Gse.test(t)},e3=function(t){return typeof t=="string"&&t.length!==0&&!qse.test(t)},Kse=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),e3(t)},Yse=function(t,e,n,r){dT(QS(t,"value"),e,n)},dT=function(t,e,n){const r=n instanceof en?new hoe(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ql(r));if(typeof e=="function")throw new Error(t+"contains a function "+ql(r)+" with contents = "+e.toString());if(Q4(e))throw new Error(t+"contains "+e.toString()+" "+ql(r));if(typeof e=="string"&&e.length>lw/3&&r0(e)>lw)throw new Error(t+"contains a string greater than "+lw+" utf8 bytes "+ql(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Ii(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Z5(s)))throw new Error(t+" contains an invalid key ("+s+") "+ql(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);poe(r,s),dT(t,a,r),goe(r)}),i&&o)throw new Error(t+' contains ".value" child '+ql(r)+" in addition to actual children.")}},t3=function(t,e,n,r){if(!e3(n))throw new Error(QS(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Xse=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),t3(t,e,n)},n3=function(t,e){if(mt(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Qse=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Z5(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Kse(n))throw new Error(QS(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jse{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function fT(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!H1(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function r3(t,e,n){fT(t,n),i3(t,r=>H1(r,e))}function Ss(t,e,n){fT(t,n),i3(t,r=>jo(r,e)||jo(e,r))}function i3(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(Zse(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Zse(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();kh&&zr("event: "+n.toString()),nf(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eae="repo_interrupt",tae=25;class nae{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Jse,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yv(),this.transactionQueueTree_=new cT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function rae(t,e,n){if(t.stats_=z1(t.repoInfo_),t.forceRestClient_||Fie())t.server_=new mv(t.repoInfo_,(r,i,o,s)=>{u2(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>d2(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Jn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Js(t.repoInfo_,e,(r,i,o,s)=>{u2(t,r,i,o,s)},r=>{d2(t,r)},r=>{oae(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=zie(t.repoInfo_,()=>new Uoe(t.stats_,t.server_)),t.infoData_=new $oe,t.infoSyncTree_=new l2({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=ug(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),pT(t,"connected",!1),t.serverSyncTree_=new l2({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const c=s(a,l);Ss(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function iae(t){const n=t.infoData_.getNode(new en(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function hT(t){return Bse({timestamp:iae(t)})}function u2(t,e,n,r,i){t.dataUpdateCount++;const o=new en(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=Dy(n,c=>ur(c));s=Nse(t.serverSyncTree_,o,l,i)}else{const l=ur(n);s=H5(t.serverSyncTree_,o,l,i)}else if(r){const l=Dy(n,c=>ur(c));s=kse(t.serverSyncTree_,o,l)}else{const l=ur(n);s=ug(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=E_(t,o)),Ss(t.eventQueue_,a,s)}function d2(t,e){pT(t,"connected",e),e===!1&&lae(t)}function oae(t,e){Ii(e,(n,r)=>{pT(t,n,r)})}function pT(t,e,n){const r=new en("/.info/"+e),i=ur(n);t.infoData_.updateSnapshot(r,i);const o=ug(t.infoSyncTree_,r,i);Ss(t.eventQueue_,r,o)}function o3(t){return t.nextWriteId_++}function sae(t,e,n){const r=Mse(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const o=ur(i).withIndex(e._queryParams.getIndex());IE(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=ug(t.serverSyncTree_,e._path,o);else{const a=xp(t.serverSyncTree_,e);s=H5(t.serverSyncTree_,e._path,o,a)}return Ss(t.eventQueue_,e._path,s),Cv(t.serverSyncTree_,e,n,null,!0),o},i=>(x_(t,"get for query "+Jn(e)+" failed: "+i),Promise.reject(new Error(i))))}function aae(t,e,n,r,i){x_(t,"set",{path:e.toString(),value:n,priority:r});const o=hT(t),s=ur(n,r),a=nT(t.serverSyncTree_,e),l=Y5(s,a,o),c=o3(t),u=W5(t.serverSyncTree_,e,l,c,!0);fT(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(h,p)=>{const g=h==="ok";g||Si("set at "+e+" failed: "+h);const x=rc(t.serverSyncTree_,c,!g);Ss(t.eventQueue_,e,x),dae(t,i,h,p)});const f=u3(t,e);E_(t,f),Ss(t.eventQueue_,f,[])}function lae(t){x_(t,"onDisconnectEvents");const e=hT(t),n=yv();xE(t.onDisconnect_,Ft(),(i,o)=>{const s=jse(i,o,t.serverSyncTree_,e);R5(n,i,s)});let r=[];xE(n,Ft(),(i,o)=>{r=r.concat(ug(t.serverSyncTree_,i,o));const s=u3(t,i);E_(t,s)}),t.onDisconnect_=yv(),Ss(t.eventQueue_,Ft(),r)}function cae(t,e,n){let r;mt(e._path)===".info"?r=IE(t.infoSyncTree_,e,n):r=IE(t.serverSyncTree_,e,n),r3(t.eventQueue_,e._path,r)}function PE(t,e,n){let r;mt(e._path)===".info"?r=Cv(t.infoSyncTree_,e,n):r=Cv(t.serverSyncTree_,e,n),r3(t.eventQueue_,e._path,r)}function uae(t){t.persistentConnection_&&t.persistentConnection_.interrupt(eae)}function x_(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),zr(n,...e)}function dae(t,e,n,r){e&&nf(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function s3(t,e,n){return nT(t.serverSyncTree_,e,n)||qe.EMPTY_NODE}function gT(t,e=t.transactionQueueTree_){if(e||S_(t,e),rf(e)){const n=l3(t,e);de(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&fae(t,fg(e),n)}else Q5(e)&&w_(e,n=>{gT(t,n)})}function fae(t,e,n){const r=n.map(c=>c.currentWriteId),i=s3(t,e,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const u=n[c];de(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=ei(e,u.path);o=o.updateChild(f,u.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{x_(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(rc(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();S_(t,uT(t.transactionQueueTree_,e)),gT(t,t.transactionQueueTree_),Ss(t.eventQueue_,e,u);for(let h=0;h<f.length;h++)nf(f[h])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Si("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}E_(t,e)}},s)}function E_(t,e){const n=a3(t,e),r=fg(n),i=l3(t,n);return hae(t,i,r),r}function hae(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=ei(n,l.path);let u=!1,f;if(de(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,f=l.abortReason,i=i.concat(rc(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=tae)u=!0,f="maxretry",i=i.concat(rc(t.serverSyncTree_,l.currentWriteId,!0));else{const h=s3(t,l.path,s);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){dT("transaction failed: Data returned ",p,l.path);let g=ur(p);typeof p=="object"&&p!=null&&ga(p,".priority")||(g=g.updatePriority(h.getPriority()));const S=l.currentWriteId,y=hT(t),b=Y5(g,h,y);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=b,l.currentWriteId=o3(t),s.splice(s.indexOf(S),1),i=i.concat(W5(t.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally)),i=i.concat(rc(t.serverSyncTree_,S,!0))}else u=!0,f="nodata",i=i.concat(rc(t.serverSyncTree_,l.currentWriteId,!0))}Ss(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}S_(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)nf(r[a]);gT(t,t.transactionQueueTree_)}function a3(t,e){let n,r=t.transactionQueueTree_;for(n=mt(e);n!==null&&rf(r)===void 0;)r=uT(r,n),e=an(e),n=mt(e);return r}function l3(t,e){const n=[];return c3(t,e,n),n.sort((r,i)=>r.order-i.order),n}function c3(t,e,n){const r=rf(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);w_(e,i=>{c3(t,i,n)})}function S_(t,e){const n=rf(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,X5(e,n.length>0?n:void 0)}w_(e,r=>{S_(t,r)})}function u3(t,e){const n=fg(a3(t,e)),r=uT(t.transactionQueueTree_,e);return Wse(r,i=>{cw(t,i)}),cw(t,r),J5(r,i=>{cw(t,i)}),n}function cw(t,e){const n=rf(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(de(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(de(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(rc(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?X5(e,void 0):n.length=o+1,Ss(t.eventQueue_,fg(e),i);for(let s=0;s<r.length;s++)nf(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pae(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function gae(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Si(`Invalid query segment '${n}' in query '${t}'`)}return e}const f2=function(t,e){const n=mae(t),r=n.namespace;n.domain==="firebase.com"&&ha(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ha("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Pie();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new c5(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new en(n.pathString)}},mae=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(u,f)),u<f&&(i=pae(t.substring(u,f)));const h=gae(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yae{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Jn(this.snapshot.exportVal())}}class vae{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return de(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return xt(this._path)?null:v5(this._path)}get ref(){return new ma(this._repo,this._path)}get _queryIdentifier(){const e=QA(this._queryParams),n=U1(e);return n==="{}"?"default":n}get _queryObject(){return QA(this._queryParams)}isEqual(e){if(e=Wt(e),!(e instanceof yT))return!1;const n=this._repo===e._repo,r=H1(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+foe(this._path)}}class ma extends yT{constructor(e,n){super(e,n,new Y1,!1)}get parent(){const e=b5(this._path);return e===null?null:new ma(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ep{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new en(e),r=AE(this.ref,e);return new Ep(this._node.getChild(n),r,On)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Ep(i,AE(this.ref,r),On)))}hasChild(e){const n=new en(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function kE(t,e){return t=Wt(t),t._checkNotDeleted("ref"),e!==void 0?AE(t._root,e):t._root}function AE(t,e){return t=Wt(t),mt(t._path)===null?Xse("child","path",e):t3("child","path",e),new ma(t._repo,Zn(t._path,e))}function h2(t){return n3("remove",t._path),OE(t,null)}function OE(t,e){t=Wt(t),n3("set",t._path),Yse("set",e,t._path);const n=new n0;return aae(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function _ae(t){t=Wt(t);const e=new mT(()=>{}),n=new hg(e);return sae(t._repo,t,n).then(r=>new Ep(r,new ma(t._repo,t._path),t._queryParams.getIndex()))}class hg{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new yae("value",this,new Ep(e.snapshotNode,new ma(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new vae(this,e,n):null}matches(e){return e instanceof hg?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function bae(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){const l=n,c=(u,f)=>{PE(t._repo,t,a),l(u,f)};c.userCallback=n.userCallback,c.context=n.context,n=c}const s=new mT(n,o||void 0),a=new hg(s);return cae(t._repo,t,a),()=>PE(t._repo,t,a)}function wae(t,e,n,r){return bae(t,"value",e,n,r)}function xae(t,e,n){let r=null;const i=n?new mT(n):null;r=new hg(i),PE(t._repo,t,r)}xse(ma);Ise(ma);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eae="FIREBASE_DATABASE_EMULATOR_HOST",NE={};let Sae=!1;function Cae(t,e,n,r){t.repoInfo_=new c5(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function Tae(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||ha("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zr("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=f2(o,i),a=s.repoInfo,l;typeof process<"u"&&NA&&(l=NA[Eae]),l?(o=`http://${l}?ns=${a.namespace}`,s=f2(o,i),a=s.repoInfo):s.repoInfo.secure;const c=new Vie(t.name,t.options,e);Qse("Invalid Firebase Database URL",s),xt(s.path)||ha("Database URL must point to the root of a Firebase Database (not including a child path).");const u=Rae(a,t,c,new Bie(t,n));return new Pae(u,t)}function Iae(t,e){const n=NE[e];(!n||n[t.key]!==t)&&ha(`Database ${e}(${t.repoInfo_}) has already been deleted.`),uae(t),delete n[t.key]}function Rae(t,e,n,r){let i=NE[e.name];i||(i={},NE[e.name]=i);let o=i[t.toURLString()];return o&&ha("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new nae(t,Sae,n,r),i[t.toURLString()]=o,o}class Pae{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(rae(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ma(this._repo,Ft())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Iae(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ha("Cannot call "+e+" on a deleted database.")}}function ME(t=o0(),e){const n=Lp(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=KS("database");r&&kae(n,...r)}return n}function kae(t,e,n,r={}){t=Wt(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&ia(r,o.repoInfo_.emulatorOptions))return;ha("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&ha('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new oy(oy.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:YS(r.mockUserToken,t.app.options.projectId);s=new oy(a)}Cae(o,i,r,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aae(t){Eie(Il),ul(new oa("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return Tae(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),yo(MA,DA,t),yo(MA,DA,"esm2017")}Js.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Js.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Aae();var C_={exports:{}},d3={};function f3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=f3(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function p2(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=f3(t))&&(r&&(r+=" "),r+=e);return r}const Oae=Object.freeze(Object.defineProperty({__proto__:null,clsx:p2,default:p2},Symbol.toStringTag,{value:"Module"})),Nae=BB(Oae);var Dn={},Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.dontSetMe=Fae;Ps.findInArray=Mae;Ps.int=Lae;Ps.isFunction=Dae;Ps.isNum=$ae;function Mae(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function Dae(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function $ae(t){return typeof t=="number"&&!isNaN(t)}function Lae(t){return parseInt(t,10)}function Fae(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});Mc.browserPrefixToKey=p3;Mc.browserPrefixToStyle=Bae;Mc.default=void 0;Mc.getPrefix=h3;const uw=["Moz","Webkit","O","ms"];function h3(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<uw.length;r++)if(p3(e,uw[r])in n)return uw[r];return""}function p3(t,e){return e?"".concat(e).concat(Vae(t)):t}function Bae(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function Vae(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}Mc.default=h3();Object.defineProperty(Dn,"__esModule",{value:!0});Dn.addClassName=y3;Dn.addEvent=zae;Dn.addUserSelectStyles=ele;Dn.createCSSTransform=Xae;Dn.createSVGTransform=Qae;Dn.getTouch=Jae;Dn.getTouchIdentifier=Zae;Dn.getTranslation=vT;Dn.innerHeight=qae;Dn.innerWidth=Kae;Dn.matchesSelector=m3;Dn.matchesSelectorAndParentsTo=jae;Dn.offsetXYFromParent=Yae;Dn.outerHeight=Hae;Dn.outerWidth=Gae;Dn.removeClassName=v3;Dn.removeEvent=Wae;Dn.removeUserSelectStyles=tle;var Xi=Ps,g2=Uae(Mc);function g3(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(g3=function(r){return r?n:e})(t)}function Uae(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=g3(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}let wm="";function m3(t,e){return wm||(wm=(0,Xi.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Xi.isFunction)(t[n])})),(0,Xi.isFunction)(t[wm])?t[wm](e):!1}function jae(t,e,n){let r=t;do{if(m3(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function zae(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,i):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function Wae(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function Hae(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Xi.int)(n.borderTopWidth),e+=(0,Xi.int)(n.borderBottomWidth),e}function Gae(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Xi.int)(n.borderLeftWidth),e+=(0,Xi.int)(n.borderRightWidth),e}function qae(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Xi.int)(n.paddingTop),e-=(0,Xi.int)(n.paddingBottom),e}function Kae(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Xi.int)(n.paddingLeft),e-=(0,Xi.int)(n.paddingRight),e}function Yae(t,e,n){const i=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),o=(t.clientX+e.scrollLeft-i.left)/n,s=(t.clientY+e.scrollTop-i.top)/n;return{x:o,y:s}}function Xae(t,e){const n=vT(t,e,"px");return{[(0,g2.browserPrefixToKey)("transform",g2.default)]:n}}function Qae(t,e){return vT(t,e,"")}function vT(t,e,n){let{x:r,y:i}=t,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(e){const s="".concat(typeof e.x=="string"?e.x:e.x+n),a="".concat(typeof e.y=="string"?e.y:e.y+n);o="translate(".concat(s,", ").concat(a,")")+o}return o}function Jae(t,e){return t.targetTouches&&(0,Xi.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,Xi.findInArray)(t.changedTouches,n=>e===n.identifier)}function Zae(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function ele(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&y3(t.body,"react-draggable-transparent-selection")}function tle(t){if(t)try{if(t.body&&v3(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function y3(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function v3(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var ks={};Object.defineProperty(ks,"__esModule",{value:!0});ks.canDragX=ile;ks.canDragY=ole;ks.createCoreData=ale;ks.createDraggableData=lle;ks.getBoundPosition=nle;ks.getControlPosition=sle;ks.snapToGrid=rle;var Ni=Ps,Hu=Dn;function nle(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:cle(r);const i=_T(t);if(typeof r=="string"){const{ownerDocument:o}=i,s=o.defaultView;let a;if(r==="parent"?a=i.parentNode:a=o.querySelector(r),!(a instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const l=a,c=s.getComputedStyle(i),u=s.getComputedStyle(l);r={left:-i.offsetLeft+(0,Ni.int)(u.paddingLeft)+(0,Ni.int)(c.marginLeft),top:-i.offsetTop+(0,Ni.int)(u.paddingTop)+(0,Ni.int)(c.marginTop),right:(0,Hu.innerWidth)(l)-(0,Hu.outerWidth)(i)-i.offsetLeft+(0,Ni.int)(u.paddingRight)-(0,Ni.int)(c.marginRight),bottom:(0,Hu.innerHeight)(l)-(0,Hu.outerHeight)(i)-i.offsetTop+(0,Ni.int)(u.paddingBottom)-(0,Ni.int)(c.marginBottom)}}return(0,Ni.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,Ni.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Ni.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,Ni.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function rle(t,e,n){const r=Math.round(e/t[0])*t[0],i=Math.round(n/t[1])*t[1];return[r,i]}function ile(t){return t.props.axis==="both"||t.props.axis==="x"}function ole(t){return t.props.axis==="both"||t.props.axis==="y"}function sle(t,e,n){const r=typeof e=="number"?(0,Hu.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const i=_T(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Hu.offsetXYFromParent)(r||t,o,n.props.scale)}function ale(t,e,n){const r=!(0,Ni.isNum)(t.lastX),i=_T(t);return r?{node:i,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:i,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function lle(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function cle(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function _T(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var T_={},I_={};Object.defineProperty(I_,"__esModule",{value:!0});I_.default=ule;function ule(){}Object.defineProperty(T_,"__esModule",{value:!0});T_.default=void 0;var dw=fle(w),ui=bT(c1),dle=bT(Op),Dr=Dn,Pa=ks,fw=Ps,Uf=bT(I_);function bT(t){return t&&t.__esModule?t:{default:t}}function _3(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(_3=function(r){return r?n:e})(t)}function fle(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=_3(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function Qr(t,e,n){return e=hle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hle(t){var e=ple(t,"string");return typeof e=="symbol"?e:String(e)}function ple(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Do={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let ka=Do.mouse,R_=class extends dw.Component{constructor(){super(...arguments),Qr(this,"dragging",!1),Qr(this,"lastX",NaN),Qr(this,"lastY",NaN),Qr(this,"touchIdentifier",null),Qr(this,"mounted",!1),Qr(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Dr.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,Dr.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const i=(0,Dr.getTouchIdentifier)(e);this.touchIdentifier=i;const o=(0,Pa.getControlPosition)(e,i,this);if(o==null)return;const{x:s,y:a}=o,l=(0,Pa.createCoreData)(this,s,a);(0,Uf.default)("DraggableCore: handleDragStart: %j",l),(0,Uf.default)("calling",this.props.onStart),!(this.props.onStart(e,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Dr.addUserSelectStyles)(r),this.dragging=!0,this.lastX=s,this.lastY=a,(0,Dr.addEvent)(r,ka.move,this.handleDrag),(0,Dr.addEvent)(r,ka.stop,this.handleDragStop))}),Qr(this,"handleDrag",e=>{const n=(0,Pa.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,l=i-this.lastY;if([a,l]=(0,Pa.snapToGrid)(this.props.grid,a,l),!a&&!l)return;r=this.lastX+a,i=this.lastY+l}const o=(0,Pa.createCoreData)(this,r,i);if((0,Uf.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(e,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=r,this.lastY=i}),Qr(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,Pa.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX||0,c=i-this.lastY||0;[l,c]=(0,Pa.snapToGrid)(this.props.grid,l,c),r=this.lastX+l,i=this.lastY+c}const o=(0,Pa.createCoreData)(this,r,i);if(this.props.onStop(e,o)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,Dr.removeUserSelectStyles)(a.ownerDocument),(0,Uf.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,Uf.default)("DraggableCore: Removing handlers"),(0,Dr.removeEvent)(a.ownerDocument,ka.move,this.handleDrag),(0,Dr.removeEvent)(a.ownerDocument,ka.stop,this.handleDragStop))}),Qr(this,"onMouseDown",e=>(ka=Do.mouse,this.handleDragStart(e))),Qr(this,"onMouseUp",e=>(ka=Do.mouse,this.handleDragStop(e))),Qr(this,"onTouchStart",e=>(ka=Do.touch,this.handleDragStart(e))),Qr(this,"onTouchEnd",e=>(ka=Do.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Dr.addEvent)(e,Do.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,Dr.removeEvent)(n,Do.mouse.move,this.handleDrag),(0,Dr.removeEvent)(n,Do.touch.move,this.handleDrag),(0,Dr.removeEvent)(n,Do.mouse.stop,this.handleDragStop),(0,Dr.removeEvent)(n,Do.touch.stop,this.handleDragStop),(0,Dr.removeEvent)(e,Do.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Dr.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:dle.default.findDOMNode(this)}render(){return dw.cloneElement(dw.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};T_.default=R_;Qr(R_,"displayName","DraggableCore");Qr(R_,"propTypes",{allowAnyClick:ui.default.bool,children:ui.default.node.isRequired,disabled:ui.default.bool,enableUserSelectHack:ui.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:ui.default.arrayOf(ui.default.number),handle:ui.default.string,cancel:ui.default.string,nodeRef:ui.default.object,onStart:ui.default.func,onDrag:ui.default.func,onStop:ui.default.func,onMouseDown:ui.default.func,scale:ui.default.number,className:fw.dontSetMe,style:fw.dontSetMe,transform:fw.dontSetMe});Qr(R_,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var e=h(w),n=u(c1),r=u(Op),i=u(Nae),o=Dn,s=ks,a=Ps,l=u(T_),c=u(I_);function u(b){return b&&b.__esModule?b:{default:b}}function f(b){if(typeof WeakMap!="function")return null;var _=new WeakMap,C=new WeakMap;return(f=function(O){return O?C:_})(b)}function h(b,_){if(b&&b.__esModule)return b;if(b===null||typeof b!="object"&&typeof b!="function")return{default:b};var C=f(_);if(C&&C.has(b))return C.get(b);var O={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in b)if(E!=="default"&&Object.prototype.hasOwnProperty.call(b,E)){var I=N?Object.getOwnPropertyDescriptor(b,E):null;I&&(I.get||I.set)?Object.defineProperty(O,E,I):O[E]=b[E]}return O.default=b,C&&C.set(b,O),O}function p(){return p=Object.assign?Object.assign.bind():function(b){for(var _=1;_<arguments.length;_++){var C=arguments[_];for(var O in C)Object.prototype.hasOwnProperty.call(C,O)&&(b[O]=C[O])}return b},p.apply(this,arguments)}function g(b,_,C){return _=x(_),_ in b?Object.defineProperty(b,_,{value:C,enumerable:!0,configurable:!0,writable:!0}):b[_]=C,b}function x(b){var _=S(b,"string");return typeof _=="symbol"?_:String(_)}function S(b,_){if(typeof b!="object"||b===null)return b;var C=b[Symbol.toPrimitive];if(C!==void 0){var O=C.call(b,_);if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(b)}class y extends e.Component{static getDerivedStateFromProps(_,C){let{position:O}=_,{prevPropsPosition:N}=C;return O&&(!N||O.x!==N.x||O.y!==N.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:O,prevPropsPosition:N}),{x:O.x,y:O.y,prevPropsPosition:{...O}}):null}constructor(_){super(_),g(this,"onDragStart",(C,O)=>{if((0,c.default)("Draggable: onDragStart: %j",O),this.props.onStart(C,(0,s.createDraggableData)(this,O))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),g(this,"onDrag",(C,O)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",O);const N=(0,s.createDraggableData)(this,O),E={x:N.x,y:N.y,slackX:0,slackY:0};if(this.props.bounds){const{x:R,y:v}=E;E.x+=this.state.slackX,E.y+=this.state.slackY;const[k,M]=(0,s.getBoundPosition)(this,E.x,E.y);E.x=k,E.y=M,E.slackX=this.state.slackX+(R-E.x),E.slackY=this.state.slackY+(v-E.y),N.x=E.x,N.y=E.y,N.deltaX=E.x-this.state.x,N.deltaY=E.y-this.state.y}if(this.props.onDrag(C,N)===!1)return!1;this.setState(E)}),g(this,"onDragStop",(C,O)=>{if(!this.state.dragging||this.props.onStop(C,(0,s.createDraggableData)(this,O))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",O);const E={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:R,y:v}=this.props.position;E.x=R,E.y=v}this.setState(E)}),this.state={dragging:!1,dragged:!1,x:_.position?_.position.x:_.defaultPosition.x,y:_.position?_.position.y:_.defaultPosition.y,prevPropsPosition:{..._.position},slackX:0,slackY:0,isElementSVG:!1},_.position&&!(_.onDrag||_.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var _,C;return(_=(C=this.props)===null||C===void 0||(C=C.nodeRef)===null||C===void 0?void 0:C.current)!==null&&_!==void 0?_:r.default.findDOMNode(this)}render(){const{axis:_,bounds:C,children:O,defaultPosition:N,defaultClassName:E,defaultClassNameDragging:I,defaultClassNameDragged:R,position:v,positionOffset:k,scale:M,...P}=this.props;let Y={},H=null;const ne=!!!v||this.state.dragging,j=v||N,F={x:(0,s.canDragX)(this)&&ne?this.state.x:j.x,y:(0,s.canDragY)(this)&&ne?this.state.y:j.y};this.state.isElementSVG?H=(0,o.createSVGTransform)(F,k):Y=(0,o.createCSSTransform)(F,k);const K=(0,i.default)(O.props.className||"",E,{[I]:this.state.dragging,[R]:this.state.dragged});return e.createElement(l.default,p({},P,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(O),{className:K,style:{...O.props.style,...Y},transform:H}))}}t.default=y,g(y,"displayName","Draggable"),g(y,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),g(y,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(d3);const{default:b3,DraggableCore:gle}=d3;C_.exports=b3;C_.exports.default=b3;C_.exports.DraggableCore=gle;var mle=C_.exports;const yle=Tp(mle),m2=100,y2=40,vle=w.memo(({node:t,zoom:e,groupDelta:n,isHighlighted:r,currentUserEmail:i,selectedNodes:o,editingNodeId:s,editedText:a,handleResizeMouseDown:l,handleNodeClick:c,handleDoubleClick:u,handleTyping:f,handleTextBlur:h,setEditedText:p,setHoveredNodeId:g,linkingSource:x,onStart:S,onDrag:y,onStop:b,hoveredNodeId:_})=>{const C=o.includes(t.id),O=_===t.id,N=((t.width||m2)+(t.height||y2))/2,E=N*.02,R=Math.max(E,4),v=C?"#8896DD":O?"white":"transparent",k=o.includes(t.id)?t.x+n.x:t.x,M=o.includes(t.id)?t.y+n.y:t.y;t.bgColor||t.id,t.textColor;const P=N*.03,Y=N*.1,H=t.fontSize?parseFloat(t.fontSize):14,W=H*.1,ne=H*.2,j=`${W}px ${W}px ${ne}px rgba(0, 0, 0, 0.7)`;return A.jsx(yle,{scale:e,position:{x:k,y:M},onStart:S,onDrag:y,onStop:b,children:A.jsxs("div",{onMouseEnter:()=>g(t.id),onMouseLeave:()=>g(null),onClick:F=>{F.stopPropagation(),c(t,F)},onDoubleClick:()=>u(t),style:{position:"absolute",transform:`translate3d(${t.x}px, ${t.y}px, 0)`,padding:"10px",backgroundColor:t.bgColor?t.bgColor:x===t.id?"#333":"#1e1e1e",color:t.textColor||"#fff",borderRadius:"8px",cursor:"grab",minWidth:"120px",width:t.width?`${t.width}px`:`${m2}px`,height:t.height?`${t.height}px`:`${y2}px`,overflow:"hidden",boxSizing:"border-box",fontSize:t.fontSize?`${t.fontSize}px`:"14px",textAlign:t.textAlign||"left",fontStyle:t.textStyle&&t.textStyle.includes("italic")?"italic":"normal",textDecoration:t.textStyle&&t.textStyle.includes("underline")?"underline":"none",fontWeight:t.textStyle&&t.textStyle.includes("bold")?"bold":"normal",fontFamily:t.fontFamily||"cursive",outlineWidth:`${R}px`,outlineStyle:"solid",outlineColor:v,outlineOffset:`${R}px`,transition:C?"outline-color 0.25s ease-in-out, box-shadow 0.2s ease-in-out, background-color 0.15s ease-in-out, color 0.15s ease-in-out":"none",boxShadow:`0 ${P}px ${Y}px rgba(0, 0, 0, 0.5)`,textShadow:j},children:[s===t.id?A.jsx("textarea",{value:a,onChange:F=>{p(F.target.value),f(t.id)},onBlur:()=>h(t.id),autoFocus:!0,style:{backgroundColor:"inherit",width:"100%",height:"107%",fontSize:"inherit",color:"inherit",fontStyle:"inherit",fontFamily:"inherit",fontWeight:"inherit",textDecoration:"inherit",textAlign:"inherit",border:"none",outline:"none",resize:"none",textShadow:j,padding:0,margin:0,boxSizing:"border-box"}}):t.type==="image"?A.jsx("img",{src:t.imageUrl,alt:"Node content",style:{width:"100%",height:"100%",objectFit:"contain",pointerEvents:"none"}}):A.jsx("span",{style:{whiteSpace:"pre-wrap"},children:t.text}),t.lockedBy&&t.lockedBy!==i&&A.jsxs("div",{style:{position:"absolute",bottom:0,left:0,backgroundColor:"rgba(255,0,0,0.7)",color:"#fff",fontSize:"10px",padding:"2px",borderRadius:"2px"},children:["Locked by ",t.lockedBy]}),t.typing&&t.lockedBy&&t.lockedBy!==i&&A.jsx("div",{style:{position:"absolute",bottom:0,right:0,backgroundColor:"rgba(0,0,255,0.7)",color:"#fff",fontSize:"10px",padding:"2px",borderRadius:"2px"},children:"Typing..."}),A.jsx("div",{onMouseDown:F=>l(t,F),style:{position:"absolute",bottom:0,right:0,width:"10%",height:"10%",opacity:.5,cursor:"nwse-resize",backgroundColor:"#ccc"}})]})})}),_le=(t,e,n=150,r=800,i=1.5)=>{const o={},s=c=>{if(c.parent){if(o[c.parent]===void 0){const u=t.find(f=>f.id===c.parent);u?s(u):o[c.parent]=0}o[c.id]=o[c.parent]+1}else o[c.id]=0};t.forEach(c=>{o[c.id]===void 0&&s(c)});const a={};t.forEach(c=>{const u=o[c.id];a[u]||(a[u]=[]),a[u].push(c.id)});const l={};return Object.keys(a).forEach(c=>{const u=parseInt(c,10),f=a[u],h=f.length,p=r*Math.pow(i,u);f.forEach((g,x)=>{const y=(x+1)/(h+1)*p-p/2+r/2,b=u*n;l[g]={x:y,y:b}})}),{layout:l,levelMap:o}},ble=(t,e,n=100,r=400,i=300)=>{const o={},s=c=>{if(c.parent){if(o[c.parent]===void 0){const u=t.find(f=>f.id===c.parent);u?s(u):o[c.parent]=0}o[c.id]=o[c.parent]+1}else o[c.id]=0};t.forEach(c=>{o[c.id]===void 0&&s(c)});const a={};t.forEach(c=>{const u=o[c.id];a[u]||(a[u]=[]),a[u].push(c.id)});const l={};return Object.keys(a).forEach(c=>{const u=parseInt(c,10),f=a[u],h=f.length,p=u*n,g=2*Math.PI/h;let x=0;f.forEach(S=>{const y=r+p*Math.cos(x),b=i+p*Math.sin(x);l[S]={x:y,y:b},x+=g})}),{layout:l,levelMap:o}},wle=(t,e,n=150,r=600,i=1.5)=>{const o={},s=c=>{if(c.parent){if(o[c.parent]===void 0){const u=t.find(f=>f.id===c.parent);u?s(u):o[c.parent]=0}o[c.id]=o[c.parent]+1}else o[c.id]=0};t.forEach(c=>{o[c.id]===void 0&&s(c)});const a={};t.forEach(c=>{const u=o[c.id];a[u]||(a[u]=[]),a[u].push(c.id)});const l={};return Object.keys(a).forEach(c=>{const u=parseInt(c,10),f=a[u],h=f.length,p=r*Math.pow(i,u);f.forEach((g,x)=>{const y=(x+1)/(h+1)*p-p/2+r/2,b=u*n;l[g]={x:b,y}})}),{layout:l,levelMap:o}};var po={},pg={},xle=typeof ja=="object"&&ja&&ja.Object===Object&&ja,w3=xle,Ele=w3,Sle=typeof self=="object"&&self&&self.Object===Object&&self,Cle=Ele||Sle||Function("return this")(),As=Cle,Tle=As,Ile=Tle.Symbol,gg=Ile,v2=gg,x3=Object.prototype,Rle=x3.hasOwnProperty,Ple=x3.toString,jf=v2?v2.toStringTag:void 0;function kle(t){var e=Rle.call(t,jf),n=t[jf];try{t[jf]=void 0;var r=!0}catch{}var i=Ple.call(t);return r&&(e?t[jf]=n:delete t[jf]),i}var Ale=kle,Ole=Object.prototype,Nle=Ole.toString;function Mle(t){return Nle.call(t)}var Dle=Mle,_2=gg,$le=Ale,Lle=Dle,Fle="[object Null]",Ble="[object Undefined]",b2=_2?_2.toStringTag:void 0;function Vle(t){return t==null?t===void 0?Ble:Fle:b2&&b2 in Object(t)?$le(t):Lle(t)}var Dc=Vle,Ule=Array.isArray,Zo=Ule;function jle(t){return t!=null&&typeof t=="object"}var ya=jle,zle=Dc,Wle=Zo,Hle=ya,Gle="[object String]";function qle(t){return typeof t=="string"||!Wle(t)&&Hle(t)&&zle(t)==Gle}var Kle=qle;function Yle(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var Xle=Yle,Qle=Xle,Jle=Qle(),Zle=Jle;function ece(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var tce=ece,nce=Dc,rce=ya,ice="[object Arguments]";function oce(t){return rce(t)&&nce(t)==ice}var sce=oce,w2=sce,ace=ya,E3=Object.prototype,lce=E3.hasOwnProperty,cce=E3.propertyIsEnumerable,uce=w2(function(){return arguments}())?w2:function(t){return ace(t)&&lce.call(t,"callee")&&!cce.call(t,"callee")},S3=uce,Tv={exports:{}};function dce(){return!1}var fce=dce;Tv.exports;(function(t,e){var n=As,r=fce,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(Tv,Tv.exports);var wT=Tv.exports,hce=9007199254740991,pce=/^(?:0|[1-9]\d*)$/;function gce(t,e){var n=typeof t;return e=e??hce,!!e&&(n=="number"||n!="symbol"&&pce.test(t))&&t>-1&&t%1==0&&t<e}var C3=gce,mce=9007199254740991;function yce(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=mce}var xT=yce,vce=Dc,_ce=xT,bce=ya,wce="[object Arguments]",xce="[object Array]",Ece="[object Boolean]",Sce="[object Date]",Cce="[object Error]",Tce="[object Function]",Ice="[object Map]",Rce="[object Number]",Pce="[object Object]",kce="[object RegExp]",Ace="[object Set]",Oce="[object String]",Nce="[object WeakMap]",Mce="[object ArrayBuffer]",Dce="[object DataView]",$ce="[object Float32Array]",Lce="[object Float64Array]",Fce="[object Int8Array]",Bce="[object Int16Array]",Vce="[object Int32Array]",Uce="[object Uint8Array]",jce="[object Uint8ClampedArray]",zce="[object Uint16Array]",Wce="[object Uint32Array]",dn={};dn[$ce]=dn[Lce]=dn[Fce]=dn[Bce]=dn[Vce]=dn[Uce]=dn[jce]=dn[zce]=dn[Wce]=!0;dn[wce]=dn[xce]=dn[Mce]=dn[Ece]=dn[Dce]=dn[Sce]=dn[Cce]=dn[Tce]=dn[Ice]=dn[Rce]=dn[Pce]=dn[kce]=dn[Ace]=dn[Oce]=dn[Nce]=!1;function Hce(t){return bce(t)&&_ce(t.length)&&!!dn[vce(t)]}var Gce=Hce;function qce(t){return function(e){return t(e)}}var ET=qce,Iv={exports:{}};Iv.exports;(function(t,e){var n=w3,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Iv,Iv.exports);var ST=Iv.exports,Kce=Gce,Yce=ET,x2=ST,E2=x2&&x2.isTypedArray,Xce=E2?Yce(E2):Kce,T3=Xce,Qce=tce,Jce=S3,Zce=Zo,eue=wT,tue=C3,nue=T3,rue=Object.prototype,iue=rue.hasOwnProperty;function oue(t,e){var n=Zce(t),r=!n&&Jce(t),i=!n&&!r&&eue(t),o=!n&&!r&&!i&&nue(t),s=n||r||i||o,a=s?Qce(t.length,String):[],l=a.length;for(var c in t)(e||iue.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||tue(c,l)))&&a.push(c);return a}var I3=oue,sue=Object.prototype;function aue(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||sue;return t===n}var CT=aue;function lue(t,e){return function(n){return t(e(n))}}var R3=lue,cue=R3,uue=cue(Object.keys,Object),due=uue,fue=CT,hue=due,pue=Object.prototype,gue=pue.hasOwnProperty;function mue(t){if(!fue(t))return hue(t);var e=[];for(var n in Object(t))gue.call(t,n)&&n!="constructor"&&e.push(n);return e}var yue=mue;function vue(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var of=vue,_ue=Dc,bue=of,wue="[object AsyncFunction]",xue="[object Function]",Eue="[object GeneratorFunction]",Sue="[object Proxy]";function Cue(t){if(!bue(t))return!1;var e=_ue(t);return e==xue||e==Eue||e==wue||e==Sue}var P3=Cue,Tue=P3,Iue=xT;function Rue(t){return t!=null&&Iue(t.length)&&!Tue(t)}var P_=Rue,Pue=I3,kue=yue,Aue=P_;function Oue(t){return Aue(t)?Pue(t):kue(t)}var mg=Oue,Nue=Zle,Mue=mg;function Due(t,e){return t&&Nue(t,e,Mue)}var k3=Due;function $ue(t){return t}var A3=$ue,Lue=A3;function Fue(t){return typeof t=="function"?t:Lue}var Bue=Fue,Vue=k3,Uue=Bue;function jue(t,e){return t&&Vue(t,Uue(e))}var TT=jue,zue=R3,Wue=zue(Object.getPrototypeOf,Object),IT=Wue,Hue=Dc,Gue=IT,que=ya,Kue="[object Object]",Yue=Function.prototype,Xue=Object.prototype,O3=Yue.toString,Que=Xue.hasOwnProperty,Jue=O3.call(Object);function Zue(t){if(!que(t)||Hue(t)!=Kue)return!1;var e=Gue(t);if(e===null)return!0;var n=Que.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&O3.call(n)==Jue}var ede=Zue;function tde(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var N3=tde;function nde(){this.__data__=[],this.size=0}var rde=nde;function ide(t,e){return t===e||t!==t&&e!==e}var RT=ide,ode=RT;function sde(t,e){for(var n=t.length;n--;)if(ode(t[n][0],e))return n;return-1}var k_=sde,ade=k_,lde=Array.prototype,cde=lde.splice;function ude(t){var e=this.__data__,n=ade(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():cde.call(e,n,1),--this.size,!0}var dde=ude,fde=k_;function hde(t){var e=this.__data__,n=fde(e,t);return n<0?void 0:e[n][1]}var pde=hde,gde=k_;function mde(t){return gde(this.__data__,t)>-1}var yde=mde,vde=k_;function _de(t,e){var n=this.__data__,r=vde(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var bde=_de,wde=rde,xde=dde,Ede=pde,Sde=yde,Cde=bde;function sf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}sf.prototype.clear=wde;sf.prototype.delete=xde;sf.prototype.get=Ede;sf.prototype.has=Sde;sf.prototype.set=Cde;var A_=sf,Tde=A_;function Ide(){this.__data__=new Tde,this.size=0}var Rde=Ide;function Pde(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var kde=Pde;function Ade(t){return this.__data__.get(t)}var Ode=Ade;function Nde(t){return this.__data__.has(t)}var Mde=Nde,Dde=As,$de=Dde["__core-js_shared__"],Lde=$de,hw=Lde,S2=function(){var t=/[^.]+$/.exec(hw&&hw.keys&&hw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Fde(t){return!!S2&&S2 in t}var Bde=Fde,Vde=Function.prototype,Ude=Vde.toString;function jde(t){if(t!=null){try{return Ude.call(t)}catch{}try{return t+""}catch{}}return""}var M3=jde,zde=P3,Wde=Bde,Hde=of,Gde=M3,qde=/[\\^$.*+?()[\]{}|]/g,Kde=/^\[object .+?Constructor\]$/,Yde=Function.prototype,Xde=Object.prototype,Qde=Yde.toString,Jde=Xde.hasOwnProperty,Zde=RegExp("^"+Qde.call(Jde).replace(qde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function efe(t){if(!Hde(t)||Wde(t))return!1;var e=zde(t)?Zde:Kde;return e.test(Gde(t))}var tfe=efe;function nfe(t,e){return t==null?void 0:t[e]}var rfe=nfe,ife=tfe,ofe=rfe;function sfe(t,e){var n=ofe(t,e);return ife(n)?n:void 0}var $c=sfe,afe=$c,lfe=As,cfe=afe(lfe,"Map"),PT=cfe,ufe=$c,dfe=ufe(Object,"create"),O_=dfe,C2=O_;function ffe(){this.__data__=C2?C2(null):{},this.size=0}var hfe=ffe;function pfe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var gfe=pfe,mfe=O_,yfe="__lodash_hash_undefined__",vfe=Object.prototype,_fe=vfe.hasOwnProperty;function bfe(t){var e=this.__data__;if(mfe){var n=e[t];return n===yfe?void 0:n}return _fe.call(e,t)?e[t]:void 0}var wfe=bfe,xfe=O_,Efe=Object.prototype,Sfe=Efe.hasOwnProperty;function Cfe(t){var e=this.__data__;return xfe?e[t]!==void 0:Sfe.call(e,t)}var Tfe=Cfe,Ife=O_,Rfe="__lodash_hash_undefined__";function Pfe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ife&&e===void 0?Rfe:e,this}var kfe=Pfe,Afe=hfe,Ofe=gfe,Nfe=wfe,Mfe=Tfe,Dfe=kfe;function af(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}af.prototype.clear=Afe;af.prototype.delete=Ofe;af.prototype.get=Nfe;af.prototype.has=Mfe;af.prototype.set=Dfe;var $fe=af,T2=$fe,Lfe=A_,Ffe=PT;function Bfe(){this.size=0,this.__data__={hash:new T2,map:new(Ffe||Lfe),string:new T2}}var Vfe=Bfe;function Ufe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var jfe=Ufe,zfe=jfe;function Wfe(t,e){var n=t.__data__;return zfe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var N_=Wfe,Hfe=N_;function Gfe(t){var e=Hfe(this,t).delete(t);return this.size-=e?1:0,e}var qfe=Gfe,Kfe=N_;function Yfe(t){return Kfe(this,t).get(t)}var Xfe=Yfe,Qfe=N_;function Jfe(t){return Qfe(this,t).has(t)}var Zfe=Jfe,ehe=N_;function the(t,e){var n=ehe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var nhe=the,rhe=Vfe,ihe=qfe,ohe=Xfe,she=Zfe,ahe=nhe;function lf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}lf.prototype.clear=rhe;lf.prototype.delete=ihe;lf.prototype.get=ohe;lf.prototype.has=she;lf.prototype.set=ahe;var kT=lf,lhe=A_,che=PT,uhe=kT,dhe=200;function fhe(t,e){var n=this.__data__;if(n instanceof lhe){var r=n.__data__;if(!che||r.length<dhe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new uhe(r)}return n.set(t,e),this.size=n.size,this}var hhe=fhe,phe=A_,ghe=Rde,mhe=kde,yhe=Ode,vhe=Mde,_he=hhe;function cf(t){var e=this.__data__=new phe(t);this.size=e.size}cf.prototype.clear=ghe;cf.prototype.delete=mhe;cf.prototype.get=yhe;cf.prototype.has=vhe;cf.prototype.set=_he;var AT=cf,bhe="__lodash_hash_undefined__";function whe(t){return this.__data__.set(t,bhe),this}var xhe=whe;function Ehe(t){return this.__data__.has(t)}var She=Ehe,Che=kT,The=xhe,Ihe=She;function Rv(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Che;++e<n;)this.add(t[e])}Rv.prototype.add=Rv.prototype.push=The;Rv.prototype.has=Ihe;var Rhe=Rv;function Phe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var khe=Phe;function Ahe(t,e){return t.has(e)}var Ohe=Ahe,Nhe=Rhe,Mhe=khe,Dhe=Ohe,$he=1,Lhe=2;function Fhe(t,e,n,r,i,o){var s=n&$he,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=n&Lhe?new Nhe:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var g=t[f],x=e[f];if(r)var S=s?r(x,g,f,e,t,o):r(g,x,f,t,e,o);if(S!==void 0){if(S)continue;h=!1;break}if(p){if(!Mhe(e,function(y,b){if(!Dhe(p,b)&&(g===y||i(g,y,n,r,o)))return p.push(b)})){h=!1;break}}else if(!(g===x||i(g,x,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var D3=Fhe,Bhe=As,Vhe=Bhe.Uint8Array,$3=Vhe;function Uhe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var jhe=Uhe;function zhe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Whe=zhe,I2=gg,R2=$3,Hhe=RT,Ghe=D3,qhe=jhe,Khe=Whe,Yhe=1,Xhe=2,Qhe="[object Boolean]",Jhe="[object Date]",Zhe="[object Error]",epe="[object Map]",tpe="[object Number]",npe="[object RegExp]",rpe="[object Set]",ipe="[object String]",ope="[object Symbol]",spe="[object ArrayBuffer]",ape="[object DataView]",P2=I2?I2.prototype:void 0,pw=P2?P2.valueOf:void 0;function lpe(t,e,n,r,i,o,s){switch(n){case ape:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case spe:return!(t.byteLength!=e.byteLength||!o(new R2(t),new R2(e)));case Qhe:case Jhe:case tpe:return Hhe(+t,+e);case Zhe:return t.name==e.name&&t.message==e.message;case npe:case ipe:return t==e+"";case epe:var a=qhe;case rpe:var l=r&Yhe;if(a||(a=Khe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=Xhe,s.set(t,e);var u=Ghe(a(t),a(e),r,i,o,s);return s.delete(t),u;case ope:if(pw)return pw.call(t)==pw.call(e)}return!1}var cpe=lpe;function upe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var L3=upe,dpe=L3,fpe=Zo;function hpe(t,e,n){var r=e(t);return fpe(t)?r:dpe(r,n(t))}var F3=hpe;function ppe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var gpe=ppe;function mpe(){return[]}var B3=mpe,ype=gpe,vpe=B3,_pe=Object.prototype,bpe=_pe.propertyIsEnumerable,k2=Object.getOwnPropertySymbols,wpe=k2?function(t){return t==null?[]:(t=Object(t),ype(k2(t),function(e){return bpe.call(t,e)}))}:vpe,OT=wpe,xpe=F3,Epe=OT,Spe=mg;function Cpe(t){return xpe(t,Spe,Epe)}var V3=Cpe,A2=V3,Tpe=1,Ipe=Object.prototype,Rpe=Ipe.hasOwnProperty;function Ppe(t,e,n,r,i,o){var s=n&Tpe,a=A2(t),l=a.length,c=A2(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:Rpe.call(e,h)))return!1}var p=o.get(t),g=o.get(e);if(p&&g)return p==e&&g==t;var x=!0;o.set(t,e),o.set(e,t);for(var S=s;++f<l;){h=a[f];var y=t[h],b=e[h];if(r)var _=s?r(b,y,h,e,t,o):r(y,b,h,t,e,o);if(!(_===void 0?y===b||i(y,b,n,r,o):_)){x=!1;break}S||(S=h=="constructor")}if(x&&!S){var C=t.constructor,O=e.constructor;C!=O&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof O=="function"&&O instanceof O)&&(x=!1)}return o.delete(t),o.delete(e),x}var kpe=Ppe,Ape=$c,Ope=As,Npe=Ape(Ope,"DataView"),Mpe=Npe,Dpe=$c,$pe=As,Lpe=Dpe($pe,"Promise"),Fpe=Lpe,Bpe=$c,Vpe=As,Upe=Bpe(Vpe,"Set"),jpe=Upe,zpe=$c,Wpe=As,Hpe=zpe(Wpe,"WeakMap"),Gpe=Hpe,DE=Mpe,$E=PT,LE=Fpe,FE=jpe,BE=Gpe,U3=Dc,uf=M3,O2="[object Map]",qpe="[object Object]",N2="[object Promise]",M2="[object Set]",D2="[object WeakMap]",$2="[object DataView]",Kpe=uf(DE),Ype=uf($E),Xpe=uf(LE),Qpe=uf(FE),Jpe=uf(BE),Kl=U3;(DE&&Kl(new DE(new ArrayBuffer(1)))!=$2||$E&&Kl(new $E)!=O2||LE&&Kl(LE.resolve())!=N2||FE&&Kl(new FE)!=M2||BE&&Kl(new BE)!=D2)&&(Kl=function(t){var e=U3(t),n=e==qpe?t.constructor:void 0,r=n?uf(n):"";if(r)switch(r){case Kpe:return $2;case Ype:return O2;case Xpe:return N2;case Qpe:return M2;case Jpe:return D2}return e});var M_=Kl,gw=AT,Zpe=D3,ege=cpe,tge=kpe,L2=M_,F2=Zo,B2=wT,nge=T3,rge=1,V2="[object Arguments]",U2="[object Array]",xm="[object Object]",ige=Object.prototype,j2=ige.hasOwnProperty;function oge(t,e,n,r,i,o){var s=F2(t),a=F2(e),l=s?U2:L2(t),c=a?U2:L2(e);l=l==V2?xm:l,c=c==V2?xm:c;var u=l==xm,f=c==xm,h=l==c;if(h&&B2(t)){if(!B2(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new gw),s||nge(t)?Zpe(t,e,n,r,i,o):ege(t,e,l,n,r,i,o);if(!(n&rge)){var p=u&&j2.call(t,"__wrapped__"),g=f&&j2.call(e,"__wrapped__");if(p||g){var x=p?t.value():t,S=g?e.value():e;return o||(o=new gw),i(x,S,n,r,o)}}return h?(o||(o=new gw),tge(t,e,n,r,i,o)):!1}var sge=oge,age=sge,z2=ya;function j3(t,e,n,r,i){return t===e?!0:t==null||e==null||!z2(t)&&!z2(e)?t!==t&&e!==e:age(t,e,n,r,j3,i)}var z3=j3,lge=AT,cge=z3,uge=1,dge=2;function fge(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],c=t[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new lge;if(r)var h=r(c,u,l,t,e,f);if(!(h===void 0?cge(u,c,uge|dge,r,f):h))return!1}}return!0}var hge=fge,pge=of;function gge(t){return t===t&&!pge(t)}var W3=gge,mge=W3,yge=mg;function vge(t){for(var e=yge(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,mge(i)]}return e}var _ge=vge;function bge(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var H3=bge,wge=hge,xge=_ge,Ege=H3;function Sge(t){var e=xge(t);return e.length==1&&e[0][2]?Ege(e[0][0],e[0][1]):function(n){return n===t||wge(n,t,e)}}var Cge=Sge,Tge=Dc,Ige=ya,Rge="[object Symbol]";function Pge(t){return typeof t=="symbol"||Ige(t)&&Tge(t)==Rge}var NT=Pge,kge=Zo,Age=NT,Oge=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nge=/^\w*$/;function Mge(t,e){if(kge(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Age(t)?!0:Nge.test(t)||!Oge.test(t)||e!=null&&t in Object(e)}var MT=Mge,G3=kT,Dge="Expected a function";function DT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Dge);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(DT.Cache||G3),n}DT.Cache=G3;var $ge=DT,Lge=$ge,Fge=500;function Bge(t){var e=Lge(t,function(r){return n.size===Fge&&n.clear(),r}),n=e.cache;return e}var Vge=Bge,Uge=Vge,jge=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zge=/\\(\\)?/g,Wge=Uge(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(jge,function(n,r,i,o){e.push(i?o.replace(zge,"$1"):r||n)}),e}),Hge=Wge,W2=gg,Gge=N3,qge=Zo,Kge=NT,H2=W2?W2.prototype:void 0,G2=H2?H2.toString:void 0;function q3(t){if(typeof t=="string")return t;if(qge(t))return Gge(t,q3)+"";if(Kge(t))return G2?G2.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Yge=q3,Xge=Yge;function Qge(t){return t==null?"":Xge(t)}var Jge=Qge,Zge=Zo,eme=MT,tme=Hge,nme=Jge;function rme(t,e){return Zge(t)?t:eme(t,e)?[t]:tme(nme(t))}var K3=rme,ime=NT;function ome(t){if(typeof t=="string"||ime(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var D_=ome,sme=K3,ame=D_;function lme(t,e){e=sme(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[ame(e[n++])];return n&&n==r?t:void 0}var Y3=lme,cme=Y3;function ume(t,e,n){var r=t==null?void 0:cme(t,e);return r===void 0?n:r}var dme=ume;function fme(t,e){return t!=null&&e in Object(t)}var hme=fme,pme=K3,gme=S3,mme=Zo,yme=C3,vme=xT,_me=D_;function bme(t,e,n){e=pme(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=_me(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&vme(i)&&yme(s,i)&&(mme(t)||gme(t)))}var wme=bme,xme=hme,Eme=wme;function Sme(t,e){return t!=null&&Eme(t,e,xme)}var Cme=Sme,Tme=z3,Ime=dme,Rme=Cme,Pme=MT,kme=W3,Ame=H3,Ome=D_,Nme=1,Mme=2;function Dme(t,e){return Pme(t)&&kme(e)?Ame(Ome(t),e):function(n){var r=Ime(n,t);return r===void 0&&r===e?Rme(n,t):Tme(e,r,Nme|Mme)}}var $me=Dme;function Lme(t){return function(e){return e==null?void 0:e[t]}}var Fme=Lme,Bme=Y3;function Vme(t){return function(e){return Bme(e,t)}}var Ume=Vme,jme=Fme,zme=Ume,Wme=MT,Hme=D_;function Gme(t){return Wme(t)?jme(Hme(t)):zme(t)}var qme=Gme,Kme=Cge,Yme=$me,Xme=A3,Qme=Zo,Jme=qme;function Zme(t){return typeof t=="function"?t:t==null?Xme:typeof t=="object"?Qme(t)?Yme(t[0],t[1]):Kme(t):Jme(t)}var eye=Zme,tye=P_;function nye(t,e){return function(n,r){if(n==null)return n;if(!tye(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var rye=nye,iye=k3,oye=rye,sye=oye(iye),aye=sye,lye=aye,cye=P_;function uye(t,e){var n=-1,r=cye(t)?Array(t.length):[];return lye(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var dye=uye,fye=N3,hye=eye,pye=dye,gye=Zo;function mye(t,e){var n=gye(t)?fye:pye;return n(t,hye(e))}var yye=mye;Object.defineProperty(pg,"__esModule",{value:!0});pg.flattenNames=void 0;var vye=Kle,_ye=$_(vye),bye=TT,wye=$_(bye),xye=ede,Eye=$_(xye),Sye=yye,Cye=$_(Sye);function $_(t){return t&&t.__esModule?t:{default:t}}var Tye=pg.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,Cye.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,Eye.default)(r)?(0,wye.default)(r,function(i,o){i===!0&&n.push(o),n.push(o+"-"+i)}):(0,_ye.default)(r)&&n.push(r)}),n};pg.default=Tye;var yg={};function Iye(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Rye=Iye,Pye=$c,kye=function(){try{var t=Pye(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Aye=kye,q2=Aye;function Oye(t,e,n){e=="__proto__"&&q2?q2(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var X3=Oye,Nye=X3,Mye=RT,Dye=Object.prototype,$ye=Dye.hasOwnProperty;function Lye(t,e,n){var r=t[e];(!($ye.call(t,e)&&Mye(r,n))||n===void 0&&!(e in t))&&Nye(t,e,n)}var Q3=Lye,Fye=Q3,Bye=X3;function Vye(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?Bye(n,a,l):Fye(n,a,l)}return n}var L_=Vye,Uye=L_,jye=mg;function zye(t,e){return t&&Uye(e,jye(e),t)}var Wye=zye;function Hye(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Gye=Hye,qye=of,Kye=CT,Yye=Gye,Xye=Object.prototype,Qye=Xye.hasOwnProperty;function Jye(t){if(!qye(t))return Yye(t);var e=Kye(t),n=[];for(var r in t)r=="constructor"&&(e||!Qye.call(t,r))||n.push(r);return n}var Zye=Jye,eve=I3,tve=Zye,nve=P_;function rve(t){return nve(t)?eve(t,!0):tve(t)}var $T=rve,ive=L_,ove=$T;function sve(t,e){return t&&ive(e,ove(e),t)}var ave=sve,Pv={exports:{}};Pv.exports;(function(t,e){var n=As,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var f=c.length,h=a?a(f):new c.constructor(f);return c.copy(h),h}t.exports=l})(Pv,Pv.exports);var lve=Pv.exports;function cve(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var uve=cve,dve=L_,fve=OT;function hve(t,e){return dve(t,fve(t),e)}var pve=hve,gve=L3,mve=IT,yve=OT,vve=B3,_ve=Object.getOwnPropertySymbols,bve=_ve?function(t){for(var e=[];t;)gve(e,yve(t)),t=mve(t);return e}:vve,J3=bve,wve=L_,xve=J3;function Eve(t,e){return wve(t,xve(t),e)}var Sve=Eve,Cve=F3,Tve=J3,Ive=$T;function Rve(t){return Cve(t,Ive,Tve)}var Pve=Rve,kve=Object.prototype,Ave=kve.hasOwnProperty;function Ove(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Ave.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Nve=Ove,K2=$3;function Mve(t){var e=new t.constructor(t.byteLength);return new K2(e).set(new K2(t)),e}var LT=Mve,Dve=LT;function $ve(t,e){var n=e?Dve(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Lve=$ve,Fve=/\w*$/;function Bve(t){var e=new t.constructor(t.source,Fve.exec(t));return e.lastIndex=t.lastIndex,e}var Vve=Bve,Y2=gg,X2=Y2?Y2.prototype:void 0,Q2=X2?X2.valueOf:void 0;function Uve(t){return Q2?Object(Q2.call(t)):{}}var jve=Uve,zve=LT;function Wve(t,e){var n=e?zve(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Hve=Wve,Gve=LT,qve=Lve,Kve=Vve,Yve=jve,Xve=Hve,Qve="[object Boolean]",Jve="[object Date]",Zve="[object Map]",e0e="[object Number]",t0e="[object RegExp]",n0e="[object Set]",r0e="[object String]",i0e="[object Symbol]",o0e="[object ArrayBuffer]",s0e="[object DataView]",a0e="[object Float32Array]",l0e="[object Float64Array]",c0e="[object Int8Array]",u0e="[object Int16Array]",d0e="[object Int32Array]",f0e="[object Uint8Array]",h0e="[object Uint8ClampedArray]",p0e="[object Uint16Array]",g0e="[object Uint32Array]";function m0e(t,e,n){var r=t.constructor;switch(e){case o0e:return Gve(t);case Qve:case Jve:return new r(+t);case s0e:return qve(t,n);case a0e:case l0e:case c0e:case u0e:case d0e:case f0e:case h0e:case p0e:case g0e:return Xve(t,n);case Zve:return new r;case e0e:case r0e:return new r(t);case t0e:return Kve(t);case n0e:return new r;case i0e:return Yve(t)}}var y0e=m0e,v0e=of,J2=Object.create,_0e=function(){function t(){}return function(e){if(!v0e(e))return{};if(J2)return J2(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),b0e=_0e,w0e=b0e,x0e=IT,E0e=CT;function S0e(t){return typeof t.constructor=="function"&&!E0e(t)?w0e(x0e(t)):{}}var C0e=S0e,T0e=M_,I0e=ya,R0e="[object Map]";function P0e(t){return I0e(t)&&T0e(t)==R0e}var k0e=P0e,A0e=k0e,O0e=ET,Z2=ST,eO=Z2&&Z2.isMap,N0e=eO?O0e(eO):A0e,M0e=N0e,D0e=M_,$0e=ya,L0e="[object Set]";function F0e(t){return $0e(t)&&D0e(t)==L0e}var B0e=F0e,V0e=B0e,U0e=ET,tO=ST,nO=tO&&tO.isSet,j0e=nO?U0e(nO):V0e,z0e=j0e,W0e=AT,H0e=Rye,G0e=Q3,q0e=Wye,K0e=ave,Y0e=lve,X0e=uve,Q0e=pve,J0e=Sve,Z0e=V3,e_e=Pve,t_e=M_,n_e=Nve,r_e=y0e,i_e=C0e,o_e=Zo,s_e=wT,a_e=M0e,l_e=of,c_e=z0e,u_e=mg,d_e=$T,f_e=1,h_e=2,p_e=4,Z3="[object Arguments]",g_e="[object Array]",m_e="[object Boolean]",y_e="[object Date]",v_e="[object Error]",eB="[object Function]",__e="[object GeneratorFunction]",b_e="[object Map]",w_e="[object Number]",tB="[object Object]",x_e="[object RegExp]",E_e="[object Set]",S_e="[object String]",C_e="[object Symbol]",T_e="[object WeakMap]",I_e="[object ArrayBuffer]",R_e="[object DataView]",P_e="[object Float32Array]",k_e="[object Float64Array]",A_e="[object Int8Array]",O_e="[object Int16Array]",N_e="[object Int32Array]",M_e="[object Uint8Array]",D_e="[object Uint8ClampedArray]",$_e="[object Uint16Array]",L_e="[object Uint32Array]",on={};on[Z3]=on[g_e]=on[I_e]=on[R_e]=on[m_e]=on[y_e]=on[P_e]=on[k_e]=on[A_e]=on[O_e]=on[N_e]=on[b_e]=on[w_e]=on[tB]=on[x_e]=on[E_e]=on[S_e]=on[C_e]=on[M_e]=on[D_e]=on[$_e]=on[L_e]=!0;on[v_e]=on[eB]=on[T_e]=!1;function sy(t,e,n,r,i,o){var s,a=e&f_e,l=e&h_e,c=e&p_e;if(n&&(s=i?n(t,r,i,o):n(t)),s!==void 0)return s;if(!l_e(t))return t;var u=o_e(t);if(u){if(s=n_e(t),!a)return X0e(t,s)}else{var f=t_e(t),h=f==eB||f==__e;if(s_e(t))return Y0e(t,a);if(f==tB||f==Z3||h&&!i){if(s=l||h?{}:i_e(t),!a)return l?J0e(t,K0e(s,t)):Q0e(t,q0e(s,t))}else{if(!on[f])return i?t:{};s=r_e(t,f,a)}}o||(o=new W0e);var p=o.get(t);if(p)return p;o.set(t,s),c_e(t)?t.forEach(function(S){s.add(sy(S,e,n,S,t,o))}):a_e(t)&&t.forEach(function(S,y){s.set(y,sy(S,e,n,y,t,o))});var g=c?l?e_e:Z0e:l?d_e:u_e,x=u?void 0:g(t);return H0e(x||t,function(S,y){x&&(y=S,S=t[y]),G0e(s,y,sy(S,e,n,y,t,o))}),s}var F_e=sy,B_e=F_e,V_e=1,U_e=4;function j_e(t){return B_e(t,V_e|U_e)}var z_e=j_e;Object.defineProperty(yg,"__esModule",{value:!0});yg.mergeClasses=void 0;var W_e=TT,H_e=nB(W_e),G_e=z_e,q_e=nB(G_e),K_e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function nB(t){return t&&t.__esModule?t:{default:t}}var Y_e=yg.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,q_e.default)(e.default)||{};return n.map(function(i){var o=e[i];return o&&(0,H_e.default)(o,function(s,a){r[a]||(r[a]={}),r[a]=K_e({},r[a],o[a])}),i}),r};yg.default=Y_e;var vg={};Object.defineProperty(vg,"__esModule",{value:!0});vg.autoprefix=void 0;var X_e=TT,rO=J_e(X_e),Q_e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function J_e(t){return t&&t.__esModule?t:{default:t}}var Z_e={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},ebe=vg.autoprefix=function(e){var n={};return(0,rO.default)(e,function(r,i){var o={};(0,rO.default)(r,function(s,a){var l=Z_e[a];l?o=Q_e({},o,l(s)):o[a]=s}),n[i]=o}),n};vg.default=ebe;var _g={};Object.defineProperty(_g,"__esModule",{value:!0});_g.hover=void 0;var tbe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nbe=w,mw=rbe(nbe);function rbe(t){return t&&t.__esModule?t:{default:t}}function ibe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function obe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var sbe=_g.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){obe(i,r);function i(){var o,s,a,l;ibe(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(s=(a=iO(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(u))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return mw.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},mw.default.createElement(e,tbe({},a.props,a.state)))},s),iO(a,l)}return i}(mw.default.Component)};_g.default=sbe;var bg={};Object.defineProperty(bg,"__esModule",{value:!0});bg.active=void 0;var abe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lbe=w,yw=cbe(lbe);function cbe(t){return t&&t.__esModule?t:{default:t}}function ube(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function dbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var fbe=bg.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){dbe(i,r);function i(){var o,s,a,l;ube(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(s=(a=oO(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(u))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return yw.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},yw.default.createElement(e,abe({},a.props,a.state)))},s),oO(a,l)}return i}(yw.default.Component)};bg.default=fbe;var FT={};Object.defineProperty(FT,"__esModule",{value:!0});var hbe=function(e,n){var r={},i=function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[s]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};FT.default=hbe;Object.defineProperty(po,"__esModule",{value:!0});po.ReactCSS=po.loop=po.handleActive=BT=po.handleHover=po.hover=void 0;var pbe=pg,gbe=df(pbe),mbe=yg,ybe=df(mbe),vbe=vg,_be=df(vbe),bbe=_g,rB=df(bbe),wbe=bg,xbe=df(wbe),Ebe=FT,Sbe=df(Ebe);function df(t){return t&&t.__esModule?t:{default:t}}po.hover=rB.default;var BT=po.handleHover=rB.default;po.handleActive=xbe.default;po.loop=Sbe.default;var Cbe=po.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=(0,gbe.default)(r),s=(0,ybe.default)(e,o);return(0,_be.default)(s)},Ye=po.default=Cbe,Tbe=function(e,n,r,i,o){var s=o.clientWidth,a=o.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=l-(o.getBoundingClientRect().left+window.pageXOffset),f=c-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var h=void 0;if(f<0?h=0:f>a?h=1:h=Math.round(f*100/a)/100,n.a!==h)return{h:n.h,s:n.s,l:n.l,a:h,source:"rgb"}}else{var p=void 0;if(u<0?p=0:u>s?p=1:p=Math.round(u*100/s)/100,i!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}return null},vw={},Ibe=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var s=o.getContext("2d");return s?(s.fillStyle=e,s.fillRect(0,0,o.width,o.height),s.fillStyle=n,s.fillRect(0,0,r,r),s.translate(r,r),s.fillRect(0,0,r,r),o.toDataURL()):null},Rbe=function(e,n,r,i){var o=e+"-"+n+"-"+r+(i?"-server":"");if(vw[o])return vw[o];var s=Ibe(e,n,r,i);return vw[o]=s,s},sO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ff=function(e){var n=e.white,r=e.grey,i=e.size,o=e.renderers,s=e.borderRadius,a=e.boxShadow,l=e.children,c=Ye({default:{grid:{borderRadius:s,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+Rbe(n,r,i,o.canvas)+") center left"}}});return w.isValidElement(l)?L.cloneElement(l,sO({},l.props,{style:sO({},l.props.style,c.grid)})):L.createElement("div",{style:c.grid})};ff.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var Pbe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kbe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Abe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Obe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var VT=function(t){Obe(e,t);function e(){var n,r,i,o;Abe(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=aO(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var u=Tbe(c,i.props.hsl,i.props.direction,i.props.a,i.container);u&&typeof i.props.onChange=="function"&&i.props.onChange(u,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),aO(i,o)}return kbe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=Ye({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:Pbe({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return L.createElement("div",{style:o.alpha},L.createElement("div",{style:o.checkboard},L.createElement(ff,{renderers:this.props.renderers})),L.createElement("div",{style:o.gradient}),L.createElement("div",{style:o.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},L.createElement("div",{style:o.pointer},this.props.pointer?L.createElement(this.props.pointer,this.props):L.createElement("div",{style:o.slider}))))}}]),e}(w.PureComponent||w.Component),Nbe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Mbe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $be(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Lbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Fbe=1,iB=38,Bbe=40,Vbe=[iB,Bbe],Ube=function(e){return Vbe.indexOf(e)>-1},jbe=function(e){return Number(String(e).replace(/%/g,""))},zbe=1,Pt=function(t){Lbe(e,t);function e(n){Dbe(this,e);var r=$be(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=jbe(i.target.value);if(!isNaN(o)&&Ube(i.keyCode)){var s=r.getArrowOffset(),a=i.keyCode===iB?o+s:o-s;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+zbe++,r}return Nbe(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return Mbe({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Fbe}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=Ye({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return L.createElement("div",{style:i.wrap},L.createElement("input",{id:this.inputId,style:i.input,ref:function(s){return r.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?L.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(w.PureComponent||w.Component),Wbe=function(e,n,r,i){var o=i.clientWidth,s=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(i.getBoundingClientRect().left+window.pageXOffset),u=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var f=void 0;if(u<0)f=359;else if(u>s)f=0;else{var h=-(u*100/s)+100;f=360*h/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var p=void 0;if(c<0)p=0;else if(c>o)p=359;else{var g=c*100/o;p=360*g/100}if(r.h!==p)return{h:p,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},Hbe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Gbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var hf=function(t){qbe(e,t);function e(){var n,r,i,o;Gbe(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=lO(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var u=Wbe(c,i.props.direction,i.props.hsl,i.container);u&&typeof i.props.onChange=="function"&&i.props.onChange(u,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),lO(i,o)}return Hbe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,s=Ye({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return L.createElement("div",{style:s.hue},L.createElement("div",{className:"hue-"+o,style:s.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},L.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),L.createElement("div",{style:s.pointer},this.props.pointer?L.createElement(this.props.pointer,this.props):L.createElement("div",{style:s.slider}))))}}]),e}(w.PureComponent||w.Component);function Kbe(){this.__data__=[],this.size=0}function wg(t,e){return t===e||t!==t&&e!==e}function F_(t,e){for(var n=t.length;n--;)if(wg(t[n][0],e))return n;return-1}var Ybe=Array.prototype,Xbe=Ybe.splice;function Qbe(t){var e=this.__data__,n=F_(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Xbe.call(e,n,1),--this.size,!0}function Jbe(t){var e=this.__data__,n=F_(e,t);return n<0?void 0:e[n][1]}function Zbe(t){return F_(this.__data__,t)>-1}function ewe(t,e){var n=this.__data__,r=F_(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function va(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}va.prototype.clear=Kbe;va.prototype.delete=Qbe;va.prototype.get=Jbe;va.prototype.has=Zbe;va.prototype.set=ewe;function twe(){this.__data__=new va,this.size=0}function nwe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function rwe(t){return this.__data__.get(t)}function iwe(t){return this.__data__.has(t)}var oB=typeof global=="object"&&global&&global.Object===Object&&global,owe=typeof self=="object"&&self&&self.Object===Object&&self,es=oB||owe||Function("return this")(),xl=es.Symbol,sB=Object.prototype,swe=sB.hasOwnProperty,awe=sB.toString,zf=xl?xl.toStringTag:void 0;function lwe(t){var e=swe.call(t,zf),n=t[zf];try{t[zf]=void 0;var r=!0}catch{}var i=awe.call(t);return r&&(e?t[zf]=n:delete t[zf]),i}var cwe=Object.prototype,uwe=cwe.toString;function dwe(t){return uwe.call(t)}var fwe="[object Null]",hwe="[object Undefined]",cO=xl?xl.toStringTag:void 0;function Lc(t){return t==null?t===void 0?hwe:fwe:cO&&cO in Object(t)?lwe(t):dwe(t)}function Co(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var pwe="[object AsyncFunction]",gwe="[object Function]",mwe="[object GeneratorFunction]",ywe="[object Proxy]";function UT(t){if(!Co(t))return!1;var e=Lc(t);return e==gwe||e==mwe||e==pwe||e==ywe}var _w=es["__core-js_shared__"],uO=function(){var t=/[^.]+$/.exec(_w&&_w.keys&&_w.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function vwe(t){return!!uO&&uO in t}var _we=Function.prototype,bwe=_we.toString;function Fc(t){if(t!=null){try{return bwe.call(t)}catch{}try{return t+""}catch{}}return""}var wwe=/[\\^$.*+?()[\]{}|]/g,xwe=/^\[object .+?Constructor\]$/,Ewe=Function.prototype,Swe=Object.prototype,Cwe=Ewe.toString,Twe=Swe.hasOwnProperty,Iwe=RegExp("^"+Cwe.call(Twe).replace(wwe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rwe(t){if(!Co(t)||vwe(t))return!1;var e=UT(t)?Iwe:xwe;return e.test(Fc(t))}function Pwe(t,e){return t==null?void 0:t[e]}function Bc(t,e){var n=Pwe(t,e);return Rwe(n)?n:void 0}var Sp=Bc(es,"Map"),Cp=Bc(Object,"create");function kwe(){this.__data__=Cp?Cp(null):{},this.size=0}function Awe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Owe="__lodash_hash_undefined__",Nwe=Object.prototype,Mwe=Nwe.hasOwnProperty;function Dwe(t){var e=this.__data__;if(Cp){var n=e[t];return n===Owe?void 0:n}return Mwe.call(e,t)?e[t]:void 0}var $we=Object.prototype,Lwe=$we.hasOwnProperty;function Fwe(t){var e=this.__data__;return Cp?e[t]!==void 0:Lwe.call(e,t)}var Bwe="__lodash_hash_undefined__";function Vwe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Cp&&e===void 0?Bwe:e,this}function Cc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Cc.prototype.clear=kwe;Cc.prototype.delete=Awe;Cc.prototype.get=Dwe;Cc.prototype.has=Fwe;Cc.prototype.set=Vwe;function Uwe(){this.size=0,this.__data__={hash:new Cc,map:new(Sp||va),string:new Cc}}function jwe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function B_(t,e){var n=t.__data__;return jwe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function zwe(t){var e=B_(this,t).delete(t);return this.size-=e?1:0,e}function Wwe(t){return B_(this,t).get(t)}function Hwe(t){return B_(this,t).has(t)}function Gwe(t,e){var n=B_(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function _a(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_a.prototype.clear=Uwe;_a.prototype.delete=zwe;_a.prototype.get=Wwe;_a.prototype.has=Hwe;_a.prototype.set=Gwe;var qwe=200;function Kwe(t,e){var n=this.__data__;if(n instanceof va){var r=n.__data__;if(!Sp||r.length<qwe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new _a(r)}return n.set(t,e),this.size=n.size,this}function bs(t){var e=this.__data__=new va(t);this.size=e.size}bs.prototype.clear=twe;bs.prototype.delete=nwe;bs.prototype.get=rwe;bs.prototype.has=iwe;bs.prototype.set=Kwe;var kv=function(){try{var t=Bc(Object,"defineProperty");return t({},"",{}),t}catch{}}();function jT(t,e,n){e=="__proto__"&&kv?kv(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function VE(t,e,n){(n!==void 0&&!wg(t[e],n)||n===void 0&&!(e in t))&&jT(t,e,n)}function Ywe(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[++i];if(n(o[l],l,o)===!1)break}return e}}var aB=Ywe(),lB=typeof Hi=="object"&&Hi&&!Hi.nodeType&&Hi,dO=lB&&typeof Gi=="object"&&Gi&&!Gi.nodeType&&Gi,Xwe=dO&&dO.exports===lB,fO=Xwe?es.Buffer:void 0;fO&&fO.allocUnsafe;function Qwe(t,e){return t.slice()}var Av=es.Uint8Array;function Jwe(t){var e=new t.constructor(t.byteLength);return new Av(e).set(new Av(t)),e}function Zwe(t,e){var n=Jwe(t.buffer);return new t.constructor(n,t.byteOffset,t.length)}function exe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var hO=Object.create,txe=function(){function t(){}return function(e){if(!Co(e))return{};if(hO)return hO(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function cB(t,e){return function(n){return t(e(n))}}var uB=cB(Object.getPrototypeOf,Object),nxe=Object.prototype;function zT(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||nxe;return t===n}function rxe(t){return typeof t.constructor=="function"&&!zT(t)?txe(uB(t)):{}}function El(t){return t!=null&&typeof t=="object"}var ixe="[object Arguments]";function pO(t){return El(t)&&Lc(t)==ixe}var dB=Object.prototype,oxe=dB.hasOwnProperty,sxe=dB.propertyIsEnumerable,Ov=pO(function(){return arguments}())?pO:function(t){return El(t)&&oxe.call(t,"callee")&&!sxe.call(t,"callee")},Zi=Array.isArray,axe=9007199254740991;function WT(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=axe}function pf(t){return t!=null&&WT(t.length)&&!UT(t)}function lxe(t){return El(t)&&pf(t)}function cxe(){return!1}var fB=typeof Hi=="object"&&Hi&&!Hi.nodeType&&Hi,gO=fB&&typeof Gi=="object"&&Gi&&!Gi.nodeType&&Gi,uxe=gO&&gO.exports===fB,mO=uxe?es.Buffer:void 0,dxe=mO?mO.isBuffer:void 0,Nv=dxe||cxe,fxe="[object Object]",hxe=Function.prototype,pxe=Object.prototype,hB=hxe.toString,gxe=pxe.hasOwnProperty,mxe=hB.call(Object);function yxe(t){if(!El(t)||Lc(t)!=fxe)return!1;var e=uB(t);if(e===null)return!0;var n=gxe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&hB.call(n)==mxe}var vxe="[object Arguments]",_xe="[object Array]",bxe="[object Boolean]",wxe="[object Date]",xxe="[object Error]",Exe="[object Function]",Sxe="[object Map]",Cxe="[object Number]",Txe="[object Object]",Ixe="[object RegExp]",Rxe="[object Set]",Pxe="[object String]",kxe="[object WeakMap]",Axe="[object ArrayBuffer]",Oxe="[object DataView]",Nxe="[object Float32Array]",Mxe="[object Float64Array]",Dxe="[object Int8Array]",$xe="[object Int16Array]",Lxe="[object Int32Array]",Fxe="[object Uint8Array]",Bxe="[object Uint8ClampedArray]",Vxe="[object Uint16Array]",Uxe="[object Uint32Array]",fn={};fn[Nxe]=fn[Mxe]=fn[Dxe]=fn[$xe]=fn[Lxe]=fn[Fxe]=fn[Bxe]=fn[Vxe]=fn[Uxe]=!0;fn[vxe]=fn[_xe]=fn[Axe]=fn[bxe]=fn[Oxe]=fn[wxe]=fn[xxe]=fn[Exe]=fn[Sxe]=fn[Cxe]=fn[Txe]=fn[Ixe]=fn[Rxe]=fn[Pxe]=fn[kxe]=!1;function jxe(t){return El(t)&&WT(t.length)&&!!fn[Lc(t)]}function zxe(t){return function(e){return t(e)}}var pB=typeof Hi=="object"&&Hi&&!Hi.nodeType&&Hi,Dh=pB&&typeof Gi=="object"&&Gi&&!Gi.nodeType&&Gi,Wxe=Dh&&Dh.exports===pB,bw=Wxe&&oB.process,yO=function(){try{var t=Dh&&Dh.require&&Dh.require("util").types;return t||bw&&bw.binding&&bw.binding("util")}catch{}}(),vO=yO&&yO.isTypedArray,HT=vO?zxe(vO):jxe;function UE(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Hxe=Object.prototype,Gxe=Hxe.hasOwnProperty;function qxe(t,e,n){var r=t[e];(!(Gxe.call(t,e)&&wg(r,n))||n===void 0&&!(e in t))&&jT(t,e,n)}function Kxe(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=void 0;l===void 0&&(l=t[a]),i?jT(n,a,l):qxe(n,a,l)}return n}function Yxe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Xxe=9007199254740991,Qxe=/^(?:0|[1-9]\d*)$/;function GT(t,e){var n=typeof t;return e=e??Xxe,!!e&&(n=="number"||n!="symbol"&&Qxe.test(t))&&t>-1&&t%1==0&&t<e}var Jxe=Object.prototype,Zxe=Jxe.hasOwnProperty;function gB(t,e){var n=Zi(t),r=!n&&Ov(t),i=!n&&!r&&Nv(t),o=!n&&!r&&!i&&HT(t),s=n||r||i||o,a=s?Yxe(t.length,String):[],l=a.length;for(var c in t)(e||Zxe.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||GT(c,l)))&&a.push(c);return a}function eEe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var tEe=Object.prototype,nEe=tEe.hasOwnProperty;function rEe(t){if(!Co(t))return eEe(t);var e=zT(t),n=[];for(var r in t)r=="constructor"&&(e||!nEe.call(t,r))||n.push(r);return n}function mB(t){return pf(t)?gB(t,!0):rEe(t)}function iEe(t){return Kxe(t,mB(t))}function oEe(t,e,n,r,i,o,s){var a=UE(t,n),l=UE(e,n),c=s.get(l);if(c){VE(t,n,c);return}var u=o?o(a,l,n+"",t,e,s):void 0,f=u===void 0;if(f){var h=Zi(l),p=!h&&Nv(l),g=!h&&!p&&HT(l);u=l,h||p||g?Zi(a)?u=a:lxe(a)?u=exe(a):p?(f=!1,u=Qwe(l)):g?(f=!1,u=Zwe(l)):u=[]:yxe(l)||Ov(l)?(u=a,Ov(a)?u=iEe(a):(!Co(a)||UT(a))&&(u=rxe(l))):f=!1}f&&(s.set(l,u),i(u,l,r,o,s),s.delete(l)),VE(t,n,u)}function yB(t,e,n,r,i){t!==e&&aB(e,function(o,s){if(i||(i=new bs),Co(o))oEe(t,e,s,n,yB,r,i);else{var a=r?r(UE(t,s),o,s+"",t,e,i):void 0;a===void 0&&(a=o),VE(t,s,a)}},mB)}function V_(t){return t}function sEe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var _O=Math.max;function aEe(t,e,n){return e=_O(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=_O(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),sEe(t,this,a)}}function lEe(t){return function(){return t}}var cEe=kv?function(t,e){return kv(t,"toString",{configurable:!0,enumerable:!1,value:lEe(e),writable:!0})}:V_,uEe=800,dEe=16,fEe=Date.now;function hEe(t){var e=0,n=0;return function(){var r=fEe(),i=dEe-(r-n);if(n=r,i>0){if(++e>=uEe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var pEe=hEe(cEe);function gEe(t,e){return pEe(aEe(t,e,V_),t+"")}function mEe(t,e,n){if(!Co(n))return!1;var r=typeof e;return(r=="number"?pf(n)&&GT(e,n.length):r=="string"&&e in n)?wg(n[e],t):!1}function yEe(t){return gEe(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&mEe(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}var Ri=yEe(function(t,e,n){yB(t,e,n)}),xg=function(e){var n=e.zDepth,r=e.radius,i=e.background,o=e.children,s=e.styles,a=s===void 0?{}:s,l=Ye(Ri({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return L.createElement("div",{style:l.wrap},L.createElement("div",{style:l.bg}),L.createElement("div",{style:l.content},o))};xg.propTypes={background:pe.string,zDepth:pe.oneOf([0,1,2,3,4,5]),radius:pe.number,styles:pe.object};xg.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var ww=function(){return es.Date.now()},vEe=/\s/;function _Ee(t){for(var e=t.length;e--&&vEe.test(t.charAt(e)););return e}var bEe=/^\s+/;function wEe(t){return t&&t.slice(0,_Ee(t)+1).replace(bEe,"")}var xEe="[object Symbol]";function U_(t){return typeof t=="symbol"||El(t)&&Lc(t)==xEe}var bO=NaN,EEe=/^[-+]0x[0-9a-f]+$/i,SEe=/^0b[01]+$/i,CEe=/^0o[0-7]+$/i,TEe=parseInt;function wO(t){if(typeof t=="number")return t;if(U_(t))return bO;if(Co(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Co(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=wEe(t);var n=SEe.test(t);return n||CEe.test(t)?TEe(t.slice(2),n?2:8):EEe.test(t)?bO:+t}var IEe="Expected a function",REe=Math.max,PEe=Math.min;function vB(t,e,n){var r,i,o,s,a,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(IEe);e=wO(e)||0,Co(n)&&(u=!!n.leading,f="maxWait"in n,o=f?REe(wO(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(N){var E=r,I=i;return r=i=void 0,c=N,s=t.apply(I,E),s}function g(N){return c=N,a=setTimeout(y,e),u?p(N):s}function x(N){var E=N-l,I=N-c,R=e-E;return f?PEe(R,o-I):R}function S(N){var E=N-l,I=N-c;return l===void 0||E>=e||E<0||f&&I>=o}function y(){var N=ww();if(S(N))return b(N);a=setTimeout(y,x(N))}function b(N){return a=void 0,h&&r?p(N):(r=i=void 0,s)}function _(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function C(){return a===void 0?s:b(ww())}function O(){var N=ww(),E=S(N);if(r=arguments,i=this,l=N,E){if(a===void 0)return g(l);if(f)return clearTimeout(a),a=setTimeout(y,e),p(l)}return a===void 0&&(a=setTimeout(y,e)),s}return O.cancel=_,O.flush=C,O}var kEe="Expected a function";function AEe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(kEe);return Co(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),vB(t,e,{leading:r,maxWait:e,trailing:i})}var OEe=function(e,n,r){var i=r.getBoundingClientRect(),o=i.width,s=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>o&&(c=o),u<0?u=0:u>s&&(u=s);var f=c/o,h=1-u/s;return{h:n.h,s:f,v:h,a:n.a,source:"hsv"}},NEe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function MEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DEe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function $Ee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var j_=function(t){$Ee(e,t);function e(n){MEe(this,e);var r=DEe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,OEe(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=AEe(function(i,o,s){i(o,s)},50),r}return NEe(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,s=i.white,a=i.black,l=i.pointer,c=i.circle,u=Ye({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:s,black:a,pointer:l,circle:c}},{custom:!!this.props.style});return L.createElement("div",{style:u.color,ref:function(h){return r.container=h},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},L.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),L.createElement("div",{style:u.white,className:"saturation-white"},L.createElement("div",{style:u.black,className:"saturation-black"}),L.createElement("div",{style:u.pointer},this.props.pointer?L.createElement(this.props.pointer,this.props):L.createElement("div",{style:u.circle}))))}}]),e}(w.PureComponent||w.Component);function LEe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var FEe=cB(Object.keys,Object),BEe=Object.prototype,VEe=BEe.hasOwnProperty;function UEe(t){if(!zT(t))return FEe(t);var e=[];for(var n in Object(t))VEe.call(t,n)&&n!="constructor"&&e.push(n);return e}function qT(t){return pf(t)?gB(t):UEe(t)}function jEe(t,e){return t&&aB(t,e,qT)}function zEe(t,e){return function(n,r){if(n==null)return n;if(!pf(n))return t(n,r);for(var i=n.length,o=-1,s=Object(n);++o<i&&r(s[o],o,s)!==!1;);return n}}var _B=zEe(jEe);function WEe(t){return typeof t=="function"?t:V_}function HEe(t,e){var n=Zi(t)?LEe:_B;return n(t,WEe(e))}function Mv(t){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mv(t)}var GEe=/^\s+/,qEe=/\s+$/;function De(t,e){if(t=t||"",e=e||{},t instanceof De)return t;if(!(this instanceof De))return new De(t,e);var n=KEe(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}De.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,o,s,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*s+.0722*a},setAlpha:function(e){return this._a=bB(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=EO(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=EO(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=xO(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=xO(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return SO(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return JEe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(bn(this._r,255)*100)+"%",g:Math.round(bn(this._g,255)*100)+"%",b:Math.round(bn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(bn(this._r,255)*100)+"%, "+Math.round(bn(this._g,255)*100)+"%, "+Math.round(bn(this._b,255)*100)+"%)":"rgba("+Math.round(bn(this._r,255)*100)+"%, "+Math.round(bn(this._g,255)*100)+"%, "+Math.round(bn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:uSe[SO(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+CO(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var o=De(e);r="#"+CO(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return De(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(nSe,arguments)},brighten:function(){return this._applyModification(rSe,arguments)},darken:function(){return this._applyModification(iSe,arguments)},desaturate:function(){return this._applyModification(ZEe,arguments)},saturate:function(){return this._applyModification(eSe,arguments)},greyscale:function(){return this._applyModification(tSe,arguments)},spin:function(){return this._applyModification(oSe,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(lSe,arguments)},complement:function(){return this._applyCombination(sSe,arguments)},monochromatic:function(){return this._applyCombination(cSe,arguments)},splitcomplement:function(){return this._applyCombination(aSe,arguments)},triad:function(){return this._applyCombination(TO,[3])},tetrad:function(){return this._applyCombination(TO,[4])}};De.fromRatio=function(t,e){if(Mv(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=oh(t[r]));t=n}return De(t,e)};function KEe(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=pSe(t)),Mv(t)=="object"&&(Fs(t.r)&&Fs(t.g)&&Fs(t.b)?(e=YEe(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Fs(t.h)&&Fs(t.s)&&Fs(t.v)?(r=oh(t.s),i=oh(t.v),e=QEe(t.h,r,i),s=!0,a="hsv"):Fs(t.h)&&Fs(t.s)&&Fs(t.l)&&(r=oh(t.s),o=oh(t.l),e=XEe(t.h,r,o),s=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=bB(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function YEe(t,e,n){return{r:bn(t,255)*255,g:bn(e,255)*255,b:bn(n,255)*255}}function xO(t,e,n){t=bn(t,255),e=bn(e,255),n=bn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=(r+i)/2;if(r==i)o=s=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,l:a}}function XEe(t,e,n){var r,i,o;t=bn(t,360),e=bn(e,100),n=bn(n,100);function s(c,u,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?c+(u-c)*6*f:f<1/2?u:f<2/3?c+(u-c)*(2/3-f)*6:c}if(e===0)r=i=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=s(l,a,t+1/3),i=s(l,a,t),o=s(l,a,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function EO(t,e,n){t=bn(t,255),e=bn(e,255),n=bn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=r,l=r-i;if(s=r===0?0:l/r,r==i)o=0;else{switch(r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,v:a}}function QEe(t,e,n){t=bn(t,360)*6,e=bn(e,100),n=bn(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,c=[n,s,o,o,a,n][l],u=[a,n,n,s,o,o][l],f=[o,o,a,n,n,s][l];return{r:c*255,g:u*255,b:f*255}}function SO(t,e,n,r){var i=[Wo(Math.round(t).toString(16)),Wo(Math.round(e).toString(16)),Wo(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function JEe(t,e,n,r,i){var o=[Wo(Math.round(t).toString(16)),Wo(Math.round(e).toString(16)),Wo(Math.round(n).toString(16)),Wo(wB(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function CO(t,e,n,r){var i=[Wo(wB(r)),Wo(Math.round(t).toString(16)),Wo(Math.round(e).toString(16)),Wo(Math.round(n).toString(16))];return i.join("")}De.equals=function(t,e){return!t||!e?!1:De(t).toRgbString()==De(e).toRgbString()};De.random=function(){return De.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function ZEe(t,e){e=e===0?0:e||10;var n=De(t).toHsl();return n.s-=e/100,n.s=z_(n.s),De(n)}function eSe(t,e){e=e===0?0:e||10;var n=De(t).toHsl();return n.s+=e/100,n.s=z_(n.s),De(n)}function tSe(t){return De(t).desaturate(100)}function nSe(t,e){e=e===0?0:e||10;var n=De(t).toHsl();return n.l+=e/100,n.l=z_(n.l),De(n)}function rSe(t,e){e=e===0?0:e||10;var n=De(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),De(n)}function iSe(t,e){e=e===0?0:e||10;var n=De(t).toHsl();return n.l-=e/100,n.l=z_(n.l),De(n)}function oSe(t,e){var n=De(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,De(n)}function sSe(t){var e=De(t).toHsl();return e.h=(e.h+180)%360,De(e)}function TO(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=De(t).toHsl(),r=[De(t)],i=360/e,o=1;o<e;o++)r.push(De({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function aSe(t){var e=De(t).toHsl(),n=e.h;return[De(t),De({h:(n+72)%360,s:e.s,l:e.l}),De({h:(n+216)%360,s:e.s,l:e.l})]}function lSe(t,e,n){e=e||6,n=n||30;var r=De(t).toHsl(),i=360/n,o=[De(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(De(r));return o}function cSe(t,e){e=e||6;for(var n=De(t).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;e--;)s.push(De({h:r,s:i,v:o})),o=(o+a)%1;return s}De.mix=function(t,e,n){n=n===0?0:n||50;var r=De(t).toRgb(),i=De(e).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return De(s)};De.readability=function(t,e){var n=De(t),r=De(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};De.isReadable=function(t,e,n){var r=De.readability(t,e),i,o;switch(o=!1,i=gSe(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};De.mostReadable=function(t,e,n){var r=null,i=0,o,s,a,l;n=n||{},s=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<e.length;c++)o=De.readability(t,e[c]),o>i&&(i=o,r=De(e[c]));return De.isReadable(t,r,{level:a,size:l})||!s?r:(n.includeFallbackColors=!1,De.mostReadable(t,["#fff","#000"],n))};var jE=De.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},uSe=De.hexNames=dSe(jE);function dSe(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function bB(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function bn(t,e){fSe(t)&&(t="100%");var n=hSe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function z_(t){return Math.min(1,Math.max(0,t))}function Mi(t){return parseInt(t,16)}function fSe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function hSe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Wo(t){return t.length==1?"0"+t:""+t}function oh(t){return t<=1&&(t=t*100+"%"),t}function wB(t){return Math.round(parseFloat(t)*255).toString(16)}function IO(t){return Mi(t)/255}var $o=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Fs(t){return!!$o.CSS_UNIT.exec(t)}function pSe(t){t=t.replace(GEe,"").replace(qEe,"").toLowerCase();var e=!1;if(jE[t])t=jE[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=$o.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=$o.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=$o.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=$o.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=$o.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=$o.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=$o.hex8.exec(t))?{r:Mi(n[1]),g:Mi(n[2]),b:Mi(n[3]),a:IO(n[4]),format:e?"name":"hex8"}:(n=$o.hex6.exec(t))?{r:Mi(n[1]),g:Mi(n[2]),b:Mi(n[3]),format:e?"name":"hex"}:(n=$o.hex4.exec(t))?{r:Mi(n[1]+""+n[1]),g:Mi(n[2]+""+n[2]),b:Mi(n[3]+""+n[3]),a:IO(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=$o.hex3.exec(t))?{r:Mi(n[1]+""+n[1]),g:Mi(n[2]+""+n[2]),b:Mi(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function gSe(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var RO=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return HEe(n,function(o){if(e[o]&&(r+=1,isNaN(e[o])||(i+=1),o==="s"||o==="l")){var s=/^\d+%$/;s.test(e[o])&&(i+=1)}}),r===i?e:!1},sh=function(e,n){var r=e.hex?De(e.hex):De(e),i=r.toHsl(),o=r.toHsv(),s=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,o.h=n||0);var l=a==="000000"&&s.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:s,hsv:o,oldHue:e.h||n||i.h,source:e.source}},Ml=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&De(e).isValid()},KT=function(e){if(!e)return"#fff";var n=sh(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},xw=function(e,n){var r=e.replace("°","");return De(n+" ("+r+")")._ok},Wf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mSe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function ySe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vSe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function _Se(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Pi=function(e){var n=function(r){_Se(i,r);function i(o){ySe(this,i);var s=vSe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return s.handleChange=function(a,l){var c=RO(a);if(c){var u=sh(a,a.h||s.state.oldHue);s.setState(u),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,u,l),s.props.onChange&&s.props.onChange(u,l)}},s.handleSwatchHover=function(a,l){var c=RO(a);if(c){var u=sh(a,a.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(u,l)}},s.state=Wf({},sh(o.color,0)),s.debounce=vB(function(a,l,c){a(l,c)},100),s}return mSe(i,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),L.createElement(e,Wf({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return Wf({},sh(s.color,a.oldHue))}}]),i}(w.PureComponent||w.Component);return n.propTypes=Wf({},e.propTypes),n.defaultProps=Wf({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},bSe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wSe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function xSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ESe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var SSe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){ESe(i,r);function i(){var o,s,a,l;xSe(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(s=(a=PO(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(u))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},s),PO(a,l)}return wSe(i,[{key:"render",value:function(){return L.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},L.createElement(e,bSe({},this.props,this.state)))}}]),i}(L.Component)},kO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CSe=13,TSe=function(e){var n=e.color,r=e.style,i=e.onClick,o=i===void 0?function(){}:i,s=e.onHover,a=e.title,l=a===void 0?n:a,c=e.children,u=e.focus,f=e.focusStyle,h=f===void 0?{}:f,p=n==="transparent",g=Ye({default:{swatch:kO({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,u?h:{})}}),x=function(C){return o(n,C)},S=function(C){return C.keyCode===CSe&&o(n,C)},y=function(C){return s(n,C)},b={};return s&&(b.onMouseOver=y),L.createElement("div",kO({style:g.swatch,onClick:x,title:l,tabIndex:0,onKeyDown:S},b),c,p&&L.createElement(ff,{borderRadius:g.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Vc=SSe(TSe);var ISe=function(e){var n=e.direction,r=Ye({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return L.createElement("div",{style:r.picker})},RSe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xB=function(e){var n=e.rgb,r=e.hsl,i=e.width,o=e.height,s=e.onChange,a=e.direction,l=e.style,c=e.renderers,u=e.pointer,f=e.className,h=f===void 0?"":f,p=Ye({default:{picker:{position:"relative",width:i,height:o},alpha:{radius:"2px",style:l}}});return L.createElement("div",{style:p.picker,className:"alpha-picker "+h},L.createElement(VT,RSe({},p.alpha,{rgb:n,hsl:r,pointer:u,renderers:c,onChange:s,direction:a})))};xB.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:ISe};Pi(xB);function EB(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var PSe="__lodash_hash_undefined__";function kSe(t){return this.__data__.set(t,PSe),this}function ASe(t){return this.__data__.has(t)}function Dv(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new _a;++e<n;)this.add(t[e])}Dv.prototype.add=Dv.prototype.push=kSe;Dv.prototype.has=ASe;function OSe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function NSe(t,e){return t.has(e)}var MSe=1,DSe=2;function SB(t,e,n,r,i,o){var s=n&MSe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=n&DSe?new Dv:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var g=t[f],x=e[f];if(r)var S=s?r(x,g,f,e,t,o):r(g,x,f,t,e,o);if(S!==void 0){if(S)continue;h=!1;break}if(p){if(!OSe(e,function(y,b){if(!NSe(p,b)&&(g===y||i(g,y,n,r,o)))return p.push(b)})){h=!1;break}}else if(!(g===x||i(g,x,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}function $Se(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function LSe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var FSe=1,BSe=2,VSe="[object Boolean]",USe="[object Date]",jSe="[object Error]",zSe="[object Map]",WSe="[object Number]",HSe="[object RegExp]",GSe="[object Set]",qSe="[object String]",KSe="[object Symbol]",YSe="[object ArrayBuffer]",XSe="[object DataView]",AO=xl?xl.prototype:void 0,Ew=AO?AO.valueOf:void 0;function QSe(t,e,n,r,i,o,s){switch(n){case XSe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case YSe:return!(t.byteLength!=e.byteLength||!o(new Av(t),new Av(e)));case VSe:case USe:case WSe:return wg(+t,+e);case jSe:return t.name==e.name&&t.message==e.message;case HSe:case qSe:return t==e+"";case zSe:var a=$Se;case GSe:var l=r&FSe;if(a||(a=LSe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=BSe,s.set(t,e);var u=SB(a(t),a(e),r,i,o,s);return s.delete(t),u;case KSe:if(Ew)return Ew.call(t)==Ew.call(e)}return!1}function JSe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function ZSe(t,e,n){var r=e(t);return Zi(t)?r:JSe(r,n(t))}function eCe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function tCe(){return[]}var nCe=Object.prototype,rCe=nCe.propertyIsEnumerable,OO=Object.getOwnPropertySymbols,iCe=OO?function(t){return t==null?[]:(t=Object(t),eCe(OO(t),function(e){return rCe.call(t,e)}))}:tCe;function NO(t){return ZSe(t,qT,iCe)}var oCe=1,sCe=Object.prototype,aCe=sCe.hasOwnProperty;function lCe(t,e,n,r,i,o){var s=n&oCe,a=NO(t),l=a.length,c=NO(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:aCe.call(e,h)))return!1}var p=o.get(t),g=o.get(e);if(p&&g)return p==e&&g==t;var x=!0;o.set(t,e),o.set(e,t);for(var S=s;++f<l;){h=a[f];var y=t[h],b=e[h];if(r)var _=s?r(b,y,h,e,t,o):r(y,b,h,t,e,o);if(!(_===void 0?y===b||i(y,b,n,r,o):_)){x=!1;break}S||(S=h=="constructor")}if(x&&!S){var C=t.constructor,O=e.constructor;C!=O&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof O=="function"&&O instanceof O)&&(x=!1)}return o.delete(t),o.delete(e),x}var zE=Bc(es,"DataView"),WE=Bc(es,"Promise"),HE=Bc(es,"Set"),GE=Bc(es,"WeakMap"),MO="[object Map]",cCe="[object Object]",DO="[object Promise]",$O="[object Set]",LO="[object WeakMap]",FO="[object DataView]",uCe=Fc(zE),dCe=Fc(Sp),fCe=Fc(WE),hCe=Fc(HE),pCe=Fc(GE),Na=Lc;(zE&&Na(new zE(new ArrayBuffer(1)))!=FO||Sp&&Na(new Sp)!=MO||WE&&Na(WE.resolve())!=DO||HE&&Na(new HE)!=$O||GE&&Na(new GE)!=LO)&&(Na=function(t){var e=Lc(t),n=e==cCe?t.constructor:void 0,r=n?Fc(n):"";if(r)switch(r){case uCe:return FO;case dCe:return MO;case fCe:return DO;case hCe:return $O;case pCe:return LO}return e});var gCe=1,BO="[object Arguments]",VO="[object Array]",Em="[object Object]",mCe=Object.prototype,UO=mCe.hasOwnProperty;function yCe(t,e,n,r,i,o){var s=Zi(t),a=Zi(e),l=s?VO:Na(t),c=a?VO:Na(e);l=l==BO?Em:l,c=c==BO?Em:c;var u=l==Em,f=c==Em,h=l==c;if(h&&Nv(t)){if(!Nv(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new bs),s||HT(t)?SB(t,e,n,r,i,o):QSe(t,e,l,n,r,i,o);if(!(n&gCe)){var p=u&&UO.call(t,"__wrapped__"),g=f&&UO.call(e,"__wrapped__");if(p||g){var x=p?t.value():t,S=g?e.value():e;return o||(o=new bs),i(x,S,n,r,o)}}return h?(o||(o=new bs),lCe(t,e,n,r,i,o)):!1}function YT(t,e,n,r,i){return t===e?!0:t==null||e==null||!El(t)&&!El(e)?t!==t&&e!==e:yCe(t,e,n,r,YT,i)}var vCe=1,_Ce=2;function bCe(t,e,n,r){var i=n.length,o=i;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var a=s[0],l=t[a],c=s[1];if(s[2]){if(l===void 0&&!(a in t))return!1}else{var u=new bs,f;if(!(f===void 0?YT(c,l,vCe|_Ce,r,u):f))return!1}}return!0}function CB(t){return t===t&&!Co(t)}function wCe(t){for(var e=qT(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,CB(i)]}return e}function TB(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function xCe(t){var e=wCe(t);return e.length==1&&e[0][2]?TB(e[0][0],e[0][1]):function(n){return n===t||bCe(n,t,e)}}var ECe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,SCe=/^\w*$/;function XT(t,e){if(Zi(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||U_(t)?!0:SCe.test(t)||!ECe.test(t)||e!=null&&t in Object(e)}var CCe="Expected a function";function QT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(CCe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(QT.Cache||_a),n}QT.Cache=_a;var TCe=500;function ICe(t){var e=QT(t,function(r){return n.size===TCe&&n.clear(),r}),n=e.cache;return e}var RCe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,PCe=/\\(\\)?/g,kCe=ICe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(RCe,function(n,r,i,o){e.push(i?o.replace(PCe,"$1"):r||n)}),e}),jO=xl?xl.prototype:void 0,zO=jO?jO.toString:void 0;function IB(t){if(typeof t=="string")return t;if(Zi(t))return EB(t,IB)+"";if(U_(t))return zO?zO.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function ACe(t){return t==null?"":IB(t)}function RB(t,e){return Zi(t)?t:XT(t,e)?[t]:kCe(ACe(t))}function W_(t){if(typeof t=="string"||U_(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function PB(t,e){e=RB(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[W_(e[n++])];return n&&n==r?t:void 0}function OCe(t,e,n){var r=t==null?void 0:PB(t,e);return r===void 0?n:r}function NCe(t,e){return t!=null&&e in Object(t)}function MCe(t,e,n){e=RB(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=W_(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&WT(i)&&GT(s,i)&&(Zi(t)||Ov(t)))}function DCe(t,e){return t!=null&&MCe(t,e,NCe)}var $Ce=1,LCe=2;function FCe(t,e){return XT(t)&&CB(e)?TB(W_(t),e):function(n){var r=OCe(n,t);return r===void 0&&r===e?DCe(n,t):YT(e,r,$Ce|LCe)}}function BCe(t){return function(e){return e==null?void 0:e[t]}}function VCe(t){return function(e){return PB(e,t)}}function UCe(t){return XT(t)?BCe(W_(t)):VCe(t)}function jCe(t){return typeof t=="function"?t:t==null?V_:typeof t=="object"?Zi(t)?FCe(t[0],t[1]):xCe(t):UCe(t)}function zCe(t,e){var n=-1,r=pf(t)?Array(t.length):[];return _B(t,function(i,o,s){r[++n]=e(i,o,s)}),r}function Uc(t,e){var n=Zi(t)?EB:zCe;return n(t,jCe(e))}var WCe=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,o=Ye({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return L.createElement("div",{style:o.swatches},Uc(n,function(s){return L.createElement(Vc,{key:s,color:s,style:o.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+s}})}),L.createElement("div",{style:o.clear}))},JT=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,h=i==="transparent",p=function(S,y){Ml(S)&&n({hex:S,source:"hex"},y)},g=Ye(Ri({default:{card:{width:s,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:KT(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":a==="hide"});return L.createElement("div",{style:g.card,className:"block-picker "+f},L.createElement("div",{style:g.triangle}),L.createElement("div",{style:g.head},h&&L.createElement(ff,{borderRadius:"6px 6px 0 0"}),L.createElement("div",{style:g.label},i)),L.createElement("div",{style:g.body},L.createElement(WCe,{colors:o,onClick:p,onSwatchHover:r}),L.createElement(Pt,{style:{input:g.input},value:i,onChange:p})))};JT.propTypes={width:pe.oneOfType([pe.string,pe.number]),colors:pe.arrayOf(pe.string),triangle:pe.oneOf(["top","hide"]),styles:pe.object};JT.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Pi(JT);var gu={100:"#ffcdd2",300:"#e57373",500:"#f44336",700:"#d32f2f",900:"#b71c1c"},mu={100:"#f8bbd0",300:"#f06292",500:"#e91e63",700:"#c2185b",900:"#880e4f"},yu={100:"#e1bee7",300:"#ba68c8",500:"#9c27b0",700:"#7b1fa2",900:"#4a148c"},vu={100:"#d1c4e9",300:"#9575cd",500:"#673ab7",700:"#512da8",900:"#311b92"},_u={100:"#c5cae9",300:"#7986cb",500:"#3f51b5",700:"#303f9f",900:"#1a237e"},bu={100:"#bbdefb",300:"#64b5f6",500:"#2196f3",700:"#1976d2",900:"#0d47a1"},wu={100:"#b3e5fc",300:"#4fc3f7",500:"#03a9f4",700:"#0288d1",900:"#01579b"},xu={100:"#b2ebf2",300:"#4dd0e1",500:"#00bcd4",700:"#0097a7",900:"#006064"},Eu={100:"#b2dfdb",300:"#4db6ac",500:"#009688",700:"#00796b",900:"#004d40"},ah={100:"#c8e6c9",300:"#81c784",500:"#4caf50",700:"#388e3c"},Su={100:"#dcedc8",300:"#aed581",500:"#8bc34a",700:"#689f38",900:"#33691e"},Cu={100:"#f0f4c3",300:"#dce775",500:"#cddc39",700:"#afb42b",900:"#827717"},Tu={100:"#fff9c4",300:"#fff176",500:"#ffeb3b",700:"#fbc02d",900:"#f57f17"},Iu={100:"#ffecb3",300:"#ffd54f",500:"#ffc107",700:"#ffa000",900:"#ff6f00"},Ru={100:"#ffe0b2",300:"#ffb74d",500:"#ff9800",700:"#f57c00",900:"#e65100"},Pu={100:"#ffccbc",300:"#ff8a65",500:"#ff5722",700:"#e64a19",900:"#bf360c"},ku={100:"#d7ccc8",300:"#a1887f",500:"#795548",700:"#5d4037",900:"#3e2723"},Au={100:"#cfd8dc",300:"#90a4ae",500:"#607d8b",700:"#455a64",900:"#263238"},kB=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,o=e.hover,s=e.active,a=e.circleSize,l=e.circleSpacing,c=Ye({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:o,active:s});return L.createElement("div",{style:c.swatch},L.createElement(Vc,{style:c.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+n}}))};kB.defaultProps={circleSize:28,circleSpacing:14};const HCe=BT(kB);var ZT=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,o=e.colors,s=e.hex,a=e.circleSize,l=e.styles,c=l===void 0?{}:l,u=e.circleSpacing,f=e.className,h=f===void 0?"":f,p=Ye(Ri({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},c)),g=function(S,y){return r({hex:S,source:"hex"},y)};return L.createElement("div",{style:p.card,className:"circle-picker "+h},Uc(o,function(x){return L.createElement(HCe,{key:x,color:x,onClick:g,onSwatchHover:i,active:s===x.toLowerCase(),circleSize:a,circleSpacing:u})}))};ZT.propTypes={width:pe.oneOfType([pe.string,pe.number]),circleSize:pe.number,circleSpacing:pe.number,styles:pe.object};ZT.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[gu[500],mu[500],yu[500],vu[500],_u[500],bu[500],wu[500],xu[500],Eu[500],ah[500],Su[500],Cu[500],Tu[500],Iu[500],Ru[500],Pu[500],ku[500],Au[500]],styles:{}};Pi(ZT);function WO(t){return t===void 0}var AB={};Object.defineProperty(AB,"__esModule",{value:!0});var HO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GCe=w,GO=qCe(GCe);function qCe(t){return t&&t.__esModule?t:{default:t}}function KCe(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var Sm=24,YCe=AB.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?Sm:r,o=t.height,s=o===void 0?Sm:o,a=t.style,l=a===void 0?{}:a,c=KCe(t,["fill","width","height","style"]);return GO.default.createElement("svg",HO({viewBox:"0 0 "+Sm+" "+Sm,style:HO({fill:n,width:i,height:s},l)},c),GO.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},XCe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function QCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JCe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ZCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var OB=function(t){ZCe(e,t);function e(n){QCe(this,e);var r=JCe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?Ml(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(WO(i.s)?r.props.hsl.s:i.s),l:Number(WO(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return XCe(e,[{key:"render",value:function(){var r=this,i=Ye({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=L.createElement("div",{style:i.fields,className:"flexbox-fix"},L.createElement("div",{style:i.field},L.createElement(Pt,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=L.createElement("div",{style:i.fields,className:"flexbox-fix"},L.createElement("div",{style:i.field},L.createElement(Pt,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),L.createElement("div",{style:i.field},L.createElement(Pt,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),L.createElement("div",{style:i.field},L.createElement(Pt,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),L.createElement("div",{style:i.alpha},L.createElement(Pt,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=L.createElement("div",{style:i.fields,className:"flexbox-fix"},L.createElement("div",{style:i.field},L.createElement(Pt,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),L.createElement("div",{style:i.field},L.createElement(Pt,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),L.createElement("div",{style:i.field},L.createElement(Pt,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),L.createElement("div",{style:i.alpha},L.createElement(Pt,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),L.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,L.createElement("div",{style:i.toggle},L.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},L.createElement(YCe,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(L.Component);OB.defaultProps={view:"hex"};var qO=function(){var e=Ye({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return L.createElement("div",{style:e.picker})},e1e=function(){var e=Ye({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return L.createElement("div",{style:e.picker})},eI=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,o=e.rgb,s=e.hsl,a=e.hsv,l=e.hex,c=e.renderers,u=e.styles,f=u===void 0?{}:u,h=e.className,p=h===void 0?"":h,g=e.defaultView,x=Ye(Ri({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},f),{disableAlpha:i});return L.createElement("div",{style:x.picker,className:"chrome-picker "+p},L.createElement("div",{style:x.saturation},L.createElement(j_,{style:x.Saturation,hsl:s,hsv:a,pointer:e1e,onChange:r})),L.createElement("div",{style:x.body},L.createElement("div",{style:x.controls,className:"flexbox-fix"},L.createElement("div",{style:x.color},L.createElement("div",{style:x.swatch},L.createElement("div",{style:x.active}),L.createElement(ff,{renderers:c}))),L.createElement("div",{style:x.toggles},L.createElement("div",{style:x.hue},L.createElement(hf,{style:x.Hue,hsl:s,pointer:qO,onChange:r})),L.createElement("div",{style:x.alpha},L.createElement(VT,{style:x.Alpha,rgb:o,hsl:s,pointer:qO,renderers:c,onChange:r})))),L.createElement(OB,{rgb:o,hsl:s,hex:l,view:g,onChange:r,disableAlpha:i})))};eI.propTypes={width:pe.oneOfType([pe.string,pe.number]),disableAlpha:pe.bool,styles:pe.object,defaultView:pe.oneOf(["hex","rgb","hsl"])};eI.defaultProps={width:225,disableAlpha:!1,styles:{}};Pi(eI);var t1e=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.active,a=Ye({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:KT(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:s,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return L.createElement(Vc,{style:a.color,color:n,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},L.createElement("div",{style:a.dot}))},n1e=function(e){var n=e.hex,r=e.rgb,i=e.onChange,o=Ye({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),s=function(l,c){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},c):i({hex:l.hex,source:"hex"},c)};return L.createElement("div",{style:o.fields,className:"flexbox-fix"},L.createElement("div",{style:o.active}),L.createElement(Pt,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:n,onChange:s}),L.createElement(Pt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:s}),L.createElement(Pt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:s}),L.createElement(Pt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:s}))},tI=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,o=e.hex,s=e.rgb,a=e.styles,l=a===void 0?{}:a,c=e.className,u=c===void 0?"":c,f=Ye(Ri({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),h=function(g,x){g.hex?Ml(g.hex)&&n({hex:g.hex,source:"hex"},x):n(g,x)};return L.createElement(xg,{style:f.Compact,styles:l},L.createElement("div",{style:f.compact,className:"compact-picker "+u},L.createElement("div",null,Uc(i,function(p){return L.createElement(t1e,{key:p,color:p,active:p.toLowerCase()===o,onClick:h,onSwatchHover:r})}),L.createElement("div",{style:f.clear})),L.createElement(n1e,{hex:o,rgb:s,onChange:h})))};tI.propTypes={colors:pe.arrayOf(pe.string),styles:pe.object};tI.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Pi(tI);var r1e=function(e){var n=e.hover,r=e.color,i=e.onClick,o=e.onSwatchHover,s={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=Ye({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:s}},{hover:n});return L.createElement("div",{style:a.swatch},L.createElement(Vc,{color:r,onClick:i,onHover:o,focusStyle:s}))};const i1e=BT(r1e);var nI=function(e){var n=e.width,r=e.colors,i=e.onChange,o=e.onSwatchHover,s=e.triangle,a=e.styles,l=a===void 0?{}:a,c=e.className,u=c===void 0?"":c,f=Ye(Ri({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right","bottom-left-triangle":s==="bottom-left","bottom-right-triangle":s==="bottom-right"}),h=function(g,x){return i({hex:g,source:"hex"},x)};return L.createElement("div",{style:f.card,className:"github-picker "+u},L.createElement("div",{style:f.triangleShadow}),L.createElement("div",{style:f.triangle}),Uc(r,function(p){return L.createElement(i1e,{color:p,key:p,onClick:h,onSwatchHover:o})}))};nI.propTypes={width:pe.oneOfType([pe.string,pe.number]),colors:pe.arrayOf(pe.string),triangle:pe.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:pe.object};nI.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Pi(nI);var o1e=function(e){var n=e.direction,r=Ye({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return L.createElement("div",{style:r.picker})},s1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rI=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.hsl,s=e.direction,a=e.pointer,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,h=Ye(Ri({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},c)),p=function(x){return i({a:1,h:x.h,l:.5,s:1})};return L.createElement("div",{style:h.picker,className:"hue-picker "+f},L.createElement(hf,s1e({},h.hue,{hsl:o,pointer:a,onChange:p,direction:s})))};rI.propTypes={styles:pe.object};rI.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:o1e,styles:{}};Pi(rI);var a1e=function(e){var n=e.onChange,r=e.hex,i=e.rgb,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,c=Ye(Ri({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},s)),u=function(h,p){h.hex?Ml(h.hex)&&n({hex:h.hex,source:"hex"},p):(h.r||h.g||h.b)&&n({r:h.r||i.r,g:h.g||i.g,b:h.b||i.b,source:"rgb"},p)};return L.createElement(xg,{styles:s},L.createElement("div",{style:c.material,className:"material-picker "+l},L.createElement(Pt,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:r,onChange:u}),L.createElement("div",{style:c.split,className:"flexbox-fix"},L.createElement("div",{style:c.third},L.createElement(Pt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:i.r,onChange:u})),L.createElement("div",{style:c.third},L.createElement(Pt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:i.g,onChange:u})),L.createElement("div",{style:c.third},L.createElement(Pt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:i.b,onChange:u})))))};Pi(a1e);var l1e=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,o=e.hex,s=Ye({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(c,u){c["#"]?Ml(c["#"])&&n({hex:c["#"],source:"hex"},u):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},u):(c.h||c.s||c.v)&&n({h:c.h||i.h,s:c.s||i.s,v:c.v||i.v,source:"hsv"},u)};return L.createElement("div",{style:s.fields},L.createElement(Pt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),L.createElement(Pt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),L.createElement(Pt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),L.createElement("div",{style:s.divider}),L.createElement(Pt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:a}),L.createElement(Pt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:a}),L.createElement(Pt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:a}),L.createElement("div",{style:s.divider}),L.createElement(Pt,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"#",value:o.replace("#",""),onChange:a}),L.createElement("div",{style:s.fieldSymbols},L.createElement("div",{style:s.symbol},"°"),L.createElement("div",{style:s.symbol},"%"),L.createElement("div",{style:s.symbol},"%")))},c1e=function(e){var n=e.hsl,r=Ye({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return L.createElement("div",{style:r.picker})},u1e=function(){var e=Ye({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return L.createElement("div",{style:e.pointer},L.createElement("div",{style:e.left},L.createElement("div",{style:e.leftInside})),L.createElement("div",{style:e.right},L.createElement("div",{style:e.rightInside})))},KO=function(e){var n=e.onClick,r=e.label,i=e.children,o=e.active,s=Ye({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return L.createElement("div",{style:s.button,onClick:n},r||i)},d1e=function(e){var n=e.rgb,r=e.currentColor,i=Ye({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return L.createElement("div",null,L.createElement("div",{style:i.label},"new"),L.createElement("div",{style:i.swatches},L.createElement("div",{style:i.new}),L.createElement("div",{style:i.current})),L.createElement("div",{style:i.label},"current"))},f1e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function h1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p1e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function g1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var iI=function(t){g1e(e,t);function e(n){h1e(this,e);var r=p1e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return f1e(e,[{key:"render",value:function(){var r=this.props,i=r.styles,o=i===void 0?{}:i,s=r.className,a=s===void 0?"":s,l=Ye(Ri({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},o));return L.createElement("div",{style:l.picker,className:"photoshop-picker "+a},L.createElement("div",{style:l.head},this.props.header),L.createElement("div",{style:l.body,className:"flexbox-fix"},L.createElement("div",{style:l.saturation},L.createElement(j_,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:c1e,onChange:this.props.onChange})),L.createElement("div",{style:l.hue},L.createElement(hf,{direction:"vertical",hsl:this.props.hsl,pointer:u1e,onChange:this.props.onChange})),L.createElement("div",{style:l.controls},L.createElement("div",{style:l.top,className:"flexbox-fix"},L.createElement("div",{style:l.previews},L.createElement(d1e,{rgb:this.props.rgb,currentColor:this.state.currentColor})),L.createElement("div",{style:l.actions},L.createElement(KO,{label:"OK",onClick:this.props.onAccept,active:!0}),L.createElement(KO,{label:"Cancel",onClick:this.props.onCancel}),L.createElement(l1e,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(L.Component);iI.propTypes={header:pe.string,styles:pe.object};iI.defaultProps={header:"Color Picker",styles:{}};Pi(iI);var m1e=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.disableAlpha,a=Ye({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:s}),l=function(u,f){u.hex?Ml(u.hex)&&n({hex:u.hex,source:"hex"},f):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,a:r.a,source:"rgb"},f):u.a&&(u.a<0?u.a=0:u.a>100&&(u.a=100),u.a/=100,n({h:i.h,s:i.s,l:i.l,a:u.a,source:"rgb"},f))};return L.createElement("div",{style:a.fields,className:"flexbox-fix"},L.createElement("div",{style:a.double},L.createElement(Pt,{style:{input:a.input,label:a.label},label:"hex",value:o.replace("#",""),onChange:l})),L.createElement("div",{style:a.single},L.createElement(Pt,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),L.createElement("div",{style:a.single},L.createElement(Pt,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),L.createElement("div",{style:a.single},L.createElement(Pt,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),L.createElement("div",{style:a.alpha},L.createElement(Pt,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},y1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NB=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=Ye({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(c,u){i({hex:c,source:"hex"},u)};return L.createElement("div",{style:s.colors,className:"flexbox-fix"},n.map(function(l){var c=typeof l=="string"?{color:l}:l,u=""+c.color+(c.title||"");return L.createElement("div",{key:u,style:s.swatchWrap},L.createElement(Vc,y1e({},c,{style:s.swatch,onClick:a,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+c.color}})))}))};NB.propTypes={colors:pe.arrayOf(pe.oneOfType([pe.string,pe.shape({color:pe.string,title:pe.string})])).isRequired};var v1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oI=function(e){var n=e.width,r=e.rgb,i=e.hex,o=e.hsv,s=e.hsl,a=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,u=e.presetColors,f=e.renderers,h=e.styles,p=h===void 0?{}:h,g=e.className,x=g===void 0?"":g,S=Ye(Ri({default:v1e({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:c});return L.createElement("div",{style:S.picker,className:"sketch-picker "+x},L.createElement("div",{style:S.saturation},L.createElement(j_,{style:S.Saturation,hsl:s,hsv:o,onChange:a})),L.createElement("div",{style:S.controls,className:"flexbox-fix"},L.createElement("div",{style:S.sliders},L.createElement("div",{style:S.hue},L.createElement(hf,{style:S.Hue,hsl:s,onChange:a})),L.createElement("div",{style:S.alpha},L.createElement(VT,{style:S.Alpha,rgb:r,hsl:s,renderers:f,onChange:a}))),L.createElement("div",{style:S.color},L.createElement(ff,null),L.createElement("div",{style:S.activeColor}))),L.createElement(m1e,{rgb:r,hsl:s,hex:i,onChange:a,disableAlpha:c}),L.createElement(NB,{colors:u,onClick:a,onSwatchHover:l}))};oI.propTypes={disableAlpha:pe.bool,width:pe.oneOfType([pe.string,pe.number]),styles:pe.object};oI.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};Pi(oI);var Hf=function(e){var n=e.hsl,r=e.offset,i=e.onClick,o=i===void 0?function(){}:i,s=e.active,a=e.first,l=e.last,c=Ye({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:a,last:l}),u=function(h){return o({h:n.h,s:.5,l:r,source:"hsl"},h)};return L.createElement("div",{style:c.swatch,onClick:u})},_1e=function(e){var n=e.onClick,r=e.hsl,i=Ye({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return L.createElement("div",{style:i.swatches},L.createElement("div",{style:i.swatch},L.createElement(Hf,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<o&&Math.abs(r.s-.5)<o,onClick:n,first:!0})),L.createElement("div",{style:i.swatch},L.createElement(Hf,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<o&&Math.abs(r.s-.5)<o,onClick:n})),L.createElement("div",{style:i.swatch},L.createElement(Hf,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<o&&Math.abs(r.s-.5)<o,onClick:n})),L.createElement("div",{style:i.swatch},L.createElement(Hf,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<o&&Math.abs(r.s-.5)<o,onClick:n})),L.createElement("div",{style:i.swatch},L.createElement(Hf,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<o&&Math.abs(r.s-.5)<o,onClick:n,last:!0})),L.createElement("div",{style:i.clear}))},b1e=function(){var e=Ye({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return L.createElement("div",{style:e.picker})},sI=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,c=Ye(Ri({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},s));return L.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},L.createElement("div",{style:c.hue},L.createElement(hf,{style:c.Hue,hsl:n,pointer:i,onChange:r})),L.createElement("div",{style:c.swatches},L.createElement(_1e,{hsl:n,onClick:r})))};sI.propTypes={styles:pe.object};sI.defaultProps={pointer:b1e,styles:{}};Pi(sI);var MB={};Object.defineProperty(MB,"__esModule",{value:!0});var YO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w1e=w,XO=x1e(w1e);function x1e(t){return t&&t.__esModule?t:{default:t}}function E1e(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var Cm=24,S1e=MB.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?Cm:r,o=t.height,s=o===void 0?Cm:o,a=t.style,l=a===void 0?{}:a,c=E1e(t,["fill","width","height","style"]);return XO.default.createElement("svg",YO({viewBox:"0 0 "+Cm+" "+Cm,style:YO({fill:n,width:i,height:s},l)},c),XO.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},C1e=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.first,a=e.last,l=e.active,c=Ye({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:KT(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:s,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return L.createElement(Vc,{color:n,style:c.color,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},L.createElement("div",{style:c.check},L.createElement(S1e,null)))},T1e=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,o=e.active,s=Ye({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return L.createElement("div",{style:s.group},Uc(i,function(a,l){return L.createElement(C1e,{key:a,color:a,active:a.toLowerCase()===o,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},aI=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.onSwatchHover,s=e.colors,a=e.hex,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,h=Ye(Ri({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),p=function(x,S){return i({hex:x,source:"hex"},S)};return L.createElement("div",{style:h.picker,className:"swatches-picker "+f},L.createElement(xg,null,L.createElement("div",{style:h.overflow},L.createElement("div",{style:h.body},Uc(s,function(g){return L.createElement(T1e,{key:g.toString(),group:g,active:a,onClick:p,onSwatchHover:o})}),L.createElement("div",{style:h.clear})))))};aI.propTypes={width:pe.oneOfType([pe.string,pe.number]),height:pe.oneOfType([pe.string,pe.number]),colors:pe.arrayOf(pe.arrayOf(pe.string)),styles:pe.object};aI.defaultProps={width:320,height:240,colors:[[gu[900],gu[700],gu[500],gu[300],gu[100]],[mu[900],mu[700],mu[500],mu[300],mu[100]],[yu[900],yu[700],yu[500],yu[300],yu[100]],[vu[900],vu[700],vu[500],vu[300],vu[100]],[_u[900],_u[700],_u[500],_u[300],_u[100]],[bu[900],bu[700],bu[500],bu[300],bu[100]],[wu[900],wu[700],wu[500],wu[300],wu[100]],[xu[900],xu[700],xu[500],xu[300],xu[100]],[Eu[900],Eu[700],Eu[500],Eu[300],Eu[100]],["#194D33",ah[700],ah[500],ah[300],ah[100]],[Su[900],Su[700],Su[500],Su[300],Su[100]],[Cu[900],Cu[700],Cu[500],Cu[300],Cu[100]],[Tu[900],Tu[700],Tu[500],Tu[300],Tu[100]],[Iu[900],Iu[700],Iu[500],Iu[300],Iu[100]],[Ru[900],Ru[700],Ru[500],Ru[300],Ru[100]],[Pu[900],Pu[700],Pu[500],Pu[300],Pu[100]],[ku[900],ku[700],ku[500],ku[300],ku[100]],[Au[900],Au[700],Au[500],Au[300],Au[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Pi(aI);var lI=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,h=Ye(Ri({default:{card:{width:s,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),p=function(x,S){Ml(x)&&n({hex:x,source:"hex"},S)};return L.createElement("div",{style:h.card,className:"twitter-picker "+f},L.createElement("div",{style:h.triangleShadow}),L.createElement("div",{style:h.triangle}),L.createElement("div",{style:h.body},Uc(o,function(g,x){return L.createElement(Vc,{key:x,color:g,hex:g,style:h.swatch,onClick:p,onHover:r,focusStyle:{boxShadow:"0 0 4px "+g}})}),L.createElement("div",{style:h.hash},"#"),L.createElement(Pt,{label:null,style:{input:h.input},value:i.replace("#",""),onChange:p}),L.createElement("div",{style:h.clear})))};lI.propTypes={width:pe.oneOfType([pe.string,pe.number]),triangle:pe.oneOf(["hide","top-left","top-right"]),colors:pe.arrayOf(pe.string),styles:pe.object};lI.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Pi(lI);var cI=function(e){var n=Ye({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return L.createElement("div",{style:n.picker})};cI.propTypes={hsl:pe.shape({h:pe.number,s:pe.number,l:pe.number,a:pe.number})};cI.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var uI=function(e){var n=Ye({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return L.createElement("div",{style:n.picker})};uI.propTypes={hsl:pe.shape({h:pe.number,s:pe.number,l:pe.number,a:pe.number})};uI.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var I1e=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.hsv,a=function(p,g){if(p.hex)Ml(p.hex)&&n({hex:p.hex,source:"hex"},g);else if(p.rgb){var x=p.rgb.split(",");xw(p.rgb,"rgb")&&n({r:x[0],g:x[1],b:x[2],a:1,source:"rgb"},g)}else if(p.hsv){var S=p.hsv.split(",");xw(p.hsv,"hsv")&&(S[2]=S[2].replace("%",""),S[1]=S[1].replace("%",""),S[0]=S[0].replace("°",""),S[1]==1?S[1]=.01:S[2]==1&&(S[2]=.01),n({h:Number(S[0]),s:Number(S[1]),v:Number(S[2]),source:"hsv"},g))}else if(p.hsl){var y=p.hsl.split(",");xw(p.hsl,"hsl")&&(y[2]=y[2].replace("%",""),y[1]=y[1].replace("%",""),y[0]=y[0].replace("°",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),n({h:Number(y[0]),s:Number(y[1]),v:Number(y[2]),source:"hsl"},g))}},l=Ye({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=r.r+", "+r.g+", "+r.b,u=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",f=Math.round(s.h)+"°, "+Math.round(s.s*100)+"%, "+Math.round(s.v*100)+"%";return L.createElement("div",{style:l.wrap,className:"flexbox-fix"},L.createElement("div",{style:l.fields},L.createElement("div",{style:l.double},L.createElement(Pt,{style:{input:l.input,label:l.label},label:"hex",value:o,onChange:a})),L.createElement("div",{style:l.column},L.createElement("div",{style:l.single},L.createElement(Pt,{style:{input:l.input2,label:l.label2},label:"rgb",value:c,onChange:a})),L.createElement("div",{style:l.single},L.createElement(Pt,{style:{input:l.input2,label:l.label2},label:"hsv",value:f,onChange:a})),L.createElement("div",{style:l.single},L.createElement(Pt,{style:{input:l.input2,label:l.label2},label:"hsl",value:u,onChange:a})))))},dI=function(e){var n=e.width,r=e.onChange,i=e.rgb,o=e.hsl,s=e.hsv,a=e.hex,l=e.header,c=e.styles,u=c===void 0?{}:c,f=e.className,h=f===void 0?"":f,p=Ye(Ri({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},u));return L.createElement("div",{style:p.picker,className:"google-picker "+h},L.createElement("div",{style:p.head},l),L.createElement("div",{style:p.swatch}),L.createElement("div",{style:p.saturation},L.createElement(j_,{hsl:o,hsv:s,pointer:cI,onChange:r})),L.createElement("div",{style:p.body},L.createElement("div",{style:p.controls,className:"flexbox-fix"},L.createElement("div",{style:p.hue},L.createElement(hf,{style:p.Hue,hsl:o,radius:"4px",pointer:uI,onChange:r}))),L.createElement(I1e,{rgb:i,hsl:o,hex:a,hsv:s,onChange:r})))};dI.propTypes={width:pe.oneOfType([pe.string,pe.number]),styles:pe.object,header:pe.string};dI.defaultProps={width:652,styles:{},header:"Color picker"};Pi(dI);const R1e=Yn(A.jsx("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"})),P1e=Yn(A.jsx("path",{d:"m7 10 5 5 5-5z"})),k1e=Yn(A.jsx("path",{d:"m7 14 5-5 5 5z"})),A1e=Yn(A.jsx("path",{d:"M7 5h2V3H7zm0 8h2v-2H7zm0 8h2v-2H7zm4-4h2v-2h-2zm0 4h2v-2h-2zm-8 0h2v-2H3zm0-4h2v-2H3zm0-4h2v-2H3zm0-4h2V7H3zm0-4h2V3H3zm8 8h2v-2h-2zm8 4h2v-2h-2zm0-4h2v-2h-2zm0 8h2v-2h-2zm0-12h2V7h-2zm-8 0h2V7h-2zm8-6v2h2V3zm-8 2h2V3h-2zm4 16h2v-2h-2zm0-8h2v-2h-2zm0-8h2V3h-2z"})),O1e=Yn(A.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),QO=Yn(A.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"})),N1e=Yn(A.jsx("path",{d:"M7 15v2h10v-2zm-4 6h18v-2H3zm0-8h18v-2H3zm4-6v2h10V7zM3 3v2h18V3z"})),M1e=Yn(A.jsx("path",{d:"M15 15H3v2h12zm0-8H3v2h12zM3 13h18v-2H3zm0 8h18v-2H3zM3 3v2h18V3z"})),D1e=Yn(A.jsx("path",{d:"M3 21h18v-2H3zm6-4h12v-2H9zm-6-4h18v-2H3zm6-4h12V7H9zM3 3v2h18V3z"})),$1e=Yn(A.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"})),L1e=Yn(A.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"})),F1e=Yn(A.jsx("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6m-7 2v2h14v-2z"})),Tm=async t=>{const e=ME(),n=kE(e,`Settings/${t}`);try{const r=await _ae(n);if(r.exists())return r.val();throw new Error("API key not found in database")}catch(r){throw console.error("Error fetching API key:",r),r}},B1e=({localCursor:t,canvasCenter:e,mergeMindMapData:n,isChatOpen:r,setIsChatOpen:i})=>{const[o,s]=w.useState(""),[a,l]=w.useState(!1),[c,u]=w.useState([]),f=async y=>{const b=await Tm("Key"),_=await Tm("prompt1"),C=await Tm("model"),O=await Tm("modelMax");if(!b)throw console.error("No API key found. Ensure VITE_OPENAI_API_KEY is set."),new Error("API key missing");const N=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({model:C,messages:[{role:"system",content:_},{role:"user",content:y}],temperature:.7,max_tokens:O})});if(!N.ok){const R=await N.text();throw console.error("API error details:",N.status,R),new Error(`OpenAI API error: ${N.statusText}`)}const I=(await N.json()).choices[0].message.content.trim();console.log("Raw content from AI:",I);try{return JSON.parse(I)}catch(R){throw console.error("Error parsing JSON:",R),console.log("Raw content:",I),R}},h=async y=>{if(o.trim()&&!a){l(!0),u(b=>[...b,{from:"user",text:o}]);try{const b=await f(o);u(C=>[...C,{from:"ai",text:"Generated mind map JSON",json:b}]),await n(b,y?t:e,x)}catch(b){console.error("Error calling OpenAI API:",b),u(_=>[..._,{from:"ai",text:"Error generating mind map"}])}finally{l(!1),s("")}}},p=y=>{y.key==="Enter"&&(y.preventDefault(),h(!0))},g=y=>{h(!1)},[x,S]=w.useState("bottomLay");return A.jsxs("div",{style:{position:"fixed",bottom:r?"0":"-270px",left:"0",width:"300px",height:"300px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0.66) 0%, #0f1011 100%)",color:"#fff",borderTopRightRadius:"8px",transition:"bottom 0.3s ease",display:"flex",flexDirection:"column",zIndex:1e3},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px 8px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0.66) 0%,rgb(27, 29, 31) 100%)",borderTopRightRadius:"8px"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>i(y=>!y),children:[r?A.jsx(P1e,{}):A.jsx(k1e,{}),A.jsx("span",{style:{marginLeft:"4px",fontWeight:"bold"},children:"MindMap Maker (Ai)"})]}),A.jsx(O1e,{style:{cursor:"pointer"},onClick:()=>i(!1)})]}),A.jsx("div",{style:{flex:1,padding:"8px",overflowY:"auto",fontSize:"0.9rem"},children:c.map((y,b)=>A.jsxs("div",{style:{marginBottom:"4px"},children:[A.jsx("strong",{children:y.from==="user"?"You:":"AI:"})," ",y.text]},b))}),A.jsx("div",{style:{width:"16%",marginLeft:"83%",marginTop:"22%",background:"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)",color:"white",borderRadius:"8px",position:"absolute"},children:A.jsx("paper",{children:A.jsxs(vE,{value:x,exclusive:!0,onChange:(y,b)=>{b!==null&&S(b)},orientation:"vertical","aria-label":"text alignment",color:"info",size:"small",sx:{mx:.5,my:.5,background:"radial-gradient(circle at center,rgba(36, 39, 43, 0.5) 0%,rgba(108, 115, 121, 0.73) 130%)"},children:[A.jsx(js,{value:"bottomLay","aria-label":"bottomLay",style:{transform:"rotate(180deg)"},children:A.jsx(QO,{})}),A.jsx(js,{value:"rightLay","aria-label":"rightLay",style:{transform:"rotate(90deg)"},children:A.jsx(QO,{})}),A.jsx(js,{value:"centerLay","aria-label":"centerLay",children:A.jsx(A1e,{})})]})})}),A.jsxs("div",{style:{padding:"7px",display:"flex"},children:[A.jsx(Ad,{value:o,onChange:y=>s(y.target.value),onKeyDown:p,variant:"filled",size:"small",placeholder:"Enter prompt...",InputProps:{style:{background:"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)",color:"#fff"}},fullWidth:!0}),A.jsx(Wn,{variant:"contained",onClick:g,disabled:a,style:{marginLeft:"4px",background:"radial-gradient(circle at center,rgba(29, 32, 34, .5) 0%,rgba(56, 60, 63, 0.73) 130%)"},children:a?"...":"Send"})]})]})},$r=100,jn=40,JO=.1,Im=5,ZO=.1,V1e=(t,e,n)=>Math.min(Math.max(t,e),n),or=typeof window<"u"&&(window.innerWidth<768||/Mobi|Android/i.test(navigator.userAgent)),U1e=()=>{const{id:t}=Kj(),[e,n]=w.useState([]),[r,i]=w.useState([]),[o,s]=w.useState(null),[a,l]=w.useState(""),[c,u]=w.useState(!1),[f,h]=w.useState(null),[p,g]=w.useState([]),[x,S]=w.useState(null),[y,b]=w.useState([]),[_,C]=w.useState(null),[O,N]=w.useState(!1),[E,I]=w.useState(null),[R,v]=w.useState(null),[k,M]=w.useState([]),[P,Y]=w.useState({x:0,y:0}),[H,W]=w.useState([]),ne=w.useRef({x:0,y:0}),[j,F]=w.useState(1),[K,re]=w.useState({x:0,y:0}),ue=w.useRef({x:0,y:0}),ge=w.useRef({x:0,y:0}),ie=w.useRef(j),oe=w.useRef(K),[Ve,Le]=w.useState(null),[Ne,$e]=w.useState([]),[me,Fe]=w.useState([]),Ae=w.useRef(null),Oe=w.useRef(null),[je,We]=w.useState("#1e1e1e"),[Nt,ye]=w.useState("#fff"),[It,He]=w.useState(""),[gt,at]=w.useState($r),[ke,nn]=w.useState(jn),[ot,xn]=w.useState("cursive"),[Et,_t]=w.useState(14),St=w.useRef({x:0,y:0}),Bt=w.useRef({}),[ut,Xe]=w.useState(!1),En=w.useRef({x:0,y:0}),[Bn,Gr]=w.useState({x:0,y:0}),xe=w.useRef(!1),Ie=y.length?e.find($=>$.id===y[0]):null,Yt=$=>{En.current=$,xe.current||(xe.current=!0,requestAnimationFrame(()=>{Gr({...En.current}),xe.current=!1}))},[Vn,qr]=w.useState("cursive"),[gr,Ir]=w.useState(14),[Un,ki]=w.useState([]),[rn,ro]=w.useState([]),[io,Ai]=w.useState("left"),[mr,_e]=w.useState("left"),[fe,lt]=w.useState("rectangle"),[et,Mt]=w.useState(0),[yr,si]=w.useState("#ff0000"),[vr,Po]=w.useState(!1),[Sn,mn]=w.useState(100),[ai,Os]=w.useState("#000000"),[J,X]=w.useState(1),[Ee,Qe]=w.useState(!1),[ct,$t]=w.useState("#ff0000"),[yn,Rr]=w.useState(1),[jc,Dl]=w.useState(!1),[zc,Ns]=w.useState("none"),[ko,dt]=w.useState(1),[Kr,Ao]=w.useState("#ff0000");Un.includes("bold"),Un.includes("italic"),Un.includes("underline");const ts=[8,10,12,14,16,18,20,24,28,32],$l=w.useRef(null),[Ll,Wc]=w.useState(!1),[gf,Eg]=w.useState(!1),[ns,Hc]=w.useState({visible:!1,x:0,y:0,type:null}),Gc=()=>Hc({visible:!1,x:0,y:0,type:null}),Sg=$=>{if(Ll){$.preventDefault();return}if(y.length){Hc({visible:!0,x:$.clientX,y:$.clientY,type:"node"});return}$.target.closest(".mindmap-node")?Hc({visible:!0,x:$.clientX,y:$.clientY,type:"node"}):Hc({visible:!0,x:$.clientX,y:$.clientY,type:"canvas"})},Cg=()=>{re({x:0,y:0}),oe.current={x:0,y:0},F(1),ie.current=1,console.log("Reset pan/zoom"),Gc()};w.useEffect(()=>{const $=IW(ac,B=>{B&&(I(B.email),v(B.uid))});return()=>$()},[]),w.useEffect(()=>{if(!t)return;const $=Fr(ht(be,"mindMaps",t,"nodes")),B=xh($,z=>{const V=z.docs.map(G=>({id:G.id,...G.data()}));n(V)});return()=>B()},[t]),w.useEffect(()=>{if(!t)return;const $=Fr(ht(be,"mindMaps",t,"links")),B=xh($,z=>{const V=z.docs.map(G=>({id:G.id,...G.data()}));i(V)});return()=>B()},[t]),w.useEffect(()=>{if(!t||!R)return;const $=sn(be,"mindMaps",t,"presence",R);rk($,{email:E,lastActive:ev()},{merge:!0}).catch(console.error);const B=setInterval(()=>{rk($,{lastActive:ev()},{merge:!0}).catch(console.error)},5e3);return()=>{clearInterval(B),iF($).catch(console.error)}},[t,R,E]),w.useEffect(()=>{if(!t)return;const $=Fr(ht(be,"mindMaps",t,"presence")),B=xh($,z=>{const V=z.docs.map(G=>G.data());M(V)});return()=>B()},[t]),w.useEffect(()=>{if(!t||!R)return;const $=ME(),B=kE($,`mindMaps/${t}/cursors/${R}`),z=Ae.current;if(!z)return;const V=vm(ce=>{const ve=z.getBoundingClientRect(),Me=ce.clientX-ve.left,Te=ce.clientY-ve.top;ne.current={x:Me,y:Te},Y({x:Me,y:Te})},16);z.addEventListener("mousemove",V);const G=setInterval(()=>{document.hidden||OE(B,{...ne.current,email:E,lastActive:Date.now(),uid:R}).catch(console.error)},200),Z=()=>{document.hidden?B&&h2(B).catch(console.error):OE(B,{...ne.current,email:E,lastActive:Date.now(),uid:R}).catch(console.error)};return document.addEventListener("visibilitychange",Z),()=>{z.removeEventListener("mousemove",V),V.cancel(),clearInterval(G),document.removeEventListener("visibilitychange",Z),B&&h2(B).catch(console.error)}},[t,R,E]),w.useEffect(()=>{if(!t)return;const $=ME(),B=kE($,`mindMaps/${t}/cursors`),z=V=>{const G=V.val()||{},Z=Object.entries(G).map(([ce,ve])=>({uid:ce,...ve}));W(Z)};return wae(B,z,V=>{console.error("Error receiving remote cursor data:",V)}),()=>{xae(B,"value",z)}},[t]),w.useEffect(()=>{if(!Oe.current)return;const $=vm(B=>{const V=Oe.current.getBoundingClientRect(),G=(B.clientX-V.left-K.x)/j,Z=(B.clientY-V.top-K.y)/j;ne.current={x:G,y:Z},Y({x:G,y:Z})},16);return document.addEventListener("mousemove",$),()=>{document.removeEventListener("mousemove",$),$.cancel()}},[K,j]);const H_=($,B)=>{B.stopPropagation(),c?f?f===$.id?h(null):Br(ht(be,"mindMaps",t,"links"),{source:f,target:$.id}).then(()=>{h(null)}).catch(z=>{console.error("Error creating link:",z)}):h($.id):B.ctrlKey||B.metaKey?b(z=>z.includes($.id)?z.filter(V=>V!==$.id):[...z,$.id]):b([$.id])},rr=$=>{let B={};$?B=$:y.forEach(V=>{const G=e.find(Z=>Z.id===V);G&&(B[V]={...G})});const z=JSON.parse(JSON.stringify(B));Object.keys(z).length>0&&($e(V=>[...V,z]),Fe([]))},oo=$=>{if($){const B={[$.id]:{...$}};$e(z=>[...z,B]),Fe([])}},qc=async()=>{if(Ne.length===0)return;const $=Ne[Ne.length-1],B=$.nodes?$.nodes:$,z={};Object.keys(B).forEach(G=>{const Z=e.find(ce=>ce.id===G);Z&&(z[G]={...Z})}),Fe(G=>[...G,z]);const V=di(be);for(const G of Object.keys(B)){const Z=B[G],ce=sn(be,"mindMaps",t,"nodes",G);if(Z&&Z.isNew){V.delete(ce);const ve=Fr(ht(be,"mindMaps",t,"links"),Di("source","==",G));(await $i(ve)).docs.forEach(Be=>{const tt=sn(be,"mindMaps",t,"links",Be.id);V.delete(tt)});const Te=Fr(ht(be,"mindMaps",t,"links"),Di("target","==",G));(await $i(Te)).docs.forEach(Be=>{const tt=sn(be,"mindMaps",t,"links",Be.id);V.delete(tt)})}else Z&&V.set(ce,Z,{merge:!0})}try{await V.commit(),console.log("Batch undo successful")}catch(G){console.error("Error during batch undo:",G)}n(G=>G.filter(Z=>!(B[Z.id]&&B[Z.id].isNew))),$e(G=>G.slice(0,G.length-1))},Kc=async()=>{if(me.length===0)return;const $=me[me.length-1];console.log("Redo snapshot:",$);const B={};Object.keys($).forEach(V=>{const G=e.find(Z=>Z.id===V);G&&(B[V]={...G})}),$e(V=>[...V,B]);const z=di(be);Object.keys($).forEach(V=>{const G=sn(be,"mindMaps",t,"nodes",V);z.set(G,$[V],{merge:!0})});try{await z.commit(),console.log("Batch redo successful")}catch(V){console.error("Error during batch redo:",V)}n(V=>{const G=[...V];return Object.keys($).forEach(Z=>{const ce=G.findIndex(ve=>ve.id===Z);ce===-1?G.push({id:Z,...$[Z]}):G[ce]={...G[ce],...$[Z]}}),G}),Fe(V=>V.slice(0,V.length-1))},Tg=($,B)=>{if(B.button!==0)return;oo($),B.stopPropagation(),B.preventDefault();const z=B.clientX,V=B.clientY,G=$.width||$r,Z=$.height||jn;let ce=G,ve=Z;const Me=Se=>{const Be=Se.clientX-z,tt=Se.clientY-V;ce=Math.max(50,G+Be/j),ve=Math.max(20,Z+tt/j),n(jt=>jt.map(ze=>ze.id===$.id?{...ze,width:ce,height:ve}:ze))},Te=async()=>{document.removeEventListener("mousemove",Me),document.removeEventListener("mouseup",Te);try{const Se=sn(be,"mindMaps",t,"nodes",$.id);await hu(Se,{width:ce,height:ve})}catch(Se){console.error("Error updating node size:",Se)}};document.addEventListener("mousemove",Me),document.addEventListener("mouseup",Te)},Xt=()=>{F($=>{const B=Math.min(Im,$+ZO);return ie.current=B,B})},Yc=()=>{F($=>{const B=Math.max(JO,$-ZO);return ie.current=B,B})};w.useEffect(()=>{const $=Oe.current,B=Ae.current;if(!$||!B)return;const z=vm(V=>{let G=V.shiftKey?1.15:1.05;V.preventDefault();const Z=$.getBoundingClientRect(),ce=V.clientX-Z.left,ve=V.clientY-Z.top,Me=ie.current;let Te;V.deltaY<0?Te=Math.min(Im,Me*G):Te=Me/G;const Se={x:(ce-oe.current.x)/Me,y:(ve-oe.current.y)/Me},Be={x:ce-Se.x*Te,y:ve-Se.y*Te};F(Te),re(Be),ie.current=Te,oe.current=Be},8);return $.addEventListener("wheel",z,{passive:!1}),()=>{$.removeEventListener("wheel",z),z.cancel()}},[j,K]);const Fl=$=>{$.preventDefault()},ba=$=>{if($.button!==2)return;document.activeElement.tagName==="INPUT"||document.activeElement.tagName==="TEXTAREA"||$.preventDefault(),ue.current={...K},$l.current={x:$.clientX,y:$.clientY},ge.current={x:$.clientX,y:$.clientY};const z=vm(V=>{const G=V.clientX-ge.current.x,Z=V.clientY-ge.current.y;Math.sqrt(G*G+Z*Z)>15&&Wc(!0),requestAnimationFrame(()=>{const ve=V.clientX-ge.current.x,Me=V.clientY-ge.current.y,Te=ue.current.x+ve,Se=ue.current.y+Me;re({x:Te,y:Se}),oe.current={x:Te,y:Se}})},16);document.addEventListener("mousemove",z),document.addEventListener("mouseup",function V(){document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",V),z.cancel()})},G_=async()=>{if(t)try{const $=oe.current,B=ie.current,z=Oe.current.getBoundingClientRect(),V=250,G=50,Z=z.width-V,ce=z.height-G,ve=Z/2,Me=ce/2,Te=(ve-$.x)/B,Se=(Me-$.y)/B;await Br(ht(be,"mindMaps",t,"nodes"),{text:"New Node",x:Te,y:Se,width:$r,height:jn,lockedBy:null,typing:!1})}catch($){console.error("Error adding node:",$)}},Ig=async()=>{if(t)try{const $=P.x,B=P.y;await Br(ht(be,"mindMaps",t,"nodes"),{text:"New Node",x:$-$r/2,y:B-jn/2,width:$r,height:jn,lockedBy:null,typing:!1})}catch($){console.error("Error adding node:",$)}},q_=$=>{if(c||$.type==="image")return;if($.lockedBy&&$.lockedBy!==E){alert(`Node is currently locked by ${$.lockedBy}`);return}const B=sn(be,"mindMaps",t,"nodes",$.id);hu(B,{lockedBy:E,typing:!0}).catch(console.error),s($.id),l($.text)},K_=async $=>{try{y.includes($),rr();const B=sn(be,"mindMaps",t,"nodes",$);await hu(B,{text:a,lockedBy:null,typing:!1}),s(null),l("")}catch(B){console.error("Error updating node text:",B)}},Y_=$=>{const B=sn(be,"mindMaps",t,"nodes",$);hu(B,{typing:!0}).catch(console.error)};w.useEffect(()=>{const $=B=>{if(!(document.activeElement.tagName==="INPUT"||document.activeElement.tagName==="TEXTAREA")){if(B.ctrlKey&&B.key.toLowerCase()==="d"&&(B.preventDefault(),(async()=>{if(y.length>0){const V={};await Promise.all(y.map(async G=>{const Z=e.find(ce=>ce.id===G);if(Z){const ce={x:Z.x+50,y:Z.y+50},ve=await mf(Z,ce);ve&&(V[ve]={id:ve,isNew:!0})}})),console.log("Control-D group undo snapshot:",V),Object.keys(V).length>0&&rr(V)}})()),B.key.toLowerCase()==="f"){if(y.length===0)return;const z=e.filter(kt=>y.includes(kt.id));if(!z.length)return;let V=1/0,G=1/0,Z=-1/0,ce=-1/0;z.forEach(kt=>{const Rt=kt.width||$r,Yr=kt.height||jn;V=Math.min(V,kt.x),G=Math.min(G,kt.y),Z=Math.max(Z,kt.x+Rt),ce=Math.max(ce,kt.y+Yr)});const ve={x:(V+Z)/2,y:(G+ce)/2},Me=Oe.current.getBoundingClientRect(),Te=-125,Se=50,Be=Me.width-Te,tt=Me.height-Se,jt=.6,ze=Z-V,Ht=ce-G,ir=Be*jt/ze,Oi=tt*jt/Ht,li=Math.min(ir,Oi,Im),ci={x:Te+Be/2,y:Se+tt/2},Xn={x:ci.x-ve.x*li,y:ci.y-ve.y*li};F(li),ie.current=li,re(Xn),oe.current=Xn}!o&&y.length>0&&(B.key==="Backspace"||B.key==="Delete")&&(B.preventDefault(),window.confirm("Are you sure you want to delete the selected nodes?")&&(rr(),(async()=>{const z=di(be);for(const V of y){const G=sn(be,"mindMaps",t,"nodes",V);z.delete(G);const Z=Fr(ht(be,"mindMaps",t,"links"),Di("source","==",V));(await $i(Z)).docs.forEach(Te=>{const Se=sn(be,"mindMaps",t,"links",Te.id);z.delete(Se)});const ve=Fr(ht(be,"mindMaps",t,"links"),Di("target","==",V));(await $i(ve)).docs.forEach(Te=>{const Se=sn(be,"mindMaps",t,"links",Te.id);z.delete(Se)})}try{await z.commit(),console.log("Batch deletion (nodes and links) successful")}catch(V){console.error("Error deleting nodes and links:",V)}n(V=>V.filter(G=>!y.includes(G.id))),b([])})())),B.ctrlKey&&B.key.toLowerCase()==="z"&&(console.log("undo"),B.preventDefault(),qc()),B.ctrlKey&&B.key.toLowerCase()==="y"&&(B.preventDefault(),Kc())}};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[e,y,Ne,me]);const X_=($,B)=>$.x<B.x+B.width&&$.x+$.width>B.x&&$.y<B.y+B.height&&$.y+$.height>B.y,Bl=$=>{if(ut||$.button!==0)return;const B=Oe.current.getBoundingClientRect();N($.ctrlKey||$.metaKey);const z=($.clientX-B.left-K.x)/j,V=($.clientY-B.top-K.y)/j;C({startX:z,startY:V,x:z,y:V,width:0,height:0})},rs=$=>{if(!_||ut)return;const B=Oe.current.getBoundingClientRect(),z=($.clientX-B.left-K.x)/j,V=($.clientY-B.top-K.y)/j,G=Math.min(_.startX,z),Z=Math.min(_.startY,V),ce=Math.abs(z-_.startX),ve=Math.abs(V-_.startY),Me={..._,x:G,y:Z,width:ce,height:ve};C(Me);const Te=Ea.filter(Se=>{const Be={x:Se.x,y:Se.y,width:Se.width||$r,height:Se.height||jn};return X_(Be,Me)}).map(Se=>Se.id);y!=Te&&b(Te)},Rg=$=>{if(!_)return;const B=Ea.filter(z=>(z.width,z.height,z.x<_.x+_.width&&z.x+z.width>_.x&&z.y<_.y+_.height&&z.y+z.height>_.y)).map(z=>z.id);b(O?z=>{const V=[...z];return B.forEach(G=>{V.includes(G)?V.splice(V.indexOf(G),1):V.push(G)}),V}:B),C(null)},mf=async($,B)=>{if(!t)return null;const{id:z,...V}=$;let G;try{G=(await Br(ht(be,"mindMaps",t,"nodes"),{...V,x:B.x,y:B.y,lockedBy:null,typing:!1})).id;const ce=Fr(ht(be,"mindMaps",t,"links"),Di("source","==",z)),ve=await $i(ce);for(const Se of ve.docs){const Be=Se.data();await Br(ht(be,"mindMaps",t,"links"),{...Be,source:G})}const Me=Fr(ht(be,"mindMaps",t,"links"),Di("target","==",z)),Te=await $i(Me);for(const Se of Te.docs){const Be=Se.data();await Br(ht(be,"mindMaps",t,"links"),{...Be,target:G})}}catch(Z){return console.error("Error duplicating node and links:",Z),null}return G},yf=async($,B,z=null)=>{if(!t)return null;const{id:V,...G}=$;let Z;try{Z=(await Br(ht(be,"mindMaps",t,"nodes"),{...G,x:B.x,y:B.y,lockedBy:null,typing:!1})).id;const ve=Fr(ht(be,"mindMaps",t,"links"),Di("source","==",V)),Me=await $i(ve);for(const Be of Me.docs){const tt=Be.data(),jt=z&&z[tt.target]?z[tt.target]:null;jt&&await Br(ht(be,"mindMaps",t,"links"),{...tt,source:Z,target:jt})}const Te=Fr(ht(be,"mindMaps",t,"links"),Di("target","==",V)),Se=await $i(Te);for(const Be of Se.docs){const tt=Be.data(),jt=z&&z[tt.source]?z[tt.source]:null;jt&&await Br(ht(be,"mindMaps",t,"links"),{...tt,source:jt,target:Z})}}catch(ce){return console.error("Error duplicating node and links:",ce),null}return Z},wa=($,B)=>{const z={};$.forEach(G=>{z[G.id]=G});let V=!1;return B.forEach(G=>{const Z=z[G.target];Z&&(Z.parent===void 0||Z.parent===null)&&(Z.parent=G.source,V=!0)}),$.forEach(G=>{G.parent===void 0&&(G.parent=null,V=!0)}),{nodes:$,modified:V}},Q_=async($,B,z)=>{if(!$.nodes||!$.links)return;const{nodes:V}=wa($.nodes,$.links),G=z==="bottomLay"?_le(V,$.links,150,800,1.5):z==="rightLay"?wle(V,$.links,150,800,1.5):ble(V,$.links,150,800,1.5),{layout:Z,levelMap:ce}=G;let ve=1/0,Me=1/0,Te=-1/0,Se=-1/0;Object.values(Z).forEach(({x:kt,y:Rt})=>{kt<ve&&(ve=kt),Rt<Me&&(Me=Rt),kt>Te&&(Te=kt),Rt>Se&&(Se=Rt)});const Be=(ve+Te)/2,tt=(Me+Se)/2,jt=B.x-Be,ze=B.y-tt,Ht=["#2C3E50","#1ABC9C","#3498DB","#9B59B6","#E74C3C"],ir={},Oi={},li=di(be);for(const kt of V){const Rt=sn(ht(be,"mindMaps",t,"nodes")),Yr=Z[kt.id]||{x:0,y:0},Pr=ce[kt.id]||0,Ms=Pr%Ht.length,_r=Ht[Ms];let Ca=100,Zc=40,Ds=14;if(Pr===0){const m=kt.text?kt.text.length:0;Ca=Math.max(180,m*1.25),Zc=Math.max(60,m*1),Ds=28}else{const m=kt.text?kt.text.length:0;Ca=Math.max(100,m*1.1),Zc=Math.max(45,m*2)}const d={...kt,x:Yr.x+jt,y:Yr.y+ze,id:Rt.id,bgColor:kt.bgColor||_r,textColor:kt.textColor||"#ECF0F1",width:Ca,height:Zc,fontSize:Ds};ir[kt.id]=Rt.id,Oi[Rt.id]={newNodeData:d,isNew:!0},li.set(Rt,d)}await li.commit(),console.log("Undo snapshot (nodes):",ir);const ci={nodes:{...Oi}};rr(ci);const Xn=di(be);for(const kt of $.links){const Rt=ir[kt.source],Yr=ir[kt.target];if(!Rt||!Yr){console.error("Skipping link: missing mapping for source or target");continue}const Pr=sn(ht(be,"mindMaps",t,"links"));Xn.set(Pr,{...kt,source:Rt,target:Yr})}await Xn.commit(),console.log("Merged AI-generated mind map at drop position:",B)},J_=$=>{$.preventDefault()},Z_=async $=>{$.preventDefault();const B=$.dataTransfer.files;if(!B||B.length===0)return;const z=B[0],V=Oe.current.getBoundingClientRect(),G=oe.current,Z=ie.current,ce=($.clientX-V.left-G.x)/Z,ve=($.clientY-V.top-G.y)/Z,Me={};if(z.type==="application/json"||z.name.endsWith(".json"))try{const Te=await z.text(),Se=JSON.parse(Te);if(!Se.nodes||!Se.links)throw new Error("Invalid file format");let Be=1/0,tt=1/0,jt=-1/0,ze=-1/0;Se.nodes.forEach(Rt=>{Rt.x<Be&&(Be=Rt.x),Rt.y<tt&&(tt=Rt.y),Rt.x>jt&&(jt=Rt.x),Rt.y>ze&&(ze=Rt.y)});const Ht=(Be+jt)/2,ir=(tt+ze)/2,Oi=ce-Ht,li=ve-ir,ci={},Xn=di(be);Se.nodes.forEach(Rt=>{const Yr=Rt.id,Pr=sn(ht(be,"mindMaps",t,"nodes")),Ms={...Rt,x:Rt.x+Oi,y:Rt.y+li,id:Pr.id};Xn.set(Pr,Ms),ci[Yr]=Pr.id,Me[Pr.id]={id:Pr.id,isNew:!0}}),await Xn.commit();const kt=di(be);Se.links.forEach(Rt=>{const Yr=ci[Rt.source],Pr=ci[Rt.target];if(!Yr||!Pr){console.error("Skipping link: missing mapping for source or target");return}const{id:Ms,..._r}=Rt,Ca=sn(ht(be,"mindMaps",t,"links"));kt.set(Ca,{..._r,source:Yr,target:Pr})}),await kt.commit(),console.log("Imported mind map JSON file at cursor position using batch writes.")}catch(Te){console.error("Error importing mind map:",Te)}else if(z.type.startsWith("image/"))try{const Te=Date.now(),Se=z.name||"pastedImage.png",Be=`images/${Te}_${Se}`,tt=dk(fk,Be);await ck(tt,z);const jt=await uk(tt);await Br(ht(be,"mindMaps",t,"nodes"),{type:"image",imageUrl:jt,storagePath:Be,x:ce-60/ie.current*.5,y:ve-jn/ie.current*.5,width:60/ie.current,height:jn/ie.current,lockedBy:null,typing:!1}).then(ze=>{ze&&(Me[ze.id]={id:ze.id,isNew:!0})})}catch(Te){console.error("Error uploading image:",Te)}Object.keys(Me).length>0&&rr(Me)},so=async $=>{if(!o&&y.length>0){const B=e.filter(V=>y.includes(V.id)),z=JSON.stringify(B);if($.clipboardData)$.clipboardData.setData("application/json",z),$.clipboardData.setData("text/plain",z),$.preventDefault(),console.log("Copied nodes to clipboard:",B);else if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(z),console.log("Copied nodes to clipboard via navigator.clipboard:",B)}catch(V){console.error("Failed to copy nodes:",V)}else console.error("Clipboard API not available.")}};w.useEffect(()=>(document.addEventListener("copy",so),()=>document.removeEventListener("copy",so)),[y,e]);const vf=async()=>{if(!o)try{Gc();let $={},B=null,z=!1;if(navigator.clipboard.read){const V=await navigator.clipboard.read();for(const G of V)for(const Z of G.types)if(Z.startsWith("image/")){z=!0;const ce=await G.getType(Z);try{const ve=Date.now(),Me=ce.name||"pastedImage.png",Te=`images/${ve}_${Me}`,Se=dk(fk,Te);await ck(Se,ce);const Be=await uk(Se),tt=P.x,jt=P.y,ze=await Br(ht(be,"mindMaps",t,"nodes"),{type:"image",imageUrl:Be,storagePath:Te,x:tt-60/ie.current*.5,y:jt-jn/ie.current*.5,width:60/ie.current,height:jn/ie.current,lockedBy:null,typing:!1});ze&&($[ze.id]={id:ze.id,isNew:!0})}catch(ve){console.error("Error uploading pasted image:",ve)}break}if(!z){const Z=(await navigator.clipboard.readText()).trim();if(Z.startsWith("{")||Z.startsWith("["))try{B=JSON.parse(Z),Array.isArray(B)||(B=[B])}catch(ce){console.error("Error parsing JSON, falling back to plain text:",ce),B=null}}}else{const V=await navigator.clipboard.readText();try{B=JSON.parse(V),Array.isArray(B)||(B=[B])}catch{B=null}}if(B){const V=P.x,G=P.y;if(B.length===1){const Z=B[0],ce=Z.width||$r,ve=Z.height||jn,Me=Z.x+ce/2,Te=Z.y+ve/2,Se=V-Me,Be=G-Te,tt=await mf(Z,{x:Z.x+Se,y:Z.y+Be});tt&&($[tt]={id:tt,isNew:!0})}else{let Z=1/0,ce=1/0,ve=-1/0,Me=-1/0;B.forEach(ze=>{ze.x<Z&&(Z=ze.x),ze.y<ce&&(ce=ze.y),ze.x>ve&&(ve=ze.x),ze.y>Me&&(Me=ze.y)});const Te=(Z+ve)/2,Se=(ce+Me)/2,Be=V-Te,tt=G-Se,jt={};await Promise.all(B.map(async ze=>{const Ht={x:ze.x+Be,y:ze.y+tt},ir=await yf(ze,Ht,{});ir&&(jt[ze.id]=ir,$[ir]={id:ir,isNew:!0})})),await Promise.all(B.map(async ze=>{const Ht=jt[ze.id];if(!Ht)return;const ir=Fr(ht(be,"mindMaps",t,"links"),Di("source","==",ze.id)),Oi=await $i(ir);for(const li of Oi.docs){const ci=li.data(),Xn=jt[ci.target];Xn&&await Br(ht(be,"mindMaps",t,"links"),{...ci,source:Ht,target:Xn})}}))}}else{const V=await navigator.clipboard.readText();if(V.trim()!==""){const G=P.x,Z=P.y;try{const ce=await Br(ht(be,"mindMaps",t,"nodes"),{type:"text",text:V,x:G-$r/ie.current*.5,y:Z-jn/ie.current*.5,width:$r/ie.current,height:jn/ie.current,fontSize:Math.floor(14/ie.current*.5),lockedBy:null,typing:!1});ce&&($[ce.id]={id:ce.id,isNew:!0})}catch(ce){console.error("Error creating text node from pasted text:",ce)}}}Object.keys($).length>0&&rr($)}catch($){console.error("Error handling paste via context menu:",$)}};w.useEffect(()=>(window.addEventListener("paste",vf),()=>window.removeEventListener("paste",vf)),[t,P,oe,ie,Oe,yf,rr]);const eb=async()=>{if(!y.length)return;rr();const $={};if(Ie&&(Ie.bgColor!==je&&($.bgColor=je),Ie.textColor!==Nt&&($.textColor=Nt),Ie.fontSize!==Et&&($.fontSize=Et),JSON.stringify(Ie.textStyle)!==JSON.stringify(rn)&&($.textStyle=rn),Ie.textAlign!==mr&&($.textAlign=mr),Ie.fontFamily!==ot&&($.fontFamily=ot)),Object.keys($).length===0)return;const B=di(be);y.forEach(z=>{const V=sn(be,"mindMaps",t,"nodes",z);B.update(V,$)});try{await B.commit(),n(z=>z.map(V=>y.includes(V.id)?{...V,...$}:V))}catch(z){console.error("Error updating nodes:",z)}},Xc=async()=>{if(!(!y||y.length===0))try{const $=di(be);for(const B of y){const z=Fr(ht(be,"mindMaps",t,"links"),Di("source","==",B));(await $i(z)).docs.forEach(ce=>{const ve=sn(be,"mindMaps",t,"links",ce.id);$.delete(ve)});const G=Fr(ht(be,"mindMaps",t,"links"),Di("target","==",B));(await $i(G)).docs.forEach(ce=>{const ve=sn(be,"mindMaps",t,"links",ce.id);$.delete(ve)})}await $.commit(),console.log("All links removed from the selected nodes.")}catch($){console.error("Error removing links:",$)}};w.useEffect(()=>{Ie&&(We(Ie.bgColor||"#1e1e1e"),ye(Ie.textColor||"#fff"),_t(Ie.fontSize||"14"),ro(Ie.textStyle||[]),_e(Ie.textAlign||"left"),xn(Ie.fontFamily||"cursive"))},[Ie]);const Qc=()=>{const B=JSON.stringify({nodes:e,links:r},null,2),z=new Blob([B],{type:"application/json"}),V=URL.createObjectURL(z),G=document.createElement("a");G.href=V,G.download=`mindmap_${t}.json`,G.click(),URL.revokeObjectURL(V)},Pg=$=>Ve===$.id||y.includes($.id);w.useMemo(()=>r.map($=>{const B=e.find(Be=>Be.id===$.source),z=e.find(Be=>Be.id===$.target);if(!B||!z)return null;const V=B.width||$r,G=B.height||jn,Z=z.width||$r,ce=z.height||jn,ve=B.x+V/2,Me=B.y+G/2,Te=z.x+Z/2,Se=z.y+ce/2;return A.jsx("line",{x1:ve,y1:Me,x2:Te,y2:Se,stroke:"#fff",strokeWidth:"2"},$.id)}),[r,e]);const xa=()=>{const $=Date.now(),B=500;return H.filter(z=>z.uid!==R&&$-z.lastActive<B).map(z=>{const V=z.x*j+K.x,G=z.y*j+K.y;return A.jsx("div",{style:{position:"absolute",top:G,left:V,transform:"translate(-50%, -50%)",transition:"top 0.35s ease, left 0.35s ease",backgroundColor:"blue",color:"#fff",padding:"2px 4px",borderRadius:"4px",fontSize:"10px",pointerEvents:"none",zIndex:150},children:z.email},z.uid)})},Vl=()=>{if(!Oe.current)return{visibleLeft:0,visibleTop:0,visibleWidth:0,visibleHeight:0};const $=Oe.current.getBoundingClientRect(),B=-K.x/j,z=-K.y/j,V=$.width/j,G=$.height/j;return{visibleLeft:B,visibleTop:z,visibleWidth:V,visibleHeight:G}},Ea=w.useMemo(()=>{if(!Oe.current)return e;const{visibleLeft:$,visibleTop:B,visibleWidth:z,visibleHeight:V}=Vl(),G=100;return e.filter(Z=>{const ce=Z.width||$r,ve=Z.height||jn;return Z.x+ce>=$-G&&Z.x<=$+z+G&&Z.y+ve>=B-G&&Z.y<=B+V+G})},[e,K,j]),_f=w.useMemo(()=>{const $=new Set(Ea.map(B=>B.id));return r.filter(B=>$.has(B.source)||$.has(B.target))},[r,Ea]);w.useEffect(()=>{if(Ie&&(Ie.bgColor!==je||Ie.textColor!==Nt||Ie.fontSize!==Et||JSON.stringify(Ie.textStyle)!==JSON.stringify(rn)||Ie.textAlign!==mr||Ie.fontFamily!==ot)){const $=setTimeout(()=>{eb()},300);return()=>clearTimeout($)}},[je,Nt,Et,rn,mr,ot,Ie]);const vn=Zv(),tb=()=>!ns.visible||Ll?null:A.jsxs("div",{style:{position:"fixed",top:ns.y,left:ns.x,backgroundColor:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px",padding:"5px",zIndex:1e3,minWidth:"120px"},onContextMenu:$=>$.preventDefault(),children:[ns.type==="canvas"&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"context-menu-item",style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:$=>{vf()},children:"Paste"}),A.jsx("div",{className:"context-menu-item",style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:Cg,children:"Reset"})]}),ns.type==="node"&&A.jsx("div",{className:"context-menu-item",onMouseDown:$=>{so($)},children:"Copy"})]}),nb=()=>{if(!Oe.current)return{x:0,y:0};const $=Oe.current.getBoundingClientRect(),B=250,z=50,V=$.width-B,G=$.height-z,Z=B+V/2,ce=z+G/2,ve=(Z-oe.current.x)/ie.current,Me=(ce-oe.current.y)/ie.current;return{x:ve,y:Me}};w.useEffect(()=>{const $=()=>{ns.visible&&Gc()};return document.addEventListener("click",$),()=>document.removeEventListener("click",$)},[ns.visible]);const Oo=w.useRef(null),Sa=w.useRef(null),kg=$=>{if(or){if($.touches.length===1)Oo.current={x:$.touches[0].clientX,y:$.touches[0].clientY,pan:{...oe.current}};else if($.touches.length===2){const B=$.touches[0].clientX-$.touches[1].clientX,z=$.touches[0].clientY-$.touches[1].clientY;Sa.current=Math.sqrt(B*B+z*z),Oo.current=null}}},Jc=$=>{if(or){if($.touches.length===1&&Oo.current){const B=$.touches[0].clientX-Oo.current.x,z=$.touches[0].clientY-Oo.current.y,V={x:Oo.current.pan.x+B,y:Oo.current.pan.y+z};re(V),oe.current=V}else if($.touches.length===2&&Sa.current!==null){const B=$.touches[0].clientX-$.touches[1].clientX,z=$.touches[0].clientY-$.touches[1].clientY,V=Math.sqrt(B*B+z*z),G=V/Sa.current;let Z=V1e(ie.current*G,JO,Im);F(Z),ie.current=Z,Sa.current=V}}},Ag=$=>{or&&$.touches.length===0&&(Oo.current=null,Sa.current=null)};return A.jsxs("div",{style:{userSelect:"none",cursor:ut||Ll?"grabbing":"default",height:"100vh",position:"relative"},ref:Oe,onContextMenu:$=>$.preventDefault(),onMouseDown:$=>{if(!or&&$.target===Oe.current){if(Bl($),$.button!==2)return;ba($)}},onDoubleClick:$=>{or||$.target===Oe.current&&Ig()},onMouseMove:$=>{or||rs($)},onMouseUp:$=>{if(!or&&(Rg(),$.button===2)){if($l.current=null,document.activeElement.tagName==="INPUT"||document.activeElement.tagName==="TEXTAREA")return;Sg($),Ll&&(setTimeout(()=>Wc(!1),0),Gc())}},onDragOver:J_,onDrop:Z_,onTouchStart:kg,onTouchMove:Jc,onTouchEnd:Ag,children:[xa(),A.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,height:"50px",backgroundColor:"rgba(29,32,34,0.9)",background:"radial-gradient(circle at center, rgba(29,32,34,.4) 0%, rgba(15,16,17,.7) 100%)",display:"flex",alignItems:"center",padding:"0 20px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.4)",zIndex:300},children:[A.jsx(Wn,{variant:"contained",onClick:()=>vn("/dashboard"),style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:A.jsx(R1e,{})}),A.jsx(Wn,{variant:"contained",onClick:G_,style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:"Add Node"}),A.jsx(Wn,{variant:"contained",onClick:()=>{u($=>!$),h(null)},style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:c?"Exit Linking Mode":"Link Nodes"}),A.jsx(Wn,{variant:"contained",onClick:Qc,style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:"Export"}),A.jsx(Wn,{variant:"contained",onClick:Xt,style:{marginRight:"10px",background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:"Zoom In"}),A.jsx(Wn,{variant:"contained",onClick:Yc,style:{background:"radial-gradient(circle at center,rgba(29, 32, 34, 0) 0%,rgba(56, 60, 63, 0.53) 130%)"},children:"Zoom Out"}),c&&A.jsx(Fi,{variant:"body2",style:{color:"#fff",marginLeft:"10px"},children:f?"Select target node...":"Select source node..."})]}),!or&&A.jsx("div",{style:{position:"fixed",top:60,right:10,width:"250px",height:"calc(100% - 60px)",boxShadow:"0 2px 10px rgba(39, 39, 39, 0.6)",background:"radial-gradient(circle at center, #1D2022 0%, #0f1011 110%)",padding:"20px",boxSizing:"border-box",zIndex:300,overflowY:"auto",borderRadius:"8px"},onClick:$=>$.stopPropagation(),onMouseDown:$=>$.stopPropagation(),children:Ie?A.jsxs(A.Fragment,{children:[A.jsx(Fi,{variant:"h6",style:{marginBottom:"10px",color:"#fff",fontWeight:"bold",textAlign:"center"},children:"Customize Menu"}),A.jsx(Fi,{variant:"subtitle1",style:{marginBottom:"4px",color:"#ccc",fontWeight:400,fontFamily:"Arial"},children:"Font"}),A.jsxs(D1,{variant:"filled",size:"small",sx:{minWidth:210},style:{marginBottom:"10px"},children:[A.jsx(L1,{style:{color:"#ccc"},children:"Font"}),A.jsxs(g_,{value:ot,onChange:$=>xn($.target.value),style:{color:"#fff",backgroundColor:"#2b2b2b",width:"100%"},children:[A.jsx(Ua,{value:"cursive",children:"Cursive"}),A.jsx(Ua,{value:"Microsoft Yahei",children:"Microsoft Yahei"}),A.jsx(Ua,{value:"Arial",children:"Arial"}),A.jsx(Ua,{value:"Times New Roman",children:"Times New Roman"}),A.jsx(Ua,{value:"Courier New",children:"Courier New"})]})]}),A.jsx(Fi,{variant:"subtitle1",style:{marginBottom:"4px",color:"#ccc",fontWeight:400},children:"Font size"}),A.jsx(Jee,{freeSolo:!0,options:ts,getOptionLabel:$=>$.toString(),value:Et,onChange:($,B)=>{let z;typeof B=="number"?z=B:typeof B=="string"&&B.trim()!==""&&(z=parseInt(B,10)),isNaN(z)||_t(z)},onInputChange:($,B)=>{const z=parseInt(B,10);isNaN(z)||_t(z)},sx:{width:"100%","& .MuiInputBase-root":{color:"#fff"},"& .MuiFilledInput-root":{backgroundColor:"#2b2b2b"},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiAutocomplete-popupIndicator":{color:"#fff"}},renderInput:$=>A.jsx(Ad,{...$,label:"Font Size",variant:"filled",InputLabelProps:{style:{color:"#ccc"}}}),style:{marginBottom:"12px",boxShadow:"inset 0 0 4px rgba(0,0,0,0.6)",borderRadius:"6px",color:"white"}}),A.jsxs(vre,{direction:"column",spacing:1,sx:{alignItems:"center"},children:[A.jsxs(vE,{color:"primary",value:rn,onChange:($,B)=>ro(B),style:{backgroundColor:"#2b2b2b",marginBottom:"8px",borderRadius:"6px"},"aria-label":"text style",size:"small",children:[A.jsx(js,{value:"bold","aria-label":"bold",children:A.jsx($1e,{})}),A.jsx(js,{value:"italic","aria-label":"italic",children:A.jsx(L1e,{})}),A.jsx(js,{value:"underline","aria-label":"underline",children:A.jsx(F1e,{})})]}),A.jsxs(vE,{value:mr,color:"primary",exclusive:!0,onChange:($,B)=>{B!==null&&_e(B)},style:{backgroundColor:"#2b2b2b",borderRadius:"6px"},"aria-label":"text alignment",size:"small",children:[A.jsx(js,{value:"left","aria-label":"left",children:A.jsx(M1e,{})}),A.jsx(js,{value:"center","aria-label":"center",children:A.jsx(N1e,{})}),A.jsx(js,{value:"right","aria-label":"right",children:A.jsx(D1e,{})})]})]}),A.jsxs(kd,{component:"div",sx:{fontSize:"1rem",marginTop:"12px",color:"#ccc",fontWeight:400,fontFamily:"Arial"},variant:"subtitle1",children:["Background",A.jsx("input",{type:"color",value:je,onChange:$=>We($.target.value),style:{display:"block",width:"100%",height:"40px",marginTop:"5px",border:"none",backgroundColor:"transparent",padding:0,borderRadius:"6px",cursor:"pointer"}})]}),A.jsxs(kd,{component:"div",sx:{fontSize:"1rem",marginTop:"12px",color:"#ccc",fontWeight:400,fontFamily:"Arial"},variant:"subtitle1",children:["Font Color",A.jsx("input",{type:"color",value:Nt,onChange:$=>ye($.target.value),style:{display:"block",width:"100%",height:"40px",border:"none",background:"transparent",padding:0,marginTop:"5px",borderRadius:"6px",cursor:"pointer"}})]}),A.jsx(Wn,{variant:"contained",onClick:Xc,style:{marginTop:"30px",backgroundColor:"#a11",color:"#fff",width:"100%"},children:"Remove All Links"})]}):A.jsx(Fi,{variant:"body2",style:{color:"#fff"},children:"Select a node to customize..."})}),A.jsxs("div",{style:{position:"fixed",top:60,right:290,background:"radial-gradient(circle at center,rgba(29, 32, 34, 0.63) 0%, #0f1011 100%)",color:"#fff",padding:"8px",borderRadius:"4px",zIndex:250},children:[A.jsx(Fi,{variant:"caption",children:"Active Users:"}),k.map(($,B)=>A.jsx("div",{children:A.jsx(Fi,{variant:"caption",children:$.email})},B))]}),xa(),A.jsxs("div",{ref:Ae,onContextMenu:Fl,onMouseDown:ba,onClick:$=>{$.target===Ae.current&&b([])},style:{position:"absolute",top:0,left:0,width:".1px",height:".1px",overflow:"visible",transform:`translate(${K.x}px, ${K.y}px) scale(${j})`,transformOrigin:"top left"},children:[A.jsx("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",overflow:"visible"},children:_f.map($=>{const B=e.find(Be=>Be.id===$.source),z=e.find(Be=>Be.id===$.target);if(!B||!z)return null;const V=B.width||$r,G=B.height||jn,Z=z.width||$r,ce=z.height||jn,ve=B.x+V/2,Me=B.y+G/2,Te=z.x+Z/2,Se=z.y+ce/2;return A.jsx("line",{x1:ve,y1:Me,x2:Te,y2:Se,stroke:"rgba(255, 255, 255, 0.29)",strokeWidth:"5"},$.id)})}),Ea.map($=>A.jsx(vle,{node:$,zoom:ie.current,groupDelta:Bn,isHighlighted:Pg($),currentUserEmail:E,selectedNodes:y,editingNodeId:o,editedText:a,handleResizeMouseDown:or?()=>{}:Tg,handleNodeClick:or?()=>{}:H_,handleDoubleClick:or?()=>{}:q_,handleTyping:or?()=>{}:Y_,handleTextBlur:or?()=>{}:K_,setEditedText:or?()=>{}:l,setHoveredNodeId:or?()=>{}:Le,linkingSource:f,hoveredNodeId:Ve,onStart:or?()=>!1:(B,z)=>{if(o===$.id)return!1;Xe(!0);const V=Oe.current.getBoundingClientRect(),G=(B.clientX-V.left-oe.current.x)/ie.current,Z=(B.clientY-V.top-oe.current.y)/ie.current,ce=G-$.x,ve=Z-$.y;St.current={offsetX:ce,offsetY:ve,initialX:$.x,initialY:$.y},(y.length<1||y.length<2)&&oo($),y.length>1&&y.includes($.id)&&Object.keys(Bt.current).length===0&&y.forEach(Me=>{const Te=e.find(Se=>Se.id===Me);Te&&(Bt.current[Me]={x:Te.x,y:Te.y})})},onDrag:or?()=>{}:(B,z)=>{const V=Oe.current.getBoundingClientRect(),G=(B.clientX-V.left-oe.current.x)/ie.current,Z=(B.clientY-V.top-oe.current.y)/ie.current,ce=G-St.current.offsetX,ve=Z-St.current.offsetY;y.length>1&&y.includes($.id)?Yt({x:ce-St.current.initialX,y:ve-St.current.initialY}):n(Me=>Me.map(Te=>Te.id===$.id?{...Te,x:ce,y:ve}:Te))},onStop:or?()=>{}:async(B,z)=>{const V=Oe.current.getBoundingClientRect(),G=(B.clientX-V.left-oe.current.x)/ie.current,Z=(B.clientY-V.top-oe.current.y)/ie.current,ce=G-St.current.offsetX,ve=Z-St.current.offsetY;if(Math.sqrt(Math.pow(ce-St.current.initialX,2)+Math.pow(ve-St.current.initialY,2))<.01){Xe(!1);return}if(y.length>1){rr();const Se=ce-St.current.initialX,Be=ve-St.current.initialY,tt={};y.forEach(ze=>{const Ht=Bt.current[ze];Ht&&(tt[ze]={x:Ht.x+Se,y:Ht.y+Be})}),n(ze=>ze.map(Ht=>y.includes(Ht.id)&&tt[Ht.id]&&Ht.id!==$.id?{...Ht,x:tt[Ht.id].x,y:tt[Ht.id].y}:Ht));const jt=di(be);y.forEach(ze=>{if(tt[ze]){const Ht=sn(be,"mindMaps",t,"nodes",ze);jt.update(Ht,{x:tt[ze].x,y:tt[ze].y})}});try{await jt.commit()}catch(ze){console.error("Error updating nodes in batch:",ze)}Bt.current={},Gr({x:0,y:0})}else{n(Se=>Se.map(Be=>Be.id===$.id?{...Be,x:ce,y:ve}:Be));try{const Se=sn(be,"mindMaps",t,"nodes",$.id);await hu(Se,{x:ce,y:ve})}catch(Se){console.error("Error updating node position:",Se)}}Xe(!1)}},$.id)),_&&(()=>{const $=(_.width+_.height)/2,B=Math.max(1,$*.02);return A.jsx("svg",{style:{position:"absolute",left:_.x,top:_.y,width:_.width,height:_.height,pointerEvents:"none",zIndex:500},children:A.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"rgba(128,128,128,0.1)",stroke:"white",strokeWidth:B})})})()]}),A.jsx(tb,{}),A.jsx(B1e,{localCursor:P,canvasCenter:nb(),mergeMindMapData:Q_,isChatOpen:gf,setIsChatOpen:Eg})]})};function j1e(){return A.jsxs(c6,{children:[A.jsx(Vm,{path:"/",element:A.jsx(Zre,{})}),A.jsx(Vm,{path:"/dashboard",element:A.jsx(iie,{})}),A.jsx(Vm,{path:"/editor/:id",element:A.jsx(U1e,{})})]})}Sw.createRoot(document.getElementById("root")).render(A.jsx(O6,{children:A.jsx(j1e,{})}))});export default z1e();
